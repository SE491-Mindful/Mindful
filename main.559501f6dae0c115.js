var mU=Object.defineProperty,vU=Object.defineProperties,yU=Object.getOwnPropertyDescriptors,yP=Object.getOwnPropertySymbols,_U=Object.prototype.hasOwnProperty,EU=Object.prototype.propertyIsEnumerable,_P=(Nt,We,$)=>We in Nt?mU(Nt,We,{enumerable:!0,configurable:!0,writable:!0,value:$}):Nt[We]=$,EP=(Nt,We)=>{for(var $ in We||(We={}))_U.call(We,$)&&_P(Nt,$,We[$]);if(yP)for(var $ of yP(We))EU.call(We,$)&&_P(Nt,$,We[$]);return Nt},bP=(Nt,We)=>vU(Nt,yU(We));(self.webpackChunkClientApp=self.webpackChunkClientApp||[]).push([[179],{2011:(Nt,We,$)=>{"use strict";$.d(We,{Dh:()=>xe,GT:()=>Ce,cc:()=>U,hO:()=>F,on:()=>X,pX:()=>te,xv:()=>De});var h=$(5e3),P=$(127),R=$(1038);Nt=$.hmd(Nt);const G=["ngOnDestroy"],te=(oe,je,Qe,qe={})=>new Proxy(oe,{get:(Ye,$e)=>Qe.runOutsideAngular(()=>{var mt;if(oe[$e])return(null===(mt=null==qe?void 0:qe.spy)||void 0===mt?void 0:mt.get)&&qe.spy.get($e,oe[$e]),oe[$e];if(G.indexOf($e)>-1)return()=>{};const Te=je.toPromise().then(Re=>{const fe=Re&&Re[$e];return"function"==typeof fe?fe.bind(Re):fe&&fe.then?fe.then(Ie=>Qe.run(()=>Ie)):Qe.run(()=>fe)});return new Proxy(()=>{},{get:(Re,fe)=>Te[fe],apply:(Re,fe,Ie)=>Te.then(Oe=>{var Be;const Xe=Oe&&Oe(...Ie);return(null===(Be=null==qe?void 0:qe.spy)||void 0===Be?void 0:Be.apply)&&qe.spy.apply($e,Ie,Xe),Xe})})})}),Ce=(oe,je)=>{je.forEach(Qe=>{Object.getOwnPropertyNames(Qe.prototype||Qe).forEach(qe=>{Object.defineProperty(oe.prototype,qe,Object.getOwnPropertyDescriptor(Qe.prototype||Qe,qe))})})};class be{constructor(je){return je}}const xe=new h.OlP("angularfire2.app.options"),De=new h.OlP("angularfire2.app.name");function X(oe,je,Qe){const Ye="object"==typeof Qe&&Qe||{};Ye.name=Ye.name||"string"==typeof Qe&&Qe||"[DEFAULT]";const mt=P.Z.apps.filter(Te=>Te&&Te.name===Ye.name)[0]||je.runOutsideAngular(()=>P.Z.initializeApp(oe,Ye));try{JSON.stringify(oe)!==JSON.stringify(mt.options)&&de("error",`${mt.name} Firebase App already initialized with different options${Nt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Te){}return new be(mt)}const de=(oe,...je)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[oe](...je)},T={provide:be,useFactory:X,deps:[xe,h.R0b,[new h.FiY,De]]};let F=(()=>{class oe{constructor(Qe){P.Z.registerVersion("angularfire",R.q4.full,"core"),P.Z.registerVersion("angularfire",R.q4.full,"app-compat"),P.Z.registerVersion("angular",h.q4F.full,Qe.toString())}static initializeApp(Qe,qe){return{ngModule:oe,providers:[{provide:xe,useValue:Qe},{provide:De,useValue:qe}]}}}return oe.\u0275fac=function(Qe){return new(Qe||oe)(h.LFG(h.Lbi))},oe.\u0275mod=h.oAB({type:oe}),oe.\u0275inj=h.cJS({providers:[T]}),oe})();function U(oe,je,Qe,qe,Ye){const[,$e,mt]=globalThis.\u0275AngularfireInstanceCache.find(Te=>Te[0]===oe)||[];if($e)return function ie(oe,je){try{return oe.toString()===je.toString()}catch(Qe){return oe===je}}(Ye,mt)||(ce("error",`${je} was already initialized on the ${Qe} Firebase App with different settings.${me?" You may need to reload as Firebase is not HMR aware.":""}`),ce("warn",{is:Ye,was:mt})),$e;{const Te=qe();return globalThis.\u0275AngularfireInstanceCache.push([oe,Te,Ye]),Te}}const me=!!Nt.hot,ce=(oe,...je)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[oe](...je)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1038:(Nt,We,$)=>{"use strict";$.d(We,{q4:()=>Nd,iC:()=>ro,HU:()=>ar,vb:()=>ko,JM:()=>oa});var h=$(5e3),P=$(5867),R=$(5861),G=$(9681),te=$(2090),Ce=$(4859),be=$(1877);$(2833);const De="@firebase/remote-config",X="0.3.8",U=new te.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Qt{constructor(Z,we,ze,yt){this.client=Z,this.storage=we,this.storageCache=ze,this.logger=yt}isCachedDataFresh(Z,we){if(!we)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ze=Date.now()-we,yt=ze<=Z;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ze}. Cache max age millis (minimumFetchIntervalMillis setting): ${Z}. Is cache hit: ${yt}.`),yt}fetch(Z){var we=this;return(0,R.Z)(function*(){const[ze,yt]=yield Promise.all([we.storage.getLastSuccessfulFetchTimestampMillis(),we.storage.getLastSuccessfulFetchResponse()]);if(yt&&we.isCachedDataFresh(Z.cacheMaxAgeMillis,ze))return yt;Z.eTag=yt&&yt.eTag;const Tt=yield we.client.fetch(Z),cn=[we.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Tt.status&&cn.push(we.storage.setLastSuccessfulFetchResponse(Tt)),yield Promise.all(cn),Tt})()}}function Qn(K=navigator){return K.languages&&K.languages[0]||K.language}class It{constructor(Z,we,ze,yt,Tt,cn){this.firebaseInstallations=Z,this.sdkVersion=we,this.namespace=ze,this.projectId=yt,this.apiKey=Tt,this.appId=cn}fetch(Z){var we=this;return(0,R.Z)(function*(){const[ze,yt]=yield Promise.all([we.firebaseInstallations.getId(),we.firebaseInstallations.getToken()]),cn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${we.projectId}/namespaces/${we.namespace}:fetch?key=${we.apiKey}`,nr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":Z.eTag||"*"},Vt={sdk_version:we.sdkVersion,app_instance_id:ze,app_instance_id_token:yt,app_id:we.appId,language_code:Qn()},lr={method:"POST",headers:nr,body:JSON.stringify(Vt)},rr=fetch(cn,lr),Nn=new Promise((Tn,ks)=>{Z.signal.addEventListener(()=>{const dr=new Error("The operation was aborted.");dr.name="AbortError",ks(dr)})});let Qi;try{yield Promise.race([rr,Nn]),Qi=yield rr}catch(Tn){let ks="fetch-client-network";throw"AbortError"===Tn.name&&(ks="fetch-timeout"),U.create(ks,{originalErrorMessage:Tn.message})}let Yi=Qi.status;const io=Qi.headers.get("ETag")||void 0;let Ba,ot;if(200===Qi.status){let Tn;try{Tn=yield Qi.json()}catch(ks){throw U.create("fetch-client-parse",{originalErrorMessage:ks.message})}Ba=Tn.entries,ot=Tn.state}if("INSTANCE_STATE_UNSPECIFIED"===ot?Yi=500:"NO_CHANGE"===ot?Yi=304:("NO_TEMPLATE"===ot||"EMPTY_CONFIG"===ot)&&(Ba={}),304!==Yi&&200!==Yi)throw U.create("fetch-status",{httpStatus:Yi});return{status:Yi,eTag:io,config:Ba}})()}}class Vn{constructor(Z,we){this.client=Z,this.storage=we}fetch(Z){var we=this;return(0,R.Z)(function*(){const ze=(yield we.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return we.attemptFetch(Z,ze)})()}attemptFetch(Z,{throttleEndTimeMillis:we,backoffCount:ze}){var yt=this;return(0,R.Z)(function*(){yield function Ht(K,Z){return new Promise((we,ze)=>{const yt=Math.max(Z-Date.now(),0),Tt=setTimeout(we,yt);K.addEventListener(()=>{clearTimeout(Tt),ze(U.create("fetch-throttle",{throttleEndTimeMillis:Z}))})})}(Z.signal,we);try{const Tt=yield yt.client.fetch(Z);return yield yt.storage.deleteThrottleMetadata(),Tt}catch(Tt){if(!function zn(K){if(!(K instanceof te.ZR&&K.customData))return!1;const Z=Number(K.customData.httpStatus);return 429===Z||500===Z||503===Z||504===Z}(Tt))throw Tt;const cn={throttleEndTimeMillis:Date.now()+(0,te.$s)(ze),backoffCount:ze+1};return yield yt.storage.setThrottleMetadata(cn),yt.attemptFetch(Z,cn)}})()}}class Ae{constructor(Z,we,ze,yt,Tt){this.app=Z,this._client=we,this._storageCache=ze,this._storage=yt,this._logger=Tt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function _e(K,Z){const we=K.target.error||void 0;return U.create(Z,{originalErrorMessage:we&&we.message})}const Ve="app_namespace_store";class Pt{constructor(Z,we,ze,yt=function Ze(){return new Promise((K,Z)=>{try{const we=indexedDB.open("firebase_remote_config",1);we.onerror=ze=>{Z(_e(ze,"storage-open"))},we.onsuccess=ze=>{K(ze.target.result)},we.onupgradeneeded=ze=>{0===ze.oldVersion&&ze.target.result.createObjectStore(Ve,{keyPath:"compositeKey"})}}catch(we){Z(U.create("storage-open",{originalErrorMessage:we}))}})}()){this.appId=Z,this.appName=we,this.namespace=ze,this.openDbPromise=yt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(Z){return this.set("last_fetch_status",Z)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(Z){return this.set("last_successful_fetch_timestamp_millis",Z)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(Z){return this.set("last_successful_fetch_response",Z)}getActiveConfig(){return this.get("active_config")}setActiveConfig(Z){return this.set("active_config",Z)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(Z){return this.set("active_config_etag",Z)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(Z){return this.set("throttle_metadata",Z)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(Z){var we=this;return(0,R.Z)(function*(){const ze=yield we.openDbPromise;return new Promise((yt,Tt)=>{const nr=ze.transaction([Ve],"readonly").objectStore(Ve),Vt=we.createCompositeKey(Z);try{const lr=nr.get(Vt);lr.onerror=rr=>{Tt(_e(rr,"storage-get"))},lr.onsuccess=rr=>{const Nn=rr.target.result;yt(Nn?Nn.value:void 0)}}catch(lr){Tt(U.create("storage-get",{originalErrorMessage:lr&&lr.message}))}})})()}set(Z,we){var ze=this;return(0,R.Z)(function*(){const yt=yield ze.openDbPromise;return new Promise((Tt,cn)=>{const Vt=yt.transaction([Ve],"readwrite").objectStore(Ve),lr=ze.createCompositeKey(Z);try{const rr=Vt.put({compositeKey:lr,value:we});rr.onerror=Nn=>{cn(_e(Nn,"storage-set"))},rr.onsuccess=()=>{Tt()}}catch(rr){cn(U.create("storage-set",{originalErrorMessage:rr&&rr.message}))}})})()}delete(Z){var we=this;return(0,R.Z)(function*(){const ze=yield we.openDbPromise;return new Promise((yt,Tt)=>{const nr=ze.transaction([Ve],"readwrite").objectStore(Ve),Vt=we.createCompositeKey(Z);try{const lr=nr.delete(Vt);lr.onerror=rr=>{Tt(_e(rr,"storage-delete"))},lr.onsuccess=()=>{yt()}}catch(lr){Tt(U.create("storage-delete",{originalErrorMessage:lr&&lr.message}))}})})()}createCompositeKey(Z){return[this.appId,this.appName,this.namespace,Z].join()}}class on{constructor(Z){this.storage=Z}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var Z=this;return(0,R.Z)(function*(){const we=Z.storage.getLastFetchStatus(),ze=Z.storage.getLastSuccessfulFetchTimestampMillis(),yt=Z.storage.getActiveConfig(),Tt=yield we;Tt&&(Z.lastFetchStatus=Tt);const cn=yield ze;cn&&(Z.lastSuccessfulFetchTimestampMillis=cn);const nr=yield yt;nr&&(Z.activeConfig=nr)})()}setLastFetchStatus(Z){return this.lastFetchStatus=Z,this.storage.setLastFetchStatus(Z)}setLastSuccessfulFetchTimestampMillis(Z){return this.lastSuccessfulFetchTimestampMillis=Z,this.storage.setLastSuccessfulFetchTimestampMillis(Z)}setActiveConfig(Z){return this.activeConfig=Z,this.storage.setActiveConfig(Z)}}function wt(){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,R.Z)(function*(){if(!(0,te.hl)())return!1;try{return yield(0,te.eu)()}catch(K){return!1}})).apply(this,arguments)}!function fn(){(0,G._registerComponent)(new Ce.wA("remote-config",function K(Z,{instanceIdentifier:we}){const ze=Z.getProvider("app").getImmediate(),yt=Z.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw U.create("registration-window");if(!(0,te.hl)())throw U.create("indexed-db-unavailable");const{projectId:Tt,apiKey:cn,appId:nr}=ze.options;if(!Tt)throw U.create("registration-project-id");if(!cn)throw U.create("registration-api-key");if(!nr)throw U.create("registration-app-id");const Vt=new Pt(nr,ze.name,we=we||"firebase"),lr=new on(Vt),rr=new be.Yd(De);rr.logLevel=be.in.ERROR;const Nn=new It(yt,G.SDK_VERSION,we,Tt,cn,nr),Qi=new Vn(Nn,Vt),Yi=new Qt(Qi,Vt,lr,rr),io=new Ae(ze,Yi,lr,Vt,rr);return function mt(K){const Z=(0,te.m9)(K);Z._initializePromise||(Z._initializePromise=Z._storageCache.loadFromStorage().then(()=>{Z._isInitializationComplete=!0}))}(io),io},"PUBLIC").setMultipleInstances(!0)),(0,G.registerVersion)(De,X),(0,G.registerVersion)(De,X,"esm2017")}();var vt=$(8766);const Ot="/firebase-messaging-sw.js",Yn="/firebase-cloud-messaging-push-scope",_n="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",wn="google.c.a.c_id",Gn="google.c.a.c_l",ln="google.c.a.ts",un="google.c.a.e";var Mt=(()=>{return(K=Mt||(Mt={})).PUSH_RECEIVED="push-received",K.NOTIFICATION_CLICKED="notification-clicked",Mt;var K})();function Jn(K){const Z=new Uint8Array(K);return btoa(String.fromCharCode(...Z)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Sr(K){const we=(K+"=".repeat((4-K.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ze=atob(we),yt=new Uint8Array(ze.length);for(let Tt=0;Tt<ze.length;++Tt)yt[Tt]=ze.charCodeAt(Tt);return yt}const mn="fcm_token_details_db",er="fcm_token_object_Store";function Cn(K){return ue.apply(this,arguments)}function ue(){return ue=(0,R.Z)(function*(K){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Tt=>Tt.name).includes(mn))return null;let Z=null;return(yield(0,vt.X3)(mn,5,{upgrade:(ze=(0,R.Z)(function*(yt,Tt,cn,nr){var Vt;if(Tt<2||!yt.objectStoreNames.contains(er))return;const lr=nr.objectStore(er),rr=yield lr.index("fcmSenderId").get(K);if(yield lr.clear(),rr)if(2===Tt){const Nn=rr;if(!Nn.auth||!Nn.p256dh||!Nn.endpoint)return;Z={token:Nn.fcmToken,createTime:null!==(Vt=Nn.createTime)&&void 0!==Vt?Vt:Date.now(),subscriptionOptions:{auth:Nn.auth,p256dh:Nn.p256dh,endpoint:Nn.endpoint,swScope:Nn.swScope,vapidKey:"string"==typeof Nn.vapidKey?Nn.vapidKey:Jn(Nn.vapidKey)}}}else if(3===Tt){const Nn=rr;Z={token:Nn.fcmToken,createTime:Nn.createTime,subscriptionOptions:{auth:Jn(Nn.auth),p256dh:Jn(Nn.p256dh),endpoint:Nn.endpoint,swScope:Nn.swScope,vapidKey:Jn(Nn.vapidKey)}}}else if(4===Tt){const Nn=rr;Z={token:Nn.fcmToken,createTime:Nn.createTime,subscriptionOptions:{auth:Jn(Nn.auth),p256dh:Jn(Nn.p256dh),endpoint:Nn.endpoint,swScope:Nn.swScope,vapidKey:Jn(Nn.vapidKey)}}}}),function(Tt,cn,nr,Vt){return ze.apply(this,arguments)})})).close(),yield(0,vt.Lj)(mn),yield(0,vt.Lj)("fcm_vapid_details_db"),yield(0,vt.Lj)("undefined"),ve(Z)?Z:null;var ze}),ue.apply(this,arguments)}function ve(K){if(!K||!K.subscriptionOptions)return!1;const{subscriptionOptions:Z}=K;return"number"==typeof K.createTime&&K.createTime>0&&"string"==typeof K.token&&K.token.length>0&&"string"==typeof Z.auth&&Z.auth.length>0&&"string"==typeof Z.p256dh&&Z.p256dh.length>0&&"string"==typeof Z.endpoint&&Z.endpoint.length>0&&"string"==typeof Z.swScope&&Z.swScope.length>0&&"string"==typeof Z.vapidKey&&Z.vapidKey.length>0}const W="firebase-messaging-store";let le=null;function ae(){return le||(le=(0,vt.X3)("firebase-messaging-database",1,{upgrade:(K,Z)=>{0===Z&&K.createObjectStore(W)}})),le}function ge(K){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,R.Z)(function*(K){const Z=Se(K),ze=yield(yield ae()).transaction(W).objectStore(W).get(Z);if(ze)return ze;{const yt=yield Cn(K.appConfig.senderId);if(yt)return yield st(K,yt),yt}})).apply(this,arguments)}function st(K,Z){return ht.apply(this,arguments)}function ht(){return(ht=(0,R.Z)(function*(K,Z){const we=Se(K),yt=(yield ae()).transaction(W,"readwrite");return yield yt.objectStore(W).put(Z,we),yield yt.done,Z})).apply(this,arguments)}function ut(K){return jt.apply(this,arguments)}function jt(){return(jt=(0,R.Z)(function*(K){const Z=Se(K),ze=(yield ae()).transaction(W,"readwrite");yield ze.objectStore(W).delete(Z),yield ze.done})).apply(this,arguments)}function Se({appConfig:K}){return K.appId}const he=new te.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function et(K,Z){return bt.apply(this,arguments)}function bt(){return(bt=(0,R.Z)(function*(K,Z){const we=yield Rr(K),ze=Er(Z),yt={method:"POST",headers:we,body:JSON.stringify(ze)};let Tt;try{Tt=yield(yield fetch(hr(K.appConfig),yt)).json()}catch(cn){throw he.create("token-subscribe-failed",{errorInfo:cn})}if(Tt.error)throw he.create("token-subscribe-failed",{errorInfo:Tt.error.message});if(!Tt.token)throw he.create("token-subscribe-no-token");return Tt.token})).apply(this,arguments)}function Ut(K,Z){return nn.apply(this,arguments)}function nn(){return(nn=(0,R.Z)(function*(K,Z){const we=yield Rr(K),ze=Er(Z.subscriptionOptions),yt={method:"PATCH",headers:we,body:JSON.stringify(ze)};let Tt;try{Tt=yield(yield fetch(`${hr(K.appConfig)}/${Z.token}`,yt)).json()}catch(cn){throw he.create("token-update-failed",{errorInfo:cn})}if(Tt.error)throw he.create("token-update-failed",{errorInfo:Tt.error.message});if(!Tt.token)throw he.create("token-update-no-token");return Tt.token})).apply(this,arguments)}function Pn(K,Z){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,R.Z)(function*(K,Z){const ze={method:"DELETE",headers:yield Rr(K)};try{const Tt=yield(yield fetch(`${hr(K.appConfig)}/${Z}`,ze)).json();if(Tt.error)throw he.create("token-unsubscribe-failed",{errorInfo:Tt.error.message})}catch(yt){throw he.create("token-unsubscribe-failed",{errorInfo:yt})}})).apply(this,arguments)}function hr({projectId:K}){return`https://fcmregistrations.googleapis.com/v1/projects/${K}/registrations`}function Rr(K){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,R.Z)(function*({appConfig:K,installations:Z}){const we=yield Z.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":K.apiKey,"x-goog-firebase-installations-auth":`FIS ${we}`})})).apply(this,arguments)}function Er({p256dh:K,auth:Z,endpoint:we,vapidKey:ze}){const yt={web:{endpoint:we,auth:Z,p256dh:K}};return ze!==_n&&(yt.web.applicationPubKey=ze),yt}const ti=6048e5;function Ir(K){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,R.Z)(function*(K){const Z=yield Sn(K.swRegistration,K.vapidKey),we={vapidKey:K.vapidKey,swScope:K.swRegistration.scope,endpoint:Z.endpoint,auth:Jn(Z.getKey("auth")),p256dh:Jn(Z.getKey("p256dh"))},ze=yield ge(K.firebaseDependencies);if(ze){if(Dn(ze.subscriptionOptions,we))return Date.now()>=ze.createTime+ti?ye(K,{token:ze.token,createTime:Date.now(),subscriptionOptions:we}):ze.token;try{yield Pn(K.firebaseDependencies,ze.token)}catch(yt){console.warn(yt)}return dt(K.firebaseDependencies,we)}return dt(K.firebaseDependencies,we)})).apply(this,arguments)}function $r(K){return Et.apply(this,arguments)}function Et(){return(Et=(0,R.Z)(function*(K){const Z=yield ge(K.firebaseDependencies);Z&&(yield Pn(K.firebaseDependencies,Z.token),yield ut(K.firebaseDependencies));const we=yield K.swRegistration.pushManager.getSubscription();return!we||we.unsubscribe()})).apply(this,arguments)}function ye(K,Z){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,R.Z)(function*(K,Z){try{const we=yield Ut(K.firebaseDependencies,Z),ze=Object.assign(Object.assign({},Z),{token:we,createTime:Date.now()});return yield st(K.firebaseDependencies,ze),we}catch(we){throw yield $r(K),we}})).apply(this,arguments)}function dt(K,Z){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,R.Z)(function*(K,Z){const ze={token:yield et(K,Z),createTime:Date.now(),subscriptionOptions:Z};return yield st(K,ze),ze.token})).apply(this,arguments)}function Sn(K,Z){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,R.Z)(function*(K,Z){return(yield K.pushManager.getSubscription())||K.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Sr(Z)})})).apply(this,arguments)}function Dn(K,Z){return Z.vapidKey===K.vapidKey&&Z.endpoint===K.endpoint&&Z.auth===K.auth&&Z.p256dh===K.p256dh}function cr(K){const Z={from:K.from,collapseKey:K.collapse_key,messageId:K.fcmMessageId};return function Hr(K,Z){if(!Z.notification)return;K.notification={};const we=Z.notification.title;we&&(K.notification.title=we);const ze=Z.notification.body;ze&&(K.notification.body=ze);const yt=Z.notification.image;yt&&(K.notification.image=yt)}(Z,K),function en(K,Z){!Z.data||(K.data=Z.data)}(Z,K),function ls(K,Z){if(!Z.fcmOptions)return;K.fcmOptions={};const we=Z.fcmOptions.link;we&&(K.fcmOptions.link=we);const ze=Z.fcmOptions.analytics_label;ze&&(K.fcmOptions.analyticsLabel=ze)}(Z,K),Z}function di(K){return"object"==typeof K&&!!K&&wn in K}function Ln(K,Z){const we=[];for(let ze=0;ze<K.length;ze++)we.push(K.charAt(ze)),ze<Z.length&&we.push(Z.charAt(ze));return we.join("")}function Nr(K){return he.create("missing-app-config-values",{valueName:K})}Ln("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ln("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class us{constructor(Z,we,ze){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const yt=function Wi(K){if(!K||!K.options)throw Nr("App Configuration Object");if(!K.name)throw Nr("App Name");const Z=["projectId","apiKey","appId","messagingSenderId"],{options:we}=K;for(const ze of Z)if(!we[ze])throw Nr(ze);return{appName:K.name,projectId:we.projectId,apiKey:we.apiKey,appId:we.appId,senderId:we.messagingSenderId}}(Z);this.firebaseDependencies={app:Z,appConfig:yt,installations:we,analyticsProvider:ze}}_delete(){return Promise.resolve()}}function cs(K){return br.apply(this,arguments)}function br(){return(br=(0,R.Z)(function*(K){try{K.swRegistration=yield navigator.serviceWorker.register(Ot,{scope:Yn}),K.swRegistration.update().catch(()=>{})}catch(Z){throw he.create("failed-service-worker-registration",{browserErrorMessage:Z.message})}})).apply(this,arguments)}function Zn(K,Z){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,R.Z)(function*(K,Z){if(!Z&&!K.swRegistration&&(yield cs(K)),Z||!K.swRegistration){if(!(Z instanceof ServiceWorkerRegistration))throw he.create("invalid-sw-registration");K.swRegistration=Z}})).apply(this,arguments)}function Xo(K,Z){return ni.apply(this,arguments)}function ni(){return(ni=(0,R.Z)(function*(K,Z){Z?K.vapidKey=Z:K.vapidKey||(K.vapidKey=_n)})).apply(this,arguments)}function ea(){return(ea=(0,R.Z)(function*(K,Z){if(!navigator)throw he.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw he.create("permission-blocked");return yield Xo(K,null==Z?void 0:Z.vapidKey),yield Zn(K,null==Z?void 0:Z.serviceWorkerRegistration),Ir(K)})).apply(this,arguments)}function Ro(K,Z,we){return eo.apply(this,arguments)}function eo(){return(eo=(0,R.Z)(function*(K,Z,we){const ze=fi(Z);(yield K.firebaseDependencies.analyticsProvider.get()).logEvent(ze,{message_id:we[wn],message_name:we[Gn],message_time:we[ln],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function fi(K){switch(K){case Mt.NOTIFICATION_CLICKED:return"notification_open";case Mt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Oa(){return(Oa=(0,R.Z)(function*(K,Z){const we=Z.data;if(!we.isFirebaseMessaging)return;K.onMessageHandler&&we.messageType===Mt.PUSH_RECEIVED&&("function"==typeof K.onMessageHandler?K.onMessageHandler(cr(we)):K.onMessageHandler.next(cr(we)));const ze=we.data;di(ze)&&"1"===ze[un]&&(yield Ro(K,we.messageType,ze))})).apply(this,arguments)}const ta="@firebase/messaging",su=K=>{const Z=new us(K.getProvider("app").getImmediate(),K.getProvider("installations-internal").getImmediate(),K.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",we=>function ic(K,Z){return Oa.apply(this,arguments)}(Z,we)),Z},Id=K=>{const Z=K.getProvider("messaging").getImmediate();return{getToken:ze=>function ri(K,Z){return ea.apply(this,arguments)}(Z,ze)}};function Fa(){return na.apply(this,arguments)}function na(){return(na=(0,R.Z)(function*(){try{yield(0,te.eu)()}catch(K){return!1}return"undefined"!=typeof window&&(0,te.hl)()&&(0,te.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function qi(){(0,G._registerComponent)(new Ce.wA("messaging",su,"PUBLIC")),(0,G._registerComponent)(new Ce.wA("messaging-internal",Id,"PRIVATE")),(0,G.registerVersion)(ta,"0.9.13"),(0,G.registerVersion)(ta,"0.9.13","esm2017")}();var Rd=$(579),La=$(4408),tt=$(7565);const Ri=new class No extends tt.v{}(class xi extends La.o{constructor(Z,we){super(Z,we),this.scheduler=Z,this.work=we}schedule(Z,we=0){return we>0?super.schedule(Z,we):(this.delay=we,this.state=Z,this.scheduler.flush(this),this)}execute(Z,we){return we>0||this.closed?super.execute(Z,we):this._execute(Z,we)}requestAsyncId(Z,we,ze=0){return null!=ze&&ze>0||null==ze&&this.delay>0?super.requestAsyncId(Z,we,ze):Z.flush(this)}});var ra=$(4986),ii=$(8505),to=$(9468),ia=$(5363);const Nd=new h.GfV("7.3.0"),Zi="__angularfire_symbol__analyticsIsSupportedValue",xs="__angularfire_symbol__analyticsIsSupported",fs="__angularfire_symbol__remoteConfigIsSupportedValue",sa="__angularfire_symbol__remoteConfigIsSupported",Rs="__angularfire_symbol__messagingIsSupportedValue",Or="__angularfire_symbol__messagingIsSupported";function oa(K,Z,we){if(Z){if(1===Z.length)return Z[0];const Tt=Z.filter(cn=>cn.app===we);if(1===Tt.length)return Tt[0]}return we.container.getProvider(K).getImmediate({optional:!0})}globalThis[xs]||(globalThis[xs]=(0,Rd.Gb)().then(K=>globalThis[Zi]=K).catch(()=>globalThis[Zi]=!1)),globalThis[Or]||(globalThis[Or]=Fa().then(K=>globalThis[Rs]=K).catch(()=>globalThis[Rs]=!1)),globalThis[sa]||(globalThis[sa]=wt().then(K=>globalThis[fs]=K).catch(()=>globalThis[fs]=!1));const ko=(K,Z)=>{const we=Z?[Z]:(0,P.C6)(),ze=[];return we.forEach(yt=>{yt.container.getProvider(K).instances.forEach(cn=>{ze.includes(cn)||ze.push(cn)})}),ze};function Ki(){}class no{constructor(Z,we=Ri){this.zone=Z,this.delegate=we}now(){return this.delegate.now()}schedule(Z,we,ze){const yt=this.zone;return this.delegate.schedule(function(cn){yt.runGuarded(()=>{Z.apply(this,[cn])})},we,ze)}}class oc{constructor(Z){this.zone=Z,this.task=null}call(Z,we){const ze=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ki,{},Ki,Ki)),we.pipe((0,ii.b)({next:ze,complete:ze,error:ze})).subscribe(Z).add(ze)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ar=(()=>{class K{constructor(we){this.ngZone=we,this.outsideAngular=we.runOutsideAngular(()=>new no(Zone.current)),this.insideAngular=we.run(()=>new no(Zone.current,ra.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return K.\u0275fac=function(we){return new(we||K)(h.LFG(h.R0b))},K.\u0275prov=h.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})();function Ni(){const K=globalThis.\u0275AngularFireScheduler;if(!K)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return K}function ro(K){return Ni(),function Wr(K){return function(we){return(we=we.lift(new oc(K.ngZone))).pipe((0,to.R)(K.outsideAngular),(0,ia.Q)(K.insideAngular))}}(Ni())(K)}},198:(Nt,We,$)=>{"use strict";$.d(We,{$:()=>cn,A:()=>de,B:()=>U,G:()=>Ue,H:()=>Dn,J:()=>qi,L:()=>ht,M:()=>No,N:()=>ii,P:()=>Rl,Q:()=>to,R:()=>vu,T:()=>ia,U:()=>ra,V:()=>fs,W:()=>sa,X:()=>au,Y:()=>Ns,Z:()=>K,_:()=>we,a:()=>Dl,a0:()=>Nn,a1:()=>Yi,a2:()=>Ba,a3:()=>Tn,a4:()=>dr,a5:()=>vl,a6:()=>ac,a7:()=>lc,a8:()=>uc,a9:()=>yl,aA:()=>zd,aB:()=>Qa,aC:()=>Ic,aD:()=>ph,aE:()=>Et,aI:()=>oo,aL:()=>Zi,aa:()=>lu,ab:()=>Os,ac:()=>Pd,af:()=>_l,ag:()=>fc,ah:()=>hg,ak:()=>no,al:()=>hi,an:()=>hc,ao:()=>ch,ap:()=>hr,aq:()=>fe,ar:()=>Ft,as:()=>Ut,at:()=>Qe,au:()=>Xi,av:()=>wu,aw:()=>qe,ax:()=>Te,ay:()=>Oe,az:()=>ut,b:()=>Cl,c:()=>bg,d:()=>Tc,e:()=>Cc,f:()=>gh,g:()=>mh,h:()=>jd,i:()=>Ec,j:()=>xc,k:()=>Vl,l:()=>Li,m:()=>Kd,n:()=>Qd,o:()=>xe,r:()=>Ac,s:()=>Tr,u:()=>xl,y:()=>Fd});var h=$(5861),P=$(2090),R=$(9681),G=$(655),te=$(1877),Ce=$(4859);const xe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},de={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const U=function T(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ie=function F(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},me=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),oe=new te.Yd("@firebase/auth");function je(D,..._){oe.logLevel<=te.in.ERROR&&oe.error(`Auth (${R.SDK_VERSION}): ${D}`,..._)}function Qe(D,..._){throw mt(D,..._)}function qe(D,..._){return mt(D,..._)}function Ye(D,_,b){const I=Object.assign(Object.assign({},ie()),{[_]:b});return new P.LL("auth","Firebase",I).create(_,{appName:D.name})}function $e(D,_,b){if(!(_ instanceof b))throw b.name!==_.constructor.name&&Qe(D,"argument-error"),Ye(D,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mt(D,..._){if("string"!=typeof D){const b=_[0],I=[..._.slice(1)];return I[0]&&(I[0].appName=D.name),D._errorFactory.create(b,...I)}return me.create(D,..._)}function Te(D,_,...b){if(!D)throw mt(_,...b)}function Re(D){const _="INTERNAL ASSERTION FAILED: "+D;throw je(_),new Error(_)}function fe(D,_){D||Re(_)}const Ie=new Map;function Oe(D){fe(D instanceof Function,"Expected a class definition");let _=Ie.get(D);return _?(fe(_ instanceof D,"Instance stored in cache mismatched with class"),_):(_=new D,Ie.set(D,_),_)}function ke(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function Gt(){return"http:"===Qt()||"https:"===Qt()}function Qt(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class Ht{constructor(_,b){this.shortDelay=_,this.longDelay=b,fe(b>_,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function Qn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Gt()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function zn(D,_){fe(D.emulator,"Emulator should always be set here");const{url:b}=D.emulator;return _?`${b}${_.startsWith("/")?_.slice(1):_}`:b}class Vn{static initialize(_,b,I){this.fetchImpl=_,b&&(this.headersImpl=b),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Re("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Re("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Re("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},An=new Ht(3e4,6e4);function Ae(D,_){return D.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:D.tenantId}):_}function _e(D,_,b,I){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,h.Z)(function*(D,_,b,I,H={}){return lt(D,H,(0,h.Z)(function*(){let Q={},Le={};I&&("GET"===_?Le=I:Q={body:JSON.stringify(I)});const ft=(0,P.xO)(Object.assign({key:D.config.apiKey},Le)).slice(1),zt=yield D._getAdditionalHeaders();return zt["Content-Type"]="application/json",D.languageCode&&(zt["X-Firebase-Locale"]=D.languageCode),Vn.fetch()(on(D,D.config.apiHost,b,ft),Object.assign({method:_,headers:zt,referrerPolicy:"no-referrer"},Q))}))})).apply(this,arguments)}function lt(D,_,b){return At.apply(this,arguments)}function At(){return(At=(0,h.Z)(function*(D,_,b){D._canInitEmulator=!1;const I=Object.assign(Object.assign({},yr),_);try{const H=new fn(D),Q=yield Promise.race([b(),H.promise]);H.clearNetworkTimeout();const Le=yield Q.json();if("needConfirmation"in Le)throw dn(D,"account-exists-with-different-credential",Le);if(Q.ok&&!("errorMessage"in Le))return Le;{const ft=Q.ok?Le.errorMessage:Le.error.message,[zt,tn]=ft.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===zt)throw dn(D,"credential-already-in-use",Le);if("EMAIL_EXISTS"===zt)throw dn(D,"email-already-in-use",Le);const On=I[zt]||zt.toLowerCase().replace(/[_\s]+/g,"-");if(tn)throw Ye(D,On,tn);Qe(D,On)}}catch(H){if(H instanceof P.ZR)throw H;Qe(D,"network-request-failed")}})).apply(this,arguments)}function Ze(D,_,b,I){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,h.Z)(function*(D,_,b,I,H={}){const Q=yield _e(D,_,b,I,H);return"mfaPendingCredential"in Q&&Qe(D,"multi-factor-auth-required",{_serverResponse:Q}),Q})).apply(this,arguments)}function on(D,_,b,I){const H=`${_}${b}?${I}`;return D.config.emulator?zn(D.config,H):`${D.config.apiScheme}://${H}`}class fn{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((b,I)=>{this.timer=setTimeout(()=>I(qe(this.auth,"network-request-failed")),An.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function dn(D,_,b){const I={appName:D.name};b.email&&(I.email=b.email),b.phoneNumber&&(I.phoneNumber=b.phoneNumber);const H=qe(D,_,I);return H.customData._tokenResponse=b,H}function wt(){return(wt=(0,h.Z)(function*(D,_){return _e(D,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function Yt(D,_){return vt.apply(this,arguments)}function vt(){return(vt=(0,h.Z)(function*(D,_){return _e(D,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Ot(D,_){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,h.Z)(function*(D,_){return _e(D,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function _n(D){if(D)try{const _=new Date(Number(D));if(!isNaN(_.getTime()))return _.toUTCString()}catch(_){}}function Gn(){return(Gn=(0,h.Z)(function*(D,_=!1){const b=(0,P.m9)(D),I=yield b.getIdToken(_),H=un(I);Te(H&&H.exp&&H.auth_time&&H.iat,b.auth,"internal-error");const Q="object"==typeof H.firebase?H.firebase:void 0,Le=null==Q?void 0:Q.sign_in_provider;return{claims:H,token:I,authTime:_n(ln(H.auth_time)),issuedAtTime:_n(ln(H.iat)),expirationTime:_n(ln(H.exp)),signInProvider:Le||null,signInSecondFactor:(null==Q?void 0:Q.sign_in_second_factor)||null}})).apply(this,arguments)}function ln(D){return 1e3*Number(D)}function un(D){const[_,b,I]=D.split(".");if(void 0===_||void 0===b||void 0===I)return je("JWT malformed, contained fewer than 3 sections"),null;try{const H=(0,P.tV)(b);return H?JSON.parse(H):(je("Failed to decode base64 JWT payload"),null)}catch(H){return je("Caught error parsing JWT payload as JSON",H),null}}function Mt(D,_){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,h.Z)(function*(D,_,b=!1){if(b)return _;try{return yield _}catch(I){throw I instanceof P.ZR&&Sr(I)&&D.auth.currentUser===D&&(yield D.auth.signOut()),I}})).apply(this,arguments)}function Sr({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}class mn{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var b;if(_){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const H=(null!==(b=this.user.stsTokenManager.expirationTime)&&void 0!==b?b:0)-Date.now()-3e5;return Math.max(0,H)}}schedule(_=!1){var b=this;if(!this.isRunning)return;const I=this.getInterval(_);this.timerId=setTimeout((0,h.Z)(function*(){yield b.iteration()}),I)}iteration(){var _=this;return(0,h.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===b.code&&_.schedule(!0))}_.schedule()})()}}class _r{constructor(_,b){this.createdAt=_,this.lastLoginAt=b,this._initializeTime()}_initializeTime(){this.lastSignInTime=_n(this.lastLoginAt),this.creationTime=_n(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function er(D){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,h.Z)(function*(D){var _;const b=D.auth,I=yield D.getIdToken(),H=yield Mt(D,Ot(b,{idToken:I}));Te(null==H?void 0:H.users.length,b,"internal-error");const Q=H.users[0];D._notifyReloadListener(Q);const Le=(null===(_=Q.providerUserInfo)||void 0===_?void 0:_.length)?Y(Q.providerUserInfo):[],ft=B(D.providerData,Le),On=!!D.isAnonymous&&!(D.email&&Q.passwordHash||(null==ft?void 0:ft.length)),fr={uid:Q.localId,displayName:Q.displayName||null,photoURL:Q.photoUrl||null,email:Q.email||null,emailVerified:Q.emailVerified||!1,phoneNumber:Q.phoneNumber||null,tenantId:Q.tenantId||null,providerData:ft,metadata:new _r(Q.createdAt,Q.lastLoginAt),isAnonymous:On};Object.assign(D,fr)})).apply(this,arguments)}function ve(){return(ve=(0,h.Z)(function*(D){const _=(0,P.m9)(D);yield er(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function B(D,_){return[...D.filter(I=>!_.some(H=>H.providerId===I.providerId)),..._]}function Y(D){return D.map(_=>{var{providerId:b}=_,I=(0,G.__rest)(_,["providerId"]);return{providerId:b,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function le(){return(le=(0,h.Z)(function*(D,_){const b=yield lt(D,{},(0,h.Z)(function*(){const I=(0,P.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:H,apiKey:Q}=D.config,Le=on(D,H,"/v1/token",`key=${Q}`),ft=yield D._getAdditionalHeaders();return ft["Content-Type"]="application/x-www-form-urlencoded",Vn.fetch()(Le,{method:"POST",headers:ft,body:I})}));return{accessToken:b.access_token,expiresIn:b.expires_in,refreshToken:b.refresh_token}})).apply(this,arguments)}class ae{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){Te(_.idToken,"internal-error"),Te(void 0!==_.idToken,"internal-error"),Te(void 0!==_.refreshToken,"internal-error");const b="expiresIn"in _&&void 0!==_.expiresIn?Number(_.expiresIn):function $t(D){const _=un(D);return Te(_,"internal-error"),Te(void 0!==_.exp,"internal-error"),Te(void 0!==_.iat,"internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,b)}getToken(_,b=!1){var I=this;return(0,h.Z)(function*(){return Te(!I.accessToken||I.refreshToken,_,"user-token-expired"),b||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(_,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,b){var I=this;return(0,h.Z)(function*(){const{accessToken:H,refreshToken:Q,expiresIn:Le}=yield function W(D,_){return le.apply(this,arguments)}(_,b);I.updateTokensAndExpiration(H,Q,Number(Le))})()}updateTokensAndExpiration(_,b,I){this.refreshToken=b||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(_,b){const{refreshToken:I,accessToken:H,expirationTime:Q}=b,Le=new ae;return I&&(Te("string"==typeof I,"internal-error",{appName:_}),Le.refreshToken=I),H&&(Te("string"==typeof H,"internal-error",{appName:_}),Le.accessToken=H),Q&&(Te("number"==typeof Q,"internal-error",{appName:_}),Le.expirationTime=Q),Le}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new ae,this.toJSON())}_performRefresh(){return Re("not implemented")}}function ge(D,_){Te("string"==typeof D||void 0===D,"internal-error",{appName:_})}class Pe{constructor(_){var{uid:b,auth:I,stsTokenManager:H}=_,Q=(0,G.__rest)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=b,this.auth=I,this.stsTokenManager=H,this.accessToken=H.accessToken,this.displayName=Q.displayName||null,this.email=Q.email||null,this.emailVerified=Q.emailVerified||!1,this.phoneNumber=Q.phoneNumber||null,this.photoURL=Q.photoURL||null,this.isAnonymous=Q.isAnonymous||!1,this.tenantId=Q.tenantId||null,this.providerData=Q.providerData?[...Q.providerData]:[],this.metadata=new _r(Q.createdAt||void 0,Q.lastLoginAt||void 0)}getIdToken(_){var b=this;return(0,h.Z)(function*(){const I=yield Mt(b,b.stsTokenManager.getToken(b.auth,_));return Te(I,b.auth,"internal-error"),b.accessToken!==I&&(b.accessToken=I,yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)),I})()}getIdTokenResult(_){return function wn(D){return Gn.apply(this,arguments)}(this,_)}reload(){return function ue(D){return ve.apply(this,arguments)}(this)}_assign(_){this!==_&&(Te(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(b=>Object.assign({},b)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){return new Pe(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(_){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,b=!1){var I=this;return(0,h.Z)(function*(){let H=!1;_.idToken&&_.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(_),H=!0),b&&(yield er(I)),yield I.auth._persistUserIfCurrent(I),H&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var _=this;return(0,h.Z)(function*(){const b=yield _.getIdToken();return yield Mt(_,function Ke(D,_){return wt.apply(this,arguments)}(_.auth,{idToken:b})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,b){var I,H,Q,Le,ft,zt,tn,On;const fr=null!==(I=b.displayName)&&void 0!==I?I:void 0,Ai=null!==(H=b.email)&&void 0!==H?H:void 0,ms=null!==(Q=b.phoneNumber)&&void 0!==Q?Q:void 0,Ul=null!==(Le=b.photoURL)&&void 0!==Le?Le:void 0,Yd=null!==(ft=b.tenantId)&&void 0!==ft?ft:void 0,Hl=null!==(zt=b._redirectEventId)&&void 0!==zt?zt:void 0,$o=null!==(tn=b.createdAt)&&void 0!==tn?tn:void 0,Jd=null!==(On=b.lastLoginAt)&&void 0!==On?On:void 0,{uid:Mu,emailVerified:Xd,isAnonymous:tl,providerData:nl,stsTokenManager:Uc}=b;Te(Mu&&Uc,_,"internal-error");const rl=ae.fromJSON(this.name,Uc);Te("string"==typeof Mu,_,"internal-error"),ge(fr,_.name),ge(Ai,_.name),Te("boolean"==typeof Xd,_,"internal-error"),Te("boolean"==typeof tl,_,"internal-error"),ge(ms,_.name),ge(Ul,_.name),ge(Yd,_.name),ge(Hl,_.name),ge($o,_.name),ge(Jd,_.name);const jl=new Pe({uid:Mu,auth:_,email:Ai,emailVerified:Xd,displayName:fr,isAnonymous:tl,photoURL:Ul,phoneNumber:ms,tenantId:Yd,stsTokenManager:rl,createdAt:$o,lastLoginAt:Jd});return nl&&Array.isArray(nl)&&(jl.providerData=nl.map(Mr=>Object.assign({},Mr))),Hl&&(jl._redirectEventId=Hl),jl}static _fromIdTokenResponse(_,b,I=!1){return(0,h.Z)(function*(){const H=new ae;H.updateFromServerResponse(b);const Q=new Pe({uid:b.localId,auth:_,stsTokenManager:H,isAnonymous:I});return yield er(Q),Q})()}}const ht=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(b,I){var H=this;return(0,h.Z)(function*(){H.storage[b]=I})()}_get(b){var I=this;return(0,h.Z)(function*(){const H=I.storage[b];return void 0===H?null:H})()}_remove(b){var I=this;return(0,h.Z)(function*(){delete I.storage[b]})()}_addListener(b,I){}_removeListener(b,I){}}return D.type="NONE",D})();function ut(D,_,b){return`firebase:${D}:${_}:${b}`}class jt{constructor(_,b,I){this.persistence=_,this.auth=b,this.userKey=I;const{config:H,name:Q}=this.auth;this.fullUserKey=ut(this.userKey,H.apiKey,Q),this.fullPersistenceKey=ut("persistence",H.apiKey,Q),this.boundEventHandler=b._onStorageEvent.bind(b),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,h.Z)(function*(){const b=yield _.persistence._get(_.fullUserKey);return b?Pe._fromJSON(_.auth,b):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var b=this;return(0,h.Z)(function*(){if(b.persistence===_)return;const I=yield b.getCurrentUser();return yield b.removeCurrentUser(),b.persistence=_,I?b.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,b,I="authUser"){return(0,h.Z)(function*(){if(!b.length)return new jt(Oe(ht),_,I);const H=(yield Promise.all(b.map(function(){var tn=(0,h.Z)(function*(On){if(yield On._isAvailable())return On});return function(On){return tn.apply(this,arguments)}}()))).filter(tn=>tn);let Q=H[0]||Oe(ht);const Le=ut(I,_.config.apiKey,_.name);let ft=null;for(const tn of b)try{const On=yield tn._get(Le);if(On){const fr=Pe._fromJSON(_,On);tn!==Q&&(ft=fr),Q=tn;break}}catch(On){}const zt=H.filter(tn=>tn._shouldAllowMigration);return Q._shouldAllowMigration&&zt.length?(Q=zt[0],ft&&(yield Q._set(Le,ft.toJSON())),yield Promise.all(b.map(function(){var tn=(0,h.Z)(function*(On){if(On!==Q)try{yield On._remove(Le)}catch(fr){}});return function(On){return tn.apply(this,arguments)}}())),new jt(Q,_,I)):new jt(Q,_,I)})()}}function Se(D){const _=D.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(bt(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(pe(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(nn(_))return"Blackberry";if(Pn(_))return"Webos";if(he(_))return"Safari";if((_.includes("chrome/")||et(_))&&!_.includes("edge/"))return"Chrome";if(Ut(_))return"Android";{const I=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function pe(D=(0,P.z$)()){return/firefox\//i.test(D)}function he(D=(0,P.z$)()){const _=D.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function et(D=(0,P.z$)()){return/crios\//i.test(D)}function bt(D=(0,P.z$)()){return/iemobile/i.test(D)}function Ut(D=(0,P.z$)()){return/android/i.test(D)}function nn(D=(0,P.z$)()){return/blackberry/i.test(D)}function Pn(D=(0,P.z$)()){return/webos/i.test(D)}function Ft(D=(0,P.z$)()){return/iphone|ipad|ipod/i.test(D)}function hr(D=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}function Er(D=(0,P.z$)()){return Ft(D)||Ut(D)||Pn(D)||nn(D)||/windows phone/i.test(D)||bt(D)}function Ir(D,_=[]){let b;switch(D){case"Browser":b=Se((0,P.z$)());break;case"Worker":b=`${Se((0,P.z$)())}-${D}`;break;default:b=D}const I=_.length?_.join(","):"FirebaseCore-web";return`${b}/JsCore/${R.SDK_VERSION}/${I}`}class Xs{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,b){const I=Q=>new Promise((Le,ft)=>{try{Le(_(Q))}catch(zt){ft(zt)}});I.onAbort=b,this.queue.push(I);const H=this.queue.length-1;return()=>{this.queue[H]=()=>Promise.resolve()}}runMiddleware(_){var b=this;return(0,h.Z)(function*(){if(b.auth.currentUser===_)return;const I=[];try{for(const H of b.queue)yield H(_),H.onAbort&&I.push(H.onAbort)}catch(H){I.reverse();for(const Q of I)try{Q()}catch(Le){}throw b.auth._errorFactory.create("login-blocked",{originalMessage:H.message})}})()}}class $r{constructor(_,b,I){this.app=_,this.heartbeatServiceProvider=b,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ye(this),this.idTokenSubscription=new ye(this),this.beforeStateQueue=new Xs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=me,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(_,b){var I=this;return b&&(this._popupRedirectResolver=Oe(b)),this._initializationPromise=this.queue((0,h.Z)(function*(){var H,Q;if(!I._deleted&&(I.persistenceManager=yield jt.create(I,_),!I._deleted)){if(null===(H=I._popupRedirectResolver)||void 0===H?void 0:H._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch(Le){}yield I.initializeCurrentUser(b),I.lastNotifiedUid=(null===(Q=I.currentUser)||void 0===Q?void 0:Q.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,h.Z)(function*(){if(_._deleted)return;const b=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||b){if(_.currentUser&&b&&_.currentUser.uid===b.uid)return _._currentUser._assign(b),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(b,!0)}})()}initializeCurrentUser(_){var b=this;return(0,h.Z)(function*(){var I;const H=yield b.assertedPersistence.getCurrentUser();let Q=H,Le=!1;if(_&&b.config.authDomain){yield b.getOrInitRedirectPersistenceManager();const ft=null===(I=b.redirectUser)||void 0===I?void 0:I._redirectEventId,zt=null==Q?void 0:Q._redirectEventId,tn=yield b.tryRedirectSignIn(_);(!ft||ft===zt)&&(null==tn?void 0:tn.user)&&(Q=tn.user,Le=!0)}if(!Q)return b.directlySetCurrentUser(null);if(!Q._redirectEventId){if(Le)try{yield b.beforeStateQueue.runMiddleware(Q)}catch(ft){Q=H,b._popupRedirectResolver._overrideRedirectResult(b,()=>Promise.reject(ft))}return Q?b.reloadAndSetCurrentUserOrClear(Q):b.directlySetCurrentUser(null)}return Te(b._popupRedirectResolver,b,"argument-error"),yield b.getOrInitRedirectPersistenceManager(),b.redirectUser&&b.redirectUser._redirectEventId===Q._redirectEventId?b.directlySetCurrentUser(Q):b.reloadAndSetCurrentUserOrClear(Q)})()}tryRedirectSignIn(_){var b=this;return(0,h.Z)(function*(){let I=null;try{I=yield b._popupRedirectResolver._completeRedirectFn(b,_,!0)}catch(H){yield b._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(_){var b=this;return(0,h.Z)(function*(){try{yield er(_)}catch(I){if("auth/network-request-failed"!==I.code)return b.directlySetCurrentUser(null)}return b.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function It(){if("undefined"==typeof navigator)return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var _=this;return(0,h.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var b=this;return(0,h.Z)(function*(){const I=_?(0,P.m9)(_):null;return I&&Te(I.auth.config.apiKey===b.config.apiKey,b,"invalid-user-token"),b._updateCurrentUser(I&&I._clone(b))})()}_updateCurrentUser(_,b=!1){var I=this;return(0,h.Z)(function*(){if(!I._deleted)return _&&Te(I.tenantId===_.tenantId,I,"tenant-id-mismatch"),b||(yield I.beforeStateQueue.runMiddleware(_)),I.queue((0,h.Z)(function*(){yield I.directlySetCurrentUser(_),I.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,h.Z)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var b=this;return this.queue((0,h.Z)(function*(){yield b.assertedPersistence.setPersistence(Oe(_))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new P.LL("auth","Firebase",_())}onAuthStateChanged(_,b,I){return this.registerStateListener(this.authStateSubscription,_,b,I)}beforeAuthStateChanged(_,b){return this.beforeStateQueue.pushCallback(_,b)}onIdTokenChanged(_,b,I){return this.registerStateListener(this.idTokenSubscription,_,b,I)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,b){var I=this;return(0,h.Z)(function*(){const H=yield I.getOrInitRedirectPersistenceManager(b);return null===_?H.removeCurrentUser():H.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var b=this;return(0,h.Z)(function*(){if(!b.redirectPersistenceManager){const I=_&&Oe(_)||b._popupRedirectResolver;Te(I,b,"argument-error"),b.redirectPersistenceManager=yield jt.create(b,[Oe(I._redirectPersistence)],"redirectUser"),b.redirectUser=yield b.redirectPersistenceManager.getCurrentUser()}return b.redirectPersistenceManager})()}_redirectUserForId(_){var b=this;return(0,h.Z)(function*(){var I,H;return b._isInitialized&&(yield b.queue((0,h.Z)(function*(){}))),(null===(I=b._currentUser)||void 0===I?void 0:I._redirectEventId)===_?b._currentUser:(null===(H=b.redirectUser)||void 0===H?void 0:H._redirectEventId)===_?b.redirectUser:null})()}_persistUserIfCurrent(_){var b=this;return(0,h.Z)(function*(){if(_===b.currentUser)return b.queue((0,h.Z)(function*(){return b.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(b=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==b?b:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,b,I,H){if(this._deleted)return()=>{};const Q="function"==typeof b?b:b.next.bind(b),Le=this._isInitialized?Promise.resolve():this._initializationPromise;return Te(Le,this,"internal-error"),Le.then(()=>Q(this.currentUser)),"function"==typeof b?_.addObserver(b,I,H):_.addObserver(b)}directlySetCurrentUser(_){var b=this;return(0,h.Z)(function*(){b.currentUser&&b.currentUser!==_&&(b._currentUser._stopProactiveRefresh(),_&&b.isProactiveRefreshEnabled&&_._startProactiveRefresh()),b.currentUser=_,_?yield b.assertedPersistence.setCurrentUser(_):yield b.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=Ir(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,h.Z)(function*(){var b;const I={"X-Client-Version":_.clientVersion};_.app.options.appId&&(I["X-Firebase-gmpid"]=_.app.options.appId);const H=yield null===(b=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getHeartbeatsHeader();return H&&(I["X-Firebase-Client"]=H),I})()}}function Et(D){return(0,P.m9)(D)}class ye{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,P.ne)(b=>this.observer=b)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ue(D,_,b){const I=Et(D);Te(I._canInitEmulator,I,"emulator-config-failed"),Te(/^https?:\/\//.test(_),I,"invalid-emulator-scheme");const H=!!(null==b?void 0:b.disableWarnings),Q=dt(_),{host:Le,port:ft}=function Bt(D){const _=dt(D),b=/(\/\/)?([^?#/]+)/.exec(D.substr(_.length));if(!b)return{host:"",port:null};const I=b[2].split("@").pop()||"",H=/^(\[[^\]]+\])(:|$)/.exec(I);if(H){const Q=H[1];return{host:Q,port:Sn(I.substr(Q.length+1))}}{const[Q,Le]=I.split(":");return{host:Q,port:Sn(Le)}}}(_);I.config.emulator={url:`${Q}//${Le}${null===ft?"":`:${ft}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:Le,port:ft,protocol:Q.replace(":",""),options:Object.freeze({disableWarnings:H})}),H||function Rn(){function D(){const _=document.createElement("p"),b=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",b.position="fixed",b.width="100%",b.backgroundColor="#ffffff",b.border=".1em solid #000000",b.color="#b50000",b.bottom="0px",b.left="0px",b.margin="0px",b.zIndex="10000",b.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}function dt(D){const _=D.indexOf(":");return _<0?"":D.substr(0,_+1)}function Sn(D){if(!D)return null;const _=Number(D);return isNaN(_)?null:_}class Dn{constructor(_,b){this.providerId=_,this.signInMethod=b}toJSON(){return Re("not implemented")}_getIdTokenResponse(_){return Re("not implemented")}_linkToIdToken(_,b){return Re("not implemented")}_getReauthenticationResolver(_){return Re("not implemented")}}function cr(D,_){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,h.Z)(function*(D,_){return _e(D,"POST","/v1/accounts:resetPassword",Ae(D,_))})).apply(this,arguments)}function en(D,_){return ls.apply(this,arguments)}function ls(){return(ls=(0,h.Z)(function*(D,_){return _e(D,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function di(D,_){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,h.Z)(function*(D,_){return _e(D,"POST","/v1/accounts:update",Ae(D,_))})).apply(this,arguments)}function Nr(){return(Nr=(0,h.Z)(function*(D,_){return Ze(D,"POST","/v1/accounts:signInWithPassword",Ae(D,_))})).apply(this,arguments)}function us(D,_){return cs.apply(this,arguments)}function cs(){return(cs=(0,h.Z)(function*(D,_){return _e(D,"POST","/v1/accounts:sendOobCode",Ae(D,_))})).apply(this,arguments)}function br(D,_){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,h.Z)(function*(D,_){return us(D,_)})).apply(this,arguments)}function Pa(D,_){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,h.Z)(function*(D,_){return us(D,_)})).apply(this,arguments)}function ni(D,_){return ri.apply(this,arguments)}function ri(){return(ri=(0,h.Z)(function*(D,_){return us(D,_)})).apply(this,arguments)}function ea(D,_){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,h.Z)(function*(D,_){return us(D,_)})).apply(this,arguments)}function fi(){return(fi=(0,h.Z)(function*(D,_){return Ze(D,"POST","/v1/accounts:signInWithEmailLink",Ae(D,_))})).apply(this,arguments)}function Oa(){return(Oa=(0,h.Z)(function*(D,_){return Ze(D,"POST","/v1/accounts:signInWithEmailLink",Ae(D,_))})).apply(this,arguments)}class ta extends Dn{constructor(_,b,I,H=null){super("password",I),this._email=_,this._password=b,this._tenantId=H}static _fromEmailAndPassword(_,b){return new ta(_,b,"password")}static _fromEmailAndCode(_,b,I=null){return new ta(_,b,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const b="string"==typeof _?JSON.parse(_):_;if((null==b?void 0:b.email)&&(null==b?void 0:b.password)){if("password"===b.signInMethod)return this._fromEmailAndPassword(b.email,b.password);if("emailLink"===b.signInMethod)return this._fromEmailAndCode(b.email,b.password,b.tenantId)}return null}_getIdTokenResponse(_){var b=this;return(0,h.Z)(function*(){switch(b.signInMethod){case"password":return function Wi(D,_){return Nr.apply(this,arguments)}(_,{returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function eo(D,_){return fi.apply(this,arguments)}(_,{email:b._email,oobCode:b._password});default:Qe(_,"internal-error")}})()}_linkToIdToken(_,b){var I=this;return(0,h.Z)(function*(){switch(I.signInMethod){case"password":return en(_,{idToken:b,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function ic(D,_){return Oa.apply(this,arguments)}(_,{idToken:b,email:I._email,oobCode:I._password});default:Qe(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function Cr(D,_){return su.apply(this,arguments)}function su(){return(su=(0,h.Z)(function*(D,_){return Ze(D,"POST","/v1/accounts:signInWithIdp",Ae(D,_))})).apply(this,arguments)}class qi extends Dn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const b=new qi(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(b.idToken=_.idToken),_.accessToken&&(b.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(b.nonce=_.nonce),_.pendingToken&&(b.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(b.accessToken=_.oauthToken,b.secret=_.oauthTokenSecret):Qe("argument-error"),b}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const b="string"==typeof _?JSON.parse(_):_,{providerId:I,signInMethod:H}=b,Q=(0,G.__rest)(b,["providerId","signInMethod"]);if(!I||!H)return null;const Le=new qi(I,H);return Le.idToken=Q.idToken||void 0,Le.accessToken=Q.accessToken||void 0,Le.secret=Q.secret,Le.nonce=Q.nonce,Le.pendingToken=Q.pendingToken||null,Le}_getIdTokenResponse(_){return Cr(_,this.buildRequest())}_linkToIdToken(_,b){const I=this.buildRequest();return I.idToken=b,Cr(_,I)}_getReauthenticationResolver(_){const b=this.buildRequest();return b.autoCreate=!1,Cr(_,b)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const b={};this.idToken&&(b.id_token=this.idToken),this.accessToken&&(b.access_token=this.accessToken),this.secret&&(b.oauth_token_secret=this.secret),b.providerId=this.providerId,this.nonce&&!this.pendingToken&&(b.nonce=this.nonce),_.postBody=(0,P.xO)(b)}return _}}function Fa(D,_){return na.apply(this,arguments)}function na(){return(na=(0,h.Z)(function*(D,_){return _e(D,"POST","/v1/accounts:sendVerificationCode",Ae(D,_))})).apply(this,arguments)}function Ar(){return(Ar=(0,h.Z)(function*(D,_){return Ze(D,"POST","/v1/accounts:signInWithPhoneNumber",Ae(D,_))})).apply(this,arguments)}function Ms(){return(Ms=(0,h.Z)(function*(D,_){const b=yield Ze(D,"POST","/v1/accounts:signInWithPhoneNumber",Ae(D,_));if(b.temporaryProof)throw dn(D,"account-exists-with-different-credential",b);return b})).apply(this,arguments)}const xd={USER_NOT_FOUND:"user-not-found"};function gl(){return(gl=(0,h.Z)(function*(D,_){return Ze(D,"POST","/v1/accounts:signInWithPhoneNumber",Ae(D,Object.assign(Object.assign({},_),{operation:"REAUTH"})),xd)})).apply(this,arguments)}class ds extends Dn{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,b){return new ds({verificationId:_,verificationCode:b})}static _fromTokenResponse(_,b){return new ds({phoneNumber:_,temporaryProof:b})}_getIdTokenResponse(_){return function Md(D,_){return Ar.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,b){return function ou(D,_){return Ms.apply(this,arguments)}(_,Object.assign({idToken:b},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function pl(D,_){return gl.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:b,verificationId:I,verificationCode:H}=this.params;return _&&b?{temporaryProof:_,phoneNumber:b}:{sessionInfo:I,code:H}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:b,verificationCode:I,phoneNumber:H,temporaryProof:Q}=_;return I||b||H||Q?new ds({verificationId:b,verificationCode:I,phoneNumber:H,temporaryProof:Q}):null}}class xi{constructor(_){var b,I,H,Q,Le,ft;const zt=(0,P.zd)((0,P.pd)(_)),tn=null!==(b=zt.apiKey)&&void 0!==b?b:null,On=null!==(I=zt.oobCode)&&void 0!==I?I:null,fr=function Rd(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(H=zt.mode)&&void 0!==H?H:null);Te(tn&&On&&fr,"argument-error"),this.apiKey=tn,this.operation=fr,this.code=On,this.continueUrl=null!==(Q=zt.continueUrl)&&void 0!==Q?Q:null,this.languageCode=null!==(Le=zt.languageCode)&&void 0!==Le?Le:null,this.tenantId=null!==(ft=zt.tenantId)&&void 0!==ft?ft:null}static parseLink(_){const b=function La(D){const _=(0,P.zd)((0,P.pd)(D)).link,b=_?(0,P.zd)((0,P.pd)(_)).deep_link_id:null,I=(0,P.zd)((0,P.pd)(D)).deep_link_id;return(I?(0,P.zd)((0,P.pd)(I)).link:null)||I||b||_||D}(_);try{return new xi(b)}catch(I){return null}}}let No=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(b,I){return ta._fromEmailAndPassword(b,I)}static credentialWithLink(b,I){const H=xi.parseLink(I);return Te(H,"argument-error"),ta._fromEmailAndCode(b,H.code,H.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class Ri{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class _i extends Ri{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class ra extends _i{static credentialFromJSON(_){const b="string"==typeof _?JSON.parse(_):_;return Te("providerId"in b&&"signInMethod"in b,"argument-error"),qi._fromParams(b)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return Te(_.idToken||_.accessToken,"argument-error"),qi._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return ra.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return ra.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:b,oauthAccessToken:I,oauthTokenSecret:H,pendingToken:Q,nonce:Le,providerId:ft}=_;if(!I&&!H&&!b&&!Q||!ft)return null;try{return new ra(ft)._credential({idToken:b,accessToken:I,nonce:Le,pendingToken:Q})}catch(zt){return null}}}let ii=(()=>{class D extends _i{constructor(){super("facebook.com")}static credential(b){return qi._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return D.credentialFromTaggedObject(b)}static credentialFromError(b){return D.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return D.credential(b.oauthAccessToken)}catch(I){return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),to=(()=>{class D extends _i{constructor(){super("google.com"),this.addScope("profile")}static credential(b,I){return qi._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:b,accessToken:I})}static credentialFromResult(b){return D.credentialFromTaggedObject(b)}static credentialFromError(b){return D.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:I,oauthAccessToken:H}=b;if(!I&&!H)return null;try{return D.credential(I,H)}catch(Q){return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),ia=(()=>{class D extends _i{constructor(){super("github.com")}static credential(b){return qi._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return D.credentialFromTaggedObject(b)}static credentialFromError(b){return D.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return D.credential(b.oauthAccessToken)}catch(I){return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class Zi extends Dn{constructor(_,b){super(_,_),this.pendingToken=b}_getIdTokenResponse(_){return Cr(_,this.buildRequest())}_linkToIdToken(_,b){const I=this.buildRequest();return I.idToken=b,Cr(_,I)}_getReauthenticationResolver(_){const b=this.buildRequest();return b.autoCreate=!1,Cr(_,b)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const b="string"==typeof _?JSON.parse(_):_,{providerId:I,signInMethod:H,pendingToken:Q}=b;return I&&H&&Q&&I===H?new Zi(I,Q):null}static _create(_,b){return new Zi(_,b)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class fs extends Ri{constructor(_){Te(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return fs.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return fs.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const b=Zi.fromJSON(_);return Te(b,"argument-error"),b}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:b,providerId:I}=_;if(!b||!I)return null;try{return Zi._create(I,b)}catch(H){return null}}}let sa=(()=>{class D extends _i{constructor(){super("twitter.com")}static credential(b,I){return qi._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:b,oauthTokenSecret:I})}static credentialFromResult(b){return D.credentialFromTaggedObject(b)}static credentialFromError(b){return D.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthAccessToken:I,oauthTokenSecret:H}=b;if(!I||!H)return null;try{return D.credential(I,H)}catch(Q){return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function Rs(D,_){return Or.apply(this,arguments)}function Or(){return(Or=(0,h.Z)(function*(D,_){return Ze(D,"POST","/v1/accounts:signUp",Ae(D,_))})).apply(this,arguments)}class Fr{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,b,I,H=!1){return(0,h.Z)(function*(){const Q=yield Pe._fromIdTokenResponse(_,I,H),Le=ml(I);return new Fr({user:Q,providerId:Le,_tokenResponse:I,operationType:b})})()}static _forOperation(_,b,I){return(0,h.Z)(function*(){yield _._updateTokensIfNecessary(I,!0);const H=ml(I);return new Fr({user:_,providerId:H,_tokenResponse:I,operationType:b})})()}}function ml(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function au(D){return sc.apply(this,arguments)}function sc(){return(sc=(0,h.Z)(function*(D){var _;const b=Et(D);if(yield b._initializationPromise,null===(_=b.currentUser)||void 0===_?void 0:_.isAnonymous)return new Fr({user:b.currentUser,providerId:null,operationType:"signIn"});const I=yield Rs(b,{returnSecureToken:!0}),H=yield Fr._fromIdTokenResponse(b,"signIn",I,!0);return yield b._updateCurrentUser(H.user),H})).apply(this,arguments)}class oa extends P.ZR{constructor(_,b,I,H){var Q;super(b.code,b.message),this.operationType=I,this.user=H,Object.setPrototypeOf(this,oa.prototype),this.customData={appName:_.name,tenantId:null!==(Q=_.tenantId)&&void 0!==Q?Q:void 0,_serverResponse:b.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(_,b,I,H){return new oa(_,b,I,H)}}function ko(D,_,b,I){return("reauthenticate"===_?b._getReauthenticationResolver(D):b._getIdTokenResponse(D)).catch(Q=>{throw"auth/multi-factor-auth-required"===Q.code?oa._fromErrorAndOperation(D,Q,_,I):Q})}function Ki(D){return new Set(D.map(({providerId:_})=>_).filter(_=>!!_))}function no(D,_){return oc.apply(this,arguments)}function oc(){return(oc=(0,h.Z)(function*(D,_){const b=(0,P.m9)(D);yield hs(!0,b,_);const{providerUserInfo:I}=yield Yt(b.auth,{idToken:yield b.getIdToken(),deleteProvider:[_]}),H=Ki(I||[]);return b.providerData=b.providerData.filter(Q=>H.has(Q.providerId)),H.has("phone")||(b.phoneNumber=null),yield b.auth._persistUserIfCurrent(b),b})).apply(this,arguments)}function ar(D,_){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,h.Z)(function*(D,_,b=!1){const I=yield Mt(D,_._linkToIdToken(D.auth,yield D.getIdToken()),b);return Fr._forOperation(D,"link",I)})).apply(this,arguments)}function hs(D,_,b){return $n.apply(this,arguments)}function $n(){return($n=(0,h.Z)(function*(D,_,b){yield er(_);const H=!1===D?"provider-already-linked":"no-such-provider";Te(Ki(_.providerData).has(b)===D,_.auth,H)})).apply(this,arguments)}function aa(D,_){return Va.apply(this,arguments)}function Va(){return(Va=(0,h.Z)(function*(D,_,b=!1){const{auth:I}=D,H="reauthenticate";try{const Q=yield Mt(D,ko(I,H,_,D),b);Te(Q.idToken,I,"internal-error");const Le=un(Q.idToken);Te(Le,I,"internal-error");const{sub:ft}=Le;return Te(D.uid===ft,I,"user-mismatch"),Fr._forOperation(D,H,Q)}catch(Q){throw"auth/user-not-found"===(null==Q?void 0:Q.code)&&Qe(I,"user-mismatch"),Q}})).apply(this,arguments)}function ro(D,_){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,h.Z)(function*(D,_,b=!1){const I="signIn",H=yield ko(D,I,_),Q=yield Fr._fromIdTokenResponse(D,I,H);return b||(yield D._updateCurrentUser(Q.user)),Q})).apply(this,arguments)}function Ns(D,_){return la.apply(this,arguments)}function la(){return(la=(0,h.Z)(function*(D,_){return ro(Et(D),_)})).apply(this,arguments)}function K(D,_){return Z.apply(this,arguments)}function Z(){return(Z=(0,h.Z)(function*(D,_){const b=(0,P.m9)(D);return yield hs(!1,b,_.providerId),ar(b,_)})).apply(this,arguments)}function we(D,_){return ze.apply(this,arguments)}function ze(){return(ze=(0,h.Z)(function*(D,_){return aa((0,P.m9)(D),_)})).apply(this,arguments)}function yt(D,_){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,h.Z)(function*(D,_){return Ze(D,"POST","/v1/accounts:signInWithCustomToken",Ae(D,_))})).apply(this,arguments)}function cn(D,_){return nr.apply(this,arguments)}function nr(){return(nr=(0,h.Z)(function*(D,_){const b=Et(D),I=yield yt(b,{token:_,returnSecureToken:!0}),H=yield Fr._fromIdTokenResponse(b,"signIn",I);return yield b._updateCurrentUser(H.user),H})).apply(this,arguments)}class Vt{constructor(_,b){this.factorId=_,this.uid=b.mfaEnrollmentId,this.enrollmentTime=new Date(b.enrolledAt).toUTCString(),this.displayName=b.displayName}static _fromServerResponse(_,b){return"phoneInfo"in b?lr._fromServerResponse(_,b):Qe(_,"internal-error")}}class lr extends Vt{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,b){return new lr(b)}}function rr(D,_,b){var I;Te((null===(I=b.url)||void 0===I?void 0:I.length)>0,D,"invalid-continue-uri"),Te(void 0===b.dynamicLinkDomain||b.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),_.continueUrl=b.url,_.dynamicLinkDomain=b.dynamicLinkDomain,_.canHandleCodeInApp=b.handleCodeInApp,b.iOS&&(Te(b.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),_.iOSBundleId=b.iOS.bundleId),b.android&&(Te(b.android.packageName.length>0,D,"missing-android-pkg-name"),_.androidInstallApp=b.android.installApp,_.androidMinimumVersionCode=b.android.minimumVersion,_.androidPackageName=b.android.packageName)}function Nn(D,_,b){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,h.Z)(function*(D,_,b){const I=(0,P.m9)(D),H={requestType:"PASSWORD_RESET",email:_};b&&rr(I,H,b),yield Pa(I,H)})).apply(this,arguments)}function Yi(D,_,b){return io.apply(this,arguments)}function io(){return(io=(0,h.Z)(function*(D,_,b){yield cr((0,P.m9)(D),{oobCode:_,newPassword:b})})).apply(this,arguments)}function Ba(D,_){return ot.apply(this,arguments)}function ot(){return(ot=(0,h.Z)(function*(D,_){yield di((0,P.m9)(D),{oobCode:_})})).apply(this,arguments)}function Tn(D,_){return ks.apply(this,arguments)}function ks(){return(ks=(0,h.Z)(function*(D,_){const b=(0,P.m9)(D),I=yield cr(b,{oobCode:_}),H=I.requestType;switch(Te(H,b,"internal-error"),H){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Te(I.newEmail,b,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Te(I.mfaInfo,b,"internal-error");default:Te(I.email,b,"internal-error")}let Q=null;return I.mfaInfo&&(Q=Vt._fromServerResponse(Et(b),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:Q},operation:H}})).apply(this,arguments)}function dr(D,_){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,h.Z)(function*(D,_){const{data:b}=yield Tn((0,P.m9)(D),_);return b.email})).apply(this,arguments)}function vl(D,_,b){return ki.apply(this,arguments)}function ki(){return(ki=(0,h.Z)(function*(D,_,b){const I=Et(D),H=yield Rs(I,{returnSecureToken:!0,email:_,password:b}),Q=yield Fr._fromIdTokenResponse(I,"signIn",H);return yield I._updateCurrentUser(Q.user),Q})).apply(this,arguments)}function ac(D,_,b){return Ns((0,P.m9)(D),No.credential(_,b))}function lc(D,_,b){return kd.apply(this,arguments)}function kd(){return(kd=(0,h.Z)(function*(D,_,b){const I=(0,P.m9)(D),H={requestType:"EMAIL_SIGNIN",email:_};Te(b.handleCodeInApp,I,"argument-error"),b&&rr(I,H,b),yield ni(I,H)})).apply(this,arguments)}function uc(D,_){const b=xi.parseLink(_);return"EMAIL_SIGNIN"===(null==b?void 0:b.operation)}function yl(D,_,b){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,h.Z)(function*(D,_,b){const I=(0,P.m9)(D),H=No.credentialWithLink(_,b||ke());return Te(H._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),Ns(I,H)})).apply(this,arguments)}function qr(D,_){return ps.apply(this,arguments)}function ps(){return(ps=(0,h.Z)(function*(D,_){return _e(D,"POST","/v1/accounts:createAuthUri",Ae(D,_))})).apply(this,arguments)}function lu(D,_){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,h.Z)(function*(D,_){const I={identifier:_,continueUri:Gt()?ke():"http://localhost"},{signinMethods:H}=yield qr((0,P.m9)(D),I);return H||[]})).apply(this,arguments)}function Os(D,_){return cc.apply(this,arguments)}function cc(){return(cc=(0,h.Z)(function*(D,_){const b=(0,P.m9)(D),H={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};_&&rr(b.auth,H,_);const{email:Q}=yield br(b.auth,H);Q!==D.email&&(yield D.reload())})).apply(this,arguments)}function Pd(D,_,b){return uu.apply(this,arguments)}function uu(){return(uu=(0,h.Z)(function*(D,_,b){const I=(0,P.m9)(D),Q={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:_};b&&rr(I.auth,Q,b);const{email:Le}=yield ea(I.auth,Q);Le!==D.email&&(yield D.reload())})).apply(this,arguments)}function oh(D,_){return ja.apply(this,arguments)}function ja(){return(ja=(0,h.Z)(function*(D,_){return _e(D,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function _l(D,_){return dc.apply(this,arguments)}function dc(){return(dc=(0,h.Z)(function*(D,{displayName:_,photoURL:b}){if(void 0===_&&void 0===b)return;const I=(0,P.m9)(D),Q={idToken:yield I.getIdToken(),displayName:_,photoUrl:b,returnSecureToken:!0},Le=yield Mt(I,oh(I.auth,Q));I.displayName=Le.displayName||null,I.photoURL=Le.photoUrl||null;const ft=I.providerData.find(({providerId:zt})=>"password"===zt);ft&&(ft.displayName=I.displayName,ft.photoURL=I.photoURL),yield I._updateTokensIfNecessary(Le)})).apply(this,arguments)}function fc(D,_){return Ga((0,P.m9)(D),_,null)}function hg(D,_){return Ga((0,P.m9)(D),null,_)}function Ga(D,_,b){return za.apply(this,arguments)}function za(){return(za=(0,h.Z)(function*(D,_,b){const{auth:I}=D,Q={idToken:yield D.getIdToken(),returnSecureToken:!0};_&&(Q.email=_),b&&(Q.password=b);const Le=yield Mt(D,en(I,Q));yield D._updateTokensIfNecessary(Le,!0)})).apply(this,arguments)}class Po{constructor(_,b,I={}){this.isNewUser=_,this.providerId=b,this.profile=I}}class El extends Po{constructor(_,b,I,H){super(_,b,I),this.username=H}}class Od extends Po{constructor(_,b){super(_,"facebook.com",b)}}class bl extends El{constructor(_,b){super(_,"github.com",b,"string"==typeof(null==b?void 0:b.login)?null==b?void 0:b.login:null)}}class Oo extends Po{constructor(_,b){super(_,"google.com",b)}}class ah extends El{constructor(_,b,I){super(_,"twitter.com",b,I)}}function hi(D){const{user:_,_tokenResponse:b}=D;return _.isAnonymous&&!b?{providerId:null,isNewUser:!1,profile:null}:function Zr(D){var _,b;if(!D)return null;const{providerId:I}=D,H=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},Q=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!I&&(null==D?void 0:D.idToken)){const Le=null===(b=null===(_=un(D.idToken))||void 0===_?void 0:_.firebase)||void 0===b?void 0:b.sign_in_provider;if(Le)return new Po(Q,"anonymous"!==Le&&"custom"!==Le?Le:null)}if(!I)return null;switch(I){case"facebook.com":return new Od(Q,H);case"github.com":return new bl(Q,H);case"google.com":return new Oo(Q,H);case"twitter.com":return new ah(Q,H,D.screenName||null);case"custom":case"anonymous":return new Po(Q,null);default:return new Po(Q,I,H)}}(b)}function Fd(D){return(0,P.m9)(D).signOut()}class Ls{constructor(_,b){this.type=_,this.credential=b}static _fromIdtoken(_){return new Ls("enroll",_)}static _fromMfaPendingCredential(_){return new Ls("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var b,I;if(null==_?void 0:_.multiFactorSession){if(null===(b=_.multiFactorSession)||void 0===b?void 0:b.pendingCredential)return Ls._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null===(I=_.multiFactorSession)||void 0===I?void 0:I.idToken)return Ls._fromIdtoken(_.multiFactorSession.idToken)}return null}}class wl{constructor(_,b,I){this.session=_,this.hints=b,this.signInResolver=I}static _fromError(_,b){const I=Et(_),H=b.customData._serverResponse,Q=(H.mfaInfo||[]).map(ft=>Vt._fromServerResponse(I,ft));Te(H.mfaPendingCredential,I,"internal-error");const Le=Ls._fromMfaPendingCredential(H.mfaPendingCredential);return new wl(Le,Q,function(){var ft=(0,h.Z)(function*(zt){const tn=yield zt._process(I,Le);delete H.mfaInfo,delete H.mfaPendingCredential;const On=Object.assign(Object.assign({},H),{idToken:tn.idToken,refreshToken:tn.refreshToken});switch(b.operationType){case"signIn":const fr=yield Fr._fromIdTokenResponse(I,b.operationType,On);return yield I._updateCurrentUser(fr.user),fr;case"reauthenticate":return Te(b.user,I,"internal-error"),Fr._forOperation(b.user,b.operationType,On);default:Qe(I,"internal-error")}});return function(zt){return ft.apply(this,arguments)}}())}resolveSignIn(_){var b=this;return(0,h.Z)(function*(){return b.signInResolver(_)})()}}function hc(D,_){var b;const I=(0,P.m9)(D),H=_;return Te(_.customData.operationType,I,"argument-error"),Te(null===(b=H.customData._serverResponse)||void 0===b?void 0:b.mfaPendingCredential,I,"argument-error"),wl._fromError(I,H)}function Ld(D,_){return _e(D,"POST","/v2/accounts/mfaEnrollment:start",Ae(D,_))}class $a{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(b=>{b.mfaInfo&&(this.enrolledFactors=b.mfaInfo.map(I=>Vt._fromServerResponse(_.auth,I)))})}static _fromUser(_){return new $a(_)}getSession(){var _=this;return(0,h.Z)(function*(){return Ls._fromIdtoken(yield _.user.getIdToken())})()}enroll(_,b){var I=this;return(0,h.Z)(function*(){const H=_,Q=yield I.getSession(),Le=yield Mt(I.user,H._process(I.user.auth,Q,b));return yield I.user._updateTokensIfNecessary(Le),I.user.reload()})()}unenroll(_){var b=this;return(0,h.Z)(function*(){const I="string"==typeof _?_:_.uid,H=yield b.user.getIdToken(),Q=yield Mt(b.user,function Fo(D,_){return _e(D,"POST","/v2/accounts/mfaEnrollment:withdraw",Ae(D,_))}(b.user.auth,{idToken:H,mfaEnrollmentId:I}));b.enrolledFactors=b.enrolledFactors.filter(({uid:Le})=>Le!==I),yield b.user._updateTokensIfNecessary(Q);try{yield b.user.reload()}catch(Le){if("auth/user-token-expired"!==Le.code)throw Le}})()}}const Vd=new WeakMap;function ch(D){const _=(0,P.m9)(D);return Vd.has(_)||Vd.set(_,$a._fromUser(_)),Vd.get(_)}const so="__sak";class cu{constructor(_,b){this.storageRetriever=_,this.type=b}_isAvailable(){try{return this.storage?(this.storage.setItem(so,"1"),this.storage.removeItem(so),Promise.resolve(!0)):Promise.resolve(!1)}catch(_){return Promise.resolve(!1)}}_set(_,b){return this.storage.setItem(_,JSON.stringify(b)),Promise.resolve()}_get(_){const b=this.storage.getItem(_);return Promise.resolve(b?JSON.parse(b):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const Cl=(()=>{class D extends cu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(b,I)=>this.onStorageEvent(b,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Bd(){const D=(0,P.z$)();return he(D)||Ft(D)}()&&function ti(){try{return!(!window||window===window.top)}catch(D){return!1}}(),this.fallbackToPolling=Er(),this._shouldAllowMigration=!0}forAllChangedKeys(b){for(const I of Object.keys(this.listeners)){const H=this.storage.getItem(I),Q=this.localCache[I];H!==Q&&b(I,Q,H)}}onStorageEvent(b,I=!1){if(!b.key)return void this.forAllChangedKeys((ft,zt,tn)=>{this.notifyListeners(ft,tn)});const H=b.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ft=this.storage.getItem(H);if(b.newValue!==ft)null!==b.newValue?this.storage.setItem(H,b.newValue):this.storage.removeItem(H);else if(this.localCache[H]===b.newValue&&!I)return}const Q=()=>{const ft=this.storage.getItem(H);!I&&this.localCache[H]===ft||this.notifyListeners(H,ft)},Le=this.storage.getItem(H);!function Mn(){return(0,P.w1)()&&10===document.documentMode}()||Le===b.newValue||b.newValue===b.oldValue?Q():setTimeout(Q,10)}notifyListeners(b,I){this.localCache[b]=I;const H=this.listeners[b];if(H)for(const Q of Array.from(H))Q(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((b,I,H)=>{this.onStorageEvent(new StorageEvent("storage",{key:b,oldValue:I,newValue:H}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(b,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[b]||(this.listeners[b]=new Set,this.localCache[b]=this.storage.getItem(b)),this.listeners[b].add(I)}_removeListener(b,I){this.listeners[b]&&(this.listeners[b].delete(I),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(b,I){var H=()=>super._set,Q=this;return(0,h.Z)(function*(){yield H().call(Q,b,I),Q.localCache[b]=JSON.stringify(I)})()}_get(b){var I=()=>super._get,H=this;return(0,h.Z)(function*(){const Q=yield I().call(H,b);return H.localCache[b]=JSON.stringify(Q),Q})()}_remove(b){var I=()=>super._remove,H=this;return(0,h.Z)(function*(){yield I().call(H,b),delete H.localCache[b]})()}}return D.type="LOCAL",D})(),Dl=(()=>{class D extends cu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(b,I){}_removeListener(b,I){}}return D.type="SESSION",D})();let Tl=(()=>{class D{constructor(b){this.eventTarget=b,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(b){const I=this.receivers.find(Q=>Q.isListeningto(b));if(I)return I;const H=new D(b);return this.receivers.push(H),H}isListeningto(b){return this.eventTarget===b}handleEvent(b){var I=this;return(0,h.Z)(function*(){const H=b,{eventId:Q,eventType:Le,data:ft}=H.data,zt=I.handlersMap[Le];if(!(null==zt?void 0:zt.size))return;H.ports[0].postMessage({status:"ack",eventId:Q,eventType:Le});const tn=Array.from(zt).map(function(){var fr=(0,h.Z)(function*(Ai){return Ai(H.origin,ft)});return function(Ai){return fr.apply(this,arguments)}}()),On=yield function du(D){return Promise.all(D.map(function(){var _=(0,h.Z)(function*(b){try{return{fulfilled:!0,value:yield b}}catch(I){return{fulfilled:!1,reason:I}}});return function(b){return _.apply(this,arguments)}}()))}(tn);H.ports[0].postMessage({status:"done",eventId:Q,eventType:Le,response:On})})()}_subscribe(b,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[b]||(this.handlersMap[b]=new Set),this.handlersMap[b].add(I)}_unsubscribe(b,I){this.handlersMap[b]&&I&&this.handlersMap[b].delete(I),(!I||0===this.handlersMap[b].size)&&delete this.handlersMap[b],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function oo(D="",_=10){let b="";for(let I=0;I<_;I++)b+=Math.floor(10*Math.random());return D+b}class ao{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,b,I=50){var H=this;return(0,h.Z)(function*(){const Q="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!Q)throw new Error("connection_unavailable");let Le,ft;return new Promise((zt,tn)=>{const On=oo("",20);Q.port1.start();const fr=setTimeout(()=>{tn(new Error("unsupported_event"))},I);ft={messageChannel:Q,onMessage(Ai){const ms=Ai;if(ms.data.eventId===On)switch(ms.data.status){case"ack":clearTimeout(fr),Le=setTimeout(()=>{tn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Le),zt(ms.data.response);break;default:clearTimeout(fr),clearTimeout(Le),tn(new Error("invalid_response"))}}},H.handlers.add(ft),Q.port1.addEventListener("message",ft.onMessage),H.target.postMessage({eventType:_,eventId:On,data:b},[Q.port2])}).finally(()=>{ft&&H.removeMessageHandler(ft)})})()}}function mr(){return window}function vn(){return void 0!==mr().WorkerGlobalScope&&"function"==typeof mr().importScripts}function gc(){return(gc=(0,h.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(D){return null}})).apply(this,arguments)}const vc="firebaseLocalStorageDb",pi="firebaseLocalStorage",Ei="fbase_key";class ua{constructor(_){this.request=_}toPromise(){return new Promise((_,b)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{b(this.request.error)})})}}function Bs(D,_){return D.transaction([pi],_?"readwrite":"readonly").objectStore(pi)}function yc(){const D=indexedDB.open(vc,1);return new Promise((_,b)=>{D.addEventListener("error",()=>{b(D.error)}),D.addEventListener("upgradeneeded",()=>{const I=D.result;try{I.createObjectStore(pi,{keyPath:Ei})}catch(H){b(H)}}),D.addEventListener("success",(0,h.Z)(function*(){const I=D.result;I.objectStoreNames.contains(pi)?_(I):(I.close(),yield function fu(){const D=indexedDB.deleteDatabase(vc);return new ua(D).toPromise()}(),_(yield yc()))}))})}function _c(D,_,b){return gs.apply(this,arguments)}function gs(){return(gs=(0,h.Z)(function*(D,_,b){const I=Bs(D,!0).put({[Ei]:_,value:b});return new ua(I).toPromise()})).apply(this,arguments)}function ca(){return(ca=(0,h.Z)(function*(D,_){const b=Bs(D,!1).get(_),I=yield new ua(b).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function Kr(D,_){const b=Bs(D,!0).delete(_);return new ua(b).toPromise()}const Ec=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var b=this;return(0,h.Z)(function*(){return b.db||(b.db=yield yc()),b.db})()}_withRetries(b){var I=this;return(0,h.Z)(function*(){let H=0;for(;;)try{const Q=yield I._openDb();return yield b(Q)}catch(Q){if(H++>3)throw Q;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var b=this;return(0,h.Z)(function*(){return vn()?b.initializeReceiver():b.initializeSender()})()}initializeReceiver(){var b=this;return(0,h.Z)(function*(){b.receiver=Tl._getInstance(function Sl(){return vn()?self:null}()),b.receiver._subscribe("keyChanged",function(){var I=(0,h.Z)(function*(H,Q){return{keyProcessed:(yield b._poll()).includes(Q.key)}});return function(H,Q){return I.apply(this,arguments)}}()),b.receiver._subscribe("ping",function(){var I=(0,h.Z)(function*(H,Q){return["keyChanged"]});return function(H,Q){return I.apply(this,arguments)}}())})()}initializeSender(){var b=this;return(0,h.Z)(function*(){var I,H;if(b.activeServiceWorker=yield function Wa(){return gc.apply(this,arguments)}(),!b.activeServiceWorker)return;b.sender=new ao(b.activeServiceWorker);const Q=yield b.sender._send("ping",{},800);!Q||(null===(I=Q[0])||void 0===I?void 0:I.fulfilled)&&(null===(H=Q[0])||void 0===H?void 0:H.value.includes("keyChanged"))&&(b.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(b){var I=this;return(0,h.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function mc(){var D;return(null===(D=null==navigator?void 0:navigator.serviceWorker)||void 0===D?void 0:D.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:b},I.serviceWorkerReceiverAvailable?800:50)}catch(H){}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const b=yield yc();return yield _c(b,so,"1"),yield Kr(b,so),!0}catch(b){}return!1})()}_withPendingWrite(b){var I=this;return(0,h.Z)(function*(){I.pendingWrites++;try{yield b()}finally{I.pendingWrites--}})()}_set(b,I){var H=this;return(0,h.Z)(function*(){return H._withPendingWrite((0,h.Z)(function*(){return yield H._withRetries(Q=>_c(Q,b,I)),H.localCache[b]=I,H.notifyServiceWorker(b)}))})()}_get(b){var I=this;return(0,h.Z)(function*(){const H=yield I._withRetries(Q=>function Us(D,_){return ca.apply(this,arguments)}(Q,b));return I.localCache[b]=H,H})()}_remove(b){var I=this;return(0,h.Z)(function*(){return I._withPendingWrite((0,h.Z)(function*(){return yield I._withRetries(H=>Kr(H,b)),delete I.localCache[b],I.notifyServiceWorker(b)}))})()}_poll(){var b=this;return(0,h.Z)(function*(){const I=yield b._withRetries(Le=>{const ft=Bs(Le,!1).getAll();return new ua(ft).toPromise()});if(!I)return[];if(0!==b.pendingWrites)return[];const H=[],Q=new Set;for(const{fbase_key:Le,value:ft}of I)Q.add(Le),JSON.stringify(b.localCache[Le])!==JSON.stringify(ft)&&(b.notifyListeners(Le,ft),H.push(Le));for(const Le of Object.keys(b.localCache))b.localCache[Le]&&!Q.has(Le)&&(b.notifyListeners(Le,null),H.push(Le));return H})()}notifyListeners(b,I){this.localCache[b]=I;const H=this.listeners[b];if(H)for(const Q of Array.from(H))Q(I)}startPolling(){var b=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return b._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(b,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[b]||(this.listeners[b]=new Set,this._get(b)),this.listeners[b].add(I)}_removeListener(b,I){this.listeners[b]&&(this.listeners[b].delete(I),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();function bc(D,_){return _e(D,"POST","/v2/accounts/mfaSignIn:start",Ae(D,_))}function Pi(){return(Pi=(0,h.Z)(function*(D){return(yield _e(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Uo(D){return new Promise((_,b)=>{const I=document.createElement("script");I.setAttribute("src",D),I.onload=_,I.onerror=H=>{const Q=qe("internal-error");Q.customData=H,b(Q)},I.type="text/javascript",I.charset="UTF-8",function pu(){var D,_;return null!==(_=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==_?_:document}().appendChild(I)})}function sr(D){return`__${D}${Math.floor(1e6*Math.random())}`}const Oi=1e12;class Ml{constructor(_){this.auth=_,this.counter=Oi,this._widgets=new Map}render(_,b){const I=this.counter;return this._widgets.set(I,new Fi(_,this.auth.name,b||{})),this.counter++,I}reset(_){var b;const I=_||Oi;null===(b=this._widgets.get(I))||void 0===b||b.delete(),this._widgets.delete(I)}getResponse(_){var b;return(null===(b=this._widgets.get(_||Oi))||void 0===b?void 0:b.getResponse())||""}execute(_){var b=this;return(0,h.Z)(function*(){var I;return null===(I=b._widgets.get(_||Oi))||void 0===I||I.execute(),""})()}}class Fi{constructor(_,b,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const H="string"==typeof _?document.getElementById(_):_;Te(H,"argument-error",{appName:b}),this.container=H,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function _g(D){const _=[],b="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<D;I++)_.push(b.charAt(Math.floor(Math.random()*b.length)));return _.join("")}(50);const{callback:_,"expired-callback":b}=this.params;if(_)try{_(this.responseToken)}catch(I){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,b)try{b()}catch(I){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const gu=sr("rcb"),Dr=new Ht(3e4,6e4);class dh{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!mr().grecaptcha}load(_,b=""){return Te(function mu(D){return D.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D)}(b),_,"argument-error"),this.shouldResolveImmediately(b)?Promise.resolve(mr().grecaptcha):new Promise((I,H)=>{const Q=mr().setTimeout(()=>{H(qe(_,"network-request-failed"))},Dr.get());mr()[gu]=()=>{mr().clearTimeout(Q),delete mr()[gu];const ft=mr().grecaptcha;if(!ft)return void H(qe(_,"internal-error"));const zt=ft.render;ft.render=(tn,On)=>{const fr=zt(tn,On);return this.counter++,fr},this.hostLanguage=b,I(ft)},Uo(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:gu,render:"explicit",hl:b})}`).catch(()=>{clearTimeout(Q),H(qe(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){return!!mr().grecaptcha&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class fh{load(_){return(0,h.Z)(function*(){return new Ml(_)})()}clearedOneInstance(){}}const uo="recaptcha",Hd={theme:"light",type:"image"};class vu{constructor(_,b=Object.assign({},Hd),I){this.parameters=b,this.type=uo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Et(I),this.isInvisible="invisible"===this.parameters.size,Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const H="string"==typeof _?document.getElementById(_):_;Te(H,this.auth,"argument-error"),this.container=H,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new fh:new dh,this.validateStartingState()}verify(){var _=this;return(0,h.Z)(function*(){_.assertNotDestroyed();const b=yield _.render(),I=_.getAssertedRecaptcha();return I.getResponse(b)||new Promise(Q=>{const Le=ft=>{!ft||(_.tokenChangeListeners.delete(Le),Q(ft))};_.tokenChangeListeners.add(Le),_.isInvisible&&I.execute(b)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){Te(!this.parameters.sitekey,this.auth,"argument-error"),Te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return b=>{if(this.tokenChangeListeners.forEach(I=>I(b)),"function"==typeof _)_(b);else if("string"==typeof _){const I=mr()[_];"function"==typeof I&&I(b)}}}assertNotDestroyed(){Te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,h.Z)(function*(){if(yield _.init(),!_.widgetId){let b=_.container;if(!_.isInvisible){const I=document.createElement("div");b.appendChild(I),b=I}_.widgetId=_.getAssertedRecaptcha().render(b,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,h.Z)(function*(){Te(Gt()&&!vn(),_.auth,"internal-error"),yield function Ho(){let D=null;return new Promise(_=>{"complete"!==document.readyState?(D=()=>_(),window.addEventListener("load",D)):_()}).catch(_=>{throw D&&window.removeEventListener("load",D),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const b=yield function Bo(D){return Pi.apply(this,arguments)}(_.auth);Te(b,_.auth,"internal-error"),_.parameters.sitekey=b})()}getAssertedRecaptcha(){return Te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class qa{constructor(_,b){this.verificationId=_,this.onConfirmation=b}confirm(_){const b=ds._fromVerification(this.verificationId,_);return this.onConfirmation(b)}}function Tr(D,_,b){return fa.apply(this,arguments)}function fa(){return(fa=(0,h.Z)(function*(D,_,b){const I=Et(D),H=yield Ji(I,_,(0,P.m9)(b));return new qa(H,Q=>Ns(I,Q))})).apply(this,arguments)}function Li(D,_,b){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,h.Z)(function*(D,_,b){const I=(0,P.m9)(D);yield hs(!1,I,"phone");const H=yield Ji(I.auth,_,(0,P.m9)(b));return new qa(H,Q=>K(I,Q))})).apply(this,arguments)}function Ac(D,_,b){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,h.Z)(function*(D,_,b){const I=(0,P.m9)(D),H=yield Ji(I.auth,_,(0,P.m9)(b));return new qa(H,Q=>we(I,Q))})).apply(this,arguments)}function Ji(D,_,b){return co.apply(this,arguments)}function co(){return(co=(0,h.Z)(function*(D,_,b){var I;const H=yield b.verify();try{let Q;if(Te("string"==typeof H,D,"argument-error"),Te(b.type===uo,D,"argument-error"),Q="string"==typeof _?{phoneNumber:_}:_,"session"in Q){const Le=Q.session;if("phoneNumber"in Q)return Te("enroll"===Le.type,D,"internal-error"),(yield Ld(D,{idToken:Le.credential,phoneEnrollmentInfo:{phoneNumber:Q.phoneNumber,recaptchaToken:H}})).phoneSessionInfo.sessionInfo;{Te("signin"===Le.type,D,"internal-error");const ft=(null===(I=Q.multiFactorHint)||void 0===I?void 0:I.uid)||Q.multiFactorUid;return Te(ft,D,"missing-multi-factor-info"),(yield bc(D,{mfaPendingCredential:Le.credential,mfaEnrollmentId:ft,phoneSignInInfo:{recaptchaToken:H}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Le}=yield Fa(D,{phoneNumber:Q.phoneNumber,recaptchaToken:H});return Le}}finally{b._reset()}})).apply(this,arguments)}function xl(D,_){return js.apply(this,arguments)}function js(){return(js=(0,h.Z)(function*(D,_){yield ar((0,P.m9)(D),_)})).apply(this,arguments)}let Rl=(()=>{class D{constructor(b){this.providerId=D.PROVIDER_ID,this.auth=Et(b)}verifyPhoneNumber(b,I){return Ji(this.auth,b,(0,P.m9)(I))}static credential(b,I){return ds._fromVerification(b,I)}static credentialFromResult(b){return D.credentialFromTaggedObject(b)}static credentialFromError(b){return D.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{phoneNumber:I,temporaryProof:H}=b;return I&&H?ds._fromTokenResponse(I,H):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function jo(D,_){return _?Oe(_):(Te(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class Nl extends Dn{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return Cr(_,this._buildIdpRequest())}_linkToIdToken(_,b){return Cr(_,this._buildIdpRequest(b))}_getReauthenticationResolver(_){return Cr(_,this._buildIdpRequest())}_buildIdpRequest(_){const b={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(b.idToken=_),b}}function Eg(D){return ro(D.auth,new Nl(D),D.bypassAuthState)}function Jv(D){const{auth:_,user:b}=D;return Te(b,_,"internal-error"),aa(b,new Nl(D),D.bypassAuthState)}function hh(D){return bi.apply(this,arguments)}function bi(){return(bi=(0,h.Z)(function*(D){const{auth:_,user:b}=D;return Te(b,_,"internal-error"),ar(b,new Nl(D),D.bypassAuthState)})).apply(this,arguments)}class wc{constructor(_,b,I,H,Q=!1){this.auth=_,this.resolver=I,this.user=H,this.bypassAuthState=Q,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(b)?b:[b]}execute(){var _=this;return new Promise(function(){var b=(0,h.Z)(function*(I,H){_.pendingPromise={resolve:I,reject:H};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(Q){_.reject(Q)}});return function(I,H){return b.apply(this,arguments)}}())}onAuthEvent(_){var b=this;return(0,h.Z)(function*(){const{urlResponse:I,sessionId:H,postBody:Q,tenantId:Le,error:ft,type:zt}=_;if(ft)return void b.reject(ft);const tn={auth:b.auth,requestUri:I,sessionId:H,tenantId:Le||void 0,postBody:Q||void 0,user:b.user,bypassAuthState:b.bypassAuthState};try{b.resolve(yield b.getIdpTask(zt)(tn))}catch(On){b.reject(On)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return Eg;case"linkViaPopup":case"linkViaRedirect":return hh;case"reauthViaPopup":case"reauthViaRedirect":return Jv;default:Qe(this.auth,"internal-error")}}resolve(_){fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Za=new Ht(2e3,1e4);function bg(D,_,b){return yu.apply(this,arguments)}function yu(){return(yu=(0,h.Z)(function*(D,_,b){const I=Et(D);$e(D,_,Ri);const H=jo(I,b);return new Ka(I,"signInViaPopup",_,H).executeNotNull()})).apply(this,arguments)}function Cc(D,_,b){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,h.Z)(function*(D,_,b){const I=(0,P.m9)(D);$e(I.auth,_,Ri);const H=jo(I.auth,b);return new Ka(I.auth,"reauthViaPopup",_,H,I).executeNotNull()})).apply(this,arguments)}function Tc(D,_,b){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,h.Z)(function*(D,_,b){const I=(0,P.m9)(D);$e(I.auth,_,Ri);const H=jo(I.auth,b);return new Ka(I.auth,"linkViaPopup",_,H,I).executeNotNull()})).apply(this,arguments)}let Ka=(()=>{class D extends wc{constructor(b,I,H,Q,Le){super(b,I,Q,Le),this.provider=H,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var b=this;return(0,h.Z)(function*(){const I=yield b.execute();return Te(I,b.auth,"internal-error"),I})()}onExecution(){var b=this;return(0,h.Z)(function*(){fe(1===b.filter.length,"Popup operations only handle one event");const I=oo();b.authWindow=yield b.resolver._openPopup(b.auth,b.provider,b.filter[0],I),b.authWindow.associatedEvent=I,b.resolver._originValidation(b.auth).catch(H=>{b.reject(H)}),b.resolver._isIframeWebStorageSupported(b.auth,H=>{H||b.reject(qe(b.auth,"web-storage-unsupported"))}),b.pollUserCancellation()})()}get eventId(){var b;return(null===(b=this.authWindow)||void 0===b?void 0:b.associatedEvent)||null}cancel(){this.reject(qe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const b=()=>{var I,H;this.pollId=(null===(H=null===(I=this.authWindow)||void 0===I?void 0:I.window)||void 0===H?void 0:H.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(qe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(b,Za.get())};b()}}return D.currentPopupAction=null,D})();const Gs=new Map;class Go extends wc{constructor(_,b,I=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],b,void 0,I),this.eventId=null}execute(){var _=()=>super.execute,b=this;return(0,h.Z)(function*(){let I=Gs.get(b.auth._key());if(!I){try{const Q=(yield function Ag(D,_){return fo.apply(this,arguments)}(b.resolver,b.auth))?yield _().call(b):null;I=()=>Promise.resolve(Q)}catch(H){I=()=>Promise.reject(H)}Gs.set(b.auth._key(),I)}return b.bypassAuthState||Gs.set(b.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(_){var b=()=>super.onAuthEvent,I=this;return(0,h.Z)(function*(){if("signInViaRedirect"===_.type)return b().call(I,_);if("unknown"!==_.type){if(_.eventId){const H=yield I.auth._redirectUserForId(_.eventId);if(H)return I.user=H,b().call(I,_);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function fo(){return(fo=(0,h.Z)(function*(D,_){const b=_u(_),I=Mc(D);if(!(yield I._isAvailable()))return!1;const H="true"===(yield I._get(b));return yield I._remove(b),H})).apply(this,arguments)}function zo(D,_){return pa.apply(this,arguments)}function pa(){return(pa=(0,h.Z)(function*(D,_){return Mc(D)._set(_u(_),"true")})).apply(this,arguments)}function ph(){Gs.clear()}function Ic(D,_){Gs.set(D._key(),_)}function Mc(D){return Oe(D._redirectPersistence)}function _u(D){return ut("pendingRedirect",D.config.apiKey,D.name)}function gh(D,_,b){return function Eu(D,_,b){return bu.apply(this,arguments)}(D,_,b)}function bu(){return(bu=(0,h.Z)(function*(D,_,b){const I=Et(D);$e(D,_,Ri);const H=jo(I,b);return yield zo(H,I),H._openRedirect(I,_,"signInViaRedirect")})).apply(this,arguments)}function jd(D,_,b){return function si(D,_,b){return ga.apply(this,arguments)}(D,_,b)}function ga(){return(ga=(0,h.Z)(function*(D,_,b){const I=(0,P.m9)(D);$e(I.auth,_,Ri);const H=jo(I.auth,b);yield zo(H,I.auth);const Q=yield $s(I);return H._openRedirect(I.auth,_,"reauthViaRedirect",Q)})).apply(this,arguments)}function mh(D,_,b){return function Au(D,_,b){return ho.apply(this,arguments)}(D,_,b)}function ho(){return(ho=(0,h.Z)(function*(D,_,b){const I=(0,P.m9)(D);$e(I.auth,_,Ri);const H=jo(I.auth,b);yield hs(!1,I,_.providerId),yield zo(H,I.auth);const Q=yield $s(I);return H._openRedirect(I.auth,_,"linkViaRedirect",Q)})).apply(this,arguments)}function xc(D,_){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,h.Z)(function*(D,_){return yield Et(D)._initializationPromise,Qa(D,_,!1)})).apply(this,arguments)}function Qa(D,_){return zs.apply(this,arguments)}function zs(){return(zs=(0,h.Z)(function*(D,_,b=!1){const I=Et(D),H=jo(I,_),Le=yield new Go(I,H,b).execute();return Le&&!b&&(delete Le.user._redirectEventId,yield I._persistUserIfCurrent(Le.user),yield I._setRedirectUser(null,_)),Le})).apply(this,arguments)}function $s(D){return po.apply(this,arguments)}function po(){return(po=(0,h.Z)(function*(D){const _=oo(`${D.uid}:::`);return D._redirectEventId=_,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),_})).apply(this,arguments)}class zd{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let b=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(_,I)&&(b=!0,this.sendToConsumer(_,I),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function Ya(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pl(D);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,b||(this.queuedRedirectEvent=_,b=!0)),b}sendToConsumer(_,b){var I;if(_.error&&!Pl(_)){const H=(null===(I=_.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";b.onError(qe(this.auth,H))}else b.onAuthEvent(_)}isEventForConsumer(_,b){const I=null===b.eventId||!!_.eventId&&_.eventId===b.eventId;return b.filter.includes(_.type)&&I}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(kl(_))}saveEventToCache(_){this.cachedEventUids.add(kl(_)),this.lastProcessedEventTime=Date.now()}}function kl(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(_=>_).join("-")}function Pl({type:D,error:_}){return"unknown"===D&&"auth/no-auth-event"===(null==_?void 0:_.code)}function wu(D){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,h.Z)(function*(D,_={}){return _e(D,"GET","/v1/projects",_)})).apply(this,arguments)}const $d=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mo=/^https?/;function Cu(){return(Cu=(0,h.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:_}=yield wu(D);for(const b of _)try{if(Wd(b))return}catch(I){}Qe(D,"unauthorized-domain")})).apply(this,arguments)}function Wd(D){const _=ke(),{protocol:b,hostname:I}=new URL(_);if(D.startsWith("chrome-extension://")){const Le=new URL(D);return""===Le.hostname&&""===I?"chrome-extension:"===b&&D.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===b&&Le.hostname===I}if(!mo.test(b))return!1;if($d.test(D))return I===D;const H=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+H+"|"+H+")$","i").test(I)}const Rc=new Ht(3e4,6e4);function Du(){const D=mr().___jsl;if(null==D?void 0:D.H)for(const _ of Object.keys(D.H))if(D.H[_].r=D.H[_].r||[],D.H[_].L=D.H[_].L||[],D.H[_].r=[...D.H[_].L],D.CP)for(let b=0;b<D.CP.length;b++)D.CP[b]=null}let Xa=null;function vh(D){return Xa=Xa||function Nc(D){return new Promise((_,b)=>{var I,H,Q;function Le(){Du(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{Du(),b(qe(D,"network-request-failed"))},timeout:Rc.get()})}if(null===(H=null===(I=mr().gapi)||void 0===I?void 0:I.iframes)||void 0===H?void 0:H.Iframe)_(gapi.iframes.getContext());else{if(!(null===(Q=mr().gapi)||void 0===Q?void 0:Q.load)){const ft=sr("iframefcb");return mr()[ft]=()=>{gapi.load?Le():b(qe(D,"network-request-failed"))},Uo(`https://apis.google.com/js/api.js?onload=${ft}`).catch(zt=>b(zt))}Le()}}).catch(_=>{throw Xa=null,_})}(D),Xa}const yh=new Ht(5e3,15e3),ma={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Cg(D){const _=D.config;Te(_.authDomain,D,"auth-domain-config-required");const b=_.emulator?zn(_,"emulator/auth/iframe"):`https://${D.config.authDomain}/__/auth/iframe`,I={apiKey:_.apiKey,appName:D.name,v:R.SDK_VERSION},H=wg.get(D.config.apiHost);H&&(I.eid=H);const Q=D._getFrameworks();return Q.length&&(I.fw=Q.join(",")),`${b}?${(0,P.xO)(I).slice(1)}`}function Fl(){return Fl=(0,h.Z)(function*(D){const _=yield vh(D),b=mr().gapi;return Te(b,D,"internal-error"),_.open({where:document.body,url:Cg(D),messageHandlersFilter:b.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ma,dontclear:!0},I=>new Promise(function(){var H=(0,h.Z)(function*(Q,Le){yield I.restyle({setHideOnLeave:!1});const ft=qe(D,"network-request-failed"),zt=mr().setTimeout(()=>{Le(ft)},yh.get());function tn(){mr().clearTimeout(zt),Q(I)}I.ping(tn).then(tn,()=>{Le(ft)})});return function(Q,Le){return H.apply(this,arguments)}}()))}),Fl.apply(this,arguments)}const kc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Pc{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(_){}}}function Xi(D,_,b,I,H,Q){Te(D.config.authDomain,D,"auth-domain-config-required"),Te(D.config.apiKey,D,"invalid-api-key");const Le={apiKey:D.config.apiKey,appName:D.name,authType:b,redirectUrl:I,v:R.SDK_VERSION,eventId:H};if(_ instanceof Ri){_.setDefaultLanguage(D.languageCode),Le.providerId=_.providerId||"",(0,P.xb)(_.getCustomParameters())||(Le.customParameters=JSON.stringify(_.getCustomParameters()));for(const[zt,tn]of Object.entries(Q||{}))Le[zt]=tn}if(_ instanceof _i){const zt=_.getScopes().filter(tn=>""!==tn);zt.length>0&&(Le.scopes=zt.join(","))}D.tenantId&&(Le.tid=D.tenantId);const ft=Le;for(const zt of Object.keys(ft))void 0===ft[zt]&&delete ft[zt];return`${function va({config:D}){return D.emulator?zn(D,"emulator/auth/handler"):`https://${D.authDomain}/__/auth/handler`}(D)}?${(0,P.xO)(ft).slice(1)}`}const ya="webStorageSupport",Vl=class Lc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dl,this._completeRedirectFn=Qa,this._overrideRedirectResult=Ic}_openPopup(_,b,I,H){var Q=this;return(0,h.Z)(function*(){var Le;fe(null===(Le=Q.eventManagers[_._key()])||void 0===Le?void 0:Le.manager,"_initialize() not called before _openPopup()");const ft=Xi(_,b,I,ke(),H);return function _h(D,_,b,I=500,H=600){const Q=Math.max((window.screen.availHeight-H)/2,0).toString(),Le=Math.max((window.screen.availWidth-I)/2,0).toString();let ft="";const zt=Object.assign(Object.assign({},kc),{width:I.toString(),height:H.toString(),top:Q,left:Le}),tn=(0,P.z$)().toLowerCase();b&&(ft=et(tn)?"_blank":b),pe(tn)&&(_=_||"http://localhost",zt.scrollbars="yes");const On=Object.entries(zt).reduce((Ai,[ms,Ul])=>`${Ai}${ms}=${Ul},`,"");if(function Rr(D=(0,P.z$)()){var _;return Ft(D)&&!!(null===(_=window.navigator)||void 0===_?void 0:_.standalone)}(tn)&&"_self"!==ft)return function Oc(D,_){const b=document.createElement("a");b.href=D,b.target=_;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),b.dispatchEvent(I)}(_||"",ft),new Pc(null);const fr=window.open(_||"",ft,On);Te(fr,D,"popup-blocked");try{fr.focus()}catch(Ai){}return new Pc(fr)}(_,ft,oo())})()}_openRedirect(_,b,I,H){var Q=this;return(0,h.Z)(function*(){return yield Q._originValidation(_),function Lr(D){mr().location.href=D}(Xi(_,b,I,ke(),H)),new Promise(()=>{})})()}_initialize(_){const b=_._key();if(this.eventManagers[b]){const{manager:H,promise:Q}=this.eventManagers[b];return H?Promise.resolve(H):(fe(Q,"If manager is not set, promise should be"),Q)}const I=this.initAndGetManager(_);return this.eventManagers[b]={promise:I},I.catch(()=>{delete this.eventManagers[b]}),I}initAndGetManager(_){var b=this;return(0,h.Z)(function*(){const I=yield function Xv(D){return Fl.apply(this,arguments)}(_),H=new zd(_);return I.register("authEvent",Q=>(Te(null==Q?void 0:Q.authEvent,_,"invalid-auth-event"),{status:H.onEvent(Q.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),b.eventManagers[_._key()]={manager:H},b.iframes[_._key()]=I,H})()}_isIframeWebStorageSupported(_,b){this.iframes[_._key()].send(ya,{type:ya},H=>{var Q;const Le=null===(Q=null==H?void 0:H[0])||void 0===Q?void 0:Q[ya];void 0!==Le&&b(!!Le),Qe(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const b=_._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function Ol(D){return Cu.apply(this,arguments)}(_)),this.originValidationPromises[b]}get _shouldInitProactively(){return Er()||he()||Ft()}};class Vc extends class Su{constructor(_){this.factorId=_}_process(_,b,I){switch(b.type){case"enroll":return this._finalizeEnroll(_,b.credential,I);case"signin":return this._finalizeSignIn(_,b.credential);default:return Re("unexpected MultiFactorSessionType")}}}{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new Vc(_)}_finalizeEnroll(_,b,I){return function vg(D,_){return _e(D,"POST","/v2/accounts/mfaEnrollment:finalize",Ae(D,_))}(_,{idToken:b,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,b){return function Vo(D,_){return _e(D,"POST","/v2/accounts/mfaSignIn:finalize",Ae(D,_))}(_,{mfaPendingCredential:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Kd=(()=>{class D{constructor(){}static assertion(b){return Vc._fromCredential(b)}}return D.FACTOR_ID="phone",D})();var Bl="@firebase/auth";class Eh{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var b=this;return(0,h.Z)(function*(){return b.assertAuthConfigured(),yield b.auth._initializationPromise,b.auth.currentUser?{accessToken:yield b.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const b=this.auth.onIdTokenChanged(I=>{var H;_((null===(H=I)||void 0===H?void 0:H.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,b),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const b=this.internalListeners.get(_);!b||(this.internalListeners.delete(_),b(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Qd(D=(0,R.getApp)()){const _=(0,R._getProvider)(D,"auth");return _.isInitialized()?_.getImmediate():function Be(D,_){const b=(0,R._getProvider)(D,"auth");if(b.isInitialized()){const H=b.getImmediate(),Q=b.getOptions();if((0,P.vZ)(Q,null!=_?_:{}))return H;Qe(H,"already-initialized")}return b.initialize({options:_})}(D,{popupRedirectResolver:Vl,persistence:[Ec,Cl,Dl]})}!function bh(D){(0,R._registerComponent)(new Ce.wA("auth",(_,{options:b})=>{const I=_.getProvider("app").getImmediate(),H=_.getProvider("heartbeat"),{apiKey:Q,authDomain:Le}=I.options;return((ft,zt)=>{Te(Q&&!Q.includes(":"),"invalid-api-key",{appName:ft.name}),Te(!(null==Le?void 0:Le.includes(":")),"argument-error",{appName:ft.name});const tn={apiKey:Q,authDomain:Le,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ir(D)},On=new $r(ft,zt,tn);return function Xe(D,_){const b=(null==_?void 0:_.persistence)||[],I=(Array.isArray(b)?b:[b]).map(Oe);(null==_?void 0:_.errorMap)&&D._updateErrorMap(_.errorMap),D._initializeWithPersistence(I,null==_?void 0:_.popupRedirectResolver)}(On,b),On})(I,H)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,b,I)=>{_.getProvider("auth-internal").initialize()})),(0,R._registerComponent)(new Ce.wA("auth-internal",_=>{const b=Et(_.getProvider("auth").getImmediate());return new Eh(b)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,R.registerVersion)(Bl,"0.20.1",function Bc(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,R.registerVersion)(Bl,"0.20.1","esm2017")}("Browser")},2090:(Nt,We,$)=>{"use strict";$.d(We,{$s:()=>mn,BH:()=>F,G6:()=>Te,L:()=>xe,LL:()=>ke,Mn:()=>$e,Sg:()=>U,UG:()=>ce,US:()=>Ce,ZB:()=>de,ZR:()=>Xe,b$:()=>Qe,d:()=>qe,eu:()=>fe,hl:()=>Re,jU:()=>oe,m9:()=>Cn,ne:()=>Ke,pd:()=>fn,r3:()=>Ae,ru:()=>je,tV:()=>De,uI:()=>me,vZ:()=>At,w1:()=>Ye,xO:()=>Pt,xb:()=>Ve,z$:()=>ie,zI:()=>Ie,zd:()=>on});const G=function(ue){const ve=[];let B=0;for(let Y=0;Y<ue.length;Y++){let W=ue.charCodeAt(Y);W<128?ve[B++]=W:W<2048?(ve[B++]=W>>6|192,ve[B++]=63&W|128):55296==(64512&W)&&Y+1<ue.length&&56320==(64512&ue.charCodeAt(Y+1))?(W=65536+((1023&W)<<10)+(1023&ue.charCodeAt(++Y)),ve[B++]=W>>18|240,ve[B++]=W>>12&63|128,ve[B++]=W>>6&63|128,ve[B++]=63&W|128):(ve[B++]=W>>12|224,ve[B++]=W>>6&63|128,ve[B++]=63&W|128)}return ve},Ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ue,ve){if(!Array.isArray(ue))throw Error("encodeByteArray takes an array as a parameter");this.init_();const B=ve?this.byteToCharMapWebSafe_:this.byteToCharMap_,Y=[];for(let W=0;W<ue.length;W+=3){const le=ue[W],ae=W+1<ue.length,ge=ae?ue[W+1]:0,Pe=W+2<ue.length,st=Pe?ue[W+2]:0;let jt=(15&ge)<<2|st>>6,Se=63&st;Pe||(Se=64,ae||(jt=64)),Y.push(B[le>>2],B[(3&le)<<4|ge>>4],B[jt],B[Se])}return Y.join("")},encodeString(ue,ve){return this.HAS_NATIVE_SUPPORT&&!ve?btoa(ue):this.encodeByteArray(G(ue),ve)},decodeString(ue,ve){return this.HAS_NATIVE_SUPPORT&&!ve?atob(ue):function(ue){const ve=[];let B=0,Y=0;for(;B<ue.length;){const W=ue[B++];if(W<128)ve[Y++]=String.fromCharCode(W);else if(W>191&&W<224){const le=ue[B++];ve[Y++]=String.fromCharCode((31&W)<<6|63&le)}else if(W>239&&W<365){const Pe=((7&W)<<18|(63&ue[B++])<<12|(63&ue[B++])<<6|63&ue[B++])-65536;ve[Y++]=String.fromCharCode(55296+(Pe>>10)),ve[Y++]=String.fromCharCode(56320+(1023&Pe))}else{const le=ue[B++],ae=ue[B++];ve[Y++]=String.fromCharCode((15&W)<<12|(63&le)<<6|63&ae)}}return ve.join("")}(this.decodeStringToByteArray(ue,ve))},decodeStringToByteArray(ue,ve){this.init_();const B=ve?this.charToByteMapWebSafe_:this.charToByteMap_,Y=[];for(let W=0;W<ue.length;){const le=B[ue.charAt(W++)],ge=W<ue.length?B[ue.charAt(W)]:0;++W;const st=W<ue.length?B[ue.charAt(W)]:64;++W;const ut=W<ue.length?B[ue.charAt(W)]:64;if(++W,null==le||null==ge||null==st||null==ut)throw Error();Y.push(le<<2|ge>>4),64!==st&&(Y.push(ge<<4&240|st>>2),64!==ut&&Y.push(st<<6&192|ut))}return Y},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ue=0;ue<this.ENCODED_VALS.length;ue++)this.byteToCharMap_[ue]=this.ENCODED_VALS.charAt(ue),this.charToByteMap_[this.byteToCharMap_[ue]]=ue,this.byteToCharMapWebSafe_[ue]=this.ENCODED_VALS_WEBSAFE.charAt(ue),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ue]]=ue,ue>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ue)]=ue,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ue)]=ue)}}},xe=function(ue){return function(ue){const ve=G(ue);return Ce.encodeByteArray(ve,!0)}(ue).replace(/\./g,"")},De=function(ue){try{return Ce.decodeString(ue,!0)}catch(ve){console.error("base64Decode failed: ",ve)}return null};function de(ue,ve){if(!(ve instanceof Object))return ve;switch(ve.constructor){case Date:return new Date(ve.getTime());case Object:void 0===ue&&(ue={});break;case Array:ue=[];break;default:return ve}for(const B in ve)!ve.hasOwnProperty(B)||!T(B)||(ue[B]=de(ue[B],ve[B]));return ue}function T(ue){return"__proto__"!==ue}class F{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ve,B)=>{this.resolve=ve,this.reject=B})}wrapCallback(ve){return(B,Y)=>{B?this.reject(B):this.resolve(Y),"function"==typeof ve&&(this.promise.catch(()=>{}),1===ve.length?ve(B):ve(B,Y))}}}function U(ue,ve){if(ue.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Y=ve||"demo-project",W=ue.iat||0,le=ue.sub||ue.user_id;if(!le)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ae=Object.assign({iss:`https://securetoken.google.com/${Y}`,aud:Y,iat:W,exp:W+3600,auth_time:W,sub:le,user_id:le,firebase:{sign_in_provider:"custom",identities:{}}},ue);return[xe(JSON.stringify({alg:"none",type:"JWT"})),xe(JSON.stringify(ae)),""].join(".")}function ie(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function me(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ie())}function ce(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ue){return!1}}function oe(){return"object"==typeof self&&self.self===self}function je(){const ue="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ue&&void 0!==ue.id}function Qe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function qe(){return ie().indexOf("Electron/")>=0}function Ye(){const ue=ie();return ue.indexOf("MSIE ")>=0||ue.indexOf("Trident/")>=0}function $e(){return ie().indexOf("MSAppHost/")>=0}function Te(){return!ce()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Re(){return"object"==typeof indexedDB}function fe(){return new Promise((ue,ve)=>{try{let B=!0;const Y="validate-browser-context-for-indexeddb-analytics-module",W=self.indexedDB.open(Y);W.onsuccess=()=>{W.result.close(),B||self.indexedDB.deleteDatabase(Y),ue(!0)},W.onupgradeneeded=()=>{B=!1},W.onerror=()=>{var le;ve((null===(le=W.error)||void 0===le?void 0:le.message)||"")}}catch(B){ve(B)}})}function Ie(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Xe extends Error{constructor(ve,B,Y){super(B),this.code=ve,this.customData=Y,this.name="FirebaseError",Object.setPrototypeOf(this,Xe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ke.prototype.create)}}class ke{constructor(ve,B,Y){this.service=ve,this.serviceName=B,this.errors=Y}create(ve,...B){const Y=B[0]||{},W=`${this.service}/${ve}`,le=this.errors[ve],ae=le?function Gt(ue,ve){return ue.replace(Qt,(B,Y)=>{const W=ve[Y];return null!=W?String(W):`<${Y}?>`})}(le,Y):"Error";return new Xe(W,`${this.serviceName}: ${ae} (${W}).`,Y)}}const Qt=/\{\$([^}]+)}/g;function Ae(ue,ve){return Object.prototype.hasOwnProperty.call(ue,ve)}function Ve(ue){for(const ve in ue)if(Object.prototype.hasOwnProperty.call(ue,ve))return!1;return!0}function At(ue,ve){if(ue===ve)return!0;const B=Object.keys(ue),Y=Object.keys(ve);for(const W of B){if(!Y.includes(W))return!1;const le=ue[W],ae=ve[W];if(Ze(le)&&Ze(ae)){if(!At(le,ae))return!1}else if(le!==ae)return!1}for(const W of Y)if(!B.includes(W))return!1;return!0}function Ze(ue){return null!==ue&&"object"==typeof ue}function Pt(ue){const ve=[];for(const[B,Y]of Object.entries(ue))Array.isArray(Y)?Y.forEach(W=>{ve.push(encodeURIComponent(B)+"="+encodeURIComponent(W))}):ve.push(encodeURIComponent(B)+"="+encodeURIComponent(Y));return ve.length?"&"+ve.join("&"):""}function on(ue){const ve={};return ue.replace(/^\?/,"").split("&").forEach(Y=>{if(Y){const[W,le]=Y.split("=");ve[decodeURIComponent(W)]=decodeURIComponent(le)}}),ve}function fn(ue){const ve=ue.indexOf("?");if(!ve)return"";const B=ue.indexOf("#",ve);return ue.substring(ve,B>0?B:void 0)}function Ke(ue,ve){const B=new wt(ue,ve);return B.subscribe.bind(B)}class wt{constructor(ve,B){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=B,this.task.then(()=>{ve(this)}).catch(Y=>{this.error(Y)})}next(ve){this.forEachObserver(B=>{B.next(ve)})}error(ve){this.forEachObserver(B=>{B.error(ve)}),this.close(ve)}complete(){this.forEachObserver(ve=>{ve.complete()}),this.close()}subscribe(ve,B,Y){let W;if(void 0===ve&&void 0===B&&void 0===Y)throw new Error("Missing Observer.");W=function vt(ue,ve){if("object"!=typeof ue||null===ue)return!1;for(const B of ve)if(B in ue&&"function"==typeof ue[B])return!0;return!1}(ve,["next","error","complete"])?ve:{next:ve,error:B,complete:Y},void 0===W.next&&(W.next=Ot),void 0===W.error&&(W.error=Ot),void 0===W.complete&&(W.complete=Ot);const le=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?W.error(this.finalError):W.complete()}catch(ae){}}),this.observers.push(W),le}unsubscribeOne(ve){void 0===this.observers||void 0===this.observers[ve]||(delete this.observers[ve],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ve){if(!this.finalized)for(let B=0;B<this.observers.length;B++)this.sendOne(B,ve)}sendOne(ve,B){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ve])try{B(this.observers[ve])}catch(Y){"undefined"!=typeof console&&console.error&&console.error(Y)}})}close(ve){this.finalized||(this.finalized=!0,void 0!==ve&&(this.finalError=ve),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ot(){}function mn(ue,ve=1e3,B=2){const Y=ve*Math.pow(B,ue),W=Math.round(.5*Y*(Math.random()-.5)*2);return Math.min(144e5,Y+W)}function Cn(ue){return ue&&ue._delegate?ue._delegate:ue}},9356:(Nt,We,$)=>{"use strict";$.r(We),$.d(We,{BASE_OPTION_DEFAULTS:()=>Ms,BASE_OPTION_REFINERS:()=>ou,BaseComponent:()=>sr,BgEvent:()=>Og,CalendarApi:()=>za,CalendarContent:()=>H,CalendarDataManager:()=>vo,CalendarDataProvider:()=>Bi,CalendarRoot:()=>ft,Component:()=>R,ContentHook:()=>vu,CustomContentRenderContext:()=>Hd,DateComponent:()=>Ml,DateEnv:()=>gr,DateProfileGenerator:()=>jo,DayCellContent:()=>Th,DayCellRoot:()=>oy,DayHeader:()=>Hl,DaySeriesModel:()=>Jd,DayTableModel:()=>Mu,DelayedRunner:()=>Nc,ElementDragging:()=>Iu,ElementScrollController:()=>Ec,Emitter:()=>ca,EventApi:()=>Zr,EventRoot:()=>il,EventSourceApi:()=>T,Fragment:()=>be,Interaction:()=>Su,MoreLinkRoot:()=>ay,MountHook:()=>qa,NamedTimeZoneImpl:()=>_h,NowIndicatorRoot:()=>kg,NowTimer:()=>Ul,PositionCache:()=>hu,RefMap:()=>Sg,RenderHook:()=>uo,ScrollController:()=>Il,ScrollResponder:()=>Bo,Scroller:()=>wh,SegHierarchy:()=>Oc,SimpleScrollGrid:()=>Rg,Slicer:()=>Xd,Splitter:()=>Dl,StandardEvent:()=>Dh,TableDateCell:()=>fr,TableDowCell:()=>ms,Theme:()=>Vo,ViewApi:()=>uu,ViewContextType:()=>Pi,ViewRoot:()=>Qr,WeekNumberRoot:()=>jc,WindowScrollController:()=>bc,addDays:()=>Ke,addDurations:()=>ti,addMs:()=>wt,addWeeks:()=>dn,allowContextMenu:()=>yr,allowSelection:()=>zn,applyMutationToEventStore:()=>Os,applyStyle:()=>je,applyStyleProp:()=>Qe,asCleanDays:()=>Er,asRoughMinutes:()=>Ue,asRoughMs:()=>Bt,asRoughSeconds:()=>dt,binarySearch:()=>Vl,buildClassNameNormalizer:()=>Tr,buildEntryKey:()=>Zd,buildEventApis:()=>El,buildEventRangeKey:()=>ks,buildHashFromArray:()=>st,buildIsoString:()=>Dn,buildNavLinkAttrs:()=>vn,buildSegCompareObj:()=>Nn,buildSegTimeText:()=>Ba,collectFromHash:()=>he,combineEventUis:()=>Or,compareByFieldSpec:()=>_e,compareByFieldSpecs:()=>Ae,compareNumbers:()=>Ze,compareObjs:()=>Se,computeEarliestSegStart:()=>Bg,computeEdges:()=>Ei,computeFallbackHeaderFormat:()=>zt,computeHeightAndMargins:()=>yc,computeInnerRect:()=>ua,computeRect:()=>Bs,computeSegDraggable:()=>Qi,computeSegEndResizable:()=>io,computeSegStartResizable:()=>Yi,computeShrinkWidth:()=>ey,computeSmallestCellWidth:()=>on,computeVisibleDayRange:()=>hs,config:()=>Eh,constrainPoint:()=>cu,createAriaClickAttrs:()=>Xe,createContext:()=>xe,createDuration:()=>Ft,createElement:()=>G,createEmptyEventStore:()=>ii,createEventInstance:()=>Y,createEventUi:()=>Rs,createFormatter:()=>Ar,createPlugin:()=>Fi,createPortal:()=>De,createRef:()=>Ce,diffDates:()=>aa,diffDayAndTime:()=>In,diffDays:()=>vt,diffPoints:()=>yg,diffWeeks:()=>Yt,diffWholeDays:()=>Gn,diffWholeWeeks:()=>wn,disableCursor:()=>Qn,elementClosest:()=>U,elementMatches:()=>ie,enableCursor:()=>It,eventTupleToStore:()=>Ri,filterEventStoreDefs:()=>ia,filterHash:()=>ae,findDirectChildren:()=>ce,findElements:()=>me,flexibleCompare:()=>Ve,flushSync:()=>X,formatDate:()=>wl,formatDayString:()=>cr,formatIsoTimeString:()=>Hr,formatRange:()=>hc,getAllowYScrolling:()=>ny,getCanVGrowWithinCell:()=>Vs,getClippingParents:()=>gs,getDateMeta:()=>Tl,getDayClassNames:()=>oo,getDefaultEventEnd:()=>Ps,getElRoot:()=>Ye,getElSeg:()=>nr,getEntrySpanEnd:()=>Fc,getEventClassNames:()=>Tn,getEventTargetViaRoot:()=>qe,getIsRtlScrollbarOnLeft:()=>gc,getRectCenter:()=>Bd,getRelevantEvents:()=>_i,getScrollGridClassNames:()=>oi,getScrollbarWidths:()=>vc,getSectionClassNames:()=>Ru,getSectionHasLiquidHeight:()=>ty,getSegAnchorAttrs:()=>dr,getSegMeta:()=>ot,getSlotClassNames:()=>ao,getStickyFooterScrollbar:()=>xg,getStickyHeaderDates:()=>ry,getUnequalProps:()=>jt,getUniqueDomId:()=>mt,globalLocales:()=>lh,globalPlugins:()=>Wd,greatestDurationDenominator:()=>Rn,groupIntersectingEntries:()=>Xi,guid:()=>Qt,hasBgRendering:()=>Tt,hasShrinkWidth:()=>Mg,identity:()=>tt,interactionSettingsStore:()=>Bl,interactionSettingsToStore:()=>Kd,intersectRanges:()=>Ns,intersectRects:()=>ch,intersectSpans:()=>ya,isArraysEqual:()=>di,isColPropsEqual:()=>Ui,isDateSelectionValid:()=>Uc,isDateSpansEqual:()=>ac,isInt:()=>Pt,isInteractionValid:()=>nl,isMultiDayRange:()=>$n,isPropsEqual:()=>ut,isPropsValid:()=>jl,isValidDate:()=>ve,joinSpans:()=>va,listenBySelector:()=>fe,mapHash:()=>ge,memoize:()=>Ln,memoizeArraylike:()=>Nr,memoizeHashlike:()=>us,memoizeObjArg:()=>Wi,mergeEventStores:()=>to,multiplyDuration:()=>Xs,padStart:()=>lt,parseBusinessHours:()=>Fo,parseClassNames:()=>xs,parseDragMeta:()=>bh,parseEventDef:()=>no,parseFieldSpecs:()=>An,parseMarker:()=>Fs,pointInsideRect:()=>Vd,preventContextMenu:()=>Vn,preventDefault:()=>Te,preventSelection:()=>Ht,rangeContainsMarker:()=>we,rangeContainsRange:()=>Z,rangesEqual:()=>la,rangesIntersect:()=>K,refineEventDef:()=>ko,refineProps:()=>xi,removeElement:()=>F,removeExact:()=>ls,render:()=>te,renderChunkContent:()=>xu,renderFill:()=>Pg,renderMicroColGroup:()=>Ch,renderScrollShim:()=>yo,requestJson:()=>Qa,sanitizeShrinkWidth:()=>Ig,setElSeg:()=>cn,setRef:()=>Oi,sliceEventStore:()=>yt,sliceEvents:()=>Pc,sortEventSegs:()=>rr,startOfDay:()=>ln,translateRect:()=>so,triggerDateSelect:()=>qr,unmountComponentAtNode:()=>de,unpromisify:()=>Us,version:()=>dy,whenTransitionDone:()=>Be,wholeDivideDurations:()=>Sn}),$(4602);var P=$(655);if("undefined"==typeof FullCalendarVDom)throw new Error("Please import the top-level fullcalendar lib before attempting to import a plugin.");var R=FullCalendarVDom.Component,G=FullCalendarVDom.createElement,te=FullCalendarVDom.render,Ce=FullCalendarVDom.createRef,be=FullCalendarVDom.Fragment,xe=FullCalendarVDom.createContext,De=FullCalendarVDom.createPortal,X=FullCalendarVDom.flushSync,de=FullCalendarVDom.unmountComponentAtNode,T=function(){function d(c,g){this.context=c,this.internalEventSource=g}return d.prototype.remove=function(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})},d.prototype.refetch=function(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})},Object.defineProperty(d.prototype,"id",{get:function(){return this.internalEventSource.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"url",{get:function(){return this.internalEventSource.meta.url},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"format",{get:function(){return this.internalEventSource.meta.format},enumerable:!1,configurable:!0}),d}();function F(d){d.parentNode&&d.parentNode.removeChild(d)}function U(d,c){if(d.closest)return d.closest(c);if(!document.documentElement.contains(d))return null;do{if(ie(d,c))return d;d=d.parentElement||d.parentNode}while(null!==d&&1===d.nodeType);return null}function ie(d,c){return(d.matches||d.matchesSelector||d.msMatchesSelector).call(d,c)}function me(d,c){for(var g=d instanceof HTMLElement?[d]:d,v=[],w=0;w<g.length;w+=1)for(var M=g[w].querySelectorAll(c),N=0;N<M.length;N+=1)v.push(M[N]);return v}function ce(d,c){for(var g=d instanceof HTMLElement?[d]:d,v=[],w=0;w<g.length;w+=1)for(var M=g[w].children,N=0;N<M.length;N+=1){var V=M[N];(!c||ie(V,c))&&v.push(V)}return v}var oe=/(top|left|right|bottom|width|height)$/i;function je(d,c){for(var g in c)Qe(d,g,c[g])}function Qe(d,c,g){d.style[c]=null==g?"":"number"==typeof g&&oe.test(c)?g+"px":g}function qe(d){var c,g;return null!==(g=null===(c=d.composedPath)||void 0===c?void 0:c.call(d)[0])&&void 0!==g?g:d.target}function Ye(d){return d.getRootNode?d.getRootNode():document}var $e=0;function mt(){return"fc-dom-"+($e+=1)}function Te(d){d.preventDefault()}function fe(d,c,g,v){var w=function Re(d,c){return function(g){var v=U(g.target,d);v&&c.call(v,g,v)}}(g,v);return d.addEventListener(c,w),function(){d.removeEventListener(c,w)}}var Oe=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function Be(d,c){var g=function(v){c(v),Oe.forEach(function(w){d.removeEventListener(w,g)})};Oe.forEach(function(v){d.addEventListener(v,g)})}function Xe(d){return(0,P.__assign)({onClick:d},ke(d))}function ke(d){return{tabIndex:0,onKeyDown:function(c){("Enter"===c.key||" "===c.key)&&(d(c),c.preventDefault())}}}var Gt=0;function Qt(){return String(Gt+=1)}function Qn(){document.body.classList.add("fc-not-allowed")}function It(){document.body.classList.remove("fc-not-allowed")}function Ht(d){d.classList.add("fc-unselectable"),d.addEventListener("selectstart",Te)}function zn(d){d.classList.remove("fc-unselectable"),d.removeEventListener("selectstart",Te)}function Vn(d){d.addEventListener("contextmenu",Te)}function yr(d){d.removeEventListener("contextmenu",Te)}function An(d){var v,w,c=[],g=[];for("string"==typeof d?g=d.split(/\s*,\s*/):"function"==typeof d?g=[d]:Array.isArray(d)&&(g=d),v=0;v<g.length;v+=1)"string"==typeof(w=g[v])?c.push("-"===w.charAt(0)?{field:w.substring(1),order:-1}:{field:w,order:1}):"function"==typeof w&&c.push({func:w});return c}function Ae(d,c,g){var v,w;for(v=0;v<g.length;v+=1)if(w=_e(d,c,g[v]))return w;return 0}function _e(d,c,g){return g.func?g.func(d,c):Ve(d[g.field],c[g.field])*(g.order||1)}function Ve(d,c){return d||c?null==c?-1:null==d?1:"string"==typeof d||"string"==typeof c?String(d).localeCompare(String(c)):d-c:0}function lt(d,c){var g=String(d);return"000".substr(0,c-g.length)+g}function At(d,c,g){return"function"==typeof d?d.apply(void 0,c):"string"==typeof d?c.reduce(function(v,w,M){return v.replace("$"+M,w||"")},d):g}function Ze(d,c){return d-c}function Pt(d){return d%1==0}function on(d){var c=d.querySelector(".fc-scrollgrid-shrink-frame"),g=d.querySelector(".fc-scrollgrid-shrink-cushion");if(!c)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!g)throw new Error("needs fc-scrollgrid-shrink-cushion className");return d.getBoundingClientRect().width-c.getBoundingClientRect().width+g.getBoundingClientRect().width}var fn=["sun","mon","tue","wed","thu","fri","sat"];function dn(d,c){var g=Cn(d);return g[2]+=7*c,ue(g)}function Ke(d,c){var g=Cn(d);return g[2]+=c,ue(g)}function wt(d,c){var g=Cn(d);return g[6]+=c,ue(g)}function Yt(d,c){return vt(d,c)/7}function vt(d,c){return(c.valueOf()-d.valueOf())/864e5}function In(d,c){var g=ln(d),v=ln(c);return{years:0,months:0,days:Math.round(vt(g,v)),milliseconds:c.valueOf()-v.valueOf()-(d.valueOf()-g.valueOf())}}function wn(d,c){var g=Gn(d,c);return null!==g&&g%7==0?g/7:null}function Gn(d,c){return B(d)===B(c)?Math.round(vt(d,c)):null}function ln(d){return ue([d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()])}function Sr(d,c,g,v){var w=ue([c,0,1+mn(c,g,v)]),M=ln(d),N=Math.round(vt(w,M));return Math.floor(N/7)+1}function mn(d,c,g){var v=7+c-g;return-(7+ue([d,0,v]).getUTCDay()-c)%7+v-1}function _r(d){return[d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),d.getMinutes(),d.getSeconds(),d.getMilliseconds()]}function er(d){return new Date(d[0],d[1]||0,null==d[2]?1:d[2],d[3]||0,d[4]||0,d[5]||0)}function Cn(d){return[d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()]}function ue(d){return 1===d.length&&(d=d.concat([0])),new Date(Date.UTC.apply(Date,d))}function ve(d){return!isNaN(d.valueOf())}function B(d){return 1e3*d.getUTCHours()*60*60+1e3*d.getUTCMinutes()*60+1e3*d.getUTCSeconds()+d.getUTCMilliseconds()}function Y(d,c,g,v){return{instanceId:Qt(),defId:d,range:c,forcedStartTzo:null==g?null:g,forcedEndTzo:null==v?null:v}}var W=Object.prototype.hasOwnProperty;function le(d,c){var g={};if(c)for(var v in c){for(var w=[],M=d.length-1;M>=0;M-=1){var N=d[M][v];if("object"==typeof N&&N)w.unshift(N);else if(void 0!==N){g[v]=N;break}}w.length&&(g[v]=le(w))}for(M=d.length-1;M>=0;M-=1){var V=d[M];for(var z in V)z in g||(g[z]=V[z])}return g}function ae(d,c){var g={};for(var v in d)c(d[v],v)&&(g[v]=d[v]);return g}function ge(d,c){var g={};for(var v in d)g[v]=c(d[v],v);return g}function Pe(d){for(var c={},g=0,v=d;g<v.length;g++)c[v[g]]=!0;return c}function st(d,c){for(var g={},v=0;v<d.length;v+=1){var w=c(d[v],v);g[w[0]]=w[1]}return g}function ht(d){var c=[];for(var g in d)c.push(d[g]);return c}function ut(d,c){if(d===c)return!0;for(var g in d)if(W.call(d,g)&&!(g in c))return!1;for(var g in c)if(W.call(c,g)&&d[g]!==c[g])return!1;return!0}function jt(d,c){var g=[];for(var v in d)W.call(d,v)&&(v in c||g.push(v));for(var v in c)W.call(c,v)&&d[v]!==c[v]&&g.push(v);return g}function Se(d,c,g){if(void 0===g&&(g={}),d===c)return!0;for(var v in c)if(!(v in d)||!pe(d[v],c[v],g[v]))return!1;for(var v in d)if(!(v in c))return!1;return!0}function pe(d,c,g){return d===c||!0===g||!!g&&g(d,c)}function he(d,c,g,v){void 0===c&&(c=0),void 0===v&&(v=1);var w=[];null==g&&(g=Object.keys(d).length);for(var M=c;M<g;M+=v){var N=d[M];void 0!==N&&w.push(N)}return w}function bt(d,c,g){var v=g.dateEnv,w=g.pluginHooks,M=g.options,N=d.defs,V=d.instances;for(var z in V=ae(V,function(an){return!N[an.defId].recurringDef}),N){var ee=N[z];if(ee.recurringDef){var Ne=ee.recurringDef.duration;Ne||(Ne=ee.allDay?M.defaultAllDayEventDuration:M.defaultTimedEventDuration);for(var ct=0,pt=Ut(ee,Ne,c,v,w.recurringTypes);ct<pt.length;ct++){var Dt=pt[ct],Kt=Y(z,{start:Dt,end:v.add(Dt,Ne)});V[Kt.instanceId]=Kt}}}return{defs:N,instances:V}}function Ut(d,c,g,v,w){var N=w[d.recurringDef.typeId].expand(d.recurringDef.typeData,{start:v.subtract(g.start,c),end:g.end},v);return d.allDay&&(N=N.map(ln)),N}var nn=["years","months","days","milliseconds"],Pn=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Ft(d,c){var g;return"string"==typeof d?function hr(d){var c=Pn.exec(d);if(c){var g=c[1]?-1:1;return{years:0,months:0,days:g*(c[2]?parseInt(c[2],10):0),milliseconds:g*(60*(c[3]?parseInt(c[3],10):0)*60*1e3+60*(c[4]?parseInt(c[4],10):0)*1e3+1e3*(c[5]?parseInt(c[5],10):0)+(c[6]?parseInt(c[6],10):0))}}return null}(d):"object"==typeof d&&d?Rr(d):"number"==typeof d?Rr(((g={})[c||"milliseconds"]=d,g)):null}function Rr(d){var c={years:d.years||d.year||0,months:d.months||d.month||0,days:d.days||d.day||0,milliseconds:60*(d.hours||d.hour||0)*60*1e3+60*(d.minutes||d.minute||0)*1e3+1e3*(d.seconds||d.second||0)+(d.milliseconds||d.millisecond||d.ms||0)},g=d.weeks||d.week;return g&&(c.days+=7*g,c.specifiedWeeks=!0),c}function Er(d){return d.years||d.months||d.milliseconds?0:d.days}function ti(d,c){return{years:d.years+c.years,months:d.months+c.months,days:d.days+c.days,milliseconds:d.milliseconds+c.milliseconds}}function Xs(d,c){return{years:d.years*c,months:d.months*c,days:d.days*c,milliseconds:d.milliseconds*c}}function ye(d){return Bt(d)/864e5}function Ue(d){return Bt(d)/6e4}function dt(d){return Bt(d)/1e3}function Bt(d){return 31536e6*d.years+2592e6*d.months+864e5*d.days+d.milliseconds}function Sn(d,c){for(var g=null,v=0;v<nn.length;v+=1){var w=nn[v];if(c[w]){var M=d[w]/c[w];if(!Pt(M)||null!==g&&g!==M)return null;g=M}else if(d[w])return null}return g}function Rn(d){var c=d.milliseconds;if(c){if(c%1e3!=0)return{unit:"millisecond",value:c};if(c%6e4!=0)return{unit:"second",value:c/1e3};if(c%36e5!=0)return{unit:"minute",value:c/6e4};if(c)return{unit:"hour",value:c/36e5}}return d.days?d.specifiedWeeks&&d.days%7==0?{unit:"week",value:d.days/7}:{unit:"day",value:d.days}:d.months?{unit:"month",value:d.months}:d.years?{unit:"year",value:d.years}:{unit:"millisecond",value:0}}function Dn(d,c,g){void 0===g&&(g=!1);var v=d.toISOString();return v=v.replace(".000",""),g&&(v=v.replace("T00:00:00Z","")),v.length>10&&(null==c?v=v.replace("Z",""):0!==c&&(v=v.replace("Z",en(c,!0)))),v}function cr(d){return d.toISOString().replace(/T.*$/,"")}function Hr(d){return lt(d.getUTCHours(),2)+":"+lt(d.getUTCMinutes(),2)+":"+lt(d.getUTCSeconds(),2)}function en(d,c){void 0===c&&(c=!1);var g=d<0?"-":"+",v=Math.abs(d),w=Math.floor(v/60),M=Math.round(v%60);return c?g+lt(w,2)+":"+lt(M,2):"GMT"+g+w+(M?":"+lt(M,2):"")}function ls(d,c){for(var g=0,v=0;v<d.length;)d[v]===c?(d.splice(v,1),g+=1):v+=1;return g}function di(d,c,g){if(d===c)return!0;var w,v=d.length;if(v!==c.length)return!1;for(w=0;w<v;w+=1)if(!(g?g(d[w],c[w]):d[w]===c[w]))return!1;return!0}function Ln(d,c,g){var v,w;return function(){for(var M=[],N=0;N<arguments.length;N++)M[N]=arguments[N];if(v){if(!di(v,M)){g&&g(w);var V=d.apply(this,M);(!c||!c(V,w))&&(w=V)}}else w=d.apply(this,M);return v=M,w}}function Wi(d,c,g){var w,M,v=this;return function(N){if(w){if(!ut(w,N)){g&&g(M);var V=d.call(v,N);(!c||!c(V,M))&&(M=V)}}else M=d.call(v,N);return w=N,M}}function Nr(d,c,g){var v=this,w=[],M=[];return function(N){for(var V=w.length,z=N.length,ee=0;ee<V;ee+=1)if(N[ee]){if(!di(w[ee],N[ee])){g&&g(M[ee]);var Ne=d.apply(v,N[ee]);(!c||!c(Ne,M[ee]))&&(M[ee]=Ne)}}else g&&g(M[ee]);for(;ee<z;ee+=1)M[ee]=d.apply(v,N[ee]);return w=N,M.splice(z),M}}function us(d,c,g){var v=this,w={},M={};return function(N){var V={};for(var z in N)if(M[z])if(di(w[z],N[z]))V[z]=M[z];else{g&&g(M[z]);var ee=d.apply(v,N[z]);V[z]=c&&c(ee,M[z])?M[z]:ee}else V[z]=d.apply(v,N[z]);return w=N,M=V,V}}var cs={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},br={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Zn=/\s*([ap])\.?m\.?/i,Pa=/,/g,Xo=/\s+/g,ni=/\u200e/g,ri=/UTC|GMT/,ea=function(){function d(c){var g={},v={},w=0;for(var M in c)M in cs?(v[M]=c[M],w=Math.max(cs[M],w)):(g[M]=c[M],M in br&&(w=Math.max(br[M],w)));this.standardDateProps=g,this.extendedSettings=v,this.severity=w,this.buildFormattingFunc=Ln(Ro)}return d.prototype.format=function(c,g){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,g)(c)},d.prototype.formatRange=function(c,g,v,w){var N=this.standardDateProps,V=this.extendedSettings,z=function Cr(d,c,g){return g.getMarkerYear(d)!==g.getMarkerYear(c)?5:g.getMarkerMonth(d)!==g.getMarkerMonth(c)?4:g.getMarkerDay(d)!==g.getMarkerDay(c)?2:B(d)!==B(c)?1:0}(c.marker,g.marker,v.calendarSystem);if(!z)return this.format(c,v);var ee=z;ee>1&&("numeric"===N.year||"2-digit"===N.year)&&("numeric"===N.month||"2-digit"===N.month)&&("numeric"===N.day||"2-digit"===N.day)&&(ee=1);var Ne=this.format(c,v),He=this.format(g,v);if(Ne===He)return Ne;var ct=function su(d,c){var g={};for(var v in d)(!(v in br)||br[v]<=c)&&(g[v]=d[v]);return g}(N,ee),pt=Ro(ct,V,v),Dt=pt(c),Kt=pt(g),an=function Id(d,c,g,v){for(var w=0;w<d.length;){var M=d.indexOf(c,w);if(-1===M)break;for(var N=d.substr(0,M),V=d.substr(w=M+c.length),z=0;z<g.length;){var ee=g.indexOf(v,z);if(-1===ee)break;var Ne=g.substr(0,ee),He=g.substr(z=ee+v.length);if(N===Ne&&V===He)return{before:N,after:V}}}return null}(Ne,Dt,He,Kt),xt=V.separator||w||v.defaultSeparator||"";return an?an.before+Dt+xt+Kt+an.after:Ne+xt+He},d.prototype.getLargestUnit=function(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}},d}();function Ro(d,c,g){var v=Object.keys(d).length;return 1===v&&"short"===d.timeZoneName?function(w){return en(w.timeZoneOffset)}:0===v&&c.week?function(w){return function ta(d,c,g,v,w){var M=[];return"long"===w?M.push(g):("short"===w||"narrow"===w)&&M.push(c),("long"===w||"short"===w)&&M.push(" "),M.push(v.simpleNumberFormat.format(d)),"rtl"===v.options.direction&&M.reverse(),M.join("")}(g.computeWeekNumber(w.marker),g.weekText,g.weekTextLong,g.locale,c.week)}:function eo(d,c,g){d=(0,P.__assign)({},d),c=(0,P.__assign)({},c),function fi(d,c){d.timeZoneName&&(d.hour||(d.hour="2-digit"),d.minute||(d.minute="2-digit")),"long"===d.timeZoneName&&(d.timeZoneName="short"),c.omitZeroMinute&&(d.second||d.millisecond)&&delete c.omitZeroMinute}(d,c),d.timeZone="UTC";var w,v=new Intl.DateTimeFormat(g.locale.codes,d);if(c.omitZeroMinute){var M=(0,P.__assign)({},d);delete M.minute,w=new Intl.DateTimeFormat(g.locale.codes,M)}return function(N){var V=N.marker;return function ic(d,c,g,v,w){return d=d.replace(ni,""),"short"===g.timeZoneName&&(d=function Oa(d,c){var g=!1;return d=d.replace(ri,function(){return g=!0,c}),g||(d+=" "+c),d}(d,"UTC"===w.timeZone||null==c.timeZoneOffset?"UTC":en(c.timeZoneOffset))),v.omitCommas&&(d=d.replace(Pa,"").trim()),v.omitZeroMinute&&(d=d.replace(":00","")),!1===v.meridiem?d=d.replace(Zn,"").trim():"narrow"===v.meridiem?d=d.replace(Zn,function(M,N){return N.toLocaleLowerCase()}):"short"===v.meridiem?d=d.replace(Zn,function(M,N){return N.toLocaleLowerCase()+"m"}):"lowercase"===v.meridiem&&(d=d.replace(Zn,function(M){return M.toLocaleLowerCase()})),(d=d.replace(Xo," ")).trim()}((w&&!V.getUTCMinutes()?w:v).format(V),N,d,c,g)}}(d,c,g)}function qi(d,c){var g=c.markerToArray(d.marker);return{marker:d.marker,timeZoneOffset:d.timeZoneOffset,array:g,year:g[0],month:g[1],day:g[2],hour:g[3],minute:g[4],second:g[5],millisecond:g[6]}}function Fa(d,c,g,v){var w=qi(d,g.calendarSystem);return{date:w,start:w,end:c?qi(c,g.calendarSystem):null,timeZone:g.timeZone,localeCodes:g.locale.codes,defaultSeparator:v||g.defaultSeparator}}var na=function(){function d(c){this.cmdStr=c}return d.prototype.format=function(c,g,v){return g.cmdFormatter(this.cmdStr,Fa(c,null,g,v))},d.prototype.formatRange=function(c,g,v,w){return v.cmdFormatter(this.cmdStr,Fa(c,g,v,w))},d}(),Md=function(){function d(c){this.func=c}return d.prototype.format=function(c,g,v){return this.func(Fa(c,null,g,v))},d.prototype.formatRange=function(c,g,v,w){return this.func(Fa(c,g,v,w))},d}();function Ar(d){return"object"==typeof d&&d?new ea(d):"string"==typeof d?new na(d):"function"==typeof d?new Md(d):null}var ou={navLinkDayClick:tt,navLinkWeekClick:tt,duration:Ft,bootstrapFontAwesome:tt,buttonIcons:tt,customButtons:tt,defaultAllDayEventDuration:Ft,defaultTimedEventDuration:Ft,nextDayThreshold:Ft,scrollTime:Ft,scrollTimeReset:Boolean,slotMinTime:Ft,slotMaxTime:Ft,dayPopoverFormat:Ar,slotDuration:Ft,snapDuration:Ft,headerToolbar:tt,footerToolbar:tt,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Ar,dayHeaderClassNames:tt,dayHeaderContent:tt,dayHeaderDidMount:tt,dayHeaderWillUnmount:tt,dayCellClassNames:tt,dayCellContent:tt,dayCellDidMount:tt,dayCellWillUnmount:tt,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:tt,weekNumbers:Boolean,weekNumberClassNames:tt,weekNumberContent:tt,weekNumberDidMount:tt,weekNumberWillUnmount:tt,editable:Boolean,viewClassNames:tt,viewDidMount:tt,viewWillUnmount:tt,nowIndicator:Boolean,nowIndicatorClassNames:tt,nowIndicatorContent:tt,nowIndicatorDidMount:tt,nowIndicatorWillUnmount:tt,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:tt,locale:tt,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:tt,eventOrder:An,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:tt,contentHeight:tt,direction:String,weekNumberFormat:Ar,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:tt,initialDate:tt,now:tt,eventDataTransform:tt,stickyHeaderDates:tt,stickyFooterScrollbar:tt,viewHeight:tt,defaultAllDay:Boolean,eventSourceFailure:tt,eventSourceSuccess:tt,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:tt,eventConstraint:tt,eventAllow:tt,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:tt,eventContent:tt,eventDidMount:tt,eventWillUnmount:tt,selectConstraint:tt,selectOverlap:tt,selectAllow:tt,droppable:Boolean,unselectCancel:String,slotLabelFormat:tt,slotLaneClassNames:tt,slotLaneContent:tt,slotLaneDidMount:tt,slotLaneWillUnmount:tt,slotLabelClassNames:tt,slotLabelContent:tt,slotLabelDidMount:tt,slotLabelWillUnmount:tt,dayMaxEvents:tt,dayMaxEventRows:tt,dayMinWidth:Number,slotLabelInterval:Ft,allDayText:String,allDayClassNames:tt,allDayContent:tt,allDayDidMount:tt,allDayWillUnmount:tt,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Ar,rerenderDelay:Number,moreLinkText:tt,moreLinkHint:tt,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:tt,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Ft,hiddenDays:tt,monthMode:Boolean,fixedWeekCount:Boolean,validRange:tt,visibleRange:tt,titleFormat:tt,eventInteractive:Boolean,noEventsText:String,viewHint:tt,navLinkHint:tt,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:tt,moreLinkClassNames:tt,moreLinkContent:tt,moreLinkDidMount:tt,moreLinkWillUnmount:tt},Ms={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30},xd={datesSet:tt,eventsSet:tt,eventAdd:tt,eventChange:tt,eventRemove:tt,windowResize:tt,eventClick:tt,eventMouseEnter:tt,eventMouseLeave:tt,select:tt,unselect:tt,loading:tt,_unmount:tt,_beforeprint:tt,_afterprint:tt,_noEventDrop:tt,_noEventResize:tt,_resize:tt,_scrollRequest:tt},pl={buttonText:tt,buttonHints:tt,views:tt,plugins:tt,initialEvents:tt,events:tt,eventSources:tt},gl={headerToolbar:ds,footerToolbar:ds,buttonText:ds,buttonHints:ds,buttonIcons:ds};function ds(d,c){return"object"==typeof d&&"object"==typeof c&&d&&c?ut(d,c):d===c}var Rd={type:String,component:tt,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:tt,usesMinMaxTime:Boolean,classNames:tt,content:tt,didMount:tt,willUnmount:tt};function La(d){return le(d,gl)}function xi(d,c){var g={},v={};for(var w in c)w in d&&(g[w]=c[w](d[w]));for(var w in d)w in c||(v[w]=d[w]);return{refined:g,extra:v}}function tt(d){return d}function No(d,c,g,v){for(var w={defs:{},instances:{}},M=Ki(g),N=0,V=d;N<V.length;N++){var ee=oa(V[N],c,g,v,M);ee&&Ri(ee,w)}return w}function Ri(d,c){return void 0===c&&(c={defs:{},instances:{}}),c.defs[d.def.defId]=d.def,d.instance&&(c.instances[d.instance.instanceId]=d.instance),c}function _i(d,c){var g=d.instances[c];if(g){var v=d.defs[g.defId],w=ia(d,function(M){return function ra(d,c){return Boolean(d.groupId&&d.groupId===c.groupId)}(v,M)});return w.defs[v.defId]=v,w.instances[g.instanceId]=g,w}return{defs:{},instances:{}}}function ii(){return{defs:{},instances:{}}}function to(d,c){return{defs:(0,P.__assign)((0,P.__assign)({},d.defs),c.defs),instances:(0,P.__assign)((0,P.__assign)({},d.instances),c.instances)}}function ia(d,c){var g=ae(d.defs,c),v=ae(d.instances,function(w){return g[w.defId]});return{defs:g,instances:v}}function xs(d){return Array.isArray(d)?d:"string"==typeof d?d.split(/\s+/):[]}var fs={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:tt,overlap:tt,allow:tt,className:xs,classNames:xs,color:String,backgroundColor:String,borderColor:String,textColor:String},sa={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Rs(d,c){var g=function Zi(d,c){return Array.isArray(d)?No(d,null,c,!0):"object"==typeof d&&d?No([d],null,c,!0):null!=d?String(d):null}(d.constraint,c);return{display:d.display||null,startEditable:null!=d.startEditable?d.startEditable:d.editable,durationEditable:null!=d.durationEditable?d.durationEditable:d.editable,constraints:null!=g?[g]:[],overlap:null!=d.overlap?d.overlap:null,allows:null!=d.allow?[d.allow]:[],backgroundColor:d.backgroundColor||d.color||"",borderColor:d.borderColor||d.color||"",textColor:d.textColor||"",classNames:(d.className||[]).concat(d.classNames||[])}}function Or(d){return d.reduce(Fr,sa)}function Fr(d,c){return{display:null!=c.display?c.display:d.display,startEditable:null!=c.startEditable?c.startEditable:d.startEditable,durationEditable:null!=c.durationEditable?c.durationEditable:d.durationEditable,constraints:d.constraints.concat(c.constraints),overlap:"boolean"==typeof c.overlap?c.overlap:d.overlap,allows:d.allows.concat(c.allows),backgroundColor:c.backgroundColor||d.backgroundColor,borderColor:c.borderColor||d.borderColor,textColor:c.textColor||d.textColor,classNames:d.classNames.concat(c.classNames)}}var ml={id:String,groupId:String,title:String,url:String,interactive:Boolean},au={start:tt,end:tt,date:tt,allDay:Boolean},sc=(0,P.__assign)((0,P.__assign)((0,P.__assign)({},ml),au),{extendedProps:tt});function oa(d,c,g,v,w){void 0===w&&(w=Ki(g));var M=ko(d,g,w),N=M.refined,V=M.extra,z=function ar(d,c){var g=null;return d&&(g=d.defaultAllDay),null==g&&(g=c.options.defaultAllDay),g}(c,g),ee=function et(d,c,g,v){for(var w=0;w<v.length;w+=1){var M=v[w].parse(d,g);if(M){var N=d.allDay;return null==N&&null==(N=c)&&null==(N=M.allDayGuess)&&(N=!1),{allDay:N,duration:M.duration,typeData:M.typeData,typeId:w}}}return null}(N,z,g.dateEnv,g.pluginHooks.recurringTypes);if(ee)return(Ne=no(N,V,c?c.sourceId:"",ee.allDay,Boolean(ee.duration),g)).recurringDef={typeId:ee.typeId,typeData:ee.typeData,duration:ee.duration},{def:Ne,instance:null};var Ne,He=function oc(d,c,g,v){var M,z,w=d.allDay,N=null,V=!1,ee=null;if(M=g.dateEnv.createMarkerMeta(null!=d.start?d.start:d.date))N=M.marker;else if(!v)return null;return null!=d.end&&(z=g.dateEnv.createMarkerMeta(d.end)),null==w&&(w=null!=c?c:(!M||M.isTimeUnspecified)&&(!z||z.isTimeUnspecified)),w&&N&&(N=ln(N)),z&&(ee=z.marker,w&&(ee=ln(ee)),N&&ee<=N&&(ee=null)),ee?V=!0:v||(V=g.options.forceEventDuration||!1,ee=g.dateEnv.add(N,w?g.options.defaultAllDayEventDuration:g.options.defaultTimedEventDuration)),{allDay:w,hasEnd:V,range:{start:N,end:ee},forcedStartTzo:M?M.forcedTzo:null,forcedEndTzo:z?z.forcedTzo:null}}(N,z,g,v);return He?{def:Ne=no(N,V,c?c.sourceId:"",He.allDay,He.hasEnd,g),instance:Y(Ne.defId,He.range,He.forcedStartTzo,He.forcedEndTzo)}:null}function ko(d,c,g){return void 0===g&&(g=Ki(c)),xi(d,g)}function Ki(d){return(0,P.__assign)((0,P.__assign)((0,P.__assign)({},fs),sc),d.pluginHooks.eventRefiners)}function no(d,c,g,v,w,M){for(var N={title:d.title||"",groupId:d.groupId||"",publicId:d.id||"",url:d.url||"",recurringDef:null,defId:Qt(),sourceId:g,allDay:v,hasEnd:w,interactive:d.interactive,ui:Rs(d,M),extendedProps:(0,P.__assign)((0,P.__assign)({},d.extendedProps||{}),c)},V=0,z=M.pluginHooks.eventDefMemberAdders;V<z.length;V++)(0,P.__assign)(N,(0,z[V])(d));return Object.freeze(N.ui.classNames),Object.freeze(N.extendedProps),N}function Ni(d){var c=Math.floor(vt(d.start,d.end))||1,g=ln(d.start);return{start:g,end:Ke(g,c)}}function hs(d,c){void 0===c&&(c=Ft(0));var g=null,v=null;if(d.end){v=ln(d.end);var w=d.end.valueOf()-v.valueOf();w&&w>=Bt(c)&&(v=Ke(v,1))}return d.start&&(g=ln(d.start),v&&v<=g&&(v=Ke(g,1))),{start:g,end:v}}function $n(d){var c=hs(d);return vt(c.start,c.end)>1}function aa(d,c,g,v){return"year"===v?Ft(g.diffWholeYears(d,c),"year"):"month"===v?Ft(g.diffWholeMonths(d,c),"month"):In(d,c)}function ro(d,c){var w,M,g=[],v=c.start;for(d.sort(Wr),w=0;w<d.length;w+=1)(M=d[w]).start>v&&g.push({start:v,end:M.start}),M.end>v&&(v=M.end);return v<c.end&&g.push({start:v,end:c.end}),g}function Wr(d,c){return d.start.valueOf()-c.start.valueOf()}function Ns(d,c){var g=d.start,v=d.end,w=null;return null!==c.start&&(g=null===g?c.start:new Date(Math.max(g.valueOf(),c.start.valueOf()))),null!=c.end&&(v=null===v?c.end:new Date(Math.min(v.valueOf(),c.end.valueOf()))),(null===g||null===v||g<v)&&(w={start:g,end:v}),w}function la(d,c){return(null===d.start?null:d.start.valueOf())===(null===c.start?null:c.start.valueOf())&&(null===d.end?null:d.end.valueOf())===(null===c.end?null:c.end.valueOf())}function K(d,c){return(null===d.end||null===c.start||d.end>c.start)&&(null===d.start||null===c.end||d.start<c.end)}function Z(d,c){return(null===d.start||null!==c.start&&c.start>=d.start)&&(null===d.end||null!==c.end&&c.end<=d.end)}function we(d,c){return(null===d.start||c>=d.start)&&(null===d.end||c<d.end)}function yt(d,c,g,v){var w={},M={},N={},V=[],z=[],ee=Vt(d.defs,c);for(var Ne in d.defs)"inverse-background"===(ct=ee[(He=d.defs[Ne]).defId]).display&&(He.groupId?(w[He.groupId]=[],N[He.groupId]||(N[He.groupId]=He)):M[Ne]=[]);for(var pt in d.instances){var Dt=d.instances[pt],ct=ee[(He=d.defs[Dt.defId]).defId],Kt=Dt.range,an=!He.allDay&&v?hs(Kt,v):Kt,xt=Ns(an,g);xt&&("inverse-background"===ct.display?He.groupId?w[He.groupId].push(xt):M[Dt.defId].push(xt):"none"!==ct.display&&("background"===ct.display?V:z).push({def:He,ui:ct,instance:Dt,range:xt,isStart:an.start&&an.start.valueOf()===xt.start.valueOf(),isEnd:an.end&&an.end.valueOf()===xt.end.valueOf()}))}for(var tr in w)for(var ai=0,jr=ro(w[tr],g);ai<jr.length;ai++){var He;V.push({def:He=N[tr],ui:ct=ee[He.defId],instance:null,range:jr[ai],isStart:!1,isEnd:!1})}for(var Ne in M)for(var Hi=0,_o=ro(M[Ne],g);Hi<_o.length;Hi++)V.push({def:d.defs[Ne],ui:ee[Ne],instance:null,range:_o[Hi],isStart:!1,isEnd:!1});return{bg:V,fg:z}}function Tt(d){return"background"===d.ui.display||"inverse-background"===d.ui.display}function cn(d,c){d.fcSeg=c}function nr(d){return d.fcSeg||d.parentNode.fcSeg||null}function Vt(d,c){return ge(d,function(g){return lr(g,c)})}function lr(d,c){var g=[];return c[""]&&g.push(c[""]),c[d.defId]&&g.push(c[d.defId]),g.push(d.ui),Or(g)}function rr(d,c){var g=d.map(Nn);return g.sort(function(v,w){return Ae(v,w,c)}),g.map(function(v){return v._seg})}function Nn(d){var c=d.eventRange,g=c.def,v=c.instance?c.instance.range:c.range,w=v.start?v.start.valueOf():0,M=v.end?v.end.valueOf():0;return(0,P.__assign)((0,P.__assign)((0,P.__assign)({},g.extendedProps),g),{id:g.publicId,start:w,end:M,duration:M-w,allDay:Number(g.allDay),_seg:d})}function Qi(d,c){for(var w=d.eventRange,M=w.def,N=w.ui,V=N.startEditable,z=0,ee=c.pluginHooks.isDraggableTransformers;z<ee.length;z++)V=(0,ee[z])(V,M,N,c);return V}function Yi(d,c){return d.isStart&&d.eventRange.ui.durationEditable&&c.options.eventResizableFromStart}function io(d,c){return d.isEnd&&d.eventRange.ui.durationEditable}function Ba(d,c,g,v,w,M,N){var V=g.dateEnv,z=g.options,ee=z.displayEventTime,Ne=z.displayEventEnd,He=d.eventRange.def,ct=d.eventRange.instance;null==ee&&(ee=!1!==v),null==Ne&&(Ne=!1!==w);var pt=ct.range.start,Dt=ct.range.end,Kt=M||d.start||d.eventRange.range.start,an=N||d.end||d.eventRange.range.end,xt=ln(pt).valueOf()===ln(Kt).valueOf(),tr=ln(wt(Dt,-1)).valueOf()===ln(wt(an,-1)).valueOf();return ee&&!He.allDay&&(xt||tr)?(Kt=xt?pt:Kt,an=tr?Dt:an,Ne&&He.hasEnd?V.formatRange(Kt,an,c,{forcedStartTzo:M?null:ct.forcedStartTzo,forcedEndTzo:N?null:ct.forcedEndTzo}):V.format(Kt,c,{forcedTzo:M?null:ct.forcedStartTzo})):""}function ot(d,c,g){var v=d.eventRange.range;return{isPast:v.end<(g||c.start),isFuture:v.start>=(g||c.end),isToday:c&&we(c,v.start)}}function Tn(d){var c=["fc-event"];return d.isMirror&&c.push("fc-event-mirror"),d.isDraggable&&c.push("fc-event-draggable"),(d.isStartResizable||d.isEndResizable)&&c.push("fc-event-resizable"),d.isDragging&&c.push("fc-event-dragging"),d.isResizing&&c.push("fc-event-resizing"),d.isSelected&&c.push("fc-event-selected"),d.isStart&&c.push("fc-event-start"),d.isEnd&&c.push("fc-event-end"),d.isPast&&c.push("fc-event-past"),d.isToday&&c.push("fc-event-today"),d.isFuture&&c.push("fc-event-future"),c}function ks(d){return d.instance?d.instance.instanceId:d.def.defId+":"+d.range.start.toISOString()}function dr(d,c){var g=d.eventRange,v=g.def,w=g.instance,M=v.url;if(M)return{href:M};var N=c.emitter,z=c.options.eventInteractive;return null==z&&null==(z=v.interactive)&&(z=Boolean(N.hasHandlers("eventClick"))),z?ke(function(ee){N.trigger("eventClick",{el:ee.target,event:new Zr(c,v,w),jsEvent:ee,view:c.viewApi})}):{}}var Ua={start:tt,end:tt,allDay:Boolean};function ac(d,c){return la(d.range,c.range)&&d.allDay===c.allDay&&function lc(d,c){for(var g in c)if("range"!==g&&"allDay"!==g&&d[g]!==c[g])return!1;for(var g in d)if(!(g in c))return!1;return!0}(d,c)}function uc(d,c,g){return(0,P.__assign)((0,P.__assign)({},yl(d,c,g)),{timeZone:c.timeZone})}function yl(d,c,g){return{start:c.toDate(d.start),end:c.toDate(d.end),startStr:c.formatIso(d.start,{omitTime:g}),endStr:c.formatIso(d.end,{omitTime:g})}}function Ha(d,c,g){var v=ko({editable:!1},g),w=no(v.refined,v.extra,"",d.allDay,!0,g);return{def:w,ui:lr(w,c),instance:Y(w.defId,d.range),range:d.range,isStart:!0,isEnd:!0}}function qr(d,c,g){g.emitter.trigger("select",(0,P.__assign)((0,P.__assign)({},lu(d,g)),{jsEvent:c?c.origEvent:null,view:g.viewApi||g.calendarApi.view}))}function lu(d,c){for(var g={},v=0,w=c.pluginHooks.dateSpanTransforms;v<w.length;v++)(0,P.__assign)(g,(0,w[v])(d,c));return(0,P.__assign)(g,function kd(d,c){return(0,P.__assign)((0,P.__assign)({},yl(d.range,c,d.allDay)),{allDay:d.allDay})}(d,c.dateEnv)),g}function Ps(d,c,g){var v=g.dateEnv,w=g.options,M=c;return d?(M=ln(M),M=v.add(M,w.defaultAllDayEventDuration)):M=v.add(M,w.defaultTimedEventDuration),M}function Os(d,c,g,v){var w=Vt(d.defs,c),M={defs:{},instances:{}};for(var N in d.defs)M.defs[N]=cc(d.defs[N],w[N],g,v);for(var z in d.instances){var ee=d.instances[z];M.instances[z]=Pd(ee,M.defs[ee.defId],w[ee.defId],g,v)}return M}function cc(d,c,g,v){var w=g.standardProps||{};null==w.hasEnd&&c.durationEditable&&(g.startDelta||g.endDelta)&&(w.hasEnd=!0);var M=(0,P.__assign)((0,P.__assign)((0,P.__assign)({},d),w),{ui:(0,P.__assign)((0,P.__assign)({},d.ui),w.ui)});g.extendedProps&&(M.extendedProps=(0,P.__assign)((0,P.__assign)({},M.extendedProps),g.extendedProps));for(var N=0,V=v.pluginHooks.eventDefMutationAppliers;N<V.length;N++)(0,V[N])(M,g,v);return!M.hasEnd&&v.options.forceEventDuration&&(M.hasEnd=!0),M}function Pd(d,c,g,v,w){var M=w.dateEnv,N=v.standardProps&&!0===v.standardProps.allDay,V=v.standardProps&&!1===v.standardProps.hasEnd,z=(0,P.__assign)({},d);return N&&(z.range=Ni(z.range)),v.datesDelta&&g.startEditable&&(z.range={start:M.add(z.range.start,v.datesDelta),end:M.add(z.range.end,v.datesDelta)}),v.startDelta&&g.durationEditable&&(z.range={start:M.add(z.range.start,v.startDelta),end:z.range.end}),v.endDelta&&g.durationEditable&&(z.range={start:z.range.start,end:M.add(z.range.end,v.endDelta)}),V&&(z.range={start:z.range.start,end:Ps(c.allDay,z.range.start,w)}),c.allDay&&(z.range={start:ln(z.range.start),end:ln(z.range.end)}),z.range.end<z.range.start&&(z.range.end=Ps(c.allDay,z.range.start,w)),z}var uu=function(){function d(c,g,v){this.type=c,this.getCurrentData=g,this.dateEnv=v}return Object.defineProperty(d.prototype,"calendar",{get:function(){return this.getCurrentData().calendarApi},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"title",{get:function(){return this.getCurrentData().viewTitle},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"activeStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"activeEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"currentStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"currentEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)},enumerable:!1,configurable:!0}),d.prototype.getOption=function(c){return this.getCurrentData().options[c]},d}(),oh={id:String,defaultAllDay:Boolean,url:String,format:String,events:tt,eventDataTransform:tt,success:tt,failure:tt};function ja(d,c,g){var v;if(void 0===g&&(g=_l(c)),"string"==typeof d?v={url:d}:"function"==typeof d||Array.isArray(d)?v={events:d}:"object"==typeof d&&d&&(v=d),v){var w=xi(v,g),M=w.refined,N=w.extra,V=function dc(d,c){for(var g=c.pluginHooks.eventSourceDefs,v=g.length-1;v>=0;v-=1){var M=g[v].parseMeta(d);if(M)return{sourceDefId:v,meta:M}}return null}(M,c);if(V)return{_raw:d,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:M.defaultAllDay,eventDataTransform:M.eventDataTransform,success:M.success,failure:M.failure,publicId:M.id||"",sourceId:Qt(),sourceDefId:V.sourceDefId,meta:V.meta,ui:Rs(M,c),extendedProps:N}}return null}function _l(d){return(0,P.__assign)((0,P.__assign)((0,P.__assign)({},fs),oh),d.pluginHooks.eventSourceRefiners)}function Ga(d,c){return"function"==typeof d&&(d=d()),null==d?c.createNowMarker():c.createMarker(d)}var za=function(){function d(){}return d.prototype.getCurrentData=function(){return this.currentDataManager.getCurrentData()},d.prototype.dispatch=function(c){return this.currentDataManager.dispatch(c)},Object.defineProperty(d.prototype,"view",{get:function(){return this.getCurrentData().viewApi},enumerable:!1,configurable:!0}),d.prototype.batchRendering=function(c){c()},d.prototype.updateSize=function(){this.trigger("_resize",!0)},d.prototype.setOption=function(c,g){this.dispatch({type:"SET_OPTION",optionName:c,rawOptionValue:g})},d.prototype.getOption=function(c){return this.currentDataManager.currentCalendarOptionsInput[c]},d.prototype.getAvailableLocaleCodes=function(){return Object.keys(this.getCurrentData().availableRawLocales)},d.prototype.on=function(c,g){var v=this.currentDataManager;v.currentCalendarOptionsRefiners[c]?v.emitter.on(c,g):console.warn("Unknown listener name '"+c+"'")},d.prototype.off=function(c,g){this.currentDataManager.emitter.off(c,g)},d.prototype.trigger=function(c){for(var g,v=[],w=1;w<arguments.length;w++)v[w-1]=arguments[w];(g=this.currentDataManager.emitter).trigger.apply(g,(0,P.__spreadArray)([c],v))},d.prototype.changeView=function(c,g){var v=this;this.batchRendering(function(){if(v.unselect(),g)if(g.start&&g.end)v.dispatch({type:"CHANGE_VIEW_TYPE",viewType:c}),v.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:g});else{var w=v.getCurrentData().dateEnv;v.dispatch({type:"CHANGE_VIEW_TYPE",viewType:c,dateMarker:w.createMarker(g)})}else v.dispatch({type:"CHANGE_VIEW_TYPE",viewType:c})})},d.prototype.zoomTo=function(c,g){var w;w=this.getCurrentData().viewSpecs[g=g||"day"]||this.getUnitViewSpec(g),this.unselect(),this.dispatch(w?{type:"CHANGE_VIEW_TYPE",viewType:w.type,dateMarker:c}:{type:"CHANGE_DATE",dateMarker:c})},d.prototype.getUnitViewSpec=function(c){var N,V,g=this.getCurrentData(),v=g.viewSpecs,w=g.toolbarConfig,M=[].concat(w.header?w.header.viewsWithButtons:[],w.footer?w.footer.viewsWithButtons:[]);for(var z in v)M.push(z);for(N=0;N<M.length;N+=1)if((V=v[M[N]])&&V.singleUnit===c)return V;return null},d.prototype.prev=function(){this.unselect(),this.dispatch({type:"PREV"})},d.prototype.next=function(){this.unselect(),this.dispatch({type:"NEXT"})},d.prototype.prevYear=function(){var c=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:c.dateEnv.addYears(c.currentDate,-1)})},d.prototype.nextYear=function(){var c=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:c.dateEnv.addYears(c.currentDate,1)})},d.prototype.today=function(){var c=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:Ga(c.calendarOptions.now,c.dateEnv)})},d.prototype.gotoDate=function(c){var g=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:g.dateEnv.createMarker(c)})},d.prototype.incrementDate=function(c){var g=this.getCurrentData(),v=Ft(c);v&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:g.dateEnv.add(g.currentDate,v)}))},d.prototype.getDate=function(){var c=this.getCurrentData();return c.dateEnv.toDate(c.currentDate)},d.prototype.formatDate=function(c,g){var v=this.getCurrentData().dateEnv;return v.format(v.createMarker(c),Ar(g))},d.prototype.formatRange=function(c,g,v){var w=this.getCurrentData().dateEnv;return w.formatRange(w.createMarker(c),w.createMarker(g),Ar(v),v)},d.prototype.formatIso=function(c,g){var v=this.getCurrentData().dateEnv;return v.formatIso(v.createMarker(c),{omitTime:g})},d.prototype.select=function(c,g){var v;v=null==g?null!=c.start?c:{start:c,end:null}:{start:c,end:g};var w=this.getCurrentData(),M=function vl(d,c,g){var v=function ki(d,c){var g=xi(d,Ua),v=g.refined,w=g.extra,M=v.start?c.createMarkerMeta(v.start):null,N=v.end?c.createMarkerMeta(v.end):null,V=v.allDay;return null==V&&(V=M&&M.isTimeUnspecified&&(!N||N.isTimeUnspecified)),(0,P.__assign)({range:{start:M?M.marker:null,end:N?N.marker:null},allDay:V},w)}(d,c),w=v.range;if(!w.start)return null;if(!w.end){if(null==g)return null;w.end=c.add(w.start,g)}return v}(v,w.dateEnv,Ft({days:1}));M&&(this.dispatch({type:"SELECT_DATES",selection:M}),qr(M,null,w))},d.prototype.unselect=function(c){var g=this.getCurrentData();g.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),function ps(d,c){c.emitter.trigger("unselect",{jsEvent:d?d.origEvent:null,view:c.viewApi||c.calendarApi.view})}(c,g))},d.prototype.addEvent=function(c,g){if(c instanceof Zr){var v=c._def,w=c._instance;return this.getCurrentData().eventStore.defs[v.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Ri({def:v,instance:w})}),this.triggerEventAdd(c)),c}var V,N=this.getCurrentData();if(g instanceof T)V=g.internalEventSource;else if("boolean"==typeof g)g&&(V=ht(N.eventSources)[0]);else if(null!=g){var z=this.getEventSourceById(g);if(!z)return console.warn('Could not find an event source with ID "'+g+'"'),null;V=z.internalEventSource}var ee=oa(c,V,N,!1);if(ee){var Ne=new Zr(N,ee.def,ee.def.recurringDef?null:ee.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Ri(ee)}),this.triggerEventAdd(Ne),Ne}return null},d.prototype.triggerEventAdd=function(c){var g=this;this.getCurrentData().emitter.trigger("eventAdd",{event:c,relatedEvents:[],revert:function(){g.dispatch({type:"REMOVE_EVENTS",eventStore:Po(c)})}})},d.prototype.getEventById=function(c){var g=this.getCurrentData(),v=g.eventStore,w=v.defs,M=v.instances;for(var N in c=String(c),w){var V=w[N];if(V.publicId===c){if(V.recurringDef)return new Zr(g,V,null);for(var z in M){var ee=M[z];if(ee.defId===V.defId)return new Zr(g,V,ee)}}}return null},d.prototype.getEvents=function(){var c=this.getCurrentData();return El(c.eventStore,c)},d.prototype.removeAllEvents=function(){this.dispatch({type:"REMOVE_ALL_EVENTS"})},d.prototype.getEventSources=function(){var c=this.getCurrentData(),g=c.eventSources,v=[];for(var w in g)v.push(new T(c,g[w]));return v},d.prototype.getEventSourceById=function(c){var g=this.getCurrentData(),v=g.eventSources;for(var w in c=String(c),v)if(v[w].publicId===c)return new T(g,v[w]);return null},d.prototype.addEventSource=function(c){var g=this.getCurrentData();if(c instanceof T)return g.eventSources[c.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[c.internalEventSource]}),c;var v=ja(c,g);return v?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[v]}),new T(g,v)):null},d.prototype.removeAllEventSources=function(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})},d.prototype.refetchEvents=function(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})},d.prototype.scrollToTime=function(c){var g=Ft(c);g&&this.trigger("_scrollRequest",{time:g})},d}(),Zr=function(){function d(c,g,v){this._context=c,this._def=g,this._instance=v||null}return d.prototype.setProp=function(c,g){var v,w;if(c in au)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if("id"===c)g=ml[c](g),this.mutate({standardProps:{publicId:g}});else if(c in ml)g=ml[c](g),this.mutate({standardProps:(v={},v[c]=g,v)});else if(c in fs){var M=fs[c](g);"color"===c?M={backgroundColor:g,borderColor:g}:"editable"===c?M={startEditable:g,durationEditable:g}:((w={})[c]=g,M=w),this.mutate({standardProps:{ui:M}})}else console.warn("Could not set prop '"+c+"'. Use setExtendedProp instead.")},d.prototype.setExtendedProp=function(c,g){var v;this.mutate({extendedProps:(v={},v[c]=g,v)})},d.prototype.setStart=function(c,g){void 0===g&&(g={});var v=this._context.dateEnv,w=v.createMarker(c);if(w&&this._instance){var N=aa(this._instance.range.start,w,v,g.granularity);this.mutate(g.maintainDuration?{datesDelta:N}:{startDelta:N})}},d.prototype.setEnd=function(c,g){void 0===g&&(g={});var w,v=this._context.dateEnv;if((null==c||(w=v.createMarker(c)))&&this._instance)if(w){var M=aa(this._instance.range.end,w,v,g.granularity);this.mutate({endDelta:M})}else this.mutate({standardProps:{hasEnd:!1}})},d.prototype.setDates=function(c,g,v){void 0===v&&(v={});var V,w=this._context.dateEnv,M={allDay:v.allDay},N=w.createMarker(c);if(N&&(null==g||(V=w.createMarker(g)))&&this._instance){var z=this._instance.range;!0===v.allDay&&(z=Ni(z));var ee=aa(z.start,N,w,v.granularity);if(V){var Ne=aa(z.end,V,w,v.granularity);!function Mn(d,c){return d.years===c.years&&d.months===c.months&&d.days===c.days&&d.milliseconds===c.milliseconds}(ee,Ne)?this.mutate({startDelta:ee,endDelta:Ne,standardProps:M}):this.mutate({datesDelta:ee,standardProps:M})}else M.hasEnd=!1,this.mutate({datesDelta:ee,standardProps:M})}},d.prototype.moveStart=function(c){var g=Ft(c);g&&this.mutate({startDelta:g})},d.prototype.moveEnd=function(c){var g=Ft(c);g&&this.mutate({endDelta:g})},d.prototype.moveDates=function(c){var g=Ft(c);g&&this.mutate({datesDelta:g})},d.prototype.setAllDay=function(c,g){void 0===g&&(g={});var v={allDay:c},w=g.maintainDuration;null==w&&(w=this._context.options.allDayMaintainDuration),this._def.allDay!==c&&(v.hasEnd=w),this.mutate({standardProps:v})},d.prototype.formatRange=function(c){var g=this._context.dateEnv,v=this._instance,w=Ar(c);return this._def.hasEnd?g.formatRange(v.range.start,v.range.end,w,{forcedStartTzo:v.forcedStartTzo,forcedEndTzo:v.forcedEndTzo}):g.format(v.range.start,w,{forcedTzo:v.forcedStartTzo})},d.prototype.mutate=function(c){var g=this._instance;if(g){var v=this._def,w=this._context,M=w.getCurrentData().eventStore,N=_i(M,g.instanceId);N=Os(N,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},c,w);var z=new d(w,v,g);this._def=N.defs[v.defId],this._instance=N.instances[g.instanceId],w.dispatch({type:"MERGE_EVENTS",eventStore:N}),w.emitter.trigger("eventChange",{oldEvent:z,event:this,relatedEvents:El(N,w,g),revert:function(){w.dispatch({type:"RESET_EVENTS",eventStore:M})}})}},d.prototype.remove=function(){var c=this._context,g=Po(this);c.dispatch({type:"REMOVE_EVENTS",eventStore:g}),c.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert:function(){c.dispatch({type:"MERGE_EVENTS",eventStore:g})}})},Object.defineProperty(d.prototype,"source",{get:function(){var c=this._def.sourceId;return c?new T(this._context,this._context.getCurrentData().eventSources[c]):null},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"start",{get:function(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"end",{get:function(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"startStr",{get:function(){var c=this._instance;return c?this._context.dateEnv.formatIso(c.range.start,{omitTime:this._def.allDay,forcedTzo:c.forcedStartTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"endStr",{get:function(){var c=this._instance;return c&&this._def.hasEnd?this._context.dateEnv.formatIso(c.range.end,{omitTime:this._def.allDay,forcedTzo:c.forcedEndTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"id",{get:function(){return this._def.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"groupId",{get:function(){return this._def.groupId},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"allDay",{get:function(){return this._def.allDay},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"title",{get:function(){return this._def.title},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"url",{get:function(){return this._def.url},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"display",{get:function(){return this._def.ui.display||"auto"},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"startEditable",{get:function(){return this._def.ui.startEditable},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"durationEditable",{get:function(){return this._def.ui.durationEditable},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"constraint",{get:function(){return this._def.ui.constraints[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"overlap",{get:function(){return this._def.ui.overlap},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"allow",{get:function(){return this._def.ui.allows[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"backgroundColor",{get:function(){return this._def.ui.backgroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"borderColor",{get:function(){return this._def.ui.borderColor},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"textColor",{get:function(){return this._def.ui.textColor},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"classNames",{get:function(){return this._def.ui.classNames},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"extendedProps",{get:function(){return this._def.extendedProps},enumerable:!1,configurable:!0}),d.prototype.toPlainObject=function(c){void 0===c&&(c={});var g=this._def,v=g.ui,M=this.startStr,N=this.endStr,V={};return g.title&&(V.title=g.title),M&&(V.start=M),N&&(V.end=N),g.publicId&&(V.id=g.publicId),g.groupId&&(V.groupId=g.groupId),g.url&&(V.url=g.url),v.display&&"auto"!==v.display&&(V.display=v.display),c.collapseColor&&v.backgroundColor&&v.backgroundColor===v.borderColor?V.color=v.backgroundColor:(v.backgroundColor&&(V.backgroundColor=v.backgroundColor),v.borderColor&&(V.borderColor=v.borderColor)),v.textColor&&(V.textColor=v.textColor),v.classNames.length&&(V.classNames=v.classNames),Object.keys(g.extendedProps).length&&(c.collapseExtendedProps?(0,P.__assign)(V,g.extendedProps):V.extendedProps=g.extendedProps),V},d.prototype.toJSON=function(){return this.toPlainObject()},d}();function Po(d){var c,g,v=d._def,w=d._instance;return{defs:(c={},c[v.defId]=v,c),instances:w?(g={},g[w.instanceId]=w,g):{}}}function El(d,c,g){var v=d.defs,w=d.instances,M=[],N=g?g.instanceId:"";for(var V in w){var z=w[V];z.instanceId!==N&&M.push(new Zr(c,v[z.defId],z))}return M}var Od={};!function bl(d,c){Od[d]=c}("gregory",function(){function d(){}return d.prototype.getMarkerYear=function(c){return c.getUTCFullYear()},d.prototype.getMarkerMonth=function(c){return c.getUTCMonth()},d.prototype.getMarkerDay=function(c){return c.getUTCDate()},d.prototype.arrayToMarker=function(c){return ue(c)},d.prototype.markerToArray=function(c){return Cn(c)},d}());var hi=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function Fs(d){var c=hi.exec(d);if(c){var g=new Date(Date.UTC(Number(c[1]),c[3]?Number(c[3])-1:0,Number(c[5]||1),Number(c[7]||0),Number(c[8]||0),Number(c[10]||0),c[12]?1e3*Number("0."+c[12]):0));if(ve(g)){var v=null;return c[13]&&(v=("-"===c[15]?-1:1)*(60*Number(c[16]||0)+Number(c[18]||0))),{marker:g,isTimeUnspecified:!c[6],timeZoneOffset:v}}}return null}var gr=function(){function d(c){var g=this.timeZone=c.timeZone,v="local"!==g&&"UTC"!==g;c.namedTimeZoneImpl&&v&&(this.namedTimeZoneImpl=new c.namedTimeZoneImpl(g)),this.canComputeOffset=Boolean(!v||this.namedTimeZoneImpl),this.calendarSystem=function Oo(d){return new Od[d]}(c.calendarSystem),this.locale=c.locale,this.weekDow=c.locale.week.dow,this.weekDoy=c.locale.week.doy,"ISO"===c.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof c.firstDay&&(this.weekDow=c.firstDay),"function"==typeof c.weekNumberCalculation&&(this.weekNumberFunc=c.weekNumberCalculation),this.weekText=null!=c.weekText?c.weekText:c.locale.options.weekText,this.weekTextLong=(null!=c.weekTextLong?c.weekTextLong:c.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=c.cmdFormatter,this.defaultSeparator=c.defaultSeparator}return d.prototype.createMarker=function(c){var g=this.createMarkerMeta(c);return null===g?null:g.marker},d.prototype.createNowMarker=function(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):ue(_r(new Date))},d.prototype.createMarkerMeta=function(c){if("string"==typeof c)return this.parse(c);var g=null;return"number"==typeof c?g=this.timestampToMarker(c):c instanceof Date?(c=c.valueOf(),isNaN(c)||(g=this.timestampToMarker(c))):Array.isArray(c)&&(g=ue(c)),null!==g&&ve(g)?{marker:g,isTimeUnspecified:!1,forcedTzo:null}:null},d.prototype.parse=function(c){var g=Fs(c);if(null===g)return null;var v=g.marker,w=null;return null!==g.timeZoneOffset&&(this.canComputeOffset?v=this.timestampToMarker(v.valueOf()-60*g.timeZoneOffset*1e3):w=g.timeZoneOffset),{marker:v,isTimeUnspecified:g.isTimeUnspecified,forcedTzo:w}},d.prototype.getYear=function(c){return this.calendarSystem.getMarkerYear(c)},d.prototype.getMonth=function(c){return this.calendarSystem.getMarkerMonth(c)},d.prototype.add=function(c,g){var v=this.calendarSystem.markerToArray(c);return v[0]+=g.years,v[1]+=g.months,v[2]+=g.days,v[6]+=g.milliseconds,this.calendarSystem.arrayToMarker(v)},d.prototype.subtract=function(c,g){var v=this.calendarSystem.markerToArray(c);return v[0]-=g.years,v[1]-=g.months,v[2]-=g.days,v[6]-=g.milliseconds,this.calendarSystem.arrayToMarker(v)},d.prototype.addYears=function(c,g){var v=this.calendarSystem.markerToArray(c);return v[0]+=g,this.calendarSystem.arrayToMarker(v)},d.prototype.addMonths=function(c,g){var v=this.calendarSystem.markerToArray(c);return v[1]+=g,this.calendarSystem.arrayToMarker(v)},d.prototype.diffWholeYears=function(c,g){var v=this.calendarSystem;return B(c)===B(g)&&v.getMarkerDay(c)===v.getMarkerDay(g)&&v.getMarkerMonth(c)===v.getMarkerMonth(g)?v.getMarkerYear(g)-v.getMarkerYear(c):null},d.prototype.diffWholeMonths=function(c,g){var v=this.calendarSystem;return B(c)===B(g)&&v.getMarkerDay(c)===v.getMarkerDay(g)?v.getMarkerMonth(g)-v.getMarkerMonth(c)+12*(v.getMarkerYear(g)-v.getMarkerYear(c)):null},d.prototype.greatestWholeUnit=function(c,g){var v=this.diffWholeYears(c,g);return null!==v?{unit:"year",value:v}:null!==(v=this.diffWholeMonths(c,g))?{unit:"month",value:v}:null!==(v=wn(c,g))?{unit:"week",value:v}:null!==(v=Gn(c,g))?{unit:"day",value:v}:(v=function Ot(d,c){return(c.valueOf()-d.valueOf())/36e5}(c,g),Pt(v)?{unit:"hour",value:v}:(v=function Yn(d,c){return(c.valueOf()-d.valueOf())/6e4}(c,g),Pt(v)?{unit:"minute",value:v}:(v=function _n(d,c){return(c.valueOf()-d.valueOf())/1e3}(c,g),Pt(v)?{unit:"second",value:v}:{unit:"millisecond",value:g.valueOf()-c.valueOf()})))},d.prototype.countDurationsBetween=function(c,g,v){var w;return v.years&&null!==(w=this.diffWholeYears(c,g))?w/function $r(d){return ye(d)/365}(v):v.months&&null!==(w=this.diffWholeMonths(c,g))?w/function Et(d){return ye(d)/30}(v):v.days&&null!==(w=Gn(c,g))?w/ye(v):(g.valueOf()-c.valueOf())/Bt(v)},d.prototype.startOf=function(c,g){return"year"===g?this.startOfYear(c):"month"===g?this.startOfMonth(c):"week"===g?this.startOfWeek(c):"day"===g?ln(c):"hour"===g?function un(d){return ue([d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours()])}(c):"minute"===g?function $t(d){return ue([d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes()])}(c):"second"===g?function Mt(d){return ue([d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds()])}(c):null},d.prototype.startOfYear=function(c){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(c)])},d.prototype.startOfMonth=function(c){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(c),this.calendarSystem.getMarkerMonth(c)])},d.prototype.startOfWeek=function(c){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(c),this.calendarSystem.getMarkerMonth(c),c.getUTCDate()-(c.getUTCDay()-this.weekDow+7)%7])},d.prototype.computeWeekNumber=function(c){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(c)):function Jn(d,c,g){var v=d.getUTCFullYear(),w=Sr(d,v,c,g);if(w<1)return Sr(d,v-1,c,g);var M=Sr(d,v+1,c,g);return M>=1?Math.min(w,M):w}(c,this.weekDow,this.weekDoy)},d.prototype.format=function(c,g,v){return void 0===v&&(v={}),g.format({marker:c,timeZoneOffset:null!=v.forcedTzo?v.forcedTzo:this.offsetForMarker(c)},this)},d.prototype.formatRange=function(c,g,v,w){return void 0===w&&(w={}),w.isEndExclusive&&(g=wt(g,-1)),v.formatRange({marker:c,timeZoneOffset:null!=w.forcedStartTzo?w.forcedStartTzo:this.offsetForMarker(c)},{marker:g,timeZoneOffset:null!=w.forcedEndTzo?w.forcedEndTzo:this.offsetForMarker(g)},this,w.defaultSeparator)},d.prototype.formatIso=function(c,g){void 0===g&&(g={});var v=null;return g.omitTimeZoneOffset||(v=null!=g.forcedTzo?g.forcedTzo:this.offsetForMarker(c)),Dn(c,v,g.omitTime)},d.prototype.timestampToMarker=function(c){return"local"===this.timeZone?ue(_r(new Date(c))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?ue(this.namedTimeZoneImpl.timestampToArray(c)):new Date(c)},d.prototype.offsetForMarker=function(c){return"local"===this.timeZone?-er(Cn(c)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Cn(c)):null},d.prototype.toDate=function(c,g){return"local"===this.timeZone?er(Cn(c)):"UTC"===this.timeZone?new Date(c.valueOf()):this.namedTimeZoneImpl?new Date(c.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(Cn(c))*60):new Date(c.valueOf()-(g||0))},d}(),lh=[],pg={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},gg=(0,P.__assign)((0,P.__assign)({},pg),{buttonHints:{prev:"Previous $0",next:"Next $0",today:function(d,c){return"day"===c?"Today":"This "+d}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint:function(d){return"Show "+d+" more event"+(1===d?"":"s")}});function uh(d){for(var c=d.length>0?d[0].code:"en",g=lh.concat(d),v={en:gg},w=0,M=g;w<M.length;w++){var N=M[w];v[N.code]=N}return{map:v,defaultCode:c}}function Fd(d,c){return"object"!=typeof d||Array.isArray(d)?function mg(d,c){var g=[].concat(d||[]),v=function Al(d,c){for(var g=0;g<d.length;g+=1)for(var v=d[g].toLocaleLowerCase().split("-"),w=v.length;w>0;w-=1){var M=v.slice(0,w).join("-");if(c[M])return c[M]}return null}(g,c)||gg;return Ls(d,g,v)}(d,c):Ls(d.code,[d.code],d)}function Ls(d,c,g){var v=le([pg,g],["buttonText"]);delete v.code;var w=v.week;return delete v.week,{codeArg:d,codes:c,week:w,simpleNumberFormat:new Intl.NumberFormat(d),options:v}}function wl(d,c){void 0===c&&(c={});var g=Ld(c),v=Ar(c),w=g.createMarkerMeta(d);return w?g.format(w.marker,v,{forcedTzo:w.forcedTzo}):""}function hc(d,c,g){var v=Ld("object"==typeof g&&g?g:{}),w=Ar(g),M=v.createMarkerMeta(d),N=v.createMarkerMeta(c);return M&&N?v.formatRange(M.marker,N.marker,w,{forcedStartTzo:M.forcedTzo,forcedEndTzo:N.forcedTzo,isEndExclusive:g.isEndExclusive,defaultSeparator:Ms.defaultRangeSeparator}):""}function Ld(d){var c=Fd(d.locale||"en",uh([]).map);return new gr((0,P.__assign)((0,P.__assign)({timeZone:Ms.timeZone,calendarSystem:"gregory"},d),{locale:c}))}var wr,vg={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function Fo(d,c){return No(function $a(d){return(!0===d?[{}]:Array.isArray(d)?d.filter(function(g){return g.daysOfWeek}):"object"==typeof d&&d?[d]:[]).map(function(g){return(0,P.__assign)((0,P.__assign)({},vg),g)})}(d),null,c)}function Vd(d,c){return d.left>=c.left&&d.left<c.right&&d.top>=c.top&&d.top<c.bottom}function ch(d,c){var g={left:Math.max(d.left,c.left),right:Math.min(d.right,c.right),top:Math.max(d.top,c.top),bottom:Math.min(d.bottom,c.bottom)};return g.left<g.right&&g.top<g.bottom&&g}function so(d,c,g){return{left:d.left+c,right:d.right+c,top:d.top+g,bottom:d.bottom+g}}function cu(d,c){return{left:Math.min(Math.max(d.left,c.left),c.right),top:Math.min(Math.max(d.top,c.top),c.bottom)}}function Bd(d){return{left:(d.left+d.right)/2,top:(d.top+d.bottom)/2}}function yg(d,c){return{left:d.left-c.left,top:d.top-c.top}}function Vs(){return null==wr&&(wr=function Cl(){if("undefined"==typeof document)return!0;var d=document.createElement("div");d.style.position="absolute",d.style.top="0px",d.style.left="0px",d.innerHTML="<table><tr><td><div></div></td></tr></table>",d.querySelector("table").style.height="100px",d.querySelector("div").style.height="100%",document.body.appendChild(d);var g=d.querySelector("div").offsetHeight>0;return document.body.removeChild(d),g}()),wr}var pc={defs:{},instances:{}},Dl=function(){function d(){this.getKeysForEventDefs=Ln(this._getKeysForEventDefs),this.splitDateSelection=Ln(this._splitDateSpan),this.splitEventStore=Ln(this._splitEventStore),this.splitIndividualUi=Ln(this._splitIndividualUi),this.splitEventDrag=Ln(this._splitInteraction),this.splitEventResize=Ln(this._splitInteraction),this.eventUiBuilders={}}return d.prototype.splitProps=function(c){var g=this,v=this.getKeyInfo(c),w=this.getKeysForEventDefs(c.eventStore),M=this.splitDateSelection(c.dateSelection),N=this.splitIndividualUi(c.eventUiBases,w),V=this.splitEventStore(c.eventStore,w),z=this.splitEventDrag(c.eventDrag),ee=this.splitEventResize(c.eventResize),Ne={};for(var He in this.eventUiBuilders=ge(v,function(Kt,an){return g.eventUiBuilders[an]||Ln(du)}),v){var ct=v[He],pt=V[He]||pc;Ne[He]={businessHours:ct.businessHours||c.businessHours,dateSelection:M[He]||null,eventStore:pt,eventUiBases:(0,this.eventUiBuilders[He])(c.eventUiBases[""],ct.ui,N[He]),eventSelection:pt.instances[c.eventSelection]?c.eventSelection:"",eventDrag:z[He]||null,eventResize:ee[He]||null}}return Ne},d.prototype._splitDateSpan=function(c){var g={};if(c)for(var w=0,M=this.getKeysForDateSpan(c);w<M.length;w++)g[M[w]]=c;return g},d.prototype._getKeysForEventDefs=function(c){var g=this;return ge(c.defs,function(v){return g.getKeysForEventDef(v)})},d.prototype._splitEventStore=function(c,g){var v=c.defs,w=c.instances,M={};for(var N in v)for(var V=0,z=g[N];V<z.length;V++)M[ee=z[V]]||(M[ee]={defs:{},instances:{}}),M[ee].defs[N]=v[N];for(var Ne in w)for(var He=w[Ne],ct=0,pt=g[He.defId];ct<pt.length;ct++){var ee;M[ee=pt[ct]]&&(M[ee].instances[Ne]=He)}return M},d.prototype._splitIndividualUi=function(c,g){var v={};for(var w in c)if(w)for(var M=0,N=g[w];M<N.length;M++){var V=N[M];v[V]||(v[V]={}),v[V][w]=c[w]}return v},d.prototype._splitInteraction=function(c){var g={};if(c){var v=this._splitEventStore(c.affectedEvents,this._getKeysForEventDefs(c.affectedEvents)),w=this._getKeysForEventDefs(c.mutatedEvents),M=this._splitEventStore(c.mutatedEvents,w),N=function(z){g[z]||(g[z]={affectedEvents:v[z]||pc,mutatedEvents:M[z]||pc,isEvent:c.isEvent})};for(var V in v)N(V);for(var V in M)N(V)}return g},d}();function du(d,c,g){var v=[];d&&v.push(d),c&&v.push(c);var w={"":Or(v)};return g&&(0,P.__assign)(w,g),w}function Tl(d,c,g,v){return{dow:d.getUTCDay(),isDisabled:Boolean(v&&!we(v.activeRange,d)),isOther:Boolean(v&&!we(v.currentRange,d)),isToday:Boolean(c&&we(c,d)),isPast:Boolean(g?d<g:!!c&&d<c.start),isFuture:Boolean(g?d>g:!!c&&d>=c.end)}}function oo(d,c){var g=["fc-day","fc-day-"+fn[d.dow]];return d.isDisabled?g.push("fc-day-disabled"):(d.isToday&&(g.push("fc-day-today"),g.push(c.getClass("today"))),d.isPast&&g.push("fc-day-past"),d.isFuture&&g.push("fc-day-future"),d.isOther&&g.push("fc-day-other")),g}function ao(d,c){var g=["fc-slot","fc-slot-"+fn[d.dow]];return d.isDisabled?g.push("fc-slot-disabled"):(d.isToday&&(g.push("fc-slot-today"),g.push(c.getClass("today"))),d.isPast&&g.push("fc-slot-past"),d.isFuture&&g.push("fc-slot-future")),g}var mr=Ar({year:"numeric",month:"long",day:"numeric"}),Lr=Ar({week:"long"});function vn(d,c,g,v){void 0===g&&(g="day"),void 0===v&&(v=!0);var w=d.dateEnv,M=d.options,N=d.calendarApi,V=w.format(c,"week"===g?Lr:mr);if(M.navLinks){var z=w.toDate(c),ee=function(Ne){var He="day"===g?M.navLinkDayClick:"week"===g?M.navLinkWeekClick:null;"function"==typeof He?He.call(N,w.toDate(c),Ne):("string"==typeof He&&(g=He),N.zoomTo(c,g))};return(0,P.__assign)({title:At(M.navLinkHint,[V,z],V),"data-navlink":""},v?Xe(ee):{onClick:ee})}return{"aria-label":V}}var Sl,Wa=null;function gc(){return null===Wa&&(Wa=function mc(){var d=document.createElement("div");je(d,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),d.innerHTML="<div></div>",document.body.appendChild(d);var g=d.firstChild.getBoundingClientRect().left>d.getBoundingClientRect().left;return F(d),g}()),Wa}function vc(){return Sl||(Sl=function Ud(){var d=document.createElement("div");d.style.overflow="scroll",d.style.position="absolute",d.style.top="-9999px",d.style.left="-9999px",document.body.appendChild(d);var c=pi(d);return document.body.removeChild(d),c}()),Sl}function pi(d){return{x:d.offsetHeight-d.clientHeight,y:d.offsetWidth-d.clientWidth}}function Ei(d,c){void 0===c&&(c=!1);var g=window.getComputedStyle(d),v=parseInt(g.borderLeftWidth,10)||0,w=parseInt(g.borderRightWidth,10)||0,M=parseInt(g.borderTopWidth,10)||0,N=parseInt(g.borderBottomWidth,10)||0,V=pi(d),z=V.y-v-w,Ne={borderLeft:v,borderRight:w,borderTop:M,borderBottom:N,scrollbarBottom:V.x-M-N,scrollbarLeft:0,scrollbarRight:0};return gc()&&"rtl"===g.direction?Ne.scrollbarLeft=z:Ne.scrollbarRight=z,c&&(Ne.paddingLeft=parseInt(g.paddingLeft,10)||0,Ne.paddingRight=parseInt(g.paddingRight,10)||0,Ne.paddingTop=parseInt(g.paddingTop,10)||0,Ne.paddingBottom=parseInt(g.paddingBottom,10)||0),Ne}function ua(d,c,g){void 0===c&&(c=!1);var v=g?d.getBoundingClientRect():Bs(d),w=Ei(d,c),M={left:v.left+w.borderLeft+w.scrollbarLeft,right:v.right-w.borderRight-w.scrollbarRight,top:v.top+w.borderTop,bottom:v.bottom-w.borderBottom-w.scrollbarBottom};return c&&(M.left+=w.paddingLeft,M.right-=w.paddingRight,M.top+=w.paddingTop,M.bottom-=w.paddingBottom),M}function Bs(d){var c=d.getBoundingClientRect();return{left:c.left+window.pageXOffset,top:c.top+window.pageYOffset,right:c.right+window.pageXOffset,bottom:c.bottom+window.pageYOffset}}function yc(d){return d.getBoundingClientRect().height+function _c(d){var c=window.getComputedStyle(d);return parseInt(c.marginTop,10)+parseInt(c.marginBottom,10)}(d)}function gs(d){for(var c=[];d instanceof HTMLElement;){var g=window.getComputedStyle(d);if("fixed"===g.position)break;/(auto|scroll)/.test(g.overflow+g.overflowY+g.overflowX)&&c.push(d),d=d.parentNode}return c}function Us(d,c,g){var v=!1,w=function(){v||(v=!0,c.apply(this,arguments))},M=function(){v||(v=!0,g&&g.apply(this,arguments))},N=d(w,M);N&&"function"==typeof N.then&&N.then(w,M)}var ca=function(){function d(){this.handlers={},this.thisContext=null}return d.prototype.setThisContext=function(c){this.thisContext=c},d.prototype.setOptions=function(c){this.options=c},d.prototype.on=function(c,g){!function Kr(d,c,g){(d[c]||(d[c]=[])).push(g)}(this.handlers,c,g)},d.prototype.off=function(c,g){!function Lo(d,c,g){g?d[c]&&(d[c]=d[c].filter(function(v){return v!==g})):delete d[c]}(this.handlers,c,g)},d.prototype.trigger=function(c){for(var g=[],v=1;v<arguments.length;v++)g[v-1]=arguments[v];for(var w=this.handlers[c]||[],M=this.options&&this.options[c],N=[].concat(M||[],w),V=0,z=N;V<z.length;V++){var ee=z[V];ee.apply(this.thisContext,g)}},d.prototype.hasHandlers=function(c){return Boolean(this.handlers[c]&&this.handlers[c].length||this.options&&this.options[c])},d}(),hu=function(){function d(c,g,v,w){this.els=g;var M=this.originClientRect=c.getBoundingClientRect();v&&this.buildElHorizontals(M.left),w&&this.buildElVerticals(M.top)}return d.prototype.buildElHorizontals=function(c){for(var g=[],v=[],w=0,M=this.els;w<M.length;w++){var V=M[w].getBoundingClientRect();g.push(V.left-c),v.push(V.right-c)}this.lefts=g,this.rights=v},d.prototype.buildElVerticals=function(c){for(var g=[],v=[],w=0,M=this.els;w<M.length;w++){var V=M[w].getBoundingClientRect();g.push(V.top-c),v.push(V.bottom-c)}this.tops=g,this.bottoms=v},d.prototype.leftToIndex=function(c){var N,v=this.lefts,w=this.rights,M=v.length;for(N=0;N<M;N+=1)if(c>=v[N]&&c<w[N])return N},d.prototype.topToIndex=function(c){var N,v=this.tops,w=this.bottoms,M=v.length;for(N=0;N<M;N+=1)if(c>=v[N]&&c<w[N])return N},d.prototype.getWidth=function(c){return this.rights[c]-this.lefts[c]},d.prototype.getHeight=function(c){return this.bottoms[c]-this.tops[c]},d}(),Il=function(){function d(){}return d.prototype.getMaxScrollTop=function(){return this.getScrollHeight()-this.getClientHeight()},d.prototype.getMaxScrollLeft=function(){return this.getScrollWidth()-this.getClientWidth()},d.prototype.canScrollVertically=function(){return this.getMaxScrollTop()>0},d.prototype.canScrollHorizontally=function(){return this.getMaxScrollLeft()>0},d.prototype.canScrollUp=function(){return this.getScrollTop()>0},d.prototype.canScrollDown=function(){return this.getScrollTop()<this.getMaxScrollTop()},d.prototype.canScrollLeft=function(){return this.getScrollLeft()>0},d.prototype.canScrollRight=function(){return this.getScrollLeft()<this.getMaxScrollLeft()},d}(),Ec=function(d){function c(g){var v=d.call(this)||this;return v.el=g,v}return(0,P.__extends)(c,d),c.prototype.getScrollTop=function(){return this.el.scrollTop},c.prototype.getScrollLeft=function(){return this.el.scrollLeft},c.prototype.setScrollTop=function(g){this.el.scrollTop=g},c.prototype.setScrollLeft=function(g){this.el.scrollLeft=g},c.prototype.getScrollWidth=function(){return this.el.scrollWidth},c.prototype.getScrollHeight=function(){return this.el.scrollHeight},c.prototype.getClientHeight=function(){return this.el.clientHeight},c.prototype.getClientWidth=function(){return this.el.clientWidth},c}(Il),bc=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,P.__extends)(c,d),c.prototype.getScrollTop=function(){return window.pageYOffset},c.prototype.getScrollLeft=function(){return window.pageXOffset},c.prototype.setScrollTop=function(g){window.scroll(window.pageXOffset,g)},c.prototype.setScrollLeft=function(g){window.scroll(g,window.pageYOffset)},c.prototype.getScrollWidth=function(){return document.documentElement.scrollWidth},c.prototype.getScrollHeight=function(){return document.documentElement.scrollHeight},c.prototype.getClientHeight=function(){return document.documentElement.clientHeight},c.prototype.getClientWidth=function(){return document.documentElement.clientWidth},c}(Il),Vo=function(){function d(c){this.iconOverrideOption&&this.setIconOverride(c[this.iconOverrideOption])}return d.prototype.setIconOverride=function(c){var g,v;if("object"==typeof c&&c){for(v in g=(0,P.__assign)({},this.iconClasses),c)g[v]=this.applyIconOverridePrefix(c[v]);this.iconClasses=g}else!1===c&&(this.iconClasses={})},d.prototype.applyIconOverridePrefix=function(c){var g=this.iconOverridePrefix;return g&&0!==c.indexOf(g)&&(c=g+c),c},d.prototype.getClass=function(c){return this.classes[c]||""},d.prototype.getIconClass=function(c,g){var v;return(v=g&&this.rtlIconClasses&&this.rtlIconClasses[c]||this.iconClasses[c])?this.baseIconClass+" "+v:""},d.prototype.getCustomButtonIconClass=function(c){var g;return this.iconOverrideCustomButtonOption&&(g=c[this.iconOverrideCustomButtonOption])?this.baseIconClass+" "+this.applyIconOverridePrefix(g):""},d}();Vo.prototype.classes={},Vo.prototype.iconClasses={},Vo.prototype.baseIconClass="",Vo.prototype.iconOverridePrefix="";var Bo=function(){function d(c,g,v,w){var M=this;this.execFunc=c,this.emitter=g,this.scrollTime=v,this.scrollTimeReset=w,this.handleScrollRequest=function(N){M.queuedRequest=(0,P.__assign)({},M.queuedRequest||{},N),M.drain()},g.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}return d.prototype.detach=function(){this.emitter.off("_scrollRequest",this.handleScrollRequest)},d.prototype.update=function(c){c&&this.scrollTimeReset?this.fireInitialScroll():this.drain()},d.prototype.fireInitialScroll=function(){this.handleScrollRequest({time:this.scrollTime})},d.prototype.drain=function(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)},d}(),Pi=xe({});function pu(d,c,g,v,w,M,N,V,z,ee,Ne,He,ct){return{dateEnv:w,options:g,pluginHooks:N,emitter:ee,dispatch:V,getCurrentData:z,calendarApi:Ne,viewSpec:d,viewApi:c,dateProfileGenerator:v,theme:M,isRtl:"rtl"===g.direction,addResizeHandler:function(pt){ee.on("_resize",pt)},removeResizeHandler:function(pt){ee.off("_resize",pt)},createScrollResponder:function(pt){return new Bo(pt,ee,Ft(g.scrollTime),g.scrollTimeReset)},registerInteractiveComponent:He,unregisterInteractiveComponent:ct}}var Uo=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,P.__extends)(c,d),c.prototype.shouldComponentUpdate=function(g,v){return this.debug&&console.log(jt(g,this.props),jt(v,this.state)),!Se(this.props,g,this.propEquality)||!Se(this.state,v,this.stateEquality)},c.addPropsEquality=lo,c.addStateEquality=da,c.contextType=Pi,c}(R);Uo.prototype.propEquality={},Uo.prototype.stateEquality={};var sr=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,P.__extends)(c,d),c.contextType=Pi,c}(Uo);function lo(d){var c=Object.create(this.prototype.propEquality);(0,P.__assign)(c,d),this.prototype.propEquality=c}function da(d){var c=Object.create(this.prototype.stateEquality);(0,P.__assign)(c,d),this.prototype.stateEquality=c}function Oi(d,c){"function"==typeof d?d(c):d&&(d.current=c)}var Ml=function(d){function c(){var g=null!==d&&d.apply(this,arguments)||this;return g.uid=Qt(),g}return(0,P.__extends)(c,d),c.prototype.prepareHits=function(){},c.prototype.queryHit=function(g,v,w,M){return null},c.prototype.isValidSegDownEl=function(g){return!this.props.eventDrag&&!this.props.eventResize&&!U(g,".fc-event-mirror")},c.prototype.isValidDateDownEl=function(g){return!(U(g,".fc-event:not(.fc-bg-event)")||U(g,".fc-more-link")||U(g,"a[data-navlink]")||U(g,".fc-popover"))},c}(sr);function Fi(d){return{id:Qt(),deps:d.deps||[],reducers:d.reducers||[],isLoadingFuncs:d.isLoadingFuncs||[],contextInit:[].concat(d.contextInit||[]),eventRefiners:d.eventRefiners||{},eventDefMemberAdders:d.eventDefMemberAdders||[],eventSourceRefiners:d.eventSourceRefiners||{},isDraggableTransformers:d.isDraggableTransformers||[],eventDragMutationMassagers:d.eventDragMutationMassagers||[],eventDefMutationAppliers:d.eventDefMutationAppliers||[],dateSelectionTransformers:d.dateSelectionTransformers||[],datePointTransforms:d.datePointTransforms||[],dateSpanTransforms:d.dateSpanTransforms||[],views:d.views||{},viewPropsTransformers:d.viewPropsTransformers||[],isPropsValid:d.isPropsValid||null,externalDefTransforms:d.externalDefTransforms||[],viewContainerAppends:d.viewContainerAppends||[],eventDropTransformers:d.eventDropTransformers||[],componentInteractions:d.componentInteractions||[],calendarInteractions:d.calendarInteractions||[],themeClasses:d.themeClasses||{},eventSourceDefs:d.eventSourceDefs||[],cmdFormatter:d.cmdFormatter,recurringTypes:d.recurringTypes||[],namedTimeZonedImpl:d.namedTimeZonedImpl,initialView:d.initialView||"",elementDraggingImpl:d.elementDraggingImpl,optionChangeHandlers:d.optionChangeHandlers||{},scrollGridImpl:d.scrollGridImpl||null,contentTypeHandlers:d.contentTypeHandlers||{},listenerRefiners:d.listenerRefiners||{},optionRefiners:d.optionRefiners||{},propSetHandlers:d.propSetHandlers||{}}}function Dr(d,c){return{reducers:d.reducers.concat(c.reducers),isLoadingFuncs:d.isLoadingFuncs.concat(c.isLoadingFuncs),contextInit:d.contextInit.concat(c.contextInit),eventRefiners:(0,P.__assign)((0,P.__assign)({},d.eventRefiners),c.eventRefiners),eventDefMemberAdders:d.eventDefMemberAdders.concat(c.eventDefMemberAdders),eventSourceRefiners:(0,P.__assign)((0,P.__assign)({},d.eventSourceRefiners),c.eventSourceRefiners),isDraggableTransformers:d.isDraggableTransformers.concat(c.isDraggableTransformers),eventDragMutationMassagers:d.eventDragMutationMassagers.concat(c.eventDragMutationMassagers),eventDefMutationAppliers:d.eventDefMutationAppliers.concat(c.eventDefMutationAppliers),dateSelectionTransformers:d.dateSelectionTransformers.concat(c.dateSelectionTransformers),datePointTransforms:d.datePointTransforms.concat(c.datePointTransforms),dateSpanTransforms:d.dateSpanTransforms.concat(c.dateSpanTransforms),views:(0,P.__assign)((0,P.__assign)({},d.views),c.views),viewPropsTransformers:d.viewPropsTransformers.concat(c.viewPropsTransformers),isPropsValid:c.isPropsValid||d.isPropsValid,externalDefTransforms:d.externalDefTransforms.concat(c.externalDefTransforms),viewContainerAppends:d.viewContainerAppends.concat(c.viewContainerAppends),eventDropTransformers:d.eventDropTransformers.concat(c.eventDropTransformers),calendarInteractions:d.calendarInteractions.concat(c.calendarInteractions),componentInteractions:d.componentInteractions.concat(c.componentInteractions),themeClasses:(0,P.__assign)((0,P.__assign)({},d.themeClasses),c.themeClasses),eventSourceDefs:d.eventSourceDefs.concat(c.eventSourceDefs),cmdFormatter:c.cmdFormatter||d.cmdFormatter,recurringTypes:d.recurringTypes.concat(c.recurringTypes),namedTimeZonedImpl:c.namedTimeZonedImpl||d.namedTimeZonedImpl,initialView:d.initialView||c.initialView,elementDraggingImpl:d.elementDraggingImpl||c.elementDraggingImpl,optionChangeHandlers:(0,P.__assign)((0,P.__assign)({},d.optionChangeHandlers),c.optionChangeHandlers),scrollGridImpl:c.scrollGridImpl||d.scrollGridImpl,contentTypeHandlers:(0,P.__assign)((0,P.__assign)({},d.contentTypeHandlers),c.contentTypeHandlers),listenerRefiners:(0,P.__assign)((0,P.__assign)({},d.listenerRefiners),c.listenerRefiners),optionRefiners:(0,P.__assign)((0,P.__assign)({},d.optionRefiners),c.optionRefiners),propSetHandlers:(0,P.__assign)((0,P.__assign)({},d.propSetHandlers),c.propSetHandlers)}}var Hs=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,P.__extends)(c,d),c}(Vo);function mu(d,c,g,v){if(c[d])return c[d];var w=function fh(d,c,g,v){var w=g[d],M=v[d],N=function(Ne){return w&&null!==w[Ne]?w[Ne]:M&&null!==M[Ne]?M[Ne]:null},V=N("component"),z=N("superType"),ee=null;if(z){if(z===d)throw new Error("Can't have a custom view type that references itself");ee=mu(z,c,g,v)}return!V&&ee&&(V=ee.component),V?{type:d,component:V,defaults:(0,P.__assign)((0,P.__assign)({},ee?ee.defaults:{}),w?w.rawOptions:{}),overrides:(0,P.__assign)((0,P.__assign)({},ee?ee.overrides:{}),M?M.rawOptions:{})}:null}(d,c,g,v);return w&&(c[d]=w),w}Hs.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"},Hs.prototype.baseIconClass="fc-icon",Hs.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},Hs.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"},Hs.prototype.iconOverrideOption="buttonIcons",Hs.prototype.iconOverrideCustomButtonOption="icon",Hs.prototype.iconOverridePrefix="fc-icon-";var uo=function(d){function c(){var g=null!==d&&d.apply(this,arguments)||this;return g.rootElRef=Ce(),g.handleRootEl=function(v){Oi(g.rootElRef,v),g.props.elRef&&Oi(g.props.elRef,v)},g}return(0,P.__extends)(c,d),c.prototype.render=function(){var g=this,v=this.props,w=v.hookProps;return G(qa,{hookProps:w,didMount:v.didMount,willUnmount:v.willUnmount,elRef:this.handleRootEl},function(M){return G(vu,{hookProps:w,content:v.content,defaultContent:v.defaultContent,backupElRef:g.rootElRef},function(N,V){return v.children(M,fa(v.classNames,w),N,V)})})},c}(sr),Hd=xe(0);function vu(d){return G(Hd.Consumer,null,function(c){return G(Ho,(0,P.__assign)({renderId:c},d))})}var Ho=function(d){function c(){var g=null!==d&&d.apply(this,arguments)||this;return g.innerElRef=Ce(),g}return(0,P.__extends)(c,d),c.prototype.render=function(){return this.props.children(this.innerElRef,this.renderInnerContent())},c.prototype.componentDidMount=function(){this.updateCustomContent()},c.prototype.componentDidUpdate=function(){this.updateCustomContent()},c.prototype.componentWillUnmount=function(){this.customContentInfo&&this.customContentInfo.destroy&&this.customContentInfo.destroy()},c.prototype.renderInnerContent=function(){var g=this.customContentInfo,v=this.getInnerContent(),w=this.getContentMeta(v);return g&&g.contentKey===w.contentKey?g&&(g.contentVal=v[w.contentKey]):(g&&(g.destroy&&g.destroy(),g=this.customContentInfo=null),w.contentKey&&(g=this.customContentInfo=(0,P.__assign)({contentKey:w.contentKey,contentVal:v[w.contentKey]},w.buildLifecycleFuncs()))),g?[]:v},c.prototype.getInnerContent=function(){var g=this.props,v=Li(g.content,g.hookProps);return void 0===v&&(v=Li(g.defaultContent,g.hookProps)),null==v?null:v},c.prototype.getContentMeta=function(g){var v=this.context.pluginHooks.contentTypeHandlers,w="",M=null;if(g)for(var N in v)if(void 0!==g[N]){w=N,M=v[N];break}return{contentKey:w,buildLifecycleFuncs:M}},c.prototype.updateCustomContent=function(){this.customContentInfo&&this.customContentInfo.render(this.innerElRef.current||this.props.backupElRef.current,this.customContentInfo.contentVal)},c}(sr),qa=function(d){function c(){var g=null!==d&&d.apply(this,arguments)||this;return g.handleRootEl=function(v){g.rootEl=v,g.props.elRef&&Oi(g.props.elRef,v)},g}return(0,P.__extends)(c,d),c.prototype.render=function(){return this.props.children(this.handleRootEl)},c.prototype.componentDidMount=function(){var g=this.props.didMount;g&&g((0,P.__assign)((0,P.__assign)({},this.props.hookProps),{el:this.rootEl}))},c.prototype.componentWillUnmount=function(){var g=this.props.willUnmount;g&&g((0,P.__assign)((0,P.__assign)({},this.props.hookProps),{el:this.rootEl}))},c}(sr);function Tr(){var d,c,g=[];return function(v,w){return(!c||!ut(c,w)||v!==d)&&(d=v,c=w,g=fa(v,w)),g}}function fa(d,c){return"function"==typeof d&&(d=d(c)),xs(d)}function Li(d,c){return"function"==typeof d?d(c,G):d}var Qr=function(d){function c(){var g=null!==d&&d.apply(this,arguments)||this;return g.normalizeClassNames=Tr(),g}return(0,P.__extends)(c,d),c.prototype.render=function(){var v=this.props,w=this.context,M=w.options,N={view:w.viewApi},V=this.normalizeClassNames(M.viewClassNames,N);return G(qa,{hookProps:N,didMount:M.viewDidMount,willUnmount:M.viewWillUnmount,elRef:v.elRef},function(z){return v.children(z,["fc-"+v.viewSpec.type+"-view","fc-view"].concat(V))})},c}(sr);function Ac(d){return ge(d,Vi)}function Vi(d){var c="function"==typeof d?{component:d}:d,g=c.component;return c.content&&(g=function Ji(d){return function(c){return G(Pi.Consumer,null,function(g){return G(Qr,{viewSpec:g.viewSpec},function(v,w){var M=(0,P.__assign)((0,P.__assign)({},c),{nextDayThreshold:g.options.nextDayThreshold});return G(uo,{hookProps:M,classNames:d.classNames,content:d.content,didMount:d.didMount,willUnmount:d.willUnmount,elRef:v},function(N,V,z,ee){return G("div",{className:w.concat(V).join(" "),ref:N},ee)})})})}}(c)),{superType:c.type,component:g,rawOptions:c}}function co(d,c,g,v){var w=Ac(d),M=Ac(c.views),N=function dh(d,c){var v,g={};for(v in d)mu(v,g,d,c);for(v in c)mu(v,g,d,c);return g}(w,M);return ge(N,function(V){return function xl(d,c,g,v,w){var M=d.overrides.duration||d.defaults.duration||v.duration||g.duration,N=null,V="",z="",ee={};if(M&&(N=function Rl(d){var c=JSON.stringify(d),g=js[c];return void 0===g&&(g=Ft(d),js[c]=g),g}(M))){var Ne=Rn(N);V=Ne.unit,1===Ne.value&&(z=V,ee=c[V]?c[V].rawOptions:{})}var He=function(pt){var Dt=pt.buttonText||{},Kt=d.defaults.buttonTextKey;return null!=Kt&&null!=Dt[Kt]?Dt[Kt]:null!=Dt[d.type]?Dt[d.type]:null!=Dt[z]?Dt[z]:null},ct=function(pt){var Dt=pt.buttonHints||{},Kt=d.defaults.buttonTextKey;return null!=Kt&&null!=Dt[Kt]?Dt[Kt]:null!=Dt[d.type]?Dt[d.type]:null!=Dt[z]?Dt[z]:null};return{type:d.type,component:d.component,duration:N,durationUnit:V,singleUnit:z,optionDefaults:d.defaults,optionOverrides:(0,P.__assign)((0,P.__assign)({},ee),d.overrides),buttonTextOverride:He(v)||He(g)||d.overrides.buttonText,buttonTextDefault:He(w)||d.defaults.buttonText||He(Ms)||d.type,buttonTitleOverride:ct(v)||ct(g)||d.overrides.buttonHint,buttonTitleDefault:ct(w)||d.defaults.buttonHint||ct(Ms)}}(V,M,c,g,v)})}var js={},jo=function(){function d(c){this.props=c,this.nowDate=Ga(c.nowInput,c.dateEnv),this.initHiddenDays()}return d.prototype.buildPrev=function(c,g,v){var w=this.props.dateEnv,M=w.subtract(w.startOf(g,c.currentRangeUnit),c.dateIncrement);return this.build(M,-1,v)},d.prototype.buildNext=function(c,g,v){var w=this.props.dateEnv,M=w.add(w.startOf(g,c.currentRangeUnit),c.dateIncrement);return this.build(M,1,v)},d.prototype.build=function(c,g,v){void 0===v&&(v=!0);var M,N,V,z,ee,Ne,w=this.props;return M=this.buildValidRange(),M=this.trimHiddenDays(M),v&&(c=function ze(d,c){return null!=c.start&&d<c.start?c.start:null!=c.end&&d>=c.end?new Date(c.end.valueOf()-1):d}(c,M)),N=this.buildCurrentRangeInfo(c,g),V=/^(year|month|week|day)$/.test(N.unit),z=this.buildRenderRange(this.trimHiddenDays(N.range),N.unit,V),ee=z=this.trimHiddenDays(z),w.showNonCurrentDates||(ee=Ns(ee,N.range)),ee=Ns(ee=this.adjustActiveRange(ee),M),Ne=K(N.range,M),{validRange:M,currentRange:N.range,currentRangeUnit:N.unit,isRangeAllDay:V,activeRange:ee,renderRange:z,slotMinTime:w.slotMinTime,slotMaxTime:w.slotMaxTime,isValid:Ne,dateIncrement:this.buildDateIncrement(N.duration)}},d.prototype.buildValidRange=function(){var c=this.props.validRangeInput,g="function"==typeof c?c.call(this.props.calendarApi,this.nowDate):c;return this.refineRange(g)||{start:null,end:null}},d.prototype.buildCurrentRangeInfo=function(c,g){var V,v=this.props,w=null,M=null,N=null;return v.duration?N=this.buildRangeFromDuration(c,g,w=v.duration,M=v.durationUnit):(V=this.props.dayCount)?(M="day",N=this.buildRangeFromDayCount(c,g,V)):(N=this.buildCustomVisibleRange(c))?M=v.dateEnv.greatestWholeUnit(N.start,N.end).unit:(M=Rn(w=this.getFallbackDuration()).unit,N=this.buildRangeFromDuration(c,g,w,M)),{duration:w,unit:M,range:N}},d.prototype.getFallbackDuration=function(){return Ft({day:1})},d.prototype.adjustActiveRange=function(c){var g=this.props,v=g.dateEnv,M=g.slotMinTime,N=g.slotMaxTime,V=c.start,z=c.end;return g.usesMinMaxTime&&(ye(M)<0&&(V=ln(V),V=v.add(V,M)),ye(N)>1&&(z=Ke(z=ln(z),-1),z=v.add(z,N))),{start:V,end:z}},d.prototype.buildRangeFromDuration=function(c,g,v,w){var z,ee,Ne,M=this.props,N=M.dateEnv,V=M.dateAlignment;if(!V){var He=this.props.dateIncrement;V=He&&Bt(He)<Bt(v)?Rn(He).unit:w}function ct(){z=N.startOf(c,V),ee=N.add(z,v),Ne={start:z,end:ee}}return ye(v)<=1&&this.isHiddenDay(z)&&(z=ln(z=this.skipHiddenDays(z,g))),ct(),this.trimHiddenDays(Ne)||(c=this.skipHiddenDays(c,g),ct()),Ne},d.prototype.buildRangeFromDayCount=function(c,g,v){var ee,w=this.props,N=w.dateAlignment,V=0,z=c;N&&(z=w.dateEnv.startOf(z,N)),z=ln(z),ee=z=this.skipHiddenDays(z,g);do{ee=Ke(ee,1),this.isHiddenDay(ee)||(V+=1)}while(V<v);return{start:z,end:ee}},d.prototype.buildCustomVisibleRange=function(c){var g=this.props,v=g.visibleRangeInput,w="function"==typeof v?v.call(g.calendarApi,g.dateEnv.toDate(c)):v,M=this.refineRange(w);return!M||null!=M.start&&null!=M.end?M:null},d.prototype.buildRenderRange=function(c,g,v){return c},d.prototype.buildDateIncrement=function(c){var v;return this.props.dateIncrement||((v=this.props.dateAlignment)?Ft(1,v):c||Ft({days:1}))},d.prototype.refineRange=function(c){if(c){var g=function Va(d,c){var g=null,v=null;return d.start&&(g=c.createMarker(d.start)),d.end&&(v=c.createMarker(d.end)),!g&&!v||g&&v&&v<g?null:{start:g,end:v}}(c,this.props.dateEnv);return g&&(g=hs(g)),g}return null},d.prototype.initHiddenDays=function(){var w,c=this.props.hiddenDays||[],g=[],v=0;for(!1===this.props.weekends&&c.push(0,6),w=0;w<7;w+=1)(g[w]=-1!==c.indexOf(w))||(v+=1);if(!v)throw new Error("invalid hiddenDays");this.isHiddenDayHash=g},d.prototype.trimHiddenDays=function(c){var g=c.start,v=c.end;return g&&(g=this.skipHiddenDays(g)),v&&(v=this.skipHiddenDays(v,-1,!0)),null==g||null==v||g<v?{start:g,end:v}:null},d.prototype.isHiddenDay=function(c){return c instanceof Date&&(c=c.getUTCDay()),this.isHiddenDayHash[c]},d.prototype.skipHiddenDays=function(c,g,v){for(void 0===g&&(g=1),void 0===v&&(v=!1);this.isHiddenDayHash[(c.getUTCDay()+(v?g:0)+7)%7];)c=Ke(c,g);return c},d}();function Za(d){for(var c in d)if(d[c].isFetching)return!0;return!1}function bg(d,c,g,v){for(var w={},M=0,N=c;M<N.length;M++){var V=N[M];w[V.sourceId]=V}return g&&(w=Cc(w,g,v)),(0,P.__assign)((0,P.__assign)({},d),w)}function Cc(d,c,g){return Tc(d,ae(d,function(v){return function Dc(d,c,g){return Go(d,g)?!g.options.lazyFetching||!d.fetchRange||d.isFetching||c.start<d.fetchRange.start||c.end>d.fetchRange.end:!d.latestFetchId}(v,c,g)}),c,!1,g)}function Tc(d,c,g,v,w){var M={};for(var N in d){var V=d[N];M[N]=c[N]?Sc(V,g,v,w):V}return M}function Sc(d,c,g,v){var w=v.options,M=v.calendarApi,N=v.pluginHooks.eventSourceDefs[d.sourceDefId],V=Qt();return N.fetch({eventSource:d,range:c,isRefetch:g,context:v},function(z){var ee=z.rawEvents;w.eventSourceSuccess&&(ee=w.eventSourceSuccess.call(M,ee,z.xhr)||ee),d.success&&(ee=d.success.call(M,ee,z.xhr)||ee),v.dispatch({type:"RECEIVE_EVENTS",sourceId:d.sourceId,fetchId:V,fetchRange:c,rawEvents:ee})},function(z){console.warn(z.message,z),w.eventSourceFailure&&w.eventSourceFailure.call(M,z),d.failure&&d.failure(z),v.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:d.sourceId,fetchId:V,fetchRange:c,error:z})}),(0,P.__assign)((0,P.__assign)({},d),{isFetching:!0,latestFetchId:V})}function ha(d,c){return ae(d,function(g){return Go(g,c)})}function Go(d,c){return!c.pluginHooks.eventSourceDefs[d.sourceDefId].ignoreRange}function pa(d,c){var g;if(c){g=[];for(var v=0,w=d;v<w.length;v++){var M=w[v],N=c(M);N?g.push(N):null==N&&g.push(M)}}else g=d;return g}function Mc(d,c){return ia(d,function(g){return g.sourceId!==c})}function gh(d,c){switch(c.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return c.selection;default:return d}}function Eu(d,c){switch(c.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return c.eventInstanceId;default:return d}}function bu(d,c){var g;switch(c.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return{affectedEvents:(g=c.state).affectedEvents,mutatedEvents:g.mutatedEvents,isEvent:g.isEvent};default:return d}}function jd(d,c){var g;switch(c.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return{affectedEvents:(g=c.state).affectedEvents,mutatedEvents:g.mutatedEvents,isEvent:g.isEvent};default:return d}}function si(d,c,g,v,w){return{header:d.headerToolbar?ga(d.headerToolbar,d,c,g,v,w):null,footer:d.footerToolbar?ga(d.footerToolbar,d,c,g,v,w):null}}function ga(d,c,g,v,w,M){var N={},V=[],z=!1;for(var ee in d){var He=mh(d[ee],c,g,v,w,M);N[ee]=He.widgets,V.push.apply(V,He.viewsWithButtons),z=z||He.hasTitle}return{sectionWidgets:N,viewsWithButtons:V,hasTitle:z}}function mh(d,c,g,v,w,M){var N="rtl"===c.direction,V=c.customButtons||{},z=g.buttonText||{},ee=c.buttonText||{},Ne=g.buttonHints||{},He=c.buttonHints||{},ct=d?d.split(" "):[],pt=[],Dt=!1;return{widgets:ct.map(function(an){return an.split(",").map(function(xt){if("title"===xt)return Dt=!0,{buttonName:xt};var tr,xr,pr,ai,jr,vs;if(tr=V[xt])pr=function(Ws){tr.click&&tr.click.call(Ws.target,Ws,Ws.target)},(ai=v.getCustomButtonIconClass(tr))||(ai=v.getIconClass(xt,N))||(jr=tr.text),vs=tr.hint||tr.text;else if(xr=w[xt]){pt.push(xt),pr=function(){M.changeView(xt)},(jr=xr.buttonTextOverride)||(ai=v.getIconClass(xt,N))||(jr=xr.buttonTextDefault);var Hi=xr.buttonTextOverride||xr.buttonTextDefault;vs=At(xr.buttonTitleOverride||xr.buttonTitleDefault||c.viewHint,[Hi,xt],Hi)}else if(M[xt])if(pr=function(){M[xt]()},(jr=z[xt])||(ai=v.getIconClass(xt,N))||(jr=ee[xt]),"prevYear"===xt||"nextYear"===xt){var _o="prevYear"===xt?"prev":"next";vs=At(Ne[_o]||He[_o],[ee.year||"year","year"],ee[xt])}else vs=function(Ws){return At(Ne[xt]||He[xt],[ee[Ws]||Ws,Ws],ee[xt])};return{buttonName:xt,buttonClick:pr,buttonIcon:ai,buttonText:jr,buttonHint:vs}})}),viewsWithButtons:pt,hasTitle:Dt}}function Qa(d,c,g,v,w){var M=null;"GET"===(d=d.toUpperCase())?c=function zs(d,c){return d+(-1===d.indexOf("?")?"?":"&")+$s(c)}(c,g):M=$s(g);var N=new XMLHttpRequest;N.open(d,c,!0),"GET"!==d&&N.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),N.onload=function(){if(N.status>=200&&N.status<400){var V=!1,z=void 0;try{z=JSON.parse(N.responseText),V=!0}catch(ee){}V?v(z,N):w("Failure parsing JSON",N)}else w("Request failed",N)},N.onerror=function(){w("Request failed",N)},N.send(M)}function $s(d){var c=[];for(var g in d)c.push(encodeURIComponent(g)+"="+encodeURIComponent(d[g]));return c.join("&")}function mo(d,c){for(var g=ht(c.getCurrentData().eventSources),v=[],w=0,M=d;w<M.length;w++){for(var N=M[w],V=!1,z=0;z<g.length;z+=1)if(g[z]._raw===N){g.splice(z,1),V=!0;break}V||v.push(N)}for(var ee=0,Ne=g;ee<Ne.length;ee++)c.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:Ne[ee].sourceId});for(var ct=0,pt=v;ct<pt.length;ct++)c.calendarApi.addEventSource(pt[ct])}var Wd=[Fi({eventSourceDefs:[{ignoreRange:!0,parseMeta:function(d){return Array.isArray(d.events)?d.events:null},fetch:function(d,c){c({rawEvents:d.eventSource.meta})}}]}),Fi({eventSourceDefs:[{parseMeta:function(d){return"function"==typeof d.events?d.events:null},fetch:function(d,c,g){Us(d.eventSource.meta.bind(null,uc(d.range,d.context.dateEnv)),function(M){c({rawEvents:M})},g)}}]}),Fi({eventSourceRefiners:{method:String,extraParams:tt,startParam:String,endParam:String,timeZoneParam:String},eventSourceDefs:[{parseMeta:function(d){return!d.url||"json"!==d.format&&d.format?null:{url:d.url,format:"json",method:(d.method||"GET").toUpperCase(),extraParams:d.extraParams,startParam:d.startParam,endParam:d.endParam,timeZoneParam:d.timeZoneParam}},fetch:function(d,c,g){var v=d.eventSource.meta,w=function kl(d,c,g){var M,N,V,z,v=g.dateEnv,w=g.options,ee={};return null==(M=d.startParam)&&(M=w.startParam),null==(N=d.endParam)&&(N=w.endParam),null==(V=d.timeZoneParam)&&(V=w.timeZoneParam),z="function"==typeof d.extraParams?d.extraParams():d.extraParams||{},(0,P.__assign)(ee,z),ee[M]=v.formatIso(c.start),ee[N]=v.formatIso(c.end),"local"!==v.timeZone&&(ee[V]=v.timeZone),ee}(v,d.range,d.context);Qa(v.method,v.url,w,function(M,N){c({rawEvents:M,xhr:N})},function(M,N){g({message:M,xhr:N})})}}]}),Fi({recurringTypes:[{parse:function(d,c){if(d.daysOfWeek||d.startTime||d.endTime||d.startRecur||d.endRecur){var g={daysOfWeek:d.daysOfWeek||null,startTime:d.startTime||null,endTime:d.endTime||null,startRecur:d.startRecur?c.createMarker(d.startRecur):null,endRecur:d.endRecur?c.createMarker(d.endRecur):null},v=void 0;return d.duration&&(v=d.duration),!v&&d.startTime&&d.endTime&&(v=function Ir(d,c){return{years:d.years-c.years,months:d.months-c.months,days:d.days-c.days,milliseconds:d.milliseconds-c.milliseconds}}(d.endTime,d.startTime)),{allDayGuess:Boolean(!d.startTime&&!d.endTime),duration:v,typeData:g}}return null},expand:function(d,c,g){var v=Ns(c,{start:d.startRecur,end:d.endRecur});return v?function Ja(d,c,g,v){for(var w=d?Pe(d):null,M=ln(g.start),N=g.end,V=[];M<N;){var z=void 0;(!w||w[M.getUTCDay()])&&(z=c?v.add(M,c):M,V.push(z)),M=Ke(M,1)}return V}(d.daysOfWeek,d.startTime,v,g):[]}}],eventRefiners:{daysOfWeek:tt,startTime:Ft,endTime:Ft,duration:Ft,startRecur:tt,endRecur:tt}}),Fi({optionChangeHandlers:{events:function(d,c){mo([d],c)},eventSources:mo}}),Fi({isLoadingFuncs:[function(d){return Za(d.eventSources)}],contentTypeHandlers:{html:function Rc(){var d=null,c="";return{render:function g(w,M){(w!==d||M!==c)&&(w.innerHTML=M),d=w,c=M},destroy:function v(){d.innerHTML="",d=null,c=""}}},domNodes:function Du(){var d=null,c=[];function v(){c.forEach(F),c=[],d=null}return{render:function g(w,M){var N=Array.prototype.slice.call(M);if(w!==d||!di(c,N)){for(var V=0,z=N;V<z.length;V++)w.appendChild(z[V]);v()}d=w,c=N},destroy:v}}},propSetHandlers:{dateProfile:function Ol(d,c){c.emitter.trigger("datesSet",(0,P.__assign)((0,P.__assign)({},uc(d.activeRange,c.dateEnv)),{view:c.viewApi}))},eventStore:function Cu(d,c){var g=c.emitter;g.hasHandlers("eventsSet")&&g.trigger("eventsSet",El(d,c))}}})],Nc=function(){function d(c){this.drainedOption=c,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}return d.prototype.request=function(c){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),null==c?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),c))},d.prototype.pause=function(c){void 0===c&&(c="");var g=this.pauseDepths;g[c]=(g[c]||0)+1,this.clearTimeout()},d.prototype.resume=function(c,g){void 0===c&&(c="");var v=this.pauseDepths;c in v&&(g?delete v[c]:(v[c]-=1,v[c]<=0&&delete v[c]),this.tryDrain())},d.prototype.isPaused=function(){return Object.keys(this.pauseDepths).length},d.prototype.tryDrain=function(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}},d.prototype.clear=function(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}},d.prototype.clearTimeout=function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)},d.prototype.drained=function(){this.drainedOption&&this.drainedOption()},d}(),Xa=function(){function d(c,g){this.runTaskOption=c,this.drainedOption=g,this.queue=[],this.delayedRunner=new Nc(this.drain.bind(this))}return d.prototype.request=function(c,g){this.queue.push(c),this.delayedRunner.request(g)},d.prototype.pause=function(c){this.delayedRunner.pause(c)},d.prototype.resume=function(c,g){this.delayedRunner.resume(c,g)},d.prototype.drain=function(){for(var c=this.queue;c.length;){for(var g=[],v=void 0;v=c.shift();)this.runTask(v),g.push(v);this.drained(g)}},d.prototype.runTask=function(c){this.runTaskOption&&this.runTaskOption(c)},d.prototype.drained=function(c){this.drainedOption&&this.drainedOption(c)},d}();function vh(d,c,g){var v;return v=/^(year|month)$/.test(d.currentRangeUnit)?d.currentRange:d.activeRange,g.formatRange(v.start,v.end,Ar(c.titleFormat||function yh(d){var c=d.currentRangeUnit;if("year"===c)return{year:"numeric"};if("month"===c)return{year:"numeric",month:"long"};var g=Gn(d.currentRange.start,d.currentRange.end);return null!==g&&g>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}(d)),{isEndExclusive:d.isRangeAllDay,defaultSeparator:c.titleRangeSeparator})}var vo=function(){function d(c){var g=this;this.computeOptionsData=Ln(this._computeOptionsData),this.computeCurrentViewData=Ln(this._computeCurrentViewData),this.organizeRawLocales=Ln(uh),this.buildLocale=Ln(Fd),this.buildPluginHooks=function gu(){var g,d=[],c=[];return function(v,w){return(!g||!di(v,d)||!di(w,c))&&(g=function _g(d,c){var g={},v={reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,contentTypeHandlers:{},listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function w(M){for(var N=0,V=M;N<V.length;N++){var z=V[N];g[z.id]||(g[z.id]=!0,w(z.deps),v=Dr(v,z))}}return d&&w(d),w(c),v}(v,w)),d=v,c=w,g}}(),this.buildDateEnv=Ln(el),this.buildTheme=Ln(ma),this.parseToolbars=Ln(si),this.buildViewSpecs=Ln(co),this.buildDateProfileGenerator=Wi(wg),this.buildViewApi=Ln(Cg),this.buildViewUiProps=Wi(kc),this.buildEventUiBySource=Ln(Xv,ut),this.buildEventUiBases=Ln(Fl),this.parseContextBusinessHours=Wi(qd),this.buildTitle=Ln(vh),this.emitter=new ca,this.actionRunner=new Xa(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.getCurrentData=function(){return g.data},this.dispatch=function(xr){g.actionRunner.request(xr)},this.props=c,this.actionRunner.pause();var v={},w=this.computeOptionsData(c.optionOverrides,v,c.calendarApi),M=w.calendarOptions.initialView||w.pluginHooks.initialView,N=this.computeCurrentViewData(M,w,c.optionOverrides,v);c.calendarApi.currentDataManager=this,this.emitter.setThisContext(c.calendarApi),this.emitter.setOptions(N.options);var V=function hg(d,c){var g=d.initialDate;return null!=g?c.createMarker(g):Ga(d.now,c)}(w.calendarOptions,w.dateEnv),z=N.dateProfileGenerator.build(V);we(z.activeRange,V)||(V=z.currentRange.start);for(var ee={dateEnv:w.dateEnv,options:w.calendarOptions,pluginHooks:w.pluginHooks,calendarApi:c.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},Ne=0,He=w.pluginHooks.contextInit;Ne<He.length;Ne++)(0,He[Ne])(ee);for(var pt=function hh(d,c,g){var v=c?c.activeRange:null;return bg({},function Gs(d,c){var g=_l(c),v=[].concat(d.eventSources||[]),w=[];d.initialEvents&&v.unshift(d.initialEvents),d.events&&v.unshift(d.events);for(var M=0,N=v;M<N.length;M++){var z=ja(N[M],c,g);z&&w.push(z)}return w}(d,g),v,g)}(w.calendarOptions,z,ee),Dt={dynamicOptionOverrides:v,currentViewType:M,currentDate:V,dateProfile:z,businessHours:this.parseContextBusinessHours(ee),eventSources:pt,eventUiBases:{},eventStore:{defs:{},instances:{}},renderableEventStore:{defs:{},instances:{}},dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(ee).selectionConfig},Kt=(0,P.__assign)((0,P.__assign)({},ee),Dt),an=0,xt=w.pluginHooks.reducers;an<xt.length;an++)(0,P.__assign)(Dt,(0,xt[an])(null,null,Kt));Ll(Dt,ee)&&this.emitter.trigger("loading",!0),this.state=Dt,this.updateData(),this.actionRunner.resume()}return d.prototype.resetOptions=function(c,g){var v=this.props;v.optionOverrides=g?(0,P.__assign)((0,P.__assign)({},v.optionOverrides),c):c,this.actionRunner.request({type:"NOTHING"})},d.prototype._handleAction=function(c){var g=this,v=g.props,w=g.state,M=g.emitter,N=function Eg(d,c){var g;return"SET_OPTION"===c.type?(0,P.__assign)((0,P.__assign)({},d),((g={})[c.optionName]=c.rawOptionValue,g)):d}(w.dynamicOptionOverrides,c),V=this.computeOptionsData(v.optionOverrides,N,v.calendarApi),z=function Nl(d,c){return"CHANGE_VIEW_TYPE"===c.type&&(d=c.viewType),d}(w.currentViewType,c),ee=this.computeCurrentViewData(z,V,v.optionOverrides,N);v.calendarApi.currentDataManager=this,M.setThisContext(v.calendarApi),M.setOptions(ee.options);var Ne={dateEnv:V.dateEnv,options:V.calendarOptions,pluginHooks:V.pluginHooks,calendarApi:v.calendarApi,dispatch:this.dispatch,emitter:M,getCurrentData:this.getCurrentData},He=w.currentDate,ct=w.dateProfile;this.data&&this.data.dateProfileGenerator!==ee.dateProfileGenerator&&(ct=ee.dateProfileGenerator.build(He)),He=function fc(d,c){return"CHANGE_DATE"===c.type?c.dateMarker:d}(He,c),ct=function Jv(d,c,g,v){var w;switch(c.type){case"CHANGE_VIEW_TYPE":return v.build(c.dateMarker||g);case"CHANGE_DATE":return v.build(c.dateMarker);case"PREV":if((w=v.buildPrev(d,g)).isValid)return w;break;case"NEXT":if((w=v.buildNext(d,g)).isValid)return w}return d}(ct,c,He,ee.dateProfileGenerator),("PREV"===c.type||"NEXT"===c.type||!we(ct.currentRange,He))&&(He=ct.currentRange.start);for(var pt=function bi(d,c,g,v){var w=g?g.activeRange:null;switch(c.type){case"ADD_EVENT_SOURCES":return bg(d,c.sources,w,v);case"REMOVE_EVENT_SOURCE":return function yu(d,c){return ae(d,function(g){return g.sourceId!==c})}(d,c.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return g?Cc(d,w,v):d;case"FETCH_EVENT_SOURCES":return Tc(d,c.sourceIds?Pe(c.sourceIds):ha(d,v),w,c.isRefetch||!1,v);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return function Ka(d,c,g,v){var w,M=d[c];return M&&g===M.latestFetchId?(0,P.__assign)((0,P.__assign)({},d),((w={})[c]=(0,P.__assign)((0,P.__assign)({},M),{isFetching:!1,fetchRange:v}),w)):d}(d,c.sourceId,c.fetchId,c.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return d}}(w.eventSources,c,ct,Ne),Dt=function Ag(d,c,g,v,w){switch(c.type){case"RECEIVE_EVENTS":return function fo(d,c,g,v,w,M){if(c&&g===c.latestFetchId){var N=No(function zo(d,c,g){var v=g.options.eventDataTransform,w=c?c.eventDataTransform:null;return w&&(d=pa(d,w)),v&&(d=pa(d,v)),d}(w,c,M),c,M);return v&&(N=bt(N,v,M)),to(Mc(d,c.sourceId),N)}return d}(d,g[c.sourceId],c.fetchId,c.fetchRange,c.rawEvents,w);case"ADD_EVENTS":return function ph(d,c,g,v){return g&&(c=bt(c,g,v)),to(d,c)}(d,c.eventStore,v?v.activeRange:null,w);case"RESET_EVENTS":return c.eventStore;case"MERGE_EVENTS":return to(d,c.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return v?bt(d,v.activeRange,w):d;case"REMOVE_EVENTS":return function Nd(d,c){var g=d.defs,v=d.instances,w={},M={};for(var N in g)c.defs[N]||(w[N]=g[N]);for(var V in v)!c.instances[V]&&w[v[V].defId]&&(M[V]=v[V]);return{defs:w,instances:M}}(d,c.eventStore);case"REMOVE_EVENT_SOURCE":return Mc(d,c.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return ia(d,function(M){return!M.sourceId});case"REMOVE_ALL_EVENTS":return{defs:{},instances:{}};default:return d}}(w.eventStore,c,pt,ct,Ne),an=Za(pt)&&!ee.options.progressiveEventRendering&&w.renderableEventStore||Dt,xt=this.buildViewUiProps(Ne),tr=xt.eventUiSingleBase,xr=xt.selectionConfig,pr=this.buildEventUiBySource(pt),jr={dynamicOptionOverrides:N,currentViewType:z,currentDate:He,dateProfile:ct,eventSources:pt,eventStore:Dt,renderableEventStore:an,selectionConfig:xr,eventUiBases:this.buildEventUiBases(an.defs,tr,pr),businessHours:this.parseContextBusinessHours(Ne),dateSelection:gh(w.dateSelection,c),eventSelection:Eu(w.eventSelection,c),eventDrag:bu(w.eventDrag,c),eventResize:jd(w.eventResize,c)},vs=(0,P.__assign)((0,P.__assign)({},Ne),jr),Hi=0,_o=V.pluginHooks.reducers;Hi<_o.length;Hi++)(0,P.__assign)(jr,(0,_o[Hi])(w,c,vs));var sf=Ll(w,Ne),Nu=Ll(jr,Ne);!sf&&Nu?M.trigger("loading",!0):sf&&!Nu&&M.trigger("loading",!1),this.state=jr,v.onAction&&v.onAction(c)},d.prototype.updateData=function(){var g=this.props,v=this.state,w=this.data,M=this.computeOptionsData(g.optionOverrides,v.dynamicOptionOverrides,g.calendarApi),N=this.computeCurrentViewData(v.currentViewType,M,g.optionOverrides,v.dynamicOptionOverrides),V=this.data=(0,P.__assign)((0,P.__assign)((0,P.__assign)({viewTitle:this.buildTitle(v.dateProfile,N.options,M.dateEnv),calendarApi:g.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},M),N),v),z=M.pluginHooks.optionChangeHandlers,ee=w&&w.calendarOptions,Ne=M.calendarOptions;if(ee&&ee!==Ne)for(var He in ee.timeZone!==Ne.timeZone&&(v.eventSources=V.eventSources=function wc(d,c,g){var v=c?c.activeRange:null;return Tc(d,ha(d,g),v,!0,g)}(V.eventSources,v.dateProfile,V),v.eventStore=V.eventStore=function Ic(d,c,g){var v=d.defs,w=ge(d.instances,function(M){var N=v[M.defId];return N.allDay||N.recurringDef?M:(0,P.__assign)((0,P.__assign)({},M),{range:{start:g.createMarker(c.toDate(M.range.start,M.forcedStartTzo)),end:g.createMarker(c.toDate(M.range.end,M.forcedEndTzo))},forcedStartTzo:g.canComputeOffset?null:M.forcedStartTzo,forcedEndTzo:g.canComputeOffset?null:M.forcedEndTzo})});return{defs:v,instances:w}}(V.eventStore,w.dateEnv,V.dateEnv)),z)ee[He]!==Ne[He]&&z[He](Ne[He],V);g.onData&&g.onData(V)},d.prototype._computeOptionsData=function(c,g,v){var w=this.processRawCalendarOptions(c,g),M=w.refinedOptions,N=w.pluginHooks,V=w.localeDefaults,z=w.availableLocaleData;Tu(w.extra);var Ne=this.buildDateEnv(M.timeZone,M.locale,M.weekNumberCalculation,M.firstDay,M.weekText,N,z,M.defaultRangeSeparator),He=this.buildViewSpecs(N.views,c,g,V),ct=this.buildTheme(M,N);return{calendarOptions:M,pluginHooks:N,dateEnv:Ne,viewSpecs:He,theme:ct,toolbarConfig:this.parseToolbars(M,c,ct,He,v),localeDefaults:V,availableRawLocales:z.map}},d.prototype.processRawCalendarOptions=function(c,g){var v=La([Ms,c,g]),M=v.locale,N=this.organizeRawLocales(v.locales),z=this.buildLocale(M||N.defaultCode,N.map).options,ee=this.buildPluginHooks(c.plugins||[],Wd),Ne=this.currentCalendarOptionsRefiners=(0,P.__assign)((0,P.__assign)((0,P.__assign)((0,P.__assign)((0,P.__assign)({},ou),xd),pl),ee.listenerRefiners),ee.optionRefiners),He={},ct=La([Ms,z,c,g]),pt={},Dt=this.currentCalendarOptionsInput,Kt=this.currentCalendarOptionsRefined,an=!1;for(var xt in ct)"plugins"!==xt&&(ct[xt]===Dt[xt]||gl[xt]&&xt in Dt&&gl[xt](Dt[xt],ct[xt])?pt[xt]=Kt[xt]:Ne[xt]?(pt[xt]=Ne[xt](ct[xt]),an=!0):He[xt]=Dt[xt]);return an&&(this.currentCalendarOptionsInput=ct,this.currentCalendarOptionsRefined=pt),{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:ee,availableLocaleData:N,localeDefaults:z,extra:He}},d.prototype._computeCurrentViewData=function(c,g,v,w){var M=g.viewSpecs[c];if(!M)throw new Error('viewType "'+c+"\" is not available. Please make sure you've loaded all neccessary plugins");var N=this.processRawViewOptions(M,g.pluginHooks,g.localeDefaults,v,w),V=N.refinedOptions;return Tu(N.extra),{viewSpec:M,options:V,dateProfileGenerator:this.buildDateProfileGenerator({dateProfileGeneratorClass:M.optionDefaults.dateProfileGeneratorClass,duration:M.duration,durationUnit:M.durationUnit,usesMinMaxTime:M.optionDefaults.usesMinMaxTime,dateEnv:g.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:V.slotMinTime,slotMaxTime:V.slotMaxTime,showNonCurrentDates:V.showNonCurrentDates,dayCount:V.dayCount,dateAlignment:V.dateAlignment,dateIncrement:V.dateIncrement,hiddenDays:V.hiddenDays,weekends:V.weekends,nowInput:V.now,validRangeInput:V.validRange,visibleRangeInput:V.visibleRange,monthMode:V.monthMode,fixedWeekCount:V.fixedWeekCount}),viewApi:this.buildViewApi(c,this.getCurrentData,g.dateEnv)}},d.prototype.processRawViewOptions=function(c,g,v,w,M){var N=La([Ms,c.optionDefaults,v,w,c.optionOverrides,M]),V=(0,P.__assign)((0,P.__assign)((0,P.__assign)((0,P.__assign)((0,P.__assign)((0,P.__assign)({},ou),xd),pl),Rd),g.listenerRefiners),g.optionRefiners),z={},ee=this.currentViewOptionsInput,Ne=this.currentViewOptionsRefined,He=!1,ct={};for(var pt in N)N[pt]===ee[pt]?z[pt]=Ne[pt]:(N[pt]===this.currentCalendarOptionsInput[pt]?pt in this.currentCalendarOptionsRefined&&(z[pt]=this.currentCalendarOptionsRefined[pt]):V[pt]?z[pt]=V[pt](N[pt]):ct[pt]=N[pt],He=!0);return He&&(this.currentViewOptionsInput=N,this.currentViewOptionsRefined=z),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:ct}},d}();function el(d,c,g,v,w,M,N,V){var z=Fd(c||N.defaultCode,N.map);return new gr({calendarSystem:"gregory",timeZone:d,namedTimeZoneImpl:M.namedTimeZonedImpl,locale:z,weekNumberCalculation:g,firstDay:v,weekText:w,cmdFormatter:M.cmdFormatter,defaultSeparator:V})}function ma(d,c){return new(c.themeClasses[d.themeSystem]||Hs)(d)}function wg(d){return new(d.dateProfileGeneratorClass||jo)(d)}function Cg(d,c,g){return new uu(d,c,g)}function Xv(d){return ge(d,function(c){return c.ui})}function Fl(d,c,g){var v={"":c};for(var w in d){var M=d[w];M.sourceId&&g[M.sourceId]&&(v[w]=g[M.sourceId])}return v}function kc(d){var c=d.options;return{eventUiSingleBase:Rs({display:c.eventDisplay,editable:c.editable,startEditable:c.eventStartEditable,durationEditable:c.eventDurationEditable,constraint:c.eventConstraint,overlap:"boolean"==typeof c.eventOverlap?c.eventOverlap:void 0,allow:c.eventAllow,backgroundColor:c.eventBackgroundColor,borderColor:c.eventBorderColor,textColor:c.eventTextColor,color:c.eventColor},d),selectionConfig:Rs({constraint:c.selectConstraint,overlap:"boolean"==typeof c.selectOverlap?c.selectOverlap:void 0,allow:c.selectAllow},d)}}function Ll(d,c){for(var g=0,v=c.pluginHooks.isLoadingFuncs;g<v.length;g++)if((0,v[g])(d))return!0;return!1}function qd(d){return Fo(d.options.businessHours,d)}function Tu(d,c){for(var g in d)console.warn("Unknown option '"+g+"'"+(c?" for view '"+c+"'":""))}var Bi=function(d){function c(g){var v=d.call(this,g)||this;return v.handleData=function(w){v.dataManager?v.setState(w):v.state=w},v.dataManager=new vo({optionOverrides:g.optionOverrides,calendarApi:g.calendarApi,onData:v.handleData}),v}return(0,P.__extends)(c,d),c.prototype.render=function(){return this.props.children(this.state)},c.prototype.componentDidUpdate=function(g){var v=this.props.optionOverrides;v!==g.optionOverrides&&this.dataManager.resetOptions(v)},c}(R);function Pc(d,c){return yt(d.eventStore,d.eventUiBases,d.dateProfile.activeRange,c?d.nextDayThreshold:null).fg}var _h=function d(c){this.timeZoneName=c},Oc=function(){function d(){this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}return d.prototype.addSegs=function(c){for(var g=[],v=0,w=c;v<w.length;v++)this.insertEntry(w[v],g);return g},d.prototype.insertEntry=function(c,g){var v=this.findInsertion(c);return this.isInsertionValid(v,c)?(this.insertEntryAt(c,v),1):this.handleInvalidInsertion(v,c,g)},d.prototype.isInsertionValid=function(c,g){return(-1===this.maxCoord||c.levelCoord+g.thickness<=this.maxCoord)&&(-1===this.maxStackCnt||c.stackCnt<this.maxStackCnt)},d.prototype.handleInvalidInsertion=function(c,g,v){return this.allowReslicing&&c.touchingEntry?this.splitEntry(g,c.touchingEntry,v):(v.push(g),0)},d.prototype.splitEntry=function(c,g,v){var w=0,M=[],N=c.span,V=g.span;return N.start<V.start&&(w+=this.insertEntry({index:c.index,thickness:c.thickness,span:{start:N.start,end:V.start}},M)),N.end>V.end&&(w+=this.insertEntry({index:c.index,thickness:c.thickness,span:{start:V.end,end:N.end}},M)),w?(v.push.apply(v,(0,P.__spreadArray)([{index:c.index,thickness:c.thickness,span:ya(V,N)}],M)),w):(v.push(c),0)},d.prototype.insertEntryAt=function(c,g){var w=this.entriesByLevel;-1===g.lateral?(Lc(this.levelCoords,g.level,g.levelCoord),Lc(w,g.level,[c])):Lc(w[g.level],g.lateral,c),this.stackCnts[Zd(c)]=g.stackCnt},d.prototype.findInsertion=function(c){for(var g=this,v=g.levelCoords,w=g.entriesByLevel,M=g.strictOrder,N=g.stackCnts,V=v.length,z=0,ee=-1,Ne=-1,He=null,ct=0,pt=0;pt<V;pt+=1){var Dt=v[pt];if(!M&&Dt>=z+c.thickness)break;for(var Kt=w[pt],an=void 0,xt=Vl(Kt,c.span.start,Fc),tr=xt[0]+xt[1];(an=Kt[tr])&&an.span.start<c.span.end;){var xr=Dt+an.thickness;xr>z&&(z=xr,He=an,ee=pt,Ne=tr),xr===z&&(ct=Math.max(ct,N[Zd(an)]+1)),tr+=1}}var pr=0;if(He)for(pr=ee+1;pr<V&&v[pr]<z;)pr+=1;var ai=-1;return pr<V&&v[pr]===z&&(ai=Vl(w[pr],c.span.end,Fc)[0]),{touchingLevel:ee,touchingLateral:Ne,touchingEntry:He,stackCnt:ct,levelCoord:z,level:pr,lateral:ai}},d.prototype.toRects=function(){for(var g=this.entriesByLevel,v=this.levelCoords,w=g.length,M=[],N=0;N<w;N+=1)for(var z=v[N],ee=0,Ne=g[N];ee<Ne.length;ee++)M.push((0,P.__assign)((0,P.__assign)({},Ne[ee]),{levelCoord:z}));return M},d}();function Fc(d){return d.span.end}function Zd(d){return d.index+":"+d.span.start}function Xi(d){for(var c=[],g=0,v=d;g<v.length;g++){for(var w=v[g],M=[],N={span:w.span,entries:[w]},V=0,z=c;V<z.length;V++){var ee=z[V];ya(ee.span,N.span)?N={entries:ee.entries.concat(N.entries),span:va(ee.span,N.span)}:M.push(ee)}M.push(N),c=M}return c}function va(d,c){return{start:Math.min(d.start,c.start),end:Math.max(d.end,c.end)}}function ya(d,c){var g=Math.max(d.start,c.start),v=Math.min(d.end,c.end);return g<v?{start:g,end:v}:null}function Lc(d,c,g){d.splice(c,0,g)}function Vl(d,c,g){var v=0,w=d.length;if(!w||c<g(d[v]))return[0,0];if(c>g(d[w-1]))return[w,0];for(;v<w;){var M=Math.floor(v+(w-v)/2),N=g(d[M]);if(c<N)w=M;else{if(!(c>N))return[M,1];v=M+1}}return[v,0]}var Su=function(){function d(c){this.component=c.component,this.isHitComboAllowed=c.isHitComboAllowed||null}return d.prototype.destroy=function(){},d}();function Vc(d,c){return{component:d,el:c.el,useEventCenter:null==c.useEventCenter||c.useEventCenter,isHitComboAllowed:c.isHitComboAllowed||null}}function Kd(d){var c;return(c={})[d.component.uid]=d,c}var Bl={},Iu=function(){function d(c,g){this.emitter=new ca}return d.prototype.destroy=function(){},d.prototype.setMirrorIsVisible=function(c){},d.prototype.setMirrorNeedsRevert=function(c){},d.prototype.setAutoScrollEnabled=function(c){},d}(),Eh={},Bc={startTime:Ft,duration:Ft,create:Boolean,sourceId:String};function bh(d){var c=xi(d,Bc),g=c.refined;return{startTime:g.startTime||null,duration:g.duration||null,create:null==g.create||g.create,sourceId:g.sourceId,leftoverProps:c.extra}}var Qd=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,P.__extends)(c,d),c.prototype.render=function(){var g=this,v=this.props.widgetGroups.map(function(w){return g.renderWidgetGroup(w)});return G.apply(void 0,(0,P.__spreadArray)(["div",{className:"fc-toolbar-chunk"}],v))},c.prototype.renderWidgetGroup=function(g){for(var v=this.props,w=this.context.theme,M=[],N=!0,V=0,z=g;V<z.length;V++){var ee=z[V],Ne=ee.buttonName,He=ee.buttonClick,ct=ee.buttonText,pt=ee.buttonIcon,Dt=ee.buttonHint;if("title"===Ne)N=!1,M.push(G("h2",{className:"fc-toolbar-title",id:v.titleId},v.title));else{var Kt=Ne===v.activeButton,an=!v.isTodayEnabled&&"today"===Ne||!v.isPrevEnabled&&"prev"===Ne||!v.isNextEnabled&&"next"===Ne,xt=["fc-"+Ne+"-button",w.getClass("button")];Kt&&xt.push(w.getClass("buttonActive")),M.push(G("button",{type:"button",title:"function"==typeof Dt?Dt(v.navUnit):Dt,disabled:an,"aria-pressed":Kt,className:xt.join(" "),onClick:He},ct||(pt?G("span",{className:pt}):"")))}}if(M.length>1){var tr=N&&w.getClass("buttonGroup")||"";return G.apply(void 0,(0,P.__spreadArray)(["div",{className:tr}],M))}return M[0]},c}(sr),D=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,P.__extends)(c,d),c.prototype.render=function(){var N,V,g=this.props,M=!1,z=g.model.sectionWidgets,ee=z.center;return z.left?(M=!0,N=z.left):N=z.start,z.right?(M=!0,V=z.right):V=z.end,G("div",{className:[g.extraClassName||"","fc-toolbar",M?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",N||[]),this.renderSection("center",ee||[]),this.renderSection("end",V||[]))},c.prototype.renderSection=function(g,v){var w=this.props;return G(Qd,{key:g,widgetGroups:v,title:w.title,navUnit:w.navUnit,activeButton:w.activeButton,isTodayEnabled:w.isTodayEnabled,isPrevEnabled:w.isPrevEnabled,isNextEnabled:w.isNextEnabled,titleId:w.titleId})},c}(sr),_=function(d){function c(){var g=null!==d&&d.apply(this,arguments)||this;return g.state={availableWidth:null},g.handleEl=function(v){g.el=v,Oi(g.props.elRef,v),g.updateAvailableWidth()},g.handleResize=function(){g.updateAvailableWidth()},g}return(0,P.__extends)(c,d),c.prototype.render=function(){var v=this.props,w=this.state,M=v.aspectRatio,V="",z="";return M?null!==w.availableWidth?V=w.availableWidth/M:z=1/M*100+"%":V=v.height||"",G("div",{"aria-labelledby":v.labeledById,ref:this.handleEl,className:["fc-view-harness",M||v.liquid||v.height?"fc-view-harness-active":"fc-view-harness-passive"].join(" "),style:{height:V,paddingBottom:z}},v.children)},c.prototype.componentDidMount=function(){this.context.addResizeHandler(this.handleResize)},c.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleResize)},c.prototype.updateAvailableWidth=function(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})},c}(sr),b=function(d){function c(g){var v=d.call(this,g)||this;return v.handleSegClick=function(w,M){var N=v.component,V=N.context,z=nr(M);if(z&&N.isValidSegDownEl(w.target)){var ee=U(w.target,".fc-event-forced-url"),Ne=ee?ee.querySelector("a[href]").href:"";V.emitter.trigger("eventClick",{el:M,event:new Zr(N.context,z.eventRange.def,z.eventRange.instance),jsEvent:w,view:V.viewApi}),Ne&&!w.defaultPrevented&&(window.location.href=Ne)}},v.destroy=fe(g.el,"click",".fc-event",v.handleSegClick),v}return(0,P.__extends)(c,d),c}(Su),I=function(d){function c(g){var v=d.call(this,g)||this;return v.handleEventElRemove=function(w){w===v.currentSegEl&&v.handleSegLeave(null,v.currentSegEl)},v.handleSegEnter=function(w,M){nr(M)&&(v.currentSegEl=M,v.triggerEvent("eventMouseEnter",w,M))},v.handleSegLeave=function(w,M){v.currentSegEl&&(v.currentSegEl=null,v.triggerEvent("eventMouseLeave",w,M))},v.removeHoverListeners=function Ie(d,c,g,v){var w;return fe(d,"mouseover",c,function(M,N){if(N!==w){w=N,g(M,N);var V=function(z){w=null,v(z,N),N.removeEventListener("mouseleave",V)};N.addEventListener("mouseleave",V)}})}(g.el,".fc-event",v.handleSegEnter,v.handleSegLeave),v}return(0,P.__extends)(c,d),c.prototype.destroy=function(){this.removeHoverListeners()},c.prototype.triggerEvent=function(g,v,w){var M=this.component,N=M.context,V=nr(w);(!v||M.isValidSegDownEl(v.target))&&N.emitter.trigger(g,{el:w,event:new Zr(N,V.eventRange.def,V.eventRange.instance),jsEvent:v,view:N.viewApi})},c}(Su),H=function(d){function c(){var g=null!==d&&d.apply(this,arguments)||this;return g.buildViewContext=Ln(pu),g.buildViewPropTransformers=Ln(Le),g.buildToolbarProps=Ln(Q),g.headerRef=Ce(),g.footerRef=Ce(),g.interactionsStore={},g.state={viewLabelId:mt()},g.registerInteractiveComponent=function(v,w){var M=Vc(v,w),z=[b,I].concat(g.props.pluginHooks.componentInteractions).map(function(ee){return new ee(M)});g.interactionsStore[v.uid]=z,Bl[v.uid]=M},g.unregisterInteractiveComponent=function(v){var w=g.interactionsStore[v.uid];if(w){for(var M=0,N=w;M<N.length;M++)N[M].destroy();delete g.interactionsStore[v.uid]}delete Bl[v.uid]},g.resizeRunner=new Nc(function(){g.props.emitter.trigger("_resize",!0),g.props.emitter.trigger("windowResize",{view:g.props.viewApi})}),g.handleWindowResize=function(v){var w=g.props.options;w.handleWindowResize&&v.target===window&&g.resizeRunner.request(w.windowResizeDelay)},g}return(0,P.__extends)(c,d),c.prototype.render=function(){var z,g=this.props,v=g.toolbarConfig,w=g.options,M=this.buildToolbarProps(g.viewSpec,g.dateProfile,g.dateProfileGenerator,g.currentDate,Ga(g.options.now,g.dateEnv),g.viewTitle),N=!1,V="";g.isHeightAuto||g.forPrint?V="":null!=w.height?N=!0:null!=w.contentHeight?V=w.contentHeight:z=Math.max(w.aspectRatio,.5);var ee=this.buildViewContext(g.viewSpec,g.viewApi,g.options,g.dateProfileGenerator,g.dateEnv,g.theme,g.pluginHooks,g.dispatch,g.getCurrentData,g.emitter,g.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),Ne=v.header&&v.header.hasTitle?this.state.viewLabelId:"";return G(Pi.Provider,{value:ee},v.header&&G(D,(0,P.__assign)({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:v.header,titleId:Ne},M)),G(_,{liquid:N,height:V,aspectRatio:z,labeledById:Ne},this.renderView(g),this.buildAppendContent()),v.footer&&G(D,(0,P.__assign)({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:v.footer,titleId:""},M)))},c.prototype.componentDidMount=function(){var g=this.props;this.calendarInteractions=g.pluginHooks.calendarInteractions.map(function(M){return new M(g)}),window.addEventListener("resize",this.handleWindowResize);var v=g.pluginHooks.propSetHandlers;for(var w in v)v[w](g[w],g)},c.prototype.componentDidUpdate=function(g){var v=this.props,w=v.pluginHooks.propSetHandlers;for(var M in w)v[M]!==g[M]&&w[M](v[M],v)},c.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(var g=0,v=this.calendarInteractions;g<v.length;g++)v[g].destroy();this.props.emitter.trigger("_unmount")},c.prototype.buildAppendContent=function(){var g=this.props,v=g.pluginHooks.viewContainerAppends.map(function(w){return w(g)});return G.apply(void 0,(0,P.__spreadArray)([be,{}],v))},c.prototype.renderView=function(g){for(var w=g.viewSpec,M={dateProfile:g.dateProfile,businessHours:g.businessHours,eventStore:g.renderableEventStore,eventUiBases:g.eventUiBases,dateSelection:g.dateSelection,eventSelection:g.eventSelection,eventDrag:g.eventDrag,eventResize:g.eventResize,isHeightAuto:g.isHeightAuto,forPrint:g.forPrint},V=0,z=this.buildViewPropTransformers(g.pluginHooks.viewPropsTransformers);V<z.length;V++)(0,P.__assign)(M,z[V].transform(M,g));return G(w.component,(0,P.__assign)({},M))},c}(Uo);function Q(d,c,g,v,w,M){var N=g.build(w,void 0,!1),V=g.buildPrev(c,v,!1),z=g.buildNext(c,v,!1);return{title:M,activeButton:d.type,navUnit:d.singleUnit,isTodayEnabled:N.isValid&&!we(c.currentRange,w),isPrevEnabled:V.isValid,isNextEnabled:z.isValid}}function Le(d){return d.map(function(c){return new c})}var ft=function(d){function c(){var g=null!==d&&d.apply(this,arguments)||this;return g.state={forPrint:!1},g.handleBeforePrint=function(){g.setState({forPrint:!0})},g.handleAfterPrint=function(){g.setState({forPrint:!1})},g}return(0,P.__extends)(c,d),c.prototype.render=function(){var g=this.props,v=g.options,w=this.state.forPrint,M=w||"auto"===v.height||"auto"===v.contentHeight,N=M||null==v.height?"":v.height,V=["fc",w?"fc-media-print":"fc-media-screen","fc-direction-"+v.direction,g.theme.getClass("root")];return Vs()||V.push("fc-liquid-hack"),g.children(V,N,M,w)},c.prototype.componentDidMount=function(){var g=this.props.emitter;g.on("_beforeprint",this.handleBeforePrint),g.on("_afterprint",this.handleAfterPrint)},c.prototype.componentWillUnmount=function(){var g=this.props.emitter;g.off("_beforeprint",this.handleBeforePrint),g.off("_afterprint",this.handleAfterPrint)},c}(sr);function zt(d,c){return Ar(!d||c>10?{weekday:"short"}:c>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"})}var tn="fc-col-header-cell";function On(d){return d.text}var fr=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,P.__extends)(c,d),c.prototype.render=function(){var g=this.context,v=g.dateEnv,w=g.options,M=g.theme,N=g.viewApi,V=this.props,z=V.date,Ne=Tl(z,V.todayRange,null,V.dateProfile),He=[tn].concat(oo(Ne,M)),ct=v.format(z,V.dayHeaderFormat),pt=!Ne.isDisabled&&V.colCnt>1?vn(this.context,z):{},Dt=(0,P.__assign)((0,P.__assign)((0,P.__assign)({date:v.toDate(z),view:N},V.extraHookProps),{text:ct}),Ne);return G(uo,{hookProps:Dt,classNames:w.dayHeaderClassNames,content:w.dayHeaderContent,defaultContent:On,didMount:w.dayHeaderDidMount,willUnmount:w.dayHeaderWillUnmount},function(Kt,an,xt,tr){return G("th",(0,P.__assign)({ref:Kt,role:"columnheader",className:He.concat(an).join(" "),"data-date":Ne.isDisabled?void 0:cr(z),colSpan:V.colSpan},V.extraDataAttrs),G("div",{className:"fc-scrollgrid-sync-inner"},!Ne.isDisabled&&G("a",(0,P.__assign)({ref:xt,className:["fc-col-header-cell-cushion",V.isSticky?"fc-sticky":""].join(" ")},pt),tr)))})},c}(sr),Ai=Ar({weekday:"long"}),ms=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,P.__extends)(c,d),c.prototype.render=function(){var g=this.props,v=this.context,w=v.dateEnv,M=v.theme,N=v.viewApi,V=v.options,z=Ke(new Date(2592e5),g.dow),ee={dow:g.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},Ne=[tn].concat(oo(ee,M),g.extraClassNames||[]),He=w.format(z,g.dayHeaderFormat),ct=(0,P.__assign)((0,P.__assign)((0,P.__assign)((0,P.__assign)({date:z},ee),{view:N}),g.extraHookProps),{text:He});return G(uo,{hookProps:ct,classNames:V.dayHeaderClassNames,content:V.dayHeaderContent,defaultContent:On,didMount:V.dayHeaderDidMount,willUnmount:V.dayHeaderWillUnmount},function(pt,Dt,Kt,an){return G("th",(0,P.__assign)({ref:pt,role:"columnheader",className:Ne.concat(Dt).join(" "),colSpan:g.colSpan},g.extraDataAttrs),G("div",{className:"fc-scrollgrid-sync-inner"},G("a",{"aria-label":w.format(z,Ai),className:["fc-col-header-cell-cushion",g.isSticky?"fc-sticky":""].join(" "),ref:Kt},an)))})},c}(sr),Ul=function(d){function c(g,v){var w=d.call(this,g,v)||this;return w.initialNowDate=Ga(v.options.now,v.dateEnv),w.initialNowQueriedMs=(new Date).valueOf(),w.state=w.computeTiming().currentState,w}return(0,P.__extends)(c,d),c.prototype.render=function(){var w=this.state;return this.props.children(w.nowDate,w.todayRange)},c.prototype.componentDidMount=function(){this.setTimeout()},c.prototype.componentDidUpdate=function(g){g.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())},c.prototype.componentWillUnmount=function(){this.clearTimeout()},c.prototype.computeTiming=function(){var v=this.props,w=this.context,M=wt(this.initialNowDate,(new Date).valueOf()-this.initialNowQueriedMs),N=w.dateEnv.startOf(M,v.unit),V=w.dateEnv.add(N,Ft(1,v.unit)),z=V.valueOf()-M.valueOf();return z=Math.min(864e5,z),{currentState:{nowDate:N,todayRange:Yd(N)},nextState:{nowDate:V,todayRange:Yd(V)},waitMs:z}},c.prototype.setTimeout=function(){var g=this,v=this.computeTiming(),w=v.nextState;this.timeoutId=setTimeout(function(){g.setState(w,function(){g.setTimeout()})},v.waitMs)},c.prototype.clearTimeout=function(){this.timeoutId&&clearTimeout(this.timeoutId)},c.contextType=Pi,c}(R);function Yd(d){var c=ln(d);return{start:c,end:Ke(c,1)}}var Hl=function(d){function c(){var g=null!==d&&d.apply(this,arguments)||this;return g.createDayHeaderFormatter=Ln($o),g}return(0,P.__extends)(c,d),c.prototype.render=function(){var v=this.props,w=v.dates,M=v.dateProfile,N=v.datesRepDistinctDays,V=v.renderIntro,z=this.createDayHeaderFormatter(this.context.options.dayHeaderFormat,N,w.length);return G(Ul,{unit:"day"},function(ee,Ne){return G("tr",{role:"row"},V&&V("day"),w.map(function(He){return N?G(fr,{key:He.toISOString(),date:He,dateProfile:M,todayRange:Ne,colCnt:w.length,dayHeaderFormat:z}):G(ms,{key:He.getUTCDay(),dow:He.getUTCDay(),dayHeaderFormat:z})}))})},c}(sr);function $o(d,c,g){return d||zt(c,g)}var Jd=function(){function d(c,g){for(var v=c.start,w=c.end,M=[],N=[],V=-1;v<w;)g.isHiddenDay(v)?M.push(V+.5):(M.push(V+=1),N.push(v)),v=Ke(v,1);this.dates=N,this.indices=M,this.cnt=N.length}return d.prototype.sliceRange=function(c){var g=this.getDateDayIndex(c.start),v=this.getDateDayIndex(Ke(c.end,-1)),w=Math.max(0,g),M=Math.min(this.cnt-1,v);return(w=Math.ceil(w))<=(M=Math.floor(M))?{firstIndex:w,lastIndex:M,isStart:g===w,isEnd:v===M}:null},d.prototype.getDateDayIndex=function(c){var g=this.indices,v=Math.floor(vt(this.dates[0],c));return v<0?g[0]-1:v>=g.length?g[g.length-1]+1:g[v]},d}(),Mu=function(){function d(c,g){var w,M,N,v=c.dates;if(g){for(M=v[0].getUTCDay(),w=1;w<v.length&&v[w].getUTCDay()!==M;w+=1);N=Math.ceil(v.length/w)}else N=1,w=v.length;this.rowCnt=N,this.colCnt=w,this.daySeries=c,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}return d.prototype.buildCells=function(){for(var c=[],g=0;g<this.rowCnt;g+=1){for(var v=[],w=0;w<this.colCnt;w+=1)v.push(this.buildCell(g,w));c.push(v)}return c},d.prototype.buildCell=function(c,g){var v=this.daySeries.dates[c*this.colCnt+g];return{key:v.toISOString(),date:v}},d.prototype.buildHeaderDates=function(){for(var c=[],g=0;g<this.colCnt;g+=1)c.push(this.cells[0][g].date);return c},d.prototype.sliceRange=function(c){var g=this.colCnt,v=this.daySeries.sliceRange(c),w=[];if(v)for(var M=v.firstIndex,N=v.lastIndex,V=M;V<=N;){var z=Math.floor(V/g),ee=Math.min((z+1)*g,N+1);w.push({row:z,firstCol:V%g,lastCol:(ee-1)%g,isStart:v.isStart&&V===M,isEnd:v.isEnd&&ee-1===N}),V=ee}return w},d}(),Xd=function(){function d(){this.sliceBusinessHours=Ln(this._sliceBusinessHours),this.sliceDateSelection=Ln(this._sliceDateSpan),this.sliceEventStore=Ln(this._sliceEventStore),this.sliceEventDrag=Ln(this._sliceInteraction),this.sliceEventResize=Ln(this._sliceInteraction),this.forceDayIfListItem=!1}return d.prototype.sliceProps=function(c,g,v,w){for(var M=[],N=4;N<arguments.length;N++)M[N-4]=arguments[N];var V=c.eventUiBases,z=this.sliceEventStore.apply(this,(0,P.__spreadArray)([c.eventStore,V,g,v],M));return{dateSelectionSegs:this.sliceDateSelection.apply(this,(0,P.__spreadArray)([c.dateSelection,V,w],M)),businessHourSegs:this.sliceBusinessHours.apply(this,(0,P.__spreadArray)([c.businessHours,g,v,w],M)),fgEventSegs:z.fg,bgEventSegs:z.bg,eventDrag:this.sliceEventDrag.apply(this,(0,P.__spreadArray)([c.eventDrag,V,g,v],M)),eventResize:this.sliceEventResize.apply(this,(0,P.__spreadArray)([c.eventResize,V,g,v],M)),eventSelection:c.eventSelection}},d.prototype.sliceNowDate=function(c,g){for(var v=[],w=2;w<arguments.length;w++)v[w-2]=arguments[w];return this._sliceDateSpan.apply(this,(0,P.__spreadArray)([{range:{start:c,end:wt(c,1)},allDay:!1},{},g],v))},d.prototype._sliceBusinessHours=function(c,g,v,w){for(var M=[],N=4;N<arguments.length;N++)M[N-4]=arguments[N];return c?this._sliceEventStore.apply(this,(0,P.__spreadArray)([bt(c,tl(g,Boolean(v)),w),{},g,v],M)).bg:[]},d.prototype._sliceEventStore=function(c,g,v,w){for(var M=[],N=4;N<arguments.length;N++)M[N-4]=arguments[N];if(c){var V=yt(c,g,tl(v,Boolean(w)),w);return{bg:this.sliceEventRanges(V.bg,M),fg:this.sliceEventRanges(V.fg,M)}}return{bg:[],fg:[]}},d.prototype._sliceInteraction=function(c,g,v,w){for(var M=[],N=4;N<arguments.length;N++)M[N-4]=arguments[N];if(!c)return null;var V=yt(c.mutatedEvents,g,tl(v,Boolean(w)),w);return{segs:this.sliceEventRanges(V.fg,M),affectedInstances:c.affectedEvents.instances,isEvent:c.isEvent}},d.prototype._sliceDateSpan=function(c,g,v){for(var w=[],M=3;M<arguments.length;M++)w[M-3]=arguments[M];if(!c)return[];for(var N=Ha(c,g,v),V=this.sliceRange.apply(this,(0,P.__spreadArray)([c.range],w)),z=0,ee=V;z<ee.length;z++){var Ne=ee[z];Ne.eventRange=N}return V},d.prototype.sliceEventRanges=function(c,g){for(var v=[],w=0,M=c;w<M.length;w++)v.push.apply(v,this.sliceEventRange(M[w],g));return v},d.prototype.sliceEventRange=function(c,g){var v=c.range;this.forceDayIfListItem&&"list-item"===c.ui.display&&(v={start:v.start,end:Ke(v.start,1)});for(var w=this.sliceRange.apply(this,(0,P.__spreadArray)([v],g)),M=0,N=w;M<N.length;M++){var V=N[M];V.eventRange=c,V.isStart=c.isStart&&V.isStart,V.isEnd=c.isEnd&&V.isEnd}return w},d}();function tl(d,c){var g=d.activeRange;return c?g:{start:wt(g.start,d.slotMinTime.milliseconds),end:wt(g.end,d.slotMaxTime.milliseconds-864e5)}}function nl(d,c,g){var v=d.mutatedEvents.instances;for(var w in v)if(!Z(c.validRange,v[w].range))return!1;return rl({eventDrag:d},g)}function Uc(d,c,g){return!!Z(c.validRange,d.range)&&rl({dateSelection:d},g)}function rl(d,c){var g=c.getCurrentData(),v=(0,P.__assign)({businessHours:g.businessHours,dateSelection:"",eventStore:g.eventStore,eventUiBases:g.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},d);return(c.pluginHooks.isPropsValid||jl)(v,c)}function jl(d,c,g,v){return void 0===g&&(g={}),!(d.eventDrag&&!function Mr(d,c,g,v){var w=c.getCurrentData(),M=d.eventDrag,N=M.mutatedEvents,V=N.defs,z=N.instances,ee=Vt(V,M.isEvent?d.eventUiBases:{"":w.selectionConfig});v&&(ee=ge(ee,v));var Ne=function _u(d,c){return{defs:d.defs,instances:ae(d.instances,function(g){return!c[g.instanceId]})}}(d.eventStore,M.affectedEvents.instances),He=Ne.defs,ct=Ne.instances,pt=Vt(He,d.eventUiBases);for(var Dt in z){var Kt=z[Dt],an=Kt.range,xt=ee[Kt.defId],tr=V[Kt.defId];if(!Dg(xt.constraints,an,Ne,d.businessHours,c))return!1;var xr=c.options.eventOverlap,pr="function"==typeof xr?xr:null;for(var ai in ct){var jr=ct[ai];if(K(an,jr.range)&&(!1===pt[jr.defId].overlap&&M.isEvent||!1===xt.overlap||pr&&!pr(new Zr(c,He[jr.defId],jr),new Zr(c,tr,Kt))))return!1}for(var Hi=w.eventStore,_o=0,Ws=xt.allows;_o<Ws.length;_o++){var ku,sf=Ws[_o],Nu=(0,P.__assign)((0,P.__assign)({},g),{range:Kt.range,allDay:tr.allDay}),_a=Hi.defs[tr.defId];if(ku=_a?new Zr(c,_a,Hi.instances[Dt]):new Zr(c,tr),!sf(lu(Nu,c),ku))return!1}}return!0}(d,c,g,v)||d.dateSelection&&!function Ah(d,c,g,v){var w=d.eventStore,M=w.defs,N=w.instances,V=d.dateSelection,z=V.range,ee=c.getCurrentData().selectionConfig;if(v&&(ee=v(ee)),!Dg(ee.constraints,z,w,d.businessHours,c))return!1;var Ne=c.options.selectOverlap,He="function"==typeof Ne?Ne:null;for(var ct in N){var pt=N[ct];if(K(z,pt.range)&&(!1===ee.overlap||He&&!He(new Zr(c,M[pt.defId],pt),null)))return!1}for(var Dt=0,Kt=ee.allows;Dt<Kt.length;Dt++)if(!(0,Kt[Dt])(lu((0,P.__assign)((0,P.__assign)({},g),V),c),null))return!1;return!0}(d,c,g,v))}function Dg(d,c,g,v,w){for(var M=0,N=d;M<N.length;M++)if(!Tg(ef(N[M],c,g,v,w),c))return!1;return!0}function ef(d,c,g,v,w){return"businessHours"===d?tf(bt(v,c,w)):"string"==typeof d?tf(ia(g,function(M){return M.groupId===d})):"object"==typeof d&&d?tf(bt(d,c,w)):[]}function tf(d){var c=d.instances,g=[];for(var v in c)g.push(c[v].range);return g}function Tg(d,c){for(var g=0,v=d;g<v.length;g++)if(Z(v[g],c))return!0;return!1}var nf=/^(visible|hidden)$/,wh=function(d){function c(){var g=null!==d&&d.apply(this,arguments)||this;return g.handleEl=function(v){g.el=v,Oi(g.props.elRef,v)},g}return(0,P.__extends)(c,d),c.prototype.render=function(){var g=this.props,v=g.liquid,w=g.liquidIsAbsolute,M=v&&w,N=["fc-scroller"];return v&&N.push(w?"fc-scroller-liquid-absolute":"fc-scroller-liquid"),G("div",{ref:this.handleEl,className:N.join(" "),style:{overflowX:g.overflowX,overflowY:g.overflowY,left:M&&-(g.overcomeLeft||0)||"",right:M&&-(g.overcomeRight||0)||"",bottom:M&&-(g.overcomeBottom||0)||"",marginLeft:!M&&-(g.overcomeLeft||0)||"",marginRight:!M&&-(g.overcomeRight||0)||"",marginBottom:!M&&-(g.overcomeBottom||0)||"",maxHeight:g.maxHeight||""}},g.children)},c.prototype.needsXScrolling=function(){if(nf.test(this.props.overflowX))return!1;for(var g=this.el,v=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),w=g.children,M=0;M<w.length;M+=1)if(w[M].getBoundingClientRect().width>v)return!0;return!1},c.prototype.needsYScrolling=function(){if(nf.test(this.props.overflowY))return!1;for(var g=this.el,v=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),w=g.children,M=0;M<w.length;M+=1)if(w[M].getBoundingClientRect().height>v)return!0;return!1},c.prototype.getXScrollbarWidth=function(){return nf.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight},c.prototype.getYScrollbarWidth=function(){return nf.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth},c}(sr),Sg=function(){function d(c){var g=this;this.masterCallback=c,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=function(v,w){var N=g.depths,V=g.currentMap,z=!1,ee=!1;null!==v?(z=w in V,V[w]=v,N[w]=(N[w]||0)+1,ee=!0):(N[w]-=1,N[w]||(delete V[w],delete g.callbackMap[w],z=!0)),g.masterCallback&&(z&&g.masterCallback(null,String(w)),ee&&g.masterCallback(v,String(w)))}}return d.prototype.createRef=function(c){var g=this,v=this.callbackMap[c];return v||(v=this.callbackMap[c]=function(w){g.handleValue(w,String(c))}),v},d.prototype.collect=function(c,g,v){return he(this.currentMap,c,g,v)},d.prototype.getAll=function(){return ht(this.currentMap)},d}();function ey(d){for(var g=0,v=0,w=me(d,".fc-scrollgrid-shrink");v<w.length;v++)g=Math.max(g,on(w[v]));return Math.ceil(g)}function ty(d,c){return d.liquid&&c.liquid}function ny(d,c){return null!=c.maxHeight||ty(d,c)}function xu(d,c,g,v){var w=g.expandRows;return"function"==typeof c.content?c.content(g):G("table",{role:"presentation",className:[c.tableClassName,d.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:g.tableMinWidth,width:g.clientWidth,height:w?g.clientHeight:""}},g.tableColGroupNode,G(v?"thead":"tbody",{role:"presentation"},"function"==typeof c.rowContent?c.rowContent(g):c.rowContent))}function Ui(d,c){return di(d,c,ut)}function Ch(d,c){for(var g=[],v=0,w=d;v<w.length;v++)for(var M=w[v],N=M.span||1,V=0;V<N;V+=1)g.push(G("col",{style:{width:"shrink"===M.width?Ig(c):M.width||"",minWidth:M.minWidth||""}}));return G.apply(void 0,(0,P.__spreadArray)(["colgroup",{}],g))}function Ig(d){return null==d?4:d}function Mg(d){for(var c=0,g=d;c<g.length;c++)if("shrink"===g[c].width)return!0;return!1}function oi(d,c){var g=["fc-scrollgrid",c.theme.getClass("table")];return d&&g.push("fc-scrollgrid-liquid"),g}function Ru(d,c){var g=["fc-scrollgrid-section","fc-scrollgrid-section-"+d.type,d.className];return c&&d.liquid&&null==d.maxHeight&&g.push("fc-scrollgrid-section-liquid"),d.isSticky&&g.push("fc-scrollgrid-section-sticky"),g}function yo(d){return G("div",{className:"fc-scrollgrid-sticky-shim",style:{width:d.clientWidth,minWidth:d.tableMinWidth}})}function ry(d){var c=d.stickyHeaderDates;return(null==c||"auto"===c)&&(c="auto"===d.height||"auto"===d.viewHeight),c}function xg(d){var c=d.stickyFooterScrollbar;return(null==c||"auto"===c)&&(c="auto"===d.height||"auto"===d.viewHeight),c}var Rg=function(d){function c(){var g=null!==d&&d.apply(this,arguments)||this;return g.processCols=Ln(function(v){return v},Ui),g.renderMicroColGroup=Ln(Ch),g.scrollerRefs=new Sg,g.scrollerElRefs=new Sg(g._handleScrollerEl.bind(g)),g.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},g.handleSizing=function(){g.setState((0,P.__assign)({shrinkWidth:g.computeShrinkWidth()},g.computeScrollerDims()))},g}return(0,P.__extends)(c,d),c.prototype.render=function(){var g=this,v=g.props,w=g.state,M=g.context,N=v.sections||[],V=this.processCols(v.cols),z=this.renderMicroColGroup(V,w.shrinkWidth),ee=oi(v.liquid,M);v.collapsibleWidth&&ee.push("fc-scrollgrid-collapsible");for(var ct,Ne=N.length,He=0,pt=[],Dt=[],Kt=[];He<Ne&&"header"===(ct=N[He]).type;)pt.push(this.renderSection(ct,z,!0)),He+=1;for(;He<Ne&&"body"===(ct=N[He]).type;)Dt.push(this.renderSection(ct,z,!1)),He+=1;for(;He<Ne&&"footer"===(ct=N[He]).type;)Kt.push(this.renderSection(ct,z,!0)),He+=1;var an=!Vs(),xt={role:"rowgroup"};return G("table",{role:"grid",className:ee.join(" "),style:{height:v.height}},Boolean(!an&&pt.length)&&G.apply(void 0,(0,P.__spreadArray)(["thead",xt],pt)),Boolean(!an&&Dt.length)&&G.apply(void 0,(0,P.__spreadArray)(["tbody",xt],Dt)),Boolean(!an&&Kt.length)&&G.apply(void 0,(0,P.__spreadArray)(["tfoot",xt],Kt)),an&&G.apply(void 0,(0,P.__spreadArray)((0,P.__spreadArray)((0,P.__spreadArray)(["tbody",xt],pt),Dt),Kt)))},c.prototype.renderSection=function(g,v,w){return"outerContent"in g?G(be,{key:g.key},g.outerContent):G("tr",{key:g.key,role:"presentation",className:Ru(g,this.props.liquid).join(" ")},this.renderChunkTd(g,v,g.chunk,w))},c.prototype.renderChunkTd=function(g,v,w,M){if("outerContent"in w)return w.outerContent;var N=this.props,V=this.state,z=V.forceYScrollbars,ee=V.scrollerClientWidths,Ne=V.scrollerClientHeights,He=ny(N,g),ct=ty(N,g),pt=N.liquid?z?"scroll":He?"auto":"hidden":"visible",Dt=g.key,Kt=xu(g,w,{tableColGroupNode:v,tableMinWidth:"",clientWidth:N.collapsibleWidth||void 0===ee[Dt]?null:ee[Dt],clientHeight:void 0!==Ne[Dt]?Ne[Dt]:null,expandRows:g.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:function(){}},M);return G(M?"th":"td",{ref:w.elRef,role:"presentation"},G("div",{className:"fc-scroller-harness"+(ct?" fc-scroller-harness-liquid":"")},G(wh,{ref:this.scrollerRefs.createRef(Dt),elRef:this.scrollerElRefs.createRef(Dt),overflowY:pt,overflowX:N.liquid?"hidden":"visible",maxHeight:g.maxHeight,liquid:ct,liquidIsAbsolute:!0},Kt)))},c.prototype._handleScrollerEl=function(g,v){var w=function Ng(d,c){for(var g=0,v=d;g<v.length;g++){var w=v[g];if(w.key===c)return w}return null}(this.props.sections,v);w&&Oi(w.chunk.scrollerElRef,g)},c.prototype.componentDidMount=function(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)},c.prototype.componentDidUpdate=function(){this.handleSizing()},c.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleSizing)},c.prototype.computeShrinkWidth=function(){return Mg(this.props.cols)?ey(this.scrollerElRefs.getAll()):0},c.prototype.computeScrollerDims=function(){var g=vc(),w=this.scrollerRefs,M=this.scrollerElRefs,N=!1,V={},z={};for(var ee in w.currentMap){var Ne=w.currentMap[ee];if(Ne&&Ne.needsYScrolling()){N=!0;break}}for(var He=0,ct=this.props.sections;He<ct.length;He++){var Dt=M.currentMap[ee=ct[He].key];if(Dt){var Kt=Dt.parentNode;V[ee]=Math.floor(Kt.getBoundingClientRect().width-(N?g.y:0)),z[ee]=Math.floor(Kt.getBoundingClientRect().height)}}return{forceYScrollbars:N,scrollerClientWidths:V,scrollerClientHeights:z}},c}(sr);Rg.addStateEquality({scrollerClientWidths:ut,scrollerClientHeights:ut});var il=function(d){function c(){var g=null!==d&&d.apply(this,arguments)||this;return g.elRef=Ce(),g}return(0,P.__extends)(c,d),c.prototype.render=function(){var v=this.props,w=this.context,M=w.options,N=v.seg,V=N.eventRange,z=V.ui,ee={event:new Zr(w,V.def,V.instance),view:w.viewApi,timeText:v.timeText,textColor:z.textColor,backgroundColor:z.backgroundColor,borderColor:z.borderColor,isDraggable:!v.disableDragging&&Qi(N,w),isStartResizable:!v.disableResizing&&Yi(N,w),isEndResizable:!v.disableResizing&&io(N),isMirror:Boolean(v.isDragging||v.isResizing||v.isDateSelecting),isStart:Boolean(N.isStart),isEnd:Boolean(N.isEnd),isPast:Boolean(v.isPast),isFuture:Boolean(v.isFuture),isToday:Boolean(v.isToday),isSelected:Boolean(v.isSelected),isDragging:Boolean(v.isDragging),isResizing:Boolean(v.isResizing)},Ne=Tn(ee).concat(z.classNames);return G(uo,{hookProps:ee,classNames:M.eventClassNames,content:M.eventContent,defaultContent:v.defaultContent,didMount:M.eventDidMount,willUnmount:M.eventWillUnmount,elRef:this.elRef},function(He,ct,pt,Dt){return v.children(He,Ne.concat(ct),pt,Dt,ee)})},c.prototype.componentDidMount=function(){cn(this.elRef.current,this.props.seg)},c.prototype.componentDidUpdate=function(g){var v=this.props.seg;v!==g.seg&&cn(this.elRef.current,v)},c}(sr),Dh=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,P.__extends)(c,d),c.prototype.render=function(){var v=this.props,w=this.context,M=v.seg,V=Ba(M,w.options.eventTimeFormat||v.defaultTimeFormat,w,v.defaultDisplayEventTime,v.defaultDisplayEventEnd);return G(il,{seg:M,timeText:V,disableDragging:v.disableDragging,disableResizing:v.disableResizing,defaultContent:v.defaultContent||iy,isDragging:v.isDragging,isResizing:v.isResizing,isDateSelecting:v.isDateSelecting,isSelected:v.isSelected,isPast:v.isPast,isFuture:v.isFuture,isToday:v.isToday},function(z,ee,Ne,He,ct){return G("a",(0,P.__assign)({className:v.extraClassNames.concat(ee).join(" "),style:{borderColor:ct.borderColor,backgroundColor:ct.backgroundColor},ref:z},dr(M,w)),G("div",{className:"fc-event-main",ref:Ne,style:{color:ct.textColor}},He),ct.isStartResizable&&G("div",{className:"fc-event-resizer fc-event-resizer-start"}),ct.isEndResizable&&G("div",{className:"fc-event-resizer fc-event-resizer-end"}))})},c}(sr);function iy(d){return G("div",{className:"fc-event-main-frame"},d.timeText&&G("div",{className:"fc-event-time"},d.timeText),G("div",{className:"fc-event-title-container"},G("div",{className:"fc-event-title fc-sticky"},d.event.title||G(be,null,"\xa0"))))}var kg=function(d){return G(Pi.Consumer,null,function(c){var g=c.options,v={isAxis:d.isAxis,date:c.dateEnv.toDate(d.date),view:c.viewApi};return G(uo,{hookProps:v,classNames:g.nowIndicatorClassNames,content:g.nowIndicatorContent,didMount:g.nowIndicatorDidMount,willUnmount:g.nowIndicatorWillUnmount},d.children)})},EE=Ar({day:"numeric"}),Th=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,P.__extends)(c,d),c.prototype.render=function(){var v=this.props,w=this.context,M=w.options,N=sy({date:v.date,dateProfile:v.dateProfile,todayRange:v.todayRange,showDayNumber:v.showDayNumber,extraProps:v.extraHookProps,viewApi:w.viewApi,dateEnv:w.dateEnv});return G(vu,{hookProps:N,content:M.dayCellContent,defaultContent:v.defaultContent},v.children)},c}(sr);function sy(d){var c=d.date,g=d.dateEnv,v=Tl(c,d.todayRange,null,d.dateProfile);return(0,P.__assign)((0,P.__assign)((0,P.__assign)({date:g.toDate(c),view:d.viewApi},v),{dayNumberText:d.showDayNumber?g.format(c,EE):""}),d.extraProps)}var oy=function(d){function c(){var g=null!==d&&d.apply(this,arguments)||this;return g.refineHookProps=Wi(sy),g.normalizeClassNames=Tr(),g}return(0,P.__extends)(c,d),c.prototype.render=function(){var v=this.props,w=this.context,M=w.options,N=this.refineHookProps({date:v.date,dateProfile:v.dateProfile,todayRange:v.todayRange,showDayNumber:v.showDayNumber,extraProps:v.extraHookProps,viewApi:w.viewApi,dateEnv:w.dateEnv}),V=oo(N,w.theme).concat(N.isDisabled?[]:this.normalizeClassNames(M.dayCellClassNames,N)),z=N.isDisabled?{}:{"data-date":cr(v.date)};return G(qa,{hookProps:N,didMount:M.dayCellDidMount,willUnmount:M.dayCellWillUnmount,elRef:v.elRef},function(ee){return v.children(ee,V,z,N.isDisabled)})},c}(sr);function Pg(d){return G("div",{className:"fc-"+d})}var Og=function(d){return G(il,{defaultContent:Hc,seg:d.seg,timeText:"",disableDragging:!0,disableResizing:!0,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:d.isPast,isFuture:d.isFuture,isToday:d.isToday},function(c,g,v,w,M){return G("div",{ref:c,className:["fc-bg-event"].concat(g).join(" "),style:{backgroundColor:M.backgroundColor}},w)})};function Hc(d){return d.event.title&&G("div",{className:"fc-event-title"},d.event.title)}var jc=function(d){return G(Pi.Consumer,null,function(c){var g=c.dateEnv,v=c.options,w=d.date,M=v.weekNumberFormat||d.defaultFormat,N=g.computeWeekNumber(w),V=g.format(w,M);return G(uo,{hookProps:{num:N,text:V,date:w},classNames:v.weekNumberClassNames,content:v.weekNumberContent,defaultContent:Sh,didMount:v.weekNumberDidMount,willUnmount:v.weekNumberWillUnmount},d.children)})};function Sh(d){return d.text}var rf=function(d){function c(){var g=null!==d&&d.apply(this,arguments)||this;return g.state={titleId:mt()},g.handleRootEl=function(v){g.rootEl=v,g.props.elRef&&Oi(g.props.elRef,v)},g.handleDocumentMouseDown=function(v){var w=qe(v);g.rootEl.contains(w)||g.handleCloseClick()},g.handleDocumentKeyDown=function(v){"Escape"===v.key&&g.handleCloseClick()},g.handleCloseClick=function(){var v=g.props.onClose;v&&v()},g}return(0,P.__extends)(c,d),c.prototype.render=function(){var g=this.context,v=g.theme,w=g.options,N=this.props,V=this.state,z=["fc-popover",v.getClass("popover")].concat(N.extraClassNames||[]);return De(G("div",(0,P.__assign)({id:N.id,className:z.join(" "),"aria-labelledby":V.titleId},N.extraAttrs,{ref:this.handleRootEl}),G("div",{className:"fc-popover-header "+v.getClass("popoverHeader")},G("span",{className:"fc-popover-title",id:V.titleId},N.title),G("span",{className:"fc-popover-close "+v.getIconClass("close"),title:w.closeHint,onClick:this.handleCloseClick})),G("div",{className:"fc-popover-body "+v.getClass("popoverContent")},N.children)),N.parentEl)},c.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()},c.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)},c.prototype.updateSize=function(){var g=this.context.isRtl,v=this.props,w=v.alignmentEl,M=v.alignGridTop,N=this.rootEl,V=function fu(d){for(var c=gs(d),g=d.getBoundingClientRect(),v=0,w=c;v<w.length;v++){var N=ch(g,w[v].getBoundingClientRect());if(!N)return null;g=N}return g}(w);if(V){var z=N.getBoundingClientRect(),ee=M?U(w,".fc-scrollgrid").getBoundingClientRect().top:V.top,Ne=g?V.right-z.width:V.left;ee=Math.max(ee,10),Ne=Math.min(Ne,document.documentElement.clientWidth-10-z.width),Ne=Math.max(Ne,10);var He=N.offsetParent.getBoundingClientRect();je(N,{top:ee-He.top,left:Ne-He.left})}},c}(sr),Fg=function(d){function c(){var g=null!==d&&d.apply(this,arguments)||this;return g.handleRootEl=function(v){g.rootEl=v,v?g.context.registerInteractiveComponent(g,{el:v,useEventCenter:!1}):g.context.unregisterInteractiveComponent(g)},g}return(0,P.__extends)(c,d),c.prototype.render=function(){var g=this.context,M=this.props,N=M.startDate,V=M.todayRange,z=M.dateProfile,ee=g.dateEnv.format(N,g.options.dayPopoverFormat);return G(oy,{date:N,dateProfile:z,todayRange:V,elRef:this.handleRootEl},function(Ne,He,ct){return G(rf,{elRef:Ne,id:M.id,title:ee,extraClassNames:["fc-more-popover"].concat(He),extraAttrs:ct,parentEl:M.parentEl,alignmentEl:M.alignmentEl,alignGridTop:M.alignGridTop,onClose:M.onClose},G(Th,{date:N,dateProfile:z,todayRange:V},function(pt,Dt){return Dt&&G("div",{className:"fc-more-popover-misc",ref:pt},Dt)}),M.children)})},c.prototype.queryHit=function(g,v,w,M){var V=this.rootEl,z=this.props;return g>=0&&g<w&&v>=0&&v<M?{dateProfile:z.dateProfile,dateSpan:(0,P.__assign)({allDay:!0,range:{start:z.startDate,end:z.endDate}},z.extraDateSpan),dayEl:V,rect:{left:0,top:0,right:w,bottom:M},layer:1}:null},c}(Ml),ay=function(d){function c(){var g=null!==d&&d.apply(this,arguments)||this;return g.linkElRef=Ce(),g.state={isPopoverOpen:!1,popoverId:mt()},g.handleClick=function(v){var M=g.props,N=g.context,V=N.options.moreLinkClick,z=Vg(M).start;function ee(Ne){var He=Ne.eventRange,Dt=He.range;return{event:new Zr(N,He.def,He.instance),start:N.dateEnv.toDate(Dt.start),end:N.dateEnv.toDate(Dt.end),isStart:Ne.isStart,isEnd:Ne.isEnd}}"function"==typeof V&&(V=V({date:z,allDay:Boolean(M.allDayDate),allSegs:M.allSegs.map(ee),hiddenSegs:M.hiddenSegs.map(ee),jsEvent:v,view:N.viewApi})),V&&"popover"!==V?"string"==typeof V&&N.calendarApi.zoomTo(z,V):g.setState({isPopoverOpen:!0})},g.handlePopoverClose=function(){g.setState({isPopoverOpen:!1})},g}return(0,P.__extends)(c,d),c.prototype.render=function(){var g=this,w=this.props,M=this.state;return G(Pi.Consumer,null,function(N){var V=N.viewApi,z=N.options,ee=N.calendarApi,Ne=z.moreLinkText,He=w.moreCnt,ct=Vg(w),pt="function"==typeof Ne?Ne.call(ee,He):"+"+He+" "+Ne,Dt=At(z.moreLinkHint,[He],pt),Kt={num:He,shortText:"+"+He,text:pt,view:V};return G(be,null,Boolean(w.moreCnt)&&G(uo,{elRef:g.linkElRef,hookProps:Kt,classNames:z.moreLinkClassNames,content:z.moreLinkContent,defaultContent:w.defaultContent||Lg,didMount:z.moreLinkDidMount,willUnmount:z.moreLinkWillUnmount},function(an,xt,tr,xr){return w.children(an,["fc-more-link"].concat(xt),tr,xr,g.handleClick,Dt,M.isPopoverOpen,M.isPopoverOpen?M.popoverId:"")}),M.isPopoverOpen&&G(Fg,{id:M.popoverId,startDate:ct.start,endDate:ct.end,dateProfile:w.dateProfile,todayRange:w.todayRange,extraDateSpan:w.extraDateSpan,parentEl:g.parentEl,alignmentEl:w.alignmentElRef.current,alignGridTop:w.alignGridTop,onClose:g.handlePopoverClose},w.popoverContent()))})},c.prototype.componentDidMount=function(){this.updateParentEl()},c.prototype.componentDidUpdate=function(){this.updateParentEl()},c.prototype.updateParentEl=function(){this.linkElRef.current&&(this.parentEl=U(this.linkElRef.current,".fc-view-harness"))},c}(sr);function Lg(d){return d.text}function Vg(d){if(d.allDayDate)return{start:d.allDayDate,end:Ke(d.allDayDate,1)};var c=d.hiddenSegs;return{start:Bg(c),end:uy(c)}}function Bg(d){return d.reduce(ly).eventRange.range.start}function ly(d,c){return d.eventRange.range.start<c.eventRange.range.start?d:c}function uy(d){return d.reduce(cy).eventRange.range.end}function cy(d,c){return d.eventRange.range.end>c.eventRange.range.end?d:c}var dy="5.10.2"},688:(Nt,We,$)=>{"use strict";var h=$(5e3);let P=null;function R(){return P}const be=new h.OlP("DocumentToken");let xe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function De(){return(0,h.LFG)(de)}()},providedIn:"platform"}),n})();const X=new h.OlP("Location Initialized");let de=(()=>{class n extends xe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){T()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){T()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function F(){return new de((0,h.LFG)(be))}()},providedIn:"platform"}),n})();function T(){return!!window.history.pushState}function U(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ie(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function me(n){return n&&"?"!==n[0]?"?"+n:n}let ce=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function oe(n){const e=(0,h.LFG)(be).location;return new Qe((0,h.LFG)(xe),e&&e.origin||"")}()},providedIn:"root"}),n})();const je=new h.OlP("appBaseHref");let Qe=(()=>{class n extends ce{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return U(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+me(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,l){const f=this.prepareExternalUrl(i+me(l));this._platformLocation.pushState(t,r,f)}replaceState(t,r,i,l){const f=this.prepareExternalUrl(i+me(l));this._platformLocation.replaceState(t,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(xe),h.LFG(je,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),qe=(()=>{class n extends ce{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=U(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,l){let f=this.prepareExternalUrl(i+me(l));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(t,r,f)}replaceState(t,r,i,l){let f=this.prepareExternalUrl(i+me(l));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(xe),h.LFG(je,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Ye=(()=>{class n{constructor(t,r){this._subject=new h.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=ie(Te(i)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+me(r))}normalize(t){return n.stripTrailingSlash(function mt(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Te(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+me(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+me(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=me,n.joinWithSlash=U,n.stripTrailingSlash=ie,n.\u0275fac=function(t){return new(t||n)(h.LFG(ce),h.LFG(xe))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function $e(){return new Ye((0,h.LFG)(ce),(0,h.LFG)(xe))}()},providedIn:"root"}),n})();function Te(n){return n.replace(/\/index.html$/,"")}var Oe=(()=>((Oe=Oe||{})[Oe.Format=0]="Format",Oe[Oe.Standalone=1]="Standalone",Oe))(),Be=(()=>((Be=Be||{})[Be.Narrow=0]="Narrow",Be[Be.Abbreviated=1]="Abbreviated",Be[Be.Wide=2]="Wide",Be[Be.Short=3]="Short",Be))(),Xe=(()=>((Xe=Xe||{})[Xe.Short=0]="Short",Xe[Xe.Medium=1]="Medium",Xe[Xe.Long=2]="Long",Xe[Xe.Full=3]="Full",Xe))(),ke=(()=>((ke=ke||{})[ke.Decimal=0]="Decimal",ke[ke.Group=1]="Group",ke[ke.List=2]="List",ke[ke.PercentSign=3]="PercentSign",ke[ke.PlusSign=4]="PlusSign",ke[ke.MinusSign=5]="MinusSign",ke[ke.Exponential=6]="Exponential",ke[ke.SuperscriptingExponent=7]="SuperscriptingExponent",ke[ke.PerMille=8]="PerMille",ke[ke.Infinity=9]="Infinity",ke[ke.NaN=10]="NaN",ke[ke.TimeSeparator=11]="TimeSeparator",ke[ke.CurrencyDecimal=12]="CurrencyDecimal",ke[ke.CurrencyGroup=13]="CurrencyGroup",ke))();function An(n,e){return vt((0,h.cg1)(n)[h.wAp.DateFormat],e)}function Ae(n,e){return vt((0,h.cg1)(n)[h.wAp.TimeFormat],e)}function _e(n,e){return vt((0,h.cg1)(n)[h.wAp.DateTimeFormat],e)}function Ve(n,e){const t=(0,h.cg1)(n),r=t[h.wAp.NumberSymbols][e];if(void 0===r){if(e===ke.CurrencyDecimal)return t[h.wAp.NumberSymbols][ke.Decimal];if(e===ke.CurrencyGroup)return t[h.wAp.NumberSymbols][ke.Group]}return r}function dn(n){if(!n[h.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[h.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function vt(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function Ot(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const wn=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Gn={},ln=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var un=(()=>((un=un||{})[un.Short=0]="Short",un[un.ShortGMT=1]="ShortGMT",un[un.Long=2]="Long",un[un.Extended=3]="Extended",un))(),$t=(()=>(($t=$t||{})[$t.FullYear=0]="FullYear",$t[$t.Month=1]="Month",$t[$t.Date=2]="Date",$t[$t.Hours=3]="Hours",$t[$t.Minutes=4]="Minutes",$t[$t.Seconds=5]="Seconds",$t[$t.FractionalSeconds=6]="FractionalSeconds",$t[$t.Day=7]="Day",$t))(),Mt=(()=>((Mt=Mt||{})[Mt.DayPeriods=0]="DayPeriods",Mt[Mt.Days=1]="Days",Mt[Mt.Months=2]="Months",Mt[Mt.Eras=3]="Eras",Mt))();function Jn(n,e,t,r){let i=function et(n){if(Ut(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,l=1,f=1]=n.split("-").map(m=>+m);return Sr(i,l-1,f)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(wn))return function bt(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,l=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const f=Number(n[4]||0)-t,m=Number(n[5]||0)-r,E=Number(n[6]||0),C=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return l.call(e,f,m,E,C),e}(r)}const e=new Date(n);if(!Ut(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=mn(t,e)||e;let m,f=[];for(;e;){if(m=ln.exec(e),!m){f.push(e);break}{f=f.concat(m.slice(1));const k=f.pop();if(!k)break;e=k}}let E=i.getTimezoneOffset();r&&(E=Se(r,E),i=function he(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function pe(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(Se(e,i)-i))}(i,r,!0));let C="";return f.forEach(k=>{const O=function jt(n){if(ut[n])return ut[n];let e;switch(n){case"G":case"GG":case"GGG":e=B(Mt.Eras,Be.Abbreviated);break;case"GGGG":e=B(Mt.Eras,Be.Wide);break;case"GGGGG":e=B(Mt.Eras,Be.Narrow);break;case"y":e=ue($t.FullYear,1,0,!1,!0);break;case"yy":e=ue($t.FullYear,2,0,!0,!0);break;case"yyy":e=ue($t.FullYear,3,0,!1,!0);break;case"yyyy":e=ue($t.FullYear,4,0,!1,!0);break;case"Y":e=ht(1);break;case"YY":e=ht(2,!0);break;case"YYY":e=ht(3);break;case"YYYY":e=ht(4);break;case"M":case"L":e=ue($t.Month,1,1);break;case"MM":case"LL":e=ue($t.Month,2,1);break;case"MMM":e=B(Mt.Months,Be.Abbreviated);break;case"MMMM":e=B(Mt.Months,Be.Wide);break;case"MMMMM":e=B(Mt.Months,Be.Narrow);break;case"LLL":e=B(Mt.Months,Be.Abbreviated,Oe.Standalone);break;case"LLLL":e=B(Mt.Months,Be.Wide,Oe.Standalone);break;case"LLLLL":e=B(Mt.Months,Be.Narrow,Oe.Standalone);break;case"w":e=st(1);break;case"ww":e=st(2);break;case"W":e=st(1,!0);break;case"d":e=ue($t.Date,1);break;case"dd":e=ue($t.Date,2);break;case"c":case"cc":e=ue($t.Day,1);break;case"ccc":e=B(Mt.Days,Be.Abbreviated,Oe.Standalone);break;case"cccc":e=B(Mt.Days,Be.Wide,Oe.Standalone);break;case"ccccc":e=B(Mt.Days,Be.Narrow,Oe.Standalone);break;case"cccccc":e=B(Mt.Days,Be.Short,Oe.Standalone);break;case"E":case"EE":case"EEE":e=B(Mt.Days,Be.Abbreviated);break;case"EEEE":e=B(Mt.Days,Be.Wide);break;case"EEEEE":e=B(Mt.Days,Be.Narrow);break;case"EEEEEE":e=B(Mt.Days,Be.Short);break;case"a":case"aa":case"aaa":e=B(Mt.DayPeriods,Be.Abbreviated);break;case"aaaa":e=B(Mt.DayPeriods,Be.Wide);break;case"aaaaa":e=B(Mt.DayPeriods,Be.Narrow);break;case"b":case"bb":case"bbb":e=B(Mt.DayPeriods,Be.Abbreviated,Oe.Standalone,!0);break;case"bbbb":e=B(Mt.DayPeriods,Be.Wide,Oe.Standalone,!0);break;case"bbbbb":e=B(Mt.DayPeriods,Be.Narrow,Oe.Standalone,!0);break;case"B":case"BB":case"BBB":e=B(Mt.DayPeriods,Be.Abbreviated,Oe.Format,!0);break;case"BBBB":e=B(Mt.DayPeriods,Be.Wide,Oe.Format,!0);break;case"BBBBB":e=B(Mt.DayPeriods,Be.Narrow,Oe.Format,!0);break;case"h":e=ue($t.Hours,1,-12);break;case"hh":e=ue($t.Hours,2,-12);break;case"H":e=ue($t.Hours,1);break;case"HH":e=ue($t.Hours,2);break;case"m":e=ue($t.Minutes,1);break;case"mm":e=ue($t.Minutes,2);break;case"s":e=ue($t.Seconds,1);break;case"ss":e=ue($t.Seconds,2);break;case"S":e=ue($t.FractionalSeconds,1);break;case"SS":e=ue($t.FractionalSeconds,2);break;case"SSS":e=ue($t.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=W(un.Short);break;case"ZZZZZ":e=W(un.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=W(un.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=W(un.Long);break;default:return null}return ut[n]=e,e}(k);C+=O?O(i,t,E):"''"===k?"'":k.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),C}function Sr(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function mn(n,e){const t=function Qt(n){return(0,h.cg1)(n)[h.wAp.LocaleId]}(n);if(Gn[t]=Gn[t]||{},Gn[t][e])return Gn[t][e];let r="";switch(e){case"shortDate":r=An(n,Xe.Short);break;case"mediumDate":r=An(n,Xe.Medium);break;case"longDate":r=An(n,Xe.Long);break;case"fullDate":r=An(n,Xe.Full);break;case"shortTime":r=Ae(n,Xe.Short);break;case"mediumTime":r=Ae(n,Xe.Medium);break;case"longTime":r=Ae(n,Xe.Long);break;case"fullTime":r=Ae(n,Xe.Full);break;case"short":const i=mn(n,"shortTime"),l=mn(n,"shortDate");r=_r(_e(n,Xe.Short),[i,l]);break;case"medium":const f=mn(n,"mediumTime"),m=mn(n,"mediumDate");r=_r(_e(n,Xe.Medium),[f,m]);break;case"long":const E=mn(n,"longTime"),C=mn(n,"longDate");r=_r(_e(n,Xe.Long),[E,C]);break;case"full":const k=mn(n,"fullTime"),O=mn(n,"fullDate");r=_r(_e(n,Xe.Full),[k,O])}return r&&(Gn[t][e]=r),r}function _r(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function er(n,e,t="-",r,i){let l="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,l=t));let f=String(n);for(;f.length<e;)f="0"+f;return r&&(f=f.substr(f.length-e)),l+f}function ue(n,e,t=0,r=!1,i=!1){return function(l,f){let m=function ve(n,e){switch(n){case $t.FullYear:return e.getFullYear();case $t.Month:return e.getMonth();case $t.Date:return e.getDate();case $t.Hours:return e.getHours();case $t.Minutes:return e.getMinutes();case $t.Seconds:return e.getSeconds();case $t.FractionalSeconds:return e.getMilliseconds();case $t.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,l);if((t>0||m>-t)&&(m+=t),n===$t.Hours)0===m&&-12===t&&(m=12);else if(n===$t.FractionalSeconds)return function Cn(n,e){return er(n,3).substr(0,e)}(m,e);const E=Ve(f,ke.MinusSign);return er(m,e,E,r,i)}}function B(n,e,t=Oe.Format,r=!1){return function(i,l){return function Y(n,e,t,r,i,l){switch(t){case Mt.Months:return function Ht(n,e,t){const r=(0,h.cg1)(n),l=vt([r[h.wAp.MonthsFormat],r[h.wAp.MonthsStandalone]],e);return vt(l,t)}(e,i,r)[n.getMonth()];case Mt.Days:return function It(n,e,t){const r=(0,h.cg1)(n),l=vt([r[h.wAp.DaysFormat],r[h.wAp.DaysStandalone]],e);return vt(l,t)}(e,i,r)[n.getDay()];case Mt.DayPeriods:const f=n.getHours(),m=n.getMinutes();if(l){const C=function Ke(n){const e=(0,h.cg1)(n);return dn(e),(e[h.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?Ot(r):[Ot(r[0]),Ot(r[1])])}(e),k=function wt(n,e,t){const r=(0,h.cg1)(n);dn(r);const l=vt([r[h.wAp.ExtraData][0],r[h.wAp.ExtraData][1]],e)||[];return vt(l,t)||[]}(e,i,r),O=C.findIndex(q=>{if(Array.isArray(q)){const[J,se]=q,Me=f>=J.hours&&m>=J.minutes,nt=f<se.hours||f===se.hours&&m<se.minutes;if(J.hours<se.hours){if(Me&&nt)return!0}else if(Me||nt)return!0}else if(q.hours===f&&q.minutes===m)return!0;return!1});if(-1!==O)return k[O]}return function Qn(n,e,t){const r=(0,h.cg1)(n),l=vt([r[h.wAp.DayPeriodsFormat],r[h.wAp.DayPeriodsStandalone]],e);return vt(l,t)}(e,i,r)[f<12?0:1];case Mt.Eras:return function zn(n,e){return vt((0,h.cg1)(n)[h.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,l,n,e,t,r)}}function W(n){return function(e,t,r){const i=-1*r,l=Ve(t,ke.MinusSign),f=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case un.Short:return(i>=0?"+":"")+er(f,2,l)+er(Math.abs(i%60),2,l);case un.ShortGMT:return"GMT"+(i>=0?"+":"")+er(f,1,l);case un.Long:return"GMT"+(i>=0?"+":"")+er(f,2,l)+":"+er(Math.abs(i%60),2,l);case un.Extended:return 0===r?"Z":(i>=0?"+":"")+er(f,2,l)+":"+er(Math.abs(i%60),2,l);default:throw new Error(`Unknown zone width "${n}"`)}}}function Pe(n){return Sr(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function st(n,e=!1){return function(t,r){let i;if(e){const l=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,f=t.getDate();i=1+Math.floor((f+l)/7)}else{const l=Pe(t),f=function ge(n){const e=Sr(n,0,1).getDay();return Sr(n,0,1+(e<=4?4:11)-e)}(l.getFullYear()),m=l.getTime()-f.getTime();i=1+Math.round(m/6048e5)}return er(i,n,Ve(r,ke.MinusSign))}}function ht(n,e=!1){return function(t,r){return er(Pe(t).getFullYear(),n,Ve(r,ke.MinusSign),e)}}const ut={};function Se(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Ut(n){return n instanceof Date&&!isNaN(n.valueOf())}function ls(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(l)}return null}let br=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Zn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Pa("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Pa("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Zn{constructor(){this.$implicit=null,this.ngIf=null}}function Pa(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}class su{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Id{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const qi=new Id,Fa=new su;let na=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,h.QGY)(t))return qi;if((0,h.F4k)(t))return Fa;throw function Cr(n,e){return new h.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.sBO,16))},n.\u0275pipe=h.Yjl({name:"async",type:n,pure:!1}),n})(),Zi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function Fr(n){return"server"===n}let oa=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new ko((0,h.LFG)(be),window)}),n})();class ko{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function no(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const l=i.shadowRoot;if(l){const f=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(f)return f}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],i-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ki(this.window.history)||Ki(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Ki(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ar{}class hs extends class Ni extends class Ce{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function te(n){P||(P=n)}(new hs)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function aa(){return $n=$n||document.querySelector("base"),$n?$n.getAttribute("href"):null}();return null==t?null:function ro(n){Va=Va||document.createElement("a"),Va.setAttribute("href",n);const e=Va.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){$n=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ls(document.cookie,e)}}let Va,$n=null;const Wr=new h.OlP("TRANSITION_ID"),la=[{provide:h.ip1,useFactory:function Ns(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const r=R(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<i.length;l++)r.remove(i[l])})}},deps:[Wr,be,h.zs3],multi:!0}];class K{static init(){(0,h.VLi)(new K)}addToWindow(e){h.dqk.getAngularTestability=(r,i=!0)=>{const l=e.findTestabilityInTree(r,i);if(null==l)throw new Error("Could not find testability for element.");return l},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const i=h.dqk.getAllAngularTestabilities();let l=i.length,f=!1;const m=function(E){f=f||E,l--,0==l&&r(f)};i.forEach(function(E){E.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Z=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const we=new h.OlP("EventManagerPlugins");let ze=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let l=0;l<i.length;l++){const f=i[l];if(f.supports(t))return this._eventNameToPlugin.set(t,f),f}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(we),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class yt{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=R().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Tt=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),cn=(()=>{class n extends Tt{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(l=>{const f=this._doc.createElement("style");f.textContent=l,i.push(r.appendChild(f))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(nr),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(nr))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function nr(n){R().remove(n)}const Vt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},lr=/%COMP%/g;function ot(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ot(n,i,t):(i=i.replace(lr,n),t.push(i))}return t}function Tn(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let dr=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Ua(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case h.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new ac(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case h.ifc.ShadowDom:return new lc(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=ot(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ze),h.LFG(cn),h.LFG(h.AFp))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Ua{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Vt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const l=Vt[i];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Vt[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,i&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Tn(r)):this.eventManager.addEventListener(e,t,Tn(r))}}class ac extends Ua{constructor(e,t,r,i){super(e),this.component=r;const l=ot(i+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function io(n){return"_ngcontent-%COMP%".replace(lr,n)}(i+"-"+r.id),this.hostAttr=function Ba(n){return"_nghost-%COMP%".replace(lr,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class lc extends Ua{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=ot(i.id,i.styles,[]);for(let f=0;f<l.length;f++){const m=document.createElement("style");m.textContent=l[f],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let kd=(()=>{class n extends yt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const uc=["alt","control","meta","shift"],Ha={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ps={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let lu=(()=>{class n extends yt{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const l=n.parseEventName(r),f=n.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,l.domEventName,f))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=n._normalizeKey(r.pop());let f="";if(uc.forEach(E=>{const C=r.indexOf(E);C>-1&&(r.splice(C,1),f+=E+".")}),f+=l,0!=r.length||0===l.length)return null;const m={};return m.domEventName=i,m.fullKey=f,m}static getEventFullKey(t){let r="",i=function Ps(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&qr.hasOwnProperty(e)&&(e=qr[e]))}return Ha[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),uc.forEach(l=>{l!=i&&ps[l](t)&&(r+=l+".")}),r+=i,r}static eventCallback(t,r,i){return l=>{n.getEventFullKey(l)===t&&i.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const oh=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function Os(){hs.makeCurrent(),K.init()},multi:!0},{provide:be,useFactory:function Pd(){return(0,h.RDi)(document),document},deps:[]}]),ja=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function cc(){return new h.qLn},deps:[]},{provide:we,useClass:kd,multi:!0,deps:[be,h.R0b,h.Lbi]},{provide:we,useClass:lu,multi:!0,deps:[be]},{provide:dr,useClass:dr,deps:[ze,cn,h.AFp]},{provide:h.FYo,useExisting:dr},{provide:Tt,useExisting:cn},{provide:cn,useClass:cn,deps:[be]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b]},{provide:ze,useClass:ze,deps:[we,h.R0b]},{provide:ar,useClass:Z,deps:[]}];let _l=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:Wr,useExisting:h.AFp},la]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(n,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:ja,imports:[Zi,h.hGG]}),n})();"undefined"!=typeof window&&window;let so=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):h.LFG(Bd),r},providedIn:"root"}),n})(),Bd=(()=>{class n extends so{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case h.q3G.NONE:return r;case h.q3G.HTML:return(0,h.qzn)(r,"HTML")?(0,h.z3N)(r):(0,h.EiD)(this._doc,String(r)).toString();case h.q3G.STYLE:return(0,h.qzn)(r,"Style")?(0,h.z3N)(r):r;case h.q3G.SCRIPT:if((0,h.qzn)(r,"Script"))return(0,h.z3N)(r);throw new Error("unsafe value used in a script context");case h.q3G.URL:return(0,h.yhl)(r),(0,h.qzn)(r,"URL")?(0,h.z3N)(r):(0,h.mCW)(String(r));case h.q3G.RESOURCE_URL:if((0,h.qzn)(r,"ResourceURL"))return(0,h.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,h.JVY)(t)}bypassSecurityTrustStyle(t){return(0,h.L6k)(t)}bypassSecurityTrustScript(t){return(0,h.eBb)(t)}bypassSecurityTrustUrl(t){return(0,h.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,h.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function cu(n){return new Bd(n.get(be))}(h.LFG(h.zs3)),r},providedIn:"root"}),n})();var wr=$(8996),Vs=$(8306);const{isArray:Cl}=Array,{getPrototypeOf:pc,prototype:Dl,keys:du}=Object;function Tl(n){if(1===n.length){const e=n[0];if(Cl(e))return{args:e,keys:null};if(function oo(n){return n&&"object"==typeof n&&pc(n)===Dl}(e)){const t=du(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ao=$(8421),mr=$(7669),Lr=$(5403),vn=$(4004);const{isArray:Wa}=Array;function mc(n){return(0,vn.U)(e=>function gc(n,e){return Wa(e)?n(...e):n(e)}(n,e))}function Sl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let Ud=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),pi=(()=>{class n extends Ud{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const Ei=new h.OlP("NgValueAccessor"),ua={provide:Ei,useExisting:(0,h.Gpc)(()=>Bs),multi:!0};let Bs=(()=>{class n extends pi{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&h.NdJ("change",function(l){return r.onChange(l.target.checked)})("blur",function(){return r.onTouched()})},features:[h._Bn([ua]),h.qOj]}),n})();const fu={provide:Ei,useExisting:(0,h.Gpc)(()=>gs),multi:!0},_c=new h.OlP("CompositionEventMode");let gs=(()=>{class n extends Ud{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function yc(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(_c,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[h._Bn([fu]),h.qOj]}),n})();const Kr=new h.OlP("NgValidators"),Lo=new h.OlP("NgAsyncValidators");function da(n){return null!=n}function Oi(n){const e=(0,h.QGY)(n)?(0,wr.D)(n):n;return(0,h.CqO)(e),e}function Ml(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Fi(n,e){return e.map(t=>t(n))}function gu(n){return n.map(e=>function _g(n){return!n.validate}(e)?e:t=>e.validate(t))}function Hs(n){return null!=n?function Dr(n){if(!n)return null;const e=n.filter(da);return 0==e.length?null:function(t){return Ml(Fi(t,e))}}(gu(n)):null}function mu(n){return null!=n?function dh(n){if(!n)return null;const e=n.filter(da);return 0==e.length?null:function(t){return function vc(...n){const e=(0,mr.jO)(n),{args:t,keys:r}=Tl(n),i=new Vs.y(l=>{const{length:f}=t;if(!f)return void l.complete();const m=new Array(f);let E=f,C=f;for(let k=0;k<f;k++){let O=!1;(0,ao.Xf)(t[k]).subscribe((0,Lr.x)(l,q=>{O||(O=!0,C--),m[k]=q},()=>E--,void 0,()=>{(!E||!O)&&(C||l.next(r?Sl(r,m):m),l.complete())}))}});return e?i.pipe(mc(e)):i}(Fi(t,e).map(Oi)).pipe((0,vn.U)(Ml))}}(gu(n)):null}function fh(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function vu(n){return n?Array.isArray(n)?n:[n]:[]}function Ho(n,e){return Array.isArray(n)?n.includes(e):n===e}function qa(n,e){const t=vu(e);return vu(n).forEach(i=>{Ho(t,i)||t.push(i)}),t}function Tr(n,e){return vu(e).filter(t=>!Ho(n,t))}class fa{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Hs(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=mu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Li extends fa{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Qr extends fa{get formDirective(){return null}get path(){return null}}class Ac{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let co=(()=>{class n extends Ac{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Li,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[h.qOj]}),n})(),xl=(()=>{class n extends Ac{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Qr,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[h.qOj]}),n})();function ha(n,e){fo(n,e),e.valueAccessor.writeValue(n.value),function pa(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Ic(n,e)})}(n,e),function Mc(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function ph(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Ic(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Ag(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Go(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function fo(n,e){const t=function uo(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(fh(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Hd(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(fh(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Go(e._rawValidators,i),Go(e._rawAsyncValidators,i)}function Ic(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function xc(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const zs="VALID",$s="INVALID",po="PENDING",go="DISABLED";function kl(n){return(Ja(n)?n.validators:n)||null}function Pl(n){return Array.isArray(n)?Hs(n):n||null}function Ya(n,e){return(Ja(e)?e.asyncValidators:n)||null}function wu(n){return Array.isArray(n)?mu(n):n||null}function Ja(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const mo=n=>n instanceof Xa;function Cu(n){return(n=>n instanceof Nc)(n)?n.value:n.getRawValue()}function Wd(n,e){const t=mo(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new h.vHH(1e3,"");if(!r[e])throw new h.vHH(1001,"")}function Rc(n,e){mo(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new h.vHH(1002,"")})}class Du{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Pl(this._rawValidators),this._composedAsyncValidatorFn=wu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===zs}get invalid(){return this.status===$s}get pending(){return this.status==po}get disabled(){return this.status===go}get enabled(){return this.status!==go}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Pl(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=wu(e)}addValidators(e){this.setValidators(qa(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(qa(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Tr(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Tr(e,this._rawAsyncValidators))}hasValidator(e){return Ho(this._rawValidators,e)}hasAsyncValidator(e){return Ho(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=po,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=go,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=zs,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zs||this.status===po)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?go:zs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=po,this._hasOwnPendingAsyncValidator=!0;const t=Oi(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function zd(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=mo(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof vh)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?go:this.errors?$s:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(po)?po:this._anyControlsHaveStatus($s)?$s:zs}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ja(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Nc extends Du{constructor(e=null,t,r){super(kl(t),Ya(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ja(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){xc(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){xc(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Xa extends Du{constructor(e,t,r){super(kl(t),Ya(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Rc(this,e),Object.keys(e).forEach(r=>{Wd(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=Cu(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,l)=>{r=t(r,i,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class vh extends Du{constructor(e,t,r){super(kl(t),Ya(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Rc(this,e),e.forEach((r,i)=>{Wd(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Cu(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const yh={provide:Qr,useExisting:(0,h.Gpc)(()=>el)},vo=(()=>Promise.resolve(null))();let el=(()=>{class n extends Qr{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new h.vpe,this.form=new Xa({},Hs(t),mu(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){vo.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),ha(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){vo.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){vo.then(()=>{const r=this._findContainer(t.path),i=new Xa({});(function _u(n,e){fo(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){vo.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){vo.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function Au(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Kr,10),h.Y36(Lo,10))},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&h.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([yh]),h.qOj]}),n})();const qd={provide:Li,useExisting:(0,h.Gpc)(()=>Bi)},Tu=(()=>Promise.resolve(null))();let Bi=(()=>{class n extends Li{constructor(t,r,i,l,f){super(),this._changeDetectorRef=f,this.control=new Nc,this._registered=!1,this.update=new h.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function ho(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(l=>{l.constructor===gs?t=l:function mh(n){return Object.getPrototypeOf(n.constructor)===pi}(l)?r=l:i=l}),i||r||t||null}(0,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function ga(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ha(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Tu.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;Tu.then(()=>{var l;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(l=this._changeDetectorRef)||void 0===l||l.markForCheck()})}_getPath(t){return this._parent?function Ka(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Qr,9),h.Y36(Kr,10),h.Y36(Lo,10),h.Y36(Ei,10),h.Y36(h.sBO,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([qd]),h.qOj,h.TTD]}),n})(),Pc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const _h={provide:Ei,useExisting:(0,h.Gpc)(()=>Oc),multi:!0};let Oc=(()=>{class n extends pi{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},features:[h._Bn([_h]),h.qOj]}),n})(),Xi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})(),ny=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Xi]]}),n})(),xu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ny]}),n})();class oi{}const yo="*";function ry(n,e){return{type:7,name:n,definitions:e,options:{}}}function xg(n,e=null){return{type:4,styles:e,timings:n}}function Ng(n,e=null){return{type:2,steps:n,options:e}}function il(n){return{type:6,styles:n,offset:null}}function Dh(n,e,t){return{type:0,name:n,styles:e,options:t}}function kg(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Og(n){Promise.resolve(null).then(n)}class Hc{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Og(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class jc{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const l=this.players.length;0==l?Og(()=>this._onFinish()):this.players.forEach(f=>{f.onDone(()=>{++t==l&&this._onFinish()}),f.onDestroy(()=>{++r==l&&this._onDestroy()}),f.onStart(()=>{++i==l&&this._onStart()})}),this.totalTime=this.players.reduce((f,m)=>Math.max(f,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const Hn=!1;function Fg(n){return new h.vHH(3e3,Hn)}function sf(){return"undefined"!=typeof window&&void 0!==window.document}function Nu(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function _a(n){switch(n.length){case 0:return new Hc;case 1:return n[0];default:return new jc(n)}}function Ug(n,e,t,r,i={},l={}){const f=[],m=[];let E=-1,C=null;if(r.forEach(k=>{const O=k.offset,q=O==E,J=q&&C||{};Object.keys(k).forEach(se=>{let Me=se,nt=k[se];if("offset"!==se)switch(Me=e.normalizePropertyName(Me,f),nt){case"!":nt=i[se];break;case yo:nt=l[se];break;default:nt=e.normalizeStyleValue(se,Me,nt,f)}J[Me]=nt}),q||m.push(J),C=J,E=O}),f.length)throw function Kt(n){return new h.vHH(3502,Hn)}();return m}function ku(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Ih(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Ih(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Ih(t,"destroy",n)))}}function Ih(n,e,t){const r=t.totalTime,l=Hg(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),f=n._data;return null!=f&&(l._data=f),l}function Hg(n,e,t,r,i="",l=0,f){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:l,disabled:!!f}}function ys(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function bE(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let fy=(n,e)=>!1,hy=(n,e,t)=>[],py=null;function Gl(n){const e=n.parentNode||n.host;return e===py?null:e}(Nu()||"undefined"!=typeof Element)&&(sf()?(py=(()=>document.documentElement)(),fy=(n,e)=>{for(;e;){if(e===n)return!0;e=Gl(e)}return!1}):fy=(n,e)=>n.contains(e),hy=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Gc=null,Mh=!1;function wE(n){Gc||(Gc=function CE(){return"undefined"!=typeof document?document.body:null}()||{},Mh=!!Gc.style&&"WebkitAppearance"in Gc.style);let e=!0;return Gc.style&&!function AE(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Gc.style,!e&&Mh&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Gc.style)),e}const gy=fy,my=hy;let vy=(()=>{class n{validateStyleProperty(t){return wE(t)}matchesElement(t,r){return!1}containsElement(t,r){return gy(t,r)}getParentElement(t){return Gl(t)}query(t,r,i){return my(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,l,f,m=[],E){return new Hc(i,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),of=(()=>{class n{}return n.NOOP=new vy,n})();const Gg="ng-enter",af="ng-leave",Pu="ng-trigger",zg=".ng-trigger",Ey="ng-animating",by=".ng-animating";function zc(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:$g(parseFloat(e[1]),e[2])}function $g(n,e){return"s"===e?1e3*n:n}function lf(n,e,t){return n.hasOwnProperty("duration")?n:function TE(n,e,t){let i,l=0,f="";if("string"==typeof n){const m=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return e.push(Fg()),{duration:0,delay:0,easing:""};i=$g(parseFloat(m[1]),m[2]);const E=m[3];null!=E&&(l=$g(parseFloat(E),m[4]));const C=m[5];C&&(f=C)}else i=n;if(!t){let m=!1,E=e.length;i<0&&(e.push(function ay(){return new h.vHH(3100,Hn)}()),m=!0),l<0&&(e.push(function Lg(){return new h.vHH(3101,Hn)}()),m=!0),m&&e.splice(E,0,Fg())}return{duration:i,delay:l,easing:f}}(n,e,t)}function xh(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Ou(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else xh(n,t);return t}function wy(n,e,t){return t?e+":"+t+";":""}function SE(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=wy(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=wy(0,WC(t),n.style[t]));n.setAttribute("style",e)}function sl(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=Dy(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),Nu()&&SE(n))}function ji(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=Dy(t);n.style[r]=""}),Nu()&&SE(n))}function Rh(n){return Array.isArray(n)?1==n.length?n[0]:Ng(n):n}const Cy=new RegExp("{{\\s*(.+?)\\s*}}","g");function ME(n){let e=[];if("string"==typeof n){let t;for(;t=Cy.exec(n);)e.push(t[1]);Cy.lastIndex=0}return e}function Wg(n,e,t){const r=n.toString(),i=r.replace(Cy,(l,f)=>{let m=e[f];return e.hasOwnProperty(f)||(t.push(function Bg(n){return new h.vHH(3003,Hn)}()),m=""),m.toString()});return i==r?n:i}function qg(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const xE=/-+([a-z0-9])/g;function Dy(n){return n.replace(xE,(...e)=>e[1].toUpperCase())}function WC(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function qs(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function ly(n){return new h.vHH(3004,Hn)}()}}function Ty(n,e){return window.getComputedStyle(n)[e]}function kE(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Sy(n,e,t){if(":"==n[0]){const E=function Cx(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function He(n){return new h.vHH(3016,Hn)}()),"* => *"}}(n,t);if("function"==typeof E)return void e.push(E);n=E}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Ne(n){return new h.vHH(3015,Hn)}()),e;const i=r[1],l=r[2],f=r[3];e.push(Ph(i,f));"<"==l[0]&&!("*"==i&&"*"==f)&&e.push(Ph(f,i))}(r,t,e)):t.push(n),t}const kh=new Set(["true","1"]),Iy=new Set(["false","0"]);function Ph(n,e){const t=kh.has(n)||Iy.has(n),r=kh.has(e)||Iy.has(e);return(i,l)=>{let f="*"==n||n==i,m="*"==e||e==l;return!f&&t&&"boolean"==typeof i&&(f=i?kh.has(n):Iy.has(n)),!m&&r&&"boolean"==typeof l&&(m=l?kh.has(e):Iy.has(e)),f&&m}}const My=new RegExp("s*:selfs*,?","g");function Fh(n,e,t,r){return new Dx(n).build(e,t,r)}class Dx{constructor(e){this._driver=e}build(e,t,r){const i=new YC(t);this._resetContextStyleTimingState(i);const l=qs(this,Rh(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),l}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const l=[],f=[];return"@"==e.name.charAt(0)&&t.errors.push(function cy(){return new h.vHH(3006,Hn)}()),e.definitions.forEach(m=>{if(this._resetContextStyleTimingState(t),0==m.type){const E=m,C=E.name;C.toString().split(/\s*,\s*/).forEach(k=>{E.name=k,l.push(this.visitState(E,t))}),E.name=C}else if(1==m.type){const E=this.visitTransition(m,t);r+=E.queryCount,i+=E.depCount,f.push(E)}else t.errors.push(function dy(){return new h.vHH(3007,Hn)}())}),{type:7,name:e.name,states:l,transitions:f,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const l=new Set,f=i||{};r.styles.forEach(m=>{if(Lh(m)){const E=m;Object.keys(E).forEach(C=>{ME(E[C]).forEach(k=>{f.hasOwnProperty(k)||l.add(k)})})}}),l.size&&(qg(l.values()),t.errors.push(function d(n,e){return new h.vHH(3008,Hn)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=qs(this,Rh(e.animation),t);return{type:1,matchers:kE(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Wc(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>qs(this,r,t)),options:Wc(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const l=e.steps.map(f=>{t.currentTime=r;const m=qs(this,f,t);return i=Math.max(i,t.currentTime),m});return t.currentTime=i,{type:3,steps:l,options:Wc(e.options)}}visitAnimate(e,t){const r=function Tx(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return PE(lf(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=PE(0,0,"");return l.dynamic=!0,l.strValue=t,l}const i=lf(t,e);return PE(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,l=e.styles?e.styles:il({});if(5==l.type)i=this.visitKeyframes(l,t);else{let f=e.styles,m=!1;if(!f){m=!0;const C={};r.easing&&(C.easing=r.easing),f=il(C)}t.currentTime+=r.duration+r.delay;const E=this.visitStyle(f,t);E.isEmptyStep=m,i=E}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(f=>{"string"==typeof f?f==yo?r.push(f):t.errors.push(function c(n){return new h.vHH(3002,Hn)}()):r.push(f)}):r.push(e.styles);let i=!1,l=null;return r.forEach(f=>{if(Lh(f)){const m=f,E=m.easing;if(E&&(l=E,delete m.easing),!i)for(let C in m)if(m[C].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,l=t.currentTime;r&&l>0&&(l-=r.duration+r.delay),e.styles.forEach(f=>{"string"!=typeof f&&Object.keys(f).forEach(m=>{if(!this._driver.validateStyleProperty(m))return delete f[m],void t.unsupportedCSSPropertiesFound.add(m);const E=t.collectedStyles[t.currentQuerySelector],C=E[m];let k=!0;C&&(l!=i&&l>=C.startTime&&i<=C.endTime&&(t.errors.push(function v(n,e,t,r,i){return new h.vHH(3010,Hn)}()),k=!1),l=C.startTime),k&&(E[m]={startTime:l,endTime:i}),t.options&&function IE(n,e,t){const r=e.params||{},i=ME(n);i.length&&i.forEach(l=>{r.hasOwnProperty(l)||t.push(function Vg(n){return new h.vHH(3001,Hn)}())})}(f[m],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function w(){return new h.vHH(3011,Hn)}()),r;let l=0;const f=[];let m=!1,E=!1,C=0;const k=e.steps.map(at=>{const _t=this._makeStyleAst(at,t);let Rt=null!=_t.offset?_t.offset:function JC(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Lh(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(Lh(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(_t.styles),Ct=0;return null!=Rt&&(l++,Ct=_t.offset=Rt),E=E||Ct<0||Ct>1,m=m||Ct<C,C=Ct,f.push(Ct),_t});E&&t.errors.push(function M(){return new h.vHH(3012,Hn)}()),m&&t.errors.push(function N(){return new h.vHH(3200,Hn)}());const O=e.steps.length;let q=0;l>0&&l<O?t.errors.push(function V(){return new h.vHH(3202,Hn)}()):0==l&&(q=1/(O-1));const J=O-1,se=t.currentTime,Me=t.currentAnimateTimings,nt=Me.duration;return k.forEach((at,_t)=>{const Rt=q>0?_t==J?1:q*_t:f[_t],Ct=Rt*nt;t.currentTime=se+Me.delay+Ct,Me.duration=Ct,this._validateStyleAst(at,t),at.offset=Rt,r.styles.push(at)}),r}visitReference(e,t){return{type:8,animation:qs(this,Rh(e.animation),t),options:Wc(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Wc(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Wc(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[l,f]=function KC(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(My,"")),n=n.replace(/@\*/g,zg).replace(/@\w+/g,t=>zg+"-"+t.substr(1)).replace(/:animating/g,by),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+l:l,ys(t.collectedStyles,t.currentQuerySelector,{});const m=qs(this,Rh(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:l,limit:i.limit||0,optional:!!i.optional,includeSelf:f,animation:m,originalSelector:e.selector,options:Wc(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function z(){return new h.vHH(3013,Hn)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:lf(e.timings,t.errors,!0);return{type:12,animation:qs(this,Rh(e.animation),t),timings:r,options:null}}}class YC{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Lh(n){return!Array.isArray(n)&&"object"==typeof n}function Wc(n){return n?(n=xh(n)).params&&(n.params=function QC(n){return n?xh(n):null}(n.params)):n={},n}function PE(n,e,t){return{duration:n,delay:e,easing:t}}function Kg(n,e,t,r,i,l,f=null,m=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:l,totalTime:i+l,easing:f,subTimeline:m}}class Vh{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Sx=new RegExp(":enter","g"),Mx=new RegExp(":leave","g");function OE(n,e,t,r,i,l={},f={},m,E,C=[]){return(new xx).buildKeyframes(n,e,t,r,i,l,f,m,E,C)}class xx{buildKeyframes(e,t,r,i,l,f,m,E,C,k=[]){C=C||new Vh;const O=new FE(e,t,C,i,l,k,[]);O.options=E,O.currentTimeline.setStyles([f],null,O.errors,E),qs(this,r,O);const q=O.timelines.filter(J=>J.containsAnimation());if(Object.keys(m).length){let J;for(let se=q.length-1;se>=0;se--){const Me=q[se];if(Me.element===t){J=Me;break}}J&&!J.allowOnlyTimelineStyles()&&J.setStyles([m],null,O.errors,E)}return q.length?q.map(J=>J.buildKeyframes()):[Kg(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),l=t.currentTimeline.currentTime,f=this._visitSubInstructions(r,i,i.options);l!=f&&t.transformIntoNewTimeline(f)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let l=t.currentTimeline.currentTime;const f=null!=r.duration?zc(r.duration):null,m=null!=r.delay?zc(r.delay):null;return 0!==f&&e.forEach(E=>{const C=t.appendInstructionToTimeline(E,f,m);l=Math.max(l,C.duration+C.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),qs(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const l=e.options;if(l&&(l.params||l.delay)&&(i=t.createSubContext(l),i.transformIntoNewTimeline(),null!=l.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Ry);const f=zc(l.delay);i.delayNextStep(f)}e.steps.length&&(e.steps.forEach(f=>qs(this,f,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?zc(e.options.delay):0;e.steps.forEach(f=>{const m=t.createSubContext(e.options);l&&m.delayNextStep(l),qs(this,f,m),i=Math.max(i,m.currentTimeline.currentTime),r.push(m.currentTimeline)}),r.forEach(f=>t.currentTimeline.mergeTimelineCollectedStyles(f)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return lf(t.params?Wg(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(r.duration),this.visitStyle(l,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const l=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(l):r.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,l=r.duration,m=t.createSubContext().currentTimeline;m.easing=r.easing,e.styles.forEach(E=>{m.forwardTime((E.offset||0)*l),m.setStyles(E.styles,E.easing,t.errors,t.options),m.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(m),t.transformIntoNewTimeline(i+l),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},l=i.delay?zc(i.delay):0;l&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ry);let f=r;const m=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=m.length;let E=null;m.forEach((C,k)=>{t.currentQueryIndex=k;const O=t.createSubContext(e.options,C);l&&O.delayNextStep(l),C===t.element&&(E=O.currentTimeline),qs(this,e.animation,O),O.currentTimeline.applyStylesToKeyframe(),f=Math.max(f,O.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(f),E&&(t.currentTimeline.mergeTimelineCollectedStyles(E),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,l=e.timings,f=Math.abs(l.duration),m=f*(t.currentQueryTotal-1);let E=f*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":E=m-E;break;case"full":E=r.currentStaggerTime}const k=t.currentTimeline;E&&k.delayNextStep(E);const O=k.currentTime;qs(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-O+(i.startTime-r.currentTimeline.startTime)}}const Ry={};class FE{constructor(e,t,r,i,l,f,m,E){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=l,this.errors=f,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ry,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=E||new Ny(this._driver,t,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=zc(r.duration)),null!=r.delay&&(i.delay=zc(r.delay));const l=r.params;if(l){let f=i.params;f||(f=this.options.params={}),Object.keys(l).forEach(m=>{(!t||!f.hasOwnProperty(m))&&(f[m]=Wg(l[m],f,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,l=new FE(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=Ry,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},l=new Rx(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(l),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,l,f){let m=[];if(i&&m.push(this.element),e.length>0){e=(e=e.replace(Sx,"."+this._enterClassName)).replace(Mx,"."+this._leaveClassName);let C=this._driver.query(this.element,e,1!=r);0!==r&&(C=r<0?C.slice(C.length+r,C.length):C.slice(0,r)),m.push(...C)}return!l&&0==m.length&&f.push(function ee(n){return new h.vHH(3014,Hn)}()),m}}class Ny{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Ny(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||yo,this._currentKeyframe[t]=yo}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const l=i&&i.params||{},f=function Lu(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(l=>{t[l]=yo})):Ou(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(f).forEach(m=>{const E=Wg(f[m],l,r);this._pendingStyles[m]=E,this._localTimelineStyles.hasOwnProperty(m)||(this._backFill[m]=this._globalTimelineStyles.hasOwnProperty(m)?this._globalTimelineStyles[m]:yo),this._updateStyle(m,E)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((m,E)=>{const C=Ou(m,!0);Object.keys(C).forEach(k=>{const O=C[k];"!"==O?e.add(k):O==yo&&t.add(k)}),r||(C.offset=E/this.duration),i.push(C)});const l=e.size?qg(e.values()):[],f=t.size?qg(t.values()):[];if(r){const m=i[0],E=xh(m);m.offset=0,E.offset=1,i=[m,E]}return Kg(this.element,i,l,f,this.duration,this.startTime,this.easing,!1)}}class Rx extends Ny{constructor(e,t,r,i,l,f,m=!1){super(e,t,f.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=l,this._stretchStartingKeyframe=m,this.timings={duration:f.duration,delay:f.delay,easing:f.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],f=r+t,m=t/f,E=Ou(e[0],!1);E.offset=0,l.push(E);const C=Ou(e[0],!1);C.offset=eD(m),l.push(C);const k=e.length-1;for(let O=1;O<=k;O++){let q=Ou(e[O],!1);q.offset=eD((t+q.offset*r)/f),l.push(q)}r=f,t=0,i="",e=l}return Kg(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function eD(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class ky{}class Py extends ky{normalizePropertyName(e,t){return Dy(e)}normalizeStyleValue(e,t,r,i){let l="";const f=r.toString().trim();if(VE[t]&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const m=r.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&i.push(function uy(n,e){return new h.vHH(3005,Hn)}())}return f+l}}const VE=(()=>function Oy(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function BE(n,e,t,r,i,l,f,m,E,C,k,O,q){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:l,toState:r,toStyles:f,timelines:m,queriedElements:E,preStyleProps:C,postStyleProps:k,totalTime:O,errors:q}}const ol={};class Fy{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function nD(n,e,t,r,i){return n.some(l=>l(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],l=this._stateStyles[e],f=i?i.buildStyles(t,r):{};return l?l.buildStyles(t,r):f}build(e,t,r,i,l,f,m,E,C,k){const O=[],q=this.ast.options&&this.ast.options.params||ol,se=this.buildStyles(r,m&&m.params||ol,O),Me=E&&E.params||ol,nt=this.buildStyles(i,Me,O),at=new Set,_t=new Map,Rt=new Map,Ct="void"===i,pn={params:Object.assign(Object.assign({},q),Me)},hn=k?[]:OE(e,t,this.ast.animation,l,f,se,nt,pn,C,O);let Un=0;if(hn.forEach(Io=>{Un=Math.max(Io.duration+Io.delay,Un)}),O.length)return BE(t,this._triggerName,r,i,Ct,se,nt,[],[],_t,Rt,Un,O);hn.forEach(Io=>{const Mo=Io.element,cg=ys(_t,Mo,{});Io.preStyleProps.forEach(Sd=>cg[Sd]=!0);const Jo=ys(Rt,Mo,{});Io.postStyleProps.forEach(Sd=>Jo[Sd]=!0),Mo!==t&&at.add(Mo)});const jn=qg(at.values());return BE(t,this._triggerName,r,i,Ct,se,nt,hn,jn,_t,Rt,Un)}}class Ly{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=xh(this.defaultParams);return Object.keys(e).forEach(l=>{const f=e[l];null!=f&&(i[l]=f)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const f=l;Object.keys(f).forEach(m=>{let E=f[m];E.length>1&&(E=Wg(E,i,t));const C=this.normalizer.normalizePropertyName(m,t);E=this.normalizer.normalizeStyleValue(m,C,E,t),r[C]=E})}}),r}}class UE{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new Ly(i.style,i.options&&i.options.params||{},r)}),HE(this.states,"true","1"),HE(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Fy(e,i,this.states))}),this.fallbackTransition=function iD(n,e,t){return new Fy(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(f,m)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(f=>f.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function HE(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const Bh=new Vh;class cf{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],l=Fh(this._driver,t,r,[]);if(r.length)throw function an(n){return new h.vHH(3503,Hn)}();this._animations[e]=l}_buildPlayer(e,t,r){const i=e.element,l=Ug(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],l=this._animations[e];let f;const m=new Map;if(l?(f=OE(this._driver,t,l,Gg,af,{},{},r,Bh,i),f.forEach(k=>{const O=ys(m,k.element,{});k.postStyleProps.forEach(q=>O[q]=null)})):(i.push(function xt(){return new h.vHH(3300,Hn)}()),f=[]),i.length)throw function tr(n){return new h.vHH(3504,Hn)}();m.forEach((k,O)=>{Object.keys(k).forEach(q=>{k[q]=this._driver.computeStyle(O,q,yo)})});const C=_a(f.map(k=>{const O=m.get(k.element);return this._buildPlayer(k,{},O)}));return this._playersById[e]=C,C.onDestroy(()=>this.destroy(e)),this.players.push(C),C}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function xr(n){return new h.vHH(3301,Hn)}();return t}listen(e,t,r,i){const l=Hg(t,"","","");return ku(this._getPlayer(e),r,l,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const l=this._getPlayer(e);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const Qg="ng-animate-queued",qc="ng-animate-disabled",GE=[],Yg={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Vy={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Eo="__ng_removed";class hf{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function $E(n){return null!=n?n:null}(r?e.value:e),r){const l=xh(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Uh="void",Jg=new hf(Uh);class Nx{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ba(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function pr(n,e){return new h.vHH(3302,Hn)}();if(null==r||0==r.length)throw function ai(n){return new h.vHH(3303,Hn)}();if(!function aD(n){return"start"==n||"done"==n}(r))throw function jr(n,e){return new h.vHH(3400,Hn)}();const l=ys(this._elementListeners,e,[]),f={name:t,phase:r,callback:i};l.push(f);const m=ys(this._engine.statesByElement,e,{});return m.hasOwnProperty(t)||(ba(e,Pu),ba(e,Pu+"-"+t),m[t]=Jg),()=>{this._engine.afterFlush(()=>{const E=l.indexOf(f);E>=0&&l.splice(E,1),this._triggers[t]||delete m[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function vs(n){return new h.vHH(3401,Hn)}();return t}trigger(e,t,r,i=!0){const l=this._getTrigger(t),f=new Xg(this.id,t,e);let m=this._engine.statesByElement.get(e);m||(ba(e,Pu),ba(e,Pu+"-"+t),this._engine.statesByElement.set(e,m={}));let E=m[t];const C=new hf(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&E&&C.absorbOptions(E.options),m[t]=C,E||(E=Jg),C.value!==Uh&&E.value===C.value){if(!function By(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const l=t[i];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(E.params,C.params)){const Me=[],nt=l.matchStyles(E.value,E.params,Me),at=l.matchStyles(C.value,C.params,Me);Me.length?this._engine.reportError(Me):this._engine.afterFlush(()=>{ji(e,nt),sl(e,at)})}return}const q=ys(this._engine.playersByElement,e,[]);q.forEach(Me=>{Me.namespaceId==this.id&&Me.triggerName==t&&Me.queued&&Me.destroy()});let J=l.matchTransition(E.value,C.value,e,C.params),se=!1;if(!J){if(!i)return;J=l.fallbackTransition,se=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:J,fromState:E,toState:C,player:f,isFallbackTransition:se}),se||(ba(e,Qg),f.onStart(()=>{Hh(e,Qg)})),f.onDone(()=>{let Me=this.players.indexOf(f);Me>=0&&this.players.splice(Me,1);const nt=this._engine.playersByElement.get(e);if(nt){let at=nt.indexOf(f);at>=0&&nt.splice(at,1)}}),this.players.push(f),q.push(f),f}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,zg,!0);r.forEach(i=>{if(i[Eo])return;const l=this._engine.fetchNamespacesByElement(i);l.size?l.forEach(f=>f.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const l=this._engine.statesByElement.get(e),f=new Map;if(l){const m=[];if(Object.keys(l).forEach(E=>{if(f.set(E,l[E].value),this._triggers[E]){const C=this.trigger(e,E,Uh,i);C&&m.push(C)}}),m.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,f),r&&_a(m).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(l=>{const f=l.name;if(i.has(f))return;i.add(f);const E=this._triggers[f].fallbackTransition,C=r[f]||Jg,k=new hf(Uh),O=new Xg(this.id,f,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:f,transition:E,fromState:C,toState:k,player:O,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(e):[];if(l&&l.length)i=!0;else{let f=e;for(;f=f.parentNode;)if(r.statesByElement.get(f)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const l=e[Eo];(!l||l===Yg)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){ba(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const l=r.element,f=this._elementListeners.get(l);f&&f.forEach(m=>{if(m.name==r.triggerName){const E=Hg(l,r.triggerName,r.fromState.value,r.toState.value);E._data=e,ku(r.player,m.phase,E,m.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const l=r.transition.ast.depCount,f=i.transition.ast.depCount;return 0==l||0==f?l-f:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class zE{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Nx(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,l=r.length-1;if(l>=0){let f=!1;if(void 0!==this.driver.getParentElement){let m=this.driver.getParentElement(t);for(;m;){const E=i.get(m);if(E){const C=r.indexOf(E);r.splice(C+1,0,e),f=!0;break}m=this.driver.getParentElement(m)}}else for(let m=l;m>=0;m--)if(this.driver.containsElement(r[m].hostElement,t)){r.splice(m+1,0,e),f=!0;break}f||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let l=0;l<i.length;l++){const f=r[i[l]].namespaceId;if(f){const m=this._fetchNamespace(f);m&&t.add(m)}}}return t}trigger(e,t,r,i){if(em(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!em(t))return;const l=t[Eo];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const f=this.collectedLeaveElements.indexOf(t);f>=0&&this.collectedLeaveElements.splice(f,1)}if(e){const f=this._fetchNamespace(e);f&&f.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ba(e,qc)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Hh(e,qc))}removeNode(e,t,r,i){if(em(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const f=this.namespacesByHostElement.get(t);f&&f.id!==e&&f.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,l){this.collectedLeaveElements.push(t),t[Eo]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:l}}listen(e,t,r,i,l){return em(t)?this._fetchNamespace(e).listen(t,r,i,l):()=>{}}_buildInstruction(e,t,r,i,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,zg,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,by,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return _a(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[Eo];if(r&&r.setForRemoval){if(e[Eo]=Yg,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(qc))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ba(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?_a(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Hi(n){return new h.vHH(3402,Hn)}()}_flushAnimations(e,t){const r=new Vh,i=[],l=new Map,f=[],m=new Map,E=new Map,C=new Map,k=new Set;this.disabledNodes.forEach(sn=>{k.add(sn);const yn=this.driver.query(sn,".ng-animate-queued",!0);for(let xn=0;xn<yn.length;xn++)k.add(yn[xn])});const O=this.bodyNode,q=Array.from(this.statesByElement.keys()),J=qE(q,this.collectedEnterElements),se=new Map;let Me=0;J.forEach((sn,yn)=>{const xn=Gg+Me++;se.set(yn,xn),sn.forEach(ur=>ba(ur,xn))});const nt=[],at=new Set,_t=new Set;for(let sn=0;sn<this.collectedLeaveElements.length;sn++){const yn=this.collectedLeaveElements[sn],xn=yn[Eo];xn&&xn.setForRemoval&&(nt.push(yn),at.add(yn),xn.hasAnimation?this.driver.query(yn,".ng-star-inserted",!0).forEach(ur=>at.add(ur)):_t.add(yn))}const Rt=new Map,Ct=qE(q,Array.from(at));Ct.forEach((sn,yn)=>{const xn=af+Me++;Rt.set(yn,xn),sn.forEach(ur=>ba(ur,xn))}),e.push(()=>{J.forEach((sn,yn)=>{const xn=se.get(yn);sn.forEach(ur=>Hh(ur,xn))}),Ct.forEach((sn,yn)=>{const xn=Rt.get(yn);sn.forEach(ur=>Hh(ur,xn))}),nt.forEach(sn=>{this.processLeaveNode(sn)})});const pn=[],hn=[];for(let sn=this._namespaceList.length-1;sn>=0;sn--)this._namespaceList[sn].drainQueuedTransitions(t).forEach(xn=>{const ur=xn.player,as=xn.element;if(pn.push(ur),this.collectedEnterElements.length){const xo=as[Eo];if(xo&&xo.setForMove){if(xo.previousTriggersValues&&xo.previousTriggersValues.has(xn.triggerName)){const dg=xo.previousTriggersValues.get(xn.triggerName),sh=this.statesByElement.get(xn.element);sh&&sh[xn.triggerName]&&(sh[xn.triggerName].value=dg)}return void ur.destroy()}}const rc=!O||!this.driver.containsElement(O,as),ka=Rt.get(as),ih=se.get(as),ei=this._buildInstruction(xn,r,ih,ka,rc);if(ei.errors&&ei.errors.length)return void hn.push(ei);if(rc)return ur.onStart(()=>ji(as,ei.fromStyles)),ur.onDestroy(()=>sl(as,ei.toStyles)),void i.push(ur);if(xn.isFallbackTransition)return ur.onStart(()=>ji(as,ei.fromStyles)),ur.onDestroy(()=>sl(as,ei.toStyles)),void i.push(ur);const vP=[];ei.timelines.forEach(xo=>{xo.stretchStartingKeyframe=!0,this.disabledNodes.has(xo.element)||vP.push(xo)}),ei.timelines=vP,r.append(as,ei.timelines),f.push({instruction:ei,player:ur,element:as}),ei.queriedElements.forEach(xo=>ys(m,xo,[]).push(ur)),ei.preStyleProps.forEach((xo,dg)=>{const sh=Object.keys(xo);if(sh.length){let fg=E.get(dg);fg||E.set(dg,fg=new Set),sh.forEach(wx=>fg.add(wx))}}),ei.postStyleProps.forEach((xo,dg)=>{const sh=Object.keys(xo);let fg=C.get(dg);fg||C.set(dg,fg=new Set),sh.forEach(wx=>fg.add(wx))})});if(hn.length){const sn=[];hn.forEach(yn=>{sn.push(function Ws(n,e){return new h.vHH(3505,Hn)}())}),pn.forEach(yn=>yn.destroy()),this.reportError(sn)}const Un=new Map,jn=new Map;f.forEach(sn=>{const yn=sn.element;r.has(yn)&&(jn.set(yn,yn),this._beforeAnimationBuild(sn.player.namespaceId,sn.instruction,Un))}),i.forEach(sn=>{const yn=sn.element;this._getPreviousPlayers(yn,!1,sn.namespaceId,sn.triggerName,null).forEach(ur=>{ys(Un,yn,[]).push(ur),ur.destroy()})});const Io=nt.filter(sn=>Uy(sn,E,C)),Mo=new Map;WE(Mo,this.driver,_t,C,yo).forEach(sn=>{Uy(sn,E,C)&&Io.push(sn)});const Jo=new Map;J.forEach((sn,yn)=>{WE(Jo,this.driver,new Set(sn),E,"!")}),Io.forEach(sn=>{const yn=Mo.get(sn),xn=Jo.get(sn);Mo.set(sn,Object.assign(Object.assign({},yn),xn))});const Sd=[],_E=[],mP={};f.forEach(sn=>{const{element:yn,player:xn,instruction:ur}=sn;if(r.has(yn)){if(k.has(yn))return xn.onDestroy(()=>sl(yn,ur.toStyles)),xn.disabled=!0,xn.overrideTotalTime(ur.totalTime),void i.push(xn);let as=mP;if(jn.size>1){let ka=yn;const ih=[];for(;ka=ka.parentNode;){const ei=jn.get(ka);if(ei){as=ei;break}ih.push(ka)}ih.forEach(ei=>jn.set(ei,as))}const rc=this._buildAnimation(xn.namespaceId,ur,Un,l,Jo,Mo);if(xn.setRealPlayer(rc),as===mP)Sd.push(xn);else{const ka=this.playersByElement.get(as);ka&&ka.length&&(xn.parentPlayer=_a(ka)),i.push(xn)}}else ji(yn,ur.fromStyles),xn.onDestroy(()=>sl(yn,ur.toStyles)),_E.push(xn),k.has(yn)&&i.push(xn)}),_E.forEach(sn=>{const yn=l.get(sn.element);if(yn&&yn.length){const xn=_a(yn);sn.setRealPlayer(xn)}}),i.forEach(sn=>{sn.parentPlayer?sn.syncPlayerEvents(sn.parentPlayer):sn.destroy()});for(let sn=0;sn<nt.length;sn++){const yn=nt[sn],xn=yn[Eo];if(Hh(yn,af),xn&&xn.hasAnimation)continue;let ur=[];if(m.size){let rc=m.get(yn);rc&&rc.length&&ur.push(...rc);let ka=this.driver.query(yn,by,!0);for(let ih=0;ih<ka.length;ih++){let ei=m.get(ka[ih]);ei&&ei.length&&ur.push(...ei)}}const as=ur.filter(rc=>!rc.destroyed);as.length?ZE(this,yn,as):this.processLeaveNode(yn)}return nt.length=0,Sd.forEach(sn=>{this.players.push(sn),sn.onDone(()=>{sn.destroy();const yn=this.players.indexOf(sn);this.players.splice(yn,1)}),sn.play()}),Sd}elementContainsData(e,t){let r=!1;const i=t[Eo];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,l){let f=[];if(t){const m=this.playersByQueriedElement.get(e);m&&(f=m)}else{const m=this.playersByElement.get(e);if(m){const E=!l||l==Uh;m.forEach(C=>{C.queued||!E&&C.triggerName!=i||f.push(C)})}}return(r||i)&&(f=f.filter(m=>!(r&&r!=m.namespaceId||i&&i!=m.triggerName))),f}_beforeAnimationBuild(e,t,r){const l=t.element,f=t.isRemovalTransition?void 0:e,m=t.isRemovalTransition?void 0:t.triggerName;for(const E of t.timelines){const C=E.element,k=C!==l,O=ys(r,C,[]);this._getPreviousPlayers(C,k,f,m,t.toState).forEach(J=>{const se=J.getRealPlayer();se.beforeDestroy&&se.beforeDestroy(),J.destroy(),O.push(J)})}ji(l,t.fromStyles)}_buildAnimation(e,t,r,i,l,f){const m=t.triggerName,E=t.element,C=[],k=new Set,O=new Set,q=t.timelines.map(se=>{const Me=se.element;k.add(Me);const nt=Me[Eo];if(nt&&nt.removedBeforeQueried)return new Hc(se.duration,se.delay);const at=Me!==E,_t=function kx(n){const e=[];return KE(n,e),e}((r.get(Me)||GE).map(Un=>Un.getRealPlayer())).filter(Un=>!!Un.element&&Un.element===Me),Rt=l.get(Me),Ct=f.get(Me),pn=Ug(0,this._normalizer,0,se.keyframes,Rt,Ct),hn=this._buildPlayer(se,pn,_t);if(se.subTimeline&&i&&O.add(Me),at){const Un=new Xg(e,m,Me);Un.setRealPlayer(hn),C.push(Un)}return hn});C.forEach(se=>{ys(this.playersByQueriedElement,se.element,[]).push(se),se.onDone(()=>function oD(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,se.element,se))}),k.forEach(se=>ba(se,Ey));const J=_a(q);return J.onDestroy(()=>{k.forEach(se=>Hh(se,Ey)),sl(E,t.toStyles)}),O.forEach(se=>{ys(i,se,[]).push(J)}),J}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Hc(e.duration,e.delay)}}class Xg{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Hc,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>ku(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ys(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function em(n){return n&&1===n.nodeType}function Zs(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function WE(n,e,t,r,i){const l=[];t.forEach(E=>l.push(Zs(E)));const f=[];r.forEach((E,C)=>{const k={};E.forEach(O=>{const q=k[O]=e.computeStyle(C,O,i);(!q||0==q.length)&&(C[Eo]=Vy,f.push(C))}),n.set(C,k)});let m=0;return t.forEach(E=>Zs(E,l[m++])),f}function qE(n,e){const t=new Map;if(n.forEach(m=>t.set(m,[])),0==e.length)return t;const i=new Set(e),l=new Map;function f(m){if(!m)return 1;let E=l.get(m);if(E)return E;const C=m.parentNode;return E=t.has(C)?C:i.has(C)?1:f(C),l.set(m,E),E}return e.forEach(m=>{const E=f(m);1!==E&&t.get(E).push(m)}),t}function ba(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Hh(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function ZE(n,e,t){_a(t).onDone(()=>n.processLeaveNode(e))}function KE(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof jc?KE(r.players,e):e.push(r)}}function Uy(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(l=>i.add(l)):e.set(n,r),t.delete(n),!0}class tm{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,l)=>{},this._transitionEngine=new zE(e,t,r),this._timelineEngine=new cf(e,t,r),this._transitionEngine.onRemovalComplete=(i,l)=>this.onRemovalComplete(i,l)}registerTrigger(e,t,r,i,l){const f=e+"-"+i;let m=this._triggerCache[f];if(!m){const E=[],k=Fh(this._driver,l,E,[]);if(E.length)throw function Dt(n,e){return new h.vHH(3404,Hn)}();m=function rD(n,e,t){return new UE(n,e,t)}(i,k,this._normalizer),this._triggerCache[f]=m}this._transitionEngine.registerTrigger(t,i,m)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[l,f]=bE(r);this._timelineEngine.command(l,t,f,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,l){if("@"==r.charAt(0)){const[f,m]=bE(r);return this._timelineEngine.listen(f,t,m,l)}return this._transitionEngine.listen(e,t,r,i,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let uD=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&sl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(sl(this._element,this._initialStyles),this._endStyles&&(sl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ji(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ji(this._element,this._endStyles),this._endStyles=null),sl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function nm(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];cD(i)&&(e=e||{},e[i]=n[i])}return e}function cD(n){return"display"===n||"position"===n}class Hy{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:Ty(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class dD{validateStyleProperty(e){return wE(e)}matchesElement(e,t){return!1}containsElement(e,t){return gy(e,t)}getParentElement(e){return Gl(e)}query(e,t,r){return my(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,l,f=[]){const E={duration:r,delay:i,fill:0==i?"both":"forwards"};l&&(E.easing=l);const C={},k=f.filter(q=>q instanceof Hy);(function qC(n,e){return 0===n||0===e})(r,i)&&k.forEach(q=>{let J=q.currentSnapshot;Object.keys(J).forEach(se=>C[se]=J[se])}),t=function Fn(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let l=e[0],f=[];if(r.forEach(m=>{l.hasOwnProperty(m)||f.push(m),l[m]=t[m]}),f.length)for(var i=1;i<e.length;i++){let m=e[i];f.forEach(function(E){m[E]=Ty(n,E)})}}return e}(e,t=t.map(q=>Ou(q,!1)),C);const O=function lD(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=nm(e[0]),e.length>1&&(r=nm(e[e.length-1]))):e&&(t=nm(e)),t||r?new uD(n,t,r):null}(e,t);return new Hy(e,t,E,O)}}let fD=(()=>{class n extends oi{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?Ng(t):t;return JE(this._renderer,null,r,"register",[i]),new QE(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class QE extends class Ru{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new YE(this._id,e,t||{},this._renderer)}}class YE{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return JE(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function JE(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const rm="@.disabled";let hD=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,f)=>{const m=null==f?void 0:f.parentNode(l);m&&f.removeChild(m,l)}}createRenderer(t,r){const l=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let k=this._rendererCache.get(l);return k||(k=new XE("",l,this.engine),this._rendererCache.set(l,k)),k}const f=r.id,m=r.id+"-"+this._currentId;this._currentId++,this.engine.register(m,t);const E=k=>{Array.isArray(k)?k.forEach(E):this.engine.registerTrigger(f,m,t,k.name,k)};return r.data.animation.forEach(E),new Px(this,m,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[f,m]=l;f(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(tm),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class XE{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==rm?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Px extends XE{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==rm?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function eb(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.substr(1),f="";return"@"!=l.charAt(0)&&([l,f]=function pD(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(l)),this.engine.listen(this.namespaceId,i,l,f,m=>{this.factory.scheduleListenerCallback(m._data||-1,r,m)})}return this.delegate.listen(e,t,r)}}let gD=(()=>{class n extends tm{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be),h.LFG(of),h.LFG(ky))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const tb=new h.OlP("AnimationModuleType"),nb=[{provide:oi,useClass:fD},{provide:ky,useFactory:function mD(){return new Py}},{provide:tm,useClass:gD},{provide:h.FYo,useFactory:function jy(n,e,t){return new hD(n,e,t)},deps:[dr,tm,h.R0b]}],jh=[{provide:of,useFactory:()=>new dD},{provide:tb,useValue:"BrowserAnimations"},...nb],Gy=[{provide:of,useClass:vy},{provide:tb,useValue:"NoopAnimations"},...nb];let vD=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Gy:jh}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:jh,imports:[_l]}),n})();function En(...n){const e=(0,mr.yG)(n);return(0,wr.D)(n,e)}var li=$(7579);class Aa extends li.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Gh=$(4671),zy=$(9672);function $y(n,e,t){n?(0,zy.f)(t,n,e):e()}var im=$(576);function zh(n,e){const t=(0,im.m)(n)?n:()=>n,r=i=>i.error(t());return new Vs.y(e?i=>e.schedule(r,0,i):r)}const $h=(0,$(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Wo=$(8189);function Wy(...n){return function sm(){return(0,Wo.J)(1)}()((0,wr.D)(n,(0,mr.yG)(n)))}function sb(n){return new Vs.y(e=>{(0,ao.Xf)(n()).subscribe(e)})}var Wh=$(515),om=$(727),Ks=$(4482);function am(){return(0,Ks.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Lr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,l=t;t=null,i&&(!l||i===l)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class qh extends Vs.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Ks.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new om.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Lr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=om.w0.EMPTY)}return e}refCount(){return am()(this)}}function _s(n,e){return(0,Ks.e)((t,r)=>{let i=null,l=0,f=!1;const m=()=>f&&!i&&r.complete();t.subscribe((0,Lr.x)(r,E=>{null==i||i.unsubscribe();let C=0;const k=l++;(0,ao.Xf)(n(E,k)).subscribe(i=(0,Lr.x)(r,O=>r.next(e?e(E,O,k,C++):O),()=>{i=null,m()}))},()=>{f=!0,m()}))})}var Zh=$(5698);function Kh(...n){const e=(0,mr.yG)(n);return(0,Ks.e)((t,r)=>{(e?Wy(n,t,e):Wy(n,t)).subscribe(r)})}function ob(n,e,t,r,i){return(l,f)=>{let m=t,E=e,C=0;l.subscribe((0,Lr.x)(f,k=>{const O=C++;E=m?n(E,k,O):(m=!0,k),r&&f.next(E)},i&&(()=>{m&&f.next(E),f.complete()})))}}function pf(n,e){return(0,Ks.e)(ob(n,e,arguments.length>=2,!0))}function wa(n,e){return(0,Ks.e)((t,r)=>{let i=0;t.subscribe((0,Lr.x)(r,l=>n.call(e,l,i++)&&r.next(l)))})}function al(n){return(0,Ks.e)((e,t)=>{let l,r=null,i=!1;r=e.subscribe((0,Lr.x)(t,void 0,void 0,f=>{l=(0,ao.Xf)(n(f,al(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,l.subscribe(t))})}var es=$(5577);function gf(n,e){return(0,im.m)(e)?(0,es.z)(n,e,1):(0,es.z)(n,1)}function lm(n){return n<=0?()=>Wh.E:(0,Ks.e)((e,t)=>{let r=[];e.subscribe((0,Lr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Zc(n=ab){return(0,Ks.e)((e,t)=>{let r=!1;e.subscribe((0,Lr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function ab(){return new $h}function lb(n){return(0,Ks.e)((e,t)=>{let r=!1;e.subscribe((0,Lr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function qo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?wa((i,l)=>n(i,l,r)):Gh.y,(0,Zh.q)(1),t?lb(e):Zc(()=>new $h))}var Ao=$(8505);class zl{constructor(e,t){this.id=e,this.url=t}}class qy extends zl{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Es extends zl{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class um extends zl{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ub extends zl{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class cb extends zl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class db extends zl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fb extends zl{constructor(e,t,r,i,l){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class bD extends zl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AD extends zl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hb{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pb{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gb{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fx{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mb{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wD{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vb{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Kn="primary";class Lx{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Vu(n){return new Lx(n)}const yb="ngNavigationCancelingError";function cm(n){const e=Error("NavigationCancelingError: "+n);return e[yb]=!0,e}function Vx(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let l=0;l<r.length;l++){const f=r[l],m=n[l];if(f.startsWith(":"))i[f.substring(1)]=m;else if(f!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function $l(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let l=0;l<t.length;l++)if(i=t[l],!CD(n[i],e[i]))return!1;return!0}function CD(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,l)=>r[l]===i)}return n===e}function Zy(n){return Array.prototype.concat.apply([],n)}function Ky(n){return n.length>0?n[n.length-1]:null}function Gi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Wl(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,wr.D)(Promise.resolve(n)):En(n)}const Qy={exact:function Ab(n,e,t){if(!Kc(n.segments,e.segments)||!fm(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Ab(n.children[r],e.children[r],t))return!1;return!0},subset:wb},bb={exact:function TD(n,e){return $l(n,e)},subset:function SD(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>CD(n[t],e[t]))},ignored:()=>!0};function dm(n,e,t){return Qy[t.paths](n.root,e.root,t.matrixParams)&&bb[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function wb(n,e,t){return Cb(n,e,e.segments,t)}function Cb(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Kc(i,t)||e.hasChildren()||!fm(i,t,r))}if(n.segments.length===t.length){if(!Kc(n.segments,t)||!fm(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!wb(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(Kc(n.segments,i)&&fm(n.segments,i,r)&&n.children[Kn])&&Cb(n.children[Kn],e,l,r)}}function fm(n,e,t){return e.every((r,i)=>bb[t](n[i].parameters,r.parameters))}class ll{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vu(this.queryParams)),this._queryParamMap}toString(){return Jh.serialize(this)}}class Bn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Gi(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gi(this)}}class Qh{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Vu(this.parameters)),this._parameterMap}toString(){return Yc(this)}}function Kc(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class hm{}class Da{parse(e){const t=new Ib(e);return new ll(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ta(e.root,!0)}`,r=function vf(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${bs(t)}=${bs(i)}`).join("&"):`${bs(t)}=${bs(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Yy(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Jh=new Da;function gi(n){return n.segments.map(e=>Yc(e)).join("/")}function Ta(n,e){if(!n.hasChildren())return gi(n);if(e){const t=n.children[Kn]?Ta(n.children[Kn],!1):"",r=[];return Gi(n.children,(i,l)=>{l!==Kn&&r.push(`${l}:${Ta(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function ID(n,e){let t=[];return Gi(n.children,(r,i)=>{i===Kn&&(t=t.concat(e(r,i)))}),Gi(n.children,(r,i)=>{i!==Kn&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Kn?[Ta(n.children[Kn],!1)]:[`${i}:${Ta(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Kn]?`${gi(n)}/${t[0]}`:`${gi(n)}/(${t.join("//")})`}}function Xh(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bs(n){return Xh(n).replace(/%3B/gi,";")}function Bu(n){return Xh(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ql(n){return decodeURIComponent(n)}function Qc(n){return ql(n.replace(/\+/g,"%20"))}function Yc(n){return`${Bu(n.path)}${function mf(n){return Object.keys(n).map(e=>`;${Bu(e)}=${Bu(n[e])}`).join("")}(n.parameters)}`}const yf=/^[^\/()?;=#]+/;function Zl(n){const e=n.match(yf);return e?e[0]:""}const _f=/^[^=?&#]+/,Tb=/^[^&#]+/;class Ib{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bn([],{}):new Bn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Kn]=new Bn(e,t)),r}parseSegment(){const e=Zl(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Qh(ql(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Zl(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Zl(this.remaining);i&&(r=i,this.capture(r))}e[ql(t)]=ql(r)}parseQueryParam(e){const t=function Db(n){const e=n.match(_f);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const f=function Sb(n){const e=n.match(Tb);return e?e[0]:""}(this.remaining);f&&(r=f,this.capture(r))}const i=Qc(t),l=Qc(r);if(e.hasOwnProperty(i)){let f=e[i];Array.isArray(f)||(f=[f],e[i]=f),f.push(l)}else e[i]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Zl(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Kn);const f=this.parseChildren();t[l]=1===Object.keys(f).length?f[Kn]:new Bn([],f),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Jy{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=pm(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=pm(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=gm(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return gm(e,this._root).map(t=>t.value)}}function pm(n,e){if(n===e.value)return e;for(const t of e.children){const r=pm(n,t);if(r)return r}return null}function gm(n,e){if(n===e.value)return[e];for(const t of e.children){const r=gm(n,t);if(r.length)return r.unshift(e),r}return[]}class ul{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Jc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Mb extends Jy{constructor(e,t){super(e),this.snapshot=t,n_(this,e)}toString(){return this.snapshot.toString()}}function Xy(n,e){const t=function MD(n,e){const f=new mm([],{},{},"",{},Kn,e,null,n.root,-1,{});return new t_("",new ul(f,[]))}(n,e),r=new Aa([new Qh("",{})]),i=new Aa({}),l=new Aa({}),f=new Aa({}),m=new Aa(""),E=new Ef(r,i,f,m,l,Kn,e,t.root);return E.snapshot=t.root,new Mb(new ul(E,[]),t)}class Ef{constructor(e,t,r,i,l,f,m,E){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=f,this.component=m,this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,vn.U)(e=>Vu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,vn.U)(e=>Vu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function e_(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],l=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(l.component)break;r--}}return function xD(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class mm{constructor(e,t,r,i,l,f,m,E,C,k,O){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=f,this.component=m,this.routeConfig=E,this._urlSegment=C,this._lastPathIndex=k,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Vu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Vu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class t_ extends Jy{constructor(e,t){super(t),this.url=e,n_(this,t)}toString(){return r_(this._root)}}function n_(n,e){e.value._routerState=n,e.children.forEach(t=>n_(n,t))}function r_(n){const e=n.children.length>0?` { ${n.children.map(r_).join(", ")} } `:"";return`${n.value}${e}`}function i_(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,$l(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),$l(e.params,t.params)||n.params.next(t.params),function Ca(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!$l(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),$l(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function s_(n,e){const t=$l(n.params,e.params)&&function Yh(n,e){return Kc(n,e)&&n.every((t,r)=>$l(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||s_(n.parent,e.parent))}function ep(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function o_(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ep(n,r,i);return ep(n,r)})}(n,e,t);return new ul(r,i)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const f=l.route;return f.value._futureSnapshot=e.value,f.children=e.children.map(m=>ep(n,m)),f}}const r=function a_(n){return new Ef(new Aa(n.url),new Aa(n.params),new Aa(n.queryParams),new Aa(n.fragment),new Aa(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(l=>ep(n,l));return new ul(r,i)}}function l_(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function vm(n){return"object"==typeof n&&null!=n&&n.outlets}function xb(n,e,t,r,i){let l={};if(r&&Gi(r,(m,E)=>{l[E]=Array.isArray(m)?m.map(C=>`${C}`):`${m}`}),n===e)return new ll(t,l,i);const f=Rb(n,e,t);return new ll(f,l,i)}function Rb(n,e,t){const r={};return Gi(n.children,(i,l)=>{r[l]=i===e?t:Rb(i,e,t)}),new Bn(n.segments,r)}class u_{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&l_(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(vm);if(i&&i!==Ky(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class c_{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function kb(n,e,t){if(n||(n=new Bn([],{})),0===n.segments.length&&n.hasChildren())return tp(n,e,t);const r=function ym(n,e,t){let r=0,i=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return l;const f=n.segments[i],m=t[r];if(vm(m))break;const E=`${m}`,C=r<t.length-1?t[r+1]:null;if(i>0&&void 0===E)break;if(E&&C&&"object"==typeof C&&void 0===C.outlets){if(!Fb(E,C,f))return l;r+=2}else{if(!Fb(E,{},f))return l;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new Bn(n.segments.slice(0,r.pathIndex),{});return l.children[Kn]=new Bn(n.segments.slice(r.pathIndex),n.children),tp(l,0,i)}return r.match&&0===i.length?new Bn(n.segments,{}):r.match&&!n.hasChildren()?d_(n,e,t):r.match?tp(n,0,i):d_(n,e,t)}function tp(n,e,t){if(0===t.length)return new Bn(n.segments,{});{const r=function Nb(n){return vm(n[0])?n[0].outlets:{[Kn]:n}}(t),i={};return Gi(r,(l,f)=>{"string"==typeof l&&(l=[l]),null!==l&&(i[f]=kb(n.children[f],e,l))}),Gi(n.children,(l,f)=>{void 0===r[f]&&(i[f]=l)}),new Bn(n.segments,i)}}function d_(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const l=t[i];if(vm(l)){const E=Pb(l.outlets);return new Bn(r,E)}if(0===i&&l_(t[0])){r.push(new Qh(n.segments[e].path,Ob(t[0]))),i++;continue}const f=vm(l)?l.outlets[Kn]:`${l}`,m=i<t.length-1?t[i+1]:null;f&&m&&l_(m)?(r.push(new Qh(f,Ob(m))),i+=2):(r.push(new Qh(f,{})),i++)}return new Bn(r,{})}function Pb(n){const e={};return Gi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=d_(new Bn([],{}),0,t))}),e}function Ob(n){const e={};return Gi(n,(t,r)=>e[r]=`${t}`),e}function Fb(n,e,t){return n==t.path&&$l(e,t.parameters)}class PD{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),i_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Jc(t);e.children.forEach(l=>{const f=l.value.outlet;this.deactivateRoutes(l,i[f],r),delete i[f]}),Gi(i,(l,f)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(i===l)if(i.component){const f=r.getContext(i.outlet);f&&this.deactivateChildRoutes(e,t,f.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=Jc(e);for(const f of Object.keys(l))this.deactivateRouteAndItsChildren(l[f],i);if(r&&r.outlet){const f=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:f,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=Jc(e);for(const f of Object.keys(l))this.deactivateRouteAndItsChildren(l[f],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Jc(t);e.children.forEach(l=>{this.activateRoutes(l,i[l.value.outlet],r),this.forwardEvent(new wD(l.value.snapshot))}),e.children.length&&this.forwardEvent(new Fx(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(i_(i),i===l)if(i.component){const f=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,f.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const f=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const m=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),f.children.onOutletReAttached(m.contexts),f.attachRef=m.componentRef,f.route=m.route.value,f.outlet&&f.outlet.attach(m.componentRef,m.route.value),i_(m.route.value),this.activateChildRoutes(e,null,f.children)}else{const m=function OD(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),E=m?m.module.componentFactoryResolver:null;f.attachRef=null,f.route=i,f.resolver=E,f.outlet&&f.outlet.activateWith(i,E),this.activateChildRoutes(e,null,f.children)}}else this.activateChildRoutes(e,null,r)}}class _m{constructor(e,t){this.routes=e,this.module=t}}function Uu(n){return"function"==typeof n}function Hu(n){return n instanceof ll}const Em=Symbol("INITIAL_VALUE");function Kl(){return _s(n=>function Ox(...n){const e=(0,mr.yG)(n),t=(0,mr.jO)(n),{args:r,keys:i}=Tl(n);if(0===r.length)return(0,wr.D)([],e);const l=new Vs.y(function yD(n,e,t=Gh.y){return r=>{$y(e,()=>{const{length:i}=n,l=new Array(i);let f=i,m=i;for(let E=0;E<i;E++)$y(e,()=>{const C=(0,wr.D)(n[E],e);let k=!1;C.subscribe((0,Lr.x)(r,O=>{l[E]=O,k||(k=!0,m--),m||r.next(t(l.slice()))},()=>{--f||r.complete()}))},r)},r)}}(r,e,i?f=>Sl(i,f):Gh.y));return t?l.pipe(mc(t)):l}(n.map(e=>e.pipe((0,Zh.q)(1),Kh(Em)))).pipe(pf((e,t)=>{let r=!1;return t.reduce((i,l,f)=>i!==Em?i:(l===Em&&(r=!0),r||!1!==l&&f!==t.length-1&&!Hu(l)?i:l),e)},Em),wa(e=>e!==Em),(0,vn.U)(e=>Hu(e)?e:!0===e),(0,Zh.q)(1)))}class Vb{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Xc,this.attachRef=null}}class Xc{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Vb,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let np=(()=>{class n{constructor(t,r,i,l,f){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.name=l||Kn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const f=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,E=new LD(t,m,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,E),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Xc),h.Y36(h.s_b),h.Y36(h._Vd),h.$8M("name"),h.Y36(h.sBO))},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class LD{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ef?this.route:e===Xc?this.childContexts:this.parent.get(e,t)}}let rp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},directives:[np],encapsulation:2}),n})();function ip(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];p_(r,jx(e,r))}}function p_(n,e){n.children&&ip(n.children,e)}function jx(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function g_(n){const e=n.children&&n.children.map(g_),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Kn&&(t.component=rp),t}function As(n){return n.outlet||Kn}function sp(n,e){const t=n.filter(r=>As(r)===e);return t.push(...n.filter(r=>As(r)!==e)),t}const m_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function op(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},m_):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const l=(e.matcher||Vx)(t,n,e);if(!l)return Object.assign({},m_);const f={};Gi(l.posParams,(E,C)=>{f[C]=E.path});const m=l.consumed.length>0?Object.assign(Object.assign({},f),l.consumed[l.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:l.consumed,remainingSegments:t.slice(l.consumed.length),parameters:m,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function Af(n,e,t,r,i="corrected"){if(t.length>0&&function v_(n,e,t){return t.some(r=>bm(n,e,r)&&As(r)!==Kn)}(n,t,r)){const f=new Bn(e,function Ub(n,e,t,r){const i={};i[Kn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&As(l)!==Kn){const f=new Bn([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,i[As(l)]=f}return i}(n,e,r,new Bn(t,n.children)));return f._sourceSegment=n,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:[]}}if(0===t.length&&function Hb(n,e,t){return t.some(r=>bm(n,e,r))}(n,t,r)){const f=new Bn(n.segments,function Bb(n,e,t,r,i,l){const f={};for(const m of r)if(bm(n,t,m)&&!i[As(m)]){const E=new Bn([],{});E._sourceSegment=n,E._segmentIndexShift="legacy"===l?n.segments.length:e.length,f[As(m)]=E}return Object.assign(Object.assign({},i),f)}(n,e,t,r,n.children,i));return f._sourceSegment=n,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:t}}const l=new Bn(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function bm(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function y_(n,e,t,r){return!!(As(n)===r||r!==Kn&&bm(e,t,n))&&("**"===n.path||op(e,n,t).matched)}function __(n,e,t){return 0===e.length&&!n.children[t]}class wf{constructor(e){this.segmentGroup=e||null}}class E_{constructor(e){this.urlTree=e}}function ap(n){return zh(new wf(n))}function jb(n){return zh(new E_(n))}class zb{constructor(e,t,r,i,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(h.h0i)}apply(){const e=Af(this.urlTree.root,[],[],this.config).segmentGroup,t=new Bn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Kn).pipe((0,vn.U)(l=>this.createUrlTree(Am(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(al(l=>{if(l instanceof E_)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof wf?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Kn).pipe((0,vn.U)(i=>this.createUrlTree(Am(i),e.queryParams,e.fragment))).pipe(al(i=>{throw i instanceof wf?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Bn([],{[Kn]:e}):e;return new ll(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,vn.U)(l=>new Bn([],l))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const l of Object.keys(r.children))"primary"===l?i.unshift(l):i.push(l);return(0,wr.D)(i).pipe(gf(l=>{const f=r.children[l],m=sp(t,l);return this.expandSegmentGroup(e,m,f,l).pipe((0,vn.U)(E=>({segment:E,outlet:l})))}),pf((l,f)=>(l[f.outlet]=f.segment,l),{}),function _D(n,e){const t=arguments.length>=2;return r=>r.pipe(n?wa((i,l)=>n(i,l,r)):Gh.y,lm(1),t?lb(e):Zc(()=>new $h))}())}expandSegment(e,t,r,i,l,f){return(0,wr.D)(r).pipe(gf(m=>this.expandSegmentAgainstRoute(e,t,r,m,i,l,f).pipe(al(C=>{if(C instanceof wf)return En(null);throw C}))),qo(m=>!!m),al((m,E)=>{if(m instanceof $h||"EmptyError"===m.name)return __(t,i,l)?En(new Bn([],{})):ap(t);throw m}))}expandSegmentAgainstRoute(e,t,r,i,l,f,m){return y_(i,t,l,f)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,l,f):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,f):ap(t):ap(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,f){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,f):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?jb(l):this.lineralizeSegments(r,l).pipe((0,es.z)(f=>{const m=new Bn(f,{});return this.expandSegment(e,m,t,f,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,f){const{matched:m,consumedSegments:E,remainingSegments:C,positionalParamSegments:k}=op(t,i,l);if(!m)return ap(t);const O=this.applyRedirectCommands(E,i.redirectTo,k);return i.redirectTo.startsWith("/")?jb(O):this.lineralizeSegments(i,O).pipe((0,es.z)(q=>this.expandSegment(e,t,r,q.concat(C),f,!1)))}matchSegmentAgainstRoute(e,t,r,i,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?En(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,vn.U)(O=>(r._loadedConfig=O,new Bn(i,{})))):En(new Bn(i,{}));const{matched:f,consumedSegments:m,remainingSegments:E}=op(t,r,i);return f?this.getChildConfig(e,r,i).pipe((0,es.z)(k=>{const O=k.module,q=k.routes,{segmentGroup:J,slicedSegments:se}=Af(t,m,E,q),Me=new Bn(J.segments,J.children);if(0===se.length&&Me.hasChildren())return this.expandChildren(O,q,Me).pipe((0,vn.U)(Rt=>new Bn(m,Rt)));if(0===q.length&&0===se.length)return En(new Bn(m,{}));const nt=As(r)===l;return this.expandSegment(O,Me,q,se,nt?Kn:l,!0).pipe((0,vn.U)(_t=>new Bn(m.concat(_t.segments),_t.children)))})):ap(t)}getChildConfig(e,t,r){return t.children?En(new _m(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?En(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,es.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,vn.U)(l=>(t._loadedConfig=l,l))):function Gb(n){return zh(cm(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):En(new _m([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?En(i.map(f=>{const m=e.get(f);let E;if(function f_(n){return n&&Uu(n.canLoad)}(m))E=m.canLoad(t,r);else{if(!Uu(m))throw new Error("Invalid CanLoad guard");E=m(t,r)}return Wl(E)})).pipe(Kl(),(0,Ao.b)(f=>{if(!Hu(f))return;const m=cm(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw m.url=f,m}),(0,vn.U)(f=>!0===f)):En(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return En(r);if(i.numberOfChildren>1||!i.children[Kn])return zh(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[Kn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const l=this.createSegmentGroup(e,t.root,r,i);return new ll(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Gi(e,(i,l)=>{if("string"==typeof i&&i.startsWith(":")){const m=i.substring(1);r[l]=t[m]}else r[l]=i}),r}createSegmentGroup(e,t,r,i){const l=this.createSegments(e,t.segments,r,i);let f={};return Gi(t.children,(m,E)=>{f[E]=this.createSegmentGroup(e,m,r,i)}),new Bn(l,f)}createSegments(e,t,r,i){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,i):this.findOrReturn(l,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function Am(n){const e={};for(const r of Object.keys(n.children)){const l=Am(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function $b(n){if(1===n.numberOfChildren&&n.children[Kn]){const e=n.children[Kn];return new Bn(n.segments.concat(e.segments),e.children)}return n}(new Bn(n.segments,e))}class A_{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class lp{constructor(e,t){this.component=e,this.route=t}}function qb(n,e,t){const r=n._root;return up(r,e?e._root:null,t,[r.value])}function w_(n,e,t){const r=function BD(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function up(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=Jc(e);return n.children.forEach(f=>{(function Kb(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,f=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(f&&l.routeConfig===f.routeConfig){const E=function UD(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Kc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Kc(n.url,e.url)||!$l(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!s_(n,e)||!$l(n.queryParams,e.queryParams);default:return!s_(n,e)}}(f,l,l.routeConfig.runGuardsAndResolvers);E?i.canActivateChecks.push(new A_(r)):(l.data=f.data,l._resolvedData=f._resolvedData),up(n,e,l.component?m?m.children:null:t,r,i),E&&m&&m.outlet&&m.outlet.isActivated&&i.canDeactivateChecks.push(new lp(m.outlet.component,f))}else f&&Vr(e,m,i),i.canActivateChecks.push(new A_(r)),up(n,null,l.component?m?m.children:null:t,r,i)})(f,l[f.value.outlet],t,r.concat([f.value]),i),delete l[f.value.outlet]}),Gi(l,(f,m)=>Vr(f,t.getContext(m),i)),i}function Vr(n,e,t){const r=Jc(n),i=n.value;Gi(r,(l,f)=>{Vr(l,i.component?e?e.children.getContext(f):null:e,t)}),t.canDeactivateChecks.push(new lp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class zD{}function eA(n){return new Vs.y(e=>e.error(n))}class $D{constructor(e,t,r,i,l,f){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=f}recognize(){const e=Af(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Kn);if(null===t)return null;const r=new mm([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Kn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ul(r,t),l=new t_(this.url,i);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=e_(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const f=t.children[l],m=sp(e,l),E=this.processSegmentGroup(m,f,l);if(null===E)return null;r.push(...E)}const i=wm(r);return function nA(n){n.sort((e,t)=>e.value.outlet===Kn?-1:t.value.outlet===Kn?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const l of e){const f=this.processSegmentAgainstRoute(l,t,r,i);if(null!==f)return f}return __(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!y_(e,t,r,i))return null;let l,f=[],m=[];if("**"===e.path){const J=r.length>0?Ky(r).parameters:{};l=new mm(r,J,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Sa(e),As(e),e.component,e,rA(t),D_(t)+r.length,Zo(e))}else{const J=op(t,e,r);if(!J.matched)return null;f=J.consumedSegments,m=J.remainingSegments,l=new mm(f,J.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Sa(e),As(e),e.component,e,rA(t),D_(t)+f.length,Zo(e))}const E=function Gx(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:C,slicedSegments:k}=Af(t,f,m,E.filter(J=>void 0===J.redirectTo),this.relativeLinkResolution);if(0===k.length&&C.hasChildren()){const J=this.processChildren(E,C);return null===J?null:[new ul(l,J)]}if(0===E.length&&0===k.length)return[new ul(l,[])];const O=As(e)===i,q=this.processSegment(E,C,k,O?Kn:i);return null===q?null:[new ul(l,q)]}}function C_(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function wm(n){const e=[],t=new Set;for(const r of n){if(!C_(r)){e.push(r);continue}const i=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=wm(r.children);e.push(new ul(r.value,i))}return e.filter(r=>!t.has(r))}function rA(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function D_(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Sa(n){return n.data||{}}function Zo(n){return n.resolve||{}}function oA(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function T_(n){return _s(e=>{const t=n(e);return t?(0,wr.D)(t).pipe((0,vn.U)(()=>e)):En(e)})}class ZD extends class cp{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Cm=new h.OlP("ROUTES");class aA{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,vn.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const f=l.create(e);return new _m(Zy(f.injector.get(Cm,void 0,h.XFs.Self|h.XFs.Optional)).map(g_),f)}),al(l=>{throw t._loader$=void 0,l}));return t._loader$=new qh(i,()=>new li.x).pipe(am()),t._loader$}loadModuleFactory(e){return Wl(e()).pipe((0,es.z)(t=>t instanceof h.YKP?En(t):(0,wr.D)(this.compiler.compileModuleAsync(t))))}}class uA{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Dm(n){throw n}function KD(n,e,t){return e.parse("/")}function I_(n,e){return En(null)}const cA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zi=(()=>{class n{constructor(t,r,i,l,f,m,E){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=l,this.config=E,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new li.x,this.errorHandler=Dm,this.malformedUriErrorHandler=KD,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:I_,afterPreactivation:I_},this.urlHandlingStrategy=new uA,this.routeReuseStrategy=new ZD,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(h.h0i),this.console=f.get(h.c2e);const O=f.get(h.R0b);this.isNgZoneEnabled=O instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(E),this.currentUrlTree=function Eb(){return new ll(new Bn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new aA(f,m,q=>this.triggerEvent(new hb(q)),q=>this.triggerEvent(new pb(q))),this.routerState=Xy(this.currentUrlTree,this.rootComponentType),this.transitions=new Aa({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(wa(i=>0!==i.id),(0,vn.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),_s(i=>{let l=!1,f=!1;return En(i).pipe((0,Ao.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),_s(m=>{const E=this.browserUrlTree.toString(),C=!this.navigated||m.extractedUrl.toString()!==E||E!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return M_(m.source)&&(this.browserUrlTree=m.extractedUrl),En(m).pipe(_s(O=>{const q=this.transitions.getValue();return r.next(new qy(O.id,this.serializeUrl(O.extractedUrl),O.source,O.restoredState)),q!==this.transitions.getValue()?Wh.E:Promise.resolve(O)}),function Wb(n,e,t,r){return _s(i=>function b_(n,e,t,r,i){return new zb(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,vn.U)(l=>Object.assign(Object.assign({},i),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ao.b)(O=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:O.urlAfterRedirects})}),function Ia(n,e,t,r,i){return(0,es.z)(l=>function tA(n,e,t,r,i="emptyOnly",l="legacy"){try{const f=new $D(n,e,t,r,i,l).recognize();return null===f?eA(new zD):En(f)}catch(f){return eA(f)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,i).pipe((0,vn.U)(f=>Object.assign(Object.assign({},l),{targetSnapshot:f}))))}(this.rootComponentType,this.config,O=>this.serializeUrl(O),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ao.b)(O=>{if("eager"===this.urlUpdateStrategy){if(!O.extras.skipLocationChange){const J=this.urlHandlingStrategy.merge(O.urlAfterRedirects,O.rawUrl);this.setBrowserUrl(J,O)}this.browserUrlTree=O.urlAfterRedirects}const q=new cb(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(O.urlAfterRedirects),O.targetSnapshot);r.next(q)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:q,extractedUrl:J,source:se,restoredState:Me,extras:nt}=m,at=new qy(q,this.serializeUrl(J),se,Me);r.next(at);const _t=Xy(J,this.rootComponentType).snapshot;return En(Object.assign(Object.assign({},m),{targetSnapshot:_t,urlAfterRedirects:J,extras:Object.assign(Object.assign({},nt),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),Wh.E}),T_(m=>{const{targetSnapshot:E,id:C,extractedUrl:k,rawUrl:O,extras:{skipLocationChange:q,replaceUrl:J}}=m;return this.hooks.beforePreactivation(E,{navigationId:C,appliedUrlTree:k,rawUrlTree:O,skipLocationChange:!!q,replaceUrl:!!J})}),(0,Ao.b)(m=>{const E=new db(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(E)}),(0,vn.U)(m=>Object.assign(Object.assign({},m),{guards:qb(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function Qb(n,e){return(0,es.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:l,canDeactivateChecks:f}}=t;return 0===f.length&&0===l.length?En(Object.assign(Object.assign({},t),{guardsResult:!0})):function HD(n,e,t,r){return(0,wr.D)(n).pipe((0,es.z)(i=>function Cf(n,e,t,r,i){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?En(l.map(m=>{const E=w_(m,e,i);let C;if(function FD(n){return n&&Uu(n.canDeactivate)}(E))C=Wl(E.canDeactivate(n,e,t,r));else{if(!Uu(E))throw new Error("Invalid CanDeactivate guard");C=Wl(E(n,e,t,r))}return C.pipe(qo())})).pipe(Kl()):En(!0)}(i.component,i.route,t,e,r)),qo(i=>!0!==i,!0))}(f,r,i,n).pipe((0,es.z)(m=>m&&function Lb(n){return"boolean"==typeof n}(m)?function jD(n,e,t,r){return(0,wr.D)(e).pipe(gf(i=>Wy(function GD(n,e){return null!==n&&e&&e(new gb(n)),En(!0)}(i.route.parent,r),function Yb(n,e){return null!==n&&e&&e(new mb(n)),En(!0)}(i.route,r),function Xb(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(f=>function Zb(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(f)).filter(f=>null!==f).map(f=>sb(()=>En(f.guards.map(E=>{const C=w_(E,f.node,t);let k;if(function h_(n){return n&&Uu(n.canActivateChild)}(C))k=Wl(C.canActivateChild(r,n));else{if(!Uu(C))throw new Error("Invalid CanActivateChild guard");k=Wl(C(r,n))}return k.pipe(qo())})).pipe(Kl())));return En(l).pipe(Kl())}(n,i.path,t),function Jb(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return En(!0);const i=r.map(l=>sb(()=>{const f=w_(l,e,t);let m;if(function Hx(n){return n&&Uu(n.canActivate)}(f))m=Wl(f.canActivate(e,n));else{if(!Uu(f))throw new Error("Invalid CanActivate guard");m=Wl(f(e,n))}return m.pipe(qo())}));return En(i).pipe(Kl())}(n,i.route,t))),qo(i=>!0!==i,!0))}(r,l,n,e):En(m)),(0,vn.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Ao.b)(m=>{if(Hu(m.guardsResult)){const C=cm(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw C.url=m.guardsResult,C}const E=new fb(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(E)}),wa(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),T_(m=>{if(m.guards.canActivateChecks.length)return En(m).pipe((0,Ao.b)(E=>{const C=new bD(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(C)}),_s(E=>{let C=!1;return En(E).pipe(function iA(n,e){return(0,es.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return En(t);let l=0;return(0,wr.D)(i).pipe(gf(f=>function sA(n,e,t,r){return function WD(n,e,t,r){const i=oA(n);if(0===i.length)return En({});const l={};return(0,wr.D)(i).pipe((0,es.z)(f=>function qD(n,e,t,r){const i=w_(n,e,r);return Wl(i.resolve?i.resolve(e,t):i(e,t))}(n[f],e,t,r).pipe((0,Ao.b)(m=>{l[f]=m}))),lm(1),(0,es.z)(()=>oA(l).length===i.length?En(l):Wh.E))}(n._resolve,n,e,r).pipe((0,vn.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),e_(n,t).resolve),null)))}(f.route,r,n,e)),(0,Ao.b)(()=>l++),lm(1),(0,es.z)(f=>l===i.length?En(t):Wh.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ao.b)({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(E),this.cancelNavigationTransition(E,"At least one route resolver didn't emit any value."))}}))}),(0,Ao.b)(E=>{const C=new AD(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(C)}))}),T_(m=>{const{targetSnapshot:E,id:C,extractedUrl:k,rawUrl:O,extras:{skipLocationChange:q,replaceUrl:J}}=m;return this.hooks.afterPreactivation(E,{navigationId:C,appliedUrlTree:k,rawUrlTree:O,skipLocationChange:!!q,replaceUrl:!!J})}),(0,vn.U)(m=>{const E=function Bx(n,e,t){const r=ep(n,e._root,t?t._root:void 0);return new Mb(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:E})}),(0,Ao.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,vn.U)(r=>(new PD(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Ao.b)({next(){l=!0},complete(){l=!0}}),function ED(n){return(0,Ks.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var m;l||f||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===i.id&&(this.currentNavigation=null)}),al(m=>{if(f=!0,function _b(n){return n&&n[yb]}(m)){const E=Hu(m.url);E||(this.navigated=!0,this.restoreHistory(i,!0));const C=new um(i.id,this.serializeUrl(i.extractedUrl),m.message);r.next(C),E?setTimeout(()=>{const k=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),O={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||M_(i.source)};this.scheduleNavigation(k,"imperative",null,O,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const E=new ub(i.id,this.serializeUrl(i.extractedUrl),m);r.next(E);try{i.resolve(this.errorHandler(m))}catch(C){i.reject(C)}}return Wh.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const l={replaceUrl:!0},f=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(f){const E=Object.assign({},f);delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(l.state=E)}const m=this.parseUrl(t.url);this.scheduleNavigation(m,r,f,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ip(t),this.config=t.map(g_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:l,fragment:f,queryParamsHandling:m,preserveFragment:E}=r,C=i||this.routerState.root,k=E?this.currentUrlTree.fragment:f;let O=null;switch(m){case"merge":O=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=l||null}return null!==O&&(O=this.removeEmptyProps(O)),function RD(n,e,t,r,i){if(0===t.length)return xb(e.root,e.root,e.root,r,i);const l=function Ux(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new u_(!0,0,n);let e=0,t=!1;const r=n.reduce((i,l,f)=>{if("object"==typeof l&&null!=l){if(l.outlets){const m={};return Gi(l.outlets,(E,C)=>{m[C]="string"==typeof E?E.split("/"):E}),[...i,{outlets:m}]}if(l.segmentPath)return[...i,l.segmentPath]}return"string"!=typeof l?[...i,l]:0===f?(l.split("/").forEach((m,E)=>{0==E&&"."===m||(0==E&&""===m?t=!0:".."===m?e++:""!=m&&i.push(m))}),i):[...i,l]},[]);return new u_(t,e,r)}(t);if(l.toRoot())return xb(e.root,e.root,new Bn([],{}),r,i);const f=function bf(n,e,t){if(n.isAbsolute)return new c_(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new c_(l,l===e.root,0)}const r=l_(n.commands[0])?0:1;return function ND(n,e,t){let r=n,i=e,l=t;for(;l>i;){if(l-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new c_(r,!1,i-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),m=f.processChildren?tp(f.segmentGroup,f.index,l.commands):kb(f.segmentGroup,f.index,l.commands);return xb(e.root,f.segmentGroup,m,r,i)}(C,this.currentUrlTree,t,O,null!=k?k:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Hu(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function fA(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},cA):!1===r?Object.assign({},dA):r,Hu(t))return dm(this.currentUrlTree,t,i);const l=this.parseUrl(t);return dm(this.currentUrlTree,l,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const l=t[i];return null!=l&&(r[i]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Es(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,l,f){var m,E;if(this.disposed)return Promise.resolve(!1);let C,k,O;f?(C=f.resolve,k=f.reject,O=f.promise):O=new Promise((se,Me)=>{C=se,k=Me});const q=++this.navigationId;let J;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),J=i&&i.\u0275routerPageId?i.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(E=this.browserPageId)&&void 0!==E?E:0)+1):J=0,this.setTransition({id:q,targetPageId:J,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:C,reject:k,promise:O,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),O.catch(se=>Promise.reject(se))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",l):this.location.go(i,"",l)}restoreHistory(t,r=!1){var i,l;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===f?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===f&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new um(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function M_(n){return"imperative"!==n}class x_{}class gA{preload(e,t){return En(null)}}let mA=(()=>{class n{constructor(t,r,i,l){this.router=t,this.injector=i,this.preloadingStrategy=l,this.loader=new aA(i,r,E=>t.triggerEvent(new hb(E)),E=>t.triggerEvent(new pb(E)))}setUpPreloading(){this.subscription=this.router.events.pipe(wa(t=>t instanceof Es),gf(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(h.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const f=l._loadedConfig;i.push(this.processRoutes(f.module,f.routes))}else l.loadChildren&&!l.canLoad?i.push(this.preloadConfig(t,l)):l.children&&i.push(this.processRoutes(t,l.children));return(0,wr.D)(i).pipe((0,Wo.J)(),(0,vn.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?En(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,es.z)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(zi),h.LFG(h.Sil),h.LFG(h.zs3),h.LFG(x_))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),R_=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof qy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Es&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof vb&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new vb(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const td=new h.OlP("ROUTER_CONFIGURATION"),vA=new h.OlP("ROUTER_FORROOT_GUARD"),YD=[Ye,{provide:hm,useClass:Da},{provide:zi,useFactory:function nT(n,e,t,r,i,l,f={},m,E){const C=new zi(null,n,e,t,r,i,Zy(l));return m&&(C.urlHandlingStrategy=m),E&&(C.routeReuseStrategy=E),function rT(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(f,C),f.enableTracing&&C.events.subscribe(k=>{var O,q;null===(O=console.group)||void 0===O||O.call(console,`Router Event: ${k.constructor.name}`),console.log(k.toString()),console.log(k),null===(q=console.groupEnd)||void 0===q||q.call(console)}),C},deps:[hm,Xc,Ye,h.zs3,h.Sil,Cm,td,[class lA{},new h.FiY],[class S_{},new h.FiY]]},Xc,{provide:Ef,useFactory:function iT(n){return n.routerState.root},deps:[zi]},mA,gA,class QD{preload(e,t){return t().pipe(al(()=>En(null)))}},{provide:td,useValue:{enableTracing:!1}}];function JD(){return new h.PXZ("Router",zi)}let yA=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[YD,_A(t),{provide:vA,useFactory:tT,deps:[[zi,new h.FiY,new h.tp0]]},{provide:td,useValue:r||{}},{provide:ce,useFactory:eT,deps:[xe,[new h.tBr(je),new h.FiY],td]},{provide:R_,useFactory:XD,deps:[zi,oa,td]},{provide:x_,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:gA},{provide:h.PXZ,multi:!0,useFactory:JD},[N_,{provide:h.ip1,multi:!0,useFactory:EA,deps:[N_]},{provide:k_,useFactory:bA,deps:[N_]},{provide:h.tb,multi:!0,useExisting:k_}]]}}static forChild(t){return{ngModule:n,providers:[_A(t)]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(vA,8),h.LFG(zi,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function XD(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new R_(n,e,t)}function eT(n,e,t={}){return t.useHash?new qe(n,e):new Qe(n,e)}function tT(n){return"guarded"}function _A(n){return[{provide:h.deG,multi:!0,useValue:n},{provide:Cm,multi:!0,useValue:n}]}let N_=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new li.x}appInitializer(){return this.injector.get(X,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(m=>r=m),l=this.injector.get(zi),f=this.injector.get(td);return"disabled"===f.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?En(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(td),i=this.injector.get(mA),l=this.injector.get(R_),f=this.injector.get(zi),m=this.injector.get(h.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&f.initialNavigation(),i.setUpPreloading(),l.init(),f.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function EA(n){return n.appInitializer.bind(n)}function bA(n){return n.bootstrapListener.bind(n)}const k_=new h.OlP("Router Initializer");var ne=$(9356),Wt=$(655),wA=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.headerElRef=(0,ne.createRef)(),t}return(0,Wt.__extends)(e,n),e.prototype.renderSimpleLayout=function(t,r){var l=this.props,f=this.context,m=[],E=(0,ne.getStickyHeaderDates)(f.options);return t&&m.push({type:"header",key:"header",isSticky:E,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}}),m.push({type:"body",key:"body",liquid:!0,chunk:{content:r}}),(0,ne.createElement)(ne.ViewRoot,{viewSpec:f.viewSpec},function(C,k){return(0,ne.createElement)("div",{ref:C,className:["fc-daygrid"].concat(k).join(" ")},(0,ne.createElement)(ne.SimpleScrollGrid,{liquid:!l.isHeightAuto&&!l.forPrint,collapsibleWidth:l.forPrint,cols:[],sections:m}))})},e.prototype.renderHScrollLayout=function(t,r,i,l){var f=this.context.pluginHooks.scrollGridImpl;if(!f)throw new Error("No ScrollGrid implementation");var E=this.props,C=this.context,k=!E.forPrint&&(0,ne.getStickyHeaderDates)(C.options),O=!E.forPrint&&(0,ne.getStickyFooterScrollbar)(C.options),q=[];return t&&q.push({type:"header",key:"header",isSticky:k,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}]}),q.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:r}]}),O&&q.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:ne.renderScrollShim}]}),(0,ne.createElement)(ne.ViewRoot,{viewSpec:C.viewSpec},function(J,se){return(0,ne.createElement)("div",{ref:J,className:["fc-daygrid"].concat(se).join(" ")},(0,ne.createElement)(f,{liquid:!E.isHeightAuto&&!E.forPrint,collapsibleWidth:E.forPrint,colGroups:[{cols:[{span:i,minWidth:l}]}],sections:q}))})},e}(ne.DateComponent);function dp(n,e){for(var t=[],r=0;r<e;r+=1)t[r]=[];for(var i=0,l=n;i<l.length;i++){var f=l[i];t[f.row].push(f)}return t}function fp(n,e){for(var t=[],r=0;r<e;r+=1)t[r]=[];for(var i=0,l=n;i<l.length;i++){var f=l[i];t[f.firstCol].push(f)}return t}function Im(n,e){var t=[];if(n){for(var r=0;r<e;r+=1)t[r]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(var i=0,l=n.segs;i<l.length;i++){var f=l[i];t[f.row].segs.push(f)}}else for(r=0;r<e;r+=1)t[r]=null;return t}var nd=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,Wt.__extends)(e,n),e.prototype.render=function(){var t=this.props,r=(0,ne.buildNavLinkAttrs)(this.context,t.date);return(0,ne.createElement)(ne.DayCellContent,{date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,showDayNumber:t.showDayNumber,extraHookProps:t.extraHookProps,defaultContent:oT},function(i,l){return(l||t.forceDayTop)&&(0,ne.createElement)("div",{className:"fc-daygrid-day-top",ref:i},(0,ne.createElement)("a",(0,Wt.__assign)({id:t.dayNumberId,className:"fc-daygrid-day-number"},r),l||(0,ne.createElement)(ne.Fragment,null,"\xa0")))})},e}(ne.BaseComponent);function oT(n){return n.dayNumberText}var CA=(0,ne.createFormatter)({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function rd(n){var e=n.eventRange.ui.display;return"list-item"===e||"auto"===e&&!n.eventRange.def.allDay&&n.firstCol===n.lastCol&&n.isStart&&n.isEnd}var aT=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,Wt.__extends)(e,n),e.prototype.render=function(){var t=this.props;return(0,ne.createElement)(ne.StandardEvent,(0,Wt.__assign)({},t,{extraClassNames:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:CA,defaultDisplayEventEnd:t.defaultDisplayEventEnd,disableResizing:!t.seg.eventRange.def.allDay}))},e}(ne.BaseComponent),Mm=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,Wt.__extends)(e,n),e.prototype.render=function(){var r=this.props,i=this.context,f=(0,ne.buildSegTimeText)(r.seg,i.options.eventTimeFormat||CA,i,!0,r.defaultDisplayEventEnd);return(0,ne.createElement)(ne.EventRoot,{seg:r.seg,timeText:f,defaultContent:$x,isDragging:r.isDragging,isResizing:!1,isDateSelecting:!1,isSelected:r.isSelected,isPast:r.isPast,isFuture:r.isFuture,isToday:r.isToday},function(m,E,C,k){return(0,ne.createElement)("a",(0,Wt.__assign)({className:["fc-daygrid-event","fc-daygrid-dot-event"].concat(E).join(" "),ref:m},(0,ne.getSegAnchorAttrs)(r.seg,i)),k)})},e}(ne.BaseComponent);function $x(n){return(0,ne.createElement)(ne.Fragment,null,(0,ne.createElement)("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&(0,ne.createElement)("div",{className:"fc-event-time"},n.timeText),(0,ne.createElement)("div",{className:"fc-event-title"},n.event.title||(0,ne.createElement)(ne.Fragment,null,"\xa0")))}var DA=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.compileSegs=(0,ne.memoize)(TA),t}return(0,Wt.__extends)(e,n),e.prototype.render=function(){var t=this.props,r=this.compileSegs(t.singlePlacements),i=r.allSegs;return(0,ne.createElement)(ne.MoreLinkRoot,{dateProfile:t.dateProfile,todayRange:t.todayRange,allDayDate:t.allDayDate,moreCnt:t.moreCnt,allSegs:i,hiddenSegs:r.invisibleSegs,alignmentElRef:t.alignmentElRef,alignGridTop:t.alignGridTop,extraDateSpan:t.extraDateSpan,popoverContent:function(){var f=(t.eventDrag?t.eventDrag.affectedInstances:null)||(t.eventResize?t.eventResize.affectedInstances:null)||{};return(0,ne.createElement)(ne.Fragment,null,i.map(function(m){var E=m.eventRange.instance.instanceId;return(0,ne.createElement)("div",{className:"fc-daygrid-event-harness",key:E,style:{visibility:f[E]?"hidden":""}},rd(m)?(0,ne.createElement)(Mm,(0,Wt.__assign)({seg:m,isDragging:!1,isSelected:E===t.eventSelection,defaultDisplayEventEnd:!1},(0,ne.getSegMeta)(m,t.todayRange))):(0,ne.createElement)(aT,(0,Wt.__assign)({seg:m,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:E===t.eventSelection,defaultDisplayEventEnd:!1},(0,ne.getSegMeta)(m,t.todayRange))))}))}},function(f,m,E,C,k,O,q,J){return(0,ne.createElement)("a",(0,Wt.__assign)({ref:f,className:["fc-daygrid-more-link"].concat(m).join(" "),title:O,"aria-expanded":q,"aria-controls":J},(0,ne.createAriaClickAttrs)(k)),C)})},e}(ne.BaseComponent);function TA(n){for(var e=[],t=[],r=0,i=n;r<i.length;r++){var l=i[r];e.push(l.seg),l.isVisible||t.push(l.seg)}return{allSegs:e,invisibleSegs:t}}var Wx=(0,ne.createFormatter)({week:"narrow"}),gn=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.rootElRef=(0,ne.createRef)(),t.state={dayNumberId:(0,ne.getUniqueDomId)()},t.handleRootEl=function(r){(0,ne.setRef)(t.rootElRef,r),(0,ne.setRef)(t.props.elRef,r)},t}return(0,Wt.__extends)(e,n),e.prototype.render=function(){var t=this,i=t.props,l=t.state,f=t.rootElRef,m=i.date,E=i.dateProfile,C=(0,ne.buildNavLinkAttrs)(t.context,m,"week");return(0,ne.createElement)(ne.DayCellRoot,{date:m,dateProfile:E,todayRange:i.todayRange,showDayNumber:i.showDayNumber,extraHookProps:i.extraHookProps,elRef:this.handleRootEl},function(k,O,q,J){return(0,ne.createElement)("td",(0,Wt.__assign)({ref:k,role:"gridcell",className:["fc-daygrid-day"].concat(O,i.extraClassNames||[]).join(" ")},q,i.extraDataAttrs,i.showDayNumber?{"aria-labelledby":l.dayNumberId}:{}),(0,ne.createElement)("div",{className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",ref:i.innerElRef},i.showWeekNumber&&(0,ne.createElement)(ne.WeekNumberRoot,{date:m,defaultFormat:Wx},function(se,Me,nt,at){return(0,ne.createElement)("a",(0,Wt.__assign)({ref:se,className:["fc-daygrid-week-number"].concat(Me).join(" ")},C),at)}),!J&&(0,ne.createElement)(nd,{date:m,dateProfile:E,showDayNumber:i.showDayNumber,dayNumberId:l.dayNumberId,forceDayTop:i.forceDayTop,todayRange:i.todayRange,extraHookProps:i.extraHookProps}),(0,ne.createElement)("div",{className:"fc-daygrid-day-events",ref:i.fgContentElRef},i.fgContent,(0,ne.createElement)("div",{className:"fc-daygrid-day-bottom",style:{marginTop:i.moreMarginTop}},(0,ne.createElement)(DA,{allDayDate:m,singlePlacements:i.singlePlacements,moreCnt:i.moreCnt,alignmentElRef:f,alignGridTop:!i.showDayNumber,extraDateSpan:i.extraDateSpan,dateProfile:i.dateProfile,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,todayRange:i.todayRange}))),(0,ne.createElement)("div",{className:"fc-daygrid-day-bg"},i.bgContent)))})},e}(ne.DateComponent);function Yl(n,e,t,r){if(n.firstCol===e&&n.lastCol===t-1)return n;var i=n.eventRange,l=i.range,f=(0,ne.intersectRanges)(l,{start:r[e].date,end:(0,ne.addDays)(r[t-1].date,1)});return(0,Wt.__assign)((0,Wt.__assign)({},n),{firstCol:e,lastCol:t-1,eventRange:{def:i.def,ui:(0,Wt.__assign)((0,Wt.__assign)({},i.ui),{durationEditable:!1}),instance:i.instance,range:f},isStart:n.isStart&&f.start.valueOf()===l.start.valueOf(),isEnd:n.isEnd&&f.end.valueOf()===l.end.valueOf()})}var dT=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.hiddenConsumes=!1,t.forceHidden={},t}return(0,Wt.__extends)(e,n),e.prototype.addSegs=function(t){for(var r=this,i=n.prototype.addSegs.call(this,t),l=this.entriesByLevel,f=function(E){return!r.forceHidden[(0,ne.buildEntryKey)(E)]},m=0;m<l.length;m+=1)l[m]=l[m].filter(f);return i},e.prototype.handleInvalidInsertion=function(t,r,i){var f=this.entriesByLevel,m=this.forceHidden,E=t.touchingEntry,C=t.touchingLevel,k=t.touchingLateral;if(this.hiddenConsumes&&E){var O=(0,ne.buildEntryKey)(E);if(!m[O])if(this.allowReslicing){var q=(0,Wt.__assign)((0,Wt.__assign)({},E),{span:(0,ne.intersectSpans)(E.span,r.span)});m[(0,ne.buildEntryKey)(q)]=!0,f[C][k]=q,this.splitEntry(E,r,i)}else m[O]=!0,i.push(E)}return n.prototype.handleInvalidInsertion.call(this,t,r,i)},e}(ne.SegHierarchy),hp=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.cellElRefs=new ne.RefMap,t.frameElRefs=new ne.RefMap,t.fgElRefs=new ne.RefMap,t.segHarnessRefs=new ne.RefMap,t.rootElRef=(0,ne.createRef)(),t.state={framePositions:null,maxContentHeight:null,eventInstanceHeights:{}},t}return(0,Wt.__extends)(e,n),e.prototype.render=function(){var t=this,r=this,i=r.props,l=r.state,m=r.context.options,E=i.cells.length,C=fp(i.businessHourSegs,E),k=fp(i.bgEventSegs,E),O=fp(this.getHighlightSegs(),E),q=fp(this.getMirrorSegs(),E),J=function lT(n,e,t,r,i,l,f){var m=new dT;m.allowReslicing=!0,m.strictOrder=r,!0===e||!0===t?(m.maxCoord=l,m.hiddenConsumes=!0):"number"==typeof e?m.maxStackCnt=e:"number"==typeof t&&(m.maxStackCnt=t,m.hiddenConsumes=!0);for(var E=[],C=[],k=0;k<n.length;k+=1){var J=i[(O=n[k]).eventRange.instance.instanceId];null!=J?E.push({index:k,thickness:J,span:{start:O.firstCol,end:O.lastCol+1}}):C.push(O)}for(var se=m.addSegs(E),nt=function uT(n,e,t){for(var r=function cT(n,e){for(var t=[],r=0;r<e;r+=1)t.push([]);for(var i=0,l=n;i<l.length;i++){var f=l[i];for(r=f.span.start;r<f.span.end;r+=1)t[r].push(f)}return t}(n,t.length),i=[],l=[],f=[],m=0;m<t.length;m+=1){for(var E=r[m],C=[],k=0,O=0,q=0,J=E;q<J.length;q++)C.push({seg:Yl(Me=e[(se=J[q]).index],m,m+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:se.levelCoord,marginTop:se.levelCoord-k}),k=se.levelCoord+se.thickness;var nt=[];k=0,O=0;for(var at=0,_t=E;at<_t.length;at++){var se,Me=e[(se=_t[at]).index],Ct=se.span.start===m;O+=se.levelCoord-k,k=se.levelCoord+se.thickness,se.span.end-se.span.start>1?(O+=se.thickness,Ct&&nt.push({seg:Yl(Me,se.span.start,se.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:se.levelCoord,marginTop:0})):Ct&&(nt.push({seg:Yl(Me,se.span.start,se.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:se.levelCoord,marginTop:O}),O=0)}i.push(C),l.push(nt),f.push(O)}return{singleColPlacements:i,multiColPlacements:l,leftoverMargins:f}}(m.toRects(),n,f),at=nt.singleColPlacements,_t=nt.multiColPlacements,Rt=nt.leftoverMargins,Ct=[],pn=[],hn=0,Un=C;hn<Un.length;hn++){_t[(O=Un[hn]).firstCol].push({seg:O,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(var jn=O.firstCol;jn<=O.lastCol;jn+=1)at[jn].push({seg:Yl(O,jn,jn+1,f),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(jn=0;jn<f.length;jn+=1)Ct.push(0);for(var Io=0,Mo=se;Io<Mo.length;Io++){var O,cg=Mo[Io],Jo=cg.span;for(_t[Jo.start].push({seg:Yl(O=n[cg.index],Jo.start,Jo.end,f),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0}),jn=Jo.start;jn<Jo.end;jn+=1)Ct[jn]+=1,at[jn].push({seg:Yl(O,jn,jn+1,f),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(jn=0;jn<f.length;jn+=1)pn.push(Rt[jn]);return{singleColPlacements:at,multiColPlacements:_t,moreCnts:Ct,moreMarginTops:pn}}((0,ne.sortEventSegs)(i.fgEventSegs,m.eventOrder),i.dayMaxEvents,i.dayMaxEventRows,m.eventOrderStrict,l.eventInstanceHeights,l.maxContentHeight,i.cells),se=J.singleColPlacements,Me=J.multiColPlacements,nt=J.moreCnts,at=J.moreMarginTops,_t=i.eventDrag&&i.eventDrag.affectedInstances||i.eventResize&&i.eventResize.affectedInstances||{};return(0,ne.createElement)("tr",{ref:this.rootElRef,role:"row"},i.renderIntro&&i.renderIntro(),i.cells.map(function(Rt,Ct){var pn=t.renderFgSegs(Ct,i.forPrint?se[Ct]:Me[Ct],i.todayRange,_t),hn=t.renderFgSegs(Ct,function xm(n,e){if(!n.length)return[];var t=function Gr(n){for(var e={},t=0,r=n;t<r.length;t++)for(var l=0,f=r[t];l<f.length;l++){var m=f[l];e[m.seg.eventRange.instance.instanceId]=m.absoluteTop}return e}(e);return n.map(function(r){return{seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:t[r.eventRange.instance.instanceId],marginTop:0}})}(q[Ct],Me),i.todayRange,{},Boolean(i.eventDrag),Boolean(i.eventResize),!1);return(0,ne.createElement)(gn,{key:Rt.key,elRef:t.cellElRefs.createRef(Rt.key),innerElRef:t.frameElRefs.createRef(Rt.key),dateProfile:i.dateProfile,date:Rt.date,showDayNumber:i.showDayNumbers,showWeekNumber:i.showWeekNumbers&&0===Ct,forceDayTop:i.showWeekNumbers,todayRange:i.todayRange,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,extraHookProps:Rt.extraHookProps,extraDataAttrs:Rt.extraDataAttrs,extraClassNames:Rt.extraClassNames,extraDateSpan:Rt.extraDateSpan,moreCnt:nt[Ct],moreMarginTop:at[Ct],singlePlacements:se[Ct],fgContentElRef:t.fgElRefs.createRef(Rt.key),fgContent:(0,ne.createElement)(ne.Fragment,null,(0,ne.createElement)(ne.Fragment,null,pn),(0,ne.createElement)(ne.Fragment,null,hn)),bgContent:(0,ne.createElement)(ne.Fragment,null,t.renderFillSegs(O[Ct],"highlight"),t.renderFillSegs(C[Ct],"non-business"),t.renderFillSegs(k[Ct],"bg-event"))})}))},e.prototype.componentDidMount=function(){this.updateSizing(!0)},e.prototype.componentDidUpdate=function(t,r){this.updateSizing(!(0,ne.isPropsEqual)(t,this.props))},e.prototype.getHighlightSegs=function(){var t=this.props;return t.eventDrag&&t.eventDrag.segs.length?t.eventDrag.segs:t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:t.dateSelectionSegs},e.prototype.getMirrorSegs=function(){var t=this.props;return t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:[]},e.prototype.renderFgSegs=function(t,r,i,l,f,m,E){var C=this.context,k=this.props.eventSelection,O=this.state.framePositions,q=1===this.props.cells.length,J=f||m||E,se=[];if(O)for(var Me=0,nt=r;Me<nt.length;Me++){var at=nt[Me],_t=at.seg,Rt=_t.eventRange.instance.instanceId,Ct=Rt+":"+t,pn=at.isVisible&&!l[Rt],hn=at.isAbsolute,Un="",jn="";hn&&(C.isRtl?(jn=0,Un=O.lefts[_t.lastCol]-O.lefts[_t.firstCol]):(Un=0,jn=O.rights[_t.firstCol]-O.rights[_t.lastCol])),se.push((0,ne.createElement)("div",{className:"fc-daygrid-event-harness"+(hn?" fc-daygrid-event-harness-abs":""),key:Ct,ref:J?null:this.segHarnessRefs.createRef(Ct),style:{visibility:pn?"":"hidden",marginTop:hn?"":at.marginTop,top:hn?at.absoluteTop:"",left:Un,right:jn}},rd(_t)?(0,ne.createElement)(Mm,(0,Wt.__assign)({seg:_t,isDragging:f,isSelected:Rt===k,defaultDisplayEventEnd:q},(0,ne.getSegMeta)(_t,i))):(0,ne.createElement)(aT,(0,Wt.__assign)({seg:_t,isDragging:f,isResizing:m,isDateSelecting:E,isSelected:Rt===k,defaultDisplayEventEnd:q},(0,ne.getSegMeta)(_t,i)))))}return se},e.prototype.renderFillSegs=function(t,r){var i=this.context.isRtl,l=this.props.todayRange,f=this.state.framePositions,m=[];if(f)for(var E=0,C=t;E<C.length;E++){var k=C[E],O=i?{right:0,left:f.lefts[k.lastCol]-f.lefts[k.firstCol]}:{left:0,right:f.rights[k.firstCol]-f.rights[k.lastCol]};m.push((0,ne.createElement)("div",{key:(0,ne.buildEventRangeKey)(k.eventRange),className:"fc-daygrid-bg-harness",style:O},"bg-event"===r?(0,ne.createElement)(ne.BgEvent,(0,Wt.__assign)({seg:k},(0,ne.getSegMeta)(k,l))):(0,ne.renderFill)(r)))}return ne.createElement.apply(void 0,(0,Wt.__spreadArray)([ne.Fragment,{}],m))},e.prototype.updateSizing=function(t){var i=this.props,l=this.frameElRefs;if(!i.forPrint&&null!==i.clientWidth){if(t){var f=i.cells.map(function(O){return l.currentMap[O.key]});f.length&&this.setState({framePositions:new ne.PositionCache(this.rootElRef.current,f,!0,!1)})}var E=this.state.eventInstanceHeights,C=this.queryEventInstanceHeights(),k=!0===i.dayMaxEvents||!0===i.dayMaxEventRows;this.setState({eventInstanceHeights:(0,Wt.__assign)((0,Wt.__assign)({},E),C),maxContentHeight:k?this.computeMaxContentHeight():null})}},e.prototype.queryEventInstanceHeights=function(){var t=this.segHarnessRefs.currentMap,r={};for(var i in t){var l=Math.round(t[i].getBoundingClientRect().height),f=i.split(":")[0];r[f]=Math.max(r[f]||0,l)}return r},e.prototype.computeMaxContentHeight=function(){var t=this.props.cells[0].key,i=this.fgElRefs.currentMap[t];return this.cellElRefs.currentMap[t].getBoundingClientRect().bottom-i.getBoundingClientRect().top},e.prototype.getCellEls=function(){var t=this.cellElRefs.currentMap;return this.props.cells.map(function(r){return t[r.key]})},e}(ne.DateComponent);hp.addStateEquality({eventInstanceHeights:ne.isPropsEqual});var qx=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.splitBusinessHourSegs=(0,ne.memoize)(dp),t.splitBgEventSegs=(0,ne.memoize)(dp),t.splitFgEventSegs=(0,ne.memoize)(dp),t.splitDateSelectionSegs=(0,ne.memoize)(dp),t.splitEventDrag=(0,ne.memoize)(Im),t.splitEventResize=(0,ne.memoize)(Im),t.rowRefs=new ne.RefMap,t.handleRootEl=function(r){t.rootEl=r,r?t.context.registerInteractiveComponent(t,{el:r,isHitComboAllowed:t.props.isHitComboAllowed}):t.context.unregisterInteractiveComponent(t)},t}return(0,Wt.__extends)(e,n),e.prototype.render=function(){var t=this,r=this.props,i=r.dateProfile,l=r.dayMaxEventRows,f=r.dayMaxEvents,m=r.expandRows,E=r.cells.length,C=this.splitBusinessHourSegs(r.businessHourSegs,E),k=this.splitBgEventSegs(r.bgEventSegs,E),O=this.splitFgEventSegs(r.fgEventSegs,E),q=this.splitDateSelectionSegs(r.dateSelectionSegs,E),J=this.splitEventDrag(r.eventDrag,E),se=this.splitEventResize(r.eventResize,E),Me=!0===f||!0===l;return Me&&!m&&(Me=!1,l=null,f=null),(0,ne.createElement)("div",{className:["fc-daygrid-body",Me?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",m?"":"fc-daygrid-body-natural"].join(" "),ref:this.handleRootEl,style:{width:r.clientWidth,minWidth:r.tableMinWidth}},(0,ne.createElement)(ne.NowTimer,{unit:"day"},function(at,_t){return(0,ne.createElement)(ne.Fragment,null,(0,ne.createElement)("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:r.clientWidth,minWidth:r.tableMinWidth,height:m?r.clientHeight:""}},r.colGroupNode,(0,ne.createElement)("tbody",{role:"presentation"},r.cells.map(function(Rt,Ct){return(0,ne.createElement)(hp,{ref:t.rowRefs.createRef(Ct),key:Rt.length?Rt[0].date.toISOString():Ct,showDayNumbers:E>1,showWeekNumbers:r.showWeekNumbers,todayRange:_t,dateProfile:i,cells:Rt,renderIntro:r.renderRowIntro,businessHourSegs:C[Ct],eventSelection:r.eventSelection,bgEventSegs:k[Ct].filter(SA),fgEventSegs:O[Ct],dateSelectionSegs:q[Ct],eventDrag:J[Ct],eventResize:se[Ct],dayMaxEvents:f,dayMaxEventRows:l,clientWidth:r.clientWidth,clientHeight:r.clientHeight,forPrint:r.forPrint})}))))}))},e.prototype.prepareHits=function(){this.rowPositions=new ne.PositionCache(this.rootEl,this.rowRefs.collect().map(function(t){return t.getCellEls()[0]}),!1,!0),this.colPositions=new ne.PositionCache(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)},e.prototype.queryHit=function(t,r){var l=this.colPositions,f=this.rowPositions,m=l.leftToIndex(t),E=f.topToIndex(r);if(null!=E&&null!=m){var C=this.props.cells[E][m];return{dateProfile:this.props.dateProfile,dateSpan:(0,Wt.__assign)({range:this.getCellRange(E,m),allDay:!0},C.extraDateSpan),dayEl:this.getCellEl(E,m),rect:{left:l.lefts[m],right:l.rights[m],top:f.tops[E],bottom:f.bottoms[E]},layer:0}}return null},e.prototype.getCellEl=function(t,r){return this.rowRefs.currentMap[t].getCellEls()[r]},e.prototype.getCellRange=function(t,r){var i=this.props.cells[t][r].date;return{start:i,end:(0,ne.addDays)(i,1)}},e}(ne.DateComponent);function SA(n){return n.eventRange.def.allDay}var fT=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.forceDayIfListItem=!0,t}return(0,Wt.__extends)(e,n),e.prototype.sliceRange=function(t,r){return r.sliceRange(t)},e}(ne.Slicer),hT=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.slicer=new fT,t.tableRef=(0,ne.createRef)(),t}return(0,Wt.__extends)(e,n),e.prototype.render=function(){var r=this.props;return(0,ne.createElement)(qx,(0,Wt.__assign)({ref:this.tableRef},this.slicer.sliceProps(r,r.dateProfile,r.nextDayThreshold,this.context,r.dayTableModel),{dateProfile:r.dateProfile,cells:r.dayTableModel.cells,colGroupNode:r.colGroupNode,tableMinWidth:r.tableMinWidth,renderRowIntro:r.renderRowIntro,dayMaxEvents:r.dayMaxEvents,dayMaxEventRows:r.dayMaxEventRows,showWeekNumbers:r.showWeekNumbers,expandRows:r.expandRows,headerAlignElRef:r.headerAlignElRef,clientWidth:r.clientWidth,clientHeight:r.clientHeight,forPrint:r.forPrint}))},e}(ne.DateComponent),IA=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.buildDayTableModel=(0,ne.memoize)(MA),t.headerRef=(0,ne.createRef)(),t.tableRef=(0,ne.createRef)(),t}return(0,Wt.__extends)(e,n),e.prototype.render=function(){var t=this,r=this.context,i=r.options,f=this.props,m=this.buildDayTableModel(f.dateProfile,r.dateProfileGenerator),E=i.dayHeaders&&(0,ne.createElement)(ne.DayHeader,{ref:this.headerRef,dateProfile:f.dateProfile,dates:m.headerDates,datesRepDistinctDays:1===m.rowCnt}),C=function(k){return(0,ne.createElement)(hT,{ref:t.tableRef,dateProfile:f.dateProfile,dayTableModel:m,businessHours:f.businessHours,dateSelection:f.dateSelection,eventStore:f.eventStore,eventUiBases:f.eventUiBases,eventSelection:f.eventSelection,eventDrag:f.eventDrag,eventResize:f.eventResize,nextDayThreshold:i.nextDayThreshold,colGroupNode:k.tableColGroupNode,tableMinWidth:k.tableMinWidth,dayMaxEvents:i.dayMaxEvents,dayMaxEventRows:i.dayMaxEventRows,showWeekNumbers:i.weekNumbers,expandRows:!f.isHeightAuto,headerAlignElRef:t.headerElRef,clientWidth:k.clientWidth,clientHeight:k.clientHeight,forPrint:f.forPrint})};return i.dayMinWidth?this.renderHScrollLayout(E,C,m.colCnt,i.dayMinWidth):this.renderSimpleLayout(E,C)},e}(wA);function MA(n,e){var t=new ne.DaySeriesModel(n.renderRange,e);return new ne.DayTableModel(t,/year|month|week/.test(n.currentRangeUnit))}var xA=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,Wt.__extends)(e,n),e.prototype.buildRenderRange=function(t,r,i){var C,l=this.props.dateEnv,f=n.prototype.buildRenderRange.call(this,t,r,i),m=f.start,E=f.end;if(/^(year|month)$/.test(r)&&(m=l.startOfWeek(m),(C=l.startOfWeek(E)).valueOf()!==E.valueOf()&&(E=(0,ne.addWeeks)(C,1))),this.props.monthMode&&this.props.fixedWeekCount){var k=Math.ceil((0,ne.diffWeeks)(m,E));E=(0,ne.addWeeks)(E,6-k)}return{start:m,end:E}},e}(ne.DateProfileGenerator);const NA=(0,ne.createPlugin)({initialView:"dayGridMonth",views:{dayGrid:{component:IA,dateProfileGeneratorClass:xA},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}});ne.config.touchMouseIgnoreWait=500;var P_=0,Rm=0,id=!1,O_=function(){function n(e){var t=this;this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=function(r){if(!t.shouldIgnoreMouse()&&function pT(n){return 0===n.button&&!n.ctrlKey}(r)&&t.tryStart(r)){var i=t.createEventFromMouse(r,!0);t.emitter.trigger("pointerdown",i),t.initScrollWatch(i),t.shouldIgnoreMove||document.addEventListener("mousemove",t.handleMouseMove),document.addEventListener("mouseup",t.handleMouseUp)}},this.handleMouseMove=function(r){var i=t.createEventFromMouse(r);t.recordCoords(i),t.emitter.trigger("pointermove",i)},this.handleMouseUp=function(r){document.removeEventListener("mousemove",t.handleMouseMove),document.removeEventListener("mouseup",t.handleMouseUp),t.emitter.trigger("pointerup",t.createEventFromMouse(r)),t.cleanup()},this.handleTouchStart=function(r){if(t.tryStart(r)){t.isTouchDragging=!0;var i=t.createEventFromTouch(r,!0);t.emitter.trigger("pointerdown",i),t.initScrollWatch(i);var l=r.target;t.shouldIgnoreMove||l.addEventListener("touchmove",t.handleTouchMove),l.addEventListener("touchend",t.handleTouchEnd),l.addEventListener("touchcancel",t.handleTouchEnd),window.addEventListener("scroll",t.handleTouchScroll,!0)}},this.handleTouchMove=function(r){var i=t.createEventFromTouch(r);t.recordCoords(i),t.emitter.trigger("pointermove",i)},this.handleTouchEnd=function(r){if(t.isDragging){var i=r.target;i.removeEventListener("touchmove",t.handleTouchMove),i.removeEventListener("touchend",t.handleTouchEnd),i.removeEventListener("touchcancel",t.handleTouchEnd),window.removeEventListener("scroll",t.handleTouchScroll,!0),t.emitter.trigger("pointerup",t.createEventFromTouch(r)),t.cleanup(),t.isTouchDragging=!1,function gT(){P_+=1,setTimeout(function(){P_-=1},ne.config.touchMouseIgnoreWait)}()}},this.handleTouchScroll=function(){t.wasTouchScroll=!0},this.handleScroll=function(r){if(!t.shouldIgnoreMove){var i=window.pageXOffset-t.prevScrollX+t.prevPageX,l=window.pageYOffset-t.prevScrollY+t.prevPageY;t.emitter.trigger("pointermove",{origEvent:r,isTouch:t.isTouchDragging,subjectEl:t.subjectEl,pageX:i,pageY:l,deltaX:i-t.origPageX,deltaY:l-t.origPageY})}},this.containerEl=e,this.emitter=new ne.Emitter,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),function Nm(){1===(Rm+=1)&&window.addEventListener("touchmove",F_,{passive:!1})}()}return n.prototype.destroy=function(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),function kA(){(Rm-=1)||window.removeEventListener("touchmove",F_,{passive:!1})}()},n.prototype.tryStart=function(e){var t=this.querySubjectEl(e);return!(!t||this.handleSelector&&!(0,ne.elementClosest)(e.target,this.handleSelector)||(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,0))},n.prototype.cleanup=function(){id=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()},n.prototype.querySubjectEl=function(e){return this.selector?(0,ne.elementClosest)(e.target,this.selector):this.containerEl},n.prototype.shouldIgnoreMouse=function(){return P_||this.isTouchDragging},n.prototype.cancelTouchScroll=function(){this.isDragging&&(id=!0)},n.prototype.initScrollWatch=function(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))},n.prototype.recordCoords=function(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)},n.prototype.destroyScrollWatch=function(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)},n.prototype.createEventFromMouse=function(e,t){var r=0,i=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:i}},n.prototype.createEventFromTouch=function(e,t){var i,l,r=e.touches,f=0,m=0;return r&&r.length?(i=r[0].pageX,l=r[0].pageY):(i=e.pageX,l=e.pageY),t?(this.origPageX=i,this.origPageY=l):(f=i-this.origPageX,m=l-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:l,deltaX:f,deltaY:m}},n}();function F_(n){id&&n.preventDefault()}var PA=function(){function n(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}return n.prototype.start=function(e,t,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.pageXOffset,this.origScreenY=r-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()},n.prototype.handleMove=function(e,t){this.deltaX=e-window.pageXOffset-this.origScreenX,this.deltaY=t-window.pageYOffset-this.origScreenY,this.updateElPosition()},n.prototype.setIsVisible=function(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)},n.prototype.stop=function(e,t){var r=this,i=function(){r.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)},n.prototype.doRevertAnimation=function(e,t){var r=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();r.style.transition="top "+t+"ms,left "+t+"ms",(0,ne.applyStyle)(r,{left:i.left,top:i.top}),(0,ne.whenTransitionDone)(r,function(){r.style.transition="",e()})},n.prototype.cleanup=function(){this.mirrorEl&&((0,ne.removeElement)(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null},n.prototype.updateElPosition=function(){this.sourceEl&&this.isVisible&&(0,ne.applyStyle)(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})},n.prototype.getMirrorEl=function(){var e=this.sourceElRect,t=this.mirrorEl;return t||((t=this.mirrorEl=this.sourceEl.cloneNode(!0)).classList.add("fc-unselectable"),t.classList.add("fc-event-dragging"),(0,ne.applyStyle)(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t},n}(),OA=function(n){function e(t,r){var i=n.call(this)||this;return i.handleScroll=function(){i.scrollTop=i.scrollController.getScrollTop(),i.scrollLeft=i.scrollController.getScrollLeft(),i.handleScrollChange()},i.scrollController=t,i.doesListening=r,i.scrollTop=i.origScrollTop=t.getScrollTop(),i.scrollLeft=i.origScrollLeft=t.getScrollLeft(),i.scrollWidth=t.getScrollWidth(),i.scrollHeight=t.getScrollHeight(),i.clientWidth=t.getClientWidth(),i.clientHeight=t.getClientHeight(),i.clientRect=i.computeClientRect(),i.doesListening&&i.getEventTarget().addEventListener("scroll",i.handleScroll),i}return(0,Wt.__extends)(e,n),e.prototype.destroy=function(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)},e.prototype.getScrollTop=function(){return this.scrollTop},e.prototype.getScrollLeft=function(){return this.scrollLeft},e.prototype.setScrollTop=function(t){this.scrollController.setScrollTop(t),this.doesListening||(this.scrollTop=Math.max(Math.min(t,this.getMaxScrollTop()),0),this.handleScrollChange())},e.prototype.setScrollLeft=function(t){this.scrollController.setScrollLeft(t),this.doesListening||(this.scrollLeft=Math.max(Math.min(t,this.getMaxScrollLeft()),0),this.handleScrollChange())},e.prototype.getClientWidth=function(){return this.clientWidth},e.prototype.getClientHeight=function(){return this.clientHeight},e.prototype.getScrollWidth=function(){return this.scrollWidth},e.prototype.getScrollHeight=function(){return this.scrollHeight},e.prototype.handleScrollChange=function(){},e}(ne.ScrollController),Df=function(n){function e(t,r){return n.call(this,new ne.ElementScrollController(t),r)||this}return(0,Wt.__extends)(e,n),e.prototype.getEventTarget=function(){return this.scrollController.el},e.prototype.computeClientRect=function(){return(0,ne.computeInnerRect)(this.scrollController.el)},e}(OA),pp=function(n){function e(t){return n.call(this,new ne.WindowScrollController,t)||this}return(0,Wt.__extends)(e,n),e.prototype.getEventTarget=function(){return window},e.prototype.computeClientRect=function(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}},e.prototype.handleScrollChange=function(){this.clientRect=this.computeClientRect()},e}(OA),FA="function"==typeof performance?performance.now:Date.now,mT=function(){function n(){var e=this;this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=function(){if(e.isAnimating){var t=e.computeBestEdge(e.pointerScreenX+window.pageXOffset,e.pointerScreenY+window.pageYOffset);if(t){var r=FA();e.handleSide(t,(r-e.msSinceRequest)/1e3),e.requestAnimation(r)}else e.isAnimating=!1}}}return n.prototype.start=function(e,t,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))},n.prototype.handleMove=function(e,t){if(this.isEnabled){var r=e-window.pageXOffset,i=t-window.pageYOffset,l=null===this.pointerScreenY?0:i-this.pointerScreenY,f=null===this.pointerScreenX?0:r-this.pointerScreenX;l<0?this.everMovedUp=!0:l>0&&(this.everMovedDown=!0),f<0?this.everMovedLeft=!0:f>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(FA()))}},n.prototype.stop=function(){if(this.isEnabled){this.isAnimating=!1;for(var e=0,t=this.scrollCaches;e<t.length;e++)t[e].destroy();this.scrollCaches=null}},n.prototype.requestAnimation=function(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)},n.prototype.handleSide=function(e,t){var r=e.scrollCache,i=this.edgeThreshold,l=i-e.distance,f=l*l/(i*i)*this.maxVelocity*t,m=1;switch(e.name){case"left":m=-1;case"right":r.setScrollLeft(r.getScrollLeft()+f*m);break;case"top":m=-1;case"bottom":r.setScrollTop(r.getScrollTop()+f*m)}},n.prototype.computeBestEdge=function(e,t){for(var r=this.edgeThreshold,i=null,f=0,m=this.scrollCaches||[];f<m.length;f++){var E=m[f],C=E.clientRect,k=e-C.left,O=C.right-e,q=t-C.top,J=C.bottom-t;k>=0&&O>=0&&q>=0&&J>=0&&(q<=r&&this.everMovedUp&&E.canScrollUp()&&(!i||i.distance>q)&&(i={scrollCache:E,name:"top",distance:q}),J<=r&&this.everMovedDown&&E.canScrollDown()&&(!i||i.distance>J)&&(i={scrollCache:E,name:"bottom",distance:J}),k<=r&&this.everMovedLeft&&E.canScrollLeft()&&(!i||i.distance>k)&&(i={scrollCache:E,name:"left",distance:k}),O<=r&&this.everMovedRight&&E.canScrollRight()&&(!i||i.distance>O)&&(i={scrollCache:E,name:"right",distance:O}))}return i},n.prototype.buildCaches=function(e){return this.queryScrollEls(e).map(function(t){return t===window?new pp(!1):new Df(t,!1)})},n.prototype.queryScrollEls=function(e){for(var t=[],r=0,i=this.scrollQuery;r<i.length;r++){var l=i[r];"object"==typeof l?t.push(l):t.push.apply(t,Array.prototype.slice.call((0,ne.getElRoot)(e).querySelectorAll(l)))}return t},n}(),Tf=function(n){function e(t,r){var i=n.call(this,t)||this;i.containerEl=t,i.delay=null,i.minDistance=0,i.touchScrollAllowed=!0,i.mirrorNeedsRevert=!1,i.isInteracting=!1,i.isDragging=!1,i.isDelayEnded=!1,i.isDistanceSurpassed=!1,i.delayTimeoutId=null,i.onPointerDown=function(f){i.isDragging||(i.isInteracting=!0,i.isDelayEnded=!1,i.isDistanceSurpassed=!1,(0,ne.preventSelection)(document.body),(0,ne.preventContextMenu)(document.body),f.isTouch||f.origEvent.preventDefault(),i.emitter.trigger("pointerdown",f),i.isInteracting&&!i.pointer.shouldIgnoreMove&&(i.mirror.setIsVisible(!1),i.mirror.start(f.subjectEl,f.pageX,f.pageY),i.startDelay(f),i.minDistance||i.handleDistanceSurpassed(f)))},i.onPointerMove=function(f){if(i.isInteracting){if(i.emitter.trigger("pointermove",f),!i.isDistanceSurpassed){var m=i.minDistance,C=f.deltaX,k=f.deltaY;C*C+k*k>=m*m&&i.handleDistanceSurpassed(f)}i.isDragging&&("scroll"!==f.origEvent.type&&(i.mirror.handleMove(f.pageX,f.pageY),i.autoScroller.handleMove(f.pageX,f.pageY)),i.emitter.trigger("dragmove",f))}},i.onPointerUp=function(f){i.isInteracting&&(i.isInteracting=!1,(0,ne.allowSelection)(document.body),(0,ne.allowContextMenu)(document.body),i.emitter.trigger("pointerup",f),i.isDragging&&(i.autoScroller.stop(),i.tryStopDrag(f)),i.delayTimeoutId&&(clearTimeout(i.delayTimeoutId),i.delayTimeoutId=null))};var l=i.pointer=new O_(t);return l.emitter.on("pointerdown",i.onPointerDown),l.emitter.on("pointermove",i.onPointerMove),l.emitter.on("pointerup",i.onPointerUp),r&&(l.selector=r),i.mirror=new PA,i.autoScroller=new mT,i}return(0,Wt.__extends)(e,n),e.prototype.destroy=function(){this.pointer.destroy(),this.onPointerUp({})},e.prototype.startDelay=function(t){var r=this;"number"==typeof this.delay?this.delayTimeoutId=setTimeout(function(){r.delayTimeoutId=null,r.handleDelayEnd(t)},this.delay):this.handleDelayEnd(t)},e.prototype.handleDelayEnd=function(t){this.isDelayEnded=!0,this.tryStartDrag(t)},e.prototype.handleDistanceSurpassed=function(t){this.isDistanceSurpassed=!0,this.tryStartDrag(t)},e.prototype.tryStartDrag=function(t){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(t.pageX,t.pageY,this.containerEl),this.emitter.trigger("dragstart",t),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll())},e.prototype.tryStopDrag=function(t){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,t))},e.prototype.stopDrag=function(t){this.isDragging=!1,this.emitter.trigger("dragend",t)},e.prototype.setIgnoreMove=function(t){this.pointer.shouldIgnoreMove=t},e.prototype.setMirrorIsVisible=function(t){this.mirror.setIsVisible(t)},e.prototype.setMirrorNeedsRevert=function(t){this.mirrorNeedsRevert=t},e.prototype.setAutoScrollEnabled=function(t){this.autoScroller.isEnabled=t},e}(ne.ElementDragging),LA=function(){function n(e){this.origRect=(0,ne.computeRect)(e),this.scrollCaches=(0,ne.getClippingParents)(e).map(function(t){return new Df(t,!0)})}return n.prototype.destroy=function(){for(var e=0,t=this.scrollCaches;e<t.length;e++)t[e].destroy()},n.prototype.computeLeft=function(){for(var e=this.origRect.left,t=0,r=this.scrollCaches;t<r.length;t++){var i=r[t];e+=i.origScrollLeft-i.getScrollLeft()}return e},n.prototype.computeTop=function(){for(var e=this.origRect.top,t=0,r=this.scrollCaches;t<r.length;t++){var i=r[t];e+=i.origScrollTop-i.getScrollTop()}return e},n.prototype.isWithinClipping=function(e,t){for(var r={left:e,top:t},i=0,l=this.scrollCaches;i<l.length;i++){var f=l[i];if(!VA(f.getEventTarget())&&!(0,ne.pointInsideRect)(r,f.clientRect))return!1}return!0},n}();function VA(n){var e=n.tagName;return"HTML"===e||"BODY"===e}var Sf=function(){function n(e,t){var r=this;this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=function(i){var l=r.dragging;r.initialHit=null,r.movingHit=null,r.finalHit=null,r.prepareHits(),r.processFirstCoord(i),r.initialHit||!r.requireInitial?(l.setIgnoreMove(!1),r.emitter.trigger("pointerdown",i)):l.setIgnoreMove(!0)},this.handleDragStart=function(i){r.emitter.trigger("dragstart",i),r.handleMove(i,!0)},this.handleDragMove=function(i){r.emitter.trigger("dragmove",i),r.handleMove(i)},this.handlePointerUp=function(i){r.releaseHits(),r.emitter.trigger("pointerup",i)},this.handleDragEnd=function(i){r.movingHit&&r.emitter.trigger("hitupdate",null,!0,i),r.finalHit=r.movingHit,r.movingHit=null,r.emitter.trigger("dragend",i)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new ne.Emitter}return n.prototype.processFirstCoord=function(e){var l,t={left:e.pageX,top:e.pageY},r=t,i=e.subjectEl;i instanceof HTMLElement&&(l=(0,ne.computeRect)(i),r=(0,ne.constrainPoint)(r,l));var f=this.initialHit=this.queryHitForOffset(r.left,r.top);if(f){if(this.useSubjectCenter&&l){var m=(0,ne.intersectRects)(l,f.rect);m&&(r=(0,ne.getRectCenter)(m))}this.coordAdjust=(0,ne.diffPoints)(r,t)}else this.coordAdjust={left:0,top:0}},n.prototype.handleMove=function(e,t){var r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!km(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))},n.prototype.prepareHits=function(){this.offsetTrackers=(0,ne.mapHash)(this.droppableStore,function(e){return e.component.prepareHits(),new LA(e.el)})},n.prototype.releaseHits=function(){var e=this.offsetTrackers;for(var t in e)e[t].destroy();this.offsetTrackers={}},n.prototype.queryHitForOffset=function(e,t){var i=this.droppableStore,l=this.offsetTrackers,f=null;for(var m in i){var E=i[m].component,C=l[m];if(C&&C.isWithinClipping(e,t)){var k=C.computeLeft(),O=C.computeTop(),q=e-k,J=t-O,se=C.origRect,Me=se.right-se.left,nt=se.bottom-se.top;if(q>=0&&q<Me&&J>=0&&J<nt){var at=E.queryHit(q,J,Me,nt);at&&(0,ne.rangeContainsRange)(at.dateProfile.activeRange,at.dateSpan.range)&&(!f||at.layer>f.layer)&&(at.componentId=m,at.context=E.context,at.rect.left+=k,at.rect.right+=k,at.rect.top+=O,at.rect.bottom+=O,f=at)}}}return f},n}();function km(n,e){return!n&&!e||Boolean(n)===Boolean(e)&&(0,ne.isDateSpansEqual)(n.dateSpan,e.dateSpan)}function Pm(n,e){for(var t={},r=0,i=e.pluginHooks.datePointTransforms;r<i.length;r++)(0,Wt.__assign)(t,(0,i[r])(n,e));return(0,Wt.__assign)(t,function vT(n,e){return{date:e.toDate(n.range.start),dateStr:e.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}(n,e.dateEnv)),t}var yT=function(n){function e(t){var r=n.call(this,t)||this;r.handlePointerDown=function(l){r.dragging.setIgnoreMove(!r.component.isValidDateDownEl(l.origEvent.target))},r.handleDragEnd=function(l){var f=r.component;if(!r.dragging.pointer.wasTouchScroll){var E=r.hitDragging,C=E.initialHit,k=E.finalHit;if(C&&k&&km(C,k)){var O=f.context,q=(0,Wt.__assign)((0,Wt.__assign)({},Pm(C.dateSpan,O)),{dayEl:C.dayEl,jsEvent:l.origEvent,view:O.viewApi||O.calendarApi.view});O.emitter.trigger("dateClick",q)}}},r.dragging=new Tf(t.el),r.dragging.autoScroller.isEnabled=!1;var i=r.hitDragging=new Sf(r.dragging,(0,ne.interactionSettingsToStore)(t));return i.emitter.on("pointerdown",r.handlePointerDown),i.emitter.on("dragend",r.handleDragEnd),r}return(0,Wt.__extends)(e,n),e.prototype.destroy=function(){this.dragging.destroy()},e}(ne.Interaction),Zx=function(n){function e(t){var r=n.call(this,t)||this;r.dragSelection=null,r.handlePointerDown=function(E){var k=r.component,O=r.dragging,J=k.context.options.selectable&&k.isValidDateDownEl(E.origEvent.target);O.setIgnoreMove(!J),O.delay=E.isTouch?function Kx(n){var e=n.context.options,t=e.selectLongPressDelay;return null==t&&(t=e.longPressDelay),t}(k):null},r.handleDragStart=function(E){r.component.context.calendarApi.unselect(E)},r.handleHitUpdate=function(E,C){var k=r.component.context,O=null,q=!1;if(E){var J=r.hitDragging.initialHit;E.componentId===J.componentId&&r.isHitComboAllowed&&!r.isHitComboAllowed(J,E)||(O=function Qx(n,e,t){var r=n.dateSpan,i=e.dateSpan,l=[r.range.start,r.range.end,i.range.start,i.range.end];l.sort(ne.compareNumbers);for(var f={},m=0,E=t;m<E.length;m++){var k=(0,E[m])(n,e);if(!1===k)return null;k&&(0,Wt.__assign)(f,k)}return f.range={start:l[0],end:l[3]},f.allDay=r.allDay,f}(J,E,k.pluginHooks.dateSelectionTransformers)),(!O||!(0,ne.isDateSelectionValid)(O,E.dateProfile,k))&&(q=!0,O=null)}O?k.dispatch({type:"SELECT_DATES",selection:O}):C||k.dispatch({type:"UNSELECT_DATES"}),q?(0,ne.disableCursor)():(0,ne.enableCursor)(),C||(r.dragSelection=O)},r.handlePointerUp=function(E){r.dragSelection&&((0,ne.triggerDateSelect)(r.dragSelection,E,r.component.context),r.dragSelection=null)};var l=t.component.context.options,f=r.dragging=new Tf(t.el);f.touchScrollAllowed=!1,f.minDistance=l.selectMinDistance||0,f.autoScroller.isEnabled=l.dragScroll;var m=r.hitDragging=new Sf(r.dragging,(0,ne.interactionSettingsToStore)(t));return m.emitter.on("pointerdown",r.handlePointerDown),m.emitter.on("dragstart",r.handleDragStart),m.emitter.on("hitupdate",r.handleHitUpdate),m.emitter.on("pointerup",r.handlePointerUp),r}return(0,Wt.__extends)(e,n),e.prototype.destroy=function(){this.dragging.destroy()},e}(ne.Interaction),_T=function(n){function e(t){var r=n.call(this,t)||this;r.subjectEl=null,r.subjectSeg=null,r.isDragging=!1,r.eventRange=null,r.relevantEvents=null,r.receivingContext=null,r.validMutation=null,r.mutatedRelevantEvents=null,r.handlePointerDown=function(E){var C=E.origEvent.target,O=r.component,q=r.dragging,J=q.mirror,se=O.context.options,Me=O.context;r.subjectEl=E.subjectEl;var nt=r.subjectSeg=(0,ne.getElSeg)(E.subjectEl),_t=(r.eventRange=nt.eventRange).instance.instanceId;r.relevantEvents=(0,ne.getRelevantEvents)(Me.getCurrentData().eventStore,_t),q.minDistance=E.isTouch?0:se.eventDragMinDistance,q.delay=E.isTouch&&_t!==O.props.eventSelection?function Om(n){var e=n.context.options,t=e.eventLongPressDelay;return null==t&&(t=e.longPressDelay),t}(O):null,J.parentNode=se.fixedMirrorParent?se.fixedMirrorParent:(0,ne.elementClosest)(C,".fc"),J.revertDuration=se.dragRevertDuration;var Rt=O.isValidSegDownEl(C)&&!(0,ne.elementClosest)(C,".fc-event-resizer");q.setIgnoreMove(!Rt),r.isDragging=Rt&&E.subjectEl.classList.contains("fc-event-draggable")},r.handleDragStart=function(E){var C=r.component.context,k=r.eventRange,O=k.instance.instanceId;E.isTouch?O!==r.component.props.eventSelection&&C.dispatch({type:"SELECT_EVENT",eventInstanceId:O}):C.dispatch({type:"UNSELECT_EVENT"}),r.isDragging&&(C.calendarApi.unselect(E),C.emitter.trigger("eventDragStart",{el:r.subjectEl,event:new ne.EventApi(C,k.def,k.instance),jsEvent:E.origEvent,view:C.viewApi}))},r.handleHitUpdate=function(E,C){if(r.isDragging){var k=r.relevantEvents,O=r.hitDragging.initialHit,q=r.component.context,J=null,se=null,Me=null,nt=!1,at={affectedEvents:k,mutatedEvents:(0,ne.createEmptyEventStore)(),isEvent:!0};if(E){var _t=(J=E.context).options;q===J||_t.editable&&_t.droppable?(se=function BA(n,e,t){var r=n.dateSpan,i=e.dateSpan,l=r.range.start,f=i.range.start,m={};r.allDay!==i.allDay&&(m.allDay=i.allDay,m.hasEnd=e.context.options.allDayMaintainDuration,i.allDay&&(l=(0,ne.startOfDay)(l)));var E=(0,ne.diffDates)(l,f,n.context.dateEnv,n.componentId===e.componentId?n.largeUnit:null);E.milliseconds&&(m.allDay=!1);for(var C={datesDelta:E,standardProps:m},k=0,O=t;k<O.length;k++)(0,O[k])(C,n,e);return C}(O,E,J.getCurrentData().pluginHooks.eventDragMutationMassagers),se&&(Me=(0,ne.applyMutationToEventStore)(k,J.getCurrentData().eventUiBases,se,J),at.mutatedEvents=Me,(0,ne.isInteractionValid)(at,E.dateProfile,J)||(nt=!0,se=null,Me=null,at.mutatedEvents=(0,ne.createEmptyEventStore)()))):J=null}r.displayDrag(J,at),nt?(0,ne.disableCursor)():(0,ne.enableCursor)(),C||(q===J&&km(O,E)&&(se=null),r.dragging.setMirrorNeedsRevert(!se),r.dragging.setMirrorIsVisible(!E||!(0,ne.getElRoot)(r.subjectEl).querySelector(".fc-event-mirror")),r.receivingContext=J,r.validMutation=se,r.mutatedRelevantEvents=Me)}},r.handlePointerUp=function(){r.isDragging||r.cleanup()},r.handleDragEnd=function(E){if(r.isDragging){var C=r.component.context,k=C.viewApi,q=r.receivingContext,J=r.validMutation,se=r.eventRange.def,Me=r.eventRange.instance,nt=new ne.EventApi(C,se,Me),at=r.relevantEvents,_t=r.mutatedRelevantEvents,Rt=r.hitDragging.finalHit;if(r.clearDrag(),C.emitter.trigger("eventDragStop",{el:r.subjectEl,event:nt,jsEvent:E.origEvent,view:k}),J){if(q===C){var Ct=new ne.EventApi(C,_t.defs[se.defId],Me?_t.instances[Me.instanceId]:null);C.dispatch({type:"MERGE_EVENTS",eventStore:_t});for(var pn={oldEvent:nt,event:Ct,relatedEvents:(0,ne.buildEventApis)(_t,C,Me),revert:function(){C.dispatch({type:"MERGE_EVENTS",eventStore:at})}},hn={},Un=0,jn=C.getCurrentData().pluginHooks.eventDropTransformers;Un<jn.length;Un++)(0,Wt.__assign)(hn,(0,jn[Un])(J,C));C.emitter.trigger("eventDrop",(0,Wt.__assign)((0,Wt.__assign)((0,Wt.__assign)({},pn),hn),{el:E.subjectEl,delta:J.datesDelta,jsEvent:E.origEvent,view:k})),C.emitter.trigger("eventChange",pn)}else if(q){var Mo={event:nt,relatedEvents:(0,ne.buildEventApis)(at,C,Me),revert:function(){C.dispatch({type:"MERGE_EVENTS",eventStore:at})}};C.emitter.trigger("eventLeave",(0,Wt.__assign)((0,Wt.__assign)({},Mo),{draggedEl:E.subjectEl,view:k})),C.dispatch({type:"REMOVE_EVENTS",eventStore:at}),C.emitter.trigger("eventRemove",Mo);var Jo=_t.instances[Me.instanceId],Sd=new ne.EventApi(q,_t.defs[se.defId],Jo);q.dispatch({type:"MERGE_EVENTS",eventStore:_t});var _E={event:Sd,relatedEvents:(0,ne.buildEventApis)(_t,q,Jo),revert:function(){q.dispatch({type:"REMOVE_EVENTS",eventStore:_t})}};q.emitter.trigger("eventAdd",_E),E.isTouch&&q.dispatch({type:"SELECT_EVENT",eventInstanceId:Me.instanceId}),q.emitter.trigger("drop",(0,Wt.__assign)((0,Wt.__assign)({},Pm(Rt.dateSpan,q)),{draggedEl:E.subjectEl,jsEvent:E.origEvent,view:Rt.context.viewApi})),q.emitter.trigger("eventReceive",(0,Wt.__assign)((0,Wt.__assign)({},_E),{draggedEl:E.subjectEl,view:Rt.context.viewApi}))}}else C.emitter.trigger("_noEventDrop")}r.cleanup()};var l=r.component.context.options,f=r.dragging=new Tf(t.el);f.pointer.selector=e.SELECTOR,f.touchScrollAllowed=!1,f.autoScroller.isEnabled=l.dragScroll;var m=r.hitDragging=new Sf(r.dragging,ne.interactionSettingsStore);return m.useSubjectCenter=t.useEventCenter,m.emitter.on("pointerdown",r.handlePointerDown),m.emitter.on("dragstart",r.handleDragStart),m.emitter.on("hitupdate",r.handleHitUpdate),m.emitter.on("pointerup",r.handlePointerUp),m.emitter.on("dragend",r.handleDragEnd),r}return(0,Wt.__extends)(e,n),e.prototype.destroy=function(){this.dragging.destroy()},e.prototype.displayDrag=function(t,r){var l=this.receivingContext;l&&l!==t&&l.dispatch(l===this.component.context?{type:"SET_EVENT_DRAG",state:{affectedEvents:r.affectedEvents,mutatedEvents:(0,ne.createEmptyEventStore)(),isEvent:!0}}:{type:"UNSET_EVENT_DRAG"}),t&&t.dispatch({type:"SET_EVENT_DRAG",state:r})},e.prototype.clearDrag=function(){var t=this.component.context,r=this.receivingContext;r&&r.dispatch({type:"UNSET_EVENT_DRAG"}),t!==r&&t.dispatch({type:"UNSET_EVENT_DRAG"})},e.prototype.cleanup=function(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null},e.SELECTOR=".fc-event-draggable, .fc-event-resizable",e}(ne.Interaction),ET=function(n){function e(t){var r=n.call(this,t)||this;r.draggingSegEl=null,r.draggingSeg=null,r.eventRange=null,r.relevantEvents=null,r.validMutation=null,r.mutatedRelevantEvents=null,r.handlePointerDown=function(m){var E=r.component,C=r.querySegEl(m),k=(0,ne.getElSeg)(C),O=r.eventRange=k.eventRange;r.dragging.minDistance=E.context.options.eventDragMinDistance,r.dragging.setIgnoreMove(!r.component.isValidSegDownEl(m.origEvent.target)||m.isTouch&&r.component.props.eventSelection!==O.instance.instanceId)},r.handleDragStart=function(m){var E=r.component.context,C=r.eventRange;r.relevantEvents=(0,ne.getRelevantEvents)(E.getCurrentData().eventStore,r.eventRange.instance.instanceId);var k=r.querySegEl(m);r.draggingSegEl=k,r.draggingSeg=(0,ne.getElSeg)(k),E.calendarApi.unselect(),E.emitter.trigger("eventResizeStart",{el:k,event:new ne.EventApi(E,C.def,C.instance),jsEvent:m.origEvent,view:E.viewApi})},r.handleHitUpdate=function(m,E,C){var k=r.component.context,O=r.relevantEvents,q=r.hitDragging.initialHit,J=r.eventRange.instance,se=null,Me=null,nt=!1,at={affectedEvents:O,mutatedEvents:(0,ne.createEmptyEventStore)(),isEvent:!0};m&&(m.componentId===q.componentId&&r.isHitComboAllowed&&!r.isHitComboAllowed(q,m)||(se=function bT(n,e,t,r){var i=n.context.dateEnv,m=(0,ne.diffDates)(n.dateSpan.range.start,e.dateSpan.range.start,i,n.largeUnit);if(t){if(i.add(r.start,m)<r.end)return{startDelta:m}}else if(i.add(r.end,m)>r.start)return{endDelta:m};return null}(q,m,C.subjectEl.classList.contains("fc-event-resizer-start"),J.range))),se&&(Me=(0,ne.applyMutationToEventStore)(O,k.getCurrentData().eventUiBases,se,k),at.mutatedEvents=Me,(0,ne.isInteractionValid)(at,m.dateProfile,k)||(nt=!0,se=null,Me=null,at.mutatedEvents=null)),k.dispatch(Me?{type:"SET_EVENT_RESIZE",state:at}:{type:"UNSET_EVENT_RESIZE"}),nt?(0,ne.disableCursor)():(0,ne.enableCursor)(),E||(se&&km(q,m)&&(se=null),r.validMutation=se,r.mutatedRelevantEvents=Me)},r.handleDragEnd=function(m){var E=r.component.context,C=r.eventRange.def,k=r.eventRange.instance,O=new ne.EventApi(E,C,k),q=r.relevantEvents,J=r.mutatedRelevantEvents;if(E.emitter.trigger("eventResizeStop",{el:r.draggingSegEl,event:O,jsEvent:m.origEvent,view:E.viewApi}),r.validMutation){var se=new ne.EventApi(E,J.defs[C.defId],k?J.instances[k.instanceId]:null);E.dispatch({type:"MERGE_EVENTS",eventStore:J});var Me={oldEvent:O,event:se,relatedEvents:(0,ne.buildEventApis)(J,E,k),revert:function(){E.dispatch({type:"MERGE_EVENTS",eventStore:q})}};E.emitter.trigger("eventResize",(0,Wt.__assign)((0,Wt.__assign)({},Me),{el:r.draggingSegEl,startDelta:r.validMutation.startDelta||(0,ne.createDuration)(0),endDelta:r.validMutation.endDelta||(0,ne.createDuration)(0),jsEvent:m.origEvent,view:E.viewApi})),E.emitter.trigger("eventChange",Me)}else E.emitter.trigger("_noEventResize");r.draggingSeg=null,r.relevantEvents=null,r.validMutation=null};var i=t.component,l=r.dragging=new Tf(t.el);l.pointer.selector=".fc-event-resizer",l.touchScrollAllowed=!1,l.autoScroller.isEnabled=i.context.options.dragScroll;var f=r.hitDragging=new Sf(r.dragging,(0,ne.interactionSettingsToStore)(t));return f.emitter.on("pointerdown",r.handlePointerDown),f.emitter.on("dragstart",r.handleDragStart),f.emitter.on("hitupdate",r.handleHitUpdate),f.emitter.on("dragend",r.handleDragEnd),r}return(0,Wt.__extends)(e,n),e.prototype.destroy=function(){this.dragging.destroy()},e.prototype.querySegEl=function(t){return(0,ne.elementClosest)(t.subjectEl,".fc-event")},e}(ne.Interaction),UA=function(){function n(e){var t=this;this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=function(i){i.jsEvent&&(t.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=function(i){var l=t.context.options.unselectCancel,f=(0,ne.getEventTargetViaRoot)(i.origEvent);t.matchesCancel=!!(0,ne.elementClosest)(f,l),t.matchesEvent=!!(0,ne.elementClosest)(f,_T.SELECTOR)},this.onDocumentPointerUp=function(i){var l=t.context,f=t.documentPointer,m=l.getCurrentData();if(!f.wasTouchScroll){if(m.dateSelection&&!t.isRecentPointerDateSelect){var E=l.options.unselectAuto;E&&(!E||!t.matchesCancel)&&l.calendarApi.unselect(i)}m.eventSelection&&!t.matchesEvent&&l.dispatch({type:"UNSELECT_EVENT"})}t.isRecentPointerDateSelect=!1};var r=this.documentPointer=new O_(document);r.shouldIgnoreMove=!0,r.shouldWatchScroll=!1,r.emitter.on("pointerdown",this.onDocumentPointerDown),r.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}return n.prototype.destroy=function(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()},n}(),gp={fixedMirrorParent:ne.identity},AT={dateClick:ne.identity,eventDragStart:ne.identity,eventDragStop:ne.identity,eventDrop:ne.identity,eventResizeStart:ne.identity,eventResizeStop:ne.identity,eventResize:ne.identity,drop:ne.identity,eventReceive:ne.identity,eventLeave:ne.identity};!function(){function n(e,t){var r=this;this.receivingContext=null,this.droppableEvent=null,this.suppliedDragMeta=null,this.dragMeta=null,this.handleDragStart=function(l){r.dragMeta=r.buildDragMeta(l.subjectEl)},this.handleHitUpdate=function(l,f,m){var E=r.hitDragging.dragging,C=null,k=null,O=!1,q={affectedEvents:(0,ne.createEmptyEventStore)(),mutatedEvents:(0,ne.createEmptyEventStore)(),isEvent:r.dragMeta.create};l&&r.canDropElOnCalendar(m.subjectEl,C=l.context)&&(k=function wT(n,e,t){for(var r=(0,Wt.__assign)({},e.leftoverProps),i=0,l=t.pluginHooks.externalDefTransforms;i<l.length;i++)(0,Wt.__assign)(r,(0,l[i])(n,e));var m=(0,ne.refineEventDef)(r,t),k=(0,ne.parseEventDef)(m.refined,m.extra,e.sourceId,n.allDay,t.options.forceEventDuration||Boolean(e.duration),t),O=n.range.start;n.allDay&&e.startTime&&(O=t.dateEnv.add(O,e.startTime));var q=e.duration?t.dateEnv.add(O,e.duration):(0,ne.getDefaultEventEnd)(n.allDay,O,t);return{def:k,instance:(0,ne.createEventInstance)(k.defId,{start:O,end:q})}}(l.dateSpan,r.dragMeta,C),q.mutatedEvents=(0,ne.eventTupleToStore)(k),(O=!(0,ne.isInteractionValid)(q,l.dateProfile,C))&&(q.mutatedEvents=(0,ne.createEmptyEventStore)(),k=null)),r.displayDrag(C,q),E.setMirrorIsVisible(f||!k||!document.querySelector(".fc-event-mirror")),O?(0,ne.disableCursor)():(0,ne.enableCursor)(),f||(E.setMirrorNeedsRevert(!k),r.receivingContext=C,r.droppableEvent=k)},this.handleDragEnd=function(l){var m=r.receivingContext,E=r.droppableEvent;if(r.clearDrag(),m&&E){var C=r.hitDragging.finalHit,k=C.context.viewApi,O=r.dragMeta;if(m.emitter.trigger("drop",(0,Wt.__assign)((0,Wt.__assign)({},Pm(C.dateSpan,m)),{draggedEl:l.subjectEl,jsEvent:l.origEvent,view:k})),O.create){var q=(0,ne.eventTupleToStore)(E);m.dispatch({type:"MERGE_EVENTS",eventStore:q}),l.isTouch&&m.dispatch({type:"SELECT_EVENT",eventInstanceId:E.instance.instanceId}),m.emitter.trigger("eventReceive",{event:new ne.EventApi(m,E.def,E.instance),relatedEvents:[],revert:function(){m.dispatch({type:"REMOVE_EVENTS",eventStore:q})},draggedEl:l.subjectEl,view:k})}}r.receivingContext=null,r.droppableEvent=null};var i=this.hitDragging=new Sf(e,ne.interactionSettingsStore);i.requireInitial=!1,i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd),this.suppliedDragMeta=t}n.prototype.buildDragMeta=function(e){return"object"==typeof this.suppliedDragMeta?(0,ne.parseDragMeta)(this.suppliedDragMeta):"function"==typeof this.suppliedDragMeta?(0,ne.parseDragMeta)(this.suppliedDragMeta(e)):function CT(n){var e=function DT(n,e){var t=ne.config.dataAttrPrefix;return n.getAttribute("data-"+(t?t+"-":"")+e)||""}(n,"event"),t=e?JSON.parse(e):{create:!1};return(0,ne.parseDragMeta)(t)}(e)},n.prototype.displayDrag=function(e,t){var r=this.receivingContext;r&&r!==e&&r.dispatch({type:"UNSET_EVENT_DRAG"}),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})},n.prototype.clearDrag=function(){this.receivingContext&&this.receivingContext.dispatch({type:"UNSET_EVENT_DRAG"})},n.prototype.canDropElOnCalendar=function(e,t){var r=t.options.dropAccept;return"function"==typeof r?r.call(t.calendarApi,e):"string"!=typeof r||!r||Boolean((0,ne.elementMatches)(e,r))}}();ne.config.dataAttrPrefix="";!function(n){function e(t){var r=n.call(this,t)||this;r.shouldIgnoreMove=!1,r.mirrorSelector="",r.currentMirrorEl=null,r.handlePointerDown=function(l){r.emitter.trigger("pointerdown",l),r.shouldIgnoreMove||r.emitter.trigger("dragstart",l)},r.handlePointerMove=function(l){r.shouldIgnoreMove||r.emitter.trigger("dragmove",l)},r.handlePointerUp=function(l){r.emitter.trigger("pointerup",l),r.shouldIgnoreMove||r.emitter.trigger("dragend",l)};var i=r.pointer=new O_(t);return i.emitter.on("pointerdown",r.handlePointerDown),i.emitter.on("pointermove",r.handlePointerMove),i.emitter.on("pointerup",r.handlePointerUp),r}(0,Wt.__extends)(e,n),e.prototype.destroy=function(){this.pointer.destroy()},e.prototype.setIgnoreMove=function(t){this.shouldIgnoreMove=t},e.prototype.setMirrorIsVisible=function(t){if(t)this.currentMirrorEl&&(this.currentMirrorEl.style.visibility="",this.currentMirrorEl=null);else{var r=this.mirrorSelector?document.querySelector(this.mirrorSelector):null;r&&(this.currentMirrorEl=r,r.style.visibility="hidden")}}}(ne.ElementDragging);const jA=(0,ne.createPlugin)({componentInteractions:[yT,Zx,_T,ET],calendarInteractions:[UA],elementDraggingImpl:Tf,optionRefiners:gp,listenerRefiners:AT});var GA=$(2559),IT=$.n(GA),ws=$(3580),MT=$(5599),L_="undefined"!=typeof globalThis?globalThis:window;L_.FullCalendarVDom?console.warn("FullCalendar VDOM already loaded"):L_.FullCalendarVDom={Component:ws.Component,createElement:ws.createElement,render:ws.render,createRef:ws.createRef,Fragment:ws.Fragment,createContext:function RT(n){var e=ws.createContext(n),t=e.Provider;return e.Provider=function(){var r=this,i=!this.getChildContext,l=t.apply(this,arguments);if(i){var f=[];this.shouldComponentUpdate=function(m){r.props.value!==m.value&&f.forEach(function(E){E.context=m.value,E.forceUpdate()})},this.sub=function(m){f.push(m);var E=m.componentWillUnmount;m.componentWillUnmount=function(){f.splice(f.indexOf(m),1),E&&E.call(m)}}}return l},e},createPortal:MT.createPortal,flushSync:function xT(n){n();var e=ws.options.debounceRendering,t=[];for(ws.options.debounceRendering=function r(i){t.push(i)},ws.render(ws.createElement(V_,{}),document.createElement("div"));t.length;)t.shift()();ws.options.debounceRendering=e},unmountComponentAtNode:function zA(n){ws.render(null,n)}};var V_=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,Wt.__extends)(e,n),e.prototype.render=function(){return ws.createElement("div",{})},e.prototype.componentDidMount=function(){this.setState({})},e}(ws.Component),$A=function(n){function e(t,r){void 0===r&&(r={});var i=n.call(this)||this;return i.isRendering=!1,i.isRendered=!1,i.currentClassNames=[],i.customContentRenderId=0,i.handleAction=function(l){switch(l.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":i.renderRunner.tryDrain()}},i.handleData=function(l){i.currentData=l,i.renderRunner.request(l.calendarOptions.rerenderDelay)},i.handleRenderRequest=function(){if(i.isRendering){i.isRendered=!0;var l=i.currentData;(0,ne.flushSync)(function(){(0,ne.render)((0,ne.createElement)(ne.CalendarRoot,{options:l.calendarOptions,theme:l.theme,emitter:l.emitter},function(f,m,E,C){return i.setClassNames(f),i.setHeight(m),(0,ne.createElement)(ne.CustomContentRenderContext.Provider,{value:i.customContentRenderId},(0,ne.createElement)(ne.CalendarContent,(0,Wt.__assign)({isHeightAuto:E,forPrint:C},l)))}),i.el)})}else i.isRendered&&(i.isRendered=!1,(0,ne.unmountComponentAtNode)(i.el),i.setClassNames([]),i.setHeight(""))},i.el=t,i.renderRunner=new ne.DelayedRunner(i.handleRenderRequest),new ne.CalendarDataManager({optionOverrides:r,calendarApi:i,onAction:i.handleAction,onData:i.handleData}),i}return(0,Wt.__extends)(e,n),Object.defineProperty(e.prototype,"view",{get:function(){return this.currentData.viewApi},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.isRendering;t?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),t&&this.updateSize()},e.prototype.destroy=function(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())},e.prototype.updateSize=function(){var t=this;(0,ne.flushSync)(function(){n.prototype.updateSize.call(t)})},e.prototype.batchRendering=function(t){this.renderRunner.pause("batchRendering"),t(),this.renderRunner.resume("batchRendering")},e.prototype.pauseRendering=function(){this.renderRunner.pause("pauseRendering")},e.prototype.resumeRendering=function(){this.renderRunner.resume("pauseRendering",!0)},e.prototype.resetOptions=function(t,r){this.currentDataManager.resetOptions(t,r)},e.prototype.setClassNames=function(t){if(!(0,ne.isArraysEqual)(t,this.currentClassNames)){for(var r=this.el.classList,i=0,l=this.currentClassNames;i<l.length;i++)r.remove(l[i]);for(var m=0,E=t;m<E.length;m++)r.add(E[m]);this.currentClassNames=t}},e.prototype.setHeight=function(t){(0,ne.applyStyleProp)(this.el,"height",t)},e}(ne.CalendarApi);const NT=Object.prototype.hasOwnProperty;function Fm(n){return Array.isArray(n)?n.map(Fm):n instanceof Date?new Date(n.valueOf()):"object"==typeof n&&n?Lm(n,Fm):n}function kT(n){return"object"==typeof n&&(Array.isArray(n)?n=Array.prototype.slice.call(n):n&&(n=Object.assign({},n))),n}function Lm(n,e){const t={};for(const r in n)NT.call(n,r)&&(t[r]=e(n[r],r));return t}const WA={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0};let qA=(()=>{class n{constructor(t){this.element=t,this.optionSnapshot={}}ngAfterViewInit(){const{deepChangeDetection:t}=this,r=this.options||{};this.optionSnapshot=Lm(r,(i,l)=>t&&WA[l]?Fm(i):i),this.calendar=new $A(this.element.nativeElement,r),this.calendar.render()}ngDoCheck(){if(this.calendar){const{deepChangeDetection:t,optionSnapshot:r}=this,i=this.options||{},l={};let f=!1;for(const E in i)if(i.hasOwnProperty(E)){let C=i[E];t&&WA[E]?IT()(r[E],C)||(r[E]=Fm(C),f=!0,C=kT(C)):r[E]!==C&&(r[E]=C,f=!0),l[E]=C}const m=Object.keys(r);for(const E of m)E in i||(delete r[E],f=!0);f&&(this.calendar.pauseRendering(),this.calendar.resetOptions(l))}}ngAfterContentChecked(){this.calendar&&this.calendar.resumeRendering()}ngOnDestroy(){this.calendar&&(this.calendar.destroy(),this.calendar=null)}getApi(){return this.calendar}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq))},n.\u0275cmp=h.Xpm({type:n,selectors:[["full-calendar"]],inputs:{options:"options",deepChangeDetection:"deepChangeDetection"},decls:0,vars:0,template:function(t,r){},styles:['@charset "UTF-8";.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{vertical-align:top;padding:0}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype");font-weight:400;font-style:normal}.fc-icon{display:inline-block;width:1em;height:1em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;font-family:fcicons!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;overflow:visible;text-transform:none;margin:0;font-family:inherit;font-size:inherit;line-height:inherit}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{padding:0;border-style:none}.fc .fc-button{display:inline-block;font-weight:400;text-align:center;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.4em .65em;font-size:1em;line-height:1.5;border-radius:.25em}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{outline:0;box-shadow:0 0 0 .2rem rgba(44,62,80,.25)}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50)}.fc .fc-button-primary:hover{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#1e2b37;background-color:var(--fc-button-hover-bg-color,#1e2b37);border-color:#1a252f;border-color:var(--fc-button-hover-border-color,#1a252f)}.fc .fc-button-primary:disabled{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#1a252f;background-color:var(--fc-button-active-bg-color,#1a252f);border-color:#151e27;border-color:var(--fc-button-active-border-color,#151e27)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{vertical-align:middle;font-size:1.5em}.fc .fc-button-group{position:relative;display:inline-flex;vertical-align:middle}.fc .fc-button-group>.fc-button{position:relative;flex:1 1 auto}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){margin-right:-1px;border-top-right-radius:0;border-bottom-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-top-left-radius:0;border-bottom-left-radius:0}.fc .fc-toolbar{display:flex;justify-content:space-between;align-items:center}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{position:absolute;top:0;right:0;left:0;bottom:0}.fc .fc-scroller-harness{position:relative;overflow:hidden;direction:ltr}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{width:100%;table-layout:fixed}.fc .fc-scrollgrid table{border-top-style:hidden;border-left-style:hidden;border-right-style:hidden}.fc .fc-scrollgrid{border-collapse:separate;border-right-width:0;border-bottom-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section>td,.fc .fc-scrollgrid-section table{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-top-width:0;border-left-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:-webkit-sticky;position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:-webkit-sticky;position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{position:absolute;top:0;left:0;right:0;bottom:0}.fc .fc-non-business{background:hsla(0,0%,84.3%,.3);background:var(--fc-non-business-color,hsla(0,0%,84.3%,.3))}.fc .fc-bg-event{background:#8fdf82;background:var(--fc-bg-event-color,#8fdf82);opacity:.3;opacity:var(--fc-bg-event-opacity,.3)}.fc .fc-bg-event .fc-event-title{margin:.5em;font-size:.85em;font-size:var(--fc-small-font-size,.85em);font-style:italic}.fc .fc-highlight{background:rgba(188,232,241,.3);background:var(--fc-highlight-color,rgba(188,232,241,.3))}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{border-radius:4px;border-radius:calc(var(--fc-event-resizer-dot-total-width, 8px) / 2);border-width:1px;width:8px;width:var(--fc-event-resizer-dot-total-width,8px);height:8px;height:var(--fc-event-resizer-dot-total-width,8px);border:var(--fc-event-resizer-dot-border-width,1px) solid;border-color:inherit;background:#fff;background:var(--fc-page-bg-color,#fff)}.fc-event-selected .fc-event-resizer:before{content:"";position:absolute;top:-20px;left:-20px;right:-20px;bottom:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{content:"";position:absolute;z-index:3;top:0;left:0;right:0;bottom:0}.fc-event-selected:after,.fc-event:focus:after{content:"";background:rgba(0,0,0,.25);background:var(--fc-event-selected-overlay-color,rgba(0,0,0,.25));position:absolute;z-index:1;top:-1px;left:-1px;right:-1px;bottom:-1px}.fc-h-event{display:block;border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8)}.fc-h-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;vertical-align:top;left:0;right:0;max-width:100%;overflow:hidden}.fc-h-event.fc-event-selected:before{top:-10px;bottom:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-top-left-radius:0;border-bottom-left-radius:0;border-left-width:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-top-right-radius:0;border-bottom-right-radius:0;border-right-width:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{top:0;bottom:0;width:8px;width:var(--fc-event-resizer-thickness,8px)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:-4px;left:calc(-.5 * var(--fc-event-resizer-thickness, 8px))}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:-4px;right:calc(-.5 * var(--fc-event-resizer-thickness, 8px))}.fc-h-event.fc-event-selected .fc-event-resizer{top:50%;margin-top:-4px;margin-top:calc(-.5 * var(--fc-event-resizer-dot-total-width, 8px))}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:-4px;left:calc(-.5 * var(--fc-event-resizer-dot-total-width, 8px))}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:-4px;right:calc(-.5 * var(--fc-event-resizer-dot-total-width, 8px))}.fc .fc-popover{position:absolute;z-index:9999;box-shadow:0 2px 6px rgba(0,0,0,.15)}.fc .fc-popover-header{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;opacity:.65;font-size:1.1em}.fc-theme-standard .fc-popover{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd);background:#fff;background:var(--fc-page-bg-color,#fff)}.fc-theme-standard .fc-popover-header{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}:root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{content:"";clear:both;display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-daygrid-day-frame{position:relative;min-height:100%}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{position:relative;z-index:4;padding:4px}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{position:absolute;left:0;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{position:relative;min-height:2em}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{position:absolute;top:0;left:0;right:0}.fc .fc-daygrid-bg-harness{position:absolute;top:0;bottom:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{z-index:6;margin-top:1px}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;padding:2px 3px 0}.fc .fc-daygrid-day-bottom:before{content:"";clear:both;display:table}.fc .fc-daygrid-more-link{position:relative;z-index:4;cursor:pointer}.fc .fc-daygrid-week-number{position:absolute;z-index:5;top:0;padding:2px;min-width:1.5em;text-align:center;background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));color:grey;color:var(--fc-neutral-text-color,grey)}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-week-number{left:0;border-radius:0 0 3px 0}.fc-direction-rtl .fc-daygrid-week-number{right:0;border-radius:0 0 0 3px}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{position:relative;white-space:nowrap;border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{display:flex;align-items:center;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;min-width:0;overflow:hidden;font-weight:700}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{top:-10px;bottom:-10px}.fc-daygrid-event-dot{margin:0 4px;box-sizing:content-box;width:0;height:0;border:4px solid #3788d8;border:calc(var(--fc-daygrid-event-dot-width, 8px) / 2) solid var(--fc-event-border-color,#3788d8);border-radius:4px;border-radius:calc(var(--fc-daygrid-event-dot-width, 8px) / 2)}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}.fc-v-event{display:block;border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8)}.fc-v-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff);height:100%}.fc-v-event .fc-event-main-frame{height:100%;display:flex;flex-direction:column}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{top:0;bottom:0;max-height:100%;overflow:hidden}.fc-v-event:not(.fc-event-start){border-top-width:0;border-top-left-radius:0;border-top-right-radius:0}.fc-v-event:not(.fc-event-end){border-bottom-width:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:8px;height:var(--fc-event-resizer-thickness,8px);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:-4px;margin-left:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{position:relative;z-index:1;min-height:100%}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{height:1.5em;border-bottom:0}.fc .fc-timegrid-slot:empty:before{content:"\xa0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{overflow:hidden;display:flex;align-items:center;justify-content:flex-end}.fc .fc-timegrid-axis-cushion{max-width:60px;flex-shrink:0}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-timegrid-col.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc-media-screen .fc-timegrid-cols{position:absolute;top:0;left:0;right:0;bottom:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{position:absolute;top:0;left:0;right:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{position:absolute;left:0;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{position:absolute;top:0;bottom:0;left:0;right:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px #fff;box-shadow:0 0 0 1px var(--fc-page-bg-color,#fff)}.fc-timegrid-event,.fc-timegrid-more-link{font-size:.85em;font-size:var(--fc-small-font-size,.85em);border-radius:3px}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{white-space:nowrap;font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\xa0-\xa0"}.fc-timegrid-event-short .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timegrid-more-link{position:absolute;z-index:9999;color:inherit;color:var(--fc-more-link-text-color,inherit);background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);cursor:pointer;margin-bottom:1px}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{position:absolute;z-index:4;left:0;right:0;border:0 solid red;border-color:var(--fc-now-indicator-color,red);border-top:1px solid var(--fc-now-indicator-color,red)}.fc .fc-timegrid-now-indicator-arrow{position:absolute;z-index:4;margin-top:-5px;border-style:solid;border-color:red;border-color:var(--fc-now-indicator-color,red)}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{left:0;border-width:5px 0 5px 6px;border-top-color:transparent;border-bottom-color:transparent}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{right:0;border-width:5px 6px 5px 0;border-top-color:transparent;border-bottom-color:transparent}:root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-list-empty{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));height:100%;display:flex;justify-content:center;align-items:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{width:100%;border-style:hidden}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{position:-webkit-sticky;position:sticky;top:0;background:#fff;background:var(--fc-page-bg-color,#fff)}.fc .fc-list-table thead{position:absolute;left:-10000px}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{content:"";clear:both;display:table}.fc-theme-standard .fc-list-day-cushion{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:#f5f5f5;background-color:var(--fc-list-event-hover-bg-color,#f5f5f5)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{display:inline-block;box-sizing:content-box;width:0;height:0;border:5px solid #3788d8;border:calc(var(--fc-list-event-dot-width, 10px) / 2) solid var(--fc-event-border-color,#3788d8);border-radius:5px;border-radius:calc(var(--fc-list-event-dot-width, 10px) / 2)}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}.fc-theme-bootstrap a:not([href]){color:inherit}.fc .fc-event,.fc .fc-scrollgrid table tr{-moz-column-break-inside:avoid;break-inside:avoid}.fc-media-print{display:block;max-width:100%}.fc-media-print .fc-bg-event,.fc-media-print .fc-non-business,.fc-media-print .fc-timegrid-axis-chunk,.fc-media-print .fc-timegrid-slots,.fc-media-print .fc-timeline-slots{display:none}.fc-media-print .fc-h-event,.fc-media-print .fc-toolbar button,.fc-media-print .fc-v-event{color:#000!important;background:#fff!important}.fc-media-print .fc-event,.fc-media-print .fc-event-main{color:#000!important}.fc-media-print .fc-timegrid-event{margin:.5em 0}.fc .fc-timeline-body{min-height:100%;position:relative;z-index:1}.fc .fc-timeline-slots{position:absolute;z-index:1;top:0;bottom:0}.fc .fc-timeline-slots>table{height:100%}.fc .fc-timeline-slot-minor{border-style:dotted}.fc .fc-timeline-slot-frame{display:flex;align-items:center;justify-content:center}.fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame{justify-content:flex-start}.fc .fc-timeline-header-row:last-child .fc-timeline-slot-frame{overflow:hidden}.fc .fc-timeline-slot-cushion{padding:4px 5px;white-space:nowrap}.fc-direction-ltr .fc-timeline-slot{border-right:0!important}.fc-direction-rtl .fc-timeline-slot{border-left:0!important}.fc .fc-timeline-now-indicator-container{position:absolute;z-index:4;top:0;bottom:0;left:0;right:0;width:0}.fc .fc-timeline-now-indicator-arrow,.fc .fc-timeline-now-indicator-line{position:absolute;top:0;border-style:solid;border-color:red;border-color:var(--fc-now-indicator-color,red)}.fc .fc-timeline-now-indicator-arrow{margin:0 -6px;border-width:6px 5px 0;border-left-color:transparent;border-right-color:transparent}.fc .fc-timeline-now-indicator-line{margin:0 -1px;bottom:0;border-width:0 0 0 1px}.fc .fc-timeline-events{position:relative;z-index:3;width:0}.fc .fc-timeline-event-harness,.fc .fc-timeline-more-link{position:absolute;top:0}.fc-timeline-event{z-index:1}.fc-timeline-event.fc-event-mirror{z-index:2}.fc-timeline-event{position:relative;display:flex;align-items:center;border-radius:0;padding:2px 1px;margin-bottom:1px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timeline-event .fc-event-main{flex-grow:1;flex-shrink:1;min-width:0}.fc-timeline-event .fc-event-time{font-weight:700}.fc-timeline-event .fc-event-time,.fc-timeline-event .fc-event-title{white-space:nowrap;padding:0 2px}.fc-direction-ltr .fc-timeline-event.fc-event-end,.fc-direction-ltr .fc-timeline-more-link{margin-right:1px}.fc-direction-rtl .fc-timeline-event.fc-event-end,.fc-direction-rtl .fc-timeline-more-link{margin-left:1px}.fc-timeline-overlap-disabled .fc-timeline-event{padding-top:5px;padding-bottom:5px;margin-bottom:0}.fc-timeline-event:not(.fc-event-end):after,.fc-timeline-event:not(.fc-event-start):before{content:"";flex-grow:0;flex-shrink:0;opacity:.5;width:0;height:0;margin:0 1px;border-color:transparent #000;border-style:solid;border-width:5px}.fc-direction-ltr .fc-timeline-event:not(.fc-event-start):before,.fc-direction-rtl .fc-timeline-event:not(.fc-event-end):after{border-left:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-end):after,.fc-direction-rtl .fc-timeline-event:not(.fc-event-start):before{border-right:0}.fc-timeline-more-link{font-size:.85em;font-size:var(--fc-small-font-size,.85em);color:inherit;color:var(--fc-more-link-text-color,inherit);background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);padding:1px;cursor:pointer}.fc-timeline-more-link-inner{display:inline-block;left:0;right:0;padding:2px}.fc .fc-timeline-bg{position:absolute;z-index:2;top:0;bottom:0;width:0;left:0;right:0}.fc .fc-timeline-bg .fc-non-business{z-index:1}.fc .fc-timeline-bg .fc-bg-event{z-index:2}.fc .fc-timeline-bg .fc-highlight{z-index:3}.fc .fc-timeline-bg-harness{position:absolute;top:0;bottom:0}.fc .fc-resource-timeline-divider{width:3px;cursor:col-resize}.fc .fc-resource-group{font-weight:inherit;text-align:inherit}.fc .fc-resource-timeline .fc-resource-group:not([rowspan]){background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc .fc-timeline-lane-frame{position:relative}.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events{box-sizing:content-box;padding-bottom:10px}.fc-timeline-body-expandrows td.fc-timeline-lane{position:relative}.fc-timeline-body-expandrows .fc-timeline-lane-frame{position:static}.fc-datagrid-cell-frame-liquid{height:100%}.fc-liquid-hack .fc-datagrid-cell-frame-liquid{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-datagrid-header .fc-datagrid-cell-frame{position:relative;display:flex;justify-content:flex-start;align-items:center}.fc .fc-datagrid-cell-resizer{position:absolute;z-index:1;top:0;bottom:0;width:5px;cursor:col-resize}.fc .fc-datagrid-cell-cushion{padding:8px;white-space:nowrap;overflow:hidden}.fc .fc-datagrid-expander{cursor:pointer;opacity:.65}.fc .fc-datagrid-expander .fc-icon{display:inline-block;width:1em}.fc .fc-datagrid-expander-placeholder{cursor:auto}.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder{display:none}.fc-direction-ltr .fc-datagrid-cell-resizer{right:-3px}.fc-direction-rtl .fc-datagrid-cell-resizer{left:-3px}.fc-direction-ltr .fc-datagrid-expander{margin-right:3px}.fc-direction-rtl .fc-datagrid-expander{margin-left:3px}'],encapsulation:2}),n})(),ZA=(()=>{class n{static registerPlugins(t){ne.globalPlugins.push(...t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[]]}),n})();const PT=["fullcalendar"];let OT=(()=>{class n{constructor(){this.addEventClick=()=>{var t,r;const i=Jn(Date.now(),"YYYY-MM-dd","en_US"),l=prompt("Enter a date in YYYY-MM-DD format",i),f=new Date(l+"T00:00:00");isNaN(f.valueOf())?alert("Invalid date."):(null===(t=this.calendarComponent)||void 0===t||t.getApi().addEvent({title:"dynamic event",start:f,allDay:!0}),console.log(null===(r=this.calendarComponent)||void 0===r?void 0:r.getApi().getEvents()),alert("Great. Now, update your database..."))},this.dateClick=t=>{console.log(t)},this.eventClick=t=>{console.log(t)},this.calendarOptions={plugins:[NA,jA],eventDisplay:"",defaultRangeSeparator:"",titleRangeSeparator:"",defaultTimedEventDuration:"",defaultAllDayEventDuration:{day:1},forceEventDuration:!0,nextDayThreshold:"",dayHeaders:!0,initialView:"dayGridMonth",aspectRatio:1,headerToolbar:{start:"addEventButton",center:"",end:"dayGridMonth today prev next"},weekends:!0,weekNumbers:!0,editable:!0,nowIndicator:!0,themeSystem:"bootstrap",dragRevertDuration:1,dayPopoverFormat:{month:"2-digit",day:"2-digit",year:"2-digit"},handleWindowResize:!0,windowResizeDelay:0,longPressDelay:0,eventDragMinDistance:0,expandRows:!0,navLinks:!0,selectable:!0,eventMinHeight:0,eventMinWidth:0,eventShortHeight:0,customButtons:{addEventButton:{text:"Log Metric",click:this.addEventClick}},dateClick:this.dateClick.bind(this),eventClick:this.addEventClick.bind(this)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-calendar"]],viewQuery:function(t,r){if(1&t&&h.Gf(PT,5),2&t){let i;h.iGM(i=h.CRH())&&(r.calendarComponent=i.first)}},decls:30,vars:1,consts:[["type","button","data-toggle","modal","data-target","#exampleModal",1,"btn","btn-primary"],["data-backdrop","false","id","exampleModal","role","dialog","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-form","p3"],[1,"form-group"],["for","formGroupExampleInput"],["type","text","id","formGroupExampleInput","placeholder","Date",1,"form-control"],["for","formGroupExampleInput2"],["type","text","id","formGroupExampleInput2","placeholder","Time",1,"form-control"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary"],[1,"container","formMain"],[1,"row"],[1,"col-12"],["id","calendar-main",3,"options"],["fullcalendar",""]],template:function(t,r){1&t&&(h.TgZ(0,"button",0),h._uU(1," Log your meditation!\n"),h.qZA(),h.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"h5",5),h._uU(7,"Log your meditation"),h.qZA(),h.TgZ(8,"button",6)(9,"span",7),h._uU(10,"\xd7"),h.qZA()()(),h.TgZ(11,"form",8)(12,"div",9)(13,"label",10),h._uU(14,"Today's date (MM-DD-YYYY)"),h.qZA(),h._UZ(15,"input",11),h.qZA(),h.TgZ(16,"div",9)(17,"label",12),h._uU(18,"How long did you Meditate?"),h.qZA(),h._UZ(19,"input",13),h.qZA()(),h.TgZ(20,"div",14)(21,"button",15),h._uU(22,"Close"),h.qZA(),h.TgZ(23,"button",16),h._uU(24,"Save changes"),h.qZA()()()()(),h.TgZ(25,"div",17)(26,"div",18)(27,"div",19),h._UZ(28,"full-calendar",20,21),h.qZA()()()),2&t&&(h.xp6(28),h.Q6J("options",r.calendarOptions))},directives:[Pc,xl,el,qA],styles:[".form-group[_ngcontent-%COMP%]{padding:1rem}#calendar-main[_ngcontent-%COMP%]{position:relative;scale:.01vh;max-width:70vw!important;max-height:70vh!important;padding:25px;color:#fff}"]}),n})();var it=$(5861);const KA=["toast-component",""];function FT(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",5),h.NdJ("click",function(){return h.CHM(t),h.oxw().remove()}),h.TgZ(1,"span",6),h._uU(2,"\xd7"),h.qZA()()}}function LT(n,e){if(1&n&&(h.ynx(0),h._uU(1),h.BQk()),2&n){const t=h.oxw(2);h.xp6(1),h.hij("[",t.duplicatesCount+1,"]")}}function VT(n,e){if(1&n&&(h.TgZ(0,"div"),h._uU(1),h.YNc(2,LT,2,1,"ng-container",4),h.qZA()),2&n){const t=h.oxw();h.Tol(t.options.titleClass),h.uIk("aria-label",t.title),h.xp6(1),h.hij(" ",t.title," "),h.xp6(1),h.Q6J("ngIf",t.duplicatesCount)}}function QA(n,e){if(1&n&&h._UZ(0,"div",7),2&n){const t=h.oxw();h.Tol(t.options.messageClass),h.Q6J("innerHTML",t.message,h.oJD)}}function YA(n,e){if(1&n&&(h.TgZ(0,"div",8),h._uU(1),h.qZA()),2&n){const t=h.oxw();h.Tol(t.options.messageClass),h.uIk("aria-label",t.message),h.xp6(1),h.hij(" ",t.message," ")}}function BT(n,e){if(1&n&&(h.TgZ(0,"div"),h._UZ(1,"div",9),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Udp("width",t.width+"%")}}function UT(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",5),h.NdJ("click",function(){return h.CHM(t),h.oxw().remove()}),h.TgZ(1,"span",6),h._uU(2,"\xd7"),h.qZA()()}}function JA(n,e){if(1&n&&(h.ynx(0),h._uU(1),h.BQk()),2&n){const t=h.oxw(2);h.xp6(1),h.hij("[",t.duplicatesCount+1,"]")}}function HT(n,e){if(1&n&&(h.TgZ(0,"div"),h._uU(1),h.YNc(2,JA,2,1,"ng-container",4),h.qZA()),2&n){const t=h.oxw();h.Tol(t.options.titleClass),h.uIk("aria-label",t.title),h.xp6(1),h.hij(" ",t.title," "),h.xp6(1),h.Q6J("ngIf",t.duplicatesCount)}}function jT(n,e){if(1&n&&h._UZ(0,"div",7),2&n){const t=h.oxw();h.Tol(t.options.messageClass),h.Q6J("innerHTML",t.message,h.oJD)}}function GT(n,e){if(1&n&&(h.TgZ(0,"div",8),h._uU(1),h.qZA()),2&n){const t=h.oxw();h.Tol(t.options.messageClass),h.uIk("aria-label",t.message),h.xp6(1),h.hij(" ",t.message," ")}}function B_(n,e){if(1&n&&(h.TgZ(0,"div"),h._UZ(1,"div",9),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Udp("width",t.width+"%")}}class U_{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Vm{constructor(e,t,r,i,l,f){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=l,this.toastRef=f,this._onTap=new li.x,this._onAction=new li.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const Bm={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},ew=new h.OlP("ToastConfig");class tw{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new li.x,this._activate=new li.x,this._manualClose=new li.x,this._resetTimeout=new li.x,this._countDuplicate=new li.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class WT{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,r){return e===Vm?this._toastPackage:this._parentInjector.get(e,t,r)}}class nw extends class $T{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class qT{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let rw=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Jx=(()=>{class n{constructor(t,r,i,l){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=i,this._document=l,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new nw(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new qT(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(rw),h.LFG(h._Vd),h.LFG(h.z2F),h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mp=(()=>{class n{constructor(t,r,i,l,f){this.overlay=r,this._injector=i,this.sanitizer=l,this.ngZone=f,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,r,i={},l=""){return this._preBuildNotification(l,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,l){const{includeTitleDuplicates:f}=this.toastrConfig;for(const m of this.toasts){const E=f&&m.title===t;if((!f||E)&&m.message===r)return m.toastRef.onDuplicate(i,l),m}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,l){return l.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,l)):this._buildNotification(t,r,i,l)}_buildNotification(t,r,i,l){if(!l.toastComponent)throw new Error("toastComponent required");const f=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&l.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==f)return f;this.previousToastMessage=r;let m=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(m=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const E=this.overlay.create(l.positionClass,this.overlayContainer);this.index=this.index+1;let C=r;r&&l.enableHtml&&(C=this.sanitizer.sanitize(h.q3G.HTML,r));const k=new tw(E),O=new Vm(this.index,l,C,i,t,k),q=new WT(O,this._injector),J=new U_(l.toastComponent,q),se=E.attach(J,this.toastrConfig.newestOnTop);k.componentInstance=se.instance;const Me={toastId:this.index,title:i||"",message:r||"",toastRef:k,onShown:k.afterActivate(),onHidden:k.afterClosed(),onTap:O.onTap(),onAction:O.onAction(),portal:se};return m||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Me.toastRef.activate()})),this.toasts.push(Me),Me}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ew),h.LFG(Jx),h.LFG(h.zs3),h.LFG(so),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Um=(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(l=>{this.duplicatesCount=l})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(mp),h.Y36(Vm),h.Y36(h.R0b))},n.\u0275cmp=h.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&h.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(h.d8E("@flyInOut",r.state),h.Tol(r.toastClasses),h.Udp("display",r.displayStyle))},attrs:KA,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(h.YNc(0,FT,3,0,"button",0),h.YNc(1,VT,3,5,"div",1),h.YNc(2,QA,1,3,"div",2),h.YNc(3,YA,2,4,"div",3),h.YNc(4,BT,2,2,"div",4)),2&t&&(h.Q6J("ngIf",r.options.closeButton),h.xp6(1),h.Q6J("ngIf",r.title),h.xp6(1),h.Q6J("ngIf",r.message&&r.options.enableHtml),h.xp6(1),h.Q6J("ngIf",r.message&&!r.options.enableHtml),h.xp6(1),h.Q6J("ngIf",r.options.progressBar))},directives:[br],encapsulation:2,data:{animation:[ry("flyInOut",[Dh("inactive",il({opacity:0})),Dh("active",il({opacity:1})),Dh("removed",il({opacity:0})),kg("inactive => active",xg("{{ easeTime }}ms {{ easing }}")),kg("active => removed",xg("{{ easeTime }}ms {{ easing }}"))])]}}),n})();const ZT=Object.assign(Object.assign({},Bm),{toastComponent:Um});let Mf=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:ew,useValue:{default:ZT,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Zi]]}),n})(),KT=(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.appRef=i,this.width=-1,this.toastClasses="",this.state="inactive",this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(l=>{this.duplicatesCount=l})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(mp),h.Y36(Vm),h.Y36(h.z2F))},n.\u0275cmp=h.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,r){1&t&&h.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(h.Tol(r.toastClasses),h.Udp("display",r.displayStyle))},attrs:KA,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(h.YNc(0,UT,3,0,"button",0),h.YNc(1,HT,3,5,"div",1),h.YNc(2,jT,1,3,"div",2),h.YNc(3,GT,2,4,"div",3),h.YNc(4,B_,2,2,"div",4)),2&t&&(h.Q6J("ngIf",r.options.closeButton),h.xp6(1),h.Q6J("ngIf",r.title),h.xp6(1),h.Q6J("ngIf",r.message&&r.options.enableHtml),h.xp6(1),h.Q6J("ngIf",r.message&&!r.options.enableHtml),h.xp6(1),h.Q6J("ngIf",r.options.progressBar))},directives:[br],encapsulation:2}),n})();Object.assign(Object.assign({},Bm),{toastComponent:KT});var jm=$(198),Wn=$(2090),ju=$(9681),Gu=$(1877),vp=$(4859),iw=$(4986),ui=$(1038);function xf(){return(0,Ks.e)((n,e)=>{let t,r=!1;n.subscribe((0,Lr.x)(e,i=>{const l=t;t=i,r&&e.next([l,i]),r=!0}))})}function YT(n,e){return n===e}var Zt,Ko=$(2011),XT=($(5881),$(3942)),eS="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ma={},sw=sw||{},kn=eS||self;function Gm(){}function zu(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Rf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var ow="closure_uid_"+(1e9*Math.random()>>>0),aw=0;function tS(n,e,t){return n.call.apply(n.bind,arguments)}function Xx(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function wi(n,e,t){return(wi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?tS:Xx).apply(null,arguments)}function H_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ci(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,l){for(var f=Array(arguments.length-2),m=2;m<arguments.length;m++)f[m-2]=arguments[m];return e.prototype[i].apply(r,f)}}function cl(){this.s=this.s,this.o=this.o}var rS={};cl.prototype.s=!1,cl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Nf(n){return Object.prototype.hasOwnProperty.call(n,ow)&&n[ow]||(n[ow]=++aw)}(this);delete rS[n]}},cl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const lw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},uw=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in i&&e.call(t,i[l],l,n)};function cw(n){return Array.prototype.concat.apply([],arguments)}function j_(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function zm(n){return/^[\s\xa0]*$/.test(n)}var ts,dw=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Cs(n,e){return-1!=n.indexOf(e)}function sd(n,e){return n<e?-1:n>e?1:0}e:{var G_=kn.navigator;if(G_){var z_=G_.userAgent;if(z_){ts=z_;break e}}ts=""}function $m(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function $_(n){const e={};for(const t in n)e[t]=n[t];return e}var W_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fw(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let l=0;l<W_.length;l++)t=W_[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Wm(n){return Wm[" "](n),n}Wm[" "]=Gm;var qm,n,oS=Cs(ts,"Opera"),kf=Cs(ts,"Trident")||Cs(ts,"MSIE"),hw=Cs(ts,"Edge"),od=hw||kf,pw=Cs(ts,"Gecko")&&!(Cs(ts.toLowerCase(),"webkit")&&!Cs(ts,"Edge"))&&!(Cs(ts,"Trident")||Cs(ts,"MSIE"))&&!Cs(ts,"Edge"),q_=Cs(ts.toLowerCase(),"webkit")&&!Cs(ts,"Edge");function xa(){var n=kn.document;return n?n.documentMode:void 0}e:{var _p="",ad=(n=ts,pw?/rv:([^\);]+)(\)|;)/.exec(n):hw?/Edge\/([\d\.]+)/.exec(n):kf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):q_?/WebKit\/(\S+)/.exec(n):oS?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(ad&&(_p=ad?ad[1]:""),kf){var Z_=xa();if(null!=Z_&&Z_>parseFloat(_p)){qm=String(Z_);break e}}qm=_p}var aS={};var uS=kn.document&&kf&&(xa()||parseInt(qm,10))||void 0,cS=function(){if(!kn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{kn.addEventListener("test",Gm,e),kn.removeEventListener("test",Gm,e)}catch(t){}return n}();function $i(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Of(n,e){if($i.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(pw){e:{try{Wm(e.nodeName);var i=!0;break e}catch(l){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:K_[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Of.Z.h.call(this)}}$i.prototype.h=function(){this.defaultPrevented=!0},Ci(Of,$i);var K_={2:"touch",3:"pen",4:"mouse"};Of.prototype.h=function(){Of.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ff="closure_listenable_"+(1e6*Math.random()|0),dS=0;function fS(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++dS,this.ca=this.fa=!1}function Q_(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Lf(n){this.src=n,this.g={},this.h=0}function bp(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],i=lw(r,e);(l=0<=i)&&Array.prototype.splice.call(r,i,1),l&&(Q_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Zm(n,e,t,r){for(var i=0;i<n.length;++i){var l=n[i];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return i}return-1}Lf.prototype.add=function(n,e,t,r,i){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var f=Zm(n,e,r,i);return-1<f?(e=n[f],t||(e.fa=!1)):((e=new fS(e,this.src,l,!!r,i)).fa=t,n.push(e)),e};var Ap="closure_lm_"+(1e6*Math.random()|0),wp={};function gw(n,e,t,r,i){if(r&&r.once)return vw(n,e,t,r,i);if(Array.isArray(e)){for(var l=0;l<e.length;l++)gw(n,e[l],t,r,i);return null}return t=X_(t),n&&n[Ff]?n.N(e,t,Rf(r)?!!r.capture:!!r,i):mw(n,e,t,!1,r,i)}function mw(n,e,t,r,i,l){if(!e)throw Error("Invalid event type");var f=Rf(i)?!!i.capture:!!i,m=Km(n);if(m||(n[Ap]=m=new Lf(n)),(t=m.add(e,t,r,f,l)).proxy)return t;if(r=function hS(){var e=yw;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)cS||(i=f),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(J_(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function vw(n,e,t,r,i){if(Array.isArray(e)){for(var l=0;l<e.length;l++)vw(n,e[l],t,r,i);return null}return t=X_(t),n&&n[Ff]?n.O(e,t,Rf(r)?!!r.capture:!!r,i):mw(n,e,t,!0,r,i)}function Y_(n,e,t,r,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)Y_(n,e[l],t,r,i);else r=Rf(r)?!!r.capture:!!r,t=X_(t),n&&n[Ff]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Zm(l=n.g[e],t,r,i))&&(Q_(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=Km(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Zm(e,t,r,i)),(t=-1<n?e[n]:null)&&Cp(t))}function Cp(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Ff])bp(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(J_(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Km(e))?(bp(t,n),0==t.h&&(t.src=null,e[Ap]=null)):Q_(n)}}}function J_(n){return n in wp?wp[n]:wp[n]="on"+n}function yw(n,e){if(n.ca)n=!0;else{e=new Of(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Cp(n),n=t.call(r,e)}return n}function Km(n){return(n=n[Ap])instanceof Lf?n:null}var Qm="__closure_events_fn_"+(1e9*Math.random()>>>0);function X_(n){return"function"==typeof n?n:(n[Qm]||(n[Qm]=function(e){return n.handleEvent(e)}),n[Qm])}function mi(){cl.call(this),this.i=new Lf(this),this.P=this,this.I=null}function Di(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new $i(e,n);else if(e instanceof $i)e.target=e.target||n;else{var i=e;fw(e=new $i(r,n),i)}if(i=!0,t)for(var l=t.length-1;0<=l;l--){var f=e.g=t[l];i=Ym(f,r,!0,e)&&i}if(i=Ym(f=e.g=n,r,!0,e)&&i,i=Ym(f,r,!1,e)&&i,t)for(l=0;l<t.length;l++)i=Ym(f=e.g=t[l],r,!1,e)&&i}function Ym(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.ca&&f.capture==t){var m=f.listener,E=f.ia||f.src;f.fa&&bp(n.i,f),i=!1!==m.call(E,r)&&i}}return i&&!r.defaultPrevented}Ci(mi,cl),mi.prototype[Ff]=!0,mi.prototype.removeEventListener=function(n,e,t,r){Y_(this,n,e,t,r)},mi.prototype.M=function(){if(mi.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Q_(t[r]);delete n.g[e],n.h--}}this.I=null},mi.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},mi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Jm=kn.JSON.stringify;function pS(){var n=Ew;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var ud,ld=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new gS,n=>n.reset());class gS{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function mS(n){kn.setTimeout(()=>{throw n},0)}function _w(n,e){ud||function vS(){var n=kn.Promise.resolve(void 0);ud=function(){n.then(bw)}}(),Dp||(ud(),Dp=!0),Ew.add(n,e)}var Dp=!1,Ew=new class Ds{constructor(){this.h=this.g=null}add(e,t){const r=ld.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function bw(){for(var n;n=pS();){try{n.h.call(n.g)}catch(t){mS(t)}var e=ld;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Dp=!1}function Xm(n,e){mi.call(this),this.h=n||1,this.g=e||kn,this.j=wi(this.kb,this),this.l=Date.now()}function e0(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Tp(n,e,t){if("function"==typeof n)t&&(n=wi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=wi(n.handleEvent,n)}return 2147483647<Number(e)?-1:kn.setTimeout(n,e||0)}function t0(n){n.g=Tp(()=>{n.g=null,n.i&&(n.i=!1,t0(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ci(Xm,mi),(Zt=Xm.prototype).da=!1,Zt.S=null,Zt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Di(this,"tick"),this.da&&(e0(this),this.start()))}},Zt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Zt.M=function(){Xm.Z.M.call(this),e0(this),delete this.g};class Aw extends cl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:t0(this)}M(){super.M(),this.g&&(kn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $u(n){cl.call(this),this.h=n,this.g={}}Ci($u,cl);var ev=[];function yS(n,e,t,r){Array.isArray(t)||(t&&(ev[0]=t.toString()),t=ev);for(var i=0;i<t.length;i++){var l=gw(e,t[i],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function n0(n){$m(n.g,function(e,t){this.g.hasOwnProperty(t)&&Cp(e)},n),n.g={}}function tv(){this.g=!0}function cd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function r0(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var l=i[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<i.length;f++)i[f]=""}}}return Jm(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}$u.prototype.M=function(){$u.Z.M.call(this),n0(this)},$u.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},tv.prototype.Aa=function(){this.g=!1},tv.prototype.info=function(){};var Jl={},ES=null;function rv(){return ES=ES||new mi}function Cw(n){$i.call(this,Jl.Ma,n)}function Vf(n){const e=rv();Di(e,new Cw(e,n))}function s0(n,e){$i.call(this,Jl.STAT_EVENT,n),this.stat=e}function Ts(n){const e=rv();Di(e,new s0(e,n))}function o0(n,e){$i.call(this,Jl.Na,n),this.size=e}function Bf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return kn.setTimeout(function(){n()},e)}Jl.Ma="serverreachability",Ci(Cw,$i),Jl.STAT_EVENT="statevent",Ci(s0,$i),Jl.Na="timingevent",Ci(o0,$i);var iv={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Dw={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function sv(){}function a0(){}sv.prototype.h=null;var l0,Uf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ov(){$i.call(this,"d")}function av(){$i.call(this,"c")}function lv(){}function uv(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new $u(this),this.P=eR,this.W=new Xm(n=od?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new u0}function u0(){this.i=null,this.g="",this.h=!1}Ci(ov,$i),Ci(av,$i),Ci(lv,sv),lv.prototype.g=function(){return new XMLHttpRequest},lv.prototype.i=function(){return{}},l0=new lv;var eR=45e3,Sw={},c0={};function Iw(n,e,t){n.K=1,n.v=fv(Ra(e)),n.s=t,n.U=!0,bS(n,null)}function bS(n,e){n.F=Date.now(),Wu(n),n.A=Ra(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),m0(t.h,"t",r),n.C=0,t=n.l.H,n.h=new u0,n.g=Uw(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Aw(wi(n.Ia,n,n.g),n.O)),yS(n.V,n.g,"readystatechange",n.gb),e=n.H?$_(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Vf(1),function ww(n,e,t,r,i,l){n.info(function(){if(n.g)if(l)for(var f="",m=l.split("&"),E=0;E<m.length;E++){var C=m[E].split("=");if(1<C.length){var k=C[0];C=C[1];var O=k.split("_");f=2<=O.length&&"type"==O[1]?f+(k+"=")+C+"&":f+(k+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+f})}(n.j,n.u,n.A,n.m,n.X,n.s)}function AS(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function wS(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=tR(n,t),i==c0){4==e&&(n.o=4,Ts(14),r=!1),cd(n.j,n.m,null,"[Incomplete Response]");break}if(i==Sw){n.o=4,Ts(15),cd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}cd(n.j,n.m,i,null),cv(n,i)}AS(n)&&i!=c0&&i!=Sw&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ts(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Lw(e),e.L=!0,Ts(11))):(cd(n.j,n.m,t,"[Invalid Chunked Response]"),qu(n),dd(n))}function tR(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?c0:(t=Number(e.substring(t,r)),isNaN(t)?Sw:(r+=1)+t>e.length?c0:(e=e.substr(r,t),n.C=r+t,e))}function Wu(n){n.Y=Date.now()+n.P,CS(n,n.P)}function CS(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Bf(wi(n.eb,n),e)}function Sp(n){n.B&&(kn.clearTimeout(n.B),n.B=null)}function dd(n){0==n.l.G||n.I||GS(n.l,n)}function qu(n){Sp(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,e0(n.W),n0(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function cv(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||v0(t.i,n)))if(t.I=n.N,!n.J&&v0(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(C){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Bf(wi(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;w0(t),bv(t)}Gf(t),Ts(18)}if(1>=OS(t.i)&&t.ka){try{t.ka()}catch(C){}t.ka=void 0}}else vd(t,11)}else if((n.J||t.g==n)&&w0(t),!zm(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let C=i[e];if(t.U=C[0],C=C[1],2==t.G)if("c"==C[0]){t.J=C[1],t.la=C[2];const k=C[3];null!=k&&(t.ma=k,t.h.info("VER="+t.ma));const O=C[4];null!=O&&(t.za=O,t.h.info("SVER="+t.za));const q=C[5];null!=q&&"number"==typeof q&&0<q&&(t.K=r=1.5*q,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const J=n.g;if(J){const se=J.g?J.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(se){var l=r.i;!l.g&&(Cs(se,"spdy")||Cs(se,"quic")||Cs(se,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(pv(l,l.h),l.h=null))}if(r.D){const Me=J.g?J.g.getResponseHeader("X-HTTP-Session-Id"):null;Me&&(r.sa=Me,kr(r.F,r.D,Me))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var f=n;if((r=t).oa=Bw(r,r.H?r.la:null,r.W),f.J){Rw(r.i,f);var m=f,E=r.K;E&&m.setTimeout(E),m.B&&(Sp(m),Wu(m)),r.g=f}else Cv(r);0<t.l.length&&kp(t)}else"stop"!=C[0]&&"close"!=C[0]||vd(t,7);else 3==t.G&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?vd(t,7):E0(t):"noop"!=C[0]&&t.j&&t.j.wa(C),t.A=0)}Vf(4)}catch(C){}}function Ip(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(zu(n)||"string"==typeof n)uw(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(zu(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function nR(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(zu(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var l=0;l<i;l++)e.call(void 0,r[l],t&&t[l],n)}}function fd(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof fd)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function d0(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Zu(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Zu(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Zu(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Zt=uv.prototype).setTimeout=function(n){this.P=n},Zt.gb=function(n){n=n.target;const e=this.L;e&&3==Ku(n)?e.l():this.Ia(n)},Zt.Ia=function(n){try{if(n==this.g)e:{const k=Ku(this.g);var e=this.g.Da();const O=this.g.ba();if(!(3>k)&&(3!=k||od||this.g&&(this.h.h||this.g.ga()||HS(this.g)))){this.I||4!=k||7==e||Vf(8==e||0>=O?3:2),Sp(this);var t=this.g.ba();this.N=t;t:if(AS(this)){var r=HS(this.g);n="";var i=r.length,l=4==Ku(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){qu(this),dd(this);var f="";break t}this.h.i=new kn.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=200==t,function nv(n,e,t,r,i,l,f){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.X,k,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,E=this.g;if((m=E.g?E.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zm(m)){var C=m;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,Ts(12),qu(this),dd(this);break e}cd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,cv(this,t)}this.U?(wS(this,k,f),od&&this.i&&3==k&&(yS(this.V,this.W,"tick",this.fb),this.W.start())):(cd(this.j,this.m,f,null),cv(this,f)),4==k&&qu(this),this.i&&!this.I&&(4==k?GS(this.l,this):(this.i=!1,Wu(this)))}else 400==t&&0<f.indexOf("Unknown SID")?(this.o=3,Ts(12)):(this.o=0,Ts(13)),qu(this),dd(this)}}}catch(k){}},Zt.fb=function(){if(this.g){var n=Ku(this.g),e=this.g.ga();this.C<e.length&&(Sp(this),wS(this,n,e),this.i&&4!=n&&Wu(this))}},Zt.cancel=function(){this.I=!0,qu(this)},Zt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function _S(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Vf(3),Ts(17)),qu(this),this.o=2,dd(this)):CS(this,this.Y-n)},(Zt=fd.prototype).R=function(){d0(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Zt.T=function(){return d0(this),this.g.concat()},Zt.get=function(n,e){return Zu(this.h,n)?this.h[n]:e},Zt.set=function(n,e){Zu(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Zt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],l=this.get(i);n.call(e,l,i,this)}};var DS=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function hd(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof hd){this.g=void 0!==e?e:n.g,dv(this,n.j),this.s=n.s,f0(this,n.i),h0(this,n.m),this.l=n.l,e=n.h;var t=new gd;t.i=e.i,e.g&&(t.g=new fd(e.g),t.h=e.h),SS(this,t),this.o=n.o}else n&&(t=String(n).match(DS))?(this.g=!!e,dv(this,t[1]||"",!0),this.s=Mp(t[2]||""),f0(this,t[3]||"",!0),h0(this,t[4]),this.l=Mp(t[5]||"",!0),SS(this,t[6]||"",!0),this.o=Mp(t[7]||"")):(this.g=!!e,this.h=new gd(null,this.g))}function Ra(n){return new hd(n)}function dv(n,e,t){n.j=t?Mp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function f0(n,e,t){n.i=t?Mp(e,!0):e}function h0(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function SS(n,e,t){e instanceof gd?(n.h=e,function kS(n,e){e&&!n.j&&(Xl(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(g0(this,r),m0(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=pd(e,RS)),n.h=new gd(e,n.g))}function kr(n,e,t){n.h.set(e,t)}function fv(n){return kr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Mp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function pd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,MS),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function MS(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}hd.prototype.toString=function(){var n=[],e=this.j;e&&n.push(pd(e,Qo,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(pd(e,Qo,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(pd(t,"/"==t.charAt(0)?p0:xS,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",pd(t,NS)),n.join("")};var Qo=/[#\/\?@]/g,xS=/[#\?:]/g,p0=/[#\?]/g,RS=/[#\?@]/g,NS=/#/g;function gd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Xl(n){n.g||(n.g=new fd,n.h=0,n.i&&function TS(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var l=n[t].substring(0,r);i=n[t].substring(r+1)}else l=n[t];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function g0(n,e){Xl(n),e=Hf(n,e),Zu(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Zu((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&d0(n)))}function Mw(n,e){return Xl(n),e=Hf(n,e),Zu(n.g.h,e)}function m0(n,e,t){g0(n,e),0<t.length&&(n.i=null,n.g.set(Hf(n,e),j_(t)),n.h+=t.length)}function Hf(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function hv(n){this.l=n||Na,n=kn.PerformanceNavigationTiming?0<(n=kn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(kn.g&&kn.g.Ea&&kn.g.Ea()&&kn.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Zt=gd.prototype).add=function(n,e){Xl(this),this.i=null,n=Hf(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Zt.forEach=function(n,e){Xl(this),this.g.forEach(function(t,r){uw(t,function(i){n.call(e,i,r,this)},this)},this)},Zt.T=function(){Xl(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],l=0;l<i.length;l++)t.push(e[r]);return t},Zt.R=function(n){Xl(this);var e=[];if("string"==typeof n)Mw(this,n)&&(e=cw(e,this.g.get(Hf(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=cw(e,n[t])}return e},Zt.set=function(n,e){return Xl(this),this.i=null,Mw(this,n=Hf(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Zt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Zt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var f=i;""!==r[l]&&(f+="="+encodeURIComponent(String(r[l]))),n.push(f)}}return this.i=n.join("&")};var Na=10;function xw(n){return!!n.h||!!n.g&&n.g.size>=n.j}function OS(n){return n.h?1:n.g?n.g.size:0}function v0(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function pv(n,e){n.g?n.g.add(e):n.h=e}function Rw(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Nw(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return j_(n.i)}function gv(){}function FS(){this.g=new gv}function iR(n,e,t){const r=t||"";try{Ip(n,function(i,l){let f=i;Rf(i)&&(f=Jm(i)),e.push(r+l+"="+encodeURIComponent(f))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function mv(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(l){}}function xp(n){this.l=n.$b||null,this.j=n.ib||!1}function vv(n,e){mi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=yv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}hv.prototype.cancel=function(){if(this.i=Nw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},gv.prototype.stringify=function(n){return kn.JSON.stringify(n,void 0)},gv.prototype.parse=function(n){return kn.JSON.parse(n,void 0)},Ci(xp,sv),xp.prototype.g=function(){return new vv(this.l,this.j)},xp.prototype.i=function(n){return function(){return n}}({}),Ci(vv,mi);var yv=0;function _v(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function md(n){n.readyState=4,n.l=null,n.j=null,n.A=null,jf(n)}function jf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Zt=vv.prototype).open=function(n,e){if(this.readyState!=yv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,jf(this)},Zt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||kn).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Zt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,md(this)),this.readyState=yv},Zt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,jf(this)),this.g&&(this.readyState=3,jf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==kn.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;_v(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Zt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?md(this):jf(this),3==this.readyState&&_v(this)}},Zt.Ua=function(n){this.g&&(this.response=this.responseText=n,md(this))},Zt.Ta=function(n){this.g&&(this.response=n,md(this))},Zt.ha=function(){this.g&&md(this)},Zt.setRequestHeader=function(n,e){this.v.append(n,e)},Zt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Zt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(vv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var LS=kn.JSON.parse;function Yr(n){mi.call(this),this.headers=new fd,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=y0,this.K=this.L=!1}Ci(Yr,mi);var y0="",VS=/^https?$/i,BS=["POST","PUT"];function oR(n){return"content-type"==n.toLowerCase()}function _0(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Pw(n),Ev(n)}function Pw(n){n.D||(n.D=!0,Di(n,"complete"),Di(n,"error"))}function Ow(n){if(n.h&&void 0!==sw&&(!n.C[1]||4!=Ku(n)||2!=n.ba()))if(n.v&&4==Ku(n))Tp(n.Fa,0,n);else if(Di(n,"readystatechange"),4==Ku(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var i=String(n.H).match(DS)[1]||null;if(!i&&kn.self&&kn.self.location){var l=kn.self.location.protocol;i=l.substr(0,l.length-1)}r=!VS.test(i?i.toLowerCase():"")}t=r}if(t)Di(n,"complete"),Di(n,"success");else{n.m=6;try{var f=2<Ku(n)?n.g.statusText:""}catch(E){f=""}n.j=f+" ["+n.ba()+"]",Pw(n)}}finally{Ev(n)}}}function Ev(n,e){if(n.g){US(n);const t=n.g,r=n.C[0]?Gm:null;n.g=null,n.C=null,e||Di(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function US(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(kn.clearTimeout(n.A),n.A=null)}function Ku(n){return n.g?n.g.readyState:0}function HS(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case y0:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Fw(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function aR(n){let e="";return $m(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):kr(n,e,t))}function Rp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Np(n){this.za=0,this.l=[],this.h=new tv,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Rp("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Rp("baseRetryDelayMs",5e3,n),this.$a=Rp("retryDelaySeedMs",1e4,n),this.Ya=Rp("forwardChannelMaxRetries",2,n),this.ra=Rp("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new hv(n&&n.concurrentRequestLimit),this.Ca=new FS,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function E0(n){if(b0(n),3==n.G){var e=n.V++,t=Ra(n.F);kr(t,"SID",n.J),kr(t,"RID",e),kr(t,"TYPE","terminate"),Pp(n,t),(e=new uv(n,n.h,e,void 0)).K=2,e.v=fv(Ra(t)),t=!1,kn.navigator&&kn.navigator.sendBeacon&&(t=kn.navigator.sendBeacon(e.v.toString(),"")),!t&&kn.Image&&((new Image).src=e.v,t=!0),t||(e.g=Uw(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Wu(e)}Vw(n)}function bv(n){n.g&&(Lw(n),n.g.cancel(),n.g=null)}function b0(n){bv(n),n.u&&(kn.clearTimeout(n.u),n.u=null),w0(n),n.i.cancel(),n.m&&("number"==typeof n.m&&kn.clearTimeout(n.m),n.m=null)}function eu(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&kp(n)}function kp(n){xw(n.i)||n.m||(n.m=!0,_w(n.Ha,n),n.C=0)}function Av(n,e){var t;t=e?e.m:n.V++;const r=Ra(n.F);kr(r,"SID",n.J),kr(r,"RID",t),kr(r,"AID",n.U),Pp(n,r),n.o&&n.s&&Fw(r,n.o,n.s),t=new uv(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=wv(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),pv(n.i,t),Iw(t,r,e)}function Pp(n,e){n.j&&Ip({},function(t,r){kr(e,r,t)})}function wv(n,e,t){t=Math.min(n.l.length,t);var r=n.j?wi(n.j.Oa,n.j,n):null;e:{var i=n.l;let l=-1;for(;;){const f=["count="+t];-1==l?0<t?(l=i[0].h,f.push("ofs="+l)):l=0:f.push("ofs="+l);let m=!0;for(let E=0;E<t;E++){let C=i[E].h;const k=i[E].g;if(C-=l,0>C)l=Math.max(0,i[E].h-100),m=!1;else try{iR(k,f,"req"+C+"_")}catch(O){r&&r(k)}}if(m){r=f.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Cv(n){n.g||n.u||(n.Y=1,_w(n.Ga,n),n.A=0)}function Gf(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Bf(wi(n.Ga,n),C0(n,n.A)),n.A++,0))}function Lw(n){null!=n.B&&(kn.clearTimeout(n.B),n.B=null)}function jS(n){n.g=new uv(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Ra(n.oa);kr(e,"RID","rpc"),kr(e,"SID",n.J),kr(e,"CI",n.N?"0":"1"),kr(e,"AID",n.U),Pp(n,e),kr(e,"TYPE","xmlhttp"),n.o&&n.s&&Fw(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=fv(Ra(e)),t.s=null,t.U=!0,bS(t,n)}function w0(n){null!=n.v&&(kn.clearTimeout(n.v),n.v=null)}function GS(n,e){var t=null;if(n.g==e){w0(n),Lw(n),n.g=null;var r=2}else{if(!v0(n.i,e))return;t=e.D,Rw(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Di(r=rv(),new o0(r,t,e,i)),kp(n)}else Cv(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function A0(n,e){return!(OS(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Bf(wi(n.Ha,n,e),C0(n,n.C)),n.C++,0)))}(n,e)||2==r&&Gf(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:vd(n,5);break;case 4:vd(n,10);break;case 3:vd(n,6);break;default:vd(n,2)}}function C0(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function vd(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=wi(n.jb,n);t||(t=new hd("//www.google.com/images/cleardot.gif"),kn.location&&"http"==kn.location.protocol||dv(t,"https"),fv(t)),function kw(n,e){const t=new tv;if(kn.Image){const r=new Image;r.onload=H_(mv,t,r,"TestLoadImage: loaded",!0,e),r.onerror=H_(mv,t,r,"TestLoadImage: error",!1,e),r.onabort=H_(mv,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=H_(mv,t,r,"TestLoadImage: timeout",!1,e),kn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ts(2);n.G=0,n.j&&n.j.va(e),Vw(n),b0(n)}function Vw(n){n.G=0,n.I=-1,n.j&&((0!=Nw(n.i).length||0!=n.l.length)&&(n.i.i.length=0,j_(n.l),n.l.length=0),n.j.ua())}function Bw(n,e,t){let r=function IS(n){return n instanceof hd?Ra(n):new hd(n,void 0)}(t);if(""!=r.i)e&&f0(r,e+"."+r.i),h0(r,r.m);else{const i=kn.location;r=function rR(n,e,t,r){var i=new hd(null,void 0);return n&&dv(i,n),e&&f0(i,e),t&&h0(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&$m(n.aa,function(i,l){kr(r,l,i)}),t=n.sa,(e=n.D)&&t&&kr(r,e,t),kr(r,"VER",n.ma),Pp(n,r),r}function Uw(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Yr(t&&n.Ba&&!n.qa?new xp({ib:!0}):n.qa)).L=n.H,e}function D0(){}function Op(){if(kf&&!(10<=Number(uS)))throw Error("Environmental error: no available transport.")}function Qs(n,e){mi.call(this),this.g=new Np(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!zm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zm(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new yd(this)}function Hw(n){ov.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function jw(){av.call(this),this.status=1}function yd(n){this.g=n}(Zt=Yr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():l0.g(),this.C=function Tw(n){return n.h||(n.h=n.i())}(this.u?this.u:l0),this.g.onreadystatechange=wi(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void _0(this,l)}n=t||"";const i=new fd(this.headers);r&&Ip(r,function(l,f){i.set(f,l)}),r=function iS(n){e:{var e=oR;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=kn.FormData&&n instanceof kn.FormData,!(0<=lw(BS,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(l,f){this.g.setRequestHeader(f,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{US(this),0<this.B&&((this.K=function sR(n){return kf&&function lS(){return function sS(n){var e=aS;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=dw(String(qm)).split("."),t=dw("9").split("."),r=Math.max(e.length,t.length);for(let f=0;0==n&&f<r;f++){var i=e[f]||"",l=t[f]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==i[0].length&&0==l[0].length)break;n=sd(0==i[1].length?0:parseInt(i[1],10),0==l[1].length?0:parseInt(l[1],10))||sd(0==i[2].length,0==l[2].length)||sd(i[2],l[2]),i=i[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=wi(this.pa,this)):this.A=Tp(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){_0(this,l)}},Zt.pa=function(){void 0!==sw&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Di(this,"timeout"),this.abort(8))},Zt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Di(this,"complete"),Di(this,"abort"),Ev(this))},Zt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ev(this,!0)),Yr.Z.M.call(this)},Zt.Fa=function(){this.s||(this.F||this.v||this.l?Ow(this):this.cb())},Zt.cb=function(){Ow(this)},Zt.ba=function(){try{return 2<Ku(this)?this.g.status:-1}catch(n){return-1}},Zt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Zt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),LS(e)}},Zt.Da=function(){return this.m},Zt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Zt=Np.prototype).ma=8,Zt.G=1,Zt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Zt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new uv(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=$_(l),fw(l,this.P)):l=this.P),null===this.o&&(i.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=wv(this,i,e),kr(t=Ra(this.F),"RID",n),kr(t,"CVER",22),this.D&&kr(t,"X-HTTP-Session-Id",this.D),Pp(this,t),this.o&&l&&Fw(t,this.o,l),pv(this.i,i),this.Ra&&kr(t,"TYPE","init"),this.ja?(kr(t,"$req",e),kr(t,"SID","null"),i.$=!0,Iw(i,t,null)):Iw(i,t,e),this.G=2}}else 3==this.G&&(n?Av(this,n):0==this.l.length||xw(this.i)||Av(this))},Zt.Ga=function(){if(this.u=null,jS(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Bf(wi(this.bb,this),n)}},Zt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ts(10),bv(this),jS(this))},Zt.ab=function(){null!=this.v&&(this.v=null,bv(this),Gf(this),Ts(19))},Zt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ts(2)):(this.h.info("Failed to ping google.com"),Ts(1))},(Zt=D0.prototype).xa=function(){},Zt.wa=function(){},Zt.va=function(){},Zt.ua=function(){},Zt.Oa=function(){},Op.prototype.g=function(n,e){return new Qs(n,e)},Ci(Qs,mi),Qs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),_w(wi(n.hb,n,e))),Ts(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Bw(n,null,n.W),kp(n)},Qs.prototype.close=function(){E0(this.g)},Qs.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,eu(this.g,e)}else this.v?((e={}).__data__=Jm(n),eu(this.g,e)):eu(this.g,n)},Qs.prototype.M=function(){this.g.j=null,delete this.j,E0(this.g),delete this.g,Qs.Z.M.call(this)},Ci(Hw,ov),Ci(jw,av),Ci(yd,D0),yd.prototype.xa=function(){Di(this.g,"a")},yd.prototype.wa=function(n){Di(this.g,new Hw(n))},yd.prototype.va=function(n){Di(this.g,new jw(n))},yd.prototype.ua=function(){Di(this.g,"b")},Op.prototype.createWebChannel=Op.prototype.g,Qs.prototype.send=Qs.prototype.u,Qs.prototype.open=Qs.prototype.m,Qs.prototype.close=Qs.prototype.close,iv.NO_ERROR=0,iv.TIMEOUT=8,iv.HTTP_ERROR=6,Dw.COMPLETE="complete",a0.EventType=Uf,Uf.OPEN="a",Uf.CLOSE="b",Uf.ERROR="c",Uf.MESSAGE="d",mi.prototype.listen=mi.prototype.N,Yr.prototype.listenOnce=Yr.prototype.O,Yr.prototype.getLastError=Yr.prototype.La,Yr.prototype.getLastErrorCode=Yr.prototype.Da,Yr.prototype.getStatus=Yr.prototype.ba,Yr.prototype.getResponseJson=Yr.prototype.Qa,Yr.prototype.getResponseText=Yr.prototype.ga,Yr.prototype.send=Yr.prototype.ea;var T0=Ma.createWebChannelTransport=function(){return new Op},lR=Ma.getStatEventTarget=function(){return rv()},Dv=Ma.ErrorCode=iv,S0=Ma.EventType=Dw,zS=Ma.Event=Jl,Gw=Ma.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},uR=Ma.FetchXmlHttpFactory=xp,I0=Ma.WebChannel=a0,$S=Ma.XhrIo=Yr;const zw="@firebase/firestore";class ns{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ns.UNAUTHENTICATED=new ns(null),ns.GOOGLE_CREDENTIALS=new ns("google-credentials-uid"),ns.FIRST_PARTY=new ns("first-party-uid"),ns.MOCK_USER=new ns("mock-user");let Fp="9.8.0";const _d=new Gu.Yd("@firebase/firestore");function $w(){return _d.logLevel}function St(n,...e){if(_d.logLevel<=Gu.in.DEBUG){const t=e.map(Ww);_d.debug(`Firestore (${Fp}): ${n}`,...t)}}function vi(n,...e){if(_d.logLevel<=Gu.in.ERROR){const t=e.map(Ww);_d.error(`Firestore (${Fp}): ${n}`,...t)}}function Tv(n,...e){if(_d.logLevel<=Gu.in.WARN){const t=e.map(Ww);_d.warn(`Firestore (${Fp}): ${n}`,...t)}}function Ww(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function Jt(n="Unexpected state"){const e=`FIRESTORE (${Fp}) INTERNAL ASSERTION FAILED: `+n;throw vi(e),new Error(e)}function s(n,e){n||Jt()}function a(n,e){return n}const u={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class p extends Wn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class y{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class A{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class S{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ns.UNAUTHENTICATED))}shutdown(){}}class x{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class L{constructor(e){this.t=e,this.currentUser=ns.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const l=C=>this.i!==i?(i=this.i,t(C)):Promise.resolve();let f=new y;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new y,e.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const C=f;e.enqueueRetryable((0,it.Z)(function*(){yield C.promise,yield l(r.currentUser)}))},E=C=>{St("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(C=>E(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?E(C):(St("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new y)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(St("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(s("string"==typeof r.accessToken),new A(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return s(null===e||"string"==typeof e),new ns(e)}}class j{constructor(e,t,r){this.type="FirstParty",this.user=ns.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class re{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new j(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ns.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ee{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Fe{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=l=>{null!=l.error&&St("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.p;return this.p=l.token,St("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const i=l=>{St("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>i(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?i(l):St("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(s("string"==typeof t.token),this.p=t.token,new Ee(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class gt{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function kt(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}gt.A=-1;class qt{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=kt(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<t&&(r+=e.charAt(i[l]%e.length))}return r}}function Ge(n,e){return n<e?-1:n>e?1:0}function rn(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function qn(n){return n+"\0"}class bn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new p(u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new p(u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new p(u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new p(u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return bn.fromMillis(Date.now())}static fromDate(e){return bn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new bn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Xt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Xt(e)}static min(){return new Xt(new bn(0,0))}static max(){return new Xt(new bn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Qu(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function tu(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Sv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Ed{constructor(e,t,r){void 0===t?t=0:t>e.length&&Jt(),void 0===r?r=e.length-t:r>e.length-t&&Jt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Ed.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ed?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=e.get(i),f=t.get(i);if(l<f)return-1;if(l>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Xn extends Ed{construct(e,t,r){return new Xn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new p(u.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Xn(t)}static emptyPath(){return new Xn([])}}const M0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jr extends Ed{construct(e,t,r){return new Jr(e,t,r)}static isValidIdentifier(e){return M0.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Jr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(0===r.length)throw new p(u.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let f=!1;for(;i<e.length;){const m=e[i];if("\\"===m){if(i+1===e.length)throw new p(u.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[i+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new p(u.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=E,i+=2}else"`"===m?(f=!f,i++):"."!==m||f?(r+=m,i++):(l(),i++)}if(l(),f)throw new p(u.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jr(t)}static emptyPath(){return new Jr([])}}class Yu{constructor(e){this.fields=e,e.sort(Jr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return rn(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Xr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Xr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new Xr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xr.EMPTY_BYTE_STRING=new Xr("");const wP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zf(n){if(s(!!n),"string"==typeof n){let e=0;const t=wP.exec(n);if(s(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ci(n.seconds),nanos:ci(n.nanos)}}function ci(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Lp(n){return"string"==typeof n?Xr.fromBase64String(n):Xr.fromUint8Array(n)}function WS(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function dR(n){const e=n.mapValue.fields.__previous_value__;return WS(e)?dR(e):e}function R0(n){const e=zf(n.mapValue.fields.__local_write_time__.timestampValue);return new bn(e.seconds,e.nanos)}class CP{constructor(e,t,r,i,l,f,m,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.useFetchStreams=E}}class bd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new bd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof bd&&e.projectId===this.projectId&&e.database===this.database}}function N0(n){return null==n}function k0(n){return 0===n&&1/n==-1/0}function fR(n){return"number"==typeof n&&Number.isInteger(n)&&!k0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Lt{constructor(e){this.path=e}static fromPath(e){return new Lt(Xn.fromString(e))}static fromName(e){return new Lt(Xn.fromString(e).popFirst(5))}static empty(){return new Lt(Xn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Xn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Xn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Lt(new Xn(e.slice()))}}const $f={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},qw={nullValue:"NULL_VALUE"};function Vp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?WS(n)?4:mR(n)?9007199254740991:10:Jt()}function Ju(n,e){if(n===e)return!0;const t=Vp(n);if(t!==Vp(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return R0(n).isEqual(R0(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=zf(r.timestampValue),f=zf(i.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Lp(n.bytesValue).isEqual(Lp(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return ci(r.geoPointValue.latitude)===ci(i.geoPointValue.latitude)&&ci(r.geoPointValue.longitude)===ci(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ci(r.integerValue)===ci(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=ci(r.doubleValue),f=ci(i.doubleValue);return l===f?k0(l)===k0(f):isNaN(l)&&isNaN(f)}return!1}(n,e);case 9:return rn(n.arrayValue.values||[],e.arrayValue.values||[],Ju);case 10:return function(r,i){const l=r.mapValue.fields||{},f=i.mapValue.fields||{};if(Qu(l)!==Qu(f))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===f[m]||!Ju(l[m],f[m])))return!1;return!0}(n,e);default:return Jt()}var i}function P0(n,e){return void 0!==(n.values||[]).find(t=>Ju(t,e))}function Wf(n,e){if(n===e)return 0;const t=Vp(n),r=Vp(e);if(t!==r)return Ge(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ge(n.booleanValue,e.booleanValue);case 2:return function(i,l){const f=ci(i.integerValue||i.doubleValue),m=ci(l.integerValue||l.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(n,e);case 3:return hR(n.timestampValue,e.timestampValue);case 4:return hR(R0(n),R0(e));case 5:return Ge(n.stringValue,e.stringValue);case 6:return function(i,l){const f=Lp(i),m=Lp(l);return f.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(i,l){const f=i.split("/"),m=l.split("/");for(let E=0;E<f.length&&E<m.length;E++){const C=Ge(f[E],m[E]);if(0!==C)return C}return Ge(f.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,l){const f=Ge(ci(i.latitude),ci(l.latitude));return 0!==f?f:Ge(ci(i.longitude),ci(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,l){const f=i.values||[],m=l.values||[];for(let E=0;E<f.length&&E<m.length;++E){const C=Wf(f[E],m[E]);if(C)return C}return Ge(f.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,l){if(i===$f.mapValue&&l===$f.mapValue)return 0;if(i===$f.mapValue)return 1;if(l===$f.mapValue)return-1;const f=i.fields||{},m=Object.keys(f),E=l.fields||{},C=Object.keys(E);m.sort(),C.sort();for(let k=0;k<m.length&&k<C.length;++k){const O=Ge(m[k],C[k]);if(0!==O)return O;const q=Wf(f[m[k]],E[C[k]]);if(0!==q)return q}return Ge(m.length,C.length)}(n.mapValue,e.mapValue);default:throw Jt()}}function hR(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ge(n,e);const t=zf(n),r=zf(e),i=Ge(t.seconds,r.seconds);return 0!==i?i:Ge(t.nanos,r.nanos)}function Iv(n){return qS(n)}function qS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=zf(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Lp(n.bytesValue).toBase64():"referenceValue"in n?Lt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",l=!0;for(const f of r.values||[])l?l=!1:i+=",",i+=qS(f);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let l="{",f=!0;for(const m of i)f?f=!1:l+=",",l+=`${m}:${qS(r.fields[m])}`;return l+"}"}(n.mapValue):Jt();var e}function Bp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ZS(n){return!!n&&"integerValue"in n}function O0(n){return!!n&&"arrayValue"in n}function pR(n){return!!n&&"nullValue"in n}function gR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Zw(n){return!!n&&"mapValue"in n}function F0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return tu(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=F0(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=F0(n.arrayValue.values[t]);return e}return Object.assign({},n)}function mR(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function DP(n){return"nullValue"in n?qw:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Bp(bd.empty(),Lt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Jt()}function TP(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Bp(bd.empty(),Lt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?$f:Jt()}function vR(n,e){const t=Wf(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function yR(n,e){const t=Wf(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Ys{constructor(e){this.value=e}static empty(){return new Ys({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Zw(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=F0(t)}setAll(e){let t=Jr.emptyPath(),r={},i=[];e.forEach((f,m)=>{if(!t.isImmediateParentOf(m)){const E=this.getFieldsMap(t);this.applyChanges(E,r,i),r={},i=[],t=m.popLast()}f?r[m.lastSegment()]=F0(f):i.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());Zw(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ju(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Zw(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){tu(t,(i,l)=>e[i]=l);for(const i of r)delete e[i]}clone(){return new Ys(F0(this.value))}}function _R(n){const e=[];return tu(n.fields,(t,r)=>{const i=new Jr([t]);if(Zw(r)){const l=_R(r.mapValue).fields;if(0===l.length)e.push(i);else for(const f of l)e.push(i.child(f))}else e.push(i)}),new Yu(e)}class Br{constructor(e,t,r,i,l,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=l,this.documentState=f}static newInvalidDocument(e){return new Br(e,0,Xt.min(),Xt.min(),Ys.empty(),0)}static newFoundDocument(e,t,r){return new Br(e,1,t,Xt.min(),r,0)}static newNoDocument(e,t){return new Br(e,2,t,Xt.min(),Ys.empty(),0)}static newUnknownDocument(e,t){return new Br(e,3,t,Xt.min(),Ys.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ys.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ys.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Br&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Br(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kw{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function KS(n){return n.fields.find(e=>2===e.kind)}function Up(n){return n.fields.filter(e=>2!==e.kind)}Kw.UNKNOWN_ID=-1;class Qw{constructor(e,t){this.fieldPath=e,this.kind=t}}class L0{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new L0(0,nu.min())}}function ER(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Xt.fromTimestamp(1e9===r?new bn(t+1,0):new bn(t,r));return new nu(i,Lt.empty(),e)}function SP(n){return new nu(n.readTime,n.key,-1)}class nu{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new nu(Xt.min(),Lt.empty(),-1)}static max(){return new nu(Xt.max(),Lt.empty(),-1)}}function bR(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Lt.comparator(n.documentKey,e.documentKey),0!==t?t:Ge(n.largestBatchId,e.largestBatchId))}class yi{constructor(e,t){this.comparator=e,this.root=t||Ss.EMPTY}insert(e,t){return new yi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ss.BLACK,null,null))}remove(e){return new yi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ss.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yw(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yw(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yw(this.root,e,this.comparator,!0)}}class Yw{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ss{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=null!=r?r:Ss.RED,this.left=null!=i?i:Ss.EMPTY,this.right=null!=l?l:Ss.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new Ss(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===l?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ss.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ss.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ss.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ss.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Jt();const e=this.left.check();if(e!==this.right.check())throw Jt();return e+(this.isRed()?0:1)}}Ss.EMPTY=null,Ss.RED=!0,Ss.BLACK=!1,Ss.EMPTY=new class{constructor(){this.size=0}get key(){throw Jt()}get value(){throw Jt()}get color(){throw Jt()}get left(){throw Jt()}get right(){throw Jt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Ss(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pr{constructor(e){this.comparator=e,this.data=new yi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new AR(this.data.getIterator())}getIteratorFrom(e){return new AR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Pr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(i,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Pr(this.comparator);return t.data=e,t}}class AR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Mv(n){return n.hasNext()?n.getNext():void 0}class IP{constructor(e,t=null,r=[],i=[],l=null,f=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=f,this.endAt=m,this.P=null}}function wR(n,e=null,t=[],r=[],i=null,l=null,f=null){return new IP(n,e,t,r,i,l,f)}function Hp(n){const e=a(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Iv(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),N0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Iv(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Iv(r)).join(",")),e.P=t}return e.P}function V0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!LP(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Ju(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!IR(n.startAt,e.startAt)&&IR(n.endAt,e.endAt)}function Jw(n){return Lt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Xw(n,e){return n.filters.filter(t=>t instanceof Is&&t.field.isEqual(e))}function CR(n,e,t){let r=qw,i=!0;for(const l of Xw(n,e)){let f=qw,m=!0;switch(l.op){case"<":case"<=":f=DP(l.value);break;case"==":case"in":case">=":f=l.value;break;case">":f=l.value,m=!1;break;case"!=":case"not-in":f=qw}vR({value:r,inclusive:i},{value:f,inclusive:m})<0&&(r=f,i=m)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const f=t.position[l];vR({value:r,inclusive:i},{value:f,inclusive:t.inclusive})<0&&(r=f,i=t.inclusive);break}return{value:r,inclusive:i}}function DR(n,e,t){let r=$f,i=!0;for(const l of Xw(n,e)){let f=$f,m=!0;switch(l.op){case">=":case">":f=TP(l.value),m=!1;break;case"==":case"in":case"<=":f=l.value;break;case"<":f=l.value,m=!1;break;case"!=":case"not-in":f=$f}yR({value:r,inclusive:i},{value:f,inclusive:m})>0&&(r=f,i=m)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const f=t.position[l];yR({value:r,inclusive:i},{value:f,inclusive:t.inclusive})>0&&(r=f,i=t.inclusive);break}return{value:r,inclusive:i}}class Is extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new xP(e,t,r):"array-contains"===t?new kP(e,r):"in"===t?new PP(e,r):"not-in"===t?new OP(e,r):"array-contains-any"===t?new FP(e,r):new Is(e,t,r)}static V(e,t,r){return"in"===t?new RP(e,r):new NP(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Wf(t,this.value)):null!==t&&Vp(this.value)===Vp(t)&&this.v(Wf(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Jt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class xP extends Is{constructor(e,t,r){super(e,t,r),this.key=Lt.fromName(r.referenceValue)}matches(e){const t=Lt.comparator(e.key,this.key);return this.v(t)}}class RP extends Is{constructor(e,t){super(e,"in",t),this.keys=TR(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class NP extends Is{constructor(e,t){super(e,"not-in",t),this.keys=TR(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function TR(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Lt.fromName(r.referenceValue))}class kP extends Is{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return O0(t)&&P0(t.arrayValue,this.value)}}class PP extends Is{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&P0(this.value.arrayValue,t)}}class OP extends Is{constructor(e,t){super(e,"not-in",t)}matches(e){if(P0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!P0(this.value.arrayValue,t)}}class FP extends Is{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!O0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>P0(this.value.arrayValue,r))}}class qf{constructor(e,t){this.position=e,this.inclusive=t}}class xv{constructor(e,t="asc"){this.field=e,this.dir=t}}function LP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function SR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],f=n.position[i];if(r=l.field.isKeyField()?Lt.comparator(Lt.fromName(f.referenceValue),t.key):Wf(f,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function IR(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ju(n.position[t],e.position[t]))return!1;return!0}class Ad{constructor(e,t=null,r=[],i=[],l=null,f="F",m=null,E=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=f,this.startAt=m,this.endAt=E,this.D=null,this.C=null}}function MR(n,e,t,r,i,l,f,m){return new Ad(n,e,t,r,i,l,f,m)}function Rv(n){return new Ad(n)}function QS(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function YS(n){for(const e of n.filters)if(e.S())return e.field;return null}function JS(n){return null!==n.collectionGroup}function Nv(n){const e=a(n);if(null===e.D){e.D=[];const t=YS(e),r=QS(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new xv(t)),e.D.push(new xv(Jr.keyField(),"asc"));else{let i=!1;for(const l of e.explicitOrderBy)e.D.push(l),l.field.isKeyField()&&(i=!0);if(!i){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new xv(Jr.keyField(),l))}}}return e.D}function dl(n){const e=a(n);if(!e.C)if("F"===e.limitType)e.C=wR(e.path,e.collectionGroup,Nv(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Nv(e))t.push(new xv(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new qf(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new qf(e.startAt.position,e.startAt.inclusive):null;e.C=wR(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function xR(n,e,t){return new Ad(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function B0(n,e){return V0(dl(n),dl(e))&&n.limitType===e.limitType}function RR(n){return`${Hp(dl(n))}|lt:${n.limitType}`}function XS(n){return`Query(target=${function MP(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Iv(r.value)}`;var r}).join(", ")}]`),N0(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Iv(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Iv(t)).join(",")),`Target(${e})`}(dl(n))}; limitType=${n.limitType})`}function eI(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Lt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,l,f){const m=SR(i,l,f);return i.inclusive?m<=0:m<0}(t.startAt,Nv(t),r)||t.endAt&&!function(i,l,f){const m=SR(i,l,f);return i.inclusive?m>=0:m>0}(t.endAt,Nv(t),r)));var t,r}function NR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function kR(n){return(e,t)=>{let r=!1;for(const i of Nv(n)){const l=BP(i,e,t);if(0!==l)return l;r=r||i.field.isKeyField()}return 0}}function BP(n,e,t){const r=n.field.isKeyField()?Lt.comparator(e.key,t.key):function(i,l,f){const m=l.data.field(i),E=f.data.field(i);return null!==m&&null!==E?Wf(m,E):Jt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Jt()}}function PR(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:k0(e)?"-0":e}}function OR(n){return{integerValue:""+n}}function FR(n,e){return fR(e)?OR(e):PR(n,e)}class eC{constructor(){this._=void 0}}function UP(n,e,t){return n instanceof kv?function(r,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(l.fields.__previous_value__=i),{mapValue:l}}(t,e):n instanceof jp?VR(n,e):n instanceof Gp?BR(n,e):function(r,i){const l=LR(r,i),f=UR(l)+UR(r.k);return ZS(l)&&ZS(r.k)?OR(f):PR(r.M,f)}(n,e)}function HP(n,e,t){return n instanceof jp?VR(n,e):n instanceof Gp?BR(n,e):t}function LR(n,e){return n instanceof Pv?ZS(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class kv extends eC{}class jp extends eC{constructor(e){super(),this.elements=e}}function VR(n,e){const t=HR(e);for(const r of n.elements)t.some(i=>Ju(i,r))||t.push(r);return{arrayValue:{values:t}}}class Gp extends eC{constructor(e){super(),this.elements=e}}function BR(n,e){let t=HR(e);for(const r of n.elements)t=t.filter(i=>!Ju(i,r));return{arrayValue:{values:t}}}class Pv extends eC{constructor(e,t){super(),this.M=e,this.k=t}}function UR(n){return ci(n.integerValue||n.doubleValue)}function HR(n){return O0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class U0{constructor(e,t){this.field=e,this.transform=t}}class GP{constructor(e,t){this.version=e,this.transformResults=t}}class Ti{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ti}static exists(e){return new Ti(void 0,e)}static updateTime(e){return new Ti(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tC(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class nC{}function zP(n,e,t){n instanceof H0?function(r,i,l){const f=r.value.clone(),m=$R(r.fieldTransforms,i,l.transformResults);f.setAll(m),i.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):n instanceof zp?function(r,i,l){if(!tC(r.precondition,i))return void i.convertToUnknownDocument(l.version);const f=$R(r.fieldTransforms,i,l.transformResults),m=i.data;m.setAll(zR(r)),m.setAll(f),i.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function tI(n,e,t){var i;n instanceof H0?function(r,i,l){if(!tC(r.precondition,i))return;const f=r.value.clone(),m=WR(r.fieldTransforms,l,i);f.setAll(m),i.convertToFoundDocument(GR(i),f).setHasLocalMutations()}(n,e,t):n instanceof zp?function(r,i,l){if(!tC(r.precondition,i))return;const f=WR(r.fieldTransforms,l,i),m=i.data;m.setAll(zR(r)),m.setAll(f),i.convertToFoundDocument(GR(i),m).setHasLocalMutations()}(n,e,t):tC(n.precondition,i=e)&&i.convertToNoDocument(Xt.min())}function $P(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=LR(r.transform,i||null);null!=l&&(null==t&&(t=Ys.empty()),t.set(r.field,l))}return t||null}function jR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&rn(t,r,(i,l)=>function jP(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof jp&&r instanceof jp||t instanceof Gp&&r instanceof Gp?rn(t.elements,r.elements,Ju):t instanceof Pv&&r instanceof Pv?Ju(t.k,r.k):t instanceof kv&&r instanceof kv);var t,r}(i,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function GR(n){return n.isFoundDocument()?n.version:Xt.min()}class H0 extends nC{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class zp extends nC{constructor(e,t,r,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}}function zR(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function $R(n,e,t){const r=new Map;s(n.length===t.length);for(let i=0;i<t.length;i++){const l=n[i],f=l.transform,m=e.data.field(l.field);r.set(l.field,HP(f,m,t[i]))}return r}function WR(n,e,t){const r=new Map;for(const i of n){const l=i.transform,f=t.data.field(i.field);r.set(i.field,UP(l,f,e))}return r}class j0 extends nC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class nI extends nC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class WP{constructor(e){this.count=e}}var Si,or;function qR(n){switch(n){default:return Jt();case u.CANCELLED:case u.UNKNOWN:case u.DEADLINE_EXCEEDED:case u.RESOURCE_EXHAUSTED:case u.INTERNAL:case u.UNAVAILABLE:case u.UNAUTHENTICATED:return!1;case u.INVALID_ARGUMENT:case u.NOT_FOUND:case u.ALREADY_EXISTS:case u.PERMISSION_DENIED:case u.FAILED_PRECONDITION:case u.ABORTED:case u.OUT_OF_RANGE:case u.UNIMPLEMENTED:case u.DATA_LOSS:return!0}}function ZR(n){if(void 0===n)return vi("GRPC error has no .code"),u.UNKNOWN;switch(n){case Si.OK:return u.OK;case Si.CANCELLED:return u.CANCELLED;case Si.UNKNOWN:return u.UNKNOWN;case Si.DEADLINE_EXCEEDED:return u.DEADLINE_EXCEEDED;case Si.RESOURCE_EXHAUSTED:return u.RESOURCE_EXHAUSTED;case Si.INTERNAL:return u.INTERNAL;case Si.UNAVAILABLE:return u.UNAVAILABLE;case Si.UNAUTHENTICATED:return u.UNAUTHENTICATED;case Si.INVALID_ARGUMENT:return u.INVALID_ARGUMENT;case Si.NOT_FOUND:return u.NOT_FOUND;case Si.ALREADY_EXISTS:return u.ALREADY_EXISTS;case Si.PERMISSION_DENIED:return u.PERMISSION_DENIED;case Si.FAILED_PRECONDITION:return u.FAILED_PRECONDITION;case Si.ABORTED:return u.ABORTED;case Si.OUT_OF_RANGE:return u.OUT_OF_RANGE;case Si.UNIMPLEMENTED:return u.UNIMPLEMENTED;case Si.DATA_LOSS:return u.DATA_LOSS;default:return Jt()}}(or=Si||(Si={}))[or.OK=0]="OK",or[or.CANCELLED=1]="CANCELLED",or[or.UNKNOWN=2]="UNKNOWN",or[or.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",or[or.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",or[or.NOT_FOUND=5]="NOT_FOUND",or[or.ALREADY_EXISTS=6]="ALREADY_EXISTS",or[or.PERMISSION_DENIED=7]="PERMISSION_DENIED",or[or.UNAUTHENTICATED=16]="UNAUTHENTICATED",or[or.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",or[or.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",or[or.ABORTED=10]="ABORTED",or[or.OUT_OF_RANGE=11]="OUT_OF_RANGE",or[or.UNIMPLEMENTED=12]="UNIMPLEMENTED",or[or.INTERNAL=13]="INTERNAL",or[or.UNAVAILABLE=14]="UNAVAILABLE",or[or.DATA_LOSS=15]="DATA_LOSS";class Zf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,l]of r)if(this.equalsFn(i,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){tu(this.inner,(t,r)=>{for(const[i,l]of r)e(i,l)})}isEmpty(){return Sv(this.inner)}size(){return this.innerSize}}const qP=new yi(Lt.comparator);function fl(){return qP}const ZP=new yi(Lt.comparator);function rI(...n){let e=ZP;for(const t of n)e=e.insert(t.key,t);return e}function G0(){return new Zf(n=>n.toString(),(n,e)=>n.isEqual(e))}const KP=new yi(Lt.comparator),QP=new Pr(Lt.comparator);function vr(...n){let e=QP;for(const t of n)e=e.add(t);return e}const YP=new Pr(Ge);function rC(){return YP}class z0{constructor(e,t,r,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,$0.createSynthesizedTargetChangeForCurrentChange(e,t)),new z0(Xt.min(),r,rC(),fl(),vr())}}class $0{constructor(e,t,r,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new $0(Xr.EMPTY_BYTE_STRING,t,vr(),vr(),vr())}}class iC{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class KR{constructor(e,t){this.targetId=e,this.$=t}}class QR{constructor(e,t,r=Xr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class YR{constructor(){this.B=0,this.L=XR(),this.U=Xr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=vr(),t=vr(),r=vr();return this.L.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Jt()}}),new $0(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=XR()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class JP{constructor(e){this.nt=e,this.st=new Map,this.it=fl(),this.rt=JR(),this.ot=new Pr(Ge)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:Jt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const l=i.target;if(Jw(l))if(0===r){const f=new Lt(l.path);this.ct(t,f,Br.newNoDocument(f,Xt.min()))}else s(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((l,f)=>{const m=this.wt(f);if(m){if(l.current&&Jw(m.target)){const E=new Lt(m.target.path);null!==this.it.get(E)||this.It(f,E)||this.ct(f,E,Br.newNoDocument(E,e))}l.j&&(t.set(f,l.H()),l.J())}});let r=vr();this.rt.forEach((l,f)=>{let m=!0;f.forEachWhile(E=>{const C=this.wt(E);return!C||2===C.purpose||(m=!1,!1)}),m&&(r=r.add(l))}),this.it.forEach((l,f)=>f.setReadTime(e));const i=new z0(e,t,this.ot,this.it,r);return this.it=fl(),this.rt=JR(),this.ot=new Pr(Ge),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new YR,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Pr(Ge),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||St("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new YR),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function JR(){return new yi(Lt.comparator)}function XR(){return new yi(Lt.comparator)}const XP={asc:"ASCENDING",desc:"DESCENDING"},eO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class tO{constructor(e,t){this.databaseId=e,this.N=t}}function W0(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function e1(n,e){return n.N?e.toBase64():e.toUint8Array()}function nO(n,e){return W0(n,e.toTimestamp())}function rs(n){return s(!!n),Xt.fromTimestamp(function(e){const t=zf(e);return new bn(t.seconds,t.nanos)}(n))}function iI(n,e){return(t=n,new Xn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function t1(n){const e=Xn.fromString(n);return s(c1(e)),e}function q0(n,e){return iI(n.databaseId,e.path)}function Xu(n,e){const t=t1(e);if(t.get(1)!==n.databaseId.projectId)throw new p(u.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new p(u.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Lt(r1(t))}function sI(n,e){return iI(n.databaseId,e)}function n1(n){const e=t1(n);return 4===e.length?Xn.emptyPath():r1(e)}function Z0(n){return new Xn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function r1(n){return s(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function i1(n,e,t){return{name:q0(n,e),fields:t.value.mapValue.fields}}function s1(n,e,t){const r=Xu(n,e.name),i=rs(e.updateTime),l=new Ys({mapValue:{fields:e.fields}}),f=Br.newFoundDocument(r,i,l);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function K0(n,e){let t;if(e instanceof H0)t={update:i1(n,e.key,e.value)};else if(e instanceof j0)t={delete:q0(n,e.key)};else if(e instanceof zp)t={update:i1(n,e.key,e.data),updateMask:dO(e.fieldMask)};else{if(!(e instanceof nI))return Jt();t={verify:q0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const f=l.transform;if(f instanceof kv)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof jp)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Gp)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Pv)return{fieldPath:l.field.canonicalString(),increment:f.k};throw Jt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:nO(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Jt()),t;var i}function oI(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Ti.updateTime(rs(i.updateTime)):void 0!==i.exists?Ti.exists(i.exists):Ti.none():Ti.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,f){let m=null;"setToServerValue"in f?(s("REQUEST_TIME"===f.setToServerValue),m=new kv):"appendMissingElements"in f?m=new jp(f.appendMissingElements.values||[]):"removeAllFromArray"in f?m=new Gp(f.removeAllFromArray.values||[]):"increment"in f?m=new Pv(l,f.increment):Jt();const E=Jr.fromServerFormat(f.fieldPath);return new U0(E,m)}(n,i)):[];var i;if(e.update){const i=Xu(n,e.update.name),l=new Ys({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new Yu((e.updateMask.fieldPaths||[]).map(C=>Jr.fromServerFormat(C)));return new zp(i,l,f,t,r)}return new H0(i,l,t,r)}if(e.delete){const i=Xu(n,e.delete);return new j0(i,t)}if(e.verify){const i=Xu(n,e.verify);return new nI(i,t)}return Jt()}function o1(n,e){return{documents:[sI(n,e.path)]}}function a1(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=sI(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=sI(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(E){if(0===E.length)return;const C=E.map(k=>function(O){if("=="===O.op){if(gR(O.value))return{unaryFilter:{field:Ov(O.field),op:"IS_NAN"}};if(pR(O.value))return{unaryFilter:{field:Ov(O.field),op:"IS_NULL"}}}else if("!="===O.op){if(gR(O.value))return{unaryFilter:{field:Ov(O.field),op:"IS_NOT_NAN"}};if(pR(O.value))return{unaryFilter:{field:Ov(O.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ov(O.field),op:lO(O.op),value:O.value}}}(k));return 1===C.length?C[0]:{compositeFilter:{op:"AND",filters:C}}}(e.filters);i&&(t.structuredQuery.where=i);const l=function(E){if(0!==E.length)return E.map(C=>{return{field:Ov((k=C).field),direction:aO(k.dir)};var k})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const f=(C=e.limit,n.N||N0(C)?C:{value:C});var C,m,E;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(E=e.endAt).inclusive,values:E.position}),t}function l1(n){let e=n1(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){s(1===r);const k=t.from[0];k.allDescendants?i=k.collectionId:e=e.child(k.collectionId)}let l=[];t.where&&(l=u1(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(k=>{return new xv(Fv((O=k).field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction));var O}));let m=null;t.limit&&(m=function(k){let O;return O="object"==typeof k?k.value:k,N0(O)?null:O}(t.limit));let E=null;var k;t.startAt&&(E=new qf((k=t.startAt).values||[],!!k.before));let C=null;return t.endAt&&(C=function(k){return new qf(k.values||[],!k.before)}(t.endAt)),MR(e,i,f,l,m,"F",E,C)}function u1(n){return n?void 0!==n.unaryFilter?[cO(n)]:void 0!==n.fieldFilter?[uO(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>u1(e)).reduce((e,t)=>e.concat(t)):Jt():[]}function aO(n){return XP[n]}function lO(n){return eO[n]}function Ov(n){return{fieldPath:n.canonicalString()}}function Fv(n){return Jr.fromServerFormat(n.fieldPath)}function uO(n){return Is.create(Fv(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Jt()}}(n.fieldFilter.op),n.fieldFilter.value)}function cO(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Fv(n.unaryFilter.field);return Is.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Fv(n.unaryFilter.field);return Is.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Fv(n.unaryFilter.field);return Is.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Fv(n.unaryFilter.field);return Is.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Jt()}}function dO(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function c1(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function wo(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=d1(e)),e=fO(n.get(t),e);return d1(e)}function fO(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function d1(n){return n+"\x01\x01"}function ec(n){const e=n.length;if(s(e>=2),2===e)return s("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Xn.emptyPath();const t=e-2,r=[];let i="";for(let l=0;l<e;){const f=n.indexOf("\x01",l);switch((f<0||f>t)&&Jt(),n.charAt(f+1)){case"\x01":const m=n.substring(l,f);let E;0===i.length?E=m:(i+=m,E=i,i=""),r.push(E);break;case"\x10":i+=n.substring(l,f),i+="\0";break;case"\x11":i+=n.substring(l,f+1);break;default:Jt()}l=f+2}return new Xn(r)}const f1=["userId","batchId"];function sC(n,e){return[n,wo(e)]}function h1(n,e,t){return[n,wo(e),t]}const hO={},pO=["prefixPath","collectionGroup","readTime","documentId"],gO=["prefixPath","collectionGroup","documentId"],mO=["collectionGroup","readTime","prefixPath","documentId"],vO=["canonicalId","targetId"],yO=["targetId","path"],_O=["path","targetId"],EO=["collectionId","parent"],bO=["indexId","uid"],AO=["uid","sequenceNumber"],wO=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],CO=["indexId","uid","orderedDocumentKey"],DO=["userId","collectionPath","documentId"],TO=["userId","collectionPath","largestBatchId"],SO=["userId","collectionGroup","largestBatchId"],p1=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],IO=[...p1,"documentOverlays"],g1=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],MO=[...g1,"indexConfiguration","indexState","indexEntries"],m1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class v1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Jt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Je((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Je?t:Je.resolve(t)}catch(t){return Je.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Je.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Je.reject(t)}static resolve(e){return new Je((t,r)=>{t(e)})}static reject(e){return new Je((t,r)=>{r(e)})}static waitFor(e){return new Je((t,r)=>{let i=0,l=0,f=!1;e.forEach(m=>{++i,m.next(()=>{++l,f&&l===i&&t()},E=>r(E))}),f=!0,l===i&&t()})}static or(e){let t=Je.resolve(!1);for(const r of e)t=t.next(i=>i?Je.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,l)=>{r.push(t.call(this,i,l))}),this.waitFor(r)}}class oC{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new y,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Q0(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=aI(r.target.error);this.At.reject(new Q0(e,i))}}static open(e,t,r,i){try{return new oC(t,e.transaction(i,r))}catch(l){throw new Q0(t,l)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(St("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new RO(t)}}class ru{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===ru.Vt((0,Wn.z$)())&&vi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return St("SimpleDb","Removing database:",e),Wp(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Wn.hl)())return!1;if(ru.St())return!0;const e=(0,Wn.z$)(),t=ru.Vt(e),r=0<t&&t<10,i=ru.Dt(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,it.Z)(function*(){return t.db||(St("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=f=>{r(f.target.result)},l.onblocked=()=>{i(new Q0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=f=>{const m=f.target.error;i("VersionError"===m.name?new p(u.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new p(u.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new Q0(e,m))},l.onupgradeneeded=f=>{St("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',f.oldVersion),t.Pt.kt(f.target.result,l.transaction,f.oldVersion,t.version).next(()=>{St("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var l=this;return(0,it.Z)(function*(){const f="readonly"===t;let m=0;for(;;){++m;try{l.db=yield l.Nt(e);const E=oC.open(l.db,e,f?"readonly":"readwrite",r),C=i(E).next(k=>(E.bt(),k)).catch(k=>(E.abort(k),Je.reject(k))).toPromise();return C.catch(()=>{}),yield E.Rt,C}catch(E){const C="FirebaseError"!==E.name&&m<3;if(St("SimpleDb","Transaction failed with error:",E.message,"Retrying:",C),l.close(),!C)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class xO{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Wp(this.Ft.delete())}}class Q0 extends p{constructor(e,t){super(u.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function $p(n){return"IndexedDbTransactionError"===n.name}class RO{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(St("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(St("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Wp(r)}add(e){return St("SimpleDb","ADD",this.store.name,e,e),Wp(this.store.add(e))}get(e){return Wp(this.store.get(e)).next(t=>(void 0===t&&(t=null),St("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return St("SimpleDb","DELETE",this.store.name,e),Wp(this.store.delete(e))}count(){return St("SimpleDb","COUNT",this.store.name),Wp(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),l=[];return this.Kt(i,(f,m)=>{l.push(m)}).next(()=>l)}{const i=this.store.getAll(r.range);return new Je((l,f)=>{i.onerror=m=>{f(m.target.error)},i.onsuccess=m=>{l(m.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Je((i,l)=>{r.onerror=f=>{l(f.target.error)},r.onsuccess=f=>{i(f.target.result)}})}Qt(e,t){St("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Kt(i,(l,f,m)=>m.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Kt(i,t)}zt(e){const t=this.cursor({});return new Je((r,i)=>{t.onerror=l=>{const f=aI(l.target.error);i(f)},t.onsuccess=l=>{const f=l.target.result;f?e(f.primaryKey,f.value).next(m=>{m?f.continue():r()}):r()}})}Kt(e,t){const r=[];return new Je((i,l)=>{e.onerror=f=>{l(f.target.error)},e.onsuccess=f=>{const m=f.target.result;if(!m)return void i();const E=new xO(m),C=t(m.primaryKey,m.value,E);if(C instanceof Je){const k=C.catch(O=>(E.done(),Je.reject(O)));r.push(k)}E.isDone?i():null===E.Lt?m.continue():m.continue(E.Lt)}}).next(()=>Je.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Wp(n){return new Je((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=aI(r.target.error);t(i)}})}let y1=!1;function aI(n){const e=ru.Vt((0,Wn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new p("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return y1||(y1=!0,setTimeout(()=>{throw r},0)),r}}return n}class _1 extends v1{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function is(n,e){const t=a(n);return ru.xt(t.Ht,e)}class lI{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&zP(l,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&tI(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&tI(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Xt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),vr())}isEqual(e){return this.batchId===e.batchId&&rn(this.mutations,e.mutations,(t,r)=>jR(t,r))&&rn(this.baseMutations,e.baseMutations,(t,r)=>jR(t,r))}}class uI{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){s(e.mutations.length===r.length);let i=KP;const l=e.mutations;for(let f=0;f<l.length;f++)i=i.insert(l[f].key,r[f].version);return new uI(e,t,r,i)}}class cI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Kf{constructor(e,t,r,i,l=Xt.min(),f=Xt.min(),m=Xr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m}withSequenceNumber(e){return new Kf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Kf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Kf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class E1{constructor(e){this.Jt=e}}function b1(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:aC(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:q0(i=n.Jt,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:W0(i,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:qp(e.version)};else{if(!e.isUnknownDocument())return Jt();r.unknownDocument={path:t.path.toArray(),version:qp(e.version)}}var i,l;return r}function aC(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function qp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Zp(n){const e=new bn(n.seconds,n.nanoseconds);return Xt.fromTimestamp(e)}function Lv(n,e){const t=(e.baseMutations||[]).map(l=>oI(n.Jt,l));for(let l=0;l<e.mutations.length-1;++l){const f=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(f.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>oI(n.Jt,l)),i=bn.fromMillis(e.localWriteTimeMs);return new lI(e.batchId,i,t,r)}function Y0(n){const e=Zp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Zp(n.lastLimboFreeSnapshotVersion):Xt.min();let r;var i;return void 0!==n.query.documents?(s(1===(i=n.query).documents.length),r=dl(Rv(n1(i.documents[0])))):r=dl(l1(n.query)),new Kf(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Xr.fromBase64String(n.resumeToken))}function A1(n,e){const t=qp(e.snapshotVersion),r=qp(e.lastLimboFreeSnapshotVersion);let i;i=Jw(e.target)?o1(n.Jt,e.target):a1(n.Jt,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Hp(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function dI(n){const e=l1({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?xR(e,e.limit,"L"):e}function fI(n,e){return new cI(e.largestBatchId,oI(n.Jt,e.overlayMutation))}function w1(n,e){const t=e.path.lastSegment();return[n,wo(e.path.popLast()),t]}class kO{getBundleMetadata(e,t){return C1(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Zp(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return C1(e).put({bundleId:(r=t).id,createTime:qp(rs(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return D1(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:dI(i.bundledQuery),readTime:Zp(i.readTime)};var i})}saveNamedQuery(e,t){return D1(e).put({name:(r=t).name,readTime:qp(rs(r.readTime)),bundledQuery:r.bundledQuery});var r}}function C1(n){return is(n,"bundles")}function D1(n){return is(n,"namedQueries")}class hI{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new hI(e,t.uid||"")}getOverlay(e,t){return J0(e).get(w1(this.userId,t)).next(r=>r?fI(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((l,f)=>{const m=new cI(t,f);i.push(this.Xt(e,m))}),Je.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(f=>i.add(wo(f.getCollectionPath())));const l=[];return i.forEach(f=>{const m=IDBKeyRange.bound([this.userId,f,r],[this.userId,f,r+1],!1,!0);l.push(J0(e).Qt("collectionPathOverlayIndex",m))}),Je.waitFor(l)}getOverlaysForCollection(e,t,r){const i=G0(),l=wo(t),f=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return J0(e).qt("collectionPathOverlayIndex",f).next(m=>{for(const E of m){const C=fI(this.M,E);i.set(C.getKey(),C)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const l=G0();let f;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return J0(e).Wt({index:"collectionGroupOverlayIndex",range:m},(E,C,k)=>{const O=fI(this.M,C);l.size()<i||O.largestBatchId===f?(l.set(O.getKey(),O),f=O.largestBatchId):k.done()}).next(()=>l)}Xt(e,t){return J0(e).put(function(r,i,l){const[f,m,E]=w1(i,l.mutation.key);return{userId:i,collectionPath:m,documentId:E,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:K0(r.Jt,l.mutation)}}(this.M,this.userId,t))}}function J0(n){return is(n,"documentOverlays")}class Kp{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(ci(e.integerValue));else if("doubleValue"in e){const r=ci(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),k0(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Lp(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?mR(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Jt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),Lt.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function PO(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function T1(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const l=PO(255&t[i]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}Kp.fe=new Kp;class OO{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=T1(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=T1(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class FO{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class LO{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class X0{constructor(){this.De=new OO,this.Ce=new FO(this.De),this.xe=new LO(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Qp{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Qp(this.indexId,this.documentKey,this.arrayValue,r)}}function Yp(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=S1(n.arrayValue,e.arrayValue),0!==t?t:(t=S1(n.directionalValue,e.directionalValue),0!==t?t:Lt.comparator(n.documentKey,e.documentKey)))}function S1(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class VO{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=KS(e);if(void 0!==t&&!this.Be(t))return!1;const r=Up(e);let i=0,l=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const f=r[i];if(!this.Le(this.Fe,f)||!this.Ue(this.Me[l++],f))return!1;++i}for(;i<r.length;++i){const f=r[i];if(l>=this.Me.length||!this.Ue(this.Me[l++],f))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class BO{constructor(){this.qe=new pI}addToCollectionParentIndex(e,t){return this.qe.add(t),Je.resolve()}getCollectionParents(e,t){return Je.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return Je.resolve()}deleteFieldIndex(e,t){return Je.resolve()}getDocumentsMatchingTarget(e,t){return Je.resolve(null)}getIndexType(e,t){return Je.resolve(0)}getFieldIndexes(e,t){return Je.resolve([])}getNextCollectionGroupToUpdate(e){return Je.resolve(null)}getMinOffset(e,t){return Je.resolve(nu.min())}updateCollectionGroup(e,t,r){return Je.resolve()}updateIndexEntries(e,t){return Je.resolve()}}class pI{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Pr(Xn.comparator),l=!i.has(r);return this.index[t]=i.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pr(Xn.comparator)).toArray()}}const lC=new Uint8Array(0);class UO{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new pI,this.Ge=new Zf(r=>Hp(r),(r,i)=>V0(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const l={collectionId:r,parent:wo(i)};return I1(e).put(l)}return Je.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[qn(t),""],!1,!0);return I1(e).qt(i).next(l=>{for(const f of l){if(f.collectionId!==t)break;r.push(ec(f.parent))}return r})}addFieldIndex(e,t){const r=uC(e),i={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var l;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=uC(e),i=cC(e),l=eE(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=eE(e);let i=!0;const l=new Map;return Je.forEach(this.Qe(t),f=>this.je(e,f).next(m=>{i&&(i=!!m),l.set(f,m)})).next(()=>{if(i){let f=vr();const m=[];return Je.forEach(l,(E,C)=>{var k;St("IndexedDbIndexManager",`Using index ${k=E,`id=${k.indexId}|cg=${k.collectionGroup}|f=${k.fields.map(Rt=>`${Rt.fieldPath}:${Rt.kind}`).join(",")}`} to execute ${Hp(t)}`);const O=function(Rt,Ct){const pn=KS(Ct);if(void 0===pn)return null;for(const hn of Xw(Rt,pn.fieldPath))switch(hn.op){case"array-contains-any":return hn.value.arrayValue.values||[];case"array-contains":return[hn.value]}return null}(C,E),q=function(Rt,Ct){const pn=new Map;for(const hn of Up(Ct))for(const Un of Xw(Rt,hn.fieldPath))switch(Un.op){case"==":case"in":pn.set(hn.fieldPath.canonicalString(),Un.value);break;case"not-in":case"!=":return pn.set(hn.fieldPath.canonicalString(),Un.value),Array.from(pn.values())}return null}(C,E),J=function(Rt,Ct){const pn=[];let hn=!0;for(const Un of Up(Ct)){const jn=0===Un.kind?CR(Rt,Un.fieldPath,Rt.startAt):DR(Rt,Un.fieldPath,Rt.startAt);pn.push(jn.value),hn&&(hn=jn.inclusive)}return new qf(pn,hn)}(C,E),se=function(Rt,Ct){const pn=[];let hn=!0;for(const Un of Up(Ct)){const jn=0===Un.kind?DR(Rt,Un.fieldPath,Rt.endAt):CR(Rt,Un.fieldPath,Rt.endAt);pn.push(jn.value),hn&&(hn=jn.inclusive)}return new qf(pn,hn)}(C,E),Me=this.We(E,C,J),nt=this.We(E,C,se),at=this.ze(E,C,q),_t=this.He(E.indexId,O,Me,J.inclusive,nt,se.inclusive,at);return Je.forEach(_t,Rt=>r.Gt(Rt,t.limit).next(Ct=>{Ct.forEach(pn=>{const hn=Lt.fromSegments(pn.documentKey);f.has(hn)||(f=f.add(hn),m.push(hn))})}))}).next(()=>m)}return Je.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,r,i,l,f,m){const E=(null!=t?t.length:1)*Math.max(r.length,l.length),C=E/(null!=t?t.length:1),k=[];for(let O=0;O<E;++O){const q=t?this.Je(t[O/C]):lC,J=this.Ye(e,q,r[O%C],i),se=this.Xe(e,q,l[O%C],f),Me=m.map(nt=>this.Ye(e,q,nt,!0));k.push(...this.createRange(J,se,Me))}return k}Ye(e,t,r,i){const l=new Qp(e,Lt.empty(),t,r);return i?l:l.ke()}Xe(e,t,r,i){const l=new Qp(e,Lt.empty(),t,r);return i?l.ke():l}je(e,t){const r=new VO(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(l=>{let f=null;for(const m of l)r.$e(m)&&(!f||m.fields.length>f.fields.length)&&(f=m);return f})}getIndexType(e,t){let r=2;return Je.forEach(this.Qe(t),i=>this.je(e,i).next(l=>{l?0!==r&&l.fields.length<function(f){let m=new Pr(Jr.comparator),E=!1;for(const C of f.filters){const k=C;k.field.isKeyField()||("array-contains"===k.op||"array-contains-any"===k.op?E=!0:m=m.add(k.field))}for(const C of f.orderBy)C.field.isKeyField()||(m=m.add(C.field));return m.size+(E?1:0)}(i)&&(r=1):r=0})).next(()=>r)}Ze(e,t){const r=new X0;for(const i of Up(e)){const l=t.data.field(i.fieldPath);if(null==l)return null;const f=r.Ne(i.kind);Kp.fe.Zt(l,f)}return r.Se()}Je(e){const t=new X0;return Kp.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new X0;return Kp.fe.Zt(Bp(this.databaseId,t),r.Ne(function(i){const l=Up(i);return 0===l.length?0:l[l.length-1].kind}(e))),r.Se()}ze(e,t,r){if(null===r)return[];let i=[];i.push(new X0);let l=0;for(const f of Up(e)){const m=r[l++];for(const E of i)if(this.en(t,f.fieldPath)&&O0(m))i=this.nn(i,f,m);else{const C=E.Ne(f.kind);Kp.fe.Zt(m,C)}}return this.sn(i)}We(e,t,r){return this.ze(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const i=[...e],l=[];for(const f of r.arrayValue.values||[])for(const m of i){const E=new X0;E.seed(m.Se()),Kp.fe.Zt(f,E.Ne(t.kind)),l.push(E)}return l}en(e,t){return!!e.filters.find(r=>r instanceof Is&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=uC(e),i=cC(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(l=>{const f=[];return Je.forEach(l,m=>i.get([m.indexId,this.uid]).next(E=>{f.push(function(C,k){const O=k?new L0(k.sequenceNumber,new nu(Zp(k.readTime),new Lt(ec(k.documentKey)),k.largestBatchId)):L0.empty(),q=C.fields.map(([J,se])=>new Qw(Jr.fromServerFormat(J),se));return new Kw(C.indexId,C.collectionGroup,q,O)}(m,E))})).next(()=>f)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const l=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==l?l:Ge(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=uC(e),l=cC(e);return this.rn(e).next(f=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>Je.forEach(m,E=>{return l.put({indexId:E.indexId,uid:this.user.uid||"",sequenceNumber:f,readTime:qp((q=r).readTime),documentKey:wo(q.documentKey.path),largestBatchId:q.largestBatchId});var q})))}updateIndexEntries(e,t){const r=new Map;return Je.forEach(t,(i,l)=>{const f=r.get(i.collectionGroup);return(f?Je.resolve(f):this.getFieldIndexes(e,i.collectionGroup)).next(m=>(r.set(i.collectionGroup,m),Je.forEach(m,E=>this.on(e,i,E).next(C=>{const k=this.un(l,E);return C.isEqual(k)?Je.resolve():this.an(e,l,E,C,k)}))))})}cn(e,t,r,i){return eE(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,i){return eE(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const i=eE(e);let l=new Pr(Yp);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(f,m)=>{l=l.add(new Qp(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>l)}un(e,t){let r=new Pr(Yp);const i=this.Ze(t,e);if(null==i)return r;const l=KS(t);if(null!=l){const f=e.data.field(l.fieldPath);if(O0(f))for(const m of f.arrayValue.values||[])r=r.add(new Qp(t.indexId,e.key,this.Je(m),i))}else r=r.add(new Qp(t.indexId,e.key,lC,i));return r}an(e,t,r,i,l){St("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const f=[];return function(m,E,C,k,O){const q=m.getIterator(),J=E.getIterator();let se=Mv(q),Me=Mv(J);for(;se||Me;){let nt=!1,at=!1;if(se&&Me){const _t=C(se,Me);_t<0?at=!0:_t>0&&(nt=!0)}else null!=se?at=!0:nt=!0;nt?(k(Me),Me=Mv(J)):at?(O(se),se=Mv(q)):(se=Mv(q),Me=Mv(J))}}(i,l,Yp,m=>{f.push(this.cn(e,t,r,m))},m=>{f.push(this.hn(e,t,r,m))}),Je.waitFor(f)}rn(e){let t=1;return cC(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,l)=>{l.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((f,m)=>Yp(f,m)).filter((f,m,E)=>!m||0!==Yp(f,E[m-1]));const i=[];i.push(e);for(const f of r){const m=Yp(f,e),E=Yp(f,t);if(0===m)i[0]=e.ke();else if(m>0&&E<0)i.push(f),i.push(f.ke());else if(E>0)break}i.push(t);const l=[];for(let f=0;f<i.length;f+=2)l.push(IDBKeyRange.bound([i[f].indexId,this.uid,i[f].arrayValue,i[f].directionalValue,lC,[]],[i[f+1].indexId,this.uid,i[f+1].arrayValue,i[f+1].directionalValue,lC,[]]));return l}getMinOffset(e,t){let r;return Je.forEach(this.Qe(t),i=>this.je(e,i).next(l=>{l?(!r||bR(l.indexState.offset,r)<0)&&(r=l.indexState.offset):r=nu.min()})).next(()=>r)}}function I1(n){return is(n,"collectionParents")}function eE(n){return is(n,"indexEntries")}function uC(n){return is(n,"indexConfiguration")}function cC(n){return is(n,"indexState")}const M1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Yo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Yo(e,Yo.DEFAULT_COLLECTION_PERCENTILE,Yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function x1(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),l=[],f=IDBKeyRange.only(t.batchId);let m=0;const E=r.Wt({range:f},(k,O,q)=>(m++,q.delete()));l.push(E.next(()=>{s(1===m)}));const C=[];for(const k of t.mutations){const O=h1(e,k.key.path,t.batchId);l.push(i.delete(O)),C.push(k.key)}return Je.waitFor(l).next(()=>C)}function dC(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Jt();e=n.noDocument}return JSON.stringify(e).length}Yo.DEFAULT_COLLECTION_PERCENTILE=10,Yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yo.DEFAULT=new Yo(41943040,Yo.DEFAULT_COLLECTION_PERCENTILE,Yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yo.DISABLED=new Yo(-1,0,0);class gI{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.ln={}}static Yt(e,t,r,i){s(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new gI(l,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Qf(e).Wt({index:"userMutationsIndex",range:r},(i,l,f)=>{t=!1,f.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const l=Vv(e),f=Qf(e);return f.add({}).next(m=>{s("number"==typeof m);const E=new lI(m,t,r,i),C=function(q,J,se){const Me=se.baseMutations.map(at=>K0(q.Jt,at)),nt=se.mutations.map(at=>K0(q.Jt,at));return{userId:J,batchId:se.batchId,localWriteTimeMs:se.localWriteTime.toMillis(),baseMutations:Me,mutations:nt}}(this.M,this.userId,E),k=[];let O=new Pr((q,J)=>Ge(q.canonicalString(),J.canonicalString()));for(const q of i){const J=h1(this.userId,q.key.path,m);O=O.add(q.key.path.popLast()),k.push(f.put(C)),k.push(l.put(J,hO))}return O.forEach(q=>{k.push(this.indexManager.addToCollectionParentIndex(e,q))}),e.addOnCommittedListener(()=>{this.ln[m]=E.keys()}),Je.waitFor(k).next(()=>E)})}lookupMutationBatch(e,t){return Qf(e).get(t).next(r=>r?(s(r.userId===this.userId),Lv(this.M,r)):null)}fn(e,t){return this.ln[t]?Je.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.ln[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Qf(e).Wt({index:"userMutationsIndex",range:i},(f,m,E)=>{m.userId===this.userId&&(s(m.batchId>=r),l=Lv(this.M,m)),E.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Qf(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,l,f)=>{r=l.batchId,f.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Qf(e).qt("userMutationsIndex",t).next(r=>r.map(i=>Lv(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=sC(this.userId,t.path),i=IDBKeyRange.lowerBound(r),l=[];return Vv(e).Wt({range:i},(f,m,E)=>{const[C,k,O]=f,q=ec(k);if(C===this.userId&&t.path.isEqual(q))return Qf(e).get(O).next(J=>{if(!J)throw Jt();s(J.userId===this.userId),l.push(Lv(this.M,J))});E.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Pr(Ge);const i=[];return t.forEach(l=>{const f=sC(this.userId,l.path),m=IDBKeyRange.lowerBound(f),E=Vv(e).Wt({range:m},(C,k,O)=>{const[q,J,se]=C,Me=ec(J);q===this.userId&&l.path.isEqual(Me)?r=r.add(se):O.done()});i.push(E)}),Je.waitFor(i).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,l=sC(this.userId,r),f=IDBKeyRange.lowerBound(l);let m=new Pr(Ge);return Vv(e).Wt({range:f},(E,C,k)=>{const[O,q,J]=E,se=ec(q);O===this.userId&&r.isPrefixOf(se)?se.length===i&&(m=m.add(J)):k.done()}).next(()=>this.dn(e,m))}dn(e,t){const r=[],i=[];return t.forEach(l=>{i.push(Qf(e).get(l).next(f=>{if(null===f)throw Jt();s(f.userId===this.userId),r.push(Lv(this.M,f))}))}),Je.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return x1(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),Je.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Je.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Vv(e).Wt({range:r},(l,f,m)=>{if(l[0]===this.userId){const E=ec(l[1]);i.push(E)}else m.done()}).next(()=>{s(0===i.length)})})}containsKey(e,t){return R1(e,this.userId,t)}wn(e){return N1(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function R1(n,e,t){const r=sC(e,t.path),i=r[1],l=IDBKeyRange.lowerBound(r);let f=!1;return Vv(n).Wt({range:l,jt:!0},(m,E,C)=>{const[k,O,q]=m;k===e&&O===i&&(f=!0),C.done()}).next(()=>f)}function Qf(n){return is(n,"mutations")}function Vv(n){return is(n,"documentMutations")}function N1(n){return is(n,"mutationQueues")}class Jp{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Jp(0)}static yn(){return new Jp(-1)}}class HO{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new Jp(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>Xt.fromTimestamp(new bn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.In(e,i)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Bv(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(s(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let i=0;const l=[];return Bv(e).Wt((f,m)=>{const E=Y0(m);E.sequenceNumber<=t&&null===r.get(E.targetId)&&(i++,l.push(this.removeTargetData(e,E)))}).next(()=>Je.waitFor(l)).next(()=>i)}forEachTarget(e,t){return Bv(e).Wt((r,i)=>{const l=Y0(i);t(l)})}pn(e){return k1(e).get("targetGlobalKey").next(t=>(s(null!==t),t))}In(e,t){return k1(e).put("targetGlobalKey",t)}Tn(e,t){return Bv(e).put(A1(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Hp(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Bv(e).Wt({range:i,index:"queryTargetsIndex"},(f,m,E)=>{const C=Y0(m);V0(t,C.target)&&(l=C,E.done())}).next(()=>l)}addMatchingKeys(e,t,r){const i=[],l=Yf(e);return t.forEach(f=>{const m=wo(f.path);i.push(l.put({targetId:r,path:m})),i.push(this.referenceDelegate.addReference(e,r,f))}),Je.waitFor(i)}removeMatchingKeys(e,t,r){const i=Yf(e);return Je.forEach(t,l=>{const f=wo(l.path);return Je.waitFor([i.delete([r,f]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Yf(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Yf(e);let l=vr();return i.Wt({range:r,jt:!0},(f,m,E)=>{const C=ec(f[1]),k=new Lt(C);l=l.add(k)}).next(()=>l)}containsKey(e,t){const r=wo(t.path),i=IDBKeyRange.bound([r],[qn(r)],!1,!0);let l=0;return Yf(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([f,m],E,C)=>{0!==f&&(l++,C.done())}).next(()=>l>0)}Et(e,t){return Bv(e).get(t).next(r=>r?Y0(r):null)}}function Bv(n){return is(n,"targets")}function k1(n){return is(n,"targetGlobal")}function Yf(n){return is(n,"targetDocuments")}function Xp(n){return mI.apply(this,arguments)}function mI(){return mI=(0,it.Z)(function*(n){if(n.code!==u.FAILED_PRECONDITION||n.message!==m1)throw n;St("LocalStore","Unexpectedly lost primary lease")}),mI.apply(this,arguments)}function P1([n,e],[t,r]){const i=Ge(n,t);return 0===i?Ge(e,r):i}class jO{constructor(e){this.An=e,this.buffer=new Pr(P1),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();P1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class GO{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;St("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,it.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){$p(i)?St("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Xp(i)}yield t.Sn(e)}))}}class zO{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Je.resolve(gt.A);const r=new jO(t);return this.Dn.forEachTarget(e,i=>r.Pn(i.sequenceNumber)).next(()=>this.Dn.xn(e,i=>r.Pn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector","Garbage collection skipped; disabled"),Je.resolve(M1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),M1):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,i,l,f,m,E,C;const k=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(St("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),i=this.params.maximumSequenceNumbersToCollect):i=O,f=Date.now(),this.nthSequenceNumber(e,i))).next(O=>(r=O,m=Date.now(),this.removeTargets(e,r,t))).next(O=>(l=O,E=Date.now(),this.removeOrphanedDocuments(e,r))).next(O=>(C=Date.now(),$w()<=Gu.in.DEBUG&&St("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-k}ms\n\tDetermined least recently used ${i} in `+(m-f)+`ms\n\tRemoved ${l} targets in `+(E-m)+`ms\n\tRemoved ${O} documents in `+(C-E)+`ms\nTotal Duration: ${C-k}ms`),Je.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:O})))}}class $O{constructor(e,t){this.db=e,this.garbageCollector=new zO(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,i)=>t(i))}addReference(e,t,r){return fC(e,r)}removeReference(e,t,r){return fC(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return fC(e,t)}On(e,t){return function(r,i){let l=!1;return N1(r).zt(f=>R1(r,f,i).next(m=>(m&&(l=!0),Je.resolve(!m)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.Mn(e,(f,m)=>{if(m<=t){const E=this.On(e,f).next(C=>{if(!C)return l++,r.getEntry(e,f).next(()=>(r.removeEntry(f,Xt.min()),Yf(e).delete([0,wo(f.path)])))});i.push(E)}}).next(()=>Je.waitFor(i)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return fC(e,t)}Mn(e,t){const r=Yf(e);let i,l=gt.A;return r.Wt({index:"documentTargetsIndex"},([f,m],{path:E,sequenceNumber:C})=>{0===f?(l!==gt.A&&t(new Lt(ec(i)),l),l=C,i=E):l=gt.A}).next(()=>{l!==gt.A&&t(new Lt(ec(i)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function fC(n,e){return Yf(n).put((r=n.currentSequenceNumber,{targetId:0,path:wo(e.path),sequenceNumber:r}));var r}class O1{constructor(){this.changes=new Zf(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Br.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Je.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class WO{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return eg(e).put(r)}removeEntry(e,t,r){return eg(e).delete(function(i,l){const f=i.path.toArray();return[f.slice(0,f.length-2),f[f.length-2],aC(l),f[f.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=Br.newInvalidDocument(t);return eg(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(tE(t))},(i,l)=>{r=this.$n(t,l)}).next(()=>r)}Bn(e,t){let r={size:0,document:Br.newInvalidDocument(t)};return eg(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(tE(t))},(i,l)=>{r={document:this.$n(t,l),size:dC(l)}}).next(()=>r)}getEntries(e,t){let r=fl();return this.Ln(e,t,(i,l)=>{const f=this.$n(i,l);r=r.insert(i,f)}).next(()=>r)}Un(e,t){let r=fl(),i=new yi(Lt.comparator);return this.Ln(e,t,(l,f)=>{const m=this.$n(l,f);r=r.insert(l,m),i=i.insert(l,dC(f))}).next(()=>({documents:r,qn:i}))}Ln(e,t,r){if(t.isEmpty())return Je.resolve();let i=new Pr(V1);t.forEach(E=>i=i.add(E));const l=IDBKeyRange.bound(tE(i.first()),tE(i.last())),f=i.getIterator();let m=f.getNext();return eg(e).Wt({index:"documentKeyIndex",range:l},(E,C,k)=>{const O=Lt.fromSegments([...C.prefixPath,C.collectionGroup,C.documentId]);for(;m&&V1(m,O)<0;)r(m,null),m=f.getNext();m&&m.isEqual(O)&&(r(m,C),m=f.hasNext()?f.getNext():null),m?k.Ut(tE(m)):k.done()}).next(()=>{for(;m;)r(m,null),m=f.hasNext()?f.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),aC(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return eg(e).qt(IDBKeyRange.bound(i,l,!0)).next(f=>{let m=fl();for(const E of f){const C=this.$n(Lt.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);m=m.insert(C.key,C)}return m})}getAllFromCollectionGroup(e,t,r,i){let l=fl();const f=L1(t,r),m=L1(t,nu.max());return eg(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(f,m,!0)},(E,C,k)=>{const O=this.$n(Lt.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);l=l.insert(O.key,O),l.size===i&&k.done()}).next(()=>l)}newChangeBuffer(e){return new qO(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return F1(e).get("remoteDocumentGlobalKey").next(t=>(s(!!t),t))}Fn(e,t){return F1(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function NO(n,e){let t;if(e.document)t=s1(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Lt.fromSegments(e.noDocument.path),i=Zp(e.noDocument.readTime);t=Br.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Jt();{const r=Lt.fromSegments(e.unknownDocument.path),i=Zp(e.unknownDocument.version);t=Br.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new bn(r[0],r[1]);return Xt.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(Xt.min()))return r}return Br.newInvalidDocument(e)}}class qO extends O1{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new Zf(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Pr((l,f)=>Ge(l.canonicalString(),f.canonicalString()));return this.changes.forEach((l,f)=>{const m=this.Gn.get(l);if(t.push(this.Kn.removeEntry(e,l,m.readTime)),f.isValidDocument()){const E=b1(this.Kn.M,f);i=i.add(l.path.popLast()),r+=dC(E)-m.size,t.push(this.Kn.addEntry(e,l,E))}else if(r-=m.size,this.trackRemovals){const E=b1(this.Kn.M,f.convertToNoDocument(Xt.min()));t.push(this.Kn.addEntry(e,l,E))}}),i.forEach(l=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.Kn.updateMetadata(e,r)),Je.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:i})=>(i.forEach((l,f)=>{this.Gn.set(l,{size:f,readTime:r.get(l).readTime})}),r))}}function F1(n){return is(n,"remoteDocumentGlobal")}function eg(n){return is(n,"remoteDocumentsV14")}function tE(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function L1(n,e){const t=e.documentKey.path.toArray();return[n,aC(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function V1(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(i=Ge(t[l],r[l]),i)return i;return i=Ge(t.length,r.length),i||(i=Ge(t[t.length-2],r[r.length-2]),i||Ge(t[t.length-1],r[r.length-1]))}class ZO{constructor(e){this.M=e}kt(e,t,r,i){const l=new oC("createOrUpgrade",t);var m;r<1&&i>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",f1,{unique:!0}),m.createObjectStore("documentMutations"),B1(e),function(m){m.createObjectStore("remoteDocuments")}(e));let f=Je.resolve();return r<3&&i>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),B1(e)),f=f.next(()=>function(m){const E=m.store("targetGlobal"),C={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Xt.min().toTimestamp(),targetCount:0};return E.put("targetGlobalKey",C)}(l))),r<4&&i>=4&&(0!==r&&(f=f.next(()=>function(m,E){return E.store("mutations").qt().next(C=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",f1,{unique:!0});const k=E.store("mutations"),O=C.map(q=>k.put(q));return Je.waitFor(O)})}(e,l))),f=f.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(f=f.next(()=>this.Qn(l))),r<6&&i>=6&&(f=f.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.jn(l)))),r<7&&i>=7&&(f=f.next(()=>this.Wn(l))),r<8&&i>=8&&(f=f.next(()=>this.zn(e,l))),r<9&&i>=9&&(f=f.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(f=f.next(()=>this.Hn(l))),r<11&&i>=11&&(f=f.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(f=f.next(()=>{!function(m){const E=m.createObjectStore("documentOverlays",{keyPath:DO});E.createIndex("collectionPathOverlayIndex",TO,{unique:!1}),E.createIndex("collectionGroupOverlayIndex",SO,{unique:!1})}(e)})),r<13&&i>=13&&(f=f.next(()=>function(m){const E=m.createObjectStore("remoteDocumentsV14",{keyPath:pO});E.createIndex("documentKeyIndex",gO),E.createIndex("collectionGroupIndex",mO)}(e)).next(()=>this.Jn(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(f=f.next(()=>{!function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:bO}).createIndex("sequenceNumberIndex",AO,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:wO}).createIndex("documentKeyIndex",CO,{unique:!1})}(e)})),f}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=dC(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>Je.forEach(i,l=>{const f=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",f).next(m=>Je.forEach(m,E=>{s(E.userId===l.userId);const C=Lv(this.M,E);return x1(e,l.userId,C).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const l=[];return r.Wt((f,m)=>{const E=new Xn(f),C=[0,wo(E)];l.push(t.get(C).next(k=>k?Je.resolve():t.put({targetId:0,path:wo(E),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>Je.waitFor(l))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:EO});const r=t.store("collectionParents"),i=new pI,l=f=>{if(i.add(f)){const m=f.lastSegment(),E=f.popLast();return r.put({collectionId:m,parent:wo(E)})}};return t.store("remoteDocuments").Wt({jt:!0},(f,m)=>{const E=new Xn(f);return l(E.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([f,m,E],C)=>{const k=ec(m);return l(k.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,i)=>{const l=Y0(i),f=A1(this.M,l);return t.put(f)})}Jn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((l,f)=>{const m=t.store("remoteDocumentsV14"),E=(C=f,C.document?new Lt(Xn.fromString(C.document.name).popFirst(5)):C.noDocument?Lt.fromSegments(C.noDocument.path):C.unknownDocument?Lt.fromSegments(C.unknownDocument.path):Jt()).path.toArray();var C;const k={prefixPath:E.slice(0,E.length-2),collectionGroup:E[E.length-2],documentId:E[E.length-1],readTime:f.readTime||[0,0],unknownDocument:f.unknownDocument,noDocument:f.noDocument,document:f.document,hasCommittedMutations:!!f.hasCommittedMutations};i.push(m.put(k))}).next(()=>Je.waitFor(i))}}function B1(n){n.createObjectStore("targetDocuments",{keyPath:yO}).createIndex("documentTargetsIndex",_O,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",vO,{unique:!0}),n.createObjectStore("targetGlobal")}const vI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class yI{constructor(e,t,r,i,l,f,m,E,C,k,O=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=l,this.window=f,this.document=m,this.Xn=C,this.Zn=k,this.ts=O,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=q=>Promise.resolve(),!yI.vt())throw new p(u.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new $O(this,i),this.hs=t+"main",this.M=new E1(E),this.ls=new ru(this.hs,this.ts,new ZO(this.M)),this.fs=new HO(this.referenceDelegate,this.M),this.ds=new WO(this.M),this._s=new kO,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===k&&vi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new p(u.FAILED_PRECONDITION,vI);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new gt(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,it.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,it.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,it.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>hC(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if($p(e))return St("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return St("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return nE(e).get("owner").next(t=>Je.resolve(this.Ps(t)))}Vs(e){return hC(e).delete(this.clientId)}vs(){var e=this;return(0,it.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=is(r,"clientMetadata");return i.qt().next(l=>{const f=e.Ds(l,18e5),m=l.filter(E=>-1===f.indexOf(E));return Je.forEach(m,E=>i.delete(E.clientId)).next(()=>m)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?Je.resolve(!0):nE(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new p(u.FAILED_PRECONDITION,vI);return!1}}return!(!this.networkEnabled||!this.inForeground)||hC(e).qt().next(r=>void 0===this.Ds(r,5e3).find(i=>{if(this.clientId!==i.clientId){const f=!this.inForeground&&i.inForeground,m=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||f&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&St("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,it.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new _1(t,gt.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>hC(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return gI.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new UO(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return hI.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){St("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",l=14===(f=this.ts)?MO:13===f?g1:12===f?IO:11===f?p1:void Jt();var f;let m;return this.ls.runTransaction(e,i,l,E=>(m=new _1(E,this.es?this.es.next():gt.A),"readwrite-primary"===t?this.Es(m).next(C=>!!C||this.As(m)).next(C=>{if(!C)throw vi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new p(u.FAILED_PRECONDITION,m1);return r(m)}).next(C=>this.bs(m).next(()=>C)):this.$s(m).next(()=>r(m)))).then(E=>(m.raiseOnCommittedEvent(),E))}$s(e){return nE(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.Ps(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new p(u.FAILED_PRECONDITION,vI)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return nE(e).put("owner",t)}static vt(){return ru.vt()}Rs(e){const t=nE(e);return t.get("owner").next(r=>this.Ps(r)?(St("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Je.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(vi(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Wn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return St("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return vi("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){vi("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function nE(n){return is(n,"owner")}function hC(n){return is(n,"clientMetadata")}function _I(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class KO{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(i=>{for(const l of r)l.applyToLocalView(i);return i})}qs(e,t){e.forEach((r,i)=>{for(const l of t)l.applyToLocalView(i)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return Lt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,t.path):JS(t)?this.Ws(e,t,r):this.zs(e,t,r);var i}js(e,t){return this.Ls(e,new Lt(t)).next(r=>{let i=rI();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,t,r){const i=t.collectionGroup;let l=rI();return this.indexManager.getCollectionParents(e,i).next(f=>Je.forEach(f,m=>{const E=(C=t,k=m.child(i),new Ad(k,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,k;return this.zs(e,E,r).next(C=>{C.forEach((k,O)=>{l=l.insert(k,O)})})}).next(()=>l))}zs(e,t,r){let i;return this.ds.getAllFromCollection(e,t.path,r).next(l=>(i=l,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(l=>{for(const f of l)for(const m of f.mutations){const E=m.key;let C=i.get(E);null==C&&(C=Br.newInvalidDocument(E),i=i.insert(E,C)),tI(m,C,f.localWriteTime),C.isFoundDocument()||(i=i.remove(E))}}).next(()=>(i.forEach((l,f)=>{eI(t,f)||(i=i.remove(l))}),i))}}class EI{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=i}static Ys(e,t){let r=vr(),i=vr();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new EI(e,t.fromCache,r,i)}}class U1{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,r,i){return this.ti(e,t).next(l=>l||this.ei(e,t,i,r)).next(l=>l||this.ni(e,t))}ti(e,t){return Je.resolve(null)}ei(e,t,r,i){return function VP(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||i.isEqual(Xt.min())?this.ni(e,t):this.Zs.Ks(e,r).next(l=>{const f=this.si(t,l);return this.ii(t,f,r,i)?this.ni(e,t):($w()<=Gu.in.DEBUG&&St("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),XS(t)),this.ri(e,f,t,ER(i,-1)))})}si(e,t){let r=new Pr(kR(e));return t.forEach((i,l)=>{eI(e,l)&&(r=r.add(l))}),r}ii(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}ni(e,t){return $w()<=Gu.in.DEBUG&&St("QueryEngine","Using full collection scan to execute query:",XS(t)),this.Zs.Qs(e,t,nu.min())}ri(e,t,r,i){return this.Zs.Qs(e,r,i).next(l=>(t.forEach(f=>{l=l.insert(f.key,f)}),l))}}class QO{constructor(e,t,r,i){this.persistence=e,this.oi=t,this.M=i,this.ui=new yi(Ge),this.ai=new Zf(l=>Hp(l),V0),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(r)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new KO(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function H1(n,e,t,r){return new QO(n,e,t,r)}function j1(n,e){return bI.apply(this,arguments)}function bI(){return bI=(0,it.Z)(function*(n,e){const t=a(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.Bs.getAllMutationBatches(r).next(l=>(i=l,t.li(e),t.Bs.getAllMutationBatches(r))).next(l=>{const f=[],m=[];let E=vr();for(const C of i){f.push(C.batchId);for(const k of C.mutations)E=E.add(k.key)}for(const C of l){m.push(C.batchId);for(const k of C.mutations)E=E.add(k.key)}return t.fi.Ks(r,E).next(C=>({di:C,removedBatchIds:f,addedBatchIds:m}))})})}),bI.apply(this,arguments)}function YO(n,e){const t=a(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),l=t.hi.newChangeBuffer({trackRemovals:!0});return function(f,m,E,C){const k=E.batch,O=k.keys();let q=Je.resolve();return O.forEach(J=>{q=q.next(()=>C.getEntry(m,J)).next(se=>{const Me=E.docVersions.get(J);s(null!==Me),se.version.compareTo(Me)<0&&(k.applyToRemoteDocument(se,E),se.isValidDocument()&&(se.setReadTime(E.commitVersion),C.addEntry(se)))})}),q.next(()=>f.Bs.removeMutationBatch(m,k))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.fi.Ks(r,i))})}function G1(n){const e=a(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function JO(n,e){const t=a(n),r=e.snapshotVersion;let i=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=t.hi.newChangeBuffer({trackRemovals:!0});i=t.ui;const m=[];e.targetChanges.forEach((C,k)=>{const O=i.get(k);if(!O)return;m.push(t.fs.removeMatchingKeys(l,C.removedDocuments,k).next(()=>t.fs.addMatchingKeys(l,C.addedDocuments,k)));let q=O.withSequenceNumber(l.currentSequenceNumber);var J,se,Me;e.targetMismatches.has(k)?q=q.withResumeToken(Xr.EMPTY_BYTE_STRING,Xt.min()).withLastLimboFreeSnapshotVersion(Xt.min()):C.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(C.resumeToken,r)),i=i.insert(k,q),se=q,Me=C,(0===(J=O).resumeToken.approximateByteSize()||se.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=3e8||Me.addedDocuments.size+Me.modifiedDocuments.size+Me.removedDocuments.size>0)&&m.push(t.fs.updateTargetData(l,q))});let E=fl();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,C))}),m.push(z1(l,f,e.documentUpdates).next(C=>{E=C})),!r.isEqual(Xt.min())){const C=t.fs.getLastRemoteSnapshotVersion(l).next(k=>t.fs.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(C)}return Je.waitFor(m).next(()=>f.apply(l)).next(()=>t.fi.Gs(l,E)).next(()=>E)}).then(l=>(t.ui=i,l))}function z1(n,e,t){let r=vr();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let l=fl();return t.forEach((f,m)=>{const E=i.get(f);m.isNoDocument()&&m.version.isEqual(Xt.min())?(e.removeEntry(f,m.readTime),l=l.insert(f,m)):!E.isValidDocument()||m.version.compareTo(E.version)>0||0===m.version.compareTo(E.version)&&E.hasPendingWrites?(e.addEntry(m),l=l.insert(f,m)):St("LocalStore","Ignoring outdated watch update for ",f,". Current version:",E.version," Watch version:",m.version)}),l})}function XO(n,e){const t=a(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function Uv(n,e){const t=a(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.fs.getTargetData(r,e).next(l=>l?(i=l,Je.resolve(i)):t.fs.allocateTargetId(r).next(f=>(i=new Kf(e,f,0,r.currentSequenceNumber),t.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ui=t.ui.insert(r.targetId,r),t.ai.set(e,r.targetId)),r})}function Hv(n,e,t){return AI.apply(this,arguments)}function AI(){return AI=(0,it.Z)(function*(n,e,t){const r=a(n),i=r.ui.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,f=>r.persistence.referenceDelegate.removeTarget(f,i)))}catch(f){if(!$p(f))throw f;St("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}r.ui=r.ui.remove(e),r.ai.delete(i.target)}),AI.apply(this,arguments)}function pC(n,e,t){const r=a(n);let i=Xt.min(),l=vr();return r.persistence.runTransaction("Execute query","readonly",f=>function(m,E,C){const k=a(m),O=k.ai.get(C);return void 0!==O?Je.resolve(k.ui.get(O)):k.fs.getTargetData(E,C)}(r,f,dl(e)).next(m=>{if(m)return i=m.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(f,m.targetId).next(E=>{l=E})}).next(()=>r.oi.Qs(f,e,t?i:Xt.min(),t?l:vr())).next(m=>(q1(r,NR(e),m),{documents:m,_i:l})))}function $1(n,e){const t=a(n),r=a(t.fs),i=t.ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Et(l,e).next(f=>f?f.target:null))}function W1(n,e){const t=a(n),r=t.ci.get(e)||Xt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.hi.getAllFromCollectionGroup(i,e,ER(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(q1(t,e,i),i))}function q1(n,e,t){let r=Xt.min();t.forEach((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.ci.set(e,r)}function wI(){return wI=(0,it.Z)(function*(n,e,t,r){const i=a(n);let l=vr(),f=fl();for(const C of t){const k=e.wi(C.metadata.name);C.document&&(l=l.add(k));const O=e.mi(C);O.setReadTime(e.gi(C.metadata.readTime)),f=f.insert(k,O)}const m=i.hi.newChangeBuffer({trackRemovals:!0}),E=yield Uv(i,(C=r,dl(Rv(Xn.fromString(`__bundle__/docs/${C}`)))));var C;return i.persistence.runTransaction("Apply bundle documents","readwrite",C=>z1(C,m,f).next(k=>(m.apply(C),k)).next(k=>i.fs.removeMatchingKeysForTargetId(C,E.targetId).next(()=>i.fs.addMatchingKeys(C,l,E.targetId)).next(()=>i.fi.Gs(C,k)).next(()=>k)))}),wI.apply(this,arguments)}function tF(n,e){return CI.apply(this,arguments)}function CI(){return CI=(0,it.Z)(function*(n,e,t=vr()){const r=yield Uv(n,dl(dI(e.bundledQuery))),i=a(n);return i.persistence.runTransaction("Save named query","readwrite",l=>{const f=rs(e.readTime);if(r.snapshotVersion.compareTo(f)>=0)return i._s.saveNamedQuery(l,e);const m=r.withResumeToken(Xr.EMPTY_BYTE_STRING,f);return i.ui=i.ui.insert(m.targetId,m),i.fs.updateTargetData(l,m).next(()=>i.fs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>i.fs.addMatchingKeys(l,t,r.targetId)).next(()=>i._s.saveNamedQuery(l,e))})}),CI.apply(this,arguments)}class nF{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return Je.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var r;return this.yi.set(t.id,{id:(r=t).id,version:r.version,createTime:rs(r.createTime)}),Je.resolve()}getNamedQuery(e,t){return Je.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(r=t).name,query:dI(r.bundledQuery),readTime:rs(r.readTime)}),Je.resolve();var r}}class rF{constructor(){this.overlays=new yi(Lt.comparator),this.Ii=new Map}getOverlay(e,t){return Je.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,l)=>{this.Xt(e,t,l)}),Je.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ii.get(r);return void 0!==i&&(i.forEach(l=>this.overlays=this.overlays.remove(l)),this.Ii.delete(r)),Je.resolve()}getOverlaysForCollection(e,t,r){const i=G0(),l=t.length+1,f=new Lt(t.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const E=m.getNext().value,C=E.getKey();if(!t.isPrefixOf(C.path))break;C.path.length===l&&E.largestBatchId>r&&i.set(E.getKey(),E)}return Je.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let l=new yi((C,k)=>C-k);const f=this.overlays.getIterator();for(;f.hasNext();){const C=f.getNext().value;if(C.getKey().getCollectionGroup()===t&&C.largestBatchId>r){let k=l.get(C.largestBatchId);null===k&&(k=G0(),l=l.insert(C.largestBatchId,k)),k.set(C.getKey(),C)}}const m=G0(),E=l.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach((C,k)=>m.set(C,k)),!(m.size()>=i)););return Je.resolve(m)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const f=this.Ii.get(i.largestBatchId).delete(r.key);this.Ii.set(i.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new cI(t,r));let l=this.Ii.get(t);void 0===l&&(l=vr(),this.Ii.set(t,l)),this.Ii.set(t,l.add(r.key))}}class DI{constructor(){this.Ti=new Pr(ss.Ei),this.Ai=new Pr(ss.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const r=new ss(e,t);this.Ti=this.Ti.add(r),this.Ai=this.Ai.add(r)}bi(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Pi(new ss(e,t))}Vi(e,t){e.forEach(r=>this.removeReference(r,t))}vi(e){const t=new Lt(new Xn([])),r=new ss(t,e),i=new ss(t,e+1),l=[];return this.Ai.forEachInRange([r,i],f=>{this.Pi(f),l.push(f.key)}),l}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new Lt(new Xn([])),r=new ss(t,e),i=new ss(t,e+1);let l=vr();return this.Ai.forEachInRange([r,i],f=>{l=l.add(f.key)}),l}containsKey(e){const t=new ss(e,0),r=this.Ti.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ss{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return Lt.comparator(e.key,t.key)||Ge(e.Ci,t.Ci)}static Ri(e,t){return Ge(e.Ci,t.Ci)||Lt.comparator(e.key,t.key)}}class iF{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new Pr(ss.Ei)}checkEmpty(e){return Je.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,i){const l=this.xi;this.xi++;const f=new lI(l,t,r,i);this.Bs.push(f);for(const m of i)this.Ni=this.Ni.add(new ss(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Je.resolve(f)}lookupMutationBatch(e,t){return Je.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Mi(t+1),l=i<0?0:i;return Je.resolve(this.Bs.length>l?this.Bs[l]:null)}getHighestUnacknowledgedBatchId(){return Je.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return Je.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ss(t,0),i=new ss(t,Number.POSITIVE_INFINITY),l=[];return this.Ni.forEachInRange([r,i],f=>{const m=this.ki(f.Ci);l.push(m)}),Je.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Pr(Ge);return t.forEach(i=>{const l=new ss(i,0),f=new ss(i,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([l,f],m=>{r=r.add(m.Ci)})}),Je.resolve(this.Oi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let l=r;Lt.isDocumentKey(l)||(l=l.child(""));const f=new ss(new Lt(l),0);let m=new Pr(Ge);return this.Ni.forEachWhile(E=>{const C=E.key.path;return!!r.isPrefixOf(C)&&(C.length===i&&(m=m.add(E.Ci)),!0)},f),Je.resolve(this.Oi(m))}Oi(e){const t=[];return e.forEach(r=>{const i=this.ki(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){s(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let r=this.Ni;return Je.forEach(t.mutations,i=>{const l=new ss(i.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Ni=r})}_n(e){}containsKey(e,t){const r=new ss(t,0),i=this.Ni.firstAfterOrEqual(r);return Je.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Je.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class sF{constructor(e){this.$i=e,this.docs=new yi(Lt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),l=i?i.size:0,f=this.$i(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Je.resolve(r?r.document.mutableCopy():Br.newInvalidDocument(t))}getEntries(e,t){let r=fl();return t.forEach(i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():Br.newInvalidDocument(i))}),Je.resolve(r)}getAllFromCollection(e,t,r){let i=fl();const l=new Lt(t.child("")),f=this.docs.getIteratorFrom(l);for(;f.hasNext();){const{key:m,value:{document:E}}=f.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||bR(SP(E),r)<=0||(i=i.insert(E.key,E.mutableCopy()))}return Je.resolve(i)}getAllFromCollectionGroup(e,t,r,i){Jt()}Bi(e,t){return Je.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new oF(this)}getSize(e){return Je.resolve(this.size)}}class oF extends O1{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),Je.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class aF{constructor(e){this.persistence=e,this.Li=new Zf(t=>Hp(t),V0),this.lastRemoteSnapshotVersion=Xt.min(),this.highestTargetId=0,this.Ui=0,this.qi=new DI,this.targetCount=0,this.Ki=Jp.gn()}forEachTarget(e,t){return this.Li.forEach((r,i)=>t(i)),Je.resolve()}getLastRemoteSnapshotVersion(e){return Je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Je.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),Je.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ui&&(this.Ui=t),Je.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new Jp(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,Je.resolve()}updateTargetData(e,t){return this.Tn(t),Je.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,Je.resolve()}removeTargets(e,t,r){let i=0;const l=[];return this.Li.forEach((f,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Li.delete(f),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),i++)}),Je.waitFor(l).next(()=>i)}getTargetCount(e){return Je.resolve(this.targetCount)}getTargetData(e,t){const r=this.Li.get(t)||null;return Je.resolve(r)}addMatchingKeys(e,t,r){return this.qi.bi(t,r),Je.resolve()}removeMatchingKeys(e,t,r){this.qi.Vi(t,r);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(f=>{l.push(i.markPotentiallyOrphaned(e,f))}),Je.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),Je.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qi.Di(t);return Je.resolve(r)}containsKey(e,t){return Je.resolve(this.qi.containsKey(t))}}class lF{constructor(e,t){this.Gi={},this.overlays={},this.es=new gt(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new aF(this),this.indexManager=new BO,this.ds=new sF(r=>this.referenceDelegate.Qi(r)),this.M=new E1(t),this._s=new nF(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new rF,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Gi[e.toKey()];return r||(r=new iF(t,this.referenceDelegate),this.Gi[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){St("MemoryPersistence","Starting transaction:",e);const i=new uF(this.es.next());return this.referenceDelegate.ji(),r(i).next(l=>this.referenceDelegate.Wi(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}zi(e,t){return Je.or(Object.values(this.Gi).map(r=>()=>r.containsKey(e,t)))}}class uF extends v1{constructor(e){super(),this.currentSequenceNumber=e}}class TI{constructor(e){this.persistence=e,this.Hi=new DI,this.Ji=null}static Yi(e){return new TI(e)}get Xi(){if(this.Ji)return this.Ji;throw Jt()}addReference(e,t,r){return this.Hi.addReference(r,t),this.Xi.delete(r.toString()),Je.resolve()}removeReference(e,t,r){return this.Hi.removeReference(r,t),this.Xi.add(r.toString()),Je.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),Je.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(i=>this.Xi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.Xi.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Je.forEach(this.Xi,r=>{const i=Lt.fromPath(r);return this.Zi(e,i).next(l=>{l||t.removeEntry(i,Xt.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(r=>{r?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return Je.or([()=>Je.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function Z1(n,e){return`firestore_clients_${n}_${e}`}function K1(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function SI(n,e){return`firestore_targets_${n}_${e}`}class gC{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static tr(e,t,r){const i=JSON.parse(r);let l,f="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return f&&i.error&&(f="string"==typeof i.error.message&&"string"==typeof i.error.code,f&&(l=new p(i.error.code,i.error.message))),f?new gC(e,t,i.state,l):(vi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class rE{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static tr(e,t){const r=JSON.parse(t);let i,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(i=new p(r.error.code,r.error.message))),l?new rE(e,r.state,i):(vi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class mC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,l=rC();for(let f=0;i&&f<r.activeTargetIds.length;++f)i=fR(r.activeTargetIds[f]),l=l.add(r.activeTargetIds[f]);return i?new mC(e,l):(vi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class II{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new II(t.clientId,t.onlineState):(vi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class MI{constructor(){this.activeTargetIds=rC()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xI{constructor(e,t,r,i,l){this.window=e,this.Yn=t,this.persistenceKey=r,this.ir=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new yi(Ge),this.started=!1,this.cr=[];const f=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.hr=Z1(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new MI),this.dr=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,it.Z)(function*(){const t=yield e.syncEngine.Fs();for(const i of t){if(i===e.ir)continue;const l=e.getItem(Z1(e.persistenceKey,i));if(l){const f=mC.tr(i,l);f&&(e.ar=e.ar.insert(f.clientId,f))}}e.yr();const r=e.storage.getItem(e.mr);if(r){const i=e.pr(r);i&&e.Ir(i)}for(const i of e.cr)e.ur(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,r){this.Er(e,t,r),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(SI(this.persistenceKey,e));if(r){const i=rE.tr(e,r);i&&(t=i.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(SI(this.persistenceKey,e))}updateQueryState(e,t,r){this.br(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Ar(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return St("SharedClientState","READ",e,t),t}setItem(e,t){St("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){St("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const r=e;if(r.storageArea===this.storage){if(St("SharedClientState","EVENT",r.key,r.newValue),r.key===this.hr)return void vi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,it.Z)(function*(){if(t.started){if(null!==r.key)if(t.dr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Sr(i,null)}{const i=t.Dr(r.key,r.newValue);if(i)return t.Sr(i.clientId,i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Cr(r.key,r.newValue);if(i)return t.Nr(i)}}else if(t.wr.test(r.key)){if(null!==r.newValue){const i=t.kr(r.key,r.newValue);if(i)return t.Mr(i)}}else if(r.key===t.mr){if(null!==r.newValue){const i=t.pr(r.newValue);if(i)return t.Ir(i)}}else if(r.key===t.lr){const i=function(l){let f=gt.A;if(null!=l)try{const m=JSON.parse(l);s("number"==typeof m),f=m}catch(m){vi("SharedClientState","Failed to read sequence number from WebStorage",m)}return f}(r.newValue);i!==gt.A&&t.sequenceNumberHandler(i)}else if(r.key===t.gr){const i=t.Or(r.newValue);yield Promise.all(i.map(l=>t.syncEngine.Fr(l)))}}else t.cr.push(r)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,r){const i=new gC(this.currentUser,e,t,r),l=K1(this.persistenceKey,this.currentUser,e);this.setItem(l,i.er())}Ar(e){const t=K1(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,r){const i=SI(this.persistenceKey,e),l=new rE(e,t,r);this.setItem(i,l.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const r=this.vr(e);return mC.tr(r,t)}Cr(e,t){const r=this._r.exec(e),i=Number(r[1]);return gC.tr(new ns(void 0!==r[2]?r[2]:null),i,t)}kr(e,t){const r=this.wr.exec(e),i=Number(r[1]);return rE.tr(i,t)}pr(e){return II.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,it.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);St("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Tr(this.ar),l=this.Tr(r),f=[],m=[];return l.forEach(E=>{i.has(E)||f.push(E)}),i.forEach(E=>{l.has(E)||m.push(E)}),this.syncEngine.Lr(f,m).then(()=>{this.ar=r})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=rC();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class Q1{constructor(){this.Ur=new MI,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new MI,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class cF{Kr(e){}shutdown(){}}class Y1{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){St("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){St("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const dF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class fF{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class hF extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,i,l){const f=this.ho(e,t);St("RestConnection","Sending: ",f,r);const m={};return this.lo(m,i,l),this.fo(e,f,m,r).then(E=>(St("RestConnection","Received: ",E),E),E=>{throw Tv("RestConnection",`${e} failed with error: `,E,"url: ",f,"request:",r),E})}_o(e,t,r,i,l){return this.co(e,t,r,i,l)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Fp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),r&&r.headers.forEach((i,l)=>e[l]=i)}ho(e,t){return`${this.uo}/v1/${t}:${dF[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((l,f)=>{const m=new $S;m.listenOnce(S0.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Dv.NO_ERROR:const C=m.getResponseJson();St("Connection","XHR received:",JSON.stringify(C)),l(C);break;case Dv.TIMEOUT:St("Connection",'RPC "'+e+'" timed out'),f(new p(u.DEADLINE_EXCEEDED,"Request time out"));break;case Dv.HTTP_ERROR:const k=m.getStatus();if(St("Connection",'RPC "'+e+'" failed with status:',k,"response text:",m.getResponseText()),k>0){const O=m.getResponseJson().error;if(O&&O.status&&O.message){const q=function(J){const se=J.toLowerCase().replace(/_/g,"-");return Object.values(u).indexOf(se)>=0?se:u.UNKNOWN}(O.status);f(new p(q,O.message))}else f(new p(u.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new p(u.UNAVAILABLE,"Connection failed."));break;default:Jt()}}finally{St("Connection",'RPC "'+e+'" completed.')}});const E=JSON.stringify(i);m.send(t,"POST",E,r,15)})}wo(e,t,r){const i=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=T0(),f=lR(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new uR({})),this.lo(m.initMessageHeaders,t,r),(0,Wn.uI)()||(0,Wn.b$)()||(0,Wn.d)()||(0,Wn.w1)()||(0,Wn.Mn)()||(0,Wn.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const E=i.join("");St("Connection","Creating WebChannel: "+E,m);const C=l.createWebChannel(E,m);let k=!1,O=!1;const q=new fF({Jr:se=>{O?St("Connection","Not sending because WebChannel is closed:",se):(k||(St("Connection","Opening WebChannel transport."),C.open(),k=!0),St("Connection","WebChannel sending:",se),C.send(se))},Yr:()=>C.close()}),J=(se,Me,nt)=>{se.listen(Me,at=>{try{nt(at)}catch(_t){setTimeout(()=>{throw _t},0)}})};return J(C,I0.EventType.OPEN,()=>{O||St("Connection","WebChannel transport opened.")}),J(C,I0.EventType.CLOSE,()=>{O||(O=!0,St("Connection","WebChannel transport closed"),q.ro())}),J(C,I0.EventType.ERROR,se=>{O||(O=!0,Tv("Connection","WebChannel transport errored:",se),q.ro(new p(u.UNAVAILABLE,"The operation could not be completed")))}),J(C,I0.EventType.MESSAGE,se=>{var Me;if(!O){const nt=se.data[0];s(!!nt);const at=nt,_t=at.error||(null===(Me=at[0])||void 0===Me?void 0:Me.error);if(_t){St("Connection","WebChannel received error:",_t);const Rt=_t.status;let Ct=function(hn){const Un=Si[hn];if(void 0!==Un)return ZR(Un)}(Rt),pn=_t.message;void 0===Ct&&(Ct=u.INTERNAL,pn="Unknown error status: "+Rt+" with message "+_t.message),O=!0,q.ro(new p(Ct,pn)),C.close()}else St("Connection","WebChannel received:",nt),q.oo(nt)}}),J(f,zS.STAT_EVENT,se=>{se.stat===Gw.PROXY?St("Connection","Detected buffering proxy"):se.stat===Gw.NOPROXY&&St("Connection","Detected no buffering proxy")}),setTimeout(()=>{q.io()},0),q}}function J1(){return"undefined"!=typeof window?window:null}function vC(){return"undefined"!=typeof document?document:null}function iE(n){return new tO(n,!0)}class RI{constructor(e,t,r=1e3,i=1.5,l=6e4){this.Yn=e,this.timerId=t,this.mo=r,this.yo=i,this.po=l,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&St("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class X1{constructor(e,t,r,i,l,f,m,E){this.Yn=e,this.Vo=r,this.vo=i,this.So=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=E,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new RI(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,it.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,it.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,it.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===u.RESOURCE_EXHAUSTED?(vi(t.toString()),vi("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===u.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===t&&this.Qo(r,i)},r=>{e(()=>{const i=new p(u.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.No.Ro((0,it.Z)(function*(){e.state=0,e.start()}))}jo(e){return St("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(St("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pF extends X1{constructor(e,t,r,i,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,f),this.M=l}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function iO(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(E=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:Jt(),i=e.targetChange.targetIds||[],l=function(E,C){return E.N?(s(void 0===C||"string"==typeof C),Xr.fromBase64String(C||"")):(s(void 0===C||C instanceof Uint8Array),Xr.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(E){const C=void 0===E.code?u.UNKNOWN:ZR(E.code);return new p(C,E.message||"")}(f);t=new QR(r,i,l,m||null)}else if("documentChange"in e){const r=e.documentChange,i=Xu(n,r.document.name),l=rs(r.document.updateTime),f=new Ys({mapValue:{fields:r.document.fields}}),m=Br.newFoundDocument(i,l,f);t=new iC(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,i=Xu(n,r.document),l=r.readTime?rs(r.readTime):Xt.min(),f=Br.newNoDocument(i,l);t=new iC([],r.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const r=e.documentRemove,i=Xu(n,r.document);t=new iC([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Jt();{const r=e.filter,l=new WP(r.count||0);t=new KR(r.targetId,l)}}var E;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return Xt.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?Xt.min():l.readTime?rs(l.readTime):Xt.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=Z0(this.M),t.addTarget=function(i,l){let f;const m=l.target;return f=Jw(m)?{documents:o1(i,m)}:{query:a1(i,m)},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?f.resumeToken=e1(i,l.resumeToken):l.snapshotVersion.compareTo(Xt.min())>0&&(f.readTime=W0(i,l.snapshotVersion.toTimestamp())),f}(this.M,e);const r=function oO(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Jt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=Z0(this.M),t.removeTarget=e,this.Lo(t)}}class gF extends X1{constructor(e,t,r,i,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,f),this.M=l,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(s(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function sO(n,e){return n&&n.length>0?(s(void 0!==e),n.map(t=>function(r,i){let l=rs(r.updateTime?r.updateTime:i);return l.isEqual(Xt.min())&&(l=rs(i)),new GP(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=rs(e.commitTime);return this.listener.tu(r,t)}return s(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Z0(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>K0(this.M,r))};this.Lo(t)}}class mF extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.M=i,this.su=!1}iu(){if(this.su)throw new p(u.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.So.co(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===u.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new p(u.UNKNOWN,i.toString())})}_o(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.So._o(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===u.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new p(u.UNKNOWN,i.toString())})}terminate(){this.su=!0}}class vF{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(vi(t),this.uu=!1):St("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class yF{constructor(e,t,r,i,l){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=l,this.gu.Kr(m=>{r.enqueueAndForget((0,it.Z)(function*(){var E;Jf(f)&&(St("RemoteStore","Restarting streams for network reachability change."),yield(E=(0,it.Z)(function*(C){const k=a(C);k.wu.add(4),yield jv(k),k.yu.set("Unknown"),k.wu.delete(4),yield sE(k)}),function(C){return E.apply(this,arguments)})(f))}))}),this.yu=new vF(r,i)}}function sE(n){return NI.apply(this,arguments)}function NI(){return NI=(0,it.Z)(function*(n){if(Jf(n))for(const e of n.mu)yield e(!0)}),NI.apply(this,arguments)}function jv(n){return kI.apply(this,arguments)}function kI(){return kI=(0,it.Z)(function*(n){for(const e of n.mu)yield e(!1)}),kI.apply(this,arguments)}function yC(n,e){const t=a(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),FI(t)?OI(t):zv(t).Mo()&&PI(t,e))}function oE(n,e){const t=a(n),r=zv(t);t._u.delete(e),r.Mo()&&eN(t,e),0===t._u.size&&(r.Mo()?r.$o():Jf(t)&&t.yu.set("Unknown"))}function PI(n,e){n.pu.Z(e.targetId),zv(n).Ho(e)}function eN(n,e){n.pu.Z(e),zv(n).Jo(e)}function OI(n){n.pu=new JP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n._u.get(e)||null}),zv(n).start(),n.yu.au()}function FI(n){return Jf(n)&&!zv(n).ko()&&n._u.size>0}function Jf(n){return 0===a(n).wu.size}function tN(n){n.pu=void 0}function _F(n){return LI.apply(this,arguments)}function LI(){return LI=(0,it.Z)(function*(n){n._u.forEach((e,t)=>{PI(n,e)})}),LI.apply(this,arguments)}function EF(n,e){return VI.apply(this,arguments)}function VI(){return VI=(0,it.Z)(function*(n,e){tN(n),FI(n)?(n.yu.lu(e),OI(n)):n.yu.set("Unknown")}),VI.apply(this,arguments)}function bF(n,e,t){return BI.apply(this,arguments)}function BI(){return BI=(0,it.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof QR&&2===e.state&&e.cause)try{yield(r=(0,it.Z)(function*(i,l){const f=l.cause;for(const m of l.targetIds)i._u.has(m)&&(yield i.remoteSyncer.rejectListen(m,f),i._u.delete(m),i.pu.removeTarget(m))}),function(i,l){return r.apply(this,arguments)})(n,e)}catch(r){St("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield _C(n,r)}else if(e instanceof iC?n.pu.ut(e):e instanceof KR?n.pu._t(e):n.pu.ht(e),!t.isEqual(Xt.min()))try{const r=yield G1(n.localStore);t.compareTo(r)>=0&&(yield function(i,l){const f=i.pu.yt(l);return f.targetChanges.forEach((m,E)=>{if(m.resumeToken.approximateByteSize()>0){const C=i._u.get(E);C&&i._u.set(E,C.withResumeToken(m.resumeToken,l))}}),f.targetMismatches.forEach(m=>{const E=i._u.get(m);if(!E)return;i._u.set(m,E.withResumeToken(Xr.EMPTY_BYTE_STRING,E.snapshotVersion)),eN(i,m);const C=new Kf(E.target,m,1,E.sequenceNumber);PI(i,C)}),i.remoteSyncer.applyRemoteEvent(f)}(n,t))}catch(r){St("RemoteStore","Failed to raise snapshot:",r),yield _C(n,r)}var r}),BI.apply(this,arguments)}function _C(n,e,t){return UI.apply(this,arguments)}function UI(){return UI=(0,it.Z)(function*(n,e,t){if(!$p(e))throw e;n.wu.add(1),yield jv(n),n.yu.set("Offline"),t||(t=()=>G1(n.localStore)),n.asyncQueue.enqueueRetryable((0,it.Z)(function*(){St("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield sE(n)}))}),UI.apply(this,arguments)}function nN(n,e){return e().catch(t=>_C(n,t,e))}function Gv(n){return HI.apply(this,arguments)}function HI(){return HI=(0,it.Z)(function*(n){const e=a(n),t=Xf(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;AF(e);)try{const i=yield XO(e.localStore,r);if(null===i){0===e.du.length&&t.$o();break}r=i.batchId,wF(e,i)}catch(i){yield _C(e,i)}rN(e)&&iN(e)}),HI.apply(this,arguments)}function AF(n){return Jf(n)&&n.du.length<10}function wF(n,e){n.du.push(e);const t=Xf(n);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function rN(n){return Jf(n)&&!Xf(n).ko()&&n.du.length>0}function iN(n){Xf(n).start()}function CF(n){return jI.apply(this,arguments)}function jI(){return jI=(0,it.Z)(function*(n){Xf(n).nu()}),jI.apply(this,arguments)}function DF(n){return GI.apply(this,arguments)}function GI(){return GI=(0,it.Z)(function*(n){const e=Xf(n);for(const t of n.du)e.Zo(t.mutations)}),GI.apply(this,arguments)}function TF(n,e,t){return zI.apply(this,arguments)}function zI(){return zI=(0,it.Z)(function*(n,e,t){const r=n.du.shift(),i=uI.from(r,e,t);yield nN(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Gv(n)}),zI.apply(this,arguments)}function SF(n,e){return $I.apply(this,arguments)}function $I(){return $I=(0,it.Z)(function*(n,e){var t;e&&Xf(n).Xo&&(yield(t=(0,it.Z)(function*(r,i){if(qR(l=i.code)&&l!==u.ABORTED){const f=r.du.shift();Xf(r).Fo(),yield nN(r,()=>r.remoteSyncer.rejectFailedWrite(f.batchId,i)),yield Gv(r)}var l}),function(r,i){return t.apply(this,arguments)})(n,e)),rN(n)&&iN(n)}),$I.apply(this,arguments)}function sN(n,e){return WI.apply(this,arguments)}function WI(){return WI=(0,it.Z)(function*(n,e){const t=a(n);t.asyncQueue.verifyOperationInProgress(),St("RemoteStore","RemoteStore received new credentials");const r=Jf(t);t.wu.add(3),yield jv(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield sE(t)}),WI.apply(this,arguments)}function qI(n,e){return ZI.apply(this,arguments)}function ZI(){return ZI=(0,it.Z)(function*(n,e){const t=a(n);e?(t.wu.delete(2),yield sE(t)):e||(t.wu.add(2),yield jv(t),t.yu.set("Unknown"))}),ZI.apply(this,arguments)}function zv(n){return n.Iu||(n.Iu=function(e,t,r){const i=a(e);return i.iu(),new pF(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:_F.bind(null,n),eo:EF.bind(null,n),zo:bF.bind(null,n)}),n.mu.push(function(){var e=(0,it.Z)(function*(t){t?(n.Iu.Fo(),FI(n)?OI(n):n.yu.set("Unknown")):(yield n.Iu.stop(),tN(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function Xf(n){return n.Tu||(n.Tu=function(e,t,r){const i=a(e);return i.iu(),new gF(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:CF.bind(null,n),eo:SF.bind(null,n),eu:DF.bind(null,n),tu:TF.bind(null,n)}),n.mu.push(function(){var e=(0,it.Z)(function*(t){t?(n.Tu.Fo(),yield Gv(n)):(yield n.Tu.stop(),n.du.length>0&&(St("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class KI{constructor(e,t,r,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new y,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,r,i,l){const f=Date.now()+r,m=new KI(e,t,f,i,l);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new p(u.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $v(n,e){if(vi("AsyncQueue",`${e}: ${n}`),$p(n))return new p(u.UNAVAILABLE,`${e}: ${n}`);throw n}class Wv{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Lt.comparator(t.key,r.key):(t,r)=>Lt.comparator(t.key,r.key),this.keyedMap=rI(),this.sortedSet=new yi(this.comparator)}static emptySet(e){return new Wv(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Wv)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Wv;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class oN{constructor(){this.Eu=new yi(Lt.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):Jt():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class qv{constructor(e,t,r,i,l,f,m,E){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=E}static fromInitialDocuments(e,t,r,i){const l=[];return t.forEach(f=>{l.push({type:0,doc:f})}),new qv(e,t,Wv.emptySet(t),l,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&B0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class IF{constructor(){this.Ru=void 0,this.listeners=[]}}class MF{constructor(){this.queries=new Zf(e=>RR(e),B0),this.onlineState="Unknown",this.bu=new Set}}function QI(n,e){return YI.apply(this,arguments)}function YI(){return YI=(0,it.Z)(function*(n,e){const t=a(n),r=e.query;let i=!1,l=t.queries.get(r);if(l||(i=!0,l=new IF),i)try{l.Ru=yield t.onListen(r)}catch(f){const m=$v(f,`Initialization of query '${XS(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,l),l.listeners.push(e),e.Pu(t.onlineState),l.Ru&&e.Vu(l.Ru)&&eM(t)}),YI.apply(this,arguments)}function JI(n,e){return XI.apply(this,arguments)}function XI(){return XI=(0,it.Z)(function*(n,e){const t=a(n),r=e.query;let i=!1;const l=t.queries.get(r);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),i=0===l.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),XI.apply(this,arguments)}function xF(n,e){const t=a(n);let r=!1;for(const i of e){const f=t.queries.get(i.query);if(f){for(const m of f.listeners)m.Vu(i)&&(r=!0);f.Ru=i}}r&&eM(t)}function RF(n,e,t){const r=a(n),i=r.queries.get(e);if(i)for(const l of i.listeners)l.onError(t);r.queries.delete(e)}function eM(n){n.bu.forEach(e=>{e.next()})}class tM{constructor(e,t,r){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new qv(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=qv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class NF{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class aN{constructor(e){this.M=e}wi(e){return Xu(this.M,e)}mi(e){return e.metadata.exists?s1(this.M,e.document,!1):Br.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return rs(e)}}class kF{constructor(e,t,r){this.Ou=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=lN(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=Xn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new aN(this.M);for(const i of e)if(i.metadata.queries){const l=r.wi(i.metadata.name);for(const f of i.metadata.queries){const m=(t.get(f)||vr()).add(l);t.set(f,m)}}return t}complete(){var e=this;return(0,it.Z)(function*(){const t=yield function eF(n,e,t,r){return wI.apply(this,arguments)}(e.localStore,new aN(e.M),e.documents,e.Ou.id),r=e.$u(e.documents);for(const i of e.queries)yield tF(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function lN(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class uN{constructor(e){this.key=e}}class cN{constructor(e){this.key=e}}class dN{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=vr(),this.mutatedKeys=vr(),this.Gu=kR(e),this.Qu=new Wv(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new oN,i=t?t.Qu:this.Qu;let l=t?t.mutatedKeys:this.mutatedKeys,f=i,m=!1;const E="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,C="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((k,O)=>{const q=i.get(k),J=eI(this.query,O)?O:null,se=!!q&&this.mutatedKeys.has(q.key),Me=!!J&&(J.hasLocalMutations||this.mutatedKeys.has(J.key)&&J.hasCommittedMutations);let nt=!1;q&&J?q.data.isEqual(J.data)?se!==Me&&(r.track({type:3,doc:J}),nt=!0):this.Hu(q,J)||(r.track({type:2,doc:J}),nt=!0,(E&&this.Gu(J,E)>0||C&&this.Gu(J,C)<0)&&(m=!0)):!q&&J?(r.track({type:0,doc:J}),nt=!0):q&&!J&&(r.track({type:1,doc:q}),nt=!0,(E||C)&&(m=!0)),nt&&(J?(f=f.add(J),l=Me?l.add(k):l.delete(k)):(f=f.delete(k),l=l.delete(k)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const k="F"===this.query.limitType?f.last():f.first();f=f.delete(k.key),l=l.delete(k.key),r.track({type:1,doc:k})}return{Qu:f,zu:r,ii:m,mutatedKeys:l}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const l=e.zu.Au();l.sort((C,k)=>function(O,q){const J=se=>{switch(se){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jt()}};return J(O)-J(q)}(C.type,k.type)||this.Gu(C.doc,k.doc)),this.Ju(r);const f=t?this.Yu():[],m=0===this.Ku.size&&this.current?1:0,E=m!==this.qu;return this.qu=m,0!==l.length||E?{snapshot:new qv(this.query,e.Qu,i,l,e.mutatedKeys,0===m,E,!1),Xu:f}:{Xu:f}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new oN,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=vr(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new cN(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new uN(r))}),t}ta(e){this.Uu=e._i,this.Ku=vr();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return qv.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class PF{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class OF{constructor(e){this.key=e,this.na=!1}}class FF{constructor(e,t,r,i,l,f){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.sa={},this.ia=new Zf(m=>RR(m),B0),this.ra=new Map,this.oa=new Set,this.ua=new yi(Lt.comparator),this.aa=new Map,this.ca=new DI,this.ha={},this.la=new Map,this.fa=Jp.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function LF(n,e){return nM.apply(this,arguments)}function nM(){return nM=(0,it.Z)(function*(n,e){const t=DM(n);let r,i;const l=t.ia.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),i=l.view.ea();else{const f=yield Uv(t.localStore,dl(e));t.isPrimaryClient&&yC(t.remoteStore,f);const m=t.sharedClientState.addLocalQueryTarget(f.targetId);r=f.targetId,i=yield rM(t,e,r,"current"===m)}return i}),nM.apply(this,arguments)}function rM(n,e,t,r){return iM.apply(this,arguments)}function iM(){return iM=(0,it.Z)(function*(n,e,t,r){n._a=(k,O,q)=>{return(J=(0,it.Z)(function*(se,Me,nt,at){let _t=Me.view.Wu(nt);_t.ii&&(_t=yield pC(se.localStore,Me.query,!1).then(({documents:pn})=>Me.view.Wu(pn,_t)));const Rt=at&&at.targetChanges.get(Me.targetId),Ct=Me.view.applyChanges(_t,se.isPrimaryClient,Rt);return pM(se,Me.targetId,Ct.Xu),Ct.snapshot}),function(se,Me,nt,at){return J.apply(this,arguments)})(n,k,O,q);var J};const i=yield pC(n.localStore,e,!0),l=new dN(e,i._i),f=l.Wu(i.documents),m=$0.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),E=l.applyChanges(f,n.isPrimaryClient,m);pM(n,t,E.Xu);const C=new PF(e,t,l);return n.ia.set(e,C),n.ra.has(t)?n.ra.get(t).push(e):n.ra.set(t,[e]),E.snapshot}),iM.apply(this,arguments)}function VF(n,e){return sM.apply(this,arguments)}function sM(){return sM=(0,it.Z)(function*(n,e){const t=a(n),r=t.ia.get(e),i=t.ra.get(r.targetId);if(i.length>1)return t.ra.set(r.targetId,i.filter(l=>!B0(l,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Hv(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),oE(t.remoteStore,r.targetId),Zv(t,r.targetId)}).catch(Xp))):(Zv(t,r.targetId),yield Hv(t.localStore,r.targetId,!0))}),sM.apply(this,arguments)}function oM(){return oM=(0,it.Z)(function*(n,e,t){const r=TM(n);try{const i=yield function(l,f){const m=a(l),E=bn.now(),C=f.reduce((O,q)=>O.add(q.key),vr());let k;return m.persistence.runTransaction("Locally write mutations","readwrite",O=>m.fi.Ks(O,C).next(q=>{k=q;const J=[];for(const se of f){const Me=$P(se,k.get(se.key));null!=Me&&J.push(new zp(se.key,Me,_R(Me.value.mapValue),Ti.exists(!0)))}return m.Bs.addMutationBatch(O,E,J,f)})).then(O=>(O.applyToLocalDocumentSet(k),{batchId:O.batchId,changes:k}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,f,m){let E=l.ha[l.currentUser.toKey()];E||(E=new yi(Ge)),E=E.insert(f,m),l.ha[l.currentUser.toKey()]=E}(r,i.batchId,t),yield wd(r,i.changes),yield Gv(r.remoteStore)}catch(i){const l=$v(i,"Failed to persist write");t.reject(l)}}),oM.apply(this,arguments)}function fN(n,e){return aM.apply(this,arguments)}function aM(){return aM=(0,it.Z)(function*(n,e){const t=a(n);try{const r=yield JO(t.localStore,e);e.targetChanges.forEach((i,l)=>{const f=t.aa.get(l);f&&(s(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?f.na=!0:i.modifiedDocuments.size>0?s(f.na):i.removedDocuments.size>0&&(s(f.na),f.na=!1))}),yield wd(t,r,e)}catch(r){yield Xp(r)}}),aM.apply(this,arguments)}function hN(n,e,t){const r=a(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ia.forEach((l,f)=>{const m=f.view.Pu(e);m.snapshot&&i.push(m.snapshot)}),function(l,f){const m=a(l);m.onlineState=f;let E=!1;m.queries.forEach((C,k)=>{for(const O of k.listeners)O.Pu(f)&&(E=!0)}),E&&eM(m)}(r.eventManager,e),i.length&&r.sa.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function UF(n,e,t){return lM.apply(this,arguments)}function lM(){return lM=(0,it.Z)(function*(n,e,t){const r=a(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.aa.get(e),l=i&&i.key;if(l){let f=new yi(Lt.comparator);f=f.insert(l,Br.newNoDocument(l,Xt.min()));const m=vr().add(l),E=new z0(Xt.min(),new Map,new Pr(Ge),f,m);yield fN(r,E),r.ua=r.ua.remove(l),r.aa.delete(e),gM(r)}else yield Hv(r.localStore,e,!1).then(()=>Zv(r,e,t)).catch(Xp)}),lM.apply(this,arguments)}function HF(n,e){return uM.apply(this,arguments)}function uM(){return uM=(0,it.Z)(function*(n,e){const t=a(n),r=e.batch.batchId;try{const i=yield YO(t.localStore,e);hM(t,r,null),fM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield wd(t,i)}catch(i){yield Xp(i)}}),uM.apply(this,arguments)}function jF(n,e,t){return cM.apply(this,arguments)}function cM(){return cM=(0,it.Z)(function*(n,e,t){const r=a(n);try{const i=yield function(l,f){const m=a(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let C;return m.Bs.lookupMutationBatch(E,f).next(k=>(s(null!==k),C=k.keys(),m.Bs.removeMutationBatch(E,k))).next(()=>m.Bs.performConsistencyCheck(E)).next(()=>m.fi.Ks(E,C))})}(r.localStore,e);hM(r,e,t),fM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield wd(r,i)}catch(i){yield Xp(i)}}),cM.apply(this,arguments)}function dM(){return dM=(0,it.Z)(function*(n,e){const t=a(n);Jf(t.remoteStore)||St("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const f=a(l);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>f.Bs.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const i=t.la.get(r)||[];i.push(e),t.la.set(r,i)}catch(r){const i=$v(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),dM.apply(this,arguments)}function fM(n,e){(n.la.get(e)||[]).forEach(t=>{t.resolve()}),n.la.delete(e)}function hM(n,e,t){const r=a(n);let i=r.ha[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),r.ha[r.currentUser.toKey()]=i}}function Zv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ra.get(e))n.ia.delete(r),t&&n.sa.wa(r,t);n.ra.delete(e),n.isPrimaryClient&&n.ca.vi(e).forEach(r=>{n.ca.containsKey(r)||pN(n,r)})}function pN(n,e){n.oa.delete(e.path.canonicalString());const t=n.ua.get(e);null!==t&&(oE(n.remoteStore,t),n.ua=n.ua.remove(e),n.aa.delete(t),gM(n))}function pM(n,e,t){for(const r of t)r instanceof uN?(n.ca.addReference(r.key,e),zF(n,r)):r instanceof cN?(St("SyncEngine","Document no longer in limbo: "+r.key),n.ca.removeReference(r.key,e),n.ca.containsKey(r.key)||pN(n,r.key)):Jt()}function zF(n,e){const t=e.key,r=t.path.canonicalString();n.ua.get(t)||n.oa.has(r)||(St("SyncEngine","New document in limbo: "+t),n.oa.add(r),gM(n))}function gM(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const e=n.oa.values().next().value;n.oa.delete(e);const t=new Lt(Xn.fromString(e)),r=n.fa.next();n.aa.set(r,new OF(t)),n.ua=n.ua.insert(t,r),yC(n.remoteStore,new Kf(dl(Rv(t.path)),r,2,gt.A))}}function wd(n,e,t){return mM.apply(this,arguments)}function mM(){return mM=(0,it.Z)(function*(n,e,t){const r=a(n),i=[],l=[],f=[];var m;r.ia.isEmpty()||(r.ia.forEach((m,E)=>{f.push(r._a(E,e,t).then(C=>{if(C){r.isPrimaryClient&&r.sharedClientState.updateQueryState(E.targetId,C.fromCache?"not-current":"current"),i.push(C);const k=EI.Ys(E.targetId,C);l.push(k)}}))}),yield Promise.all(f),r.sa.zo(i),yield(m=(0,it.Z)(function*(E,C){const k=a(E);try{yield k.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>Je.forEach(C,q=>Je.forEach(q.Hs,J=>k.persistence.referenceDelegate.addReference(O,q.targetId,J)).next(()=>Je.forEach(q.Js,J=>k.persistence.referenceDelegate.removeReference(O,q.targetId,J)))))}catch(O){if(!$p(O))throw O;St("LocalStore","Failed to update sequence numbers: "+O)}for(const O of C){const q=O.targetId;if(!O.fromCache){const J=k.ui.get(q),Me=J.withLastLimboFreeSnapshotVersion(J.snapshotVersion);k.ui=k.ui.insert(q,Me)}}}),function(E,C){return m.apply(this,arguments)})(r.localStore,l))}),mM.apply(this,arguments)}function $F(n,e){return vM.apply(this,arguments)}function vM(){return vM=(0,it.Z)(function*(n,e){const t=a(n);if(!t.currentUser.isEqual(e)){St("SyncEngine","User change. New user:",e.toKey());const r=yield j1(t.localStore,e);t.currentUser=e,(i=t).la.forEach(f=>{f.forEach(m=>{m.reject(new p(u.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.la.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield wd(t,r.di)}var i}),vM.apply(this,arguments)}function WF(n,e){const t=a(n),r=t.aa.get(e);if(r&&r.na)return vr().add(r.key);{let i=vr();const l=t.ra.get(e);if(!l)return i;for(const f of l){const m=t.ia.get(f);i=i.unionWith(m.view.ju)}return i}}function qF(n,e){return yM.apply(this,arguments)}function yM(){return yM=(0,it.Z)(function*(n,e){const t=a(n),r=yield pC(t.localStore,e.query,!0),i=e.view.ta(r);return t.isPrimaryClient&&pM(t,e.targetId,i.Xu),i}),yM.apply(this,arguments)}function ZF(n,e){return _M.apply(this,arguments)}function _M(){return _M=(0,it.Z)(function*(n,e){const t=a(n);return W1(t.localStore,e).then(r=>wd(t,r))}),_M.apply(this,arguments)}function KF(n,e,t,r){return EM.apply(this,arguments)}function EM(){return EM=(0,it.Z)(function*(n,e,t,r){const i=a(n),l=yield function(f,m){const E=a(f),C=a(E.Bs);return E.persistence.runTransaction("Lookup mutation documents","readonly",k=>C.fn(k,m).next(O=>O?E.fi.Ks(k,O):Je.resolve(null)))}(i.localStore,e);var m;null!==l?("pending"===t?yield Gv(i.remoteStore):"acknowledged"===t||"rejected"===t?(hM(i,e,r||null),fM(i,e),m=e,a(a(i.localStore).Bs)._n(m)):Jt(),yield wd(i,l)):St("SyncEngine","Cannot apply mutation batch with id: "+e)}),EM.apply(this,arguments)}function bM(){return bM=(0,it.Z)(function*(n,e){const t=a(n);if(DM(t),TM(t),!0===e&&!0!==t.da){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield gN(t,r.toArray());t.da=!0,yield qI(t.remoteStore,!0);for(const l of i)yC(t.remoteStore,l)}else if(!1===e&&!1!==t.da){const r=[];let i=Promise.resolve();t.ra.forEach((l,f)=>{t.sharedClientState.isLocalQueryTarget(f)?r.push(f):i=i.then(()=>(Zv(t,f),Hv(t.localStore,f,!0))),oE(t.remoteStore,f)}),yield i,yield gN(t,r),function(l){const f=a(l);f.aa.forEach((m,E)=>{oE(f.remoteStore,E)}),f.ca.Si(),f.aa=new Map,f.ua=new yi(Lt.comparator)}(t),t.da=!1,yield qI(t.remoteStore,!1)}}),bM.apply(this,arguments)}function gN(n,e,t){return AM.apply(this,arguments)}function AM(){return AM=(0,it.Z)(function*(n,e,t){const r=a(n),i=[],l=[];for(const f of e){let m;const E=r.ra.get(f);if(E&&0!==E.length){m=yield Uv(r.localStore,dl(E[0]));for(const C of E){const k=r.ia.get(C),O=yield qF(r,k);O.snapshot&&l.push(O.snapshot)}}else{const C=yield $1(r.localStore,f);m=yield Uv(r.localStore,C),yield rM(r,mN(C),f,!1)}i.push(m)}return r.sa.zo(l),i}),AM.apply(this,arguments)}function mN(n){return MR(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function YF(n){const e=a(n);return a(a(e.localStore).persistence).Fs()}function JF(n,e,t,r){return wM.apply(this,arguments)}function wM(){return wM=(0,it.Z)(function*(n,e,t,r){const i=a(n);if(i.da)return void St("SyncEngine","Ignoring unexpected query state notification.");const l=i.ra.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const f=yield W1(i.localStore,NR(l[0])),m=z0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield wd(i,f,m);break}case"rejected":yield Hv(i.localStore,e,!0),Zv(i,e,r);break;default:Jt()}}),wM.apply(this,arguments)}function XF(n,e,t){return CM.apply(this,arguments)}function CM(){return CM=(0,it.Z)(function*(n,e,t){const r=DM(n);if(r.da){for(const i of e){if(r.ra.has(i)){St("SyncEngine","Adding an already active target "+i);continue}const l=yield $1(r.localStore,i),f=yield Uv(r.localStore,l);yield rM(r,mN(l),f.targetId,!1),yC(r.remoteStore,f)}for(const i of t)r.ra.has(i)&&(yield Hv(r.localStore,i,!1).then(()=>{oE(r.remoteStore,i),Zv(r,i)}).catch(Xp))}}),CM.apply(this,arguments)}function DM(n){const e=a(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=fN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UF.bind(null,e),e.sa.zo=xF.bind(null,e.eventManager),e.sa.wa=RF.bind(null,e.eventManager),e}function TM(n){const e=a(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=jF.bind(null,e),e}class vN{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,it.Z)(function*(){t.M=iE(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return H1(this.persistence,new U1,e.initialUser,this.M)}ya(e){return new lF(TI.Yi,this.M)}ga(e){return new Q1}terminate(){var e=this;return(0,it.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class yN extends vN{constructor(e,t,r){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,it.Z)(function*(){yield t().call(r,e),yield r.Ta.initialize(r,e),yield TM(r.Ta.syncEngine),yield Gv(r.Ta.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Ia(e){return H1(this.persistence,new U1,e.initialUser,this.M)}pa(e){return new GO(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=_I(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Yo.withCacheSize(this.cacheSizeBytes):Yo.DEFAULT;return new yI(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,J1(),vC(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new Q1}}class tL extends yN{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,it.Z)(function*(){yield t().call(r,e);const i=r.Ta.syncEngine;r.sharedClientState instanceof xI&&(r.sharedClientState.syncEngine={$r:KF.bind(null,i),Br:JF.bind(null,i),Lr:XF.bind(null,i),Fs:YF.bind(null,i),Fr:ZF.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var l=(0,it.Z)(function*(f){yield function QF(n,e){return bM.apply(this,arguments)}(r.Ta.syncEngine,f),r.gcScheduler&&(f&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):f||r.gcScheduler.stop())});return function(f){return l.apply(this,arguments)}}())})()}ga(e){const t=J1();if(!xI.vt(t))throw new p(u.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=_I(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new xI(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class SM{initialize(e,t){var r=this;return(0,it.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>hN(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=$F.bind(null,r.syncEngine),yield qI(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new MF}createDatastore(e){const t=iE(e.databaseInfo.databaseId),r=new hF(e.databaseInfo);return new mF(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,l=m=>hN(this.syncEngine,m,0),f=Y1.vt()?new Y1:new cF,new yF(t,r,i,l,f);var t,r,i,l,f}createSyncEngine(e,t){return function(r,i,l,f,m,E,C){const k=new FF(r,i,l,f,m,E);return C&&(k.da=!0),k}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,it.Z)(function*(t){const r=a(t);St("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield jv(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function _N(n,e=10240){let t=0;return{read:()=>(0,it.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,it.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class EC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class nL{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new y,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(r=>{r&&r.Mu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,it.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,it.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,it.Z)(function*(){const t=yield e.Va();if(null===t)return null;const r=e.ba.decode(t),i=Number(r);isNaN(i)&&e.va(`length string (${r}) is not valid number`);const l=yield e.Sa(i);return new NF(JSON.parse(l),t.length+i)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,it.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Sa(e){var t=this;return(0,it.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const r=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,it.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class rL{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,it.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new p(u.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,it.Z)(function*(l,f){const m=a(l),E=Z0(m.M)+"/documents",C={documents:f.map(J=>q0(m.M,J))},k=yield m._o("BatchGetDocuments",E,C),O=new Map;k.forEach(J=>{const se=function rO(n,e){return"found"in e?function(t,r){s(!!r.found);const i=Xu(t,r.found.name),l=rs(r.found.updateTime),f=new Ys({mapValue:{fields:r.found.fields}});return Br.newFoundDocument(i,l,f)}(n,e):"missing"in e?function(t,r){s(!!r.missing),s(!!r.readTime);const i=Xu(t,r.missing),l=rs(r.readTime);return Br.newNoDocument(i,l)}(n,e):Jt()}(m.M,J);O.set(se.key.toString(),se)});const q=[];return f.forEach(J=>{const se=O.get(J.toString());s(!!se),q.push(se)}),q}),function(l,f){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new j0(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,it.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const l=Lt.fromPath(i);e.mutations.push(new nI(l,e.precondition(l)))}),yield(r=(0,it.Z)(function*(i,l){const f=a(i),m=Z0(f.M)+"/documents",E={writes:l.map(C=>K0(f.M,C))};yield f.co("Commit",m,E)}),function(i,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Jt();t=Xt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new p(u.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Ti.updateTime(t):Ti.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Xt.min()))throw new p(u.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ti.updateTime(t)}return Ti.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class iL{constructor(e,t,r,i,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=l,this.xa=r.maxAttempts,this.No=new RI(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,it.Z)(function*(){const t=new rL(e.datastore),r=e.ka(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(l=>{e.Ma(l)}))}).catch(i=>{e.Ma(i)})}))}ka(e){try{const t=this.updateFunction(e);return!N0(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!qR(t)}return!1}}class sL{constructor(e,t,r,i){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ns.UNAUTHENTICATED,this.clientId=qt.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var f=(0,it.Z)(function*(m){St("FirestoreClient","Received user=",m.uid),yield l.authCredentialListener(m),l.user=m});return function(m){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(r,f=>(St("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,it.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new p(u.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new y;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,it.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=$v(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function EN(n,e){return IM.apply(this,arguments)}function IM(){return IM=(0,it.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),St("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,it.Z)(function*(l){r.isEqual(l)||(yield j1(e.localStore,l),r=l)});return function(l){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),IM.apply(this,arguments)}function bN(n,e){return MM.apply(this,arguments)}function MM(){return MM=(0,it.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield xM(n);St("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>sN(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,l)=>sN(e.remoteStore,l)),n.onlineComponents=e}),MM.apply(this,arguments)}function xM(n){return RM.apply(this,arguments)}function RM(){return RM=(0,it.Z)(function*(n){return n.offlineComponents||(St("FirestoreClient","Using default OfflineComponentProvider"),yield EN(n,new vN)),n.offlineComponents}),RM.apply(this,arguments)}function bC(n){return NM.apply(this,arguments)}function NM(){return NM=(0,it.Z)(function*(n){return n.onlineComponents||(St("FirestoreClient","Using default OnlineComponentProvider"),yield bN(n,new SM)),n.onlineComponents}),NM.apply(this,arguments)}function AN(n){return xM(n).then(e=>e.persistence)}function kM(n){return xM(n).then(e=>e.localStore)}function wN(n){return bC(n).then(e=>e.remoteStore)}function PM(n){return bC(n).then(e=>e.syncEngine)}function Kv(n){return OM.apply(this,arguments)}function OM(){return OM=(0,it.Z)(function*(n){const e=yield bC(n),t=e.eventManager;return t.onListen=LF.bind(null,e.syncEngine),t.onUnlisten=VF.bind(null,e.syncEngine),t}),OM.apply(this,arguments)}function CN(n,e,t={}){const r=new y;return n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return function(i,l,f,m,E){const C=new EC({next:O=>{l.enqueueAndForget(()=>JI(i,k));const q=O.docs.has(f);!q&&O.fromCache?E.reject(new p(u.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&O.fromCache&&m&&"server"===m.source?E.reject(new p(u.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(O)},error:O=>E.reject(O)}),k=new tM(Rv(f.path),C,{includeMetadataChanges:!0,ku:!0});return QI(i,k)}(yield Kv(n),n.asyncQueue,e,t,r)})),r.promise}function DN(n,e,t={}){const r=new y;return n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return function(i,l,f,m,E){const C=new EC({next:O=>{l.enqueueAndForget(()=>JI(i,k)),O.fromCache&&"server"===m.source?E.reject(new p(u.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(O)},error:O=>E.reject(O)}),k=new tM(f,C,{includeMetadataChanges:!0,ku:!0});return QI(i,k)}(yield Kv(n),n.asyncQueue,e,t,r)})),r.promise}const TN=new Map;function FM(n,e,t){if(!t)throw new p(u.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function SN(n,e,t,r){if(!0===e&&!0===r)throw new p(u.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function IN(n){if(!Lt.isDocumentKey(n))throw new p(u.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function MN(n){if(Lt.isDocumentKey(n))throw new p(u.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function AC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Jt()}function ir(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new p(u.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=AC(n);throw new p(u.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function xN(n,e){if(e<=0)throw new p(u.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class RN{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new p(u.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new p(u.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,SN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class aE{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RN({}),this._settingsFrozen=!1,e instanceof bd?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new p(u.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bd(i.options.projectId)}(e))}get app(){if(!this._app)throw new p(u.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new p(u.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RN(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new S;switch(t.type){case"gapi":const r=t.client;return s(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new re(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new p(u.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=TN.get(e);t&&(St("ComponentProvider","Removing Datastore"),TN.delete(e),t.terminate())}(this),Promise.resolve()}}class Ur{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ur(this.firestore,e,this._key)}}class Js{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Js(this.firestore,e,this._query)}}class tc extends Js{constructor(e,t,r){super(e,t,Rv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ur(this.firestore,null,new Lt(e))}withConverter(e){return new tc(this.firestore,e,this._path)}}function NN(n,e,...t){if(n=(0,Wn.m9)(n),FM("collection","path",e),n instanceof aE){const r=Xn.fromString(e,...t);return MN(r),new tc(n,null,r)}{if(!(n instanceof Ur||n instanceof tc))throw new p(u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xn.fromString(e,...t));return MN(r),new tc(n.firestore,null,r)}}function wC(n,e,...t){if(n=(0,Wn.m9)(n),1===arguments.length&&(e=qt.R()),FM("doc","path",e),n instanceof aE){const r=Xn.fromString(e,...t);return IN(r),new Ur(n,null,new Lt(r))}{if(!(n instanceof Ur||n instanceof tc))throw new p(u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xn.fromString(e,...t));return IN(r),new Ur(n.firestore,n instanceof tc?n.converter:null,new Lt(r))}}function kN(n,e){return n=(0,Wn.m9)(n),e=(0,Wn.m9)(e),(n instanceof Ur||n instanceof tc)&&(e instanceof Ur||e instanceof tc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function PN(n,e){return n=(0,Wn.m9)(n),e=(0,Wn.m9)(e),n instanceof Js&&e instanceof Js&&n.firestore===e.firestore&&B0(n._query,e._query)&&n.converter===e.converter}class mL{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new RI(this,"async_queue_retry"),this.Qa=()=>{const t=vC();t&&St("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=vC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=vC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new y;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,it.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!$p(t))throw t;St("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(r=>{throw this.Ua=r,this.qa=!1,vi("INTERNAL UNHANDLED ERROR: ",function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),f}(r)),r}).then(r=>(this.qa=!1,r))));return this.Fa=t,t}enqueueAfterDelay(e,t,r){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const i=KI.createAndSchedule(this,e,t,r,l=>this.Ha(l));return this.La.push(i),i}ja(){this.Ua&&Jt()}verifyOperationInProgress(){}Ja(){var e=this;return(0,it.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function LM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class vL{constructor(){this._progressObserver={},this._taskCompletionResolver=new y,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class zr extends aE{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new mL,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||ON(this),this._firestoreClient.terminate()}}function Ii(n){return n._firestoreClient||ON(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function ON(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new CP(n._databaseId,l,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var l,m;n._firestoreClient=new sL(n._authCredentials,n._appCheckCredentials,n._queue,r)}function FN(n,e,t){const r=new y;return n.asyncQueue.enqueue((0,it.Z)(function*(){try{yield EN(n,t),yield bN(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(l=i).name?l.code===u.FAILED_PRECONDITION||l.code===u.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var l})).then(()=>r.promise)}function LN(n){if(n._initialized||n._terminated)throw new p(u.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Cd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new p(u.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class nc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nc(Xr.fromBase64String(e))}catch(t){throw new p(u.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new nc(Xr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class tg{constructor(e){this._methodName=e}}class CC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new p(u.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new p(u.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}const SL=/^__.*__$/;class IL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new zp(e,this.data,this.fieldMask,t,this.fieldTransforms):new H0(e,this.data,t,this.fieldTransforms)}}class VN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new zp(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function BN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jt()}}class DC{constructor(e,t,r,i,l,f){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===l&&this.tc(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new DC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.rc(e),i}oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.tc(),i}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return IC(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(BN(this.ec)&&SL.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class ML{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||iE(e)}lc(e,t,r,i=!1){return new DC({ec:e,methodName:t,hc:r,path:Jr.emptyPath(),ic:!1,cc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function ng(n){const e=n._freezeSettings(),t=iE(n._databaseId);return new ML(n._databaseId,!!e.ignoreUndefinedProperties,t)}function TC(n,e,t,r,i,l={}){const f=n.lc(l.merge||l.mergeFields?2:0,e,t,i);HM("Data must be an object, but it was:",f,r);const m=jN(r,f);let E,C;if(l.merge)E=new Yu(f.fieldMask),C=f.fieldTransforms;else if(l.mergeFields){const k=[];for(const O of l.mergeFields){const q=jM(e,O,t);if(!f.contains(q))throw new p(u.INVALID_ARGUMENT,`Field '${q}' is specified in your field mask but missing from your input data.`);zN(k,q)||k.push(q)}E=new Yu(k),C=f.fieldTransforms.filter(O=>E.covers(O.field))}else E=null,C=f.fieldTransforms;return new IL(new Ys(m),E,C)}class lE extends tg{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lE}}function UN(n,e,t){return new DC({ec:3,hc:e.settings.hc,methodName:n._methodName,ic:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class VM extends tg{_toFieldTransform(e){return new U0(e.path,new kv)}isEqual(e){return e instanceof VM}}class xL extends tg{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=UN(this,e,!0),r=this.fc.map(l=>rg(l,t)),i=new jp(r);return new U0(e.path,i)}isEqual(e){return this===e}}class RL extends tg{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=UN(this,e,!0),r=this.fc.map(l=>rg(l,t)),i=new Gp(r);return new U0(e.path,i)}isEqual(e){return this===e}}class NL extends tg{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new Pv(e.M,FR(e.M,this.dc));return new U0(e.path,t)}isEqual(e){return this===e}}function BM(n,e,t,r){const i=n.lc(1,e,t);HM("Data must be an object, but it was:",i,r);const l=[],f=Ys.empty();tu(r,(E,C)=>{const k=SC(e,E,t);C=(0,Wn.m9)(C);const O=i.oc(k);if(C instanceof lE)l.push(k);else{const q=rg(C,O);null!=q&&(l.push(k),f.set(k,q))}});const m=new Yu(l);return new VN(f,m,i.fieldTransforms)}function UM(n,e,t,r,i,l){const f=n.lc(1,e,t),m=[jM(e,r,t)],E=[i];if(l.length%2!=0)throw new p(u.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let q=0;q<l.length;q+=2)m.push(jM(e,l[q])),E.push(l[q+1]);const C=[],k=Ys.empty();for(let q=m.length-1;q>=0;--q)if(!zN(C,m[q])){const J=m[q];let se=E[q];se=(0,Wn.m9)(se);const Me=f.oc(J);if(se instanceof lE)C.push(J);else{const nt=rg(se,Me);null!=nt&&(C.push(J),k.set(J,nt))}}const O=new Yu(C);return new VN(k,O,f.fieldTransforms)}function HN(n,e,t,r=!1){return rg(t,n.lc(r?4:3,e))}function rg(n,e){if(GN(n=(0,Wn.m9)(n)))return HM("Unsupported field value:",e,n),jN(n,e);if(n instanceof tg)return function(t,r){if(!BN(r.ec))throw r.ac(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ac(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,r){const i=[];let l=0;for(const f of t){let m=rg(f,r.uc(l));null==m&&(m={nullValue:"NULL_VALUE"}),i.push(m),l++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Wn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return FR(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=bn.fromDate(t);return{timestampValue:W0(r.M,i)}}if(t instanceof bn){const i=new bn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:W0(r.M,i)}}if(t instanceof CC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof nc)return{bytesValue:e1(r.M,t._byteString)};if(t instanceof Ur){const i=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(i))throw r.ac(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:iI(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ac(`Unsupported field value: ${AC(t)}`)}(n,e)}function jN(n,e){const t={};return Sv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):tu(n,(r,i)=>{const l=rg(i,e.sc(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function GN(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof bn||n instanceof CC||n instanceof nc||n instanceof Ur||n instanceof tg)}function HM(n,e,t){if(!GN(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=AC(t);throw e.ac("an object"===r?n+" a custom object":n+" "+r)}var r}function jM(n,e,t){if((e=(0,Wn.m9)(e))instanceof Cd)return e._internalPath;if("string"==typeof e)return SC(n,e);throw IC("Field path arguments must be of type string or ",n,!1,void 0,t)}const kL=new RegExp("[~\\*/\\[\\]]");function SC(n,e,t){if(e.search(kL)>=0)throw IC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Cd(...e.split("."))._internalPath}catch(r){throw IC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function IC(n,e,t,r,i){const l=r&&!r.isEmpty(),f=void 0!==i;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let E="";return(l||f)&&(E+=" (found",l&&(E+=` in field ${r}`),f&&(E+=` in document ${i}`),E+=")"),new p(u.INVALID_ARGUMENT,m+n+E)}function zN(n,e){return n.some(t=>t.isEqual(e))}class uE{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ur(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new PL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(MC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class PL extends uE{data(){return super.data()}}function MC(n,e){return"string"==typeof e?SC(n,e):e instanceof Cd?e._internalPath:e._delegate._internalPath}class ig{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dd extends uE{constructor(e,t,r,i,l,f){super(e,t,r,i,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new cE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(MC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class cE extends Dd{data(e={}){return super.data(e)}}class eh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ig(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new cE(this._firestore,this._userDataWriter,r.key,r,new ig(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new p(u.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(f=>({type:"added",doc:new cE(r._firestore,r._userDataWriter,f.doc.key,f.doc,new ig(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(f=>i||3!==f.type).map(f=>{const m=new cE(r._firestore,r._userDataWriter,f.doc.key,f.doc,new ig(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter);let E=-1,C=-1;return 0!==f.type&&(E=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),1!==f.type&&(l=l.add(f.doc),C=l.indexOf(f.doc.key)),{type:OL(f.type),doc:m,oldIndex:E,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function OL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jt()}}function $N(n,e){return n instanceof Dd&&e instanceof Dd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof eh&&e instanceof eh&&n._firestore===e._firestore&&PN(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function WN(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new p(u.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dE{}function th(n,...e){for(const t of e)n=t._apply(n);return n}class FL extends dE{constructor(e,t,r){super(),this._c=e,this.wc=t,this.mc=r,this.type="where"}_apply(e){const t=ng(e.firestore),r=function(i,l,f,m,E,C,k){let O;if(E.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new p(u.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){JN(k,C);const J=[];for(const se of k)J.push(YN(m,i,se));O={arrayValue:{values:J}}}else O=YN(m,i,k)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||JN(k,C),O=HN(f,"where",k,"in"===C||"not-in"===C);const q=Is.create(E,C,O);return function(J,se){if(se.S()){const nt=YS(J);if(null!==nt&&!nt.isEqual(se.field))throw new p(u.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${nt.toString()}' and '${se.field.toString()}'`);const at=QS(J);null!==at&&XN(0,se.field,at)}const Me=function(nt,at){for(const _t of nt.filters)if(at.indexOf(_t.op)>=0)return _t.op;return null}(J,function(nt){switch(nt){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(se.op));if(null!==Me)throw new p(u.INVALID_ARGUMENT,Me===se.op?`Invalid query. You cannot use more than one '${se.op.toString()}' filter.`:`Invalid query. You cannot use '${se.op.toString()}' filters with '${Me.toString()}' filters.`)}(i,q),q}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new Js(e.firestore,e.converter,function(i,l){const f=i.filters.concat([l]);return new Ad(i.path,i.collectionGroup,i.explicitOrderBy.slice(),f,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class VL extends dE{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(r,i,l){if(null!==r.startAt)throw new p(u.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new p(u.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new xv(i,l);return function(m,E){if(null===QS(m)){const C=YS(m);null!==C&&XN(0,C,E.field)}}(r,f),f}(e._query,this._c,this.gc);return new Js(e.firestore,e.converter,function(r,i){const l=r.explicitOrderBy.concat([i]);return new Ad(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class qN extends dE{constructor(e,t,r){super(),this.type=e,this.yc=t,this.Ic=r}_apply(e){return new Js(e.firestore,e.converter,xR(e._query,this.yc,this.Ic))}}class ZN extends dE{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=QN(e,this.type,this.Tc,this.Ec);return new Js(e.firestore,e.converter,(i=t,new Ad((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class KN extends dE{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=QN(e,this.type,this.Tc,this.Ec);return new Js(e.firestore,e.converter,(i=t,new Ad((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function QN(n,e,t,r){if(t[0]=(0,Wn.m9)(t[0]),t[0]instanceof uE)return function(i,l,f,m,E){if(!m)throw new p(u.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const C=[];for(const k of Nv(i))if(k.field.isKeyField())C.push(Bp(l,m.key));else{const O=m.data.field(k.field);if(WS(O))throw new p(u.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+k.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===O){const q=k.field.canonicalString();throw new p(u.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${q}' (used as the orderBy) does not exist.`)}C.push(O)}return new qf(C,E)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=ng(n.firestore);return function(l,f,m,E,C,k){const O=l.explicitOrderBy;if(C.length>O.length)throw new p(u.INVALID_ARGUMENT,`Too many arguments provided to ${E}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const q=[];for(let J=0;J<C.length;J++){const se=C[J];if(O[J].field.isKeyField()){if("string"!=typeof se)throw new p(u.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${E}(), but got a ${typeof se}`);if(!JS(l)&&-1!==se.indexOf("/"))throw new p(u.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${E}() must be a plain document ID, but '${se}' contains a slash.`);const Me=l.path.child(Xn.fromString(se));if(!Lt.isDocumentKey(Me))throw new p(u.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${E}() must result in a valid document path, but '${Me}' is not because it contains an odd number of segments.`);const nt=new Lt(Me);q.push(Bp(f,nt))}else{const Me=HN(m,E,se);q.push(Me)}}return new qf(q,k)}(n._query,n.firestore._databaseId,i,e,t,r)}}function YN(n,e,t){if("string"==typeof(t=(0,Wn.m9)(t))){if(""===t)throw new p(u.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JS(e)&&-1!==t.indexOf("/"))throw new p(u.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Xn.fromString(t));if(!Lt.isDocumentKey(r))throw new p(u.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Bp(n,new Lt(r))}if(t instanceof Ur)return Bp(n,t._key);throw new p(u.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${AC(t)}.`)}function JN(n,e){if(!Array.isArray(n)||0===n.length)throw new p(u.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new p(u.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function XN(n,e,t){if(!t.isEqual(e))throw new p(u.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const WL={maxAttempts:5};class GM{convertValue(e,t="none"){switch(Vp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ci(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Lp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Jt()}}convertObject(e,t){const r={};return tu(e.fields,(i,l)=>{r[i]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new CC(ci(e.latitude),ci(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=dR(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(R0(e));default:return null}}convertTimestamp(e){const t=zf(e);return new bn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Xn.fromString(e);s(c1(r));const i=new bd(r.get(1),r.get(3)),l=new Lt(r.popFirst(5));return i.isEqual(t)||vi(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function xC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class qL extends GM{constructor(e){super(),this.firestore=e}convertBytes(e){return new nc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ur(this.firestore,null,t)}}class ek{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ng(e)}set(e,t,r){this._verifyNotCommitted();const i=nh(e,this._firestore),l=xC(i.converter,t,r),f=TC(this._dataReader,"WriteBatch.set",i._key,l,null!==i.converter,r);return this._mutations.push(f.toMutation(i._key,Ti.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const l=nh(e,this._firestore);let f;return f="string"==typeof(t=(0,Wn.m9)(t))||t instanceof Cd?UM(this._dataReader,"WriteBatch.update",l._key,t,r,i):BM(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(f.toMutation(l._key,Ti.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=nh(e,this._firestore);return this._mutations=this._mutations.concat(new j0(t._key,Ti.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new p(u.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function nh(n,e){if((n=(0,Wn.m9)(n)).firestore!==e)throw new p(u.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class sg extends GM{constructor(e){super(),this.firestore=e}convertBytes(e){return new nc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ur(this.firestore,null,t)}}function tk(n,e,t){n=ir(n,Ur);const r=ir(n.firestore,zr),i=xC(n.converter,e,t);return Qv(r,[TC(ng(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Ti.none())])}function nk(n,e,t,...r){n=ir(n,Ur);const i=ir(n.firestore,zr),l=ng(i);let f;return f="string"==typeof(e=(0,Wn.m9)(e))||e instanceof Cd?UM(l,"updateDoc",n._key,e,t,r):BM(l,"updateDoc",n._key,e),Qv(i,[f.toMutation(n._key,Ti.exists(!0))])}function rk(n,...e){var t,r,i;n=(0,Wn.m9)(n);let l={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||LM(e[f])||(l=e[f],f++);const m={includeMetadataChanges:l.includeMetadataChanges};if(LM(e[f])){const O=e[f];e[f]=null===(t=O.next)||void 0===t?void 0:t.bind(O),e[f+1]=null===(r=O.error)||void 0===r?void 0:r.bind(O),e[f+2]=null===(i=O.complete)||void 0===i?void 0:i.bind(O)}let E,C,k;if(n instanceof Ur)C=ir(n.firestore,zr),k=Rv(n._key.path),E={next:O=>{e[f]&&e[f](zM(C,n,O))},error:e[f+1],complete:e[f+2]};else{const O=ir(n,Js);C=ir(O.firestore,zr),k=O._query;const q=new sg(C);E={next:J=>{e[f]&&e[f](new eh(C,q,O,J))},error:e[f+1],complete:e[f+2]},WN(n._query)}return function(O,q,J,se){const Me=new EC(se),nt=new tM(q,Me,J);return O.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return QI(yield Kv(O),nt)})),()=>{Me.Aa(),O.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return JI(yield Kv(O),nt)}))}}(Ii(C),k,m,E)}function Qv(n,e){return function(t,r){const i=new y;return t.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return function BF(n,e,t){return oM.apply(this,arguments)}(yield PM(t),r,i)})),i.promise}(Ii(n),e)}function zM(n,e,t){const r=t.docs.get(e._key),i=new sg(n);return new Dd(n,i,e._key,r,new ig(t.hasPendingWrites,t.fromCache),e.converter)}class rV extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ng(e)}get(e){const t=nh(e,this._firestore),r=new qL(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Jt();const l=i[0];if(l.isFoundDocument())return new uE(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new uE(this._firestore,r,t._key,null,t.converter);throw Jt()})}set(e,t,r){const i=nh(e,this._firestore),l=xC(i.converter,t,r),f=TC(this._dataReader,"Transaction.set",i._key,l,null!==i.converter,r);return this._transaction.set(i._key,f),this}update(e,t,r,...i){const l=nh(e,this._firestore);let f;return f="string"==typeof(t=(0,Wn.m9)(t))||t instanceof Cd?UM(this._dataReader,"Transaction.update",l._key,t,r,i):BM(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,f),this}delete(e){const t=nh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=nh(e,this._firestore),r=new sg(this._firestore);return super.get(e).then(i=>new Dd(this._firestore,r,t._key,i._document,new ig(!1,!1),t.converter))}}function $M(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new p("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function sk(){if("undefined"==typeof Uint8Array)throw new p("unimplemented","Uint8Arrays are not available in this environment.")}function ok(){if(!function x0(){return"undefined"!=typeof atob}())throw new p("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Fp=ju.SDK_VERSION,(0,ju._registerComponent)(new vp.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),l=new zr(i,new L(t.getProvider("auth-internal")),new Fe(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,ju.registerVersion)(zw,"3.4.9",n),(0,ju.registerVersion)(zw,"3.4.9","esm2017")}();class fE{constructor(e){this._delegate=e}static fromBase64String(e){return ok(),new fE(nc.fromBase64String(e))}static fromUint8Array(e){return sk(),new fE(nc.fromUint8Array(e))}toBase64(){return ok(),this._delegate.toBase64()}toUint8Array(){return sk(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function WM(n){return function fV(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class hV{enableIndexedDbPersistence(e,t){return function _L(n,e){LN(n=ir(n,zr));const t=Ii(n),r=n._freezeSettings(),i=new SM;return FN(t,i,new yN(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function EL(n){LN(n=ir(n,zr));const e=Ii(n),t=n._freezeSettings(),r=new SM;return FN(e,r,new tL(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function bL(n){if(n._initialized&&!n._terminated)throw new p(u.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new y;return n._queue.enqueueAndForgetEvenWhileRestricted((0,it.Z)(function*(){try{yield(t=(0,it.Z)(function*(r){if(!ru.vt())return Promise.resolve();const i=r+"main";yield ru.delete(i)}),function(r){return t.apply(this,arguments)})(_I(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class ak{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof bd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Tv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function pL(n,e,t,r={}){var i;const l=(n=ir(n,aE))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Tv("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let f,m;if("string"==typeof r.mockUserToken)f=r.mockUserToken,m=ns.MOCK_USER;else{f=(0,Wn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new p(u.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new ns(E)}n._authCredentials=new x(new A(f,m))}}(this._delegate,e,t,r)}enableNetwork(){return function wL(n){return function oL(n){return n.asyncQueue.enqueue((0,it.Z)(function*(){const e=yield AN(n),t=yield wN(n);return e.setNetworkEnabled(!0),function(r){const i=a(r);return i.wu.delete(0),sE(i)}(t)}))}(Ii(n=ir(n,zr)))}(this._delegate)}disableNetwork(){return function CL(n){return function aL(n){return n.asyncQueue.enqueue((0,it.Z)(function*(){const e=yield AN(n),t=yield wN(n);return e.setNetworkEnabled(!1),(r=(0,it.Z)(function*(i){const l=a(i);l.wu.add(0),yield jv(l),l.yu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Ii(n=ir(n,zr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,SN("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function AL(n){return function(e){const t=new y;return e.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return function GF(n,e){return dM.apply(this,arguments)}(yield PM(e),t)})),t.promise}(Ii(n=ir(n,zr)))}(this._delegate)}onSnapshotsInSync(e){return function nV(n,e){return function cL(n,e){const t=new EC(e);return n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return r=yield Kv(n),i=t,a(r).bu.add(i),void i.next();var r,i})),()=>{t.Aa(),n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return r=yield Kv(n),i=t,void a(r).bu.delete(i);var r,i}))}}(Ii(n=ir(n,zr)),LM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new p("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Yv(this,NN(this._delegate,e))}catch(t){throw Co(t,"collection()","Firestore.collection()")}}doc(e){try{return new hl(this,wC(this._delegate,e))}catch(t){throw Co(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Do(this,function gL(n,e){if(n=ir(n,aE),FM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new p(u.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Js(n,null,(t=e,new Ad(Xn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Co(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function iV(n,e,t){n=ir(n,zr);const r=Object.assign(Object.assign({},WL),t);return function(i){if(i.maxAttempts<1)throw new p(u.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function dL(n,e,t){const r=new y;return n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){const i=yield(l=n,bC(l).then(f=>f.datastore));var l;new iL(n.asyncQueue,i,t,e,r).run()})),r.promise}(Ii(n),i=>e(new rV(n,i)),r)}(this._delegate,t=>e(new lk(this,t)))}batch(){return Ii(this._delegate),new uk(new ek(this._delegate,e=>Qv(this._delegate,e)))}loadBundle(e){return function DL(n,e){const t=Ii(n=ir(n,zr)),r=new vL;return function fL(n,e,t,r){const i=function(l,f){let m;return m="string"==typeof l?(new TextEncoder).encode(l):l,E=function(E,C){if(E instanceof Uint8Array)return _N(E,C);if(E instanceof ArrayBuffer)return _N(new Uint8Array(E),C);if(E instanceof ReadableStream)return E.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new nL(E,f);var E}(t,iE(e));n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){!function eL(n,e,t){const r=a(n);var i;(i=(0,it.Z)(function*(l,f,m){try{const E=yield f.getMetadata();if(yield function(q,J){const se=a(q),Me=rs(J.createTime);return se.persistence.runTransaction("hasNewerBundle","readonly",nt=>se._s.getBundleMetadata(nt,J.id)).then(nt=>!!nt&&nt.createTime.compareTo(Me)>=0)}(l.localStore,E))return yield f.close(),m._completeWith({taskState:"Success",documentsLoaded:(q=E).totalDocuments,bytesLoaded:q.totalBytes,totalDocuments:q.totalDocuments,totalBytes:q.totalBytes}),Promise.resolve(new Set);m._updateProgress(lN(E));const C=new kF(E,l.localStore,f.M);let k=yield f.ma();for(;k;){const q=yield C.Fu(k);q&&m._updateProgress(q),k=yield f.ma()}const O=yield C.complete();return yield wd(l,O.Lu,void 0),yield function(q,J){const se=a(q);return se.persistence.runTransaction("Save bundle","readwrite",Me=>se._s.saveBundleMetadata(Me,J))}(l.localStore,E),m._completeWith(O.progress),Promise.resolve(O.Bu)}catch(E){return Tv("SyncEngine",`Loading bundle failed with ${E}`),m._failWith(E),Promise.resolve(new Set)}var q}),function(l,f,m){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield PM(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function TL(n,e){return function hL(n,e){return n.asyncQueue.enqueue((0,it.Z)(function*(){return function(t,r){const i=a(t);return i.persistence.runTransaction("Get named query","readonly",l=>i._s.getNamedQuery(l,r))}(yield kM(n),e)}))}(Ii(n=ir(n,zr)),e).then(t=>t?new Js(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Do(this,t):null)}}class RC extends GM{constructor(e){super(),this.firestore=e}convertBytes(e){return new fE(new nc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return hl.forKey(t,this.firestore,null)}}class lk{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new RC(e)}get(e){const t=ag(e);return this._delegate.get(t).then(r=>new hE(this._firestore,new Dd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=ag(e);return r?($M("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=ag(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=ag(e);return this._delegate.delete(t),this}}class uk{constructor(e){this._delegate=e}set(e,t,r){const i=ag(e);return r?($M("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=ag(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=ag(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class og{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new cE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new pE(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=og.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(t);return l||(l=new og(e,new RC(e),t),i.set(t,l)),l}}og.INSTANCES=new WeakMap;class hl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new RC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new p("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new hl(t,new Ur(t._delegate,r,new Lt(e)))}static forKey(e,t,r){return new hl(t,new Ur(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Yv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Yv(this.firestore,NN(this._delegate,e))}catch(t){throw Co(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Wn.m9)(e))instanceof Ur&&kN(this._delegate,e)}set(e,t){t=$M("DocumentReference.set",t);try{return t?tk(this._delegate,e,t):tk(this._delegate,e)}catch(r){throw Co(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?nk(this._delegate,e):nk(this._delegate,e,t,...r)}catch(i){throw Co(i,"updateDoc()","DocumentReference.update()")}}delete(){return function eV(n){return Qv(ir(n.firestore,zr),[new j0(n._key,Ti.none())])}(this._delegate)}onSnapshot(...e){const t=ck(e),r=dk(e,i=>new hE(this.firestore,new Dd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return rk(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function KL(n){n=ir(n,Ur);const e=ir(n.firestore,zr),t=Ii(e),r=new sg(e);return function lL(n,e){const t=new y;return n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return(r=(0,it.Z)(function*(i,l,f){try{const m=yield function(E,C){const k=a(E);return k.persistence.runTransaction("read document","readonly",O=>k.fi.Ls(O,C))}(i,l);m.isFoundDocument()?f.resolve(m):m.isNoDocument()?f.resolve(null):f.reject(new p(u.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const E=$v(m,`Failed to get document '${l} from cache`);f.reject(E)}}),function(i,l,f){return r.apply(this,arguments)})(yield kM(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Dd(e,r,n._key,i,new ig(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function QL(n){n=ir(n,Ur);const e=ir(n.firestore,zr);return CN(Ii(e),n._key,{source:"server"}).then(t=>zM(e,n,t))}(this._delegate):function ZL(n){n=ir(n,Ur);const e=ir(n.firestore,zr);return CN(Ii(e),n._key).then(t=>zM(e,n,t))}(this._delegate),t.then(r=>new hE(this.firestore,new Dd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new hl(this.firestore,this._delegate.withConverter(e?og.getInstance(this.firestore,e):null))}}function Co(n,e,t){return n.message=n.message.replace(e,t),n}function ck(n){for(const e of n)if("object"==typeof e&&!WM(e))return e;return{}}function dk(n,e){var t,r;let i;return i=WM(n[0])?n[0]:WM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{i.next&&i.next(e(l))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class hE{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new hl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return $N(this._delegate,e._delegate)}}class pE extends hE{data(e){const t=this._delegate.data(e);return function o(n,e){n||Jt()}(void 0!==t),t}}class Do{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new RC(e)}where(e,t,r){try{return new Do(this.firestore,th(this._delegate,function LL(n,e,t){const r=e,i=MC("where",n);return new FL(i,r,t)}(e,t,r)))}catch(i){throw Co(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Do(this.firestore,th(this._delegate,function BL(n,e="asc"){const t=e,r=MC("orderBy",n);return new VL(r,t)}(e,t)))}catch(r){throw Co(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Do(this.firestore,th(this._delegate,function UL(n){return xN("limit",n),new qN("limit",n,"F")}(e)))}catch(t){throw Co(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Do(this.firestore,th(this._delegate,function HL(n){return xN("limitToLast",n),new qN("limitToLast",n,"L")}(e)))}catch(t){throw Co(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Do(this.firestore,th(this._delegate,function jL(...n){return new ZN("startAt",n,!0)}(...e)))}catch(t){throw Co(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Do(this.firestore,th(this._delegate,function GL(...n){return new ZN("startAfter",n,!1)}(...e)))}catch(t){throw Co(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Do(this.firestore,th(this._delegate,function zL(...n){return new KN("endBefore",n,!1)}(...e)))}catch(t){throw Co(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Do(this.firestore,th(this._delegate,function $L(...n){return new KN("endAt",n,!0)}(...e)))}catch(t){throw Co(t,"endAt()","Query.endAt()")}}isEqual(e){return PN(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function JL(n){n=ir(n,Js);const e=ir(n.firestore,zr),t=Ii(e),r=new sg(e);return function uL(n,e){const t=new y;return n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return(r=(0,it.Z)(function*(i,l,f){try{const m=yield pC(i,l,!0),E=new dN(l,m._i),C=E.Wu(m.documents),k=E.applyChanges(C,!1);f.resolve(k.snapshot)}catch(m){const E=$v(m,`Failed to execute query '${l} against cache`);f.reject(E)}}),function(i,l,f){return r.apply(this,arguments)})(yield kM(n),e,t);var r})),t.promise}(t,n._query).then(i=>new eh(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function XL(n){n=ir(n,Js);const e=ir(n.firestore,zr),t=Ii(e),r=new sg(e);return DN(t,n._query,{source:"server"}).then(i=>new eh(e,r,n,i))}(this._delegate):function YL(n){n=ir(n,Js);const e=ir(n.firestore,zr),t=Ii(e),r=new sg(e);return WN(n._query),DN(t,n._query).then(i=>new eh(e,r,n,i))}(this._delegate),t.then(r=>new qM(this.firestore,new eh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=ck(e),r=dk(e,i=>new qM(this.firestore,new eh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return rk(this._delegate,t,r)}withConverter(e){return new Do(this.firestore,this._delegate.withConverter(e?og.getInstance(this.firestore,e):null))}}class gV{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new pE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class qM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Do(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new pE(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new gV(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new pE(this._firestore,r))})}isEqual(e){return $N(this._delegate,e._delegate)}}class Yv extends Do{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new hl(this.firestore,e):null}doc(e){try{return new hl(this.firestore,void 0===e?wC(this._delegate):wC(this._delegate,e))}catch(t){throw Co(t,"doc()","CollectionReference.doc()")}}add(e){return function tV(n,e){const t=ir(n.firestore,zr),r=wC(n),i=xC(n.converter,e);return Qv(t,[TC(ng(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Ti.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new hl(this.firestore,t))}isEqual(e){return kN(this._delegate,e._delegate)}withConverter(e){return new Yv(this.firestore,this._delegate.withConverter(e?og.getInstance(this.firestore,e):null))}}function ag(n){return ir(n,Ur)}class ZM{constructor(...e){this._delegate=new Cd(...e)}static documentId(){return new ZM(Jr.keyField().canonicalString())}isEqual(e){return(e=(0,Wn.m9)(e))instanceof Cd&&this._delegate._internalPath.isEqual(e._internalPath)}}class lg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function oV(){return new VM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new lg(e)}static delete(){const e=function sV(){return new lE("deleteField")}();return e._methodName="FieldValue.delete",new lg(e)}static arrayUnion(...e){const t=function aV(...n){return new xL("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new lg(t)}static arrayRemove(...e){const t=function lV(...n){return new RL("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new lg(t)}static increment(e){const t=function uV(n){return new NL("increment",n)}(e);return t._methodName="FieldValue.increment",new lg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const mV={Firestore:ak,GeoPoint:CC,Timestamp:bn,Blob:fE,Transaction:lk,WriteBatch:uk,DocumentReference:hl,DocumentSnapshot:hE,Query:Do,QueryDocumentSnapshot:pE,QuerySnapshot:qM,CollectionReference:Yv,FieldPath:ZM,FieldValue:lg,setLogLevel:function pV(n){!function cR(n){_d.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function yV(n){(function vV(n,e){n.INTERNAL.registerComponent(new vp.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},mV)))})(n,(e,t)=>new ak(e,t,new hV)),n.registerVersion("@firebase/firestore-compat","0.1.18")}(XT.Z);var _V=$(6451),NC=$(5363),EV=$(6063);class bV extends li.x{constructor(e=1/0,t=1/0,r=EV.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:l,_windowTime:f}=this;t||(r.push(e),!i&&r.push(l.now()+f)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,l=i.slice();for(let f=0;f<l.length&&!e.closed;f+=r?1:2)e.next(l[f]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,l=(i?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!i){const f=t.now();let m=0;for(let E=1;E<r.length&&r[E]<=f;E+=2)m=E;m&&r.splice(0,m+1)}}}var AV=$(3099);function fk(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,AV.B)({connector:()=>new bV(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function hk(n,e){return(0,im.m)(e)?_s(()=>n,e):_s(()=>n)}var KM=$(9468);$(5867);const gk=new Map,SV={activated:!1,tokenObservers:[]},IV={initialized:!1,enabled:!1};function os(n){return gk.get(n)||SV}function iu(n,e){gk.set(n,e)}function PC(){return IV}class kV{constructor(e,t,r,i,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=i,i>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,it.Z)(function*(){t.stop();try{t.pending=new Wn.BH,yield function PV(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Wn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const To=new Wn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function vk(n){if(!os(n).activated)throw To.create("use-before-activation",{appName:n.name})}function XM(n,e){return ex.apply(this,arguments)}function ex(){return ex=(0,it.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const O=yield i.getHeartbeatsHeader();O&&(r["X-Firebase-Client"]=O)}const l={method:"POST",body:JSON.stringify(e),headers:r};let f,m;try{f=yield fetch(n,l)}catch(O){throw To.create("fetch-network-error",{originalErrorMessage:O.message})}if(200!==f.status)throw To.create("fetch-status-error",{httpStatus:f.status});try{m=yield f.json()}catch(O){throw To.create("fetch-parse-error",{originalErrorMessage:O.message})}const E=m.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw To.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const C=1e3*Number(E[1]),k=Date.now();return{token:m.token,expireTimeMillis:k+C,issuedAtTimeMillis:k}}),ex.apply(this,arguments)}function BV(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const gE="firebase-app-check-store";let LC=null;function _k(){return LC||(LC=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(To.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(gE,{keyPath:"compositeKey"})}}catch(t){e(To.create("storage-open",{originalErrorMessage:t.message}))}}),LC)}function tx(){return tx=(0,it.Z)(function*(n,e){const r=(yield _k()).transaction(gE,"readwrite"),l=r.objectStore(gE).put({compositeKey:n,value:e});return new Promise((f,m)=>{l.onsuccess=E=>{f()},r.onerror=E=>{var C;m(To.create("storage-set",{originalErrorMessage:null===(C=E.target.error)||void 0===C?void 0:C.message}))}})}),tx.apply(this,arguments)}const mE=new Gu.Yd("@firebase/app-check");function wk(n,e){return(0,Wn.hl)()?function GV(n,e){return function Ek(n,e){return tx.apply(this,arguments)}(function Ak(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{mE.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Ck(){return PC().enabled}function Dk(){return sx.apply(this,arguments)}function sx(){return sx=(0,it.Z)(function*(){const n=PC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),sx.apply(this,arguments)}const KV={error:"UNKNOWN_ERROR"};function QV(n){return Wn.US.encodeString(JSON.stringify(n),!1)}function VC(n){return ox.apply(this,arguments)}function ox(){return ox=(0,it.Z)(function*(n,e=!1){const t=n.app;vk(t);const r=os(t);let l,i=r.token;if(!i){const E=yield r.cachedTokenPromise;E&&BC(E)&&(i=E)}if(!e&&i&&BC(i))return{token:i.token};let m,f=!1;if(Ck()){r.exchangeTokenPromise||(r.exchangeTokenPromise=XM(BV(t,yield Dk()),n.heartbeatServiceProvider).then(C=>(r.exchangeTokenPromise=void 0,C)),f=!0);const E=yield r.exchangeTokenPromise;return yield wk(t,E),iu(t,Object.assign(Object.assign({},r),{token:E})),{token:E.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(E=>(r.exchangeTokenPromise=void 0,E)),f=!0),i=yield r.exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?mE.warn(E.message):mE.error(E),l=E}return i?(m={token:i.token},iu(t,Object.assign(Object.assign({},r),{token:i})),yield wk(t,i)):m=JV(l),f&&Sk(t,m),m}),ox.apply(this,arguments)}function lx(n,e){const t=os(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),iu(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function Tk(n){const{app:e}=n,t=os(e);let r=t.tokenRefresher;r||(r=function YV(n){const{app:e}=n;return new kV((0,it.Z)(function*(){let r;if(r=os(e).token?yield VC(n,!0):yield VC(n),r.error)throw r.error}),()=>!0,()=>{const t=os(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),iu(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Sk(n,e){const t=os(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function BC(n){return n.expireTimeMillis-Date.now()>0}function JV(n){return{token:QV(KV),error:n}}class XV{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=os(this.app);for(const t of e)lx(this.app,t.next);return Promise.resolve()}}const Ok="app-check-internal";!function hB(){(0,ju._registerComponent)(new vp.wA("app-check",n=>function eB(n,e){return new XV(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Ok).initialize()})),(0,ju._registerComponent)(new vp.wA(Ok,n=>function tB(n){return{getToken:e=>VC(n,e),addTokenListener:e=>function ax(n,e,t,r){const{app:i}=n,l=os(i),f={next:t,error:r,type:e};if(iu(i,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,f]})),l.token&&BC(l.token)){const m=l.token;Promise.resolve().then(()=>{t({token:m.token}),Tk(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>Tk(n))}(n,"INTERNAL",e),removeTokenListener:e=>lx(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ju.registerVersion)("@firebase/app-check","0.5.8")}();class fx{constructor(){return(0,ui.vb)("app-check")}}"undefined"!=typeof window&&window;var Lk=$(127);const Vk=new h.OlP("angularfire2.auth.use-emulator"),Bk=new h.OlP("angularfire2.auth.settings"),Uk=new h.OlP("angularfire2.auth.tenant-id"),Hk=new h.OlP("angularfire2.auth.langugage-code"),jk=new h.OlP("angularfire2.auth.use-device-language"),Gk=new h.OlP("angularfire.auth.persistence"),zk=(n,e,t,r,i,l,f,m)=>(0,Ko.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=e.runOutsideAngular(()=>n.auth());if(t&&E.useEmulator(...t),r&&(E.tenantId=r),E.languageCode=i,l&&E.useDeviceLanguage(),f)for(const[C,k]of Object.entries(f))E.settings[C]=k;return m&&E.setPersistence(m),E},[t,r,i,l,f,m]);let px=(()=>{class n{constructor(t,r,i,l,f,m,E,C,k,O,q,J){const se=new li.x,Me=En(void 0).pipe((0,NC.Q)(f.outsideAngular),_s(()=>l.runOutsideAngular(()=>Promise.resolve().then($.bind($,5881)))),(0,vn.U)(()=>(0,Ko.on)(t,l,r)),(0,vn.U)(nt=>zk(nt,l,m,C,k,O,E,q)),fk({bufferSize:1,refCount:!1}));if(Fr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=En(null);else{Me.pipe(qo()).subscribe();const at=Me.pipe(_s(Ct=>Ct.getRedirectResult().then(pn=>pn,()=>null)),ui.iC,fk({bufferSize:1,refCount:!1})),_t=Me.pipe(_s(Ct=>new Vs.y(pn=>({unsubscribe:l.runOutsideAngular(()=>Ct.onAuthStateChanged(hn=>pn.next(hn),hn=>pn.error(hn),()=>pn.complete()))})))),Rt=Me.pipe(_s(Ct=>new Vs.y(pn=>({unsubscribe:l.runOutsideAngular(()=>Ct.onIdTokenChanged(hn=>pn.next(hn),hn=>pn.error(hn),()=>pn.complete()))}))));this.authState=at.pipe(hk(_t),(0,KM.R)(f.outsideAngular),(0,NC.Q)(f.insideAngular)),this.user=at.pipe(hk(Rt),(0,KM.R)(f.outsideAngular),(0,NC.Q)(f.insideAngular)),this.idToken=this.user.pipe(_s(Ct=>Ct?(0,wr.D)(Ct.getIdToken()):En(null))),this.idTokenResult=this.user.pipe(_s(Ct=>Ct?(0,wr.D)(Ct.getIdTokenResult()):En(null))),this.credential=(0,_V.T)(at,se,this.authState.pipe(wa(Ct=>!Ct))).pipe((0,vn.U)(Ct=>(null==Ct?void 0:Ct.user)?Ct:null),(0,KM.R)(f.outsideAngular),(0,NC.Q)(f.insideAngular))}return(0,Ko.pX)(this,Me,l,{spy:{apply:(nt,at,_t)=>{(nt.startsWith("signIn")||nt.startsWith("createUser"))&&_t.then(Rt=>se.next(Rt))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ko.Dh),h.LFG(Ko.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(ui.HU),h.LFG(Vk,8),h.LFG(Bk,8),h.LFG(Uk,8),h.LFG(Hk,8),h.LFG(jk,8),h.LFG(Gk,8),h.LFG(fx,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),_B=(()=>{class n{constructor(){Lk.Z.registerVersion("angularfire",ui.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[px]}),n})();function $k(n,e){return function EB(n,e=iw.z){return new Vs.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function gx(n,e){return $k(n,e).pipe((0,vn.U)(t=>({payload:t,type:"query"})))}function HC(n,e){return gx(n,e).pipe(Kh(void 0),xf(),(0,vn.U)(([t,r])=>{const i=r.payload.docChanges(),l=i.map(f=>({type:f.type,payload:f}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((f,m)=>{const E=i.find(k=>k.doc.ref.isEqual(f.ref)),C=null==t?void 0:t.payload.docs.find(k=>k.ref.isEqual(f.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(f.metadata)||!E&&C&&JSON.stringify(C.metadata)===JSON.stringify(f.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:f}})}),l}))}function Wk(n,e,t){return HC(n,t).pipe(pf((r,i)=>function AB(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function wB(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return mx(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return mx(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return mx(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(l=>l.payload),e),[]),function yp(n,e=Gh.y){return n=null!=n?n:YT,(0,Ks.e)((t,r)=>{let i,l=!0;t.subscribe((0,Lr.x)(r,f=>{const m=e(f);(l||!n(i,m))&&(l=!1,i=m,r.next(f))}))})}(),(0,vn.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function mx(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function qk(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Zk{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=HC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,vn.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Kh(void 0),xf(),wa(([r,i])=>i.length>0||!r),(0,vn.U)(([r,i])=>i),ui.iC)}auditTrail(e){return this.stateChanges(e).pipe(pf((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=qk(e);return Wk(this.query,t,this.afs.schedulers.outsideAngular).pipe(ui.iC)}valueChanges(e={}){return gx(this.query,this.afs.schedulers.outsideAngular).pipe((0,vn.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),ui.iC)}get(e){return(0,wr.D)(this.query.get(e)).pipe(ui.iC)}add(e){return this.ref.add(e)}doc(e){return new Kk(this.ref.doc(e),this.afs)}}class Kk{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:l}=Jk(r,t);return new Zk(i,l,this.afs)}snapshotChanges(){return function bB(n,e){return $k(n,e).pipe(Kh(void 0),xf(),(0,vn.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ui.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,vn.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,wr.D)(this.ref.get(e)).pipe(ui.iC)}}class CB{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?HC(this.query,this.afs.schedulers.outsideAngular).pipe((0,vn.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),wa(t=>t.length>0),ui.iC):HC(this.query,this.afs.schedulers.outsideAngular).pipe(ui.iC)}auditTrail(e){return this.stateChanges(e).pipe(pf((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=qk(e);return Wk(this.query,t,this.afs.schedulers.outsideAngular).pipe(ui.iC)}valueChanges(e={}){return gx(this.query,this.afs.schedulers.outsideAngular).pipe((0,vn.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),ui.iC)}get(e){return(0,wr.D)(this.query.get(e)).pipe(ui.iC)}}const Qk=new h.OlP("angularfire2.enableFirestorePersistence"),Yk=new h.OlP("angularfire2.firestore.persistenceSettings"),DB=new h.OlP("angularfire2.firestore.settings"),TB=new h.OlP("angularfire2.firestore.use-emulator");function Jk(n,e=(t=>t)){return{query:e(n),ref:n}}let Xk=(()=>{class n{constructor(t,r,i,l,f,m,E,C,k,O,q,J,se,Me,nt,at,_t){this.schedulers=E;const Rt=(0,Ko.on)(t,m,r),Ct=k;O&&zk(Rt,m,q,se,Me,nt,J,at),[this.firestore,this.persistenceEnabled$]=(0,Ko.cc)(`${Rt.name}.firestore`,"AngularFirestore",Rt.name,()=>{const pn=m.runOutsideAngular(()=>Rt.firestore());if(l&&pn.settings(l),Ct&&pn.useEmulator(...Ct),i&&!Fr(f)){const hn=()=>{try{return(0,wr.D)(pn.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(Un){return"undefined"!=typeof console&&console.warn(Un),En(!1)}};return[pn,m.runOutsideAngular(hn)]}return[pn,En(!1)]},[l,Ct,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:f}=Jk(i,r),m=this.schedulers.ngZone.run(()=>l);return new Zk(m,f,this)}collectionGroup(t,r){const i=r||(f=>f),l=this.firestore.collectionGroup(t);return new CB(i(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new Kk(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ko.Dh),h.LFG(Ko.xv,8),h.LFG(Qk,8),h.LFG(DB,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(ui.HU),h.LFG(Yk,8),h.LFG(TB,8),h.LFG(px,8),h.LFG(Vk,8),h.LFG(Bk,8),h.LFG(Uk,8),h.LFG(Hk,8),h.LFG(jk,8),h.LFG(Gk,8),h.LFG(fx,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),SB=(()=>{class n{constructor(){Lk.Z.registerVersion("angularfire",ui.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Qk,useValue:!0},{provide:Yk,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[Xk]}),n})();const eP={apiKey:"AIzaSyDFtijVvYfE6ttxGGIFosKDTe3x7spSTK4",authDomain:"mindful-c1d5e.firebaseapp.com",projectId:"mindful-c1d5e",storageBucket:"mindful-c1d5e.appspot.com",messagingSenderId:"1085302276666",appId:"1:1085302276666:web:0f2616c0cca84b21f6eb03",measurementId:"G-YZS4H10MCM"},vE={userName:"UserName",preferences:"Preferences"};let jC=(()=>{class n{constructor(){this.isUserAuthenticated$=new li.x,this.setAuthenticatedUser=t=>{this.isUserAuthenticated$.next(!0),sessionStorage.setItem(vE.userName,t)},this.getAuthenticatedUser=()=>{var t;return null!==(t=sessionStorage.getItem(vE.userName))&&void 0!==t?t:""},this.setPreferences=t=>{sessionStorage.setItem(vE.preferences.toString(),JSON.stringify(t))},this.getPreferences=()=>{var t;const r=null!==(t=sessionStorage.getItem(vE.preferences.toString()))&&void 0!==t?t:"";return r.length>0?JSON.parse(r):{}},this.clear=()=>{this.isUserAuthenticated$.next(!1),sessionStorage.clear()}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ug=(()=>{class n{constructor(t){this.router=t,this.isLoginRoute$=new li.x,this.isFocusRoute$=new li.x,this.isPreferencesRoute$=new li.x,this.navigateFromLogin=()=>{this.router.navigate(["calendar"])},this.navigate=r=>{this.router.navigate([r])},this.createRouteSubscriptions=()=>{this.router.events.pipe(wa(r=>r instanceof Es)).subscribe(r=>{this.isLoginRoute$.next(r.url.includes("login")),this.isFocusRoute$.next(r.url.includes("focus")),this.isPreferencesRoute$.next(r.url.includes("preferences"))})},this.createRouteSubscriptions()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(zi))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GC=(()=>{class n{constructor(t,r,i){this.store=t,this.sessionStorage=r,this.routerService=i,this.createUserFirebase=(l,f)=>(0,jm.a5)(this.auth,l,f).then(m=>(console.log("Added user successfully to database."),{success:!0})).catch(m=>(console.error("Failed to Create User."),{success:!1,error:{errorMessage:m.message}})),this.loginEmailFirebase=(l,f)=>(0,jm.a6)(this.auth,l,f).then(m=>(console.log("User authenticated successfully with database."),{success:!0})).catch(m=>(console.error("Failed to Create User."),{success:!1,error:{errorMessage:m.message}})),this.logoutFirebaseUser=()=>{this.authUser&&((0,jm.y)(this.auth),this.sessionStorage.clear())},this.auth=(0,jm.n)(),this.auth.onAuthStateChanged(l=>{var f;l?(this.authUser=l,this.sessionStorage.setAuthenticatedUser(null!==(f=l.email)&&void 0!==f?f:""),this.routerService.navigateFromLogin()):this.authUser=void 0})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Xk),h.LFG(jC),h.LFG(ug))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IB=(()=>{class n{constructor(t,r){this.toastrService=t,this.fireStore=r,this.model={}}createAccount(){var t=this;return(0,it.Z)(function*(){const r=yield t.fireStore.createUserFirebase(t.model.username,t.model.password);r.success?t.toastrService.success("Account Created Successfully"):t.toastrService.error(r.error.errorMessage),console.log("created clicked!")})()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(mp),h.Y36(GC))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-create-account"]],decls:36,vars:2,consts:[["id","main-terminal",1,"terminal","container","w-50","h-70"],[1,"row"],[1,"col-12","mx-auto"],[1,"d-flex","flex-row","mb-4","login-row"],[1,"col-2",2,"align-self","center"],["id","userNameTerminal"],[1,"blinking"],[1,"p-1","input-group","mx-auto","col-6"],["id","usernameInput","placeholder","","name","userInput","type","email",1,"form-control","p-1",2,"background-color","black","color","white",3,"ngModel","ngModelChange"],["id","passTerminal"],["id","passInput","placeholder","","name","userInput","type","password",1,"form-control","p-1",2,"background-color","black","color","white",3,"ngModel","ngModelChange"],[1,"d-flex","flex-row","mb-4","login-row","w-100"],["id","passInput","placeholder","","name","userInput","type","password",1,"form-control","p-1",2,"background-color","black","color","white"],["id","createAccountLink",1,"mx-auto","col-12"],[1,"w-100","btn","btn-block","btn-black","border-white",3,"click"],["id","meeting-info"],[1,"d-flex","flex-row"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div")(6,"p",5),h._uU(7,"Username"),h.TgZ(8,"span",6),h._uU(9,":"),h.qZA()()()(),h.TgZ(10,"div",7)(11,"input",8),h.NdJ("ngModelChange",function(l){return r.model.username=l}),h.qZA()()(),h.TgZ(12,"div",3)(13,"div",4)(14,"div")(15,"p",9),h._uU(16,"Password"),h.TgZ(17,"span",6),h._uU(18,":"),h.qZA()()()(),h.TgZ(19,"div",7)(20,"input",10),h.NdJ("ngModelChange",function(l){return r.model.password=l}),h.qZA()()(),h.TgZ(21,"div",11)(22,"div",4)(23,"div")(24,"p",9),h._uU(25,"Confirm Password"),h.TgZ(26,"span",6),h._uU(27,":"),h.qZA()()()(),h.TgZ(28,"div",7),h._UZ(29,"input",12),h.qZA()(),h.TgZ(30,"div",3)(31,"div",13)(32,"a",14),h.NdJ("click",function(){return r.createAccount()}),h._uU(33,"Create Account"),h.qZA()()(),h.TgZ(34,"div",15),h._UZ(35,"div",16),h.qZA()()()()),2&t&&(h.xp6(11),h.Q6J("ngModel",r.model.username),h.xp6(9),h.Q6J("ngModel",r.model.password))},directives:[gs,co,Bi],styles:[""]}),n})();var MB=$(6461);function xB(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"input",6),h.NdJ("ngModelChange",function(i){return h.CHM(t),h.oxw().focusMinutes=i}),h.qZA()}if(2&n){const t=h.oxw();h.Q6J("ngModel",t.focusMinutes)}}function RB(n,e){if(1&n&&(h.TgZ(0,"label",11),h._uU(1),h.qZA()),2&n){const t=h.oxw(2);h.xp6(1),h.hij("",t.focusHours,":")}}function NB(n,e){if(1&n&&(h.TgZ(0,"div",7),h.YNc(1,RB,2,1,"label",8),h.TgZ(2,"label",9),h._uU(3),h.qZA(),h.TgZ(4,"label",10),h._uU(5),h.qZA()()),2&n){const t=h.oxw();h.xp6(1),h.Q6J("ngIf",t.focusHours>0),h.xp6(2),h.hij(" ",t.focusMinutes,":"),h.xp6(2),h.hij(" ",t.focusSeconds,"")}}function kB(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",12),h.NdJ("click",function(){return h.CHM(t),h.oxw().endFocus()}),h.qZA()}}function PB(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",13),h.NdJ("click",function(){return h.CHM(t),h.oxw().startFocus()}),h.qZA()}}let OB=(()=>{class n{constructor(){this.focusHours=0,this.focusMinutes=15,this.focusSeconds=0,this.focusStarted=!1,this.focusAnimationElement=null,this.startFocus=()=>{this.calculateFocusValues(),this.focusStarted=!0,this.playFocusSounds(),this.countdown=setInterval(()=>{var t;0===this.focusMinutes&&this.focusHours>0&&(this.focusHours-=1,this.focusMinutes=59),0===this.focusSeconds&&this.focusMinutes>0&&(this.focusMinutes-=1,this.focusSeconds=59),null==this.focusAnimationElement&&(this.focusAnimationElement=document.getElementsByClassName("circle-button center-page-button btn btn-danger")[0],null===(t=this.focusAnimationElement)||void 0===t||t.setAttribute("class","circle-button center-page-button btn btn-danger center-page-button-animation")),this.focusFinished()&&this.endFocus(),this.focusSeconds-=1},1e3),console.log("Focus Started!")},this.calculateFocusValues=()=>{const t=this.focusMinutes/60;if(t>1){const r=Math.floor(t);this.focusHours=r,this.focusMinutes=Math.round(Math.abs(60*(t-r)))}},this.focusFinished=()=>0===this.focusHours&&0===this.focusMinutes&&0===this.focusSeconds,this.endFocus=()=>{var t;clearInterval(this.countdown),this.focusHours=0,this.focusMinutes=0,this.focusSeconds=0,this.focusStarted=!1,null===(t=this.focusSounds)||void 0===t||t.stop()},this.playFocusSounds=()=>{this.focusSounds=new MB.Howl({src:["assets/focusNoises.wav"],autoplay:!0,html5:!0,loop:!0})}}ngOnDestroy(){var t;this.countdown=void 0,null===(t=this.focusSounds)||void 0===t||t.stop()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-focus-main"]],decls:6,vars:4,consts:[[1,"container","h-100","w-100"],[1,"row","h-25"],["name","focus-hours-input","class","center-page-button mb-5 w-25 focus-time-input","placeholder","Minutes","type","number",3,"ngModel","ngModelChange",4,"ngIf"],["id","countdownTimerLabel","class","focus-label-countdown ml-5 w-100 d-flex flex-row",4,"ngIf"],["class","circle-button center-page-button btn btn-danger",3,"click",4,"ngIf"],["id","startFocusButton","class","circle-button center-page-button btn btn-primary",3,"click",4,"ngIf"],["name","focus-hours-input","placeholder","Minutes","type","number",1,"center-page-button","mb-5","w-25","focus-time-input",3,"ngModel","ngModelChange"],["id","countdownTimerLabel",1,"focus-label-countdown","ml-5","w-100","d-flex","flex-row"],["for","focusHours","class","",4,"ngIf"],["for","focusMinutes",1,""],["for","focusSeconds",1,""],["for","focusHours",1,""],[1,"circle-button","center-page-button","btn","btn-danger",3,"click"],["id","startFocusButton",1,"circle-button","center-page-button","btn","btn-primary",3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0),h._UZ(1,"div",1),h.YNc(2,xB,1,1,"input",2),h.YNc(3,NB,6,3,"div",3),h.YNc(4,kB,1,0,"button",4),h.YNc(5,PB,1,0,"button",5),h.qZA()),2&t&&(h.xp6(2),h.Q6J("ngIf",!r.focusStarted),h.xp6(1),h.Q6J("ngIf",r.focusStarted),h.xp6(1),h.Q6J("ngIf",r.focusStarted),h.xp6(1),h.Q6J("ngIf",!r.focusStarted))},directives:[br,Oc,gs,co,Bi],styles:[".circle-button[_ngcontent-%COMP%]{height:calc(100vh / 6);width:calc(100vh / 6);border-radius:50%}#countdownTimerLabel[_ngcontent-%COMP%]{position:absolute!important;left:0;top:0}.focus-label-countdown[_ngcontent-%COMP%]{font-size:5vw;color:#fff;opacity:75%}.focus-time-input[_ngcontent-%COMP%]{font-size:100%;scale:1000%;color:#fff;text-align:center;box-shadow:none!important;text-shadow:none!important;background-color:#333;border-bottom:1px solid white;overflow:hidden}.focus-date[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{color:#fff}.center-page-button[_ngcontent-%COMP%]{text-align:center;margin:auto;display:flex;display:grid}.center-page-button-animation[_ngcontent-%COMP%]{animation:pulse 10s ease-in-out 0s infinite alternate}@keyframes pulse{to{background-color:#7531f9}50%{transform:scale(1.25)}}"]}),n})(),FB=(()=>{class n{constructor(t,r,i){var l=this;this.toastrService=t,this.routerService=r,this.firestore=i,this.model={},this.login=(0,it.Z)(function*(){const f=yield l.firestore.loginEmailFirebase(l.model.username,l.model.password);f.success?l.toastrService.success("Login Successful."):l.toastrService.error(f.error.errorMessage)}),this.createAccount=()=>{this.routerService.navigate("createAccount")}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(mp),h.Y36(ug),h.Y36(GC))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-login"]],decls:30,vars:2,consts:[["id","main-terminal",1,"terminal","container","w-25","h-70"],[1,"row"],[1,"col-12","mx-auto"],[1,"d-flex","flex-row","mb-4","login-row"],[1,"col-1",2,"align-self","center"],["id","userNameTerminal"],[1,"blinking"],[1,"p-1","input-group","mx-auto","col-6"],["id","usernameInput","placeholder","","name","userInput","type","email",1,"form-control","p-1",2,"background-color","black","color","white",3,"ngModel","ngModelChange"],["id","passTerminal"],["id","passInput","placeholder","","name","userInput","type","password",1,"form-control","p-1",2,"background-color","black","color","white",3,"ngModel","ngModelChange"],[1,"mx-auto","col-3"],[1,"btn","btn-block","btn-black",3,"click"],["id","createAccountLink",1,"mx-auto","col-6"],[1,"btn","btn-block","btn-black","border-white",3,"click"],["id","meeting-info"],[1,"d-flex","flex-row"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div")(6,"p",5),h._uU(7,"Username"),h.TgZ(8,"span",6),h._uU(9,":"),h.qZA()()()(),h.TgZ(10,"div",7)(11,"input",8),h.NdJ("ngModelChange",function(l){return r.model.username=l}),h.qZA()()(),h.TgZ(12,"div",3)(13,"div",4)(14,"div")(15,"p",9),h._uU(16,"Password"),h.TgZ(17,"span",6),h._uU(18,":"),h.qZA()()()(),h.TgZ(19,"div",7)(20,"input",10),h.NdJ("ngModelChange",function(l){return r.model.password=l}),h.qZA()()(),h.TgZ(21,"div",3)(22,"div",11)(23,"button",12),h.NdJ("click",function(){return r.login()}),h._uU(24,"./Login"),h.qZA()(),h.TgZ(25,"div",13)(26,"a",14),h.NdJ("click",function(){return r.createAccount()}),h._uU(27,"./Create Account"),h.qZA()()(),h.TgZ(28,"div",15),h._UZ(29,"div",16),h.qZA()()()()),2&t&&(h.xp6(11),h.Q6J("ngModel",r.model.username),h.xp6(9),h.Q6J("ngModel",r.model.password))},directives:[gs,co,Bi],styles:[""]}),n})();function LB(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div")(1,"div",5)(2,"label",6),h._uU(3,"Email address"),h.qZA(),h.TgZ(4,"input",7),h.NdJ("ngModelChange",function(i){return h.CHM(t),h.oxw().model.emailAddress=i}),h.qZA()()()}if(2&n){const t=h.oxw();h.xp6(4),h.Q6J("ngModel",t.model.emailAddress)}}let VB=(()=>{class n{constructor(t){this.sessionStorageService=t,this.model={},this.enablePushNotifications=()=>{},this.getPreferences=()=>{this.model=this.sessionStorageService.getPreferences()},this.getPreferences()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(jC))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-preferences-form"]],inputs:{model:"model"},decls:6,vars:2,consts:[["id","preferencesForm"],[1,"mb-3","form-check"],["id","enablePushNotifications","type","checkbox","id","exampleCheck1",1,"form-check-input",3,"ngModel","ngModelChange"],["for","exampleCheck1",1,"form-check-label"],[4,"ngIf"],[1,"mb-3"],["for","exampleInputEmail1",1,"form-label"],["id","emailAddress","name","emailAddress","type","email","id","exampleInputEmail1","aria-describedby","emailHelp",1,"form-control",3,"ngModel","ngModelChange"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"input",2),h.NdJ("ngModelChange",function(l){return r.model.enablePushNotifications=l}),h.qZA(),h.TgZ(3,"label",3),h._uU(4,"Push Notifications"),h.qZA()(),h.YNc(5,LB,5,1,"div",4),h.qZA()),2&t&&(h.xp6(2),h.Q6J("ngModel",r.model.enablePushNotifications),h.xp6(3),h.Q6J("ngIf",r.model.enablePushNotifications))},directives:[Bs,co,Bi,br,gs],styles:["#preferencesForm[_ngcontent-%COMP%]{color:#fff}"]}),n})(),BB=(()=>{class n{constructor(t,r,i){this.routerService=t,this.toastrService=r,this.sessionStorageService=i,this.model={},this.save=()=>{this.toastrService.success("Preferences Saved."),this.sessionStorageService.setPreferences(this.model),this.routerService.navigate("calendar"),console.log(JSON.stringify(this.model))}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ug),h.Y36(mp),h.Y36(jC))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-preferences-main"]],decls:15,vars:1,consts:[["id","preferencesFormMain",1,"container","formMain","w-100","h-50"],[1,"row","h-75"],[1,"col-6","h-100","mx-auto"],[1,"container","mt-5","h-100","w-100"],[1,"row","h-100","mx-auto"],[1,"col-12","mx-auto"],[3,"ngModel"],[1,"row","h-25"],[1,"col-2","h-100"],[1,"d-flex","flex-column","bd-highlight","mb-3","h-100"],[1,"col-8"],[1,"btn","btn-primary","mt-auto","p-2","mb-3","bd-highlight",3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),h._UZ(6,"app-preferences-form",6),h.qZA()()()()(),h.TgZ(7,"div",7)(8,"div",8),h._UZ(9,"div",9),h.qZA(),h._UZ(10,"div",10),h.TgZ(11,"div",8)(12,"div",9)(13,"button",11),h.NdJ("click",function(){return r.save()}),h._uU(14,"Save"),h.qZA()()()()()),2&t&&(h.xp6(6),h.Q6J("ngModel",r.model))},directives:[VB,co,Bi],styles:[""]}),n})(),tP=(()=>{class n{canActivate(t,r){return null!=sessionStorage.getItem(vE.userName)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const UB=[{path:"login",component:FB},{path:"calendar",component:OT,canActivate:[tP]},{path:"createAccount",component:IB},{path:"preferences",component:BB,canActivate:[tP]},{path:"focus",component:OB},{path:"**",redirectTo:"login"},{path:"*",redirectTo:"login"}];let HB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[yA.forRoot(UB)],yA]}),n})();var jB=$(579);let nP=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GB=(()=>{class n{constructor(t){this.routerService=t,this.onClick=()=>{this.routerService.navigate("preferences")}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ug))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-preferences-button"]],decls:4,vars:0,consts:[[3,"click"],["id","preferencesIcon","xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-gear"],["d","M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"],["d","M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"]],template:function(t,r){1&t&&(h.TgZ(0,"a",0),h.NdJ("click",function(){return r.onClick()}),h.O4$(),h.TgZ(1,"svg",1),h._UZ(2,"path",2)(3,"path",3),h.qZA()())},styles:["#preferencesIcon[_ngcontent-%COMP%]{color:#fff;transition:transform 1.5s ease 0s;transform:scale(2.5)}#preferencesIcon[_ngcontent-%COMP%]:hover{transform:rotate(180deg) scale(4.5)}#preferencesIcon[_ngcontent-%COMP%]:hover:after{transform:rotate(-180deg)}"]}),n})(),zB=(()=>{class n{constructor(t){this.routerService=t,this.onClick=()=>{this.routerService.navigate("focus")}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ug))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-focus-button"]],decls:3,vars:0,consts:[[3,"click"],["id","meditateIcon","xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-flower1"],["d","M6.174 1.184a2 2 0 0 1 3.652 0A2 2 0 0 1 12.99 3.01a2 2 0 0 1 1.826 3.164 2 2 0 0 1 0 3.652 2 2 0 0 1-1.826 3.164 2 2 0 0 1-3.164 1.826 2 2 0 0 1-3.652 0A2 2 0 0 1 3.01 12.99a2 2 0 0 1-1.826-3.164 2 2 0 0 1 0-3.652A2 2 0 0 1 3.01 3.01a2 2 0 0 1 3.164-1.826zM8 1a1 1 0 0 0-.998 1.03l.01.091c.012.077.029.176.054.296.049.241.122.542.213.887.182.688.428 1.513.676 2.314L8 5.762l.045-.144c.248-.8.494-1.626.676-2.314.091-.345.164-.646.213-.887a4.997 4.997 0 0 0 .064-.386L9 2a1 1 0 0 0-1-1zM2 9l.03-.002.091-.01a4.99 4.99 0 0 0 .296-.054c.241-.049.542-.122.887-.213a60.59 60.59 0 0 0 2.314-.676L5.762 8l-.144-.045a60.59 60.59 0 0 0-2.314-.676 16.705 16.705 0 0 0-.887-.213 4.99 4.99 0 0 0-.386-.064L2 7a1 1 0 1 0 0 2zm7 5-.002-.03a5.005 5.005 0 0 0-.064-.386 16.398 16.398 0 0 0-.213-.888 60.582 60.582 0 0 0-.676-2.314L8 10.238l-.045.144c-.248.8-.494 1.626-.676 2.314-.091.345-.164.646-.213.887a4.996 4.996 0 0 0-.064.386L7 14a1 1 0 1 0 2 0zm-5.696-2.134.025-.017a5.001 5.001 0 0 0 .303-.248c.184-.164.408-.377.661-.629A60.614 60.614 0 0 0 5.96 9.23l.103-.111-.147.033a60.88 60.88 0 0 0-2.343.572c-.344.093-.64.18-.874.258a5.063 5.063 0 0 0-.367.138l-.027.014a1 1 0 1 0 1 1.732zM4.5 14.062a1 1 0 0 0 1.366-.366l.014-.027c.01-.02.021-.048.036-.084a5.09 5.09 0 0 0 .102-.283c.078-.233.165-.53.258-.874a60.6 60.6 0 0 0 .572-2.343l.033-.147-.11.102a60.848 60.848 0 0 0-1.743 1.667 17.07 17.07 0 0 0-.629.66 5.06 5.06 0 0 0-.248.304l-.017.025a1 1 0 0 0 .366 1.366zm9.196-8.196a1 1 0 0 0-1-1.732l-.025.017a4.951 4.951 0 0 0-.303.248 16.69 16.69 0 0 0-.661.629A60.72 60.72 0 0 0 10.04 6.77l-.102.111.147-.033a60.6 60.6 0 0 0 2.342-.572c.345-.093.642-.18.875-.258a4.993 4.993 0 0 0 .367-.138.53.53 0 0 0 .027-.014zM11.5 1.938a1 1 0 0 0-1.366.366l-.014.027c-.01.02-.021.048-.036.084a5.09 5.09 0 0 0-.102.283c-.078.233-.165.53-.258.875a60.62 60.62 0 0 0-.572 2.342l-.033.147.11-.102a60.848 60.848 0 0 0 1.743-1.667c.252-.253.465-.477.629-.66a5.001 5.001 0 0 0 .248-.304l.017-.025a1 1 0 0 0-.366-1.366zM14 9a1 1 0 0 0 0-2l-.03.002a4.996 4.996 0 0 0-.386.064c-.242.049-.543.122-.888.213-.688.182-1.513.428-2.314.676L10.238 8l.144.045c.8.248 1.626.494 2.314.676.345.091.646.164.887.213a4.996 4.996 0 0 0 .386.064L14 9zM1.938 4.5a1 1 0 0 0 .393 1.38l.084.035c.072.03.166.064.283.103.233.078.53.165.874.258a60.88 60.88 0 0 0 2.343.572l.147.033-.103-.111a60.584 60.584 0 0 0-1.666-1.742 16.705 16.705 0 0 0-.66-.629 4.996 4.996 0 0 0-.304-.248l-.025-.017a1 1 0 0 0-1.366.366zm2.196-1.196.017.025a4.996 4.996 0 0 0 .248.303c.164.184.377.408.629.661A60.597 60.597 0 0 0 6.77 5.96l.111.102-.033-.147a60.602 60.602 0 0 0-.572-2.342c-.093-.345-.18-.642-.258-.875a5.006 5.006 0 0 0-.138-.367l-.014-.027a1 1 0 1 0-1.732 1zm9.928 8.196a1 1 0 0 0-.366-1.366l-.027-.014a5 5 0 0 0-.367-.138c-.233-.078-.53-.165-.875-.258a60.619 60.619 0 0 0-2.342-.572l-.147-.033.102.111a60.73 60.73 0 0 0 1.667 1.742c.253.252.477.465.66.629a4.946 4.946 0 0 0 .304.248l.025.017a1 1 0 0 0 1.366-.366zm-3.928 2.196a1 1 0 0 0 1.732-1l-.017-.025a5.065 5.065 0 0 0-.248-.303 16.705 16.705 0 0 0-.629-.661A60.462 60.462 0 0 0 9.23 10.04l-.111-.102.033.147a60.6 60.6 0 0 0 .572 2.342c.093.345.18.642.258.875a4.985 4.985 0 0 0 .138.367.575.575 0 0 0 .014.027zM8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"]],template:function(t,r){1&t&&(h.TgZ(0,"a",0),h.NdJ("click",function(){return r.onClick()}),h.O4$(),h.TgZ(1,"svg",1),h._UZ(2,"path",2),h.qZA()())},styles:["#meditateIcon[_ngcontent-%COMP%]{color:#7531f9;transform:scale(2.5);transition:transform 1.5s ease 0s}#meditateIcon[_ngcontent-%COMP%]:hover{transform:rotate(180deg) scale(4.5)}#meditateIcon[_ngcontent-%COMP%]:hover:after{transform:rotate(-180deg)}"]}),n})(),$B=(()=>{class n{constructor(t,r){this.routerService=t,this.fireBaseService=r,this.onClick=()=>{this.fireBaseService.logoutFirebaseUser(),this.routerService.navigate("login")}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ug),h.Y36(GC))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-logout-button"]],decls:4,vars:0,consts:[[3,"click"],["id","logoutIcon","xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-box-arrow-left"],["fill-rule","evenodd","d","M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5 1.5 0 0 1 6.5 2h8A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 5 12.5v-2a.5.5 0 0 1 1 0v2z"],["fill-rule","evenodd","d","M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"]],template:function(t,r){1&t&&(h.TgZ(0,"a",0),h.NdJ("click",function(){return r.onClick()}),h.O4$(),h.TgZ(1,"svg",1),h._UZ(2,"path",2)(3,"path",3),h.qZA()())},styles:["#logoutIcon[_ngcontent-%COMP%]{color:#f5f5f5;transform:scale(2.5);transition:transform 1.5s ease 0s}#logoutIcon[_ngcontent-%COMP%]:hover{transform:scale(4.5)}"]}),n})();function WB(n,e){1&n&&h._UZ(0,"app-preferences-button",3)}function qB(n,e){1&n&&h._UZ(0,"app-focus-button",4)}function ZB(n,e){1&n&&h._UZ(0,"app-logout-button",5)}let KB=(()=>{class n{constructor(t,r){this.sessionStoreService=t,this.routerService=r,this.isUserAuthenticated$=this.sessionStoreService.isUserAuthenticated$,this.isLoginRoute$=this.routerService.isLoginRoute$,this.isFocusRoute$=this.routerService.isFocusRoute$,this.isPreferencesRoute$=this.routerService.isPreferencesRoute$}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(jC),h.Y36(ug))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-header-main"]],decls:7,vars:11,consts:[["class","mr-4",4,"ngIf"],["class","ml-4 mr-4",4,"ngIf"],["class","ml-4",4,"ngIf"],[1,"mr-4"],[1,"ml-4","mr-4"],[1,"ml-4"]],template:function(t,r){1&t&&(h.YNc(0,WB,1,0,"app-preferences-button",0),h.ALo(1,"async"),h.ALo(2,"async"),h.YNc(3,qB,1,0,"app-focus-button",1),h.ALo(4,"async"),h.YNc(5,ZB,1,0,"app-logout-button",2),h.ALo(6,"async")),2&t&&(h.Q6J("ngIf",!1===h.lcZ(1,3,r.isLoginRoute$)&&h.lcZ(2,5,r.isUserAuthenticated$)),h.xp6(3),h.Q6J("ngIf",!1===h.lcZ(4,7,r.isFocusRoute$)),h.xp6(2),h.Q6J("ngIf",!1===h.lcZ(6,9,r.isLoginRoute$)))},directives:[br,GB,zB,$B],pipes:[na],styles:[""]}),n})(),QB=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-footer-main"]],decls:8,vars:0,consts:[["href","https://noises.online","title","Noises.Online","target","_blank"],["href","http://creativecommons.org/licenses/by/3.0/","title","Creative Commons BY 3.0","target","_blank"]],template:function(t,r){1&t&&(h.TgZ(0,"div"),h._uU(1,"Background audio track provided by "),h.TgZ(2,"a",0),h._uU(3,"Noises.Online"),h.qZA(),h._uU(4," under a "),h.TgZ(5,"a",1),h._uU(6,"CC 3.0 BY"),h.qZA(),h._uU(7," license."),h.qZA())},styles:[""]}),n})();const YB=(0,ju.initializeApp)(eP);(0,jB.IH)(YB);let JB=(()=>{class n{constructor(t){this.storage=t}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(nP))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:11,vars:0,consts:[["id","app-header",1,"container"],[1,"row","w-100","mt-4","d-flex","flex-row-reverse"],["id","main-content",1,"container","mt-4"],[1,"row","w-100"],[1,"col-12"],["id","main-center-content",1,"row","w-100"],[1,"col-12","mx-auto"],[1,""]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1),h._UZ(2,"app-header-main"),h.qZA()(),h.TgZ(3,"div",2)(4,"div",3),h._UZ(5,"div",4),h.qZA(),h.TgZ(6,"div",5)(7,"div",6),h._UZ(8,"router-outlet"),h.qZA()(),h.TgZ(9,"div",7),h._UZ(10,"app-footer-main"),h.qZA()())},directives:[KB,np,QB],styles:["#main-content[_ngcontent-%COMP%]{min-height:90vh!important;min-width:98vw!important;height:90vh!important;width:98vw!important;z-index:3!important;position:fixed}#main-center-content[_ngcontent-%COMP%]{height:90vh!important;width:98vw!important}#app-header[_ngcontent-%COMP%]{height:2vh!important;min-width:100vw!important}"]}),n})();class rP{}class iP{}class Td{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),l=i.toLowerCase(),f=t.slice(r+1).trim();this.maybeSetNormalizedName(i,l),this.headers.has(l)?this.headers.get(l).push(f):this.headers.set(l,[f])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Td?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Td;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Td?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const l=e.value;if(l){let f=this.headers.get(t);if(!f)return;f=f.filter(m=>-1===l.indexOf(m)),0===f.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,f)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class XB{encodeKey(e){return sP(e)}encodeValue(e){return sP(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const tU=/%(\d[a-f0-9])/gi,nU={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function sP(n){return encodeURIComponent(n).replace(tU,(e,t)=>{var r;return null!==(r=nU[t])&&void 0!==r?r:e})}function oP(n){return`${n}`}class rh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new XB,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function eU(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const l=i.indexOf("="),[f,m]=-1==l?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,l)),e.decodeValue(i.slice(l+1))],E=t.get(f)||[];E.push(m),t.set(f,E)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(l=>{t.push({param:r,value:l,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new rh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(oP(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(oP(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class rU{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function aP(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function lP(n){return"undefined"!=typeof Blob&&n instanceof Blob}function uP(n){return"undefined"!=typeof FormData&&n instanceof FormData}class yE{constructor(e,t,r,i){let l;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function iU(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,l=i):l=r,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new Td),this.context||(this.context=new rU),this.params){const f=this.params.toString();if(0===f.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+f}}else this.params=new rh,this.urlWithParams=t}serializeBody(){return null===this.body?null:aP(this.body)||lP(this.body)||uP(this.body)||function sU(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof rh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||uP(this.body)?null:lP(this.body)?this.body.type||null:aP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof rh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,l=e.responseType||this.responseType,f=void 0!==e.body?e.body:this.body,m=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,E=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let C=e.headers||this.headers,k=e.params||this.params;const O=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(C=Object.keys(e.setHeaders).reduce((q,J)=>q.set(J,e.setHeaders[J]),C)),e.setParams&&(k=Object.keys(e.setParams).reduce((q,J)=>q.set(J,e.setParams[J]),k)),new yE(r,i,f,{params:k,headers:C,context:O,reportProgress:E,responseType:l,withCredentials:m})}}var Mi=(()=>((Mi=Mi||{})[Mi.Sent=0]="Sent",Mi[Mi.UploadProgress=1]="UploadProgress",Mi[Mi.ResponseHeader=2]="ResponseHeader",Mi[Mi.DownloadProgress=3]="DownloadProgress",Mi[Mi.Response=4]="Response",Mi[Mi.User=5]="User",Mi))();class vx{constructor(e,t=200,r="OK"){this.headers=e.headers||new Td,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class yx extends vx{constructor(e={}){super(e),this.type=Mi.ResponseHeader}clone(e={}){return new yx({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class zC extends vx{constructor(e={}){super(e),this.type=Mi.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new zC({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class cP extends vx{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function _x(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let oU=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let l;if(t instanceof yE)l=t;else{let E,C;E=i.headers instanceof Td?i.headers:new Td(i.headers),i.params&&(C=i.params instanceof rh?i.params:new rh({fromObject:i.params})),l=new yE(t,r,void 0!==i.body?i.body:null,{headers:E,context:i.context,params:C,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const f=En(l).pipe(gf(E=>this.handler.handle(E)));if(t instanceof yE||"events"===i.observe)return f;const m=f.pipe(wa(E=>E instanceof zC));switch(i.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return m.pipe((0,vn.U)(E=>{if(null!==E.body&&!(E.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return E.body}));case"blob":return m.pipe((0,vn.U)(E=>{if(null!==E.body&&!(E.body instanceof Blob))throw new Error("Response is not a Blob.");return E.body}));case"text":return m.pipe((0,vn.U)(E=>{if(null!==E.body&&"string"!=typeof E.body)throw new Error("Response is not a string.");return E.body}));default:return m.pipe((0,vn.U)(E=>E.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new rh).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,_x(i,r))}post(t,r,i={}){return this.request("POST",t,_x(i,r))}put(t,r,i={}){return this.request("PUT",t,_x(i,r))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(rP))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class dP{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const fP=new h.OlP("HTTP_INTERCEPTORS");let aU=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const lU=/^\)\]\}',?\n/;let hP=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Vs.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((J,se)=>i.setRequestHeader(J,se.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const J=t.detectContentTypeHeader();null!==J&&i.setRequestHeader("Content-Type",J)}if(t.responseType){const J=t.responseType.toLowerCase();i.responseType="json"!==J?J:"text"}const l=t.serializeBody();let f=null;const m=()=>{if(null!==f)return f;const J=i.statusText||"OK",se=new Td(i.getAllResponseHeaders()),Me=function uU(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return f=new yx({headers:se,status:i.status,statusText:J,url:Me}),f},E=()=>{let{headers:J,status:se,statusText:Me,url:nt}=m(),at=null;204!==se&&(at=void 0===i.response?i.responseText:i.response),0===se&&(se=at?200:0);let _t=se>=200&&se<300;if("json"===t.responseType&&"string"==typeof at){const Rt=at;at=at.replace(lU,"");try{at=""!==at?JSON.parse(at):null}catch(Ct){at=Rt,_t&&(_t=!1,at={error:Ct,text:at})}}_t?(r.next(new zC({body:at,headers:J,status:se,statusText:Me,url:nt||void 0})),r.complete()):r.error(new cP({error:at,headers:J,status:se,statusText:Me,url:nt||void 0}))},C=J=>{const{url:se}=m(),Me=new cP({error:J,status:i.status||0,statusText:i.statusText||"Unknown Error",url:se||void 0});r.error(Me)};let k=!1;const O=J=>{k||(r.next(m()),k=!0);let se={type:Mi.DownloadProgress,loaded:J.loaded};J.lengthComputable&&(se.total=J.total),"text"===t.responseType&&!!i.responseText&&(se.partialText=i.responseText),r.next(se)},q=J=>{let se={type:Mi.UploadProgress,loaded:J.loaded};J.lengthComputable&&(se.total=J.total),r.next(se)};return i.addEventListener("load",E),i.addEventListener("error",C),i.addEventListener("timeout",C),i.addEventListener("abort",C),t.reportProgress&&(i.addEventListener("progress",O),null!==l&&i.upload&&i.upload.addEventListener("progress",q)),i.send(l),r.next({type:Mi.Sent}),()=>{i.removeEventListener("error",C),i.removeEventListener("abort",C),i.removeEventListener("load",E),i.removeEventListener("timeout",C),t.reportProgress&&(i.removeEventListener("progress",O),null!==l&&i.upload&&i.upload.removeEventListener("progress",q)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ar))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Ex=new h.OlP("XSRF_COOKIE_NAME"),bx=new h.OlP("XSRF_HEADER_NAME");class pP{}let cU=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ls(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be),h.LFG(h.Lbi),h.LFG(Ex))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Ax=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const l=this.tokenService.getToken();return null!==l&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,l)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(pP),h.LFG(bx))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),dU=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(fP,[]);this.chain=r.reduceRight((i,l)=>new dP(i,l),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(iP),h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),fU=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Ax,useClass:aU}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:Ex,useValue:t.cookieName}:[],t.headerName?{provide:bx,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[Ax,{provide:fP,useExisting:Ax,multi:!0},{provide:pP,useClass:cU},{provide:Ex,useValue:"XSRF-TOKEN"},{provide:bx,useValue:"X-XSRF-TOKEN"}]}),n})(),hU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[oU,{provide:rP,useClass:dU},hP,{provide:iP,useExisting:hP}],imports:[[fU.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const gP_firebase=eP;ZA.registerPlugins([NA,jA]);let pU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[JB]}),n.\u0275inj=h.cJS({providers:[nP,Storage,GC],imports:[[Ko.hO.initializeApp(gP_firebase),_B,SB,_l,xu,HB,vD,Mf.forRoot(),ZA,hU]]}),n})();(0,h.G48)(),oh().bootstrapModule(pU).catch(n=>console.error(n))},2559:Nt=>{"use strict";Nt.exports=function We($,h){if($===h)return!0;if($&&h&&"object"==typeof $&&"object"==typeof h){if($.constructor!==h.constructor)return!1;var P,R,G;if(Array.isArray($)){if((P=$.length)!=h.length)return!1;for(R=P;0!=R--;)if(!We($[R],h[R]))return!1;return!0}if($.constructor===RegExp)return $.source===h.source&&$.flags===h.flags;if($.valueOf!==Object.prototype.valueOf)return $.valueOf()===h.valueOf();if($.toString!==Object.prototype.toString)return $.toString()===h.toString();if((P=(G=Object.keys($)).length)!==Object.keys(h).length)return!1;for(R=P;0!=R--;)if(!Object.prototype.hasOwnProperty.call(h,G[R]))return!1;for(R=P;0!=R--;){var te=G[R];if(!We($[te],h[te]))return!1}return!0}return $!=$&&h!=h}},5867:(Nt,We,$)=>{"use strict";$.d(We,{C6:()=>h.getApps,Mq:()=>h.getApp});var h=$(9681);(0,h.registerVersion)("firebase","9.8.1","app")},127:(Nt,We,$)=>{"use strict";$.d(We,{Z:()=>h.Z});var h=$(3942);h.Z.registerVersion("firebase","9.8.1","app-compat")},5881:(Nt,We,$)=>{"use strict";$.r(We);var h=$(5861),P=$(3942),R=$(198),G=$(2090),be=($(9681),$(1877),$(4859));function xe(){return window}function de(){return(de=(0,h.Z)(function*(Se,pe,he){var et;const{BuildInfo:bt}=xe();(0,R.aq)(pe.sessionId,"AuthEvent did not contain a session ID");const Ut=yield oe(pe.sessionId),nn={};return(0,R.ar)()?nn.ibi=bt.packageName:(0,R.as)()?nn.apn=bt.packageName:(0,R.at)(Se,"operation-not-supported-in-this-environment"),bt.displayName&&(nn.appDisplayName=bt.displayName),nn.sessionId=Ut,(0,R.au)(Se,he,pe.type,void 0,null!==(et=pe.eventId)&&void 0!==et?et:void 0,nn)})).apply(this,arguments)}function F(){return(F=(0,h.Z)(function*(Se){const{BuildInfo:pe}=xe(),he={};(0,R.ar)()?he.iosBundleId=pe.packageName:(0,R.as)()?he.androidPackageName=pe.packageName:(0,R.at)(Se,"operation-not-supported-in-this-environment"),yield(0,R.av)(Se,he)})).apply(this,arguments)}function me(){return(me=(0,h.Z)(function*(Se,pe,he){const{cordova:et}=xe();let bt=()=>{};try{yield new Promise((Ut,nn)=>{let Pn=null;function Ft(){var Mn;Ut();const Er=null===(Mn=et.plugins.browsertab)||void 0===Mn?void 0:Mn.close;"function"==typeof Er&&Er(),"function"==typeof(null==he?void 0:he.close)&&he.close()}function hr(){Pn||(Pn=window.setTimeout(()=>{nn((0,R.aw)(Se,"redirect-cancelled-by-user"))},2e3))}function Rr(){"visible"===(null==document?void 0:document.visibilityState)&&hr()}pe.addPassiveListener(Ft),document.addEventListener("resume",hr,!1),(0,R.as)()&&document.addEventListener("visibilitychange",Rr,!1),bt=()=>{pe.removePassiveListener(Ft),document.removeEventListener("resume",hr,!1),document.removeEventListener("visibilitychange",Rr,!1),Pn&&window.clearTimeout(Pn)}})}finally{bt()}})).apply(this,arguments)}function oe(Se){return je.apply(this,arguments)}function je(){return(je=(0,h.Z)(function*(Se){const pe=Qe(Se),he=yield crypto.subtle.digest("SHA-256",pe);return Array.from(new Uint8Array(he)).map(bt=>bt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Qe(Se){if((0,R.aq)(/[0-9a-zA-Z]+/.test(Se),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(Se);const pe=new ArrayBuffer(Se.length),he=new Uint8Array(pe);for(let et=0;et<Se.length;et++)he[et]=Se.charCodeAt(et);return he}class Ye extends R.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(pe=>{this.resolveInialized=pe})}addPassiveListener(pe){this.passiveListeners.add(pe)}removePassiveListener(pe){this.passiveListeners.delete(pe)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(pe){return this.resolveInialized(),this.passiveListeners.forEach(he=>he(pe)),super.onEvent(pe)}initialized(){var pe=this;return(0,h.Z)(function*(){yield pe.initPromise})()}}function Te(Se){return Re.apply(this,arguments)}function Re(){return(Re=(0,h.Z)(function*(Se){const pe=yield Oe()._get(Be(Se));return pe&&(yield Oe()._remove(Be(Se))),pe})).apply(this,arguments)}function Ie(){const Se=[],pe="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let he=0;he<20;he++){const et=Math.floor(Math.random()*pe.length);Se.push(pe.charAt(et))}return Se.join("")}function Oe(){return(0,R.ay)(R.b)}function Be(Se){return(0,R.az)("authEvent",Se.config.apiKey,Se.name)}function Gt(Se){if(!(null==Se?void 0:Se.includes("?")))return{};const[pe,...he]=Se.split("?");return(0,G.zd)(he.join("?"))}function Ht(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,R.aw)("no-auth-event")}}function Ae(){var Se;return(null===(Se=null==self?void 0:self.location)||void 0===Se?void 0:Se.protocol)||null}function Ve(Se=(0,G.z$)()){return!("file:"!==Ae()&&"ionic:"!==Ae()||!Se.toLowerCase().match(/iphone|ipad|ipod|android/))}function on(){try{const Se=self.localStorage,pe=R.aI();if(Se)return Se.setItem(pe,"1"),Se.removeItem(pe),!function Pt(Se=(0,G.z$)()){return function At(){return(0,G.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Ze(Se=(0,G.z$)()){return/Edge\/\d+/.test(Se)}(Se)}()||(0,G.hl)()}catch(Se){return fn()&&(0,G.hl)()}return!1}function fn(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function dn(){return(function _e(){return"http:"===Ae()||"https:"===Ae()}()||(0,G.ru)()||Ve())&&!function lt(){return(0,G.b$)()||(0,G.UG)()}()&&on()&&!fn()}function Ke(){return Ve()&&"undefined"!=typeof document}function Yt(){return(Yt=(0,h.Z)(function*(){return!!Ke()&&new Promise(Se=>{const pe=setTimeout(()=>{Se(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(pe),Se(!0)})})})).apply(this,arguments)}const Ot={LOCAL:"local",NONE:"none",SESSION:"session"},Yn=R.ax,_n="persistence";function wn(Se){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,h.Z)(function*(Se){yield Se._initializationPromise;const pe=un(),he=R.az(_n,Se.config.apiKey,Se.name);pe&&pe.setItem(he,Se._getPersistence())})).apply(this,arguments)}function un(){var Se;try{return(null===(Se=function vt(){return"undefined"!=typeof window?window:null}())||void 0===Se?void 0:Se.sessionStorage)||null}catch(pe){return null}}const $t=R.ax;class Mt{constructor(){this.browserResolver=R.ay(R.k),this.cordovaResolver=R.ay(class Qn{constructor(){this._redirectPersistence=R.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=R.aB,this._overrideRedirectResult=R.aC}_initialize(pe){var he=this;return(0,h.Z)(function*(){const et=pe._key();let bt=he.eventManagers.get(et);return bt||(bt=new Ye(pe),he.eventManagers.set(et,bt),he.attachCallbackListeners(pe,bt)),bt})()}_openPopup(pe){(0,R.at)(pe,"operation-not-supported-in-this-environment")}_openRedirect(pe,he,et,bt){var Ut=this;return(0,h.Z)(function*(){!function ce(Se){var pe,he,et,bt,Ut,nn,Pn,Ft,hr,Rr;const Mn=xe();(0,R.ax)("function"==typeof(null===(pe=null==Mn?void 0:Mn.universalLinks)||void 0===pe?void 0:pe.subscribe),Se,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,R.ax)(void 0!==(null===(he=null==Mn?void 0:Mn.BuildInfo)||void 0===he?void 0:he.packageName),Se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,R.ax)("function"==typeof(null===(Ut=null===(bt=null===(et=null==Mn?void 0:Mn.cordova)||void 0===et?void 0:et.plugins)||void 0===bt?void 0:bt.browsertab)||void 0===Ut?void 0:Ut.openUrl),Se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.ax)("function"==typeof(null===(Ft=null===(Pn=null===(nn=null==Mn?void 0:Mn.cordova)||void 0===nn?void 0:nn.plugins)||void 0===Pn?void 0:Pn.browsertab)||void 0===Ft?void 0:Ft.isAvailable),Se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.ax)("function"==typeof(null===(Rr=null===(hr=null==Mn?void 0:Mn.cordova)||void 0===hr?void 0:hr.InAppBrowser)||void 0===Rr?void 0:Rr.open),Se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(pe);const nn=yield Ut._initialize(pe);yield nn.initialized(),nn.resetRedirect(),(0,R.aD)(),yield Ut._originValidation(pe);const Pn=function $e(Se,pe,he=null){return{type:pe,eventId:he,urlResponse:null,sessionId:Ie(),postBody:null,tenantId:Se.tenantId,error:(0,R.aw)(Se,"no-auth-event")}}(pe,et,bt);yield function mt(Se,pe){return Oe()._set(Be(Se),pe)}(pe,Pn);const Ft=yield function X(Se,pe,he){return de.apply(this,arguments)}(pe,Pn,he),hr=yield function U(Se){const{cordova:pe}=xe();return new Promise(he=>{pe.plugins.browsertab.isAvailable(et=>{let bt=null;et?pe.plugins.browsertab.openUrl(Se):bt=pe.InAppBrowser.open(Se,(0,R.ap)()?"_blank":"_system","location=yes"),he(bt)})})}(Ft);return function ie(Se,pe,he){return me.apply(this,arguments)}(pe,nn,hr)})()}_isIframeWebStorageSupported(pe,he){throw new Error("Method not implemented.")}_originValidation(pe){const he=pe._key();return this.originValidationPromises[he]||(this.originValidationPromises[he]=function T(Se){return F.apply(this,arguments)}(pe)),this.originValidationPromises[he]}attachCallbackListeners(pe,he){const{universalLinks:et,handleOpenURL:bt,BuildInfo:Ut}=xe(),nn=setTimeout((0,h.Z)(function*(){yield Te(pe),he.onEvent(Ht())}),500),Pn=function(){var Rr=(0,h.Z)(function*(Mn){clearTimeout(nn);const Er=yield Te(pe);let ti=null;Er&&(null==Mn?void 0:Mn.url)&&(ti=function fe(Se,pe){var he,et;const bt=function ke(Se){const pe=Gt(Se),he=pe.link?decodeURIComponent(pe.link):void 0,et=Gt(he).link,bt=pe.deep_link_id?decodeURIComponent(pe.deep_link_id):void 0;return Gt(bt).link||bt||et||he||Se}(pe);if(bt.includes("/__/auth/callback")){const Ut=Gt(bt),nn=Ut.firebaseError?function Xe(Se){try{return JSON.parse(Se)}catch(pe){return null}}(decodeURIComponent(Ut.firebaseError)):null,Pn=null===(et=null===(he=null==nn?void 0:nn.code)||void 0===he?void 0:he.split("auth/"))||void 0===et?void 0:et[1],Ft=Pn?(0,R.aw)(Pn):null;return Ft?{type:Se.type,eventId:Se.eventId,tenantId:Se.tenantId,error:Ft,urlResponse:null,sessionId:null,postBody:null}:{type:Se.type,eventId:Se.eventId,tenantId:Se.tenantId,sessionId:Se.sessionId,urlResponse:bt,postBody:null}}return null}(Er,Mn.url)),he.onEvent(ti||Ht())});return function(Er){return Rr.apply(this,arguments)}}();void 0!==et&&"function"==typeof et.subscribe&&et.subscribe(null,Pn);const Ft=bt,hr=`${Ut.packageName.toLowerCase()}://`;xe().handleOpenURL=function(){var Rr=(0,h.Z)(function*(Mn){if(Mn.toLowerCase().startsWith(hr)&&Pn({url:Mn}),"function"==typeof Ft)try{Ft(Mn)}catch(Er){console.error(Er)}});return function(Mn){return Rr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=R.a,this._completeRedirectFn=R.aB,this._overrideRedirectResult=R.aC}_initialize(pe){var he=this;return(0,h.Z)(function*(){return yield he.selectUnderlyingResolver(),he.assertedUnderlyingResolver._initialize(pe)})()}_openPopup(pe,he,et,bt){var Ut=this;return(0,h.Z)(function*(){return yield Ut.selectUnderlyingResolver(),Ut.assertedUnderlyingResolver._openPopup(pe,he,et,bt)})()}_openRedirect(pe,he,et,bt){var Ut=this;return(0,h.Z)(function*(){return yield Ut.selectUnderlyingResolver(),Ut.assertedUnderlyingResolver._openRedirect(pe,he,et,bt)})()}_isIframeWebStorageSupported(pe,he){this.assertedUnderlyingResolver._isIframeWebStorageSupported(pe,he)}_originValidation(pe){return this.assertedUnderlyingResolver._originValidation(pe)}get _shouldInitProactively(){return Ke()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return $t(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var pe=this;return(0,h.Z)(function*(){if(pe.underlyingResolver)return;const he=yield function wt(){return Yt.apply(this,arguments)}();pe.underlyingResolver=he?pe.cordovaResolver:pe.browserResolver})()}}function Jn(Se){return Se.unwrap()}function mn(Se){return er(Se)}function er(Se){const{_tokenResponse:pe}=Se instanceof G.ZR?Se.customData:Se;if(!pe)return null;if(!(Se instanceof G.ZR)&&"temporaryProof"in pe&&"phoneNumber"in pe)return R.P.credentialFromResult(Se);const he=pe.providerId;if(!he||he===R.o.PASSWORD)return null;let et;switch(he){case R.o.GOOGLE:et=R.Q;break;case R.o.FACEBOOK:et=R.N;break;case R.o.GITHUB:et=R.T;break;case R.o.TWITTER:et=R.W;break;default:const{oauthIdToken:bt,oauthAccessToken:Ut,oauthTokenSecret:nn,pendingToken:Pn,nonce:Ft}=pe;return Ut||nn||bt||Pn?Pn?he.startsWith("saml.")?R.aL._create(he,Pn):R.J._fromParams({providerId:he,signInMethod:he,pendingToken:Pn,idToken:bt,accessToken:Ut}):new R.U(he).credential({idToken:bt,accessToken:Ut,rawNonce:Ft}):null}return Se instanceof G.ZR?et.credentialFromError(Se):et.credentialFromResult(Se)}function Cn(Se,pe){return pe.catch(he=>{throw he instanceof G.ZR&&function _r(Se,pe){var he;const et=null===(he=pe.customData)||void 0===he?void 0:he._tokenResponse;if("auth/multi-factor-auth-required"===pe.code)pe.resolver=new B(Se,R.an(Se,pe));else if(et){const bt=er(pe),Ut=pe;bt&&(Ut.credential=bt,Ut.tenantId=et.tenantId||void 0,Ut.email=et.email||void 0,Ut.phoneNumber=et.phoneNumber||void 0)}}(Se,he),he}).then(he=>{const bt=he.user;return{operationType:he.operationType,credential:mn(he),additionalUserInfo:R.al(he),user:Y.getOrCreate(bt)}})}function ue(Se,pe){return ve.apply(this,arguments)}function ve(){return(ve=(0,h.Z)(function*(Se,pe){const he=yield pe;return{verificationId:he.verificationId,confirm:et=>Cn(Se,he.confirm(et))}})).apply(this,arguments)}class B{constructor(pe,he){this.resolver=he,this.auth=function Sr(Se){return Se.wrapped()}(pe)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(pe){return Cn(Jn(this.auth),this.resolver.resolveSignIn(pe))}}class Y{constructor(pe){this._delegate=pe,this.multiFactor=R.ao(pe)}static getOrCreate(pe){return Y.USER_MAP.has(pe)||Y.USER_MAP.set(pe,new Y(pe)),Y.USER_MAP.get(pe)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(pe){return this._delegate.getIdTokenResult(pe)}getIdToken(pe){return this._delegate.getIdToken(pe)}linkAndRetrieveDataWithCredential(pe){return this.linkWithCredential(pe)}linkWithCredential(pe){var he=this;return(0,h.Z)(function*(){return Cn(he.auth,R.Z(he._delegate,pe))})()}linkWithPhoneNumber(pe,he){var et=this;return(0,h.Z)(function*(){return ue(et.auth,R.l(et._delegate,pe,he))})()}linkWithPopup(pe){var he=this;return(0,h.Z)(function*(){return Cn(he.auth,R.d(he._delegate,pe,Mt))})()}linkWithRedirect(pe){var he=this;return(0,h.Z)(function*(){return yield wn(R.aE(he.auth)),R.g(he._delegate,pe,Mt)})()}reauthenticateAndRetrieveDataWithCredential(pe){return this.reauthenticateWithCredential(pe)}reauthenticateWithCredential(pe){var he=this;return(0,h.Z)(function*(){return Cn(he.auth,R._(he._delegate,pe))})()}reauthenticateWithPhoneNumber(pe,he){return ue(this.auth,R.r(this._delegate,pe,he))}reauthenticateWithPopup(pe){return Cn(this.auth,R.e(this._delegate,pe,Mt))}reauthenticateWithRedirect(pe){var he=this;return(0,h.Z)(function*(){return yield wn(R.aE(he.auth)),R.h(he._delegate,pe,Mt)})()}sendEmailVerification(pe){return R.ab(this._delegate,pe)}unlink(pe){var he=this;return(0,h.Z)(function*(){return yield R.ak(he._delegate,pe),he})()}updateEmail(pe){return R.ag(this._delegate,pe)}updatePassword(pe){return R.ah(this._delegate,pe)}updatePhoneNumber(pe){return R.u(this._delegate,pe)}updateProfile(pe){return R.af(this._delegate,pe)}verifyBeforeUpdateEmail(pe,he){return R.ac(this._delegate,pe,he)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Y.USER_MAP=new WeakMap;const W=R.ax;let le=(()=>{class Se{constructor(he,et){if(this.app=he,et.isInitialized())return this._delegate=et.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:bt}=he.options;W(bt,"invalid-api-key",{appName:he.name}),W(bt,"invalid-api-key",{appName:he.name});const Ut="undefined"!=typeof window?Mt:void 0;this._delegate=et.initialize({options:{persistence:ge(bt,he.name),popupRedirectResolver:Ut}}),this._delegate._updateErrorMap(R.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Y.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(he){this._delegate.languageCode=he}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(he){this._delegate.tenantId=he}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(he,et){R.G(this._delegate,he,et)}applyActionCode(he){return R.a2(this._delegate,he)}checkActionCode(he){return R.a3(this._delegate,he)}confirmPasswordReset(he,et){return R.a1(this._delegate,he,et)}createUserWithEmailAndPassword(he,et){var bt=this;return(0,h.Z)(function*(){return Cn(bt._delegate,R.a5(bt._delegate,he,et))})()}fetchProvidersForEmail(he){return this.fetchSignInMethodsForEmail(he)}fetchSignInMethodsForEmail(he){return R.aa(this._delegate,he)}isSignInWithEmailLink(he){return R.a8(this._delegate,he)}getRedirectResult(){var he=this;return(0,h.Z)(function*(){W(dn(),he._delegate,"operation-not-supported-in-this-environment");const et=yield R.j(he._delegate,Mt);return et?Cn(he._delegate,Promise.resolve(et)):{credential:null,user:null}})()}addFrameworkForLogging(he){!function zn(Se,pe){(0,R.aE)(Se)._logFramework(pe)}(this._delegate,he)}onAuthStateChanged(he,et,bt){const{next:Ut,error:nn,complete:Pn}=ae(he,et,bt);return this._delegate.onAuthStateChanged(Ut,nn,Pn)}onIdTokenChanged(he,et,bt){const{next:Ut,error:nn,complete:Pn}=ae(he,et,bt);return this._delegate.onIdTokenChanged(Ut,nn,Pn)}sendSignInLinkToEmail(he,et){return R.a7(this._delegate,he,et)}sendPasswordResetEmail(he,et){return R.a0(this._delegate,he,et||void 0)}setPersistence(he){var et=this;return(0,h.Z)(function*(){let bt;switch(function In(Se,pe){Yn(Object.values(Ot).includes(pe),Se,"invalid-persistence-type"),(0,G.b$)()?Yn(pe!==Ot.SESSION,Se,"unsupported-persistence-type"):(0,G.UG)()?Yn(pe===Ot.NONE,Se,"unsupported-persistence-type"):fn()?Yn(pe===Ot.NONE||pe===Ot.LOCAL&&(0,G.hl)(),Se,"unsupported-persistence-type"):Yn(pe===Ot.NONE||on(),Se,"unsupported-persistence-type")}(et._delegate,he),he){case Ot.SESSION:bt=R.a;break;case Ot.LOCAL:bt=(yield R.ay(R.i)._isAvailable())?R.i:R.b;break;case Ot.NONE:bt=R.L;break;default:return R.at("argument-error",{appName:et._delegate.name})}return et._delegate.setPersistence(bt)})()}signInAndRetrieveDataWithCredential(he){return this.signInWithCredential(he)}signInAnonymously(){return Cn(this._delegate,R.X(this._delegate))}signInWithCredential(he){return Cn(this._delegate,R.Y(this._delegate,he))}signInWithCustomToken(he){return Cn(this._delegate,R.$(this._delegate,he))}signInWithEmailAndPassword(he,et){return Cn(this._delegate,R.a6(this._delegate,he,et))}signInWithEmailLink(he,et){return Cn(this._delegate,R.a9(this._delegate,he,et))}signInWithPhoneNumber(he,et){return ue(this._delegate,R.s(this._delegate,he,et))}signInWithPopup(he){var et=this;return(0,h.Z)(function*(){return W(dn(),et._delegate,"operation-not-supported-in-this-environment"),Cn(et._delegate,R.c(et._delegate,he,Mt))})()}signInWithRedirect(he){var et=this;return(0,h.Z)(function*(){return W(dn(),et._delegate,"operation-not-supported-in-this-environment"),yield wn(et._delegate),R.f(et._delegate,he,Mt)})()}updateCurrentUser(he){return this._delegate.updateCurrentUser(he)}verifyPasswordResetCode(he){return R.a4(this._delegate,he)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Se.Persistence=Ot,Se})();function ae(Se,pe,he){let et=Se;"function"!=typeof Se&&({next:et,error:pe,complete:he}=Se);const bt=et;return{next:nn=>bt(nn&&Y.getOrCreate(nn)),error:pe,complete:he}}function ge(Se,pe){const he=function ln(Se,pe){const he=un();if(!he)return[];const et=R.az(_n,Se,pe);switch(he.getItem(et)){case Ot.NONE:return[R.L];case Ot.LOCAL:return[R.i,R.a];case Ot.SESSION:return[R.a];default:return[]}}(Se,pe);if("undefined"!=typeof self&&!he.includes(R.i)&&he.push(R.i),"undefined"!=typeof window)for(const et of[R.b,R.a])he.includes(et)||he.push(et);return he.includes(R.L)||he.push(R.L),he}class Pe{constructor(){this.providerId="phone",this._delegate=new R.P(Jn(P.Z.auth()))}static credential(pe,he){return R.P.credential(pe,he)}verifyPhoneNumber(pe,he){return this._delegate.verifyPhoneNumber(pe,he)}unwrap(){return this._delegate}}Pe.PHONE_SIGN_IN_METHOD=R.P.PHONE_SIGN_IN_METHOD,Pe.PROVIDER_ID=R.P.PROVIDER_ID;const st=R.ax;class ht{constructor(pe,he,et=P.Z.app()){var bt;st(null===(bt=et.options)||void 0===bt?void 0:bt.apiKey,"invalid-api-key",{appName:et.name}),this._delegate=new R.R(pe,he,et.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function jt(Se){Se.INTERNAL.registerComponent(new be.wA("auth-compat",pe=>{const he=pe.getProvider("app-compat").getImmediate(),et=pe.getProvider("auth");return new le(he,et)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:R.A.EMAIL_SIGNIN,PASSWORD_RESET:R.A.PASSWORD_RESET,RECOVER_EMAIL:R.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:R.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:R.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:R.A.VERIFY_EMAIL}},EmailAuthProvider:R.M,FacebookAuthProvider:R.N,GithubAuthProvider:R.T,GoogleAuthProvider:R.Q,OAuthProvider:R.U,SAMLAuthProvider:R.V,PhoneAuthProvider:Pe,PhoneMultiFactorGenerator:R.m,RecaptchaVerifier:ht,TwitterAuthProvider:R.W,Auth:le,AuthCredential:R.H,Error:G.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Se.registerVersion("@firebase/auth-compat","0.2.14")}(P.Z)},6461:(Nt,We)=>{var h;!function(){"use strict";var P=function(){this.init()};P.prototype={init:function(){var T=this||R;return T._counter=1e3,T._html5AudioPool=[],T.html5PoolSize=10,T._codecs={},T._howls=[],T._muted=!1,T._volume=1,T._canPlayEvent="canplaythrough",T._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,T.masterGain=null,T.noAudio=!1,T.usingWebAudio=!0,T.autoSuspend=!0,T.ctx=null,T.autoUnlock=!0,T._setup(),T},volume:function(T){var F=this||R;if(T=parseFloat(T),F.ctx||de(),void 0!==T&&T>=0&&T<=1){if(F._volume=T,F._muted)return F;F.usingWebAudio&&F.masterGain.gain.setValueAtTime(T,R.ctx.currentTime);for(var U=0;U<F._howls.length;U++)if(!F._howls[U]._webAudio)for(var ie=F._howls[U]._getSoundIds(),me=0;me<ie.length;me++){var ce=F._howls[U]._soundById(ie[me]);ce&&ce._node&&(ce._node.volume=ce._volume*T)}return F}return F._volume},mute:function(T){var F=this||R;F.ctx||de(),F._muted=T,F.usingWebAudio&&F.masterGain.gain.setValueAtTime(T?0:F._volume,R.ctx.currentTime);for(var U=0;U<F._howls.length;U++)if(!F._howls[U]._webAudio)for(var ie=F._howls[U]._getSoundIds(),me=0;me<ie.length;me++){var ce=F._howls[U]._soundById(ie[me]);ce&&ce._node&&(ce._node.muted=!!T||ce._muted)}return F},stop:function(){for(var T=this||R,F=0;F<T._howls.length;F++)T._howls[F].stop();return T},unload:function(){for(var T=this||R,F=T._howls.length-1;F>=0;F--)T._howls[F].unload();return T.usingWebAudio&&T.ctx&&void 0!==T.ctx.close&&(T.ctx.close(),T.ctx=null,de()),T},codecs:function(T){return(this||R)._codecs[T.replace(/^x-/,"")]},_setup:function(){var T=this||R;if(T.state=T.ctx&&T.ctx.state||"suspended",T._autoSuspend(),!T.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(T._canPlayEvent="canplay")}catch(U){T.noAudio=!0}else T.noAudio=!0;try{(new Audio).muted&&(T.noAudio=!0)}catch(U){}return T.noAudio||T._setupCodecs(),T},_setupCodecs:function(){var T=this||R,F=null;try{F="undefined"!=typeof Audio?new Audio:null}catch(qe){return T}if(!F||"function"!=typeof F.canPlayType)return T;var U=F.canPlayType("audio/mpeg;").replace(/^no$/,""),ie=T._navigator?T._navigator.userAgent:"",me=ie.match(/OPR\/([0-6].)/g),ce=me&&parseInt(me[0].split("/")[1],10)<33,oe=-1!==ie.indexOf("Safari")&&-1===ie.indexOf("Chrome"),je=ie.match(/Version\/(.*?) /),Qe=oe&&je&&parseInt(je[1],10)<15;return T._codecs={mp3:!(ce||!U&&!F.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!U,opus:!!F.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!F.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!F.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(F.canPlayType('audio/wav; codecs="1"')||F.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!F.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!F.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(F.canPlayType("audio/x-m4a;")||F.canPlayType("audio/m4a;")||F.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(F.canPlayType("audio/x-m4b;")||F.canPlayType("audio/m4b;")||F.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(F.canPlayType("audio/x-mp4;")||F.canPlayType("audio/mp4;")||F.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(Qe||!F.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(Qe||!F.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!F.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(F.canPlayType("audio/x-flac;")||F.canPlayType("audio/flac;")).replace(/^no$/,"")},T},_unlockAudio:function(){var T=this||R;if(!T._audioUnlocked&&T.ctx){T._audioUnlocked=!1,T.autoUnlock=!1,!T._mobileUnloaded&&44100!==T.ctx.sampleRate&&(T._mobileUnloaded=!0,T.unload()),T._scratchBuffer=T.ctx.createBuffer(1,1,22050);var F=function(U){for(;T._html5AudioPool.length<T.html5PoolSize;)try{var ie=new Audio;ie._unlocked=!0,T._releaseHtml5Audio(ie)}catch(qe){T.noAudio=!0;break}for(var me=0;me<T._howls.length;me++)if(!T._howls[me]._webAudio)for(var ce=T._howls[me]._getSoundIds(),oe=0;oe<ce.length;oe++){var je=T._howls[me]._soundById(ce[oe]);je&&je._node&&!je._node._unlocked&&(je._node._unlocked=!0,je._node.load())}T._autoResume();var Qe=T.ctx.createBufferSource();Qe.buffer=T._scratchBuffer,Qe.connect(T.ctx.destination),void 0===Qe.start?Qe.noteOn(0):Qe.start(0),"function"==typeof T.ctx.resume&&T.ctx.resume(),Qe.onended=function(){Qe.disconnect(0),T._audioUnlocked=!0,document.removeEventListener("touchstart",F,!0),document.removeEventListener("touchend",F,!0),document.removeEventListener("click",F,!0),document.removeEventListener("keydown",F,!0);for(var qe=0;qe<T._howls.length;qe++)T._howls[qe]._emit("unlock")}};return document.addEventListener("touchstart",F,!0),document.addEventListener("touchend",F,!0),document.addEventListener("click",F,!0),document.addEventListener("keydown",F,!0),T}},_obtainHtml5Audio:function(){var T=this||R;if(T._html5AudioPool.length)return T._html5AudioPool.pop();var F=(new Audio).play();return F&&"undefined"!=typeof Promise&&(F instanceof Promise||"function"==typeof F.then)&&F.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(T){var F=this||R;return T._unlocked&&F._html5AudioPool.push(T),F},_autoSuspend:function(){var T=this;if(T.autoSuspend&&T.ctx&&void 0!==T.ctx.suspend&&R.usingWebAudio){for(var F=0;F<T._howls.length;F++)if(T._howls[F]._webAudio)for(var U=0;U<T._howls[F]._sounds.length;U++)if(!T._howls[F]._sounds[U]._paused)return T;return T._suspendTimer&&clearTimeout(T._suspendTimer),T._suspendTimer=setTimeout(function(){if(T.autoSuspend){T._suspendTimer=null,T.state="suspending";var ie=function(){T.state="suspended",T._resumeAfterSuspend&&(delete T._resumeAfterSuspend,T._autoResume())};T.ctx.suspend().then(ie,ie)}},3e4),T}},_autoResume:function(){var T=this;if(T.ctx&&void 0!==T.ctx.resume&&R.usingWebAudio)return"running"===T.state&&"interrupted"!==T.ctx.state&&T._suspendTimer?(clearTimeout(T._suspendTimer),T._suspendTimer=null):"suspended"===T.state||"running"===T.state&&"interrupted"===T.ctx.state?(T.ctx.resume().then(function(){T.state="running";for(var F=0;F<T._howls.length;F++)T._howls[F]._emit("resume")}),T._suspendTimer&&(clearTimeout(T._suspendTimer),T._suspendTimer=null)):"suspending"===T.state&&(T._resumeAfterSuspend=!0),T}};var R=new P,G=function(T){T.src&&0!==T.src.length?this.init(T):console.error("An array of source files must be passed with any new Howl.")};G.prototype={init:function(T){var F=this;return R.ctx||de(),F._autoplay=T.autoplay||!1,F._format="string"!=typeof T.format?T.format:[T.format],F._html5=T.html5||!1,F._muted=T.mute||!1,F._loop=T.loop||!1,F._pool=T.pool||5,F._preload="boolean"!=typeof T.preload&&"metadata"!==T.preload||T.preload,F._rate=T.rate||1,F._sprite=T.sprite||{},F._src="string"!=typeof T.src?T.src:[T.src],F._volume=void 0!==T.volume?T.volume:1,F._xhr={method:T.xhr&&T.xhr.method?T.xhr.method:"GET",headers:T.xhr&&T.xhr.headers?T.xhr.headers:null,withCredentials:!(!T.xhr||!T.xhr.withCredentials)&&T.xhr.withCredentials},F._duration=0,F._state="unloaded",F._sounds=[],F._endTimers={},F._queue=[],F._playLock=!1,F._onend=T.onend?[{fn:T.onend}]:[],F._onfade=T.onfade?[{fn:T.onfade}]:[],F._onload=T.onload?[{fn:T.onload}]:[],F._onloaderror=T.onloaderror?[{fn:T.onloaderror}]:[],F._onplayerror=T.onplayerror?[{fn:T.onplayerror}]:[],F._onpause=T.onpause?[{fn:T.onpause}]:[],F._onplay=T.onplay?[{fn:T.onplay}]:[],F._onstop=T.onstop?[{fn:T.onstop}]:[],F._onmute=T.onmute?[{fn:T.onmute}]:[],F._onvolume=T.onvolume?[{fn:T.onvolume}]:[],F._onrate=T.onrate?[{fn:T.onrate}]:[],F._onseek=T.onseek?[{fn:T.onseek}]:[],F._onunlock=T.onunlock?[{fn:T.onunlock}]:[],F._onresume=[],F._webAudio=R.usingWebAudio&&!F._html5,void 0!==R.ctx&&R.ctx&&R.autoUnlock&&R._unlockAudio(),R._howls.push(F),F._autoplay&&F._queue.push({event:"play",action:function(){F.play()}}),F._preload&&"none"!==F._preload&&F.load(),F},load:function(){var T=this,F=null;if(R.noAudio)T._emit("loaderror",null,"No audio support.");else{"string"==typeof T._src&&(T._src=[T._src]);for(var U=0;U<T._src.length;U++){var ie,me;if(T._format&&T._format[U])ie=T._format[U];else{if("string"!=typeof(me=T._src[U])){T._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(ie=/^data:audio\/([^;,]+);/i.exec(me))||(ie=/\.([^.]+)$/.exec(me.split("?",1)[0])),ie&&(ie=ie[1].toLowerCase())}if(ie||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),ie&&R.codecs(ie)){F=T._src[U];break}}if(F)return T._src=F,T._state="loading","https:"===window.location.protocol&&"http:"===F.slice(0,5)&&(T._html5=!0,T._webAudio=!1),new te(T),T._webAudio&&be(T),T;T._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(T,F){var U=this,ie=null;if("number"==typeof T)ie=T,T=null;else{if("string"==typeof T&&"loaded"===U._state&&!U._sprite[T])return null;if(void 0===T&&(T="__default",!U._playLock)){for(var me=0,ce=0;ce<U._sounds.length;ce++)U._sounds[ce]._paused&&!U._sounds[ce]._ended&&(me++,ie=U._sounds[ce]._id);1===me?T=null:ie=null}}var oe=ie?U._soundById(ie):U._inactiveSound();if(!oe)return null;if(ie&&!T&&(T=oe._sprite||"__default"),"loaded"!==U._state){oe._sprite=T,oe._ended=!1;var je=oe._id;return U._queue.push({event:"play",action:function(){U.play(je)}}),je}if(ie&&!oe._paused)return F||U._loadQueue("play"),oe._id;U._webAudio&&R._autoResume();var Qe=Math.max(0,oe._seek>0?oe._seek:U._sprite[T][0]/1e3),qe=Math.max(0,(U._sprite[T][0]+U._sprite[T][1])/1e3-Qe),Ye=1e3*qe/Math.abs(oe._rate),$e=U._sprite[T][0]/1e3,mt=(U._sprite[T][0]+U._sprite[T][1])/1e3;oe._sprite=T,oe._ended=!1;var Te=function(){oe._paused=!1,oe._seek=Qe,oe._start=$e,oe._stop=mt,oe._loop=!(!oe._loop&&!U._sprite[T][2])};if(!(Qe>=mt)){var Re=oe._node;if(U._webAudio){var fe=function(){U._playLock=!1,Te(),U._refreshBuffer(oe),Re.gain.setValueAtTime(oe._muted||U._muted?0:oe._volume,R.ctx.currentTime),oe._playStart=R.ctx.currentTime,void 0===Re.bufferSource.start?Re.bufferSource.noteGrainOn(0,Qe,oe._loop?86400:qe):Re.bufferSource.start(0,Qe,oe._loop?86400:qe),Ye!==1/0&&(U._endTimers[oe._id]=setTimeout(U._ended.bind(U,oe),Ye)),F||setTimeout(function(){U._emit("play",oe._id),U._loadQueue()},0)};"running"===R.state&&"interrupted"!==R.ctx.state?fe():(U._playLock=!0,U.once("resume",fe),U._clearTimer(oe._id))}else{var Ie=function(){Re.currentTime=Qe,Re.muted=oe._muted||U._muted||R._muted||Re.muted,Re.volume=oe._volume*R.volume(),Re.playbackRate=oe._rate;try{var Xe=Re.play();if(Xe&&"undefined"!=typeof Promise&&(Xe instanceof Promise||"function"==typeof Xe.then)?(U._playLock=!0,Te(),Xe.then(function(){U._playLock=!1,Re._unlocked=!0,F?U._loadQueue():U._emit("play",oe._id)}).catch(function(){U._playLock=!1,U._emit("playerror",oe._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),oe._ended=!0,oe._paused=!0})):F||(U._playLock=!1,Te(),U._emit("play",oe._id)),Re.playbackRate=oe._rate,Re.paused)return void U._emit("playerror",oe._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==T||oe._loop?U._endTimers[oe._id]=setTimeout(U._ended.bind(U,oe),Ye):(U._endTimers[oe._id]=function(){U._ended(oe),Re.removeEventListener("ended",U._endTimers[oe._id],!1)},Re.addEventListener("ended",U._endTimers[oe._id],!1))}catch(ke){U._emit("playerror",oe._id,ke)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===Re.src&&(Re.src=U._src,Re.load());var Oe=window&&window.ejecta||!Re.readyState&&R._navigator.isCocoonJS;if(Re.readyState>=3||Oe)Ie();else{U._playLock=!0,U._state="loading";var Be=function(){U._state="loaded",Ie(),Re.removeEventListener(R._canPlayEvent,Be,!1)};Re.addEventListener(R._canPlayEvent,Be,!1),U._clearTimer(oe._id)}}return oe._id}U._ended(oe)},pause:function(T){var F=this;if("loaded"!==F._state||F._playLock)return F._queue.push({event:"pause",action:function(){F.pause(T)}}),F;for(var U=F._getSoundIds(T),ie=0;ie<U.length;ie++){F._clearTimer(U[ie]);var me=F._soundById(U[ie]);if(me&&!me._paused&&(me._seek=F.seek(U[ie]),me._rateSeek=0,me._paused=!0,F._stopFade(U[ie]),me._node))if(F._webAudio){if(!me._node.bufferSource)continue;void 0===me._node.bufferSource.stop?me._node.bufferSource.noteOff(0):me._node.bufferSource.stop(0),F._cleanBuffer(me._node)}else(!isNaN(me._node.duration)||me._node.duration===1/0)&&me._node.pause();arguments[1]||F._emit("pause",me?me._id:null)}return F},stop:function(T,F){var U=this;if("loaded"!==U._state||U._playLock)return U._queue.push({event:"stop",action:function(){U.stop(T)}}),U;for(var ie=U._getSoundIds(T),me=0;me<ie.length;me++){U._clearTimer(ie[me]);var ce=U._soundById(ie[me]);ce&&(ce._seek=ce._start||0,ce._rateSeek=0,ce._paused=!0,ce._ended=!0,U._stopFade(ie[me]),ce._node&&(U._webAudio?ce._node.bufferSource&&(void 0===ce._node.bufferSource.stop?ce._node.bufferSource.noteOff(0):ce._node.bufferSource.stop(0),U._cleanBuffer(ce._node)):(!isNaN(ce._node.duration)||ce._node.duration===1/0)&&(ce._node.currentTime=ce._start||0,ce._node.pause(),ce._node.duration===1/0&&U._clearSound(ce._node))),F||U._emit("stop",ce._id))}return U},mute:function(T,F){var U=this;if("loaded"!==U._state||U._playLock)return U._queue.push({event:"mute",action:function(){U.mute(T,F)}}),U;if(void 0===F){if("boolean"!=typeof T)return U._muted;U._muted=T}for(var ie=U._getSoundIds(F),me=0;me<ie.length;me++){var ce=U._soundById(ie[me]);ce&&(ce._muted=T,ce._interval&&U._stopFade(ce._id),U._webAudio&&ce._node?ce._node.gain.setValueAtTime(T?0:ce._volume,R.ctx.currentTime):ce._node&&(ce._node.muted=!!R._muted||T),U._emit("mute",ce._id))}return U},volume:function(){var U,ie,oe,T=this,F=arguments;if(0===F.length)return T._volume;if(1===F.length||2===F.length&&void 0===F[1]){var me=T._getSoundIds(),ce=me.indexOf(F[0]);ce>=0?ie=parseInt(F[0],10):U=parseFloat(F[0])}else F.length>=2&&(U=parseFloat(F[0]),ie=parseInt(F[1],10));if(!(void 0!==U&&U>=0&&U<=1))return(oe=ie?T._soundById(ie):T._sounds[0])?oe._volume:0;if("loaded"!==T._state||T._playLock)return T._queue.push({event:"volume",action:function(){T.volume.apply(T,F)}}),T;void 0===ie&&(T._volume=U),ie=T._getSoundIds(ie);for(var je=0;je<ie.length;je++)(oe=T._soundById(ie[je]))&&(oe._volume=U,F[2]||T._stopFade(ie[je]),T._webAudio&&oe._node&&!oe._muted?oe._node.gain.setValueAtTime(U,R.ctx.currentTime):oe._node&&!oe._muted&&(oe._node.volume=U*R.volume()),T._emit("volume",oe._id));return T},fade:function(T,F,U,ie){var me=this;if("loaded"!==me._state||me._playLock)return me._queue.push({event:"fade",action:function(){me.fade(T,F,U,ie)}}),me;T=Math.min(Math.max(0,parseFloat(T)),1),F=Math.min(Math.max(0,parseFloat(F)),1),U=parseFloat(U),me.volume(T,ie);for(var ce=me._getSoundIds(ie),oe=0;oe<ce.length;oe++){var je=me._soundById(ce[oe]);if(je){if(ie||me._stopFade(ce[oe]),me._webAudio&&!je._muted){var Qe=R.ctx.currentTime,qe=Qe+U/1e3;je._volume=T,je._node.gain.setValueAtTime(T,Qe),je._node.gain.linearRampToValueAtTime(F,qe)}me._startFadeInterval(je,T,F,U,ce[oe],void 0===ie)}}return me},_startFadeInterval:function(T,F,U,ie,me,ce){var oe=this,je=F,Qe=U-F,qe=Math.abs(Qe/.01),Ye=Math.max(4,qe>0?ie/qe:ie),$e=Date.now();T._fadeTo=U,T._interval=setInterval(function(){var mt=(Date.now()-$e)/ie;$e=Date.now(),je+=Qe*mt,je=Math.round(100*je)/100,je=Qe<0?Math.max(U,je):Math.min(U,je),oe._webAudio?T._volume=je:oe.volume(je,T._id,!0),ce&&(oe._volume=je),(U<F&&je<=U||U>F&&je>=U)&&(clearInterval(T._interval),T._interval=null,T._fadeTo=null,oe.volume(U,T._id),oe._emit("fade",T._id))},Ye)},_stopFade:function(T){var F=this,U=F._soundById(T);return U&&U._interval&&(F._webAudio&&U._node.gain.cancelScheduledValues(R.ctx.currentTime),clearInterval(U._interval),U._interval=null,F.volume(U._fadeTo,T),U._fadeTo=null,F._emit("fade",T)),F},loop:function(){var U,ie,me,T=this,F=arguments;if(0===F.length)return T._loop;if(1===F.length){if("boolean"!=typeof F[0])return!!(me=T._soundById(parseInt(F[0],10)))&&me._loop;T._loop=U=F[0]}else 2===F.length&&(U=F[0],ie=parseInt(F[1],10));for(var ce=T._getSoundIds(ie),oe=0;oe<ce.length;oe++)(me=T._soundById(ce[oe]))&&(me._loop=U,T._webAudio&&me._node&&me._node.bufferSource&&(me._node.bufferSource.loop=U,U&&(me._node.bufferSource.loopStart=me._start||0,me._node.bufferSource.loopEnd=me._stop,T.playing(ce[oe])&&(T.pause(ce[oe],!0),T.play(ce[oe],!0)))));return T},rate:function(){var U,ie,oe,T=this,F=arguments;if(0===F.length)ie=T._sounds[0]._id;else if(1===F.length){var me=T._getSoundIds(),ce=me.indexOf(F[0]);ce>=0?ie=parseInt(F[0],10):U=parseFloat(F[0])}else 2===F.length&&(U=parseFloat(F[0]),ie=parseInt(F[1],10));if("number"!=typeof U)return(oe=T._soundById(ie))?oe._rate:T._rate;if("loaded"!==T._state||T._playLock)return T._queue.push({event:"rate",action:function(){T.rate.apply(T,F)}}),T;void 0===ie&&(T._rate=U),ie=T._getSoundIds(ie);for(var je=0;je<ie.length;je++)if(oe=T._soundById(ie[je])){T.playing(ie[je])&&(oe._rateSeek=T.seek(ie[je]),oe._playStart=T._webAudio?R.ctx.currentTime:oe._playStart),oe._rate=U,T._webAudio&&oe._node&&oe._node.bufferSource?oe._node.bufferSource.playbackRate.setValueAtTime(U,R.ctx.currentTime):oe._node&&(oe._node.playbackRate=U);var Qe=T.seek(ie[je]),qe=(T._sprite[oe._sprite][0]+T._sprite[oe._sprite][1])/1e3-Qe,Ye=1e3*qe/Math.abs(oe._rate);(T._endTimers[ie[je]]||!oe._paused)&&(T._clearTimer(ie[je]),T._endTimers[ie[je]]=setTimeout(T._ended.bind(T,oe),Ye)),T._emit("rate",oe._id)}return T},seek:function(){var U,ie,T=this,F=arguments;if(0===F.length)T._sounds.length&&(ie=T._sounds[0]._id);else if(1===F.length){var me=T._getSoundIds(),ce=me.indexOf(F[0]);ce>=0?ie=parseInt(F[0],10):T._sounds.length&&(ie=T._sounds[0]._id,U=parseFloat(F[0]))}else 2===F.length&&(U=parseFloat(F[0]),ie=parseInt(F[1],10));if(void 0===ie)return 0;if("number"==typeof U&&("loaded"!==T._state||T._playLock))return T._queue.push({event:"seek",action:function(){T.seek.apply(T,F)}}),T;var oe=T._soundById(ie);if(oe){if(!("number"==typeof U&&U>=0)){if(T._webAudio){var Ye=T.playing(ie)?R.ctx.currentTime-oe._playStart:0,$e=oe._rateSeek?oe._rateSeek-oe._seek:0;return oe._seek+($e+Ye*Math.abs(oe._rate))}return oe._node.currentTime}var je=T.playing(ie);je&&T.pause(ie,!0),oe._seek=U,oe._ended=!1,T._clearTimer(ie),!T._webAudio&&oe._node&&!isNaN(oe._node.duration)&&(oe._node.currentTime=U);var Qe=function(){je&&T.play(ie,!0),T._emit("seek",ie)};if(je&&!T._webAudio){var qe=function(){T._playLock?setTimeout(qe,0):Qe()};setTimeout(qe,0)}else Qe()}return T},playing:function(T){var F=this;if("number"==typeof T){var U=F._soundById(T);return!!U&&!U._paused}for(var ie=0;ie<F._sounds.length;ie++)if(!F._sounds[ie]._paused)return!0;return!1},duration:function(T){var F=this,U=F._duration,ie=F._soundById(T);return ie&&(U=F._sprite[ie._sprite][1]/1e3),U},state:function(){return this._state},unload:function(){for(var T=this,F=T._sounds,U=0;U<F.length;U++)F[U]._paused||T.stop(F[U]._id),T._webAudio||(T._clearSound(F[U]._node),F[U]._node.removeEventListener("error",F[U]._errorFn,!1),F[U]._node.removeEventListener(R._canPlayEvent,F[U]._loadFn,!1),F[U]._node.removeEventListener("ended",F[U]._endFn,!1),R._releaseHtml5Audio(F[U]._node)),delete F[U]._node,T._clearTimer(F[U]._id);var ie=R._howls.indexOf(T);ie>=0&&R._howls.splice(ie,1);var me=!0;for(U=0;U<R._howls.length;U++)if(R._howls[U]._src===T._src||T._src.indexOf(R._howls[U]._src)>=0){me=!1;break}return Ce&&me&&delete Ce[T._src],R.noAudio=!1,T._state="unloaded",T._sounds=[],T=null,null},on:function(T,F,U,ie){return"function"==typeof F&&this["_on"+T].push(ie?{id:U,fn:F,once:ie}:{id:U,fn:F}),this},off:function(T,F,U){var ie=this,me=ie["_on"+T],ce=0;if("number"==typeof F&&(U=F,F=null),F||U)for(ce=0;ce<me.length;ce++){var oe=U===me[ce].id;if(F===me[ce].fn&&oe||!F&&oe){me.splice(ce,1);break}}else if(T)ie["_on"+T]=[];else{var je=Object.keys(ie);for(ce=0;ce<je.length;ce++)0===je[ce].indexOf("_on")&&Array.isArray(ie[je[ce]])&&(ie[je[ce]]=[])}return ie},once:function(T,F,U){return this.on(T,F,U,1),this},_emit:function(T,F,U){for(var ie=this,me=ie["_on"+T],ce=me.length-1;ce>=0;ce--)(!me[ce].id||me[ce].id===F||"load"===T)&&(setTimeout(function(oe){oe.call(this,F,U)}.bind(ie,me[ce].fn),0),me[ce].once&&ie.off(T,me[ce].fn,me[ce].id));return ie._loadQueue(T),ie},_loadQueue:function(T){var F=this;if(F._queue.length>0){var U=F._queue[0];U.event===T&&(F._queue.shift(),F._loadQueue()),T||U.action()}return F},_ended:function(T){var F=this,U=T._sprite;if(!F._webAudio&&T._node&&!T._node.paused&&!T._node.ended&&T._node.currentTime<T._stop)return setTimeout(F._ended.bind(F,T),100),F;var ie=!(!T._loop&&!F._sprite[U][2]);if(F._emit("end",T._id),!F._webAudio&&ie&&F.stop(T._id,!0).play(T._id),F._webAudio&&ie){F._emit("play",T._id),T._seek=T._start||0,T._rateSeek=0,T._playStart=R.ctx.currentTime;var me=1e3*(T._stop-T._start)/Math.abs(T._rate);F._endTimers[T._id]=setTimeout(F._ended.bind(F,T),me)}return F._webAudio&&!ie&&(T._paused=!0,T._ended=!0,T._seek=T._start||0,T._rateSeek=0,F._clearTimer(T._id),F._cleanBuffer(T._node),R._autoSuspend()),!F._webAudio&&!ie&&F.stop(T._id,!0),F},_clearTimer:function(T){var F=this;if(F._endTimers[T]){if("function"!=typeof F._endTimers[T])clearTimeout(F._endTimers[T]);else{var U=F._soundById(T);U&&U._node&&U._node.removeEventListener("ended",F._endTimers[T],!1)}delete F._endTimers[T]}return F},_soundById:function(T){for(var F=this,U=0;U<F._sounds.length;U++)if(T===F._sounds[U]._id)return F._sounds[U];return null},_inactiveSound:function(){var T=this;T._drain();for(var F=0;F<T._sounds.length;F++)if(T._sounds[F]._ended)return T._sounds[F].reset();return new te(T)},_drain:function(){var T=this,F=T._pool,U=0,ie=0;if(!(T._sounds.length<F)){for(ie=0;ie<T._sounds.length;ie++)T._sounds[ie]._ended&&U++;for(ie=T._sounds.length-1;ie>=0;ie--){if(U<=F)return;T._sounds[ie]._ended&&(T._webAudio&&T._sounds[ie]._node&&T._sounds[ie]._node.disconnect(0),T._sounds.splice(ie,1),U--)}}},_getSoundIds:function(T){if(void 0===T){for(var U=[],ie=0;ie<this._sounds.length;ie++)U.push(this._sounds[ie]._id);return U}return[T]},_refreshBuffer:function(T){return T._node.bufferSource=R.ctx.createBufferSource(),T._node.bufferSource.buffer=Ce[this._src],T._node.bufferSource.connect(T._panner?T._panner:T._node),T._node.bufferSource.loop=T._loop,T._loop&&(T._node.bufferSource.loopStart=T._start||0,T._node.bufferSource.loopEnd=T._stop||0),T._node.bufferSource.playbackRate.setValueAtTime(T._rate,R.ctx.currentTime),this},_cleanBuffer:function(T){var U=R._navigator&&R._navigator.vendor.indexOf("Apple")>=0;if(R._scratchBuffer&&T.bufferSource&&(T.bufferSource.onended=null,T.bufferSource.disconnect(0),U))try{T.bufferSource.buffer=R._scratchBuffer}catch(ie){}return T.bufferSource=null,this},_clearSound:function(T){/MSIE |Trident\//.test(R._navigator&&R._navigator.userAgent)||(T.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var te=function(T){this._parent=T,this.init()};te.prototype={init:function(){var T=this,F=T._parent;return T._muted=F._muted,T._loop=F._loop,T._volume=F._volume,T._rate=F._rate,T._seek=0,T._paused=!0,T._ended=!0,T._sprite="__default",T._id=++R._counter,F._sounds.push(T),T.create(),T},create:function(){var T=this,F=T._parent,U=R._muted||T._muted||T._parent._muted?0:T._volume;return F._webAudio?(T._node=void 0===R.ctx.createGain?R.ctx.createGainNode():R.ctx.createGain(),T._node.gain.setValueAtTime(U,R.ctx.currentTime),T._node.paused=!0,T._node.connect(R.masterGain)):R.noAudio||(T._node=R._obtainHtml5Audio(),T._errorFn=T._errorListener.bind(T),T._node.addEventListener("error",T._errorFn,!1),T._loadFn=T._loadListener.bind(T),T._node.addEventListener(R._canPlayEvent,T._loadFn,!1),T._endFn=T._endListener.bind(T),T._node.addEventListener("ended",T._endFn,!1),T._node.src=F._src,T._node.preload=!0===F._preload?"auto":F._preload,T._node.volume=U*R.volume(),T._node.load()),T},reset:function(){var T=this,F=T._parent;return T._muted=F._muted,T._loop=F._loop,T._volume=F._volume,T._rate=F._rate,T._seek=0,T._rateSeek=0,T._paused=!0,T._ended=!0,T._sprite="__default",T._id=++R._counter,T},_errorListener:function(){var T=this;T._parent._emit("loaderror",T._id,T._node.error?T._node.error.code:0),T._node.removeEventListener("error",T._errorFn,!1)},_loadListener:function(){var T=this,F=T._parent;F._duration=Math.ceil(10*T._node.duration)/10,0===Object.keys(F._sprite).length&&(F._sprite={__default:[0,1e3*F._duration]}),"loaded"!==F._state&&(F._state="loaded",F._emit("load"),F._loadQueue()),T._node.removeEventListener(R._canPlayEvent,T._loadFn,!1)},_endListener:function(){var T=this,F=T._parent;F._duration===1/0&&(F._duration=Math.ceil(10*T._node.duration)/10,F._sprite.__default[1]===1/0&&(F._sprite.__default[1]=1e3*F._duration),F._ended(T)),T._node.removeEventListener("ended",T._endFn,!1)}};var Ce={},be=function(T){var F=T._src;if(Ce[F])return T._duration=Ce[F].duration,void X(T);if(/^data:[^;]+;base64,/.test(F)){for(var U=atob(F.split(",")[1]),ie=new Uint8Array(U.length),me=0;me<U.length;++me)ie[me]=U.charCodeAt(me);De(ie.buffer,T)}else{var ce=new XMLHttpRequest;ce.open(T._xhr.method,F,!0),ce.withCredentials=T._xhr.withCredentials,ce.responseType="arraybuffer",T._xhr.headers&&Object.keys(T._xhr.headers).forEach(function(oe){ce.setRequestHeader(oe,T._xhr.headers[oe])}),ce.onload=function(){var oe=(ce.status+"")[0];"0"===oe||"2"===oe||"3"===oe?De(ce.response,T):T._emit("loaderror",null,"Failed loading audio file with status: "+ce.status+".")},ce.onerror=function(){T._webAudio&&(T._html5=!0,T._webAudio=!1,T._sounds=[],delete Ce[F],T.load())},xe(ce)}},xe=function(T){try{T.send()}catch(F){T.onerror()}},De=function(T,F){var U=function(){F._emit("loaderror",null,"Decoding audio data failed.")},ie=function(me){me&&F._sounds.length>0?(Ce[F._src]=me,X(F,me)):U()};"undefined"!=typeof Promise&&1===R.ctx.decodeAudioData.length?R.ctx.decodeAudioData(T).then(ie).catch(U):R.ctx.decodeAudioData(T,ie,U)},X=function(T,F){F&&!T._duration&&(T._duration=F.duration),0===Object.keys(T._sprite).length&&(T._sprite={__default:[0,1e3*T._duration]}),"loaded"!==T._state&&(T._state="loaded",T._emit("load"),T._loadQueue())},de=function(){if(R.usingWebAudio){try{"undefined"!=typeof AudioContext?R.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?R.ctx=new webkitAudioContext:R.usingWebAudio=!1}catch(me){R.usingWebAudio=!1}R.ctx||(R.usingWebAudio=!1);var T=/iP(hone|od|ad)/.test(R._navigator&&R._navigator.platform),F=R._navigator&&R._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),U=F?parseInt(F[1],10):null;if(T&&U&&U<9){var ie=/safari/.test(R._navigator&&R._navigator.userAgent.toLowerCase());R._navigator&&!ie&&(R.usingWebAudio=!1)}R.usingWebAudio&&(R.masterGain=void 0===R.ctx.createGain?R.ctx.createGainNode():R.ctx.createGain(),R.masterGain.gain.setValueAtTime(R._muted?0:R._volume,R.ctx.currentTime),R.masterGain.connect(R.ctx.destination)),R._setup()}};void 0!==(h=function(){return{Howler:R,Howl:G}}.apply(We,[]))&&(Nt.exports=h),We.Howler=R,We.Howl=G,"undefined"!=typeof global?(global.HowlerGlobal=P,global.Howler=R,global.Howl=G,global.Sound=te):"undefined"!=typeof window&&(window.HowlerGlobal=P,window.Howler=R,window.Howl=G,window.Sound=te)}(),function(){"use strict";var R;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(R){var G=this;if(!G.ctx||!G.ctx.listener)return G;for(var te=G._howls.length-1;te>=0;te--)G._howls[te].stereo(R);return G},HowlerGlobal.prototype.pos=function(R,G,te){var Ce=this;return Ce.ctx&&Ce.ctx.listener?"number"!=typeof R?Ce._pos:(Ce._pos=[R,G="number"!=typeof G?Ce._pos[1]:G,te="number"!=typeof te?Ce._pos[2]:te],void 0!==Ce.ctx.listener.positionX?(Ce.ctx.listener.positionX.setTargetAtTime(Ce._pos[0],Howler.ctx.currentTime,.1),Ce.ctx.listener.positionY.setTargetAtTime(Ce._pos[1],Howler.ctx.currentTime,.1),Ce.ctx.listener.positionZ.setTargetAtTime(Ce._pos[2],Howler.ctx.currentTime,.1)):Ce.ctx.listener.setPosition(Ce._pos[0],Ce._pos[1],Ce._pos[2]),Ce):Ce},HowlerGlobal.prototype.orientation=function(R,G,te,Ce,be,xe){var De=this;if(!De.ctx||!De.ctx.listener)return De;var X=De._orientation;return"number"!=typeof R?X:(De._orientation=[R,G="number"!=typeof G?X[1]:G,te="number"!=typeof te?X[2]:te,Ce="number"!=typeof Ce?X[3]:Ce,be="number"!=typeof be?X[4]:be,xe="number"!=typeof xe?X[5]:xe],void 0!==De.ctx.listener.forwardX?(De.ctx.listener.forwardX.setTargetAtTime(R,Howler.ctx.currentTime,.1),De.ctx.listener.forwardY.setTargetAtTime(G,Howler.ctx.currentTime,.1),De.ctx.listener.forwardZ.setTargetAtTime(te,Howler.ctx.currentTime,.1),De.ctx.listener.upX.setTargetAtTime(Ce,Howler.ctx.currentTime,.1),De.ctx.listener.upY.setTargetAtTime(be,Howler.ctx.currentTime,.1),De.ctx.listener.upZ.setTargetAtTime(xe,Howler.ctx.currentTime,.1)):De.ctx.listener.setOrientation(R,G,te,Ce,be,xe),De)},Howl.prototype.init=(R=Howl.prototype.init,function(G){var te=this;return te._orientation=G.orientation||[1,0,0],te._stereo=G.stereo||null,te._pos=G.pos||null,te._pannerAttr={coneInnerAngle:void 0!==G.coneInnerAngle?G.coneInnerAngle:360,coneOuterAngle:void 0!==G.coneOuterAngle?G.coneOuterAngle:360,coneOuterGain:void 0!==G.coneOuterGain?G.coneOuterGain:0,distanceModel:void 0!==G.distanceModel?G.distanceModel:"inverse",maxDistance:void 0!==G.maxDistance?G.maxDistance:1e4,panningModel:void 0!==G.panningModel?G.panningModel:"HRTF",refDistance:void 0!==G.refDistance?G.refDistance:1,rolloffFactor:void 0!==G.rolloffFactor?G.rolloffFactor:1},te._onstereo=G.onstereo?[{fn:G.onstereo}]:[],te._onpos=G.onpos?[{fn:G.onpos}]:[],te._onorientation=G.onorientation?[{fn:G.onorientation}]:[],R.call(this,G)}),Howl.prototype.stereo=function(R,G){var te=this;if(!te._webAudio)return te;if("loaded"!==te._state)return te._queue.push({event:"stereo",action:function(){te.stereo(R,G)}}),te;var Ce=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===G){if("number"!=typeof R)return te._stereo;te._stereo=R,te._pos=[R,0,0]}for(var be=te._getSoundIds(G),xe=0;xe<be.length;xe++){var De=te._soundById(be[xe]);if(De){if("number"!=typeof R)return De._stereo;De._stereo=R,De._pos=[R,0,0],De._node&&(De._pannerAttr.panningModel="equalpower",(!De._panner||!De._panner.pan)&&P(De,Ce),"spatial"===Ce?void 0!==De._panner.positionX?(De._panner.positionX.setValueAtTime(R,Howler.ctx.currentTime),De._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),De._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):De._panner.setPosition(R,0,0):De._panner.pan.setValueAtTime(R,Howler.ctx.currentTime)),te._emit("stereo",De._id)}}return te},Howl.prototype.pos=function(R,G,te,Ce){var be=this;if(!be._webAudio)return be;if("loaded"!==be._state)return be._queue.push({event:"pos",action:function(){be.pos(R,G,te,Ce)}}),be;if(G="number"!=typeof G?0:G,te="number"!=typeof te?-.5:te,void 0===Ce){if("number"!=typeof R)return be._pos;be._pos=[R,G,te]}for(var xe=be._getSoundIds(Ce),De=0;De<xe.length;De++){var X=be._soundById(xe[De]);if(X){if("number"!=typeof R)return X._pos;X._pos=[R,G,te],X._node&&((!X._panner||X._panner.pan)&&P(X,"spatial"),void 0!==X._panner.positionX?(X._panner.positionX.setValueAtTime(R,Howler.ctx.currentTime),X._panner.positionY.setValueAtTime(G,Howler.ctx.currentTime),X._panner.positionZ.setValueAtTime(te,Howler.ctx.currentTime)):X._panner.setPosition(R,G,te)),be._emit("pos",X._id)}}return be},Howl.prototype.orientation=function(R,G,te,Ce){var be=this;if(!be._webAudio)return be;if("loaded"!==be._state)return be._queue.push({event:"orientation",action:function(){be.orientation(R,G,te,Ce)}}),be;if(G="number"!=typeof G?be._orientation[1]:G,te="number"!=typeof te?be._orientation[2]:te,void 0===Ce){if("number"!=typeof R)return be._orientation;be._orientation=[R,G,te]}for(var xe=be._getSoundIds(Ce),De=0;De<xe.length;De++){var X=be._soundById(xe[De]);if(X){if("number"!=typeof R)return X._orientation;X._orientation=[R,G,te],X._node&&(X._panner||(X._pos||(X._pos=be._pos||[0,0,-.5]),P(X,"spatial")),void 0!==X._panner.orientationX?(X._panner.orientationX.setValueAtTime(R,Howler.ctx.currentTime),X._panner.orientationY.setValueAtTime(G,Howler.ctx.currentTime),X._panner.orientationZ.setValueAtTime(te,Howler.ctx.currentTime)):X._panner.setOrientation(R,G,te)),be._emit("orientation",X._id)}}return be},Howl.prototype.pannerAttr=function(){var te,Ce,be,R=this,G=arguments;if(!R._webAudio)return R;if(0===G.length)return R._pannerAttr;if(1===G.length){if("object"!=typeof G[0])return(be=R._soundById(parseInt(G[0],10)))?be._pannerAttr:R._pannerAttr;te=G[0],void 0===Ce&&(te.pannerAttr||(te.pannerAttr={coneInnerAngle:te.coneInnerAngle,coneOuterAngle:te.coneOuterAngle,coneOuterGain:te.coneOuterGain,distanceModel:te.distanceModel,maxDistance:te.maxDistance,refDistance:te.refDistance,rolloffFactor:te.rolloffFactor,panningModel:te.panningModel}),R._pannerAttr={coneInnerAngle:void 0!==te.pannerAttr.coneInnerAngle?te.pannerAttr.coneInnerAngle:R._coneInnerAngle,coneOuterAngle:void 0!==te.pannerAttr.coneOuterAngle?te.pannerAttr.coneOuterAngle:R._coneOuterAngle,coneOuterGain:void 0!==te.pannerAttr.coneOuterGain?te.pannerAttr.coneOuterGain:R._coneOuterGain,distanceModel:void 0!==te.pannerAttr.distanceModel?te.pannerAttr.distanceModel:R._distanceModel,maxDistance:void 0!==te.pannerAttr.maxDistance?te.pannerAttr.maxDistance:R._maxDistance,refDistance:void 0!==te.pannerAttr.refDistance?te.pannerAttr.refDistance:R._refDistance,rolloffFactor:void 0!==te.pannerAttr.rolloffFactor?te.pannerAttr.rolloffFactor:R._rolloffFactor,panningModel:void 0!==te.pannerAttr.panningModel?te.pannerAttr.panningModel:R._panningModel})}else 2===G.length&&(te=G[0],Ce=parseInt(G[1],10));for(var xe=R._getSoundIds(Ce),De=0;De<xe.length;De++)if(be=R._soundById(xe[De])){var X=be._pannerAttr;X={coneInnerAngle:void 0!==te.coneInnerAngle?te.coneInnerAngle:X.coneInnerAngle,coneOuterAngle:void 0!==te.coneOuterAngle?te.coneOuterAngle:X.coneOuterAngle,coneOuterGain:void 0!==te.coneOuterGain?te.coneOuterGain:X.coneOuterGain,distanceModel:void 0!==te.distanceModel?te.distanceModel:X.distanceModel,maxDistance:void 0!==te.maxDistance?te.maxDistance:X.maxDistance,refDistance:void 0!==te.refDistance?te.refDistance:X.refDistance,rolloffFactor:void 0!==te.rolloffFactor?te.rolloffFactor:X.rolloffFactor,panningModel:void 0!==te.panningModel?te.panningModel:X.panningModel};var de=be._panner;de?(de.coneInnerAngle=X.coneInnerAngle,de.coneOuterAngle=X.coneOuterAngle,de.coneOuterGain=X.coneOuterGain,de.distanceModel=X.distanceModel,de.maxDistance=X.maxDistance,de.refDistance=X.refDistance,de.rolloffFactor=X.rolloffFactor,de.panningModel=X.panningModel):(be._pos||(be._pos=R._pos||[0,0,-.5]),P(be,"spatial"))}return R},Sound.prototype.init=function(R){return function(){var G=this,te=G._parent;G._orientation=te._orientation,G._stereo=te._stereo,G._pos=te._pos,G._pannerAttr=te._pannerAttr,R.call(this),G._stereo?te.stereo(G._stereo):G._pos&&te.pos(G._pos[0],G._pos[1],G._pos[2],G._id)}}(Sound.prototype.init),Sound.prototype.reset=function(R){return function(){var G=this,te=G._parent;return G._orientation=te._orientation,G._stereo=te._stereo,G._pos=te._pos,G._pannerAttr=te._pannerAttr,G._stereo?te.stereo(G._stereo):G._pos?te.pos(G._pos[0],G._pos[1],G._pos[2],G._id):G._panner&&(G._panner.disconnect(0),G._panner=void 0,te._refreshBuffer(G)),R.call(this)}}(Sound.prototype.reset);var P=function(R,G){"spatial"===(G=G||"spatial")?(R._panner=Howler.ctx.createPanner(),R._panner.coneInnerAngle=R._pannerAttr.coneInnerAngle,R._panner.coneOuterAngle=R._pannerAttr.coneOuterAngle,R._panner.coneOuterGain=R._pannerAttr.coneOuterGain,R._panner.distanceModel=R._pannerAttr.distanceModel,R._panner.maxDistance=R._pannerAttr.maxDistance,R._panner.refDistance=R._pannerAttr.refDistance,R._panner.rolloffFactor=R._pannerAttr.rolloffFactor,R._panner.panningModel=R._pannerAttr.panningModel,void 0!==R._panner.positionX?(R._panner.positionX.setValueAtTime(R._pos[0],Howler.ctx.currentTime),R._panner.positionY.setValueAtTime(R._pos[1],Howler.ctx.currentTime),R._panner.positionZ.setValueAtTime(R._pos[2],Howler.ctx.currentTime)):R._panner.setPosition(R._pos[0],R._pos[1],R._pos[2]),void 0!==R._panner.orientationX?(R._panner.orientationX.setValueAtTime(R._orientation[0],Howler.ctx.currentTime),R._panner.orientationY.setValueAtTime(R._orientation[1],Howler.ctx.currentTime),R._panner.orientationZ.setValueAtTime(R._orientation[2],Howler.ctx.currentTime)):R._panner.setOrientation(R._orientation[0],R._orientation[1],R._orientation[2])):(R._panner=Howler.ctx.createStereoPanner(),R._panner.pan.setValueAtTime(R._stereo,Howler.ctx.currentTime)),R._panner.connect(R._node),R._paused||R._parent.pause(R._id,!0).play(R._id,!0)}}()},5599:(Nt,We,$)=>{"use strict";$.r(We),$.d(We,{Children:()=>zn,Component:()=>h.Component,Fragment:()=>h.Fragment,PureComponent:()=>ke,StrictMode:()=>ue,Suspense:()=>An,SuspenseList:()=>Ve,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:()=>un,cloneElement:()=>Sr,createContext:()=>h.createContext,createElement:()=>h.createElement,createFactory:()=>Mt,createPortal:()=>Pt,createRef:()=>h.createRef,default:()=>ve,findDOMNode:()=>_r,flushSync:()=>Cn,forwardRef:()=>It,hydrate:()=>Yt,isValidElement:()=>Jn,lazy:()=>_e,memo:()=>Gt,render:()=>wt,unmountComponentAtNode:()=>mn,unstable_batchedUpdates:()=>er,useCallback:()=>Qe,useContext:()=>qe,useDebugValue:()=>Ye,useEffect:()=>ie,useErrorBoundary:()=>$e,useImperativeHandle:()=>oe,useLayoutEffect:()=>me,useMemo:()=>je,useReducer:()=>U,useRef:()=>ce,useState:()=>F,version:()=>$t});var P,R,G,h=$(3580),te=0,Ce=[],be=h.options.__b,xe=h.options.__r,De=h.options.diffed,X=h.options.__c,de=h.options.unmount;function T(B,Y){h.options.__h&&h.options.__h(R,B,te||Y),te=0;var W=R.__H||(R.__H={__:[],__h:[]});return B>=W.__.length&&W.__.push({}),W.__[B]}function F(B){return te=1,U(Oe,B)}function U(B,Y,W){var le=T(P++,2);return le.t=B,le.__c||(le.__=[W?W(Y):Oe(void 0,Y),function(ae){var ge=le.t(le.__[0],ae);le.__[0]!==ge&&(le.__=[ge,le.__[1]],le.__c.setState({}))}],le.__c=R),le.__}function ie(B,Y){var W=T(P++,3);!h.options.__s&&Ie(W.__H,Y)&&(W.__=B,W.__H=Y,R.__H.__h.push(W))}function me(B,Y){var W=T(P++,4);!h.options.__s&&Ie(W.__H,Y)&&(W.__=B,W.__H=Y,R.__h.push(W))}function ce(B){return te=5,je(function(){return{current:B}},[])}function oe(B,Y,W){te=6,me(function(){return"function"==typeof B?(B(Y()),function(){return B(null)}):B?(B.current=Y(),function(){return B.current=null}):void 0},null==W?W:W.concat(B))}function je(B,Y){var W=T(P++,7);return Ie(W.__H,Y)&&(W.__=B(),W.__H=Y,W.__h=B),W.__}function Qe(B,Y){return te=8,je(function(){return B},Y)}function qe(B){var Y=R.context[B.__c],W=T(P++,9);return W.c=B,Y?(null==W.__&&(W.__=!0,Y.sub(R)),Y.props.value):B.__}function Ye(B,Y){h.options.useDebugValue&&h.options.useDebugValue(Y?Y(B):B)}function $e(B){var Y=T(P++,10),W=F();return Y.__=B,R.componentDidCatch||(R.componentDidCatch=function(le){Y.__&&Y.__(le),W[1](le)}),[W[0],function(){W[1](void 0)}]}function mt(){for(var B;B=Ce.shift();)if(B.__P)try{B.__H.__h.forEach(Re),B.__H.__h.forEach(fe),B.__H.__h=[]}catch(Y){B.__H.__h=[],h.options.__e(Y,B.__v)}}h.options.__b=function(B){R=null,be&&be(B)},h.options.__r=function(B){xe&&xe(B),P=0;var Y=(R=B.__c).__H;Y&&(Y.__h.forEach(Re),Y.__h.forEach(fe),Y.__h=[])},h.options.diffed=function(B){De&&De(B);var Y=B.__c;Y&&Y.__H&&Y.__H.__h.length&&(1!==Ce.push(Y)&&G===h.options.requestAnimationFrame||((G=h.options.requestAnimationFrame)||function(W){var le,ae=function(){clearTimeout(ge),Te&&cancelAnimationFrame(le),setTimeout(W)},ge=setTimeout(ae,100);Te&&(le=requestAnimationFrame(ae))})(mt)),R=null},h.options.__c=function(B,Y){Y.some(function(W){try{W.__h.forEach(Re),W.__h=W.__h.filter(function(le){return!le.__||fe(le)})}catch(le){Y.some(function(ae){ae.__h&&(ae.__h=[])}),Y=[],h.options.__e(le,W.__v)}}),X&&X(B,Y)},h.options.unmount=function(B){de&&de(B);var Y,W=B.__c;W&&W.__H&&(W.__H.__.forEach(function(le){try{Re(le)}catch(ae){Y=ae}}),Y&&h.options.__e(Y,W.__v))};var Te="function"==typeof requestAnimationFrame;function Re(B){var Y=R,W=B.__c;"function"==typeof W&&(B.__c=void 0,W()),R=Y}function fe(B){var Y=R;B.__c=B.__(),R=Y}function Ie(B,Y){return!B||B.length!==Y.length||Y.some(function(W,le){return W!==B[le]})}function Oe(B,Y){return"function"==typeof Y?Y(B):Y}function Be(B,Y){for(var W in Y)B[W]=Y[W];return B}function Xe(B,Y){for(var W in B)if("__source"!==W&&!(W in Y))return!0;for(var le in Y)if("__source"!==le&&B[le]!==Y[le])return!0;return!1}function ke(B){this.props=B}function Gt(B,Y){function W(ae){var ge=this.props.ref,Pe=ge==ae.ref;return!Pe&&ge&&(ge.call?ge(null):ge.current=null),Y?!Y(this.props,ae)||!Pe:Xe(this.props,ae)}function le(ae){return this.shouldComponentUpdate=W,(0,h.createElement)(B,ae)}return le.displayName="Memo("+(B.displayName||B.name)+")",le.prototype.isReactComponent=!0,le.__f=!0,le}(ke.prototype=new h.Component).isPureReactComponent=!0,ke.prototype.shouldComponentUpdate=function(B,Y){return Xe(this.props,B)||Xe(this.state,Y)};var Qt=h.options.__b;h.options.__b=function(B){B.type&&B.type.__f&&B.ref&&(B.props.ref=B.ref,B.ref=null),Qt&&Qt(B)};var Qn="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function It(B){function Y(W){var le=Be({},W);return delete le.ref,B(le,W.ref||null)}return Y.$$typeof=Qn,Y.render=Y,Y.prototype.isReactComponent=Y.__f=!0,Y.displayName="ForwardRef("+(B.displayName||B.name)+")",Y}var Ht=function(B,Y){return null==B?null:(0,h.toChildArray)((0,h.toChildArray)(B).map(Y))},zn={map:Ht,forEach:Ht,count:function(B){return B?(0,h.toChildArray)(B).length:0},only:function(B){var Y=(0,h.toChildArray)(B);if(1!==Y.length)throw"Children.only";return Y[0]},toArray:h.toChildArray},Vn=h.options.__e;h.options.__e=function(B,Y,W,le){if(B.then)for(var ae,ge=Y;ge=ge.__;)if((ae=ge.__c)&&ae.__c)return null==Y.__e&&(Y.__e=W.__e,Y.__k=W.__k),ae.__c(B,Y);Vn(B,Y,W,le)};var yr=h.options.unmount;function An(){this.__u=0,this.t=null,this.__b=null}function Ae(B){var Y=B.__.__c;return Y&&Y.__e&&Y.__e(B)}function _e(B){var Y,W,le;function ae(ge){if(Y||(Y=B()).then(function(Pe){W=Pe.default||Pe},function(Pe){le=Pe}),le)throw le;if(!W)throw Y;return(0,h.createElement)(W,ge)}return ae.displayName="Lazy",ae.__f=!0,ae}function Ve(){this.u=null,this.o=null}h.options.unmount=function(B){var Y=B.__c;Y&&Y.__R&&Y.__R(),Y&&!0===B.__h&&(B.type=null),yr&&yr(B)},(An.prototype=new h.Component).__c=function(B,Y){var W=Y.__c,le=this;null==le.t&&(le.t=[]),le.t.push(W);var ae=Ae(le.__v),ge=!1,Pe=function(){ge||(ge=!0,W.__R=null,ae?ae(st):st())};W.__R=Pe;var st=function(){if(!--le.__u){if(le.state.__e){var ut=le.state.__e;le.__v.__k[0]=function Se(pe,he,et){return pe&&(pe.__v=null,pe.__k=pe.__k&&pe.__k.map(function(bt){return Se(bt,he,et)}),pe.__c&&pe.__c.__P===he&&(pe.__e&&et.insertBefore(pe.__e,pe.__d),pe.__c.__e=!0,pe.__c.__P=et)),pe}(ut,ut.__c.__P,ut.__c.__O)}var jt;for(le.setState({__e:le.__b=null});jt=le.t.pop();)jt.forceUpdate()}},ht=!0===Y.__h;le.__u++||ht||le.setState({__e:le.__b=le.__v.__k[0]}),B.then(Pe,Pe)},An.prototype.componentWillUnmount=function(){this.t=[]},An.prototype.render=function(B,Y){if(this.__b){if(this.__v.__k){var W=document.createElement("div"),le=this.__v.__k[0].__c;this.__v.__k[0]=function ge(Pe,st,ht){return Pe&&(Pe.__c&&Pe.__c.__H&&(Pe.__c.__H.__.forEach(function(ut){"function"==typeof ut.__c&&ut.__c()}),Pe.__c.__H=null),null!=(Pe=Be({},Pe)).__c&&(Pe.__c.__P===ht&&(Pe.__c.__P=st),Pe.__c=null),Pe.__k=Pe.__k&&Pe.__k.map(function(ut){return ge(ut,st,ht)})),Pe}(this.__b,W,le.__O=le.__P)}this.__b=null}var ae=Y.__e&&(0,h.createElement)(h.Fragment,null,B.fallback);return ae&&(ae.__h=null),[(0,h.createElement)(h.Fragment,null,Y.__e?null:B.children),ae]};var lt=function(B,Y,W){if(++W[1]===W[0]&&B.o.delete(Y),B.props.revealOrder&&("t"!==B.props.revealOrder[0]||!B.o.size))for(W=B.u;W;){for(;W.length>3;)W.pop()();if(W[1]<W[0])break;B.u=W=W[2]}};function At(B){return this.getChildContext=function(){return B.context},B.children}function Ze(B){var Y=this,W=B.i;Y.componentWillUnmount=function(){(0,h.render)(null,Y.l),Y.l=null,Y.i=null},Y.i&&Y.i!==W&&Y.componentWillUnmount(),B.__v?(Y.l||(Y.i=W,Y.l={nodeType:1,parentNode:W,childNodes:[],appendChild:function(le){this.childNodes.push(le),Y.i.appendChild(le)},insertBefore:function(le,ae){this.childNodes.push(le),Y.i.appendChild(le)},removeChild:function(le){this.childNodes.splice(this.childNodes.indexOf(le)>>>1,1),Y.i.removeChild(le)}}),(0,h.render)((0,h.createElement)(At,{context:Y.context},B.__v),Y.l)):Y.l&&Y.componentWillUnmount()}function Pt(B,Y){var W=(0,h.createElement)(Ze,{__v:B,i:Y});return W.containerInfo=Y,W}(Ve.prototype=new h.Component).__e=function(B){var Y=this,W=Ae(Y.__v),le=Y.o.get(B);return le[0]++,function(ae){var ge=function(){Y.props.revealOrder?(le.push(ae),lt(Y,B,le)):ae()};W?W(ge):ge()}},Ve.prototype.render=function(B){this.u=null,this.o=new Map;var Y=(0,h.toChildArray)(B.children);B.revealOrder&&"b"===B.revealOrder[0]&&Y.reverse();for(var W=Y.length;W--;)this.o.set(Y[W],this.u=[1,0,this.u]);return B.children},Ve.prototype.componentDidUpdate=Ve.prototype.componentDidMount=function(){var B=this;this.o.forEach(function(Y,W){lt(B,W,Y)})};var on="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,fn=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,dn="undefined"!=typeof document,Ke=function(B){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(B)};function wt(B,Y,W){return null==Y.__k&&(Y.textContent=""),(0,h.render)(B,Y),"function"==typeof W&&W(),B?B.__c:null}function Yt(B,Y,W){return(0,h.hydrate)(B,Y),"function"==typeof W&&W(),B?B.__c:null}h.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(B){Object.defineProperty(h.Component.prototype,B,{configurable:!0,get:function(){return this["UNSAFE_"+B]},set:function(Y){Object.defineProperty(this,B,{configurable:!0,writable:!0,value:Y})}})});var vt=h.options.event;function Ot(){}function Yn(){return this.cancelBubble}function _n(){return this.defaultPrevented}h.options.event=function(B){return vt&&(B=vt(B)),B.persist=Ot,B.isPropagationStopped=Yn,B.isDefaultPrevented=_n,B.nativeEvent=B};var In,wn={configurable:!0,get:function(){return this.class}},Gn=h.options.vnode;h.options.vnode=function(B){var Y=B.type,W=B.props,le=W;if("string"==typeof Y){var ae=-1===Y.indexOf("-");for(var ge in le={},W){var Pe=W[ge];dn&&"children"===ge&&"noscript"===Y||"value"===ge&&"defaultValue"in W&&null==Pe||("defaultValue"===ge&&"value"in W&&null==W.value?ge="value":"download"===ge&&!0===Pe?Pe="":/ondoubleclick/i.test(ge)?ge="ondblclick":/^onchange(textarea|input)/i.test(ge+Y)&&!Ke(W.type)?ge="oninput":/^onfocus$/i.test(ge)?ge="onfocusin":/^onblur$/i.test(ge)?ge="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(ge)?ge=ge.toLowerCase():ae&&fn.test(ge)?ge=ge.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===Pe&&(Pe=void 0),le[ge]=Pe)}"select"==Y&&le.multiple&&Array.isArray(le.value)&&(le.value=(0,h.toChildArray)(W.children).forEach(function(st){st.props.selected=-1!=le.value.indexOf(st.props.value)})),"select"==Y&&null!=le.defaultValue&&(le.value=(0,h.toChildArray)(W.children).forEach(function(st){st.props.selected=le.multiple?-1!=le.defaultValue.indexOf(st.props.value):le.defaultValue==st.props.value})),B.props=le,W.class!=W.className&&(wn.enumerable="className"in W,null!=W.className&&(le.class=W.className),Object.defineProperty(le,"className",wn))}B.$$typeof=on,Gn&&Gn(B)};var ln=h.options.__r;h.options.__r=function(B){ln&&ln(B),In=B.__c};var un={ReactCurrentDispatcher:{current:{readContext:function(B){return In.__n[B.__c].props.value}}}},$t="17.0.2";function Mt(B){return h.createElement.bind(null,B)}function Jn(B){return!!B&&B.$$typeof===on}function Sr(B){return Jn(B)?h.cloneElement.apply(null,arguments):B}function mn(B){return!!B.__k&&((0,h.render)(null,B),!0)}function _r(B){return B&&(B.base||1===B.nodeType&&B)||null}var er=function(B,Y){return B(Y)},Cn=function(B,Y){return B(Y)},ue=h.Fragment;const ve={useState:F,useReducer:U,useEffect:ie,useLayoutEffect:me,useRef:ce,useImperativeHandle:oe,useMemo:je,useCallback:Qe,useContext:qe,useDebugValue:Ye,version:"17.0.2",Children:zn,render:wt,hydrate:Yt,unmountComponentAtNode:mn,createPortal:Pt,createElement:h.createElement,createContext:h.createContext,createFactory:Mt,cloneElement:Sr,createRef:h.createRef,Fragment:h.Fragment,isValidElement:Jn,findDOMNode:_r,Component:h.Component,PureComponent:ke,memo:Gt,forwardRef:It,flushSync:Cn,unstable_batchedUpdates:er,StrictMode:h.Fragment,Suspense:An,SuspenseList:Ve,lazy:_e,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:un}},3580:(Nt,We,$)=>{"use strict";$.r(We),$.d(We,{Component:()=>oe,Fragment:()=>ce,cloneElement:()=>yr,createContext:()=>An,createElement:()=>U,createRef:()=>me,h:()=>U,hydrate:()=>Vn,isValidElement:()=>G,options:()=>P,render:()=>zn,toChildArray:()=>Te});var h,P,R,G,te,Ce,be,xe,De={},X=[],de=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function T(Ae,_e){for(var Ve in _e)Ae[Ve]=_e[Ve];return Ae}function F(Ae){var _e=Ae.parentNode;_e&&_e.removeChild(Ae)}function U(Ae,_e,Ve){var lt,At,Ze,Pt={};for(Ze in _e)"key"==Ze?lt=_e[Ze]:"ref"==Ze?At=_e[Ze]:Pt[Ze]=_e[Ze];if(arguments.length>2&&(Pt.children=arguments.length>3?h.call(arguments,2):Ve),"function"==typeof Ae&&null!=Ae.defaultProps)for(Ze in Ae.defaultProps)void 0===Pt[Ze]&&(Pt[Ze]=Ae.defaultProps[Ze]);return ie(Ae,Pt,lt,At,null)}function ie(Ae,_e,Ve,lt,At){var Ze={type:Ae,props:_e,key:Ve,ref:lt,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==At?++R:At};return null==At&&null!=P.vnode&&P.vnode(Ze),Ze}function me(){return{current:null}}function ce(Ae){return Ae.children}function oe(Ae,_e){this.props=Ae,this.context=_e}function je(Ae,_e){if(null==_e)return Ae.__?je(Ae.__,Ae.__.__k.indexOf(Ae)+1):null;for(var Ve;_e<Ae.__k.length;_e++)if(null!=(Ve=Ae.__k[_e])&&null!=Ve.__e)return Ve.__e;return"function"==typeof Ae.type?je(Ae):null}function Qe(Ae){var _e,Ve;if(null!=(Ae=Ae.__)&&null!=Ae.__c){for(Ae.__e=Ae.__c.base=null,_e=0;_e<Ae.__k.length;_e++)if(null!=(Ve=Ae.__k[_e])&&null!=Ve.__e){Ae.__e=Ae.__c.base=Ve.__e;break}return Qe(Ae)}}function qe(Ae){(!Ae.__d&&(Ae.__d=!0)&&te.push(Ae)&&!Ye.__r++||be!==P.debounceRendering)&&((be=P.debounceRendering)||Ce)(Ye)}function Ye(){for(var Ae;Ye.__r=te.length;)Ae=te.sort(function(_e,Ve){return _e.__v.__b-Ve.__v.__b}),te=[],Ae.some(function(_e){var Ve,lt,At,Ze,Pt,on;_e.__d&&(Pt=(Ze=(Ve=_e).__v).__e,(on=Ve.__P)&&(lt=[],(At=T({},Ze)).__v=Ze.__v+1,ke(on,Ze,At,Ve.__n,void 0!==on.ownerSVGElement,null!=Ze.__h?[Pt]:null,lt,null==Pt?je(Ze):Pt,Ze.__h),Gt(lt,Ze),Ze.__e!=Pt&&Qe(Ze)))})}function $e(Ae,_e,Ve,lt,At,Ze,Pt,on,fn,dn){var Ke,wt,Yt,vt,Ot,Yn,_n,In=lt&&lt.__k||X,wn=In.length;for(Ve.__k=[],Ke=0;Ke<_e.length;Ke++)if(null!=(vt=Ve.__k[Ke]=null==(vt=_e[Ke])||"boolean"==typeof vt?null:"string"==typeof vt||"number"==typeof vt||"bigint"==typeof vt?ie(null,vt,null,null,vt):Array.isArray(vt)?ie(ce,{children:vt},null,null,null):vt.__b>0?ie(vt.type,vt.props,vt.key,null,vt.__v):vt)){if(vt.__=Ve,vt.__b=Ve.__b+1,null===(Yt=In[Ke])||Yt&&vt.key==Yt.key&&vt.type===Yt.type)In[Ke]=void 0;else for(wt=0;wt<wn;wt++){if((Yt=In[wt])&&vt.key==Yt.key&&vt.type===Yt.type){In[wt]=void 0;break}Yt=null}ke(Ae,vt,Yt=Yt||De,At,Ze,Pt,on,fn,dn),Ot=vt.__e,(wt=vt.ref)&&Yt.ref!=wt&&(_n||(_n=[]),Yt.ref&&_n.push(Yt.ref,null,vt),_n.push(wt,vt.__c||Ot,vt)),null!=Ot?(null==Yn&&(Yn=Ot),"function"==typeof vt.type&&vt.__k===Yt.__k?vt.__d=fn=mt(vt,fn,Ae):fn=Re(Ae,vt,Yt,In,Ot,fn),"function"==typeof Ve.type&&(Ve.__d=fn)):fn&&Yt.__e==fn&&fn.parentNode!=Ae&&(fn=je(Yt))}for(Ve.__e=Yn,Ke=wn;Ke--;)null!=In[Ke]&&("function"==typeof Ve.type&&null!=In[Ke].__e&&In[Ke].__e==Ve.__d&&(Ve.__d=je(lt,Ke+1)),It(In[Ke],In[Ke]));if(_n)for(Ke=0;Ke<_n.length;Ke++)Qn(_n[Ke],_n[++Ke],_n[++Ke])}function mt(Ae,_e,Ve){for(var lt,At=Ae.__k,Ze=0;At&&Ze<At.length;Ze++)(lt=At[Ze])&&(lt.__=Ae,_e="function"==typeof lt.type?mt(lt,_e,Ve):Re(Ve,lt,lt,At,lt.__e,_e));return _e}function Te(Ae,_e){return _e=_e||[],null==Ae||"boolean"==typeof Ae||(Array.isArray(Ae)?Ae.some(function(Ve){Te(Ve,_e)}):_e.push(Ae)),_e}function Re(Ae,_e,Ve,lt,At,Ze){var Pt,on,fn;if(void 0!==_e.__d)Pt=_e.__d,_e.__d=void 0;else if(null==Ve||At!=Ze||null==At.parentNode)e:if(null==Ze||Ze.parentNode!==Ae)Ae.appendChild(At),Pt=null;else{for(on=Ze,fn=0;(on=on.nextSibling)&&fn<lt.length;fn+=2)if(on==At)break e;Ae.insertBefore(At,Ze),Pt=Ze}return void 0!==Pt?Pt:At.nextSibling}function Ie(Ae,_e,Ve){"-"===_e[0]?Ae.setProperty(_e,Ve):Ae[_e]=null==Ve?"":"number"!=typeof Ve||de.test(_e)?Ve:Ve+"px"}function Oe(Ae,_e,Ve,lt,At){var Ze;e:if("style"===_e)if("string"==typeof Ve)Ae.style.cssText=Ve;else{if("string"==typeof lt&&(Ae.style.cssText=lt=""),lt)for(_e in lt)Ve&&_e in Ve||Ie(Ae.style,_e,"");if(Ve)for(_e in Ve)lt&&Ve[_e]===lt[_e]||Ie(Ae.style,_e,Ve[_e])}else if("o"===_e[0]&&"n"===_e[1])Ze=_e!==(_e=_e.replace(/Capture$/,"")),_e=_e.toLowerCase()in Ae?_e.toLowerCase().slice(2):_e.slice(2),Ae.l||(Ae.l={}),Ae.l[_e+Ze]=Ve,Ve?lt||Ae.addEventListener(_e,Ze?Xe:Be,Ze):Ae.removeEventListener(_e,Ze?Xe:Be,Ze);else if("dangerouslySetInnerHTML"!==_e){if(At)_e=_e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==_e&&"list"!==_e&&"form"!==_e&&"tabIndex"!==_e&&"download"!==_e&&_e in Ae)try{Ae[_e]=null==Ve?"":Ve;break e}catch(Pt){}"function"==typeof Ve||(null!=Ve&&(!1!==Ve||"a"===_e[0]&&"r"===_e[1])?Ae.setAttribute(_e,Ve):Ae.removeAttribute(_e))}}function Be(Ae){this.l[Ae.type+!1](P.event?P.event(Ae):Ae)}function Xe(Ae){this.l[Ae.type+!0](P.event?P.event(Ae):Ae)}function ke(Ae,_e,Ve,lt,At,Ze,Pt,on,fn){var dn,Ke,wt,Yt,vt,Ot,Yn,_n,In,wn,Gn,ln=_e.type;if(void 0!==_e.constructor)return null;null!=Ve.__h&&(fn=Ve.__h,on=_e.__e=Ve.__e,_e.__h=null,Ze=[on]),(dn=P.__b)&&dn(_e);try{e:if("function"==typeof ln){if(_n=_e.props,In=(dn=ln.contextType)&&lt[dn.__c],wn=dn?In?In.props.value:dn.__:lt,Ve.__c?Yn=(Ke=_e.__c=Ve.__c).__=Ke.__E:("prototype"in ln&&ln.prototype.render?_e.__c=Ke=new ln(_n,wn):(_e.__c=Ke=new oe(_n,wn),Ke.constructor=ln,Ke.render=Ht),In&&In.sub(Ke),Ke.props=_n,Ke.state||(Ke.state={}),Ke.context=wn,Ke.__n=lt,wt=Ke.__d=!0,Ke.__h=[]),null==Ke.__s&&(Ke.__s=Ke.state),null!=ln.getDerivedStateFromProps&&(Ke.__s==Ke.state&&(Ke.__s=T({},Ke.__s)),T(Ke.__s,ln.getDerivedStateFromProps(_n,Ke.__s))),Yt=Ke.props,vt=Ke.state,wt)null==ln.getDerivedStateFromProps&&null!=Ke.componentWillMount&&Ke.componentWillMount(),null!=Ke.componentDidMount&&Ke.__h.push(Ke.componentDidMount);else{if(null==ln.getDerivedStateFromProps&&_n!==Yt&&null!=Ke.componentWillReceiveProps&&Ke.componentWillReceiveProps(_n,wn),!Ke.__e&&null!=Ke.shouldComponentUpdate&&!1===Ke.shouldComponentUpdate(_n,Ke.__s,wn)||_e.__v===Ve.__v){Ke.props=_n,Ke.state=Ke.__s,_e.__v!==Ve.__v&&(Ke.__d=!1),Ke.__v=_e,_e.__e=Ve.__e,_e.__k=Ve.__k,_e.__k.forEach(function(un){un&&(un.__=_e)}),Ke.__h.length&&Pt.push(Ke);break e}null!=Ke.componentWillUpdate&&Ke.componentWillUpdate(_n,Ke.__s,wn),null!=Ke.componentDidUpdate&&Ke.__h.push(function(){Ke.componentDidUpdate(Yt,vt,Ot)})}Ke.context=wn,Ke.props=_n,Ke.state=Ke.__s,(dn=P.__r)&&dn(_e),Ke.__d=!1,Ke.__v=_e,Ke.__P=Ae,dn=Ke.render(Ke.props,Ke.state,Ke.context),Ke.state=Ke.__s,null!=Ke.getChildContext&&(lt=T(T({},lt),Ke.getChildContext())),wt||null==Ke.getSnapshotBeforeUpdate||(Ot=Ke.getSnapshotBeforeUpdate(Yt,vt)),Gn=null!=dn&&dn.type===ce&&null==dn.key?dn.props.children:dn,$e(Ae,Array.isArray(Gn)?Gn:[Gn],_e,Ve,lt,At,Ze,Pt,on,fn),Ke.base=_e.__e,_e.__h=null,Ke.__h.length&&Pt.push(Ke),Yn&&(Ke.__E=Ke.__=null),Ke.__e=!1}else null==Ze&&_e.__v===Ve.__v?(_e.__k=Ve.__k,_e.__e=Ve.__e):_e.__e=function Qt(Ae,_e,Ve,lt,At,Ze,Pt,on){var fn,dn,Ke,wt=Ve.props,Yt=_e.props,vt=_e.type,Ot=0;if("svg"===vt&&(At=!0),null!=Ze)for(;Ot<Ze.length;Ot++)if((fn=Ze[Ot])&&"setAttribute"in fn==!!vt&&(vt?fn.localName===vt:3===fn.nodeType)){Ae=fn,Ze[Ot]=null;break}if(null==Ae){if(null===vt)return document.createTextNode(Yt);Ae=At?document.createElementNS("http://www.w3.org/2000/svg",vt):document.createElement(vt,Yt.is&&Yt),Ze=null,on=!1}if(null===vt)wt===Yt||on&&Ae.data===Yt||(Ae.data=Yt);else{if(Ze=Ze&&h.call(Ae.childNodes),dn=(wt=Ve.props||De).dangerouslySetInnerHTML,Ke=Yt.dangerouslySetInnerHTML,!on){if(null!=Ze)for(wt={},Ot=0;Ot<Ae.attributes.length;Ot++)wt[Ae.attributes[Ot].name]=Ae.attributes[Ot].value;(Ke||dn)&&(Ke&&(dn&&Ke.__html==dn.__html||Ke.__html===Ae.innerHTML)||(Ae.innerHTML=Ke&&Ke.__html||""))}if(function fe(Ae,_e,Ve,lt,At){var Ze;for(Ze in Ve)"children"===Ze||"key"===Ze||Ze in _e||Oe(Ae,Ze,null,Ve[Ze],lt);for(Ze in _e)At&&"function"!=typeof _e[Ze]||"children"===Ze||"key"===Ze||"value"===Ze||"checked"===Ze||Ve[Ze]===_e[Ze]||Oe(Ae,Ze,_e[Ze],Ve[Ze],lt)}(Ae,Yt,wt,At,on),Ke)_e.__k=[];else if(Ot=_e.props.children,$e(Ae,Array.isArray(Ot)?Ot:[Ot],_e,Ve,lt,At&&"foreignObject"!==vt,Ze,Pt,Ze?Ze[0]:Ve.__k&&je(Ve,0),on),null!=Ze)for(Ot=Ze.length;Ot--;)null!=Ze[Ot]&&F(Ze[Ot]);on||("value"in Yt&&void 0!==(Ot=Yt.value)&&(Ot!==Ae.value||"progress"===vt&&!Ot||"option"===vt&&Ot!==wt.value)&&Oe(Ae,"value",Ot,wt.value,!1),"checked"in Yt&&void 0!==(Ot=Yt.checked)&&Ot!==Ae.checked&&Oe(Ae,"checked",Ot,wt.checked,!1))}return Ae}(Ve.__e,_e,Ve,lt,At,Ze,Pt,fn);(dn=P.diffed)&&dn(_e)}catch(un){_e.__v=null,(fn||null!=Ze)&&(_e.__e=on,_e.__h=!!fn,Ze[Ze.indexOf(on)]=null),P.__e(un,_e,Ve)}}function Gt(Ae,_e){P.__c&&P.__c(_e,Ae),Ae.some(function(Ve){try{Ae=Ve.__h,Ve.__h=[],Ae.some(function(lt){lt.call(Ve)})}catch(lt){P.__e(lt,Ve.__v)}})}function Qn(Ae,_e,Ve){try{"function"==typeof Ae?Ae(_e):Ae.current=_e}catch(lt){P.__e(lt,Ve)}}function It(Ae,_e,Ve){var lt,At;if(P.unmount&&P.unmount(Ae),(lt=Ae.ref)&&(lt.current&&lt.current!==Ae.__e||Qn(lt,null,_e)),null!=(lt=Ae.__c)){if(lt.componentWillUnmount)try{lt.componentWillUnmount()}catch(Ze){P.__e(Ze,_e)}lt.base=lt.__P=null}if(lt=Ae.__k)for(At=0;At<lt.length;At++)lt[At]&&It(lt[At],_e,"function"!=typeof Ae.type);Ve||null==Ae.__e||F(Ae.__e),Ae.__e=Ae.__d=void 0}function Ht(Ae,_e,Ve){return this.constructor(Ae,Ve)}function zn(Ae,_e,Ve){var lt,At,Ze;P.__&&P.__(Ae,_e),At=(lt="function"==typeof Ve)?null:Ve&&Ve.__k||_e.__k,Ze=[],ke(_e,Ae=(!lt&&Ve||_e).__k=U(ce,null,[Ae]),At||De,De,void 0!==_e.ownerSVGElement,!lt&&Ve?[Ve]:At?null:_e.firstChild?h.call(_e.childNodes):null,Ze,!lt&&Ve?Ve:At?At.__e:_e.firstChild,lt),Gt(Ze,Ae)}function Vn(Ae,_e){zn(Ae,_e,Vn)}function yr(Ae,_e,Ve){var lt,At,Ze,Pt=T({},Ae.props);for(Ze in _e)"key"==Ze?lt=_e[Ze]:"ref"==Ze?At=_e[Ze]:Pt[Ze]=_e[Ze];return arguments.length>2&&(Pt.children=arguments.length>3?h.call(arguments,2):Ve),ie(Ae.type,Pt,lt||Ae.key,At||Ae.ref,null)}function An(Ae,_e){var Ve={__c:_e="__cC"+xe++,__:Ae,Consumer:function(lt,At){return lt.children(At)},Provider:function(lt){var At,Ze;return this.getChildContext||(At=[],(Ze={})[_e]=this,this.getChildContext=function(){return Ze},this.shouldComponentUpdate=function(Pt){this.props.value!==Pt.value&&At.some(qe)},this.sub=function(Pt){At.push(Pt);var on=Pt.componentWillUnmount;Pt.componentWillUnmount=function(){At.splice(At.indexOf(Pt),1),on&&on.call(Pt)}}),lt.children}};return Ve.Provider.__=Ve.Consumer.contextType=Ve}h=X.slice,P={__e:function(Ae,_e,Ve,lt){for(var At,Ze,Pt;_e=_e.__;)if((At=_e.__c)&&!At.__)try{if((Ze=At.constructor)&&null!=Ze.getDerivedStateFromError&&(At.setState(Ze.getDerivedStateFromError(Ae)),Pt=At.__d),null!=At.componentDidCatch&&(At.componentDidCatch(Ae,lt||{}),Pt=At.__d),Pt)return At.__E=At}catch(on){Ae=on}throw Ae}},R=0,G=function(Ae){return null!=Ae&&void 0===Ae.constructor},oe.prototype.setState=function(Ae,_e){var Ve;Ve=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=T({},this.state),"function"==typeof Ae&&(Ae=Ae(T({},Ve),this.props)),Ae&&T(Ve,Ae),null!=Ae&&this.__v&&(_e&&this.__h.push(_e),qe(this))},oe.prototype.forceUpdate=function(Ae){this.__v&&(this.__e=!0,Ae&&this.__h.push(Ae),qe(this))},oe.prototype.render=ce,te=[],Ce="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ye.__r=0,xe=0},8306:(Nt,We,$)=>{"use strict";$.d(We,{y:()=>X});var h=$(2961),P=$(727),R=$(8822),G=$(4671);var be=$(2416),xe=$(576),De=$(2806);let X=(()=>{class U{constructor(me){me&&(this._subscribe=me)}lift(me){const ce=new U;return ce.source=this,ce.operator=me,ce}subscribe(me,ce,oe){const je=function F(U){return U&&U instanceof h.Lv||function T(U){return U&&(0,xe.m)(U.next)&&(0,xe.m)(U.error)&&(0,xe.m)(U.complete)}(U)&&(0,P.Nn)(U)}(me)?me:new h.Hp(me,ce,oe);return(0,De.x)(()=>{const{operator:Qe,source:qe}=this;je.add(Qe?Qe.call(je,qe):qe?this._subscribe(je):this._trySubscribe(je))}),je}_trySubscribe(me){try{return this._subscribe(me)}catch(ce){me.error(ce)}}forEach(me,ce){return new(ce=de(ce))((oe,je)=>{const Qe=new h.Hp({next:qe=>{try{me(qe)}catch(Ye){je(Ye),Qe.unsubscribe()}},error:je,complete:oe});this.subscribe(Qe)})}_subscribe(me){var ce;return null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(me)}[R.L](){return this}pipe(...me){return function Ce(U){return 0===U.length?G.y:1===U.length?U[0]:function(me){return U.reduce((ce,oe)=>oe(ce),me)}}(me)(this)}toPromise(me){return new(me=de(me))((ce,oe)=>{let je;this.subscribe(Qe=>je=Qe,Qe=>oe(Qe),()=>ce(je))})}}return U.create=ie=>new U(ie),U})();function de(U){var ie;return null!==(ie=null!=U?U:be.v.Promise)&&void 0!==ie?ie:Promise}},7579:(Nt,We,$)=>{"use strict";$.d(We,{x:()=>be});var h=$(8306),P=$(727);const G=(0,$(3888).d)(De=>function(){De(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var te=$(8737),Ce=$(2806);let be=(()=>{class De extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(de){const T=new xe(this,this);return T.operator=de,T}_throwIfClosed(){if(this.closed)throw new G}next(de){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const T of this.currentObservers)T.next(de)}})}error(de){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=de;const{observers:T}=this;for(;T.length;)T.shift().error(de)}})}complete(){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:de}=this;for(;de.length;)de.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var de;return(null===(de=this.observers)||void 0===de?void 0:de.length)>0}_trySubscribe(de){return this._throwIfClosed(),super._trySubscribe(de)}_subscribe(de){return this._throwIfClosed(),this._checkFinalizedStatuses(de),this._innerSubscribe(de)}_innerSubscribe(de){const{hasError:T,isStopped:F,observers:U}=this;return T||F?P.Lc:(this.currentObservers=null,U.push(de),new P.w0(()=>{this.currentObservers=null,(0,te.P)(U,de)}))}_checkFinalizedStatuses(de){const{hasError:T,thrownError:F,isStopped:U}=this;T?de.error(F):U&&de.complete()}asObservable(){const de=new h.y;return de.source=this,de}}return De.create=(X,de)=>new xe(X,de),De})();class xe extends be{constructor(X,de){super(),this.destination=X,this.source=de}next(X){var de,T;null===(T=null===(de=this.destination)||void 0===de?void 0:de.next)||void 0===T||T.call(de,X)}error(X){var de,T;null===(T=null===(de=this.destination)||void 0===de?void 0:de.error)||void 0===T||T.call(de,X)}complete(){var X,de;null===(de=null===(X=this.destination)||void 0===X?void 0:X.complete)||void 0===de||de.call(X)}_subscribe(X){var de,T;return null!==(T=null===(de=this.source)||void 0===de?void 0:de.subscribe(X))&&void 0!==T?T:P.Lc}}},2961:(Nt,We,$)=>{"use strict";$.d(We,{Hp:()=>me,Lv:()=>T});var h=$(576),P=$(727),R=$(2416),G=$(7849);function te(){}const Ce=De("C",void 0,void 0);function De(qe,Ye,$e){return{kind:qe,value:Ye,error:$e}}var X=$(3410),de=$(2806);class T extends P.w0{constructor(Ye){super(),this.isStopped=!1,Ye?(this.destination=Ye,(0,P.Nn)(Ye)&&Ye.add(this)):this.destination=Qe}static create(Ye,$e,mt){return new me(Ye,$e,mt)}next(Ye){this.isStopped?je(function xe(qe){return De("N",qe,void 0)}(Ye),this):this._next(Ye)}error(Ye){this.isStopped?je(function be(qe){return De("E",void 0,qe)}(Ye),this):(this.isStopped=!0,this._error(Ye))}complete(){this.isStopped?je(Ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ye){this.destination.next(Ye)}_error(Ye){try{this.destination.error(Ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const F=Function.prototype.bind;function U(qe,Ye){return F.call(qe,Ye)}class ie{constructor(Ye){this.partialObserver=Ye}next(Ye){const{partialObserver:$e}=this;if($e.next)try{$e.next(Ye)}catch(mt){ce(mt)}}error(Ye){const{partialObserver:$e}=this;if($e.error)try{$e.error(Ye)}catch(mt){ce(mt)}else ce(Ye)}complete(){const{partialObserver:Ye}=this;if(Ye.complete)try{Ye.complete()}catch($e){ce($e)}}}class me extends T{constructor(Ye,$e,mt){let Te;if(super(),(0,h.m)(Ye)||!Ye)Te={next:null!=Ye?Ye:void 0,error:null!=$e?$e:void 0,complete:null!=mt?mt:void 0};else{let Re;this&&R.v.useDeprecatedNextContext?(Re=Object.create(Ye),Re.unsubscribe=()=>this.unsubscribe(),Te={next:Ye.next&&U(Ye.next,Re),error:Ye.error&&U(Ye.error,Re),complete:Ye.complete&&U(Ye.complete,Re)}):Te=Ye}this.destination=new ie(Te)}}function ce(qe){R.v.useDeprecatedSynchronousErrorHandling?(0,de.O)(qe):(0,G.h)(qe)}function je(qe,Ye){const{onStoppedNotification:$e}=R.v;$e&&X.z.setTimeout(()=>$e(qe,Ye))}const Qe={closed:!0,next:te,error:function oe(qe){throw qe},complete:te}},727:(Nt,We,$)=>{"use strict";$.d(We,{Lc:()=>Ce,w0:()=>te,Nn:()=>be});var h=$(576);const R=(0,$(3888).d)(De=>function(de){De(this),this.message=de?`${de.length} errors occurred during unsubscription:\n${de.map((T,F)=>`${F+1}) ${T.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=de});var G=$(8737);class te{constructor(X){this.initialTeardown=X,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let X;if(!this.closed){this.closed=!0;const{_parentage:de}=this;if(de)if(this._parentage=null,Array.isArray(de))for(const U of de)U.remove(this);else de.remove(this);const{initialTeardown:T}=this;if((0,h.m)(T))try{T()}catch(U){X=U instanceof R?U.errors:[U]}const{_finalizers:F}=this;if(F){this._finalizers=null;for(const U of F)try{xe(U)}catch(ie){X=null!=X?X:[],ie instanceof R?X=[...X,...ie.errors]:X.push(ie)}}if(X)throw new R(X)}}add(X){var de;if(X&&X!==this)if(this.closed)xe(X);else{if(X instanceof te){if(X.closed||X._hasParent(this))return;X._addParent(this)}(this._finalizers=null!==(de=this._finalizers)&&void 0!==de?de:[]).push(X)}}_hasParent(X){const{_parentage:de}=this;return de===X||Array.isArray(de)&&de.includes(X)}_addParent(X){const{_parentage:de}=this;this._parentage=Array.isArray(de)?(de.push(X),de):de?[de,X]:X}_removeParent(X){const{_parentage:de}=this;de===X?this._parentage=null:Array.isArray(de)&&(0,G.P)(de,X)}remove(X){const{_finalizers:de}=this;de&&(0,G.P)(de,X),X instanceof te&&X._removeParent(this)}}te.EMPTY=(()=>{const De=new te;return De.closed=!0,De})();const Ce=te.EMPTY;function be(De){return De instanceof te||De&&"closed"in De&&(0,h.m)(De.remove)&&(0,h.m)(De.add)&&(0,h.m)(De.unsubscribe)}function xe(De){(0,h.m)(De)?De():De.unsubscribe()}},2416:(Nt,We,$)=>{"use strict";$.d(We,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Nt,We,$)=>{"use strict";$.d(We,{E:()=>P});const P=new($(8306).y)(te=>te.complete())},8996:(Nt,We,$)=>{"use strict";$.d(We,{D:()=>Ye});var h=$(8421),P=$(5363),R=$(9468),Ce=$(8306),xe=$(2202),De=$(576),X=$(9672);function T($e,mt){if(!$e)throw new Error("Iterable cannot be null");return new Ce.y(Te=>{(0,X.f)(Te,mt,()=>{const Re=$e[Symbol.asyncIterator]();(0,X.f)(Te,mt,()=>{Re.next().then(fe=>{fe.done?Te.complete():Te.next(fe.value)})},0,!0)})})}var F=$(3670),U=$(8239),ie=$(1144),me=$(6495),ce=$(2206),oe=$(4532),je=$(3260);function Ye($e,mt){return mt?function qe($e,mt){if(null!=$e){if((0,F.c)($e))return function G($e,mt){return(0,h.Xf)($e).pipe((0,R.R)(mt),(0,P.Q)(mt))}($e,mt);if((0,ie.z)($e))return function be($e,mt){return new Ce.y(Te=>{let Re=0;return mt.schedule(function(){Re===$e.length?Te.complete():(Te.next($e[Re++]),Te.closed||this.schedule())})})}($e,mt);if((0,U.t)($e))return function te($e,mt){return(0,h.Xf)($e).pipe((0,R.R)(mt),(0,P.Q)(mt))}($e,mt);if((0,ce.D)($e))return T($e,mt);if((0,me.T)($e))return function de($e,mt){return new Ce.y(Te=>{let Re;return(0,X.f)(Te,mt,()=>{Re=$e[xe.h](),(0,X.f)(Te,mt,()=>{let fe,Ie;try{({value:fe,done:Ie}=Re.next())}catch(Oe){return void Te.error(Oe)}Ie?Te.complete():Te.next(fe)},0,!0)}),()=>(0,De.m)(null==Re?void 0:Re.return)&&Re.return()})}($e,mt);if((0,je.L)($e))return function Qe($e,mt){return T((0,je.Q)($e),mt)}($e,mt)}throw(0,oe.z)($e)}($e,mt):(0,h.Xf)($e)}},8421:(Nt,We,$)=>{"use strict";$.d(We,{Xf:()=>F});var h=$(655),P=$(1144),R=$(8239),G=$(8306),te=$(3670),Ce=$(2206),be=$(4532),xe=$(6495),De=$(3260),X=$(576),de=$(7849),T=$(8822);function F(qe){if(qe instanceof G.y)return qe;if(null!=qe){if((0,te.c)(qe))return function U(qe){return new G.y(Ye=>{const $e=qe[T.L]();if((0,X.m)($e.subscribe))return $e.subscribe(Ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(qe);if((0,P.z)(qe))return function ie(qe){return new G.y(Ye=>{for(let $e=0;$e<qe.length&&!Ye.closed;$e++)Ye.next(qe[$e]);Ye.complete()})}(qe);if((0,R.t)(qe))return function me(qe){return new G.y(Ye=>{qe.then($e=>{Ye.closed||(Ye.next($e),Ye.complete())},$e=>Ye.error($e)).then(null,de.h)})}(qe);if((0,Ce.D)(qe))return oe(qe);if((0,xe.T)(qe))return function ce(qe){return new G.y(Ye=>{for(const $e of qe)if(Ye.next($e),Ye.closed)return;Ye.complete()})}(qe);if((0,De.L)(qe))return function je(qe){return oe((0,De.Q)(qe))}(qe)}throw(0,be.z)(qe)}function oe(qe){return new G.y(Ye=>{(function Qe(qe,Ye){var $e,mt,Te,Re;return(0,h.__awaiter)(this,void 0,void 0,function*(){try{for($e=(0,h.__asyncValues)(qe);!(mt=yield $e.next()).done;)if(Ye.next(mt.value),Ye.closed)return}catch(fe){Te={error:fe}}finally{try{mt&&!mt.done&&(Re=$e.return)&&(yield Re.call($e))}finally{if(Te)throw Te.error}}Ye.complete()})})(qe,Ye).catch($e=>Ye.error($e))})}},6451:(Nt,We,$)=>{"use strict";$.d(We,{T:()=>Ce});var h=$(8189),P=$(8421),R=$(515),G=$(7669),te=$(8996);function Ce(...be){const xe=(0,G.yG)(be),De=(0,G._6)(be,1/0),X=be;return X.length?1===X.length?(0,P.Xf)(X[0]):(0,h.J)(De)((0,te.D)(X,xe)):R.E}},5403:(Nt,We,$)=>{"use strict";$.d(We,{x:()=>P});var h=$(2961);function P(G,te,Ce,be,xe){return new R(G,te,Ce,be,xe)}class R extends h.Lv{constructor(te,Ce,be,xe,De,X){super(te),this.onFinalize=De,this.shouldUnsubscribe=X,this._next=Ce?function(de){try{Ce(de)}catch(T){te.error(T)}}:super._next,this._error=xe?function(de){try{xe(de)}catch(T){te.error(T)}finally{this.unsubscribe()}}:super._error,this._complete=be?function(){try{be()}catch(de){te.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var te;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ce}=this;super.unsubscribe(),!Ce&&(null===(te=this.onFinalize)||void 0===te||te.call(this))}}}},4004:(Nt,We,$)=>{"use strict";$.d(We,{U:()=>R});var h=$(4482),P=$(5403);function R(G,te){return(0,h.e)((Ce,be)=>{let xe=0;Ce.subscribe((0,P.x)(be,De=>{be.next(G.call(te,De,xe++))}))})}},8189:(Nt,We,$)=>{"use strict";$.d(We,{J:()=>R});var h=$(5577),P=$(4671);function R(G=1/0){return(0,h.z)(P.y,G)}},5577:(Nt,We,$)=>{"use strict";$.d(We,{z:()=>xe});var h=$(4004),P=$(8421),R=$(4482),G=$(9672),te=$(5403),be=$(576);function xe(De,X,de=1/0){return(0,be.m)(X)?xe((T,F)=>(0,h.U)((U,ie)=>X(T,U,F,ie))((0,P.Xf)(De(T,F))),de):("number"==typeof X&&(de=X),(0,R.e)((T,F)=>function Ce(De,X,de,T,F,U,ie,me){const ce=[];let oe=0,je=0,Qe=!1;const qe=()=>{Qe&&!ce.length&&!oe&&X.complete()},Ye=mt=>oe<T?$e(mt):ce.push(mt),$e=mt=>{U&&X.next(mt),oe++;let Te=!1;(0,P.Xf)(de(mt,je++)).subscribe((0,te.x)(X,Re=>{null==F||F(Re),U?Ye(Re):X.next(Re)},()=>{Te=!0},void 0,()=>{if(Te)try{for(oe--;ce.length&&oe<T;){const Re=ce.shift();ie?(0,G.f)(X,ie,()=>$e(Re)):$e(Re)}qe()}catch(Re){X.error(Re)}}))};return De.subscribe((0,te.x)(X,Ye,()=>{Qe=!0,qe()})),()=>{null==me||me()}}(T,F,De,de)))}},5363:(Nt,We,$)=>{"use strict";$.d(We,{Q:()=>G});var h=$(9672),P=$(4482),R=$(5403);function G(te,Ce=0){return(0,P.e)((be,xe)=>{be.subscribe((0,R.x)(xe,De=>(0,h.f)(xe,te,()=>xe.next(De),Ce),()=>(0,h.f)(xe,te,()=>xe.complete(),Ce),De=>(0,h.f)(xe,te,()=>xe.error(De),Ce)))})}},3099:(Nt,We,$)=>{"use strict";$.d(We,{B:()=>Ce});var h=$(8996),P=$(5698),R=$(7579),G=$(2961),te=$(4482);function Ce(xe={}){const{connector:De=(()=>new R.x),resetOnError:X=!0,resetOnComplete:de=!0,resetOnRefCountZero:T=!0}=xe;return F=>{let U=null,ie=null,me=null,ce=0,oe=!1,je=!1;const Qe=()=>{null==ie||ie.unsubscribe(),ie=null},qe=()=>{Qe(),U=me=null,oe=je=!1},Ye=()=>{const $e=U;qe(),null==$e||$e.unsubscribe()};return(0,te.e)(($e,mt)=>{ce++,!je&&!oe&&Qe();const Te=me=null!=me?me:De();mt.add(()=>{ce--,0===ce&&!je&&!oe&&(ie=be(Ye,T))}),Te.subscribe(mt),U||(U=new G.Hp({next:Re=>Te.next(Re),error:Re=>{je=!0,Qe(),ie=be(qe,X,Re),Te.error(Re)},complete:()=>{oe=!0,Qe(),ie=be(qe,de),Te.complete()}}),(0,h.D)($e).subscribe(U))})(F)}}function be(xe,De,...X){return!0===De?(xe(),null):!1===De?null:De(...X).pipe((0,P.q)(1)).subscribe(()=>xe())}},9468:(Nt,We,$)=>{"use strict";$.d(We,{R:()=>P});var h=$(4482);function P(R,G=0){return(0,h.e)((te,Ce)=>{Ce.add(R.schedule(()=>te.subscribe(Ce),G))})}},5698:(Nt,We,$)=>{"use strict";$.d(We,{q:()=>G});var h=$(515),P=$(4482),R=$(5403);function G(te){return te<=0?()=>h.E:(0,P.e)((Ce,be)=>{let xe=0;Ce.subscribe((0,R.x)(be,De=>{++xe<=te&&(be.next(De),te<=xe&&be.complete())}))})}},8505:(Nt,We,$)=>{"use strict";$.d(We,{b:()=>te});var h=$(576),P=$(4482),R=$(5403),G=$(4671);function te(Ce,be,xe){const De=(0,h.m)(Ce)||be||xe?{next:Ce,error:be,complete:xe}:Ce;return De?(0,P.e)((X,de)=>{var T;null===(T=De.subscribe)||void 0===T||T.call(De);let F=!0;X.subscribe((0,R.x)(de,U=>{var ie;null===(ie=De.next)||void 0===ie||ie.call(De,U),de.next(U)},()=>{var U;F=!1,null===(U=De.complete)||void 0===U||U.call(De),de.complete()},U=>{var ie;F=!1,null===(ie=De.error)||void 0===ie||ie.call(De,U),de.error(U)},()=>{var U,ie;F&&(null===(U=De.unsubscribe)||void 0===U||U.call(De)),null===(ie=De.finalize)||void 0===ie||ie.call(De)}))}):G.y}},4408:(Nt,We,$)=>{"use strict";$.d(We,{o:()=>te});var h=$(727);class P extends h.w0{constructor(be,xe){super()}schedule(be,xe=0){return this}}const R={setInterval(Ce,be,...xe){const{delegate:De}=R;return(null==De?void 0:De.setInterval)?De.setInterval(Ce,be,...xe):setInterval(Ce,be,...xe)},clearInterval(Ce){const{delegate:be}=R;return((null==be?void 0:be.clearInterval)||clearInterval)(Ce)},delegate:void 0};var G=$(8737);class te extends P{constructor(be,xe){super(be,xe),this.scheduler=be,this.work=xe,this.pending=!1}schedule(be,xe=0){if(this.closed)return this;this.state=be;const De=this.id,X=this.scheduler;return null!=De&&(this.id=this.recycleAsyncId(X,De,xe)),this.pending=!0,this.delay=xe,this.id=this.id||this.requestAsyncId(X,this.id,xe),this}requestAsyncId(be,xe,De=0){return R.setInterval(be.flush.bind(be,this),De)}recycleAsyncId(be,xe,De=0){if(null!=De&&this.delay===De&&!1===this.pending)return xe;R.clearInterval(xe)}execute(be,xe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const De=this._execute(be,xe);if(De)return De;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(be,xe){let X,De=!1;try{this.work(be)}catch(de){De=!0,X=de||new Error("Scheduled action threw falsy error")}if(De)return this.unsubscribe(),X}unsubscribe(){if(!this.closed){const{id:be,scheduler:xe}=this,{actions:De}=xe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,G.P)(De,this),null!=be&&(this.id=this.recycleAsyncId(xe,be,null)),this.delay=null,super.unsubscribe()}}}},7565:(Nt,We,$)=>{"use strict";$.d(We,{v:()=>R});var h=$(6063);class P{constructor(te,Ce=P.now){this.schedulerActionCtor=te,this.now=Ce}schedule(te,Ce=0,be){return new this.schedulerActionCtor(this,te).schedule(be,Ce)}}P.now=h.l.now;class R extends P{constructor(te,Ce=P.now){super(te,Ce),this.actions=[],this._active=!1,this._scheduled=void 0}flush(te){const{actions:Ce}=this;if(this._active)return void Ce.push(te);let be;this._active=!0;do{if(be=te.execute(te.state,te.delay))break}while(te=Ce.shift());if(this._active=!1,be){for(;te=Ce.shift();)te.unsubscribe();throw be}}}},4986:(Nt,We,$)=>{"use strict";$.d(We,{z:()=>R});var h=$(4408);const R=new($(7565).v)(h.o)},6063:(Nt,We,$)=>{"use strict";$.d(We,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(Nt,We,$)=>{"use strict";$.d(We,{z:()=>h});const h={setTimeout(P,R,...G){const{delegate:te}=h;return(null==te?void 0:te.setTimeout)?te.setTimeout(P,R,...G):setTimeout(P,R,...G)},clearTimeout(P){const{delegate:R}=h;return((null==R?void 0:R.clearTimeout)||clearTimeout)(P)},delegate:void 0}},2202:(Nt,We,$)=>{"use strict";$.d(We,{h:()=>P});const P=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Nt,We,$)=>{"use strict";$.d(We,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Nt,We,$)=>{"use strict";$.d(We,{_6:()=>Ce,jO:()=>G,yG:()=>te});var h=$(576);function R(be){return be[be.length-1]}function G(be){return(0,h.m)(R(be))?be.pop():void 0}function te(be){return function P(be){return be&&(0,h.m)(be.schedule)}(R(be))?be.pop():void 0}function Ce(be,xe){return"number"==typeof R(be)?be.pop():xe}},8737:(Nt,We,$)=>{"use strict";function h(P,R){if(P){const G=P.indexOf(R);0<=G&&P.splice(G,1)}}$.d(We,{P:()=>h})},3888:(Nt,We,$)=>{"use strict";function h(P){const G=P(te=>{Error.call(te),te.stack=(new Error).stack});return G.prototype=Object.create(Error.prototype),G.prototype.constructor=G,G}$.d(We,{d:()=>h})},2806:(Nt,We,$)=>{"use strict";$.d(We,{O:()=>G,x:()=>R});var h=$(2416);let P=null;function R(te){if(h.v.useDeprecatedSynchronousErrorHandling){const Ce=!P;if(Ce&&(P={errorThrown:!1,error:null}),te(),Ce){const{errorThrown:be,error:xe}=P;if(P=null,be)throw xe}}else te()}function G(te){h.v.useDeprecatedSynchronousErrorHandling&&P&&(P.errorThrown=!0,P.error=te)}},9672:(Nt,We,$)=>{"use strict";function h(P,R,G,te=0,Ce=!1){const be=R.schedule(function(){G(),Ce?P.add(this.schedule(null,te)):this.unsubscribe()},te);if(P.add(be),!Ce)return be}$.d(We,{f:()=>h})},4671:(Nt,We,$)=>{"use strict";function h(P){return P}$.d(We,{y:()=>h})},1144:(Nt,We,$)=>{"use strict";$.d(We,{z:()=>h});const h=P=>P&&"number"==typeof P.length&&"function"!=typeof P},2206:(Nt,We,$)=>{"use strict";$.d(We,{D:()=>P});var h=$(576);function P(R){return Symbol.asyncIterator&&(0,h.m)(null==R?void 0:R[Symbol.asyncIterator])}},576:(Nt,We,$)=>{"use strict";function h(P){return"function"==typeof P}$.d(We,{m:()=>h})},3670:(Nt,We,$)=>{"use strict";$.d(We,{c:()=>R});var h=$(8822),P=$(576);function R(G){return(0,P.m)(G[h.L])}},6495:(Nt,We,$)=>{"use strict";$.d(We,{T:()=>R});var h=$(2202),P=$(576);function R(G){return(0,P.m)(null==G?void 0:G[h.h])}},8239:(Nt,We,$)=>{"use strict";$.d(We,{t:()=>P});var h=$(576);function P(R){return(0,h.m)(null==R?void 0:R.then)}},3260:(Nt,We,$)=>{"use strict";$.d(We,{L:()=>G,Q:()=>R});var h=$(655),P=$(576);function R(te){return(0,h.__asyncGenerator)(this,arguments,function*(){const be=te.getReader();try{for(;;){const{value:xe,done:De}=yield(0,h.__await)(be.read());if(De)return yield(0,h.__await)(void 0);yield yield(0,h.__await)(xe)}}finally{be.releaseLock()}})}function G(te){return(0,P.m)(null==te?void 0:te.getReader)}},4482:(Nt,We,$)=>{"use strict";$.d(We,{A:()=>P,e:()=>R});var h=$(576);function P(G){return(0,h.m)(null==G?void 0:G.lift)}function R(G){return te=>{if(P(te))return te.lift(function(Ce){try{return G(Ce,this)}catch(be){this.error(be)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(Nt,We,$)=>{"use strict";$.d(We,{h:()=>R});var h=$(2416),P=$(3410);function R(G){P.z.setTimeout(()=>{const{onUnhandledError:te}=h.v;if(!te)throw G;te(G)})}},4532:(Nt,We,$)=>{"use strict";function h(P){return new TypeError(`You provided ${null!==P&&"object"==typeof P?"an invalid object":`'${P}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}$.d(We,{z:()=>h})},655:(Nt,We,$)=>{"use strict";$.r(We),$.d(We,{__assign:()=>R,__asyncDelegator:()=>je,__asyncGenerator:()=>oe,__asyncValues:()=>Qe,__await:()=>ce,__awaiter:()=>xe,__classPrivateFieldGet:()=>Te,__classPrivateFieldSet:()=>Re,__createBinding:()=>X,__decorate:()=>te,__exportStar:()=>de,__extends:()=>P,__generator:()=>De,__importDefault:()=>mt,__importStar:()=>$e,__makeTemplateObject:()=>qe,__metadata:()=>be,__param:()=>Ce,__read:()=>F,__rest:()=>G,__spread:()=>U,__spreadArray:()=>me,__spreadArrays:()=>ie,__values:()=>T});var h=function(fe,Ie){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Oe,Be){Oe.__proto__=Be}||function(Oe,Be){for(var Xe in Be)Object.prototype.hasOwnProperty.call(Be,Xe)&&(Oe[Xe]=Be[Xe])})(fe,Ie)};function P(fe,Ie){if("function"!=typeof Ie&&null!==Ie)throw new TypeError("Class extends value "+String(Ie)+" is not a constructor or null");function Oe(){this.constructor=fe}h(fe,Ie),fe.prototype=null===Ie?Object.create(Ie):(Oe.prototype=Ie.prototype,new Oe)}var R=function(){return R=Object.assign||function(Ie){for(var Oe,Be=1,Xe=arguments.length;Be<Xe;Be++)for(var ke in Oe=arguments[Be])Object.prototype.hasOwnProperty.call(Oe,ke)&&(Ie[ke]=Oe[ke]);return Ie},R.apply(this,arguments)};function G(fe,Ie){var Oe={};for(var Be in fe)Object.prototype.hasOwnProperty.call(fe,Be)&&Ie.indexOf(Be)<0&&(Oe[Be]=fe[Be]);if(null!=fe&&"function"==typeof Object.getOwnPropertySymbols){var Xe=0;for(Be=Object.getOwnPropertySymbols(fe);Xe<Be.length;Xe++)Ie.indexOf(Be[Xe])<0&&Object.prototype.propertyIsEnumerable.call(fe,Be[Xe])&&(Oe[Be[Xe]]=fe[Be[Xe]])}return Oe}function te(fe,Ie,Oe,Be){var Gt,Xe=arguments.length,ke=Xe<3?Ie:null===Be?Be=Object.getOwnPropertyDescriptor(Ie,Oe):Be;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ke=Reflect.decorate(fe,Ie,Oe,Be);else for(var Qt=fe.length-1;Qt>=0;Qt--)(Gt=fe[Qt])&&(ke=(Xe<3?Gt(ke):Xe>3?Gt(Ie,Oe,ke):Gt(Ie,Oe))||ke);return Xe>3&&ke&&Object.defineProperty(Ie,Oe,ke),ke}function Ce(fe,Ie){return function(Oe,Be){Ie(Oe,Be,fe)}}function be(fe,Ie){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(fe,Ie)}function xe(fe,Ie,Oe,Be){return new(Oe||(Oe=Promise))(function(ke,Gt){function Qt(Ht){try{It(Be.next(Ht))}catch(zn){Gt(zn)}}function Qn(Ht){try{It(Be.throw(Ht))}catch(zn){Gt(zn)}}function It(Ht){Ht.done?ke(Ht.value):function Xe(ke){return ke instanceof Oe?ke:new Oe(function(Gt){Gt(ke)})}(Ht.value).then(Qt,Qn)}It((Be=Be.apply(fe,Ie||[])).next())})}function De(fe,Ie){var Be,Xe,ke,Gt,Oe={label:0,sent:function(){if(1&ke[0])throw ke[1];return ke[1]},trys:[],ops:[]};return Gt={next:Qt(0),throw:Qt(1),return:Qt(2)},"function"==typeof Symbol&&(Gt[Symbol.iterator]=function(){return this}),Gt;function Qt(It){return function(Ht){return function Qn(It){if(Be)throw new TypeError("Generator is already executing.");for(;Oe;)try{if(Be=1,Xe&&(ke=2&It[0]?Xe.return:It[0]?Xe.throw||((ke=Xe.return)&&ke.call(Xe),0):Xe.next)&&!(ke=ke.call(Xe,It[1])).done)return ke;switch(Xe=0,ke&&(It=[2&It[0],ke.value]),It[0]){case 0:case 1:ke=It;break;case 4:return Oe.label++,{value:It[1],done:!1};case 5:Oe.label++,Xe=It[1],It=[0];continue;case 7:It=Oe.ops.pop(),Oe.trys.pop();continue;default:if(!(ke=(ke=Oe.trys).length>0&&ke[ke.length-1])&&(6===It[0]||2===It[0])){Oe=0;continue}if(3===It[0]&&(!ke||It[1]>ke[0]&&It[1]<ke[3])){Oe.label=It[1];break}if(6===It[0]&&Oe.label<ke[1]){Oe.label=ke[1],ke=It;break}if(ke&&Oe.label<ke[2]){Oe.label=ke[2],Oe.ops.push(It);break}ke[2]&&Oe.ops.pop(),Oe.trys.pop();continue}It=Ie.call(fe,Oe)}catch(Ht){It=[6,Ht],Xe=0}finally{Be=ke=0}if(5&It[0])throw It[1];return{value:It[0]?It[1]:void 0,done:!0}}([It,Ht])}}}var X=Object.create?function(fe,Ie,Oe,Be){void 0===Be&&(Be=Oe),Object.defineProperty(fe,Be,{enumerable:!0,get:function(){return Ie[Oe]}})}:function(fe,Ie,Oe,Be){void 0===Be&&(Be=Oe),fe[Be]=Ie[Oe]};function de(fe,Ie){for(var Oe in fe)"default"!==Oe&&!Object.prototype.hasOwnProperty.call(Ie,Oe)&&X(Ie,fe,Oe)}function T(fe){var Ie="function"==typeof Symbol&&Symbol.iterator,Oe=Ie&&fe[Ie],Be=0;if(Oe)return Oe.call(fe);if(fe&&"number"==typeof fe.length)return{next:function(){return fe&&Be>=fe.length&&(fe=void 0),{value:fe&&fe[Be++],done:!fe}}};throw new TypeError(Ie?"Object is not iterable.":"Symbol.iterator is not defined.")}function F(fe,Ie){var Oe="function"==typeof Symbol&&fe[Symbol.iterator];if(!Oe)return fe;var Xe,Gt,Be=Oe.call(fe),ke=[];try{for(;(void 0===Ie||Ie-- >0)&&!(Xe=Be.next()).done;)ke.push(Xe.value)}catch(Qt){Gt={error:Qt}}finally{try{Xe&&!Xe.done&&(Oe=Be.return)&&Oe.call(Be)}finally{if(Gt)throw Gt.error}}return ke}function U(){for(var fe=[],Ie=0;Ie<arguments.length;Ie++)fe=fe.concat(F(arguments[Ie]));return fe}function ie(){for(var fe=0,Ie=0,Oe=arguments.length;Ie<Oe;Ie++)fe+=arguments[Ie].length;var Be=Array(fe),Xe=0;for(Ie=0;Ie<Oe;Ie++)for(var ke=arguments[Ie],Gt=0,Qt=ke.length;Gt<Qt;Gt++,Xe++)Be[Xe]=ke[Gt];return Be}function me(fe,Ie,Oe){if(Oe||2===arguments.length)for(var ke,Be=0,Xe=Ie.length;Be<Xe;Be++)(ke||!(Be in Ie))&&(ke||(ke=Array.prototype.slice.call(Ie,0,Be)),ke[Be]=Ie[Be]);return fe.concat(ke||Array.prototype.slice.call(Ie))}function ce(fe){return this instanceof ce?(this.v=fe,this):new ce(fe)}function oe(fe,Ie,Oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Xe,Be=Oe.apply(fe,Ie||[]),ke=[];return Xe={},Gt("next"),Gt("throw"),Gt("return"),Xe[Symbol.asyncIterator]=function(){return this},Xe;function Gt(Vn){Be[Vn]&&(Xe[Vn]=function(yr){return new Promise(function(An,Ae){ke.push([Vn,yr,An,Ae])>1||Qt(Vn,yr)})})}function Qt(Vn,yr){try{!function Qn(Vn){Vn.value instanceof ce?Promise.resolve(Vn.value.v).then(It,Ht):zn(ke[0][2],Vn)}(Be[Vn](yr))}catch(An){zn(ke[0][3],An)}}function It(Vn){Qt("next",Vn)}function Ht(Vn){Qt("throw",Vn)}function zn(Vn,yr){Vn(yr),ke.shift(),ke.length&&Qt(ke[0][0],ke[0][1])}}function je(fe){var Ie,Oe;return Ie={},Be("next"),Be("throw",function(Xe){throw Xe}),Be("return"),Ie[Symbol.iterator]=function(){return this},Ie;function Be(Xe,ke){Ie[Xe]=fe[Xe]?function(Gt){return(Oe=!Oe)?{value:ce(fe[Xe](Gt)),done:"return"===Xe}:ke?ke(Gt):Gt}:ke}}function Qe(fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,Ie=fe[Symbol.asyncIterator];return Ie?Ie.call(fe):(fe=T(fe),Oe={},Be("next"),Be("throw"),Be("return"),Oe[Symbol.asyncIterator]=function(){return this},Oe);function Be(ke){Oe[ke]=fe[ke]&&function(Gt){return new Promise(function(Qt,Qn){!function Xe(ke,Gt,Qt,Qn){Promise.resolve(Qn).then(function(It){ke({value:It,done:Qt})},Gt)}(Qt,Qn,(Gt=fe[ke](Gt)).done,Gt.value)})}}}function qe(fe,Ie){return Object.defineProperty?Object.defineProperty(fe,"raw",{value:Ie}):fe.raw=Ie,fe}var Ye=Object.create?function(fe,Ie){Object.defineProperty(fe,"default",{enumerable:!0,value:Ie})}:function(fe,Ie){fe.default=Ie};function $e(fe){if(fe&&fe.__esModule)return fe;var Ie={};if(null!=fe)for(var Oe in fe)"default"!==Oe&&Object.prototype.hasOwnProperty.call(fe,Oe)&&X(Ie,fe,Oe);return Ye(Ie,fe),Ie}function mt(fe){return fe&&fe.__esModule?fe:{default:fe}}function Te(fe,Ie,Oe,Be){if("a"===Oe&&!Be)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof Ie?fe!==Ie||!Be:!Ie.has(fe))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===Oe?Be:"a"===Oe?Be.call(fe):Be?Be.value:Ie.get(fe)}function Re(fe,Ie,Oe,Be,Xe){if("m"===Be)throw new TypeError("Private method is not writable");if("a"===Be&&!Xe)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof Ie?fe!==Ie||!Xe:!Ie.has(fe))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===Be?Xe.call(fe,Oe):Xe?Xe.value=Oe:Ie.set(fe,Oe),Oe}},4602:Nt=>{"use strict";Nt.exports='\n/* classes attached to <body> */\n/* TODO: make fc-event selector work when calender in shadow DOM */\n.fc-not-allowed,\n.fc-not-allowed .fc-event { /* override events\' custom cursors */\n  cursor: not-allowed;\n}\n/* TODO: not attached to body. attached to specific els. move */\n.fc-unselectable {\n  -webkit-user-select: none;\n          user-select: none;\n  -webkit-touch-callout: none;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.fc {\n  /* layout of immediate children */\n  display: flex;\n  flex-direction: column;\n\n  font-size: 1em\n}\n.fc,\n  .fc *,\n  .fc *:before,\n  .fc *:after {\n    box-sizing: border-box;\n  }\n.fc table {\n    border-collapse: collapse;\n    border-spacing: 0;\n    font-size: 1em; /* normalize cross-browser */\n  }\n.fc th {\n    text-align: center;\n  }\n.fc th,\n  .fc td {\n    vertical-align: top;\n    padding: 0;\n  }\n.fc a[data-navlink] {\n    cursor: pointer;\n  }\n.fc a[data-navlink]:hover {\n    text-decoration: underline;\n  }\n.fc-direction-ltr {\n  direction: ltr;\n  text-align: left;\n}\n.fc-direction-rtl {\n  direction: rtl;\n  text-align: right;\n}\n.fc-theme-standard td,\n  .fc-theme-standard th {\n    border: 1px solid #ddd;\n    border: 1px solid var(--fc-border-color, #ddd);\n  }\n/* for FF, which doesn\'t expand a 100% div within a table cell. use absolute positioning */\n/* inner-wrappers are responsible for being absolute */\n/* TODO: best place for this? */\n.fc-liquid-hack td,\n  .fc-liquid-hack th {\n    position: relative;\n  }\n@font-face {\n  font-family: \'fcicons\';\n  src: url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format(\'truetype\');\n  font-weight: normal;\n  font-style: normal;\n}\n.fc-icon {\n  /* added for fc */\n  display: inline-block;\n  width: 1em;\n  height: 1em;\n  text-align: center;\n  -webkit-user-select: none;\n          user-select: none;\n\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: \'fcicons\' !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-feature-settings: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.fc-icon-chevron-left:before {\n  content: "\\e900";\n}\n.fc-icon-chevron-right:before {\n  content: "\\e901";\n}\n.fc-icon-chevrons-left:before {\n  content: "\\e902";\n}\n.fc-icon-chevrons-right:before {\n  content: "\\e903";\n}\n.fc-icon-minus-square:before {\n  content: "\\e904";\n}\n.fc-icon-plus-square:before {\n  content: "\\e905";\n}\n.fc-icon-x:before {\n  content: "\\e906";\n}\n/*\nLots taken from Flatly (MIT): https://bootswatch.com/4/flatly/bootstrap.css\n\nThese styles only apply when the standard-theme is activated.\nWhen it\'s NOT activated, the fc-button classes won\'t even be in the DOM.\n*/\n.fc {\n\n  /* reset */\n\n}\n.fc .fc-button {\n    border-radius: 0;\n    overflow: visible;\n    text-transform: none;\n    margin: 0;\n    font-family: inherit;\n    font-size: inherit;\n    line-height: inherit;\n  }\n.fc .fc-button:focus {\n    outline: 1px dotted;\n    outline: 5px auto -webkit-focus-ring-color;\n  }\n.fc .fc-button {\n    -webkit-appearance: button;\n  }\n.fc .fc-button:not(:disabled) {\n    cursor: pointer;\n  }\n.fc .fc-button::-moz-focus-inner {\n    padding: 0;\n    border-style: none;\n  }\n.fc {\n\n  /* theme */\n\n}\n.fc .fc-button {\n    display: inline-block;\n    font-weight: 400;\n    text-align: center;\n    vertical-align: middle;\n    -webkit-user-select: none;\n            user-select: none;\n    background-color: transparent;\n    border: 1px solid transparent;\n    padding: 0.4em 0.65em;\n    font-size: 1em;\n    line-height: 1.5;\n    border-radius: 0.25em;\n  }\n.fc .fc-button:hover {\n    text-decoration: none;\n  }\n.fc .fc-button:focus {\n    outline: 0;\n    box-shadow: 0 0 0 0.2rem rgba(44, 62, 80, 0.25);\n  }\n.fc .fc-button:disabled {\n    opacity: 0.65;\n  }\n.fc {\n\n  /* "primary" coloring */\n\n}\n.fc .fc-button-primary {\n    color: #fff;\n    color: var(--fc-button-text-color, #fff);\n    background-color: #2C3E50;\n    background-color: var(--fc-button-bg-color, #2C3E50);\n    border-color: #2C3E50;\n    border-color: var(--fc-button-border-color, #2C3E50);\n  }\n.fc .fc-button-primary:hover {\n    color: #fff;\n    color: var(--fc-button-text-color, #fff);\n    background-color: #1e2b37;\n    background-color: var(--fc-button-hover-bg-color, #1e2b37);\n    border-color: #1a252f;\n    border-color: var(--fc-button-hover-border-color, #1a252f);\n  }\n.fc .fc-button-primary:disabled { /* not DRY */\n    color: #fff;\n    color: var(--fc-button-text-color, #fff);\n    background-color: #2C3E50;\n    background-color: var(--fc-button-bg-color, #2C3E50);\n    border-color: #2C3E50;\n    border-color: var(--fc-button-border-color, #2C3E50); /* overrides :hover */\n  }\n.fc .fc-button-primary:focus {\n    box-shadow: 0 0 0 0.2rem rgba(76, 91, 106, 0.5);\n  }\n.fc .fc-button-primary:not(:disabled):active,\n  .fc .fc-button-primary:not(:disabled).fc-button-active {\n    color: #fff;\n    color: var(--fc-button-text-color, #fff);\n    background-color: #1a252f;\n    background-color: var(--fc-button-active-bg-color, #1a252f);\n    border-color: #151e27;\n    border-color: var(--fc-button-active-border-color, #151e27);\n  }\n.fc .fc-button-primary:not(:disabled):active:focus,\n  .fc .fc-button-primary:not(:disabled).fc-button-active:focus {\n    box-shadow: 0 0 0 0.2rem rgba(76, 91, 106, 0.5);\n  }\n.fc {\n\n  /* icons within buttons */\n\n}\n.fc .fc-button .fc-icon {\n    vertical-align: middle;\n    font-size: 1.5em; /* bump up the size (but don\'t make it bigger than line-height of button, which is 1.5em also) */\n  }\n.fc .fc-button-group {\n    position: relative;\n    display: inline-flex;\n    vertical-align: middle;\n  }\n.fc .fc-button-group > .fc-button {\n    position: relative;\n    flex: 1 1 auto;\n  }\n.fc .fc-button-group > .fc-button:hover {\n    z-index: 1;\n  }\n.fc .fc-button-group > .fc-button:focus,\n  .fc .fc-button-group > .fc-button:active,\n  .fc .fc-button-group > .fc-button.fc-button-active {\n    z-index: 1;\n  }\n.fc-direction-ltr .fc-button-group > .fc-button:not(:first-child) {\n    margin-left: -1px;\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n.fc-direction-ltr .fc-button-group > .fc-button:not(:last-child) {\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n.fc-direction-rtl .fc-button-group > .fc-button:not(:first-child) {\n    margin-right: -1px;\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n.fc-direction-rtl .fc-button-group > .fc-button:not(:last-child) {\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n.fc .fc-toolbar {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n.fc .fc-toolbar.fc-header-toolbar {\n    margin-bottom: 1.5em;\n  }\n.fc .fc-toolbar.fc-footer-toolbar {\n    margin-top: 1.5em;\n  }\n.fc .fc-toolbar-title {\n    font-size: 1.75em;\n    margin: 0;\n  }\n.fc-direction-ltr .fc-toolbar > * > :not(:first-child) {\n    margin-left: .75em; /* space between */\n  }\n.fc-direction-rtl .fc-toolbar > * > :not(:first-child) {\n    margin-right: .75em; /* space between */\n  }\n.fc-direction-rtl .fc-toolbar-ltr { /* when the toolbar-chunk positioning system is explicitly left-to-right */\n    flex-direction: row-reverse;\n  }\n.fc .fc-scroller {\n    -webkit-overflow-scrolling: touch;\n    position: relative; /* for abs-positioned elements within */\n  }\n.fc .fc-scroller-liquid {\n    height: 100%;\n  }\n.fc .fc-scroller-liquid-absolute {\n    position: absolute;\n    top: 0;\n    right: 0;\n    left: 0;\n    bottom: 0;\n  }\n.fc .fc-scroller-harness {\n    position: relative;\n    overflow: hidden;\n    direction: ltr;\n      /* hack for chrome computing the scroller\'s right/left wrong for rtl. undone below... */\n      /* TODO: demonstrate in codepen */\n  }\n.fc .fc-scroller-harness-liquid {\n    height: 100%;\n  }\n.fc-direction-rtl .fc-scroller-harness > .fc-scroller { /* undo above hack */\n    direction: rtl;\n  }\n.fc-theme-standard .fc-scrollgrid {\n    border: 1px solid #ddd;\n    border: 1px solid var(--fc-border-color, #ddd); /* bootstrap does this. match */\n  }\n.fc .fc-scrollgrid,\n    .fc .fc-scrollgrid table { /* all tables (self included) */\n      width: 100%; /* because tables don\'t normally do this */\n      table-layout: fixed;\n    }\n.fc .fc-scrollgrid table { /* inner tables */\n      border-top-style: hidden;\n      border-left-style: hidden;\n      border-right-style: hidden;\n    }\n.fc .fc-scrollgrid {\n\n    border-collapse: separate;\n    border-right-width: 0;\n    border-bottom-width: 0;\n\n  }\n.fc .fc-scrollgrid-liquid {\n    height: 100%;\n  }\n.fc .fc-scrollgrid-section { /* a <tr> */\n    height: 1px /* better than 0, for firefox */\n\n  }\n.fc .fc-scrollgrid-section > td {\n      height: 1px; /* needs a height so inner div within grow. better than 0, for firefox */\n    }\n.fc .fc-scrollgrid-section table {\n      height: 1px;\n        /* for most browsers, if a height isn\'t set on the table, can\'t do liquid-height within cells */\n        /* serves as a min-height. harmless */\n    }\n.fc .fc-scrollgrid-section-liquid > td {\n      height: 100%; /* better than `auto`, for firefox */\n    }\n.fc .fc-scrollgrid-section > * {\n    border-top-width: 0;\n    border-left-width: 0;\n  }\n.fc .fc-scrollgrid-section-header > *,\n  .fc .fc-scrollgrid-section-footer > * {\n    border-bottom-width: 0;\n  }\n.fc .fc-scrollgrid-section-body table,\n  .fc .fc-scrollgrid-section-footer table {\n    border-bottom-style: hidden; /* head keeps its bottom border tho */\n  }\n.fc {\n\n  /* stickiness */\n\n}\n.fc .fc-scrollgrid-section-sticky > * {\n    background: #fff;\n    background: var(--fc-page-bg-color, #fff);\n    position: sticky;\n    z-index: 3; /* TODO: var */\n    /* TODO: box-shadow when sticking */\n  }\n.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky > * {\n    top: 0; /* because border-sharing causes a gap at the top */\n      /* TODO: give safari -1. has bug */\n  }\n.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky > * {\n    bottom: 0; /* known bug: bottom-stickiness doesn\'t work in safari */\n  }\n.fc .fc-scrollgrid-sticky-shim { /* for horizontal scrollbar */\n    height: 1px; /* needs height to create scrollbars */\n    margin-bottom: -1px;\n  }\n.fc-sticky { /* no .fc wrap because used as child of body */\n  position: sticky;\n}\n.fc .fc-view-harness {\n    flex-grow: 1; /* because this harness is WITHIN the .fc\'s flexbox */\n    position: relative;\n  }\n.fc {\n\n  /* when the harness controls the height, make the view liquid */\n\n}\n.fc .fc-view-harness-active > .fc-view {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n  }\n.fc .fc-col-header-cell-cushion {\n    display: inline-block; /* x-browser for when sticky (when multi-tier header) */\n    padding: 2px 4px;\n  }\n.fc .fc-bg-event,\n  .fc .fc-non-business,\n  .fc .fc-highlight {\n    /* will always have a harness with position:relative/absolute, so absolutely expand */\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n.fc .fc-non-business {\n    background: rgba(215, 215, 215, 0.3);\n    background: var(--fc-non-business-color, rgba(215, 215, 215, 0.3));\n  }\n.fc .fc-bg-event {\n    background: rgb(143, 223, 130);\n    background: var(--fc-bg-event-color, rgb(143, 223, 130));\n    opacity: 0.3;\n    opacity: var(--fc-bg-event-opacity, 0.3)\n  }\n.fc .fc-bg-event .fc-event-title {\n      margin: .5em;\n      font-size: .85em;\n      font-size: var(--fc-small-font-size, .85em);\n      font-style: italic;\n    }\n.fc .fc-highlight {\n    background: rgba(188, 232, 241, 0.3);\n    background: var(--fc-highlight-color, rgba(188, 232, 241, 0.3));\n  }\n.fc .fc-cell-shaded,\n  .fc .fc-day-disabled {\n    background: rgba(208, 208, 208, 0.3);\n    background: var(--fc-neutral-bg-color, rgba(208, 208, 208, 0.3));\n  }\n/* link resets */\n/* ---------------------------------------------------------------------------------------------------- */\na.fc-event,\na.fc-event:hover {\n  text-decoration: none;\n}\n/* cursor */\n.fc-event[href],\n.fc-event.fc-event-draggable {\n  cursor: pointer;\n}\n/* event text content */\n/* ---------------------------------------------------------------------------------------------------- */\n.fc-event .fc-event-main {\n    position: relative;\n    z-index: 2;\n  }\n/* dragging */\n/* ---------------------------------------------------------------------------------------------------- */\n.fc-event-dragging:not(.fc-event-selected) { /* MOUSE */\n    opacity: 0.75;\n  }\n.fc-event-dragging.fc-event-selected { /* TOUCH */\n    box-shadow: 0 2px 7px rgba(0, 0, 0, 0.3);\n  }\n/* resizing */\n/* ---------------------------------------------------------------------------------------------------- */\n/* (subclasses should hone positioning for touch and non-touch) */\n.fc-event .fc-event-resizer {\n    display: none;\n    position: absolute;\n    z-index: 4;\n  }\n.fc-event:hover, /* MOUSE */\n.fc-event-selected { /* TOUCH */\n\n}\n.fc-event:hover .fc-event-resizer, .fc-event-selected .fc-event-resizer {\n    display: block;\n  }\n.fc-event-selected .fc-event-resizer {\n    border-radius: 4px;\n    border-radius: calc(var(--fc-event-resizer-dot-total-width, 8px) / 2);\n    border-width: 1px;\n    border-width: var(--fc-event-resizer-dot-border-width, 1px);\n    width: 8px;\n    width: var(--fc-event-resizer-dot-total-width, 8px);\n    height: 8px;\n    height: var(--fc-event-resizer-dot-total-width, 8px);\n    border-style: solid;\n    border-color: inherit;\n    background: #fff;\n    background: var(--fc-page-bg-color, #fff)\n\n    /* expand hit area */\n\n  }\n.fc-event-selected .fc-event-resizer:before {\n      content: \'\';\n      position: absolute;\n      top: -20px;\n      left: -20px;\n      right: -20px;\n      bottom: -20px;\n    }\n/* selecting (always TOUCH) */\n/* OR, focused by tab-index */\n/* (TODO: maybe not the best focus-styling for .fc-daygrid-dot-event) */\n/* ---------------------------------------------------------------------------------------------------- */\n.fc-event-selected,\n.fc-event:focus {\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2)\n\n  /* expand hit area (subclasses should expand) */\n\n}\n.fc-event-selected:before, .fc-event:focus:before {\n    content: "";\n    position: absolute;\n    z-index: 3;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n.fc-event-selected,\n.fc-event:focus {\n\n  /* dimmer effect */\n\n}\n.fc-event-selected:after, .fc-event:focus:after {\n    content: "";\n    background: rgba(0, 0, 0, 0.25);\n    background: var(--fc-event-selected-overlay-color, rgba(0, 0, 0, 0.25));\n    position: absolute;\n    z-index: 1;\n\n    /* assume there\'s a border on all sides. overcome it. */\n    /* sometimes there\'s NOT a border, in which case the dimmer will go over */\n    /* an adjacent border, which looks fine. */\n    top: -1px;\n    left: -1px;\n    right: -1px;\n    bottom: -1px;\n  }\n/*\nA HORIZONTAL event\n*/\n.fc-h-event { /* allowed to be top-level */\n  display: block;\n  border: 1px solid #3788d8;\n  border: 1px solid var(--fc-event-border-color, #3788d8);\n  background-color: #3788d8;\n  background-color: var(--fc-event-bg-color, #3788d8)\n\n}\n.fc-h-event .fc-event-main {\n    color: #fff;\n    color: var(--fc-event-text-color, #fff);\n  }\n.fc-h-event .fc-event-main-frame {\n    display: flex; /* for make fc-event-title-container expand */\n  }\n.fc-h-event .fc-event-time {\n    max-width: 100%; /* clip overflow on this element */\n    overflow: hidden;\n  }\n.fc-h-event .fc-event-title-container { /* serves as a container for the sticky cushion */\n    flex-grow: 1;\n    flex-shrink: 1;\n    min-width: 0; /* important for allowing to shrink all the way */\n  }\n.fc-h-event .fc-event-title {\n    display: inline-block; /* need this to be sticky cross-browser */\n    vertical-align: top; /* for not messing up line-height */\n    left: 0;  /* for sticky */\n    right: 0; /* for sticky */\n    max-width: 100%; /* clip overflow on this element */\n    overflow: hidden;\n  }\n.fc-h-event.fc-event-selected:before {\n    /* expand hit area */\n    top: -10px;\n    bottom: -10px;\n  }\n/* adjust border and border-radius (if there is any) for non-start/end */\n.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),\n.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end) {\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  border-left-width: 0;\n}\n.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),\n.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start) {\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  border-right-width: 0;\n}\n/* resizers */\n.fc-h-event:not(.fc-event-selected) .fc-event-resizer {\n  top: 0;\n  bottom: 0;\n  width: 8px;\n  width: var(--fc-event-resizer-thickness, 8px);\n}\n.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,\n.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end {\n  cursor: w-resize;\n  left: -4px;\n  left: calc(-0.5 * var(--fc-event-resizer-thickness, 8px));\n}\n.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,\n.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start {\n  cursor: e-resize;\n  right: -4px;\n  right: calc(-0.5 * var(--fc-event-resizer-thickness, 8px));\n}\n/* resizers for TOUCH */\n.fc-h-event.fc-event-selected .fc-event-resizer {\n  top: 50%;\n  margin-top: -4px;\n  margin-top: calc(-0.5 * var(--fc-event-resizer-dot-total-width, 8px));\n}\n.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,\n.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end {\n  left: -4px;\n  left: calc(-0.5 * var(--fc-event-resizer-dot-total-width, 8px));\n}\n.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,\n.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start {\n  right: -4px;\n  right: calc(-0.5 * var(--fc-event-resizer-dot-total-width, 8px));\n}\n.fc .fc-popover {\n    position: absolute;\n    z-index: 9999;\n    box-shadow: 0 2px 6px rgba(0,0,0,.15);\n  }\n.fc .fc-popover-header {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    padding: 3px 4px;\n  }\n.fc .fc-popover-title {\n    margin: 0 2px;\n  }\n.fc .fc-popover-close {\n    cursor: pointer;\n    opacity: 0.65;\n    font-size: 1.1em;\n  }\n.fc-theme-standard .fc-popover {\n    border: 1px solid #ddd;\n    border: 1px solid var(--fc-border-color, #ddd);\n    background: #fff;\n    background: var(--fc-page-bg-color, #fff);\n  }\n.fc-theme-standard .fc-popover-header {\n    background: rgba(208, 208, 208, 0.3);\n    background: var(--fc-neutral-bg-color, rgba(208, 208, 208, 0.3));\n  }\n'},5e3:(Nt,We,$)=>{"use strict";$.d(We,{$8M:()=>Uo,$Z:()=>Vb,AFp:()=>qu,ALo:()=>W_,AaK:()=>xe,BQk:()=>sp,CHM:()=>ks,CRH:()=>Qm,CZH:()=>dd,CqO:()=>Ub,EJc:()=>dv,EiD:()=>Uc,EpF:()=>op,F4k:()=>Bb,FYo:()=>QT,FiY:()=>$s,G48:()=>BS,Gf:()=>yw,GfV:()=>vp,Gpc:()=>de,JOm:()=>z,JVY:()=>Lc,L6k:()=>Vl,LAX:()=>Vc,LFG:()=>si,LSH:()=>ef,Lbi:()=>d0,NdJ:()=>v_,O4$:()=>lh,OlP:()=>Dr,PXZ:()=>Rw,Q6J:()=>Xc,QGY:()=>Af,Qsj:()=>jm,R0b:()=>Qo,RDi:()=>Ki,Rgc:()=>ad,SBq:()=>Hm,Sil:()=>fv,Suo:()=>Km,TTD:()=>ii,TgZ:()=>rp,Tol:()=>D_,Udp:()=>C_,VLi:()=>PS,X6Q:()=>VS,XFs:()=>wt,Xpm:()=>Pe,Y36:()=>Kl,YKP:()=>Rf,YNc:()=>Xy,Yjl:()=>bt,Yz7:()=>An,ZZ4:()=>T0,_Bn:()=>tw,_UZ:()=>p_,_Vd:()=>Um,_c5:()=>$S,_uU:()=>cA,aQg:()=>S0,c2e:()=>TS,cJS:()=>_e,cg1:()=>Mm,d8E:()=>Im,dDg:()=>m0,deG:()=>Hs,dqk:()=>mn,eBb:()=>Su,eFA:()=>gv,ekj:()=>wm,g9A:()=>fd,h0i:()=>zu,hGG:()=>zw,hij:()=>zi,iGM:()=>J_,ifc:()=>un,ip1:()=>Sp,kL8:()=>DA,kYT:()=>pe,lG2:()=>et,lcZ:()=>Wm,mCW:()=>_,n5z:()=>Pi,oAB:()=>Se,oJD:()=>Ah,oxw:()=>E_,pB0:()=>Kd,q3G:()=>Mr,q4F:()=>iw,qLn:()=>jc,qOj:()=>Qy,qZA:()=>ip,qzn:()=>va,sBO:()=>Pw,sIi:()=>Yh,s_b:()=>Ep,soG:()=>Ra,tBr:()=>zs,tb:()=>Zu,tp0:()=>go,uIk:()=>Yy,vHH:()=>ie,vpe:()=>xa,wAp:()=>gn,xp6:()=>qs,yhl:()=>ya,ynx:()=>As,z2F:()=>_v,z3N:()=>Xi,zSh:()=>am,zs3:()=>Es});var h=$(7579),P=$(727),R=$(8306),G=$(6451),te=$(3099);function Ce(s){for(let o in s)if(s[o]===Ce)return o;throw Error("Could not find renamed property on target object.")}function be(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function xe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(xe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function De(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const X=Ce({__forward_ref__:Ce});function de(s){return s.__forward_ref__=de,s.toString=function(){return xe(this())},s}function T(s){return F(s)?s():s}function F(s){return"function"==typeof s&&s.hasOwnProperty(X)&&s.__forward_ref__===de}class ie extends Error{constructor(o,a){super(function me(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,a)),this.code=o}}function ce(s){return"string"==typeof s?s:null==s?"":String(s)}function oe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ce(s)}function Ye(s,o){const a=o?` in ${o}`:"";throw new ie(-201,`No provider for ${oe(s)} found${a}`)}function It(s,o){null==s&&function Ht(s,o,a,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${a} ${u} ${o} <=Actual]`))}(o,s,null,"!=")}function An(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function _e(s){return{providers:s.providers||[],imports:s.imports||[]}}function Ve(s){return lt(s,on)||lt(s,dn)}function lt(s,o){return s.hasOwnProperty(o)?s[o]:null}function Pt(s){return s&&(s.hasOwnProperty(fn)||s.hasOwnProperty(Ke))?s[fn]:null}const on=Ce({\u0275prov:Ce}),fn=Ce({\u0275inj:Ce}),dn=Ce({ngInjectableDef:Ce}),Ke=Ce({ngInjectorDef:Ce});var wt=(()=>((wt=wt||{})[wt.Default=0]="Default",wt[wt.Host=1]="Host",wt[wt.Self=2]="Self",wt[wt.SkipSelf=4]="SkipSelf",wt[wt.Optional=8]="Optional",wt))();let Yt;function Ot(s){const o=Yt;return Yt=s,o}function Yn(s,o,a){const u=Ve(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&wt.Optional?null:void 0!==o?o:void Ye(xe(s),"Injector")}function In(s){return{toString:s}.toString()}var wn=(()=>((wn=wn||{})[wn.OnPush=0]="OnPush",wn[wn.Default=1]="Default",wn))(),un=(()=>{return(s=un||(un={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",un;var s})();const $t="undefined"!=typeof globalThis&&globalThis,Mt="undefined"!=typeof window&&window,Jn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,mn=$t||"undefined"!=typeof global&&global||Mt||Jn,Cn={},ue=[],ve=Ce({\u0275cmp:Ce}),B=Ce({\u0275dir:Ce}),Y=Ce({\u0275pipe:Ce}),W=Ce({\u0275mod:Ce}),le=Ce({\u0275fac:Ce}),ae=Ce({__NG_ELEMENT_ID__:Ce});let ge=0;function Pe(s){return In(()=>{const a={},u={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===wn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||ue,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||un.Emulated,id:"c",styles:s.styles||ue,_:null,setInput:null,schemas:s.schemas||null,tView:null},p=s.directives,y=s.features,A=s.pipes;return u.id+=ge++,u.inputs=he(s.inputs,a),u.outputs=he(s.outputs),y&&y.forEach(S=>S(u)),u.directiveDefs=p?()=>("function"==typeof p?p():p).map(ht):null,u.pipeDefs=A?()=>("function"==typeof A?A():A).map(ut):null,u})}function ht(s){return Ut(s)||function nn(s){return s[B]||null}(s)}function ut(s){return function Pn(s){return s[Y]||null}(s)}const jt={};function Se(s){return In(()=>{const o={type:s.type,bootstrap:s.bootstrap||ue,declarations:s.declarations||ue,imports:s.imports||ue,exports:s.exports||ue,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(jt[s.id]=s.type),o})}function pe(s,o){return In(()=>{const a=Ft(s,!0);a.declarations=o.declarations||ue,a.imports=o.imports||ue,a.exports=o.exports||ue})}function he(s,o){if(null==s)return Cn;const a={};for(const u in s)if(s.hasOwnProperty(u)){let p=s[u],y=p;Array.isArray(p)&&(y=p[1],p=p[0]),a[p]=u,o&&(o[p]=y)}return a}const et=Pe;function bt(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Ut(s){return s[ve]||null}function Ft(s,o){const a=s[W]||null;if(!a&&!0===o)throw new Error(`Type ${xe(s)} does not have '\u0275mod' property.`);return a}function ni(s){return Array.isArray(s)&&"object"==typeof s[1]}function ri(s){return Array.isArray(s)&&!0===s[1]}function ea(s){return 0!=(8&s.flags)}function Ro(s){return 2==(2&s.flags)}function eo(s){return 1==(1&s.flags)}function fi(s){return null!==s.template}function ic(s){return 0!=(512&s[2])}function _i(s,o){return s.hasOwnProperty(le)?s[le]:null}class ra{constructor(o,a,u){this.previousValue=o,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function ii(){return to}function to(s){return s.type.prototype.ngOnChanges&&(s.setInput=Nd),ia}function ia(){const s=xs(this),o=null==s?void 0:s.current;if(o){const a=s.previous;if(a===Cn)s.previous=o;else for(let u in o)a[u]=o[u];s.current=null,this.ngOnChanges(o)}}function Nd(s,o,a,u){const p=xs(s)||function fs(s,o){return s[Zi]=o}(s,{previous:Cn,current:null}),y=p.current||(p.current={}),A=p.previous,S=this.declaredInputs[a],x=A[S];y[S]=new ra(x&&x.currentValue,o,A===Cn),s[u]=o}ii.ngInherit=!0;const Zi="__ngSimpleChanges__";function xs(s){return s[Zi]||null}let ko;function Ki(s){ko=s}function no(){return void 0!==ko?ko:"undefined"!=typeof document?document:void 0}function ar(s){return!!s.listen}const Ni={createRenderer:(s,o)=>no()};function $n(s){for(;Array.isArray(s);)s=s[0];return s}function ro(s,o){return $n(o[s])}function Wr(s,o){return $n(o[s.index])}function la(s,o){return s.data[o]}function Z(s,o){const a=o[s];return ni(a)?a:a[0]}function we(s){return 4==(4&s[2])}function ze(s){return 128==(128&s[2])}function Tt(s,o){return null==o?null:s[o]}function cn(s){s[18]=0}function nr(s,o){s[5]+=o;let a=s,u=s[3];for(;null!==u&&(1===o&&1===a[5]||-1===o&&0===a[5]);)u[5]+=o,a=u,u=u[3]}const Vt={lFrame:Po(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Yi(){return Vt.bindingsEnabled}function ot(){return Vt.lFrame.lView}function Tn(){return Vt.lFrame.tView}function ks(s){return Vt.lFrame.contextLView=s,s[8]}function dr(){let s=Ua();for(;null!==s&&64===s.type;)s=s.parent;return s}function Ua(){return Vt.lFrame.currentTNode}function ki(s,o){const a=Vt.lFrame;a.currentTNode=s,a.isParent=o}function ac(){return Vt.lFrame.isParent}function lc(){Vt.lFrame.isParent=!1}function yl(){return Vt.isInCheckNoChangesMode}function Ha(s){Vt.isInCheckNoChangesMode=s}function Ps(){return Vt.lFrame.bindingIndex++}function Os(s){const o=Vt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function uu(s,o){const a=Vt.lFrame;a.bindingIndex=a.bindingRootIndex=s,ja(o)}function ja(s){Vt.lFrame.currentDirectiveIndex=s}function _l(s){const o=Vt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function dc(){return Vt.lFrame.currentQueryIndex}function fc(s){Vt.lFrame.currentQueryIndex=s}function hg(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Ga(s,o,a){if(a&wt.SkipSelf){let p=o,y=s;for(;!(p=p.parent,null!==p||a&wt.Host||(p=hg(y),null===p||(y=y[15],10&p.type))););if(null===p)return!1;o=p,s=y}const u=Vt.lFrame=Zr();return u.currentTNode=o,u.lView=s,!0}function za(s){const o=Zr(),a=s[1];Vt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Zr(){const s=Vt.lFrame,o=null===s?null:s.child;return null===o?Po(s):o}function Po(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function El(){const s=Vt.lFrame;return Vt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Od=El;function bl(){const s=El();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function hi(){return Vt.lFrame.selectedIndex}function Fs(s){Vt.lFrame.selectedIndex=s}function gr(){const s=Vt.lFrame;return la(s.tView,s.selectedIndex)}function lh(){Vt.lFrame.currentNamespace="svg"}function Al(s,o){for(let a=o.directiveStart,u=o.directiveEnd;a<u;a++){const y=s.data[a].type.prototype,{ngAfterContentInit:A,ngAfterContentChecked:S,ngAfterViewInit:x,ngAfterViewChecked:L,ngOnDestroy:j}=y;A&&(s.contentHooks||(s.contentHooks=[])).push(-a,A),S&&((s.contentHooks||(s.contentHooks=[])).push(a,S),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,S)),x&&(s.viewHooks||(s.viewHooks=[])).push(-a,x),L&&((s.viewHooks||(s.viewHooks=[])).push(a,L),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,L)),null!=j&&(s.destroyHooks||(s.destroyHooks=[])).push(a,j)}}function Ls(s,o,a){Ld(s,o,3,a)}function wl(s,o,a,u){(3&s[2])===a&&Ld(s,o,a,u)}function hc(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function Ld(s,o,a,u){const y=null!=u?u:-1,A=o.length-1;let S=0;for(let x=void 0!==u?65535&s[18]:0;x<A;x++)if("number"==typeof o[x+1]){if(S=o[x],null!=u&&S>=u)break}else o[x]<0&&(s[18]+=65536),(S<y||-1==y)&&(vg(s,a,o,x),s[18]=(4294901760&s[18])+x+2),x++}function vg(s,o,a,u){const p=a[u]<0,y=a[u+1],S=s[p?-a[u]:a[u]];if(p){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{y.call(S)}finally{}}}else try{y.call(S)}finally{}}class $a{constructor(o,a,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function Cl(s,o,a){const u=ar(s);let p=0;for(;p<a.length;){const y=a[p];if("number"==typeof y){if(0!==y)break;p++;const A=a[p++],S=a[p++],x=a[p++];u?s.setAttribute(o,S,x,A):o.setAttributeNS(A,S,x)}else{const A=y,S=a[++p];Dl(A)?u&&s.setProperty(o,A,S):u?s.setAttribute(o,A,S):o.setAttribute(A,S),p++}}return p}function pc(s){return 3===s||4===s||6===s}function Dl(s){return 64===s.charCodeAt(0)}function du(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let u=0;u<o.length;u++){const p=o[u];"number"==typeof p?a=p:0===a||Tl(s,a,p,null,-1===a||2===a?o[++u]:null)}}return s}function Tl(s,o,a,u,p){let y=0,A=s.length;if(-1===o)A=-1;else for(;y<s.length;){const S=s[y++];if("number"==typeof S){if(S===o){A=-1;break}if(S>o){A=y-1;break}}}for(;y<s.length;){const S=s[y];if("number"==typeof S)break;if(S===a){if(null===u)return void(null!==p&&(s[y+1]=p));if(u===s[y+1])return void(s[y+2]=p)}y++,null!==u&&y++,null!==p&&y++}-1!==A&&(s.splice(A,0,o),y=A+1),s.splice(y++,0,a),null!==u&&s.splice(y++,0,u),null!==p&&s.splice(y++,0,p)}function oo(s){return-1!==s}function ao(s){return 32767&s}function Lr(s,o){let a=function mr(s){return s>>16}(s),u=o;for(;a>0;)u=u[15],a--;return u}let vn=!0;function Wa(s){const o=vn;return vn=s,o}let vc=0;function pi(s,o){const a=ua(s,o);if(-1!==a)return a;const u=o[1];u.firstCreatePass&&(s.injectorIndex=o.length,Ei(u.data,s),Ei(o,null),Ei(u.blueprint,null));const p=Bs(s,o),y=s.injectorIndex;if(oo(p)){const A=ao(p),S=Lr(p,o),x=S[1].data;for(let L=0;L<8;L++)o[y+L]=S[A+L]|x[A+L]}return o[y+8]=p,y}function Ei(s,o){s.push(0,0,0,0,0,0,0,0,o)}function ua(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Bs(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,u=null,p=o;for(;null!==p;){const y=p[1],A=y.type;if(u=2===A?y.declTNode:1===A?p[6]:null,null===u)return-1;if(a++,p=p[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function fu(s,o,a){!function Ud(s,o,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(ae)&&(u=a[ae]),null==u&&(u=a[ae]=vc++);const p=255&u;o.data[s+(p>>5)]|=1<<p}(s,o,a)}function _c(s,o,a){if(a&wt.Optional)return s;Ye(o,"NodeInjector")}function gs(s,o,a,u){if(a&wt.Optional&&void 0===u&&(u=null),0==(a&(wt.Self|wt.Host))){const p=s[9],y=Ot(void 0);try{return p?p.get(o,u,a&wt.Optional):Yn(o,u,a&wt.Optional)}finally{Ot(y)}}return _c(u,o,a)}function Us(s,o,a,u=wt.Default,p){if(null!==s){const y=function Ec(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(ae)?s[ae]:void 0;return"number"==typeof o?o>=0?255&o:Kr:o}(a);if("function"==typeof y){if(!Ga(o,s,u))return u&wt.Host?_c(p,a,u):gs(o,a,u,p);try{const A=y(u);if(null!=A||u&wt.Optional)return A;Ye(a)}finally{Od()}}else if("number"==typeof y){let A=null,S=ua(s,o),x=-1,L=u&wt.Host?o[16][6]:null;for((-1===S||u&wt.SkipSelf)&&(x=-1===S?Bs(s,o):o[S+8],-1!==x&&Vo(u,!1)?(A=o[1],S=ao(x),o=Lr(x,o)):S=-1);-1!==S;){const j=o[1];if(bc(y,S,j.data)){const re=Lo(S,o,a,A,u,L);if(re!==ca)return re}x=o[S+8],-1!==x&&Vo(u,o[1].data[S+8]===L)&&bc(y,S,o)?(A=j,S=ao(x),o=Lr(x,o)):S=-1}}}return gs(o,a,u,p)}const ca={};function Kr(){return new Bo(dr(),ot())}function Lo(s,o,a,u,p,y){const A=o[1],S=A.data[s+8],j=hu(S,A,a,null==u?Ro(S)&&vn:u!=A&&0!=(3&S.type),p&wt.Host&&y===S);return null!==j?Il(o,A,j,S):ca}function hu(s,o,a,u,p){const y=s.providerIndexes,A=o.data,S=1048575&y,x=s.directiveStart,j=y>>20,Ee=p?S+j:s.directiveEnd;for(let Fe=u?S:S+j;Fe<Ee;Fe++){const rt=A[Fe];if(Fe<x&&a===rt||Fe>=x&&rt.type===a)return Fe}if(p){const Fe=A[x];if(Fe&&fi(Fe)&&Fe.type===a)return x}return null}function Il(s,o,a,u){let p=s[a];const y=o.data;if(function Vd(s){return s instanceof $a}(p)){const A=p;A.resolving&&function je(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new ie(-200,`Circular dependency in DI detected for ${s}${a}`)}(oe(y[a]));const S=Wa(A.canSeeViewProviders);A.resolving=!0;const x=A.injectImpl?Ot(A.injectImpl):null;Ga(s,u,wt.Default);try{p=s[a]=A.factory(void 0,y,s,u),o.firstCreatePass&&a>=u.directiveStart&&function mg(s,o,a){const{ngOnChanges:u,ngOnInit:p,ngDoCheck:y}=o.type.prototype;if(u){const A=to(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,A),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,A)}p&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,p),y&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,y))}(a,y[a],o)}finally{null!==x&&Ot(x),Wa(S),A.resolving=!1,Od()}}return p}function bc(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function Vo(s,o){return!(s&wt.Self||s&wt.Host&&o)}class Bo{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,u){return Us(this._tNode,this._lView,o,u,a)}}function Pi(s){return In(()=>{const o=s.prototype.constructor,a=o[le]||pu(o),u=Object.prototype;let p=Object.getPrototypeOf(s.prototype).constructor;for(;p&&p!==u;){const y=p[le]||pu(p);if(y&&y!==a)return y;p=Object.getPrototypeOf(p)}return y=>new y})}function pu(s){return F(s)?()=>{const o=pu(T(s));return o&&o()}:_i(s)}function Uo(s){return function yc(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const u=a.length;let p=0;for(;p<u;){const y=a[p];if(pc(y))break;if(0===y)p+=2;else if("number"==typeof y)for(p++;p<u&&"string"==typeof a[p];)p++;else{if(y===o)return a[p+1];p+=2}}}return null}(dr(),s)}const lo="__parameters__";function Fi(s,o,a){return In(()=>{const u=function Ml(s){return function(...a){if(s){const u=s(...a);for(const p in u)this[p]=u[p]}}}(o);function p(...y){if(this instanceof p)return u.apply(this,y),this;const A=new p(...y);return S.annotation=A,S;function S(x,L,j){const re=x.hasOwnProperty(lo)?x[lo]:Object.defineProperty(x,lo,{value:[]})[lo];for(;re.length<=j;)re.push(null);return(re[j]=re[j]||[]).push(A),x}}return a&&(p.prototype=Object.create(a.prototype)),p.prototype.ngMetadataName=s,p.annotationCls=p,p})}class Dr{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=An({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Hs=new Dr("AnalyzeForEntryComponents");function Vi(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let u=s[a];Array.isArray(u)?(o===s&&(o=s.slice(0,a)),Vi(u,o)):o!==s&&o.push(u)}return o}function Ji(s,o){s.forEach(a=>Array.isArray(a)?Ji(a,o):o(a))}function co(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function xl(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function bi(s,o,a){let u=Za(s,o);return u>=0?s[1|u]=a:(u=~u,function Nl(s,o,a,u){let p=s.length;if(p==o)s.push(a,u);else if(1===p)s.push(u,s[0]),s[0]=a;else{for(p--,s.push(s[p-1],s[p]);p>o;)s[p]=s[p-2],p--;s[o]=a,s[o+1]=u}}(s,u,o,a)),u}function wc(s,o){const a=Za(s,o);if(a>=0)return s[1|a]}function Za(s,o){return function yu(s,o,a){let u=0,p=s.length>>a;for(;p!==u;){const y=u+(p-u>>1),A=s[y<<a];if(o===A)return y<<a;A>o?p=y:u=y+1}return~(p<<a)}(s,o,1)}const fo={},zo="__NG_DI_FLAG__",pa="ngTempTokenPath",Ic=/\n/gm,_u="__source",gh=Ce({provide:String,useValue:Ce});let Eu;function bu(s){const o=Eu;return Eu=s,o}function jd(s,o=wt.Default){if(void 0===Eu)throw new ie(203,"");return null===Eu?Yn(s,void 0,o):Eu.get(s,o&wt.Optional?null:void 0,o)}function si(s,o=wt.Default){return(function vt(){return Yt}()||jd)(T(s),o)}const mh=si;function Au(s){const o=[];for(let a=0;a<s.length;a++){const u=T(s[a]);if(Array.isArray(u)){if(0===u.length)throw new ie(900,"");let p,y=wt.Default;for(let A=0;A<u.length;A++){const S=u[A],x=xc(S);"number"==typeof x?-1===x?p=S.token:y|=x:p=S}o.push(si(p,y))}else o.push(si(u))}return o}function ho(s,o){return s[zo]=o,s.prototype[zo]=o,s}function xc(s){return s[zo]}const zs=ho(Fi("Inject",s=>({token:s})),-1),$s=ho(Fi("Optional"),8),go=ho(Fi("SkipSelf"),4);let vo,Fl;function ma(s){var o;return(null===(o=function el(){if(void 0===vo&&(vo=null,mn.trustedTypes))try{vo=mn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return vo}())||void 0===o?void 0:o.createHTML(s))||s}function Ll(s){var o;return(null===(o=function kc(){if(void 0===Fl&&(Fl=null,mn.trustedTypes))try{Fl=mn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Fl}())||void 0===o?void 0:o.createHTML(s))||s}class Bi{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Pc extends Bi{getTypeName(){return"HTML"}}class _h extends Bi{getTypeName(){return"Style"}}class Oc extends Bi{getTypeName(){return"Script"}}class Fc extends Bi{getTypeName(){return"URL"}}class Zd extends Bi{getTypeName(){return"ResourceURL"}}function Xi(s){return s instanceof Bi?s.changingThisBreaksApplicationSecurity:s}function va(s,o){const a=ya(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}function ya(s){return s instanceof Bi&&s.getTypeName()||null}function Lc(s){return new Pc(s)}function Vl(s){return new _h(s)}function Su(s){return new Oc(s)}function Vc(s){return new Fc(s)}function Kd(s){return new Zd(s)}class Iu{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(ma(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class Eh{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=ma(o),a;const u=this.inertDocument.createElement("body");return u.innerHTML=ma(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(o){const a=o.attributes;for(let p=a.length-1;0<p;p--){const A=a.item(p).name;("xmlns:ns1"===A||0===A.indexOf("ns1:"))&&o.removeAttribute(A)}let u=o.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const bh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,D=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function _(s){return(s=String(s)).match(bh)||s.match(D)?s:"unsafe:"+s}function I(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function H(...s){const o={};for(const a of s)for(const u in a)a.hasOwnProperty(u)&&(o[u]=!0);return o}const Q=I("area,br,col,hr,img,wbr"),Le=I("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ft=I("rp,rt"),fr=H(Q,H(Le,I("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),H(ft,I("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),H(ft,Le)),Ai=I("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ms=I("srcset"),Hl=H(Ai,ms,I("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),I("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),$o=I("script,style,template");class Jd{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let p=this.checkClobberedElement(a,a.nextSibling);if(p){a=p;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!fr.hasOwnProperty(a))return this.sanitizedSomething=!0,!$o.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=o.attributes;for(let p=0;p<u.length;p++){const y=u.item(p),A=y.name,S=A.toLowerCase();if(!Hl.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let x=y.value;Ai[S]&&(x=_(x)),ms[S]&&(s=x,x=(s=String(s)).split(",").map(o=>_(o.trim())).join(", ")),this.buf.push(" ",A,'="',tl(x),'"')}var s;return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();fr.hasOwnProperty(a)&&!Q.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(tl(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const Mu=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Xd=/([^\#-~ |!])/g;function tl(s){return s.replace(/&/g,"&amp;").replace(Mu,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Xd,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let nl;function Uc(s,o){let a=null;try{nl=nl||function Bl(s){const o=new Eh(s);return function Bc(){try{return!!(new window.DOMParser).parseFromString(ma(""),"text/html")}catch(s){return!1}}()?new Iu(o):o}(s);let u=o?String(o):"";a=nl.getInertBodyElement(u);let p=5,y=u;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,u=y,y=a.innerHTML,a=nl.getInertBodyElement(u)}while(u!==y);return ma((new Jd).sanitizeChildren(rl(a)||a))}finally{if(a){const u=rl(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function rl(s){return"content"in s&&function jl(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Mr=(()=>((Mr=Mr||{})[Mr.NONE=0]="NONE",Mr[Mr.HTML=1]="HTML",Mr[Mr.STYLE=2]="STYLE",Mr[Mr.SCRIPT=3]="SCRIPT",Mr[Mr.URL=4]="URL",Mr[Mr.RESOURCE_URL=5]="RESOURCE_URL",Mr))();function Ah(s){const o=xu();return o?Ll(o.sanitize(Mr.HTML,s)||""):va(s,"HTML")?Ll(Xi(s)):Uc(no(),ce(s))}function ef(s){const o=xu();return o?o.sanitize(Mr.URL,s)||"":va(s,"URL")?Xi(s):_(ce(s))}function xu(){const s=ot();return s&&s[12]}const Mg="__ngContext__";function oi(s,o){s[Mg]=o}function yo(s){const o=function Ru(s){return s[Mg]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Pg(s){return s.ngOriginalError}function Hc(s,...o){s.error(...o)}class jc{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),u=function Og(s){return s&&s.ngErrorLogger||Hc}(o);u(this._console,"ERROR",o),a&&u(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Pg(o);for(;a&&Pg(a);)a=Pg(a);return a||null}}const cy=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(mn))();function v(s){return s instanceof Function?s():s}var z=(()=>((z=z||{})[z.Important=1]="Important",z[z.DashCase=2]="DashCase",z))();function Ne(s,o){return undefined(s,o)}function pt(s){const o=s[3];return ri(o)?o[3]:o}function an(s){return tr(s[13])}function xt(s){return tr(s[4])}function tr(s){for(;null!==s&&!ri(s);)s=s[4];return s}function pr(s,o,a,u,p){if(null!=u){let y,A=!1;ri(u)?y=u:ni(u)&&(A=!0,u=u[0]);const S=$n(u);0===s&&null!==a?null==p?$C(o,a,S):Gl(o,a,S,p||null,!0):1===s&&null!==a?Gl(o,a,S,p||null,!0):2===s?function Gg(s,o,a){const u=Mh(s,o);u&&function Gc(s,o,a,u){ar(s)?s.removeChild(o,a,u):o.removeChild(a)}(s,u,o,a)}(o,S,A):3===s&&o.destroyNode(S),null!=y&&function by(s,o,a,u,p){const y=a[7];y!==$n(a)&&pr(o,s,u,y,p);for(let S=10;S<a.length;S++){const x=a[S];Pu(x[1],x,s,o,u,y)}}(o,s,y,a,p)}}function Hi(s,o,a){if(ar(s))return s.createElement(o,a);{const u=null!==a?function oa(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(a):null;return null===u?s.createElement(o):s.createElementNS(u,o)}}function ku(s,o){const a=s[9],u=a.indexOf(o),p=o[3];1024&o[2]&&(o[2]&=-1025,nr(p,-1)),a.splice(u,1)}function Ih(s,o){if(s.length<=10)return;const a=10+o,u=s[a];if(u){const p=u[17];null!==p&&p!==s&&ku(p,u),o>0&&(s[a-1][4]=u[4]);const y=xl(s,10+o);!function _o(s,o){Pu(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const A=y[19];null!==A&&A.detachView(y[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function Hg(s,o){if(!(256&o[2])){const a=o[11];ar(a)&&a.destroyNode&&Pu(s,o,a,3,null,null),function Nu(s){let o=s[13];if(!o)return ys(s[1],s);for(;o;){let a=null;if(ni(o))a=o[13];else{const u=o[10];u&&(a=u)}if(!a){for(;o&&!o[4]&&o!==s;)ni(o)&&ys(o[1],o),o=o[3];null===o&&(o=s),ni(o)&&ys(o[1],o),a=o&&o[4]}o=a}}(o)}}function ys(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function fy(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let u=0;u<a.length;u+=2){const p=o[a[u]];if(!(p instanceof $a)){const y=a[u+1];if(Array.isArray(y))for(let A=0;A<y.length;A+=2){const S=p[y[A]],x=y[A+1];try{x.call(S)}finally{}}else try{y.call(p)}finally{}}}}(s,o),function bE(s,o){const a=s.cleanup,u=o[7];let p=-1;if(null!==a)for(let y=0;y<a.length-1;y+=2)if("string"==typeof a[y]){const A=a[y+1],S="function"==typeof A?A(o):$n(o[A]),x=u[p=a[y+2]],L=a[y+3];"boolean"==typeof L?S.removeEventListener(a[y],x,L):L>=0?u[p=L]():u[p=-L].unsubscribe(),y+=2}else{const A=u[p=a[y+1]];a[y].call(A)}if(null!==u){for(let y=p+1;y<u.length;y++)u[y]();o[7]=null}}(s,o),1===o[1].type&&ar(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&ri(o[3])){a!==o[3]&&ku(a,o);const u=o[19];null!==u&&u.detachView(s)}}}function hy(s,o,a){return function py(s,o,a){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return a[0];if(2&u.flags){const p=s.data[u.directiveStart].encapsulation;if(p===un.None||p===un.Emulated)return null}return Wr(u,a)}(s,o.parent,a)}function Gl(s,o,a,u,p){ar(s)?s.insertBefore(o,a,u,p):o.insertBefore(a,u,p)}function $C(s,o,a){ar(s)?s.appendChild(o,a):o.appendChild(a)}function AE(s,o,a,u,p){null!==u?Gl(s,o,a,u,p):$C(s,o,a)}function Mh(s,o){return ar(s)?s.parentNode(o):o.parentNode}let my=function gy(s,o,a){return 40&s.type?Wr(s,a):null};function of(s,o,a,u){const p=hy(s,u,o),y=o[11],S=function CE(s,o,a){return my(s,o,a)}(u.parent||o[6],u,o);if(null!=p)if(Array.isArray(a))for(let x=0;x<a.length;x++)AE(y,p,a[x],S,!1);else AE(y,p,a,S,!1)}function jg(s,o){if(null!==o){const a=o.type;if(3&a)return Wr(o,s);if(4&a)return _y(-1,s[o.index]);if(8&a){const u=o.child;if(null!==u)return jg(s,u);{const p=s[o.index];return ri(p)?_y(-1,p):$n(p)}}if(32&a)return Ne(o,s)()||$n(s[o.index]);{const u=yy(s,o);return null!==u?Array.isArray(u)?u[0]:jg(pt(s[16]),u):jg(s,o.next)}}return null}function yy(s,o){return null!==o?s[16][6].projection[o.projection]:null}function _y(s,o){const a=10+s+1;if(a<o.length){const u=o[a],p=u[1].firstChild;if(null!==p)return jg(u,p)}return o[7]}function af(s,o,a,u,p,y,A){for(;null!=a;){const S=u[a.index],x=a.type;if(A&&0===o&&(S&&oi($n(S),u),a.flags|=4),64!=(64&a.flags))if(8&x)af(s,o,a.child,u,p,y,!1),pr(o,s,p,S,y);else if(32&x){const L=Ne(a,u);let j;for(;j=L();)pr(o,s,p,j,y);pr(o,s,p,S,y)}else 16&x?Ey(s,o,u,a,p,y):pr(o,s,p,S,y);a=A?a.projectionNext:a.next}}function Pu(s,o,a,u,p,y){af(a,u,s.firstChild,o,p,y,!1)}function Ey(s,o,a,u,p,y){const A=a[16],x=A[6].projection[u.projection];if(Array.isArray(x))for(let L=0;L<x.length;L++)pr(o,s,p,x[L],y);else af(s,o,x,A[3],p,y,!0)}function $g(s,o,a){ar(s)?s.setAttribute(o,"style",a):o.style.cssText=a}function lf(s,o,a){ar(s)?""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a):o.className=a}function TE(s,o,a){let u=s.length;for(;;){const p=s.indexOf(o,a);if(-1===p)return p;if(0===p||s.charCodeAt(p-1)<=32){const y=o.length;if(p+y===u||s.charCodeAt(p+y)<=32)return p}a=p+1}}const Ay="ng-template";function Ou(s,o,a){let u=0;for(;u<s.length;){let p=s[u++];if(a&&"class"===p){if(p=s[u],-1!==TE(p.toLowerCase(),o,0))return!0}else if(1===p){for(;u<s.length&&"string"==typeof(p=s[u++]);)if(p.toLowerCase()===o)return!0;return!1}}return!1}function wy(s){return 4===s.type&&s.value!==Ay}function SE(s,o,a){return o===(4!==s.type||a?s.value:Ay)}function sl(s,o,a){let u=4;const p=s.attrs||[],y=function ME(s){for(let o=0;o<s.length;o++)if(pc(s[o]))return o;return s.length}(p);let A=!1;for(let S=0;S<o.length;S++){const x=o[S];if("number"!=typeof x){if(!A)if(4&u){if(u=2|1&u,""!==x&&!SE(s,x,a)||""===x&&1===o.length){if(ji(u))return!1;A=!0}}else{const L=8&u?x:o[++S];if(8&u&&null!==s.attrs){if(!Ou(s.attrs,L,a)){if(ji(u))return!1;A=!0}continue}const re=Rh(8&u?"class":x,p,wy(s),a);if(-1===re){if(ji(u))return!1;A=!0;continue}if(""!==L){let Ee;Ee=re>y?"":p[re+1].toLowerCase();const Fe=8&u?Ee:null;if(Fe&&-1!==TE(Fe,L,0)||2&u&&L!==Ee){if(ji(u))return!1;A=!0}}}}else{if(!A&&!ji(u)&&!ji(x))return!1;if(A&&ji(x))continue;A=!1,u=x|1&u}}return ji(u)||A}function ji(s){return 0==(1&s)}function Rh(s,o,a,u){if(null===o)return-1;let p=0;if(u||!a){let y=!1;for(;p<o.length;){const A=o[p];if(A===s)return p;if(3===A||6===A)y=!0;else{if(1===A||2===A){let S=o[++p];for(;"string"==typeof S;)S=o[++p];continue}if(4===A)break;if(0===A){p+=4;continue}}p+=y?1:2}return-1}return function Wg(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const u=s[a];if("number"==typeof u)return-1;if(u===o)return a;a++}return-1}(o,s)}function IE(s,o,a=!1){for(let u=0;u<o.length;u++)if(sl(s,o[u],a))return!0;return!1}function xE(s,o){return s?":not("+o.trim()+")":o}function Dy(s){let o=s[0],a=1,u=2,p="",y=!1;for(;a<s.length;){let A=s[a];if("string"==typeof A)if(2&u){const S=s[++a];p+="["+A+(S.length>0?'="'+S+'"':"")+"]"}else 8&u?p+="."+A:4&u&&(p+=" "+A);else""!==p&&!ji(A)&&(o+=xE(y,p),p=""),u=A,y=y||!ji(u);a++}return""!==p&&(o+=xE(y,p)),o}const Fn={};function qs(s){Ty(Tn(),ot(),hi()+s,yl())}function Ty(s,o,a,u){if(!u)if(3==(3&o[2])){const y=s.preOrderCheckHooks;null!==y&&Ls(o,y,a)}else{const y=s.preOrderHooks;null!==y&&wl(o,y,0,a)}Fs(a)}function $c(s,o){return s<<17|o<<2}function Ea(s){return s>>17&32767}function NE(s){return 2|s}function Fu(s){return(131068&s)>>2}function uf(s,o){return-131069&s|o<<2}function Sy(s){return 1|s}function UE(s,o){const a=s.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const p=a[u],y=a[u+1];if(-1!==y){const A=s.data[y];fc(p),A.contentQueries(2,o[y],y)}}}function Bh(s,o,a,u,p,y,A,S,x,L){const j=o.blueprint.slice();return j[0]=p,j[2]=140|u,cn(j),j[3]=j[15]=s,j[8]=a,j[10]=A||s&&s[10],j[11]=S||s&&s[11],j[12]=x||s&&s[12]||null,j[9]=L||s&&s[9]||null,j[6]=y,j[16]=2==o.type?s[16]:j,j}function cf(s,o,a,u,p){let y=s.data[o];if(null===y)y=function Qg(s,o,a,u,p){const y=Ua(),A=ac(),x=s.data[o]=function oD(s,o,a,u,p,y){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,A?y:y&&y.parent,a,o,u,p);return null===s.firstChild&&(s.firstChild=x),null!==y&&(A?null==y.child&&null!==x.parent&&(y.child=x):null===y.next&&(y.next=x)),x}(s,o,a,u,p),function cc(){return Vt.lFrame.inI18n}()&&(y.flags|=64);else if(64&y.type){y.type=a,y.value=u,y.attrs=p;const A=function vl(){const s=Vt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();y.injectorIndex=null===A?-1:A.injectorIndex}return ki(y,!0),y}function df(s,o,a,u){if(0===a)return-1;const p=o.length;for(let y=0;y<a;y++)o.push(u),s.blueprint.push(u),s.data.push(null);return p}function qc(s,o,a){za(o);try{const u=s.viewQuery;null!==u&&zy(1,u,a);const p=s.template;null!==p&&jE(s,o,p,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&UE(s,o),s.staticViewQueries&&zy(2,s.viewQuery,a);const y=s.components;null!==y&&function HE(s,o){for(let a=0;a<o.length;a++)tb(s,o[a])}(o,y)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[2]&=-5,bl()}}function ff(s,o,a,u){const p=o[2];if(256==(256&p))return;za(o);const y=yl();try{cn(o),function lu(s){return Vt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&jE(s,o,a,2,u);const A=3==(3&p);if(!y)if(A){const L=s.preOrderCheckHooks;null!==L&&Ls(o,L,null)}else{const L=s.preOrderHooks;null!==L&&wl(o,L,0,null),hc(o,0)}if(function gD(s){for(let o=an(s);null!==o;o=xt(o)){if(!o[2])continue;const a=o[9];for(let u=0;u<a.length;u++){const p=a[u],y=p[3];0==(1024&p[2])&&nr(y,1),p[2]|=1024}}}(o),function pD(s){for(let o=an(s);null!==o;o=xt(o))for(let a=10;a<o.length;a++){const u=o[a],p=u[1];ze(u)&&ff(p,u,p.template,u[8])}}(o),null!==s.contentQueries&&UE(s,o),!y)if(A){const L=s.contentCheckHooks;null!==L&&Ls(o,L)}else{const L=s.contentHooks;null!==L&&wl(o,L,1),hc(o,1)}!function rD(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const p=a[u];if(p<0)Fs(~p);else{const y=p,A=a[++u],S=a[++u];uu(A,y),S(2,o[y])}}}finally{Fs(-1)}}(s,o);const S=s.components;null!==S&&function iD(s,o){for(let a=0;a<o.length;a++)mD(s,o[a])}(o,S);const x=s.viewQuery;if(null!==x&&zy(2,x,u),!y)if(A){const L=s.viewCheckHooks;null!==L&&Ls(o,L)}else{const L=s.viewHooks;null!==L&&wl(o,L,2),hc(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),y||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,nr(o[3],-1))}finally{bl()}}function sD(s,o,a,u){const p=o[10],y=!yl(),A=we(o);try{y&&!A&&p.begin&&p.begin(),A&&qc(s,o,u),ff(s,o,a,u)}finally{y&&!A&&p.end&&p.end()}}function jE(s,o,a,u,p){const y=hi(),A=2&u;try{Fs(-1),A&&o.length>20&&Ty(s,o,20,yl()),a(u,p)}finally{Fs(y)}}function GE(s,o,a){if(ea(o)){const p=o.directiveEnd;for(let y=o.directiveStart;y<p;y++){const A=s.data[y];A.contentQueries&&A.contentQueries(1,a[y],y)}}}function Yg(s,o,a){!Yi()||(function lD(s,o,a,u){const p=a.directiveStart,y=a.directiveEnd;s.firstCreatePass||pi(a,o),oi(u,o);const A=a.initialInputs;for(let S=p;S<y;S++){const x=s.data[S],L=fi(x);L&&JE(o,a,x);const j=Il(o,s,S,a);oi(j,o),null!==A&&hD(0,S-p,j,x,0,A),L&&(Z(a.index,o)[8]=j)}}(s,o,a,Wr(a,o)),128==(128&a.flags)&&function uD(s,o,a){const u=a.directiveStart,p=a.directiveEnd,A=a.index,S=function oh(){return Vt.lFrame.currentDirectiveIndex}();try{Fs(A);for(let x=u;x<p;x++){const L=s.data[x],j=o[x];ja(x),(null!==L.hostBindings||0!==L.hostVars||null!==L.hostAttrs)&&nm(L,j)}}finally{Fs(-1),ja(S)}}(s,o,a))}function Vy(s,o,a=Wr){const u=o.localNames;if(null!==u){let p=o.index+1;for(let y=0;y<u.length;y+=2){const A=u[y+1],S=-1===A?a(o,s):s[A];s[p++]=S}}}function Eo(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=hf(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function hf(s,o,a,u,p,y,A,S,x,L){const j=20+u,re=j+p,Ee=function Uh(s,o){const a=[];for(let u=0;u<o;u++)a.push(u<s?null:Fn);return a}(j,re),Fe="function"==typeof L?L():L;return Ee[1]={type:s,blueprint:Ee,template:a,queries:null,viewQuery:S,declTNode:o,data:Ee.slice().fill(null,j),bindingStartIndex:j,expandoStartIndex:re,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof A?A():A,firstChild:null,schemas:x,consts:Fe,incompleteFirstPass:!1}}function Xg(s,o,a,u){const p=$y(o);null===a?p.push(u):(p.push(a),s.firstCreatePass&&im(s).push(u,p.length-1))}function $E(s,o,a){for(let u in s)if(s.hasOwnProperty(u)){const p=s[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(o,p):a[u]=[o,p]}return a}function Zs(s,o,a,u,p,y,A,S){const x=Wr(o,a);let j,L=o.inputs;!S&&null!=L&&(j=L[u])?($h(s,a,j,u,p),Ro(o)&&function WE(s,o){const a=Z(o,s);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(u=function aD(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),p=null!=A?A(p,o.value||"",u):p,ar(y)?y.setProperty(x,u,p):Dl(u)||(x.setProperty?x.setProperty(u,p):x[u]=p))}function By(s,o,a,u){let p=!1;if(Yi()){const y=function cD(s,o,a){const u=s.directiveRegistry;let p=null;if(u)for(let y=0;y<u.length;y++){const A=u[y];IE(a,A.selectors,!1)&&(p||(p=[]),fu(pi(a,o),s,A.type),fi(A)?(Hy(s,a),p.unshift(A)):p.push(A))}return p}(s,o,a),A=null===u?null:{"":-1};if(null!==y){p=!0,QE(a,s.data.length,y.length);for(let j=0;j<y.length;j++){const re=y[j];re.providersResolver&&re.providersResolver(re)}let S=!1,x=!1,L=df(s,o,y.length,null);for(let j=0;j<y.length;j++){const re=y[j];a.mergedAttrs=du(a.mergedAttrs,re.hostAttrs),YE(s,a,o,L,re),fD(L,re,A),null!==re.contentQueries&&(a.flags|=8),(null!==re.hostBindings||null!==re.hostAttrs||0!==re.hostVars)&&(a.flags|=128);const Ee=re.type.prototype;!S&&(Ee.ngOnChanges||Ee.ngOnInit||Ee.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),S=!0),!x&&(Ee.ngOnChanges||Ee.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),x=!0),L++}!function em(s,o){const u=o.directiveEnd,p=s.data,y=o.attrs,A=[];let S=null,x=null;for(let L=o.directiveStart;L<u;L++){const j=p[L],re=j.inputs,Ee=null===y||wy(o)?null:XE(re,y);A.push(Ee),S=$E(re,L,S),x=$E(j.outputs,L,x)}null!==S&&(S.hasOwnProperty("class")&&(o.flags|=16),S.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=A,o.inputs=S,o.outputs=x}(s,a)}A&&function dD(s,o,a){if(o){const u=s.localNames=[];for(let p=0;p<o.length;p+=2){const y=a[o[p+1]];if(null==y)throw new ie(-301,!1);u.push(o[p],y)}}}(a,u,A)}return a.mergedAttrs=du(a.mergedAttrs,a.attrs),p}function Uy(s,o,a,u,p,y){const A=y.hostBindings;if(A){let S=s.hostBindingOpCodes;null===S&&(S=s.hostBindingOpCodes=[]);const x=~o.index;(function tm(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(S)!=x&&S.push(x),S.push(u,p,A)}}function nm(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Hy(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function fD(s,o,a){if(a){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)a[o.exportAs[u]]=s;fi(o)&&(a[""]=s)}}function QE(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function YE(s,o,a,u,p){s.data[u]=p;const y=p.factory||(p.factory=_i(p.type)),A=new $a(y,fi(p),null);s.blueprint[u]=A,a[u]=A,Uy(s,o,0,u,df(s,a,p.hostVars,Fn),p)}function JE(s,o,a){const u=Wr(o,s),p=Eo(a),y=s[10],A=jh(s,Bh(s,p,null,a.onPush?64:16,u,o,y,y.createRenderer(u,a),null,null));s[o.index]=A}function bo(s,o,a,u,p,y){const A=Wr(s,o);!function rm(s,o,a,u,p,y,A){if(null==y)ar(s)?s.removeAttribute(o,p,a):o.removeAttribute(p);else{const S=null==A?ce(y):A(y,u||"",p);ar(s)?s.setAttribute(o,p,S,a):a?o.setAttributeNS(a,p,S):o.setAttribute(p,S)}}(o[11],A,y,s.value,a,u,p)}function hD(s,o,a,u,p,y){const A=y[o];if(null!==A){const S=u.setInput;for(let x=0;x<A.length;){const L=A[x++],j=A[x++],re=A[x++];null!==S?u.setInput(a,re,L,j):a[j]=re}}}function XE(s,o){let a=null,u=0;for(;u<o.length;){const p=o[u];if(0!==p)if(5!==p){if("number"==typeof p)break;s.hasOwnProperty(p)&&(null===a&&(a=[]),a.push(p,s[p],o[u+1])),u+=2}else u+=2;else u+=4}return a}function eb(s,o,a,u){return new Array(s,!0,!1,o,null,0,u,a,null,null)}function mD(s,o){const a=Z(o,s);if(ze(a)){const u=a[1];80&a[2]?ff(u,a,u.template,a[8]):a[5]>0&&jy(a)}}function jy(s){for(let u=an(s);null!==u;u=xt(u))for(let p=10;p<u.length;p++){const y=u[p];if(1024&y[2]){const A=y[1];ff(A,y,A.template,y[8])}else y[5]>0&&jy(y)}const a=s[1].components;if(null!==a)for(let u=0;u<a.length;u++){const p=Z(a[u],s);ze(p)&&p[5]>0&&jy(p)}}function tb(s,o){const a=Z(o,s),u=a[1];(function nb(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(u,a),qc(u,a,a[8])}function jh(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Gy(s){for(;s;){s[2]|=64;const o=pt(s);if(ic(s)&&!o)return s;s=o}return null}function En(s,o,a){const u=o[10];u.begin&&u.begin();try{ff(s,o,s.template,a)}catch(p){throw ib(o,p),p}finally{u.end&&u.end()}}function li(s){!function rb(s){for(let o=0;o<s.components.length;o++){const a=s.components[o],u=yo(a),p=u[1];sD(p,u,p.template,a)}}(s[8])}function zy(s,o,a){fc(0),o(s,a)}const yD=(()=>Promise.resolve(null))();function $y(s){return s[7]||(s[7]=[])}function im(s){return s.cleanup||(s.cleanup=[])}function ib(s,o){const a=s[9],u=a?a.get(jc,null):null;u&&u.handleError(o)}function $h(s,o,a,u,p){for(let y=0;y<a.length;){const A=a[y++],S=a[y++],x=o[A],L=s.data[A];null!==L.setInput?L.setInput(x,p,u,S):x[S]=p}}function Wo(s,o,a){const u=ro(o,s);!function jr(s,o,a){ar(s)?s.setValue(o,a):o.textContent=a}(s[11],u,a)}function sm(s,o,a){let u=a?s.styles:null,p=a?s.classes:null,y=0;if(null!==o)for(let A=0;A<o.length;A++){const S=o[A];"number"==typeof S?y=S:1==y?p=De(p,S):2==y&&(u=De(u,S+": "+o[++A]+";"))}a?s.styles=u:s.stylesWithoutHost=u,a?s.classes=p:s.classesWithoutHost=p}const om=new Dr("INJECTOR",-1);class Ks{get(o,a=fo){if(a===fo){const u=new Error(`NullInjectorError: No provider for ${xe(o)}!`);throw u.name="NullInjectorError",u}return a}}const am=new Dr("Set Injector scope."),qh={},_s={};let Zh;function Kh(){return void 0===Zh&&(Zh=new Ks),Zh}function ob(s,o=null,a=null,u){const p=pf(s,o,a,u);return p._resolveInjectorDefTypes(),p}function pf(s,o=null,a=null,u){return new wa(s,a,o||Kh(),u)}class wa{constructor(o,a,u,p=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const y=[];a&&Ji(a,S=>this.processProvider(S,o,a)),Ji([o],S=>this.processInjectorType(S,[],y)),this.records.set(om,Zc(void 0,this));const A=this.records.get(am);this.scope=null!=A?A.value:null,this.source=p||("object"==typeof o?null:xe(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=fo,u=wt.Default){this.assertNotDestroyed();const p=bu(this),y=Ot(void 0);try{if(!(u&wt.SkipSelf)){let S=this.records.get(o);if(void 0===S){const x=function qy(s){return"function"==typeof s||"object"==typeof s&&s instanceof Dr}(o)&&Ve(o);S=x&&this.injectableDefInScope(x)?Zc(al(o),qh):null,this.records.set(o,S)}if(null!=S)return this.hydrate(o,S)}return(u&wt.Self?Kh():this.parent).get(o,a=u&wt.Optional&&a===fo?null:a)}catch(A){if("NullInjectorError"===A.name){if((A[pa]=A[pa]||[]).unshift(xe(o)),p)throw A;return function Gd(s,o,a,u){const p=s[pa];throw o[_u]&&p.unshift(o[_u]),s.message=function Qa(s,o,a,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let p=xe(o);if(Array.isArray(o))p=o.map(xe).join(" -> ");else if("object"==typeof o){let y=[];for(let A in o)if(o.hasOwnProperty(A)){let S=o[A];y.push(A+":"+("string"==typeof S?JSON.stringify(S):xe(S)))}p=`{${y.join(", ")}}`}return`${a}${u?"("+u+")":""}[${p}]: ${s.replace(Ic,"\n  ")}`}("\n"+s.message,p,a,u),s.ngTokenPath=p,s[pa]=null,s}(A,o,"R3InjectorError",this.source)}throw A}finally{Ot(y),bu(p)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((u,p)=>o.push(xe(p))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ie(205,!1)}processInjectorType(o,a,u){if(!(o=T(o)))return!1;let p=Pt(o);const y=null==p&&o.ngModule||void 0,A=void 0===y?o:y,S=-1!==u.indexOf(A);if(void 0!==y&&(p=Pt(y)),null==p)return!1;if(null!=p.imports&&!S){let j;u.push(A);try{Ji(p.imports,re=>{this.processInjectorType(re,a,u)&&(void 0===j&&(j=[]),j.push(re))})}finally{}if(void 0!==j)for(let re=0;re<j.length;re++){const{ngModule:Ee,providers:Fe}=j[re];Ji(Fe,rt=>this.processProvider(rt,Ee,Fe||ue))}}this.injectorDefTypes.add(A);const x=_i(A)||(()=>new A);this.records.set(A,Zc(x,qh));const L=p.providers;if(null!=L&&!S){const j=o;Ji(L,re=>this.processProvider(re,j,L))}return void 0!==y&&void 0!==o.providers}processProvider(o,a,u){let p=qo(o=T(o))?o:T(o&&o.provide);const y=function gf(s,o,a){return ab(s)?Zc(void 0,s.useValue):Zc(lm(s),qh)}(o);if(qo(o)||!0!==o.multi)this.records.get(p);else{let A=this.records.get(p);A||(A=Zc(void 0,qh,!0),A.factory=()=>Au(A.multi),this.records.set(p,A)),p=o,A.multi.push(o)}this.records.set(p,y)}hydrate(o,a){return a.value===qh&&(a.value=_s,a.value=a.factory()),"object"==typeof a.value&&a.value&&function zl(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=T(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function al(s){const o=Ve(s),a=null!==o?o.factory:_i(s);if(null!==a)return a;if(s instanceof Dr)throw new ie(204,!1);if(s instanceof Function)return function es(s){const o=s.length;if(o>0)throw function js(s,o){const a=[];for(let u=0;u<s;u++)a.push(o);return a}(o,"?"),new ie(204,!1);const a=function At(s){const o=s&&(s[on]||s[dn]);if(o){const a=function Ze(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new ie(204,!1)}function lm(s,o,a){let u;if(qo(s)){const p=T(s);return _i(p)||al(p)}if(ab(s))u=()=>T(s.useValue);else if(function _D(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...Au(s.deps||[]));else if(function lb(s){return!(!s||!s.useExisting)}(s))u=()=>si(T(s.useExisting));else{const p=T(s&&(s.useClass||s.provide));if(!function ED(s){return!!s.deps}(s))return _i(p)||al(p);u=()=>new p(...Au(s.deps))}return u}function Zc(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function ab(s){return null!==s&&"object"==typeof s&&gh in s}function qo(s){return"function"==typeof s}let Es=(()=>{class s{static create(a,u){var p;if(Array.isArray(a))return ob({name:""},u,a,"");{const y=null!==(p=a.name)&&void 0!==p?p:"";return ob({name:y},a.parent,a.providers,y)}}}return s.THROW_IF_NOT_FOUND=fo,s.NULL=new Ks,s.\u0275prov=An({token:s,providedIn:"any",factory:()=>si(om)}),s.__NG_ELEMENT_ID__=-1,s})();function Gi(s,o){Al(yo(s)[1],dr())}function Qy(s){let o=function Eb(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const u=[s];for(;o;){let p;if(fi(s))p=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new ie(903,"");p=o.\u0275dir}if(p){if(a){u.push(p);const A=s;A.inputs=dm(s.inputs),A.declaredInputs=dm(s.declaredInputs),A.outputs=dm(s.outputs);const S=p.hostBindings;S&&SD(s,S);const x=p.viewQuery,L=p.contentQueries;if(x&&TD(s,x),L&&Ab(s,L),be(s.inputs,p.inputs),be(s.declaredInputs,p.declaredInputs),be(s.outputs,p.outputs),fi(p)&&p.data.animation){const j=s.data;j.animation=(j.animation||[]).concat(p.data.animation)}}const y=p.features;if(y)for(let A=0;A<y.length;A++){const S=y[A];S&&S.ngInherit&&S(s),S===Qy&&(a=!1)}}o=Object.getPrototypeOf(o)}!function bb(s){let o=0,a=null;for(let u=s.length-1;u>=0;u--){const p=s[u];p.hostVars=o+=p.hostVars,p.hostAttrs=du(p.hostAttrs,a=du(a,p.hostAttrs))}}(u)}function dm(s){return s===Cn?{}:s===ue?[]:s}function TD(s,o){const a=s.viewQuery;s.viewQuery=a?(u,p)=>{o(u,p),a(u,p)}:o}function Ab(s,o){const a=s.contentQueries;s.contentQueries=a?(u,p,y)=>{o(u,p,y),a(u,p,y)}:o}function SD(s,o){const a=s.hostBindings;s.hostBindings=a?(u,p)=>{o(u,p),a(u,p)}:o}let ll=null;function Bn(){if(!ll){const s=mn.Symbol;if(s&&s.iterator)ll=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const u=o[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(ll=u)}}}return ll}function Yh(s){return!!hm(s)&&(Array.isArray(s)||!(s instanceof Map)&&Bn()in s)}function hm(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function gi(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function Yy(s,o,a,u){const p=ot();return gi(p,Ps(),o)&&(Tn(),bo(gr(),p,s,o,a,u)),Yy}function Xy(s,o,a,u,p,y,A,S){const x=ot(),L=Tn(),j=s+20,re=L.firstCreatePass?function Mb(s,o,a,u,p,y,A,S,x){const L=o.consts,j=cf(o,s,4,A||null,Tt(L,S));By(o,a,j,Tt(L,x)),Al(o,j);const re=j.tViews=hf(2,j,u,p,y,o.directiveRegistry,o.pipeRegistry,null,o.schemas,L);return null!==o.queries&&(o.queries.template(o,j),re.queries=o.queries.embeddedTView(j)),j}(j,L,x,o,a,u,p,y,A):L.data[j];ki(re,!1);const Ee=x[11].createComment("");of(L,x,Ee,re),oi(Ee,x),jh(x,x[j]=eb(Ee,x,Ee,re)),eo(re)&&Yg(L,x,re),null!=A&&Vy(x,re,S)}function Kl(s,o=wt.Default){const a=ot();return null===a?si(s,o):Us(dr(),a,T(s),o)}function Vb(){throw new Error("invalid")}function Xc(s,o,a){const u=ot();return gi(u,Ps(),o)&&Zs(Tn(),gr(),u,s,o,u[11],a,!1),Xc}function np(s,o,a,u,p){const A=p?"class":"style";$h(s,a,o.inputs[A],A,u)}function rp(s,o,a,u){const p=ot(),y=Tn(),A=20+s,S=p[11],x=p[A]=Hi(S,o,function Fd(){return Vt.lFrame.currentNamespace}()),L=y.firstCreatePass?function LD(s,o,a,u,p,y,A){const S=o.consts,L=cf(o,s,2,p,Tt(S,y));return By(o,a,L,Tt(S,A)),null!==L.attrs&&sm(L,L.attrs,!1),null!==L.mergedAttrs&&sm(L,L.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,L),L}(A,y,p,0,o,a,u):y.data[A];ki(L,!0);const j=L.mergedAttrs;null!==j&&Cl(S,x,j);const re=L.classes;null!==re&&lf(S,x,re);const Ee=L.styles;return null!==Ee&&$g(S,x,Ee),64!=(64&L.flags)&&of(y,p,x,L),0===function rr(){return Vt.lFrame.elementDepthCount}()&&oi(x,p),function Nn(){Vt.lFrame.elementDepthCount++}(),eo(L)&&(Yg(y,p,L),GE(y,L,p)),null!==u&&Vy(p,L),rp}function ip(){let s=dr();ac()?lc():(s=s.parent,ki(s,!1));const o=s;!function Qi(){Vt.lFrame.elementDepthCount--}();const a=Tn();return a.firstCreatePass&&(Al(a,s),ea(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Bd(s){return 0!=(16&s.flags)}(o)&&np(a,o,ot(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function yg(s){return 0!=(32&s.flags)}(o)&&np(a,o,ot(),o.stylesWithoutHost,!1),ip}function p_(s,o,a,u){return rp(s,o,a,u),ip(),p_}function As(s,o,a){const u=ot(),p=Tn(),y=s+20,A=p.firstCreatePass?function g_(s,o,a,u,p){const y=o.consts,A=Tt(y,u),S=cf(o,s,8,"ng-container",A);return null!==A&&sm(S,A,!0),By(o,a,S,Tt(y,p)),null!==o.queries&&o.queries.elementStart(o,S),S}(y,p,u,o,a):p.data[y];ki(A,!0);const S=u[y]=u[11].createComment("");return of(p,u,S,A),oi(S,u),eo(A)&&(Yg(p,u,A),GE(p,A,u)),null!=a&&Vy(u,A),As}function sp(){let s=dr();const o=Tn();return ac()?lc():(s=s.parent,ki(s,!1)),o.firstCreatePass&&(Al(o,s),ea(s)&&o.queries.elementEnd(s)),sp}function op(){return ot()}function Af(s){return!!s&&"function"==typeof s.then}function Bb(s){return!!s&&"function"==typeof s.subscribe}const Ub=Bb;function v_(s,o,a,u){const p=ot(),y=Tn(),A=dr();return function y_(s,o,a,u,p,y,A,S){const x=eo(u),j=s.firstCreatePass&&im(s),re=o[8],Ee=$y(o);let Fe=!0;if(3&u.type||S){const kt=Wr(u,o),qt=S?S(kt):kt,Ge=Ee.length,rn=S?qn=>S($n(qn[u.index])):u.index;if(ar(a)){let qn=null;if(!S&&x&&(qn=function bm(s,o,a,u){const p=s.cleanup;if(null!=p)for(let y=0;y<p.length-1;y+=2){const A=p[y];if(A===a&&p[y+1]===u){const S=o[7],x=p[y+2];return S.length>x?S[x]:null}"string"==typeof A&&(y+=2)}return null}(s,o,p,u.index)),null!==qn)(qn.__ngLastListenerFn__||qn).__ngNextListenerFn__=y,qn.__ngLastListenerFn__=y,Fe=!1;else{y=wf(u,o,re,y,!1);const bn=a.listen(qt,p,y);Ee.push(y,bn),j&&j.push(p,rn,Ge,Ge+1)}}else y=wf(u,o,re,y,!0),qt.addEventListener(p,y,A),Ee.push(y),j&&j.push(p,rn,Ge,A)}else y=wf(u,o,re,y,!1);const rt=u.outputs;let gt;if(Fe&&null!==rt&&(gt=rt[p])){const kt=gt.length;if(kt)for(let qt=0;qt<kt;qt+=2){const Xt=o[gt[qt]][gt[qt+1]].subscribe(y),Qu=Ee.length;Ee.push(y,Xt),j&&j.push(p,u.index,Qu,-(Qu+1))}}}(y,p,p[11],A,s,o,!!a,u),v_}function __(s,o,a,u){try{return!1!==a(u)}catch(p){return ib(s,p),!1}}function wf(s,o,a,u,p){return function y(A){if(A===Function)return u;const S=2&s.flags?Z(s.index,o):o;0==(32&o[2])&&Gy(S);let x=__(o,0,u,A),L=y.__ngNextListenerFn__;for(;L;)x=__(o,0,L,A)&&x,L=L.__ngNextListenerFn__;return p&&!1===x&&(A.preventDefault(),A.returnValue=!1),x}}function E_(s=1){return function Oo(s){return(Vt.lFrame.contextLView=function ah(s,o){for(;s>0;)o=o[15],s--;return o}(s,Vt.lFrame.contextLView))[8]}(s)}function Kb(s,o,a,u,p){const y=s[a+1],A=null===o;let S=u?Ea(y):Fu(y),x=!1;for(;0!==S&&(!1===x||A);){const j=s[S+1];UD(s[S],o)&&(x=!0,s[S+1]=u?Sy(j):NE(j)),S=u?Ea(j):Fu(j)}x&&(s[a+1]=u?NE(y):Sy(y))}function UD(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Za(s,o)>=0}const Vr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Qb(s){return s.substring(Vr.key,Vr.keyEnd)}function Yb(s,o){const a=Vr.textEnd;return a===o?-1:(o=Vr.keyEnd=function zD(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,Vr.key=o,a),Cf(s,o,a))}function Cf(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function C_(s,o,a){return Zo(s,o,a,!1),C_}function wm(s,o){return Zo(s,o,null,!0),wm}function D_(s){!function Ia(s,o,a,u){const p=Tn(),y=Os(2);p.firstUpdatePass&&sA(p,null,y,u);const A=ot();if(a!==Fn&&gi(A,y,a)){const S=p.data[hi()];if(I_(S,u)&&!iA(p,y)){let x=u?S.classesWithoutHost:S.stylesWithoutHost;null!==x&&(a=De(x,a||"")),np(p,S,A,a,u)}else!function aA(s,o,a,u,p,y,A,S){p===Fn&&(p=ue);let x=0,L=0,j=0<p.length?p[0]:null,re=0<y.length?y[0]:null;for(;null!==j||null!==re;){const Ee=x<p.length?p[x+1]:void 0,Fe=L<y.length?y[L+1]:void 0;let gt,rt=null;j===re?(x+=2,L+=2,Ee!==Fe&&(rt=re,gt=Fe)):null===re||null!==j&&j<re?(x+=2,rt=j):(L+=2,rt=re,gt=Fe),null!==rt&&lA(s,o,a,u,rt,gt,A,S),j=x<p.length?p[x]:null,re=L<y.length?y[L]:null}}(p,S,A,A[11],A[y+1],A[y+1]=function ZD(s,o,a){if(null==a||""===a)return ue;const u=[],p=Xi(a);if(Array.isArray(p))for(let y=0;y<p.length;y++)s(u,p[y],!0);else if("object"==typeof p)for(const y in p)p.hasOwnProperty(y)&&s(u,y,p[y]);else"string"==typeof p&&o(u,p);return u}(s,o,a),u,y)}}(bi,Sa,s,!0)}function Sa(s,o){for(let a=function jD(s){return function Xb(s){Vr.key=0,Vr.keyEnd=0,Vr.value=0,Vr.valueEnd=0,Vr.textEnd=s.length}(s),Yb(s,Cf(s,0,Vr.textEnd))}(o);a>=0;a=Yb(o,a))bi(s,Qb(o),!0)}function Zo(s,o,a,u){const p=ot(),y=Tn(),A=Os(2);y.firstUpdatePass&&sA(y,s,A,u),o!==Fn&&gi(p,A,o)&&lA(y,y.data[hi()],p,p[11],s,p[A+1]=function KD(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=xe(Xi(s)))),s}(o,a),u,A)}function iA(s,o){return o>=s.expandoStartIndex}function sA(s,o,a,u){const p=s.data;if(null===p[a+1]){const y=p[hi()],A=iA(s,a);I_(y,u)&&null===o&&!A&&(o=!1),o=function WD(s,o,a,u){const p=_l(s);let y=u?o.residualClasses:o.residualStyles;if(null===p)0===(u?o.classBindings:o.styleBindings)&&(a=cp(a=S_(null,s,o,a,u),o.attrs,u),y=null);else{const A=o.directiveStylingLast;if(-1===A||s[A]!==p)if(a=S_(p,s,o,a,u),null===y){let x=function oA(s,o,a){const u=a?o.classBindings:o.styleBindings;if(0!==Fu(u))return s[Ea(u)]}(s,o,u);void 0!==x&&Array.isArray(x)&&(x=S_(null,s,o,x[1],u),x=cp(x,o.attrs,u),function qD(s,o,a,u){s[Ea(a?o.classBindings:o.styleBindings)]=u}(s,o,u,x))}else y=function T_(s,o,a){let u;const p=o.directiveEnd;for(let y=1+o.directiveStylingLast;y<p;y++)u=cp(u,s[y].hostAttrs,a);return cp(u,o.attrs,a)}(s,o,u)}return void 0!==y&&(u?o.residualClasses=y:o.residualStyles=y),a}(p,y,o,u),function BD(s,o,a,u,p,y){let A=y?o.classBindings:o.styleBindings,S=Ea(A),x=Fu(A);s[u]=a;let j,L=!1;if(Array.isArray(a)){const re=a;j=re[1],(null===j||Za(re,j)>0)&&(L=!0)}else j=a;if(p)if(0!==x){const Ee=Ea(s[S+1]);s[u+1]=$c(Ee,S),0!==Ee&&(s[Ee+1]=uf(s[Ee+1],u)),s[S+1]=function ZC(s,o){return 131071&s|o<<17}(s[S+1],u)}else s[u+1]=$c(S,0),0!==S&&(s[S+1]=uf(s[S+1],u)),S=u;else s[u+1]=$c(x,0),0===S?S=u:s[x+1]=uf(s[x+1],u),x=u;L&&(s[u+1]=NE(s[u+1])),Kb(s,j,u,!0),Kb(s,j,u,!1),function up(s,o,a,u,p){const y=p?s.residualClasses:s.residualStyles;null!=y&&"string"==typeof o&&Za(y,o)>=0&&(a[u+1]=Sy(a[u+1]))}(o,j,s,u,y),A=$c(S,x),y?o.classBindings=A:o.styleBindings=A}(p,y,o,a,A,u)}}function S_(s,o,a,u,p){let y=null;const A=a.directiveEnd;let S=a.directiveStylingLast;for(-1===S?S=a.directiveStart:S++;S<A&&(y=o[S],u=cp(u,y.hostAttrs,p),y!==s);)S++;return null!==s&&(a.directiveStylingLast=S),u}function cp(s,o,a){const u=a?1:2;let p=-1;if(null!==o)for(let y=0;y<o.length;y++){const A=o[y];"number"==typeof A?p=A:p===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),bi(s,A,!!a||o[++y]))}return void 0===s?null:s}function lA(s,o,a,u,p,y,A,S){if(!(3&o.type))return;const x=s.data,L=x[S+1];Dm(function kE(s){return 1==(1&s)}(L)?uA(x,o,a,p,Fu(L),A):void 0)||(Dm(y)||function RE(s){return 2==(2&s)}(L)&&(y=uA(x,null,a,p,S,A)),function zc(s,o,a,u,p){const y=ar(s);if(o)p?y?s.addClass(a,u):a.classList.add(u):y?s.removeClass(a,u):a.classList.remove(u);else{let A=-1===u.indexOf("-")?void 0:z.DashCase;if(null==p)y?s.removeStyle(a,u,A):a.style.removeProperty(u);else{const S="string"==typeof p&&p.endsWith("!important");S&&(p=p.slice(0,-10),A|=z.Important),y?s.setStyle(a,u,p,A):a.style.setProperty(u,p,S?"important":"")}}}(u,A,ro(hi(),a),p,y))}function uA(s,o,a,u,p,y){const A=null===o;let S;for(;p>0;){const x=s[p],L=Array.isArray(x),j=L?x[1]:x,re=null===j;let Ee=a[p+1];Ee===Fn&&(Ee=re?ue:void 0);let Fe=re?wc(Ee,u):j===u?Ee:void 0;if(L&&!Dm(Fe)&&(Fe=wc(x,u)),Dm(Fe)&&(S=Fe,A))return S;const rt=s[p+1];p=A?Ea(rt):Fu(rt)}if(null!==o){let x=y?o.residualClasses:o.residualStyles;null!=x&&(S=wc(x,u))}return S}function Dm(s){return void 0!==s}function I_(s,o){return 0!=(s.flags&(o?16:32))}function cA(s,o=""){const a=ot(),u=Tn(),p=s+20,y=u.firstCreatePass?cf(u,p,1,o,null):u.data[p],A=a[p]=function ai(s,o){return ar(s)?s.createText(o):s.createTextNode(o)}(a[11],o);of(u,a,A,y),ki(y,!1)}function zi(s,o,a){const u=ot(),p=function ql(s,o,a,u){return gi(s,Ps(),a)?o+ce(a)+u:Fn}(u,s,o,a);return p!==Fn&&Wo(u,hi(),p),zi}function Im(s,o,a){const u=ot();if(gi(u,Ps(),o)){const y=Tn(),A=gr();Zs(y,A,u,s,o,function zh(s,o,a){return(null===s||fi(s))&&(a=function aa(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(a[o.index])),a[11]}(_l(y.data),A,u),a,!0)}return Im}const nd=void 0;var CA=["en",[["a","p"],["AM","PM"],nd],[["AM","PM"],nd,nd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],nd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],nd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",nd,"{1} 'at' {0}",nd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function oT(s){const a=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let rd={};function Mm(s){const o=function lT(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=TA(o);if(a)return a;const u=o.split("-")[0];if(a=TA(u),a)return a;if("en"===u)return CA;throw new Error(`Missing locale data for the locale "${s}".`)}function DA(s){return Mm(s)[gn.PluralCase]}function TA(s){return s in rd||(rd[s]=mn.ng&&mn.ng.common&&mn.ng.common.locales&&mn.ng.common.locales[s]),rd[s]}var gn=(()=>((gn=gn||{})[gn.LocaleId=0]="LocaleId",gn[gn.DayPeriodsFormat=1]="DayPeriodsFormat",gn[gn.DayPeriodsStandalone=2]="DayPeriodsStandalone",gn[gn.DaysFormat=3]="DaysFormat",gn[gn.DaysStandalone=4]="DaysStandalone",gn[gn.MonthsFormat=5]="MonthsFormat",gn[gn.MonthsStandalone=6]="MonthsStandalone",gn[gn.Eras=7]="Eras",gn[gn.FirstDayOfWeek=8]="FirstDayOfWeek",gn[gn.WeekendRange=9]="WeekendRange",gn[gn.DateFormat=10]="DateFormat",gn[gn.TimeFormat=11]="TimeFormat",gn[gn.DateTimeFormat=12]="DateTimeFormat",gn[gn.NumberSymbols=13]="NumberSymbols",gn[gn.NumberFormats=14]="NumberFormats",gn[gn.CurrencyCode=15]="CurrencyCode",gn[gn.CurrencySymbol=16]="CurrencySymbol",gn[gn.CurrencyName=17]="CurrencyName",gn[gn.Currencies=18]="Currencies",gn[gn.Directionality=19]="Directionality",gn[gn.PluralCase=20]="PluralCase",gn[gn.ExtraData=21]="ExtraData",gn))();const Yl="en-US";let SA=Yl;function B_(s,o,a,u,p){if(s=T(s),Array.isArray(s))for(let y=0;y<s.length;y++)B_(s[y],o,a,u,p);else{const y=Tn(),A=ot();let S=qo(s)?s:T(s.provide),x=lm(s);const L=dr(),j=1048575&L.providerIndexes,re=L.directiveStart,Ee=L.providerIndexes>>20;if(qo(s)||!s.multi){const Fe=new $a(x,p,Kl),rt=U_(S,o,p?j:j+Ee,re);-1===rt?(fu(pi(L,A),y,S),XA(y,s,o.length),o.push(S),L.directiveStart++,L.directiveEnd++,p&&(L.providerIndexes+=1048576),a.push(Fe),A.push(Fe)):(a[rt]=Fe,A[rt]=Fe)}else{const Fe=U_(S,o,j+Ee,re),rt=U_(S,o,j,j+Ee),gt=Fe>=0&&a[Fe],kt=rt>=0&&a[rt];if(p&&!kt||!p&&!gt){fu(pi(L,A),y,S);const qt=function ew(s,o,a,u,p){const y=new $a(s,a,Kl);return y.multi=[],y.index=o,y.componentProviders=0,zT(y,p,u&&!a),y}(p?Vm:$T,a.length,p,u,x);!p&&kt&&(a[rt].providerFactory=qt),XA(y,s,o.length,0),o.push(S),L.directiveStart++,L.directiveEnd++,p&&(L.providerIndexes+=1048576),a.push(qt),A.push(qt)}else XA(y,s,Fe>-1?Fe:rt,zT(a[p?rt:Fe],x,!p&&u));!p&&u&&kt&&a[rt].componentProviders++}}}function XA(s,o,a,u){const p=qo(o),y=function Ao(s){return!!s.useClass}(o);if(p||y){const x=(y?T(o.useClass):o).prototype.ngOnDestroy;if(x){const L=s.destroyHooks||(s.destroyHooks=[]);if(!p&&o.multi){const j=L.indexOf(a);-1===j?L.push(a,[u,x]):L[j+1].push(u,x)}else L.push(a,x)}}}function zT(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function U_(s,o,a,u){for(let p=a;p<u;p++)if(o[p]===s)return p;return-1}function $T(s,o,a,u){return Bm(this.multi,[])}function Vm(s,o,a,u){const p=this.multi;let y;if(this.providerFactory){const A=this.providerFactory.componentProviders,S=Il(a,a[1],this.providerFactory.index,u);y=S.slice(0,A),Bm(p,y);for(let x=A;x<S.length;x++)y.push(S[x])}else y=[],Bm(p,y);return y}function Bm(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function tw(s,o=[]){return a=>{a.providersResolver=(u,p)=>function GT(s,o,a){const u=Tn();if(u.firstCreatePass){const p=fi(s);B_(a,u.data,u.blueprint,p,!0),B_(o,u.data,u.blueprint,p,!1)}}(u,p?p(s):s,o)}}class nw{}class mp{resolveComponentFactory(o){throw function qT(s){const o=Error(`No component factory found for ${xe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Um=(()=>{class s{}return s.NULL=new mp,s})();function ZT(){return Mf(dr(),ot())}function Mf(s,o){return new Hm(Wr(s,o))}let Hm=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=ZT,s})();function KT(s){return s instanceof Hm?s.nativeElement:s}class QT{}let jm=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function ju(){const s=ot(),a=Z(dr().index,s);return function Wn(s){return s[11]}(ni(a)?a:s)}(),s})(),Gu=(()=>{class s{}return s.\u0275prov=An({token:s,providedIn:"root",factory:()=>null}),s})();class vp{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const iw=new vp("13.3.3"),ui={};function xf(s,o,a,u,p=!1){for(;null!==a;){const y=o[a.index];if(null!==y&&u.push($n(y)),ri(y))for(let S=10;S<y.length;S++){const x=y[S],L=x[1].firstChild;null!==L&&xf(x[1],x,L,u)}const A=a.type;if(8&A)xf(s,o,a.child,u);else if(32&A){const S=Ne(a,o);let x;for(;x=S();)u.push(x)}else if(16&A){const S=yy(o,a);if(Array.isArray(S))u.push(...S);else{const x=pt(o[16]);xf(x[1],x,S,u,!0)}}a=p?a.projectionNext:a.next}return u}class yp{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return xf(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(ri(o)){const a=o[8],u=a?a.indexOf(this):-1;u>-1&&(Ih(o,u),xl(a,u))}this._attachedToViewContainer=!1}Hg(this._lView[1],this._lView)}onDestroy(o){Xg(this._lView[1],this._lView,null,o)}markForCheck(){Gy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){En(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Aa(s,o,a){Ha(!0);try{En(s,o,a)}finally{Ha(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new ie(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function sf(s,o){Pu(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new ie(902,"");this._appRef=o}}class YT extends yp{constructor(o){super(o),this._view=o}detectChanges(){li(this._view)}checkNoChanges(){!function Gh(s){Ha(!0);try{li(s)}finally{Ha(!1)}}(this._view)}get context(){return null}}class Ko extends Um{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Ut(o);return new Ma(a,this.ngModule)}}function JT(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class Ma extends nw{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function WC(s){return s.map(Dy).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return JT(this.componentDef.inputs)}get outputs(){return JT(this.componentDef.outputs)}create(o,a,u,p){const y=(p=p||this.ngModule)?function eS(s,o){return{get:(a,u,p)=>{const y=s.get(a,ui,p);return y!==ui||u===ui?y:o.get(a,u,p)}}}(o,p.injector):o,A=y.get(QT,Ni),S=y.get(Gu,null),x=A.createRenderer(null,this.componentDef),L=this.componentDef.selectors[0][0]||"div",j=u?function zE(s,o,a){if(ar(s))return s.selectRootElement(o,a===un.ShadowDom);let u="string"==typeof o?s.querySelector(o):o;return u.textContent="",u}(x,u,this.componentDef.encapsulation):Hi(A.createRenderer(null,this.componentDef),L,function XT(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(L)),re=this.componentDef.onPush?576:528,Ee=function DD(s,o){return{components:[],scheduler:s||cy,clean:yD,playerHandler:o||null,flags:0}}(),Fe=hf(0,null,null,1,0,null,null,null,null,null),rt=Bh(null,Fe,Ee,re,null,null,A,x,S,y);let gt,kt;za(rt);try{const qt=function Zy(s,o,a,u,p,y){const A=a[1];a[20]=s;const x=cf(A,20,2,"#host",null),L=x.mergedAttrs=o.hostAttrs;null!==L&&(sm(x,L,!0),null!==s&&(Cl(p,s,L),null!==x.classes&&lf(p,s,x.classes),null!==x.styles&&$g(p,s,x.styles)));const j=u.createRenderer(s,o),re=Bh(a,Eo(o),null,o.onPush?64:16,a[20],x,u,j,y||null,null);return A.firstCreatePass&&(fu(pi(x,a),A,o.type),Hy(A,x),QE(x,a.length,1)),jh(a,re),a[20]=re}(j,this.componentDef,rt,A,x);if(j)if(u)Cl(x,j,["ng-version",iw.full]);else{const{attrs:Ge,classes:rn}=function qC(s){const o=[],a=[];let u=1,p=2;for(;u<s.length;){let y=s[u];if("string"==typeof y)2===p?""!==y&&o.push(y,s[++u]):8===p&&a.push(y);else{if(!ji(p))break;p=y}u++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Ge&&Cl(x,j,Ge),rn&&rn.length>0&&lf(x,j,rn.join(" "))}if(kt=la(Fe,20),void 0!==a){const Ge=kt.projection=[];for(let rn=0;rn<this.ngContentSelectors.length;rn++){const qn=a[rn];Ge.push(null!=qn?Array.from(qn):null)}}gt=function Ky(s,o,a,u,p){const y=a[1],A=function KE(s,o,a){const u=dr();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),YE(s,u,o,df(s,o,1,null),a));const p=Il(o,s,u.directiveStart,u);oi(p,o);const y=Wr(u,o);return y&&oi(y,o),p}(y,a,o);if(u.components.push(A),s[8]=A,p&&p.forEach(x=>x(A,o)),o.contentQueries){const x=dr();o.contentQueries(1,A,x.directiveStart)}const S=dr();return!y.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Fs(S.index),Uy(a[1],S,0,S.directiveStart,S.directiveEnd,o),nm(o,A)),A}(qt,this.componentDef,rt,Ee,[Gi]),qc(Fe,rt,null)}finally{bl()}return new kn(this.componentType,gt,Mf(kt,rt),rt,kt)}}class kn extends class WT{}{constructor(o,a,u,p,y){super(),this.location=u,this._rootLView=p,this._tNode=y,this.instance=a,this.hostView=this.changeDetectorRef=new YT(p),this.componentType=o}get injector(){return new Bo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class zu{}class Rf{}const Nf=new Map;class Ci extends zu{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ko(this);const u=Ft(o);this._bootstrapComponents=v(u.bootstrap),this._r3Injector=pf(o,a,[{provide:zu,useValue:this},{provide:Um,useValue:this.componentFactoryResolver}],xe(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=Es.THROW_IF_NOT_FOUND,u=wt.Default){return o===Es||o===zu||o===om?this:this._r3Injector.get(o,a,u)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class cl extends Rf{constructor(o){super(),this.moduleType=o,null!==Ft(o)&&function tS(s){const o=new Set;!function a(u){const p=Ft(u,!0),y=p.id;null!==y&&(function aw(s,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${s} - ${xe(o)} vs ${xe(o.name)}`)}(y,Nf.get(y),u),Nf.set(y,u));const A=v(p.imports);for(const S of A)o.has(S)||(o.add(S),a(S))}(s)}(o)}create(o){return new Ci(this.moduleType,o)}}function ts(s,o,a,u,p,y){const A=o+a;return gi(s,A,p)?function Da(s,o,a){return s[o]=a}(s,A+1,y?u.call(y,p):u(p)):function sd(s,o){const a=s[o];return a===Fn?void 0:a}(s,A+1)}function W_(s,o){const a=Tn();let u;const p=s+20;a.firstCreatePass?(u=function fw(s,o){if(o)for(let a=o.length-1;a>=0;a--){const u=o[a];if(s===u.name)return u}}(o,a.pipeRegistry),a.data[p]=u,u.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(p,u.onDestroy)):u=a.data[p];const y=u.factory||(u.factory=_i(u.type)),A=Ot(Kl);try{const S=Wa(!1),x=y();return Wa(S),function MD(s,o,a,u){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=u}(a,ot(),p,x),x}finally{Ot(A)}}function Wm(s,o,a){const u=s+20,p=ot(),y=function K(s,o){return s[o]}(p,u);return function od(s,o){return s[1].data[o].pure}(p,u)?ts(p,function qr(){const s=Vt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}(),o,y.transform,a,y):y.transform(a)}function q_(s){return o=>{setTimeout(s,void 0,o)}}const xa=class pw extends h.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,u){var p,y,A;let S=o,x=a||(()=>null),L=u;if(o&&"object"==typeof o){const re=o;S=null===(p=re.next)||void 0===p?void 0:p.bind(re),x=null===(y=re.error)||void 0===y?void 0:y.bind(re),L=null===(A=re.complete)||void 0===A?void 0:A.bind(re)}this.__isAsync&&(x=q_(x),S&&(S=q_(S)),L&&(L=q_(L)));const j=super.subscribe({next:S,error:x,complete:L});return o instanceof P.w0&&o.add(j),j}};function qm(){return this._results[Bn()]()}class _p{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Bn(),u=_p.prototype;u[a]||(u[a]=qm)}get changes(){return this._changes||(this._changes=new xa)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const u=this;u.dirty=!1;const p=Vi(o);(this._changesDetected=!function Ac(s,o,a){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let p=s[u],y=o[u];if(a&&(p=a(p),y=a(y)),y!==p)return!1}return!0}(u._results,p,a))&&(u._results=p,u.length=p.length,u.last=p[this.length-1],u.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let ad=(()=>{class s{}return s.__NG_ELEMENT_ID__=lS,s})();const Z_=ad,aS=class extends Z_{constructor(o,a,u){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(o){const a=this._declarationTContainer.tViews,u=Bh(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(u[19]=y.createEmbeddedView(a)),qc(a,u,o),new yp(u)}};function lS(){return Pf(dr(),ot())}function Pf(s,o){return 4&s.type?new aS(o,s,Mf(s,o)):null}let Ep=(()=>{class s{}return s.__NG_ELEMENT_ID__=uS,s})();function uS(){return Ff(dr(),ot())}const cS=Ep,$i=class extends cS{constructor(o,a,u){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=u}get element(){return Mf(this._hostTNode,this._hostLView)}get injector(){return new Bo(this._hostTNode,this._hostLView)}get parentInjector(){const o=Bs(this._hostTNode,this._hostLView);if(oo(o)){const a=Lr(o,this._hostLView),u=ao(o);return new Bo(a[1].data[u+8],a)}return new Bo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Of(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,u){const p=o.createEmbeddedView(a||{});return this.insert(p,u),p}createComponent(o,a,u,p,y){const A=o&&!function Li(s){return"function"==typeof s}(o);let S;if(A)S=a;else{const re=a||{};S=re.index,u=re.injector,p=re.projectableNodes,y=re.ngModuleRef}const x=A?o:new Ma(Ut(o)),L=u||this.parentInjector;if(!y&&null==x.ngModule){const Ee=(A?L:this.parentInjector).get(zu,null);Ee&&(y=Ee)}const j=x.create(L,p,void 0,y);return this.insert(j.hostView,S),j}insert(o,a){const u=o._lView,p=u[1];if(function yt(s){return ri(s[3])}(u)){const j=this.indexOf(o);if(-1!==j)this.detach(j);else{const re=u[3],Ee=new $i(re,re[6],re[3]);Ee.detach(Ee.indexOf(o))}}const y=this._adjustIndex(a),A=this._lContainer;!function _a(s,o,a,u){const p=10+u,y=a.length;u>0&&(a[p-1][4]=o),u<y-10?(o[4]=a[p],co(a,10+u,o)):(a.push(o),o[4]=null),o[3]=a;const A=o[17];null!==A&&a!==A&&function Ug(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(A,o);const S=o[19];null!==S&&S.insertView(s),o[2]|=128}(p,u,A,y);const S=_y(y,A),x=u[11],L=Mh(x,A[7]);return null!==L&&function Ws(s,o,a,u,p,y){u[0]=p,u[6]=o,Pu(s,u,a,1,p,y)}(p,A[6],x,u,L,S),o.attachToViewContainerRef(),co(K_(A),y,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Of(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),u=Ih(this._lContainer,a);u&&(xl(K_(this._lContainer),a),Hg(u[1],u))}detach(o){const a=this._adjustIndex(o,-1),u=Ih(this._lContainer,a);return u&&null!=xl(K_(this._lContainer),a)?new yp(u):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function Of(s){return s[8]}function K_(s){return s[8]||(s[8]=[])}function Ff(s,o){let a;const u=o[s.index];if(ri(u))a=u;else{let p;if(8&s.type)p=$n(u);else{const y=o[11];p=y.createComment("");const A=Wr(s,o);Gl(y,Mh(y,A),p,function wE(s,o){return ar(s)?s.nextSibling(o):o.nextSibling}(y,A),!1)}o[s.index]=a=eb(u,o,p,s),jh(o,a)}return new $i(a,s,o)}class Lf{constructor(o){this.queryList=o,this.matches=null}clone(){return new Lf(this.queryList)}setDirty(){this.queryList.setDirty()}}class bp{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const u=null!==o.contentQueries?o.contentQueries[0]:a.length,p=[];for(let y=0;y<u;y++){const A=a.getByIndex(y);p.push(this.queries[A.indexInDeclarationView].clone())}return new bp(p)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Jm(o,a).matches&&this.queries[a].setDirty()}}class Zm{constructor(o,a,u=null){this.predicate=o,this.flags=a,this.read=u}}class Ap{constructor(o=[]){this.queries=o}elementStart(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let u=0;u<this.length;u++){const p=null!==a?a.length:0,y=this.getByIndex(u).embeddedTView(o,p);y&&(y.indexInDeclarationView=u,null!==a?a.push(y):a=[y])}return null!==a?new Ap(a):null}template(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class wp{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new wp(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let p=0;p<u.length;p++){const y=u[p];this.matchTNodeWithReadOption(o,a,gw(a,y)),this.matchTNodeWithReadOption(o,a,hu(a,o,y,!1,!1))}else u===ad?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,hu(a,o,u,!1,!1))}matchTNodeWithReadOption(o,a,u){if(null!==u){const p=this.metadata.read;if(null!==p)if(p===Hm||p===Ep||p===ad&&4&a.type)this.addMatch(a.index,-2);else{const y=hu(a,o,p,!1,!1);null!==y&&this.addMatch(a.index,y)}else this.addMatch(a.index,u)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function gw(s,o){const a=s.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===o)return a[u+1];return null}function hS(s,o,a,u){return-1===a?function mw(s,o){return 11&s.type?Mf(s,o):4&s.type?Pf(s,o):null}(o,s):-2===a?function vw(s,o,a){return a===Hm?Mf(o,s):a===ad?Pf(o,s):a===Ep?Ff(o,s):void 0}(s,o,u):Il(s,s[1],a,o)}function Y_(s,o,a,u){const p=o[19].queries[u];if(null===p.matches){const y=s.data,A=a.matches,S=[];for(let x=0;x<A.length;x+=2){const L=A[x];S.push(L<0?null:hS(o,y[L],A[x+1],a.metadata.read))}p.matches=S}return p.matches}function Cp(s,o,a,u){const p=s.queries.getByIndex(a),y=p.matches;if(null!==y){const A=Y_(s,o,p,a);for(let S=0;S<y.length;S+=2){const x=y[S];if(x>0)u.push(A[S/2]);else{const L=y[S+1],j=o[-x];for(let re=10;re<j.length;re++){const Ee=j[re];Ee[17]===Ee[3]&&Cp(Ee[1],Ee,L,u)}if(null!==j[9]){const re=j[9];for(let Ee=0;Ee<re.length;Ee++){const Fe=re[Ee];Cp(Fe[1],Fe,L,u)}}}}}return u}function J_(s){const o=ot(),a=Tn(),u=dc();fc(u+1);const p=Jm(a,u);if(s.dirty&&we(o)===(2==(2&p.metadata.flags))){if(null===p.matches)s.reset([]);else{const y=p.crossesNgTemplate?Cp(a,o,u,[]):Y_(a,o,p,u);s.reset(y,KT),s.notifyOnChanges()}return!0}return!1}function yw(s,o,a){const u=Tn();u.firstCreatePass&&(Di(u,new Zm(s,o,a),-1),2==(2&o)&&(u.staticViewQueries=!0)),mi(u,ot(),o)}function Km(s,o,a,u){const p=Tn();if(p.firstCreatePass){const y=dr();Di(p,new Zm(o,a,u),y.index),function Ym(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(p,s),2==(2&a)&&(p.staticContentQueries=!0)}mi(p,ot(),a)}function Qm(){return function X_(s,o){return s[19].queries[o].queryList}(ot(),dc())}function mi(s,o,a){const u=new _p(4==(4&a));Xg(s,o,u,u.destroy),null===o[19]&&(o[19]=new bp),o[19].queries.push(new Lf(u))}function Di(s,o,a){null===s.queries&&(s.queries=new Ap),s.queries.track(new wp(o,a))}function Jm(s,o){return s.queries.getByIndex(o)}function Wu(...s){}const Sp=new Dr("Application Initializer");let dd=(()=>{class s{constructor(a){this.appInits=a,this.resolve=Wu,this.reject=Wu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,p)=>{this.resolve=u,this.reject=p})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const y=this.appInits[p]();if(Af(y))a.push(y);else if(Ub(y)){const A=new Promise((S,x)=>{y.subscribe({complete:S,error:x})});a.push(A)}}Promise.all(a).then(()=>{u()}).catch(p=>{this.reject(p)}),0===a.length&&u(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(si(Sp,8))},s.\u0275prov=An({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const qu=new Dr("AppId",{providedIn:"root",factory:function cv(){return`${Ip()}${Ip()}${Ip()}`}});function Ip(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const fd=new Dr("Platform Initializer"),d0=new Dr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Zu=new Dr("appBootstrapListener");let TS=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=An({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Ra=new Dr("LocaleId",{providedIn:"root",factory:()=>mh(Ra,wt.Optional|wt.SkipSelf)||function hd(){return"undefined"!=typeof $localize&&$localize.locale||Yl}()}),dv=new Dr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class kr{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let fv=(()=>{class s{compileModuleSync(a){return new cl(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),y=v(Ft(a).declarations).reduce((A,S)=>{const x=Ut(S);return x&&A.push(new Ma(x)),A},[]);return new kr(u,y)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=An({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Mp=(()=>Promise.resolve(0))();function pd(s){"undefined"==typeof Zone?Mp.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Qo{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xa(!1),this.onMicrotaskEmpty=new xa(!1),this.onStable=new xa(!1),this.onError=new xa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!u&&a,p.shouldCoalesceRunChangeDetection=u,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function MS(){let s=mn.requestAnimationFrame,o=mn.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function NS(s){const o=()=>{!function RS(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(mn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,gd(s),s.isCheckStableRunning=!0,p0(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),gd(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,p,y,A,S)=>{try{return Xl(s),a.invokeTask(p,y,A,S)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||s.shouldCoalesceRunChangeDetection)&&o(),g0(s)}},onInvoke:(a,u,p,y,A,S,x)=>{try{return Xl(s),a.invoke(p,y,A,S,x)}finally{s.shouldCoalesceRunChangeDetection&&o(),g0(s)}},onHasTask:(a,u,p,y)=>{a.hasTask(p,y),u===p&&("microTask"==y.change?(s._hasPendingMicrotasks=y.microTask,gd(s),p0(s)):"macroTask"==y.change&&(s.hasPendingMacrotasks=y.macroTask))},onHandleError:(a,u,p,y)=>(a.handleError(p,y),s.runOutsideAngular(()=>s.onError.emit(y)),!1)})}(p)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Qo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,u){return this._inner.run(o,a,u)}runTask(o,a,u,p){const y=this._inner,A=y.scheduleEventTask("NgZoneEvent: "+p,o,xS,Wu,Wu);try{return y.runTask(A,a,u)}finally{y.cancelTask(A)}}runGuarded(o,a,u){return this._inner.runGuarded(o,a,u)}runOutsideAngular(o){return this._outer.run(o)}}const xS={};function p0(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function gd(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Xl(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function g0(s){s._nesting--,p0(s)}class Mw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xa,this.onMicrotaskEmpty=new xa,this.onStable=new xa,this.onError=new xa}run(o,a,u){return o.apply(a,u)}runGuarded(o,a,u){return o.apply(a,u)}runOutsideAngular(o){return o()}runTask(o,a,u,p){return o.apply(a,u)}}let m0=(()=>{class s{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qo.assertNotInAngularZone(),pd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())pd(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,p){let y=-1;u&&u>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(A=>A.timeoutId!==y),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:y,updateCb:p})}whenStable(a,u,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,u,p){return[]}}return s.\u0275fac=function(a){return new(a||s)(si(Qo))},s.\u0275prov=An({token:s,factory:s.\u0275fac}),s})(),Hf=(()=>{class s{constructor(){this._applications=new Map,hv.addToWindow(this)}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return hv.findTestabilityInTree(this,a,u)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=An({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();class kS{addToWindow(o){}findTestabilityInTree(o,a,u){return null}}function PS(s){hv=s}let Na,hv=new kS;const pv=new Dr("AllowMultipleToken");class Rw{constructor(o,a){this.name=o,this.token=a}}function gv(s,o,a=[]){const u=`Platform: ${o}`,p=new Dr(u);return(y=[])=>{let A=kw();if(!A||A.injector.get(pv,!1))if(s)s(a.concat(y).concat({provide:p,useValue:!0}));else{const S=a.concat(y).concat({provide:p,useValue:!0},{provide:am,useValue:"platform"});!function Nw(s){if(Na&&!Na.destroyed&&!Na.injector.get(pv,!1))throw new ie(400,"");Na=s.get(mv);const o=s.get(fd,null);o&&o.forEach(a=>a())}(Es.create({providers:S,name:u}))}return function FS(s){const o=kw();if(!o)throw new ie(401,"");return o}()}}function kw(){return Na&&!Na.destroyed?Na:null}let mv=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const S=function xp(s,o){let a;return a="noop"===s?new Mw:("zone.js"===s?void 0:s)||new Qo({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),x=[{provide:Qo,useValue:S}];return S.run(()=>{const L=Es.create({providers:x,parent:this.injector,name:a.moduleType.name}),j=a.create(L),re=j.injector.get(jc,null);if(!re)throw new ie(402,"");return S.runOutsideAngular(()=>{const Ee=S.onError.subscribe({next:Fe=>{re.handleError(Fe)}});j.onDestroy(()=>{md(this._modules,j),Ee.unsubscribe()})}),function vv(s,o,a){try{const u=a();return Af(u)?u.catch(p=>{throw o.runOutsideAngular(()=>s.handleError(p)),p}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(re,S,()=>{const Ee=j.injector.get(dd);return Ee.runInitializers(),Ee.donePromise.then(()=>(function fT(s){It(s,"Expected localeId to be defined"),"string"==typeof s&&(SA=s.toLowerCase().replace(/_/g,"-"))}(j.injector.get(Ra,Yl)||Yl),this._moduleDoBootstrap(j),j))})})}bootstrapModule(a,u=[]){const p=yv({},u);return function xw(s,o,a){const u=new cl(a);return Promise.resolve(u)}(0,0,a).then(y=>this.bootstrapModuleFactory(y,p))}_moduleDoBootstrap(a){const u=a.injector.get(_v);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(p=>u.bootstrap(p));else{if(!a.instance.ngDoBootstrap)throw new ie(403,"");a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ie(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(si(Es))},s.\u0275prov=An({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function yv(s,o){return Array.isArray(o)?o.reduce(yv,s):Object.assign(Object.assign({},s),o)}let _v=(()=>{class s{constructor(a,u,p,y){this._zone=a,this._injector=u,this._exceptionHandler=p,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const A=new R.y(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),S=new R.y(x=>{let L;this._zone.runOutsideAngular(()=>{L=this._zone.onStable.subscribe(()=>{Qo.assertNotInAngularZone(),pd(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const j=this._zone.onUnstable.subscribe(()=>{Qo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{L.unsubscribe(),j.unsubscribe()}});this.isStable=(0,G.T)(A,S.pipe((0,te.B)()))}bootstrap(a,u){if(!this._initStatus.done)throw new ie(405,"");let p;p=a instanceof nw?a:this._injector.get(Um).resolveComponentFactory(a),this.componentTypes.push(p.componentType);const y=function v0(s){return s.isBoundToModule}(p)?void 0:this._injector.get(zu),S=p.create(Es.NULL,[],u||p.selector,y),x=S.location.nativeElement,L=S.injector.get(m0,null),j=L&&S.injector.get(Hf);return L&&j&&j.registerApplication(x,L),S.onDestroy(()=>{this.detachView(S.hostView),md(this.components,S),j&&j.unregisterApplication(x)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new ie(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;md(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Zu,[]).concat(this._bootstrapListeners).forEach(p=>p(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(a){return new(a||s)(si(Qo),si(Es),si(jc),si(dd))},s.\u0275prov=An({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function md(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let Yr=!0,y0=!1;function VS(){return y0=!0,Yr}function BS(){if(y0)throw new Error("Cannot enable prod mode after platform setup.");Yr=!1}let Pw=(()=>{class s{}return s.__NG_ELEMENT_ID__=Ow,s})();function Ow(s){return function Ev(s,o,a){if(Ro(s)&&!a){const u=Z(s.index,o);return new yp(u,u)}return 47&s.type?new yp(o[16],o):null}(dr(),ot(),16==(16&s))}class C0{constructor(){}supports(o){return Yh(o)}create(o){return new Vw(o)}}const vd=(s,o)=>o;class Vw{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||vd}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,u=this._removalsHead,p=0,y=null;for(;a||u;){const A=!u||a&&a.currentIndex<Op(u,p,y)?a:u,S=Op(A,p,y),x=A.currentIndex;if(A===u)p--,u=u._nextRemoved;else if(a=a._next,null==A.previousIndex)p++;else{y||(y=[]);const L=S-p,j=x-p;if(L!=j){for(let Ee=0;Ee<L;Ee++){const Fe=Ee<y.length?y[Ee]:y[Ee]=0,rt=Fe+Ee;j<=rt&&rt<L&&(y[Ee]=Fe+1)}y[A.previousIndex]=j-L}}S!==x&&o(A,S,x)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Yh(o))throw new ie(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let p,y,A,a=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let S=0;S<this.length;S++)y=o[S],A=this._trackByFn(S,y),null!==a&&Object.is(a.trackById,A)?(u&&(a=this._verifyReinsertion(a,y,A,S)),Object.is(a.item,y)||this._addIdentityChange(a,y)):(a=this._mismatch(a,y,A,S),u=!0),a=a._next}else p=0,function ID(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[Bn()]();let u;for(;!(u=a.next()).done;)o(u.value)}}(o,S=>{A=this._trackByFn(p,S),null!==a&&Object.is(a.trackById,A)?(u&&(a=this._verifyReinsertion(a,S,A,p)),Object.is(a.item,S)||this._addIdentityChange(a,S)):(a=this._mismatch(a,S,A,p),u=!0),a=a._next,p++}),this.length=p;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,u,p){let y;return null===o?y=this._itTail:(y=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,y,p)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,p))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,y,p)):o=this._addAfter(new Bw(a,u),y,p),o}_verifyReinsertion(o,a,u,p){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==y?o=this._reinsertAfter(y,o._prev,p):o.currentIndex!=p&&(o.currentIndex=p,this._addToMoves(o,p)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const p=o._prevRemoved,y=o._nextRemoved;return null===p?this._removalsHead=y:p._nextRemoved=y,null===y?this._removalsTail=p:y._prevRemoved=p,this._insertAfter(o,a,u),this._addToMoves(o,u),o}_moveAfter(o,a,u){return this._unlink(o),this._insertAfter(o,a,u),this._addToMoves(o,u),o}_addAfter(o,a,u){return this._insertAfter(o,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,u){const p=null===a?this._itHead:a._next;return o._next=p,o._prev=a,null===p?this._itTail=o:p._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new D0),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,u=o._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new D0),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Bw{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Uw{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const a=o._prevDup,u=o._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class D0{constructor(){this.map=new Map}put(o){const a=o.trackById;let u=this.map.get(a);u||(u=new Uw,this.map.set(a,u)),u.add(o)}get(o,a){const p=this.map.get(o);return p?p.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Op(s,o,a){const u=s.previousIndex;if(null===u)return u;let p=0;return a&&u<a.length&&(p=a[u]),u+o+p}class Qs{constructor(){}supports(o){return o instanceof Map||hm(o)}create(){return new Hw}}class Hw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||hm(o)))throw new ie(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,p)=>{if(a&&a.key===p)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const y=this._getOrCreateRecordForKey(p,u);a=this._insertBeforeOrAppend(a,y)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const u=o._prev;return a._next=o,a._prev=u,o._prev=a,u&&(u._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const p=this._records.get(o);this._maybeAddToChanges(p,a);const y=p._prev,A=p._next;return y&&(y._next=A),A&&(A._prev=y),p._next=null,p._prev=null,p}const u=new jw(o);return this._records.set(o,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(u=>a(o[u],u))}}class jw{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function yd(){return new T0([new C0])}let T0=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(null!=u){const p=u.factories.slice();a=a.concat(p)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||yd()),deps:[[s,new go,new $s]]}}find(a){const u=this.factories.find(p=>p.supports(a));if(null!=u)return u;throw new ie(901,"")}}return s.\u0275prov=An({token:s,providedIn:"root",factory:yd}),s})();function Dv(){return new S0([new Qs])}let S0=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(u){const p=u.factories.slice();a=a.concat(p)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||Dv()),deps:[[s,new go,new $s]]}}find(a){const u=this.factories.find(y=>y.supports(a));if(u)return u;throw new ie(901,"")}}return s.\u0275prov=An({token:s,providedIn:"root",factory:Dv}),s})();const $S=gv(null,"core",[]);let zw=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(si(_v))},s.\u0275mod=Se({type:s}),s.\u0275inj=_e({}),s})()},579:(Nt,We,$)=>{"use strict";$.d(We,{Gb:()=>mn,IH:()=>Jn});var h=$(5861),P=$(9681),R=$(1877),G=$(2090),te=$(4859);$(2833);const be="analytics",xe="firebase_id",de="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",T="https://www.googletagmanager.com/gtag/js",F=new R.Yd("@firebase/analytics");function U(ae){return Promise.all(ae.map(ge=>ge.catch(Pe=>Pe)))}function ie(ae,ge){const Pe=document.createElement("script");Pe.src=`${T}?l=${ae}&id=${ge}`,Pe.async=!0,document.head.appendChild(Pe)}function ce(ae,ge,Pe,st,ht,ut){return oe.apply(this,arguments)}function oe(){return(oe=(0,h.Z)(function*(ae,ge,Pe,st,ht,ut){const jt=st[ht];try{if(jt)yield ge[jt];else{const pe=(yield U(Pe)).find(he=>he.measurementId===ht);pe&&(yield ge[pe.appId])}}catch(Se){F.error(Se)}ae("config",ht,ut)})).apply(this,arguments)}function je(ae,ge,Pe,st,ht){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,h.Z)(function*(ae,ge,Pe,st,ht){try{let ut=[];if(ht&&ht.send_to){let jt=ht.send_to;Array.isArray(jt)||(jt=[jt]);const Se=yield U(Pe);for(const pe of jt){const he=Se.find(bt=>bt.measurementId===pe),et=he&&ge[he.appId];if(!et){ut=[];break}ut.push(et)}}0===ut.length&&(ut=Object.values(ge)),yield Promise.all(ut),ae("event",st,ht||{})}catch(ut){F.error(ut)}})).apply(this,arguments)}function $e(){const ae=window.document.getElementsByTagName("script");for(const ge of Object.values(ae))if(ge.src&&ge.src.includes(T))return ge;return null}const Te=new G.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Oe=new class Ie{constructor(ge={},Pe=1e3){this.throttleMetadata=ge,this.intervalMillis=Pe}getThrottleMetadata(ge){return this.throttleMetadata[ge]}setThrottleMetadata(ge,Pe){this.throttleMetadata[ge]=Pe}deleteThrottleMetadata(ge){delete this.throttleMetadata[ge]}};function Be(ae){return new Headers({Accept:"application/json","x-goog-api-key":ae})}function Xe(ae){return ke.apply(this,arguments)}function ke(){return(ke=(0,h.Z)(function*(ae){var ge;const{appId:Pe,apiKey:st}=ae,ht={method:"GET",headers:Be(st)},ut=de.replace("{app-id}",Pe),jt=yield fetch(ut,ht);if(200!==jt.status&&304!==jt.status){let Se="";try{const pe=yield jt.json();(null===(ge=pe.error)||void 0===ge?void 0:ge.message)&&(Se=pe.error.message)}catch(pe){}throw Te.create("config-fetch-failed",{httpStatus:jt.status,responseMessage:Se})}return jt.json()})).apply(this,arguments)}function Gt(ae){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,h.Z)(function*(ae,ge=Oe,Pe){const{appId:st,apiKey:ht,measurementId:ut}=ae.options;if(!st)throw Te.create("no-app-id");if(!ht){if(ut)return{measurementId:ut,appId:st};throw Te.create("no-api-key")}const jt=ge.getThrottleMetadata(st)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Se=new Vn;return setTimeout((0,h.Z)(function*(){Se.abort()}),void 0!==Pe?Pe:6e4),Qn({appId:st,apiKey:ht,measurementId:ut},jt,Se,ge)})).apply(this,arguments)}function Qn(ae,ge,Pe){return It.apply(this,arguments)}function It(){return(It=(0,h.Z)(function*(ae,{throttleEndTimeMillis:ge,backoffCount:Pe},st,ht=Oe){const{appId:ut,measurementId:jt}=ae;try{yield Ht(st,ge)}catch(Se){if(jt)return F.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${jt} provided in the "measurementId" field in the local Firebase config. [${Se.message}]`),{appId:ut,measurementId:jt};throw Se}try{const Se=yield Xe(ae);return ht.deleteThrottleMetadata(ut),Se}catch(Se){if(!zn(Se)){if(ht.deleteThrottleMetadata(ut),jt)return F.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${jt} provided in the "measurementId" field in the local Firebase config. [${Se.message}]`),{appId:ut,measurementId:jt};throw Se}const pe=503===Number(Se.customData.httpStatus)?(0,G.$s)(Pe,ht.intervalMillis,30):(0,G.$s)(Pe,ht.intervalMillis),he={throttleEndTimeMillis:Date.now()+pe,backoffCount:Pe+1};return ht.setThrottleMetadata(ut,he),F.debug(`Calling attemptFetch again in ${pe} millis`),Qn(ae,he,st,ht)}})).apply(this,arguments)}function Ht(ae,ge){return new Promise((Pe,st)=>{const ht=Math.max(ge-Date.now(),0),ut=setTimeout(Pe,ht);ae.addEventListener(()=>{clearTimeout(ut),st(Te.create("fetch-throttle",{throttleEndTimeMillis:ge}))})})}function zn(ae){if(!(ae instanceof G.ZR&&ae.customData))return!1;const ge=Number(ae.customData.httpStatus);return 429===ge||500===ge||503===ge||504===ge}class Vn{constructor(){this.listeners=[]}addEventListener(ge){this.listeners.push(ge)}abort(){this.listeners.forEach(ge=>ge())}}function yr(){return An.apply(this,arguments)}function An(){return(An=(0,h.Z)(function*(){if(!(0,G.hl)())return F.warn(Te.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,G.eu)()}catch(ae){return F.warn(Te.create("indexeddb-unavailable",{errorInfo:ae}).message),!1}return!0})).apply(this,arguments)}function _e(){return(_e=(0,h.Z)(function*(ae,ge,Pe,st,ht,ut,jt){var Se;const pe=Gt(ae);pe.then(nn=>{Pe[nn.measurementId]=nn.appId,ae.options.measurementId&&nn.measurementId!==ae.options.measurementId&&F.warn(`The measurement ID in the local Firebase config (${ae.options.measurementId}) does not match the measurement ID fetched from the server (${nn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(nn=>F.error(nn)),ge.push(pe);const he=yr().then(nn=>{if(nn)return st.getId()}),[et,bt]=yield Promise.all([pe,he]);$e()||ie(ut,et.measurementId),ht("js",new Date);const Ut=null!==(Se=null==jt?void 0:jt.config)&&void 0!==Se?Se:{};return Ut.origin="firebase",Ut.update=!0,null!=bt&&(Ut[xe]=bt),ht("config",et.measurementId,Ut),et.measurementId})).apply(this,arguments)}class Ve{constructor(ge){this.app=ge}_delete(){return delete lt[this.app.options.appId],Promise.resolve()}}let lt={},At=[];const Ze={};let fn,dn,Pt="dataLayer",Ke=!1;function vt(ae,ge,Pe){!function Yt(){const ae=[];if((0,G.ru)()&&ae.push("This is a browser extension environment."),(0,G.zI)()||ae.push("Cookies are not available."),ae.length>0){const ge=ae.map((st,ht)=>`(${ht+1}) ${st}`).join(" "),Pe=Te.create("invalid-analytics-context",{errorInfo:ge});F.warn(Pe.message)}}();const st=ae.options.appId;if(!st)throw Te.create("no-app-id");if(!ae.options.apiKey){if(!ae.options.measurementId)throw Te.create("no-api-key");F.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${ae.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=lt[st])throw Te.create("already-exists",{id:st});if(!Ke){!function me(ae){let ge=[];Array.isArray(window[ae])?ge=window[ae]:window[ae]=ge}(Pt);const{wrappedGtag:ut,gtagCore:jt}=function Ye(ae,ge,Pe,st,ht){let ut=function(...jt){window[st].push(arguments)};return window[ht]&&"function"==typeof window[ht]&&(ut=window[ht]),window[ht]=function qe(ae,ge,Pe,st){function ut(){return(ut=(0,h.Z)(function*(jt,Se,pe){try{"event"===jt?yield je(ae,ge,Pe,Se,pe):"config"===jt?yield ce(ae,ge,Pe,st,Se,pe):ae("set",Se)}catch(he){F.error(he)}})).apply(this,arguments)}return function ht(jt,Se,pe){return ut.apply(this,arguments)}}(ut,ae,ge,Pe),{gtagCore:ut,wrappedGtag:window[ht]}}(lt,At,Ze,Pt,"gtag");dn=ut,fn=jt,Ke=!0}return lt[st]=function Ae(ae,ge,Pe,st,ht,ut,jt){return _e.apply(this,arguments)}(ae,At,Ze,ge,fn,Pt,Pe),new Ve(ae)}function Yn(){return(Yn=(0,h.Z)(function*(ae,ge,Pe,st,ht){if(ht&&ht.global)ae("event",Pe,st);else{const ut=yield ge;ae("event",Pe,Object.assign(Object.assign({},st),{send_to:ut}))}})).apply(this,arguments)}function Jn(ae=(0,P.getApp)()){ae=(0,G.m9)(ae);const ge=(0,P._getProvider)(ae,be);return ge.isInitialized()?ge.getImmediate():function Sr(ae,ge={}){const Pe=(0,P._getProvider)(ae,be);if(Pe.isInitialized()){const ht=Pe.getImmediate();if((0,G.vZ)(ge,Pe.getOptions()))return ht;throw Te.create("already-initialized")}return Pe.initialize({options:ge})}(ae)}function mn(){return _r.apply(this,arguments)}function _r(){return(_r=(0,h.Z)(function*(){if((0,G.ru)()||!(0,G.zI)()||!(0,G.hl)())return!1;try{return yield(0,G.eu)()}catch(ae){return!1}})).apply(this,arguments)}const Y="@firebase/analytics",W="0.7.9";!function le(){(0,P._registerComponent)(new te.wA(be,(ge,{options:Pe})=>vt(ge.getProvider("app").getImmediate(),ge.getProvider("installations-internal").getImmediate(),Pe),"PUBLIC")),(0,P._registerComponent)(new te.wA("analytics-internal",function ae(ge){try{const Pe=ge.getProvider(be).getImmediate();return{logEvent:(st,ht,ut)=>function B(ae,ge,Pe,st){ae=(0,G.m9)(ae),function Ot(ae,ge,Pe,st,ht){return Yn.apply(this,arguments)}(dn,lt[ae.app.options.appId],ge,Pe,st).catch(ht=>F.error(ht))}(Pe,st,ht,ut)}}catch(Pe){throw Te.create("interop-component-reg-failed",{reason:Pe})}},"PRIVATE")),(0,P.registerVersion)(Y,W),(0,P.registerVersion)(Y,W,"esm2017")}()},3942:(Nt,We,$)=>{"use strict";$.d(We,{Z:()=>ie});var h=$(2090),P=$(4859),R=$(9681),G=$(1877);class te{constructor(ce,oe){this._delegate=ce,this.firebase=oe,(0,R._addComponent)(ce,new P.wA("app-compat",()=>this,"PUBLIC")),this.container=ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ce){this._delegate.automaticDataCollectionEnabled=ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ce=>{this._delegate.checkDestroyed(),ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(ce,oe=R._DEFAULT_ENTRY_NAME){var je;this._delegate.checkDestroyed();const Qe=this._delegate.container.getProvider(ce);return!Qe.isInitialized()&&"EXPLICIT"===(null===(je=Qe.getComponent())||void 0===je?void 0:je.instantiationMode)&&Qe.initialize(),Qe.getImmediate({identifier:oe})}_removeServiceInstance(ce,oe=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ce).clearInstance(oe)}_addComponent(ce){(0,R._addComponent)(this._delegate,ce)}_addOrOverwriteComponent(ce){(0,R._addOrOverwriteComponent)(this._delegate,ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const be=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),X=function De(){const me=function xe(me){const ce={},oe={__esModule:!0,initializeApp:function qe(Te,Re={}){const fe=R.initializeApp(Te,Re);if((0,h.r3)(ce,fe.name))return ce[fe.name];const Ie=new me(fe,oe);return ce[fe.name]=Ie,Ie},app:Qe,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function $e(Te){const Re=Te.name,fe=Re.replace("-compat","");if(R._registerComponent(Te)&&"PUBLIC"===Te.type){const Ie=(Oe=Qe())=>{if("function"!=typeof Oe[fe])throw be.create("invalid-app-argument",{appName:Re});return Oe[fe]()};void 0!==Te.serviceProps&&(0,h.ZB)(Ie,Te.serviceProps),oe[fe]=Ie,me.prototype[fe]=function(...Oe){return this._getService.bind(this,Re).apply(this,Te.multipleInstances?Oe:[])}}return"PUBLIC"===Te.type?oe[fe]:null},removeApp:function je(Te){delete ce[Te]},useAsService:function mt(Te,Re){return"serverAuth"===Re?null:Re},modularAPIs:R}};function Qe(Te){if(!(0,h.r3)(ce,Te=Te||R._DEFAULT_ENTRY_NAME))throw be.create("no-app",{appName:Te});return ce[Te]}return oe.default=oe,Object.defineProperty(oe,"apps",{get:function Ye(){return Object.keys(ce).map(Te=>ce[Te])}}),Qe.App=me,oe}(te);return me.INTERNAL=Object.assign(Object.assign({},me.INTERNAL),{createFirebaseNamespace:De,extendNamespace:function ce(oe){(0,h.ZB)(me,oe)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),me}(),de=new G.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){de.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const me=self.firebase.SDK_VERSION;me&&me.indexOf("LITE")>=0&&de.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ie=X;!function U(me){(0,R.registerVersion)("@firebase/app-compat","0.1.25",me)}()},9681:(Nt,We,$)=>{"use strict";$.r(We),$.d(We,{FirebaseError:()=>G.ZR,SDK_VERSION:()=>on,_DEFAULT_ENTRY_NAME:()=>It,_addComponent:()=>yr,_addOrOverwriteComponent:()=>An,_apps:()=>zn,_clearComponents:()=>lt,_components:()=>Vn,_getProvider:()=>_e,_registerComponent:()=>Ae,_removeServiceInstance:()=>Ve,deleteApp:()=>wt,getApp:()=>dn,getApps:()=>Ke,initializeApp:()=>fn,onLog:()=>Ot,registerVersion:()=>vt,setLogLevel:()=>Yn});var h=$(5861),P=$(4859),R=$(1877),G=$(2090),te=$(8766);class Ce{constructor(le){this.container=le}getPlatformInfoString(){return this.container.getProviders().map(ae=>{if(function be(W){const le=W.getComponent();return"VERSION"===(null==le?void 0:le.type)}(ae)){const ge=ae.getImmediate();return`${ge.library}/${ge.version}`}return null}).filter(ae=>ae).join(" ")}}const xe="@firebase/app",X=new R.Yd("@firebase/app"),It="[DEFAULT]",Ht={[xe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},zn=new Map,Vn=new Map;function yr(W,le){try{W.container.addComponent(le)}catch(ae){X.debug(`Component ${le.name} failed to register with FirebaseApp ${W.name}`,ae)}}function An(W,le){W.container.addOrOverwriteComponent(le)}function Ae(W){const le=W.name;if(Vn.has(le))return X.debug(`There were multiple attempts to register component ${le}.`),!1;Vn.set(le,W);for(const ae of zn.values())yr(ae,W);return!0}function _e(W,le){const ae=W.container.getProvider("heartbeat").getImmediate({optional:!0});return ae&&ae.triggerHeartbeat(),W.container.getProvider(le)}function Ve(W,le,ae=It){_e(W,le).clearInstance(ae)}function lt(){Vn.clear()}const Ze=new G.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Pt{constructor(le,ae,ge){this._isDeleted=!1,this._options=Object.assign({},le),this._config=Object.assign({},ae),this._name=ae.name,this._automaticDataCollectionEnabled=ae.automaticDataCollectionEnabled,this._container=ge,this.container.addComponent(new P.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(le){this.checkDestroyed(),this._automaticDataCollectionEnabled=le}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(le){this._isDeleted=le}checkDestroyed(){if(this.isDeleted)throw Ze.create("app-deleted",{appName:this._name})}}const on="9.8.1";function fn(W,le={}){"object"!=typeof le&&(le={name:le});const ae=Object.assign({name:It,automaticDataCollectionEnabled:!1},le),ge=ae.name;if("string"!=typeof ge||!ge)throw Ze.create("bad-app-name",{appName:String(ge)});const Pe=zn.get(ge);if(Pe){if((0,G.vZ)(W,Pe.options)&&(0,G.vZ)(ae,Pe.config))return Pe;throw Ze.create("duplicate-app",{appName:ge})}const st=new P.H0(ge);for(const ut of Vn.values())st.addComponent(ut);const ht=new Pt(W,ae,st);return zn.set(ge,ht),ht}function dn(W=It){const le=zn.get(W);if(!le)throw Ze.create("no-app",{appName:W});return le}function Ke(){return Array.from(zn.values())}function wt(W){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,h.Z)(function*(W){const le=W.name;zn.has(le)&&(zn.delete(le),yield Promise.all(W.container.getProviders().map(ae=>ae.delete())),W.isDeleted=!0)})).apply(this,arguments)}function vt(W,le,ae){var ge;let Pe=null!==(ge=Ht[W])&&void 0!==ge?ge:W;ae&&(Pe+=`-${ae}`);const st=Pe.match(/\s|\//),ht=le.match(/\s|\//);if(st||ht){const ut=[`Unable to register library "${Pe}" with version "${le}":`];return st&&ut.push(`library name "${Pe}" contains illegal characters (whitespace or "/")`),st&&ht&&ut.push("and"),ht&&ut.push(`version name "${le}" contains illegal characters (whitespace or "/")`),void X.warn(ut.join(" "))}Ae(new P.wA(`${Pe}-version`,()=>({library:Pe,version:le}),"VERSION"))}function Ot(W,le){if(null!==W&&"function"!=typeof W)throw Ze.create("invalid-log-argument");(0,R.Am)(W,le)}function Yn(W){(0,R.Ub)(W)}const wn="firebase-heartbeat-store";let Gn=null;function ln(){return Gn||(Gn=(0,te.X3)("firebase-heartbeat-database",1,{upgrade:(W,le)=>{0===le&&W.createObjectStore(wn)}}).catch(W=>{throw Ze.create("storage-open",{originalErrorMessage:W.message})})),Gn}function $t(){return($t=(0,h.Z)(function*(W){try{return(yield ln()).transaction(wn).objectStore(wn).get(Sr(W))}catch(le){throw Ze.create("storage-get",{originalErrorMessage:le.message})}})).apply(this,arguments)}function Mt(W,le){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,h.Z)(function*(W,le){try{const ge=(yield ln()).transaction(wn,"readwrite");return yield ge.objectStore(wn).put(le,Sr(W)),ge.done}catch(ae){throw Ze.create("storage-set",{originalErrorMessage:ae.message})}})).apply(this,arguments)}function Sr(W){return`${W.name}!${W.options.appId}`}class er{constructor(le){this.container=le,this._heartbeatsCache=null;const ae=this.container.getProvider("app").getImmediate();this._storage=new ve(ae),this._heartbeatsCachePromise=this._storage.read().then(ge=>(this._heartbeatsCache=ge,ge))}triggerHeartbeat(){var le=this;return(0,h.Z)(function*(){const ge=le.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Pe=Cn();if(null===le._heartbeatsCache&&(le._heartbeatsCache=yield le._heartbeatsCachePromise),le._heartbeatsCache.lastSentHeartbeatDate!==Pe&&!le._heartbeatsCache.heartbeats.some(st=>st.date===Pe))return le._heartbeatsCache.heartbeats.push({date:Pe,agent:ge}),le._heartbeatsCache.heartbeats=le._heartbeatsCache.heartbeats.filter(st=>{const ht=new Date(st.date).valueOf();return Date.now()-ht<=2592e6}),le._storage.overwrite(le._heartbeatsCache)})()}getHeartbeatsHeader(){var le=this;return(0,h.Z)(function*(){if(null===le._heartbeatsCache&&(yield le._heartbeatsCachePromise),null===le._heartbeatsCache||0===le._heartbeatsCache.heartbeats.length)return"";const ae=Cn(),{heartbeatsToSend:ge,unsentEntries:Pe}=function ue(W,le=1024){const ae=[];let ge=W.slice();for(const Pe of W){const st=ae.find(ht=>ht.agent===Pe.agent);if(st){if(st.dates.push(Pe.date),B(ae)>le){st.dates.pop();break}}else if(ae.push({agent:Pe.agent,dates:[Pe.date]}),B(ae)>le){ae.pop();break}ge=ge.slice(1)}return{heartbeatsToSend:ae,unsentEntries:ge}}(le._heartbeatsCache.heartbeats),st=(0,G.L)(JSON.stringify({version:2,heartbeats:ge}));return le._heartbeatsCache.lastSentHeartbeatDate=ae,Pe.length>0?(le._heartbeatsCache.heartbeats=Pe,yield le._storage.overwrite(le._heartbeatsCache)):(le._heartbeatsCache.heartbeats=[],le._storage.overwrite(le._heartbeatsCache)),st})()}}function Cn(){return(new Date).toISOString().substring(0,10)}class ve{constructor(le){this.app=le,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,G.hl)()&&(0,G.eu)().then(()=>!0).catch(()=>!1)})()}read(){var le=this;return(0,h.Z)(function*(){return(yield le._canUseIndexedDBPromise)&&(yield function un(W){return $t.apply(this,arguments)}(le.app))||{heartbeats:[]}})()}overwrite(le){var ae=this;return(0,h.Z)(function*(){var ge;if(yield ae._canUseIndexedDBPromise){const st=yield ae.read();return Mt(ae.app,{lastSentHeartbeatDate:null!==(ge=le.lastSentHeartbeatDate)&&void 0!==ge?ge:st.lastSentHeartbeatDate,heartbeats:le.heartbeats})}})()}add(le){var ae=this;return(0,h.Z)(function*(){var ge;if(yield ae._canUseIndexedDBPromise){const st=yield ae.read();return Mt(ae.app,{lastSentHeartbeatDate:null!==(ge=le.lastSentHeartbeatDate)&&void 0!==ge?ge:st.lastSentHeartbeatDate,heartbeats:[...st.heartbeats,...le.heartbeats]})}})()}}function B(W){return(0,G.L)(JSON.stringify({version:2,heartbeats:W})).length}!function Y(W){Ae(new P.wA("platform-logger",le=>new Ce(le),"PRIVATE")),Ae(new P.wA("heartbeat",le=>new er(le),"PRIVATE")),vt(xe,"0.7.24",W),vt(xe,"0.7.24","esm2017"),vt("fire-js","")}("")},4859:(Nt,We,$)=>{"use strict";$.d(We,{H0:()=>xe,wA:()=>R});var h=$(5861),P=$(2090);class R{constructor(X,de,T){this.name=X,this.instanceFactory=de,this.type=T,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(X){return this.instantiationMode=X,this}setMultipleInstances(X){return this.multipleInstances=X,this}setServiceProps(X){return this.serviceProps=X,this}setInstanceCreatedCallback(X){return this.onInstanceCreated=X,this}}const G="[DEFAULT]";class te{constructor(X,de){this.name=X,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(X){const de=this.normalizeInstanceIdentifier(X);if(!this.instancesDeferred.has(de)){const T=new P.BH;if(this.instancesDeferred.set(de,T),this.isInitialized(de)||this.shouldAutoInitialize())try{const F=this.getOrInitializeService({instanceIdentifier:de});F&&T.resolve(F)}catch(F){}}return this.instancesDeferred.get(de).promise}getImmediate(X){var de;const T=this.normalizeInstanceIdentifier(null==X?void 0:X.identifier),F=null!==(de=null==X?void 0:X.optional)&&void 0!==de&&de;if(!this.isInitialized(T)&&!this.shouldAutoInitialize()){if(F)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:T})}catch(U){if(F)return null;throw U}}getComponent(){return this.component}setComponent(X){if(X.name!==this.name)throw Error(`Mismatching Component ${X.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=X,this.shouldAutoInitialize()){if(function be(De){return"EAGER"===De.instantiationMode}(X))try{this.getOrInitializeService({instanceIdentifier:G})}catch(de){}for(const[de,T]of this.instancesDeferred.entries()){const F=this.normalizeInstanceIdentifier(de);try{const U=this.getOrInitializeService({instanceIdentifier:F});T.resolve(U)}catch(U){}}}}clearInstance(X=G){this.instancesDeferred.delete(X),this.instancesOptions.delete(X),this.instances.delete(X)}delete(){var X=this;return(0,h.Z)(function*(){const de=Array.from(X.instances.values());yield Promise.all([...de.filter(T=>"INTERNAL"in T).map(T=>T.INTERNAL.delete()),...de.filter(T=>"_delete"in T).map(T=>T._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(X=G){return this.instances.has(X)}getOptions(X=G){return this.instancesOptions.get(X)||{}}initialize(X={}){const{options:de={}}=X,T=this.normalizeInstanceIdentifier(X.instanceIdentifier);if(this.isInitialized(T))throw Error(`${this.name}(${T}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const F=this.getOrInitializeService({instanceIdentifier:T,options:de});for(const[U,ie]of this.instancesDeferred.entries())T===this.normalizeInstanceIdentifier(U)&&ie.resolve(F);return F}onInit(X,de){var T;const F=this.normalizeInstanceIdentifier(de),U=null!==(T=this.onInitCallbacks.get(F))&&void 0!==T?T:new Set;U.add(X),this.onInitCallbacks.set(F,U);const ie=this.instances.get(F);return ie&&X(ie,F),()=>{U.delete(X)}}invokeOnInitCallbacks(X,de){const T=this.onInitCallbacks.get(de);if(T)for(const F of T)try{F(X,de)}catch(U){}}getOrInitializeService({instanceIdentifier:X,options:de={}}){let T=this.instances.get(X);if(!T&&this.component&&(T=this.component.instanceFactory(this.container,{instanceIdentifier:(De=X,De===G?void 0:De),options:de}),this.instances.set(X,T),this.instancesOptions.set(X,de),this.invokeOnInitCallbacks(T,X),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,X,T)}catch(F){}var De;return T||null}normalizeInstanceIdentifier(X=G){return this.component?this.component.multipleInstances?X:G:X}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class xe{constructor(X){this.name=X,this.providers=new Map}addComponent(X){const de=this.getProvider(X.name);if(de.isComponentSet())throw new Error(`Component ${X.name} has already been registered with ${this.name}`);de.setComponent(X)}addOrOverwriteComponent(X){this.getProvider(X.name).isComponentSet()&&this.providers.delete(X.name),this.addComponent(X)}getProvider(X){if(this.providers.has(X))return this.providers.get(X);const de=new te(X,this);return this.providers.set(X,de),de}getProviders(){return Array.from(this.providers.values())}}},2833:(Nt,We,$)=>{"use strict";var h=$(5861),P=$(9681),R=$(4859),G=$(2090),te=$(8766);const Ce="@firebase/installations",De="w:0.5.9",X="FIS_v2",me=new G.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ce(ye){return ye instanceof G.ZR&&ye.code.includes("request-failed")}function oe({projectId:ye}){return`https://firebaseinstallations.googleapis.com/v1/projects/${ye}/installations`}function je(ye){return{token:ye.token,requestStatus:2,expiresIn:Re(ye.expiresIn),creationTime:Date.now()}}function Qe(ye,Ue){return qe.apply(this,arguments)}function qe(){return(qe=(0,h.Z)(function*(ye,Ue){const Bt=(yield Ue.json()).error;return me.create("request-failed",{requestName:ye,serverCode:Bt.code,serverMessage:Bt.message,serverStatus:Bt.status})})).apply(this,arguments)}function Ye({apiKey:ye}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":ye})}function $e(ye,{refreshToken:Ue}){const dt=Ye(ye);return dt.append("Authorization",function fe(ye){return`${X} ${ye}`}(Ue)),dt}function mt(ye){return Te.apply(this,arguments)}function Te(){return(Te=(0,h.Z)(function*(ye){const Ue=yield ye();return Ue.status>=500&&Ue.status<600?ye():Ue})).apply(this,arguments)}function Re(ye){return Number(ye.replace("s","000"))}function Ie(ye,Ue){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,h.Z)(function*({appConfig:ye,heartbeatServiceProvider:Ue},{fid:dt}){const Bt=oe(ye),Sn=Ye(ye),Rn=Ue.getImmediate({optional:!0});if(Rn){const en=yield Rn.getHeartbeatsHeader();en&&Sn.append("x-firebase-client",en)}const cr={method:"POST",headers:Sn,body:JSON.stringify({fid:dt,authVersion:X,appId:ye.appId,sdkVersion:De})},Hr=yield mt(()=>fetch(Bt,cr));if(Hr.ok){const en=yield Hr.json();return{fid:en.fid||dt,registrationStatus:2,refreshToken:en.refreshToken,authToken:je(en.authToken)}}throw yield Qe("Create Installation",Hr)})).apply(this,arguments)}function Be(ye){return new Promise(Ue=>{setTimeout(Ue,ye)})}const ke=/^[cdef][\w-]{21}$/;function Qt(){try{const ye=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(ye),ye[0]=112+ye[0]%16;const dt=function Qn(ye){return function Xe(ye){return btoa(String.fromCharCode(...ye)).replace(/\+/g,"-").replace(/\//g,"_")}(ye).substr(0,22)}(ye);return ke.test(dt)?dt:""}catch(ye){return""}}function It(ye){return`${ye.appName}!${ye.appId}`}const Ht=new Map;function zn(ye,Ue){const dt=It(ye);An(dt,Ue),function Ae(ye,Ue){const dt=function Ve(){return!_e&&"BroadcastChannel"in self&&(_e=new BroadcastChannel("[Firebase] FID Change"),_e.onmessage=ye=>{An(ye.data.key,ye.data.fid)}),_e}();dt&&dt.postMessage({key:ye,fid:Ue}),function lt(){0===Ht.size&&_e&&(_e.close(),_e=null)}()}(dt,Ue)}function An(ye,Ue){const dt=Ht.get(ye);if(dt)for(const Bt of dt)Bt(Ue)}let _e=null;const Pt="firebase-installations-store";let on=null;function fn(){return on||(on=(0,te.X3)("firebase-installations-database",1,{upgrade:(ye,Ue)=>{0===Ue&&ye.createObjectStore(Pt)}})),on}function dn(ye,Ue){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,h.Z)(function*(ye,Ue){const dt=It(ye),Sn=(yield fn()).transaction(Pt,"readwrite"),Rn=Sn.objectStore(Pt),Dn=yield Rn.get(dt);return yield Rn.put(Ue,dt),yield Sn.done,(!Dn||Dn.fid!==Ue.fid)&&zn(ye,Ue.fid),Ue})).apply(this,arguments)}function wt(ye){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,h.Z)(function*(ye){const Ue=It(ye),Bt=(yield fn()).transaction(Pt,"readwrite");yield Bt.objectStore(Pt).delete(Ue),yield Bt.done})).apply(this,arguments)}function vt(ye,Ue){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,h.Z)(function*(ye,Ue){const dt=It(ye),Sn=(yield fn()).transaction(Pt,"readwrite"),Rn=Sn.objectStore(Pt),Dn=yield Rn.get(dt),cr=Ue(Dn);return void 0===cr?yield Rn.delete(dt):yield Rn.put(cr,dt),yield Sn.done,cr&&(!Dn||Dn.fid!==cr.fid)&&zn(ye,cr.fid),cr})).apply(this,arguments)}function Yn(ye){return _n.apply(this,arguments)}function _n(){return(_n=(0,h.Z)(function*(ye){let Ue;const dt=yield vt(ye.appConfig,Bt=>{const Sn=In(Bt),Rn=wn(ye,Sn);return Ue=Rn.registrationPromise,Rn.installationEntry});return""===dt.fid?{installationEntry:yield Ue}:{installationEntry:dt,registrationPromise:Ue}})).apply(this,arguments)}function In(ye){return Jn(ye||{fid:Qt(),registrationStatus:0})}function wn(ye,Ue){if(0===Ue.registrationStatus){if(!navigator.onLine)return{installationEntry:Ue,registrationPromise:Promise.reject(me.create("app-offline"))};const dt={fid:Ue.fid,registrationStatus:1,registrationTime:Date.now()},Bt=function Gn(ye,Ue){return ln.apply(this,arguments)}(ye,dt);return{installationEntry:dt,registrationPromise:Bt}}return 1===Ue.registrationStatus?{installationEntry:Ue,registrationPromise:un(ye)}:{installationEntry:Ue}}function ln(){return(ln=(0,h.Z)(function*(ye,Ue){try{const dt=yield Ie(ye,Ue);return dn(ye.appConfig,dt)}catch(dt){throw ce(dt)&&409===dt.customData.serverCode?yield wt(ye.appConfig):yield dn(ye.appConfig,{fid:Ue.fid,registrationStatus:0}),dt}})).apply(this,arguments)}function un(ye){return $t.apply(this,arguments)}function $t(){return($t=(0,h.Z)(function*(ye){let Ue=yield Mt(ye.appConfig);for(;1===Ue.registrationStatus;)yield Be(100),Ue=yield Mt(ye.appConfig);if(0===Ue.registrationStatus){const{installationEntry:dt,registrationPromise:Bt}=yield Yn(ye);return Bt||dt}return Ue})).apply(this,arguments)}function Mt(ye){return vt(ye,Ue=>{if(!Ue)throw me.create("installation-not-found");return Jn(Ue)})}function Jn(ye){return function Sr(ye){return 1===ye.registrationStatus&&ye.registrationTime+1e4<Date.now()}(ye)?{fid:ye.fid,registrationStatus:0}:ye}function mn(ye,Ue){return _r.apply(this,arguments)}function _r(){return(_r=(0,h.Z)(function*({appConfig:ye,heartbeatServiceProvider:Ue},dt){const Bt=er(ye,dt),Sn=$e(ye,dt),Rn=Ue.getImmediate({optional:!0});if(Rn){const en=yield Rn.getHeartbeatsHeader();en&&Sn.append("x-firebase-client",en)}const cr={method:"POST",headers:Sn,body:JSON.stringify({installation:{sdkVersion:De,appId:ye.appId}})},Hr=yield mt(()=>fetch(Bt,cr));if(Hr.ok)return je(yield Hr.json());throw yield Qe("Generate Auth Token",Hr)})).apply(this,arguments)}function er(ye,{fid:Ue}){return`${oe(ye)}/${Ue}/authTokens:generate`}function Cn(ye){return ue.apply(this,arguments)}function ue(){return(ue=(0,h.Z)(function*(ye,Ue=!1){let dt;const Bt=yield vt(ye.appConfig,Rn=>{if(!ae(Rn))throw me.create("not-registered");const Dn=Rn.authToken;if(!Ue&&ge(Dn))return Rn;if(1===Dn.requestStatus)return dt=ve(ye,Ue),Rn;{if(!navigator.onLine)throw me.create("app-offline");const cr=st(Rn);return dt=W(ye,cr),cr}});return dt?yield dt:Bt.authToken})).apply(this,arguments)}function ve(ye,Ue){return B.apply(this,arguments)}function B(){return(B=(0,h.Z)(function*(ye,Ue){let dt=yield Y(ye.appConfig);for(;1===dt.authToken.requestStatus;)yield Be(100),dt=yield Y(ye.appConfig);const Bt=dt.authToken;return 0===Bt.requestStatus?Cn(ye,Ue):Bt})).apply(this,arguments)}function Y(ye){return vt(ye,Ue=>{if(!ae(Ue))throw me.create("not-registered");return function ht(ye){return 1===ye.requestStatus&&ye.requestTime+1e4<Date.now()}(Ue.authToken)?Object.assign(Object.assign({},Ue),{authToken:{requestStatus:0}}):Ue})}function W(ye,Ue){return le.apply(this,arguments)}function le(){return(le=(0,h.Z)(function*(ye,Ue){try{const dt=yield mn(ye,Ue),Bt=Object.assign(Object.assign({},Ue),{authToken:dt});return yield dn(ye.appConfig,Bt),dt}catch(dt){if(!ce(dt)||401!==dt.customData.serverCode&&404!==dt.customData.serverCode){const Bt=Object.assign(Object.assign({},Ue),{authToken:{requestStatus:0}});yield dn(ye.appConfig,Bt)}else yield wt(ye.appConfig);throw dt}})).apply(this,arguments)}function ae(ye){return void 0!==ye&&2===ye.registrationStatus}function ge(ye){return 2===ye.requestStatus&&!function Pe(ye){const Ue=Date.now();return Ue<ye.creationTime||ye.creationTime+ye.expiresIn<Ue+36e5}(ye)}function st(ye){const Ue={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},ye),{authToken:Ue})}function jt(){return(jt=(0,h.Z)(function*(ye){const Ue=ye,{installationEntry:dt,registrationPromise:Bt}=yield Yn(Ue);return Bt?Bt.catch(console.error):Cn(Ue).catch(console.error),dt.fid})).apply(this,arguments)}function pe(){return(pe=(0,h.Z)(function*(ye,Ue=!1){const dt=ye;return yield he(dt),(yield Cn(dt,Ue)).token})).apply(this,arguments)}function he(ye){return et.apply(this,arguments)}function et(){return(et=(0,h.Z)(function*(ye){const{registrationPromise:Ue}=yield Yn(ye);Ue&&(yield Ue)})).apply(this,arguments)}function Er(ye){return me.create("missing-app-config-values",{valueName:ye})}const ti="installations",Xs=ye=>{const Ue=ye.getProvider("app").getImmediate(),dt=function Mn(ye){if(!ye||!ye.options)throw Er("App Configuration");if(!ye.name)throw Er("App Name");const Ue=["projectId","apiKey","appId"];for(const dt of Ue)if(!ye.options[dt])throw Er(dt);return{appName:ye.name,projectId:ye.options.projectId,apiKey:ye.options.apiKey,appId:ye.options.appId}}(Ue);return{app:Ue,appConfig:dt,heartbeatServiceProvider:(0,P._getProvider)(Ue,"heartbeat"),_delete:()=>Promise.resolve()}},$r=ye=>{const Ue=ye.getProvider("app").getImmediate(),dt=(0,P._getProvider)(Ue,ti).getImmediate();return{getId:()=>function ut(ye){return jt.apply(this,arguments)}(dt),getToken:Sn=>function Se(ye){return pe.apply(this,arguments)}(dt,Sn)}};(function Et(){(0,P._registerComponent)(new R.wA(ti,Xs,"PUBLIC")),(0,P._registerComponent)(new R.wA("installations-internal",$r,"PRIVATE"))})(),(0,P.registerVersion)(Ce,"0.5.9"),(0,P.registerVersion)(Ce,"0.5.9","esm2017")},1877:(Nt,We,$)=>{"use strict";$.d(We,{Am:()=>De,Ub:()=>xe,Yd:()=>be,in:()=>P});const h=[];var P=(()=>{return(X=P||(P={}))[X.DEBUG=0]="DEBUG",X[X.VERBOSE=1]="VERBOSE",X[X.INFO=2]="INFO",X[X.WARN=3]="WARN",X[X.ERROR=4]="ERROR",X[X.SILENT=5]="SILENT",P;var X})();const R={debug:P.DEBUG,verbose:P.VERBOSE,info:P.INFO,warn:P.WARN,error:P.ERROR,silent:P.SILENT},G=P.INFO,te={[P.DEBUG]:"log",[P.VERBOSE]:"log",[P.INFO]:"info",[P.WARN]:"warn",[P.ERROR]:"error"},Ce=(X,de,...T)=>{if(de<X.logLevel)return;const F=(new Date).toISOString(),U=te[de];if(!U)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[U](`[${F}]  ${X.name}:`,...T)};class be{constructor(de){this.name=de,this._logLevel=G,this._logHandler=Ce,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in P))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?R[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,P.DEBUG,...de),this._logHandler(this,P.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,P.VERBOSE,...de),this._logHandler(this,P.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,P.INFO,...de),this._logHandler(this,P.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,P.WARN,...de),this._logHandler(this,P.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,P.ERROR,...de),this._logHandler(this,P.ERROR,...de)}}function xe(X){h.forEach(de=>{de.setLogLevel(X)})}function De(X,de){for(const T of h){let F=null;de&&de.level&&(F=R[de.level]),T.userLogHandler=null===X?null:(U,ie,...me)=>{const ce=me.map(oe=>{if(null==oe)return null;if("string"==typeof oe)return oe;if("number"==typeof oe||"boolean"==typeof oe)return oe.toString();if(oe instanceof Error)return oe.message;try{return JSON.stringify(oe)}catch(je){return null}}).filter(oe=>oe).join(" ");ie>=(null!=F?F:U.logLevel)&&X({level:P[ie].toLowerCase(),message:ce,args:me,type:U.name})}}}},8766:(Nt,We,$)=>{"use strict";$.d(We,{Lj:()=>qe,X3:()=>Qe});var h=$(5861);let R,G;const be=new WeakMap,xe=new WeakMap,De=new WeakMap,X=new WeakMap,de=new WeakMap;let U={get(Re,fe,Ie){if(Re instanceof IDBTransaction){if("done"===fe)return xe.get(Re);if("objectStoreNames"===fe)return Re.objectStoreNames||De.get(Re);if("store"===fe)return Ie.objectStoreNames[1]?void 0:Ie.objectStore(Ie.objectStoreNames[0])}return oe(Re[fe])},set:(Re,fe,Ie)=>(Re[fe]=Ie,!0),has:(Re,fe)=>Re instanceof IDBTransaction&&("done"===fe||"store"===fe)||fe in Re};function ce(Re){return"function"==typeof Re?function me(Re){return Re!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ce(){return G||(G=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Re)?function(...fe){return Re.apply(je(this),fe),oe(be.get(this))}:function(...fe){return oe(Re.apply(je(this),fe))}:function(fe,...Ie){const Oe=Re.call(je(this),fe,...Ie);return De.set(Oe,fe.sort?fe.sort():[fe]),oe(Oe)}}(Re):(Re instanceof IDBTransaction&&function F(Re){if(xe.has(Re))return;const fe=new Promise((Ie,Oe)=>{const Be=()=>{Re.removeEventListener("complete",Xe),Re.removeEventListener("error",ke),Re.removeEventListener("abort",ke)},Xe=()=>{Ie(),Be()},ke=()=>{Oe(Re.error||new DOMException("AbortError","AbortError")),Be()};Re.addEventListener("complete",Xe),Re.addEventListener("error",ke),Re.addEventListener("abort",ke)});xe.set(Re,fe)}(Re),((Re,fe)=>fe.some(Ie=>Re instanceof Ie))(Re,function te(){return R||(R=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Re,U):Re)}function oe(Re){if(Re instanceof IDBRequest)return function T(Re){const fe=new Promise((Ie,Oe)=>{const Be=()=>{Re.removeEventListener("success",Xe),Re.removeEventListener("error",ke)},Xe=()=>{Ie(oe(Re.result)),Be()},ke=()=>{Oe(Re.error),Be()};Re.addEventListener("success",Xe),Re.addEventListener("error",ke)});return fe.then(Ie=>{Ie instanceof IDBCursor&&be.set(Ie,Re)}).catch(()=>{}),de.set(fe,Re),fe}(Re);if(X.has(Re))return X.get(Re);const fe=ce(Re);return fe!==Re&&(X.set(Re,fe),de.set(fe,Re)),fe}const je=Re=>de.get(Re);function Qe(Re,fe,{blocked:Ie,upgrade:Oe,blocking:Be,terminated:Xe}={}){const ke=indexedDB.open(Re,fe),Gt=oe(ke);return Oe&&ke.addEventListener("upgradeneeded",Qt=>{Oe(oe(ke.result),Qt.oldVersion,Qt.newVersion,oe(ke.transaction))}),Ie&&ke.addEventListener("blocked",()=>Ie()),Gt.then(Qt=>{Xe&&Qt.addEventListener("close",()=>Xe()),Be&&Qt.addEventListener("versionchange",()=>Be())}).catch(()=>{}),Gt}function qe(Re,{blocked:fe}={}){const Ie=indexedDB.deleteDatabase(Re);return fe&&Ie.addEventListener("blocked",()=>fe()),oe(Ie).then(()=>{})}const Ye=["get","getKey","getAll","getAllKeys","count"],$e=["put","add","delete","clear"],mt=new Map;function Te(Re,fe){if(!(Re instanceof IDBDatabase)||fe in Re||"string"!=typeof fe)return;if(mt.get(fe))return mt.get(fe);const Ie=fe.replace(/FromIndex$/,""),Oe=fe!==Ie,Be=$e.includes(Ie);if(!(Ie in(Oe?IDBIndex:IDBObjectStore).prototype)||!Be&&!Ye.includes(Ie))return;const Xe=function(){var ke=(0,h.Z)(function*(Gt,...Qt){const Qn=this.transaction(Gt,Be?"readwrite":"readonly");let It=Qn.store;return Oe&&(It=It.index(Qt.shift())),(yield Promise.all([It[Ie](...Qt),Be&&Qn.done]))[0]});return function(Qt){return ke.apply(this,arguments)}}();return mt.set(fe,Xe),Xe}!function ie(Re){U=Re(U)}(Re=>bP(EP({},Re),{get:(fe,Ie,Oe)=>Te(fe,Ie)||Re.get(fe,Ie,Oe),has:(fe,Ie)=>!!Te(fe,Ie)||Re.has(fe,Ie)}))},5861:(Nt,We,$)=>{"use strict";function h(R,G,te,Ce,be,xe,De){try{var X=R[xe](De),de=X.value}catch(T){return void te(T)}X.done?G(de):Promise.resolve(de).then(Ce,be)}function P(R){return function(){var G=this,te=arguments;return new Promise(function(Ce,be){var xe=R.apply(G,te);function De(de){h(xe,Ce,be,De,X,"next",de)}function X(de){h(xe,Ce,be,De,X,"throw",de)}De(void 0)})}}$.d(We,{Z:()=>P})}},Nt=>{Nt(Nt.s=688)}]);
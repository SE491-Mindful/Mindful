var pU=Object.defineProperty,gU=Object.defineProperties,mU=Object.getOwnPropertyDescriptors,Zk=Object.getOwnPropertySymbols,vU=Object.prototype.hasOwnProperty,yU=Object.prototype.propertyIsEnumerable,Kk=(Pt,$e,$)=>$e in Pt?pU(Pt,$e,{enumerable:!0,configurable:!0,writable:!0,value:$}):Pt[$e]=$,Qk=(Pt,$e)=>{for(var $ in $e||($e={}))vU.call($e,$)&&Kk(Pt,$,$e[$]);if(Zk)for(var $ of Zk($e))yU.call($e,$)&&Kk(Pt,$,$e[$]);return Pt},Yk=(Pt,$e)=>gU(Pt,mU($e));(self.webpackChunkClientApp=self.webpackChunkClientApp||[]).push([[179],{2011:(Pt,$e,$)=>{"use strict";$.d($e,{Dh:()=>xe,GT:()=>Ce,cc:()=>U,hO:()=>F,on:()=>X,pX:()=>ne,xv:()=>De});var h=$(5e3),P=$(127),R=$(1038);Pt=$.hmd(Pt);const G=["ngOnDestroy"],ne=(oe,je,Qe,We={})=>new Proxy(oe,{get:(Ye,ze)=>Qe.runOutsideAngular(()=>{var vt;if(oe[ze])return(null===(vt=null==We?void 0:We.spy)||void 0===vt?void 0:vt.get)&&We.spy.get(ze,oe[ze]),oe[ze];if(G.indexOf(ze)>-1)return()=>{};const Te=je.toPromise().then(Re=>{const fe=Re&&Re[ze];return"function"==typeof fe?fe.bind(Re):fe&&fe.then?fe.then(Ie=>Qe.run(()=>Ie)):Qe.run(()=>fe)});return new Proxy(()=>{},{get:(Re,fe)=>Te[fe],apply:(Re,fe,Ie)=>Te.then(Fe=>{var Be;const Xe=Fe&&Fe(...Ie);return(null===(Be=null==We?void 0:We.spy)||void 0===Be?void 0:Be.apply)&&We.spy.apply(ze,Ie,Xe),Xe})})})}),Ce=(oe,je)=>{je.forEach(Qe=>{Object.getOwnPropertyNames(Qe.prototype||Qe).forEach(We=>{Object.defineProperty(oe.prototype,We,Object.getOwnPropertyDescriptor(Qe.prototype||Qe,We))})})};class be{constructor(je){return je}}const xe=new h.OlP("angularfire2.app.options"),De=new h.OlP("angularfire2.app.name");function X(oe,je,Qe){const Ye="object"==typeof Qe&&Qe||{};Ye.name=Ye.name||"string"==typeof Qe&&Qe||"[DEFAULT]";const vt=P.Z.apps.filter(Te=>Te&&Te.name===Ye.name)[0]||je.runOutsideAngular(()=>P.Z.initializeApp(oe,Ye));try{JSON.stringify(oe)!==JSON.stringify(vt.options)&&de("error",`${vt.name} Firebase App already initialized with different options${Pt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Te){}return new be(vt)}const de=(oe,...je)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[oe](...je)},T={provide:be,useFactory:X,deps:[xe,h.R0b,[new h.FiY,De]]};let F=(()=>{class oe{constructor(Qe){P.Z.registerVersion("angularfire",R.q4.full,"core"),P.Z.registerVersion("angularfire",R.q4.full,"app-compat"),P.Z.registerVersion("angular",h.q4F.full,Qe.toString())}static initializeApp(Qe,We){return{ngModule:oe,providers:[{provide:xe,useValue:Qe},{provide:De,useValue:We}]}}}return oe.\u0275fac=function(Qe){return new(Qe||oe)(h.LFG(h.Lbi))},oe.\u0275mod=h.oAB({type:oe}),oe.\u0275inj=h.cJS({providers:[T]}),oe})();function U(oe,je,Qe,We,Ye){const[,ze,vt]=globalThis.\u0275AngularfireInstanceCache.find(Te=>Te[0]===oe)||[];if(ze)return function ie(oe,je){try{return oe.toString()===je.toString()}catch(Qe){return oe===je}}(Ye,vt)||(ce("error",`${je} was already initialized on the ${Qe} Firebase App with different settings.${me?" You may need to reload as Firebase is not HMR aware.":""}`),ce("warn",{is:Ye,was:vt})),ze;{const Te=We();return globalThis.\u0275AngularfireInstanceCache.push([oe,Te,Ye]),Te}}const me=!!Pt.hot,ce=(oe,...je)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[oe](...je)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1038:(Pt,$e,$)=>{"use strict";$.d($e,{q4:()=>Nd,iC:()=>fo,HU:()=>cr,vb:()=>jo,JM:()=>ga});var h=$(5e3),P=$(5867),R=$(5861),G=$(9681),ne=$(2090),Ce=$(4859),be=$(1877);$(2833);const De="@firebase/remote-config",X="0.3.8",U=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Xt{constructor(Z,we,Ge,_t){this.client=Z,this.storage=we,this.storageCache=Ge,this.logger=_t}isCachedDataFresh(Z,we){if(!we)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ge=Date.now()-we,_t=Ge<=Z;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ge}. Cache max age millis (minimumFetchIntervalMillis setting): ${Z}. Is cache hit: ${_t}.`),_t}fetch(Z){var we=this;return(0,R.Z)(function*(){const[Ge,_t]=yield Promise.all([we.storage.getLastSuccessfulFetchTimestampMillis(),we.storage.getLastSuccessfulFetchResponse()]);if(_t&&we.isCachedDataFresh(Z.cacheMaxAgeMillis,Ge))return _t;Z.eTag=_t&&_t.eTag;const St=yield we.client.fetch(Z),cn=[we.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===St.status&&cn.push(we.storage.setLastSuccessfulFetchResponse(St)),yield Promise.all(cn),St})()}}function Xn(K=navigator){return K.languages&&K.languages[0]||K.language}class xt{constructor(Z,we,Ge,_t,St,cn){this.firebaseInstallations=Z,this.sdkVersion=we,this.namespace=Ge,this.projectId=_t,this.apiKey=St,this.appId=cn}fetch(Z){var we=this;return(0,R.Z)(function*(){const[Ge,_t]=yield Promise.all([we.firebaseInstallations.getId(),we.firebaseInstallations.getToken()]),cn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${we.projectId}/namespaces/${we.namespace}:fetch?key=${we.apiKey}`,ir={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":Z.eTag||"*"},Ut={sdk_version:we.sdkVersion,app_instance_id:Ge,app_instance_id_token:_t,app_id:we.appId,language_code:Xn()},dr={method:"POST",headers:ir,body:JSON.stringify(Ut)},or=fetch(cn,dr),On=new Promise((In,Hs)=>{Z.signal.addEventListener(()=>{const pr=new Error("The operation was aborted.");pr.name="AbortError",Hs(pr)})});let ss;try{yield Promise.race([or,On]),ss=yield or}catch(In){let Hs="fetch-client-network";throw"AbortError"===In.name&&(Hs="fetch-timeout"),U.create(Hs,{originalErrorMessage:In.message})}let os=ss.status;const ho=ss.headers.get("ETag")||void 0;let Wa,ot;if(200===ss.status){let In;try{In=yield ss.json()}catch(Hs){throw U.create("fetch-client-parse",{originalErrorMessage:Hs.message})}Wa=In.entries,ot=In.state}if("INSTANCE_STATE_UNSPECIFIED"===ot?os=500:"NO_CHANGE"===ot?os=304:("NO_TEMPLATE"===ot||"EMPTY_CONFIG"===ot)&&(Wa={}),304!==os&&200!==os)throw U.create("fetch-status",{httpStatus:os});return{status:os,eTag:ho,config:Wa}})()}}class Hn{constructor(Z,we){this.client=Z,this.storage=we}fetch(Z){var we=this;return(0,R.Z)(function*(){const Ge=(yield we.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return we.attemptFetch(Z,Ge)})()}attemptFetch(Z,{throttleEndTimeMillis:we,backoffCount:Ge}){var _t=this;return(0,R.Z)(function*(){yield function Gt(K,Z){return new Promise((we,Ge)=>{const _t=Math.max(Z-Date.now(),0),St=setTimeout(we,_t);K.addEventListener(()=>{clearTimeout(St),Ge(U.create("fetch-throttle",{throttleEndTimeMillis:Z}))})})}(Z.signal,we);try{const St=yield _t.client.fetch(Z);return yield _t.storage.deleteThrottleMetadata(),St}catch(St){if(!function qn(K){if(!(K instanceof ne.ZR&&K.customData))return!1;const Z=Number(K.customData.httpStatus);return 429===Z||500===Z||503===Z||504===Z}(St))throw St;const cn={throttleEndTimeMillis:Date.now()+(0,ne.$s)(Ge),backoffCount:Ge+1};return yield _t.storage.setThrottleMetadata(cn),_t.attemptFetch(Z,cn)}})()}}class Ae{constructor(Z,we,Ge,_t,St){this.app=Z,this._client=we,this._storageCache=Ge,this._storage=_t,this._logger=St,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ee(K,Z){const we=K.target.error||void 0;return U.create(Z,{originalErrorMessage:we&&we.message})}const Ve="app_namespace_store";class Ft{constructor(Z,we,Ge,_t=function qe(){return new Promise((K,Z)=>{try{const we=indexedDB.open("firebase_remote_config",1);we.onerror=Ge=>{Z(Ee(Ge,"storage-open"))},we.onsuccess=Ge=>{K(Ge.target.result)},we.onupgradeneeded=Ge=>{0===Ge.oldVersion&&Ge.target.result.createObjectStore(Ve,{keyPath:"compositeKey"})}}catch(we){Z(U.create("storage-open",{originalErrorMessage:we}))}})}()){this.appId=Z,this.appName=we,this.namespace=Ge,this.openDbPromise=_t}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(Z){return this.set("last_fetch_status",Z)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(Z){return this.set("last_successful_fetch_timestamp_millis",Z)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(Z){return this.set("last_successful_fetch_response",Z)}getActiveConfig(){return this.get("active_config")}setActiveConfig(Z){return this.set("active_config",Z)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(Z){return this.set("active_config_etag",Z)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(Z){return this.set("throttle_metadata",Z)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(Z){var we=this;return(0,R.Z)(function*(){const Ge=yield we.openDbPromise;return new Promise((_t,St)=>{const ir=Ge.transaction([Ve],"readonly").objectStore(Ve),Ut=we.createCompositeKey(Z);try{const dr=ir.get(Ut);dr.onerror=or=>{St(Ee(or,"storage-get"))},dr.onsuccess=or=>{const On=or.target.result;_t(On?On.value:void 0)}}catch(dr){St(U.create("storage-get",{originalErrorMessage:dr&&dr.message}))}})})()}set(Z,we){var Ge=this;return(0,R.Z)(function*(){const _t=yield Ge.openDbPromise;return new Promise((St,cn)=>{const Ut=_t.transaction([Ve],"readwrite").objectStore(Ve),dr=Ge.createCompositeKey(Z);try{const or=Ut.put({compositeKey:dr,value:we});or.onerror=On=>{cn(Ee(On,"storage-set"))},or.onsuccess=()=>{St()}}catch(or){cn(U.create("storage-set",{originalErrorMessage:or&&or.message}))}})})()}delete(Z){var we=this;return(0,R.Z)(function*(){const Ge=yield we.openDbPromise;return new Promise((_t,St)=>{const ir=Ge.transaction([Ve],"readwrite").objectStore(Ve),Ut=we.createCompositeKey(Z);try{const dr=ir.delete(Ut);dr.onerror=or=>{St(Ee(or,"storage-delete"))},dr.onsuccess=()=>{_t()}}catch(dr){St(U.create("storage-delete",{originalErrorMessage:dr&&dr.message}))}})})()}createCompositeKey(Z){return[this.appId,this.appName,this.namespace,Z].join()}}class on{constructor(Z){this.storage=Z}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var Z=this;return(0,R.Z)(function*(){const we=Z.storage.getLastFetchStatus(),Ge=Z.storage.getLastSuccessfulFetchTimestampMillis(),_t=Z.storage.getActiveConfig(),St=yield we;St&&(Z.lastFetchStatus=St);const cn=yield Ge;cn&&(Z.lastSuccessfulFetchTimestampMillis=cn);const ir=yield _t;ir&&(Z.activeConfig=ir)})()}setLastFetchStatus(Z){return this.lastFetchStatus=Z,this.storage.setLastFetchStatus(Z)}setLastSuccessfulFetchTimestampMillis(Z){return this.lastSuccessfulFetchTimestampMillis=Z,this.storage.setLastSuccessfulFetchTimestampMillis(Z)}setActiveConfig(Z){return this.activeConfig=Z,this.storage.setActiveConfig(Z)}}function Ct(){return en.apply(this,arguments)}function en(){return(en=(0,R.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(K){return!1}})).apply(this,arguments)}!function hn(){(0,G._registerComponent)(new Ce.wA("remote-config",function K(Z,{instanceIdentifier:we}){const Ge=Z.getProvider("app").getImmediate(),_t=Z.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw U.create("registration-window");if(!(0,ne.hl)())throw U.create("indexed-db-unavailable");const{projectId:St,apiKey:cn,appId:ir}=Ge.options;if(!St)throw U.create("registration-project-id");if(!cn)throw U.create("registration-api-key");if(!ir)throw U.create("registration-app-id");const Ut=new Ft(ir,Ge.name,we=we||"firebase"),dr=new on(Ut),or=new be.Yd(De);or.logLevel=be.in.ERROR;const On=new xt(_t,G.SDK_VERSION,we,St,cn,ir),ss=new Hn(On,Ut),os=new Xt(ss,Ut,dr,or),ho=new Ae(Ge,os,dr,Ut,or);return function vt(K){const Z=(0,ne.m9)(K);Z._initializePromise||(Z._initializePromise=Z._storageCache.loadFromStorage().then(()=>{Z._isInitializationComplete=!0}))}(ho),ho},"PUBLIC").setMultipleInstances(!0)),(0,G.registerVersion)(De,X),(0,G.registerVersion)(De,X,"esm2017")}();var yt=$(8766);const Lt="/firebase-messaging-sw.js",er="/firebase-cloud-messaging-push-scope",An="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Dn="google.c.a.c_id",Wn="google.c.a.c_l",ln="google.c.a.ts",un="google.c.a.e";var Rt=(()=>{return(K=Rt||(Rt={})).PUSH_RECEIVED="push-received",K.NOTIFICATION_CLICKED="notification-clicked",Rt;var K})();function tr(K){const Z=new Uint8Array(K);return btoa(String.fromCharCode(...Z)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Nr(K){const we=(K+"=".repeat((4-K.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ge=atob(we),_t=new Uint8Array(Ge.length);for(let St=0;St<Ge.length;++St)_t[St]=Ge.charCodeAt(St);return _t}const yn="fcm_token_details_db",nr="fcm_token_object_Store";function Tn(K){return ue.apply(this,arguments)}function ue(){return ue=(0,R.Z)(function*(K){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(St=>St.name).includes(yn))return null;let Z=null;return(yield(0,yt.X3)(yn,5,{upgrade:(Ge=(0,R.Z)(function*(_t,St,cn,ir){var Ut;if(St<2||!_t.objectStoreNames.contains(nr))return;const dr=ir.objectStore(nr),or=yield dr.index("fcmSenderId").get(K);if(yield dr.clear(),or)if(2===St){const On=or;if(!On.auth||!On.p256dh||!On.endpoint)return;Z={token:On.fcmToken,createTime:null!==(Ut=On.createTime)&&void 0!==Ut?Ut:Date.now(),subscriptionOptions:{auth:On.auth,p256dh:On.p256dh,endpoint:On.endpoint,swScope:On.swScope,vapidKey:"string"==typeof On.vapidKey?On.vapidKey:tr(On.vapidKey)}}}else if(3===St){const On=or;Z={token:On.fcmToken,createTime:On.createTime,subscriptionOptions:{auth:tr(On.auth),p256dh:tr(On.p256dh),endpoint:On.endpoint,swScope:On.swScope,vapidKey:tr(On.vapidKey)}}}else if(4===St){const On=or;Z={token:On.fcmToken,createTime:On.createTime,subscriptionOptions:{auth:tr(On.auth),p256dh:tr(On.p256dh),endpoint:On.endpoint,swScope:On.swScope,vapidKey:tr(On.vapidKey)}}}}),function(St,cn,ir,Ut){return Ge.apply(this,arguments)})})).close(),yield(0,yt.Lj)(yn),yield(0,yt.Lj)("fcm_vapid_details_db"),yield(0,yt.Lj)("undefined"),ye(Z)?Z:null;var Ge}),ue.apply(this,arguments)}function ye(K){if(!K||!K.subscriptionOptions)return!1;const{subscriptionOptions:Z}=K;return"number"==typeof K.createTime&&K.createTime>0&&"string"==typeof K.token&&K.token.length>0&&"string"==typeof Z.auth&&Z.auth.length>0&&"string"==typeof Z.p256dh&&Z.p256dh.length>0&&"string"==typeof Z.endpoint&&Z.endpoint.length>0&&"string"==typeof Z.swScope&&Z.swScope.length>0&&"string"==typeof Z.vapidKey&&Z.vapidKey.length>0}const W="firebase-messaging-store";let le=null;function ae(){return le||(le=(0,yt.X3)("firebase-messaging-database",1,{upgrade:(K,Z)=>{0===Z&&K.createObjectStore(W)}})),le}function ge(K){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,R.Z)(function*(K){const Z=Se(K),Ge=yield(yield ae()).transaction(W).objectStore(W).get(Z);if(Ge)return Ge;{const _t=yield Tn(K.appConfig.senderId);if(_t)return yield st(K,_t),_t}})).apply(this,arguments)}function st(K,Z){return pt.apply(this,arguments)}function pt(){return(pt=(0,R.Z)(function*(K,Z){const we=Se(K),_t=(yield ae()).transaction(W,"readwrite");return yield _t.objectStore(W).put(Z,we),yield _t.done,Z})).apply(this,arguments)}function ut(K){return zt.apply(this,arguments)}function zt(){return(zt=(0,R.Z)(function*(K){const Z=Se(K),Ge=(yield ae()).transaction(W,"readwrite");yield Ge.objectStore(W).delete(Z),yield Ge.done})).apply(this,arguments)}function Se({appConfig:K}){return K.appId}const he=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function et(K,Z){return At.apply(this,arguments)}function At(){return(At=(0,R.Z)(function*(K,Z){const we=yield Lr(K),Ge=Cr(Z),_t={method:"POST",headers:we,body:JSON.stringify(Ge)};let St;try{St=yield(yield fetch(vr(K.appConfig),_t)).json()}catch(cn){throw he.create("token-subscribe-failed",{errorInfo:cn})}if(St.error)throw he.create("token-subscribe-failed",{errorInfo:St.error.message});if(!St.token)throw he.create("token-subscribe-no-token");return St.token})).apply(this,arguments)}function jt(K,Z){return rn.apply(this,arguments)}function rn(){return(rn=(0,R.Z)(function*(K,Z){const we=yield Lr(K),Ge=Cr(Z.subscriptionOptions),_t={method:"PATCH",headers:we,body:JSON.stringify(Ge)};let St;try{St=yield(yield fetch(`${vr(K.appConfig)}/${Z.token}`,_t)).json()}catch(cn){throw he.create("token-update-failed",{errorInfo:cn})}if(St.error)throw he.create("token-update-failed",{errorInfo:St.error.message});if(!St.token)throw he.create("token-update-no-token");return St.token})).apply(this,arguments)}function Fn(K,Z){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,R.Z)(function*(K,Z){const Ge={method:"DELETE",headers:yield Lr(K)};try{const St=yield(yield fetch(`${vr(K.appConfig)}/${Z}`,Ge)).json();if(St.error)throw he.create("token-unsubscribe-failed",{errorInfo:St.error.message})}catch(_t){throw he.create("token-unsubscribe-failed",{errorInfo:_t})}})).apply(this,arguments)}function vr({projectId:K}){return`https://fcmregistrations.googleapis.com/v1/projects/${K}/registrations`}function Lr(K){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,R.Z)(function*({appConfig:K,installations:Z}){const we=yield Z.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":K.apiKey,"x-goog-firebase-installations-auth":`FIS ${we}`})})).apply(this,arguments)}function Cr({p256dh:K,auth:Z,endpoint:we,vapidKey:Ge}){const _t={web:{endpoint:we,auth:Z,p256dh:K}};return Ge!==An&&(_t.web.applicationPubKey=Ge),_t}const si=6048e5;function kr(K){return ao.apply(this,arguments)}function ao(){return(ao=(0,R.Z)(function*(K){const Z=yield Mn(K.swRegistration,K.vapidKey),we={vapidKey:K.vapidKey,swScope:K.swRegistration.scope,endpoint:Z.endpoint,auth:tr(Z.getKey("auth")),p256dh:tr(Z.getKey("p256dh"))},Ge=yield ge(K.firebaseDependencies);if(Ge){if(Sn(Ge.subscriptionOptions,we))return Date.now()>=Ge.createTime+si?_e(K,{token:Ge.token,createTime:Date.now(),subscriptionOptions:we}):Ge.token;try{yield Fn(K.firebaseDependencies,Ge.token)}catch(_t){console.warn(_t)}return ft(K.firebaseDependencies,we)}return ft(K.firebaseDependencies,we)})).apply(this,arguments)}function Qr(K){return bt.apply(this,arguments)}function bt(){return(bt=(0,R.Z)(function*(K){const Z=yield ge(K.firebaseDependencies);Z&&(yield Fn(K.firebaseDependencies,Z.token),yield ut(K.firebaseDependencies));const we=yield K.swRegistration.pushManager.getSubscription();return!we||we.unsubscribe()})).apply(this,arguments)}function _e(K,Z){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,R.Z)(function*(K,Z){try{const we=yield jt(K.firebaseDependencies,Z),Ge=Object.assign(Object.assign({},Z),{token:we,createTime:Date.now()});return yield st(K.firebaseDependencies,Ge),we}catch(we){throw yield Qr(K),we}})).apply(this,arguments)}function ft(K,Z){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,R.Z)(function*(K,Z){const Ge={token:yield et(K,Z),createTime:Date.now(),subscriptionOptions:Z};return yield st(K,Ge),Ge.token})).apply(this,arguments)}function Mn(K,Z){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,R.Z)(function*(K,Z){return(yield K.pushManager.getSubscription())||K.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Nr(Z)})})).apply(this,arguments)}function Sn(K,Z){return Z.vapidKey===K.vapidKey&&Z.endpoint===K.endpoint&&Z.auth===K.auth&&Z.p256dh===K.p256dh}function hr(K){const Z={from:K.from,collapseKey:K.collapse_key,messageId:K.fcmMessageId};return function Wr(K,Z){if(!Z.notification)return;K.notification={};const we=Z.notification.title;we&&(K.notification.title=we);const Ge=Z.notification.body;Ge&&(K.notification.body=Ge);const _t=Z.notification.image;_t&&(K.notification.image=_t)}(Z,K),function tn(K,Z){!Z.data||(K.data=Z.data)}(Z,K),function ys(K,Z){if(!Z.fcmOptions)return;K.fcmOptions={};const we=Z.fcmOptions.link;we&&(K.fcmOptions.link=we);const Ge=Z.fcmOptions.analytics_label;Ge&&(K.fcmOptions.analyticsLabel=Ge)}(Z,K),Z}function pi(K){return"object"==typeof K&&!!K&&Dn in K}function Bn(K,Z){const we=[];for(let Ge=0;Ge<K.length;Ge++)we.push(K.charAt(Ge)),Ge<Z.length&&we.push(Z.charAt(Ge));return we.join("")}function Vr(K){return he.create("missing-app-config-values",{valueName:K})}Bn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Bn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class _s{constructor(Z,we,Ge){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const _t=function ts(K){if(!K||!K.options)throw Vr("App Configuration Object");if(!K.name)throw Vr("App Name");const Z=["projectId","apiKey","appId","messagingSenderId"],{options:we}=K;for(const Ge of Z)if(!we[Ge])throw Vr(Ge);return{appName:K.name,projectId:we.projectId,apiKey:we.apiKey,appId:we.appId,senderId:we.messagingSenderId}}(Z);this.firebaseDependencies={app:Z,appConfig:_t,installations:we,analyticsProvider:Ge}}_delete(){return Promise.resolve()}}function Es(K){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,R.Z)(function*(K){try{K.swRegistration=yield navigator.serviceWorker.register(Lt,{scope:er}),K.swRegistration.update().catch(()=>{})}catch(Z){throw he.create("failed-service-worker-registration",{browserErrorMessage:Z.message})}})).apply(this,arguments)}function Qn(K,Z){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,R.Z)(function*(K,Z){if(!Z&&!K.swRegistration&&(yield Es(K)),Z||!K.swRegistration){if(!(Z instanceof ServiceWorkerRegistration))throw he.create("invalid-sw-registration");K.swRegistration=Z}})).apply(this,arguments)}function la(K,Z){return oi.apply(this,arguments)}function oi(){return(oi=(0,R.Z)(function*(K,Z){Z?K.vapidKey=Z:K.vapidKey||(K.vapidKey=An)})).apply(this,arguments)}function ua(){return(ua=(0,R.Z)(function*(K,Z){if(!navigator)throw he.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw he.create("permission-blocked");return yield la(K,null==Z?void 0:Z.vapidKey),yield Qn(K,null==Z?void 0:Z.serviceWorkerRegistration),kr(K)})).apply(this,arguments)}function Uo(K,Z,we){return lo.apply(this,arguments)}function lo(){return(lo=(0,R.Z)(function*(K,Z,we){const Ge=gi(Z);(yield K.firebaseDependencies.analyticsProvider.get()).logEvent(Ge,{message_id:we[Dn],message_name:we[Wn],message_time:we[ln],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function gi(K){switch(K){case Rt.NOTIFICATION_CLICKED:return"notification_open";case Rt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ja(){return(ja=(0,R.Z)(function*(K,Z){const we=Z.data;if(!we.isFirebaseMessaging)return;K.onMessageHandler&&we.messageType===Rt.PUSH_RECEIVED&&("function"==typeof K.onMessageHandler?K.onMessageHandler(hr(we)):K.onMessageHandler.next(hr(we)));const Ge=we.data;pi(Ge)&&"1"===Ge[un]&&(yield Uo(K,we.messageType,Ge))})).apply(this,arguments)}const ca="@firebase/messaging",vu=K=>{const Z=new _s(K.getProvider("app").getImmediate(),K.getProvider("installations-internal").getImmediate(),K.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",we=>function hc(K,Z){return ja.apply(this,arguments)}(Z,we)),Z},Id=K=>{const Z=K.getProvider("messaging").getImmediate();return{getToken:Ge=>function ai(K,Z){return ua.apply(this,arguments)}(Z,Ge)}};function Ga(){return da.apply(this,arguments)}function da(){return(da=(0,R.Z)(function*(){try{yield(0,ne.eu)()}catch(K){return!1}return"undefined"!=typeof window&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ns(){(0,G._registerComponent)(new Ce.wA("messaging",vu,"PUBLIC")),(0,G._registerComponent)(new Ce.wA("messaging-internal",Id,"PRIVATE")),(0,G.registerVersion)(ca,"0.9.13"),(0,G.registerVersion)(ca,"0.9.13","esm2017")}();var Rd=$(579),za=$(4408),tt=$(7565);const Bi=new class Ho extends tt.v{}(class Vi extends za.o{constructor(Z,we){super(Z,we),this.scheduler=Z,this.work=we}schedule(Z,we=0){return we>0?super.schedule(Z,we):(this.delay=we,this.state=Z,this.scheduler.flush(this),this)}execute(Z,we){return we>0||this.closed?super.execute(Z,we):this._execute(Z,we)}requestAsyncId(Z,we,Ge=0){return null!=Ge&&Ge>0||null==Ge&&this.delay>0?super.requestAsyncId(Z,we,Ge):Z.flush(this)}});var fa=$(4986),li=$(8505),uo=$(9468),ha=$(5363);const Nd=new h.GfV("7.3.0"),rs="__angularfire_symbol__analyticsIsSupportedValue",Vs="__angularfire_symbol__analyticsIsSupported",As="__angularfire_symbol__remoteConfigIsSupportedValue",pa="__angularfire_symbol__remoteConfigIsSupported",Bs="__angularfire_symbol__messagingIsSupportedValue",Ur="__angularfire_symbol__messagingIsSupported";function ga(K,Z,we){if(Z){if(1===Z.length)return Z[0];const St=Z.filter(cn=>cn.app===we);if(1===St.length)return St[0]}return we.container.getProvider(K).getImmediate({optional:!0})}globalThis[Vs]||(globalThis[Vs]=(0,Rd.Gb)().then(K=>globalThis[rs]=K).catch(()=>globalThis[rs]=!1)),globalThis[Ur]||(globalThis[Ur]=Ga().then(K=>globalThis[Bs]=K).catch(()=>globalThis[Bs]=!1)),globalThis[pa]||(globalThis[pa]=Ct().then(K=>globalThis[As]=K).catch(()=>globalThis[As]=!1));const jo=(K,Z)=>{const we=Z?[Z]:(0,P.C6)(),Ge=[];return we.forEach(_t=>{_t.container.getProvider(K).instances.forEach(cn=>{Ge.includes(cn)||Ge.push(cn)})}),Ge};function is(){}class co{constructor(Z,we=Bi){this.zone=Z,this.delegate=we}now(){return this.delegate.now()}schedule(Z,we,Ge){const _t=this.zone;return this.delegate.schedule(function(cn){_t.runGuarded(()=>{Z.apply(this,[cn])})},we,Ge)}}class gc{constructor(Z){this.zone=Z,this.task=null}call(Z,we){const Ge=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",is,{},is,is)),we.pipe((0,li.b)({next:Ge,complete:Ge,error:Ge})).subscribe(Z).add(Ge)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let cr=(()=>{class K{constructor(we){this.ngZone=we,this.outsideAngular=we.runOutsideAngular(()=>new co(Zone.current)),this.insideAngular=we.run(()=>new co(Zone.current,fa.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return K.\u0275fac=function(we){return new(we||K)(h.LFG(h.R0b))},K.\u0275prov=h.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})();function Ui(){const K=globalThis.\u0275AngularFireScheduler;if(!K)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return K}function fo(K){return Ui(),function Yr(K){return function(we){return(we=we.lift(new gc(K.ngZone))).pipe((0,uo.R)(K.outsideAngular),(0,ha.Q)(K.insideAngular))}}(Ui())(K)}},198:(Pt,$e,$)=>{"use strict";$.d($e,{$:()=>cn,A:()=>de,B:()=>U,G:()=>Ue,H:()=>Sn,J:()=>ns,L:()=>pt,M:()=>Ho,N:()=>li,P:()=>Hl,Q:()=>uo,R:()=>Mu,T:()=>ha,U:()=>fa,V:()=>As,W:()=>pa,X:()=>_u,Y:()=>Us,Z:()=>K,_:()=>we,a:()=>Fl,a0:()=>On,a1:()=>os,a2:()=>Wa,a3:()=>In,a4:()=>pr,a5:()=>Il,a6:()=>mc,a7:()=>vc,a8:()=>yc,a9:()=>Ml,aA:()=>zd,aB:()=>rl,aC:()=>Lc,aD:()=>ph,aE:()=>bt,aI:()=>go,aL:()=>rs,aa:()=>Eu,ab:()=>Gs,ac:()=>Pd,af:()=>xl,ag:()=>bc,ah:()=>cg,ak:()=>co,al:()=>mi,an:()=>Ac,ao:()=>ch,ap:()=>vr,aq:()=>fe,ar:()=>Vt,as:()=>jt,at:()=>Qe,au:()=>ls,av:()=>Fu,aw:()=>We,ax:()=>Te,ay:()=>Fe,az:()=>ut,b:()=>Ol,c:()=>yg,d:()=>Oc,e:()=>kc,f:()=>gh,g:()=>mh,h:()=>jd,i:()=>Mc,j:()=>Bc,k:()=>Kl,l:()=>$i,m:()=>Qd,n:()=>Yd,o:()=>xe,r:()=>Rc,s:()=>Rr,u:()=>xu,y:()=>Fd});var h=$(5861),P=$(2090),R=$(9681),G=$(655),ne=$(1877),Ce=$(4859);const xe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},de={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const U=function T(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ie=function F(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},me=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),oe=new ne.Yd("@firebase/auth");function je(D,..._){oe.logLevel<=ne.in.ERROR&&oe.error(`Auth (${R.SDK_VERSION}): ${D}`,..._)}function Qe(D,..._){throw vt(D,..._)}function We(D,..._){return vt(D,..._)}function Ye(D,_,b){const I=Object.assign(Object.assign({},ie()),{[_]:b});return new P.LL("auth","Firebase",I).create(_,{appName:D.name})}function ze(D,_,b){if(!(_ instanceof b))throw b.name!==_.constructor.name&&Qe(D,"argument-error"),Ye(D,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vt(D,..._){if("string"!=typeof D){const b=_[0],I=[..._.slice(1)];return I[0]&&(I[0].appName=D.name),D._errorFactory.create(b,...I)}return me.create(D,..._)}function Te(D,_,...b){if(!D)throw vt(_,...b)}function Re(D){const _="INTERNAL ASSERTION FAILED: "+D;throw je(_),new Error(_)}function fe(D,_){D||Re(_)}const Ie=new Map;function Fe(D){fe(D instanceof Function,"Expected a class definition");let _=Ie.get(D);return _?(fe(_ instanceof D,"Instance stored in cache mismatched with class"),_):(_=new D,Ie.set(D,_),_)}function ke(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function $t(){return"http:"===Xt()||"https:"===Xt()}function Xt(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class Gt{constructor(_,b){this.shortDelay=_,this.longDelay=b,fe(b>_,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function Xn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&($t()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qn(D,_){fe(D.emulator,"Emulator should always be set here");const{url:b}=D.emulator;return _?`${b}${_.startsWith("/")?_.slice(1):_}`:b}class Hn{static initialize(_,b,I){this.fetchImpl=_,b&&(this.headersImpl=b),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Re("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Re("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Re("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ar={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Cn=new Gt(3e4,6e4);function Ae(D,_){return D.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:D.tenantId}):_}function Ee(D,_,b,I){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,h.Z)(function*(D,_,b,I,H={}){return lt(D,H,(0,h.Z)(function*(){let Q={},Le={};I&&("GET"===_?Le=I:Q={body:JSON.stringify(I)});const ht=(0,P.xO)(Object.assign({key:D.config.apiKey},Le)).slice(1),Wt=yield D._getAdditionalHeaders();return Wt["Content-Type"]="application/json",D.languageCode&&(Wt["X-Firebase-Locale"]=D.languageCode),Hn.fetch()(on(D,D.config.apiHost,b,ht),Object.assign({method:_,headers:Wt,referrerPolicy:"no-referrer"},Q))}))})).apply(this,arguments)}function lt(D,_,b){return wt.apply(this,arguments)}function wt(){return(wt=(0,h.Z)(function*(D,_,b){D._canInitEmulator=!1;const I=Object.assign(Object.assign({},Ar),_);try{const H=new hn(D),Q=yield Promise.race([b(),H.promise]);H.clearNetworkTimeout();const Le=yield Q.json();if("needConfirmation"in Le)throw fn(D,"account-exists-with-different-credential",Le);if(Q.ok&&!("errorMessage"in Le))return Le;{const ht=Q.ok?Le.errorMessage:Le.error.message,[Wt,nn]=ht.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Wt)throw fn(D,"credential-already-in-use",Le);if("EMAIL_EXISTS"===Wt)throw fn(D,"email-already-in-use",Le);const Ln=I[Wt]||Wt.toLowerCase().replace(/[_\s]+/g,"-");if(nn)throw Ye(D,Ln,nn);Qe(D,Ln)}}catch(H){if(H instanceof P.ZR)throw H;Qe(D,"network-request-failed")}})).apply(this,arguments)}function qe(D,_,b,I){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,h.Z)(function*(D,_,b,I,H={}){const Q=yield Ee(D,_,b,I,H);return"mfaPendingCredential"in Q&&Qe(D,"multi-factor-auth-required",{_serverResponse:Q}),Q})).apply(this,arguments)}function on(D,_,b,I){const H=`${_}${b}?${I}`;return D.config.emulator?qn(D.config,H):`${D.config.apiScheme}://${H}`}class hn{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((b,I)=>{this.timer=setTimeout(()=>I(We(this.auth,"network-request-failed")),Cn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fn(D,_,b){const I={appName:D.name};b.email&&(I.email=b.email),b.phoneNumber&&(I.phoneNumber=b.phoneNumber);const H=We(D,_,I);return H.customData._tokenResponse=b,H}function Ct(){return(Ct=(0,h.Z)(function*(D,_){return Ee(D,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function en(D,_){return yt.apply(this,arguments)}function yt(){return(yt=(0,h.Z)(function*(D,_){return Ee(D,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Lt(D,_){return er.apply(this,arguments)}function er(){return(er=(0,h.Z)(function*(D,_){return Ee(D,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function An(D){if(D)try{const _=new Date(Number(D));if(!isNaN(_.getTime()))return _.toUTCString()}catch(_){}}function Wn(){return(Wn=(0,h.Z)(function*(D,_=!1){const b=(0,P.m9)(D),I=yield b.getIdToken(_),H=un(I);Te(H&&H.exp&&H.auth_time&&H.iat,b.auth,"internal-error");const Q="object"==typeof H.firebase?H.firebase:void 0,Le=null==Q?void 0:Q.sign_in_provider;return{claims:H,token:I,authTime:An(ln(H.auth_time)),issuedAtTime:An(ln(H.iat)),expirationTime:An(ln(H.exp)),signInProvider:Le||null,signInSecondFactor:(null==Q?void 0:Q.sign_in_second_factor)||null}})).apply(this,arguments)}function ln(D){return 1e3*Number(D)}function un(D){const[_,b,I]=D.split(".");if(void 0===_||void 0===b||void 0===I)return je("JWT malformed, contained fewer than 3 sections"),null;try{const H=(0,P.tV)(b);return H?JSON.parse(H):(je("Failed to decode base64 JWT payload"),null)}catch(H){return je("Caught error parsing JWT payload as JSON",H),null}}function Rt(D,_){return tr.apply(this,arguments)}function tr(){return(tr=(0,h.Z)(function*(D,_,b=!1){if(b)return _;try{return yield _}catch(I){throw I instanceof P.ZR&&Nr(I)&&D.auth.currentUser===D&&(yield D.auth.signOut()),I}})).apply(this,arguments)}function Nr({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}class yn{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var b;if(_){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const H=(null!==(b=this.user.stsTokenManager.expirationTime)&&void 0!==b?b:0)-Date.now()-3e5;return Math.max(0,H)}}schedule(_=!1){var b=this;if(!this.isRunning)return;const I=this.getInterval(_);this.timerId=setTimeout((0,h.Z)(function*(){yield b.iteration()}),I)}iteration(){var _=this;return(0,h.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===b.code&&_.schedule(!0))}_.schedule()})()}}class wr{constructor(_,b){this.createdAt=_,this.lastLoginAt=b,this._initializeTime()}_initializeTime(){this.lastSignInTime=An(this.lastLoginAt),this.creationTime=An(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function nr(D){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,h.Z)(function*(D){var _;const b=D.auth,I=yield D.getIdToken(),H=yield Rt(D,Lt(b,{idToken:I}));Te(null==H?void 0:H.users.length,b,"internal-error");const Q=H.users[0];D._notifyReloadListener(Q);const Le=(null===(_=Q.providerUserInfo)||void 0===_?void 0:_.length)?Y(Q.providerUserInfo):[],ht=B(D.providerData,Le),Ln=!!D.isAnonymous&&!(D.email&&Q.passwordHash||(null==ht?void 0:ht.length)),gr={uid:Q.localId,displayName:Q.displayName||null,photoURL:Q.photoUrl||null,email:Q.email||null,emailVerified:Q.emailVerified||!1,phoneNumber:Q.phoneNumber||null,tenantId:Q.tenantId||null,providerData:ht,metadata:new wr(Q.createdAt,Q.lastLoginAt),isAnonymous:Ln};Object.assign(D,gr)})).apply(this,arguments)}function ye(){return(ye=(0,h.Z)(function*(D){const _=(0,P.m9)(D);yield nr(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function B(D,_){return[...D.filter(I=>!_.some(H=>H.providerId===I.providerId)),..._]}function Y(D){return D.map(_=>{var{providerId:b}=_,I=(0,G.__rest)(_,["providerId"]);return{providerId:b,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function le(){return(le=(0,h.Z)(function*(D,_){const b=yield lt(D,{},(0,h.Z)(function*(){const I=(0,P.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:H,apiKey:Q}=D.config,Le=on(D,H,"/v1/token",`key=${Q}`),ht=yield D._getAdditionalHeaders();return ht["Content-Type"]="application/x-www-form-urlencoded",Hn.fetch()(Le,{method:"POST",headers:ht,body:I})}));return{accessToken:b.access_token,expiresIn:b.expires_in,refreshToken:b.refresh_token}})).apply(this,arguments)}class ae{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){Te(_.idToken,"internal-error"),Te(void 0!==_.idToken,"internal-error"),Te(void 0!==_.refreshToken,"internal-error");const b="expiresIn"in _&&void 0!==_.expiresIn?Number(_.expiresIn):function qt(D){const _=un(D);return Te(_,"internal-error"),Te(void 0!==_.exp,"internal-error"),Te(void 0!==_.iat,"internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,b)}getToken(_,b=!1){var I=this;return(0,h.Z)(function*(){return Te(!I.accessToken||I.refreshToken,_,"user-token-expired"),b||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(_,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,b){var I=this;return(0,h.Z)(function*(){const{accessToken:H,refreshToken:Q,expiresIn:Le}=yield function W(D,_){return le.apply(this,arguments)}(_,b);I.updateTokensAndExpiration(H,Q,Number(Le))})()}updateTokensAndExpiration(_,b,I){this.refreshToken=b||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(_,b){const{refreshToken:I,accessToken:H,expirationTime:Q}=b,Le=new ae;return I&&(Te("string"==typeof I,"internal-error",{appName:_}),Le.refreshToken=I),H&&(Te("string"==typeof H,"internal-error",{appName:_}),Le.accessToken=H),Q&&(Te("number"==typeof Q,"internal-error",{appName:_}),Le.expirationTime=Q),Le}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new ae,this.toJSON())}_performRefresh(){return Re("not implemented")}}function ge(D,_){Te("string"==typeof D||void 0===D,"internal-error",{appName:_})}class Pe{constructor(_){var{uid:b,auth:I,stsTokenManager:H}=_,Q=(0,G.__rest)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=b,this.auth=I,this.stsTokenManager=H,this.accessToken=H.accessToken,this.displayName=Q.displayName||null,this.email=Q.email||null,this.emailVerified=Q.emailVerified||!1,this.phoneNumber=Q.phoneNumber||null,this.photoURL=Q.photoURL||null,this.isAnonymous=Q.isAnonymous||!1,this.tenantId=Q.tenantId||null,this.providerData=Q.providerData?[...Q.providerData]:[],this.metadata=new wr(Q.createdAt||void 0,Q.lastLoginAt||void 0)}getIdToken(_){var b=this;return(0,h.Z)(function*(){const I=yield Rt(b,b.stsTokenManager.getToken(b.auth,_));return Te(I,b.auth,"internal-error"),b.accessToken!==I&&(b.accessToken=I,yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)),I})()}getIdTokenResult(_){return function Dn(D){return Wn.apply(this,arguments)}(this,_)}reload(){return function ue(D){return ye.apply(this,arguments)}(this)}_assign(_){this!==_&&(Te(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(b=>Object.assign({},b)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){return new Pe(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(_){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,b=!1){var I=this;return(0,h.Z)(function*(){let H=!1;_.idToken&&_.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(_),H=!0),b&&(yield nr(I)),yield I.auth._persistUserIfCurrent(I),H&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var _=this;return(0,h.Z)(function*(){const b=yield _.getIdToken();return yield Rt(_,function Ze(D,_){return Ct.apply(this,arguments)}(_.auth,{idToken:b})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,b){var I,H,Q,Le,ht,Wt,nn,Ln;const gr=null!==(I=b.displayName)&&void 0!==I?I:void 0,Ti=null!==(H=b.email)&&void 0!==H?H:void 0,Ts=null!==(Q=b.phoneNumber)&&void 0!==Q?Q:void 0,Yl=null!==(Le=b.photoURL)&&void 0!==Le?Le:void 0,Jd=null!==(ht=b.tenantId)&&void 0!==ht?ht:void 0,Jl=null!==(Wt=b._redirectEventId)&&void 0!==Wt?Wt:void 0,ea=null!==(nn=b.createdAt)&&void 0!==nn?nn:void 0,Xd=null!==(Ln=b.lastLoginAt)&&void 0!==Ln?Ln:void 0,{uid:ju,emailVerified:ef,isAnonymous:al,providerData:ll,stsTokenManager:Zc}=b;Te(ju&&Zc,_,"internal-error");const ul=ae.fromJSON(this.name,Zc);Te("string"==typeof ju,_,"internal-error"),ge(gr,_.name),ge(Ti,_.name),Te("boolean"==typeof ef,_,"internal-error"),Te("boolean"==typeof al,_,"internal-error"),ge(Ts,_.name),ge(Yl,_.name),ge(Jd,_.name),ge(Jl,_.name),ge(ea,_.name),ge(Xd,_.name);const Xl=new Pe({uid:ju,auth:_,email:Ti,emailVerified:ef,displayName:gr,isAnonymous:al,photoURL:Yl,phoneNumber:Ts,tenantId:Jd,stsTokenManager:ul,createdAt:ea,lastLoginAt:Xd});return ll&&Array.isArray(ll)&&(Xl.providerData=ll.map(Pr=>Object.assign({},Pr))),Jl&&(Xl._redirectEventId=Jl),Xl}static _fromIdTokenResponse(_,b,I=!1){return(0,h.Z)(function*(){const H=new ae;H.updateFromServerResponse(b);const Q=new Pe({uid:b.localId,auth:_,stsTokenManager:H,isAnonymous:I});return yield nr(Q),Q})()}}const pt=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(b,I){var H=this;return(0,h.Z)(function*(){H.storage[b]=I})()}_get(b){var I=this;return(0,h.Z)(function*(){const H=I.storage[b];return void 0===H?null:H})()}_remove(b){var I=this;return(0,h.Z)(function*(){delete I.storage[b]})()}_addListener(b,I){}_removeListener(b,I){}}return D.type="NONE",D})();function ut(D,_,b){return`firebase:${D}:${_}:${b}`}class zt{constructor(_,b,I){this.persistence=_,this.auth=b,this.userKey=I;const{config:H,name:Q}=this.auth;this.fullUserKey=ut(this.userKey,H.apiKey,Q),this.fullPersistenceKey=ut("persistence",H.apiKey,Q),this.boundEventHandler=b._onStorageEvent.bind(b),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,h.Z)(function*(){const b=yield _.persistence._get(_.fullUserKey);return b?Pe._fromJSON(_.auth,b):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var b=this;return(0,h.Z)(function*(){if(b.persistence===_)return;const I=yield b.getCurrentUser();return yield b.removeCurrentUser(),b.persistence=_,I?b.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,b,I="authUser"){return(0,h.Z)(function*(){if(!b.length)return new zt(Fe(pt),_,I);const H=(yield Promise.all(b.map(function(){var nn=(0,h.Z)(function*(Ln){if(yield Ln._isAvailable())return Ln});return function(Ln){return nn.apply(this,arguments)}}()))).filter(nn=>nn);let Q=H[0]||Fe(pt);const Le=ut(I,_.config.apiKey,_.name);let ht=null;for(const nn of b)try{const Ln=yield nn._get(Le);if(Ln){const gr=Pe._fromJSON(_,Ln);nn!==Q&&(ht=gr),Q=nn;break}}catch(Ln){}const Wt=H.filter(nn=>nn._shouldAllowMigration);return Q._shouldAllowMigration&&Wt.length?(Q=Wt[0],ht&&(yield Q._set(Le,ht.toJSON())),yield Promise.all(b.map(function(){var nn=(0,h.Z)(function*(Ln){if(Ln!==Q)try{yield Ln._remove(Le)}catch(gr){}});return function(Ln){return nn.apply(this,arguments)}}())),new zt(Q,_,I)):new zt(Q,_,I)})()}}function Se(D){const _=D.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(At(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(pe(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(rn(_))return"Blackberry";if(Fn(_))return"Webos";if(he(_))return"Safari";if((_.includes("chrome/")||et(_))&&!_.includes("edge/"))return"Chrome";if(jt(_))return"Android";{const I=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function pe(D=(0,P.z$)()){return/firefox\//i.test(D)}function he(D=(0,P.z$)()){const _=D.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function et(D=(0,P.z$)()){return/crios\//i.test(D)}function At(D=(0,P.z$)()){return/iemobile/i.test(D)}function jt(D=(0,P.z$)()){return/android/i.test(D)}function rn(D=(0,P.z$)()){return/blackberry/i.test(D)}function Fn(D=(0,P.z$)()){return/webos/i.test(D)}function Vt(D=(0,P.z$)()){return/iphone|ipad|ipod/i.test(D)}function vr(D=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}function Cr(D=(0,P.z$)()){return Vt(D)||jt(D)||Fn(D)||rn(D)||/windows phone/i.test(D)||At(D)}function kr(D,_=[]){let b;switch(D){case"Browser":b=Se((0,P.z$)());break;case"Worker":b=`${Se((0,P.z$)())}-${D}`;break;default:b=D}const I=_.length?_.join(","):"FirebaseCore-web";return`${b}/JsCore/${R.SDK_VERSION}/${I}`}class ao{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,b){const I=Q=>new Promise((Le,ht)=>{try{Le(_(Q))}catch(Wt){ht(Wt)}});I.onAbort=b,this.queue.push(I);const H=this.queue.length-1;return()=>{this.queue[H]=()=>Promise.resolve()}}runMiddleware(_){var b=this;return(0,h.Z)(function*(){if(b.auth.currentUser===_)return;const I=[];try{for(const H of b.queue)yield H(_),H.onAbort&&I.push(H.onAbort)}catch(H){I.reverse();for(const Q of I)try{Q()}catch(Le){}throw b.auth._errorFactory.create("login-blocked",{originalMessage:H.message})}})()}}class Qr{constructor(_,b,I){this.app=_,this.heartbeatServiceProvider=b,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _e(this),this.idTokenSubscription=new _e(this),this.beforeStateQueue=new ao(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=me,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(_,b){var I=this;return b&&(this._popupRedirectResolver=Fe(b)),this._initializationPromise=this.queue((0,h.Z)(function*(){var H,Q;if(!I._deleted&&(I.persistenceManager=yield zt.create(I,_),!I._deleted)){if(null===(H=I._popupRedirectResolver)||void 0===H?void 0:H._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch(Le){}yield I.initializeCurrentUser(b),I.lastNotifiedUid=(null===(Q=I.currentUser)||void 0===Q?void 0:Q.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,h.Z)(function*(){if(_._deleted)return;const b=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||b){if(_.currentUser&&b&&_.currentUser.uid===b.uid)return _._currentUser._assign(b),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(b,!0)}})()}initializeCurrentUser(_){var b=this;return(0,h.Z)(function*(){var I;const H=yield b.assertedPersistence.getCurrentUser();let Q=H,Le=!1;if(_&&b.config.authDomain){yield b.getOrInitRedirectPersistenceManager();const ht=null===(I=b.redirectUser)||void 0===I?void 0:I._redirectEventId,Wt=null==Q?void 0:Q._redirectEventId,nn=yield b.tryRedirectSignIn(_);(!ht||ht===Wt)&&(null==nn?void 0:nn.user)&&(Q=nn.user,Le=!0)}if(!Q)return b.directlySetCurrentUser(null);if(!Q._redirectEventId){if(Le)try{yield b.beforeStateQueue.runMiddleware(Q)}catch(ht){Q=H,b._popupRedirectResolver._overrideRedirectResult(b,()=>Promise.reject(ht))}return Q?b.reloadAndSetCurrentUserOrClear(Q):b.directlySetCurrentUser(null)}return Te(b._popupRedirectResolver,b,"argument-error"),yield b.getOrInitRedirectPersistenceManager(),b.redirectUser&&b.redirectUser._redirectEventId===Q._redirectEventId?b.directlySetCurrentUser(Q):b.reloadAndSetCurrentUserOrClear(Q)})()}tryRedirectSignIn(_){var b=this;return(0,h.Z)(function*(){let I=null;try{I=yield b._popupRedirectResolver._completeRedirectFn(b,_,!0)}catch(H){yield b._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(_){var b=this;return(0,h.Z)(function*(){try{yield nr(_)}catch(I){if("auth/network-request-failed"!==I.code)return b.directlySetCurrentUser(null)}return b.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function xt(){if("undefined"==typeof navigator)return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var _=this;return(0,h.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var b=this;return(0,h.Z)(function*(){const I=_?(0,P.m9)(_):null;return I&&Te(I.auth.config.apiKey===b.config.apiKey,b,"invalid-user-token"),b._updateCurrentUser(I&&I._clone(b))})()}_updateCurrentUser(_,b=!1){var I=this;return(0,h.Z)(function*(){if(!I._deleted)return _&&Te(I.tenantId===_.tenantId,I,"tenant-id-mismatch"),b||(yield I.beforeStateQueue.runMiddleware(_)),I.queue((0,h.Z)(function*(){yield I.directlySetCurrentUser(_),I.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,h.Z)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var b=this;return this.queue((0,h.Z)(function*(){yield b.assertedPersistence.setPersistence(Fe(_))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new P.LL("auth","Firebase",_())}onAuthStateChanged(_,b,I){return this.registerStateListener(this.authStateSubscription,_,b,I)}beforeAuthStateChanged(_,b){return this.beforeStateQueue.pushCallback(_,b)}onIdTokenChanged(_,b,I){return this.registerStateListener(this.idTokenSubscription,_,b,I)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,b){var I=this;return(0,h.Z)(function*(){const H=yield I.getOrInitRedirectPersistenceManager(b);return null===_?H.removeCurrentUser():H.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var b=this;return(0,h.Z)(function*(){if(!b.redirectPersistenceManager){const I=_&&Fe(_)||b._popupRedirectResolver;Te(I,b,"argument-error"),b.redirectPersistenceManager=yield zt.create(b,[Fe(I._redirectPersistence)],"redirectUser"),b.redirectUser=yield b.redirectPersistenceManager.getCurrentUser()}return b.redirectPersistenceManager})()}_redirectUserForId(_){var b=this;return(0,h.Z)(function*(){var I,H;return b._isInitialized&&(yield b.queue((0,h.Z)(function*(){}))),(null===(I=b._currentUser)||void 0===I?void 0:I._redirectEventId)===_?b._currentUser:(null===(H=b.redirectUser)||void 0===H?void 0:H._redirectEventId)===_?b.redirectUser:null})()}_persistUserIfCurrent(_){var b=this;return(0,h.Z)(function*(){if(_===b.currentUser)return b.queue((0,h.Z)(function*(){return b.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(b=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==b?b:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,b,I,H){if(this._deleted)return()=>{};const Q="function"==typeof b?b:b.next.bind(b),Le=this._isInitialized?Promise.resolve():this._initializationPromise;return Te(Le,this,"internal-error"),Le.then(()=>Q(this.currentUser)),"function"==typeof b?_.addObserver(b,I,H):_.addObserver(b)}directlySetCurrentUser(_){var b=this;return(0,h.Z)(function*(){b.currentUser&&b.currentUser!==_&&(b._currentUser._stopProactiveRefresh(),_&&b.isProactiveRefreshEnabled&&_._startProactiveRefresh()),b.currentUser=_,_?yield b.assertedPersistence.setCurrentUser(_):yield b.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=kr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,h.Z)(function*(){var b;const I={"X-Client-Version":_.clientVersion};_.app.options.appId&&(I["X-Firebase-gmpid"]=_.app.options.appId);const H=yield null===(b=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getHeartbeatsHeader();return H&&(I["X-Firebase-Client"]=H),I})()}}function bt(D){return(0,P.m9)(D)}class _e{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,P.ne)(b=>this.observer=b)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ue(D,_,b){const I=bt(D);Te(I._canInitEmulator,I,"emulator-config-failed"),Te(/^https?:\/\//.test(_),I,"invalid-emulator-scheme");const H=!!(null==b?void 0:b.disableWarnings),Q=ft(_),{host:Le,port:ht}=function Ht(D){const _=ft(D),b=/(\/\/)?([^?#/]+)/.exec(D.substr(_.length));if(!b)return{host:"",port:null};const I=b[2].split("@").pop()||"",H=/^(\[[^\]]+\])(:|$)/.exec(I);if(H){const Q=H[1];return{host:Q,port:Mn(I.substr(Q.length+1))}}{const[Q,Le]=I.split(":");return{host:Q,port:Mn(Le)}}}(_);I.config.emulator={url:`${Q}//${Le}${null===ht?"":`:${ht}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:Le,port:ht,protocol:Q.replace(":",""),options:Object.freeze({disableWarnings:H})}),H||function Pn(){function D(){const _=document.createElement("p"),b=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",b.position="fixed",b.width="100%",b.backgroundColor="#ffffff",b.border=".1em solid #000000",b.color="#b50000",b.bottom="0px",b.left="0px",b.margin="0px",b.zIndex="10000",b.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}function ft(D){const _=D.indexOf(":");return _<0?"":D.substr(0,_+1)}function Mn(D){if(!D)return null;const _=Number(D);return isNaN(_)?null:_}class Sn{constructor(_,b){this.providerId=_,this.signInMethod=b}toJSON(){return Re("not implemented")}_getIdTokenResponse(_){return Re("not implemented")}_linkToIdToken(_,b){return Re("not implemented")}_getReauthenticationResolver(_){return Re("not implemented")}}function hr(D,_){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,h.Z)(function*(D,_){return Ee(D,"POST","/v1/accounts:resetPassword",Ae(D,_))})).apply(this,arguments)}function tn(D,_){return ys.apply(this,arguments)}function ys(){return(ys=(0,h.Z)(function*(D,_){return Ee(D,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function pi(D,_){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,h.Z)(function*(D,_){return Ee(D,"POST","/v1/accounts:update",Ae(D,_))})).apply(this,arguments)}function Vr(){return(Vr=(0,h.Z)(function*(D,_){return qe(D,"POST","/v1/accounts:signInWithPassword",Ae(D,_))})).apply(this,arguments)}function _s(D,_){return Es.apply(this,arguments)}function Es(){return(Es=(0,h.Z)(function*(D,_){return Ee(D,"POST","/v1/accounts:sendOobCode",Ae(D,_))})).apply(this,arguments)}function Dr(D,_){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,h.Z)(function*(D,_){return _s(D,_)})).apply(this,arguments)}function Ha(D,_){return la.apply(this,arguments)}function la(){return(la=(0,h.Z)(function*(D,_){return _s(D,_)})).apply(this,arguments)}function oi(D,_){return ai.apply(this,arguments)}function ai(){return(ai=(0,h.Z)(function*(D,_){return _s(D,_)})).apply(this,arguments)}function ua(D,_){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,h.Z)(function*(D,_){return _s(D,_)})).apply(this,arguments)}function gi(){return(gi=(0,h.Z)(function*(D,_){return qe(D,"POST","/v1/accounts:signInWithEmailLink",Ae(D,_))})).apply(this,arguments)}function ja(){return(ja=(0,h.Z)(function*(D,_){return qe(D,"POST","/v1/accounts:signInWithEmailLink",Ae(D,_))})).apply(this,arguments)}class ca extends Sn{constructor(_,b,I,H=null){super("password",I),this._email=_,this._password=b,this._tenantId=H}static _fromEmailAndPassword(_,b){return new ca(_,b,"password")}static _fromEmailAndCode(_,b,I=null){return new ca(_,b,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const b="string"==typeof _?JSON.parse(_):_;if((null==b?void 0:b.email)&&(null==b?void 0:b.password)){if("password"===b.signInMethod)return this._fromEmailAndPassword(b.email,b.password);if("emailLink"===b.signInMethod)return this._fromEmailAndCode(b.email,b.password,b.tenantId)}return null}_getIdTokenResponse(_){var b=this;return(0,h.Z)(function*(){switch(b.signInMethod){case"password":return function ts(D,_){return Vr.apply(this,arguments)}(_,{returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function lo(D,_){return gi.apply(this,arguments)}(_,{email:b._email,oobCode:b._password});default:Qe(_,"internal-error")}})()}_linkToIdToken(_,b){var I=this;return(0,h.Z)(function*(){switch(I.signInMethod){case"password":return tn(_,{idToken:b,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function hc(D,_){return ja.apply(this,arguments)}(_,{idToken:b,email:I._email,oobCode:I._password});default:Qe(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function Mr(D,_){return vu.apply(this,arguments)}function vu(){return(vu=(0,h.Z)(function*(D,_){return qe(D,"POST","/v1/accounts:signInWithIdp",Ae(D,_))})).apply(this,arguments)}class ns extends Sn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const b=new ns(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(b.idToken=_.idToken),_.accessToken&&(b.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(b.nonce=_.nonce),_.pendingToken&&(b.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(b.accessToken=_.oauthToken,b.secret=_.oauthTokenSecret):Qe("argument-error"),b}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const b="string"==typeof _?JSON.parse(_):_,{providerId:I,signInMethod:H}=b,Q=(0,G.__rest)(b,["providerId","signInMethod"]);if(!I||!H)return null;const Le=new ns(I,H);return Le.idToken=Q.idToken||void 0,Le.accessToken=Q.accessToken||void 0,Le.secret=Q.secret,Le.nonce=Q.nonce,Le.pendingToken=Q.pendingToken||null,Le}_getIdTokenResponse(_){return Mr(_,this.buildRequest())}_linkToIdToken(_,b){const I=this.buildRequest();return I.idToken=b,Mr(_,I)}_getReauthenticationResolver(_){const b=this.buildRequest();return b.autoCreate=!1,Mr(_,b)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const b={};this.idToken&&(b.id_token=this.idToken),this.accessToken&&(b.access_token=this.accessToken),this.secret&&(b.oauth_token_secret=this.secret),b.providerId=this.providerId,this.nonce&&!this.pendingToken&&(b.nonce=this.nonce),_.postBody=(0,P.xO)(b)}return _}}function Ga(D,_){return da.apply(this,arguments)}function da(){return(da=(0,h.Z)(function*(D,_){return Ee(D,"POST","/v1/accounts:sendVerificationCode",Ae(D,_))})).apply(this,arguments)}function Tr(){return(Tr=(0,h.Z)(function*(D,_){return qe(D,"POST","/v1/accounts:signInWithPhoneNumber",Ae(D,_))})).apply(this,arguments)}function Ls(){return(Ls=(0,h.Z)(function*(D,_){const b=yield qe(D,"POST","/v1/accounts:signInWithPhoneNumber",Ae(D,_));if(b.temporaryProof)throw fn(D,"account-exists-with-different-credential",b);return b})).apply(this,arguments)}const xd={USER_NOT_FOUND:"user-not-found"};function Tl(){return(Tl=(0,h.Z)(function*(D,_){return qe(D,"POST","/v1/accounts:signInWithPhoneNumber",Ae(D,Object.assign(Object.assign({},_),{operation:"REAUTH"})),xd)})).apply(this,arguments)}class bs extends Sn{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,b){return new bs({verificationId:_,verificationCode:b})}static _fromTokenResponse(_,b){return new bs({phoneNumber:_,temporaryProof:b})}_getIdTokenResponse(_){return function Md(D,_){return Tr.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,b){return function yu(D,_){return Ls.apply(this,arguments)}(_,Object.assign({idToken:b},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function Dl(D,_){return Tl.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:b,verificationId:I,verificationCode:H}=this.params;return _&&b?{temporaryProof:_,phoneNumber:b}:{sessionInfo:I,code:H}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:b,verificationCode:I,phoneNumber:H,temporaryProof:Q}=_;return I||b||H||Q?new bs({verificationId:b,verificationCode:I,phoneNumber:H,temporaryProof:Q}):null}}class Vi{constructor(_){var b,I,H,Q,Le,ht;const Wt=(0,P.zd)((0,P.pd)(_)),nn=null!==(b=Wt.apiKey)&&void 0!==b?b:null,Ln=null!==(I=Wt.oobCode)&&void 0!==I?I:null,gr=function Rd(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(H=Wt.mode)&&void 0!==H?H:null);Te(nn&&Ln&&gr,"argument-error"),this.apiKey=nn,this.operation=gr,this.code=Ln,this.continueUrl=null!==(Q=Wt.continueUrl)&&void 0!==Q?Q:null,this.languageCode=null!==(Le=Wt.languageCode)&&void 0!==Le?Le:null,this.tenantId=null!==(ht=Wt.tenantId)&&void 0!==ht?ht:null}static parseLink(_){const b=function za(D){const _=(0,P.zd)((0,P.pd)(D)).link,b=_?(0,P.zd)((0,P.pd)(_)).deep_link_id:null,I=(0,P.zd)((0,P.pd)(D)).deep_link_id;return(I?(0,P.zd)((0,P.pd)(I)).link:null)||I||b||_||D}(_);try{return new Vi(b)}catch(I){return null}}}let Ho=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(b,I){return ca._fromEmailAndPassword(b,I)}static credentialWithLink(b,I){const H=Vi.parseLink(I);return Te(H,"argument-error"),ca._fromEmailAndCode(b,H.code,H.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class Bi{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class wi extends Bi{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class fa extends wi{static credentialFromJSON(_){const b="string"==typeof _?JSON.parse(_):_;return Te("providerId"in b&&"signInMethod"in b,"argument-error"),ns._fromParams(b)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return Te(_.idToken||_.accessToken,"argument-error"),ns._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return fa.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return fa.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:b,oauthAccessToken:I,oauthTokenSecret:H,pendingToken:Q,nonce:Le,providerId:ht}=_;if(!I&&!H&&!b&&!Q||!ht)return null;try{return new fa(ht)._credential({idToken:b,accessToken:I,nonce:Le,pendingToken:Q})}catch(Wt){return null}}}let li=(()=>{class D extends wi{constructor(){super("facebook.com")}static credential(b){return ns._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return D.credentialFromTaggedObject(b)}static credentialFromError(b){return D.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return D.credential(b.oauthAccessToken)}catch(I){return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),uo=(()=>{class D extends wi{constructor(){super("google.com"),this.addScope("profile")}static credential(b,I){return ns._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:b,accessToken:I})}static credentialFromResult(b){return D.credentialFromTaggedObject(b)}static credentialFromError(b){return D.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:I,oauthAccessToken:H}=b;if(!I&&!H)return null;try{return D.credential(I,H)}catch(Q){return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),ha=(()=>{class D extends wi{constructor(){super("github.com")}static credential(b){return ns._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return D.credentialFromTaggedObject(b)}static credentialFromError(b){return D.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return D.credential(b.oauthAccessToken)}catch(I){return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class rs extends Sn{constructor(_,b){super(_,_),this.pendingToken=b}_getIdTokenResponse(_){return Mr(_,this.buildRequest())}_linkToIdToken(_,b){const I=this.buildRequest();return I.idToken=b,Mr(_,I)}_getReauthenticationResolver(_){const b=this.buildRequest();return b.autoCreate=!1,Mr(_,b)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const b="string"==typeof _?JSON.parse(_):_,{providerId:I,signInMethod:H,pendingToken:Q}=b;return I&&H&&Q&&I===H?new rs(I,Q):null}static _create(_,b){return new rs(_,b)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class As extends Bi{constructor(_){Te(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return As.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return As.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const b=rs.fromJSON(_);return Te(b,"argument-error"),b}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:b,providerId:I}=_;if(!b||!I)return null;try{return rs._create(I,b)}catch(H){return null}}}let pa=(()=>{class D extends wi{constructor(){super("twitter.com")}static credential(b,I){return ns._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:b,oauthTokenSecret:I})}static credentialFromResult(b){return D.credentialFromTaggedObject(b)}static credentialFromError(b){return D.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthAccessToken:I,oauthTokenSecret:H}=b;if(!I||!H)return null;try{return D.credential(I,H)}catch(Q){return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function Bs(D,_){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,h.Z)(function*(D,_){return qe(D,"POST","/v1/accounts:signUp",Ae(D,_))})).apply(this,arguments)}class Hr{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,b,I,H=!1){return(0,h.Z)(function*(){const Q=yield Pe._fromIdTokenResponse(_,I,H),Le=Sl(I);return new Hr({user:Q,providerId:Le,_tokenResponse:I,operationType:b})})()}static _forOperation(_,b,I){return(0,h.Z)(function*(){yield _._updateTokensIfNecessary(I,!0);const H=Sl(I);return new Hr({user:_,providerId:H,_tokenResponse:I,operationType:b})})()}}function Sl(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function _u(D){return pc.apply(this,arguments)}function pc(){return(pc=(0,h.Z)(function*(D){var _;const b=bt(D);if(yield b._initializationPromise,null===(_=b.currentUser)||void 0===_?void 0:_.isAnonymous)return new Hr({user:b.currentUser,providerId:null,operationType:"signIn"});const I=yield Bs(b,{returnSecureToken:!0}),H=yield Hr._fromIdTokenResponse(b,"signIn",I,!0);return yield b._updateCurrentUser(H.user),H})).apply(this,arguments)}class ga extends P.ZR{constructor(_,b,I,H){var Q;super(b.code,b.message),this.operationType=I,this.user=H,Object.setPrototypeOf(this,ga.prototype),this.customData={appName:_.name,tenantId:null!==(Q=_.tenantId)&&void 0!==Q?Q:void 0,_serverResponse:b.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(_,b,I,H){return new ga(_,b,I,H)}}function jo(D,_,b,I){return("reauthenticate"===_?b._getReauthenticationResolver(D):b._getIdTokenResponse(D)).catch(Q=>{throw"auth/multi-factor-auth-required"===Q.code?ga._fromErrorAndOperation(D,Q,_,I):Q})}function is(D){return new Set(D.map(({providerId:_})=>_).filter(_=>!!_))}function co(D,_){return gc.apply(this,arguments)}function gc(){return(gc=(0,h.Z)(function*(D,_){const b=(0,P.m9)(D);yield ws(!0,b,_);const{providerUserInfo:I}=yield en(b.auth,{idToken:yield b.getIdToken(),deleteProvider:[_]}),H=is(I||[]);return b.providerData=b.providerData.filter(Q=>H.has(Q.providerId)),H.has("phone")||(b.phoneNumber=null),yield b.auth._persistUserIfCurrent(b),b})).apply(this,arguments)}function cr(D,_){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,h.Z)(function*(D,_,b=!1){const I=yield Rt(D,_._linkToIdToken(D.auth,yield D.getIdToken()),b);return Hr._forOperation(D,"link",I)})).apply(this,arguments)}function ws(D,_,b){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,h.Z)(function*(D,_,b){yield nr(_);const H=!1===D?"provider-already-linked":"no-such-provider";Te(is(_.providerData).has(b)===D,_.auth,H)})).apply(this,arguments)}function ma(D,_){return $a.apply(this,arguments)}function $a(){return($a=(0,h.Z)(function*(D,_,b=!1){const{auth:I}=D,H="reauthenticate";try{const Q=yield Rt(D,jo(I,H,_,D),b);Te(Q.idToken,I,"internal-error");const Le=un(Q.idToken);Te(Le,I,"internal-error");const{sub:ht}=Le;return Te(D.uid===ht,I,"user-mismatch"),Hr._forOperation(D,H,Q)}catch(Q){throw"auth/user-not-found"===(null==Q?void 0:Q.code)&&Qe(I,"user-mismatch"),Q}})).apply(this,arguments)}function fo(D,_){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,h.Z)(function*(D,_,b=!1){const I="signIn",H=yield jo(D,I,_),Q=yield Hr._fromIdTokenResponse(D,I,H);return b||(yield D._updateCurrentUser(Q.user)),Q})).apply(this,arguments)}function Us(D,_){return va.apply(this,arguments)}function va(){return(va=(0,h.Z)(function*(D,_){return fo(bt(D),_)})).apply(this,arguments)}function K(D,_){return Z.apply(this,arguments)}function Z(){return(Z=(0,h.Z)(function*(D,_){const b=(0,P.m9)(D);return yield ws(!1,b,_.providerId),cr(b,_)})).apply(this,arguments)}function we(D,_){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,h.Z)(function*(D,_){return ma((0,P.m9)(D),_)})).apply(this,arguments)}function _t(D,_){return St.apply(this,arguments)}function St(){return(St=(0,h.Z)(function*(D,_){return qe(D,"POST","/v1/accounts:signInWithCustomToken",Ae(D,_))})).apply(this,arguments)}function cn(D,_){return ir.apply(this,arguments)}function ir(){return(ir=(0,h.Z)(function*(D,_){const b=bt(D),I=yield _t(b,{token:_,returnSecureToken:!0}),H=yield Hr._fromIdTokenResponse(b,"signIn",I);return yield b._updateCurrentUser(H.user),H})).apply(this,arguments)}class Ut{constructor(_,b){this.factorId=_,this.uid=b.mfaEnrollmentId,this.enrollmentTime=new Date(b.enrolledAt).toUTCString(),this.displayName=b.displayName}static _fromServerResponse(_,b){return"phoneInfo"in b?dr._fromServerResponse(_,b):Qe(_,"internal-error")}}class dr extends Ut{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,b){return new dr(b)}}function or(D,_,b){var I;Te((null===(I=b.url)||void 0===I?void 0:I.length)>0,D,"invalid-continue-uri"),Te(void 0===b.dynamicLinkDomain||b.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),_.continueUrl=b.url,_.dynamicLinkDomain=b.dynamicLinkDomain,_.canHandleCodeInApp=b.handleCodeInApp,b.iOS&&(Te(b.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),_.iOSBundleId=b.iOS.bundleId),b.android&&(Te(b.android.packageName.length>0,D,"missing-android-pkg-name"),_.androidInstallApp=b.android.installApp,_.androidMinimumVersionCode=b.android.minimumVersion,_.androidPackageName=b.android.packageName)}function On(D,_,b){return ss.apply(this,arguments)}function ss(){return(ss=(0,h.Z)(function*(D,_,b){const I=(0,P.m9)(D),H={requestType:"PASSWORD_RESET",email:_};b&&or(I,H,b),yield Ha(I,H)})).apply(this,arguments)}function os(D,_,b){return ho.apply(this,arguments)}function ho(){return(ho=(0,h.Z)(function*(D,_,b){yield hr((0,P.m9)(D),{oobCode:_,newPassword:b})})).apply(this,arguments)}function Wa(D,_){return ot.apply(this,arguments)}function ot(){return(ot=(0,h.Z)(function*(D,_){yield pi((0,P.m9)(D),{oobCode:_})})).apply(this,arguments)}function In(D,_){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,h.Z)(function*(D,_){const b=(0,P.m9)(D),I=yield hr(b,{oobCode:_}),H=I.requestType;switch(Te(H,b,"internal-error"),H){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Te(I.newEmail,b,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Te(I.mfaInfo,b,"internal-error");default:Te(I.email,b,"internal-error")}let Q=null;return I.mfaInfo&&(Q=Ut._fromServerResponse(bt(b),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:Q},operation:H}})).apply(this,arguments)}function pr(D,_){return qa.apply(this,arguments)}function qa(){return(qa=(0,h.Z)(function*(D,_){const{data:b}=yield In((0,P.m9)(D),_);return b.email})).apply(this,arguments)}function Il(D,_,b){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,h.Z)(function*(D,_,b){const I=bt(D),H=yield Bs(I,{returnSecureToken:!0,email:_,password:b}),Q=yield Hr._fromIdTokenResponse(I,"signIn",H);return yield I._updateCurrentUser(Q.user),Q})).apply(this,arguments)}function mc(D,_,b){return Us((0,P.m9)(D),Ho.credential(_,b))}function vc(D,_,b){return kd.apply(this,arguments)}function kd(){return(kd=(0,h.Z)(function*(D,_,b){const I=(0,P.m9)(D),H={requestType:"EMAIL_SIGNIN",email:_};Te(b.handleCodeInApp,I,"argument-error"),b&&or(I,H,b),yield oi(I,H)})).apply(this,arguments)}function yc(D,_){const b=Vi.parseLink(_);return"EMAIL_SIGNIN"===(null==b?void 0:b.operation)}function Ml(D,_,b){return Za.apply(this,arguments)}function Za(){return(Za=(0,h.Z)(function*(D,_,b){const I=(0,P.m9)(D),H=Ho.credentialWithLink(_,b||ke());return Te(H._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),Us(I,H)})).apply(this,arguments)}function Jr(D,_){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,h.Z)(function*(D,_){return Ee(D,"POST","/v1/accounts:createAuthUri",Ae(D,_))})).apply(this,arguments)}function Eu(D,_){return js.apply(this,arguments)}function js(){return(js=(0,h.Z)(function*(D,_){const I={identifier:_,continueUri:$t()?ke():"http://localhost"},{signinMethods:H}=yield Jr((0,P.m9)(D),I);return H||[]})).apply(this,arguments)}function Gs(D,_){return _c.apply(this,arguments)}function _c(){return(_c=(0,h.Z)(function*(D,_){const b=(0,P.m9)(D),H={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};_&&or(b.auth,H,_);const{email:Q}=yield Dr(b.auth,H);Q!==D.email&&(yield D.reload())})).apply(this,arguments)}function Pd(D,_,b){return bu.apply(this,arguments)}function bu(){return(bu=(0,h.Z)(function*(D,_,b){const I=(0,P.m9)(D),Q={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:_};b&&or(I.auth,Q,b);const{email:Le}=yield ua(I.auth,Q);Le!==D.email&&(yield D.reload())})).apply(this,arguments)}function oh(D,_){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,h.Z)(function*(D,_){return Ee(D,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function xl(D,_){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,h.Z)(function*(D,{displayName:_,photoURL:b}){if(void 0===_&&void 0===b)return;const I=(0,P.m9)(D),Q={idToken:yield I.getIdToken(),displayName:_,photoUrl:b,returnSecureToken:!0},Le=yield Rt(I,oh(I.auth,Q));I.displayName=Le.displayName||null,I.photoURL=Le.photoUrl||null;const ht=I.providerData.find(({providerId:Wt})=>"password"===Wt);ht&&(ht.displayName=I.displayName,ht.photoURL=I.photoURL),yield I._updateTokensIfNecessary(Le)})).apply(this,arguments)}function bc(D,_){return Qa((0,P.m9)(D),_,null)}function cg(D,_){return Qa((0,P.m9)(D),null,_)}function Qa(D,_,b){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,h.Z)(function*(D,_,b){const{auth:I}=D,Q={idToken:yield D.getIdToken(),returnSecureToken:!0};_&&(Q.email=_),b&&(Q.password=b);const Le=yield Rt(D,tn(I,Q));yield D._updateTokensIfNecessary(Le,!0)})).apply(this,arguments)}class Go{constructor(_,b,I={}){this.isNewUser=_,this.providerId=b,this.profile=I}}class Rl extends Go{constructor(_,b,I,H){super(_,b,I),this.username=H}}class Od extends Go{constructor(_,b){super(_,"facebook.com",b)}}class Nl extends Rl{constructor(_,b){super(_,"github.com",b,"string"==typeof(null==b?void 0:b.login)?null==b?void 0:b.login:null)}}class zo extends Go{constructor(_,b){super(_,"google.com",b)}}class ah extends Rl{constructor(_,b,I){super(_,"twitter.com",b,I)}}function mi(D){const{user:_,_tokenResponse:b}=D;return _.isAnonymous&&!b?{providerId:null,isNewUser:!1,profile:null}:function Xr(D){var _,b;if(!D)return null;const{providerId:I}=D,H=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},Q=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!I&&(null==D?void 0:D.idToken)){const Le=null===(b=null===(_=un(D.idToken))||void 0===_?void 0:_.firebase)||void 0===b?void 0:b.sign_in_provider;if(Le)return new Go(Q,"anonymous"!==Le&&"custom"!==Le?Le:null)}if(!I)return null;switch(I){case"facebook.com":return new Od(Q,H);case"github.com":return new Nl(Q,H);case"google.com":return new zo(Q,H);case"twitter.com":return new ah(Q,H,D.screenName||null);case"custom":case"anonymous":return new Go(Q,null);default:return new Go(Q,I,H)}}(b)}function Fd(D){return(0,P.m9)(D).signOut()}class $s{constructor(_,b){this.type=_,this.credential=b}static _fromIdtoken(_){return new $s("enroll",_)}static _fromMfaPendingCredential(_){return new $s("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var b,I;if(null==_?void 0:_.multiFactorSession){if(null===(b=_.multiFactorSession)||void 0===b?void 0:b.pendingCredential)return $s._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null===(I=_.multiFactorSession)||void 0===I?void 0:I.idToken)return $s._fromIdtoken(_.multiFactorSession.idToken)}return null}}class Pl{constructor(_,b,I){this.session=_,this.hints=b,this.signInResolver=I}static _fromError(_,b){const I=bt(_),H=b.customData._serverResponse,Q=(H.mfaInfo||[]).map(ht=>Ut._fromServerResponse(I,ht));Te(H.mfaPendingCredential,I,"internal-error");const Le=$s._fromMfaPendingCredential(H.mfaPendingCredential);return new Pl(Le,Q,function(){var ht=(0,h.Z)(function*(Wt){const nn=yield Wt._process(I,Le);delete H.mfaInfo,delete H.mfaPendingCredential;const Ln=Object.assign(Object.assign({},H),{idToken:nn.idToken,refreshToken:nn.refreshToken});switch(b.operationType){case"signIn":const gr=yield Hr._fromIdTokenResponse(I,b.operationType,Ln);return yield I._updateCurrentUser(gr.user),gr;case"reauthenticate":return Te(b.user,I,"internal-error"),Hr._forOperation(b.user,b.operationType,Ln);default:Qe(I,"internal-error")}});return function(Wt){return ht.apply(this,arguments)}}())}resolveSignIn(_){var b=this;return(0,h.Z)(function*(){return b.signInResolver(_)})()}}function Ac(D,_){var b;const I=(0,P.m9)(D),H=_;return Te(_.customData.operationType,I,"argument-error"),Te(null===(b=H.customData._serverResponse)||void 0===b?void 0:b.mfaPendingCredential,I,"argument-error"),Pl._fromError(I,H)}function Ld(D,_){return Ee(D,"POST","/v2/accounts/mfaEnrollment:start",Ae(D,_))}class Ja{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(b=>{b.mfaInfo&&(this.enrolledFactors=b.mfaInfo.map(I=>Ut._fromServerResponse(_.auth,I)))})}static _fromUser(_){return new Ja(_)}getSession(){var _=this;return(0,h.Z)(function*(){return $s._fromIdtoken(yield _.user.getIdToken())})()}enroll(_,b){var I=this;return(0,h.Z)(function*(){const H=_,Q=yield I.getSession(),Le=yield Rt(I.user,H._process(I.user.auth,Q,b));return yield I.user._updateTokensIfNecessary(Le),I.user.reload()})()}unenroll(_){var b=this;return(0,h.Z)(function*(){const I="string"==typeof _?_:_.uid,H=yield b.user.getIdToken(),Q=yield Rt(b.user,function $o(D,_){return Ee(D,"POST","/v2/accounts/mfaEnrollment:withdraw",Ae(D,_))}(b.user.auth,{idToken:H,mfaEnrollmentId:I}));b.enrolledFactors=b.enrolledFactors.filter(({uid:Le})=>Le!==I),yield b.user._updateTokensIfNecessary(Q);try{yield b.user.reload()}catch(Le){if("auth/user-token-expired"!==Le.code)throw Le}})()}}const Vd=new WeakMap;function ch(D){const _=(0,P.m9)(D);return Vd.has(_)||Vd.set(_,Ja._fromUser(_)),Vd.get(_)}const po="__sak";class Au{constructor(_,b){this.storageRetriever=_,this.type=b}_isAvailable(){try{return this.storage?(this.storage.setItem(po,"1"),this.storage.removeItem(po),Promise.resolve(!0)):Promise.resolve(!1)}catch(_){return Promise.resolve(!1)}}_set(_,b){return this.storage.setItem(_,JSON.stringify(b)),Promise.resolve()}_get(_){const b=this.storage.getItem(_);return Promise.resolve(b?JSON.parse(b):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ol=(()=>{class D extends Au{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(b,I)=>this.onStorageEvent(b,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Bd(){const D=(0,P.z$)();return he(D)||Vt(D)}()&&function si(){try{return!(!window||window===window.top)}catch(D){return!1}}(),this.fallbackToPolling=Cr(),this._shouldAllowMigration=!0}forAllChangedKeys(b){for(const I of Object.keys(this.listeners)){const H=this.storage.getItem(I),Q=this.localCache[I];H!==Q&&b(I,Q,H)}}onStorageEvent(b,I=!1){if(!b.key)return void this.forAllChangedKeys((ht,Wt,nn)=>{this.notifyListeners(ht,nn)});const H=b.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ht=this.storage.getItem(H);if(b.newValue!==ht)null!==b.newValue?this.storage.setItem(H,b.newValue):this.storage.removeItem(H);else if(this.localCache[H]===b.newValue&&!I)return}const Q=()=>{const ht=this.storage.getItem(H);!I&&this.localCache[H]===ht||this.notifyListeners(H,ht)},Le=this.storage.getItem(H);!function Rn(){return(0,P.w1)()&&10===document.documentMode}()||Le===b.newValue||b.newValue===b.oldValue?Q():setTimeout(Q,10)}notifyListeners(b,I){this.localCache[b]=I;const H=this.listeners[b];if(H)for(const Q of Array.from(H))Q(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((b,I,H)=>{this.onStorageEvent(new StorageEvent("storage",{key:b,oldValue:I,newValue:H}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(b,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[b]||(this.listeners[b]=new Set,this.localCache[b]=this.storage.getItem(b)),this.listeners[b].add(I)}_removeListener(b,I){this.listeners[b]&&(this.listeners[b].delete(I),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(b,I){var H=()=>super._set,Q=this;return(0,h.Z)(function*(){yield H().call(Q,b,I),Q.localCache[b]=JSON.stringify(I)})()}_get(b){var I=()=>super._get,H=this;return(0,h.Z)(function*(){const Q=yield I().call(H,b);return H.localCache[b]=JSON.stringify(Q),Q})()}_remove(b){var I=()=>super._remove,H=this;return(0,h.Z)(function*(){yield I().call(H,b),delete H.localCache[b]})()}}return D.type="LOCAL",D})(),Fl=(()=>{class D extends Au{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(b,I){}_removeListener(b,I){}}return D.type="SESSION",D})();let Ll=(()=>{class D{constructor(b){this.eventTarget=b,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(b){const I=this.receivers.find(Q=>Q.isListeningto(b));if(I)return I;const H=new D(b);return this.receivers.push(H),H}isListeningto(b){return this.eventTarget===b}handleEvent(b){var I=this;return(0,h.Z)(function*(){const H=b,{eventId:Q,eventType:Le,data:ht}=H.data,Wt=I.handlersMap[Le];if(!(null==Wt?void 0:Wt.size))return;H.ports[0].postMessage({status:"ack",eventId:Q,eventType:Le});const nn=Array.from(Wt).map(function(){var gr=(0,h.Z)(function*(Ti){return Ti(H.origin,ht)});return function(Ti){return gr.apply(this,arguments)}}()),Ln=yield function wu(D){return Promise.all(D.map(function(){var _=(0,h.Z)(function*(b){try{return{fulfilled:!0,value:yield b}}catch(I){return{fulfilled:!1,reason:I}}});return function(b){return _.apply(this,arguments)}}()))}(nn);H.ports[0].postMessage({status:"done",eventId:Q,eventType:Le,response:Ln})})()}_subscribe(b,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[b]||(this.handlersMap[b]=new Set),this.handlersMap[b].add(I)}_unsubscribe(b,I){this.handlersMap[b]&&I&&this.handlersMap[b].delete(I),(!I||0===this.handlersMap[b].size)&&delete this.handlersMap[b],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function go(D="",_=10){let b="";for(let I=0;I<_;I++)b+=Math.floor(10*Math.random());return D+b}class mo{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,b,I=50){var H=this;return(0,h.Z)(function*(){const Q="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!Q)throw new Error("connection_unavailable");let Le,ht;return new Promise((Wt,nn)=>{const Ln=go("",20);Q.port1.start();const gr=setTimeout(()=>{nn(new Error("unsupported_event"))},I);ht={messageChannel:Q,onMessage(Ti){const Ts=Ti;if(Ts.data.eventId===Ln)switch(Ts.data.status){case"ack":clearTimeout(gr),Le=setTimeout(()=>{nn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Le),Wt(Ts.data.response);break;default:clearTimeout(gr),clearTimeout(Le),nn(new Error("invalid_response"))}}},H.handlers.add(ht),Q.port1.addEventListener("message",ht.onMessage),H.target.postMessage({eventType:_,eventId:Ln,data:b},[Q.port2])}).finally(()=>{ht&&H.removeMessageHandler(ht)})})()}}function Er(){return window}function _n(){return void 0!==Er().WorkerGlobalScope&&"function"==typeof Er().importScripts}function Cc(){return(Cc=(0,h.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(D){return null}})).apply(this,arguments)}const Tc="firebaseLocalStorageDb",vi="firebaseLocalStorage",Ci="fbase_key";class ya{constructor(_){this.request=_}toPromise(){return new Promise((_,b)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{b(this.request.error)})})}}function qs(D,_){return D.transaction([vi],_?"readwrite":"readonly").objectStore(vi)}function Sc(){const D=indexedDB.open(Tc,1);return new Promise((_,b)=>{D.addEventListener("error",()=>{b(D.error)}),D.addEventListener("upgradeneeded",()=>{const I=D.result;try{I.createObjectStore(vi,{keyPath:Ci})}catch(H){b(H)}}),D.addEventListener("success",(0,h.Z)(function*(){const I=D.result;I.objectStoreNames.contains(vi)?_(I):(I.close(),yield function Cu(){const D=indexedDB.deleteDatabase(Tc);return new ya(D).toPromise()}(),_(yield Sc()))}))})}function Ic(D,_,b){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,h.Z)(function*(D,_,b){const I=qs(D,!0).put({[Ci]:_,value:b});return new ya(I).toPromise()})).apply(this,arguments)}function _a(){return(_a=(0,h.Z)(function*(D,_){const b=qs(D,!1).get(_),I=yield new ya(b).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function ei(D,_){const b=qs(D,!0).delete(_);return new ya(b).toPromise()}const Mc=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var b=this;return(0,h.Z)(function*(){return b.db||(b.db=yield Sc()),b.db})()}_withRetries(b){var I=this;return(0,h.Z)(function*(){let H=0;for(;;)try{const Q=yield I._openDb();return yield b(Q)}catch(Q){if(H++>3)throw Q;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var b=this;return(0,h.Z)(function*(){return _n()?b.initializeReceiver():b.initializeSender()})()}initializeReceiver(){var b=this;return(0,h.Z)(function*(){b.receiver=Ll._getInstance(function Vl(){return _n()?self:null}()),b.receiver._subscribe("keyChanged",function(){var I=(0,h.Z)(function*(H,Q){return{keyProcessed:(yield b._poll()).includes(Q.key)}});return function(H,Q){return I.apply(this,arguments)}}()),b.receiver._subscribe("ping",function(){var I=(0,h.Z)(function*(H,Q){return["keyChanged"]});return function(H,Q){return I.apply(this,arguments)}}())})()}initializeSender(){var b=this;return(0,h.Z)(function*(){var I,H;if(b.activeServiceWorker=yield function Xa(){return Cc.apply(this,arguments)}(),!b.activeServiceWorker)return;b.sender=new mo(b.activeServiceWorker);const Q=yield b.sender._send("ping",{},800);!Q||(null===(I=Q[0])||void 0===I?void 0:I.fulfilled)&&(null===(H=Q[0])||void 0===H?void 0:H.value.includes("keyChanged"))&&(b.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(b){var I=this;return(0,h.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function Dc(){var D;return(null===(D=null==navigator?void 0:navigator.serviceWorker)||void 0===D?void 0:D.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:b},I.serviceWorkerReceiverAvailable?800:50)}catch(H){}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const b=yield Sc();return yield Ic(b,po,"1"),yield ei(b,po),!0}catch(b){}return!1})()}_withPendingWrite(b){var I=this;return(0,h.Z)(function*(){I.pendingWrites++;try{yield b()}finally{I.pendingWrites--}})()}_set(b,I){var H=this;return(0,h.Z)(function*(){return H._withPendingWrite((0,h.Z)(function*(){return yield H._withRetries(Q=>Ic(Q,b,I)),H.localCache[b]=I,H.notifyServiceWorker(b)}))})()}_get(b){var I=this;return(0,h.Z)(function*(){const H=yield I._withRetries(Q=>function Zs(D,_){return _a.apply(this,arguments)}(Q,b));return I.localCache[b]=H,H})()}_remove(b){var I=this;return(0,h.Z)(function*(){return I._withPendingWrite((0,h.Z)(function*(){return yield I._withRetries(H=>ei(H,b)),delete I.localCache[b],I.notifyServiceWorker(b)}))})()}_poll(){var b=this;return(0,h.Z)(function*(){const I=yield b._withRetries(Le=>{const ht=qs(Le,!1).getAll();return new ya(ht).toPromise()});if(!I)return[];if(0!==b.pendingWrites)return[];const H=[],Q=new Set;for(const{fbase_key:Le,value:ht}of I)Q.add(Le),JSON.stringify(b.localCache[Le])!==JSON.stringify(ht)&&(b.notifyListeners(Le,ht),H.push(Le));for(const Le of Object.keys(b.localCache))b.localCache[Le]&&!Q.has(Le)&&(b.notifyListeners(Le,null),H.push(Le));return H})()}notifyListeners(b,I){this.localCache[b]=I;const H=this.listeners[b];if(H)for(const Q of Array.from(H))Q(I)}startPolling(){var b=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return b._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(b,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[b]||(this.listeners[b]=new Set,this._get(b)),this.listeners[b].add(I)}_removeListener(b,I){this.listeners[b]&&(this.listeners[b].delete(I),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();function xc(D,_){return Ee(D,"POST","/v2/accounts/mfaSignIn:start",Ae(D,_))}function ji(){return(ji=(0,h.Z)(function*(D){return(yield Ee(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ko(D){return new Promise((_,b)=>{const I=document.createElement("script");I.setAttribute("src",D),I.onload=_,I.onerror=H=>{const Q=We("internal-error");Q.customData=H,b(Q)},I.type="text/javascript",I.charset="UTF-8",function Tu(){var D,_;return null!==(_=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==_?_:document}().appendChild(I)})}function lr(D){return`__${D}${Math.floor(1e6*Math.random())}`}const Gi=1e12;class Ul{constructor(_){this.auth=_,this.counter=Gi,this._widgets=new Map}render(_,b){const I=this.counter;return this._widgets.set(I,new zi(_,this.auth.name,b||{})),this.counter++,I}reset(_){var b;const I=_||Gi;null===(b=this._widgets.get(I))||void 0===b||b.delete(),this._widgets.delete(I)}getResponse(_){var b;return(null===(b=this._widgets.get(_||Gi))||void 0===b?void 0:b.getResponse())||""}execute(_){var b=this;return(0,h.Z)(function*(){var I;return null===(I=b._widgets.get(_||Gi))||void 0===I||I.execute(),""})()}}class zi{constructor(_,b,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const H="string"==typeof _?document.getElementById(_):_;Te(H,"argument-error",{appName:b}),this.container=H,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function mg(D){const _=[],b="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<D;I++)_.push(b.charAt(Math.floor(Math.random()*b.length)));return _.join("")}(50);const{callback:_,"expired-callback":b}=this.params;if(_)try{_(this.responseToken)}catch(I){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,b)try{b()}catch(I){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Su=lr("rcb"),xr=new Gt(3e4,6e4);class dh{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Er().grecaptcha}load(_,b=""){return Te(function Iu(D){return D.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D)}(b),_,"argument-error"),this.shouldResolveImmediately(b)?Promise.resolve(Er().grecaptcha):new Promise((I,H)=>{const Q=Er().setTimeout(()=>{H(We(_,"network-request-failed"))},xr.get());Er()[Su]=()=>{Er().clearTimeout(Q),delete Er()[Su];const ht=Er().grecaptcha;if(!ht)return void H(We(_,"internal-error"));const Wt=ht.render;ht.render=(nn,Ln)=>{const gr=Wt(nn,Ln);return this.counter++,gr},this.hostLanguage=b,I(ht)},Ko(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:Su,render:"explicit",hl:b})}`).catch(()=>{clearTimeout(Q),H(We(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){return!!Er().grecaptcha&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class fh{load(_){return(0,h.Z)(function*(){return new Ul(_)})()}clearedOneInstance(){}}const yo="recaptcha",Hd={theme:"light",type:"image"};class Mu{constructor(_,b=Object.assign({},Hd),I){this.parameters=b,this.type=yo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=bt(I),this.isInvisible="invisible"===this.parameters.size,Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const H="string"==typeof _?document.getElementById(_):_;Te(H,this.auth,"argument-error"),this.container=H,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new fh:new dh,this.validateStartingState()}verify(){var _=this;return(0,h.Z)(function*(){_.assertNotDestroyed();const b=yield _.render(),I=_.getAssertedRecaptcha();return I.getResponse(b)||new Promise(Q=>{const Le=ht=>{!ht||(_.tokenChangeListeners.delete(Le),Q(ht))};_.tokenChangeListeners.add(Le),_.isInvisible&&I.execute(b)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){Te(!this.parameters.sitekey,this.auth,"argument-error"),Te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return b=>{if(this.tokenChangeListeners.forEach(I=>I(b)),"function"==typeof _)_(b);else if("string"==typeof _){const I=Er()[_];"function"==typeof I&&I(b)}}}assertNotDestroyed(){Te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,h.Z)(function*(){if(yield _.init(),!_.widgetId){let b=_.container;if(!_.isInvisible){const I=document.createElement("div");b.appendChild(I),b=I}_.widgetId=_.getAssertedRecaptcha().render(b,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,h.Z)(function*(){Te($t()&&!_n(),_.auth,"internal-error"),yield function Qo(){let D=null;return new Promise(_=>{"complete"!==document.readyState?(D=()=>_(),window.addEventListener("load",D)):_()}).catch(_=>{throw D&&window.removeEventListener("load",D),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const b=yield function Zo(D){return ji.apply(this,arguments)}(_.auth);Te(b,_.auth,"internal-error"),_.parameters.sitekey=b})()}getAssertedRecaptcha(){return Te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class el{constructor(_,b){this.verificationId=_,this.onConfirmation=b}confirm(_){const b=bs._fromVerification(this.verificationId,_);return this.onConfirmation(b)}}function Rr(D,_,b){return ba.apply(this,arguments)}function ba(){return(ba=(0,h.Z)(function*(D,_,b){const I=bt(D),H=yield as(I,_,(0,P.m9)(b));return new el(H,Q=>Us(I,Q))})).apply(this,arguments)}function $i(D,_,b){return ti.apply(this,arguments)}function ti(){return(ti=(0,h.Z)(function*(D,_,b){const I=(0,P.m9)(D);yield ws(!1,I,"phone");const H=yield as(I.auth,_,(0,P.m9)(b));return new el(H,Q=>K(I,Q))})).apply(this,arguments)}function Rc(D,_,b){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,h.Z)(function*(D,_,b){const I=(0,P.m9)(D),H=yield as(I.auth,_,(0,P.m9)(b));return new el(H,Q=>we(I,Q))})).apply(this,arguments)}function as(D,_,b){return _o.apply(this,arguments)}function _o(){return(_o=(0,h.Z)(function*(D,_,b){var I;const H=yield b.verify();try{let Q;if(Te("string"==typeof H,D,"argument-error"),Te(b.type===yo,D,"argument-error"),Q="string"==typeof _?{phoneNumber:_}:_,"session"in Q){const Le=Q.session;if("phoneNumber"in Q)return Te("enroll"===Le.type,D,"internal-error"),(yield Ld(D,{idToken:Le.credential,phoneEnrollmentInfo:{phoneNumber:Q.phoneNumber,recaptchaToken:H}})).phoneSessionInfo.sessionInfo;{Te("signin"===Le.type,D,"internal-error");const ht=(null===(I=Q.multiFactorHint)||void 0===I?void 0:I.uid)||Q.multiFactorUid;return Te(ht,D,"missing-multi-factor-info"),(yield xc(D,{mfaPendingCredential:Le.credential,mfaEnrollmentId:ht,phoneSignInInfo:{recaptchaToken:H}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Le}=yield Ga(D,{phoneNumber:Q.phoneNumber,recaptchaToken:H});return Le}}finally{b._reset()}})).apply(this,arguments)}function xu(D,_){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,h.Z)(function*(D,_){yield cr((0,P.m9)(D),_)})).apply(this,arguments)}let Hl=(()=>{class D{constructor(b){this.providerId=D.PROVIDER_ID,this.auth=bt(b)}verifyPhoneNumber(b,I){return as(this.auth,b,(0,P.m9)(I))}static credential(b,I){return bs._fromVerification(b,I)}static credentialFromResult(b){return D.credentialFromTaggedObject(b)}static credentialFromError(b){return D.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{phoneNumber:I,temporaryProof:H}=b;return I&&H?bs._fromTokenResponse(I,H):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function Yo(D,_){return _?Fe(_):(Te(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class jl extends Sn{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return Mr(_,this._buildIdpRequest())}_linkToIdToken(_,b){return Mr(_,this._buildIdpRequest(b))}_getReauthenticationResolver(_){return Mr(_,this._buildIdpRequest())}_buildIdpRequest(_){const b={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(b.idToken=_),b}}function vg(D){return fo(D.auth,new jl(D),D.bypassAuthState)}function Jv(D){const{auth:_,user:b}=D;return Te(b,_,"internal-error"),ma(b,new jl(D),D.bypassAuthState)}function hh(D){return Di.apply(this,arguments)}function Di(){return(Di=(0,h.Z)(function*(D){const{auth:_,user:b}=D;return Te(b,_,"internal-error"),cr(b,new jl(D),D.bypassAuthState)})).apply(this,arguments)}class Nc{constructor(_,b,I,H,Q=!1){this.auth=_,this.resolver=I,this.user=H,this.bypassAuthState=Q,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(b)?b:[b]}execute(){var _=this;return new Promise(function(){var b=(0,h.Z)(function*(I,H){_.pendingPromise={resolve:I,reject:H};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(Q){_.reject(Q)}});return function(I,H){return b.apply(this,arguments)}}())}onAuthEvent(_){var b=this;return(0,h.Z)(function*(){const{urlResponse:I,sessionId:H,postBody:Q,tenantId:Le,error:ht,type:Wt}=_;if(ht)return void b.reject(ht);const nn={auth:b.auth,requestUri:I,sessionId:H,tenantId:Le||void 0,postBody:Q||void 0,user:b.user,bypassAuthState:b.bypassAuthState};try{b.resolve(yield b.getIdpTask(Wt)(nn))}catch(Ln){b.reject(Ln)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return vg;case"linkViaPopup":case"linkViaRedirect":return hh;case"reauthViaPopup":case"reauthViaRedirect":return Jv;default:Qe(this.auth,"internal-error")}}resolve(_){fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tl=new Gt(2e3,1e4);function yg(D,_,b){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,h.Z)(function*(D,_,b){const I=bt(D);ze(D,_,Bi);const H=Yo(I,b);return new nl(I,"signInViaPopup",_,H).executeNotNull()})).apply(this,arguments)}function kc(D,_,b){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,h.Z)(function*(D,_,b){const I=(0,P.m9)(D);ze(I.auth,_,Bi);const H=Yo(I.auth,b);return new nl(I.auth,"reauthViaPopup",_,H,I).executeNotNull()})).apply(this,arguments)}function Oc(D,_,b){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,h.Z)(function*(D,_,b){const I=(0,P.m9)(D);ze(I.auth,_,Bi);const H=Yo(I.auth,b);return new nl(I.auth,"linkViaPopup",_,H,I).executeNotNull()})).apply(this,arguments)}let nl=(()=>{class D extends Nc{constructor(b,I,H,Q,Le){super(b,I,Q,Le),this.provider=H,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var b=this;return(0,h.Z)(function*(){const I=yield b.execute();return Te(I,b.auth,"internal-error"),I})()}onExecution(){var b=this;return(0,h.Z)(function*(){fe(1===b.filter.length,"Popup operations only handle one event");const I=go();b.authWindow=yield b.resolver._openPopup(b.auth,b.provider,b.filter[0],I),b.authWindow.associatedEvent=I,b.resolver._originValidation(b.auth).catch(H=>{b.reject(H)}),b.resolver._isIframeWebStorageSupported(b.auth,H=>{H||b.reject(We(b.auth,"web-storage-unsupported"))}),b.pollUserCancellation()})()}get eventId(){var b;return(null===(b=this.authWindow)||void 0===b?void 0:b.associatedEvent)||null}cancel(){this.reject(We(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const b=()=>{var I,H;this.pollId=(null===(H=null===(I=this.authWindow)||void 0===I?void 0:I.window)||void 0===H?void 0:H.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(We(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(b,tl.get())};b()}}return D.currentPopupAction=null,D})();const Ys=new Map;class Jo extends Nc{constructor(_,b,I=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],b,void 0,I),this.eventId=null}execute(){var _=()=>super.execute,b=this;return(0,h.Z)(function*(){let I=Ys.get(b.auth._key());if(!I){try{const Q=(yield function _g(D,_){return Eo.apply(this,arguments)}(b.resolver,b.auth))?yield _().call(b):null;I=()=>Promise.resolve(Q)}catch(H){I=()=>Promise.reject(H)}Ys.set(b.auth._key(),I)}return b.bypassAuthState||Ys.set(b.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(_){var b=()=>super.onAuthEvent,I=this;return(0,h.Z)(function*(){if("signInViaRedirect"===_.type)return b().call(I,_);if("unknown"!==_.type){if(_.eventId){const H=yield I.auth._redirectUserForId(_.eventId);if(H)return I.user=H,b().call(I,_);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function Eo(){return(Eo=(0,h.Z)(function*(D,_){const b=Nu(_),I=Vc(D);if(!(yield I._isAvailable()))return!1;const H="true"===(yield I._get(b));return yield I._remove(b),H})).apply(this,arguments)}function Xo(D,_){return wa.apply(this,arguments)}function wa(){return(wa=(0,h.Z)(function*(D,_){return Vc(D)._set(Nu(_),"true")})).apply(this,arguments)}function ph(){Ys.clear()}function Lc(D,_){Ys.set(D._key(),_)}function Vc(D){return Fe(D._redirectPersistence)}function Nu(D){return ut("pendingRedirect",D.config.apiKey,D.name)}function gh(D,_,b){return function ku(D,_,b){return Pu.apply(this,arguments)}(D,_,b)}function Pu(){return(Pu=(0,h.Z)(function*(D,_,b){const I=bt(D);ze(D,_,Bi);const H=Yo(I,b);return yield Xo(H,I),H._openRedirect(I,_,"signInViaRedirect")})).apply(this,arguments)}function jd(D,_,b){return function ui(D,_,b){return Ca.apply(this,arguments)}(D,_,b)}function Ca(){return(Ca=(0,h.Z)(function*(D,_,b){const I=(0,P.m9)(D);ze(I.auth,_,Bi);const H=Yo(I.auth,b);yield Xo(H,I.auth);const Q=yield Xs(I);return H._openRedirect(I.auth,_,"reauthViaRedirect",Q)})).apply(this,arguments)}function mh(D,_,b){return function Ou(D,_,b){return bo.apply(this,arguments)}(D,_,b)}function bo(){return(bo=(0,h.Z)(function*(D,_,b){const I=(0,P.m9)(D);ze(I.auth,_,Bi);const H=Yo(I.auth,b);yield ws(!1,I,_.providerId),yield Xo(H,I.auth);const Q=yield Xs(I);return H._openRedirect(I.auth,_,"linkViaRedirect",Q)})).apply(this,arguments)}function Bc(D,_){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,h.Z)(function*(D,_){return yield bt(D)._initializationPromise,rl(D,_,!1)})).apply(this,arguments)}function rl(D,_){return Js.apply(this,arguments)}function Js(){return(Js=(0,h.Z)(function*(D,_,b=!1){const I=bt(D),H=Yo(I,_),Le=yield new Jo(I,H,b).execute();return Le&&!b&&(delete Le.user._redirectEventId,yield I._persistUserIfCurrent(Le.user),yield I._setRedirectUser(null,_)),Le})).apply(this,arguments)}function Xs(D){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,h.Z)(function*(D){const _=go(`${D.uid}:::`);return D._redirectEventId=_,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),_})).apply(this,arguments)}class zd{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let b=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(_,I)&&(b=!0,this.sendToConsumer(_,I),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function il(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zl(D);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,b||(this.queuedRedirectEvent=_,b=!0)),b}sendToConsumer(_,b){var I;if(_.error&&!zl(_)){const H=(null===(I=_.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";b.onError(We(this.auth,H))}else b.onAuthEvent(_)}isEventForConsumer(_,b){const I=null===b.eventId||!!_.eventId&&_.eventId===b.eventId;return b.filter.includes(_.type)&&I}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gl(_))}saveEventToCache(_){this.cachedEventUids.add(Gl(_)),this.lastProcessedEventTime=Date.now()}}function Gl(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(_=>_).join("-")}function zl({type:D,error:_}){return"unknown"===D&&"auth/no-auth-event"===(null==_?void 0:_.code)}function Fu(D){return sl.apply(this,arguments)}function sl(){return(sl=(0,h.Z)(function*(D,_={}){return Ee(D,"GET","/v1/projects",_)})).apply(this,arguments)}const $d=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Co=/^https?/;function Lu(){return(Lu=(0,h.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:_}=yield Fu(D);for(const b of _)try{if(Wd(b))return}catch(I){}Qe(D,"unauthorized-domain")})).apply(this,arguments)}function Wd(D){const _=ke(),{protocol:b,hostname:I}=new URL(_);if(D.startsWith("chrome-extension://")){const Le=new URL(D);return""===Le.hostname&&""===I?"chrome-extension:"===b&&D.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===b&&Le.hostname===I}if(!Co.test(b))return!1;if($d.test(D))return I===D;const H=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+H+"|"+H+")$","i").test(I)}const Uc=new Gt(3e4,6e4);function Vu(){const D=Er().___jsl;if(null==D?void 0:D.H)for(const _ of Object.keys(D.H))if(D.H[_].r=D.H[_].r||[],D.H[_].L=D.H[_].L||[],D.H[_].r=[...D.H[_].L],D.CP)for(let b=0;b<D.CP.length;b++)D.CP[b]=null}let ol=null;function vh(D){return ol=ol||function Hc(D){return new Promise((_,b)=>{var I,H,Q;function Le(){Vu(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{Vu(),b(We(D,"network-request-failed"))},timeout:Uc.get()})}if(null===(H=null===(I=Er().gapi)||void 0===I?void 0:I.iframes)||void 0===H?void 0:H.Iframe)_(gapi.iframes.getContext());else{if(!(null===(Q=Er().gapi)||void 0===Q?void 0:Q.load)){const ht=lr("iframefcb");return Er()[ht]=()=>{gapi.load?Le():b(We(D,"network-request-failed"))},Ko(`https://apis.google.com/js/api.js?onload=${ht}`).catch(Wt=>b(Wt))}Le()}}).catch(_=>{throw ol=null,_})}(D),ol}const yh=new Gt(5e3,15e3),Da={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Eg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bg(D){const _=D.config;Te(_.authDomain,D,"auth-domain-config-required");const b=_.emulator?qn(_,"emulator/auth/iframe"):`https://${D.config.authDomain}/__/auth/iframe`,I={apiKey:_.apiKey,appName:D.name,v:R.SDK_VERSION},H=Eg.get(D.config.apiHost);H&&(I.eid=H);const Q=D._getFrameworks();return Q.length&&(I.fw=Q.join(",")),`${b}?${(0,P.xO)(I).slice(1)}`}function ql(){return ql=(0,h.Z)(function*(D){const _=yield vh(D),b=Er().gapi;return Te(b,D,"internal-error"),_.open({where:document.body,url:bg(D),messageHandlersFilter:b.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Da,dontclear:!0},I=>new Promise(function(){var H=(0,h.Z)(function*(Q,Le){yield I.restyle({setHideOnLeave:!1});const ht=We(D,"network-request-failed"),Wt=Er().setTimeout(()=>{Le(ht)},yh.get());function nn(){Er().clearTimeout(Wt),Q(I)}I.ping(nn).then(nn,()=>{Le(ht)})});return function(Q,Le){return H.apply(this,arguments)}}()))}),ql.apply(this,arguments)}const jc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Zd{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(_){}}}function ls(D,_,b,I,H,Q){Te(D.config.authDomain,D,"auth-domain-config-required"),Te(D.config.apiKey,D,"invalid-api-key");const Le={apiKey:D.config.apiKey,appName:D.name,authType:b,redirectUrl:I,v:R.SDK_VERSION,eventId:H};if(_ instanceof Bi){_.setDefaultLanguage(D.languageCode),Le.providerId=_.providerId||"",(0,P.xb)(_.getCustomParameters())||(Le.customParameters=JSON.stringify(_.getCustomParameters()));for(const[Wt,nn]of Object.entries(Q||{}))Le[Wt]=nn}if(_ instanceof wi){const Wt=_.getScopes().filter(nn=>""!==nn);Wt.length>0&&(Le.scopes=Wt.join(","))}D.tenantId&&(Le.tid=D.tenantId);const ht=Le;for(const Wt of Object.keys(ht))void 0===ht[Wt]&&delete ht[Wt];return`${function Ta({config:D}){return D.emulator?qn(D,"emulator/auth/handler"):`https://${D.authDomain}/__/auth/handler`}(D)}?${(0,P.xO)(ht).slice(1)}`}const Sa="webStorageSupport",Kl=class $c{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fl,this._completeRedirectFn=rl,this._overrideRedirectResult=Lc}_openPopup(_,b,I,H){var Q=this;return(0,h.Z)(function*(){var Le;fe(null===(Le=Q.eventManagers[_._key()])||void 0===Le?void 0:Le.manager,"_initialize() not called before _openPopup()");const ht=ls(_,b,I,ke(),H);return function _h(D,_,b,I=500,H=600){const Q=Math.max((window.screen.availHeight-H)/2,0).toString(),Le=Math.max((window.screen.availWidth-I)/2,0).toString();let ht="";const Wt=Object.assign(Object.assign({},jc),{width:I.toString(),height:H.toString(),top:Q,left:Le}),nn=(0,P.z$)().toLowerCase();b&&(ht=et(nn)?"_blank":b),pe(nn)&&(_=_||"http://localhost",Wt.scrollbars="yes");const Ln=Object.entries(Wt).reduce((Ti,[Ts,Yl])=>`${Ti}${Ts}=${Yl},`,"");if(function Lr(D=(0,P.z$)()){var _;return Vt(D)&&!!(null===(_=window.navigator)||void 0===_?void 0:_.standalone)}(nn)&&"_self"!==ht)return function Gc(D,_){const b=document.createElement("a");b.href=D,b.target=_;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),b.dispatchEvent(I)}(_||"",ht),new Zd(null);const gr=window.open(_||"",ht,Ln);Te(gr,D,"popup-blocked");try{gr.focus()}catch(Ti){}return new Zd(gr)}(_,ht,go())})()}_openRedirect(_,b,I,H){var Q=this;return(0,h.Z)(function*(){return yield Q._originValidation(_),function jr(D){Er().location.href=D}(ls(_,b,I,ke(),H)),new Promise(()=>{})})()}_initialize(_){const b=_._key();if(this.eventManagers[b]){const{manager:H,promise:Q}=this.eventManagers[b];return H?Promise.resolve(H):(fe(Q,"If manager is not set, promise should be"),Q)}const I=this.initAndGetManager(_);return this.eventManagers[b]={promise:I},I.catch(()=>{delete this.eventManagers[b]}),I}initAndGetManager(_){var b=this;return(0,h.Z)(function*(){const I=yield function Xv(D){return ql.apply(this,arguments)}(_),H=new zd(_);return I.register("authEvent",Q=>(Te(null==Q?void 0:Q.authEvent,_,"invalid-auth-event"),{status:H.onEvent(Q.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),b.eventManagers[_._key()]={manager:H},b.iframes[_._key()]=I,H})()}_isIframeWebStorageSupported(_,b){this.iframes[_._key()].send(Sa,{type:Sa},H=>{var Q;const Le=null===(Q=null==H?void 0:H[0])||void 0===Q?void 0:Q[Sa];void 0!==Le&&b(!!Le),Qe(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const b=_._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function $l(D){return Lu.apply(this,arguments)}(_)),this.originValidationPromises[b]}get _shouldInitProactively(){return Cr()||he()||Vt()}};class Wc extends class Uu{constructor(_){this.factorId=_}_process(_,b,I){switch(b.type){case"enroll":return this._finalizeEnroll(_,b.credential,I);case"signin":return this._finalizeSignIn(_,b.credential);default:return Re("unexpected MultiFactorSessionType")}}}{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new Wc(_)}_finalizeEnroll(_,b,I){return function pg(D,_){return Ee(D,"POST","/v2/accounts/mfaEnrollment:finalize",Ae(D,_))}(_,{idToken:b,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,b){return function qo(D,_){return Ee(D,"POST","/v2/accounts/mfaSignIn:finalize",Ae(D,_))}(_,{mfaPendingCredential:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Qd=(()=>{class D{constructor(){}static assertion(b){return Wc._fromCredential(b)}}return D.FACTOR_ID="phone",D})();var Ql="@firebase/auth";class Eh{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var b=this;return(0,h.Z)(function*(){return b.assertAuthConfigured(),yield b.auth._initializationPromise,b.auth.currentUser?{accessToken:yield b.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const b=this.auth.onIdTokenChanged(I=>{var H;_((null===(H=I)||void 0===H?void 0:H.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,b),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const b=this.internalListeners.get(_);!b||(this.internalListeners.delete(_),b(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Yd(D=(0,R.getApp)()){const _=(0,R._getProvider)(D,"auth");return _.isInitialized()?_.getImmediate():function Be(D,_){const b=(0,R._getProvider)(D,"auth");if(b.isInitialized()){const H=b.getImmediate(),Q=b.getOptions();if((0,P.vZ)(Q,null!=_?_:{}))return H;Qe(H,"already-initialized")}return b.initialize({options:_})}(D,{popupRedirectResolver:Kl,persistence:[Mc,Ol,Fl]})}!function bh(D){(0,R._registerComponent)(new Ce.wA("auth",(_,{options:b})=>{const I=_.getProvider("app").getImmediate(),H=_.getProvider("heartbeat"),{apiKey:Q,authDomain:Le}=I.options;return((ht,Wt)=>{Te(Q&&!Q.includes(":"),"invalid-api-key",{appName:ht.name}),Te(!(null==Le?void 0:Le.includes(":")),"argument-error",{appName:ht.name});const nn={apiKey:Q,authDomain:Le,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kr(D)},Ln=new Qr(ht,Wt,nn);return function Xe(D,_){const b=(null==_?void 0:_.persistence)||[],I=(Array.isArray(b)?b:[b]).map(Fe);(null==_?void 0:_.errorMap)&&D._updateErrorMap(_.errorMap),D._initializeWithPersistence(I,null==_?void 0:_.popupRedirectResolver)}(Ln,b),Ln})(I,H)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,b,I)=>{_.getProvider("auth-internal").initialize()})),(0,R._registerComponent)(new Ce.wA("auth-internal",_=>{const b=bt(_.getProvider("auth").getImmediate());return new Eh(b)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,R.registerVersion)(Ql,"0.20.1",function qc(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,R.registerVersion)(Ql,"0.20.1","esm2017")}("Browser")},2090:(Pt,$e,$)=>{"use strict";$.d($e,{$s:()=>yn,BH:()=>F,G6:()=>Te,L:()=>xe,LL:()=>ke,Mn:()=>ze,Sg:()=>U,UG:()=>ce,US:()=>Ce,ZB:()=>de,ZR:()=>Xe,b$:()=>Qe,d:()=>We,eu:()=>fe,hl:()=>Re,jU:()=>oe,m9:()=>Tn,ne:()=>Ze,pd:()=>hn,r3:()=>Ae,ru:()=>je,tV:()=>De,uI:()=>me,vZ:()=>wt,w1:()=>Ye,xO:()=>Ft,xb:()=>Ve,z$:()=>ie,zI:()=>Ie,zd:()=>on});const G=function(ue){const ye=[];let B=0;for(let Y=0;Y<ue.length;Y++){let W=ue.charCodeAt(Y);W<128?ye[B++]=W:W<2048?(ye[B++]=W>>6|192,ye[B++]=63&W|128):55296==(64512&W)&&Y+1<ue.length&&56320==(64512&ue.charCodeAt(Y+1))?(W=65536+((1023&W)<<10)+(1023&ue.charCodeAt(++Y)),ye[B++]=W>>18|240,ye[B++]=W>>12&63|128,ye[B++]=W>>6&63|128,ye[B++]=63&W|128):(ye[B++]=W>>12|224,ye[B++]=W>>6&63|128,ye[B++]=63&W|128)}return ye},Ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ue,ye){if(!Array.isArray(ue))throw Error("encodeByteArray takes an array as a parameter");this.init_();const B=ye?this.byteToCharMapWebSafe_:this.byteToCharMap_,Y=[];for(let W=0;W<ue.length;W+=3){const le=ue[W],ae=W+1<ue.length,ge=ae?ue[W+1]:0,Pe=W+2<ue.length,st=Pe?ue[W+2]:0;let zt=(15&ge)<<2|st>>6,Se=63&st;Pe||(Se=64,ae||(zt=64)),Y.push(B[le>>2],B[(3&le)<<4|ge>>4],B[zt],B[Se])}return Y.join("")},encodeString(ue,ye){return this.HAS_NATIVE_SUPPORT&&!ye?btoa(ue):this.encodeByteArray(G(ue),ye)},decodeString(ue,ye){return this.HAS_NATIVE_SUPPORT&&!ye?atob(ue):function(ue){const ye=[];let B=0,Y=0;for(;B<ue.length;){const W=ue[B++];if(W<128)ye[Y++]=String.fromCharCode(W);else if(W>191&&W<224){const le=ue[B++];ye[Y++]=String.fromCharCode((31&W)<<6|63&le)}else if(W>239&&W<365){const Pe=((7&W)<<18|(63&ue[B++])<<12|(63&ue[B++])<<6|63&ue[B++])-65536;ye[Y++]=String.fromCharCode(55296+(Pe>>10)),ye[Y++]=String.fromCharCode(56320+(1023&Pe))}else{const le=ue[B++],ae=ue[B++];ye[Y++]=String.fromCharCode((15&W)<<12|(63&le)<<6|63&ae)}}return ye.join("")}(this.decodeStringToByteArray(ue,ye))},decodeStringToByteArray(ue,ye){this.init_();const B=ye?this.charToByteMapWebSafe_:this.charToByteMap_,Y=[];for(let W=0;W<ue.length;){const le=B[ue.charAt(W++)],ge=W<ue.length?B[ue.charAt(W)]:0;++W;const st=W<ue.length?B[ue.charAt(W)]:64;++W;const ut=W<ue.length?B[ue.charAt(W)]:64;if(++W,null==le||null==ge||null==st||null==ut)throw Error();Y.push(le<<2|ge>>4),64!==st&&(Y.push(ge<<4&240|st>>2),64!==ut&&Y.push(st<<6&192|ut))}return Y},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ue=0;ue<this.ENCODED_VALS.length;ue++)this.byteToCharMap_[ue]=this.ENCODED_VALS.charAt(ue),this.charToByteMap_[this.byteToCharMap_[ue]]=ue,this.byteToCharMapWebSafe_[ue]=this.ENCODED_VALS_WEBSAFE.charAt(ue),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ue]]=ue,ue>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ue)]=ue,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ue)]=ue)}}},xe=function(ue){return function(ue){const ye=G(ue);return Ce.encodeByteArray(ye,!0)}(ue).replace(/\./g,"")},De=function(ue){try{return Ce.decodeString(ue,!0)}catch(ye){console.error("base64Decode failed: ",ye)}return null};function de(ue,ye){if(!(ye instanceof Object))return ye;switch(ye.constructor){case Date:return new Date(ye.getTime());case Object:void 0===ue&&(ue={});break;case Array:ue=[];break;default:return ye}for(const B in ye)!ye.hasOwnProperty(B)||!T(B)||(ue[B]=de(ue[B],ye[B]));return ue}function T(ue){return"__proto__"!==ue}class F{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ye,B)=>{this.resolve=ye,this.reject=B})}wrapCallback(ye){return(B,Y)=>{B?this.reject(B):this.resolve(Y),"function"==typeof ye&&(this.promise.catch(()=>{}),1===ye.length?ye(B):ye(B,Y))}}}function U(ue,ye){if(ue.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Y=ye||"demo-project",W=ue.iat||0,le=ue.sub||ue.user_id;if(!le)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ae=Object.assign({iss:`https://securetoken.google.com/${Y}`,aud:Y,iat:W,exp:W+3600,auth_time:W,sub:le,user_id:le,firebase:{sign_in_provider:"custom",identities:{}}},ue);return[xe(JSON.stringify({alg:"none",type:"JWT"})),xe(JSON.stringify(ae)),""].join(".")}function ie(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function me(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ie())}function ce(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ue){return!1}}function oe(){return"object"==typeof self&&self.self===self}function je(){const ue="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ue&&void 0!==ue.id}function Qe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function We(){return ie().indexOf("Electron/")>=0}function Ye(){const ue=ie();return ue.indexOf("MSIE ")>=0||ue.indexOf("Trident/")>=0}function ze(){return ie().indexOf("MSAppHost/")>=0}function Te(){return!ce()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Re(){return"object"==typeof indexedDB}function fe(){return new Promise((ue,ye)=>{try{let B=!0;const Y="validate-browser-context-for-indexeddb-analytics-module",W=self.indexedDB.open(Y);W.onsuccess=()=>{W.result.close(),B||self.indexedDB.deleteDatabase(Y),ue(!0)},W.onupgradeneeded=()=>{B=!1},W.onerror=()=>{var le;ye((null===(le=W.error)||void 0===le?void 0:le.message)||"")}}catch(B){ye(B)}})}function Ie(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Xe extends Error{constructor(ye,B,Y){super(B),this.code=ye,this.customData=Y,this.name="FirebaseError",Object.setPrototypeOf(this,Xe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ke.prototype.create)}}class ke{constructor(ye,B,Y){this.service=ye,this.serviceName=B,this.errors=Y}create(ye,...B){const Y=B[0]||{},W=`${this.service}/${ye}`,le=this.errors[ye],ae=le?function $t(ue,ye){return ue.replace(Xt,(B,Y)=>{const W=ye[Y];return null!=W?String(W):`<${Y}?>`})}(le,Y):"Error";return new Xe(W,`${this.serviceName}: ${ae} (${W}).`,Y)}}const Xt=/\{\$([^}]+)}/g;function Ae(ue,ye){return Object.prototype.hasOwnProperty.call(ue,ye)}function Ve(ue){for(const ye in ue)if(Object.prototype.hasOwnProperty.call(ue,ye))return!1;return!0}function wt(ue,ye){if(ue===ye)return!0;const B=Object.keys(ue),Y=Object.keys(ye);for(const W of B){if(!Y.includes(W))return!1;const le=ue[W],ae=ye[W];if(qe(le)&&qe(ae)){if(!wt(le,ae))return!1}else if(le!==ae)return!1}for(const W of Y)if(!B.includes(W))return!1;return!0}function qe(ue){return null!==ue&&"object"==typeof ue}function Ft(ue){const ye=[];for(const[B,Y]of Object.entries(ue))Array.isArray(Y)?Y.forEach(W=>{ye.push(encodeURIComponent(B)+"="+encodeURIComponent(W))}):ye.push(encodeURIComponent(B)+"="+encodeURIComponent(Y));return ye.length?"&"+ye.join("&"):""}function on(ue){const ye={};return ue.replace(/^\?/,"").split("&").forEach(Y=>{if(Y){const[W,le]=Y.split("=");ye[decodeURIComponent(W)]=decodeURIComponent(le)}}),ye}function hn(ue){const ye=ue.indexOf("?");if(!ye)return"";const B=ue.indexOf("#",ye);return ue.substring(ye,B>0?B:void 0)}function Ze(ue,ye){const B=new Ct(ue,ye);return B.subscribe.bind(B)}class Ct{constructor(ye,B){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=B,this.task.then(()=>{ye(this)}).catch(Y=>{this.error(Y)})}next(ye){this.forEachObserver(B=>{B.next(ye)})}error(ye){this.forEachObserver(B=>{B.error(ye)}),this.close(ye)}complete(){this.forEachObserver(ye=>{ye.complete()}),this.close()}subscribe(ye,B,Y){let W;if(void 0===ye&&void 0===B&&void 0===Y)throw new Error("Missing Observer.");W=function yt(ue,ye){if("object"!=typeof ue||null===ue)return!1;for(const B of ye)if(B in ue&&"function"==typeof ue[B])return!0;return!1}(ye,["next","error","complete"])?ye:{next:ye,error:B,complete:Y},void 0===W.next&&(W.next=Lt),void 0===W.error&&(W.error=Lt),void 0===W.complete&&(W.complete=Lt);const le=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?W.error(this.finalError):W.complete()}catch(ae){}}),this.observers.push(W),le}unsubscribeOne(ye){void 0===this.observers||void 0===this.observers[ye]||(delete this.observers[ye],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ye){if(!this.finalized)for(let B=0;B<this.observers.length;B++)this.sendOne(B,ye)}sendOne(ye,B){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ye])try{B(this.observers[ye])}catch(Y){"undefined"!=typeof console&&console.error&&console.error(Y)}})}close(ye){this.finalized||(this.finalized=!0,void 0!==ye&&(this.finalError=ye),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Lt(){}function yn(ue,ye=1e3,B=2){const Y=ye*Math.pow(B,ue),W=Math.round(.5*Y*(Math.random()-.5)*2);return Math.min(144e5,Y+W)}function Tn(ue){return ue&&ue._delegate?ue._delegate:ue}},9356:(Pt,$e,$)=>{"use strict";$.r($e),$.d($e,{BASE_OPTION_DEFAULTS:()=>Ls,BASE_OPTION_REFINERS:()=>yu,BaseComponent:()=>lr,BgEvent:()=>Ng,CalendarApi:()=>Ya,CalendarContent:()=>H,CalendarDataManager:()=>Do,CalendarDataProvider:()=>qi,CalendarRoot:()=>ht,Component:()=>R,ContentHook:()=>Mu,CustomContentRenderContext:()=>Hd,DateComponent:()=>Ul,DateEnv:()=>_r,DateProfileGenerator:()=>Yo,DayCellContent:()=>Th,DayCellRoot:()=>oy,DayHeader:()=>Jl,DaySeriesModel:()=>Xd,DayTableModel:()=>ju,DelayedRunner:()=>Hc,ElementDragging:()=>Hu,ElementScrollController:()=>Mc,Emitter:()=>_a,EventApi:()=>Xr,EventRoot:()=>cl,EventSourceApi:()=>T,Fragment:()=>be,Interaction:()=>Uu,MoreLinkRoot:()=>ay,MountHook:()=>el,NamedTimeZoneImpl:()=>_h,NowIndicatorRoot:()=>xg,NowTimer:()=>Yl,PositionCache:()=>Du,RefMap:()=>Cg,RenderHook:()=>yo,ScrollController:()=>Bl,ScrollResponder:()=>Zo,Scroller:()=>wh,SegHierarchy:()=>Gc,SimpleScrollGrid:()=>Ig,Slicer:()=>ef,Splitter:()=>Fl,StandardEvent:()=>Dh,TableDateCell:()=>gr,TableDowCell:()=>Ts,Theme:()=>qo,ViewApi:()=>bu,ViewContextType:()=>ji,ViewRoot:()=>ti,WeekNumberRoot:()=>Qc,WindowScrollController:()=>xc,addDays:()=>Ze,addDurations:()=>si,addMs:()=>Ct,addWeeks:()=>fn,allowContextMenu:()=>Ar,allowSelection:()=>qn,applyMutationToEventStore:()=>Gs,applyStyle:()=>je,applyStyleProp:()=>Qe,asCleanDays:()=>Cr,asRoughMinutes:()=>Ue,asRoughMs:()=>Ht,asRoughSeconds:()=>ft,binarySearch:()=>Kl,buildClassNameNormalizer:()=>Rr,buildEntryKey:()=>Kd,buildEventApis:()=>Rl,buildEventRangeKey:()=>Hs,buildHashFromArray:()=>st,buildIsoString:()=>Sn,buildNavLinkAttrs:()=>_n,buildSegCompareObj:()=>On,buildSegTimeText:()=>Wa,collectFromHash:()=>he,combineEventUis:()=>Ur,compareByFieldSpec:()=>Ee,compareByFieldSpecs:()=>Ae,compareNumbers:()=>qe,compareObjs:()=>Se,computeEarliestSegStart:()=>Fg,computeEdges:()=>Ci,computeFallbackHeaderFormat:()=>Wt,computeHeightAndMargins:()=>Sc,computeInnerRect:()=>ya,computeRect:()=>qs,computeSegDraggable:()=>ss,computeSegEndResizable:()=>ho,computeSegStartResizable:()=>os,computeShrinkWidth:()=>ey,computeSmallestCellWidth:()=>on,computeVisibleDayRange:()=>ws,config:()=>Eh,constrainPoint:()=>Au,createAriaClickAttrs:()=>Xe,createContext:()=>xe,createDuration:()=>Vt,createElement:()=>G,createEmptyEventStore:()=>li,createEventInstance:()=>Y,createEventUi:()=>Bs,createFormatter:()=>Tr,createPlugin:()=>zi,createPortal:()=>De,createRef:()=>Ce,diffDates:()=>ma,diffDayAndTime:()=>xn,diffDays:()=>yt,diffPoints:()=>gg,diffWeeks:()=>en,diffWholeDays:()=>Wn,diffWholeWeeks:()=>Dn,disableCursor:()=>Xn,elementClosest:()=>U,elementMatches:()=>ie,enableCursor:()=>xt,eventTupleToStore:()=>Bi,filterEventStoreDefs:()=>ha,filterHash:()=>ae,findDirectChildren:()=>ce,findElements:()=>me,flexibleCompare:()=>Ve,flushSync:()=>X,formatDate:()=>Pl,formatDayString:()=>hr,formatIsoTimeString:()=>Wr,formatRange:()=>Ac,getAllowYScrolling:()=>ny,getCanVGrowWithinCell:()=>Ws,getClippingParents:()=>Ds,getDateMeta:()=>Ll,getDayClassNames:()=>go,getDefaultEventEnd:()=>js,getElRoot:()=>Ye,getElSeg:()=>ir,getEntrySpanEnd:()=>zc,getEventClassNames:()=>In,getEventTargetViaRoot:()=>We,getIsRtlScrollbarOnLeft:()=>Cc,getRectCenter:()=>Bd,getRelevantEvents:()=>wi,getScrollGridClassNames:()=>ci,getScrollbarWidths:()=>Tc,getSectionClassNames:()=>zu,getSectionHasLiquidHeight:()=>ty,getSegAnchorAttrs:()=>pr,getSegMeta:()=>ot,getSlotClassNames:()=>mo,getStickyFooterScrollbar:()=>Sg,getStickyHeaderDates:()=>ry,getUnequalProps:()=>zt,getUniqueDomId:()=>vt,globalLocales:()=>lh,globalPlugins:()=>Wd,greatestDurationDenominator:()=>Pn,groupIntersectingEntries:()=>ls,guid:()=>Xt,hasBgRendering:()=>St,hasShrinkWidth:()=>Tg,identity:()=>tt,interactionSettingsStore:()=>Ql,interactionSettingsToStore:()=>Qd,intersectRanges:()=>Us,intersectRects:()=>ch,intersectSpans:()=>Sa,isArraysEqual:()=>pi,isColPropsEqual:()=>Zi,isDateSelectionValid:()=>Zc,isDateSpansEqual:()=>mc,isInt:()=>Ft,isInteractionValid:()=>ll,isMultiDayRange:()=>Zn,isPropsEqual:()=>ut,isPropsValid:()=>Xl,isValidDate:()=>ye,joinSpans:()=>Ta,listenBySelector:()=>fe,mapHash:()=>ge,memoize:()=>Bn,memoizeArraylike:()=>Vr,memoizeHashlike:()=>_s,memoizeObjArg:()=>ts,mergeEventStores:()=>uo,multiplyDuration:()=>ao,padStart:()=>lt,parseBusinessHours:()=>$o,parseClassNames:()=>Vs,parseDragMeta:()=>bh,parseEventDef:()=>co,parseFieldSpecs:()=>Cn,parseMarker:()=>zs,pointInsideRect:()=>Vd,preventContextMenu:()=>Hn,preventDefault:()=>Te,preventSelection:()=>Gt,rangeContainsMarker:()=>we,rangeContainsRange:()=>Z,rangesEqual:()=>va,rangesIntersect:()=>K,refineEventDef:()=>jo,refineProps:()=>Vi,removeElement:()=>F,removeExact:()=>ys,render:()=>ne,renderChunkContent:()=>Gu,renderFill:()=>Rg,renderMicroColGroup:()=>Ch,renderScrollShim:()=>To,requestJson:()=>rl,sanitizeShrinkWidth:()=>Dg,setElSeg:()=>cn,setRef:()=>Gi,sliceEventStore:()=>_t,sliceEvents:()=>Zd,sortEventSegs:()=>or,startOfDay:()=>ln,translateRect:()=>po,triggerDateSelect:()=>Jr,unmountComponentAtNode:()=>de,unpromisify:()=>Zs,version:()=>dy,whenTransitionDone:()=>Be,wholeDivideDurations:()=>Mn}),$(4602);var P=$(655);if("undefined"==typeof FullCalendarVDom)throw new Error("Please import the top-level fullcalendar lib before attempting to import a plugin.");var R=FullCalendarVDom.Component,G=FullCalendarVDom.createElement,ne=FullCalendarVDom.render,Ce=FullCalendarVDom.createRef,be=FullCalendarVDom.Fragment,xe=FullCalendarVDom.createContext,De=FullCalendarVDom.createPortal,X=FullCalendarVDom.flushSync,de=FullCalendarVDom.unmountComponentAtNode,T=function(){function d(c,p){this.context=c,this.internalEventSource=p}return d.prototype.remove=function(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})},d.prototype.refetch=function(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})},Object.defineProperty(d.prototype,"id",{get:function(){return this.internalEventSource.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"url",{get:function(){return this.internalEventSource.meta.url},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"format",{get:function(){return this.internalEventSource.meta.format},enumerable:!1,configurable:!0}),d}();function F(d){d.parentNode&&d.parentNode.removeChild(d)}function U(d,c){if(d.closest)return d.closest(c);if(!document.documentElement.contains(d))return null;do{if(ie(d,c))return d;d=d.parentElement||d.parentNode}while(null!==d&&1===d.nodeType);return null}function ie(d,c){return(d.matches||d.matchesSelector||d.msMatchesSelector).call(d,c)}function me(d,c){for(var p=d instanceof HTMLElement?[d]:d,v=[],w=0;w<p.length;w+=1)for(var M=p[w].querySelectorAll(c),N=0;N<M.length;N+=1)v.push(M[N]);return v}function ce(d,c){for(var p=d instanceof HTMLElement?[d]:d,v=[],w=0;w<p.length;w+=1)for(var M=p[w].children,N=0;N<M.length;N+=1){var V=M[N];(!c||ie(V,c))&&v.push(V)}return v}var oe=/(top|left|right|bottom|width|height)$/i;function je(d,c){for(var p in c)Qe(d,p,c[p])}function Qe(d,c,p){d.style[c]=null==p?"":"number"==typeof p&&oe.test(c)?p+"px":p}function We(d){var c,p;return null!==(p=null===(c=d.composedPath)||void 0===c?void 0:c.call(d)[0])&&void 0!==p?p:d.target}function Ye(d){return d.getRootNode?d.getRootNode():document}var ze=0;function vt(){return"fc-dom-"+(ze+=1)}function Te(d){d.preventDefault()}function fe(d,c,p,v){var w=function Re(d,c){return function(p){var v=U(p.target,d);v&&c.call(v,p,v)}}(p,v);return d.addEventListener(c,w),function(){d.removeEventListener(c,w)}}var Fe=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function Be(d,c){var p=function(v){c(v),Fe.forEach(function(w){d.removeEventListener(w,p)})};Fe.forEach(function(v){d.addEventListener(v,p)})}function Xe(d){return(0,P.__assign)({onClick:d},ke(d))}function ke(d){return{tabIndex:0,onKeyDown:function(c){("Enter"===c.key||" "===c.key)&&(d(c),c.preventDefault())}}}var $t=0;function Xt(){return String($t+=1)}function Xn(){document.body.classList.add("fc-not-allowed")}function xt(){document.body.classList.remove("fc-not-allowed")}function Gt(d){d.classList.add("fc-unselectable"),d.addEventListener("selectstart",Te)}function qn(d){d.classList.remove("fc-unselectable"),d.removeEventListener("selectstart",Te)}function Hn(d){d.addEventListener("contextmenu",Te)}function Ar(d){d.removeEventListener("contextmenu",Te)}function Cn(d){var v,w,c=[],p=[];for("string"==typeof d?p=d.split(/\s*,\s*/):"function"==typeof d?p=[d]:Array.isArray(d)&&(p=d),v=0;v<p.length;v+=1)"string"==typeof(w=p[v])?c.push("-"===w.charAt(0)?{field:w.substring(1),order:-1}:{field:w,order:1}):"function"==typeof w&&c.push({func:w});return c}function Ae(d,c,p){var v,w;for(v=0;v<p.length;v+=1)if(w=Ee(d,c,p[v]))return w;return 0}function Ee(d,c,p){return p.func?p.func(d,c):Ve(d[p.field],c[p.field])*(p.order||1)}function Ve(d,c){return d||c?null==c?-1:null==d?1:"string"==typeof d||"string"==typeof c?String(d).localeCompare(String(c)):d-c:0}function lt(d,c){var p=String(d);return"000".substr(0,c-p.length)+p}function wt(d,c,p){return"function"==typeof d?d.apply(void 0,c):"string"==typeof d?c.reduce(function(v,w,M){return v.replace("$"+M,w||"")},d):p}function qe(d,c){return d-c}function Ft(d){return d%1==0}function on(d){var c=d.querySelector(".fc-scrollgrid-shrink-frame"),p=d.querySelector(".fc-scrollgrid-shrink-cushion");if(!c)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!p)throw new Error("needs fc-scrollgrid-shrink-cushion className");return d.getBoundingClientRect().width-c.getBoundingClientRect().width+p.getBoundingClientRect().width}var hn=["sun","mon","tue","wed","thu","fri","sat"];function fn(d,c){var p=Tn(d);return p[2]+=7*c,ue(p)}function Ze(d,c){var p=Tn(d);return p[2]+=c,ue(p)}function Ct(d,c){var p=Tn(d);return p[6]+=c,ue(p)}function en(d,c){return yt(d,c)/7}function yt(d,c){return(c.valueOf()-d.valueOf())/864e5}function xn(d,c){var p=ln(d),v=ln(c);return{years:0,months:0,days:Math.round(yt(p,v)),milliseconds:c.valueOf()-v.valueOf()-(d.valueOf()-p.valueOf())}}function Dn(d,c){var p=Wn(d,c);return null!==p&&p%7==0?p/7:null}function Wn(d,c){return B(d)===B(c)?Math.round(yt(d,c)):null}function ln(d){return ue([d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()])}function Nr(d,c,p,v){var w=ue([c,0,1+yn(c,p,v)]),M=ln(d),N=Math.round(yt(w,M));return Math.floor(N/7)+1}function yn(d,c,p){var v=7+c-p;return-(7+ue([d,0,v]).getUTCDay()-c)%7+v-1}function wr(d){return[d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),d.getMinutes(),d.getSeconds(),d.getMilliseconds()]}function nr(d){return new Date(d[0],d[1]||0,null==d[2]?1:d[2],d[3]||0,d[4]||0,d[5]||0)}function Tn(d){return[d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()]}function ue(d){return 1===d.length&&(d=d.concat([0])),new Date(Date.UTC.apply(Date,d))}function ye(d){return!isNaN(d.valueOf())}function B(d){return 1e3*d.getUTCHours()*60*60+1e3*d.getUTCMinutes()*60+1e3*d.getUTCSeconds()+d.getUTCMilliseconds()}function Y(d,c,p,v){return{instanceId:Xt(),defId:d,range:c,forcedStartTzo:null==p?null:p,forcedEndTzo:null==v?null:v}}var W=Object.prototype.hasOwnProperty;function le(d,c){var p={};if(c)for(var v in c){for(var w=[],M=d.length-1;M>=0;M-=1){var N=d[M][v];if("object"==typeof N&&N)w.unshift(N);else if(void 0!==N){p[v]=N;break}}w.length&&(p[v]=le(w))}for(M=d.length-1;M>=0;M-=1){var V=d[M];for(var z in V)z in p||(p[z]=V[z])}return p}function ae(d,c){var p={};for(var v in d)c(d[v],v)&&(p[v]=d[v]);return p}function ge(d,c){var p={};for(var v in d)p[v]=c(d[v],v);return p}function Pe(d){for(var c={},p=0,v=d;p<v.length;p++)c[v[p]]=!0;return c}function st(d,c){for(var p={},v=0;v<d.length;v+=1){var w=c(d[v],v);p[w[0]]=w[1]}return p}function pt(d){var c=[];for(var p in d)c.push(d[p]);return c}function ut(d,c){if(d===c)return!0;for(var p in d)if(W.call(d,p)&&!(p in c))return!1;for(var p in c)if(W.call(c,p)&&d[p]!==c[p])return!1;return!0}function zt(d,c){var p=[];for(var v in d)W.call(d,v)&&(v in c||p.push(v));for(var v in c)W.call(c,v)&&d[v]!==c[v]&&p.push(v);return p}function Se(d,c,p){if(void 0===p&&(p={}),d===c)return!0;for(var v in c)if(!(v in d)||!pe(d[v],c[v],p[v]))return!1;for(var v in d)if(!(v in c))return!1;return!0}function pe(d,c,p){return d===c||!0===p||!!p&&p(d,c)}function he(d,c,p,v){void 0===c&&(c=0),void 0===v&&(v=1);var w=[];null==p&&(p=Object.keys(d).length);for(var M=c;M<p;M+=v){var N=d[M];void 0!==N&&w.push(N)}return w}function At(d,c,p){var v=p.dateEnv,w=p.pluginHooks,M=p.options,N=d.defs,V=d.instances;for(var z in V=ae(V,function(an){return!N[an.defId].recurringDef}),N){var ee=N[z];if(ee.recurringDef){var Ne=ee.recurringDef.duration;Ne||(Ne=ee.allDay?M.defaultAllDayEventDuration:M.defaultTimedEventDuration);for(var dt=0,mt=jt(ee,Ne,c,v,w.recurringTypes);dt<mt.length;dt++){var Tt=mt[dt],Yt=Y(z,{start:Tt,end:v.add(Tt,Ne)});V[Yt.instanceId]=Yt}}}return{defs:N,instances:V}}function jt(d,c,p,v,w){var N=w[d.recurringDef.typeId].expand(d.recurringDef.typeData,{start:v.subtract(p.start,c),end:p.end},v);return d.allDay&&(N=N.map(ln)),N}var rn=["years","months","days","milliseconds"],Fn=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Vt(d,c){var p;return"string"==typeof d?function vr(d){var c=Fn.exec(d);if(c){var p=c[1]?-1:1;return{years:0,months:0,days:p*(c[2]?parseInt(c[2],10):0),milliseconds:p*(60*(c[3]?parseInt(c[3],10):0)*60*1e3+60*(c[4]?parseInt(c[4],10):0)*1e3+1e3*(c[5]?parseInt(c[5],10):0)+(c[6]?parseInt(c[6],10):0))}}return null}(d):"object"==typeof d&&d?Lr(d):"number"==typeof d?Lr(((p={})[c||"milliseconds"]=d,p)):null}function Lr(d){var c={years:d.years||d.year||0,months:d.months||d.month||0,days:d.days||d.day||0,milliseconds:60*(d.hours||d.hour||0)*60*1e3+60*(d.minutes||d.minute||0)*1e3+1e3*(d.seconds||d.second||0)+(d.milliseconds||d.millisecond||d.ms||0)},p=d.weeks||d.week;return p&&(c.days+=7*p,c.specifiedWeeks=!0),c}function Cr(d){return d.years||d.months||d.milliseconds?0:d.days}function si(d,c){return{years:d.years+c.years,months:d.months+c.months,days:d.days+c.days,milliseconds:d.milliseconds+c.milliseconds}}function ao(d,c){return{years:d.years*c,months:d.months*c,days:d.days*c,milliseconds:d.milliseconds*c}}function _e(d){return Ht(d)/864e5}function Ue(d){return Ht(d)/6e4}function ft(d){return Ht(d)/1e3}function Ht(d){return 31536e6*d.years+2592e6*d.months+864e5*d.days+d.milliseconds}function Mn(d,c){for(var p=null,v=0;v<rn.length;v+=1){var w=rn[v];if(c[w]){var M=d[w]/c[w];if(!Ft(M)||null!==p&&p!==M)return null;p=M}else if(d[w])return null}return p}function Pn(d){var c=d.milliseconds;if(c){if(c%1e3!=0)return{unit:"millisecond",value:c};if(c%6e4!=0)return{unit:"second",value:c/1e3};if(c%36e5!=0)return{unit:"minute",value:c/6e4};if(c)return{unit:"hour",value:c/36e5}}return d.days?d.specifiedWeeks&&d.days%7==0?{unit:"week",value:d.days/7}:{unit:"day",value:d.days}:d.months?{unit:"month",value:d.months}:d.years?{unit:"year",value:d.years}:{unit:"millisecond",value:0}}function Sn(d,c,p){void 0===p&&(p=!1);var v=d.toISOString();return v=v.replace(".000",""),p&&(v=v.replace("T00:00:00Z","")),v.length>10&&(null==c?v=v.replace("Z",""):0!==c&&(v=v.replace("Z",tn(c,!0)))),v}function hr(d){return d.toISOString().replace(/T.*$/,"")}function Wr(d){return lt(d.getUTCHours(),2)+":"+lt(d.getUTCMinutes(),2)+":"+lt(d.getUTCSeconds(),2)}function tn(d,c){void 0===c&&(c=!1);var p=d<0?"-":"+",v=Math.abs(d),w=Math.floor(v/60),M=Math.round(v%60);return c?p+lt(w,2)+":"+lt(M,2):"GMT"+p+w+(M?":"+lt(M,2):"")}function ys(d,c){for(var p=0,v=0;v<d.length;)d[v]===c?(d.splice(v,1),p+=1):v+=1;return p}function pi(d,c,p){if(d===c)return!0;var w,v=d.length;if(v!==c.length)return!1;for(w=0;w<v;w+=1)if(!(p?p(d[w],c[w]):d[w]===c[w]))return!1;return!0}function Bn(d,c,p){var v,w;return function(){for(var M=[],N=0;N<arguments.length;N++)M[N]=arguments[N];if(v){if(!pi(v,M)){p&&p(w);var V=d.apply(this,M);(!c||!c(V,w))&&(w=V)}}else w=d.apply(this,M);return v=M,w}}function ts(d,c,p){var w,M,v=this;return function(N){if(w){if(!ut(w,N)){p&&p(M);var V=d.call(v,N);(!c||!c(V,M))&&(M=V)}}else M=d.call(v,N);return w=N,M}}function Vr(d,c,p){var v=this,w=[],M=[];return function(N){for(var V=w.length,z=N.length,ee=0;ee<V;ee+=1)if(N[ee]){if(!pi(w[ee],N[ee])){p&&p(M[ee]);var Ne=d.apply(v,N[ee]);(!c||!c(Ne,M[ee]))&&(M[ee]=Ne)}}else p&&p(M[ee]);for(;ee<z;ee+=1)M[ee]=d.apply(v,N[ee]);return w=N,M.splice(z),M}}function _s(d,c,p){var v=this,w={},M={};return function(N){var V={};for(var z in N)if(M[z])if(pi(w[z],N[z]))V[z]=M[z];else{p&&p(M[z]);var ee=d.apply(v,N[z]);V[z]=c&&c(ee,M[z])?M[z]:ee}else V[z]=d.apply(v,N[z]);return w=N,M=V,V}}var Es={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},Dr={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Qn=/\s*([ap])\.?m\.?/i,Ha=/,/g,la=/\s+/g,oi=/\u200e/g,ai=/UTC|GMT/,ua=function(){function d(c){var p={},v={},w=0;for(var M in c)M in Es?(v[M]=c[M],w=Math.max(Es[M],w)):(p[M]=c[M],M in Dr&&(w=Math.max(Dr[M],w)));this.standardDateProps=p,this.extendedSettings=v,this.severity=w,this.buildFormattingFunc=Bn(Uo)}return d.prototype.format=function(c,p){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,p)(c)},d.prototype.formatRange=function(c,p,v,w){var N=this.standardDateProps,V=this.extendedSettings,z=function Mr(d,c,p){return p.getMarkerYear(d)!==p.getMarkerYear(c)?5:p.getMarkerMonth(d)!==p.getMarkerMonth(c)?4:p.getMarkerDay(d)!==p.getMarkerDay(c)?2:B(d)!==B(c)?1:0}(c.marker,p.marker,v.calendarSystem);if(!z)return this.format(c,v);var ee=z;ee>1&&("numeric"===N.year||"2-digit"===N.year)&&("numeric"===N.month||"2-digit"===N.month)&&("numeric"===N.day||"2-digit"===N.day)&&(ee=1);var Ne=this.format(c,v),He=this.format(p,v);if(Ne===He)return Ne;var dt=function vu(d,c){var p={};for(var v in d)(!(v in Dr)||Dr[v]<=c)&&(p[v]=d[v]);return p}(N,ee),mt=Uo(dt,V,v),Tt=mt(c),Yt=mt(p),an=function Id(d,c,p,v){for(var w=0;w<d.length;){var M=d.indexOf(c,w);if(-1===M)break;for(var N=d.substr(0,M),V=d.substr(w=M+c.length),z=0;z<p.length;){var ee=p.indexOf(v,z);if(-1===ee)break;var Ne=p.substr(0,ee),He=p.substr(z=ee+v.length);if(N===Ne&&V===He)return{before:N,after:V}}}return null}(Ne,Tt,He,Yt),Nt=V.separator||w||v.defaultSeparator||"";return an?an.before+Tt+Nt+Yt+an.after:Ne+Nt+He},d.prototype.getLargestUnit=function(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}},d}();function Uo(d,c,p){var v=Object.keys(d).length;return 1===v&&"short"===d.timeZoneName?function(w){return tn(w.timeZoneOffset)}:0===v&&c.week?function(w){return function ca(d,c,p,v,w){var M=[];return"long"===w?M.push(p):("short"===w||"narrow"===w)&&M.push(c),("long"===w||"short"===w)&&M.push(" "),M.push(v.simpleNumberFormat.format(d)),"rtl"===v.options.direction&&M.reverse(),M.join("")}(p.computeWeekNumber(w.marker),p.weekText,p.weekTextLong,p.locale,c.week)}:function lo(d,c,p){d=(0,P.__assign)({},d),c=(0,P.__assign)({},c),function gi(d,c){d.timeZoneName&&(d.hour||(d.hour="2-digit"),d.minute||(d.minute="2-digit")),"long"===d.timeZoneName&&(d.timeZoneName="short"),c.omitZeroMinute&&(d.second||d.millisecond)&&delete c.omitZeroMinute}(d,c),d.timeZone="UTC";var w,v=new Intl.DateTimeFormat(p.locale.codes,d);if(c.omitZeroMinute){var M=(0,P.__assign)({},d);delete M.minute,w=new Intl.DateTimeFormat(p.locale.codes,M)}return function(N){var V=N.marker;return function hc(d,c,p,v,w){return d=d.replace(oi,""),"short"===p.timeZoneName&&(d=function ja(d,c){var p=!1;return d=d.replace(ai,function(){return p=!0,c}),p||(d+=" "+c),d}(d,"UTC"===w.timeZone||null==c.timeZoneOffset?"UTC":tn(c.timeZoneOffset))),v.omitCommas&&(d=d.replace(Ha,"").trim()),v.omitZeroMinute&&(d=d.replace(":00","")),!1===v.meridiem?d=d.replace(Qn,"").trim():"narrow"===v.meridiem?d=d.replace(Qn,function(M,N){return N.toLocaleLowerCase()}):"short"===v.meridiem?d=d.replace(Qn,function(M,N){return N.toLocaleLowerCase()+"m"}):"lowercase"===v.meridiem&&(d=d.replace(Qn,function(M){return M.toLocaleLowerCase()})),(d=d.replace(la," ")).trim()}((w&&!V.getUTCMinutes()?w:v).format(V),N,d,c,p)}}(d,c,p)}function ns(d,c){var p=c.markerToArray(d.marker);return{marker:d.marker,timeZoneOffset:d.timeZoneOffset,array:p,year:p[0],month:p[1],day:p[2],hour:p[3],minute:p[4],second:p[5],millisecond:p[6]}}function Ga(d,c,p,v){var w=ns(d,p.calendarSystem);return{date:w,start:w,end:c?ns(c,p.calendarSystem):null,timeZone:p.timeZone,localeCodes:p.locale.codes,defaultSeparator:v||p.defaultSeparator}}var da=function(){function d(c){this.cmdStr=c}return d.prototype.format=function(c,p,v){return p.cmdFormatter(this.cmdStr,Ga(c,null,p,v))},d.prototype.formatRange=function(c,p,v,w){return v.cmdFormatter(this.cmdStr,Ga(c,p,v,w))},d}(),Md=function(){function d(c){this.func=c}return d.prototype.format=function(c,p,v){return this.func(Ga(c,null,p,v))},d.prototype.formatRange=function(c,p,v,w){return this.func(Ga(c,p,v,w))},d}();function Tr(d){return"object"==typeof d&&d?new ua(d):"string"==typeof d?new da(d):"function"==typeof d?new Md(d):null}var yu={navLinkDayClick:tt,navLinkWeekClick:tt,duration:Vt,bootstrapFontAwesome:tt,buttonIcons:tt,customButtons:tt,defaultAllDayEventDuration:Vt,defaultTimedEventDuration:Vt,nextDayThreshold:Vt,scrollTime:Vt,scrollTimeReset:Boolean,slotMinTime:Vt,slotMaxTime:Vt,dayPopoverFormat:Tr,slotDuration:Vt,snapDuration:Vt,headerToolbar:tt,footerToolbar:tt,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Tr,dayHeaderClassNames:tt,dayHeaderContent:tt,dayHeaderDidMount:tt,dayHeaderWillUnmount:tt,dayCellClassNames:tt,dayCellContent:tt,dayCellDidMount:tt,dayCellWillUnmount:tt,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:tt,weekNumbers:Boolean,weekNumberClassNames:tt,weekNumberContent:tt,weekNumberDidMount:tt,weekNumberWillUnmount:tt,editable:Boolean,viewClassNames:tt,viewDidMount:tt,viewWillUnmount:tt,nowIndicator:Boolean,nowIndicatorClassNames:tt,nowIndicatorContent:tt,nowIndicatorDidMount:tt,nowIndicatorWillUnmount:tt,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:tt,locale:tt,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:tt,eventOrder:Cn,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:tt,contentHeight:tt,direction:String,weekNumberFormat:Tr,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:tt,initialDate:tt,now:tt,eventDataTransform:tt,stickyHeaderDates:tt,stickyFooterScrollbar:tt,viewHeight:tt,defaultAllDay:Boolean,eventSourceFailure:tt,eventSourceSuccess:tt,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:tt,eventConstraint:tt,eventAllow:tt,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:tt,eventContent:tt,eventDidMount:tt,eventWillUnmount:tt,selectConstraint:tt,selectOverlap:tt,selectAllow:tt,droppable:Boolean,unselectCancel:String,slotLabelFormat:tt,slotLaneClassNames:tt,slotLaneContent:tt,slotLaneDidMount:tt,slotLaneWillUnmount:tt,slotLabelClassNames:tt,slotLabelContent:tt,slotLabelDidMount:tt,slotLabelWillUnmount:tt,dayMaxEvents:tt,dayMaxEventRows:tt,dayMinWidth:Number,slotLabelInterval:Vt,allDayText:String,allDayClassNames:tt,allDayContent:tt,allDayDidMount:tt,allDayWillUnmount:tt,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Tr,rerenderDelay:Number,moreLinkText:tt,moreLinkHint:tt,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:tt,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Vt,hiddenDays:tt,monthMode:Boolean,fixedWeekCount:Boolean,validRange:tt,visibleRange:tt,titleFormat:tt,eventInteractive:Boolean,noEventsText:String,viewHint:tt,navLinkHint:tt,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:tt,moreLinkClassNames:tt,moreLinkContent:tt,moreLinkDidMount:tt,moreLinkWillUnmount:tt},Ls={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30},xd={datesSet:tt,eventsSet:tt,eventAdd:tt,eventChange:tt,eventRemove:tt,windowResize:tt,eventClick:tt,eventMouseEnter:tt,eventMouseLeave:tt,select:tt,unselect:tt,loading:tt,_unmount:tt,_beforeprint:tt,_afterprint:tt,_noEventDrop:tt,_noEventResize:tt,_resize:tt,_scrollRequest:tt},Dl={buttonText:tt,buttonHints:tt,views:tt,plugins:tt,initialEvents:tt,events:tt,eventSources:tt},Tl={headerToolbar:bs,footerToolbar:bs,buttonText:bs,buttonHints:bs,buttonIcons:bs};function bs(d,c){return"object"==typeof d&&"object"==typeof c&&d&&c?ut(d,c):d===c}var Rd={type:String,component:tt,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:tt,usesMinMaxTime:Boolean,classNames:tt,content:tt,didMount:tt,willUnmount:tt};function za(d){return le(d,Tl)}function Vi(d,c){var p={},v={};for(var w in c)w in d&&(p[w]=c[w](d[w]));for(var w in d)w in c||(v[w]=d[w]);return{refined:p,extra:v}}function tt(d){return d}function Ho(d,c,p,v){for(var w={defs:{},instances:{}},M=is(p),N=0,V=d;N<V.length;N++){var ee=ga(V[N],c,p,v,M);ee&&Bi(ee,w)}return w}function Bi(d,c){return void 0===c&&(c={defs:{},instances:{}}),c.defs[d.def.defId]=d.def,d.instance&&(c.instances[d.instance.instanceId]=d.instance),c}function wi(d,c){var p=d.instances[c];if(p){var v=d.defs[p.defId],w=ha(d,function(M){return function fa(d,c){return Boolean(d.groupId&&d.groupId===c.groupId)}(v,M)});return w.defs[v.defId]=v,w.instances[p.instanceId]=p,w}return{defs:{},instances:{}}}function li(){return{defs:{},instances:{}}}function uo(d,c){return{defs:(0,P.__assign)((0,P.__assign)({},d.defs),c.defs),instances:(0,P.__assign)((0,P.__assign)({},d.instances),c.instances)}}function ha(d,c){var p=ae(d.defs,c),v=ae(d.instances,function(w){return p[w.defId]});return{defs:p,instances:v}}function Vs(d){return Array.isArray(d)?d:"string"==typeof d?d.split(/\s+/):[]}var As={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:tt,overlap:tt,allow:tt,className:Vs,classNames:Vs,color:String,backgroundColor:String,borderColor:String,textColor:String},pa={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Bs(d,c){var p=function rs(d,c){return Array.isArray(d)?Ho(d,null,c,!0):"object"==typeof d&&d?Ho([d],null,c,!0):null!=d?String(d):null}(d.constraint,c);return{display:d.display||null,startEditable:null!=d.startEditable?d.startEditable:d.editable,durationEditable:null!=d.durationEditable?d.durationEditable:d.editable,constraints:null!=p?[p]:[],overlap:null!=d.overlap?d.overlap:null,allows:null!=d.allow?[d.allow]:[],backgroundColor:d.backgroundColor||d.color||"",borderColor:d.borderColor||d.color||"",textColor:d.textColor||"",classNames:(d.className||[]).concat(d.classNames||[])}}function Ur(d){return d.reduce(Hr,pa)}function Hr(d,c){return{display:null!=c.display?c.display:d.display,startEditable:null!=c.startEditable?c.startEditable:d.startEditable,durationEditable:null!=c.durationEditable?c.durationEditable:d.durationEditable,constraints:d.constraints.concat(c.constraints),overlap:"boolean"==typeof c.overlap?c.overlap:d.overlap,allows:d.allows.concat(c.allows),backgroundColor:c.backgroundColor||d.backgroundColor,borderColor:c.borderColor||d.borderColor,textColor:c.textColor||d.textColor,classNames:d.classNames.concat(c.classNames)}}var Sl={id:String,groupId:String,title:String,url:String,interactive:Boolean},_u={start:tt,end:tt,date:tt,allDay:Boolean},pc=(0,P.__assign)((0,P.__assign)((0,P.__assign)({},Sl),_u),{extendedProps:tt});function ga(d,c,p,v,w){void 0===w&&(w=is(p));var M=jo(d,p,w),N=M.refined,V=M.extra,z=function cr(d,c){var p=null;return d&&(p=d.defaultAllDay),null==p&&(p=c.options.defaultAllDay),p}(c,p),ee=function et(d,c,p,v){for(var w=0;w<v.length;w+=1){var M=v[w].parse(d,p);if(M){var N=d.allDay;return null==N&&null==(N=c)&&null==(N=M.allDayGuess)&&(N=!1),{allDay:N,duration:M.duration,typeData:M.typeData,typeId:w}}}return null}(N,z,p.dateEnv,p.pluginHooks.recurringTypes);if(ee)return(Ne=co(N,V,c?c.sourceId:"",ee.allDay,Boolean(ee.duration),p)).recurringDef={typeId:ee.typeId,typeData:ee.typeData,duration:ee.duration},{def:Ne,instance:null};var Ne,He=function gc(d,c,p,v){var M,z,w=d.allDay,N=null,V=!1,ee=null;if(M=p.dateEnv.createMarkerMeta(null!=d.start?d.start:d.date))N=M.marker;else if(!v)return null;return null!=d.end&&(z=p.dateEnv.createMarkerMeta(d.end)),null==w&&(w=null!=c?c:(!M||M.isTimeUnspecified)&&(!z||z.isTimeUnspecified)),w&&N&&(N=ln(N)),z&&(ee=z.marker,w&&(ee=ln(ee)),N&&ee<=N&&(ee=null)),ee?V=!0:v||(V=p.options.forceEventDuration||!1,ee=p.dateEnv.add(N,w?p.options.defaultAllDayEventDuration:p.options.defaultTimedEventDuration)),{allDay:w,hasEnd:V,range:{start:N,end:ee},forcedStartTzo:M?M.forcedTzo:null,forcedEndTzo:z?z.forcedTzo:null}}(N,z,p,v);return He?{def:Ne=co(N,V,c?c.sourceId:"",He.allDay,He.hasEnd,p),instance:Y(Ne.defId,He.range,He.forcedStartTzo,He.forcedEndTzo)}:null}function jo(d,c,p){return void 0===p&&(p=is(c)),Vi(d,p)}function is(d){return(0,P.__assign)((0,P.__assign)((0,P.__assign)({},As),pc),d.pluginHooks.eventRefiners)}function co(d,c,p,v,w,M){for(var N={title:d.title||"",groupId:d.groupId||"",publicId:d.id||"",url:d.url||"",recurringDef:null,defId:Xt(),sourceId:p,allDay:v,hasEnd:w,interactive:d.interactive,ui:Bs(d,M),extendedProps:(0,P.__assign)((0,P.__assign)({},d.extendedProps||{}),c)},V=0,z=M.pluginHooks.eventDefMemberAdders;V<z.length;V++)(0,P.__assign)(N,(0,z[V])(d));return Object.freeze(N.ui.classNames),Object.freeze(N.extendedProps),N}function Ui(d){var c=Math.floor(yt(d.start,d.end))||1,p=ln(d.start);return{start:p,end:Ze(p,c)}}function ws(d,c){void 0===c&&(c=Vt(0));var p=null,v=null;if(d.end){v=ln(d.end);var w=d.end.valueOf()-v.valueOf();w&&w>=Ht(c)&&(v=Ze(v,1))}return d.start&&(p=ln(d.start),v&&v<=p&&(v=Ze(p,1))),{start:p,end:v}}function Zn(d){var c=ws(d);return yt(c.start,c.end)>1}function ma(d,c,p,v){return"year"===v?Vt(p.diffWholeYears(d,c),"year"):"month"===v?Vt(p.diffWholeMonths(d,c),"month"):xn(d,c)}function fo(d,c){var w,M,p=[],v=c.start;for(d.sort(Yr),w=0;w<d.length;w+=1)(M=d[w]).start>v&&p.push({start:v,end:M.start}),M.end>v&&(v=M.end);return v<c.end&&p.push({start:v,end:c.end}),p}function Yr(d,c){return d.start.valueOf()-c.start.valueOf()}function Us(d,c){var p=d.start,v=d.end,w=null;return null!==c.start&&(p=null===p?c.start:new Date(Math.max(p.valueOf(),c.start.valueOf()))),null!=c.end&&(v=null===v?c.end:new Date(Math.min(v.valueOf(),c.end.valueOf()))),(null===p||null===v||p<v)&&(w={start:p,end:v}),w}function va(d,c){return(null===d.start?null:d.start.valueOf())===(null===c.start?null:c.start.valueOf())&&(null===d.end?null:d.end.valueOf())===(null===c.end?null:c.end.valueOf())}function K(d,c){return(null===d.end||null===c.start||d.end>c.start)&&(null===d.start||null===c.end||d.start<c.end)}function Z(d,c){return(null===d.start||null!==c.start&&c.start>=d.start)&&(null===d.end||null!==c.end&&c.end<=d.end)}function we(d,c){return(null===d.start||c>=d.start)&&(null===d.end||c<d.end)}function _t(d,c,p,v){var w={},M={},N={},V=[],z=[],ee=Ut(d.defs,c);for(var Ne in d.defs)"inverse-background"===(dt=ee[(He=d.defs[Ne]).defId]).display&&(He.groupId?(w[He.groupId]=[],N[He.groupId]||(N[He.groupId]=He)):M[Ne]=[]);for(var mt in d.instances){var Tt=d.instances[mt],dt=ee[(He=d.defs[Tt.defId]).defId],Yt=Tt.range,an=!He.allDay&&v?ws(Yt,v):Yt,Nt=Us(an,p);Nt&&("inverse-background"===dt.display?He.groupId?w[He.groupId].push(Nt):M[Tt.defId].push(Nt):"none"!==dt.display&&("background"===dt.display?V:z).push({def:He,ui:dt,instance:Tt,range:Nt,isStart:an.start&&an.start.valueOf()===Nt.start.valueOf(),isEnd:an.end&&an.end.valueOf()===Nt.end.valueOf()}))}for(var rr in w)for(var di=0,qr=fo(w[rr],p);di<qr.length;di++){var He;V.push({def:He=N[rr],ui:dt=ee[He.defId],instance:null,range:qr[di],isStart:!1,isEnd:!1})}for(var Ne in M)for(var Ki=0,So=fo(M[Ne],p);Ki<So.length;Ki++)V.push({def:d.defs[Ne],ui:ee[Ne],instance:null,range:So[Ki],isStart:!1,isEnd:!1});return{bg:V,fg:z}}function St(d){return"background"===d.ui.display||"inverse-background"===d.ui.display}function cn(d,c){d.fcSeg=c}function ir(d){return d.fcSeg||d.parentNode.fcSeg||null}function Ut(d,c){return ge(d,function(p){return dr(p,c)})}function dr(d,c){var p=[];return c[""]&&p.push(c[""]),c[d.defId]&&p.push(c[d.defId]),p.push(d.ui),Ur(p)}function or(d,c){var p=d.map(On);return p.sort(function(v,w){return Ae(v,w,c)}),p.map(function(v){return v._seg})}function On(d){var c=d.eventRange,p=c.def,v=c.instance?c.instance.range:c.range,w=v.start?v.start.valueOf():0,M=v.end?v.end.valueOf():0;return(0,P.__assign)((0,P.__assign)((0,P.__assign)({},p.extendedProps),p),{id:p.publicId,start:w,end:M,duration:M-w,allDay:Number(p.allDay),_seg:d})}function ss(d,c){for(var w=d.eventRange,M=w.def,N=w.ui,V=N.startEditable,z=0,ee=c.pluginHooks.isDraggableTransformers;z<ee.length;z++)V=(0,ee[z])(V,M,N,c);return V}function os(d,c){return d.isStart&&d.eventRange.ui.durationEditable&&c.options.eventResizableFromStart}function ho(d,c){return d.isEnd&&d.eventRange.ui.durationEditable}function Wa(d,c,p,v,w,M,N){var V=p.dateEnv,z=p.options,ee=z.displayEventTime,Ne=z.displayEventEnd,He=d.eventRange.def,dt=d.eventRange.instance;null==ee&&(ee=!1!==v),null==Ne&&(Ne=!1!==w);var mt=dt.range.start,Tt=dt.range.end,Yt=M||d.start||d.eventRange.range.start,an=N||d.end||d.eventRange.range.end,Nt=ln(mt).valueOf()===ln(Yt).valueOf(),rr=ln(Ct(Tt,-1)).valueOf()===ln(Ct(an,-1)).valueOf();return ee&&!He.allDay&&(Nt||rr)?(Yt=Nt?mt:Yt,an=rr?Tt:an,Ne&&He.hasEnd?V.formatRange(Yt,an,c,{forcedStartTzo:M?null:dt.forcedStartTzo,forcedEndTzo:N?null:dt.forcedEndTzo}):V.format(Yt,c,{forcedTzo:M?null:dt.forcedStartTzo})):""}function ot(d,c,p){var v=d.eventRange.range;return{isPast:v.end<(p||c.start),isFuture:v.start>=(p||c.end),isToday:c&&we(c,v.start)}}function In(d){var c=["fc-event"];return d.isMirror&&c.push("fc-event-mirror"),d.isDraggable&&c.push("fc-event-draggable"),(d.isStartResizable||d.isEndResizable)&&c.push("fc-event-resizable"),d.isDragging&&c.push("fc-event-dragging"),d.isResizing&&c.push("fc-event-resizing"),d.isSelected&&c.push("fc-event-selected"),d.isStart&&c.push("fc-event-start"),d.isEnd&&c.push("fc-event-end"),d.isPast&&c.push("fc-event-past"),d.isToday&&c.push("fc-event-today"),d.isFuture&&c.push("fc-event-future"),c}function Hs(d){return d.instance?d.instance.instanceId:d.def.defId+":"+d.range.start.toISOString()}function pr(d,c){var p=d.eventRange,v=p.def,w=p.instance,M=v.url;if(M)return{href:M};var N=c.emitter,z=c.options.eventInteractive;return null==z&&null==(z=v.interactive)&&(z=Boolean(N.hasHandlers("eventClick"))),z?ke(function(ee){N.trigger("eventClick",{el:ee.target,event:new Xr(c,v,w),jsEvent:ee,view:c.viewApi})}):{}}var qa={start:tt,end:tt,allDay:Boolean};function mc(d,c){return va(d.range,c.range)&&d.allDay===c.allDay&&function vc(d,c){for(var p in c)if("range"!==p&&"allDay"!==p&&d[p]!==c[p])return!1;for(var p in d)if(!(p in c))return!1;return!0}(d,c)}function yc(d,c,p){return(0,P.__assign)((0,P.__assign)({},Ml(d,c,p)),{timeZone:c.timeZone})}function Ml(d,c,p){return{start:c.toDate(d.start),end:c.toDate(d.end),startStr:c.formatIso(d.start,{omitTime:p}),endStr:c.formatIso(d.end,{omitTime:p})}}function Za(d,c,p){var v=jo({editable:!1},p),w=co(v.refined,v.extra,"",d.allDay,!0,p);return{def:w,ui:dr(w,c),instance:Y(w.defId,d.range),range:d.range,isStart:!0,isEnd:!0}}function Jr(d,c,p){p.emitter.trigger("select",(0,P.__assign)((0,P.__assign)({},Eu(d,p)),{jsEvent:c?c.origEvent:null,view:p.viewApi||p.calendarApi.view}))}function Eu(d,c){for(var p={},v=0,w=c.pluginHooks.dateSpanTransforms;v<w.length;v++)(0,P.__assign)(p,(0,w[v])(d,c));return(0,P.__assign)(p,function kd(d,c){return(0,P.__assign)((0,P.__assign)({},Ml(d.range,c,d.allDay)),{allDay:d.allDay})}(d,c.dateEnv)),p}function js(d,c,p){var v=p.dateEnv,w=p.options,M=c;return d?(M=ln(M),M=v.add(M,w.defaultAllDayEventDuration)):M=v.add(M,w.defaultTimedEventDuration),M}function Gs(d,c,p,v){var w=Ut(d.defs,c),M={defs:{},instances:{}};for(var N in d.defs)M.defs[N]=_c(d.defs[N],w[N],p,v);for(var z in d.instances){var ee=d.instances[z];M.instances[z]=Pd(ee,M.defs[ee.defId],w[ee.defId],p,v)}return M}function _c(d,c,p,v){var w=p.standardProps||{};null==w.hasEnd&&c.durationEditable&&(p.startDelta||p.endDelta)&&(w.hasEnd=!0);var M=(0,P.__assign)((0,P.__assign)((0,P.__assign)({},d),w),{ui:(0,P.__assign)((0,P.__assign)({},d.ui),w.ui)});p.extendedProps&&(M.extendedProps=(0,P.__assign)((0,P.__assign)({},M.extendedProps),p.extendedProps));for(var N=0,V=v.pluginHooks.eventDefMutationAppliers;N<V.length;N++)(0,V[N])(M,p,v);return!M.hasEnd&&v.options.forceEventDuration&&(M.hasEnd=!0),M}function Pd(d,c,p,v,w){var M=w.dateEnv,N=v.standardProps&&!0===v.standardProps.allDay,V=v.standardProps&&!1===v.standardProps.hasEnd,z=(0,P.__assign)({},d);return N&&(z.range=Ui(z.range)),v.datesDelta&&p.startEditable&&(z.range={start:M.add(z.range.start,v.datesDelta),end:M.add(z.range.end,v.datesDelta)}),v.startDelta&&p.durationEditable&&(z.range={start:M.add(z.range.start,v.startDelta),end:z.range.end}),v.endDelta&&p.durationEditable&&(z.range={start:z.range.start,end:M.add(z.range.end,v.endDelta)}),V&&(z.range={start:z.range.start,end:js(c.allDay,z.range.start,w)}),c.allDay&&(z.range={start:ln(z.range.start),end:ln(z.range.end)}),z.range.end<z.range.start&&(z.range.end=js(c.allDay,z.range.start,w)),z}var bu=function(){function d(c,p,v){this.type=c,this.getCurrentData=p,this.dateEnv=v}return Object.defineProperty(d.prototype,"calendar",{get:function(){return this.getCurrentData().calendarApi},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"title",{get:function(){return this.getCurrentData().viewTitle},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"activeStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"activeEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"currentStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"currentEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)},enumerable:!1,configurable:!0}),d.prototype.getOption=function(c){return this.getCurrentData().options[c]},d}(),oh={id:String,defaultAllDay:Boolean,url:String,format:String,events:tt,eventDataTransform:tt,success:tt,failure:tt};function Ka(d,c,p){var v;if(void 0===p&&(p=xl(c)),"string"==typeof d?v={url:d}:"function"==typeof d||Array.isArray(d)?v={events:d}:"object"==typeof d&&d&&(v=d),v){var w=Vi(v,p),M=w.refined,N=w.extra,V=function Ec(d,c){for(var p=c.pluginHooks.eventSourceDefs,v=p.length-1;v>=0;v-=1){var M=p[v].parseMeta(d);if(M)return{sourceDefId:v,meta:M}}return null}(M,c);if(V)return{_raw:d,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:M.defaultAllDay,eventDataTransform:M.eventDataTransform,success:M.success,failure:M.failure,publicId:M.id||"",sourceId:Xt(),sourceDefId:V.sourceDefId,meta:V.meta,ui:Bs(M,c),extendedProps:N}}return null}function xl(d){return(0,P.__assign)((0,P.__assign)((0,P.__assign)({},As),oh),d.pluginHooks.eventSourceRefiners)}function Qa(d,c){return"function"==typeof d&&(d=d()),null==d?c.createNowMarker():c.createMarker(d)}var Ya=function(){function d(){}return d.prototype.getCurrentData=function(){return this.currentDataManager.getCurrentData()},d.prototype.dispatch=function(c){return this.currentDataManager.dispatch(c)},Object.defineProperty(d.prototype,"view",{get:function(){return this.getCurrentData().viewApi},enumerable:!1,configurable:!0}),d.prototype.batchRendering=function(c){c()},d.prototype.updateSize=function(){this.trigger("_resize",!0)},d.prototype.setOption=function(c,p){this.dispatch({type:"SET_OPTION",optionName:c,rawOptionValue:p})},d.prototype.getOption=function(c){return this.currentDataManager.currentCalendarOptionsInput[c]},d.prototype.getAvailableLocaleCodes=function(){return Object.keys(this.getCurrentData().availableRawLocales)},d.prototype.on=function(c,p){var v=this.currentDataManager;v.currentCalendarOptionsRefiners[c]?v.emitter.on(c,p):console.warn("Unknown listener name '"+c+"'")},d.prototype.off=function(c,p){this.currentDataManager.emitter.off(c,p)},d.prototype.trigger=function(c){for(var p,v=[],w=1;w<arguments.length;w++)v[w-1]=arguments[w];(p=this.currentDataManager.emitter).trigger.apply(p,(0,P.__spreadArray)([c],v))},d.prototype.changeView=function(c,p){var v=this;this.batchRendering(function(){if(v.unselect(),p)if(p.start&&p.end)v.dispatch({type:"CHANGE_VIEW_TYPE",viewType:c}),v.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:p});else{var w=v.getCurrentData().dateEnv;v.dispatch({type:"CHANGE_VIEW_TYPE",viewType:c,dateMarker:w.createMarker(p)})}else v.dispatch({type:"CHANGE_VIEW_TYPE",viewType:c})})},d.prototype.zoomTo=function(c,p){var w;w=this.getCurrentData().viewSpecs[p=p||"day"]||this.getUnitViewSpec(p),this.unselect(),this.dispatch(w?{type:"CHANGE_VIEW_TYPE",viewType:w.type,dateMarker:c}:{type:"CHANGE_DATE",dateMarker:c})},d.prototype.getUnitViewSpec=function(c){var N,V,p=this.getCurrentData(),v=p.viewSpecs,w=p.toolbarConfig,M=[].concat(w.header?w.header.viewsWithButtons:[],w.footer?w.footer.viewsWithButtons:[]);for(var z in v)M.push(z);for(N=0;N<M.length;N+=1)if((V=v[M[N]])&&V.singleUnit===c)return V;return null},d.prototype.prev=function(){this.unselect(),this.dispatch({type:"PREV"})},d.prototype.next=function(){this.unselect(),this.dispatch({type:"NEXT"})},d.prototype.prevYear=function(){var c=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:c.dateEnv.addYears(c.currentDate,-1)})},d.prototype.nextYear=function(){var c=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:c.dateEnv.addYears(c.currentDate,1)})},d.prototype.today=function(){var c=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:Qa(c.calendarOptions.now,c.dateEnv)})},d.prototype.gotoDate=function(c){var p=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:p.dateEnv.createMarker(c)})},d.prototype.incrementDate=function(c){var p=this.getCurrentData(),v=Vt(c);v&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:p.dateEnv.add(p.currentDate,v)}))},d.prototype.getDate=function(){var c=this.getCurrentData();return c.dateEnv.toDate(c.currentDate)},d.prototype.formatDate=function(c,p){var v=this.getCurrentData().dateEnv;return v.format(v.createMarker(c),Tr(p))},d.prototype.formatRange=function(c,p,v){var w=this.getCurrentData().dateEnv;return w.formatRange(w.createMarker(c),w.createMarker(p),Tr(v),v)},d.prototype.formatIso=function(c,p){var v=this.getCurrentData().dateEnv;return v.formatIso(v.createMarker(c),{omitTime:p})},d.prototype.select=function(c,p){var v;v=null==p?null!=c.start?c:{start:c,end:null}:{start:c,end:p};var w=this.getCurrentData(),M=function Il(d,c,p){var v=function Hi(d,c){var p=Vi(d,qa),v=p.refined,w=p.extra,M=v.start?c.createMarkerMeta(v.start):null,N=v.end?c.createMarkerMeta(v.end):null,V=v.allDay;return null==V&&(V=M&&M.isTimeUnspecified&&(!N||N.isTimeUnspecified)),(0,P.__assign)({range:{start:M?M.marker:null,end:N?N.marker:null},allDay:V},w)}(d,c),w=v.range;if(!w.start)return null;if(!w.end){if(null==p)return null;w.end=c.add(w.start,p)}return v}(v,w.dateEnv,Vt({days:1}));M&&(this.dispatch({type:"SELECT_DATES",selection:M}),Jr(M,null,w))},d.prototype.unselect=function(c){var p=this.getCurrentData();p.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),function Cs(d,c){c.emitter.trigger("unselect",{jsEvent:d?d.origEvent:null,view:c.viewApi||c.calendarApi.view})}(c,p))},d.prototype.addEvent=function(c,p){if(c instanceof Xr){var v=c._def,w=c._instance;return this.getCurrentData().eventStore.defs[v.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Bi({def:v,instance:w})}),this.triggerEventAdd(c)),c}var V,N=this.getCurrentData();if(p instanceof T)V=p.internalEventSource;else if("boolean"==typeof p)p&&(V=pt(N.eventSources)[0]);else if(null!=p){var z=this.getEventSourceById(p);if(!z)return console.warn('Could not find an event source with ID "'+p+'"'),null;V=z.internalEventSource}var ee=ga(c,V,N,!1);if(ee){var Ne=new Xr(N,ee.def,ee.def.recurringDef?null:ee.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Bi(ee)}),this.triggerEventAdd(Ne),Ne}return null},d.prototype.triggerEventAdd=function(c){var p=this;this.getCurrentData().emitter.trigger("eventAdd",{event:c,relatedEvents:[],revert:function(){p.dispatch({type:"REMOVE_EVENTS",eventStore:Go(c)})}})},d.prototype.getEventById=function(c){var p=this.getCurrentData(),v=p.eventStore,w=v.defs,M=v.instances;for(var N in c=String(c),w){var V=w[N];if(V.publicId===c){if(V.recurringDef)return new Xr(p,V,null);for(var z in M){var ee=M[z];if(ee.defId===V.defId)return new Xr(p,V,ee)}}}return null},d.prototype.getEvents=function(){var c=this.getCurrentData();return Rl(c.eventStore,c)},d.prototype.removeAllEvents=function(){this.dispatch({type:"REMOVE_ALL_EVENTS"})},d.prototype.getEventSources=function(){var c=this.getCurrentData(),p=c.eventSources,v=[];for(var w in p)v.push(new T(c,p[w]));return v},d.prototype.getEventSourceById=function(c){var p=this.getCurrentData(),v=p.eventSources;for(var w in c=String(c),v)if(v[w].publicId===c)return new T(p,v[w]);return null},d.prototype.addEventSource=function(c){var p=this.getCurrentData();if(c instanceof T)return p.eventSources[c.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[c.internalEventSource]}),c;var v=Ka(c,p);return v?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[v]}),new T(p,v)):null},d.prototype.removeAllEventSources=function(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})},d.prototype.refetchEvents=function(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})},d.prototype.scrollToTime=function(c){var p=Vt(c);p&&this.trigger("_scrollRequest",{time:p})},d}(),Xr=function(){function d(c,p,v){this._context=c,this._def=p,this._instance=v||null}return d.prototype.setProp=function(c,p){var v,w;if(c in _u)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if("id"===c)p=Sl[c](p),this.mutate({standardProps:{publicId:p}});else if(c in Sl)p=Sl[c](p),this.mutate({standardProps:(v={},v[c]=p,v)});else if(c in As){var M=As[c](p);"color"===c?M={backgroundColor:p,borderColor:p}:"editable"===c?M={startEditable:p,durationEditable:p}:((w={})[c]=p,M=w),this.mutate({standardProps:{ui:M}})}else console.warn("Could not set prop '"+c+"'. Use setExtendedProp instead.")},d.prototype.setExtendedProp=function(c,p){var v;this.mutate({extendedProps:(v={},v[c]=p,v)})},d.prototype.setStart=function(c,p){void 0===p&&(p={});var v=this._context.dateEnv,w=v.createMarker(c);if(w&&this._instance){var N=ma(this._instance.range.start,w,v,p.granularity);this.mutate(p.maintainDuration?{datesDelta:N}:{startDelta:N})}},d.prototype.setEnd=function(c,p){void 0===p&&(p={});var w,v=this._context.dateEnv;if((null==c||(w=v.createMarker(c)))&&this._instance)if(w){var M=ma(this._instance.range.end,w,v,p.granularity);this.mutate({endDelta:M})}else this.mutate({standardProps:{hasEnd:!1}})},d.prototype.setDates=function(c,p,v){void 0===v&&(v={});var V,w=this._context.dateEnv,M={allDay:v.allDay},N=w.createMarker(c);if(N&&(null==p||(V=w.createMarker(p)))&&this._instance){var z=this._instance.range;!0===v.allDay&&(z=Ui(z));var ee=ma(z.start,N,w,v.granularity);if(V){var Ne=ma(z.end,V,w,v.granularity);!function Rn(d,c){return d.years===c.years&&d.months===c.months&&d.days===c.days&&d.milliseconds===c.milliseconds}(ee,Ne)?this.mutate({startDelta:ee,endDelta:Ne,standardProps:M}):this.mutate({datesDelta:ee,standardProps:M})}else M.hasEnd=!1,this.mutate({datesDelta:ee,standardProps:M})}},d.prototype.moveStart=function(c){var p=Vt(c);p&&this.mutate({startDelta:p})},d.prototype.moveEnd=function(c){var p=Vt(c);p&&this.mutate({endDelta:p})},d.prototype.moveDates=function(c){var p=Vt(c);p&&this.mutate({datesDelta:p})},d.prototype.setAllDay=function(c,p){void 0===p&&(p={});var v={allDay:c},w=p.maintainDuration;null==w&&(w=this._context.options.allDayMaintainDuration),this._def.allDay!==c&&(v.hasEnd=w),this.mutate({standardProps:v})},d.prototype.formatRange=function(c){var p=this._context.dateEnv,v=this._instance,w=Tr(c);return this._def.hasEnd?p.formatRange(v.range.start,v.range.end,w,{forcedStartTzo:v.forcedStartTzo,forcedEndTzo:v.forcedEndTzo}):p.format(v.range.start,w,{forcedTzo:v.forcedStartTzo})},d.prototype.mutate=function(c){var p=this._instance;if(p){var v=this._def,w=this._context,M=w.getCurrentData().eventStore,N=wi(M,p.instanceId);N=Gs(N,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},c,w);var z=new d(w,v,p);this._def=N.defs[v.defId],this._instance=N.instances[p.instanceId],w.dispatch({type:"MERGE_EVENTS",eventStore:N}),w.emitter.trigger("eventChange",{oldEvent:z,event:this,relatedEvents:Rl(N,w,p),revert:function(){w.dispatch({type:"RESET_EVENTS",eventStore:M})}})}},d.prototype.remove=function(){var c=this._context,p=Go(this);c.dispatch({type:"REMOVE_EVENTS",eventStore:p}),c.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert:function(){c.dispatch({type:"MERGE_EVENTS",eventStore:p})}})},Object.defineProperty(d.prototype,"source",{get:function(){var c=this._def.sourceId;return c?new T(this._context,this._context.getCurrentData().eventSources[c]):null},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"start",{get:function(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"end",{get:function(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"startStr",{get:function(){var c=this._instance;return c?this._context.dateEnv.formatIso(c.range.start,{omitTime:this._def.allDay,forcedTzo:c.forcedStartTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"endStr",{get:function(){var c=this._instance;return c&&this._def.hasEnd?this._context.dateEnv.formatIso(c.range.end,{omitTime:this._def.allDay,forcedTzo:c.forcedEndTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"id",{get:function(){return this._def.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"groupId",{get:function(){return this._def.groupId},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"allDay",{get:function(){return this._def.allDay},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"title",{get:function(){return this._def.title},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"url",{get:function(){return this._def.url},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"display",{get:function(){return this._def.ui.display||"auto"},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"startEditable",{get:function(){return this._def.ui.startEditable},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"durationEditable",{get:function(){return this._def.ui.durationEditable},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"constraint",{get:function(){return this._def.ui.constraints[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"overlap",{get:function(){return this._def.ui.overlap},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"allow",{get:function(){return this._def.ui.allows[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"backgroundColor",{get:function(){return this._def.ui.backgroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"borderColor",{get:function(){return this._def.ui.borderColor},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"textColor",{get:function(){return this._def.ui.textColor},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"classNames",{get:function(){return this._def.ui.classNames},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"extendedProps",{get:function(){return this._def.extendedProps},enumerable:!1,configurable:!0}),d.prototype.toPlainObject=function(c){void 0===c&&(c={});var p=this._def,v=p.ui,M=this.startStr,N=this.endStr,V={};return p.title&&(V.title=p.title),M&&(V.start=M),N&&(V.end=N),p.publicId&&(V.id=p.publicId),p.groupId&&(V.groupId=p.groupId),p.url&&(V.url=p.url),v.display&&"auto"!==v.display&&(V.display=v.display),c.collapseColor&&v.backgroundColor&&v.backgroundColor===v.borderColor?V.color=v.backgroundColor:(v.backgroundColor&&(V.backgroundColor=v.backgroundColor),v.borderColor&&(V.borderColor=v.borderColor)),v.textColor&&(V.textColor=v.textColor),v.classNames.length&&(V.classNames=v.classNames),Object.keys(p.extendedProps).length&&(c.collapseExtendedProps?(0,P.__assign)(V,p.extendedProps):V.extendedProps=p.extendedProps),V},d.prototype.toJSON=function(){return this.toPlainObject()},d}();function Go(d){var c,p,v=d._def,w=d._instance;return{defs:(c={},c[v.defId]=v,c),instances:w?(p={},p[w.instanceId]=w,p):{}}}function Rl(d,c,p){var v=d.defs,w=d.instances,M=[],N=p?p.instanceId:"";for(var V in w){var z=w[V];z.instanceId!==N&&M.push(new Xr(c,v[z.defId],z))}return M}var Od={};!function Nl(d,c){Od[d]=c}("gregory",function(){function d(){}return d.prototype.getMarkerYear=function(c){return c.getUTCFullYear()},d.prototype.getMarkerMonth=function(c){return c.getUTCMonth()},d.prototype.getMarkerDay=function(c){return c.getUTCDate()},d.prototype.arrayToMarker=function(c){return ue(c)},d.prototype.markerToArray=function(c){return Tn(c)},d}());var mi=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function zs(d){var c=mi.exec(d);if(c){var p=new Date(Date.UTC(Number(c[1]),c[3]?Number(c[3])-1:0,Number(c[5]||1),Number(c[7]||0),Number(c[8]||0),Number(c[10]||0),c[12]?1e3*Number("0."+c[12]):0));if(ye(p)){var v=null;return c[13]&&(v=("-"===c[15]?-1:1)*(60*Number(c[16]||0)+Number(c[18]||0))),{marker:p,isTimeUnspecified:!c[6],timeZoneOffset:v}}}return null}var _r=function(){function d(c){var p=this.timeZone=c.timeZone,v="local"!==p&&"UTC"!==p;c.namedTimeZoneImpl&&v&&(this.namedTimeZoneImpl=new c.namedTimeZoneImpl(p)),this.canComputeOffset=Boolean(!v||this.namedTimeZoneImpl),this.calendarSystem=function zo(d){return new Od[d]}(c.calendarSystem),this.locale=c.locale,this.weekDow=c.locale.week.dow,this.weekDoy=c.locale.week.doy,"ISO"===c.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof c.firstDay&&(this.weekDow=c.firstDay),"function"==typeof c.weekNumberCalculation&&(this.weekNumberFunc=c.weekNumberCalculation),this.weekText=null!=c.weekText?c.weekText:c.locale.options.weekText,this.weekTextLong=(null!=c.weekTextLong?c.weekTextLong:c.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=c.cmdFormatter,this.defaultSeparator=c.defaultSeparator}return d.prototype.createMarker=function(c){var p=this.createMarkerMeta(c);return null===p?null:p.marker},d.prototype.createNowMarker=function(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):ue(wr(new Date))},d.prototype.createMarkerMeta=function(c){if("string"==typeof c)return this.parse(c);var p=null;return"number"==typeof c?p=this.timestampToMarker(c):c instanceof Date?(c=c.valueOf(),isNaN(c)||(p=this.timestampToMarker(c))):Array.isArray(c)&&(p=ue(c)),null!==p&&ye(p)?{marker:p,isTimeUnspecified:!1,forcedTzo:null}:null},d.prototype.parse=function(c){var p=zs(c);if(null===p)return null;var v=p.marker,w=null;return null!==p.timeZoneOffset&&(this.canComputeOffset?v=this.timestampToMarker(v.valueOf()-60*p.timeZoneOffset*1e3):w=p.timeZoneOffset),{marker:v,isTimeUnspecified:p.isTimeUnspecified,forcedTzo:w}},d.prototype.getYear=function(c){return this.calendarSystem.getMarkerYear(c)},d.prototype.getMonth=function(c){return this.calendarSystem.getMarkerMonth(c)},d.prototype.add=function(c,p){var v=this.calendarSystem.markerToArray(c);return v[0]+=p.years,v[1]+=p.months,v[2]+=p.days,v[6]+=p.milliseconds,this.calendarSystem.arrayToMarker(v)},d.prototype.subtract=function(c,p){var v=this.calendarSystem.markerToArray(c);return v[0]-=p.years,v[1]-=p.months,v[2]-=p.days,v[6]-=p.milliseconds,this.calendarSystem.arrayToMarker(v)},d.prototype.addYears=function(c,p){var v=this.calendarSystem.markerToArray(c);return v[0]+=p,this.calendarSystem.arrayToMarker(v)},d.prototype.addMonths=function(c,p){var v=this.calendarSystem.markerToArray(c);return v[1]+=p,this.calendarSystem.arrayToMarker(v)},d.prototype.diffWholeYears=function(c,p){var v=this.calendarSystem;return B(c)===B(p)&&v.getMarkerDay(c)===v.getMarkerDay(p)&&v.getMarkerMonth(c)===v.getMarkerMonth(p)?v.getMarkerYear(p)-v.getMarkerYear(c):null},d.prototype.diffWholeMonths=function(c,p){var v=this.calendarSystem;return B(c)===B(p)&&v.getMarkerDay(c)===v.getMarkerDay(p)?v.getMarkerMonth(p)-v.getMarkerMonth(c)+12*(v.getMarkerYear(p)-v.getMarkerYear(c)):null},d.prototype.greatestWholeUnit=function(c,p){var v=this.diffWholeYears(c,p);return null!==v?{unit:"year",value:v}:null!==(v=this.diffWholeMonths(c,p))?{unit:"month",value:v}:null!==(v=Dn(c,p))?{unit:"week",value:v}:null!==(v=Wn(c,p))?{unit:"day",value:v}:(v=function Lt(d,c){return(c.valueOf()-d.valueOf())/36e5}(c,p),Ft(v)?{unit:"hour",value:v}:(v=function er(d,c){return(c.valueOf()-d.valueOf())/6e4}(c,p),Ft(v)?{unit:"minute",value:v}:(v=function An(d,c){return(c.valueOf()-d.valueOf())/1e3}(c,p),Ft(v)?{unit:"second",value:v}:{unit:"millisecond",value:p.valueOf()-c.valueOf()})))},d.prototype.countDurationsBetween=function(c,p,v){var w;return v.years&&null!==(w=this.diffWholeYears(c,p))?w/function Qr(d){return _e(d)/365}(v):v.months&&null!==(w=this.diffWholeMonths(c,p))?w/function bt(d){return _e(d)/30}(v):v.days&&null!==(w=Wn(c,p))?w/_e(v):(p.valueOf()-c.valueOf())/Ht(v)},d.prototype.startOf=function(c,p){return"year"===p?this.startOfYear(c):"month"===p?this.startOfMonth(c):"week"===p?this.startOfWeek(c):"day"===p?ln(c):"hour"===p?function un(d){return ue([d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours()])}(c):"minute"===p?function qt(d){return ue([d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes()])}(c):"second"===p?function Rt(d){return ue([d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds()])}(c):null},d.prototype.startOfYear=function(c){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(c)])},d.prototype.startOfMonth=function(c){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(c),this.calendarSystem.getMarkerMonth(c)])},d.prototype.startOfWeek=function(c){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(c),this.calendarSystem.getMarkerMonth(c),c.getUTCDate()-(c.getUTCDay()-this.weekDow+7)%7])},d.prototype.computeWeekNumber=function(c){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(c)):function tr(d,c,p){var v=d.getUTCFullYear(),w=Nr(d,v,c,p);if(w<1)return Nr(d,v-1,c,p);var M=Nr(d,v+1,c,p);return M>=1?Math.min(w,M):w}(c,this.weekDow,this.weekDoy)},d.prototype.format=function(c,p,v){return void 0===v&&(v={}),p.format({marker:c,timeZoneOffset:null!=v.forcedTzo?v.forcedTzo:this.offsetForMarker(c)},this)},d.prototype.formatRange=function(c,p,v,w){return void 0===w&&(w={}),w.isEndExclusive&&(p=Ct(p,-1)),v.formatRange({marker:c,timeZoneOffset:null!=w.forcedStartTzo?w.forcedStartTzo:this.offsetForMarker(c)},{marker:p,timeZoneOffset:null!=w.forcedEndTzo?w.forcedEndTzo:this.offsetForMarker(p)},this,w.defaultSeparator)},d.prototype.formatIso=function(c,p){void 0===p&&(p={});var v=null;return p.omitTimeZoneOffset||(v=null!=p.forcedTzo?p.forcedTzo:this.offsetForMarker(c)),Sn(c,v,p.omitTime)},d.prototype.timestampToMarker=function(c){return"local"===this.timeZone?ue(wr(new Date(c))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?ue(this.namedTimeZoneImpl.timestampToArray(c)):new Date(c)},d.prototype.offsetForMarker=function(c){return"local"===this.timeZone?-nr(Tn(c)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Tn(c)):null},d.prototype.toDate=function(c,p){return"local"===this.timeZone?nr(Tn(c)):"UTC"===this.timeZone?new Date(c.valueOf()):this.namedTimeZoneImpl?new Date(c.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(Tn(c))*60):new Date(c.valueOf()-(p||0))},d}(),lh=[],dg={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},fg=(0,P.__assign)((0,P.__assign)({},dg),{buttonHints:{prev:"Previous $0",next:"Next $0",today:function(d,c){return"day"===c?"Today":"This "+d}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint:function(d){return"Show "+d+" more event"+(1===d?"":"s")}});function uh(d){for(var c=d.length>0?d[0].code:"en",p=lh.concat(d),v={en:fg},w=0,M=p;w<M.length;w++){var N=M[w];v[N.code]=N}return{map:v,defaultCode:c}}function Fd(d,c){return"object"!=typeof d||Array.isArray(d)?function hg(d,c){var p=[].concat(d||[]),v=function kl(d,c){for(var p=0;p<d.length;p+=1)for(var v=d[p].toLocaleLowerCase().split("-"),w=v.length;w>0;w-=1){var M=v.slice(0,w).join("-");if(c[M])return c[M]}return null}(p,c)||fg;return $s(d,p,v)}(d,c):$s(d.code,[d.code],d)}function $s(d,c,p){var v=le([dg,p],["buttonText"]);delete v.code;var w=v.week;return delete v.week,{codeArg:d,codes:c,week:w,simpleNumberFormat:new Intl.NumberFormat(d),options:v}}function Pl(d,c){void 0===c&&(c={});var p=Ld(c),v=Tr(c),w=p.createMarkerMeta(d);return w?p.format(w.marker,v,{forcedTzo:w.forcedTzo}):""}function Ac(d,c,p){var v=Ld("object"==typeof p&&p?p:{}),w=Tr(p),M=v.createMarkerMeta(d),N=v.createMarkerMeta(c);return M&&N?v.formatRange(M.marker,N.marker,w,{forcedStartTzo:M.forcedTzo,forcedEndTzo:N.forcedTzo,isEndExclusive:p.isEndExclusive,defaultSeparator:Ls.defaultRangeSeparator}):""}function Ld(d){var c=Fd(d.locale||"en",uh([]).map);return new _r((0,P.__assign)((0,P.__assign)({timeZone:Ls.timeZone,calendarSystem:"gregory"},d),{locale:c}))}var Sr,pg={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function $o(d,c){return Ho(function Ja(d){return(!0===d?[{}]:Array.isArray(d)?d.filter(function(p){return p.daysOfWeek}):"object"==typeof d&&d?[d]:[]).map(function(p){return(0,P.__assign)((0,P.__assign)({},pg),p)})}(d),null,c)}function Vd(d,c){return d.left>=c.left&&d.left<c.right&&d.top>=c.top&&d.top<c.bottom}function ch(d,c){var p={left:Math.max(d.left,c.left),right:Math.min(d.right,c.right),top:Math.max(d.top,c.top),bottom:Math.min(d.bottom,c.bottom)};return p.left<p.right&&p.top<p.bottom&&p}function po(d,c,p){return{left:d.left+c,right:d.right+c,top:d.top+p,bottom:d.bottom+p}}function Au(d,c){return{left:Math.min(Math.max(d.left,c.left),c.right),top:Math.min(Math.max(d.top,c.top),c.bottom)}}function Bd(d){return{left:(d.left+d.right)/2,top:(d.top+d.bottom)/2}}function gg(d,c){return{left:d.left-c.left,top:d.top-c.top}}function Ws(){return null==Sr&&(Sr=function Ol(){if("undefined"==typeof document)return!0;var d=document.createElement("div");d.style.position="absolute",d.style.top="0px",d.style.left="0px",d.innerHTML="<table><tr><td><div></div></td></tr></table>",d.querySelector("table").style.height="100px",d.querySelector("div").style.height="100%",document.body.appendChild(d);var p=d.querySelector("div").offsetHeight>0;return document.body.removeChild(d),p}()),Sr}var wc={defs:{},instances:{}},Fl=function(){function d(){this.getKeysForEventDefs=Bn(this._getKeysForEventDefs),this.splitDateSelection=Bn(this._splitDateSpan),this.splitEventStore=Bn(this._splitEventStore),this.splitIndividualUi=Bn(this._splitIndividualUi),this.splitEventDrag=Bn(this._splitInteraction),this.splitEventResize=Bn(this._splitInteraction),this.eventUiBuilders={}}return d.prototype.splitProps=function(c){var p=this,v=this.getKeyInfo(c),w=this.getKeysForEventDefs(c.eventStore),M=this.splitDateSelection(c.dateSelection),N=this.splitIndividualUi(c.eventUiBases,w),V=this.splitEventStore(c.eventStore,w),z=this.splitEventDrag(c.eventDrag),ee=this.splitEventResize(c.eventResize),Ne={};for(var He in this.eventUiBuilders=ge(v,function(Yt,an){return p.eventUiBuilders[an]||Bn(wu)}),v){var dt=v[He],mt=V[He]||wc;Ne[He]={businessHours:dt.businessHours||c.businessHours,dateSelection:M[He]||null,eventStore:mt,eventUiBases:(0,this.eventUiBuilders[He])(c.eventUiBases[""],dt.ui,N[He]),eventSelection:mt.instances[c.eventSelection]?c.eventSelection:"",eventDrag:z[He]||null,eventResize:ee[He]||null}}return Ne},d.prototype._splitDateSpan=function(c){var p={};if(c)for(var w=0,M=this.getKeysForDateSpan(c);w<M.length;w++)p[M[w]]=c;return p},d.prototype._getKeysForEventDefs=function(c){var p=this;return ge(c.defs,function(v){return p.getKeysForEventDef(v)})},d.prototype._splitEventStore=function(c,p){var v=c.defs,w=c.instances,M={};for(var N in v)for(var V=0,z=p[N];V<z.length;V++)M[ee=z[V]]||(M[ee]={defs:{},instances:{}}),M[ee].defs[N]=v[N];for(var Ne in w)for(var He=w[Ne],dt=0,mt=p[He.defId];dt<mt.length;dt++){var ee;M[ee=mt[dt]]&&(M[ee].instances[Ne]=He)}return M},d.prototype._splitIndividualUi=function(c,p){var v={};for(var w in c)if(w)for(var M=0,N=p[w];M<N.length;M++){var V=N[M];v[V]||(v[V]={}),v[V][w]=c[w]}return v},d.prototype._splitInteraction=function(c){var p={};if(c){var v=this._splitEventStore(c.affectedEvents,this._getKeysForEventDefs(c.affectedEvents)),w=this._getKeysForEventDefs(c.mutatedEvents),M=this._splitEventStore(c.mutatedEvents,w),N=function(z){p[z]||(p[z]={affectedEvents:v[z]||wc,mutatedEvents:M[z]||wc,isEvent:c.isEvent})};for(var V in v)N(V);for(var V in M)N(V)}return p},d}();function wu(d,c,p){var v=[];d&&v.push(d),c&&v.push(c);var w={"":Ur(v)};return p&&(0,P.__assign)(w,p),w}function Ll(d,c,p,v){return{dow:d.getUTCDay(),isDisabled:Boolean(v&&!we(v.activeRange,d)),isOther:Boolean(v&&!we(v.currentRange,d)),isToday:Boolean(c&&we(c,d)),isPast:Boolean(p?d<p:!!c&&d<c.start),isFuture:Boolean(p?d>p:!!c&&d>=c.end)}}function go(d,c){var p=["fc-day","fc-day-"+hn[d.dow]];return d.isDisabled?p.push("fc-day-disabled"):(d.isToday&&(p.push("fc-day-today"),p.push(c.getClass("today"))),d.isPast&&p.push("fc-day-past"),d.isFuture&&p.push("fc-day-future"),d.isOther&&p.push("fc-day-other")),p}function mo(d,c){var p=["fc-slot","fc-slot-"+hn[d.dow]];return d.isDisabled?p.push("fc-slot-disabled"):(d.isToday&&(p.push("fc-slot-today"),p.push(c.getClass("today"))),d.isPast&&p.push("fc-slot-past"),d.isFuture&&p.push("fc-slot-future")),p}var Er=Tr({year:"numeric",month:"long",day:"numeric"}),jr=Tr({week:"long"});function _n(d,c,p,v){void 0===p&&(p="day"),void 0===v&&(v=!0);var w=d.dateEnv,M=d.options,N=d.calendarApi,V=w.format(c,"week"===p?jr:Er);if(M.navLinks){var z=w.toDate(c),ee=function(Ne){var He="day"===p?M.navLinkDayClick:"week"===p?M.navLinkWeekClick:null;"function"==typeof He?He.call(N,w.toDate(c),Ne):("string"==typeof He&&(p=He),N.zoomTo(c,p))};return(0,P.__assign)({title:wt(M.navLinkHint,[V,z],V),"data-navlink":""},v?Xe(ee):{onClick:ee})}return{"aria-label":V}}var Vl,Xa=null;function Cc(){return null===Xa&&(Xa=function Dc(){var d=document.createElement("div");je(d,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),d.innerHTML="<div></div>",document.body.appendChild(d);var p=d.firstChild.getBoundingClientRect().left>d.getBoundingClientRect().left;return F(d),p}()),Xa}function Tc(){return Vl||(Vl=function Ud(){var d=document.createElement("div");d.style.overflow="scroll",d.style.position="absolute",d.style.top="-9999px",d.style.left="-9999px",document.body.appendChild(d);var c=vi(d);return document.body.removeChild(d),c}()),Vl}function vi(d){return{x:d.offsetHeight-d.clientHeight,y:d.offsetWidth-d.clientWidth}}function Ci(d,c){void 0===c&&(c=!1);var p=window.getComputedStyle(d),v=parseInt(p.borderLeftWidth,10)||0,w=parseInt(p.borderRightWidth,10)||0,M=parseInt(p.borderTopWidth,10)||0,N=parseInt(p.borderBottomWidth,10)||0,V=vi(d),z=V.y-v-w,Ne={borderLeft:v,borderRight:w,borderTop:M,borderBottom:N,scrollbarBottom:V.x-M-N,scrollbarLeft:0,scrollbarRight:0};return Cc()&&"rtl"===p.direction?Ne.scrollbarLeft=z:Ne.scrollbarRight=z,c&&(Ne.paddingLeft=parseInt(p.paddingLeft,10)||0,Ne.paddingRight=parseInt(p.paddingRight,10)||0,Ne.paddingTop=parseInt(p.paddingTop,10)||0,Ne.paddingBottom=parseInt(p.paddingBottom,10)||0),Ne}function ya(d,c,p){void 0===c&&(c=!1);var v=p?d.getBoundingClientRect():qs(d),w=Ci(d,c),M={left:v.left+w.borderLeft+w.scrollbarLeft,right:v.right-w.borderRight-w.scrollbarRight,top:v.top+w.borderTop,bottom:v.bottom-w.borderBottom-w.scrollbarBottom};return c&&(M.left+=w.paddingLeft,M.right-=w.paddingRight,M.top+=w.paddingTop,M.bottom-=w.paddingBottom),M}function qs(d){var c=d.getBoundingClientRect();return{left:c.left+window.pageXOffset,top:c.top+window.pageYOffset,right:c.right+window.pageXOffset,bottom:c.bottom+window.pageYOffset}}function Sc(d){return d.getBoundingClientRect().height+function Ic(d){var c=window.getComputedStyle(d);return parseInt(c.marginTop,10)+parseInt(c.marginBottom,10)}(d)}function Ds(d){for(var c=[];d instanceof HTMLElement;){var p=window.getComputedStyle(d);if("fixed"===p.position)break;/(auto|scroll)/.test(p.overflow+p.overflowY+p.overflowX)&&c.push(d),d=d.parentNode}return c}function Zs(d,c,p){var v=!1,w=function(){v||(v=!0,c.apply(this,arguments))},M=function(){v||(v=!0,p&&p.apply(this,arguments))},N=d(w,M);N&&"function"==typeof N.then&&N.then(w,M)}var _a=function(){function d(){this.handlers={},this.thisContext=null}return d.prototype.setThisContext=function(c){this.thisContext=c},d.prototype.setOptions=function(c){this.options=c},d.prototype.on=function(c,p){!function ei(d,c,p){(d[c]||(d[c]=[])).push(p)}(this.handlers,c,p)},d.prototype.off=function(c,p){!function Wo(d,c,p){p?d[c]&&(d[c]=d[c].filter(function(v){return v!==p})):delete d[c]}(this.handlers,c,p)},d.prototype.trigger=function(c){for(var p=[],v=1;v<arguments.length;v++)p[v-1]=arguments[v];for(var w=this.handlers[c]||[],M=this.options&&this.options[c],N=[].concat(M||[],w),V=0,z=N;V<z.length;V++){var ee=z[V];ee.apply(this.thisContext,p)}},d.prototype.hasHandlers=function(c){return Boolean(this.handlers[c]&&this.handlers[c].length||this.options&&this.options[c])},d}(),Du=function(){function d(c,p,v,w){this.els=p;var M=this.originClientRect=c.getBoundingClientRect();v&&this.buildElHorizontals(M.left),w&&this.buildElVerticals(M.top)}return d.prototype.buildElHorizontals=function(c){for(var p=[],v=[],w=0,M=this.els;w<M.length;w++){var V=M[w].getBoundingClientRect();p.push(V.left-c),v.push(V.right-c)}this.lefts=p,this.rights=v},d.prototype.buildElVerticals=function(c){for(var p=[],v=[],w=0,M=this.els;w<M.length;w++){var V=M[w].getBoundingClientRect();p.push(V.top-c),v.push(V.bottom-c)}this.tops=p,this.bottoms=v},d.prototype.leftToIndex=function(c){var N,v=this.lefts,w=this.rights,M=v.length;for(N=0;N<M;N+=1)if(c>=v[N]&&c<w[N])return N},d.prototype.topToIndex=function(c){var N,v=this.tops,w=this.bottoms,M=v.length;for(N=0;N<M;N+=1)if(c>=v[N]&&c<w[N])return N},d.prototype.getWidth=function(c){return this.rights[c]-this.lefts[c]},d.prototype.getHeight=function(c){return this.bottoms[c]-this.tops[c]},d}(),Bl=function(){function d(){}return d.prototype.getMaxScrollTop=function(){return this.getScrollHeight()-this.getClientHeight()},d.prototype.getMaxScrollLeft=function(){return this.getScrollWidth()-this.getClientWidth()},d.prototype.canScrollVertically=function(){return this.getMaxScrollTop()>0},d.prototype.canScrollHorizontally=function(){return this.getMaxScrollLeft()>0},d.prototype.canScrollUp=function(){return this.getScrollTop()>0},d.prototype.canScrollDown=function(){return this.getScrollTop()<this.getMaxScrollTop()},d.prototype.canScrollLeft=function(){return this.getScrollLeft()>0},d.prototype.canScrollRight=function(){return this.getScrollLeft()<this.getMaxScrollLeft()},d}(),Mc=function(d){function c(p){var v=d.call(this)||this;return v.el=p,v}return(0,P.__extends)(c,d),c.prototype.getScrollTop=function(){return this.el.scrollTop},c.prototype.getScrollLeft=function(){return this.el.scrollLeft},c.prototype.setScrollTop=function(p){this.el.scrollTop=p},c.prototype.setScrollLeft=function(p){this.el.scrollLeft=p},c.prototype.getScrollWidth=function(){return this.el.scrollWidth},c.prototype.getScrollHeight=function(){return this.el.scrollHeight},c.prototype.getClientHeight=function(){return this.el.clientHeight},c.prototype.getClientWidth=function(){return this.el.clientWidth},c}(Bl),xc=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,P.__extends)(c,d),c.prototype.getScrollTop=function(){return window.pageYOffset},c.prototype.getScrollLeft=function(){return window.pageXOffset},c.prototype.setScrollTop=function(p){window.scroll(window.pageXOffset,p)},c.prototype.setScrollLeft=function(p){window.scroll(p,window.pageYOffset)},c.prototype.getScrollWidth=function(){return document.documentElement.scrollWidth},c.prototype.getScrollHeight=function(){return document.documentElement.scrollHeight},c.prototype.getClientHeight=function(){return document.documentElement.clientHeight},c.prototype.getClientWidth=function(){return document.documentElement.clientWidth},c}(Bl),qo=function(){function d(c){this.iconOverrideOption&&this.setIconOverride(c[this.iconOverrideOption])}return d.prototype.setIconOverride=function(c){var p,v;if("object"==typeof c&&c){for(v in p=(0,P.__assign)({},this.iconClasses),c)p[v]=this.applyIconOverridePrefix(c[v]);this.iconClasses=p}else!1===c&&(this.iconClasses={})},d.prototype.applyIconOverridePrefix=function(c){var p=this.iconOverridePrefix;return p&&0!==c.indexOf(p)&&(c=p+c),c},d.prototype.getClass=function(c){return this.classes[c]||""},d.prototype.getIconClass=function(c,p){var v;return(v=p&&this.rtlIconClasses&&this.rtlIconClasses[c]||this.iconClasses[c])?this.baseIconClass+" "+v:""},d.prototype.getCustomButtonIconClass=function(c){var p;return this.iconOverrideCustomButtonOption&&(p=c[this.iconOverrideCustomButtonOption])?this.baseIconClass+" "+this.applyIconOverridePrefix(p):""},d}();qo.prototype.classes={},qo.prototype.iconClasses={},qo.prototype.baseIconClass="",qo.prototype.iconOverridePrefix="";var Zo=function(){function d(c,p,v,w){var M=this;this.execFunc=c,this.emitter=p,this.scrollTime=v,this.scrollTimeReset=w,this.handleScrollRequest=function(N){M.queuedRequest=(0,P.__assign)({},M.queuedRequest||{},N),M.drain()},p.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}return d.prototype.detach=function(){this.emitter.off("_scrollRequest",this.handleScrollRequest)},d.prototype.update=function(c){c&&this.scrollTimeReset?this.fireInitialScroll():this.drain()},d.prototype.fireInitialScroll=function(){this.handleScrollRequest({time:this.scrollTime})},d.prototype.drain=function(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)},d}(),ji=xe({});function Tu(d,c,p,v,w,M,N,V,z,ee,Ne,He,dt){return{dateEnv:w,options:p,pluginHooks:N,emitter:ee,dispatch:V,getCurrentData:z,calendarApi:Ne,viewSpec:d,viewApi:c,dateProfileGenerator:v,theme:M,isRtl:"rtl"===p.direction,addResizeHandler:function(mt){ee.on("_resize",mt)},removeResizeHandler:function(mt){ee.off("_resize",mt)},createScrollResponder:function(mt){return new Zo(mt,ee,Vt(p.scrollTime),p.scrollTimeReset)},registerInteractiveComponent:He,unregisterInteractiveComponent:dt}}var Ko=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,P.__extends)(c,d),c.prototype.shouldComponentUpdate=function(p,v){return this.debug&&console.log(zt(p,this.props),zt(v,this.state)),!Se(this.props,p,this.propEquality)||!Se(this.state,v,this.stateEquality)},c.addPropsEquality=vo,c.addStateEquality=Ea,c.contextType=ji,c}(R);Ko.prototype.propEquality={},Ko.prototype.stateEquality={};var lr=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,P.__extends)(c,d),c.contextType=ji,c}(Ko);function vo(d){var c=Object.create(this.prototype.propEquality);(0,P.__assign)(c,d),this.prototype.propEquality=c}function Ea(d){var c=Object.create(this.prototype.stateEquality);(0,P.__assign)(c,d),this.prototype.stateEquality=c}function Gi(d,c){"function"==typeof d?d(c):d&&(d.current=c)}var Ul=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.uid=Xt(),p}return(0,P.__extends)(c,d),c.prototype.prepareHits=function(){},c.prototype.queryHit=function(p,v,w,M){return null},c.prototype.isValidSegDownEl=function(p){return!this.props.eventDrag&&!this.props.eventResize&&!U(p,".fc-event-mirror")},c.prototype.isValidDateDownEl=function(p){return!(U(p,".fc-event:not(.fc-bg-event)")||U(p,".fc-more-link")||U(p,"a[data-navlink]")||U(p,".fc-popover"))},c}(lr);function zi(d){return{id:Xt(),deps:d.deps||[],reducers:d.reducers||[],isLoadingFuncs:d.isLoadingFuncs||[],contextInit:[].concat(d.contextInit||[]),eventRefiners:d.eventRefiners||{},eventDefMemberAdders:d.eventDefMemberAdders||[],eventSourceRefiners:d.eventSourceRefiners||{},isDraggableTransformers:d.isDraggableTransformers||[],eventDragMutationMassagers:d.eventDragMutationMassagers||[],eventDefMutationAppliers:d.eventDefMutationAppliers||[],dateSelectionTransformers:d.dateSelectionTransformers||[],datePointTransforms:d.datePointTransforms||[],dateSpanTransforms:d.dateSpanTransforms||[],views:d.views||{},viewPropsTransformers:d.viewPropsTransformers||[],isPropsValid:d.isPropsValid||null,externalDefTransforms:d.externalDefTransforms||[],viewContainerAppends:d.viewContainerAppends||[],eventDropTransformers:d.eventDropTransformers||[],componentInteractions:d.componentInteractions||[],calendarInteractions:d.calendarInteractions||[],themeClasses:d.themeClasses||{},eventSourceDefs:d.eventSourceDefs||[],cmdFormatter:d.cmdFormatter,recurringTypes:d.recurringTypes||[],namedTimeZonedImpl:d.namedTimeZonedImpl,initialView:d.initialView||"",elementDraggingImpl:d.elementDraggingImpl,optionChangeHandlers:d.optionChangeHandlers||{},scrollGridImpl:d.scrollGridImpl||null,contentTypeHandlers:d.contentTypeHandlers||{},listenerRefiners:d.listenerRefiners||{},optionRefiners:d.optionRefiners||{},propSetHandlers:d.propSetHandlers||{}}}function xr(d,c){return{reducers:d.reducers.concat(c.reducers),isLoadingFuncs:d.isLoadingFuncs.concat(c.isLoadingFuncs),contextInit:d.contextInit.concat(c.contextInit),eventRefiners:(0,P.__assign)((0,P.__assign)({},d.eventRefiners),c.eventRefiners),eventDefMemberAdders:d.eventDefMemberAdders.concat(c.eventDefMemberAdders),eventSourceRefiners:(0,P.__assign)((0,P.__assign)({},d.eventSourceRefiners),c.eventSourceRefiners),isDraggableTransformers:d.isDraggableTransformers.concat(c.isDraggableTransformers),eventDragMutationMassagers:d.eventDragMutationMassagers.concat(c.eventDragMutationMassagers),eventDefMutationAppliers:d.eventDefMutationAppliers.concat(c.eventDefMutationAppliers),dateSelectionTransformers:d.dateSelectionTransformers.concat(c.dateSelectionTransformers),datePointTransforms:d.datePointTransforms.concat(c.datePointTransforms),dateSpanTransforms:d.dateSpanTransforms.concat(c.dateSpanTransforms),views:(0,P.__assign)((0,P.__assign)({},d.views),c.views),viewPropsTransformers:d.viewPropsTransformers.concat(c.viewPropsTransformers),isPropsValid:c.isPropsValid||d.isPropsValid,externalDefTransforms:d.externalDefTransforms.concat(c.externalDefTransforms),viewContainerAppends:d.viewContainerAppends.concat(c.viewContainerAppends),eventDropTransformers:d.eventDropTransformers.concat(c.eventDropTransformers),calendarInteractions:d.calendarInteractions.concat(c.calendarInteractions),componentInteractions:d.componentInteractions.concat(c.componentInteractions),themeClasses:(0,P.__assign)((0,P.__assign)({},d.themeClasses),c.themeClasses),eventSourceDefs:d.eventSourceDefs.concat(c.eventSourceDefs),cmdFormatter:c.cmdFormatter||d.cmdFormatter,recurringTypes:d.recurringTypes.concat(c.recurringTypes),namedTimeZonedImpl:c.namedTimeZonedImpl||d.namedTimeZonedImpl,initialView:d.initialView||c.initialView,elementDraggingImpl:d.elementDraggingImpl||c.elementDraggingImpl,optionChangeHandlers:(0,P.__assign)((0,P.__assign)({},d.optionChangeHandlers),c.optionChangeHandlers),scrollGridImpl:c.scrollGridImpl||d.scrollGridImpl,contentTypeHandlers:(0,P.__assign)((0,P.__assign)({},d.contentTypeHandlers),c.contentTypeHandlers),listenerRefiners:(0,P.__assign)((0,P.__assign)({},d.listenerRefiners),c.listenerRefiners),optionRefiners:(0,P.__assign)((0,P.__assign)({},d.optionRefiners),c.optionRefiners),propSetHandlers:(0,P.__assign)((0,P.__assign)({},d.propSetHandlers),c.propSetHandlers)}}var Ks=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,P.__extends)(c,d),c}(qo);function Iu(d,c,p,v){if(c[d])return c[d];var w=function fh(d,c,p,v){var w=p[d],M=v[d],N=function(Ne){return w&&null!==w[Ne]?w[Ne]:M&&null!==M[Ne]?M[Ne]:null},V=N("component"),z=N("superType"),ee=null;if(z){if(z===d)throw new Error("Can't have a custom view type that references itself");ee=Iu(z,c,p,v)}return!V&&ee&&(V=ee.component),V?{type:d,component:V,defaults:(0,P.__assign)((0,P.__assign)({},ee?ee.defaults:{}),w?w.rawOptions:{}),overrides:(0,P.__assign)((0,P.__assign)({},ee?ee.overrides:{}),M?M.rawOptions:{})}:null}(d,c,p,v);return w&&(c[d]=w),w}Ks.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"},Ks.prototype.baseIconClass="fc-icon",Ks.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},Ks.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"},Ks.prototype.iconOverrideOption="buttonIcons",Ks.prototype.iconOverrideCustomButtonOption="icon",Ks.prototype.iconOverridePrefix="fc-icon-";var yo=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.rootElRef=Ce(),p.handleRootEl=function(v){Gi(p.rootElRef,v),p.props.elRef&&Gi(p.props.elRef,v)},p}return(0,P.__extends)(c,d),c.prototype.render=function(){var p=this,v=this.props,w=v.hookProps;return G(el,{hookProps:w,didMount:v.didMount,willUnmount:v.willUnmount,elRef:this.handleRootEl},function(M){return G(Mu,{hookProps:w,content:v.content,defaultContent:v.defaultContent,backupElRef:p.rootElRef},function(N,V){return v.children(M,ba(v.classNames,w),N,V)})})},c}(lr),Hd=xe(0);function Mu(d){return G(Hd.Consumer,null,function(c){return G(Qo,(0,P.__assign)({renderId:c},d))})}var Qo=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.innerElRef=Ce(),p}return(0,P.__extends)(c,d),c.prototype.render=function(){return this.props.children(this.innerElRef,this.renderInnerContent())},c.prototype.componentDidMount=function(){this.updateCustomContent()},c.prototype.componentDidUpdate=function(){this.updateCustomContent()},c.prototype.componentWillUnmount=function(){this.customContentInfo&&this.customContentInfo.destroy&&this.customContentInfo.destroy()},c.prototype.renderInnerContent=function(){var p=this.customContentInfo,v=this.getInnerContent(),w=this.getContentMeta(v);return p&&p.contentKey===w.contentKey?p&&(p.contentVal=v[w.contentKey]):(p&&(p.destroy&&p.destroy(),p=this.customContentInfo=null),w.contentKey&&(p=this.customContentInfo=(0,P.__assign)({contentKey:w.contentKey,contentVal:v[w.contentKey]},w.buildLifecycleFuncs()))),p?[]:v},c.prototype.getInnerContent=function(){var p=this.props,v=$i(p.content,p.hookProps);return void 0===v&&(v=$i(p.defaultContent,p.hookProps)),null==v?null:v},c.prototype.getContentMeta=function(p){var v=this.context.pluginHooks.contentTypeHandlers,w="",M=null;if(p)for(var N in v)if(void 0!==p[N]){w=N,M=v[N];break}return{contentKey:w,buildLifecycleFuncs:M}},c.prototype.updateCustomContent=function(){this.customContentInfo&&this.customContentInfo.render(this.innerElRef.current||this.props.backupElRef.current,this.customContentInfo.contentVal)},c}(lr),el=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.handleRootEl=function(v){p.rootEl=v,p.props.elRef&&Gi(p.props.elRef,v)},p}return(0,P.__extends)(c,d),c.prototype.render=function(){return this.props.children(this.handleRootEl)},c.prototype.componentDidMount=function(){var p=this.props.didMount;p&&p((0,P.__assign)((0,P.__assign)({},this.props.hookProps),{el:this.rootEl}))},c.prototype.componentWillUnmount=function(){var p=this.props.willUnmount;p&&p((0,P.__assign)((0,P.__assign)({},this.props.hookProps),{el:this.rootEl}))},c}(lr);function Rr(){var d,c,p=[];return function(v,w){return(!c||!ut(c,w)||v!==d)&&(d=v,c=w,p=ba(v,w)),p}}function ba(d,c){return"function"==typeof d&&(d=d(c)),Vs(d)}function $i(d,c){return"function"==typeof d?d(c,G):d}var ti=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.normalizeClassNames=Rr(),p}return(0,P.__extends)(c,d),c.prototype.render=function(){var v=this.props,w=this.context,M=w.options,N={view:w.viewApi},V=this.normalizeClassNames(M.viewClassNames,N);return G(el,{hookProps:N,didMount:M.viewDidMount,willUnmount:M.viewWillUnmount,elRef:v.elRef},function(z){return v.children(z,["fc-"+v.viewSpec.type+"-view","fc-view"].concat(V))})},c}(lr);function Rc(d){return ge(d,Wi)}function Wi(d){var c="function"==typeof d?{component:d}:d,p=c.component;return c.content&&(p=function as(d){return function(c){return G(ji.Consumer,null,function(p){return G(ti,{viewSpec:p.viewSpec},function(v,w){var M=(0,P.__assign)((0,P.__assign)({},c),{nextDayThreshold:p.options.nextDayThreshold});return G(yo,{hookProps:M,classNames:d.classNames,content:d.content,didMount:d.didMount,willUnmount:d.willUnmount,elRef:v},function(N,V,z,ee){return G("div",{className:w.concat(V).join(" "),ref:N},ee)})})})}}(c)),{superType:c.type,component:p,rawOptions:c}}function _o(d,c,p,v){var w=Rc(d),M=Rc(c.views),N=function dh(d,c){var v,p={};for(v in d)Iu(v,p,d,c);for(v in c)Iu(v,p,d,c);return p}(w,M);return ge(N,function(V){return function xu(d,c,p,v,w){var M=d.overrides.duration||d.defaults.duration||v.duration||p.duration,N=null,V="",z="",ee={};if(M&&(N=function Hl(d){var c=JSON.stringify(d),p=Qs[c];return void 0===p&&(p=Vt(d),Qs[c]=p),p}(M))){var Ne=Pn(N);V=Ne.unit,1===Ne.value&&(z=V,ee=c[V]?c[V].rawOptions:{})}var He=function(mt){var Tt=mt.buttonText||{},Yt=d.defaults.buttonTextKey;return null!=Yt&&null!=Tt[Yt]?Tt[Yt]:null!=Tt[d.type]?Tt[d.type]:null!=Tt[z]?Tt[z]:null},dt=function(mt){var Tt=mt.buttonHints||{},Yt=d.defaults.buttonTextKey;return null!=Yt&&null!=Tt[Yt]?Tt[Yt]:null!=Tt[d.type]?Tt[d.type]:null!=Tt[z]?Tt[z]:null};return{type:d.type,component:d.component,duration:N,durationUnit:V,singleUnit:z,optionDefaults:d.defaults,optionOverrides:(0,P.__assign)((0,P.__assign)({},ee),d.overrides),buttonTextOverride:He(v)||He(p)||d.overrides.buttonText,buttonTextDefault:He(w)||d.defaults.buttonText||He(Ls)||d.type,buttonTitleOverride:dt(v)||dt(p)||d.overrides.buttonHint,buttonTitleDefault:dt(w)||d.defaults.buttonHint||dt(Ls)}}(V,M,c,p,v)})}var Qs={},Yo=function(){function d(c){this.props=c,this.nowDate=Qa(c.nowInput,c.dateEnv),this.initHiddenDays()}return d.prototype.buildPrev=function(c,p,v){var w=this.props.dateEnv,M=w.subtract(w.startOf(p,c.currentRangeUnit),c.dateIncrement);return this.build(M,-1,v)},d.prototype.buildNext=function(c,p,v){var w=this.props.dateEnv,M=w.add(w.startOf(p,c.currentRangeUnit),c.dateIncrement);return this.build(M,1,v)},d.prototype.build=function(c,p,v){void 0===v&&(v=!0);var M,N,V,z,ee,Ne,w=this.props;return M=this.buildValidRange(),M=this.trimHiddenDays(M),v&&(c=function Ge(d,c){return null!=c.start&&d<c.start?c.start:null!=c.end&&d>=c.end?new Date(c.end.valueOf()-1):d}(c,M)),N=this.buildCurrentRangeInfo(c,p),V=/^(year|month|week|day)$/.test(N.unit),z=this.buildRenderRange(this.trimHiddenDays(N.range),N.unit,V),ee=z=this.trimHiddenDays(z),w.showNonCurrentDates||(ee=Us(ee,N.range)),ee=Us(ee=this.adjustActiveRange(ee),M),Ne=K(N.range,M),{validRange:M,currentRange:N.range,currentRangeUnit:N.unit,isRangeAllDay:V,activeRange:ee,renderRange:z,slotMinTime:w.slotMinTime,slotMaxTime:w.slotMaxTime,isValid:Ne,dateIncrement:this.buildDateIncrement(N.duration)}},d.prototype.buildValidRange=function(){var c=this.props.validRangeInput,p="function"==typeof c?c.call(this.props.calendarApi,this.nowDate):c;return this.refineRange(p)||{start:null,end:null}},d.prototype.buildCurrentRangeInfo=function(c,p){var V,v=this.props,w=null,M=null,N=null;return v.duration?N=this.buildRangeFromDuration(c,p,w=v.duration,M=v.durationUnit):(V=this.props.dayCount)?(M="day",N=this.buildRangeFromDayCount(c,p,V)):(N=this.buildCustomVisibleRange(c))?M=v.dateEnv.greatestWholeUnit(N.start,N.end).unit:(M=Pn(w=this.getFallbackDuration()).unit,N=this.buildRangeFromDuration(c,p,w,M)),{duration:w,unit:M,range:N}},d.prototype.getFallbackDuration=function(){return Vt({day:1})},d.prototype.adjustActiveRange=function(c){var p=this.props,v=p.dateEnv,M=p.slotMinTime,N=p.slotMaxTime,V=c.start,z=c.end;return p.usesMinMaxTime&&(_e(M)<0&&(V=ln(V),V=v.add(V,M)),_e(N)>1&&(z=Ze(z=ln(z),-1),z=v.add(z,N))),{start:V,end:z}},d.prototype.buildRangeFromDuration=function(c,p,v,w){var z,ee,Ne,M=this.props,N=M.dateEnv,V=M.dateAlignment;if(!V){var He=this.props.dateIncrement;V=He&&Ht(He)<Ht(v)?Pn(He).unit:w}function dt(){z=N.startOf(c,V),ee=N.add(z,v),Ne={start:z,end:ee}}return _e(v)<=1&&this.isHiddenDay(z)&&(z=ln(z=this.skipHiddenDays(z,p))),dt(),this.trimHiddenDays(Ne)||(c=this.skipHiddenDays(c,p),dt()),Ne},d.prototype.buildRangeFromDayCount=function(c,p,v){var ee,w=this.props,N=w.dateAlignment,V=0,z=c;N&&(z=w.dateEnv.startOf(z,N)),z=ln(z),ee=z=this.skipHiddenDays(z,p);do{ee=Ze(ee,1),this.isHiddenDay(ee)||(V+=1)}while(V<v);return{start:z,end:ee}},d.prototype.buildCustomVisibleRange=function(c){var p=this.props,v=p.visibleRangeInput,w="function"==typeof v?v.call(p.calendarApi,p.dateEnv.toDate(c)):v,M=this.refineRange(w);return!M||null!=M.start&&null!=M.end?M:null},d.prototype.buildRenderRange=function(c,p,v){return c},d.prototype.buildDateIncrement=function(c){var v;return this.props.dateIncrement||((v=this.props.dateAlignment)?Vt(1,v):c||Vt({days:1}))},d.prototype.refineRange=function(c){if(c){var p=function $a(d,c){var p=null,v=null;return d.start&&(p=c.createMarker(d.start)),d.end&&(v=c.createMarker(d.end)),!p&&!v||p&&v&&v<p?null:{start:p,end:v}}(c,this.props.dateEnv);return p&&(p=ws(p)),p}return null},d.prototype.initHiddenDays=function(){var w,c=this.props.hiddenDays||[],p=[],v=0;for(!1===this.props.weekends&&c.push(0,6),w=0;w<7;w+=1)(p[w]=-1!==c.indexOf(w))||(v+=1);if(!v)throw new Error("invalid hiddenDays");this.isHiddenDayHash=p},d.prototype.trimHiddenDays=function(c){var p=c.start,v=c.end;return p&&(p=this.skipHiddenDays(p)),v&&(v=this.skipHiddenDays(v,-1,!0)),null==p||null==v||p<v?{start:p,end:v}:null},d.prototype.isHiddenDay=function(c){return c instanceof Date&&(c=c.getUTCDay()),this.isHiddenDayHash[c]},d.prototype.skipHiddenDays=function(c,p,v){for(void 0===p&&(p=1),void 0===v&&(v=!1);this.isHiddenDayHash[(c.getUTCDay()+(v?p:0)+7)%7];)c=Ze(c,p);return c},d}();function tl(d){for(var c in d)if(d[c].isFetching)return!0;return!1}function yg(d,c,p,v){for(var w={},M=0,N=c;M<N.length;M++){var V=N[M];w[V.sourceId]=V}return p&&(w=kc(w,p,v)),(0,P.__assign)((0,P.__assign)({},d),w)}function kc(d,c,p){return Oc(d,ae(d,function(v){return function Pc(d,c,p){return Jo(d,p)?!p.options.lazyFetching||!d.fetchRange||d.isFetching||c.start<d.fetchRange.start||c.end>d.fetchRange.end:!d.latestFetchId}(v,c,p)}),c,!1,p)}function Oc(d,c,p,v,w){var M={};for(var N in d){var V=d[N];M[N]=c[N]?Fc(V,p,v,w):V}return M}function Fc(d,c,p,v){var w=v.options,M=v.calendarApi,N=v.pluginHooks.eventSourceDefs[d.sourceDefId],V=Xt();return N.fetch({eventSource:d,range:c,isRefetch:p,context:v},function(z){var ee=z.rawEvents;w.eventSourceSuccess&&(ee=w.eventSourceSuccess.call(M,ee,z.xhr)||ee),d.success&&(ee=d.success.call(M,ee,z.xhr)||ee),v.dispatch({type:"RECEIVE_EVENTS",sourceId:d.sourceId,fetchId:V,fetchRange:c,rawEvents:ee})},function(z){console.warn(z.message,z),w.eventSourceFailure&&w.eventSourceFailure.call(M,z),d.failure&&d.failure(z),v.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:d.sourceId,fetchId:V,fetchRange:c,error:z})}),(0,P.__assign)((0,P.__assign)({},d),{isFetching:!0,latestFetchId:V})}function Aa(d,c){return ae(d,function(p){return Jo(p,c)})}function Jo(d,c){return!c.pluginHooks.eventSourceDefs[d.sourceDefId].ignoreRange}function wa(d,c){var p;if(c){p=[];for(var v=0,w=d;v<w.length;v++){var M=w[v],N=c(M);N?p.push(N):null==N&&p.push(M)}}else p=d;return p}function Vc(d,c){return ha(d,function(p){return p.sourceId!==c})}function gh(d,c){switch(c.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return c.selection;default:return d}}function ku(d,c){switch(c.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return c.eventInstanceId;default:return d}}function Pu(d,c){var p;switch(c.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return{affectedEvents:(p=c.state).affectedEvents,mutatedEvents:p.mutatedEvents,isEvent:p.isEvent};default:return d}}function jd(d,c){var p;switch(c.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return{affectedEvents:(p=c.state).affectedEvents,mutatedEvents:p.mutatedEvents,isEvent:p.isEvent};default:return d}}function ui(d,c,p,v,w){return{header:d.headerToolbar?Ca(d.headerToolbar,d,c,p,v,w):null,footer:d.footerToolbar?Ca(d.footerToolbar,d,c,p,v,w):null}}function Ca(d,c,p,v,w,M){var N={},V=[],z=!1;for(var ee in d){var He=mh(d[ee],c,p,v,w,M);N[ee]=He.widgets,V.push.apply(V,He.viewsWithButtons),z=z||He.hasTitle}return{sectionWidgets:N,viewsWithButtons:V,hasTitle:z}}function mh(d,c,p,v,w,M){var N="rtl"===c.direction,V=c.customButtons||{},z=p.buttonText||{},ee=c.buttonText||{},Ne=p.buttonHints||{},He=c.buttonHints||{},dt=d?d.split(" "):[],mt=[],Tt=!1;return{widgets:dt.map(function(an){return an.split(",").map(function(Nt){if("title"===Nt)return Tt=!0,{buttonName:Nt};var rr,Or,yr,di,qr,Ss;if(rr=V[Nt])yr=function(eo){rr.click&&rr.click.call(eo.target,eo,eo.target)},(di=v.getCustomButtonIconClass(rr))||(di=v.getIconClass(Nt,N))||(qr=rr.text),Ss=rr.hint||rr.text;else if(Or=w[Nt]){mt.push(Nt),yr=function(){M.changeView(Nt)},(qr=Or.buttonTextOverride)||(di=v.getIconClass(Nt,N))||(qr=Or.buttonTextDefault);var Ki=Or.buttonTextOverride||Or.buttonTextDefault;Ss=wt(Or.buttonTitleOverride||Or.buttonTitleDefault||c.viewHint,[Ki,Nt],Ki)}else if(M[Nt])if(yr=function(){M[Nt]()},(qr=z[Nt])||(di=v.getIconClass(Nt,N))||(qr=ee[Nt]),"prevYear"===Nt||"nextYear"===Nt){var So="prevYear"===Nt?"prev":"next";Ss=wt(Ne[So]||He[So],[ee.year||"year","year"],ee[Nt])}else Ss=function(eo){return wt(Ne[Nt]||He[Nt],[ee[eo]||eo,eo],ee[Nt])};return{buttonName:Nt,buttonClick:yr,buttonIcon:di,buttonText:qr,buttonHint:Ss}})}),viewsWithButtons:mt,hasTitle:Tt}}function rl(d,c,p,v,w){var M=null;"GET"===(d=d.toUpperCase())?c=function Js(d,c){return d+(-1===d.indexOf("?")?"?":"&")+Xs(c)}(c,p):M=Xs(p);var N=new XMLHttpRequest;N.open(d,c,!0),"GET"!==d&&N.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),N.onload=function(){if(N.status>=200&&N.status<400){var V=!1,z=void 0;try{z=JSON.parse(N.responseText),V=!0}catch(ee){}V?v(z,N):w("Failure parsing JSON",N)}else w("Request failed",N)},N.onerror=function(){w("Request failed",N)},N.send(M)}function Xs(d){var c=[];for(var p in d)c.push(encodeURIComponent(p)+"="+encodeURIComponent(d[p]));return c.join("&")}function Co(d,c){for(var p=pt(c.getCurrentData().eventSources),v=[],w=0,M=d;w<M.length;w++){for(var N=M[w],V=!1,z=0;z<p.length;z+=1)if(p[z]._raw===N){p.splice(z,1),V=!0;break}V||v.push(N)}for(var ee=0,Ne=p;ee<Ne.length;ee++)c.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:Ne[ee].sourceId});for(var dt=0,mt=v;dt<mt.length;dt++)c.calendarApi.addEventSource(mt[dt])}var Wd=[zi({eventSourceDefs:[{ignoreRange:!0,parseMeta:function(d){return Array.isArray(d.events)?d.events:null},fetch:function(d,c){c({rawEvents:d.eventSource.meta})}}]}),zi({eventSourceDefs:[{parseMeta:function(d){return"function"==typeof d.events?d.events:null},fetch:function(d,c,p){Zs(d.eventSource.meta.bind(null,yc(d.range,d.context.dateEnv)),function(M){c({rawEvents:M})},p)}}]}),zi({eventSourceRefiners:{method:String,extraParams:tt,startParam:String,endParam:String,timeZoneParam:String},eventSourceDefs:[{parseMeta:function(d){return!d.url||"json"!==d.format&&d.format?null:{url:d.url,format:"json",method:(d.method||"GET").toUpperCase(),extraParams:d.extraParams,startParam:d.startParam,endParam:d.endParam,timeZoneParam:d.timeZoneParam}},fetch:function(d,c,p){var v=d.eventSource.meta,w=function Gl(d,c,p){var M,N,V,z,v=p.dateEnv,w=p.options,ee={};return null==(M=d.startParam)&&(M=w.startParam),null==(N=d.endParam)&&(N=w.endParam),null==(V=d.timeZoneParam)&&(V=w.timeZoneParam),z="function"==typeof d.extraParams?d.extraParams():d.extraParams||{},(0,P.__assign)(ee,z),ee[M]=v.formatIso(c.start),ee[N]=v.formatIso(c.end),"local"!==v.timeZone&&(ee[V]=v.timeZone),ee}(v,d.range,d.context);rl(v.method,v.url,w,function(M,N){c({rawEvents:M,xhr:N})},function(M,N){p({message:M,xhr:N})})}}]}),zi({recurringTypes:[{parse:function(d,c){if(d.daysOfWeek||d.startTime||d.endTime||d.startRecur||d.endRecur){var p={daysOfWeek:d.daysOfWeek||null,startTime:d.startTime||null,endTime:d.endTime||null,startRecur:d.startRecur?c.createMarker(d.startRecur):null,endRecur:d.endRecur?c.createMarker(d.endRecur):null},v=void 0;return d.duration&&(v=d.duration),!v&&d.startTime&&d.endTime&&(v=function kr(d,c){return{years:d.years-c.years,months:d.months-c.months,days:d.days-c.days,milliseconds:d.milliseconds-c.milliseconds}}(d.endTime,d.startTime)),{allDayGuess:Boolean(!d.startTime&&!d.endTime),duration:v,typeData:p}}return null},expand:function(d,c,p){var v=Us(c,{start:d.startRecur,end:d.endRecur});return v?function sl(d,c,p,v){for(var w=d?Pe(d):null,M=ln(p.start),N=p.end,V=[];M<N;){var z=void 0;(!w||w[M.getUTCDay()])&&(z=c?v.add(M,c):M,V.push(z)),M=Ze(M,1)}return V}(d.daysOfWeek,d.startTime,v,p):[]}}],eventRefiners:{daysOfWeek:tt,startTime:Vt,endTime:Vt,duration:Vt,startRecur:tt,endRecur:tt}}),zi({optionChangeHandlers:{events:function(d,c){Co([d],c)},eventSources:Co}}),zi({isLoadingFuncs:[function(d){return tl(d.eventSources)}],contentTypeHandlers:{html:function Uc(){var d=null,c="";return{render:function p(w,M){(w!==d||M!==c)&&(w.innerHTML=M),d=w,c=M},destroy:function v(){d.innerHTML="",d=null,c=""}}},domNodes:function Vu(){var d=null,c=[];function v(){c.forEach(F),c=[],d=null}return{render:function p(w,M){var N=Array.prototype.slice.call(M);if(w!==d||!pi(c,N)){for(var V=0,z=N;V<z.length;V++)w.appendChild(z[V]);v()}d=w,c=N},destroy:v}}},propSetHandlers:{dateProfile:function $l(d,c){c.emitter.trigger("datesSet",(0,P.__assign)((0,P.__assign)({},yc(d.activeRange,c.dateEnv)),{view:c.viewApi}))},eventStore:function Lu(d,c){var p=c.emitter;p.hasHandlers("eventsSet")&&p.trigger("eventsSet",Rl(d,c))}}})],Hc=function(){function d(c){this.drainedOption=c,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}return d.prototype.request=function(c){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),null==c?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),c))},d.prototype.pause=function(c){void 0===c&&(c="");var p=this.pauseDepths;p[c]=(p[c]||0)+1,this.clearTimeout()},d.prototype.resume=function(c,p){void 0===c&&(c="");var v=this.pauseDepths;c in v&&(p?delete v[c]:(v[c]-=1,v[c]<=0&&delete v[c]),this.tryDrain())},d.prototype.isPaused=function(){return Object.keys(this.pauseDepths).length},d.prototype.tryDrain=function(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}},d.prototype.clear=function(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}},d.prototype.clearTimeout=function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)},d.prototype.drained=function(){this.drainedOption&&this.drainedOption()},d}(),ol=function(){function d(c,p){this.runTaskOption=c,this.drainedOption=p,this.queue=[],this.delayedRunner=new Hc(this.drain.bind(this))}return d.prototype.request=function(c,p){this.queue.push(c),this.delayedRunner.request(p)},d.prototype.pause=function(c){this.delayedRunner.pause(c)},d.prototype.resume=function(c,p){this.delayedRunner.resume(c,p)},d.prototype.drain=function(){for(var c=this.queue;c.length;){for(var p=[],v=void 0;v=c.shift();)this.runTask(v),p.push(v);this.drained(p)}},d.prototype.runTask=function(c){this.runTaskOption&&this.runTaskOption(c)},d.prototype.drained=function(c){this.drainedOption&&this.drainedOption(c)},d}();function vh(d,c,p){var v;return v=/^(year|month)$/.test(d.currentRangeUnit)?d.currentRange:d.activeRange,p.formatRange(v.start,v.end,Tr(c.titleFormat||function yh(d){var c=d.currentRangeUnit;if("year"===c)return{year:"numeric"};if("month"===c)return{year:"numeric",month:"long"};var p=Wn(d.currentRange.start,d.currentRange.end);return null!==p&&p>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}(d)),{isEndExclusive:d.isRangeAllDay,defaultSeparator:c.titleRangeSeparator})}var Do=function(){function d(c){var p=this;this.computeOptionsData=Bn(this._computeOptionsData),this.computeCurrentViewData=Bn(this._computeCurrentViewData),this.organizeRawLocales=Bn(uh),this.buildLocale=Bn(Fd),this.buildPluginHooks=function Su(){var p,d=[],c=[];return function(v,w){return(!p||!pi(v,d)||!pi(w,c))&&(p=function mg(d,c){var p={},v={reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,contentTypeHandlers:{},listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function w(M){for(var N=0,V=M;N<V.length;N++){var z=V[N];p[z.id]||(p[z.id]=!0,w(z.deps),v=xr(v,z))}}return d&&w(d),w(c),v}(v,w)),d=v,c=w,p}}(),this.buildDateEnv=Bn(Wl),this.buildTheme=Bn(Da),this.parseToolbars=Bn(ui),this.buildViewSpecs=Bn(_o),this.buildDateProfileGenerator=ts(Eg),this.buildViewApi=Bn(bg),this.buildViewUiProps=ts(jc),this.buildEventUiBySource=Bn(Xv,ut),this.buildEventUiBases=Bn(ql),this.parseContextBusinessHours=ts(qd),this.buildTitle=Bn(vh),this.emitter=new _a,this.actionRunner=new ol(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.getCurrentData=function(){return p.data},this.dispatch=function(Or){p.actionRunner.request(Or)},this.props=c,this.actionRunner.pause();var v={},w=this.computeOptionsData(c.optionOverrides,v,c.calendarApi),M=w.calendarOptions.initialView||w.pluginHooks.initialView,N=this.computeCurrentViewData(M,w,c.optionOverrides,v);c.calendarApi.currentDataManager=this,this.emitter.setThisContext(c.calendarApi),this.emitter.setOptions(N.options);var V=function cg(d,c){var p=d.initialDate;return null!=p?c.createMarker(p):Qa(d.now,c)}(w.calendarOptions,w.dateEnv),z=N.dateProfileGenerator.build(V);we(z.activeRange,V)||(V=z.currentRange.start);for(var ee={dateEnv:w.dateEnv,options:w.calendarOptions,pluginHooks:w.pluginHooks,calendarApi:c.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},Ne=0,He=w.pluginHooks.contextInit;Ne<He.length;Ne++)(0,He[Ne])(ee);for(var mt=function hh(d,c,p){var v=c?c.activeRange:null;return yg({},function Ys(d,c){var p=xl(c),v=[].concat(d.eventSources||[]),w=[];d.initialEvents&&v.unshift(d.initialEvents),d.events&&v.unshift(d.events);for(var M=0,N=v;M<N.length;M++){var z=Ka(N[M],c,p);z&&w.push(z)}return w}(d,p),v,p)}(w.calendarOptions,z,ee),Tt={dynamicOptionOverrides:v,currentViewType:M,currentDate:V,dateProfile:z,businessHours:this.parseContextBusinessHours(ee),eventSources:mt,eventUiBases:{},eventStore:{defs:{},instances:{}},renderableEventStore:{defs:{},instances:{}},dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(ee).selectionConfig},Yt=(0,P.__assign)((0,P.__assign)({},ee),Tt),an=0,Nt=w.pluginHooks.reducers;an<Nt.length;an++)(0,P.__assign)(Tt,(0,Nt[an])(null,null,Yt));Zl(Tt,ee)&&this.emitter.trigger("loading",!0),this.state=Tt,this.updateData(),this.actionRunner.resume()}return d.prototype.resetOptions=function(c,p){var v=this.props;v.optionOverrides=p?(0,P.__assign)((0,P.__assign)({},v.optionOverrides),c):c,this.actionRunner.request({type:"NOTHING"})},d.prototype._handleAction=function(c){var p=this,v=p.props,w=p.state,M=p.emitter,N=function vg(d,c){var p;return"SET_OPTION"===c.type?(0,P.__assign)((0,P.__assign)({},d),((p={})[c.optionName]=c.rawOptionValue,p)):d}(w.dynamicOptionOverrides,c),V=this.computeOptionsData(v.optionOverrides,N,v.calendarApi),z=function jl(d,c){return"CHANGE_VIEW_TYPE"===c.type&&(d=c.viewType),d}(w.currentViewType,c),ee=this.computeCurrentViewData(z,V,v.optionOverrides,N);v.calendarApi.currentDataManager=this,M.setThisContext(v.calendarApi),M.setOptions(ee.options);var Ne={dateEnv:V.dateEnv,options:V.calendarOptions,pluginHooks:V.pluginHooks,calendarApi:v.calendarApi,dispatch:this.dispatch,emitter:M,getCurrentData:this.getCurrentData},He=w.currentDate,dt=w.dateProfile;this.data&&this.data.dateProfileGenerator!==ee.dateProfileGenerator&&(dt=ee.dateProfileGenerator.build(He)),He=function bc(d,c){return"CHANGE_DATE"===c.type?c.dateMarker:d}(He,c),dt=function Jv(d,c,p,v){var w;switch(c.type){case"CHANGE_VIEW_TYPE":return v.build(c.dateMarker||p);case"CHANGE_DATE":return v.build(c.dateMarker);case"PREV":if((w=v.buildPrev(d,p)).isValid)return w;break;case"NEXT":if((w=v.buildNext(d,p)).isValid)return w}return d}(dt,c,He,ee.dateProfileGenerator),("PREV"===c.type||"NEXT"===c.type||!we(dt.currentRange,He))&&(He=dt.currentRange.start);for(var mt=function Di(d,c,p,v){var w=p?p.activeRange:null;switch(c.type){case"ADD_EVENT_SOURCES":return yg(d,c.sources,w,v);case"REMOVE_EVENT_SOURCE":return function Ru(d,c){return ae(d,function(p){return p.sourceId!==c})}(d,c.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return p?kc(d,w,v):d;case"FETCH_EVENT_SOURCES":return Oc(d,c.sourceIds?Pe(c.sourceIds):Aa(d,v),w,c.isRefetch||!1,v);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return function nl(d,c,p,v){var w,M=d[c];return M&&p===M.latestFetchId?(0,P.__assign)((0,P.__assign)({},d),((w={})[c]=(0,P.__assign)((0,P.__assign)({},M),{isFetching:!1,fetchRange:v}),w)):d}(d,c.sourceId,c.fetchId,c.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return d}}(w.eventSources,c,dt,Ne),Tt=function _g(d,c,p,v,w){switch(c.type){case"RECEIVE_EVENTS":return function Eo(d,c,p,v,w,M){if(c&&p===c.latestFetchId){var N=Ho(function Xo(d,c,p){var v=p.options.eventDataTransform,w=c?c.eventDataTransform:null;return w&&(d=wa(d,w)),v&&(d=wa(d,v)),d}(w,c,M),c,M);return v&&(N=At(N,v,M)),uo(Vc(d,c.sourceId),N)}return d}(d,p[c.sourceId],c.fetchId,c.fetchRange,c.rawEvents,w);case"ADD_EVENTS":return function ph(d,c,p,v){return p&&(c=At(c,p,v)),uo(d,c)}(d,c.eventStore,v?v.activeRange:null,w);case"RESET_EVENTS":return c.eventStore;case"MERGE_EVENTS":return uo(d,c.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return v?At(d,v.activeRange,w):d;case"REMOVE_EVENTS":return function Nd(d,c){var p=d.defs,v=d.instances,w={},M={};for(var N in p)c.defs[N]||(w[N]=p[N]);for(var V in v)!c.instances[V]&&w[v[V].defId]&&(M[V]=v[V]);return{defs:w,instances:M}}(d,c.eventStore);case"REMOVE_EVENT_SOURCE":return Vc(d,c.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return ha(d,function(M){return!M.sourceId});case"REMOVE_ALL_EVENTS":return{defs:{},instances:{}};default:return d}}(w.eventStore,c,mt,dt,Ne),an=tl(mt)&&!ee.options.progressiveEventRendering&&w.renderableEventStore||Tt,Nt=this.buildViewUiProps(Ne),rr=Nt.eventUiSingleBase,Or=Nt.selectionConfig,yr=this.buildEventUiBySource(mt),qr={dynamicOptionOverrides:N,currentViewType:z,currentDate:He,dateProfile:dt,eventSources:mt,eventStore:Tt,renderableEventStore:an,selectionConfig:Or,eventUiBases:this.buildEventUiBases(an.defs,rr,yr),businessHours:this.parseContextBusinessHours(Ne),dateSelection:gh(w.dateSelection,c),eventSelection:ku(w.eventSelection,c),eventDrag:Pu(w.eventDrag,c),eventResize:jd(w.eventResize,c)},Ss=(0,P.__assign)((0,P.__assign)({},Ne),qr),Ki=0,So=V.pluginHooks.reducers;Ki<So.length;Ki++)(0,P.__assign)(qr,(0,So[Ki])(w,c,Ss));var of=Zl(w,Ne),$u=Zl(qr,Ne);!of&&$u?M.trigger("loading",!0):of&&!$u&&M.trigger("loading",!1),this.state=qr,v.onAction&&v.onAction(c)},d.prototype.updateData=function(){var p=this.props,v=this.state,w=this.data,M=this.computeOptionsData(p.optionOverrides,v.dynamicOptionOverrides,p.calendarApi),N=this.computeCurrentViewData(v.currentViewType,M,p.optionOverrides,v.dynamicOptionOverrides),V=this.data=(0,P.__assign)((0,P.__assign)((0,P.__assign)({viewTitle:this.buildTitle(v.dateProfile,N.options,M.dateEnv),calendarApi:p.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},M),N),v),z=M.pluginHooks.optionChangeHandlers,ee=w&&w.calendarOptions,Ne=M.calendarOptions;if(ee&&ee!==Ne)for(var He in ee.timeZone!==Ne.timeZone&&(v.eventSources=V.eventSources=function Nc(d,c,p){var v=c?c.activeRange:null;return Oc(d,Aa(d,p),v,!0,p)}(V.eventSources,v.dateProfile,V),v.eventStore=V.eventStore=function Lc(d,c,p){var v=d.defs,w=ge(d.instances,function(M){var N=v[M.defId];return N.allDay||N.recurringDef?M:(0,P.__assign)((0,P.__assign)({},M),{range:{start:p.createMarker(c.toDate(M.range.start,M.forcedStartTzo)),end:p.createMarker(c.toDate(M.range.end,M.forcedEndTzo))},forcedStartTzo:p.canComputeOffset?null:M.forcedStartTzo,forcedEndTzo:p.canComputeOffset?null:M.forcedEndTzo})});return{defs:v,instances:w}}(V.eventStore,w.dateEnv,V.dateEnv)),z)ee[He]!==Ne[He]&&z[He](Ne[He],V);p.onData&&p.onData(V)},d.prototype._computeOptionsData=function(c,p,v){var w=this.processRawCalendarOptions(c,p),M=w.refinedOptions,N=w.pluginHooks,V=w.localeDefaults,z=w.availableLocaleData;Bu(w.extra);var Ne=this.buildDateEnv(M.timeZone,M.locale,M.weekNumberCalculation,M.firstDay,M.weekText,N,z,M.defaultRangeSeparator),He=this.buildViewSpecs(N.views,c,p,V),dt=this.buildTheme(M,N);return{calendarOptions:M,pluginHooks:N,dateEnv:Ne,viewSpecs:He,theme:dt,toolbarConfig:this.parseToolbars(M,c,dt,He,v),localeDefaults:V,availableRawLocales:z.map}},d.prototype.processRawCalendarOptions=function(c,p){var v=za([Ls,c,p]),M=v.locale,N=this.organizeRawLocales(v.locales),z=this.buildLocale(M||N.defaultCode,N.map).options,ee=this.buildPluginHooks(c.plugins||[],Wd),Ne=this.currentCalendarOptionsRefiners=(0,P.__assign)((0,P.__assign)((0,P.__assign)((0,P.__assign)((0,P.__assign)({},yu),xd),Dl),ee.listenerRefiners),ee.optionRefiners),He={},dt=za([Ls,z,c,p]),mt={},Tt=this.currentCalendarOptionsInput,Yt=this.currentCalendarOptionsRefined,an=!1;for(var Nt in dt)"plugins"!==Nt&&(dt[Nt]===Tt[Nt]||Tl[Nt]&&Nt in Tt&&Tl[Nt](Tt[Nt],dt[Nt])?mt[Nt]=Yt[Nt]:Ne[Nt]?(mt[Nt]=Ne[Nt](dt[Nt]),an=!0):He[Nt]=Tt[Nt]);return an&&(this.currentCalendarOptionsInput=dt,this.currentCalendarOptionsRefined=mt),{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:ee,availableLocaleData:N,localeDefaults:z,extra:He}},d.prototype._computeCurrentViewData=function(c,p,v,w){var M=p.viewSpecs[c];if(!M)throw new Error('viewType "'+c+"\" is not available. Please make sure you've loaded all neccessary plugins");var N=this.processRawViewOptions(M,p.pluginHooks,p.localeDefaults,v,w),V=N.refinedOptions;return Bu(N.extra),{viewSpec:M,options:V,dateProfileGenerator:this.buildDateProfileGenerator({dateProfileGeneratorClass:M.optionDefaults.dateProfileGeneratorClass,duration:M.duration,durationUnit:M.durationUnit,usesMinMaxTime:M.optionDefaults.usesMinMaxTime,dateEnv:p.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:V.slotMinTime,slotMaxTime:V.slotMaxTime,showNonCurrentDates:V.showNonCurrentDates,dayCount:V.dayCount,dateAlignment:V.dateAlignment,dateIncrement:V.dateIncrement,hiddenDays:V.hiddenDays,weekends:V.weekends,nowInput:V.now,validRangeInput:V.validRange,visibleRangeInput:V.visibleRange,monthMode:V.monthMode,fixedWeekCount:V.fixedWeekCount}),viewApi:this.buildViewApi(c,this.getCurrentData,p.dateEnv)}},d.prototype.processRawViewOptions=function(c,p,v,w,M){var N=za([Ls,c.optionDefaults,v,w,c.optionOverrides,M]),V=(0,P.__assign)((0,P.__assign)((0,P.__assign)((0,P.__assign)((0,P.__assign)((0,P.__assign)({},yu),xd),Dl),Rd),p.listenerRefiners),p.optionRefiners),z={},ee=this.currentViewOptionsInput,Ne=this.currentViewOptionsRefined,He=!1,dt={};for(var mt in N)N[mt]===ee[mt]?z[mt]=Ne[mt]:(N[mt]===this.currentCalendarOptionsInput[mt]?mt in this.currentCalendarOptionsRefined&&(z[mt]=this.currentCalendarOptionsRefined[mt]):V[mt]?z[mt]=V[mt](N[mt]):dt[mt]=N[mt],He=!0);return He&&(this.currentViewOptionsInput=N,this.currentViewOptionsRefined=z),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:dt}},d}();function Wl(d,c,p,v,w,M,N,V){var z=Fd(c||N.defaultCode,N.map);return new _r({calendarSystem:"gregory",timeZone:d,namedTimeZoneImpl:M.namedTimeZonedImpl,locale:z,weekNumberCalculation:p,firstDay:v,weekText:w,cmdFormatter:M.cmdFormatter,defaultSeparator:V})}function Da(d,c){return new(c.themeClasses[d.themeSystem]||Ks)(d)}function Eg(d){return new(d.dateProfileGeneratorClass||Yo)(d)}function bg(d,c,p){return new bu(d,c,p)}function Xv(d){return ge(d,function(c){return c.ui})}function ql(d,c,p){var v={"":c};for(var w in d){var M=d[w];M.sourceId&&p[M.sourceId]&&(v[w]=p[M.sourceId])}return v}function jc(d){var c=d.options;return{eventUiSingleBase:Bs({display:c.eventDisplay,editable:c.editable,startEditable:c.eventStartEditable,durationEditable:c.eventDurationEditable,constraint:c.eventConstraint,overlap:"boolean"==typeof c.eventOverlap?c.eventOverlap:void 0,allow:c.eventAllow,backgroundColor:c.eventBackgroundColor,borderColor:c.eventBorderColor,textColor:c.eventTextColor,color:c.eventColor},d),selectionConfig:Bs({constraint:c.selectConstraint,overlap:"boolean"==typeof c.selectOverlap?c.selectOverlap:void 0,allow:c.selectAllow},d)}}function Zl(d,c){for(var p=0,v=c.pluginHooks.isLoadingFuncs;p<v.length;p++)if((0,v[p])(d))return!0;return!1}function qd(d){return $o(d.options.businessHours,d)}function Bu(d,c){for(var p in d)console.warn("Unknown option '"+p+"'"+(c?" for view '"+c+"'":""))}var qi=function(d){function c(p){var v=d.call(this,p)||this;return v.handleData=function(w){v.dataManager?v.setState(w):v.state=w},v.dataManager=new Do({optionOverrides:p.optionOverrides,calendarApi:p.calendarApi,onData:v.handleData}),v}return(0,P.__extends)(c,d),c.prototype.render=function(){return this.props.children(this.state)},c.prototype.componentDidUpdate=function(p){var v=this.props.optionOverrides;v!==p.optionOverrides&&this.dataManager.resetOptions(v)},c}(R);function Zd(d,c){return _t(d.eventStore,d.eventUiBases,d.dateProfile.activeRange,c?d.nextDayThreshold:null).fg}var _h=function d(c){this.timeZoneName=c},Gc=function(){function d(){this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}return d.prototype.addSegs=function(c){for(var p=[],v=0,w=c;v<w.length;v++)this.insertEntry(w[v],p);return p},d.prototype.insertEntry=function(c,p){var v=this.findInsertion(c);return this.isInsertionValid(v,c)?(this.insertEntryAt(c,v),1):this.handleInvalidInsertion(v,c,p)},d.prototype.isInsertionValid=function(c,p){return(-1===this.maxCoord||c.levelCoord+p.thickness<=this.maxCoord)&&(-1===this.maxStackCnt||c.stackCnt<this.maxStackCnt)},d.prototype.handleInvalidInsertion=function(c,p,v){return this.allowReslicing&&c.touchingEntry?this.splitEntry(p,c.touchingEntry,v):(v.push(p),0)},d.prototype.splitEntry=function(c,p,v){var w=0,M=[],N=c.span,V=p.span;return N.start<V.start&&(w+=this.insertEntry({index:c.index,thickness:c.thickness,span:{start:N.start,end:V.start}},M)),N.end>V.end&&(w+=this.insertEntry({index:c.index,thickness:c.thickness,span:{start:V.end,end:N.end}},M)),w?(v.push.apply(v,(0,P.__spreadArray)([{index:c.index,thickness:c.thickness,span:Sa(V,N)}],M)),w):(v.push(c),0)},d.prototype.insertEntryAt=function(c,p){var w=this.entriesByLevel;-1===p.lateral?($c(this.levelCoords,p.level,p.levelCoord),$c(w,p.level,[c])):$c(w[p.level],p.lateral,c),this.stackCnts[Kd(c)]=p.stackCnt},d.prototype.findInsertion=function(c){for(var p=this,v=p.levelCoords,w=p.entriesByLevel,M=p.strictOrder,N=p.stackCnts,V=v.length,z=0,ee=-1,Ne=-1,He=null,dt=0,mt=0;mt<V;mt+=1){var Tt=v[mt];if(!M&&Tt>=z+c.thickness)break;for(var Yt=w[mt],an=void 0,Nt=Kl(Yt,c.span.start,zc),rr=Nt[0]+Nt[1];(an=Yt[rr])&&an.span.start<c.span.end;){var Or=Tt+an.thickness;Or>z&&(z=Or,He=an,ee=mt,Ne=rr),Or===z&&(dt=Math.max(dt,N[Kd(an)]+1)),rr+=1}}var yr=0;if(He)for(yr=ee+1;yr<V&&v[yr]<z;)yr+=1;var di=-1;return yr<V&&v[yr]===z&&(di=Kl(w[yr],c.span.end,zc)[0]),{touchingLevel:ee,touchingLateral:Ne,touchingEntry:He,stackCnt:dt,levelCoord:z,level:yr,lateral:di}},d.prototype.toRects=function(){for(var p=this.entriesByLevel,v=this.levelCoords,w=p.length,M=[],N=0;N<w;N+=1)for(var z=v[N],ee=0,Ne=p[N];ee<Ne.length;ee++)M.push((0,P.__assign)((0,P.__assign)({},Ne[ee]),{levelCoord:z}));return M},d}();function zc(d){return d.span.end}function Kd(d){return d.index+":"+d.span.start}function ls(d){for(var c=[],p=0,v=d;p<v.length;p++){for(var w=v[p],M=[],N={span:w.span,entries:[w]},V=0,z=c;V<z.length;V++){var ee=z[V];Sa(ee.span,N.span)?N={entries:ee.entries.concat(N.entries),span:Ta(ee.span,N.span)}:M.push(ee)}M.push(N),c=M}return c}function Ta(d,c){return{start:Math.min(d.start,c.start),end:Math.max(d.end,c.end)}}function Sa(d,c){var p=Math.max(d.start,c.start),v=Math.min(d.end,c.end);return p<v?{start:p,end:v}:null}function $c(d,c,p){d.splice(c,0,p)}function Kl(d,c,p){var v=0,w=d.length;if(!w||c<p(d[v]))return[0,0];if(c>p(d[w-1]))return[w,0];for(;v<w;){var M=Math.floor(v+(w-v)/2),N=p(d[M]);if(c<N)w=M;else{if(!(c>N))return[M,1];v=M+1}}return[v,0]}var Uu=function(){function d(c){this.component=c.component,this.isHitComboAllowed=c.isHitComboAllowed||null}return d.prototype.destroy=function(){},d}();function Wc(d,c){return{component:d,el:c.el,useEventCenter:null==c.useEventCenter||c.useEventCenter,isHitComboAllowed:c.isHitComboAllowed||null}}function Qd(d){var c;return(c={})[d.component.uid]=d,c}var Ql={},Hu=function(){function d(c,p){this.emitter=new _a}return d.prototype.destroy=function(){},d.prototype.setMirrorIsVisible=function(c){},d.prototype.setMirrorNeedsRevert=function(c){},d.prototype.setAutoScrollEnabled=function(c){},d}(),Eh={},qc={startTime:Vt,duration:Vt,create:Boolean,sourceId:String};function bh(d){var c=Vi(d,qc),p=c.refined;return{startTime:p.startTime||null,duration:p.duration||null,create:null==p.create||p.create,sourceId:p.sourceId,leftoverProps:c.extra}}var Yd=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,P.__extends)(c,d),c.prototype.render=function(){var p=this,v=this.props.widgetGroups.map(function(w){return p.renderWidgetGroup(w)});return G.apply(void 0,(0,P.__spreadArray)(["div",{className:"fc-toolbar-chunk"}],v))},c.prototype.renderWidgetGroup=function(p){for(var v=this.props,w=this.context.theme,M=[],N=!0,V=0,z=p;V<z.length;V++){var ee=z[V],Ne=ee.buttonName,He=ee.buttonClick,dt=ee.buttonText,mt=ee.buttonIcon,Tt=ee.buttonHint;if("title"===Ne)N=!1,M.push(G("h2",{className:"fc-toolbar-title",id:v.titleId},v.title));else{var Yt=Ne===v.activeButton,an=!v.isTodayEnabled&&"today"===Ne||!v.isPrevEnabled&&"prev"===Ne||!v.isNextEnabled&&"next"===Ne,Nt=["fc-"+Ne+"-button",w.getClass("button")];Yt&&Nt.push(w.getClass("buttonActive")),M.push(G("button",{type:"button",title:"function"==typeof Tt?Tt(v.navUnit):Tt,disabled:an,"aria-pressed":Yt,className:Nt.join(" "),onClick:He},dt||(mt?G("span",{className:mt}):"")))}}if(M.length>1){var rr=N&&w.getClass("buttonGroup")||"";return G.apply(void 0,(0,P.__spreadArray)(["div",{className:rr}],M))}return M[0]},c}(lr),D=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,P.__extends)(c,d),c.prototype.render=function(){var N,V,p=this.props,M=!1,z=p.model.sectionWidgets,ee=z.center;return z.left?(M=!0,N=z.left):N=z.start,z.right?(M=!0,V=z.right):V=z.end,G("div",{className:[p.extraClassName||"","fc-toolbar",M?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",N||[]),this.renderSection("center",ee||[]),this.renderSection("end",V||[]))},c.prototype.renderSection=function(p,v){var w=this.props;return G(Yd,{key:p,widgetGroups:v,title:w.title,navUnit:w.navUnit,activeButton:w.activeButton,isTodayEnabled:w.isTodayEnabled,isPrevEnabled:w.isPrevEnabled,isNextEnabled:w.isNextEnabled,titleId:w.titleId})},c}(lr),_=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.state={availableWidth:null},p.handleEl=function(v){p.el=v,Gi(p.props.elRef,v),p.updateAvailableWidth()},p.handleResize=function(){p.updateAvailableWidth()},p}return(0,P.__extends)(c,d),c.prototype.render=function(){var v=this.props,w=this.state,M=v.aspectRatio,V="",z="";return M?null!==w.availableWidth?V=w.availableWidth/M:z=1/M*100+"%":V=v.height||"",G("div",{"aria-labelledby":v.labeledById,ref:this.handleEl,className:["fc-view-harness",M||v.liquid||v.height?"fc-view-harness-active":"fc-view-harness-passive"].join(" "),style:{height:V,paddingBottom:z}},v.children)},c.prototype.componentDidMount=function(){this.context.addResizeHandler(this.handleResize)},c.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleResize)},c.prototype.updateAvailableWidth=function(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})},c}(lr),b=function(d){function c(p){var v=d.call(this,p)||this;return v.handleSegClick=function(w,M){var N=v.component,V=N.context,z=ir(M);if(z&&N.isValidSegDownEl(w.target)){var ee=U(w.target,".fc-event-forced-url"),Ne=ee?ee.querySelector("a[href]").href:"";V.emitter.trigger("eventClick",{el:M,event:new Xr(N.context,z.eventRange.def,z.eventRange.instance),jsEvent:w,view:V.viewApi}),Ne&&!w.defaultPrevented&&(window.location.href=Ne)}},v.destroy=fe(p.el,"click",".fc-event",v.handleSegClick),v}return(0,P.__extends)(c,d),c}(Uu),I=function(d){function c(p){var v=d.call(this,p)||this;return v.handleEventElRemove=function(w){w===v.currentSegEl&&v.handleSegLeave(null,v.currentSegEl)},v.handleSegEnter=function(w,M){ir(M)&&(v.currentSegEl=M,v.triggerEvent("eventMouseEnter",w,M))},v.handleSegLeave=function(w,M){v.currentSegEl&&(v.currentSegEl=null,v.triggerEvent("eventMouseLeave",w,M))},v.removeHoverListeners=function Ie(d,c,p,v){var w;return fe(d,"mouseover",c,function(M,N){if(N!==w){w=N,p(M,N);var V=function(z){w=null,v(z,N),N.removeEventListener("mouseleave",V)};N.addEventListener("mouseleave",V)}})}(p.el,".fc-event",v.handleSegEnter,v.handleSegLeave),v}return(0,P.__extends)(c,d),c.prototype.destroy=function(){this.removeHoverListeners()},c.prototype.triggerEvent=function(p,v,w){var M=this.component,N=M.context,V=ir(w);(!v||M.isValidSegDownEl(v.target))&&N.emitter.trigger(p,{el:w,event:new Xr(N,V.eventRange.def,V.eventRange.instance),jsEvent:v,view:N.viewApi})},c}(Uu),H=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.buildViewContext=Bn(Tu),p.buildViewPropTransformers=Bn(Le),p.buildToolbarProps=Bn(Q),p.headerRef=Ce(),p.footerRef=Ce(),p.interactionsStore={},p.state={viewLabelId:vt()},p.registerInteractiveComponent=function(v,w){var M=Wc(v,w),z=[b,I].concat(p.props.pluginHooks.componentInteractions).map(function(ee){return new ee(M)});p.interactionsStore[v.uid]=z,Ql[v.uid]=M},p.unregisterInteractiveComponent=function(v){var w=p.interactionsStore[v.uid];if(w){for(var M=0,N=w;M<N.length;M++)N[M].destroy();delete p.interactionsStore[v.uid]}delete Ql[v.uid]},p.resizeRunner=new Hc(function(){p.props.emitter.trigger("_resize",!0),p.props.emitter.trigger("windowResize",{view:p.props.viewApi})}),p.handleWindowResize=function(v){var w=p.props.options;w.handleWindowResize&&v.target===window&&p.resizeRunner.request(w.windowResizeDelay)},p}return(0,P.__extends)(c,d),c.prototype.render=function(){var z,p=this.props,v=p.toolbarConfig,w=p.options,M=this.buildToolbarProps(p.viewSpec,p.dateProfile,p.dateProfileGenerator,p.currentDate,Qa(p.options.now,p.dateEnv),p.viewTitle),N=!1,V="";p.isHeightAuto||p.forPrint?V="":null!=w.height?N=!0:null!=w.contentHeight?V=w.contentHeight:z=Math.max(w.aspectRatio,.5);var ee=this.buildViewContext(p.viewSpec,p.viewApi,p.options,p.dateProfileGenerator,p.dateEnv,p.theme,p.pluginHooks,p.dispatch,p.getCurrentData,p.emitter,p.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),Ne=v.header&&v.header.hasTitle?this.state.viewLabelId:"";return G(ji.Provider,{value:ee},v.header&&G(D,(0,P.__assign)({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:v.header,titleId:Ne},M)),G(_,{liquid:N,height:V,aspectRatio:z,labeledById:Ne},this.renderView(p),this.buildAppendContent()),v.footer&&G(D,(0,P.__assign)({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:v.footer,titleId:""},M)))},c.prototype.componentDidMount=function(){var p=this.props;this.calendarInteractions=p.pluginHooks.calendarInteractions.map(function(M){return new M(p)}),window.addEventListener("resize",this.handleWindowResize);var v=p.pluginHooks.propSetHandlers;for(var w in v)v[w](p[w],p)},c.prototype.componentDidUpdate=function(p){var v=this.props,w=v.pluginHooks.propSetHandlers;for(var M in w)v[M]!==p[M]&&w[M](v[M],v)},c.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(var p=0,v=this.calendarInteractions;p<v.length;p++)v[p].destroy();this.props.emitter.trigger("_unmount")},c.prototype.buildAppendContent=function(){var p=this.props,v=p.pluginHooks.viewContainerAppends.map(function(w){return w(p)});return G.apply(void 0,(0,P.__spreadArray)([be,{}],v))},c.prototype.renderView=function(p){for(var w=p.viewSpec,M={dateProfile:p.dateProfile,businessHours:p.businessHours,eventStore:p.renderableEventStore,eventUiBases:p.eventUiBases,dateSelection:p.dateSelection,eventSelection:p.eventSelection,eventDrag:p.eventDrag,eventResize:p.eventResize,isHeightAuto:p.isHeightAuto,forPrint:p.forPrint},V=0,z=this.buildViewPropTransformers(p.pluginHooks.viewPropsTransformers);V<z.length;V++)(0,P.__assign)(M,z[V].transform(M,p));return G(w.component,(0,P.__assign)({},M))},c}(Ko);function Q(d,c,p,v,w,M){var N=p.build(w,void 0,!1),V=p.buildPrev(c,v,!1),z=p.buildNext(c,v,!1);return{title:M,activeButton:d.type,navUnit:d.singleUnit,isTodayEnabled:N.isValid&&!we(c.currentRange,w),isPrevEnabled:V.isValid,isNextEnabled:z.isValid}}function Le(d){return d.map(function(c){return new c})}var ht=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.state={forPrint:!1},p.handleBeforePrint=function(){p.setState({forPrint:!0})},p.handleAfterPrint=function(){p.setState({forPrint:!1})},p}return(0,P.__extends)(c,d),c.prototype.render=function(){var p=this.props,v=p.options,w=this.state.forPrint,M=w||"auto"===v.height||"auto"===v.contentHeight,N=M||null==v.height?"":v.height,V=["fc",w?"fc-media-print":"fc-media-screen","fc-direction-"+v.direction,p.theme.getClass("root")];return Ws()||V.push("fc-liquid-hack"),p.children(V,N,M,w)},c.prototype.componentDidMount=function(){var p=this.props.emitter;p.on("_beforeprint",this.handleBeforePrint),p.on("_afterprint",this.handleAfterPrint)},c.prototype.componentWillUnmount=function(){var p=this.props.emitter;p.off("_beforeprint",this.handleBeforePrint),p.off("_afterprint",this.handleAfterPrint)},c}(lr);function Wt(d,c){return Tr(!d||c>10?{weekday:"short"}:c>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"})}var nn="fc-col-header-cell";function Ln(d){return d.text}var gr=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,P.__extends)(c,d),c.prototype.render=function(){var p=this.context,v=p.dateEnv,w=p.options,M=p.theme,N=p.viewApi,V=this.props,z=V.date,Ne=Ll(z,V.todayRange,null,V.dateProfile),He=[nn].concat(go(Ne,M)),dt=v.format(z,V.dayHeaderFormat),mt=!Ne.isDisabled&&V.colCnt>1?_n(this.context,z):{},Tt=(0,P.__assign)((0,P.__assign)((0,P.__assign)({date:v.toDate(z),view:N},V.extraHookProps),{text:dt}),Ne);return G(yo,{hookProps:Tt,classNames:w.dayHeaderClassNames,content:w.dayHeaderContent,defaultContent:Ln,didMount:w.dayHeaderDidMount,willUnmount:w.dayHeaderWillUnmount},function(Yt,an,Nt,rr){return G("th",(0,P.__assign)({ref:Yt,role:"columnheader",className:He.concat(an).join(" "),"data-date":Ne.isDisabled?void 0:hr(z),colSpan:V.colSpan},V.extraDataAttrs),G("div",{className:"fc-scrollgrid-sync-inner"},!Ne.isDisabled&&G("a",(0,P.__assign)({ref:Nt,className:["fc-col-header-cell-cushion",V.isSticky?"fc-sticky":""].join(" ")},mt),rr)))})},c}(lr),Ti=Tr({weekday:"long"}),Ts=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,P.__extends)(c,d),c.prototype.render=function(){var p=this.props,v=this.context,w=v.dateEnv,M=v.theme,N=v.viewApi,V=v.options,z=Ze(new Date(2592e5),p.dow),ee={dow:p.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},Ne=[nn].concat(go(ee,M),p.extraClassNames||[]),He=w.format(z,p.dayHeaderFormat),dt=(0,P.__assign)((0,P.__assign)((0,P.__assign)((0,P.__assign)({date:z},ee),{view:N}),p.extraHookProps),{text:He});return G(yo,{hookProps:dt,classNames:V.dayHeaderClassNames,content:V.dayHeaderContent,defaultContent:Ln,didMount:V.dayHeaderDidMount,willUnmount:V.dayHeaderWillUnmount},function(mt,Tt,Yt,an){return G("th",(0,P.__assign)({ref:mt,role:"columnheader",className:Ne.concat(Tt).join(" "),colSpan:p.colSpan},p.extraDataAttrs),G("div",{className:"fc-scrollgrid-sync-inner"},G("a",{"aria-label":w.format(z,Ti),className:["fc-col-header-cell-cushion",p.isSticky?"fc-sticky":""].join(" "),ref:Yt},an)))})},c}(lr),Yl=function(d){function c(p,v){var w=d.call(this,p,v)||this;return w.initialNowDate=Qa(v.options.now,v.dateEnv),w.initialNowQueriedMs=(new Date).valueOf(),w.state=w.computeTiming().currentState,w}return(0,P.__extends)(c,d),c.prototype.render=function(){var w=this.state;return this.props.children(w.nowDate,w.todayRange)},c.prototype.componentDidMount=function(){this.setTimeout()},c.prototype.componentDidUpdate=function(p){p.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())},c.prototype.componentWillUnmount=function(){this.clearTimeout()},c.prototype.computeTiming=function(){var v=this.props,w=this.context,M=Ct(this.initialNowDate,(new Date).valueOf()-this.initialNowQueriedMs),N=w.dateEnv.startOf(M,v.unit),V=w.dateEnv.add(N,Vt(1,v.unit)),z=V.valueOf()-M.valueOf();return z=Math.min(864e5,z),{currentState:{nowDate:N,todayRange:Jd(N)},nextState:{nowDate:V,todayRange:Jd(V)},waitMs:z}},c.prototype.setTimeout=function(){var p=this,v=this.computeTiming(),w=v.nextState;this.timeoutId=setTimeout(function(){p.setState(w,function(){p.setTimeout()})},v.waitMs)},c.prototype.clearTimeout=function(){this.timeoutId&&clearTimeout(this.timeoutId)},c.contextType=ji,c}(R);function Jd(d){var c=ln(d);return{start:c,end:Ze(c,1)}}var Jl=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.createDayHeaderFormatter=Bn(ea),p}return(0,P.__extends)(c,d),c.prototype.render=function(){var v=this.props,w=v.dates,M=v.dateProfile,N=v.datesRepDistinctDays,V=v.renderIntro,z=this.createDayHeaderFormatter(this.context.options.dayHeaderFormat,N,w.length);return G(Yl,{unit:"day"},function(ee,Ne){return G("tr",{role:"row"},V&&V("day"),w.map(function(He){return N?G(gr,{key:He.toISOString(),date:He,dateProfile:M,todayRange:Ne,colCnt:w.length,dayHeaderFormat:z}):G(Ts,{key:He.getUTCDay(),dow:He.getUTCDay(),dayHeaderFormat:z})}))})},c}(lr);function ea(d,c,p){return d||Wt(c,p)}var Xd=function(){function d(c,p){for(var v=c.start,w=c.end,M=[],N=[],V=-1;v<w;)p.isHiddenDay(v)?M.push(V+.5):(M.push(V+=1),N.push(v)),v=Ze(v,1);this.dates=N,this.indices=M,this.cnt=N.length}return d.prototype.sliceRange=function(c){var p=this.getDateDayIndex(c.start),v=this.getDateDayIndex(Ze(c.end,-1)),w=Math.max(0,p),M=Math.min(this.cnt-1,v);return(w=Math.ceil(w))<=(M=Math.floor(M))?{firstIndex:w,lastIndex:M,isStart:p===w,isEnd:v===M}:null},d.prototype.getDateDayIndex=function(c){var p=this.indices,v=Math.floor(yt(this.dates[0],c));return v<0?p[0]-1:v>=p.length?p[p.length-1]+1:p[v]},d}(),ju=function(){function d(c,p){var w,M,N,v=c.dates;if(p){for(M=v[0].getUTCDay(),w=1;w<v.length&&v[w].getUTCDay()!==M;w+=1);N=Math.ceil(v.length/w)}else N=1,w=v.length;this.rowCnt=N,this.colCnt=w,this.daySeries=c,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}return d.prototype.buildCells=function(){for(var c=[],p=0;p<this.rowCnt;p+=1){for(var v=[],w=0;w<this.colCnt;w+=1)v.push(this.buildCell(p,w));c.push(v)}return c},d.prototype.buildCell=function(c,p){var v=this.daySeries.dates[c*this.colCnt+p];return{key:v.toISOString(),date:v}},d.prototype.buildHeaderDates=function(){for(var c=[],p=0;p<this.colCnt;p+=1)c.push(this.cells[0][p].date);return c},d.prototype.sliceRange=function(c){var p=this.colCnt,v=this.daySeries.sliceRange(c),w=[];if(v)for(var M=v.firstIndex,N=v.lastIndex,V=M;V<=N;){var z=Math.floor(V/p),ee=Math.min((z+1)*p,N+1);w.push({row:z,firstCol:V%p,lastCol:(ee-1)%p,isStart:v.isStart&&V===M,isEnd:v.isEnd&&ee-1===N}),V=ee}return w},d}(),ef=function(){function d(){this.sliceBusinessHours=Bn(this._sliceBusinessHours),this.sliceDateSelection=Bn(this._sliceDateSpan),this.sliceEventStore=Bn(this._sliceEventStore),this.sliceEventDrag=Bn(this._sliceInteraction),this.sliceEventResize=Bn(this._sliceInteraction),this.forceDayIfListItem=!1}return d.prototype.sliceProps=function(c,p,v,w){for(var M=[],N=4;N<arguments.length;N++)M[N-4]=arguments[N];var V=c.eventUiBases,z=this.sliceEventStore.apply(this,(0,P.__spreadArray)([c.eventStore,V,p,v],M));return{dateSelectionSegs:this.sliceDateSelection.apply(this,(0,P.__spreadArray)([c.dateSelection,V,w],M)),businessHourSegs:this.sliceBusinessHours.apply(this,(0,P.__spreadArray)([c.businessHours,p,v,w],M)),fgEventSegs:z.fg,bgEventSegs:z.bg,eventDrag:this.sliceEventDrag.apply(this,(0,P.__spreadArray)([c.eventDrag,V,p,v],M)),eventResize:this.sliceEventResize.apply(this,(0,P.__spreadArray)([c.eventResize,V,p,v],M)),eventSelection:c.eventSelection}},d.prototype.sliceNowDate=function(c,p){for(var v=[],w=2;w<arguments.length;w++)v[w-2]=arguments[w];return this._sliceDateSpan.apply(this,(0,P.__spreadArray)([{range:{start:c,end:Ct(c,1)},allDay:!1},{},p],v))},d.prototype._sliceBusinessHours=function(c,p,v,w){for(var M=[],N=4;N<arguments.length;N++)M[N-4]=arguments[N];return c?this._sliceEventStore.apply(this,(0,P.__spreadArray)([At(c,al(p,Boolean(v)),w),{},p,v],M)).bg:[]},d.prototype._sliceEventStore=function(c,p,v,w){for(var M=[],N=4;N<arguments.length;N++)M[N-4]=arguments[N];if(c){var V=_t(c,p,al(v,Boolean(w)),w);return{bg:this.sliceEventRanges(V.bg,M),fg:this.sliceEventRanges(V.fg,M)}}return{bg:[],fg:[]}},d.prototype._sliceInteraction=function(c,p,v,w){for(var M=[],N=4;N<arguments.length;N++)M[N-4]=arguments[N];if(!c)return null;var V=_t(c.mutatedEvents,p,al(v,Boolean(w)),w);return{segs:this.sliceEventRanges(V.fg,M),affectedInstances:c.affectedEvents.instances,isEvent:c.isEvent}},d.prototype._sliceDateSpan=function(c,p,v){for(var w=[],M=3;M<arguments.length;M++)w[M-3]=arguments[M];if(!c)return[];for(var N=Za(c,p,v),V=this.sliceRange.apply(this,(0,P.__spreadArray)([c.range],w)),z=0,ee=V;z<ee.length;z++){var Ne=ee[z];Ne.eventRange=N}return V},d.prototype.sliceEventRanges=function(c,p){for(var v=[],w=0,M=c;w<M.length;w++)v.push.apply(v,this.sliceEventRange(M[w],p));return v},d.prototype.sliceEventRange=function(c,p){var v=c.range;this.forceDayIfListItem&&"list-item"===c.ui.display&&(v={start:v.start,end:Ze(v.start,1)});for(var w=this.sliceRange.apply(this,(0,P.__spreadArray)([v],p)),M=0,N=w;M<N.length;M++){var V=N[M];V.eventRange=c,V.isStart=c.isStart&&V.isStart,V.isEnd=c.isEnd&&V.isEnd}return w},d}();function al(d,c){var p=d.activeRange;return c?p:{start:Ct(p.start,d.slotMinTime.milliseconds),end:Ct(p.end,d.slotMaxTime.milliseconds-864e5)}}function ll(d,c,p){var v=d.mutatedEvents.instances;for(var w in v)if(!Z(c.validRange,v[w].range))return!1;return ul({eventDrag:d},p)}function Zc(d,c,p){return!!Z(c.validRange,d.range)&&ul({dateSelection:d},p)}function ul(d,c){var p=c.getCurrentData(),v=(0,P.__assign)({businessHours:p.businessHours,dateSelection:"",eventStore:p.eventStore,eventUiBases:p.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},d);return(c.pluginHooks.isPropsValid||Xl)(v,c)}function Xl(d,c,p,v){return void 0===p&&(p={}),!(d.eventDrag&&!function Pr(d,c,p,v){var w=c.getCurrentData(),M=d.eventDrag,N=M.mutatedEvents,V=N.defs,z=N.instances,ee=Ut(V,M.isEvent?d.eventUiBases:{"":w.selectionConfig});v&&(ee=ge(ee,v));var Ne=function Nu(d,c){return{defs:d.defs,instances:ae(d.instances,function(p){return!c[p.instanceId]})}}(d.eventStore,M.affectedEvents.instances),He=Ne.defs,dt=Ne.instances,mt=Ut(He,d.eventUiBases);for(var Tt in z){var Yt=z[Tt],an=Yt.range,Nt=ee[Yt.defId],rr=V[Yt.defId];if(!Ag(Nt.constraints,an,Ne,d.businessHours,c))return!1;var Or=c.options.eventOverlap,yr="function"==typeof Or?Or:null;for(var di in dt){var qr=dt[di];if(K(an,qr.range)&&(!1===mt[qr.defId].overlap&&M.isEvent||!1===Nt.overlap||yr&&!yr(new Xr(c,He[qr.defId],qr),new Xr(c,rr,Yt))))return!1}for(var Ki=w.eventStore,So=0,eo=Nt.allows;So<eo.length;So++){var Wu,of=eo[So],$u=(0,P.__assign)((0,P.__assign)({},p),{range:Yt.range,allDay:rr.allDay}),Ia=Ki.defs[rr.defId];if(Wu=Ia?new Xr(c,Ia,Ki.instances[Tt]):new Xr(c,rr),!of(Eu($u,c),Wu))return!1}}return!0}(d,c,p,v)||d.dateSelection&&!function Ah(d,c,p,v){var w=d.eventStore,M=w.defs,N=w.instances,V=d.dateSelection,z=V.range,ee=c.getCurrentData().selectionConfig;if(v&&(ee=v(ee)),!Ag(ee.constraints,z,w,d.businessHours,c))return!1;var Ne=c.options.selectOverlap,He="function"==typeof Ne?Ne:null;for(var dt in N){var mt=N[dt];if(K(z,mt.range)&&(!1===ee.overlap||He&&!He(new Xr(c,M[mt.defId],mt),null)))return!1}for(var Tt=0,Yt=ee.allows;Tt<Yt.length;Tt++)if(!(0,Yt[Tt])(Eu((0,P.__assign)((0,P.__assign)({},p),V),c),null))return!1;return!0}(d,c,p,v))}function Ag(d,c,p,v,w){for(var M=0,N=d;M<N.length;M++)if(!wg(tf(N[M],c,p,v,w),c))return!1;return!0}function tf(d,c,p,v,w){return"businessHours"===d?nf(At(v,c,w)):"string"==typeof d?nf(ha(p,function(M){return M.groupId===d})):"object"==typeof d&&d?nf(At(d,c,w)):[]}function nf(d){var c=d.instances,p=[];for(var v in c)p.push(c[v].range);return p}function wg(d,c){for(var p=0,v=d;p<v.length;p++)if(Z(v[p],c))return!0;return!1}var rf=/^(visible|hidden)$/,wh=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.handleEl=function(v){p.el=v,Gi(p.props.elRef,v)},p}return(0,P.__extends)(c,d),c.prototype.render=function(){var p=this.props,v=p.liquid,w=p.liquidIsAbsolute,M=v&&w,N=["fc-scroller"];return v&&N.push(w?"fc-scroller-liquid-absolute":"fc-scroller-liquid"),G("div",{ref:this.handleEl,className:N.join(" "),style:{overflowX:p.overflowX,overflowY:p.overflowY,left:M&&-(p.overcomeLeft||0)||"",right:M&&-(p.overcomeRight||0)||"",bottom:M&&-(p.overcomeBottom||0)||"",marginLeft:!M&&-(p.overcomeLeft||0)||"",marginRight:!M&&-(p.overcomeRight||0)||"",marginBottom:!M&&-(p.overcomeBottom||0)||"",maxHeight:p.maxHeight||""}},p.children)},c.prototype.needsXScrolling=function(){if(rf.test(this.props.overflowX))return!1;for(var p=this.el,v=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),w=p.children,M=0;M<w.length;M+=1)if(w[M].getBoundingClientRect().width>v)return!0;return!1},c.prototype.needsYScrolling=function(){if(rf.test(this.props.overflowY))return!1;for(var p=this.el,v=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),w=p.children,M=0;M<w.length;M+=1)if(w[M].getBoundingClientRect().height>v)return!0;return!1},c.prototype.getXScrollbarWidth=function(){return rf.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight},c.prototype.getYScrollbarWidth=function(){return rf.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth},c}(lr),Cg=function(){function d(c){var p=this;this.masterCallback=c,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=function(v,w){var N=p.depths,V=p.currentMap,z=!1,ee=!1;null!==v?(z=w in V,V[w]=v,N[w]=(N[w]||0)+1,ee=!0):(N[w]-=1,N[w]||(delete V[w],delete p.callbackMap[w],z=!0)),p.masterCallback&&(z&&p.masterCallback(null,String(w)),ee&&p.masterCallback(v,String(w)))}}return d.prototype.createRef=function(c){var p=this,v=this.callbackMap[c];return v||(v=this.callbackMap[c]=function(w){p.handleValue(w,String(c))}),v},d.prototype.collect=function(c,p,v){return he(this.currentMap,c,p,v)},d.prototype.getAll=function(){return pt(this.currentMap)},d}();function ey(d){for(var p=0,v=0,w=me(d,".fc-scrollgrid-shrink");v<w.length;v++)p=Math.max(p,on(w[v]));return Math.ceil(p)}function ty(d,c){return d.liquid&&c.liquid}function ny(d,c){return null!=c.maxHeight||ty(d,c)}function Gu(d,c,p,v){var w=p.expandRows;return"function"==typeof c.content?c.content(p):G("table",{role:"presentation",className:[c.tableClassName,d.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:p.tableMinWidth,width:p.clientWidth,height:w?p.clientHeight:""}},p.tableColGroupNode,G(v?"thead":"tbody",{role:"presentation"},"function"==typeof c.rowContent?c.rowContent(p):c.rowContent))}function Zi(d,c){return pi(d,c,ut)}function Ch(d,c){for(var p=[],v=0,w=d;v<w.length;v++)for(var M=w[v],N=M.span||1,V=0;V<N;V+=1)p.push(G("col",{style:{width:"shrink"===M.width?Dg(c):M.width||"",minWidth:M.minWidth||""}}));return G.apply(void 0,(0,P.__spreadArray)(["colgroup",{}],p))}function Dg(d){return null==d?4:d}function Tg(d){for(var c=0,p=d;c<p.length;c++)if("shrink"===p[c].width)return!0;return!1}function ci(d,c){var p=["fc-scrollgrid",c.theme.getClass("table")];return d&&p.push("fc-scrollgrid-liquid"),p}function zu(d,c){var p=["fc-scrollgrid-section","fc-scrollgrid-section-"+d.type,d.className];return c&&d.liquid&&null==d.maxHeight&&p.push("fc-scrollgrid-section-liquid"),d.isSticky&&p.push("fc-scrollgrid-section-sticky"),p}function To(d){return G("div",{className:"fc-scrollgrid-sticky-shim",style:{width:d.clientWidth,minWidth:d.tableMinWidth}})}function ry(d){var c=d.stickyHeaderDates;return(null==c||"auto"===c)&&(c="auto"===d.height||"auto"===d.viewHeight),c}function Sg(d){var c=d.stickyFooterScrollbar;return(null==c||"auto"===c)&&(c="auto"===d.height||"auto"===d.viewHeight),c}var Ig=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.processCols=Bn(function(v){return v},Zi),p.renderMicroColGroup=Bn(Ch),p.scrollerRefs=new Cg,p.scrollerElRefs=new Cg(p._handleScrollerEl.bind(p)),p.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},p.handleSizing=function(){p.setState((0,P.__assign)({shrinkWidth:p.computeShrinkWidth()},p.computeScrollerDims()))},p}return(0,P.__extends)(c,d),c.prototype.render=function(){var p=this,v=p.props,w=p.state,M=p.context,N=v.sections||[],V=this.processCols(v.cols),z=this.renderMicroColGroup(V,w.shrinkWidth),ee=ci(v.liquid,M);v.collapsibleWidth&&ee.push("fc-scrollgrid-collapsible");for(var dt,Ne=N.length,He=0,mt=[],Tt=[],Yt=[];He<Ne&&"header"===(dt=N[He]).type;)mt.push(this.renderSection(dt,z,!0)),He+=1;for(;He<Ne&&"body"===(dt=N[He]).type;)Tt.push(this.renderSection(dt,z,!1)),He+=1;for(;He<Ne&&"footer"===(dt=N[He]).type;)Yt.push(this.renderSection(dt,z,!0)),He+=1;var an=!Ws(),Nt={role:"rowgroup"};return G("table",{role:"grid",className:ee.join(" "),style:{height:v.height}},Boolean(!an&&mt.length)&&G.apply(void 0,(0,P.__spreadArray)(["thead",Nt],mt)),Boolean(!an&&Tt.length)&&G.apply(void 0,(0,P.__spreadArray)(["tbody",Nt],Tt)),Boolean(!an&&Yt.length)&&G.apply(void 0,(0,P.__spreadArray)(["tfoot",Nt],Yt)),an&&G.apply(void 0,(0,P.__spreadArray)((0,P.__spreadArray)((0,P.__spreadArray)(["tbody",Nt],mt),Tt),Yt)))},c.prototype.renderSection=function(p,v,w){return"outerContent"in p?G(be,{key:p.key},p.outerContent):G("tr",{key:p.key,role:"presentation",className:zu(p,this.props.liquid).join(" ")},this.renderChunkTd(p,v,p.chunk,w))},c.prototype.renderChunkTd=function(p,v,w,M){if("outerContent"in w)return w.outerContent;var N=this.props,V=this.state,z=V.forceYScrollbars,ee=V.scrollerClientWidths,Ne=V.scrollerClientHeights,He=ny(N,p),dt=ty(N,p),mt=N.liquid?z?"scroll":He?"auto":"hidden":"visible",Tt=p.key,Yt=Gu(p,w,{tableColGroupNode:v,tableMinWidth:"",clientWidth:N.collapsibleWidth||void 0===ee[Tt]?null:ee[Tt],clientHeight:void 0!==Ne[Tt]?Ne[Tt]:null,expandRows:p.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:function(){}},M);return G(M?"th":"td",{ref:w.elRef,role:"presentation"},G("div",{className:"fc-scroller-harness"+(dt?" fc-scroller-harness-liquid":"")},G(wh,{ref:this.scrollerRefs.createRef(Tt),elRef:this.scrollerElRefs.createRef(Tt),overflowY:mt,overflowX:N.liquid?"hidden":"visible",maxHeight:p.maxHeight,liquid:dt,liquidIsAbsolute:!0},Yt)))},c.prototype._handleScrollerEl=function(p,v){var w=function Mg(d,c){for(var p=0,v=d;p<v.length;p++){var w=v[p];if(w.key===c)return w}return null}(this.props.sections,v);w&&Gi(w.chunk.scrollerElRef,p)},c.prototype.componentDidMount=function(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)},c.prototype.componentDidUpdate=function(){this.handleSizing()},c.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleSizing)},c.prototype.computeShrinkWidth=function(){return Tg(this.props.cols)?ey(this.scrollerElRefs.getAll()):0},c.prototype.computeScrollerDims=function(){var p=Tc(),w=this.scrollerRefs,M=this.scrollerElRefs,N=!1,V={},z={};for(var ee in w.currentMap){var Ne=w.currentMap[ee];if(Ne&&Ne.needsYScrolling()){N=!0;break}}for(var He=0,dt=this.props.sections;He<dt.length;He++){var Tt=M.currentMap[ee=dt[He].key];if(Tt){var Yt=Tt.parentNode;V[ee]=Math.floor(Yt.getBoundingClientRect().width-(N?p.y:0)),z[ee]=Math.floor(Yt.getBoundingClientRect().height)}}return{forceYScrollbars:N,scrollerClientWidths:V,scrollerClientHeights:z}},c}(lr);Ig.addStateEquality({scrollerClientWidths:ut,scrollerClientHeights:ut});var cl=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.elRef=Ce(),p}return(0,P.__extends)(c,d),c.prototype.render=function(){var v=this.props,w=this.context,M=w.options,N=v.seg,V=N.eventRange,z=V.ui,ee={event:new Xr(w,V.def,V.instance),view:w.viewApi,timeText:v.timeText,textColor:z.textColor,backgroundColor:z.backgroundColor,borderColor:z.borderColor,isDraggable:!v.disableDragging&&ss(N,w),isStartResizable:!v.disableResizing&&os(N,w),isEndResizable:!v.disableResizing&&ho(N),isMirror:Boolean(v.isDragging||v.isResizing||v.isDateSelecting),isStart:Boolean(N.isStart),isEnd:Boolean(N.isEnd),isPast:Boolean(v.isPast),isFuture:Boolean(v.isFuture),isToday:Boolean(v.isToday),isSelected:Boolean(v.isSelected),isDragging:Boolean(v.isDragging),isResizing:Boolean(v.isResizing)},Ne=In(ee).concat(z.classNames);return G(yo,{hookProps:ee,classNames:M.eventClassNames,content:M.eventContent,defaultContent:v.defaultContent,didMount:M.eventDidMount,willUnmount:M.eventWillUnmount,elRef:this.elRef},function(He,dt,mt,Tt){return v.children(He,Ne.concat(dt),mt,Tt,ee)})},c.prototype.componentDidMount=function(){cn(this.elRef.current,this.props.seg)},c.prototype.componentDidUpdate=function(p){var v=this.props.seg;v!==p.seg&&cn(this.elRef.current,v)},c}(lr),Dh=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,P.__extends)(c,d),c.prototype.render=function(){var v=this.props,w=this.context,M=v.seg,V=Wa(M,w.options.eventTimeFormat||v.defaultTimeFormat,w,v.defaultDisplayEventTime,v.defaultDisplayEventEnd);return G(cl,{seg:M,timeText:V,disableDragging:v.disableDragging,disableResizing:v.disableResizing,defaultContent:v.defaultContent||iy,isDragging:v.isDragging,isResizing:v.isResizing,isDateSelecting:v.isDateSelecting,isSelected:v.isSelected,isPast:v.isPast,isFuture:v.isFuture,isToday:v.isToday},function(z,ee,Ne,He,dt){return G("a",(0,P.__assign)({className:v.extraClassNames.concat(ee).join(" "),style:{borderColor:dt.borderColor,backgroundColor:dt.backgroundColor},ref:z},pr(M,w)),G("div",{className:"fc-event-main",ref:Ne,style:{color:dt.textColor}},He),dt.isStartResizable&&G("div",{className:"fc-event-resizer fc-event-resizer-start"}),dt.isEndResizable&&G("div",{className:"fc-event-resizer fc-event-resizer-end"}))})},c}(lr);function iy(d){return G("div",{className:"fc-event-main-frame"},d.timeText&&G("div",{className:"fc-event-time"},d.timeText),G("div",{className:"fc-event-title-container"},G("div",{className:"fc-event-title fc-sticky"},d.event.title||G(be,null,"\xa0"))))}var xg=function(d){return G(ji.Consumer,null,function(c){var p=c.options,v={isAxis:d.isAxis,date:c.dateEnv.toDate(d.date),view:c.viewApi};return G(yo,{hookProps:v,classNames:p.nowIndicatorClassNames,content:p.nowIndicatorContent,didMount:p.nowIndicatorDidMount,willUnmount:p.nowIndicatorWillUnmount},d.children)})},EE=Tr({day:"numeric"}),Th=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,P.__extends)(c,d),c.prototype.render=function(){var v=this.props,w=this.context,M=w.options,N=sy({date:v.date,dateProfile:v.dateProfile,todayRange:v.todayRange,showDayNumber:v.showDayNumber,extraProps:v.extraHookProps,viewApi:w.viewApi,dateEnv:w.dateEnv});return G(Mu,{hookProps:N,content:M.dayCellContent,defaultContent:v.defaultContent},v.children)},c}(lr);function sy(d){var c=d.date,p=d.dateEnv,v=Ll(c,d.todayRange,null,d.dateProfile);return(0,P.__assign)((0,P.__assign)((0,P.__assign)({date:p.toDate(c),view:d.viewApi},v),{dayNumberText:d.showDayNumber?p.format(c,EE):""}),d.extraProps)}var oy=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.refineHookProps=ts(sy),p.normalizeClassNames=Rr(),p}return(0,P.__extends)(c,d),c.prototype.render=function(){var v=this.props,w=this.context,M=w.options,N=this.refineHookProps({date:v.date,dateProfile:v.dateProfile,todayRange:v.todayRange,showDayNumber:v.showDayNumber,extraProps:v.extraHookProps,viewApi:w.viewApi,dateEnv:w.dateEnv}),V=go(N,w.theme).concat(N.isDisabled?[]:this.normalizeClassNames(M.dayCellClassNames,N)),z=N.isDisabled?{}:{"data-date":hr(v.date)};return G(el,{hookProps:N,didMount:M.dayCellDidMount,willUnmount:M.dayCellWillUnmount,elRef:v.elRef},function(ee){return v.children(ee,V,z,N.isDisabled)})},c}(lr);function Rg(d){return G("div",{className:"fc-"+d})}var Ng=function(d){return G(cl,{defaultContent:Kc,seg:d.seg,timeText:"",disableDragging:!0,disableResizing:!0,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:d.isPast,isFuture:d.isFuture,isToday:d.isToday},function(c,p,v,w,M){return G("div",{ref:c,className:["fc-bg-event"].concat(p).join(" "),style:{backgroundColor:M.backgroundColor}},w)})};function Kc(d){return d.event.title&&G("div",{className:"fc-event-title"},d.event.title)}var Qc=function(d){return G(ji.Consumer,null,function(c){var p=c.dateEnv,v=c.options,w=d.date,M=v.weekNumberFormat||d.defaultFormat,N=p.computeWeekNumber(w),V=p.format(w,M);return G(yo,{hookProps:{num:N,text:V,date:w},classNames:v.weekNumberClassNames,content:v.weekNumberContent,defaultContent:Sh,didMount:v.weekNumberDidMount,willUnmount:v.weekNumberWillUnmount},d.children)})};function Sh(d){return d.text}var sf=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.state={titleId:vt()},p.handleRootEl=function(v){p.rootEl=v,p.props.elRef&&Gi(p.props.elRef,v)},p.handleDocumentMouseDown=function(v){var w=We(v);p.rootEl.contains(w)||p.handleCloseClick()},p.handleDocumentKeyDown=function(v){"Escape"===v.key&&p.handleCloseClick()},p.handleCloseClick=function(){var v=p.props.onClose;v&&v()},p}return(0,P.__extends)(c,d),c.prototype.render=function(){var p=this.context,v=p.theme,w=p.options,N=this.props,V=this.state,z=["fc-popover",v.getClass("popover")].concat(N.extraClassNames||[]);return De(G("div",(0,P.__assign)({id:N.id,className:z.join(" "),"aria-labelledby":V.titleId},N.extraAttrs,{ref:this.handleRootEl}),G("div",{className:"fc-popover-header "+v.getClass("popoverHeader")},G("span",{className:"fc-popover-title",id:V.titleId},N.title),G("span",{className:"fc-popover-close "+v.getIconClass("close"),title:w.closeHint,onClick:this.handleCloseClick})),G("div",{className:"fc-popover-body "+v.getClass("popoverContent")},N.children)),N.parentEl)},c.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()},c.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)},c.prototype.updateSize=function(){var p=this.context.isRtl,v=this.props,w=v.alignmentEl,M=v.alignGridTop,N=this.rootEl,V=function Cu(d){for(var c=Ds(d),p=d.getBoundingClientRect(),v=0,w=c;v<w.length;v++){var N=ch(p,w[v].getBoundingClientRect());if(!N)return null;p=N}return p}(w);if(V){var z=N.getBoundingClientRect(),ee=M?U(w,".fc-scrollgrid").getBoundingClientRect().top:V.top,Ne=p?V.right-z.width:V.left;ee=Math.max(ee,10),Ne=Math.min(Ne,document.documentElement.clientWidth-10-z.width),Ne=Math.max(Ne,10);var He=N.offsetParent.getBoundingClientRect();je(N,{top:ee-He.top,left:Ne-He.left})}},c}(lr),kg=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.handleRootEl=function(v){p.rootEl=v,v?p.context.registerInteractiveComponent(p,{el:v,useEventCenter:!1}):p.context.unregisterInteractiveComponent(p)},p}return(0,P.__extends)(c,d),c.prototype.render=function(){var p=this.context,M=this.props,N=M.startDate,V=M.todayRange,z=M.dateProfile,ee=p.dateEnv.format(N,p.options.dayPopoverFormat);return G(oy,{date:N,dateProfile:z,todayRange:V,elRef:this.handleRootEl},function(Ne,He,dt){return G(sf,{elRef:Ne,id:M.id,title:ee,extraClassNames:["fc-more-popover"].concat(He),extraAttrs:dt,parentEl:M.parentEl,alignmentEl:M.alignmentEl,alignGridTop:M.alignGridTop,onClose:M.onClose},G(Th,{date:N,dateProfile:z,todayRange:V},function(mt,Tt){return Tt&&G("div",{className:"fc-more-popover-misc",ref:mt},Tt)}),M.children)})},c.prototype.queryHit=function(p,v,w,M){var V=this.rootEl,z=this.props;return p>=0&&p<w&&v>=0&&v<M?{dateProfile:z.dateProfile,dateSpan:(0,P.__assign)({allDay:!0,range:{start:z.startDate,end:z.endDate}},z.extraDateSpan),dayEl:V,rect:{left:0,top:0,right:w,bottom:M},layer:1}:null},c}(Ul),ay=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.linkElRef=Ce(),p.state={isPopoverOpen:!1,popoverId:vt()},p.handleClick=function(v){var M=p.props,N=p.context,V=N.options.moreLinkClick,z=Og(M).start;function ee(Ne){var He=Ne.eventRange,Tt=He.range;return{event:new Xr(N,He.def,He.instance),start:N.dateEnv.toDate(Tt.start),end:N.dateEnv.toDate(Tt.end),isStart:Ne.isStart,isEnd:Ne.isEnd}}"function"==typeof V&&(V=V({date:z,allDay:Boolean(M.allDayDate),allSegs:M.allSegs.map(ee),hiddenSegs:M.hiddenSegs.map(ee),jsEvent:v,view:N.viewApi})),V&&"popover"!==V?"string"==typeof V&&N.calendarApi.zoomTo(z,V):p.setState({isPopoverOpen:!0})},p.handlePopoverClose=function(){p.setState({isPopoverOpen:!1})},p}return(0,P.__extends)(c,d),c.prototype.render=function(){var p=this,w=this.props,M=this.state;return G(ji.Consumer,null,function(N){var V=N.viewApi,z=N.options,ee=N.calendarApi,Ne=z.moreLinkText,He=w.moreCnt,dt=Og(w),mt="function"==typeof Ne?Ne.call(ee,He):"+"+He+" "+Ne,Tt=wt(z.moreLinkHint,[He],mt),Yt={num:He,shortText:"+"+He,text:mt,view:V};return G(be,null,Boolean(w.moreCnt)&&G(yo,{elRef:p.linkElRef,hookProps:Yt,classNames:z.moreLinkClassNames,content:z.moreLinkContent,defaultContent:w.defaultContent||Pg,didMount:z.moreLinkDidMount,willUnmount:z.moreLinkWillUnmount},function(an,Nt,rr,Or){return w.children(an,["fc-more-link"].concat(Nt),rr,Or,p.handleClick,Tt,M.isPopoverOpen,M.isPopoverOpen?M.popoverId:"")}),M.isPopoverOpen&&G(kg,{id:M.popoverId,startDate:dt.start,endDate:dt.end,dateProfile:w.dateProfile,todayRange:w.todayRange,extraDateSpan:w.extraDateSpan,parentEl:p.parentEl,alignmentEl:w.alignmentElRef.current,alignGridTop:w.alignGridTop,onClose:p.handlePopoverClose},w.popoverContent()))})},c.prototype.componentDidMount=function(){this.updateParentEl()},c.prototype.componentDidUpdate=function(){this.updateParentEl()},c.prototype.updateParentEl=function(){this.linkElRef.current&&(this.parentEl=U(this.linkElRef.current,".fc-view-harness"))},c}(lr);function Pg(d){return d.text}function Og(d){if(d.allDayDate)return{start:d.allDayDate,end:Ze(d.allDayDate,1)};var c=d.hiddenSegs;return{start:Fg(c),end:uy(c)}}function Fg(d){return d.reduce(ly).eventRange.range.start}function ly(d,c){return d.eventRange.range.start<c.eventRange.range.start?d:c}function uy(d){return d.reduce(cy).eventRange.range.end}function cy(d,c){return d.eventRange.range.end>c.eventRange.range.end?d:c}var dy="5.10.2"},688:(Pt,$e,$)=>{"use strict";var h=$(5e3);let P=null;function R(){return P}const be=new h.OlP("DocumentToken");let xe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function De(){return(0,h.LFG)(de)}()},providedIn:"platform"}),n})();const X=new h.OlP("Location Initialized");let de=(()=>{class n extends xe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){T()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){T()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function F(){return new de((0,h.LFG)(be))}()},providedIn:"platform"}),n})();function T(){return!!window.history.pushState}function U(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ie(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function me(n){return n&&"?"!==n[0]?"?"+n:n}let ce=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function oe(n){const e=(0,h.LFG)(be).location;return new Qe((0,h.LFG)(xe),e&&e.origin||"")}()},providedIn:"root"}),n})();const je=new h.OlP("appBaseHref");let Qe=(()=>{class n extends ce{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return U(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+me(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,l){const f=this.prepareExternalUrl(i+me(l));this._platformLocation.pushState(t,r,f)}replaceState(t,r,i,l){const f=this.prepareExternalUrl(i+me(l));this._platformLocation.replaceState(t,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(xe),h.LFG(je,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),We=(()=>{class n extends ce{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=U(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,l){let f=this.prepareExternalUrl(i+me(l));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(t,r,f)}replaceState(t,r,i,l){let f=this.prepareExternalUrl(i+me(l));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(xe),h.LFG(je,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Ye=(()=>{class n{constructor(t,r){this._subject=new h.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=ie(Te(i)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+me(r))}normalize(t){return n.stripTrailingSlash(function vt(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Te(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+me(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+me(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=me,n.joinWithSlash=U,n.stripTrailingSlash=ie,n.\u0275fac=function(t){return new(t||n)(h.LFG(ce),h.LFG(xe))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function ze(){return new Ye((0,h.LFG)(ce),(0,h.LFG)(xe))}()},providedIn:"root"}),n})();function Te(n){return n.replace(/\/index.html$/,"")}var Fe=(()=>((Fe=Fe||{})[Fe.Format=0]="Format",Fe[Fe.Standalone=1]="Standalone",Fe))(),Be=(()=>((Be=Be||{})[Be.Narrow=0]="Narrow",Be[Be.Abbreviated=1]="Abbreviated",Be[Be.Wide=2]="Wide",Be[Be.Short=3]="Short",Be))(),Xe=(()=>((Xe=Xe||{})[Xe.Short=0]="Short",Xe[Xe.Medium=1]="Medium",Xe[Xe.Long=2]="Long",Xe[Xe.Full=3]="Full",Xe))(),ke=(()=>((ke=ke||{})[ke.Decimal=0]="Decimal",ke[ke.Group=1]="Group",ke[ke.List=2]="List",ke[ke.PercentSign=3]="PercentSign",ke[ke.PlusSign=4]="PlusSign",ke[ke.MinusSign=5]="MinusSign",ke[ke.Exponential=6]="Exponential",ke[ke.SuperscriptingExponent=7]="SuperscriptingExponent",ke[ke.PerMille=8]="PerMille",ke[ke.Infinity=9]="Infinity",ke[ke.NaN=10]="NaN",ke[ke.TimeSeparator=11]="TimeSeparator",ke[ke.CurrencyDecimal=12]="CurrencyDecimal",ke[ke.CurrencyGroup=13]="CurrencyGroup",ke))();function Cn(n,e){return yt((0,h.cg1)(n)[h.wAp.DateFormat],e)}function Ae(n,e){return yt((0,h.cg1)(n)[h.wAp.TimeFormat],e)}function Ee(n,e){return yt((0,h.cg1)(n)[h.wAp.DateTimeFormat],e)}function Ve(n,e){const t=(0,h.cg1)(n),r=t[h.wAp.NumberSymbols][e];if(void 0===r){if(e===ke.CurrencyDecimal)return t[h.wAp.NumberSymbols][ke.Decimal];if(e===ke.CurrencyGroup)return t[h.wAp.NumberSymbols][ke.Group]}return r}function fn(n){if(!n[h.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[h.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function yt(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function Lt(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Dn=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Wn={},ln=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var un=(()=>((un=un||{})[un.Short=0]="Short",un[un.ShortGMT=1]="ShortGMT",un[un.Long=2]="Long",un[un.Extended=3]="Extended",un))(),qt=(()=>((qt=qt||{})[qt.FullYear=0]="FullYear",qt[qt.Month=1]="Month",qt[qt.Date=2]="Date",qt[qt.Hours=3]="Hours",qt[qt.Minutes=4]="Minutes",qt[qt.Seconds=5]="Seconds",qt[qt.FractionalSeconds=6]="FractionalSeconds",qt[qt.Day=7]="Day",qt))(),Rt=(()=>((Rt=Rt||{})[Rt.DayPeriods=0]="DayPeriods",Rt[Rt.Days=1]="Days",Rt[Rt.Months=2]="Months",Rt[Rt.Eras=3]="Eras",Rt))();function tr(n,e,t,r){let i=function et(n){if(jt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,l=1,f=1]=n.split("-").map(m=>+m);return Nr(i,l-1,f)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Dn))return function At(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,l=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const f=Number(n[4]||0)-t,m=Number(n[5]||0)-r,E=Number(n[6]||0),C=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return l.call(e,f,m,E,C),e}(r)}const e=new Date(n);if(!jt(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=yn(t,e)||e;let m,f=[];for(;e;){if(m=ln.exec(e),!m){f.push(e);break}{f=f.concat(m.slice(1));const k=f.pop();if(!k)break;e=k}}let E=i.getTimezoneOffset();r&&(E=Se(r,E),i=function he(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function pe(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(Se(e,i)-i))}(i,r,!0));let C="";return f.forEach(k=>{const O=function zt(n){if(ut[n])return ut[n];let e;switch(n){case"G":case"GG":case"GGG":e=B(Rt.Eras,Be.Abbreviated);break;case"GGGG":e=B(Rt.Eras,Be.Wide);break;case"GGGGG":e=B(Rt.Eras,Be.Narrow);break;case"y":e=ue(qt.FullYear,1,0,!1,!0);break;case"yy":e=ue(qt.FullYear,2,0,!0,!0);break;case"yyy":e=ue(qt.FullYear,3,0,!1,!0);break;case"yyyy":e=ue(qt.FullYear,4,0,!1,!0);break;case"Y":e=pt(1);break;case"YY":e=pt(2,!0);break;case"YYY":e=pt(3);break;case"YYYY":e=pt(4);break;case"M":case"L":e=ue(qt.Month,1,1);break;case"MM":case"LL":e=ue(qt.Month,2,1);break;case"MMM":e=B(Rt.Months,Be.Abbreviated);break;case"MMMM":e=B(Rt.Months,Be.Wide);break;case"MMMMM":e=B(Rt.Months,Be.Narrow);break;case"LLL":e=B(Rt.Months,Be.Abbreviated,Fe.Standalone);break;case"LLLL":e=B(Rt.Months,Be.Wide,Fe.Standalone);break;case"LLLLL":e=B(Rt.Months,Be.Narrow,Fe.Standalone);break;case"w":e=st(1);break;case"ww":e=st(2);break;case"W":e=st(1,!0);break;case"d":e=ue(qt.Date,1);break;case"dd":e=ue(qt.Date,2);break;case"c":case"cc":e=ue(qt.Day,1);break;case"ccc":e=B(Rt.Days,Be.Abbreviated,Fe.Standalone);break;case"cccc":e=B(Rt.Days,Be.Wide,Fe.Standalone);break;case"ccccc":e=B(Rt.Days,Be.Narrow,Fe.Standalone);break;case"cccccc":e=B(Rt.Days,Be.Short,Fe.Standalone);break;case"E":case"EE":case"EEE":e=B(Rt.Days,Be.Abbreviated);break;case"EEEE":e=B(Rt.Days,Be.Wide);break;case"EEEEE":e=B(Rt.Days,Be.Narrow);break;case"EEEEEE":e=B(Rt.Days,Be.Short);break;case"a":case"aa":case"aaa":e=B(Rt.DayPeriods,Be.Abbreviated);break;case"aaaa":e=B(Rt.DayPeriods,Be.Wide);break;case"aaaaa":e=B(Rt.DayPeriods,Be.Narrow);break;case"b":case"bb":case"bbb":e=B(Rt.DayPeriods,Be.Abbreviated,Fe.Standalone,!0);break;case"bbbb":e=B(Rt.DayPeriods,Be.Wide,Fe.Standalone,!0);break;case"bbbbb":e=B(Rt.DayPeriods,Be.Narrow,Fe.Standalone,!0);break;case"B":case"BB":case"BBB":e=B(Rt.DayPeriods,Be.Abbreviated,Fe.Format,!0);break;case"BBBB":e=B(Rt.DayPeriods,Be.Wide,Fe.Format,!0);break;case"BBBBB":e=B(Rt.DayPeriods,Be.Narrow,Fe.Format,!0);break;case"h":e=ue(qt.Hours,1,-12);break;case"hh":e=ue(qt.Hours,2,-12);break;case"H":e=ue(qt.Hours,1);break;case"HH":e=ue(qt.Hours,2);break;case"m":e=ue(qt.Minutes,1);break;case"mm":e=ue(qt.Minutes,2);break;case"s":e=ue(qt.Seconds,1);break;case"ss":e=ue(qt.Seconds,2);break;case"S":e=ue(qt.FractionalSeconds,1);break;case"SS":e=ue(qt.FractionalSeconds,2);break;case"SSS":e=ue(qt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=W(un.Short);break;case"ZZZZZ":e=W(un.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=W(un.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=W(un.Long);break;default:return null}return ut[n]=e,e}(k);C+=O?O(i,t,E):"''"===k?"'":k.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),C}function Nr(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function yn(n,e){const t=function Xt(n){return(0,h.cg1)(n)[h.wAp.LocaleId]}(n);if(Wn[t]=Wn[t]||{},Wn[t][e])return Wn[t][e];let r="";switch(e){case"shortDate":r=Cn(n,Xe.Short);break;case"mediumDate":r=Cn(n,Xe.Medium);break;case"longDate":r=Cn(n,Xe.Long);break;case"fullDate":r=Cn(n,Xe.Full);break;case"shortTime":r=Ae(n,Xe.Short);break;case"mediumTime":r=Ae(n,Xe.Medium);break;case"longTime":r=Ae(n,Xe.Long);break;case"fullTime":r=Ae(n,Xe.Full);break;case"short":const i=yn(n,"shortTime"),l=yn(n,"shortDate");r=wr(Ee(n,Xe.Short),[i,l]);break;case"medium":const f=yn(n,"mediumTime"),m=yn(n,"mediumDate");r=wr(Ee(n,Xe.Medium),[f,m]);break;case"long":const E=yn(n,"longTime"),C=yn(n,"longDate");r=wr(Ee(n,Xe.Long),[E,C]);break;case"full":const k=yn(n,"fullTime"),O=yn(n,"fullDate");r=wr(Ee(n,Xe.Full),[k,O])}return r&&(Wn[t][e]=r),r}function wr(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function nr(n,e,t="-",r,i){let l="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,l=t));let f=String(n);for(;f.length<e;)f="0"+f;return r&&(f=f.substr(f.length-e)),l+f}function ue(n,e,t=0,r=!1,i=!1){return function(l,f){let m=function ye(n,e){switch(n){case qt.FullYear:return e.getFullYear();case qt.Month:return e.getMonth();case qt.Date:return e.getDate();case qt.Hours:return e.getHours();case qt.Minutes:return e.getMinutes();case qt.Seconds:return e.getSeconds();case qt.FractionalSeconds:return e.getMilliseconds();case qt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,l);if((t>0||m>-t)&&(m+=t),n===qt.Hours)0===m&&-12===t&&(m=12);else if(n===qt.FractionalSeconds)return function Tn(n,e){return nr(n,3).substr(0,e)}(m,e);const E=Ve(f,ke.MinusSign);return nr(m,e,E,r,i)}}function B(n,e,t=Fe.Format,r=!1){return function(i,l){return function Y(n,e,t,r,i,l){switch(t){case Rt.Months:return function Gt(n,e,t){const r=(0,h.cg1)(n),l=yt([r[h.wAp.MonthsFormat],r[h.wAp.MonthsStandalone]],e);return yt(l,t)}(e,i,r)[n.getMonth()];case Rt.Days:return function xt(n,e,t){const r=(0,h.cg1)(n),l=yt([r[h.wAp.DaysFormat],r[h.wAp.DaysStandalone]],e);return yt(l,t)}(e,i,r)[n.getDay()];case Rt.DayPeriods:const f=n.getHours(),m=n.getMinutes();if(l){const C=function Ze(n){const e=(0,h.cg1)(n);return fn(e),(e[h.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?Lt(r):[Lt(r[0]),Lt(r[1])])}(e),k=function Ct(n,e,t){const r=(0,h.cg1)(n);fn(r);const l=yt([r[h.wAp.ExtraData][0],r[h.wAp.ExtraData][1]],e)||[];return yt(l,t)||[]}(e,i,r),O=C.findIndex(q=>{if(Array.isArray(q)){const[J,se]=q,Me=f>=J.hours&&m>=J.minutes,rt=f<se.hours||f===se.hours&&m<se.minutes;if(J.hours<se.hours){if(Me&&rt)return!0}else if(Me||rt)return!0}else if(q.hours===f&&q.minutes===m)return!0;return!1});if(-1!==O)return k[O]}return function Xn(n,e,t){const r=(0,h.cg1)(n),l=yt([r[h.wAp.DayPeriodsFormat],r[h.wAp.DayPeriodsStandalone]],e);return yt(l,t)}(e,i,r)[f<12?0:1];case Rt.Eras:return function qn(n,e){return yt((0,h.cg1)(n)[h.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,l,n,e,t,r)}}function W(n){return function(e,t,r){const i=-1*r,l=Ve(t,ke.MinusSign),f=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case un.Short:return(i>=0?"+":"")+nr(f,2,l)+nr(Math.abs(i%60),2,l);case un.ShortGMT:return"GMT"+(i>=0?"+":"")+nr(f,1,l);case un.Long:return"GMT"+(i>=0?"+":"")+nr(f,2,l)+":"+nr(Math.abs(i%60),2,l);case un.Extended:return 0===r?"Z":(i>=0?"+":"")+nr(f,2,l)+":"+nr(Math.abs(i%60),2,l);default:throw new Error(`Unknown zone width "${n}"`)}}}function Pe(n){return Nr(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function st(n,e=!1){return function(t,r){let i;if(e){const l=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,f=t.getDate();i=1+Math.floor((f+l)/7)}else{const l=Pe(t),f=function ge(n){const e=Nr(n,0,1).getDay();return Nr(n,0,1+(e<=4?4:11)-e)}(l.getFullYear()),m=l.getTime()-f.getTime();i=1+Math.round(m/6048e5)}return nr(i,n,Ve(r,ke.MinusSign))}}function pt(n,e=!1){return function(t,r){return nr(Pe(t).getFullYear(),n,Ve(r,ke.MinusSign),e)}}const ut={};function Se(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function jt(n){return n instanceof Date&&!isNaN(n.valueOf())}function ys(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(l)}return null}let Dr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Qn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ha("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ha("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Qn{constructor(){this.$implicit=null,this.ngIf=null}}function Ha(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}class vu{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Id{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const ns=new Id,Ga=new vu;let da=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,h.QGY)(t))return ns;if((0,h.F4k)(t))return Ga;throw function Mr(n,e){return new h.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.sBO,16))},n.\u0275pipe=h.Yjl({name:"async",type:n,pure:!1}),n})(),rs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function Hr(n){return"server"===n}let ga=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new jo((0,h.LFG)(be),window)}),n})();class jo{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function co(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const l=i.shadowRoot;if(l){const f=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(f)return f}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],i-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=is(this.window.history)||is(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function is(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class cr{}class ws extends class Ui extends class Ce{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ne(n){P||(P=n)}(new ws)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ma(){return Zn=Zn||document.querySelector("base"),Zn?Zn.getAttribute("href"):null}();return null==t?null:function fo(n){$a=$a||document.createElement("a"),$a.setAttribute("href",n);const e=$a.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Zn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ys(document.cookie,e)}}let $a,Zn=null;const Yr=new h.OlP("TRANSITION_ID"),va=[{provide:h.ip1,useFactory:function Us(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const r=R(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<i.length;l++)r.remove(i[l])})}},deps:[Yr,be,h.zs3],multi:!0}];class K{static init(){(0,h.VLi)(new K)}addToWindow(e){h.dqk.getAngularTestability=(r,i=!0)=>{const l=e.findTestabilityInTree(r,i);if(null==l)throw new Error("Could not find testability for element.");return l},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const i=h.dqk.getAllAngularTestabilities();let l=i.length,f=!1;const m=function(E){f=f||E,l--,0==l&&r(f)};i.forEach(function(E){E.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Z=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const we=new h.OlP("EventManagerPlugins");let Ge=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let l=0;l<i.length;l++){const f=i[l];if(f.supports(t))return this._eventNameToPlugin.set(t,f),f}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(we),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class _t{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=R().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let St=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),cn=(()=>{class n extends St{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(l=>{const f=this._doc.createElement("style");f.textContent=l,i.push(r.appendChild(f))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(ir),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ir))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function ir(n){R().remove(n)}const Ut={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},dr=/%COMP%/g;function ot(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ot(n,i,t):(i=i.replace(dr,n),t.push(i))}return t}function In(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let pr=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new qa(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case h.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new mc(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case h.ifc.ShadowDom:return new vc(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=ot(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ge),h.LFG(cn),h.LFG(h.AFp))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class qa{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ut[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const l=Ut[i];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Ut[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,i&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,In(r)):this.eventManager.addEventListener(e,t,In(r))}}class mc extends qa{constructor(e,t,r,i){super(e),this.component=r;const l=ot(i+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function ho(n){return"_ngcontent-%COMP%".replace(dr,n)}(i+"-"+r.id),this.hostAttr=function Wa(n){return"_nghost-%COMP%".replace(dr,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class vc extends qa{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=ot(i.id,i.styles,[]);for(let f=0;f<l.length;f++){const m=document.createElement("style");m.textContent=l[f],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let kd=(()=>{class n extends _t{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const yc=["alt","control","meta","shift"],Za={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Jr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Cs={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Eu=(()=>{class n extends _t{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const l=n.parseEventName(r),f=n.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,l.domEventName,f))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=n._normalizeKey(r.pop());let f="";if(yc.forEach(E=>{const C=r.indexOf(E);C>-1&&(r.splice(C,1),f+=E+".")}),f+=l,0!=r.length||0===l.length)return null;const m={};return m.domEventName=i,m.fullKey=f,m}static getEventFullKey(t){let r="",i=function js(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Jr.hasOwnProperty(e)&&(e=Jr[e]))}return Za[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),yc.forEach(l=>{l!=i&&Cs[l](t)&&(r+=l+".")}),r+=i,r}static eventCallback(t,r,i){return l=>{n.getEventFullKey(l)===t&&i.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const oh=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function Gs(){ws.makeCurrent(),K.init()},multi:!0},{provide:be,useFactory:function Pd(){return(0,h.RDi)(document),document},deps:[]}]),Ka=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function _c(){return new h.qLn},deps:[]},{provide:we,useClass:kd,multi:!0,deps:[be,h.R0b,h.Lbi]},{provide:we,useClass:Eu,multi:!0,deps:[be]},{provide:pr,useClass:pr,deps:[Ge,cn,h.AFp]},{provide:h.FYo,useExisting:pr},{provide:St,useExisting:cn},{provide:cn,useClass:cn,deps:[be]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b]},{provide:Ge,useClass:Ge,deps:[we,h.R0b]},{provide:cr,useClass:Z,deps:[]}];let xl=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:Yr,useExisting:h.AFp},va]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(n,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:Ka,imports:[rs,h.hGG]}),n})();"undefined"!=typeof window&&window;let po=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):h.LFG(Bd),r},providedIn:"root"}),n})(),Bd=(()=>{class n extends po{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case h.q3G.NONE:return r;case h.q3G.HTML:return(0,h.qzn)(r,"HTML")?(0,h.z3N)(r):(0,h.EiD)(this._doc,String(r)).toString();case h.q3G.STYLE:return(0,h.qzn)(r,"Style")?(0,h.z3N)(r):r;case h.q3G.SCRIPT:if((0,h.qzn)(r,"Script"))return(0,h.z3N)(r);throw new Error("unsafe value used in a script context");case h.q3G.URL:return(0,h.yhl)(r),(0,h.qzn)(r,"URL")?(0,h.z3N)(r):(0,h.mCW)(String(r));case h.q3G.RESOURCE_URL:if((0,h.qzn)(r,"ResourceURL"))return(0,h.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,h.JVY)(t)}bypassSecurityTrustStyle(t){return(0,h.L6k)(t)}bypassSecurityTrustScript(t){return(0,h.eBb)(t)}bypassSecurityTrustUrl(t){return(0,h.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,h.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Au(n){return new Bd(n.get(be))}(h.LFG(h.zs3)),r},providedIn:"root"}),n})();var Sr=$(8996),Ws=$(8306);const{isArray:Ol}=Array,{getPrototypeOf:wc,prototype:Fl,keys:wu}=Object;function Ll(n){if(1===n.length){const e=n[0];if(Ol(e))return{args:e,keys:null};if(function go(n){return n&&"object"==typeof n&&wc(n)===Fl}(e)){const t=wu(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var mo=$(8421),Er=$(7669),jr=$(5403),_n=$(4004);const{isArray:Xa}=Array;function Dc(n){return(0,_n.U)(e=>function Cc(n,e){return Xa(e)?n(...e):n(e)}(n,e))}function Vl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let Ud=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),vi=(()=>{class n extends Ud{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const Ci=new h.OlP("NgValueAccessor"),ya={provide:Ci,useExisting:(0,h.Gpc)(()=>qs),multi:!0};let qs=(()=>{class n extends vi{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&h.NdJ("change",function(l){return r.onChange(l.target.checked)})("blur",function(){return r.onTouched()})},features:[h._Bn([ya]),h.qOj]}),n})();const Cu={provide:Ci,useExisting:(0,h.Gpc)(()=>Ds),multi:!0},Ic=new h.OlP("CompositionEventMode");let Ds=(()=>{class n extends Ud{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Sc(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Ic,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[h._Bn([Cu]),h.qOj]}),n})();const ei=new h.OlP("NgValidators"),Wo=new h.OlP("NgAsyncValidators");function Ea(n){return null!=n}function Gi(n){const e=(0,h.QGY)(n)?(0,Sr.D)(n):n;return(0,h.CqO)(e),e}function Ul(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function zi(n,e){return e.map(t=>t(n))}function Su(n){return n.map(e=>function mg(n){return!n.validate}(e)?e:t=>e.validate(t))}function Ks(n){return null!=n?function xr(n){if(!n)return null;const e=n.filter(Ea);return 0==e.length?null:function(t){return Ul(zi(t,e))}}(Su(n)):null}function Iu(n){return null!=n?function dh(n){if(!n)return null;const e=n.filter(Ea);return 0==e.length?null:function(t){return function Tc(...n){const e=(0,Er.jO)(n),{args:t,keys:r}=Ll(n),i=new Ws.y(l=>{const{length:f}=t;if(!f)return void l.complete();const m=new Array(f);let E=f,C=f;for(let k=0;k<f;k++){let O=!1;(0,mo.Xf)(t[k]).subscribe((0,jr.x)(l,q=>{O||(O=!0,C--),m[k]=q},()=>E--,void 0,()=>{(!E||!O)&&(C||l.next(r?Vl(r,m):m),l.complete())}))}});return e?i.pipe(Dc(e)):i}(zi(t,e).map(Gi)).pipe((0,_n.U)(Ul))}}(Su(n)):null}function fh(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Mu(n){return n?Array.isArray(n)?n:[n]:[]}function Qo(n,e){return Array.isArray(n)?n.includes(e):n===e}function el(n,e){const t=Mu(e);return Mu(n).forEach(i=>{Qo(t,i)||t.push(i)}),t}function Rr(n,e){return Mu(e).filter(t=>!Qo(n,t))}class ba{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ks(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Iu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class $i extends ba{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ti extends ba{get formDirective(){return null}get path(){return null}}let _o=(()=>{class n extends class Rc{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36($i,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[h.qOj]}),n})();function Aa(n,e){(function Eo(n,e){const t=function yo(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(fh(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Hd(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(fh(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Jo(e._rawValidators,i),Jo(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),function wa(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Lc(n,e)})}(n,e),function Vc(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function ph(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Lc(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function _g(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Jo(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Lc(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Bc(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Js="VALID",Xs="INVALID",Ao="PENDING",wo="DISABLED";function Gl(n){return(sl(n)?n.validators:n)||null}function zl(n){return Array.isArray(n)?Ks(n):n||null}function il(n,e){return(sl(e)?e.asyncValidators:n)||null}function Fu(n){return Array.isArray(n)?Iu(n):n||null}function sl(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Co=n=>n instanceof ol;function Lu(n){return(n=>n instanceof Hc)(n)?n.value:n.getRawValue()}function Wd(n,e){const t=Co(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new h.vHH(1e3,"");if(!r[e])throw new h.vHH(1001,"")}function Uc(n,e){Co(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new h.vHH(1002,"")})}class Vu{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=zl(this._rawValidators),this._composedAsyncValidatorFn=Fu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Js}get invalid(){return this.status===Xs}get pending(){return this.status==Ao}get disabled(){return this.status===wo}get enabled(){return this.status!==wo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=zl(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Fu(e)}addValidators(e){this.setValidators(el(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(el(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Rr(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Rr(e,this._rawAsyncValidators))}hasValidator(e){return Qo(this._rawValidators,e)}hasAsyncValidator(e){return Qo(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ao,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=wo,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Js,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Js||this.status===Ao)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wo:Js}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ao,this._hasOwnPendingAsyncValidator=!0;const t=Gi(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function zd(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=Co(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof vh)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?wo:this.errors?Xs:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ao)?Ao:this._anyControlsHaveStatus(Xs)?Xs:Js}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){sl(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Hc extends Vu{constructor(e=null,t,r){super(Gl(t),il(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),sl(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Bc(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Bc(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class ol extends Vu{constructor(e,t,r){super(Gl(t),il(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Uc(this,e),Object.keys(e).forEach(r=>{Wd(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=Lu(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,l)=>{r=t(r,i,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class vh extends Vu{constructor(e,t,r){super(Gl(t),il(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Uc(this,e),e.forEach((r,i)=>{Wd(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Lu(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const qd={provide:$i,useExisting:(0,h.Gpc)(()=>qi)},Bu=(()=>Promise.resolve(null))();let qi=(()=>{class n extends $i{constructor(t,r,i,l,f){super(),this._changeDetectorRef=f,this.control=new Hc,this._registered=!1,this.update=new h.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function bo(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(l=>{l.constructor===Ds?t=l:function mh(n){return Object.getPrototypeOf(n.constructor)===vi}(l)?r=l:i=l}),i||r||t||null}(0,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Ca(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Aa(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Bu.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;Bu.then(()=>{var l;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(l=this._changeDetectorRef)||void 0===l||l.markForCheck()})}_getPath(t){return this._parent?function nl(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ti,9),h.Y36(ei,10),h.Y36(Wo,10),h.Y36(Ci,10),h.Y36(h.sBO,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([qd]),h.qOj,h.TTD]}),n})();const _h={provide:Ci,useExisting:(0,h.Gpc)(()=>Gc),multi:!0};let Gc=(()=>{class n extends vi{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},features:[h._Bn([_h]),h.qOj]}),n})(),ls=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})(),ny=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[ls]]}),n})(),Gu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ny]}),n})();class ci{}const To="*";function ry(n,e){return{type:7,name:n,definitions:e,options:{}}}function Sg(n,e=null){return{type:4,styles:e,timings:n}}function Mg(n,e=null){return{type:2,steps:n,options:e}}function cl(n){return{type:6,styles:n,offset:null}}function Dh(n,e,t){return{type:0,name:n,styles:e,options:t}}function xg(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Ng(n){Promise.resolve(null).then(n)}class Kc{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ng(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Qc{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const l=this.players.length;0==l?Ng(()=>this._onFinish()):this.players.forEach(f=>{f.onDone(()=>{++t==l&&this._onFinish()}),f.onDestroy(()=>{++r==l&&this._onDestroy()}),f.onStart(()=>{++i==l&&this._onStart()})}),this.totalTime=this.players.reduce((f,m)=>Math.max(f,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const zn=!1;function kg(n){return new h.vHH(3e3,zn)}function of(){return"undefined"!=typeof window&&void 0!==window.document}function $u(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ia(n){switch(n.length){case 0:return new Kc;case 1:return n[0];default:return new Qc(n)}}function Lg(n,e,t,r,i={},l={}){const f=[],m=[];let E=-1,C=null;if(r.forEach(k=>{const O=k.offset,q=O==E,J=q&&C||{};Object.keys(k).forEach(se=>{let Me=se,rt=k[se];if("offset"!==se)switch(Me=e.normalizePropertyName(Me,f),rt){case"!":rt=i[se];break;case To:rt=l[se];break;default:rt=e.normalizeStyleValue(se,Me,rt,f)}J[Me]=rt}),q||m.push(J),C=J,E=O}),f.length)throw function Yt(n){return new h.vHH(3502,zn)}();return m}function Wu(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Ih(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Ih(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Ih(t,"destroy",n)))}}function Ih(n,e,t){const r=t.totalTime,l=Vg(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),f=n._data;return null!=f&&(l._data=f),l}function Vg(n,e,t,r,i="",l=0,f){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:l,disabled:!!f}}function Is(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function bE(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let fy=(n,e)=>!1,hy=(n,e,t)=>[],py=null;function eu(n){const e=n.parentNode||n.host;return e===py?null:e}($u()||"undefined"!=typeof Element)&&(of()?(py=(()=>document.documentElement)(),fy=(n,e)=>{for(;e;){if(e===n)return!0;e=eu(e)}return!1}):fy=(n,e)=>n.contains(e),hy=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Yc=null,Mh=!1;function wE(n){Yc||(Yc=function CE(){return"undefined"!=typeof document?document.body:null}()||{},Mh=!!Yc.style&&"WebkitAppearance"in Yc.style);let e=!0;return Yc.style&&!function AE(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Yc.style,!e&&Mh&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Yc.style)),e}const gy=fy,my=hy;let vy=(()=>{class n{validateStyleProperty(t){return wE(t)}matchesElement(t,r){return!1}containsElement(t,r){return gy(t,r)}getParentElement(t){return eu(t)}query(t,r,i){return my(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,l,f,m=[],E){return new Kc(i,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),af=(()=>{class n{}return n.NOOP=new vy,n})();const Ug="ng-enter",lf="ng-leave",qu="ng-trigger",Hg=".ng-trigger",Ey="ng-animating",by=".ng-animating";function Jc(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:jg(parseFloat(e[1]),e[2])}function jg(n,e){return"s"===e?1e3*n:n}function uf(n,e,t){return n.hasOwnProperty("duration")?n:function TE(n,e,t){let i,l=0,f="";if("string"==typeof n){const m=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return e.push(kg()),{duration:0,delay:0,easing:""};i=jg(parseFloat(m[1]),m[2]);const E=m[3];null!=E&&(l=jg(parseFloat(E),m[4]));const C=m[5];C&&(f=C)}else i=n;if(!t){let m=!1,E=e.length;i<0&&(e.push(function ay(){return new h.vHH(3100,zn)}()),m=!0),l<0&&(e.push(function Pg(){return new h.vHH(3101,zn)}()),m=!0),m&&e.splice(E,0,kg())}return{duration:i,delay:l,easing:f}}(n,e,t)}function xh(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Zu(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else xh(n,t);return t}function wy(n,e,t){return t?e+":"+t+";":""}function SE(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=wy(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=wy(0,WC(t),n.style[t]));n.setAttribute("style",e)}function dl(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=Dy(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),$u()&&SE(n))}function Qi(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=Dy(t);n.style[r]=""}),$u()&&SE(n))}function Rh(n){return Array.isArray(n)?1==n.length?n[0]:Mg(n):n}const Cy=new RegExp("{{\\s*(.+?)\\s*}}","g");function ME(n){let e=[];if("string"==typeof n){let t;for(;t=Cy.exec(n);)e.push(t[1]);Cy.lastIndex=0}return e}function Gg(n,e,t){const r=n.toString(),i=r.replace(Cy,(l,f)=>{let m=e[f];return e.hasOwnProperty(f)||(t.push(function Fg(n){return new h.vHH(3003,zn)}()),m=""),m.toString()});return i==r?n:i}function zg(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const xE=/-+([a-z0-9])/g;function Dy(n){return n.replace(xE,(...e)=>e[1].toUpperCase())}function WC(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function to(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function ly(n){return new h.vHH(3004,zn)}()}}function Ty(n,e){return window.getComputedStyle(n)[e]}function kE(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Sy(n,e,t){if(":"==n[0]){const E=function ZM(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function He(n){return new h.vHH(3016,zn)}()),"* => *"}}(n,t);if("function"==typeof E)return void e.push(E);n=E}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Ne(n){return new h.vHH(3015,zn)}()),e;const i=r[1],l=r[2],f=r[3];e.push(Ph(i,f));"<"==l[0]&&!("*"==i&&"*"==f)&&e.push(Ph(f,i))}(r,t,e)):t.push(n),t}const kh=new Set(["true","1"]),Iy=new Set(["false","0"]);function Ph(n,e){const t=kh.has(n)||Iy.has(n),r=kh.has(e)||Iy.has(e);return(i,l)=>{let f="*"==n||n==i,m="*"==e||e==l;return!f&&t&&"boolean"==typeof i&&(f=i?kh.has(n):Iy.has(n)),!m&&r&&"boolean"==typeof l&&(m=l?kh.has(e):Iy.has(e)),f&&m}}const My=new RegExp("s*:selfs*,?","g");function Fh(n,e,t,r){return new KM(n).build(e,t,r)}class KM{constructor(e){this._driver=e}build(e,t,r){const i=new YC(t);this._resetContextStyleTimingState(i);const l=to(this,Rh(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),l}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const l=[],f=[];return"@"==e.name.charAt(0)&&t.errors.push(function cy(){return new h.vHH(3006,zn)}()),e.definitions.forEach(m=>{if(this._resetContextStyleTimingState(t),0==m.type){const E=m,C=E.name;C.toString().split(/\s*,\s*/).forEach(k=>{E.name=k,l.push(this.visitState(E,t))}),E.name=C}else if(1==m.type){const E=this.visitTransition(m,t);r+=E.queryCount,i+=E.depCount,f.push(E)}else t.errors.push(function dy(){return new h.vHH(3007,zn)}())}),{type:7,name:e.name,states:l,transitions:f,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const l=new Set,f=i||{};r.styles.forEach(m=>{if(Lh(m)){const E=m;Object.keys(E).forEach(C=>{ME(E[C]).forEach(k=>{f.hasOwnProperty(k)||l.add(k)})})}}),l.size&&(zg(l.values()),t.errors.push(function d(n,e){return new h.vHH(3008,zn)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=to(this,Rh(e.animation),t);return{type:1,matchers:kE(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:ed(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>to(this,r,t)),options:ed(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const l=e.steps.map(f=>{t.currentTime=r;const m=to(this,f,t);return i=Math.max(i,t.currentTime),m});return t.currentTime=i,{type:3,steps:l,options:ed(e.options)}}visitAnimate(e,t){const r=function QM(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return PE(uf(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=PE(0,0,"");return l.dynamic=!0,l.strValue=t,l}const i=uf(t,e);return PE(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,l=e.styles?e.styles:cl({});if(5==l.type)i=this.visitKeyframes(l,t);else{let f=e.styles,m=!1;if(!f){m=!0;const C={};r.easing&&(C.easing=r.easing),f=cl(C)}t.currentTime+=r.duration+r.delay;const E=this.visitStyle(f,t);E.isEmptyStep=m,i=E}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(f=>{"string"==typeof f?f==To?r.push(f):t.errors.push(function c(n){return new h.vHH(3002,zn)}()):r.push(f)}):r.push(e.styles);let i=!1,l=null;return r.forEach(f=>{if(Lh(f)){const m=f,E=m.easing;if(E&&(l=E,delete m.easing),!i)for(let C in m)if(m[C].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,l=t.currentTime;r&&l>0&&(l-=r.duration+r.delay),e.styles.forEach(f=>{"string"!=typeof f&&Object.keys(f).forEach(m=>{if(!this._driver.validateStyleProperty(m))return delete f[m],void t.unsupportedCSSPropertiesFound.add(m);const E=t.collectedStyles[t.currentQuerySelector],C=E[m];let k=!0;C&&(l!=i&&l>=C.startTime&&i<=C.endTime&&(t.errors.push(function v(n,e,t,r,i){return new h.vHH(3010,zn)}()),k=!1),l=C.startTime),k&&(E[m]={startTime:l,endTime:i}),t.options&&function IE(n,e,t){const r=e.params||{},i=ME(n);i.length&&i.forEach(l=>{r.hasOwnProperty(l)||t.push(function Og(n){return new h.vHH(3001,zn)}())})}(f[m],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function w(){return new h.vHH(3011,zn)}()),r;let l=0;const f=[];let m=!1,E=!1,C=0;const k=e.steps.map(at=>{const Et=this._makeStyleAst(at,t);let kt=null!=Et.offset?Et.offset:function JC(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Lh(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(Lh(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Et.styles),Dt=0;return null!=kt&&(l++,Dt=Et.offset=kt),E=E||Dt<0||Dt>1,m=m||Dt<C,C=Dt,f.push(Dt),Et});E&&t.errors.push(function M(){return new h.vHH(3012,zn)}()),m&&t.errors.push(function N(){return new h.vHH(3200,zn)}());const O=e.steps.length;let q=0;l>0&&l<O?t.errors.push(function V(){return new h.vHH(3202,zn)}()):0==l&&(q=1/(O-1));const J=O-1,se=t.currentTime,Me=t.currentAnimateTimings,rt=Me.duration;return k.forEach((at,Et)=>{const kt=q>0?Et==J?1:q*Et:f[Et],Dt=kt*rt;t.currentTime=se+Me.delay+Dt,Me.duration=Dt,this._validateStyleAst(at,t),at.offset=kt,r.styles.push(at)}),r}visitReference(e,t){return{type:8,animation:to(this,Rh(e.animation),t),options:ed(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:ed(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:ed(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[l,f]=function KC(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(My,"")),n=n.replace(/@\*/g,Hg).replace(/@\w+/g,t=>Hg+"-"+t.substr(1)).replace(/:animating/g,by),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+l:l,Is(t.collectedStyles,t.currentQuerySelector,{});const m=to(this,Rh(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:l,limit:i.limit||0,optional:!!i.optional,includeSelf:f,animation:m,originalSelector:e.selector,options:ed(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function z(){return new h.vHH(3013,zn)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:uf(e.timings,t.errors,!0);return{type:12,animation:to(this,Rh(e.animation),t),timings:r,options:null}}}class YC{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Lh(n){return!Array.isArray(n)&&"object"==typeof n}function ed(n){return n?(n=xh(n)).params&&(n.params=function QC(n){return n?xh(n):null}(n.params)):n={},n}function PE(n,e,t){return{duration:n,delay:e,easing:t}}function Wg(n,e,t,r,i,l,f=null,m=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:l,totalTime:i+l,easing:f,subTimeline:m}}class Vh{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const YM=new RegExp(":enter","g"),XM=new RegExp(":leave","g");function OE(n,e,t,r,i,l={},f={},m,E,C=[]){return(new ex).buildKeyframes(n,e,t,r,i,l,f,m,E,C)}class ex{buildKeyframes(e,t,r,i,l,f,m,E,C,k=[]){C=C||new Vh;const O=new FE(e,t,C,i,l,k,[]);O.options=E,O.currentTimeline.setStyles([f],null,O.errors,E),to(this,r,O);const q=O.timelines.filter(J=>J.containsAnimation());if(Object.keys(m).length){let J;for(let se=q.length-1;se>=0;se--){const Me=q[se];if(Me.element===t){J=Me;break}}J&&!J.allowOnlyTimelineStyles()&&J.setStyles([m],null,O.errors,E)}return q.length?q.map(J=>J.buildKeyframes()):[Wg(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),l=t.currentTimeline.currentTime,f=this._visitSubInstructions(r,i,i.options);l!=f&&t.transformIntoNewTimeline(f)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let l=t.currentTimeline.currentTime;const f=null!=r.duration?Jc(r.duration):null,m=null!=r.delay?Jc(r.delay):null;return 0!==f&&e.forEach(E=>{const C=t.appendInstructionToTimeline(E,f,m);l=Math.max(l,C.duration+C.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),to(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const l=e.options;if(l&&(l.params||l.delay)&&(i=t.createSubContext(l),i.transformIntoNewTimeline(),null!=l.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Ry);const f=Jc(l.delay);i.delayNextStep(f)}e.steps.length&&(e.steps.forEach(f=>to(this,f,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?Jc(e.options.delay):0;e.steps.forEach(f=>{const m=t.createSubContext(e.options);l&&m.delayNextStep(l),to(this,f,m),i=Math.max(i,m.currentTimeline.currentTime),r.push(m.currentTimeline)}),r.forEach(f=>t.currentTimeline.mergeTimelineCollectedStyles(f)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return uf(t.params?Gg(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(r.duration),this.visitStyle(l,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const l=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(l):r.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,l=r.duration,m=t.createSubContext().currentTimeline;m.easing=r.easing,e.styles.forEach(E=>{m.forwardTime((E.offset||0)*l),m.setStyles(E.styles,E.easing,t.errors,t.options),m.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(m),t.transformIntoNewTimeline(i+l),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},l=i.delay?Jc(i.delay):0;l&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ry);let f=r;const m=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=m.length;let E=null;m.forEach((C,k)=>{t.currentQueryIndex=k;const O=t.createSubContext(e.options,C);l&&O.delayNextStep(l),C===t.element&&(E=O.currentTimeline),to(this,e.animation,O),O.currentTimeline.applyStylesToKeyframe(),f=Math.max(f,O.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(f),E&&(t.currentTimeline.mergeTimelineCollectedStyles(E),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,l=e.timings,f=Math.abs(l.duration),m=f*(t.currentQueryTotal-1);let E=f*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":E=m-E;break;case"full":E=r.currentStaggerTime}const k=t.currentTimeline;E&&k.delayNextStep(E);const O=k.currentTime;to(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-O+(i.startTime-r.currentTimeline.startTime)}}const Ry={};class FE{constructor(e,t,r,i,l,f,m,E){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=l,this.errors=f,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ry,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=E||new Ny(this._driver,t,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Jc(r.duration)),null!=r.delay&&(i.delay=Jc(r.delay));const l=r.params;if(l){let f=i.params;f||(f=this.options.params={}),Object.keys(l).forEach(m=>{(!t||!f.hasOwnProperty(m))&&(f[m]=Gg(l[m],f,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,l=new FE(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=Ry,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},l=new tx(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(l),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,l,f){let m=[];if(i&&m.push(this.element),e.length>0){e=(e=e.replace(YM,"."+this._enterClassName)).replace(XM,"."+this._leaveClassName);let C=this._driver.query(this.element,e,1!=r);0!==r&&(C=r<0?C.slice(C.length+r,C.length):C.slice(0,r)),m.push(...C)}return!l&&0==m.length&&f.push(function ee(n){return new h.vHH(3014,zn)}()),m}}class Ny{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Ny(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||To,this._currentKeyframe[t]=To}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const l=i&&i.params||{},f=function Qu(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(l=>{t[l]=To})):Zu(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(f).forEach(m=>{const E=Gg(f[m],l,r);this._pendingStyles[m]=E,this._localTimelineStyles.hasOwnProperty(m)||(this._backFill[m]=this._globalTimelineStyles.hasOwnProperty(m)?this._globalTimelineStyles[m]:To),this._updateStyle(m,E)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((m,E)=>{const C=Zu(m,!0);Object.keys(C).forEach(k=>{const O=C[k];"!"==O?e.add(k):O==To&&t.add(k)}),r||(C.offset=E/this.duration),i.push(C)});const l=e.size?zg(e.values()):[],f=t.size?zg(t.values()):[];if(r){const m=i[0],E=xh(m);m.offset=0,E.offset=1,i=[m,E]}return Wg(this.element,i,l,f,this.duration,this.startTime,this.easing,!1)}}class tx extends Ny{constructor(e,t,r,i,l,f,m=!1){super(e,t,f.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=l,this._stretchStartingKeyframe=m,this.timings={duration:f.duration,delay:f.delay,easing:f.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],f=r+t,m=t/f,E=Zu(e[0],!1);E.offset=0,l.push(E);const C=Zu(e[0],!1);C.offset=eD(m),l.push(C);const k=e.length-1;for(let O=1;O<=k;O++){let q=Zu(e[O],!1);q.offset=eD((t+q.offset*r)/f),l.push(q)}r=f,t=0,i="",e=l}return Wg(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function eD(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class ky{}class Py extends ky{normalizePropertyName(e,t){return Dy(e)}normalizeStyleValue(e,t,r,i){let l="";const f=r.toString().trim();if(VE[t]&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const m=r.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&i.push(function uy(n,e){return new h.vHH(3005,zn)}())}return f+l}}const VE=(()=>function Oy(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function BE(n,e,t,r,i,l,f,m,E,C,k,O,q){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:l,toState:r,toStyles:f,timelines:m,queriedElements:E,preStyleProps:C,postStyleProps:k,totalTime:O,errors:q}}const fl={};class Fy{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function nD(n,e,t,r,i){return n.some(l=>l(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],l=this._stateStyles[e],f=i?i.buildStyles(t,r):{};return l?l.buildStyles(t,r):f}build(e,t,r,i,l,f,m,E,C,k){const O=[],q=this.ast.options&&this.ast.options.params||fl,se=this.buildStyles(r,m&&m.params||fl,O),Me=E&&E.params||fl,rt=this.buildStyles(i,Me,O),at=new Set,Et=new Map,kt=new Map,Dt="void"===i,mn={params:Object.assign(Object.assign({},q),Me)},pn=k?[]:OE(e,t,this.ast.animation,l,f,se,rt,mn,C,O);let Gn=0;if(pn.forEach(Lo=>{Gn=Math.max(Lo.duration+Lo.delay,Gn)}),O.length)return BE(t,this._triggerName,r,i,Dt,se,rt,[],[],Et,kt,Gn,O);pn.forEach(Lo=>{const Vo=Lo.element,ag=Is(Et,Vo,{});Lo.preStyleProps.forEach(Sd=>ag[Sd]=!0);const aa=Is(kt,Vo,{});Lo.postStyleProps.forEach(Sd=>aa[Sd]=!0),Vo!==t&&at.add(Vo)});const $n=zg(at.values());return BE(t,this._triggerName,r,i,Dt,se,rt,pn,$n,Et,kt,Gn)}}class Ly{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=xh(this.defaultParams);return Object.keys(e).forEach(l=>{const f=e[l];null!=f&&(i[l]=f)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const f=l;Object.keys(f).forEach(m=>{let E=f[m];E.length>1&&(E=Gg(E,i,t));const C=this.normalizer.normalizePropertyName(m,t);E=this.normalizer.normalizeStyleValue(m,C,E,t),r[C]=E})}}),r}}class UE{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new Ly(i.style,i.options&&i.options.params||{},r)}),HE(this.states,"true","1"),HE(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Fy(e,i,this.states))}),this.fallbackTransition=function iD(n,e,t){return new Fy(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(f,m)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(f=>f.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function HE(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const Bh=new Vh;class df{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],l=Fh(this._driver,t,r,[]);if(r.length)throw function an(n){return new h.vHH(3503,zn)}();this._animations[e]=l}_buildPlayer(e,t,r){const i=e.element,l=Lg(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],l=this._animations[e];let f;const m=new Map;if(l?(f=OE(this._driver,t,l,Ug,lf,{},{},r,Bh,i),f.forEach(k=>{const O=Is(m,k.element,{});k.postStyleProps.forEach(q=>O[q]=null)})):(i.push(function Nt(){return new h.vHH(3300,zn)}()),f=[]),i.length)throw function rr(n){return new h.vHH(3504,zn)}();m.forEach((k,O)=>{Object.keys(k).forEach(q=>{k[q]=this._driver.computeStyle(O,q,To)})});const C=Ia(f.map(k=>{const O=m.get(k.element);return this._buildPlayer(k,{},O)}));return this._playersById[e]=C,C.onDestroy(()=>this.destroy(e)),this.players.push(C),C}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function Or(n){return new h.vHH(3301,zn)}();return t}listen(e,t,r,i){const l=Vg(t,"","","");return Wu(this._getPlayer(e),r,l,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const l=this._getPlayer(e);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const qg="ng-animate-queued",td="ng-animate-disabled",GE=[],Zg={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Vy={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Io="__ng_removed";class pf{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function $E(n){return null!=n?n:null}(r?e.value:e),r){const l=xh(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Uh="void",Kg=new pf(Uh);class nx{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,xa(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function yr(n,e){return new h.vHH(3302,zn)}();if(null==r||0==r.length)throw function di(n){return new h.vHH(3303,zn)}();if(!function aD(n){return"start"==n||"done"==n}(r))throw function qr(n,e){return new h.vHH(3400,zn)}();const l=Is(this._elementListeners,e,[]),f={name:t,phase:r,callback:i};l.push(f);const m=Is(this._engine.statesByElement,e,{});return m.hasOwnProperty(t)||(xa(e,qu),xa(e,qu+"-"+t),m[t]=Kg),()=>{this._engine.afterFlush(()=>{const E=l.indexOf(f);E>=0&&l.splice(E,1),this._triggers[t]||delete m[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function Ss(n){return new h.vHH(3401,zn)}();return t}trigger(e,t,r,i=!0){const l=this._getTrigger(t),f=new Qg(this.id,t,e);let m=this._engine.statesByElement.get(e);m||(xa(e,qu),xa(e,qu+"-"+t),this._engine.statesByElement.set(e,m={}));let E=m[t];const C=new pf(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&E&&C.absorbOptions(E.options),m[t]=C,E||(E=Kg),C.value!==Uh&&E.value===C.value){if(!function By(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const l=t[i];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(E.params,C.params)){const Me=[],rt=l.matchStyles(E.value,E.params,Me),at=l.matchStyles(C.value,C.params,Me);Me.length?this._engine.reportError(Me):this._engine.afterFlush(()=>{Qi(e,rt),dl(e,at)})}return}const q=Is(this._engine.playersByElement,e,[]);q.forEach(Me=>{Me.namespaceId==this.id&&Me.triggerName==t&&Me.queued&&Me.destroy()});let J=l.matchTransition(E.value,C.value,e,C.params),se=!1;if(!J){if(!i)return;J=l.fallbackTransition,se=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:J,fromState:E,toState:C,player:f,isFallbackTransition:se}),se||(xa(e,qg),f.onStart(()=>{Hh(e,qg)})),f.onDone(()=>{let Me=this.players.indexOf(f);Me>=0&&this.players.splice(Me,1);const rt=this._engine.playersByElement.get(e);if(rt){let at=rt.indexOf(f);at>=0&&rt.splice(at,1)}}),this.players.push(f),q.push(f),f}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Hg,!0);r.forEach(i=>{if(i[Io])return;const l=this._engine.fetchNamespacesByElement(i);l.size?l.forEach(f=>f.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const l=this._engine.statesByElement.get(e),f=new Map;if(l){const m=[];if(Object.keys(l).forEach(E=>{if(f.set(E,l[E].value),this._triggers[E]){const C=this.trigger(e,E,Uh,i);C&&m.push(C)}}),m.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,f),r&&Ia(m).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(l=>{const f=l.name;if(i.has(f))return;i.add(f);const E=this._triggers[f].fallbackTransition,C=r[f]||Kg,k=new pf(Uh),O=new Qg(this.id,f,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:f,transition:E,fromState:C,toState:k,player:O,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(e):[];if(l&&l.length)i=!0;else{let f=e;for(;f=f.parentNode;)if(r.statesByElement.get(f)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const l=e[Io];(!l||l===Zg)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){xa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const l=r.element,f=this._elementListeners.get(l);f&&f.forEach(m=>{if(m.name==r.triggerName){const E=Vg(l,r.triggerName,r.fromState.value,r.toState.value);E._data=e,Wu(r.player,m.phase,E,m.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const l=r.transition.ast.depCount,f=i.transition.ast.depCount;return 0==l||0==f?l-f:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class zE{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new nx(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,l=r.length-1;if(l>=0){let f=!1;if(void 0!==this.driver.getParentElement){let m=this.driver.getParentElement(t);for(;m;){const E=i.get(m);if(E){const C=r.indexOf(E);r.splice(C+1,0,e),f=!0;break}m=this.driver.getParentElement(m)}}else for(let m=l;m>=0;m--)if(this.driver.containsElement(r[m].hostElement,t)){r.splice(m+1,0,e),f=!0;break}f||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let l=0;l<i.length;l++){const f=r[i[l]].namespaceId;if(f){const m=this._fetchNamespace(f);m&&t.add(m)}}}return t}trigger(e,t,r,i){if(Yg(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Yg(t))return;const l=t[Io];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const f=this.collectedLeaveElements.indexOf(t);f>=0&&this.collectedLeaveElements.splice(f,1)}if(e){const f=this._fetchNamespace(e);f&&f.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),xa(e,td)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Hh(e,td))}removeNode(e,t,r,i){if(Yg(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const f=this.namespacesByHostElement.get(t);f&&f.id!==e&&f.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,l){this.collectedLeaveElements.push(t),t[Io]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:l}}listen(e,t,r,i,l){return Yg(t)?this._fetchNamespace(e).listen(t,r,i,l):()=>{}}_buildInstruction(e,t,r,i,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,Hg,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,by,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ia(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[Io];if(r&&r.setForRemoval){if(e[Io]=Zg,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(td))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)xa(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Ia(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Ki(n){return new h.vHH(3402,zn)}()}_flushAnimations(e,t){const r=new Vh,i=[],l=new Map,f=[],m=new Map,E=new Map,C=new Map,k=new Set;this.disabledNodes.forEach(sn=>{k.add(sn);const bn=this.driver.query(sn,".ng-animate-queued",!0);for(let kn=0;kn<bn.length;kn++)k.add(bn[kn])});const O=this.bodyNode,q=Array.from(this.statesByElement.keys()),J=qE(q,this.collectedEnterElements),se=new Map;let Me=0;J.forEach((sn,bn)=>{const kn=Ug+Me++;se.set(bn,kn),sn.forEach(fr=>xa(fr,kn))});const rt=[],at=new Set,Et=new Set;for(let sn=0;sn<this.collectedLeaveElements.length;sn++){const bn=this.collectedLeaveElements[sn],kn=bn[Io];kn&&kn.setForRemoval&&(rt.push(bn),at.add(bn),kn.hasAnimation?this.driver.query(bn,".ng-star-inserted",!0).forEach(fr=>at.add(fr)):Et.add(bn))}const kt=new Map,Dt=qE(q,Array.from(at));Dt.forEach((sn,bn)=>{const kn=lf+Me++;kt.set(bn,kn),sn.forEach(fr=>xa(fr,kn))}),e.push(()=>{J.forEach((sn,bn)=>{const kn=se.get(bn);sn.forEach(fr=>Hh(fr,kn))}),Dt.forEach((sn,bn)=>{const kn=kt.get(bn);sn.forEach(fr=>Hh(fr,kn))}),rt.forEach(sn=>{this.processLeaveNode(sn)})});const mn=[],pn=[];for(let sn=this._namespaceList.length-1;sn>=0;sn--)this._namespaceList[sn].drainQueuedTransitions(t).forEach(kn=>{const fr=kn.player,vs=kn.element;if(mn.push(fr),this.collectedEnterElements.length){const Bo=vs[Io];if(Bo&&Bo.setForMove){if(Bo.previousTriggersValues&&Bo.previousTriggersValues.has(kn.triggerName)){const lg=Bo.previousTriggersValues.get(kn.triggerName),sh=this.statesByElement.get(kn.element);sh&&sh[kn.triggerName]&&(sh[kn.triggerName].value=lg)}return void fr.destroy()}}const fc=!O||!this.driver.containsElement(O,vs),Ua=kt.get(vs),ih=se.get(vs),ii=this._buildInstruction(kn,r,ih,Ua,fc);if(ii.errors&&ii.errors.length)return void pn.push(ii);if(fc)return fr.onStart(()=>Qi(vs,ii.fromStyles)),fr.onDestroy(()=>dl(vs,ii.toStyles)),void i.push(fr);if(kn.isFallbackTransition)return fr.onStart(()=>Qi(vs,ii.fromStyles)),fr.onDestroy(()=>dl(vs,ii.toStyles)),void i.push(fr);const qk=[];ii.timelines.forEach(Bo=>{Bo.stretchStartingKeyframe=!0,this.disabledNodes.has(Bo.element)||qk.push(Bo)}),ii.timelines=qk,r.append(vs,ii.timelines),f.push({instruction:ii,player:fr,element:vs}),ii.queriedElements.forEach(Bo=>Is(m,Bo,[]).push(fr)),ii.preStyleProps.forEach((Bo,lg)=>{const sh=Object.keys(Bo);if(sh.length){let ug=E.get(lg);ug||E.set(lg,ug=new Set),sh.forEach(qM=>ug.add(qM))}}),ii.postStyleProps.forEach((Bo,lg)=>{const sh=Object.keys(Bo);let ug=C.get(lg);ug||C.set(lg,ug=new Set),sh.forEach(qM=>ug.add(qM))})});if(pn.length){const sn=[];pn.forEach(bn=>{sn.push(function eo(n,e){return new h.vHH(3505,zn)}())}),mn.forEach(bn=>bn.destroy()),this.reportError(sn)}const Gn=new Map,$n=new Map;f.forEach(sn=>{const bn=sn.element;r.has(bn)&&($n.set(bn,bn),this._beforeAnimationBuild(sn.player.namespaceId,sn.instruction,Gn))}),i.forEach(sn=>{const bn=sn.element;this._getPreviousPlayers(bn,!1,sn.namespaceId,sn.triggerName,null).forEach(fr=>{Is(Gn,bn,[]).push(fr),fr.destroy()})});const Lo=rt.filter(sn=>Uy(sn,E,C)),Vo=new Map;WE(Vo,this.driver,Et,C,To).forEach(sn=>{Uy(sn,E,C)&&Lo.push(sn)});const aa=new Map;J.forEach((sn,bn)=>{WE(aa,this.driver,new Set(sn),E,"!")}),Lo.forEach(sn=>{const bn=Vo.get(sn),kn=aa.get(sn);Vo.set(sn,Object.assign(Object.assign({},bn),kn))});const Sd=[],_E=[],Wk={};f.forEach(sn=>{const{element:bn,player:kn,instruction:fr}=sn;if(r.has(bn)){if(k.has(bn))return kn.onDestroy(()=>dl(bn,fr.toStyles)),kn.disabled=!0,kn.overrideTotalTime(fr.totalTime),void i.push(kn);let vs=Wk;if($n.size>1){let Ua=bn;const ih=[];for(;Ua=Ua.parentNode;){const ii=$n.get(Ua);if(ii){vs=ii;break}ih.push(Ua)}ih.forEach(ii=>$n.set(ii,vs))}const fc=this._buildAnimation(kn.namespaceId,fr,Gn,l,aa,Vo);if(kn.setRealPlayer(fc),vs===Wk)Sd.push(kn);else{const Ua=this.playersByElement.get(vs);Ua&&Ua.length&&(kn.parentPlayer=Ia(Ua)),i.push(kn)}}else Qi(bn,fr.fromStyles),kn.onDestroy(()=>dl(bn,fr.toStyles)),_E.push(kn),k.has(bn)&&i.push(kn)}),_E.forEach(sn=>{const bn=l.get(sn.element);if(bn&&bn.length){const kn=Ia(bn);sn.setRealPlayer(kn)}}),i.forEach(sn=>{sn.parentPlayer?sn.syncPlayerEvents(sn.parentPlayer):sn.destroy()});for(let sn=0;sn<rt.length;sn++){const bn=rt[sn],kn=bn[Io];if(Hh(bn,lf),kn&&kn.hasAnimation)continue;let fr=[];if(m.size){let fc=m.get(bn);fc&&fc.length&&fr.push(...fc);let Ua=this.driver.query(bn,by,!0);for(let ih=0;ih<Ua.length;ih++){let ii=m.get(Ua[ih]);ii&&ii.length&&fr.push(...ii)}}const vs=fr.filter(fc=>!fc.destroyed);vs.length?ZE(this,bn,vs):this.processLeaveNode(bn)}return rt.length=0,Sd.forEach(sn=>{this.players.push(sn),sn.onDone(()=>{sn.destroy();const bn=this.players.indexOf(sn);this.players.splice(bn,1)}),sn.play()}),Sd}elementContainsData(e,t){let r=!1;const i=t[Io];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,l){let f=[];if(t){const m=this.playersByQueriedElement.get(e);m&&(f=m)}else{const m=this.playersByElement.get(e);if(m){const E=!l||l==Uh;m.forEach(C=>{C.queued||!E&&C.triggerName!=i||f.push(C)})}}return(r||i)&&(f=f.filter(m=>!(r&&r!=m.namespaceId||i&&i!=m.triggerName))),f}_beforeAnimationBuild(e,t,r){const l=t.element,f=t.isRemovalTransition?void 0:e,m=t.isRemovalTransition?void 0:t.triggerName;for(const E of t.timelines){const C=E.element,k=C!==l,O=Is(r,C,[]);this._getPreviousPlayers(C,k,f,m,t.toState).forEach(J=>{const se=J.getRealPlayer();se.beforeDestroy&&se.beforeDestroy(),J.destroy(),O.push(J)})}Qi(l,t.fromStyles)}_buildAnimation(e,t,r,i,l,f){const m=t.triggerName,E=t.element,C=[],k=new Set,O=new Set,q=t.timelines.map(se=>{const Me=se.element;k.add(Me);const rt=Me[Io];if(rt&&rt.removedBeforeQueried)return new Kc(se.duration,se.delay);const at=Me!==E,Et=function rx(n){const e=[];return KE(n,e),e}((r.get(Me)||GE).map(Gn=>Gn.getRealPlayer())).filter(Gn=>!!Gn.element&&Gn.element===Me),kt=l.get(Me),Dt=f.get(Me),mn=Lg(0,this._normalizer,0,se.keyframes,kt,Dt),pn=this._buildPlayer(se,mn,Et);if(se.subTimeline&&i&&O.add(Me),at){const Gn=new Qg(e,m,Me);Gn.setRealPlayer(pn),C.push(Gn)}return pn});C.forEach(se=>{Is(this.playersByQueriedElement,se.element,[]).push(se),se.onDone(()=>function oD(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,se.element,se))}),k.forEach(se=>xa(se,Ey));const J=Ia(q);return J.onDestroy(()=>{k.forEach(se=>Hh(se,Ey)),dl(E,t.toStyles)}),O.forEach(se=>{Is(i,se,[]).push(J)}),J}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Kc(e.duration,e.delay)}}class Qg{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Kc,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>Wu(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Is(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Yg(n){return n&&1===n.nodeType}function no(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function WE(n,e,t,r,i){const l=[];t.forEach(E=>l.push(no(E)));const f=[];r.forEach((E,C)=>{const k={};E.forEach(O=>{const q=k[O]=e.computeStyle(C,O,i);(!q||0==q.length)&&(C[Io]=Vy,f.push(C))}),n.set(C,k)});let m=0;return t.forEach(E=>no(E,l[m++])),f}function qE(n,e){const t=new Map;if(n.forEach(m=>t.set(m,[])),0==e.length)return t;const i=new Set(e),l=new Map;function f(m){if(!m)return 1;let E=l.get(m);if(E)return E;const C=m.parentNode;return E=t.has(C)?C:i.has(C)?1:f(C),l.set(m,E),E}return e.forEach(m=>{const E=f(m);1!==E&&t.get(E).push(m)}),t}function xa(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Hh(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function ZE(n,e,t){Ia(t).onDone(()=>n.processLeaveNode(e))}function KE(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Qc?KE(r.players,e):e.push(r)}}function Uy(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(l=>i.add(l)):e.set(n,r),t.delete(n),!0}class Jg{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,l)=>{},this._transitionEngine=new zE(e,t,r),this._timelineEngine=new df(e,t,r),this._transitionEngine.onRemovalComplete=(i,l)=>this.onRemovalComplete(i,l)}registerTrigger(e,t,r,i,l){const f=e+"-"+i;let m=this._triggerCache[f];if(!m){const E=[],k=Fh(this._driver,l,E,[]);if(E.length)throw function Tt(n,e){return new h.vHH(3404,zn)}();m=function rD(n,e,t){return new UE(n,e,t)}(i,k,this._normalizer),this._triggerCache[f]=m}this._transitionEngine.registerTrigger(t,i,m)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[l,f]=bE(r);this._timelineEngine.command(l,t,f,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,l){if("@"==r.charAt(0)){const[f,m]=bE(r);return this._timelineEngine.listen(f,t,m,l)}return this._transitionEngine.listen(e,t,r,i,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let uD=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&dl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(dl(this._element,this._initialStyles),this._endStyles&&(dl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Qi(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Qi(this._element,this._endStyles),this._endStyles=null),dl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Xg(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];cD(i)&&(e=e||{},e[i]=n[i])}return e}function cD(n){return"display"===n||"position"===n}class Hy{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:Ty(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class dD{validateStyleProperty(e){return wE(e)}matchesElement(e,t){return!1}containsElement(e,t){return gy(e,t)}getParentElement(e){return eu(e)}query(e,t,r){return my(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,l,f=[]){const E={duration:r,delay:i,fill:0==i?"both":"forwards"};l&&(E.easing=l);const C={},k=f.filter(q=>q instanceof Hy);(function qC(n,e){return 0===n||0===e})(r,i)&&k.forEach(q=>{let J=q.currentSnapshot;Object.keys(J).forEach(se=>C[se]=J[se])}),t=function Vn(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let l=e[0],f=[];if(r.forEach(m=>{l.hasOwnProperty(m)||f.push(m),l[m]=t[m]}),f.length)for(var i=1;i<e.length;i++){let m=e[i];f.forEach(function(E){m[E]=Ty(n,E)})}}return e}(e,t=t.map(q=>Zu(q,!1)),C);const O=function lD(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Xg(e[0]),e.length>1&&(r=Xg(e[e.length-1]))):e&&(t=Xg(e)),t||r?new uD(n,t,r):null}(e,t);return new Hy(e,t,E,O)}}let fD=(()=>{class n extends ci{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?Mg(t):t;return JE(this._renderer,null,r,"register",[i]),new QE(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class QE extends class zu{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new YE(this._id,e,t||{},this._renderer)}}class YE{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return JE(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function JE(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const em="@.disabled";let hD=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,f)=>{const m=null==f?void 0:f.parentNode(l);m&&f.removeChild(m,l)}}createRenderer(t,r){const l=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let k=this._rendererCache.get(l);return k||(k=new XE("",l,this.engine),this._rendererCache.set(l,k)),k}const f=r.id,m=r.id+"-"+this._currentId;this._currentId++,this.engine.register(m,t);const E=k=>{Array.isArray(k)?k.forEach(E):this.engine.registerTrigger(f,m,t,k.name,k)};return r.data.animation.forEach(E),new ix(this,m,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[f,m]=l;f(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(Jg),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class XE{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==em?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class ix extends XE{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==em?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function eb(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.substr(1),f="";return"@"!=l.charAt(0)&&([l,f]=function pD(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(l)),this.engine.listen(this.namespaceId,i,l,f,m=>{this.factory.scheduleListenerCallback(m._data||-1,r,m)})}return this.delegate.listen(e,t,r)}}let gD=(()=>{class n extends Jg{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be),h.LFG(af),h.LFG(ky))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const tb=new h.OlP("AnimationModuleType"),nb=[{provide:ci,useClass:fD},{provide:ky,useFactory:function mD(){return new Py}},{provide:Jg,useClass:gD},{provide:h.FYo,useFactory:function jy(n,e,t){return new hD(n,e,t)},deps:[pr,Jg,h.R0b]}],jh=[{provide:af,useFactory:()=>new dD},{provide:tb,useValue:"BrowserAnimations"},...nb],Gy=[{provide:af,useClass:vy},{provide:tb,useValue:"NoopAnimations"},...nb];let vD=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Gy:jh}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:jh,imports:[xl]}),n})();function wn(...n){const e=(0,Er.yG)(n);return(0,Sr.D)(n,e)}var fi=$(7579);class Ra extends fi.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Gh=$(4671),zy=$(9672);function $y(n,e,t){n?(0,zy.f)(t,n,e):e()}var tm=$(576);function zh(n,e){const t=(0,tm.m)(n)?n:()=>n,r=i=>i.error(t());return new Ws.y(e?i=>e.schedule(r,0,i):r)}const $h=(0,$(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ta=$(8189);function Wy(...n){return function nm(){return(0,ta.J)(1)}()((0,Sr.D)(n,(0,Er.yG)(n)))}function sb(n){return new Ws.y(e=>{(0,mo.Xf)(n()).subscribe(e)})}var Wh=$(515),rm=$(727),ro=$(4482);function im(){return(0,ro.e)((n,e)=>{let t=null;n._refCount++;const r=(0,jr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,l=t;t=null,i&&(!l||i===l)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class qh extends Ws.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ro.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new rm.w0;const t=this.getSubject();e.add(this.source.subscribe((0,jr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=rm.w0.EMPTY)}return e}refCount(){return im()(this)}}function Ms(n,e){return(0,ro.e)((t,r)=>{let i=null,l=0,f=!1;const m=()=>f&&!i&&r.complete();t.subscribe((0,jr.x)(r,E=>{null==i||i.unsubscribe();let C=0;const k=l++;(0,mo.Xf)(n(E,k)).subscribe(i=(0,jr.x)(r,O=>r.next(e?e(E,O,k,C++):O),()=>{i=null,m()}))},()=>{f=!0,m()}))})}var Zh=$(5698);function Kh(...n){const e=(0,Er.yG)(n);return(0,ro.e)((t,r)=>{(e?Wy(n,t,e):Wy(n,t)).subscribe(r)})}function ob(n,e,t,r,i){return(l,f)=>{let m=t,E=e,C=0;l.subscribe((0,jr.x)(f,k=>{const O=C++;E=m?n(E,k,O):(m=!0,k),r&&f.next(E)},i&&(()=>{m&&f.next(E),f.complete()})))}}function gf(n,e){return(0,ro.e)(ob(n,e,arguments.length>=2,!0))}function Na(n,e){return(0,ro.e)((t,r)=>{let i=0;t.subscribe((0,jr.x)(r,l=>n.call(e,l,i++)&&r.next(l)))})}function hl(n){return(0,ro.e)((e,t)=>{let l,r=null,i=!1;r=e.subscribe((0,jr.x)(t,void 0,void 0,f=>{l=(0,mo.Xf)(n(f,hl(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,l.subscribe(t))})}var us=$(5577);function mf(n,e){return(0,tm.m)(e)?(0,us.z)(n,e,1):(0,us.z)(n,1)}function sm(n){return n<=0?()=>Wh.E:(0,ro.e)((e,t)=>{let r=[];e.subscribe((0,jr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function nd(n=ab){return(0,ro.e)((e,t)=>{let r=!1;e.subscribe((0,jr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function ab(){return new $h}function lb(n){return(0,ro.e)((e,t)=>{let r=!1;e.subscribe((0,jr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function na(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Na((i,l)=>n(i,l,r)):Gh.y,(0,Zh.q)(1),t?lb(e):nd(()=>new $h))}var xo=$(8505);class tu{constructor(e,t){this.id=e,this.url=t}}class qy extends tu{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xs extends tu{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class om extends tu{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ub extends tu{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class cb extends tu{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class db extends tu{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fb extends tu{constructor(e,t,r,i,l){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class bD extends tu{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AD extends tu{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hb{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pb{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gb{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ox{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mb{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wD{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vb{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Yn="primary";class ax{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Yu(n){return new ax(n)}const yb="ngNavigationCancelingError";function am(n){const e=Error("NavigationCancelingError: "+n);return e[yb]=!0,e}function lx(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let l=0;l<r.length;l++){const f=r[l],m=n[l];if(f.startsWith(":"))i[f.substring(1)]=m;else if(f!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function nu(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let l=0;l<t.length;l++)if(i=t[l],!CD(n[i],e[i]))return!1;return!0}function CD(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,l)=>r[l]===i)}return n===e}function Zy(n){return Array.prototype.concat.apply([],n)}function Ky(n){return n.length>0?n[n.length-1]:null}function Yi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ru(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,Sr.D)(Promise.resolve(n)):wn(n)}const Qy={exact:function Ab(n,e,t){if(!rd(n.segments,e.segments)||!um(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Ab(n.children[r],e.children[r],t))return!1;return!0},subset:wb},bb={exact:function TD(n,e){return nu(n,e)},subset:function SD(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>CD(n[t],e[t]))},ignored:()=>!0};function lm(n,e,t){return Qy[t.paths](n.root,e.root,t.matrixParams)&&bb[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function wb(n,e,t){return Cb(n,e,e.segments,t)}function Cb(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!rd(i,t)||e.hasChildren()||!um(i,t,r))}if(n.segments.length===t.length){if(!rd(n.segments,t)||!um(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!wb(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(rd(n.segments,i)&&um(n.segments,i,r)&&n.children[Yn])&&Cb(n.children[Yn],e,l,r)}}function um(n,e,t){return e.every((r,i)=>bb[t](n[i].parameters,r.parameters))}class pl{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yu(this.queryParams)),this._queryParamMap}toString(){return Jh.serialize(this)}}class jn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Yi(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yi(this)}}class Qh{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Yu(this.parameters)),this._parameterMap}toString(){return sd(this)}}function rd(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class cm{}class Pa{parse(e){const t=new Ib(e);return new pl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Oa(e.root,!0)}`,r=function yf(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Rs(t)}=${Rs(i)}`).join("&"):`${Rs(t)}=${Rs(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Yy(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Jh=new Pa;function yi(n){return n.segments.map(e=>sd(e)).join("/")}function Oa(n,e){if(!n.hasChildren())return yi(n);if(e){const t=n.children[Yn]?Oa(n.children[Yn],!1):"",r=[];return Yi(n.children,(i,l)=>{l!==Yn&&r.push(`${l}:${Oa(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function ID(n,e){let t=[];return Yi(n.children,(r,i)=>{i===Yn&&(t=t.concat(e(r,i)))}),Yi(n.children,(r,i)=>{i!==Yn&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Yn?[Oa(n.children[Yn],!1)]:[`${i}:${Oa(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Yn]?`${yi(n)}/${t[0]}`:`${yi(n)}/(${t.join("//")})`}}function Xh(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rs(n){return Xh(n).replace(/%3B/gi,";")}function Ju(n){return Xh(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function iu(n){return decodeURIComponent(n)}function id(n){return iu(n.replace(/\+/g,"%20"))}function sd(n){return`${Ju(n.path)}${function vf(n){return Object.keys(n).map(e=>`;${Ju(e)}=${Ju(n[e])}`).join("")}(n.parameters)}`}const _f=/^[^\/()?;=#]+/;function su(n){const e=n.match(_f);return e?e[0]:""}const Ef=/^[^=?&#]+/,Tb=/^[^&#]+/;class Ib{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new jn([],{}):new jn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Yn]=new jn(e,t)),r}parseSegment(){const e=su(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Qh(iu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=su(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=su(this.remaining);i&&(r=i,this.capture(r))}e[iu(t)]=iu(r)}parseQueryParam(e){const t=function Db(n){const e=n.match(Ef);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const f=function Sb(n){const e=n.match(Tb);return e?e[0]:""}(this.remaining);f&&(r=f,this.capture(r))}const i=id(t),l=id(r);if(e.hasOwnProperty(i)){let f=e[i];Array.isArray(f)||(f=[f],e[i]=f),f.push(l)}else e[i]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=su(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Yn);const f=this.parseChildren();t[l]=1===Object.keys(f).length?f[Yn]:new jn([],f),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Jy{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=dm(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=dm(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=fm(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return fm(e,this._root).map(t=>t.value)}}function dm(n,e){if(n===e.value)return e;for(const t of e.children){const r=dm(n,t);if(r)return r}return null}function fm(n,e){if(n===e.value)return[e];for(const t of e.children){const r=fm(n,t);if(r.length)return r.unshift(e),r}return[]}class gl{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function od(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Mb extends Jy{constructor(e,t){super(e),this.snapshot=t,n_(this,e)}toString(){return this.snapshot.toString()}}function Xy(n,e){const t=function MD(n,e){const f=new hm([],{},{},"",{},Yn,e,null,n.root,-1,{});return new t_("",new gl(f,[]))}(n,e),r=new Ra([new Qh("",{})]),i=new Ra({}),l=new Ra({}),f=new Ra({}),m=new Ra(""),E=new bf(r,i,f,m,l,Yn,e,t.root);return E.snapshot=t.root,new Mb(new gl(E,[]),t)}class bf{constructor(e,t,r,i,l,f,m,E){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=f,this.component=m,this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,_n.U)(e=>Yu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,_n.U)(e=>Yu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function e_(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],l=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(l.component)break;r--}}return function xD(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class hm{constructor(e,t,r,i,l,f,m,E,C,k,O){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=f,this.component=m,this.routeConfig=E,this._urlSegment=C,this._lastPathIndex=k,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Yu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Yu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class t_ extends Jy{constructor(e,t){super(t),this.url=e,n_(this,t)}toString(){return r_(this._root)}}function n_(n,e){e.value._routerState=n,e.children.forEach(t=>n_(n,t))}function r_(n){const e=n.children.length>0?` { ${n.children.map(r_).join(", ")} } `:"";return`${n.value}${e}`}function i_(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,nu(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),nu(e.params,t.params)||n.params.next(t.params),function ka(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!nu(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),nu(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function s_(n,e){const t=nu(n.params,e.params)&&function Yh(n,e){return rd(n,e)&&n.every((t,r)=>nu(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||s_(n.parent,e.parent))}function ep(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function o_(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ep(n,r,i);return ep(n,r)})}(n,e,t);return new gl(r,i)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const f=l.route;return f.value._futureSnapshot=e.value,f.children=e.children.map(m=>ep(n,m)),f}}const r=function a_(n){return new bf(new Ra(n.url),new Ra(n.params),new Ra(n.queryParams),new Ra(n.fragment),new Ra(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(l=>ep(n,l));return new gl(r,i)}}function l_(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function pm(n){return"object"==typeof n&&null!=n&&n.outlets}function xb(n,e,t,r,i){let l={};if(r&&Yi(r,(m,E)=>{l[E]=Array.isArray(m)?m.map(C=>`${C}`):`${m}`}),n===e)return new pl(t,l,i);const f=Rb(n,e,t);return new pl(f,l,i)}function Rb(n,e,t){const r={};return Yi(n.children,(i,l)=>{r[l]=i===e?t:Rb(i,e,t)}),new jn(n.segments,r)}class u_{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&l_(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(pm);if(i&&i!==Ky(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class c_{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function kb(n,e,t){if(n||(n=new jn([],{})),0===n.segments.length&&n.hasChildren())return tp(n,e,t);const r=function gm(n,e,t){let r=0,i=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return l;const f=n.segments[i],m=t[r];if(pm(m))break;const E=`${m}`,C=r<t.length-1?t[r+1]:null;if(i>0&&void 0===E)break;if(E&&C&&"object"==typeof C&&void 0===C.outlets){if(!Fb(E,C,f))return l;r+=2}else{if(!Fb(E,{},f))return l;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new jn(n.segments.slice(0,r.pathIndex),{});return l.children[Yn]=new jn(n.segments.slice(r.pathIndex),n.children),tp(l,0,i)}return r.match&&0===i.length?new jn(n.segments,{}):r.match&&!n.hasChildren()?d_(n,e,t):r.match?tp(n,0,i):d_(n,e,t)}function tp(n,e,t){if(0===t.length)return new jn(n.segments,{});{const r=function Nb(n){return pm(n[0])?n[0].outlets:{[Yn]:n}}(t),i={};return Yi(r,(l,f)=>{"string"==typeof l&&(l=[l]),null!==l&&(i[f]=kb(n.children[f],e,l))}),Yi(n.children,(l,f)=>{void 0===r[f]&&(i[f]=l)}),new jn(n.segments,i)}}function d_(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const l=t[i];if(pm(l)){const E=Pb(l.outlets);return new jn(r,E)}if(0===i&&l_(t[0])){r.push(new Qh(n.segments[e].path,Ob(t[0]))),i++;continue}const f=pm(l)?l.outlets[Yn]:`${l}`,m=i<t.length-1?t[i+1]:null;f&&m&&l_(m)?(r.push(new Qh(f,Ob(m))),i+=2):(r.push(new Qh(f,{})),i++)}return new jn(r,{})}function Pb(n){const e={};return Yi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=d_(new jn([],{}),0,t))}),e}function Ob(n){const e={};return Yi(n,(t,r)=>e[r]=`${t}`),e}function Fb(n,e,t){return n==t.path&&nu(e,t.parameters)}class PD{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),i_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=od(t);e.children.forEach(l=>{const f=l.value.outlet;this.deactivateRoutes(l,i[f],r),delete i[f]}),Yi(i,(l,f)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(i===l)if(i.component){const f=r.getContext(i.outlet);f&&this.deactivateChildRoutes(e,t,f.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=od(e);for(const f of Object.keys(l))this.deactivateRouteAndItsChildren(l[f],i);if(r&&r.outlet){const f=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:f,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=od(e);for(const f of Object.keys(l))this.deactivateRouteAndItsChildren(l[f],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=od(t);e.children.forEach(l=>{this.activateRoutes(l,i[l.value.outlet],r),this.forwardEvent(new wD(l.value.snapshot))}),e.children.length&&this.forwardEvent(new ox(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(i_(i),i===l)if(i.component){const f=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,f.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const f=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const m=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),f.children.onOutletReAttached(m.contexts),f.attachRef=m.componentRef,f.route=m.route.value,f.outlet&&f.outlet.attach(m.componentRef,m.route.value),i_(m.route.value),this.activateChildRoutes(e,null,f.children)}else{const m=function OD(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),E=m?m.module.componentFactoryResolver:null;f.attachRef=null,f.route=i,f.resolver=E,f.outlet&&f.outlet.activateWith(i,E),this.activateChildRoutes(e,null,f.children)}}else this.activateChildRoutes(e,null,r)}}class mm{constructor(e,t){this.routes=e,this.module=t}}function Xu(n){return"function"==typeof n}function ec(n){return n instanceof pl}const vm=Symbol("INITIAL_VALUE");function ou(){return Ms(n=>function sx(...n){const e=(0,Er.yG)(n),t=(0,Er.jO)(n),{args:r,keys:i}=Ll(n);if(0===r.length)return(0,Sr.D)([],e);const l=new Ws.y(function yD(n,e,t=Gh.y){return r=>{$y(e,()=>{const{length:i}=n,l=new Array(i);let f=i,m=i;for(let E=0;E<i;E++)$y(e,()=>{const C=(0,Sr.D)(n[E],e);let k=!1;C.subscribe((0,jr.x)(r,O=>{l[E]=O,k||(k=!0,m--),m||r.next(t(l.slice()))},()=>{--f||r.complete()}))},r)},r)}}(r,e,i?f=>Vl(i,f):Gh.y));return t?l.pipe(Dc(t)):l}(n.map(e=>e.pipe((0,Zh.q)(1),Kh(vm)))).pipe(gf((e,t)=>{let r=!1;return t.reduce((i,l,f)=>i!==vm?i:(l===vm&&(r=!0),r||!1!==l&&f!==t.length-1&&!ec(l)?i:l),e)},vm),Na(e=>e!==vm),(0,_n.U)(e=>ec(e)?e:!0===e),(0,Zh.q)(1)))}class Vb{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ad,this.attachRef=null}}class ad{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Vb,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let np=(()=>{class n{constructor(t,r,i,l,f){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.name=l||Yn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const f=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,E=new LD(t,m,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,E),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ad),h.Y36(h.s_b),h.Y36(h._Vd),h.$8M("name"),h.Y36(h.sBO))},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class LD{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===bf?this.route:e===ad?this.childContexts:this.parent.get(e,t)}}let rp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},directives:[np],encapsulation:2}),n})();function ip(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];p_(r,fx(e,r))}}function p_(n,e){n.children&&ip(n.children,e)}function fx(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function g_(n){const e=n.children&&n.children.map(g_),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Yn&&(t.component=rp),t}function Ns(n){return n.outlet||Yn}function sp(n,e){const t=n.filter(r=>Ns(r)===e);return t.push(...n.filter(r=>Ns(r)!==e)),t}const m_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function op(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},m_):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const l=(e.matcher||lx)(t,n,e);if(!l)return Object.assign({},m_);const f={};Yi(l.posParams,(E,C)=>{f[C]=E.path});const m=l.consumed.length>0?Object.assign(Object.assign({},f),l.consumed[l.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:l.consumed,remainingSegments:t.slice(l.consumed.length),parameters:m,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function wf(n,e,t,r,i="corrected"){if(t.length>0&&function v_(n,e,t){return t.some(r=>ym(n,e,r)&&Ns(r)!==Yn)}(n,t,r)){const f=new jn(e,function Ub(n,e,t,r){const i={};i[Yn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&Ns(l)!==Yn){const f=new jn([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,i[Ns(l)]=f}return i}(n,e,r,new jn(t,n.children)));return f._sourceSegment=n,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:[]}}if(0===t.length&&function Hb(n,e,t){return t.some(r=>ym(n,e,r))}(n,t,r)){const f=new jn(n.segments,function Bb(n,e,t,r,i,l){const f={};for(const m of r)if(ym(n,t,m)&&!i[Ns(m)]){const E=new jn([],{});E._sourceSegment=n,E._segmentIndexShift="legacy"===l?n.segments.length:e.length,f[Ns(m)]=E}return Object.assign(Object.assign({},i),f)}(n,e,t,r,n.children,i));return f._sourceSegment=n,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:t}}const l=new jn(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function ym(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function y_(n,e,t,r){return!!(Ns(n)===r||r!==Yn&&ym(e,t,n))&&("**"===n.path||op(e,n,t).matched)}function __(n,e,t){return 0===e.length&&!n.children[t]}class Cf{constructor(e){this.segmentGroup=e||null}}class E_{constructor(e){this.urlTree=e}}function ap(n){return zh(new Cf(n))}function jb(n){return zh(new E_(n))}class zb{constructor(e,t,r,i,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(h.h0i)}apply(){const e=wf(this.urlTree.root,[],[],this.config).segmentGroup,t=new jn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Yn).pipe((0,_n.U)(l=>this.createUrlTree(_m(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(hl(l=>{if(l instanceof E_)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Cf?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Yn).pipe((0,_n.U)(i=>this.createUrlTree(_m(i),e.queryParams,e.fragment))).pipe(hl(i=>{throw i instanceof Cf?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new jn([],{[Yn]:e}):e;return new pl(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,_n.U)(l=>new jn([],l))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const l of Object.keys(r.children))"primary"===l?i.unshift(l):i.push(l);return(0,Sr.D)(i).pipe(mf(l=>{const f=r.children[l],m=sp(t,l);return this.expandSegmentGroup(e,m,f,l).pipe((0,_n.U)(E=>({segment:E,outlet:l})))}),gf((l,f)=>(l[f.outlet]=f.segment,l),{}),function _D(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Na((i,l)=>n(i,l,r)):Gh.y,sm(1),t?lb(e):nd(()=>new $h))}())}expandSegment(e,t,r,i,l,f){return(0,Sr.D)(r).pipe(mf(m=>this.expandSegmentAgainstRoute(e,t,r,m,i,l,f).pipe(hl(C=>{if(C instanceof Cf)return wn(null);throw C}))),na(m=>!!m),hl((m,E)=>{if(m instanceof $h||"EmptyError"===m.name)return __(t,i,l)?wn(new jn([],{})):ap(t);throw m}))}expandSegmentAgainstRoute(e,t,r,i,l,f,m){return y_(i,t,l,f)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,l,f):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,f):ap(t):ap(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,f){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,f):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?jb(l):this.lineralizeSegments(r,l).pipe((0,us.z)(f=>{const m=new jn(f,{});return this.expandSegment(e,m,t,f,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,f){const{matched:m,consumedSegments:E,remainingSegments:C,positionalParamSegments:k}=op(t,i,l);if(!m)return ap(t);const O=this.applyRedirectCommands(E,i.redirectTo,k);return i.redirectTo.startsWith("/")?jb(O):this.lineralizeSegments(i,O).pipe((0,us.z)(q=>this.expandSegment(e,t,r,q.concat(C),f,!1)))}matchSegmentAgainstRoute(e,t,r,i,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?wn(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,_n.U)(O=>(r._loadedConfig=O,new jn(i,{})))):wn(new jn(i,{}));const{matched:f,consumedSegments:m,remainingSegments:E}=op(t,r,i);return f?this.getChildConfig(e,r,i).pipe((0,us.z)(k=>{const O=k.module,q=k.routes,{segmentGroup:J,slicedSegments:se}=wf(t,m,E,q),Me=new jn(J.segments,J.children);if(0===se.length&&Me.hasChildren())return this.expandChildren(O,q,Me).pipe((0,_n.U)(kt=>new jn(m,kt)));if(0===q.length&&0===se.length)return wn(new jn(m,{}));const rt=Ns(r)===l;return this.expandSegment(O,Me,q,se,rt?Yn:l,!0).pipe((0,_n.U)(Et=>new jn(m.concat(Et.segments),Et.children)))})):ap(t)}getChildConfig(e,t,r){return t.children?wn(new mm(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?wn(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,us.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,_n.U)(l=>(t._loadedConfig=l,l))):function Gb(n){return zh(am(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):wn(new mm([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?wn(i.map(f=>{const m=e.get(f);let E;if(function f_(n){return n&&Xu(n.canLoad)}(m))E=m.canLoad(t,r);else{if(!Xu(m))throw new Error("Invalid CanLoad guard");E=m(t,r)}return ru(E)})).pipe(ou(),(0,xo.b)(f=>{if(!ec(f))return;const m=am(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw m.url=f,m}),(0,_n.U)(f=>!0===f)):wn(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return wn(r);if(i.numberOfChildren>1||!i.children[Yn])return zh(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[Yn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const l=this.createSegmentGroup(e,t.root,r,i);return new pl(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Yi(e,(i,l)=>{if("string"==typeof i&&i.startsWith(":")){const m=i.substring(1);r[l]=t[m]}else r[l]=i}),r}createSegmentGroup(e,t,r,i){const l=this.createSegments(e,t.segments,r,i);let f={};return Yi(t.children,(m,E)=>{f[E]=this.createSegmentGroup(e,m,r,i)}),new jn(l,f)}createSegments(e,t,r,i){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,i):this.findOrReturn(l,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function _m(n){const e={};for(const r of Object.keys(n.children)){const l=_m(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function $b(n){if(1===n.numberOfChildren&&n.children[Yn]){const e=n.children[Yn];return new jn(n.segments.concat(e.segments),e.children)}return n}(new jn(n.segments,e))}class A_{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class lp{constructor(e,t){this.component=e,this.route=t}}function qb(n,e,t){const r=n._root;return up(r,e?e._root:null,t,[r.value])}function w_(n,e,t){const r=function BD(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function up(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=od(e);return n.children.forEach(f=>{(function Kb(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,f=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(f&&l.routeConfig===f.routeConfig){const E=function UD(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!rd(n.url,e.url);case"pathParamsOrQueryParamsChange":return!rd(n.url,e.url)||!nu(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!s_(n,e)||!nu(n.queryParams,e.queryParams);default:return!s_(n,e)}}(f,l,l.routeConfig.runGuardsAndResolvers);E?i.canActivateChecks.push(new A_(r)):(l.data=f.data,l._resolvedData=f._resolvedData),up(n,e,l.component?m?m.children:null:t,r,i),E&&m&&m.outlet&&m.outlet.isActivated&&i.canDeactivateChecks.push(new lp(m.outlet.component,f))}else f&&Gr(e,m,i),i.canActivateChecks.push(new A_(r)),up(n,null,l.component?m?m.children:null:t,r,i)})(f,l[f.value.outlet],t,r.concat([f.value]),i),delete l[f.value.outlet]}),Yi(l,(f,m)=>Gr(f,t.getContext(m),i)),i}function Gr(n,e,t){const r=od(n),i=n.value;Yi(r,(l,f)=>{Gr(l,i.component?e?e.children.getContext(f):null:e,t)}),t.canDeactivateChecks.push(new lp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class zD{}function eA(n){return new Ws.y(e=>e.error(n))}class $D{constructor(e,t,r,i,l,f){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=f}recognize(){const e=wf(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Yn);if(null===t)return null;const r=new hm([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Yn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new gl(r,t),l=new t_(this.url,i);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=e_(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const f=t.children[l],m=sp(e,l),E=this.processSegmentGroup(m,f,l);if(null===E)return null;r.push(...E)}const i=Em(r);return function nA(n){n.sort((e,t)=>e.value.outlet===Yn?-1:t.value.outlet===Yn?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const l of e){const f=this.processSegmentAgainstRoute(l,t,r,i);if(null!==f)return f}return __(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!y_(e,t,r,i))return null;let l,f=[],m=[];if("**"===e.path){const J=r.length>0?Ky(r).parameters:{};l=new hm(r,J,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Fa(e),Ns(e),e.component,e,rA(t),D_(t)+r.length,ra(e))}else{const J=op(t,e,r);if(!J.matched)return null;f=J.consumedSegments,m=J.remainingSegments,l=new hm(f,J.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Fa(e),Ns(e),e.component,e,rA(t),D_(t)+f.length,ra(e))}const E=function hx(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:C,slicedSegments:k}=wf(t,f,m,E.filter(J=>void 0===J.redirectTo),this.relativeLinkResolution);if(0===k.length&&C.hasChildren()){const J=this.processChildren(E,C);return null===J?null:[new gl(l,J)]}if(0===E.length&&0===k.length)return[new gl(l,[])];const O=Ns(e)===i,q=this.processSegment(E,C,k,O?Yn:i);return null===q?null:[new gl(l,q)]}}function C_(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Em(n){const e=[],t=new Set;for(const r of n){if(!C_(r)){e.push(r);continue}const i=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Em(r.children);e.push(new gl(r.value,i))}return e.filter(r=>!t.has(r))}function rA(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function D_(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Fa(n){return n.data||{}}function ra(n){return n.resolve||{}}function oA(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function T_(n){return Ms(e=>{const t=n(e);return t?(0,Sr.D)(t).pipe((0,_n.U)(()=>e)):wn(e)})}class ZD extends class cp{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const bm=new h.OlP("ROUTES");class aA{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,_n.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const f=l.create(e);return new mm(Zy(f.injector.get(bm,void 0,h.XFs.Self|h.XFs.Optional)).map(g_),f)}),hl(l=>{throw t._loader$=void 0,l}));return t._loader$=new qh(i,()=>new fi.x).pipe(im()),t._loader$}loadModuleFactory(e){return ru(e()).pipe((0,us.z)(t=>t instanceof h.YKP?wn(t):(0,Sr.D)(this.compiler.compileModuleAsync(t))))}}class uA{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Am(n){throw n}function KD(n,e,t){return e.parse("/")}function I_(n,e){return wn(null)}const cA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ji=(()=>{class n{constructor(t,r,i,l,f,m,E){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=l,this.config=E,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new fi.x,this.errorHandler=Am,this.malformedUriErrorHandler=KD,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:I_,afterPreactivation:I_},this.urlHandlingStrategy=new uA,this.routeReuseStrategy=new ZD,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(h.h0i),this.console=f.get(h.c2e);const O=f.get(h.R0b);this.isNgZoneEnabled=O instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(E),this.currentUrlTree=function Eb(){return new pl(new jn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new aA(f,m,q=>this.triggerEvent(new hb(q)),q=>this.triggerEvent(new pb(q))),this.routerState=Xy(this.currentUrlTree,this.rootComponentType),this.transitions=new Ra({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Na(i=>0!==i.id),(0,_n.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Ms(i=>{let l=!1,f=!1;return wn(i).pipe((0,xo.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ms(m=>{const E=this.browserUrlTree.toString(),C=!this.navigated||m.extractedUrl.toString()!==E||E!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return M_(m.source)&&(this.browserUrlTree=m.extractedUrl),wn(m).pipe(Ms(O=>{const q=this.transitions.getValue();return r.next(new qy(O.id,this.serializeUrl(O.extractedUrl),O.source,O.restoredState)),q!==this.transitions.getValue()?Wh.E:Promise.resolve(O)}),function Wb(n,e,t,r){return Ms(i=>function b_(n,e,t,r,i){return new zb(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,_n.U)(l=>Object.assign(Object.assign({},i),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,xo.b)(O=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:O.urlAfterRedirects})}),function La(n,e,t,r,i){return(0,us.z)(l=>function tA(n,e,t,r,i="emptyOnly",l="legacy"){try{const f=new $D(n,e,t,r,i,l).recognize();return null===f?eA(new zD):wn(f)}catch(f){return eA(f)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,i).pipe((0,_n.U)(f=>Object.assign(Object.assign({},l),{targetSnapshot:f}))))}(this.rootComponentType,this.config,O=>this.serializeUrl(O),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,xo.b)(O=>{if("eager"===this.urlUpdateStrategy){if(!O.extras.skipLocationChange){const J=this.urlHandlingStrategy.merge(O.urlAfterRedirects,O.rawUrl);this.setBrowserUrl(J,O)}this.browserUrlTree=O.urlAfterRedirects}const q=new cb(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(O.urlAfterRedirects),O.targetSnapshot);r.next(q)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:q,extractedUrl:J,source:se,restoredState:Me,extras:rt}=m,at=new qy(q,this.serializeUrl(J),se,Me);r.next(at);const Et=Xy(J,this.rootComponentType).snapshot;return wn(Object.assign(Object.assign({},m),{targetSnapshot:Et,urlAfterRedirects:J,extras:Object.assign(Object.assign({},rt),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),Wh.E}),T_(m=>{const{targetSnapshot:E,id:C,extractedUrl:k,rawUrl:O,extras:{skipLocationChange:q,replaceUrl:J}}=m;return this.hooks.beforePreactivation(E,{navigationId:C,appliedUrlTree:k,rawUrlTree:O,skipLocationChange:!!q,replaceUrl:!!J})}),(0,xo.b)(m=>{const E=new db(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(E)}),(0,_n.U)(m=>Object.assign(Object.assign({},m),{guards:qb(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function Qb(n,e){return(0,us.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:l,canDeactivateChecks:f}}=t;return 0===f.length&&0===l.length?wn(Object.assign(Object.assign({},t),{guardsResult:!0})):function HD(n,e,t,r){return(0,Sr.D)(n).pipe((0,us.z)(i=>function Df(n,e,t,r,i){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?wn(l.map(m=>{const E=w_(m,e,i);let C;if(function FD(n){return n&&Xu(n.canDeactivate)}(E))C=ru(E.canDeactivate(n,e,t,r));else{if(!Xu(E))throw new Error("Invalid CanDeactivate guard");C=ru(E(n,e,t,r))}return C.pipe(na())})).pipe(ou()):wn(!0)}(i.component,i.route,t,e,r)),na(i=>!0!==i,!0))}(f,r,i,n).pipe((0,us.z)(m=>m&&function Lb(n){return"boolean"==typeof n}(m)?function jD(n,e,t,r){return(0,Sr.D)(e).pipe(mf(i=>Wy(function GD(n,e){return null!==n&&e&&e(new gb(n)),wn(!0)}(i.route.parent,r),function Yb(n,e){return null!==n&&e&&e(new mb(n)),wn(!0)}(i.route,r),function Xb(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(f=>function Zb(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(f)).filter(f=>null!==f).map(f=>sb(()=>wn(f.guards.map(E=>{const C=w_(E,f.node,t);let k;if(function h_(n){return n&&Xu(n.canActivateChild)}(C))k=ru(C.canActivateChild(r,n));else{if(!Xu(C))throw new Error("Invalid CanActivateChild guard");k=ru(C(r,n))}return k.pipe(na())})).pipe(ou())));return wn(l).pipe(ou())}(n,i.path,t),function Jb(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return wn(!0);const i=r.map(l=>sb(()=>{const f=w_(l,e,t);let m;if(function dx(n){return n&&Xu(n.canActivate)}(f))m=ru(f.canActivate(e,n));else{if(!Xu(f))throw new Error("Invalid CanActivate guard");m=ru(f(e,n))}return m.pipe(na())}));return wn(i).pipe(ou())}(n,i.route,t))),na(i=>!0!==i,!0))}(r,l,n,e):wn(m)),(0,_n.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,xo.b)(m=>{if(ec(m.guardsResult)){const C=am(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw C.url=m.guardsResult,C}const E=new fb(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(E)}),Na(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),T_(m=>{if(m.guards.canActivateChecks.length)return wn(m).pipe((0,xo.b)(E=>{const C=new bD(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(C)}),Ms(E=>{let C=!1;return wn(E).pipe(function iA(n,e){return(0,us.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return wn(t);let l=0;return(0,Sr.D)(i).pipe(mf(f=>function sA(n,e,t,r){return function WD(n,e,t,r){const i=oA(n);if(0===i.length)return wn({});const l={};return(0,Sr.D)(i).pipe((0,us.z)(f=>function qD(n,e,t,r){const i=w_(n,e,r);return ru(i.resolve?i.resolve(e,t):i(e,t))}(n[f],e,t,r).pipe((0,xo.b)(m=>{l[f]=m}))),sm(1),(0,us.z)(()=>oA(l).length===i.length?wn(l):Wh.E))}(n._resolve,n,e,r).pipe((0,_n.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),e_(n,t).resolve),null)))}(f.route,r,n,e)),(0,xo.b)(()=>l++),sm(1),(0,us.z)(f=>l===i.length?wn(t):Wh.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,xo.b)({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(E),this.cancelNavigationTransition(E,"At least one route resolver didn't emit any value."))}}))}),(0,xo.b)(E=>{const C=new AD(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(C)}))}),T_(m=>{const{targetSnapshot:E,id:C,extractedUrl:k,rawUrl:O,extras:{skipLocationChange:q,replaceUrl:J}}=m;return this.hooks.afterPreactivation(E,{navigationId:C,appliedUrlTree:k,rawUrlTree:O,skipLocationChange:!!q,replaceUrl:!!J})}),(0,_n.U)(m=>{const E=function ux(n,e,t){const r=ep(n,e._root,t?t._root:void 0);return new Mb(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:E})}),(0,xo.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,_n.U)(r=>(new PD(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,xo.b)({next(){l=!0},complete(){l=!0}}),function ED(n){return(0,ro.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var m;l||f||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===i.id&&(this.currentNavigation=null)}),hl(m=>{if(f=!0,function _b(n){return n&&n[yb]}(m)){const E=ec(m.url);E||(this.navigated=!0,this.restoreHistory(i,!0));const C=new om(i.id,this.serializeUrl(i.extractedUrl),m.message);r.next(C),E?setTimeout(()=>{const k=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),O={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||M_(i.source)};this.scheduleNavigation(k,"imperative",null,O,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const E=new ub(i.id,this.serializeUrl(i.extractedUrl),m);r.next(E);try{i.resolve(this.errorHandler(m))}catch(C){i.reject(C)}}return Wh.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const l={replaceUrl:!0},f=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(f){const E=Object.assign({},f);delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(l.state=E)}const m=this.parseUrl(t.url);this.scheduleNavigation(m,r,f,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ip(t),this.config=t.map(g_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:l,fragment:f,queryParamsHandling:m,preserveFragment:E}=r,C=i||this.routerState.root,k=E?this.currentUrlTree.fragment:f;let O=null;switch(m){case"merge":O=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=l||null}return null!==O&&(O=this.removeEmptyProps(O)),function RD(n,e,t,r,i){if(0===t.length)return xb(e.root,e.root,e.root,r,i);const l=function cx(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new u_(!0,0,n);let e=0,t=!1;const r=n.reduce((i,l,f)=>{if("object"==typeof l&&null!=l){if(l.outlets){const m={};return Yi(l.outlets,(E,C)=>{m[C]="string"==typeof E?E.split("/"):E}),[...i,{outlets:m}]}if(l.segmentPath)return[...i,l.segmentPath]}return"string"!=typeof l?[...i,l]:0===f?(l.split("/").forEach((m,E)=>{0==E&&"."===m||(0==E&&""===m?t=!0:".."===m?e++:""!=m&&i.push(m))}),i):[...i,l]},[]);return new u_(t,e,r)}(t);if(l.toRoot())return xb(e.root,e.root,new jn([],{}),r,i);const f=function Af(n,e,t){if(n.isAbsolute)return new c_(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new c_(l,l===e.root,0)}const r=l_(n.commands[0])?0:1;return function ND(n,e,t){let r=n,i=e,l=t;for(;l>i;){if(l-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new c_(r,!1,i-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),m=f.processChildren?tp(f.segmentGroup,f.index,l.commands):kb(f.segmentGroup,f.index,l.commands);return xb(e.root,f.segmentGroup,m,r,i)}(C,this.currentUrlTree,t,O,null!=k?k:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=ec(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function fA(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},cA):!1===r?Object.assign({},dA):r,ec(t))return lm(this.currentUrlTree,t,i);const l=this.parseUrl(t);return lm(this.currentUrlTree,l,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const l=t[i];return null!=l&&(r[i]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new xs(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,l,f){var m,E;if(this.disposed)return Promise.resolve(!1);let C,k,O;f?(C=f.resolve,k=f.reject,O=f.promise):O=new Promise((se,Me)=>{C=se,k=Me});const q=++this.navigationId;let J;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),J=i&&i.\u0275routerPageId?i.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(E=this.browserPageId)&&void 0!==E?E:0)+1):J=0,this.setTransition({id:q,targetPageId:J,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:C,reject:k,promise:O,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),O.catch(se=>Promise.reject(se))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",l):this.location.go(i,"",l)}restoreHistory(t,r=!1){var i,l;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===f?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===f&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new om(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function M_(n){return"imperative"!==n}class x_{}class gA{preload(e,t){return wn(null)}}let mA=(()=>{class n{constructor(t,r,i,l){this.router=t,this.injector=i,this.preloadingStrategy=l,this.loader=new aA(i,r,E=>t.triggerEvent(new hb(E)),E=>t.triggerEvent(new pb(E)))}setUpPreloading(){this.subscription=this.router.events.pipe(Na(t=>t instanceof xs),mf(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(h.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const f=l._loadedConfig;i.push(this.processRoutes(f.module,f.routes))}else l.loadChildren&&!l.canLoad?i.push(this.preloadConfig(t,l)):l.children&&i.push(this.processRoutes(t,l.children));return(0,Sr.D)(i).pipe((0,ta.J)(),(0,_n.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?wn(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,us.z)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ji),h.LFG(h.Sil),h.LFG(h.zs3),h.LFG(x_))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),R_=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof qy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof xs&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof vb&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new vb(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const ud=new h.OlP("ROUTER_CONFIGURATION"),vA=new h.OlP("ROUTER_FORROOT_GUARD"),YD=[Ye,{provide:cm,useClass:Pa},{provide:Ji,useFactory:function nT(n,e,t,r,i,l,f={},m,E){const C=new Ji(null,n,e,t,r,i,Zy(l));return m&&(C.urlHandlingStrategy=m),E&&(C.routeReuseStrategy=E),function rT(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(f,C),f.enableTracing&&C.events.subscribe(k=>{var O,q;null===(O=console.group)||void 0===O||O.call(console,`Router Event: ${k.constructor.name}`),console.log(k.toString()),console.log(k),null===(q=console.groupEnd)||void 0===q||q.call(console)}),C},deps:[cm,ad,Ye,h.zs3,h.Sil,bm,ud,[class lA{},new h.FiY],[class S_{},new h.FiY]]},ad,{provide:bf,useFactory:function iT(n){return n.routerState.root},deps:[Ji]},mA,gA,class QD{preload(e,t){return t().pipe(hl(()=>wn(null)))}},{provide:ud,useValue:{enableTracing:!1}}];function JD(){return new h.PXZ("Router",Ji)}let yA=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[YD,_A(t),{provide:vA,useFactory:tT,deps:[[Ji,new h.FiY,new h.tp0]]},{provide:ud,useValue:r||{}},{provide:ce,useFactory:eT,deps:[xe,[new h.tBr(je),new h.FiY],ud]},{provide:R_,useFactory:XD,deps:[Ji,ga,ud]},{provide:x_,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:gA},{provide:h.PXZ,multi:!0,useFactory:JD},[N_,{provide:h.ip1,multi:!0,useFactory:EA,deps:[N_]},{provide:k_,useFactory:bA,deps:[N_]},{provide:h.tb,multi:!0,useExisting:k_}]]}}static forChild(t){return{ngModule:n,providers:[_A(t)]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(vA,8),h.LFG(Ji,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function XD(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new R_(n,e,t)}function eT(n,e,t={}){return t.useHash?new We(n,e):new Qe(n,e)}function tT(n){return"guarded"}function _A(n){return[{provide:h.deG,multi:!0,useValue:n},{provide:bm,multi:!0,useValue:n}]}let N_=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new fi.x}appInitializer(){return this.injector.get(X,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(m=>r=m),l=this.injector.get(Ji),f=this.injector.get(ud);return"disabled"===f.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?wn(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(ud),i=this.injector.get(mA),l=this.injector.get(R_),f=this.injector.get(Ji),m=this.injector.get(h.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&f.initialNavigation(),i.setUpPreloading(),l.init(),f.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function EA(n){return n.appInitializer.bind(n)}function bA(n){return n.bootstrapListener.bind(n)}const k_=new h.OlP("Router Initializer");var re=$(9356),Zt=$(655),wA=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.headerElRef=(0,re.createRef)(),t}return(0,Zt.__extends)(e,n),e.prototype.renderSimpleLayout=function(t,r){var l=this.props,f=this.context,m=[],E=(0,re.getStickyHeaderDates)(f.options);return t&&m.push({type:"header",key:"header",isSticky:E,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}}),m.push({type:"body",key:"body",liquid:!0,chunk:{content:r}}),(0,re.createElement)(re.ViewRoot,{viewSpec:f.viewSpec},function(C,k){return(0,re.createElement)("div",{ref:C,className:["fc-daygrid"].concat(k).join(" ")},(0,re.createElement)(re.SimpleScrollGrid,{liquid:!l.isHeightAuto&&!l.forPrint,collapsibleWidth:l.forPrint,cols:[],sections:m}))})},e.prototype.renderHScrollLayout=function(t,r,i,l){var f=this.context.pluginHooks.scrollGridImpl;if(!f)throw new Error("No ScrollGrid implementation");var E=this.props,C=this.context,k=!E.forPrint&&(0,re.getStickyHeaderDates)(C.options),O=!E.forPrint&&(0,re.getStickyFooterScrollbar)(C.options),q=[];return t&&q.push({type:"header",key:"header",isSticky:k,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}]}),q.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:r}]}),O&&q.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:re.renderScrollShim}]}),(0,re.createElement)(re.ViewRoot,{viewSpec:C.viewSpec},function(J,se){return(0,re.createElement)("div",{ref:J,className:["fc-daygrid"].concat(se).join(" ")},(0,re.createElement)(f,{liquid:!E.isHeightAuto&&!E.forPrint,collapsibleWidth:E.forPrint,colGroups:[{cols:[{span:i,minWidth:l}]}],sections:q}))})},e}(re.DateComponent);function dp(n,e){for(var t=[],r=0;r<e;r+=1)t[r]=[];for(var i=0,l=n;i<l.length;i++){var f=l[i];t[f.row].push(f)}return t}function fp(n,e){for(var t=[],r=0;r<e;r+=1)t[r]=[];for(var i=0,l=n;i<l.length;i++){var f=l[i];t[f.firstCol].push(f)}return t}function Dm(n,e){var t=[];if(n){for(var r=0;r<e;r+=1)t[r]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(var i=0,l=n.segs;i<l.length;i++){var f=l[i];t[f.row].segs.push(f)}}else for(r=0;r<e;r+=1)t[r]=null;return t}var cd=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,Zt.__extends)(e,n),e.prototype.render=function(){var t=this.props,r=(0,re.buildNavLinkAttrs)(this.context,t.date);return(0,re.createElement)(re.DayCellContent,{date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,showDayNumber:t.showDayNumber,extraHookProps:t.extraHookProps,defaultContent:oT},function(i,l){return(l||t.forceDayTop)&&(0,re.createElement)("div",{className:"fc-daygrid-day-top",ref:i},(0,re.createElement)("a",(0,Zt.__assign)({id:t.dayNumberId,className:"fc-daygrid-day-number"},r),l||(0,re.createElement)(re.Fragment,null,"\xa0")))})},e}(re.BaseComponent);function oT(n){return n.dayNumberText}var CA=(0,re.createFormatter)({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function dd(n){var e=n.eventRange.ui.display;return"list-item"===e||"auto"===e&&!n.eventRange.def.allDay&&n.firstCol===n.lastCol&&n.isStart&&n.isEnd}var aT=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,Zt.__extends)(e,n),e.prototype.render=function(){var t=this.props;return(0,re.createElement)(re.StandardEvent,(0,Zt.__assign)({},t,{extraClassNames:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:CA,defaultDisplayEventEnd:t.defaultDisplayEventEnd,disableResizing:!t.seg.eventRange.def.allDay}))},e}(re.BaseComponent),Tm=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,Zt.__extends)(e,n),e.prototype.render=function(){var r=this.props,i=this.context,f=(0,re.buildSegTimeText)(r.seg,i.options.eventTimeFormat||CA,i,!0,r.defaultDisplayEventEnd);return(0,re.createElement)(re.EventRoot,{seg:r.seg,timeText:f,defaultContent:gx,isDragging:r.isDragging,isResizing:!1,isDateSelecting:!1,isSelected:r.isSelected,isPast:r.isPast,isFuture:r.isFuture,isToday:r.isToday},function(m,E,C,k){return(0,re.createElement)("a",(0,Zt.__assign)({className:["fc-daygrid-event","fc-daygrid-dot-event"].concat(E).join(" "),ref:m},(0,re.getSegAnchorAttrs)(r.seg,i)),k)})},e}(re.BaseComponent);function gx(n){return(0,re.createElement)(re.Fragment,null,(0,re.createElement)("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&(0,re.createElement)("div",{className:"fc-event-time"},n.timeText),(0,re.createElement)("div",{className:"fc-event-title"},n.event.title||(0,re.createElement)(re.Fragment,null,"\xa0")))}var DA=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.compileSegs=(0,re.memoize)(TA),t}return(0,Zt.__extends)(e,n),e.prototype.render=function(){var t=this.props,r=this.compileSegs(t.singlePlacements),i=r.allSegs;return(0,re.createElement)(re.MoreLinkRoot,{dateProfile:t.dateProfile,todayRange:t.todayRange,allDayDate:t.allDayDate,moreCnt:t.moreCnt,allSegs:i,hiddenSegs:r.invisibleSegs,alignmentElRef:t.alignmentElRef,alignGridTop:t.alignGridTop,extraDateSpan:t.extraDateSpan,popoverContent:function(){var f=(t.eventDrag?t.eventDrag.affectedInstances:null)||(t.eventResize?t.eventResize.affectedInstances:null)||{};return(0,re.createElement)(re.Fragment,null,i.map(function(m){var E=m.eventRange.instance.instanceId;return(0,re.createElement)("div",{className:"fc-daygrid-event-harness",key:E,style:{visibility:f[E]?"hidden":""}},dd(m)?(0,re.createElement)(Tm,(0,Zt.__assign)({seg:m,isDragging:!1,isSelected:E===t.eventSelection,defaultDisplayEventEnd:!1},(0,re.getSegMeta)(m,t.todayRange))):(0,re.createElement)(aT,(0,Zt.__assign)({seg:m,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:E===t.eventSelection,defaultDisplayEventEnd:!1},(0,re.getSegMeta)(m,t.todayRange))))}))}},function(f,m,E,C,k,O,q,J){return(0,re.createElement)("a",(0,Zt.__assign)({ref:f,className:["fc-daygrid-more-link"].concat(m).join(" "),title:O,"aria-expanded":q,"aria-controls":J},(0,re.createAriaClickAttrs)(k)),C)})},e}(re.BaseComponent);function TA(n){for(var e=[],t=[],r=0,i=n;r<i.length;r++){var l=i[r];e.push(l.seg),l.isVisible||t.push(l.seg)}return{allSegs:e,invisibleSegs:t}}var mx=(0,re.createFormatter)({week:"narrow"}),vn=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.rootElRef=(0,re.createRef)(),t.state={dayNumberId:(0,re.getUniqueDomId)()},t.handleRootEl=function(r){(0,re.setRef)(t.rootElRef,r),(0,re.setRef)(t.props.elRef,r)},t}return(0,Zt.__extends)(e,n),e.prototype.render=function(){var t=this,i=t.props,l=t.state,f=t.rootElRef,m=i.date,E=i.dateProfile,C=(0,re.buildNavLinkAttrs)(t.context,m,"week");return(0,re.createElement)(re.DayCellRoot,{date:m,dateProfile:E,todayRange:i.todayRange,showDayNumber:i.showDayNumber,extraHookProps:i.extraHookProps,elRef:this.handleRootEl},function(k,O,q,J){return(0,re.createElement)("td",(0,Zt.__assign)({ref:k,role:"gridcell",className:["fc-daygrid-day"].concat(O,i.extraClassNames||[]).join(" ")},q,i.extraDataAttrs,i.showDayNumber?{"aria-labelledby":l.dayNumberId}:{}),(0,re.createElement)("div",{className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",ref:i.innerElRef},i.showWeekNumber&&(0,re.createElement)(re.WeekNumberRoot,{date:m,defaultFormat:mx},function(se,Me,rt,at){return(0,re.createElement)("a",(0,Zt.__assign)({ref:se,className:["fc-daygrid-week-number"].concat(Me).join(" ")},C),at)}),!J&&(0,re.createElement)(cd,{date:m,dateProfile:E,showDayNumber:i.showDayNumber,dayNumberId:l.dayNumberId,forceDayTop:i.forceDayTop,todayRange:i.todayRange,extraHookProps:i.extraHookProps}),(0,re.createElement)("div",{className:"fc-daygrid-day-events",ref:i.fgContentElRef},i.fgContent,(0,re.createElement)("div",{className:"fc-daygrid-day-bottom",style:{marginTop:i.moreMarginTop}},(0,re.createElement)(DA,{allDayDate:m,singlePlacements:i.singlePlacements,moreCnt:i.moreCnt,alignmentElRef:f,alignGridTop:!i.showDayNumber,extraDateSpan:i.extraDateSpan,dateProfile:i.dateProfile,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,todayRange:i.todayRange}))),(0,re.createElement)("div",{className:"fc-daygrid-day-bg"},i.bgContent)))})},e}(re.DateComponent);function lu(n,e,t,r){if(n.firstCol===e&&n.lastCol===t-1)return n;var i=n.eventRange,l=i.range,f=(0,re.intersectRanges)(l,{start:r[e].date,end:(0,re.addDays)(r[t-1].date,1)});return(0,Zt.__assign)((0,Zt.__assign)({},n),{firstCol:e,lastCol:t-1,eventRange:{def:i.def,ui:(0,Zt.__assign)((0,Zt.__assign)({},i.ui),{durationEditable:!1}),instance:i.instance,range:f},isStart:n.isStart&&f.start.valueOf()===l.start.valueOf(),isEnd:n.isEnd&&f.end.valueOf()===l.end.valueOf()})}var dT=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.hiddenConsumes=!1,t.forceHidden={},t}return(0,Zt.__extends)(e,n),e.prototype.addSegs=function(t){for(var r=this,i=n.prototype.addSegs.call(this,t),l=this.entriesByLevel,f=function(E){return!r.forceHidden[(0,re.buildEntryKey)(E)]},m=0;m<l.length;m+=1)l[m]=l[m].filter(f);return i},e.prototype.handleInvalidInsertion=function(t,r,i){var f=this.entriesByLevel,m=this.forceHidden,E=t.touchingEntry,C=t.touchingLevel,k=t.touchingLateral;if(this.hiddenConsumes&&E){var O=(0,re.buildEntryKey)(E);if(!m[O])if(this.allowReslicing){var q=(0,Zt.__assign)((0,Zt.__assign)({},E),{span:(0,re.intersectSpans)(E.span,r.span)});m[(0,re.buildEntryKey)(q)]=!0,f[C][k]=q,this.splitEntry(E,r,i)}else m[O]=!0,i.push(E)}return n.prototype.handleInvalidInsertion.call(this,t,r,i)},e}(re.SegHierarchy),hp=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.cellElRefs=new re.RefMap,t.frameElRefs=new re.RefMap,t.fgElRefs=new re.RefMap,t.segHarnessRefs=new re.RefMap,t.rootElRef=(0,re.createRef)(),t.state={framePositions:null,maxContentHeight:null,eventInstanceHeights:{}},t}return(0,Zt.__extends)(e,n),e.prototype.render=function(){var t=this,r=this,i=r.props,l=r.state,m=r.context.options,E=i.cells.length,C=fp(i.businessHourSegs,E),k=fp(i.bgEventSegs,E),O=fp(this.getHighlightSegs(),E),q=fp(this.getMirrorSegs(),E),J=function lT(n,e,t,r,i,l,f){var m=new dT;m.allowReslicing=!0,m.strictOrder=r,!0===e||!0===t?(m.maxCoord=l,m.hiddenConsumes=!0):"number"==typeof e?m.maxStackCnt=e:"number"==typeof t&&(m.maxStackCnt=t,m.hiddenConsumes=!0);for(var E=[],C=[],k=0;k<n.length;k+=1){var J=i[(O=n[k]).eventRange.instance.instanceId];null!=J?E.push({index:k,thickness:J,span:{start:O.firstCol,end:O.lastCol+1}}):C.push(O)}for(var se=m.addSegs(E),rt=function uT(n,e,t){for(var r=function cT(n,e){for(var t=[],r=0;r<e;r+=1)t.push([]);for(var i=0,l=n;i<l.length;i++){var f=l[i];for(r=f.span.start;r<f.span.end;r+=1)t[r].push(f)}return t}(n,t.length),i=[],l=[],f=[],m=0;m<t.length;m+=1){for(var E=r[m],C=[],k=0,O=0,q=0,J=E;q<J.length;q++)C.push({seg:lu(Me=e[(se=J[q]).index],m,m+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:se.levelCoord,marginTop:se.levelCoord-k}),k=se.levelCoord+se.thickness;var rt=[];k=0,O=0;for(var at=0,Et=E;at<Et.length;at++){var se,Me=e[(se=Et[at]).index],Dt=se.span.start===m;O+=se.levelCoord-k,k=se.levelCoord+se.thickness,se.span.end-se.span.start>1?(O+=se.thickness,Dt&&rt.push({seg:lu(Me,se.span.start,se.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:se.levelCoord,marginTop:0})):Dt&&(rt.push({seg:lu(Me,se.span.start,se.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:se.levelCoord,marginTop:O}),O=0)}i.push(C),l.push(rt),f.push(O)}return{singleColPlacements:i,multiColPlacements:l,leftoverMargins:f}}(m.toRects(),n,f),at=rt.singleColPlacements,Et=rt.multiColPlacements,kt=rt.leftoverMargins,Dt=[],mn=[],pn=0,Gn=C;pn<Gn.length;pn++){Et[(O=Gn[pn]).firstCol].push({seg:O,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(var $n=O.firstCol;$n<=O.lastCol;$n+=1)at[$n].push({seg:lu(O,$n,$n+1,f),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for($n=0;$n<f.length;$n+=1)Dt.push(0);for(var Lo=0,Vo=se;Lo<Vo.length;Lo++){var O,ag=Vo[Lo],aa=ag.span;for(Et[aa.start].push({seg:lu(O=n[ag.index],aa.start,aa.end,f),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0}),$n=aa.start;$n<aa.end;$n+=1)Dt[$n]+=1,at[$n].push({seg:lu(O,$n,$n+1,f),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for($n=0;$n<f.length;$n+=1)mn.push(kt[$n]);return{singleColPlacements:at,multiColPlacements:Et,moreCnts:Dt,moreMarginTops:mn}}((0,re.sortEventSegs)(i.fgEventSegs,m.eventOrder),i.dayMaxEvents,i.dayMaxEventRows,m.eventOrderStrict,l.eventInstanceHeights,l.maxContentHeight,i.cells),se=J.singleColPlacements,Me=J.multiColPlacements,rt=J.moreCnts,at=J.moreMarginTops,Et=i.eventDrag&&i.eventDrag.affectedInstances||i.eventResize&&i.eventResize.affectedInstances||{};return(0,re.createElement)("tr",{ref:this.rootElRef,role:"row"},i.renderIntro&&i.renderIntro(),i.cells.map(function(kt,Dt){var mn=t.renderFgSegs(Dt,i.forPrint?se[Dt]:Me[Dt],i.todayRange,Et),pn=t.renderFgSegs(Dt,function Sm(n,e){if(!n.length)return[];var t=function Zr(n){for(var e={},t=0,r=n;t<r.length;t++)for(var l=0,f=r[t];l<f.length;l++){var m=f[l];e[m.seg.eventRange.instance.instanceId]=m.absoluteTop}return e}(e);return n.map(function(r){return{seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:t[r.eventRange.instance.instanceId],marginTop:0}})}(q[Dt],Me),i.todayRange,{},Boolean(i.eventDrag),Boolean(i.eventResize),!1);return(0,re.createElement)(vn,{key:kt.key,elRef:t.cellElRefs.createRef(kt.key),innerElRef:t.frameElRefs.createRef(kt.key),dateProfile:i.dateProfile,date:kt.date,showDayNumber:i.showDayNumbers,showWeekNumber:i.showWeekNumbers&&0===Dt,forceDayTop:i.showWeekNumbers,todayRange:i.todayRange,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,extraHookProps:kt.extraHookProps,extraDataAttrs:kt.extraDataAttrs,extraClassNames:kt.extraClassNames,extraDateSpan:kt.extraDateSpan,moreCnt:rt[Dt],moreMarginTop:at[Dt],singlePlacements:se[Dt],fgContentElRef:t.fgElRefs.createRef(kt.key),fgContent:(0,re.createElement)(re.Fragment,null,(0,re.createElement)(re.Fragment,null,mn),(0,re.createElement)(re.Fragment,null,pn)),bgContent:(0,re.createElement)(re.Fragment,null,t.renderFillSegs(O[Dt],"highlight"),t.renderFillSegs(C[Dt],"non-business"),t.renderFillSegs(k[Dt],"bg-event"))})}))},e.prototype.componentDidMount=function(){this.updateSizing(!0)},e.prototype.componentDidUpdate=function(t,r){this.updateSizing(!(0,re.isPropsEqual)(t,this.props))},e.prototype.getHighlightSegs=function(){var t=this.props;return t.eventDrag&&t.eventDrag.segs.length?t.eventDrag.segs:t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:t.dateSelectionSegs},e.prototype.getMirrorSegs=function(){var t=this.props;return t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:[]},e.prototype.renderFgSegs=function(t,r,i,l,f,m,E){var C=this.context,k=this.props.eventSelection,O=this.state.framePositions,q=1===this.props.cells.length,J=f||m||E,se=[];if(O)for(var Me=0,rt=r;Me<rt.length;Me++){var at=rt[Me],Et=at.seg,kt=Et.eventRange.instance.instanceId,Dt=kt+":"+t,mn=at.isVisible&&!l[kt],pn=at.isAbsolute,Gn="",$n="";pn&&(C.isRtl?($n=0,Gn=O.lefts[Et.lastCol]-O.lefts[Et.firstCol]):(Gn=0,$n=O.rights[Et.firstCol]-O.rights[Et.lastCol])),se.push((0,re.createElement)("div",{className:"fc-daygrid-event-harness"+(pn?" fc-daygrid-event-harness-abs":""),key:Dt,ref:J?null:this.segHarnessRefs.createRef(Dt),style:{visibility:mn?"":"hidden",marginTop:pn?"":at.marginTop,top:pn?at.absoluteTop:"",left:Gn,right:$n}},dd(Et)?(0,re.createElement)(Tm,(0,Zt.__assign)({seg:Et,isDragging:f,isSelected:kt===k,defaultDisplayEventEnd:q},(0,re.getSegMeta)(Et,i))):(0,re.createElement)(aT,(0,Zt.__assign)({seg:Et,isDragging:f,isResizing:m,isDateSelecting:E,isSelected:kt===k,defaultDisplayEventEnd:q},(0,re.getSegMeta)(Et,i)))))}return se},e.prototype.renderFillSegs=function(t,r){var i=this.context.isRtl,l=this.props.todayRange,f=this.state.framePositions,m=[];if(f)for(var E=0,C=t;E<C.length;E++){var k=C[E],O=i?{right:0,left:f.lefts[k.lastCol]-f.lefts[k.firstCol]}:{left:0,right:f.rights[k.firstCol]-f.rights[k.lastCol]};m.push((0,re.createElement)("div",{key:(0,re.buildEventRangeKey)(k.eventRange),className:"fc-daygrid-bg-harness",style:O},"bg-event"===r?(0,re.createElement)(re.BgEvent,(0,Zt.__assign)({seg:k},(0,re.getSegMeta)(k,l))):(0,re.renderFill)(r)))}return re.createElement.apply(void 0,(0,Zt.__spreadArray)([re.Fragment,{}],m))},e.prototype.updateSizing=function(t){var i=this.props,l=this.frameElRefs;if(!i.forPrint&&null!==i.clientWidth){if(t){var f=i.cells.map(function(O){return l.currentMap[O.key]});f.length&&this.setState({framePositions:new re.PositionCache(this.rootElRef.current,f,!0,!1)})}var E=this.state.eventInstanceHeights,C=this.queryEventInstanceHeights(),k=!0===i.dayMaxEvents||!0===i.dayMaxEventRows;this.setState({eventInstanceHeights:(0,Zt.__assign)((0,Zt.__assign)({},E),C),maxContentHeight:k?this.computeMaxContentHeight():null})}},e.prototype.queryEventInstanceHeights=function(){var t=this.segHarnessRefs.currentMap,r={};for(var i in t){var l=Math.round(t[i].getBoundingClientRect().height),f=i.split(":")[0];r[f]=Math.max(r[f]||0,l)}return r},e.prototype.computeMaxContentHeight=function(){var t=this.props.cells[0].key,i=this.fgElRefs.currentMap[t];return this.cellElRefs.currentMap[t].getBoundingClientRect().bottom-i.getBoundingClientRect().top},e.prototype.getCellEls=function(){var t=this.cellElRefs.currentMap;return this.props.cells.map(function(r){return t[r.key]})},e}(re.DateComponent);hp.addStateEquality({eventInstanceHeights:re.isPropsEqual});var vx=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.splitBusinessHourSegs=(0,re.memoize)(dp),t.splitBgEventSegs=(0,re.memoize)(dp),t.splitFgEventSegs=(0,re.memoize)(dp),t.splitDateSelectionSegs=(0,re.memoize)(dp),t.splitEventDrag=(0,re.memoize)(Dm),t.splitEventResize=(0,re.memoize)(Dm),t.rowRefs=new re.RefMap,t.handleRootEl=function(r){t.rootEl=r,r?t.context.registerInteractiveComponent(t,{el:r,isHitComboAllowed:t.props.isHitComboAllowed}):t.context.unregisterInteractiveComponent(t)},t}return(0,Zt.__extends)(e,n),e.prototype.render=function(){var t=this,r=this.props,i=r.dateProfile,l=r.dayMaxEventRows,f=r.dayMaxEvents,m=r.expandRows,E=r.cells.length,C=this.splitBusinessHourSegs(r.businessHourSegs,E),k=this.splitBgEventSegs(r.bgEventSegs,E),O=this.splitFgEventSegs(r.fgEventSegs,E),q=this.splitDateSelectionSegs(r.dateSelectionSegs,E),J=this.splitEventDrag(r.eventDrag,E),se=this.splitEventResize(r.eventResize,E),Me=!0===f||!0===l;return Me&&!m&&(Me=!1,l=null,f=null),(0,re.createElement)("div",{className:["fc-daygrid-body",Me?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",m?"":"fc-daygrid-body-natural"].join(" "),ref:this.handleRootEl,style:{width:r.clientWidth,minWidth:r.tableMinWidth}},(0,re.createElement)(re.NowTimer,{unit:"day"},function(at,Et){return(0,re.createElement)(re.Fragment,null,(0,re.createElement)("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:r.clientWidth,minWidth:r.tableMinWidth,height:m?r.clientHeight:""}},r.colGroupNode,(0,re.createElement)("tbody",{role:"presentation"},r.cells.map(function(kt,Dt){return(0,re.createElement)(hp,{ref:t.rowRefs.createRef(Dt),key:kt.length?kt[0].date.toISOString():Dt,showDayNumbers:E>1,showWeekNumbers:r.showWeekNumbers,todayRange:Et,dateProfile:i,cells:kt,renderIntro:r.renderRowIntro,businessHourSegs:C[Dt],eventSelection:r.eventSelection,bgEventSegs:k[Dt].filter(SA),fgEventSegs:O[Dt],dateSelectionSegs:q[Dt],eventDrag:J[Dt],eventResize:se[Dt],dayMaxEvents:f,dayMaxEventRows:l,clientWidth:r.clientWidth,clientHeight:r.clientHeight,forPrint:r.forPrint})}))))}))},e.prototype.prepareHits=function(){this.rowPositions=new re.PositionCache(this.rootEl,this.rowRefs.collect().map(function(t){return t.getCellEls()[0]}),!1,!0),this.colPositions=new re.PositionCache(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)},e.prototype.queryHit=function(t,r){var l=this.colPositions,f=this.rowPositions,m=l.leftToIndex(t),E=f.topToIndex(r);if(null!=E&&null!=m){var C=this.props.cells[E][m];return{dateProfile:this.props.dateProfile,dateSpan:(0,Zt.__assign)({range:this.getCellRange(E,m),allDay:!0},C.extraDateSpan),dayEl:this.getCellEl(E,m),rect:{left:l.lefts[m],right:l.rights[m],top:f.tops[E],bottom:f.bottoms[E]},layer:0}}return null},e.prototype.getCellEl=function(t,r){return this.rowRefs.currentMap[t].getCellEls()[r]},e.prototype.getCellRange=function(t,r){var i=this.props.cells[t][r].date;return{start:i,end:(0,re.addDays)(i,1)}},e}(re.DateComponent);function SA(n){return n.eventRange.def.allDay}var fT=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.forceDayIfListItem=!0,t}return(0,Zt.__extends)(e,n),e.prototype.sliceRange=function(t,r){return r.sliceRange(t)},e}(re.Slicer),hT=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.slicer=new fT,t.tableRef=(0,re.createRef)(),t}return(0,Zt.__extends)(e,n),e.prototype.render=function(){var r=this.props;return(0,re.createElement)(vx,(0,Zt.__assign)({ref:this.tableRef},this.slicer.sliceProps(r,r.dateProfile,r.nextDayThreshold,this.context,r.dayTableModel),{dateProfile:r.dateProfile,cells:r.dayTableModel.cells,colGroupNode:r.colGroupNode,tableMinWidth:r.tableMinWidth,renderRowIntro:r.renderRowIntro,dayMaxEvents:r.dayMaxEvents,dayMaxEventRows:r.dayMaxEventRows,showWeekNumbers:r.showWeekNumbers,expandRows:r.expandRows,headerAlignElRef:r.headerAlignElRef,clientWidth:r.clientWidth,clientHeight:r.clientHeight,forPrint:r.forPrint}))},e}(re.DateComponent),IA=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.buildDayTableModel=(0,re.memoize)(MA),t.headerRef=(0,re.createRef)(),t.tableRef=(0,re.createRef)(),t}return(0,Zt.__extends)(e,n),e.prototype.render=function(){var t=this,r=this.context,i=r.options,f=this.props,m=this.buildDayTableModel(f.dateProfile,r.dateProfileGenerator),E=i.dayHeaders&&(0,re.createElement)(re.DayHeader,{ref:this.headerRef,dateProfile:f.dateProfile,dates:m.headerDates,datesRepDistinctDays:1===m.rowCnt}),C=function(k){return(0,re.createElement)(hT,{ref:t.tableRef,dateProfile:f.dateProfile,dayTableModel:m,businessHours:f.businessHours,dateSelection:f.dateSelection,eventStore:f.eventStore,eventUiBases:f.eventUiBases,eventSelection:f.eventSelection,eventDrag:f.eventDrag,eventResize:f.eventResize,nextDayThreshold:i.nextDayThreshold,colGroupNode:k.tableColGroupNode,tableMinWidth:k.tableMinWidth,dayMaxEvents:i.dayMaxEvents,dayMaxEventRows:i.dayMaxEventRows,showWeekNumbers:i.weekNumbers,expandRows:!f.isHeightAuto,headerAlignElRef:t.headerElRef,clientWidth:k.clientWidth,clientHeight:k.clientHeight,forPrint:f.forPrint})};return i.dayMinWidth?this.renderHScrollLayout(E,C,m.colCnt,i.dayMinWidth):this.renderSimpleLayout(E,C)},e}(wA);function MA(n,e){var t=new re.DaySeriesModel(n.renderRange,e);return new re.DayTableModel(t,/year|month|week/.test(n.currentRangeUnit))}var xA=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,Zt.__extends)(e,n),e.prototype.buildRenderRange=function(t,r,i){var C,l=this.props.dateEnv,f=n.prototype.buildRenderRange.call(this,t,r,i),m=f.start,E=f.end;if(/^(year|month)$/.test(r)&&(m=l.startOfWeek(m),(C=l.startOfWeek(E)).valueOf()!==E.valueOf()&&(E=(0,re.addWeeks)(C,1))),this.props.monthMode&&this.props.fixedWeekCount){var k=Math.ceil((0,re.diffWeeks)(m,E));E=(0,re.addWeeks)(E,6-k)}return{start:m,end:E}},e}(re.DateProfileGenerator);const NA=(0,re.createPlugin)({initialView:"dayGridMonth",views:{dayGrid:{component:IA,dateProfileGeneratorClass:xA},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}});var pT=$(2559),gT=$.n(pT),Si=$(3580),mT=$(5599),kA="undefined"!=typeof globalThis?globalThis:window;kA.FullCalendarVDom?console.warn("FullCalendar VDOM already loaded"):kA.FullCalendarVDom={Component:Si.Component,createElement:Si.createElement,render:Si.render,createRef:Si.createRef,Fragment:Si.Fragment,createContext:function PA(n){var e=Si.createContext(n),t=e.Provider;return e.Provider=function(){var r=this,i=!this.getChildContext,l=t.apply(this,arguments);if(i){var f=[];this.shouldComponentUpdate=function(m){r.props.value!==m.value&&f.forEach(function(E){E.context=m.value,E.forceUpdate()})},this.sub=function(m){f.push(m);var E=m.componentWillUnmount;m.componentWillUnmount=function(){f.splice(f.indexOf(m),1),E&&E.call(m)}}}return l},e},createPortal:mT.createPortal,flushSync:function vT(n){n();var e=Si.options.debounceRendering,t=[];for(Si.options.debounceRendering=function r(i){t.push(i)},Si.render(Si.createElement(Im,{}),document.createElement("div"));t.length;)t.shift()();Si.options.debounceRendering=e},unmountComponentAtNode:function OA(n){Si.render(null,n)}};var Im=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,Zt.__extends)(e,n),e.prototype.render=function(){return Si.createElement("div",{})},e.prototype.componentDidMount=function(){this.setState({})},e}(Si.Component),FA=function(n){function e(t,r){void 0===r&&(r={});var i=n.call(this)||this;return i.isRendering=!1,i.isRendered=!1,i.currentClassNames=[],i.customContentRenderId=0,i.handleAction=function(l){switch(l.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":i.renderRunner.tryDrain()}},i.handleData=function(l){i.currentData=l,i.renderRunner.request(l.calendarOptions.rerenderDelay)},i.handleRenderRequest=function(){if(i.isRendering){i.isRendered=!0;var l=i.currentData;(0,re.flushSync)(function(){(0,re.render)((0,re.createElement)(re.CalendarRoot,{options:l.calendarOptions,theme:l.theme,emitter:l.emitter},function(f,m,E,C){return i.setClassNames(f),i.setHeight(m),(0,re.createElement)(re.CustomContentRenderContext.Provider,{value:i.customContentRenderId},(0,re.createElement)(re.CalendarContent,(0,Zt.__assign)({isHeightAuto:E,forPrint:C},l)))}),i.el)})}else i.isRendered&&(i.isRendered=!1,(0,re.unmountComponentAtNode)(i.el),i.setClassNames([]),i.setHeight(""))},i.el=t,i.renderRunner=new re.DelayedRunner(i.handleRenderRequest),new re.CalendarDataManager({optionOverrides:r,calendarApi:i,onAction:i.handleAction,onData:i.handleData}),i}return(0,Zt.__extends)(e,n),Object.defineProperty(e.prototype,"view",{get:function(){return this.currentData.viewApi},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.isRendering;t?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),t&&this.updateSize()},e.prototype.destroy=function(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())},e.prototype.updateSize=function(){var t=this;(0,re.flushSync)(function(){n.prototype.updateSize.call(t)})},e.prototype.batchRendering=function(t){this.renderRunner.pause("batchRendering"),t(),this.renderRunner.resume("batchRendering")},e.prototype.pauseRendering=function(){this.renderRunner.pause("pauseRendering")},e.prototype.resumeRendering=function(){this.renderRunner.resume("pauseRendering",!0)},e.prototype.resetOptions=function(t,r){this.currentDataManager.resetOptions(t,r)},e.prototype.setClassNames=function(t){if(!(0,re.isArraysEqual)(t,this.currentClassNames)){for(var r=this.el.classList,i=0,l=this.currentClassNames;i<l.length;i++)r.remove(l[i]);for(var m=0,E=t;m<E.length;m++)r.add(E[m]);this.currentClassNames=t}},e.prototype.setHeight=function(t){(0,re.applyStyleProp)(this.el,"height",t)},e}(re.CalendarApi);const yT=Object.prototype.hasOwnProperty;function tc(n){return Array.isArray(n)?n.map(tc):n instanceof Date?new Date(n.valueOf()):"object"==typeof n&&n?LA(n,tc):n}function pp(n){return"object"==typeof n&&(Array.isArray(n)?n=Array.prototype.slice.call(n):n&&(n=Object.assign({},n))),n}function LA(n,e){const t={};for(const r in n)yT.call(n,r)&&(t[r]=e(n[r],r));return t}const VA={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0};let _T=(()=>{class n{constructor(t){this.element=t,this.optionSnapshot={}}ngAfterViewInit(){const{deepChangeDetection:t}=this,r=this.options||{};this.optionSnapshot=LA(r,(i,l)=>t&&VA[l]?tc(i):i),this.calendar=new FA(this.element.nativeElement,r),this.calendar.render()}ngDoCheck(){if(this.calendar){const{deepChangeDetection:t,optionSnapshot:r}=this,i=this.options||{},l={};let f=!1;for(const E in i)if(i.hasOwnProperty(E)){let C=i[E];t&&VA[E]?gT()(r[E],C)||(r[E]=tc(C),f=!0,C=pp(C)):r[E]!==C&&(r[E]=C,f=!0),l[E]=C}const m=Object.keys(r);for(const E of m)E in i||(delete r[E],f=!0);f&&(this.calendar.pauseRendering(),this.calendar.resetOptions(l))}}ngAfterContentChecked(){this.calendar&&this.calendar.resumeRendering()}ngOnDestroy(){this.calendar&&(this.calendar.destroy(),this.calendar=null)}getApi(){return this.calendar}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq))},n.\u0275cmp=h.Xpm({type:n,selectors:[["full-calendar"]],inputs:{options:"options",deepChangeDetection:"deepChangeDetection"},decls:0,vars:0,template:function(t,r){},styles:['@charset "UTF-8";.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{vertical-align:top;padding:0}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype");font-weight:400;font-style:normal}.fc-icon{display:inline-block;width:1em;height:1em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;font-family:fcicons!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;overflow:visible;text-transform:none;margin:0;font-family:inherit;font-size:inherit;line-height:inherit}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{padding:0;border-style:none}.fc .fc-button{display:inline-block;font-weight:400;text-align:center;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.4em .65em;font-size:1em;line-height:1.5;border-radius:.25em}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{outline:0;box-shadow:0 0 0 .2rem rgba(44,62,80,.25)}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50)}.fc .fc-button-primary:hover{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#1e2b37;background-color:var(--fc-button-hover-bg-color,#1e2b37);border-color:#1a252f;border-color:var(--fc-button-hover-border-color,#1a252f)}.fc .fc-button-primary:disabled{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#1a252f;background-color:var(--fc-button-active-bg-color,#1a252f);border-color:#151e27;border-color:var(--fc-button-active-border-color,#151e27)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{vertical-align:middle;font-size:1.5em}.fc .fc-button-group{position:relative;display:inline-flex;vertical-align:middle}.fc .fc-button-group>.fc-button{position:relative;flex:1 1 auto}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){margin-right:-1px;border-top-right-radius:0;border-bottom-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-top-left-radius:0;border-bottom-left-radius:0}.fc .fc-toolbar{display:flex;justify-content:space-between;align-items:center}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{position:absolute;top:0;right:0;left:0;bottom:0}.fc .fc-scroller-harness{position:relative;overflow:hidden;direction:ltr}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{width:100%;table-layout:fixed}.fc .fc-scrollgrid table{border-top-style:hidden;border-left-style:hidden;border-right-style:hidden}.fc .fc-scrollgrid{border-collapse:separate;border-right-width:0;border-bottom-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section>td,.fc .fc-scrollgrid-section table{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-top-width:0;border-left-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:-webkit-sticky;position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:-webkit-sticky;position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{position:absolute;top:0;left:0;right:0;bottom:0}.fc .fc-non-business{background:hsla(0,0%,84.3%,.3);background:var(--fc-non-business-color,hsla(0,0%,84.3%,.3))}.fc .fc-bg-event{background:#8fdf82;background:var(--fc-bg-event-color,#8fdf82);opacity:.3;opacity:var(--fc-bg-event-opacity,.3)}.fc .fc-bg-event .fc-event-title{margin:.5em;font-size:.85em;font-size:var(--fc-small-font-size,.85em);font-style:italic}.fc .fc-highlight{background:rgba(188,232,241,.3);background:var(--fc-highlight-color,rgba(188,232,241,.3))}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{border-radius:4px;border-radius:calc(var(--fc-event-resizer-dot-total-width, 8px) / 2);border-width:1px;width:8px;width:var(--fc-event-resizer-dot-total-width,8px);height:8px;height:var(--fc-event-resizer-dot-total-width,8px);border:var(--fc-event-resizer-dot-border-width,1px) solid;border-color:inherit;background:#fff;background:var(--fc-page-bg-color,#fff)}.fc-event-selected .fc-event-resizer:before{content:"";position:absolute;top:-20px;left:-20px;right:-20px;bottom:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{content:"";position:absolute;z-index:3;top:0;left:0;right:0;bottom:0}.fc-event-selected:after,.fc-event:focus:after{content:"";background:rgba(0,0,0,.25);background:var(--fc-event-selected-overlay-color,rgba(0,0,0,.25));position:absolute;z-index:1;top:-1px;left:-1px;right:-1px;bottom:-1px}.fc-h-event{display:block;border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8)}.fc-h-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;vertical-align:top;left:0;right:0;max-width:100%;overflow:hidden}.fc-h-event.fc-event-selected:before{top:-10px;bottom:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-top-left-radius:0;border-bottom-left-radius:0;border-left-width:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-top-right-radius:0;border-bottom-right-radius:0;border-right-width:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{top:0;bottom:0;width:8px;width:var(--fc-event-resizer-thickness,8px)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:-4px;left:calc(-.5 * var(--fc-event-resizer-thickness, 8px))}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:-4px;right:calc(-.5 * var(--fc-event-resizer-thickness, 8px))}.fc-h-event.fc-event-selected .fc-event-resizer{top:50%;margin-top:-4px;margin-top:calc(-.5 * var(--fc-event-resizer-dot-total-width, 8px))}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:-4px;left:calc(-.5 * var(--fc-event-resizer-dot-total-width, 8px))}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:-4px;right:calc(-.5 * var(--fc-event-resizer-dot-total-width, 8px))}.fc .fc-popover{position:absolute;z-index:9999;box-shadow:0 2px 6px rgba(0,0,0,.15)}.fc .fc-popover-header{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;opacity:.65;font-size:1.1em}.fc-theme-standard .fc-popover{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd);background:#fff;background:var(--fc-page-bg-color,#fff)}.fc-theme-standard .fc-popover-header{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}:root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{content:"";clear:both;display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-daygrid-day-frame{position:relative;min-height:100%}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{position:relative;z-index:4;padding:4px}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{position:absolute;left:0;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{position:relative;min-height:2em}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{position:absolute;top:0;left:0;right:0}.fc .fc-daygrid-bg-harness{position:absolute;top:0;bottom:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{z-index:6;margin-top:1px}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;padding:2px 3px 0}.fc .fc-daygrid-day-bottom:before{content:"";clear:both;display:table}.fc .fc-daygrid-more-link{position:relative;z-index:4;cursor:pointer}.fc .fc-daygrid-week-number{position:absolute;z-index:5;top:0;padding:2px;min-width:1.5em;text-align:center;background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));color:grey;color:var(--fc-neutral-text-color,grey)}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-week-number{left:0;border-radius:0 0 3px 0}.fc-direction-rtl .fc-daygrid-week-number{right:0;border-radius:0 0 0 3px}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{position:relative;white-space:nowrap;border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{display:flex;align-items:center;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;min-width:0;overflow:hidden;font-weight:700}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{top:-10px;bottom:-10px}.fc-daygrid-event-dot{margin:0 4px;box-sizing:content-box;width:0;height:0;border:4px solid #3788d8;border:calc(var(--fc-daygrid-event-dot-width, 8px) / 2) solid var(--fc-event-border-color,#3788d8);border-radius:4px;border-radius:calc(var(--fc-daygrid-event-dot-width, 8px) / 2)}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}.fc-v-event{display:block;border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8)}.fc-v-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff);height:100%}.fc-v-event .fc-event-main-frame{height:100%;display:flex;flex-direction:column}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{top:0;bottom:0;max-height:100%;overflow:hidden}.fc-v-event:not(.fc-event-start){border-top-width:0;border-top-left-radius:0;border-top-right-radius:0}.fc-v-event:not(.fc-event-end){border-bottom-width:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:8px;height:var(--fc-event-resizer-thickness,8px);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:-4px;margin-left:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{position:relative;z-index:1;min-height:100%}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{height:1.5em;border-bottom:0}.fc .fc-timegrid-slot:empty:before{content:"\xa0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{overflow:hidden;display:flex;align-items:center;justify-content:flex-end}.fc .fc-timegrid-axis-cushion{max-width:60px;flex-shrink:0}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-timegrid-col.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc-media-screen .fc-timegrid-cols{position:absolute;top:0;left:0;right:0;bottom:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{position:absolute;top:0;left:0;right:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{position:absolute;left:0;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{position:absolute;top:0;bottom:0;left:0;right:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px #fff;box-shadow:0 0 0 1px var(--fc-page-bg-color,#fff)}.fc-timegrid-event,.fc-timegrid-more-link{font-size:.85em;font-size:var(--fc-small-font-size,.85em);border-radius:3px}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{white-space:nowrap;font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\xa0-\xa0"}.fc-timegrid-event-short .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timegrid-more-link{position:absolute;z-index:9999;color:inherit;color:var(--fc-more-link-text-color,inherit);background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);cursor:pointer;margin-bottom:1px}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{position:absolute;z-index:4;left:0;right:0;border:0 solid red;border-color:var(--fc-now-indicator-color,red);border-top:1px solid var(--fc-now-indicator-color,red)}.fc .fc-timegrid-now-indicator-arrow{position:absolute;z-index:4;margin-top:-5px;border-style:solid;border-color:red;border-color:var(--fc-now-indicator-color,red)}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{left:0;border-width:5px 0 5px 6px;border-top-color:transparent;border-bottom-color:transparent}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{right:0;border-width:5px 6px 5px 0;border-top-color:transparent;border-bottom-color:transparent}:root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-list-empty{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));height:100%;display:flex;justify-content:center;align-items:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{width:100%;border-style:hidden}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{position:-webkit-sticky;position:sticky;top:0;background:#fff;background:var(--fc-page-bg-color,#fff)}.fc .fc-list-table thead{position:absolute;left:-10000px}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{content:"";clear:both;display:table}.fc-theme-standard .fc-list-day-cushion{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:#f5f5f5;background-color:var(--fc-list-event-hover-bg-color,#f5f5f5)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{display:inline-block;box-sizing:content-box;width:0;height:0;border:5px solid #3788d8;border:calc(var(--fc-list-event-dot-width, 10px) / 2) solid var(--fc-event-border-color,#3788d8);border-radius:5px;border-radius:calc(var(--fc-list-event-dot-width, 10px) / 2)}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}.fc-theme-bootstrap a:not([href]){color:inherit}.fc .fc-event,.fc .fc-scrollgrid table tr{-moz-column-break-inside:avoid;break-inside:avoid}.fc-media-print{display:block;max-width:100%}.fc-media-print .fc-bg-event,.fc-media-print .fc-non-business,.fc-media-print .fc-timegrid-axis-chunk,.fc-media-print .fc-timegrid-slots,.fc-media-print .fc-timeline-slots{display:none}.fc-media-print .fc-h-event,.fc-media-print .fc-toolbar button,.fc-media-print .fc-v-event{color:#000!important;background:#fff!important}.fc-media-print .fc-event,.fc-media-print .fc-event-main{color:#000!important}.fc-media-print .fc-timegrid-event{margin:.5em 0}.fc .fc-timeline-body{min-height:100%;position:relative;z-index:1}.fc .fc-timeline-slots{position:absolute;z-index:1;top:0;bottom:0}.fc .fc-timeline-slots>table{height:100%}.fc .fc-timeline-slot-minor{border-style:dotted}.fc .fc-timeline-slot-frame{display:flex;align-items:center;justify-content:center}.fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame{justify-content:flex-start}.fc .fc-timeline-header-row:last-child .fc-timeline-slot-frame{overflow:hidden}.fc .fc-timeline-slot-cushion{padding:4px 5px;white-space:nowrap}.fc-direction-ltr .fc-timeline-slot{border-right:0!important}.fc-direction-rtl .fc-timeline-slot{border-left:0!important}.fc .fc-timeline-now-indicator-container{position:absolute;z-index:4;top:0;bottom:0;left:0;right:0;width:0}.fc .fc-timeline-now-indicator-arrow,.fc .fc-timeline-now-indicator-line{position:absolute;top:0;border-style:solid;border-color:red;border-color:var(--fc-now-indicator-color,red)}.fc .fc-timeline-now-indicator-arrow{margin:0 -6px;border-width:6px 5px 0;border-left-color:transparent;border-right-color:transparent}.fc .fc-timeline-now-indicator-line{margin:0 -1px;bottom:0;border-width:0 0 0 1px}.fc .fc-timeline-events{position:relative;z-index:3;width:0}.fc .fc-timeline-event-harness,.fc .fc-timeline-more-link{position:absolute;top:0}.fc-timeline-event{z-index:1}.fc-timeline-event.fc-event-mirror{z-index:2}.fc-timeline-event{position:relative;display:flex;align-items:center;border-radius:0;padding:2px 1px;margin-bottom:1px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timeline-event .fc-event-main{flex-grow:1;flex-shrink:1;min-width:0}.fc-timeline-event .fc-event-time{font-weight:700}.fc-timeline-event .fc-event-time,.fc-timeline-event .fc-event-title{white-space:nowrap;padding:0 2px}.fc-direction-ltr .fc-timeline-event.fc-event-end,.fc-direction-ltr .fc-timeline-more-link{margin-right:1px}.fc-direction-rtl .fc-timeline-event.fc-event-end,.fc-direction-rtl .fc-timeline-more-link{margin-left:1px}.fc-timeline-overlap-disabled .fc-timeline-event{padding-top:5px;padding-bottom:5px;margin-bottom:0}.fc-timeline-event:not(.fc-event-end):after,.fc-timeline-event:not(.fc-event-start):before{content:"";flex-grow:0;flex-shrink:0;opacity:.5;width:0;height:0;margin:0 1px;border-color:transparent #000;border-style:solid;border-width:5px}.fc-direction-ltr .fc-timeline-event:not(.fc-event-start):before,.fc-direction-rtl .fc-timeline-event:not(.fc-event-end):after{border-left:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-end):after,.fc-direction-rtl .fc-timeline-event:not(.fc-event-start):before{border-right:0}.fc-timeline-more-link{font-size:.85em;font-size:var(--fc-small-font-size,.85em);color:inherit;color:var(--fc-more-link-text-color,inherit);background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);padding:1px;cursor:pointer}.fc-timeline-more-link-inner{display:inline-block;left:0;right:0;padding:2px}.fc .fc-timeline-bg{position:absolute;z-index:2;top:0;bottom:0;width:0;left:0;right:0}.fc .fc-timeline-bg .fc-non-business{z-index:1}.fc .fc-timeline-bg .fc-bg-event{z-index:2}.fc .fc-timeline-bg .fc-highlight{z-index:3}.fc .fc-timeline-bg-harness{position:absolute;top:0;bottom:0}.fc .fc-resource-timeline-divider{width:3px;cursor:col-resize}.fc .fc-resource-group{font-weight:inherit;text-align:inherit}.fc .fc-resource-timeline .fc-resource-group:not([rowspan]){background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc .fc-timeline-lane-frame{position:relative}.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events{box-sizing:content-box;padding-bottom:10px}.fc-timeline-body-expandrows td.fc-timeline-lane{position:relative}.fc-timeline-body-expandrows .fc-timeline-lane-frame{position:static}.fc-datagrid-cell-frame-liquid{height:100%}.fc-liquid-hack .fc-datagrid-cell-frame-liquid{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-datagrid-header .fc-datagrid-cell-frame{position:relative;display:flex;justify-content:flex-start;align-items:center}.fc .fc-datagrid-cell-resizer{position:absolute;z-index:1;top:0;bottom:0;width:5px;cursor:col-resize}.fc .fc-datagrid-cell-cushion{padding:8px;white-space:nowrap;overflow:hidden}.fc .fc-datagrid-expander{cursor:pointer;opacity:.65}.fc .fc-datagrid-expander .fc-icon{display:inline-block;width:1em}.fc .fc-datagrid-expander-placeholder{cursor:auto}.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder{display:none}.fc-direction-ltr .fc-datagrid-cell-resizer{right:-3px}.fc-direction-rtl .fc-datagrid-cell-resizer{left:-3px}.fc-direction-ltr .fc-datagrid-expander{margin-right:3px}.fc-direction-rtl .fc-datagrid-expander{margin-left:3px}'],encapsulation:2}),n})(),P_=(()=>{class n{static registerPlugins(t){re.globalPlugins.push(...t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[]]}),n})();const BA=["fullcalendar"];let UA=(()=>{class n{constructor(){this.addEventClick=()=>{var t,r;const i=tr(Date.now(),"YYYY-MM-dd","en_US"),l=prompt("Enter a date in YYYY-MM-DD format",i),f=new Date(l+"T00:00:00"),m=prompt("Enter the number of minutes you used Mindful today");isNaN(f.valueOf())?alert("Invalid date."):(null===(t=this.calendarComponent)||void 0===t||t.getApi().addEvent({title:"New Meditation for "+m+" minutes.",start:f,allDay:!0}),console.log(null===(r=this.calendarComponent)||void 0===r?void 0:r.getApi().getEvents()),alert("Great. Now, update your database..."))},this.dateClick=t=>{alert("Date: "+t.dateStr),alert("Resource ID: "+t.resource.id)},this.eventClick=t=>{alert("Event: "+t.event.title)},this.calendarOptions={plugins:[NA],eventDisplay:"",defaultRangeSeparator:"",titleRangeSeparator:"",defaultTimedEventDuration:"",defaultAllDayEventDuration:{day:1},forceEventDuration:!0,nextDayThreshold:"",dayHeaders:!0,initialView:"dayGridMonth",aspectRatio:1,headerToolbar:{start:"addEventButton",center:"",end:"dayGridMonth today prev next"},weekends:!0,weekNumbers:!0,editable:!0,nowIndicator:!0,themeSystem:"bootstrap",dragRevertDuration:1,dayPopoverFormat:{month:"2-digit",day:"2-digit",year:"2-digit"},handleWindowResize:!0,windowResizeDelay:0,longPressDelay:0,eventDragMinDistance:0,expandRows:!0,navLinks:!0,selectable:!0,eventMinHeight:0,eventMinWidth:0,eventShortHeight:0,customButtons:{addEventButton:{text:"Log New Meditation",click:this.addEventClick}},eventClick:this.addEventClick.bind(this)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-calendar"]],viewQuery:function(t,r){if(1&t&&h.Gf(BA,5),2&t){let i;h.iGM(i=h.CRH())&&(r.calendarComponent=i.first)}},decls:5,vars:1,consts:[[1,"container","formMain"],[1,"row"],[1,"col-12"],["id","calendar-main",3,"options"],["fullcalendar",""]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2),h._UZ(3,"full-calendar",3,4),h.qZA()()()),2&t&&(h.xp6(3),h.Q6J("options",r.calendarOptions))},directives:[_T],styles:[".form-group[_ngcontent-%COMP%]{padding:1rem}#calendar-main[_ngcontent-%COMP%]{position:relative;scale:.01vh;max-width:70vw!important;max-height:70vh!important;padding:25px;color:#fff}"]}),n})();var it=$(5861);const O_=["toast-component",""];function ET(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",5),h.NdJ("click",function(){return h.CHM(t),h.oxw().remove()}),h.TgZ(1,"span",6),h._uU(2,"\xd7"),h.qZA()()}}function bT(n,e){if(1&n&&(h.ynx(0),h._uU(1),h.BQk()),2&n){const t=h.oxw(2);h.xp6(1),h.hij("[",t.duplicatesCount+1,"]")}}function yx(n,e){if(1&n&&(h.TgZ(0,"div"),h._uU(1),h.YNc(2,bT,2,1,"ng-container",4),h.qZA()),2&n){const t=h.oxw();h.Tol(t.options.titleClass),h.uIk("aria-label",t.title),h.xp6(1),h.hij(" ",t.title," "),h.xp6(1),h.Q6J("ngIf",t.duplicatesCount)}}function _x(n,e){if(1&n&&h._UZ(0,"div",7),2&n){const t=h.oxw();h.Tol(t.options.messageClass),h.Q6J("innerHTML",t.message,h.oJD)}}function Ex(n,e){if(1&n&&(h.TgZ(0,"div",8),h._uU(1),h.qZA()),2&n){const t=h.oxw();h.Tol(t.options.messageClass),h.uIk("aria-label",t.message),h.xp6(1),h.hij(" ",t.message," ")}}function bx(n,e){if(1&n&&(h.TgZ(0,"div"),h._UZ(1,"div",9),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Udp("width",t.width+"%")}}function HA(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",5),h.NdJ("click",function(){return h.CHM(t),h.oxw().remove()}),h.TgZ(1,"span",6),h._uU(2,"\xd7"),h.qZA()()}}function Mm(n,e){if(1&n&&(h.ynx(0),h._uU(1),h.BQk()),2&n){const t=h.oxw(2);h.xp6(1),h.hij("[",t.duplicatesCount+1,"]")}}function AT(n,e){if(1&n&&(h.TgZ(0,"div"),h._uU(1),h.YNc(2,Mm,2,1,"ng-container",4),h.qZA()),2&n){const t=h.oxw();h.Tol(t.options.titleClass),h.uIk("aria-label",t.title),h.xp6(1),h.hij(" ",t.title," "),h.xp6(1),h.Q6J("ngIf",t.duplicatesCount)}}function wT(n,e){if(1&n&&h._UZ(0,"div",7),2&n){const t=h.oxw();h.Tol(t.options.messageClass),h.Q6J("innerHTML",t.message,h.oJD)}}function jA(n,e){if(1&n&&(h.TgZ(0,"div",8),h._uU(1),h.qZA()),2&n){const t=h.oxw();h.Tol(t.options.messageClass),h.uIk("aria-label",t.message),h.xp6(1),h.hij(" ",t.message," ")}}function gp(n,e){if(1&n&&(h.TgZ(0,"div"),h._UZ(1,"div",9),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Udp("width",t.width+"%")}}class CT{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class xm{constructor(e,t,r,i,l,f){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=l,this.toastRef=f,this._onTap=new fi.x,this._onAction=new fi.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const F_={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},GA=new h.OlP("ToastConfig");class TT{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new fi.x,this._activate=new fi.x,this._manualClose=new fi.x,this._resetTimeout=new fi.x,this._countDuplicate=new fi.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class Tf{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,r){return e===xm?this._toastPackage:this._parentInjector.get(e,t,r)}}class ST extends class DT{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class zA{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let IT=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$A=(()=>{class n{constructor(t,r,i,l){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=i,this._document=l,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new ST(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new zA(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(IT),h.LFG(h._Vd),h.LFG(h.z2F),h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mp=(()=>{class n{constructor(t,r,i,l,f){this.overlay=r,this._injector=i,this.sanitizer=l,this.ngZone=f,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,r,i={},l=""){return this._preBuildNotification(l,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,l){const{includeTitleDuplicates:f}=this.toastrConfig;for(const m of this.toasts){const E=f&&m.title===t;if((!f||E)&&m.message===r)return m.toastRef.onDuplicate(i,l),m}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,l){return l.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,l)):this._buildNotification(t,r,i,l)}_buildNotification(t,r,i,l){if(!l.toastComponent)throw new Error("toastComponent required");const f=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&l.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==f)return f;this.previousToastMessage=r;let m=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(m=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const E=this.overlay.create(l.positionClass,this.overlayContainer);this.index=this.index+1;let C=r;r&&l.enableHtml&&(C=this.sanitizer.sanitize(h.q3G.HTML,r));const k=new TT(E),O=new xm(this.index,l,C,i,t,k),q=new Tf(O,this._injector),J=new CT(l.toastComponent,q),se=E.attach(J,this.toastrConfig.newestOnTop);k.componentInstance=se.instance;const Me={toastId:this.index,title:i||"",message:r||"",toastRef:k,onShown:k.afterActivate(),onHidden:k.afterClosed(),onTap:O.onTap(),onAction:O.onAction(),portal:se};return m||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Me.toastRef.activate()})),this.toasts.push(Me),Me}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(GA),h.LFG($A),h.LFG(h.zs3),h.LFG(po),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WA=(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(l=>{this.duplicatesCount=l})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(mp),h.Y36(xm),h.Y36(h.R0b))},n.\u0275cmp=h.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&h.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(h.d8E("@flyInOut",r.state),h.Tol(r.toastClasses),h.Udp("display",r.displayStyle))},attrs:O_,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(h.YNc(0,ET,3,0,"button",0),h.YNc(1,yx,3,5,"div",1),h.YNc(2,_x,1,3,"div",2),h.YNc(3,Ex,2,4,"div",3),h.YNc(4,bx,2,2,"div",4)),2&t&&(h.Q6J("ngIf",r.options.closeButton),h.xp6(1),h.Q6J("ngIf",r.title),h.xp6(1),h.Q6J("ngIf",r.message&&r.options.enableHtml),h.xp6(1),h.Q6J("ngIf",r.message&&!r.options.enableHtml),h.xp6(1),h.Q6J("ngIf",r.options.progressBar))},directives:[Dr],encapsulation:2,data:{animation:[ry("flyInOut",[Dh("inactive",cl({opacity:0})),Dh("active",cl({opacity:1})),Dh("removed",cl({opacity:0})),xg("inactive => active",Sg("{{ easeTime }}ms {{ easing }}")),xg("active => removed",Sg("{{ easeTime }}ms {{ easing }}"))])]}}),n})();const MT=Object.assign(Object.assign({},F_),{toastComponent:WA});let L_=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:GA,useValue:{default:MT,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[rs]]}),n})(),qA=(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.appRef=i,this.width=-1,this.toastClasses="",this.state="inactive",this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(l=>{this.duplicatesCount=l})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(mp),h.Y36(xm),h.Y36(h.z2F))},n.\u0275cmp=h.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,r){1&t&&h.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(h.Tol(r.toastClasses),h.Udp("display",r.displayStyle))},attrs:O_,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(h.YNc(0,HA,3,0,"button",0),h.YNc(1,AT,3,5,"div",1),h.YNc(2,wT,1,3,"div",2),h.YNc(3,jA,2,4,"div",3),h.YNc(4,gp,2,2,"div",4)),2&t&&(h.Q6J("ngIf",r.options.closeButton),h.xp6(1),h.Q6J("ngIf",r.title),h.xp6(1),h.Q6J("ngIf",r.message&&r.options.enableHtml),h.xp6(1),h.Q6J("ngIf",r.message&&!r.options.enableHtml),h.xp6(1),h.Q6J("ngIf",r.options.progressBar))},directives:[Dr],encapsulation:2}),n})();Object.assign(Object.assign({},F_),{toastComponent:qA});var Rm=$(198),Kn=$(2090),ml=$(9681),nc=$(1877),vp=$(4859),RT=$(4986),Ii=$(1038);function V_(){return(0,ro.e)((n,e)=>{let t,r=!1;n.subscribe((0,jr.x)(e,i=>{const l=t;t=i,r&&e.next([l,i]),r=!0}))})}function kT(n,e){return n===e}var Qt,Va=$(2011),PT=($(5881),$(3942)),ZA="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},vl={},B_=B_||{},Nn=ZA||self;function Nm(){}function U_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function yp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var _p="closure_uid_"+(1e9*Math.random()>>>0),KA=0;function j_(n,e,t){return n.call.apply(n.bind,arguments)}function OT(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Xi(n,e,t){return(Xi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?j_:OT).apply(null,arguments)}function Sf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function es(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,l){for(var f=Array(arguments.length-2),m=2;m<arguments.length;m++)f[m-2]=arguments[m];return e.prototype[i].apply(r,f)}}function uu(){this.s=this.s,this.o=this.o}var QA={};uu.prototype.s=!1,uu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function H_(n){return Object.prototype.hasOwnProperty.call(n,_p)&&n[_p]||(n[_p]=++KA)}(this);delete QA[n]}},uu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const YA=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},G_=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in i&&e.call(t,i[l],l,n)};function JA(n){return Array.prototype.concat.apply([],arguments)}function If(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function km(n){return/^[\s\xa0]*$/.test(n)}var io,fd=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function _i(n,e){return-1!=n.indexOf(e)}function z_(n,e){return n<e?-1:n>e?1:0}e:{var $_=Nn.navigator;if($_){var XA=$_.userAgent;if(XA){io=XA;break e}}io=""}function W_(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function ew(n){const e={};for(const t in n)e[t]=n[t];return e}var tw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q_(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let l=0;l<tw.length;l++)t=tw[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Pm(n){return Pm[" "](n),n}Pm[" "]=Nm;var Mf,n,Om=_i(io,"Opera"),yl=_i(io,"Trident")||_i(io,"MSIE"),nw=_i(io,"Edge"),Fm=nw||yl,K_=_i(io,"Gecko")&&!(_i(io.toLowerCase(),"webkit")&&!_i(io,"Edge"))&&!(_i(io,"Trident")||_i(io,"MSIE"))&&!_i(io,"Edge"),LT=_i(io.toLowerCase(),"webkit")&&!_i(io,"Edge");function rw(){var n=Nn.document;return n?n.documentMode:void 0}e:{var Q_="",iw=(n=io,K_?/rv:([^\);]+)(\)|;)/.exec(n):nw?/Edge\/([\d\.]+)/.exec(n):yl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):LT?/WebKit\/(\S+)/.exec(n):Om?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(iw&&(Q_=iw?iw[1]:""),yl){var Y_=rw();if(null!=Y_&&Y_>parseFloat(Q_)){Mf=String(Y_);break e}}Mf=Q_}var VT={};var Ix=Nn.document&&yl&&(rw()||parseInt(Mf,10))||void 0,sw=function(){if(!Nn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Nn.addEventListener("test",Nm,e),Nn.removeEventListener("test",Nm,e)}catch(t){}return n}();function cs(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Vm(n,e){if(cs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(K_){e:{try{Pm(e.nodeName);var i=!0;break e}catch(l){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ow[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Vm.Z.h.call(this)}}cs.prototype.h=function(){this.defaultPrevented=!0},es(Vm,cs);var ow={2:"touch",3:"pen",4:"mouse"};Vm.prototype.h=function(){Vm.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Bm="closure_listenable_"+(1e6*Math.random()|0),aw=0;function J_(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++aw,this.ca=this.fa=!1}function Um(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Hm(n){this.src=n,this.g={},this.h=0}function X_(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],i=YA(r,e);(l=0<=i)&&Array.prototype.splice.call(r,i,1),l&&(Um(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function e0(n,e,t,r){for(var i=0;i<n.length;++i){var l=n[i];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return i}return-1}Hm.prototype.add=function(n,e,t,r,i){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var f=e0(n,e,r,i);return-1<f?(e=n[f],t||(e.fa=!1)):((e=new J_(e,this.src,l,!!r,i)).fa=t,n.push(e)),e};var t0="closure_lm_"+(1e6*Math.random()|0),n0={};function lw(n,e,t,r,i){if(r&&r.once)return cw(n,e,t,r,i);if(Array.isArray(e)){for(var l=0;l<e.length;l++)lw(n,e[l],t,r,i);return null}return t=$m(t),n&&n[Bm]?n.N(e,t,yp(r)?!!r.capture:!!r,i):uw(n,e,t,!1,r,i)}function uw(n,e,t,r,i,l){if(!e)throw Error("Invalid event type");var f=yp(i)?!!i.capture:!!i,m=Gm(n);if(m||(n[t0]=m=new Hm(n)),(t=m.add(e,t,r,f,l)).proxy)return t;if(r=function BT(){var e=dw;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)sw||(i=f),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(r0(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function cw(n,e,t,r,i){if(Array.isArray(e)){for(var l=0;l<e.length;l++)cw(n,e[l],t,r,i);return null}return t=$m(t),n&&n[Bm]?n.O(e,t,yp(r)?!!r.capture:!!r,i):uw(n,e,t,!0,r,i)}function Rf(n,e,t,r,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)Rf(n,e[l],t,r,i);else r=yp(r)?!!r.capture:!!r,t=$m(t),n&&n[Bm]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=e0(l=n.g[e],t,r,i))&&(Um(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=Gm(n))&&(e=n.g[e.toString()],n=-1,e&&(n=e0(e,t,r,i)),(t=-1<n?e[n]:null)&&jm(t))}function jm(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Bm])X_(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(r0(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Gm(e))?(X_(t,n),0==t.h&&(t.src=null,e[t0]=null)):Um(n)}}}function r0(n){return n in n0?n0[n]:n0[n]="on"+n}function dw(n,e){if(n.ca)n=!0;else{e=new Vm(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&jm(n),n=t.call(r,e)}return n}function Gm(n){return(n=n[t0])instanceof Hm?n:null}var zm="__closure_events_fn_"+(1e9*Math.random()>>>0);function $m(n){return"function"==typeof n?n:(n[zm]||(n[zm]=function(e){return n.handleEvent(e)}),n[zm])}function Mi(){uu.call(this),this.i=new Hm(this),this.P=this,this.I=null}function xi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new cs(e,n);else if(e instanceof cs)e.target=e.target||n;else{var i=e;q_(e=new cs(r,n),i)}if(i=!0,t)for(var l=t.length-1;0<=l;l--){var f=e.g=t[l];i=Wm(f,r,!0,e)&&i}if(i=Wm(f=e.g=n,r,!0,e)&&i,i=Wm(f,r,!1,e)&&i,t)for(l=0;l<t.length;l++)i=Wm(f=e.g=t[l],r,!1,e)&&i}function Wm(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.ca&&f.capture==t){var m=f.listener,E=f.ia||f.src;f.fa&&X_(n.i,f),i=!1!==m.call(E,r)&&i}}return i&&!r.defaultPrevented}es(Mi,uu),Mi.prototype[Bm]=!0,Mi.prototype.removeEventListener=function(n,e,t,r){Rf(this,n,e,t,r)},Mi.prototype.M=function(){if(Mi.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Um(t[r]);delete n.g[e],n.h--}}this.I=null},Mi.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Mi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var s0=Nn.JSON.stringify;function UT(){var n=fw;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var a0,Nf=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new jT,n=>n.reset());class jT{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function o0(n){Nn.setTimeout(()=>{throw n},0)}function ia(n,e){a0||function l0(){var n=Nn.Promise.resolve(void 0);a0=function(){n.then(GT)}}(),pd||(a0(),pd=!0),fw.add(n,e)}var pd=!1,fw=new class HT{constructor(){this.h=this.g=null}add(e,t){const r=Nf.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function GT(){for(var n;n=UT();){try{n.h.call(n.g)}catch(t){o0(t)}var e=Nf;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}pd=!1}function qm(n,e){Mi.call(this),this.h=n||1,this.g=e||Nn,this.j=Xi(this.kb,this),this.l=Date.now()}function kf(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Pf(n,e,t){if("function"==typeof n)t&&(n=Xi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Xi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Nn.setTimeout(n,e||0)}function hw(n){n.g=Pf(()=>{n.g=null,n.i&&(n.i=!1,hw(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}es(qm,Mi),(Qt=qm.prototype).da=!1,Qt.S=null,Qt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),xi(this,"tick"),this.da&&(kf(this),this.start()))}},Qt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Qt.M=function(){qm.Z.M.call(this),kf(this),delete this.g};class zT extends uu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:hw(this)}M(){super.M(),this.g&&(Nn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Of(n){uu.call(this),this.h=n,this.g={}}es(Of,uu);var u0=[];function Zm(n,e,t,r){Array.isArray(t)||(t&&(u0[0]=t.toString()),t=u0);for(var i=0;i<t.length;i++){var l=lw(e,t[i],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function c0(n){W_(n.g,function(e,t){this.g.hasOwnProperty(t)&&jm(e)},n),n.g={}}function Km(){this.g=!0}function rc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function pw(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var l=i[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<i.length;f++)i[f]=""}}}return s0(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}Of.prototype.M=function(){Of.Z.M.call(this),c0(this)},Of.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Km.prototype.Aa=function(){this.g=!1},Km.prototype.info=function(){};var cu={},Qm=null;function Ym(){return Qm=Qm||new Mi}function gw(n){cs.call(this,cu.Ma,n)}function Ep(n){const e=Ym();xi(e,new gw(e,n))}function mw(n,e){cs.call(this,cu.STAT_EVENT,n),this.stat=e}function ds(n){const e=Ym();xi(e,new mw(e,n))}function Jm(n,e){cs.call(this,cu.Na,n),this.size=e}function Ff(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Nn.setTimeout(function(){n()},e)}cu.Ma="serverreachability",es(gw,cs),cu.STAT_EVENT="statevent",es(mw,cs),cu.Na="timingevent",es(Jm,cs);var bp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},f0={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Xm(){}function h0(){}Xm.prototype.h=null;var g0,Lf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function p0(){cs.call(this,"d")}function ev(){cs.call(this,"c")}function Ri(){}function _l(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Of(this),this.P=WT,this.W=new qm(n=Fm?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new yw}function yw(){this.i=null,this.g="",this.h=!1}es(p0,cs),es(ev,cs),es(Ri,Xm),Ri.prototype.g=function(){return new XMLHttpRequest},Ri.prototype.i=function(){return{}},g0=new Ri;var WT=45e3,_w={},ic={};function m0(n,e,t){n.K=1,n.v=av(Ba(e)),n.s=t,n.U=!0,tv(n,null)}function tv(n,e){n.F=Date.now(),Ap(n),n.A=Ba(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),QT(t.h,"t",r),n.C=0,t=n.l.H,n.h=new yw,n.g=Vw(n.l,t?e:null,!n.s),0<n.O&&(n.L=new zT(Xi(n.Ia,n,n.g),n.O)),Zm(n.V,n.g,"readystatechange",n.gb),e=n.H?ew(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Ep(1),function $T(n,e,t,r,i,l){n.info(function(){if(n.g)if(l)for(var f="",m=l.split("&"),E=0;E<m.length;E++){var C=m[E].split("=");if(1<C.length){var k=C[0];C=C[1];var O=k.split("_");f=2<=O.length&&"type"==O[1]?f+(k+"=")+C+"&":f+(k+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+f})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Ew(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function v0(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=qT(n,t),i==ic){4==e&&(n.o=4,ds(14),r=!1),rc(n.j,n.m,null,"[Incomplete Response]");break}if(i==_w){n.o=4,ds(15),rc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}rc(n.j,n.m,i,null),Cp(n,i)}Ew(n)&&i!=ic&&i!=_w&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ds(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),vv(e),e.L=!0,ds(11))):(rc(n.j,n.m,t,"[Invalid Chunked Response]"),El(n),Vf(n))}function qT(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?ic:(t=Number(e.substring(t,r)),isNaN(t)?_w:(r+=1)+t>e.length?ic:(e=e.substr(r,t),n.C=r+t,e))}function Ap(n){n.Y=Date.now()+n.P,nv(n,n.P)}function nv(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ff(Xi(n.eb,n),e)}function wp(n){n.B&&(Nn.clearTimeout(n.B),n.B=null)}function Vf(n){0==n.l.G||n.I||M0(n.l,n)}function El(n){wp(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,kf(n.W),c0(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Cp(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Uf(t.i,n)))if(t.I=n.N,!n.J&&Uf(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(C){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Ff(Xi(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;yv(t),pv(t)}I0(t),ds(18)}if(1>=XT(t.i)&&t.ka){try{t.ka()}catch(C){}t.ka=void 0}}else Hf(t,11)}else if((n.J||t.g==n)&&yv(t),!km(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let C=i[e];if(t.U=C[0],C=C[1],2==t.G)if("c"==C[0]){t.J=C[1],t.la=C[2];const k=C[3];null!=k&&(t.ma=k,t.h.info("VER="+t.ma));const O=C[4];null!=O&&(t.za=O,t.h.info("SVER="+t.za));const q=C[5];null!=q&&"number"==typeof q&&0<q&&(t.K=r=1.5*q,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const J=n.g;if(J){const se=J.g?J.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(se){var l=r.i;!l.g&&(_i(se,"spdy")||_i(se,"quic")||_i(se,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(Mw(l,l.h),l.h=null))}if(r.D){const Me=J.g?J.g.getResponseHeader("X-HTTP-Session-Id"):null;Me&&(r.sa=Me,Fr(r.F,r.D,Me))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var f=n;if((r=t).oa=Lw(r,r.H?r.la:null,r.W),f.J){A0(r.i,f);var m=f,E=r.K;E&&m.setTimeout(E),m.B&&(wp(m),Ap(m)),r.g=f}else lS(r);0<t.l.length&&gv(t)}else"stop"!=C[0]&&"close"!=C[0]||Hf(t,7);else 3==t.G&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?Hf(t,7):hv(t):"noop"!=C[0]&&t.j&&t.j.wa(C),t.A=0)}Ep(4)}catch(C){}}function rv(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(U_(n)||"string"==typeof n)G_(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(U_(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function xx(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(U_(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var l=0;l<i;l++)e.call(void 0,r[l],t&&t[l],n)}}function Bf(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Bf)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function iv(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];bl(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)bl(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function bl(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Qt=_l.prototype).setTimeout=function(n){this.P=n},Qt.gb=function(n){n=n.target;const e=this.L;e&&3==fu(n)?e.l():this.Ia(n)},Qt.Ia=function(n){try{if(n==this.g)e:{const k=fu(this.g);var e=this.g.Da();const O=this.g.ba();if(!(3>k)&&(3!=k||Fm||this.g&&(this.h.h||this.g.ga()||fv(this.g)))){this.I||4!=k||7==e||Ep(8==e||0>=O?3:2),wp(this);var t=this.g.ba();this.N=t;t:if(Ew(this)){var r=fv(this.g);n="";var i=r.length,l=4==fu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){El(this),Vf(this);var f="";break t}this.h.i=new Nn.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=200==t,function Mx(n,e,t,r,i,l,f){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.X,k,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,E=this.g;if((m=E.g?E.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!km(m)){var C=m;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,ds(12),El(this),Vf(this);break e}rc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Cp(this,t)}this.U?(v0(this,k,f),Fm&&this.i&&3==k&&(Zm(this.V,this.W,"tick",this.fb),this.W.start())):(rc(this.j,this.m,f,null),Cp(this,f)),4==k&&El(this),this.i&&!this.I&&(4==k?M0(this.l,this):(this.i=!1,Ap(this)))}else 400==t&&0<f.indexOf("Unknown SID")?(this.o=3,ds(12)):(this.o=0,ds(13)),El(this),Vf(this)}}}catch(k){}},Qt.fb=function(){if(this.g){var n=fu(this.g),e=this.g.ga();this.C<e.length&&(wp(this),v0(this,n,e),this.i&&4!=n&&Ap(this))}},Qt.cancel=function(){this.I=!0,El(this)},Qt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function d0(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ep(3),ds(17)),El(this),this.o=2,Vf(this)):nv(this,this.Y-n)},(Qt=Bf.prototype).R=function(){iv(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Qt.T=function(){return iv(this),this.g.concat()},Qt.get=function(n,e){return bl(this.h,n)?this.h[n]:e},Qt.set=function(n,e){bl(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Qt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],l=this.get(i);n.call(e,l,i,this)}};var y0=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function du(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof du){this.g=void 0!==e?e:n.g,_0(this,n.j),this.s=n.s,sv(this,n.i),ov(this,n.m),this.l=n.l,e=n.h;var t=new Sp;t.i=e.i,e.g&&(t.g=new Bf(e.g),t.h=e.h),E0(this,t),this.o=n.o}else n&&(t=String(n).match(y0))?(this.g=!!e,_0(this,t[1]||"",!0),this.s=Dp(t[2]||""),sv(this,t[3]||"",!0),ov(this,t[4]),this.l=Dp(t[5]||"",!0),E0(this,t[6]||"",!0),this.o=Dp(t[7]||"")):(this.g=!!e,this.h=new Sp(null,this.g))}function Ba(n){return new du(n)}function _0(n,e,t){n.j=t?Dp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function sv(n,e,t){n.i=t?Dp(e,!0):e}function ov(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function E0(n,e,t){e instanceof Sp?(n.h=e,function Rx(n,e){e&&!n.j&&(sc(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(KT(this,r),QT(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Tp(e,Sw)),n.h=new Sp(e,n.g))}function Fr(n,e,t){n.h.set(e,t)}function av(n){return Fr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Dp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Tp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,ww),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function ww(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}du.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Tp(e,Cw,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Tp(e,Cw,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Tp(t,"/"==t.charAt(0)?Tw:Dw,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Tp(t,Iw)),n.join("")};var Cw=/[#\/\?@]/g,Dw=/[#\?:]/g,Tw=/[#\?]/g,Sw=/[#\?@]/g,Iw=/#/g;function Sp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function sc(n){n.g||(n.g=new Bf,n.h=0,n.i&&function ZT(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var l=n[t].substring(0,r);i=n[t].substring(r+1)}else l=n[t];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function KT(n,e){sc(n),e=Ip(n,e),bl(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,bl((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&iv(n)))}function b0(n,e){return sc(n),e=Ip(n,e),bl(n.g.h,e)}function QT(n,e,t){KT(n,e),0<t.length&&(n.i=null,n.g.set(Ip(n,e),If(t)),n.h+=t.length)}function Ip(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function YT(n){this.l=n||kx,n=Nn.PerformanceNavigationTiming?0<(n=Nn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Nn.g&&Nn.g.Ea&&Nn.g.Ea()&&Nn.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Qt=Sp.prototype).add=function(n,e){sc(this),this.i=null,n=Ip(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Qt.forEach=function(n,e){sc(this),this.g.forEach(function(t,r){G_(t,function(i){n.call(e,i,r,this)},this)},this)},Qt.T=function(){sc(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],l=0;l<i.length;l++)t.push(e[r]);return t},Qt.R=function(n){sc(this);var e=[];if("string"==typeof n)b0(this,n)&&(e=JA(e,this.g.get(Ip(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=JA(e,n[t])}return e},Qt.set=function(n,e){return sc(this),this.i=null,b0(this,n=Ip(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Qt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Qt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var f=i;""!==r[l]&&(f+="="+encodeURIComponent(String(r[l]))),n.push(f)}}return this.i=n.join("&")};var kx=10;function JT(n){return!!n.h||!!n.g&&n.g.size>=n.j}function XT(n){return n.h?1:n.g?n.g.size:0}function Uf(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Mw(n,e){n.g?n.g.add(e):n.h=e}function A0(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function lv(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return If(n.i)}function uv(){}function xw(){this.g=new uv}function Px(n,e,t){const r=t||"";try{rv(n,function(i,l){let f=i;yp(i)&&(f=s0(i)),e.push(r+l+"="+encodeURIComponent(f))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Mp(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(l){}}function xp(n){this.l=n.$b||null,this.j=n.ib||!1}function Rp(n,e){Mi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Rw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}YT.prototype.cancel=function(){if(this.i=lv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},uv.prototype.stringify=function(n){return Nn.JSON.stringify(n,void 0)},uv.prototype.parse=function(n){return Nn.JSON.parse(n,void 0)},es(xp,Xm),xp.prototype.g=function(){return new Rp(this.l,this.j)},xp.prototype.i=function(n){return function(){return n}}({}),es(Rp,Mi);var Rw=0;function Nw(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Np(n){n.readyState=4,n.l=null,n.j=null,n.A=null,gd(n)}function gd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Qt=Rp.prototype).open=function(n,e){if(this.readyState!=Rw)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,gd(this)},Qt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Nn).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Qt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Np(this)),this.readyState=Rw},Qt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,gd(this)),this.g&&(this.readyState=3,gd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Nn.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Nw(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Qt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Np(this):gd(this),3==this.readyState&&Nw(this)}},Qt.Ua=function(n){this.g&&(this.response=this.responseText=n,Np(this))},Qt.Ta=function(n){this.g&&(this.response=n,Np(this))},Qt.ha=function(){this.g&&Np(this)},Qt.setRequestHeader=function(n,e){this.v.append(n,e)},Qt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Qt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Rp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var eS=Nn.JSON.parse;function Ei(n){Mi.call(this),this.headers=new Bf,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=tS,this.K=this.L=!1}es(Ei,Mi);var tS="",Ox=/^https?$/i,nS=["POST","PUT"];function iS(n){return"content-type"==n.toLowerCase()}function sS(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,kw(n),dv(n)}function kw(n){n.D||(n.D=!0,xi(n,"complete"),xi(n,"error"))}function cv(n){if(n.h&&void 0!==B_&&(!n.C[1]||4!=fu(n)||2!=n.ba()))if(n.v&&4==fu(n))Pf(n.Fa,0,n);else if(xi(n,"readystatechange"),4==fu(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var i=String(n.H).match(y0)[1]||null;if(!i&&Nn.self&&Nn.self.location){var l=Nn.self.location.protocol;i=l.substr(0,l.length-1)}r=!Ox.test(i?i.toLowerCase():"")}t=r}if(t)xi(n,"complete"),xi(n,"success");else{n.m=6;try{var f=2<fu(n)?n.g.statusText:""}catch(E){f=""}n.j=f+" ["+n.ba()+"]",kw(n)}}finally{dv(n)}}}function dv(n,e){if(n.g){sa(n);const t=n.g,r=n.C[0]?Nm:null;n.g=null,n.C=null,e||xi(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function sa(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Nn.clearTimeout(n.A),n.A=null)}function fu(n){return n.g?n.g.readyState:0}function fv(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case tS:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function C0(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function oS(n){let e="";return W_(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Fr(n,e,t))}function md(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function D0(n){this.za=0,this.l=[],this.h=new Km,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=md("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=md("baseRetryDelayMs",5e3,n),this.$a=md("retryDelaySeedMs",1e4,n),this.Ya=md("forwardChannelMaxRetries",2,n),this.ra=md("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new YT(n&&n.concurrentRequestLimit),this.Ca=new xw,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function hv(n){if(T0(n),3==n.G){var e=n.V++,t=Ba(n.F);Fr(t,"SID",n.J),Fr(t,"RID",e),Fr(t,"TYPE","terminate"),ks(n,t),(e=new _l(n,n.h,e,void 0)).K=2,e.v=av(Ba(t)),t=!1,Nn.navigator&&Nn.navigator.sendBeacon&&(t=Nn.navigator.sendBeacon(e.v.toString(),"")),!t&&Nn.Image&&((new Image).src=e.v,t=!0),t||(e.g=Vw(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ap(e)}x0(n)}function pv(n){n.g&&(vv(n),n.g.cancel(),n.g=null)}function T0(n){pv(n),n.u&&(Nn.clearTimeout(n.u),n.u=null),yv(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Nn.clearTimeout(n.m),n.m=null)}function S0(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&gv(n)}function gv(n){JT(n.i)||n.m||(n.m=!0,ia(n.Ha,n),n.C=0)}function mv(n,e){var t;t=e?e.m:n.V++;const r=Ba(n.F);Fr(r,"SID",n.J),Fr(r,"RID",t),Fr(r,"AID",n.U),ks(n,r),n.o&&n.s&&C0(r,n.o,n.s),t=new _l(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Pw(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Mw(n.i,t),m0(t,r,e)}function ks(n,e){n.j&&rv({},function(t,r){Fr(e,r,t)})}function Pw(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Xi(n.j.Oa,n.j,n):null;e:{var i=n.l;let l=-1;for(;;){const f=["count="+t];-1==l?0<t?(l=i[0].h,f.push("ofs="+l)):l=0:f.push("ofs="+l);let m=!0;for(let E=0;E<t;E++){let C=i[E].h;const k=i[E].g;if(C-=l,0>C)l=Math.max(0,i[E].h-100),m=!1;else try{Px(k,f,"req"+C+"_")}catch(O){r&&r(k)}}if(m){r=f.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function lS(n){n.g||n.u||(n.Y=1,ia(n.Ga,n),n.A=0)}function I0(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Ff(Xi(n.Ga,n),Fw(n,n.A)),n.A++,0))}function vv(n){null!=n.B&&(Nn.clearTimeout(n.B),n.B=null)}function Ow(n){n.g=new _l(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Ba(n.oa);Fr(e,"RID","rpc"),Fr(e,"SID",n.J),Fr(e,"CI",n.N?"0":"1"),Fr(e,"AID",n.U),ks(n,e),Fr(e,"TYPE","xmlhttp"),n.o&&n.s&&C0(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=av(Ba(e)),t.s=null,t.U=!0,tv(t,n)}function yv(n){null!=n.v&&(Nn.clearTimeout(n.v),n.v=null)}function M0(n,e){var t=null;if(n.g==e){yv(n),vv(n),n.g=null;var r=2}else{if(!Uf(n.i,e))return;t=e.D,A0(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;xi(r=Ym(),new Jm(r,t,e,i)),gv(n)}else lS(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function aS(n,e){return!(XT(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Ff(Xi(n.Ha,n,e),Fw(n,n.C)),n.C++,0)))}(n,e)||2==r&&I0(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Hf(n,5);break;case 4:Hf(n,10);break;case 3:Hf(n,6);break;default:Hf(n,2)}}function Fw(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Hf(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Xi(n.jb,n);t||(t=new du("//www.google.com/images/cleardot.gif"),Nn.location&&"http"==Nn.location.protocol||_0(t,"https"),av(t)),function w0(n,e){const t=new Km;if(Nn.Image){const r=new Image;r.onload=Sf(Mp,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Sf(Mp,t,r,"TestLoadImage: error",!1,e),r.onabort=Sf(Mp,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Sf(Mp,t,r,"TestLoadImage: timeout",!1,e),Nn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ds(2);n.G=0,n.j&&n.j.va(e),x0(n),T0(n)}function x0(n){n.G=0,n.I=-1,n.j&&((0!=lv(n.i).length||0!=n.l.length)&&(n.i.i.length=0,If(n.l),n.l.length=0),n.j.ua())}function Lw(n,e,t){let r=function bw(n){return n instanceof du?Ba(n):new du(n,void 0)}(t);if(""!=r.i)e&&sv(r,e+"."+r.i),ov(r,r.m);else{const i=Nn.location;r=function Aw(n,e,t,r){var i=new du(null,void 0);return n&&_0(i,n),e&&sv(i,e),t&&ov(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&W_(n.aa,function(i,l){Fr(r,l,i)}),t=n.sa,(e=n.D)&&t&&Fr(r,e,t),Fr(r,"VER",n.ma),ks(n,r),r}function Vw(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ei(t&&n.Ba&&!n.qa?new xp({ib:!0}):n.qa)).L=n.H,e}function Bw(){}function kp(){if(yl&&!(10<=Number(Ix)))throw Error("Environmental error: no available transport.")}function Ps(n,e){Mi.call(this),this.g=new D0(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!km(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!km(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new jf(this)}function _v(n){p0.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function R0(){ev.call(this),this.status=1}function jf(n){this.g=n}(Qt=Ei.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():g0.g(),this.C=function vw(n){return n.h||(n.h=n.i())}(this.u?this.u:g0),this.g.onreadystatechange=Xi(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void sS(this,l)}n=t||"";const i=new Bf(this.headers);r&&rv(r,function(l,f){i.set(f,l)}),r=function Sx(n){e:{var e=iS;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Nn.FormData&&n instanceof Nn.FormData,!(0<=YA(nS,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(l,f){this.g.setRequestHeader(f,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{sa(this),0<this.B&&((this.K=function rS(n){return yl&&function xf(){return function Z_(n){var e=VT;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=fd(String(Mf)).split("."),t=fd("9").split("."),r=Math.max(e.length,t.length);for(let f=0;0==n&&f<r;f++){var i=e[f]||"",l=t[f]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==i[0].length&&0==l[0].length)break;n=z_(0==i[1].length?0:parseInt(i[1],10),0==l[1].length?0:parseInt(l[1],10))||z_(0==i[2].length,0==l[2].length)||z_(i[2],l[2]),i=i[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xi(this.pa,this)):this.A=Pf(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){sS(this,l)}},Qt.pa=function(){void 0!==B_&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xi(this,"timeout"),this.abort(8))},Qt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,xi(this,"complete"),xi(this,"abort"),dv(this))},Qt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dv(this,!0)),Ei.Z.M.call(this)},Qt.Fa=function(){this.s||(this.F||this.v||this.l?cv(this):this.cb())},Qt.cb=function(){cv(this)},Qt.ba=function(){try{return 2<fu(this)?this.g.status:-1}catch(n){return-1}},Qt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Qt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),eS(e)}},Qt.Da=function(){return this.m},Qt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Qt=D0.prototype).ma=8,Qt.G=1,Qt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Qt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new _l(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=ew(l),q_(l,this.P)):l=this.P),null===this.o&&(i.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Pw(this,i,e),Fr(t=Ba(this.F),"RID",n),Fr(t,"CVER",22),this.D&&Fr(t,"X-HTTP-Session-Id",this.D),ks(this,t),this.o&&l&&C0(t,this.o,l),Mw(this.i,i),this.Ra&&Fr(t,"TYPE","init"),this.ja?(Fr(t,"$req",e),Fr(t,"SID","null"),i.$=!0,m0(i,t,null)):m0(i,t,e),this.G=2}}else 3==this.G&&(n?mv(this,n):0==this.l.length||JT(this.i)||mv(this))},Qt.Ga=function(){if(this.u=null,Ow(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Ff(Xi(this.bb,this),n)}},Qt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ds(10),pv(this),Ow(this))},Qt.ab=function(){null!=this.v&&(this.v=null,pv(this),I0(this),ds(19))},Qt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ds(2)):(this.h.info("Failed to ping google.com"),ds(1))},(Qt=Bw.prototype).xa=function(){},Qt.wa=function(){},Qt.va=function(){},Qt.ua=function(){},Qt.Oa=function(){},kp.prototype.g=function(n,e){return new Ps(n,e)},es(Ps,Mi),Ps.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),ia(Xi(n.hb,n,e))),ds(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Lw(n,null,n.W),gv(n)},Ps.prototype.close=function(){hv(this.g)},Ps.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,S0(this.g,e)}else this.v?((e={}).__data__=s0(n),S0(this.g,e)):S0(this.g,n)},Ps.prototype.M=function(){this.g.j=null,delete this.j,hv(this.g),delete this.g,Ps.Z.M.call(this)},es(_v,p0),es(R0,ev),es(jf,Bw),jf.prototype.xa=function(){xi(this.g,"a")},jf.prototype.wa=function(n){xi(this.g,new _v(n))},jf.prototype.va=function(n){xi(this.g,new R0(n))},jf.prototype.ua=function(){xi(this.g,"b")},kp.prototype.createWebChannel=kp.prototype.g,Ps.prototype.send=Ps.prototype.u,Ps.prototype.open=Ps.prototype.m,Ps.prototype.close=Ps.prototype.close,bp.NO_ERROR=0,bp.TIMEOUT=8,bp.HTTP_ERROR=6,f0.COMPLETE="complete",h0.EventType=Lf,Lf.OPEN="a",Lf.CLOSE="b",Lf.ERROR="c",Lf.MESSAGE="d",Mi.prototype.listen=Mi.prototype.N,Ei.prototype.listenOnce=Ei.prototype.O,Ei.prototype.getLastError=Ei.prototype.La,Ei.prototype.getLastErrorCode=Ei.prototype.Da,Ei.prototype.getStatus=Ei.prototype.ba,Ei.prototype.getResponseJson=Ei.prototype.Qa,Ei.prototype.getResponseText=Ei.prototype.ga,Ei.prototype.send=Ei.prototype.ea;var Uw=vl.createWebChannelTransport=function(){return new kp},Hw=vl.getStatEventTarget=function(){return Ym()},N0=vl.ErrorCode=bp,uS=vl.EventType=f0,Fx=vl.Event=cu,cS=vl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},jw=vl.FetchXmlHttpFactory=xp,Ev=vl.WebChannel=h0,dS=vl.XhrIo=Ei;const Gw="@firebase/firestore";class fs{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fs.UNAUTHENTICATED=new fs(null),fs.GOOGLE_CREDENTIALS=new fs("google-credentials-uid"),fs.FIRST_PARTY=new fs("first-party-uid"),fs.MOCK_USER=new fs("mock-user");let Pp="9.8.0";const vd=new nc.Yd("@firebase/firestore");function zw(){return vd.logLevel}function It(n,...e){if(vd.logLevel<=nc.in.DEBUG){const t=e.map(k0);vd.debug(`Firestore (${Pp}): ${n}`,...t)}}function zr(n,...e){if(vd.logLevel<=nc.in.ERROR){const t=e.map(k0);vd.error(`Firestore (${Pp}): ${n}`,...t)}}function Op(n,...e){if(vd.logLevel<=nc.in.WARN){const t=e.map(k0);vd.warn(`Firestore (${Pp}): ${n}`,...t)}}function k0(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function Jt(n="Unexpected state"){const e=`FIRESTORE (${Pp}) INTERNAL ASSERTION FAILED: `+n;throw zr(e),new Error(e)}function gn(n,e){n||Jt()}function Bt(n,e){return n}const Ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends Kn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class bv{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Av{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(fs.UNAUTHENTICATED))}shutdown(){}}class Vx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Bx{constructor(e){this.t=e,this.currentUser=fs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const l=C=>this.i!==i?(i=this.i,t(C)):Promise.resolve();let f=new hi;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new hi,e.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const C=f;e.enqueueRetryable((0,it.Z)(function*(){yield C.promise,yield l(r.currentUser)}))},E=C=>{It("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(C=>E(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?E(C):(It("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new hi)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(It("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(gn("string"==typeof r.accessToken),new bv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return gn(null===e||"string"==typeof e),new fs(e)}}class Ux{constructor(e,t,r){this.type="FirstParty",this.user=fs.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class Hx{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Ux(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(fs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class P0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fS{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=l=>{null!=l.error&&It("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.p;return this.p=l.token,It("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const i=l=>{It("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>i(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?i(l):It("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(gn("string"==typeof t.token),this.p=t.token,new P0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Ro{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function hS(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Ro.A=-1;class O0{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=hS(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<t&&(r+=e.charAt(i[l]%e.length))}return r}}function Un(n,e){return n<e?-1:n>e?1:0}function yd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Ww(n){return n+"\0"}class ni{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new gt(Ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new gt(Ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new gt(Ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new gt(Ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ni.fromMillis(Date.now())}static fromDate(e){return ni.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ni(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Un(this.nanoseconds,e.nanoseconds):Un(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class En{constructor(e){this.timestamp=e}static fromTimestamp(e){return new En(e)}static min(){return new En(new ni(0,0))}static max(){return new En(new ni(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function wv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Gf(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function F0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class _d{constructor(e,t,r){void 0===t?t=0:t>e.length&&Jt(),void 0===r?r=e.length-t:r>e.length-t&&Jt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===_d.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _d?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=e.get(i),f=t.get(i);if(l<f)return-1;if(l>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class sr extends _d{construct(e,t,r){return new sr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new gt(Ke.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new sr(t)}static emptyPath(){return new sr([])}}const pS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ni extends _d{construct(e,t,r){return new Ni(e,t,r)}static isValidIdentifier(e){return pS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ni.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ni(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(0===r.length)throw new gt(Ke.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let f=!1;for(;i<e.length;){const m=e[i];if("\\"===m){if(i+1===e.length)throw new gt(Ke.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[i+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new gt(Ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=E,i+=2}else"`"===m?(f=!f,i++):"."!==m||f?(r+=m,i++):(l(),i++)}if(l(),f)throw new gt(Ke.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ni(t)}static emptyPath(){return new Ni([])}}class Fp{constructor(e){this.fields=e,e.sort(Ni.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return yd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class bi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new bi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new bi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Un(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bi.EMPTY_BYTE_STRING=new bi("");const Gx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ed(n){if(gn(!!n),"string"==typeof n){let e=0;const t=Gx.exec(n);if(gn(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ri(n.seconds),nanos:ri(n.nanos)}}function ri(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function zf(n){return"string"==typeof n?bi.fromBase64String(n):bi.fromUint8Array(n)}function qw(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Zw(n){const e=n.mapValue.fields.__previous_value__;return qw(e)?Zw(e):e}function Cv(n){const e=Ed(n.mapValue.fields.__local_write_time__.timestampValue);return new ni(e.seconds,e.nanos)}class zx{constructor(e,t,r,i,l,f,m,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.useFetchStreams=E}}class oc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new oc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof oc&&e.projectId===this.projectId&&e.database===this.database}}function Dv(n){return null==n}function s(n){return 0===n&&1/n==-1/0}function o(n){return"number"==typeof n&&Number.isInteger(n)&&!s(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class a{constructor(e){this.path=e}static fromPath(e){return new a(sr.fromString(e))}static fromName(e){return new a(sr.fromString(e).popFirst(5))}static empty(){return new a(sr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===sr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return sr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new a(new sr(e.slice()))}}const u={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},g={nullValue:"NULL_VALUE"};function y(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?qw(n)?4:dn(n)?9007199254740991:10:Jt()}function A(n,e){if(n===e)return!0;const t=y(n);if(t!==y(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Cv(n).isEqual(Cv(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=Ed(r.timestampValue),f=Ed(i.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,zf(n.bytesValue).isEqual(zf(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return ri(r.geoPointValue.latitude)===ri(i.geoPointValue.latitude)&&ri(r.geoPointValue.longitude)===ri(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ri(r.integerValue)===ri(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=ri(r.doubleValue),f=ri(i.doubleValue);return l===f?s(l)===s(f):isNaN(l)&&isNaN(f)}return!1}(n,e);case 9:return yd(n.arrayValue.values||[],e.arrayValue.values||[],A);case 10:return function(r,i){const l=r.mapValue.fields||{},f=i.mapValue.fields||{};if(wv(l)!==wv(f))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===f[m]||!A(l[m],f[m])))return!1;return!0}(n,e);default:return Jt()}var i}function S(n,e){return void 0!==(n.values||[]).find(t=>A(t,e))}function x(n,e){if(n===e)return 0;const t=y(n),r=y(e);if(t!==r)return Un(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Un(n.booleanValue,e.booleanValue);case 2:return function(i,l){const f=ri(i.integerValue||i.doubleValue),m=ri(l.integerValue||l.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(n,e);case 3:return L(n.timestampValue,e.timestampValue);case 4:return L(Cv(n),Cv(e));case 5:return Un(n.stringValue,e.stringValue);case 6:return function(i,l){const f=zf(i),m=zf(l);return f.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(i,l){const f=i.split("/"),m=l.split("/");for(let E=0;E<f.length&&E<m.length;E++){const C=Un(f[E],m[E]);if(0!==C)return C}return Un(f.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,l){const f=Un(ri(i.latitude),ri(l.latitude));return 0!==f?f:Un(ri(i.longitude),ri(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,l){const f=i.values||[],m=l.values||[];for(let E=0;E<f.length&&E<m.length;++E){const C=x(f[E],m[E]);if(C)return C}return Un(f.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,l){if(i===u.mapValue&&l===u.mapValue)return 0;if(i===u.mapValue)return 1;if(l===u.mapValue)return-1;const f=i.fields||{},m=Object.keys(f),E=l.fields||{},C=Object.keys(E);m.sort(),C.sort();for(let k=0;k<m.length&&k<C.length;++k){const O=Un(m[k],C[k]);if(0!==O)return O;const q=x(f[m[k]],E[C[k]]);if(0!==q)return q}return Un(m.length,C.length)}(n.mapValue,e.mapValue);default:throw Jt()}}function L(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Un(n,e);const t=Ed(n),r=Ed(e),i=Un(t.seconds,r.seconds);return 0!==i?i:Un(t.nanos,r.nanos)}function j(n){return te(n)}function te(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Ed(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?zf(n.bytesValue).toBase64():"referenceValue"in n?a.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",l=!0;for(const f of r.values||[])l?l=!1:i+=",",i+=te(f);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let l="{",f=!0;for(const m of i)f?f=!1:l+=",",l+=`${m}:${te(r.fields[m])}`;return l+"}"}(n.mapValue):Jt();var e}function ve(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Oe(n){return!!n&&"integerValue"in n}function nt(n){return!!n&&"arrayValue"in n}function Mt(n){return!!n&&"nullValue"in n}function Ot(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Kt(n){return!!n&&"mapValue"in n}function ct(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Gf(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ct(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ct(n.arrayValue.values[t]);return e}return Object.assign({},n)}function dn(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Jn(n){return"nullValue"in n?g:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?ve(oc.empty(),a.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Jt()}function mr(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?ve(oc.empty(),a.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?u:Jt()}function so(n,e){const t=x(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function ac(n,e){const t=x(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ki{constructor(e){this.value=e}static empty(){return new ki({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Kt(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ct(t)}setAll(e){let t=Ni.emptyPath(),r={},i=[];e.forEach((f,m)=>{if(!t.isImmediateParentOf(m)){const E=this.getFieldsMap(t);this.applyChanges(E,r,i),r={},i=[],t=m.popLast()}f?r[m.lastSegment()]=ct(f):i.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());Kt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return A(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Kt(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Gf(t,(i,l)=>e[i]=l);for(const i of r)delete e[i]}clone(){return new ki(ct(this.value))}}function Tv(n){const e=[];return Gf(n.fields,(t,r)=>{const i=new Ni([t]);if(Kt(r)){const l=Tv(r.mapValue).fields;if(0===l.length)e.push(i);else for(const f of l)e.push(i.child(f))}else e.push(i)}),new Fp(e)}class Ir{constructor(e,t,r,i,l,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=l,this.documentState=f}static newInvalidDocument(e){return new Ir(e,0,En.min(),En.min(),ki.empty(),0)}static newFoundDocument(e,t,r){return new Ir(e,1,t,En.min(),r,0)}static newNoDocument(e,t){return new Ir(e,2,t,En.min(),ki.empty(),0)}static newUnknownDocument(e,t){return new Ir(e,3,t,En.min(),ki.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ki.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ki.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ir&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ir(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $f{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function Lp(n){return n.fields.find(e=>2===e.kind)}function hu(n){return n.fields.filter(e=>2!==e.kind)}$f.UNKNOWN_ID=-1;class Wf{constructor(e,t){this.fieldPath=e,this.kind=t}}class bd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new bd(0,pu.min())}}function Sv(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=En.fromTimestamp(1e9===r?new ni(t+1,0):new ni(t,r));return new pu(i,a.empty(),e)}function Jk(n){return new pu(n.readTime,n.key,-1)}class pu{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new pu(En.min(),a.empty(),-1)}static max(){return new pu(En.max(),a.empty(),-1)}}function $x(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=a.comparator(n.documentKey,e.documentKey),0!==t?t:Un(n.largestBatchId,e.largestBatchId))}class Ai{constructor(e,t){this.comparator=e,this.root=t||Os.EMPTY}insert(e,t){return new Ai(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Os.BLACK,null,null))}remove(e){return new Ai(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Os.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kw(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kw(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kw(this.root,e,this.comparator,!0)}}class Kw{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Os{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=null!=r?r:Os.RED,this.left=null!=i?i:Os.EMPTY,this.right=null!=l?l:Os.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new Os(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===l?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Os.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Os.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Os.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Os.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Jt();const e=this.left.check();if(e!==this.right.check())throw Jt();return e+(this.isRed()?0:1)}}Os.EMPTY=null,Os.RED=!0,Os.BLACK=!1,Os.EMPTY=new class{constructor(){this.size=0}get key(){throw Jt()}get value(){throw Jt()}get color(){throw Jt()}get left(){throw Jt()}get right(){throw Jt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Os(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Br{constructor(e){this.comparator=e,this.data=new Ai(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Wx(this.data.getIterator())}getIteratorFrom(e){return new Wx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Br)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(i,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Br(this.comparator);return t.data=e,t}}class Wx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Iv(n){return n.hasNext()?n.getNext():void 0}class Xk{constructor(e,t=null,r=[],i=[],l=null,f=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=f,this.endAt=m,this.P=null}}function qx(n,e=null,t=[],r=[],i=null,l=null,f=null){return new Xk(n,e,t,r,i,l,f)}function Vp(n){const e=Bt(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+j(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Dv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>j(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>j(r)).join(",")),e.P=t}return e.P}function L0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!lP(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!A(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Jx(n.startAt,e.startAt)&&Jx(n.endAt,e.endAt)}function Qw(n){return a.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Yw(n,e){return n.filters.filter(t=>t instanceof Fs&&t.field.isEqual(e))}function Zx(n,e,t){let r=g,i=!0;for(const l of Yw(n,e)){let f=g,m=!0;switch(l.op){case"<":case"<=":f=Jn(l.value);break;case"==":case"in":case">=":f=l.value;break;case">":f=l.value,m=!1;break;case"!=":case"not-in":f=g}so({value:r,inclusive:i},{value:f,inclusive:m})<0&&(r=f,i=m)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const f=t.position[l];so({value:r,inclusive:i},{value:f,inclusive:t.inclusive})<0&&(r=f,i=t.inclusive);break}return{value:r,inclusive:i}}function Kx(n,e,t){let r=u,i=!0;for(const l of Yw(n,e)){let f=u,m=!0;switch(l.op){case">=":case">":f=mr(l.value),m=!1;break;case"==":case"in":case"<=":f=l.value;break;case"<":f=l.value,m=!1;break;case"!=":case"not-in":f=u}ac({value:r,inclusive:i},{value:f,inclusive:m})>0&&(r=f,i=m)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const f=t.position[l];ac({value:r,inclusive:i},{value:f,inclusive:t.inclusive})>0&&(r=f,i=t.inclusive);break}return{value:r,inclusive:i}}class Fs extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new tP(e,t,r):"array-contains"===t?new iP(e,r):"in"===t?new sP(e,r):"not-in"===t?new oP(e,r):"array-contains-any"===t?new aP(e,r):new Fs(e,t,r)}static V(e,t,r){return"in"===t?new nP(e,r):new rP(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(x(t,this.value)):null!==t&&y(this.value)===y(t)&&this.v(x(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Jt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class tP extends Fs{constructor(e,t,r){super(e,t,r),this.key=a.fromName(r.referenceValue)}matches(e){const t=a.comparator(e.key,this.key);return this.v(t)}}class nP extends Fs{constructor(e,t){super(e,"in",t),this.keys=Qx(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class rP extends Fs{constructor(e,t){super(e,"not-in",t),this.keys=Qx(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Qx(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>a.fromName(r.referenceValue))}class iP extends Fs{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return nt(t)&&S(t.arrayValue,this.value)}}class sP extends Fs{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&S(this.value.arrayValue,t)}}class oP extends Fs{constructor(e,t){super(e,"not-in",t)}matches(e){if(S(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!S(this.value.arrayValue,t)}}class aP extends Fs{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!nt(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>S(this.value.arrayValue,r))}}class qf{constructor(e,t){this.position=e,this.inclusive=t}}class Mv{constructor(e,t="asc"){this.field=e,this.dir=t}}function lP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Yx(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],f=n.position[i];if(r=l.field.isKeyField()?a.comparator(a.fromName(f.referenceValue),t.key):x(f,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function Jx(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!A(n.position[t],e.position[t]))return!1;return!0}class Ad{constructor(e,t=null,r=[],i=[],l=null,f="F",m=null,E=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=f,this.startAt=m,this.endAt=E,this.D=null,this.C=null}}function Xx(n,e,t,r,i,l,f,m){return new Ad(n,e,t,r,i,l,f,m)}function xv(n){return new Ad(n)}function mS(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function vS(n){for(const e of n.filters)if(e.S())return e.field;return null}function yS(n){return null!==n.collectionGroup}function Rv(n){const e=Bt(n);if(null===e.D){e.D=[];const t=vS(e),r=mS(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new Mv(t)),e.D.push(new Mv(Ni.keyField(),"asc"));else{let i=!1;for(const l of e.explicitOrderBy)e.D.push(l),l.field.isKeyField()&&(i=!0);if(!i){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Mv(Ni.keyField(),l))}}}return e.D}function Al(n){const e=Bt(n);if(!e.C)if("F"===e.limitType)e.C=qx(e.path,e.collectionGroup,Rv(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Rv(e))t.push(new Mv(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new qf(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new qf(e.startAt.position,e.startAt.inclusive):null;e.C=qx(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function eR(n,e,t){return new Ad(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function V0(n,e){return L0(Al(n),Al(e))&&n.limitType===e.limitType}function tR(n){return`${Vp(Al(n))}|lt:${n.limitType}`}function _S(n){return`Query(target=${function eP(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${j(r.value)}`;var r}).join(", ")}]`),Dv(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>j(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>j(t)).join(",")),`Target(${e})`}(Al(n))}; limitType=${n.limitType})`}function ES(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):a.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,l,f){const m=Yx(i,l,f);return i.inclusive?m<=0:m<0}(t.startAt,Rv(t),r)||t.endAt&&!function(i,l,f){const m=Yx(i,l,f);return i.inclusive?m>=0:m>0}(t.endAt,Rv(t),r)));var t,r}function nR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function rR(n){return(e,t)=>{let r=!1;for(const i of Rv(n)){const l=cP(i,e,t);if(0!==l)return l;r=r||i.field.isKeyField()}return 0}}function cP(n,e,t){const r=n.field.isKeyField()?a.comparator(e.key,t.key):function(i,l,f){const m=l.data.field(i),E=f.data.field(i);return null!==m&&null!==E?x(m,E):Jt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Jt()}}function iR(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:s(e)?"-0":e}}function sR(n){return{integerValue:""+n}}function oR(n,e){return o(e)?sR(e):iR(n,e)}class Jw{constructor(){this._=void 0}}function dP(n,e,t){return n instanceof Nv?function(r,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(l.fields.__previous_value__=i),{mapValue:l}}(t,e):n instanceof Bp?lR(n,e):n instanceof Up?uR(n,e):function(r,i){const l=aR(r,i),f=cR(l)+cR(r.k);return Oe(l)&&Oe(r.k)?sR(f):iR(r.M,f)}(n,e)}function fP(n,e,t){return n instanceof Bp?lR(n,e):n instanceof Up?uR(n,e):t}function aR(n,e){return n instanceof kv?Oe(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Nv extends Jw{}class Bp extends Jw{constructor(e){super(),this.elements=e}}function lR(n,e){const t=dR(e);for(const r of n.elements)t.some(i=>A(i,r))||t.push(r);return{arrayValue:{values:t}}}class Up extends Jw{constructor(e){super(),this.elements=e}}function uR(n,e){let t=dR(e);for(const r of n.elements)t=t.filter(i=>!A(i,r));return{arrayValue:{values:t}}}class kv extends Jw{constructor(e,t){super(),this.M=e,this.k=t}}function cR(n){return ri(n.integerValue||n.doubleValue)}function dR(n){return nt(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class B0{constructor(e,t){this.field=e,this.transform=t}}class pP{constructor(e,t){this.version=e,this.transformResults=t}}class Pi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Pi}static exists(e){return new Pi(void 0,e)}static updateTime(e){return new Pi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xw(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class eC{}function gP(n,e,t){n instanceof U0?function(r,i,l){const f=r.value.clone(),m=gR(r.fieldTransforms,i,l.transformResults);f.setAll(m),i.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):n instanceof Hp?function(r,i,l){if(!Xw(r.precondition,i))return void i.convertToUnknownDocument(l.version);const f=gR(r.fieldTransforms,i,l.transformResults),m=i.data;m.setAll(pR(r)),m.setAll(f),i.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function bS(n,e,t){var i;n instanceof U0?function(r,i,l){if(!Xw(r.precondition,i))return;const f=r.value.clone(),m=mR(r.fieldTransforms,l,i);f.setAll(m),i.convertToFoundDocument(hR(i),f).setHasLocalMutations()}(n,e,t):n instanceof Hp?function(r,i,l){if(!Xw(r.precondition,i))return;const f=mR(r.fieldTransforms,l,i),m=i.data;m.setAll(pR(r)),m.setAll(f),i.convertToFoundDocument(hR(i),m).setHasLocalMutations()}(n,e,t):Xw(n.precondition,i=e)&&i.convertToNoDocument(En.min())}function mP(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=aR(r.transform,i||null);null!=l&&(null==t&&(t=ki.empty()),t.set(r.field,l))}return t||null}function fR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&yd(t,r,(i,l)=>function hP(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Bp&&r instanceof Bp||t instanceof Up&&r instanceof Up?yd(t.elements,r.elements,A):t instanceof kv&&r instanceof kv?A(t.k,r.k):t instanceof Nv&&r instanceof Nv);var t,r}(i,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function hR(n){return n.isFoundDocument()?n.version:En.min()}class U0 extends eC{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Hp extends eC{constructor(e,t,r,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}}function pR(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function gR(n,e,t){const r=new Map;gn(n.length===t.length);for(let i=0;i<t.length;i++){const l=n[i],f=l.transform,m=e.data.field(l.field);r.set(l.field,fP(f,m,t[i]))}return r}function mR(n,e,t){const r=new Map;for(const i of n){const l=i.transform,f=t.data.field(i.field);r.set(i.field,dP(l,f,e))}return r}class H0 extends eC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class AS extends eC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class vP{constructor(e){this.count=e}}var Oi,ur;function vR(n){switch(n){default:return Jt();case Ke.CANCELLED:case Ke.UNKNOWN:case Ke.DEADLINE_EXCEEDED:case Ke.RESOURCE_EXHAUSTED:case Ke.INTERNAL:case Ke.UNAVAILABLE:case Ke.UNAUTHENTICATED:return!1;case Ke.INVALID_ARGUMENT:case Ke.NOT_FOUND:case Ke.ALREADY_EXISTS:case Ke.PERMISSION_DENIED:case Ke.FAILED_PRECONDITION:case Ke.ABORTED:case Ke.OUT_OF_RANGE:case Ke.UNIMPLEMENTED:case Ke.DATA_LOSS:return!0}}function yR(n){if(void 0===n)return zr("GRPC error has no .code"),Ke.UNKNOWN;switch(n){case Oi.OK:return Ke.OK;case Oi.CANCELLED:return Ke.CANCELLED;case Oi.UNKNOWN:return Ke.UNKNOWN;case Oi.DEADLINE_EXCEEDED:return Ke.DEADLINE_EXCEEDED;case Oi.RESOURCE_EXHAUSTED:return Ke.RESOURCE_EXHAUSTED;case Oi.INTERNAL:return Ke.INTERNAL;case Oi.UNAVAILABLE:return Ke.UNAVAILABLE;case Oi.UNAUTHENTICATED:return Ke.UNAUTHENTICATED;case Oi.INVALID_ARGUMENT:return Ke.INVALID_ARGUMENT;case Oi.NOT_FOUND:return Ke.NOT_FOUND;case Oi.ALREADY_EXISTS:return Ke.ALREADY_EXISTS;case Oi.PERMISSION_DENIED:return Ke.PERMISSION_DENIED;case Oi.FAILED_PRECONDITION:return Ke.FAILED_PRECONDITION;case Oi.ABORTED:return Ke.ABORTED;case Oi.OUT_OF_RANGE:return Ke.OUT_OF_RANGE;case Oi.UNIMPLEMENTED:return Ke.UNIMPLEMENTED;case Oi.DATA_LOSS:return Ke.DATA_LOSS;default:return Jt()}}(ur=Oi||(Oi={}))[ur.OK=0]="OK",ur[ur.CANCELLED=1]="CANCELLED",ur[ur.UNKNOWN=2]="UNKNOWN",ur[ur.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ur[ur.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ur[ur.NOT_FOUND=5]="NOT_FOUND",ur[ur.ALREADY_EXISTS=6]="ALREADY_EXISTS",ur[ur.PERMISSION_DENIED=7]="PERMISSION_DENIED",ur[ur.UNAUTHENTICATED=16]="UNAUTHENTICATED",ur[ur.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ur[ur.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ur[ur.ABORTED=10]="ABORTED",ur[ur.OUT_OF_RANGE=11]="OUT_OF_RANGE",ur[ur.UNIMPLEMENTED=12]="UNIMPLEMENTED",ur[ur.INTERNAL=13]="INTERNAL",ur[ur.UNAVAILABLE=14]="UNAVAILABLE",ur[ur.DATA_LOSS=15]="DATA_LOSS";class Zf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,l]of r)if(this.equalsFn(i,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Gf(this.inner,(t,r)=>{for(const[i,l]of r)e(i,l)})}isEmpty(){return F0(this.inner)}size(){return this.innerSize}}const yP=new Ai(a.comparator);function wl(){return yP}const _P=new Ai(a.comparator);function wS(...n){let e=_P;for(const t of n)e=e.insert(t.key,t);return e}function j0(){return new Zf(n=>n.toString(),(n,e)=>n.isEqual(e))}const EP=new Ai(a.comparator),bP=new Br(a.comparator);function br(...n){let e=bP;for(const t of n)e=e.add(t);return e}const AP=new Br(Un);function tC(){return AP}class G0{constructor(e,t,r,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,z0.createSynthesizedTargetChangeForCurrentChange(e,t)),new G0(En.min(),r,tC(),wl(),br())}}class z0{constructor(e,t,r,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new z0(bi.EMPTY_BYTE_STRING,t,br(),br(),br())}}class nC{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class _R{constructor(e,t){this.targetId=e,this.$=t}}class ER{constructor(e,t,r=bi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class bR{constructor(){this.B=0,this.L=wR(),this.U=bi.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=br(),t=br(),r=br();return this.L.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Jt()}}),new z0(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=wR()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class wP{constructor(e){this.nt=e,this.st=new Map,this.it=wl(),this.rt=AR(),this.ot=new Br(Un)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:Jt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const l=i.target;if(Qw(l))if(0===r){const f=new a(l.path);this.ct(t,f,Ir.newNoDocument(f,En.min()))}else gn(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((l,f)=>{const m=this.wt(f);if(m){if(l.current&&Qw(m.target)){const E=new a(m.target.path);null!==this.it.get(E)||this.It(f,E)||this.ct(f,E,Ir.newNoDocument(E,e))}l.j&&(t.set(f,l.H()),l.J())}});let r=br();this.rt.forEach((l,f)=>{let m=!0;f.forEachWhile(E=>{const C=this.wt(E);return!C||2===C.purpose||(m=!1,!1)}),m&&(r=r.add(l))}),this.it.forEach((l,f)=>f.setReadTime(e));const i=new G0(e,t,this.ot,this.it,r);return this.it=wl(),this.rt=AR(),this.ot=new Br(Un),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new bR,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Br(Un),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||It("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new bR),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function AR(){return new Ai(a.comparator)}function wR(){return new Ai(a.comparator)}const CP={asc:"ASCENDING",desc:"DESCENDING"},DP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class TP{constructor(e,t){this.databaseId=e,this.N=t}}function $0(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function CR(n,e){return n.N?e.toBase64():e.toUint8Array()}function SP(n,e){return $0(n,e.toTimestamp())}function hs(n){return gn(!!n),En.fromTimestamp(function(e){const t=Ed(e);return new ni(t.seconds,t.nanos)}(n))}function CS(n,e){return(t=n,new sr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function DR(n){const e=sr.fromString(n);return gn(PR(e)),e}function W0(n,e){return CS(n.databaseId,e.path)}function lc(n,e){const t=DR(e);if(t.get(1)!==n.databaseId.projectId)throw new gt(Ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new gt(Ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new a(SR(t))}function DS(n,e){return CS(n.databaseId,e)}function TR(n){const e=DR(n);return 4===e.length?sr.emptyPath():SR(e)}function q0(n){return new sr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function SR(n){return gn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function IR(n,e,t){return{name:W0(n,e),fields:t.value.mapValue.fields}}function MR(n,e,t){const r=lc(n,e.name),i=hs(e.updateTime),l=new ki({mapValue:{fields:e.fields}}),f=Ir.newFoundDocument(r,i,l);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function Z0(n,e){let t;if(e instanceof U0)t={update:IR(n,e.key,e.value)};else if(e instanceof H0)t={delete:W0(n,e.key)};else if(e instanceof Hp)t={update:IR(n,e.key,e.data),updateMask:FP(e.fieldMask)};else{if(!(e instanceof AS))return Jt();t={verify:W0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const f=l.transform;if(f instanceof Nv)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Bp)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Up)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof kv)return{fieldPath:l.field.canonicalString(),increment:f.k};throw Jt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:SP(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Jt()),t;var i}function TS(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Pi.updateTime(hs(i.updateTime)):void 0!==i.exists?Pi.exists(i.exists):Pi.none():Pi.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,f){let m=null;"setToServerValue"in f?(gn("REQUEST_TIME"===f.setToServerValue),m=new Nv):"appendMissingElements"in f?m=new Bp(f.appendMissingElements.values||[]):"removeAllFromArray"in f?m=new Up(f.removeAllFromArray.values||[]):"increment"in f?m=new kv(l,f.increment):Jt();const E=Ni.fromServerFormat(f.fieldPath);return new B0(E,m)}(n,i)):[];var i;if(e.update){const i=lc(n,e.update.name),l=new ki({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new Fp((e.updateMask.fieldPaths||[]).map(C=>Ni.fromServerFormat(C)));return new Hp(i,l,f,t,r)}return new U0(i,l,t,r)}if(e.delete){const i=lc(n,e.delete);return new H0(i,t)}if(e.verify){const i=lc(n,e.verify);return new AS(i,t)}return Jt()}function xR(n,e){return{documents:[DS(n,e.path)]}}function RR(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=DS(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=DS(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(E){if(0===E.length)return;const C=E.map(k=>function(O){if("=="===O.op){if(Ot(O.value))return{unaryFilter:{field:Pv(O.field),op:"IS_NAN"}};if(Mt(O.value))return{unaryFilter:{field:Pv(O.field),op:"IS_NULL"}}}else if("!="===O.op){if(Ot(O.value))return{unaryFilter:{field:Pv(O.field),op:"IS_NOT_NAN"}};if(Mt(O.value))return{unaryFilter:{field:Pv(O.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pv(O.field),op:kP(O.op),value:O.value}}}(k));return 1===C.length?C[0]:{compositeFilter:{op:"AND",filters:C}}}(e.filters);i&&(t.structuredQuery.where=i);const l=function(E){if(0!==E.length)return E.map(C=>{return{field:Pv((k=C).field),direction:NP(k.dir)};var k})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const f=(C=e.limit,n.N||Dv(C)?C:{value:C});var C,m,E;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(E=e.endAt).inclusive,values:E.position}),t}function NR(n){let e=TR(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){gn(1===r);const k=t.from[0];k.allDescendants?i=k.collectionId:e=e.child(k.collectionId)}let l=[];t.where&&(l=kR(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(k=>{return new Mv(Ov((O=k).field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction));var O}));let m=null;t.limit&&(m=function(k){let O;return O="object"==typeof k?k.value:k,Dv(O)?null:O}(t.limit));let E=null;var k;t.startAt&&(E=new qf((k=t.startAt).values||[],!!k.before));let C=null;return t.endAt&&(C=function(k){return new qf(k.values||[],!k.before)}(t.endAt)),Xx(e,i,f,l,m,"F",E,C)}function kR(n){return n?void 0!==n.unaryFilter?[OP(n)]:void 0!==n.fieldFilter?[PP(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>kR(e)).reduce((e,t)=>e.concat(t)):Jt():[]}function NP(n){return CP[n]}function kP(n){return DP[n]}function Pv(n){return{fieldPath:n.canonicalString()}}function Ov(n){return Ni.fromServerFormat(n.fieldPath)}function PP(n){return Fs.create(Ov(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Jt()}}(n.fieldFilter.op),n.fieldFilter.value)}function OP(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Ov(n.unaryFilter.field);return Fs.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Ov(n.unaryFilter.field);return Fs.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ov(n.unaryFilter.field);return Fs.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ov(n.unaryFilter.field);return Fs.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Jt()}}function FP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function PR(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function No(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=OR(e)),e=LP(n.get(t),e);return OR(e)}function LP(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function OR(n){return n+"\x01\x01"}function uc(n){const e=n.length;if(gn(e>=2),2===e)return gn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),sr.emptyPath();const t=e-2,r=[];let i="";for(let l=0;l<e;){const f=n.indexOf("\x01",l);switch((f<0||f>t)&&Jt(),n.charAt(f+1)){case"\x01":const m=n.substring(l,f);let E;0===i.length?E=m:(i+=m,E=i,i=""),r.push(E);break;case"\x10":i+=n.substring(l,f),i+="\0";break;case"\x11":i+=n.substring(l,f+1);break;default:Jt()}l=f+2}return new sr(r)}const FR=["userId","batchId"];function rC(n,e){return[n,No(e)]}function LR(n,e,t){return[n,No(e),t]}const VP={},BP=["prefixPath","collectionGroup","readTime","documentId"],UP=["prefixPath","collectionGroup","documentId"],HP=["collectionGroup","readTime","prefixPath","documentId"],jP=["canonicalId","targetId"],GP=["targetId","path"],zP=["path","targetId"],$P=["collectionId","parent"],WP=["indexId","uid"],qP=["uid","sequenceNumber"],ZP=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],KP=["indexId","uid","orderedDocumentKey"],QP=["userId","collectionPath","documentId"],YP=["userId","collectionPath","largestBatchId"],JP=["userId","collectionGroup","largestBatchId"],VR=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],XP=[...VR,"documentOverlays"],BR=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],eO=[...BR,"indexConfiguration","indexState","indexEntries"],UR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Jt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Je((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Je?t:Je.resolve(t)}catch(t){return Je.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Je.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Je.reject(t)}static resolve(e){return new Je((t,r)=>{t(e)})}static reject(e){return new Je((t,r)=>{r(e)})}static waitFor(e){return new Je((t,r)=>{let i=0,l=0,f=!1;e.forEach(m=>{++i,m.next(()=>{++l,f&&l===i&&t()},E=>r(E))}),f=!0,l===i&&t()})}static or(e){let t=Je.resolve(!1);for(const r of e)t=t.next(i=>i?Je.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,l)=>{r.push(t.call(this,i,l))}),this.waitFor(r)}}class iC{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new hi,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new K0(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=SS(r.target.error);this.At.reject(new K0(e,i))}}static open(e,t,r,i){try{return new iC(t,e.transaction(i,r))}catch(l){throw new K0(t,l)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(It("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new nO(t)}}class gu{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===gu.Vt((0,Kn.z$)())&&zr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return It("SimpleDb","Removing database:",e),Gp(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Kn.hl)())return!1;if(gu.St())return!0;const e=(0,Kn.z$)(),t=gu.Vt(e),r=0<t&&t<10,i=gu.Dt(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,it.Z)(function*(){return t.db||(It("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=f=>{r(f.target.result)},l.onblocked=()=>{i(new K0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=f=>{const m=f.target.error;i("VersionError"===m.name?new gt(Ke.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new gt(Ke.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new K0(e,m))},l.onupgradeneeded=f=>{It("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',f.oldVersion),t.Pt.kt(f.target.result,l.transaction,f.oldVersion,t.version).next(()=>{It("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var l=this;return(0,it.Z)(function*(){const f="readonly"===t;let m=0;for(;;){++m;try{l.db=yield l.Nt(e);const E=iC.open(l.db,e,f?"readonly":"readwrite",r),C=i(E).next(k=>(E.bt(),k)).catch(k=>(E.abort(k),Je.reject(k))).toPromise();return C.catch(()=>{}),yield E.Rt,C}catch(E){const C="FirebaseError"!==E.name&&m<3;if(It("SimpleDb","Transaction failed with error:",E.message,"Retrying:",C),l.close(),!C)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class tO{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Gp(this.Ft.delete())}}class K0 extends gt{constructor(e,t){super(Ke.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function jp(n){return"IndexedDbTransactionError"===n.name}class nO{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(It("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(It("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Gp(r)}add(e){return It("SimpleDb","ADD",this.store.name,e,e),Gp(this.store.add(e))}get(e){return Gp(this.store.get(e)).next(t=>(void 0===t&&(t=null),It("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return It("SimpleDb","DELETE",this.store.name,e),Gp(this.store.delete(e))}count(){return It("SimpleDb","COUNT",this.store.name),Gp(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),l=[];return this.Kt(i,(f,m)=>{l.push(m)}).next(()=>l)}{const i=this.store.getAll(r.range);return new Je((l,f)=>{i.onerror=m=>{f(m.target.error)},i.onsuccess=m=>{l(m.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Je((i,l)=>{r.onerror=f=>{l(f.target.error)},r.onsuccess=f=>{i(f.target.result)}})}Qt(e,t){It("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Kt(i,(l,f,m)=>m.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Kt(i,t)}zt(e){const t=this.cursor({});return new Je((r,i)=>{t.onerror=l=>{const f=SS(l.target.error);i(f)},t.onsuccess=l=>{const f=l.target.result;f?e(f.primaryKey,f.value).next(m=>{m?f.continue():r()}):r()}})}Kt(e,t){const r=[];return new Je((i,l)=>{e.onerror=f=>{l(f.target.error)},e.onsuccess=f=>{const m=f.target.result;if(!m)return void i();const E=new tO(m),C=t(m.primaryKey,m.value,E);if(C instanceof Je){const k=C.catch(O=>(E.done(),Je.reject(O)));r.push(k)}E.isDone?i():null===E.Lt?m.continue():m.continue(E.Lt)}}).next(()=>Je.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Gp(n){return new Je((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=SS(r.target.error);t(i)}})}let jR=!1;function SS(n){const e=gu.Vt((0,Kn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new gt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return jR||(jR=!0,setTimeout(()=>{throw r},0)),r}}return n}class GR extends HR{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function ps(n,e){const t=Bt(n);return gu.xt(t.Ht,e)}class IS{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&gP(l,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&bS(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&bS(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(En.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),br())}isEqual(e){return this.batchId===e.batchId&&yd(this.mutations,e.mutations,(t,r)=>fR(t,r))&&yd(this.baseMutations,e.baseMutations,(t,r)=>fR(t,r))}}class MS{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){gn(e.mutations.length===r.length);let i=EP;const l=e.mutations;for(let f=0;f<l.length;f++)i=i.insert(l[f].key,r[f].version);return new MS(e,t,r,i)}}class xS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Kf{constructor(e,t,r,i,l=En.min(),f=En.min(),m=bi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m}withSequenceNumber(e){return new Kf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Kf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Kf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class zR{constructor(e){this.Jt=e}}function $R(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:sC(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:W0(i=n.Jt,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:$0(i,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:zp(e.version)};else{if(!e.isUnknownDocument())return Jt();r.unknownDocument={path:t.path.toArray(),version:zp(e.version)}}var i,l;return r}function sC(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function zp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function $p(n){const e=new ni(n.seconds,n.nanoseconds);return En.fromTimestamp(e)}function Fv(n,e){const t=(e.baseMutations||[]).map(l=>TS(n.Jt,l));for(let l=0;l<e.mutations.length-1;++l){const f=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(f.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>TS(n.Jt,l)),i=ni.fromMillis(e.localWriteTimeMs);return new IS(e.batchId,i,t,r)}function Q0(n){const e=$p(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?$p(n.lastLimboFreeSnapshotVersion):En.min();let r;var i;return void 0!==n.query.documents?(gn(1===(i=n.query).documents.length),r=Al(xv(TR(i.documents[0])))):r=Al(NR(n.query)),new Kf(r,n.targetId,0,n.lastListenSequenceNumber,e,t,bi.fromBase64String(n.resumeToken))}function WR(n,e){const t=zp(e.snapshotVersion),r=zp(e.lastLimboFreeSnapshotVersion);let i;i=Qw(e.target)?xR(n.Jt,e.target):RR(n.Jt,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Vp(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function RS(n){const e=NR({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?eR(e,e.limit,"L"):e}function NS(n,e){return new xS(e.largestBatchId,TS(n.Jt,e.overlayMutation))}function qR(n,e){const t=e.path.lastSegment();return[n,No(e.path.popLast()),t]}class iO{getBundleMetadata(e,t){return ZR(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:$p(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return ZR(e).put({bundleId:(r=t).id,createTime:zp(hs(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return KR(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:RS(i.bundledQuery),readTime:$p(i.readTime)};var i})}saveNamedQuery(e,t){return KR(e).put({name:(r=t).name,readTime:zp(hs(r.readTime)),bundledQuery:r.bundledQuery});var r}}function ZR(n){return ps(n,"bundles")}function KR(n){return ps(n,"namedQueries")}class kS{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new kS(e,t.uid||"")}getOverlay(e,t){return Y0(e).get(qR(this.userId,t)).next(r=>r?NS(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((l,f)=>{const m=new xS(t,f);i.push(this.Xt(e,m))}),Je.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(f=>i.add(No(f.getCollectionPath())));const l=[];return i.forEach(f=>{const m=IDBKeyRange.bound([this.userId,f,r],[this.userId,f,r+1],!1,!0);l.push(Y0(e).Qt("collectionPathOverlayIndex",m))}),Je.waitFor(l)}getOverlaysForCollection(e,t,r){const i=j0(),l=No(t),f=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Y0(e).qt("collectionPathOverlayIndex",f).next(m=>{for(const E of m){const C=NS(this.M,E);i.set(C.getKey(),C)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const l=j0();let f;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Y0(e).Wt({index:"collectionGroupOverlayIndex",range:m},(E,C,k)=>{const O=NS(this.M,C);l.size()<i||O.largestBatchId===f?(l.set(O.getKey(),O),f=O.largestBatchId):k.done()}).next(()=>l)}Xt(e,t){return Y0(e).put(function(r,i,l){const[f,m,E]=qR(i,l.mutation.key);return{userId:i,collectionPath:m,documentId:E,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:Z0(r.Jt,l.mutation)}}(this.M,this.userId,t))}}function Y0(n){return ps(n,"documentOverlays")}class Wp{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(ri(e.integerValue));else if("doubleValue"in e){const r=ri(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),s(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(zf(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?dn(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Jt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),a.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function sO(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function QR(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const l=sO(255&t[i]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}Wp.fe=new Wp;class oO{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=QR(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=QR(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class aO{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class lO{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class J0{constructor(){this.De=new oO,this.Ce=new aO(this.De),this.xe=new lO(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class qp{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new qp(this.indexId,this.documentKey,this.arrayValue,r)}}function Zp(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=YR(n.arrayValue,e.arrayValue),0!==t?t:(t=YR(n.directionalValue,e.directionalValue),0!==t?t:a.comparator(n.documentKey,e.documentKey)))}function YR(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class uO{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=Lp(e);if(void 0!==t&&!this.Be(t))return!1;const r=hu(e);let i=0,l=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const f=r[i];if(!this.Le(this.Fe,f)||!this.Ue(this.Me[l++],f))return!1;++i}for(;i<r.length;++i){const f=r[i];if(l>=this.Me.length||!this.Ue(this.Me[l++],f))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class cO{constructor(){this.qe=new PS}addToCollectionParentIndex(e,t){return this.qe.add(t),Je.resolve()}getCollectionParents(e,t){return Je.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return Je.resolve()}deleteFieldIndex(e,t){return Je.resolve()}getDocumentsMatchingTarget(e,t){return Je.resolve(null)}getIndexType(e,t){return Je.resolve(0)}getFieldIndexes(e,t){return Je.resolve([])}getNextCollectionGroupToUpdate(e){return Je.resolve(null)}getMinOffset(e,t){return Je.resolve(pu.min())}updateCollectionGroup(e,t,r){return Je.resolve()}updateIndexEntries(e,t){return Je.resolve()}}class PS{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Br(sr.comparator),l=!i.has(r);return this.index[t]=i.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Br(sr.comparator)).toArray()}}const oC=new Uint8Array(0);class dO{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new PS,this.Ge=new Zf(r=>Vp(r),(r,i)=>L0(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const l={collectionId:r,parent:No(i)};return JR(e).put(l)}return Je.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Ww(t),""],!1,!0);return JR(e).qt(i).next(l=>{for(const f of l){if(f.collectionId!==t)break;r.push(uc(f.parent))}return r})}addFieldIndex(e,t){const r=aC(e),i={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var l;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=aC(e),i=lC(e),l=X0(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=X0(e);let i=!0;const l=new Map;return Je.forEach(this.Qe(t),f=>this.je(e,f).next(m=>{i&&(i=!!m),l.set(f,m)})).next(()=>{if(i){let f=br();const m=[];return Je.forEach(l,(E,C)=>{var k;It("IndexedDbIndexManager",`Using index ${k=E,`id=${k.indexId}|cg=${k.collectionGroup}|f=${k.fields.map(kt=>`${kt.fieldPath}:${kt.kind}`).join(",")}`} to execute ${Vp(t)}`);const O=function(kt,Dt){const mn=Lp(Dt);if(void 0===mn)return null;for(const pn of Yw(kt,mn.fieldPath))switch(pn.op){case"array-contains-any":return pn.value.arrayValue.values||[];case"array-contains":return[pn.value]}return null}(C,E),q=function(kt,Dt){const mn=new Map;for(const pn of hu(Dt))for(const Gn of Yw(kt,pn.fieldPath))switch(Gn.op){case"==":case"in":mn.set(pn.fieldPath.canonicalString(),Gn.value);break;case"not-in":case"!=":return mn.set(pn.fieldPath.canonicalString(),Gn.value),Array.from(mn.values())}return null}(C,E),J=function(kt,Dt){const mn=[];let pn=!0;for(const Gn of hu(Dt)){const $n=0===Gn.kind?Zx(kt,Gn.fieldPath,kt.startAt):Kx(kt,Gn.fieldPath,kt.startAt);mn.push($n.value),pn&&(pn=$n.inclusive)}return new qf(mn,pn)}(C,E),se=function(kt,Dt){const mn=[];let pn=!0;for(const Gn of hu(Dt)){const $n=0===Gn.kind?Kx(kt,Gn.fieldPath,kt.endAt):Zx(kt,Gn.fieldPath,kt.endAt);mn.push($n.value),pn&&(pn=$n.inclusive)}return new qf(mn,pn)}(C,E),Me=this.We(E,C,J),rt=this.We(E,C,se),at=this.ze(E,C,q),Et=this.He(E.indexId,O,Me,J.inclusive,rt,se.inclusive,at);return Je.forEach(Et,kt=>r.Gt(kt,t.limit).next(Dt=>{Dt.forEach(mn=>{const pn=a.fromSegments(mn.documentKey);f.has(pn)||(f=f.add(pn),m.push(pn))})}))}).next(()=>m)}return Je.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,r,i,l,f,m){const E=(null!=t?t.length:1)*Math.max(r.length,l.length),C=E/(null!=t?t.length:1),k=[];for(let O=0;O<E;++O){const q=t?this.Je(t[O/C]):oC,J=this.Ye(e,q,r[O%C],i),se=this.Xe(e,q,l[O%C],f),Me=m.map(rt=>this.Ye(e,q,rt,!0));k.push(...this.createRange(J,se,Me))}return k}Ye(e,t,r,i){const l=new qp(e,a.empty(),t,r);return i?l:l.ke()}Xe(e,t,r,i){const l=new qp(e,a.empty(),t,r);return i?l.ke():l}je(e,t){const r=new uO(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(l=>{let f=null;for(const m of l)r.$e(m)&&(!f||m.fields.length>f.fields.length)&&(f=m);return f})}getIndexType(e,t){let r=2;return Je.forEach(this.Qe(t),i=>this.je(e,i).next(l=>{l?0!==r&&l.fields.length<function(f){let m=new Br(Ni.comparator),E=!1;for(const C of f.filters){const k=C;k.field.isKeyField()||("array-contains"===k.op||"array-contains-any"===k.op?E=!0:m=m.add(k.field))}for(const C of f.orderBy)C.field.isKeyField()||(m=m.add(C.field));return m.size+(E?1:0)}(i)&&(r=1):r=0})).next(()=>r)}Ze(e,t){const r=new J0;for(const i of hu(e)){const l=t.data.field(i.fieldPath);if(null==l)return null;const f=r.Ne(i.kind);Wp.fe.Zt(l,f)}return r.Se()}Je(e){const t=new J0;return Wp.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new J0;return Wp.fe.Zt(ve(this.databaseId,t),r.Ne(function(i){const l=hu(i);return 0===l.length?0:l[l.length-1].kind}(e))),r.Se()}ze(e,t,r){if(null===r)return[];let i=[];i.push(new J0);let l=0;for(const f of hu(e)){const m=r[l++];for(const E of i)if(this.en(t,f.fieldPath)&&nt(m))i=this.nn(i,f,m);else{const C=E.Ne(f.kind);Wp.fe.Zt(m,C)}}return this.sn(i)}We(e,t,r){return this.ze(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const i=[...e],l=[];for(const f of r.arrayValue.values||[])for(const m of i){const E=new J0;E.seed(m.Se()),Wp.fe.Zt(f,E.Ne(t.kind)),l.push(E)}return l}en(e,t){return!!e.filters.find(r=>r instanceof Fs&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=aC(e),i=lC(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(l=>{const f=[];return Je.forEach(l,m=>i.get([m.indexId,this.uid]).next(E=>{f.push(function(C,k){const O=k?new bd(k.sequenceNumber,new pu($p(k.readTime),new a(uc(k.documentKey)),k.largestBatchId)):bd.empty(),q=C.fields.map(([J,se])=>new Wf(Ni.fromServerFormat(J),se));return new $f(C.indexId,C.collectionGroup,q,O)}(m,E))})).next(()=>f)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const l=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==l?l:Un(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=aC(e),l=lC(e);return this.rn(e).next(f=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>Je.forEach(m,E=>{return l.put({indexId:E.indexId,uid:this.user.uid||"",sequenceNumber:f,readTime:zp((q=r).readTime),documentKey:No(q.documentKey.path),largestBatchId:q.largestBatchId});var q})))}updateIndexEntries(e,t){const r=new Map;return Je.forEach(t,(i,l)=>{const f=r.get(i.collectionGroup);return(f?Je.resolve(f):this.getFieldIndexes(e,i.collectionGroup)).next(m=>(r.set(i.collectionGroup,m),Je.forEach(m,E=>this.on(e,i,E).next(C=>{const k=this.un(l,E);return C.isEqual(k)?Je.resolve():this.an(e,l,E,C,k)}))))})}cn(e,t,r,i){return X0(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,i){return X0(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const i=X0(e);let l=new Br(Zp);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(f,m)=>{l=l.add(new qp(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>l)}un(e,t){let r=new Br(Zp);const i=this.Ze(t,e);if(null==i)return r;const l=Lp(t);if(null!=l){const f=e.data.field(l.fieldPath);if(nt(f))for(const m of f.arrayValue.values||[])r=r.add(new qp(t.indexId,e.key,this.Je(m),i))}else r=r.add(new qp(t.indexId,e.key,oC,i));return r}an(e,t,r,i,l){It("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const f=[];return function(m,E,C,k,O){const q=m.getIterator(),J=E.getIterator();let se=Iv(q),Me=Iv(J);for(;se||Me;){let rt=!1,at=!1;if(se&&Me){const Et=C(se,Me);Et<0?at=!0:Et>0&&(rt=!0)}else null!=se?at=!0:rt=!0;rt?(k(Me),Me=Iv(J)):at?(O(se),se=Iv(q)):(se=Iv(q),Me=Iv(J))}}(i,l,Zp,m=>{f.push(this.cn(e,t,r,m))},m=>{f.push(this.hn(e,t,r,m))}),Je.waitFor(f)}rn(e){let t=1;return lC(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,l)=>{l.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((f,m)=>Zp(f,m)).filter((f,m,E)=>!m||0!==Zp(f,E[m-1]));const i=[];i.push(e);for(const f of r){const m=Zp(f,e),E=Zp(f,t);if(0===m)i[0]=e.ke();else if(m>0&&E<0)i.push(f),i.push(f.ke());else if(E>0)break}i.push(t);const l=[];for(let f=0;f<i.length;f+=2)l.push(IDBKeyRange.bound([i[f].indexId,this.uid,i[f].arrayValue,i[f].directionalValue,oC,[]],[i[f+1].indexId,this.uid,i[f+1].arrayValue,i[f+1].directionalValue,oC,[]]));return l}getMinOffset(e,t){let r;return Je.forEach(this.Qe(t),i=>this.je(e,i).next(l=>{l?(!r||$x(l.indexState.offset,r)<0)&&(r=l.indexState.offset):r=pu.min()})).next(()=>r)}}function JR(n){return ps(n,"collectionParents")}function X0(n){return ps(n,"indexEntries")}function aC(n){return ps(n,"indexConfiguration")}function lC(n){return ps(n,"indexState")}const XR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class oa{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new oa(e,oa.DEFAULT_COLLECTION_PERCENTILE,oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function eN(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),l=[],f=IDBKeyRange.only(t.batchId);let m=0;const E=r.Wt({range:f},(k,O,q)=>(m++,q.delete()));l.push(E.next(()=>{gn(1===m)}));const C=[];for(const k of t.mutations){const O=LR(e,k.key.path,t.batchId);l.push(i.delete(O)),C.push(k.key)}return Je.waitFor(l).next(()=>C)}function uC(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Jt();e=n.noDocument}return JSON.stringify(e).length}oa.DEFAULT_COLLECTION_PERCENTILE=10,oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oa.DEFAULT=new oa(41943040,oa.DEFAULT_COLLECTION_PERCENTILE,oa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oa.DISABLED=new oa(-1,0,0);class OS{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.ln={}}static Yt(e,t,r,i){gn(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new OS(l,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Qf(e).Wt({index:"userMutationsIndex",range:r},(i,l,f)=>{t=!1,f.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const l=Lv(e),f=Qf(e);return f.add({}).next(m=>{gn("number"==typeof m);const E=new IS(m,t,r,i),C=function(q,J,se){const Me=se.baseMutations.map(at=>Z0(q.Jt,at)),rt=se.mutations.map(at=>Z0(q.Jt,at));return{userId:J,batchId:se.batchId,localWriteTimeMs:se.localWriteTime.toMillis(),baseMutations:Me,mutations:rt}}(this.M,this.userId,E),k=[];let O=new Br((q,J)=>Un(q.canonicalString(),J.canonicalString()));for(const q of i){const J=LR(this.userId,q.key.path,m);O=O.add(q.key.path.popLast()),k.push(f.put(C)),k.push(l.put(J,VP))}return O.forEach(q=>{k.push(this.indexManager.addToCollectionParentIndex(e,q))}),e.addOnCommittedListener(()=>{this.ln[m]=E.keys()}),Je.waitFor(k).next(()=>E)})}lookupMutationBatch(e,t){return Qf(e).get(t).next(r=>r?(gn(r.userId===this.userId),Fv(this.M,r)):null)}fn(e,t){return this.ln[t]?Je.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.ln[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Qf(e).Wt({index:"userMutationsIndex",range:i},(f,m,E)=>{m.userId===this.userId&&(gn(m.batchId>=r),l=Fv(this.M,m)),E.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Qf(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,l,f)=>{r=l.batchId,f.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Qf(e).qt("userMutationsIndex",t).next(r=>r.map(i=>Fv(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=rC(this.userId,t.path),i=IDBKeyRange.lowerBound(r),l=[];return Lv(e).Wt({range:i},(f,m,E)=>{const[C,k,O]=f,q=uc(k);if(C===this.userId&&t.path.isEqual(q))return Qf(e).get(O).next(J=>{if(!J)throw Jt();gn(J.userId===this.userId),l.push(Fv(this.M,J))});E.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Br(Un);const i=[];return t.forEach(l=>{const f=rC(this.userId,l.path),m=IDBKeyRange.lowerBound(f),E=Lv(e).Wt({range:m},(C,k,O)=>{const[q,J,se]=C,Me=uc(J);q===this.userId&&l.path.isEqual(Me)?r=r.add(se):O.done()});i.push(E)}),Je.waitFor(i).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,l=rC(this.userId,r),f=IDBKeyRange.lowerBound(l);let m=new Br(Un);return Lv(e).Wt({range:f},(E,C,k)=>{const[O,q,J]=E,se=uc(q);O===this.userId&&r.isPrefixOf(se)?se.length===i&&(m=m.add(J)):k.done()}).next(()=>this.dn(e,m))}dn(e,t){const r=[],i=[];return t.forEach(l=>{i.push(Qf(e).get(l).next(f=>{if(null===f)throw Jt();gn(f.userId===this.userId),r.push(Fv(this.M,f))}))}),Je.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return eN(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),Je.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Je.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Lv(e).Wt({range:r},(l,f,m)=>{if(l[0]===this.userId){const E=uc(l[1]);i.push(E)}else m.done()}).next(()=>{gn(0===i.length)})})}containsKey(e,t){return tN(e,this.userId,t)}wn(e){return nN(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function tN(n,e,t){const r=rC(e,t.path),i=r[1],l=IDBKeyRange.lowerBound(r);let f=!1;return Lv(n).Wt({range:l,jt:!0},(m,E,C)=>{const[k,O,q]=m;k===e&&O===i&&(f=!0),C.done()}).next(()=>f)}function Qf(n){return ps(n,"mutations")}function Lv(n){return ps(n,"documentMutations")}function nN(n){return ps(n,"mutationQueues")}class Kp{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Kp(0)}static yn(){return new Kp(-1)}}class fO{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new Kp(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>En.fromTimestamp(new ni(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.In(e,i)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Vv(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(gn(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let i=0;const l=[];return Vv(e).Wt((f,m)=>{const E=Q0(m);E.sequenceNumber<=t&&null===r.get(E.targetId)&&(i++,l.push(this.removeTargetData(e,E)))}).next(()=>Je.waitFor(l)).next(()=>i)}forEachTarget(e,t){return Vv(e).Wt((r,i)=>{const l=Q0(i);t(l)})}pn(e){return rN(e).get("targetGlobalKey").next(t=>(gn(null!==t),t))}In(e,t){return rN(e).put("targetGlobalKey",t)}Tn(e,t){return Vv(e).put(WR(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Vp(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Vv(e).Wt({range:i,index:"queryTargetsIndex"},(f,m,E)=>{const C=Q0(m);L0(t,C.target)&&(l=C,E.done())}).next(()=>l)}addMatchingKeys(e,t,r){const i=[],l=Yf(e);return t.forEach(f=>{const m=No(f.path);i.push(l.put({targetId:r,path:m})),i.push(this.referenceDelegate.addReference(e,r,f))}),Je.waitFor(i)}removeMatchingKeys(e,t,r){const i=Yf(e);return Je.forEach(t,l=>{const f=No(l.path);return Je.waitFor([i.delete([r,f]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Yf(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Yf(e);let l=br();return i.Wt({range:r,jt:!0},(f,m,E)=>{const C=uc(f[1]),k=new a(C);l=l.add(k)}).next(()=>l)}containsKey(e,t){const r=No(t.path),i=IDBKeyRange.bound([r],[Ww(r)],!1,!0);let l=0;return Yf(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([f,m],E,C)=>{0!==f&&(l++,C.done())}).next(()=>l>0)}Et(e,t){return Vv(e).get(t).next(r=>r?Q0(r):null)}}function Vv(n){return ps(n,"targets")}function rN(n){return ps(n,"targetGlobal")}function Yf(n){return ps(n,"targetDocuments")}function Qp(n){return FS.apply(this,arguments)}function FS(){return FS=(0,it.Z)(function*(n){if(n.code!==Ke.FAILED_PRECONDITION||n.message!==UR)throw n;It("LocalStore","Unexpectedly lost primary lease")}),FS.apply(this,arguments)}function iN([n,e],[t,r]){const i=Un(n,t);return 0===i?Un(e,r):i}class hO{constructor(e){this.An=e,this.buffer=new Br(iN),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();iN(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class pO{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;It("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,it.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){jp(i)?It("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Qp(i)}yield t.Sn(e)}))}}class gO{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Je.resolve(Ro.A);const r=new hO(t);return this.Dn.forEachTarget(e,i=>r.Pn(i.sequenceNumber)).next(()=>this.Dn.xn(e,i=>r.Pn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(It("LruGarbageCollector","Garbage collection skipped; disabled"),Je.resolve(XR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(It("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),XR):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,i,l,f,m,E,C;const k=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(It("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),i=this.params.maximumSequenceNumbersToCollect):i=O,f=Date.now(),this.nthSequenceNumber(e,i))).next(O=>(r=O,m=Date.now(),this.removeTargets(e,r,t))).next(O=>(l=O,E=Date.now(),this.removeOrphanedDocuments(e,r))).next(O=>(C=Date.now(),zw()<=nc.in.DEBUG&&It("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-k}ms\n\tDetermined least recently used ${i} in `+(m-f)+`ms\n\tRemoved ${l} targets in `+(E-m)+`ms\n\tRemoved ${O} documents in `+(C-E)+`ms\nTotal Duration: ${C-k}ms`),Je.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:O})))}}class mO{constructor(e,t){this.db=e,this.garbageCollector=new gO(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,i)=>t(i))}addReference(e,t,r){return cC(e,r)}removeReference(e,t,r){return cC(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return cC(e,t)}On(e,t){return function(r,i){let l=!1;return nN(r).zt(f=>tN(r,f,i).next(m=>(m&&(l=!0),Je.resolve(!m)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.Mn(e,(f,m)=>{if(m<=t){const E=this.On(e,f).next(C=>{if(!C)return l++,r.getEntry(e,f).next(()=>(r.removeEntry(f,En.min()),Yf(e).delete([0,No(f.path)])))});i.push(E)}}).next(()=>Je.waitFor(i)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return cC(e,t)}Mn(e,t){const r=Yf(e);let i,l=Ro.A;return r.Wt({index:"documentTargetsIndex"},([f,m],{path:E,sequenceNumber:C})=>{0===f?(l!==Ro.A&&t(new a(uc(i)),l),l=C,i=E):l=Ro.A}).next(()=>{l!==Ro.A&&t(new a(uc(i)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function cC(n,e){return Yf(n).put((r=n.currentSequenceNumber,{targetId:0,path:No(e.path),sequenceNumber:r}));var r}class sN{constructor(){this.changes=new Zf(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ir.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Je.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vO{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Yp(e).put(r)}removeEntry(e,t,r){return Yp(e).delete(function(i,l){const f=i.path.toArray();return[f.slice(0,f.length-2),f[f.length-2],sC(l),f[f.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=Ir.newInvalidDocument(t);return Yp(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(eE(t))},(i,l)=>{r=this.$n(t,l)}).next(()=>r)}Bn(e,t){let r={size:0,document:Ir.newInvalidDocument(t)};return Yp(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(eE(t))},(i,l)=>{r={document:this.$n(t,l),size:uC(l)}}).next(()=>r)}getEntries(e,t){let r=wl();return this.Ln(e,t,(i,l)=>{const f=this.$n(i,l);r=r.insert(i,f)}).next(()=>r)}Un(e,t){let r=wl(),i=new Ai(a.comparator);return this.Ln(e,t,(l,f)=>{const m=this.$n(l,f);r=r.insert(l,m),i=i.insert(l,uC(f))}).next(()=>({documents:r,qn:i}))}Ln(e,t,r){if(t.isEmpty())return Je.resolve();let i=new Br(lN);t.forEach(E=>i=i.add(E));const l=IDBKeyRange.bound(eE(i.first()),eE(i.last())),f=i.getIterator();let m=f.getNext();return Yp(e).Wt({index:"documentKeyIndex",range:l},(E,C,k)=>{const O=a.fromSegments([...C.prefixPath,C.collectionGroup,C.documentId]);for(;m&&lN(m,O)<0;)r(m,null),m=f.getNext();m&&m.isEqual(O)&&(r(m,C),m=f.hasNext()?f.getNext():null),m?k.Ut(eE(m)):k.done()}).next(()=>{for(;m;)r(m,null),m=f.hasNext()?f.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),sC(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Yp(e).qt(IDBKeyRange.bound(i,l,!0)).next(f=>{let m=wl();for(const E of f){const C=this.$n(a.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);m=m.insert(C.key,C)}return m})}getAllFromCollectionGroup(e,t,r,i){let l=wl();const f=aN(t,r),m=aN(t,pu.max());return Yp(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(f,m,!0)},(E,C,k)=>{const O=this.$n(a.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);l=l.insert(O.key,O),l.size===i&&k.done()}).next(()=>l)}newChangeBuffer(e){return new yO(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return oN(e).get("remoteDocumentGlobalKey").next(t=>(gn(!!t),t))}Fn(e,t){return oN(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function rO(n,e){let t;if(e.document)t=MR(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=a.fromSegments(e.noDocument.path),i=$p(e.noDocument.readTime);t=Ir.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Jt();{const r=a.fromSegments(e.unknownDocument.path),i=$p(e.unknownDocument.version);t=Ir.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new ni(r[0],r[1]);return En.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(En.min()))return r}return Ir.newInvalidDocument(e)}}class yO extends sN{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new Zf(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Br((l,f)=>Un(l.canonicalString(),f.canonicalString()));return this.changes.forEach((l,f)=>{const m=this.Gn.get(l);if(t.push(this.Kn.removeEntry(e,l,m.readTime)),f.isValidDocument()){const E=$R(this.Kn.M,f);i=i.add(l.path.popLast()),r+=uC(E)-m.size,t.push(this.Kn.addEntry(e,l,E))}else if(r-=m.size,this.trackRemovals){const E=$R(this.Kn.M,f.convertToNoDocument(En.min()));t.push(this.Kn.addEntry(e,l,E))}}),i.forEach(l=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.Kn.updateMetadata(e,r)),Je.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:i})=>(i.forEach((l,f)=>{this.Gn.set(l,{size:f,readTime:r.get(l).readTime})}),r))}}function oN(n){return ps(n,"remoteDocumentGlobal")}function Yp(n){return ps(n,"remoteDocumentsV14")}function eE(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function aN(n,e){const t=e.documentKey.path.toArray();return[n,sC(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function lN(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(i=Un(t[l],r[l]),i)return i;return i=Un(t.length,r.length),i||(i=Un(t[t.length-2],r[r.length-2]),i||Un(t[t.length-1],r[r.length-1]))}class _O{constructor(e){this.M=e}kt(e,t,r,i){const l=new iC("createOrUpgrade",t);var m;r<1&&i>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",FR,{unique:!0}),m.createObjectStore("documentMutations"),uN(e),function(m){m.createObjectStore("remoteDocuments")}(e));let f=Je.resolve();return r<3&&i>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),uN(e)),f=f.next(()=>function(m){const E=m.store("targetGlobal"),C={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:En.min().toTimestamp(),targetCount:0};return E.put("targetGlobalKey",C)}(l))),r<4&&i>=4&&(0!==r&&(f=f.next(()=>function(m,E){return E.store("mutations").qt().next(C=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",FR,{unique:!0});const k=E.store("mutations"),O=C.map(q=>k.put(q));return Je.waitFor(O)})}(e,l))),f=f.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(f=f.next(()=>this.Qn(l))),r<6&&i>=6&&(f=f.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.jn(l)))),r<7&&i>=7&&(f=f.next(()=>this.Wn(l))),r<8&&i>=8&&(f=f.next(()=>this.zn(e,l))),r<9&&i>=9&&(f=f.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(f=f.next(()=>this.Hn(l))),r<11&&i>=11&&(f=f.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(f=f.next(()=>{!function(m){const E=m.createObjectStore("documentOverlays",{keyPath:QP});E.createIndex("collectionPathOverlayIndex",YP,{unique:!1}),E.createIndex("collectionGroupOverlayIndex",JP,{unique:!1})}(e)})),r<13&&i>=13&&(f=f.next(()=>function(m){const E=m.createObjectStore("remoteDocumentsV14",{keyPath:BP});E.createIndex("documentKeyIndex",UP),E.createIndex("collectionGroupIndex",HP)}(e)).next(()=>this.Jn(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(f=f.next(()=>{!function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:WP}).createIndex("sequenceNumberIndex",qP,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:ZP}).createIndex("documentKeyIndex",KP,{unique:!1})}(e)})),f}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=uC(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>Je.forEach(i,l=>{const f=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",f).next(m=>Je.forEach(m,E=>{gn(E.userId===l.userId);const C=Fv(this.M,E);return eN(e,l.userId,C).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const l=[];return r.Wt((f,m)=>{const E=new sr(f),C=[0,No(E)];l.push(t.get(C).next(k=>k?Je.resolve():t.put({targetId:0,path:No(E),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>Je.waitFor(l))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:$P});const r=t.store("collectionParents"),i=new PS,l=f=>{if(i.add(f)){const m=f.lastSegment(),E=f.popLast();return r.put({collectionId:m,parent:No(E)})}};return t.store("remoteDocuments").Wt({jt:!0},(f,m)=>{const E=new sr(f);return l(E.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([f,m,E],C)=>{const k=uc(m);return l(k.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,i)=>{const l=Q0(i),f=WR(this.M,l);return t.put(f)})}Jn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((l,f)=>{const m=t.store("remoteDocumentsV14"),E=(C=f,C.document?new a(sr.fromString(C.document.name).popFirst(5)):C.noDocument?a.fromSegments(C.noDocument.path):C.unknownDocument?a.fromSegments(C.unknownDocument.path):Jt()).path.toArray();var C;const k={prefixPath:E.slice(0,E.length-2),collectionGroup:E[E.length-2],documentId:E[E.length-1],readTime:f.readTime||[0,0],unknownDocument:f.unknownDocument,noDocument:f.noDocument,document:f.document,hasCommittedMutations:!!f.hasCommittedMutations};i.push(m.put(k))}).next(()=>Je.waitFor(i))}}function uN(n){n.createObjectStore("targetDocuments",{keyPath:GP}).createIndex("documentTargetsIndex",zP,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",jP,{unique:!0}),n.createObjectStore("targetGlobal")}const LS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class VS{constructor(e,t,r,i,l,f,m,E,C,k,O=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=l,this.window=f,this.document=m,this.Xn=C,this.Zn=k,this.ts=O,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=q=>Promise.resolve(),!VS.vt())throw new gt(Ke.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new mO(this,i),this.hs=t+"main",this.M=new zR(E),this.ls=new gu(this.hs,this.ts,new _O(this.M)),this.fs=new fO(this.referenceDelegate,this.M),this.ds=new vO(this.M),this._s=new iO,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===k&&zr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new gt(Ke.FAILED_PRECONDITION,LS);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new Ro(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,it.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,it.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,it.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>dC(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if(jp(e))return It("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return It("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return tE(e).get("owner").next(t=>Je.resolve(this.Ps(t)))}Vs(e){return dC(e).delete(this.clientId)}vs(){var e=this;return(0,it.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=ps(r,"clientMetadata");return i.qt().next(l=>{const f=e.Ds(l,18e5),m=l.filter(E=>-1===f.indexOf(E));return Je.forEach(m,E=>i.delete(E.clientId)).next(()=>m)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?Je.resolve(!0):tE(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new gt(Ke.FAILED_PRECONDITION,LS);return!1}}return!(!this.networkEnabled||!this.inForeground)||dC(e).qt().next(r=>void 0===this.Ds(r,5e3).find(i=>{if(this.clientId!==i.clientId){const f=!this.inForeground&&i.inForeground,m=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||f&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&It("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,it.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new GR(t,Ro.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>dC(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return OS.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new dO(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return kS.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){It("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",l=14===(f=this.ts)?eO:13===f?BR:12===f?XP:11===f?VR:void Jt();var f;let m;return this.ls.runTransaction(e,i,l,E=>(m=new GR(E,this.es?this.es.next():Ro.A),"readwrite-primary"===t?this.Es(m).next(C=>!!C||this.As(m)).next(C=>{if(!C)throw zr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new gt(Ke.FAILED_PRECONDITION,UR);return r(m)}).next(C=>this.bs(m).next(()=>C)):this.$s(m).next(()=>r(m)))).then(E=>(m.raiseOnCommittedEvent(),E))}$s(e){return tE(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.Ps(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new gt(Ke.FAILED_PRECONDITION,LS)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return tE(e).put("owner",t)}static vt(){return gu.vt()}Rs(e){const t=tE(e);return t.get("owner").next(r=>this.Ps(r)?(It("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Je.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(zr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Kn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return It("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return zr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){zr("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function tE(n){return ps(n,"owner")}function dC(n){return ps(n,"clientMetadata")}function BS(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class EO{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(i=>{for(const l of r)l.applyToLocalView(i);return i})}qs(e,t){e.forEach((r,i)=>{for(const l of t)l.applyToLocalView(i)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return a.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,t.path):yS(t)?this.Ws(e,t,r):this.zs(e,t,r);var i}js(e,t){return this.Ls(e,new a(t)).next(r=>{let i=wS();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,t,r){const i=t.collectionGroup;let l=wS();return this.indexManager.getCollectionParents(e,i).next(f=>Je.forEach(f,m=>{const E=(C=t,k=m.child(i),new Ad(k,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,k;return this.zs(e,E,r).next(C=>{C.forEach((k,O)=>{l=l.insert(k,O)})})}).next(()=>l))}zs(e,t,r){let i;return this.ds.getAllFromCollection(e,t.path,r).next(l=>(i=l,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(l=>{for(const f of l)for(const m of f.mutations){const E=m.key;let C=i.get(E);null==C&&(C=Ir.newInvalidDocument(E),i=i.insert(E,C)),bS(m,C,f.localWriteTime),C.isFoundDocument()||(i=i.remove(E))}}).next(()=>(i.forEach((l,f)=>{ES(t,f)||(i=i.remove(l))}),i))}}class US{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=i}static Ys(e,t){let r=br(),i=br();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new US(e,t.fromCache,r,i)}}class cN{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,r,i){return this.ti(e,t).next(l=>l||this.ei(e,t,i,r)).next(l=>l||this.ni(e,t))}ti(e,t){return Je.resolve(null)}ei(e,t,r,i){return function uP(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||i.isEqual(En.min())?this.ni(e,t):this.Zs.Ks(e,r).next(l=>{const f=this.si(t,l);return this.ii(t,f,r,i)?this.ni(e,t):(zw()<=nc.in.DEBUG&&It("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_S(t)),this.ri(e,f,t,Sv(i,-1)))})}si(e,t){let r=new Br(rR(e));return t.forEach((i,l)=>{ES(e,l)&&(r=r.add(l))}),r}ii(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}ni(e,t){return zw()<=nc.in.DEBUG&&It("QueryEngine","Using full collection scan to execute query:",_S(t)),this.Zs.Qs(e,t,pu.min())}ri(e,t,r,i){return this.Zs.Qs(e,r,i).next(l=>(t.forEach(f=>{l=l.insert(f.key,f)}),l))}}class bO{constructor(e,t,r,i){this.persistence=e,this.oi=t,this.M=i,this.ui=new Ai(Un),this.ai=new Zf(l=>Vp(l),L0),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(r)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new EO(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function dN(n,e,t,r){return new bO(n,e,t,r)}function fN(n,e){return HS.apply(this,arguments)}function HS(){return HS=(0,it.Z)(function*(n,e){const t=Bt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.Bs.getAllMutationBatches(r).next(l=>(i=l,t.li(e),t.Bs.getAllMutationBatches(r))).next(l=>{const f=[],m=[];let E=br();for(const C of i){f.push(C.batchId);for(const k of C.mutations)E=E.add(k.key)}for(const C of l){m.push(C.batchId);for(const k of C.mutations)E=E.add(k.key)}return t.fi.Ks(r,E).next(C=>({di:C,removedBatchIds:f,addedBatchIds:m}))})})}),HS.apply(this,arguments)}function AO(n,e){const t=Bt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),l=t.hi.newChangeBuffer({trackRemovals:!0});return function(f,m,E,C){const k=E.batch,O=k.keys();let q=Je.resolve();return O.forEach(J=>{q=q.next(()=>C.getEntry(m,J)).next(se=>{const Me=E.docVersions.get(J);gn(null!==Me),se.version.compareTo(Me)<0&&(k.applyToRemoteDocument(se,E),se.isValidDocument()&&(se.setReadTime(E.commitVersion),C.addEntry(se)))})}),q.next(()=>f.Bs.removeMutationBatch(m,k))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.fi.Ks(r,i))})}function hN(n){const e=Bt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function wO(n,e){const t=Bt(n),r=e.snapshotVersion;let i=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=t.hi.newChangeBuffer({trackRemovals:!0});i=t.ui;const m=[];e.targetChanges.forEach((C,k)=>{const O=i.get(k);if(!O)return;m.push(t.fs.removeMatchingKeys(l,C.removedDocuments,k).next(()=>t.fs.addMatchingKeys(l,C.addedDocuments,k)));let q=O.withSequenceNumber(l.currentSequenceNumber);var J,se,Me;e.targetMismatches.has(k)?q=q.withResumeToken(bi.EMPTY_BYTE_STRING,En.min()).withLastLimboFreeSnapshotVersion(En.min()):C.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(C.resumeToken,r)),i=i.insert(k,q),se=q,Me=C,(0===(J=O).resumeToken.approximateByteSize()||se.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=3e8||Me.addedDocuments.size+Me.modifiedDocuments.size+Me.removedDocuments.size>0)&&m.push(t.fs.updateTargetData(l,q))});let E=wl();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,C))}),m.push(pN(l,f,e.documentUpdates).next(C=>{E=C})),!r.isEqual(En.min())){const C=t.fs.getLastRemoteSnapshotVersion(l).next(k=>t.fs.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(C)}return Je.waitFor(m).next(()=>f.apply(l)).next(()=>t.fi.Gs(l,E)).next(()=>E)}).then(l=>(t.ui=i,l))}function pN(n,e,t){let r=br();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let l=wl();return t.forEach((f,m)=>{const E=i.get(f);m.isNoDocument()&&m.version.isEqual(En.min())?(e.removeEntry(f,m.readTime),l=l.insert(f,m)):!E.isValidDocument()||m.version.compareTo(E.version)>0||0===m.version.compareTo(E.version)&&E.hasPendingWrites?(e.addEntry(m),l=l.insert(f,m)):It("LocalStore","Ignoring outdated watch update for ",f,". Current version:",E.version," Watch version:",m.version)}),l})}function CO(n,e){const t=Bt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function Bv(n,e){const t=Bt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.fs.getTargetData(r,e).next(l=>l?(i=l,Je.resolve(i)):t.fs.allocateTargetId(r).next(f=>(i=new Kf(e,f,0,r.currentSequenceNumber),t.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ui=t.ui.insert(r.targetId,r),t.ai.set(e,r.targetId)),r})}function Uv(n,e,t){return jS.apply(this,arguments)}function jS(){return jS=(0,it.Z)(function*(n,e,t){const r=Bt(n),i=r.ui.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,f=>r.persistence.referenceDelegate.removeTarget(f,i)))}catch(f){if(!jp(f))throw f;It("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}r.ui=r.ui.remove(e),r.ai.delete(i.target)}),jS.apply(this,arguments)}function fC(n,e,t){const r=Bt(n);let i=En.min(),l=br();return r.persistence.runTransaction("Execute query","readonly",f=>function(m,E,C){const k=Bt(m),O=k.ai.get(C);return void 0!==O?Je.resolve(k.ui.get(O)):k.fs.getTargetData(E,C)}(r,f,Al(e)).next(m=>{if(m)return i=m.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(f,m.targetId).next(E=>{l=E})}).next(()=>r.oi.Qs(f,e,t?i:En.min(),t?l:br())).next(m=>(vN(r,nR(e),m),{documents:m,_i:l})))}function gN(n,e){const t=Bt(n),r=Bt(t.fs),i=t.ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Et(l,e).next(f=>f?f.target:null))}function mN(n,e){const t=Bt(n),r=t.ci.get(e)||En.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.hi.getAllFromCollectionGroup(i,e,Sv(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(vN(t,e,i),i))}function vN(n,e,t){let r=En.min();t.forEach((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.ci.set(e,r)}function GS(){return GS=(0,it.Z)(function*(n,e,t,r){const i=Bt(n);let l=br(),f=wl();for(const C of t){const k=e.wi(C.metadata.name);C.document&&(l=l.add(k));const O=e.mi(C);O.setReadTime(e.gi(C.metadata.readTime)),f=f.insert(k,O)}const m=i.hi.newChangeBuffer({trackRemovals:!0}),E=yield Bv(i,(C=r,Al(xv(sr.fromString(`__bundle__/docs/${C}`)))));var C;return i.persistence.runTransaction("Apply bundle documents","readwrite",C=>pN(C,m,f).next(k=>(m.apply(C),k)).next(k=>i.fs.removeMatchingKeysForTargetId(C,E.targetId).next(()=>i.fs.addMatchingKeys(C,l,E.targetId)).next(()=>i.fi.Gs(C,k)).next(()=>k)))}),GS.apply(this,arguments)}function TO(n,e){return zS.apply(this,arguments)}function zS(){return zS=(0,it.Z)(function*(n,e,t=br()){const r=yield Bv(n,Al(RS(e.bundledQuery))),i=Bt(n);return i.persistence.runTransaction("Save named query","readwrite",l=>{const f=hs(e.readTime);if(r.snapshotVersion.compareTo(f)>=0)return i._s.saveNamedQuery(l,e);const m=r.withResumeToken(bi.EMPTY_BYTE_STRING,f);return i.ui=i.ui.insert(m.targetId,m),i.fs.updateTargetData(l,m).next(()=>i.fs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>i.fs.addMatchingKeys(l,t,r.targetId)).next(()=>i._s.saveNamedQuery(l,e))})}),zS.apply(this,arguments)}class SO{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return Je.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var r;return this.yi.set(t.id,{id:(r=t).id,version:r.version,createTime:hs(r.createTime)}),Je.resolve()}getNamedQuery(e,t){return Je.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(r=t).name,query:RS(r.bundledQuery),readTime:hs(r.readTime)}),Je.resolve();var r}}class IO{constructor(){this.overlays=new Ai(a.comparator),this.Ii=new Map}getOverlay(e,t){return Je.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,l)=>{this.Xt(e,t,l)}),Je.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ii.get(r);return void 0!==i&&(i.forEach(l=>this.overlays=this.overlays.remove(l)),this.Ii.delete(r)),Je.resolve()}getOverlaysForCollection(e,t,r){const i=j0(),l=t.length+1,f=new a(t.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const E=m.getNext().value,C=E.getKey();if(!t.isPrefixOf(C.path))break;C.path.length===l&&E.largestBatchId>r&&i.set(E.getKey(),E)}return Je.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let l=new Ai((C,k)=>C-k);const f=this.overlays.getIterator();for(;f.hasNext();){const C=f.getNext().value;if(C.getKey().getCollectionGroup()===t&&C.largestBatchId>r){let k=l.get(C.largestBatchId);null===k&&(k=j0(),l=l.insert(C.largestBatchId,k)),k.set(C.getKey(),C)}}const m=j0(),E=l.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach((C,k)=>m.set(C,k)),!(m.size()>=i)););return Je.resolve(m)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const f=this.Ii.get(i.largestBatchId).delete(r.key);this.Ii.set(i.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new xS(t,r));let l=this.Ii.get(t);void 0===l&&(l=br(),this.Ii.set(t,l)),this.Ii.set(t,l.add(r.key))}}class $S{constructor(){this.Ti=new Br(gs.Ei),this.Ai=new Br(gs.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const r=new gs(e,t);this.Ti=this.Ti.add(r),this.Ai=this.Ai.add(r)}bi(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Pi(new gs(e,t))}Vi(e,t){e.forEach(r=>this.removeReference(r,t))}vi(e){const t=new a(new sr([])),r=new gs(t,e),i=new gs(t,e+1),l=[];return this.Ai.forEachInRange([r,i],f=>{this.Pi(f),l.push(f.key)}),l}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new a(new sr([])),r=new gs(t,e),i=new gs(t,e+1);let l=br();return this.Ai.forEachInRange([r,i],f=>{l=l.add(f.key)}),l}containsKey(e){const t=new gs(e,0),r=this.Ti.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class gs{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return a.comparator(e.key,t.key)||Un(e.Ci,t.Ci)}static Ri(e,t){return Un(e.Ci,t.Ci)||a.comparator(e.key,t.key)}}class MO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new Br(gs.Ei)}checkEmpty(e){return Je.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,i){const l=this.xi;this.xi++;const f=new IS(l,t,r,i);this.Bs.push(f);for(const m of i)this.Ni=this.Ni.add(new gs(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Je.resolve(f)}lookupMutationBatch(e,t){return Je.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Mi(t+1),l=i<0?0:i;return Je.resolve(this.Bs.length>l?this.Bs[l]:null)}getHighestUnacknowledgedBatchId(){return Je.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return Je.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new gs(t,0),i=new gs(t,Number.POSITIVE_INFINITY),l=[];return this.Ni.forEachInRange([r,i],f=>{const m=this.ki(f.Ci);l.push(m)}),Je.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Br(Un);return t.forEach(i=>{const l=new gs(i,0),f=new gs(i,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([l,f],m=>{r=r.add(m.Ci)})}),Je.resolve(this.Oi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let l=r;a.isDocumentKey(l)||(l=l.child(""));const f=new gs(new a(l),0);let m=new Br(Un);return this.Ni.forEachWhile(E=>{const C=E.key.path;return!!r.isPrefixOf(C)&&(C.length===i&&(m=m.add(E.Ci)),!0)},f),Je.resolve(this.Oi(m))}Oi(e){const t=[];return e.forEach(r=>{const i=this.ki(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){gn(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let r=this.Ni;return Je.forEach(t.mutations,i=>{const l=new gs(i.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Ni=r})}_n(e){}containsKey(e,t){const r=new gs(t,0),i=this.Ni.firstAfterOrEqual(r);return Je.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Je.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class xO{constructor(e){this.$i=e,this.docs=new Ai(a.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),l=i?i.size:0,f=this.$i(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Je.resolve(r?r.document.mutableCopy():Ir.newInvalidDocument(t))}getEntries(e,t){let r=wl();return t.forEach(i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():Ir.newInvalidDocument(i))}),Je.resolve(r)}getAllFromCollection(e,t,r){let i=wl();const l=new a(t.child("")),f=this.docs.getIteratorFrom(l);for(;f.hasNext();){const{key:m,value:{document:E}}=f.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||$x(Jk(E),r)<=0||(i=i.insert(E.key,E.mutableCopy()))}return Je.resolve(i)}getAllFromCollectionGroup(e,t,r,i){Jt()}Bi(e,t){return Je.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new RO(this)}getSize(e){return Je.resolve(this.size)}}class RO extends sN{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),Je.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class NO{constructor(e){this.persistence=e,this.Li=new Zf(t=>Vp(t),L0),this.lastRemoteSnapshotVersion=En.min(),this.highestTargetId=0,this.Ui=0,this.qi=new $S,this.targetCount=0,this.Ki=Kp.gn()}forEachTarget(e,t){return this.Li.forEach((r,i)=>t(i)),Je.resolve()}getLastRemoteSnapshotVersion(e){return Je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Je.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),Je.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ui&&(this.Ui=t),Je.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new Kp(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,Je.resolve()}updateTargetData(e,t){return this.Tn(t),Je.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,Je.resolve()}removeTargets(e,t,r){let i=0;const l=[];return this.Li.forEach((f,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Li.delete(f),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),i++)}),Je.waitFor(l).next(()=>i)}getTargetCount(e){return Je.resolve(this.targetCount)}getTargetData(e,t){const r=this.Li.get(t)||null;return Je.resolve(r)}addMatchingKeys(e,t,r){return this.qi.bi(t,r),Je.resolve()}removeMatchingKeys(e,t,r){this.qi.Vi(t,r);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(f=>{l.push(i.markPotentiallyOrphaned(e,f))}),Je.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),Je.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qi.Di(t);return Je.resolve(r)}containsKey(e,t){return Je.resolve(this.qi.containsKey(t))}}class kO{constructor(e,t){this.Gi={},this.overlays={},this.es=new Ro(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new NO(this),this.indexManager=new cO,this.ds=new xO(r=>this.referenceDelegate.Qi(r)),this.M=new zR(t),this._s=new SO(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new IO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Gi[e.toKey()];return r||(r=new MO(t,this.referenceDelegate),this.Gi[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){It("MemoryPersistence","Starting transaction:",e);const i=new PO(this.es.next());return this.referenceDelegate.ji(),r(i).next(l=>this.referenceDelegate.Wi(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}zi(e,t){return Je.or(Object.values(this.Gi).map(r=>()=>r.containsKey(e,t)))}}class PO extends HR{constructor(e){super(),this.currentSequenceNumber=e}}class WS{constructor(e){this.persistence=e,this.Hi=new $S,this.Ji=null}static Yi(e){return new WS(e)}get Xi(){if(this.Ji)return this.Ji;throw Jt()}addReference(e,t,r){return this.Hi.addReference(r,t),this.Xi.delete(r.toString()),Je.resolve()}removeReference(e,t,r){return this.Hi.removeReference(r,t),this.Xi.add(r.toString()),Je.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),Je.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(i=>this.Xi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.Xi.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Je.forEach(this.Xi,r=>{const i=a.fromPath(r);return this.Zi(e,i).next(l=>{l||t.removeEntry(i,En.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(r=>{r?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return Je.or([()=>Je.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function yN(n,e){return`firestore_clients_${n}_${e}`}function _N(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function qS(n,e){return`firestore_targets_${n}_${e}`}class hC{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static tr(e,t,r){const i=JSON.parse(r);let l,f="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return f&&i.error&&(f="string"==typeof i.error.message&&"string"==typeof i.error.code,f&&(l=new gt(i.error.code,i.error.message))),f?new hC(e,t,i.state,l):(zr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class nE{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static tr(e,t){const r=JSON.parse(t);let i,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(i=new gt(r.error.code,r.error.message))),l?new nE(e,r.state,i):(zr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,l=tC();for(let f=0;i&&f<r.activeTargetIds.length;++f)i=o(r.activeTargetIds[f]),l=l.add(r.activeTargetIds[f]);return i?new pC(e,l):(zr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class ZS{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new ZS(t.clientId,t.onlineState):(zr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class KS{constructor(){this.activeTargetIds=tC()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QS{constructor(e,t,r,i,l){this.window=e,this.Yn=t,this.persistenceKey=r,this.ir=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new Ai(Un),this.started=!1,this.cr=[];const f=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.hr=yN(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new KS),this.dr=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,it.Z)(function*(){const t=yield e.syncEngine.Fs();for(const i of t){if(i===e.ir)continue;const l=e.getItem(yN(e.persistenceKey,i));if(l){const f=pC.tr(i,l);f&&(e.ar=e.ar.insert(f.clientId,f))}}e.yr();const r=e.storage.getItem(e.mr);if(r){const i=e.pr(r);i&&e.Ir(i)}for(const i of e.cr)e.ur(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,r){this.Er(e,t,r),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(qS(this.persistenceKey,e));if(r){const i=nE.tr(e,r);i&&(t=i.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(qS(this.persistenceKey,e))}updateQueryState(e,t,r){this.br(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Ar(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return It("SharedClientState","READ",e,t),t}setItem(e,t){It("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){It("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const r=e;if(r.storageArea===this.storage){if(It("SharedClientState","EVENT",r.key,r.newValue),r.key===this.hr)return void zr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,it.Z)(function*(){if(t.started){if(null!==r.key)if(t.dr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Sr(i,null)}{const i=t.Dr(r.key,r.newValue);if(i)return t.Sr(i.clientId,i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Cr(r.key,r.newValue);if(i)return t.Nr(i)}}else if(t.wr.test(r.key)){if(null!==r.newValue){const i=t.kr(r.key,r.newValue);if(i)return t.Mr(i)}}else if(r.key===t.mr){if(null!==r.newValue){const i=t.pr(r.newValue);if(i)return t.Ir(i)}}else if(r.key===t.lr){const i=function(l){let f=Ro.A;if(null!=l)try{const m=JSON.parse(l);gn("number"==typeof m),f=m}catch(m){zr("SharedClientState","Failed to read sequence number from WebStorage",m)}return f}(r.newValue);i!==Ro.A&&t.sequenceNumberHandler(i)}else if(r.key===t.gr){const i=t.Or(r.newValue);yield Promise.all(i.map(l=>t.syncEngine.Fr(l)))}}else t.cr.push(r)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,r){const i=new hC(this.currentUser,e,t,r),l=_N(this.persistenceKey,this.currentUser,e);this.setItem(l,i.er())}Ar(e){const t=_N(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,r){const i=qS(this.persistenceKey,e),l=new nE(e,t,r);this.setItem(i,l.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const r=this.vr(e);return pC.tr(r,t)}Cr(e,t){const r=this._r.exec(e),i=Number(r[1]);return hC.tr(new fs(void 0!==r[2]?r[2]:null),i,t)}kr(e,t){const r=this.wr.exec(e),i=Number(r[1]);return nE.tr(i,t)}pr(e){return ZS.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,it.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);It("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Tr(this.ar),l=this.Tr(r),f=[],m=[];return l.forEach(E=>{i.has(E)||f.push(E)}),i.forEach(E=>{l.has(E)||m.push(E)}),this.syncEngine.Lr(f,m).then(()=>{this.ar=r})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=tC();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class EN{constructor(){this.Ur=new KS,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new KS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class OO{Kr(e){}shutdown(){}}class bN{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){It("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){It("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const FO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class LO{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class VO extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,i,l){const f=this.ho(e,t);It("RestConnection","Sending: ",f,r);const m={};return this.lo(m,i,l),this.fo(e,f,m,r).then(E=>(It("RestConnection","Received: ",E),E),E=>{throw Op("RestConnection",`${e} failed with error: `,E,"url: ",f,"request:",r),E})}_o(e,t,r,i,l){return this.co(e,t,r,i,l)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Pp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),r&&r.headers.forEach((i,l)=>e[l]=i)}ho(e,t){return`${this.uo}/v1/${t}:${FO[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((l,f)=>{const m=new dS;m.listenOnce(uS.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case N0.NO_ERROR:const C=m.getResponseJson();It("Connection","XHR received:",JSON.stringify(C)),l(C);break;case N0.TIMEOUT:It("Connection",'RPC "'+e+'" timed out'),f(new gt(Ke.DEADLINE_EXCEEDED,"Request time out"));break;case N0.HTTP_ERROR:const k=m.getStatus();if(It("Connection",'RPC "'+e+'" failed with status:',k,"response text:",m.getResponseText()),k>0){const O=m.getResponseJson().error;if(O&&O.status&&O.message){const q=function(J){const se=J.toLowerCase().replace(/_/g,"-");return Object.values(Ke).indexOf(se)>=0?se:Ke.UNKNOWN}(O.status);f(new gt(q,O.message))}else f(new gt(Ke.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new gt(Ke.UNAVAILABLE,"Connection failed."));break;default:Jt()}}finally{It("Connection",'RPC "'+e+'" completed.')}});const E=JSON.stringify(i);m.send(t,"POST",E,r,15)})}wo(e,t,r){const i=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Uw(),f=Hw(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new jw({})),this.lo(m.initMessageHeaders,t,r),(0,Kn.uI)()||(0,Kn.b$)()||(0,Kn.d)()||(0,Kn.w1)()||(0,Kn.Mn)()||(0,Kn.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const E=i.join("");It("Connection","Creating WebChannel: "+E,m);const C=l.createWebChannel(E,m);let k=!1,O=!1;const q=new LO({Jr:se=>{O?It("Connection","Not sending because WebChannel is closed:",se):(k||(It("Connection","Opening WebChannel transport."),C.open(),k=!0),It("Connection","WebChannel sending:",se),C.send(se))},Yr:()=>C.close()}),J=(se,Me,rt)=>{se.listen(Me,at=>{try{rt(at)}catch(Et){setTimeout(()=>{throw Et},0)}})};return J(C,Ev.EventType.OPEN,()=>{O||It("Connection","WebChannel transport opened.")}),J(C,Ev.EventType.CLOSE,()=>{O||(O=!0,It("Connection","WebChannel transport closed"),q.ro())}),J(C,Ev.EventType.ERROR,se=>{O||(O=!0,Op("Connection","WebChannel transport errored:",se),q.ro(new gt(Ke.UNAVAILABLE,"The operation could not be completed")))}),J(C,Ev.EventType.MESSAGE,se=>{var Me;if(!O){const rt=se.data[0];gn(!!rt);const at=rt,Et=at.error||(null===(Me=at[0])||void 0===Me?void 0:Me.error);if(Et){It("Connection","WebChannel received error:",Et);const kt=Et.status;let Dt=function(pn){const Gn=Oi[pn];if(void 0!==Gn)return yR(Gn)}(kt),mn=Et.message;void 0===Dt&&(Dt=Ke.INTERNAL,mn="Unknown error status: "+kt+" with message "+Et.message),O=!0,q.ro(new gt(Dt,mn)),C.close()}else It("Connection","WebChannel received:",rt),q.oo(rt)}}),J(f,Fx.STAT_EVENT,se=>{se.stat===cS.PROXY?It("Connection","Detected buffering proxy"):se.stat===cS.NOPROXY&&It("Connection","Detected no buffering proxy")}),setTimeout(()=>{q.io()},0),q}}function AN(){return"undefined"!=typeof window?window:null}function gC(){return"undefined"!=typeof document?document:null}function rE(n){return new TP(n,!0)}class YS{constructor(e,t,r=1e3,i=1.5,l=6e4){this.Yn=e,this.timerId=t,this.mo=r,this.yo=i,this.po=l,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&It("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class wN{constructor(e,t,r,i,l,f,m,E){this.Yn=e,this.Vo=r,this.vo=i,this.So=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=E,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new YS(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,it.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,it.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,it.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===Ke.RESOURCE_EXHAUSTED?(zr(t.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===Ke.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===t&&this.Qo(r,i)},r=>{e(()=>{const i=new gt(Ke.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.No.Ro((0,it.Z)(function*(){e.state=0,e.start()}))}jo(e){return It("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(It("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BO extends wN{constructor(e,t,r,i,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,f),this.M=l}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function MP(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(E=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:Jt(),i=e.targetChange.targetIds||[],l=function(E,C){return E.N?(gn(void 0===C||"string"==typeof C),bi.fromBase64String(C||"")):(gn(void 0===C||C instanceof Uint8Array),bi.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(E){const C=void 0===E.code?Ke.UNKNOWN:yR(E.code);return new gt(C,E.message||"")}(f);t=new ER(r,i,l,m||null)}else if("documentChange"in e){const r=e.documentChange,i=lc(n,r.document.name),l=hs(r.document.updateTime),f=new ki({mapValue:{fields:r.document.fields}}),m=Ir.newFoundDocument(i,l,f);t=new nC(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,i=lc(n,r.document),l=r.readTime?hs(r.readTime):En.min(),f=Ir.newNoDocument(i,l);t=new nC([],r.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const r=e.documentRemove,i=lc(n,r.document);t=new nC([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Jt();{const r=e.filter,l=new vP(r.count||0);t=new _R(r.targetId,l)}}var E;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return En.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?En.min():l.readTime?hs(l.readTime):En.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=q0(this.M),t.addTarget=function(i,l){let f;const m=l.target;return f=Qw(m)?{documents:xR(i,m)}:{query:RR(i,m)},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?f.resumeToken=CR(i,l.resumeToken):l.snapshotVersion.compareTo(En.min())>0&&(f.readTime=$0(i,l.snapshotVersion.toTimestamp())),f}(this.M,e);const r=function RP(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Jt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=q0(this.M),t.removeTarget=e,this.Lo(t)}}class UO extends wN{constructor(e,t,r,i,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,f),this.M=l,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(gn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function xP(n,e){return n&&n.length>0?(gn(void 0!==e),n.map(t=>function(r,i){let l=hs(r.updateTime?r.updateTime:i);return l.isEqual(En.min())&&(l=hs(i)),new pP(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=hs(e.commitTime);return this.listener.tu(r,t)}return gn(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=q0(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Z0(this.M,r))};this.Lo(t)}}class HO extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.M=i,this.su=!1}iu(){if(this.su)throw new gt(Ke.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.So.co(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new gt(Ke.UNKNOWN,i.toString())})}_o(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.So._o(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new gt(Ke.UNKNOWN,i.toString())})}terminate(){this.su=!0}}class jO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(zr(t),this.uu=!1):It("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class GO{constructor(e,t,r,i,l){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=l,this.gu.Kr(m=>{r.enqueueAndForget((0,it.Z)(function*(){var E;Jf(f)&&(It("RemoteStore","Restarting streams for network reachability change."),yield(E=(0,it.Z)(function*(C){const k=Bt(C);k.wu.add(4),yield Hv(k),k.yu.set("Unknown"),k.wu.delete(4),yield iE(k)}),function(C){return E.apply(this,arguments)})(f))}))}),this.yu=new jO(r,i)}}function iE(n){return JS.apply(this,arguments)}function JS(){return JS=(0,it.Z)(function*(n){if(Jf(n))for(const e of n.mu)yield e(!0)}),JS.apply(this,arguments)}function Hv(n){return XS.apply(this,arguments)}function XS(){return XS=(0,it.Z)(function*(n){for(const e of n.mu)yield e(!1)}),XS.apply(this,arguments)}function mC(n,e){const t=Bt(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),nI(t)?tI(t):Gv(t).Mo()&&eI(t,e))}function sE(n,e){const t=Bt(n),r=Gv(t);t._u.delete(e),r.Mo()&&CN(t,e),0===t._u.size&&(r.Mo()?r.$o():Jf(t)&&t.yu.set("Unknown"))}function eI(n,e){n.pu.Z(e.targetId),Gv(n).Ho(e)}function CN(n,e){n.pu.Z(e),Gv(n).Jo(e)}function tI(n){n.pu=new wP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n._u.get(e)||null}),Gv(n).start(),n.yu.au()}function nI(n){return Jf(n)&&!Gv(n).ko()&&n._u.size>0}function Jf(n){return 0===Bt(n).wu.size}function DN(n){n.pu=void 0}function zO(n){return rI.apply(this,arguments)}function rI(){return rI=(0,it.Z)(function*(n){n._u.forEach((e,t)=>{eI(n,e)})}),rI.apply(this,arguments)}function $O(n,e){return iI.apply(this,arguments)}function iI(){return iI=(0,it.Z)(function*(n,e){DN(n),nI(n)?(n.yu.lu(e),tI(n)):n.yu.set("Unknown")}),iI.apply(this,arguments)}function WO(n,e,t){return sI.apply(this,arguments)}function sI(){return sI=(0,it.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof ER&&2===e.state&&e.cause)try{yield(r=(0,it.Z)(function*(i,l){const f=l.cause;for(const m of l.targetIds)i._u.has(m)&&(yield i.remoteSyncer.rejectListen(m,f),i._u.delete(m),i.pu.removeTarget(m))}),function(i,l){return r.apply(this,arguments)})(n,e)}catch(r){It("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield vC(n,r)}else if(e instanceof nC?n.pu.ut(e):e instanceof _R?n.pu._t(e):n.pu.ht(e),!t.isEqual(En.min()))try{const r=yield hN(n.localStore);t.compareTo(r)>=0&&(yield function(i,l){const f=i.pu.yt(l);return f.targetChanges.forEach((m,E)=>{if(m.resumeToken.approximateByteSize()>0){const C=i._u.get(E);C&&i._u.set(E,C.withResumeToken(m.resumeToken,l))}}),f.targetMismatches.forEach(m=>{const E=i._u.get(m);if(!E)return;i._u.set(m,E.withResumeToken(bi.EMPTY_BYTE_STRING,E.snapshotVersion)),CN(i,m);const C=new Kf(E.target,m,1,E.sequenceNumber);eI(i,C)}),i.remoteSyncer.applyRemoteEvent(f)}(n,t))}catch(r){It("RemoteStore","Failed to raise snapshot:",r),yield vC(n,r)}var r}),sI.apply(this,arguments)}function vC(n,e,t){return oI.apply(this,arguments)}function oI(){return oI=(0,it.Z)(function*(n,e,t){if(!jp(e))throw e;n.wu.add(1),yield Hv(n),n.yu.set("Offline"),t||(t=()=>hN(n.localStore)),n.asyncQueue.enqueueRetryable((0,it.Z)(function*(){It("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield iE(n)}))}),oI.apply(this,arguments)}function TN(n,e){return e().catch(t=>vC(n,t,e))}function jv(n){return aI.apply(this,arguments)}function aI(){return aI=(0,it.Z)(function*(n){const e=Bt(n),t=Xf(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;qO(e);)try{const i=yield CO(e.localStore,r);if(null===i){0===e.du.length&&t.$o();break}r=i.batchId,ZO(e,i)}catch(i){yield vC(e,i)}SN(e)&&IN(e)}),aI.apply(this,arguments)}function qO(n){return Jf(n)&&n.du.length<10}function ZO(n,e){n.du.push(e);const t=Xf(n);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function SN(n){return Jf(n)&&!Xf(n).ko()&&n.du.length>0}function IN(n){Xf(n).start()}function KO(n){return lI.apply(this,arguments)}function lI(){return lI=(0,it.Z)(function*(n){Xf(n).nu()}),lI.apply(this,arguments)}function QO(n){return uI.apply(this,arguments)}function uI(){return uI=(0,it.Z)(function*(n){const e=Xf(n);for(const t of n.du)e.Zo(t.mutations)}),uI.apply(this,arguments)}function YO(n,e,t){return cI.apply(this,arguments)}function cI(){return cI=(0,it.Z)(function*(n,e,t){const r=n.du.shift(),i=MS.from(r,e,t);yield TN(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield jv(n)}),cI.apply(this,arguments)}function JO(n,e){return dI.apply(this,arguments)}function dI(){return dI=(0,it.Z)(function*(n,e){var t;e&&Xf(n).Xo&&(yield(t=(0,it.Z)(function*(r,i){if(vR(l=i.code)&&l!==Ke.ABORTED){const f=r.du.shift();Xf(r).Fo(),yield TN(r,()=>r.remoteSyncer.rejectFailedWrite(f.batchId,i)),yield jv(r)}var l}),function(r,i){return t.apply(this,arguments)})(n,e)),SN(n)&&IN(n)}),dI.apply(this,arguments)}function MN(n,e){return fI.apply(this,arguments)}function fI(){return fI=(0,it.Z)(function*(n,e){const t=Bt(n);t.asyncQueue.verifyOperationInProgress(),It("RemoteStore","RemoteStore received new credentials");const r=Jf(t);t.wu.add(3),yield Hv(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield iE(t)}),fI.apply(this,arguments)}function hI(n,e){return pI.apply(this,arguments)}function pI(){return pI=(0,it.Z)(function*(n,e){const t=Bt(n);e?(t.wu.delete(2),yield iE(t)):e||(t.wu.add(2),yield Hv(t),t.yu.set("Unknown"))}),pI.apply(this,arguments)}function Gv(n){return n.Iu||(n.Iu=function(e,t,r){const i=Bt(e);return i.iu(),new BO(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:zO.bind(null,n),eo:$O.bind(null,n),zo:WO.bind(null,n)}),n.mu.push(function(){var e=(0,it.Z)(function*(t){t?(n.Iu.Fo(),nI(n)?tI(n):n.yu.set("Unknown")):(yield n.Iu.stop(),DN(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function Xf(n){return n.Tu||(n.Tu=function(e,t,r){const i=Bt(e);return i.iu(),new UO(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:KO.bind(null,n),eo:JO.bind(null,n),eu:QO.bind(null,n),tu:YO.bind(null,n)}),n.mu.push(function(){var e=(0,it.Z)(function*(t){t?(n.Tu.Fo(),yield jv(n)):(yield n.Tu.stop(),n.du.length>0&&(It("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class gI{constructor(e,t,r,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,r,i,l){const f=Date.now()+r,m=new gI(e,t,f,i,l);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new gt(Ke.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zv(n,e){if(zr("AsyncQueue",`${e}: ${n}`),jp(n))return new gt(Ke.UNAVAILABLE,`${e}: ${n}`);throw n}class $v{constructor(e){this.comparator=e?(t,r)=>e(t,r)||a.comparator(t.key,r.key):(t,r)=>a.comparator(t.key,r.key),this.keyedMap=wS(),this.sortedSet=new Ai(this.comparator)}static emptySet(e){return new $v(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof $v)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new $v;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class xN{constructor(){this.Eu=new Ai(a.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):Jt():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Wv{constructor(e,t,r,i,l,f,m,E){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=E}static fromInitialDocuments(e,t,r,i){const l=[];return t.forEach(f=>{l.push({type:0,doc:f})}),new Wv(e,t,$v.emptySet(t),l,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&V0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class XO{constructor(){this.Ru=void 0,this.listeners=[]}}class eF{constructor(){this.queries=new Zf(e=>tR(e),V0),this.onlineState="Unknown",this.bu=new Set}}function mI(n,e){return vI.apply(this,arguments)}function vI(){return vI=(0,it.Z)(function*(n,e){const t=Bt(n),r=e.query;let i=!1,l=t.queries.get(r);if(l||(i=!0,l=new XO),i)try{l.Ru=yield t.onListen(r)}catch(f){const m=zv(f,`Initialization of query '${_S(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,l),l.listeners.push(e),e.Pu(t.onlineState),l.Ru&&e.Vu(l.Ru)&&EI(t)}),vI.apply(this,arguments)}function yI(n,e){return _I.apply(this,arguments)}function _I(){return _I=(0,it.Z)(function*(n,e){const t=Bt(n),r=e.query;let i=!1;const l=t.queries.get(r);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),i=0===l.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),_I.apply(this,arguments)}function tF(n,e){const t=Bt(n);let r=!1;for(const i of e){const f=t.queries.get(i.query);if(f){for(const m of f.listeners)m.Vu(i)&&(r=!0);f.Ru=i}}r&&EI(t)}function nF(n,e,t){const r=Bt(n),i=r.queries.get(e);if(i)for(const l of i.listeners)l.onError(t);r.queries.delete(e)}function EI(n){n.bu.forEach(e=>{e.next()})}class bI{constructor(e,t,r){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Wv(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Wv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class rF{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class RN{constructor(e){this.M=e}wi(e){return lc(this.M,e)}mi(e){return e.metadata.exists?MR(this.M,e.document,!1):Ir.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return hs(e)}}class iF{constructor(e,t,r){this.Ou=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=NN(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=sr.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new RN(this.M);for(const i of e)if(i.metadata.queries){const l=r.wi(i.metadata.name);for(const f of i.metadata.queries){const m=(t.get(f)||br()).add(l);t.set(f,m)}}return t}complete(){var e=this;return(0,it.Z)(function*(){const t=yield function DO(n,e,t,r){return GS.apply(this,arguments)}(e.localStore,new RN(e.M),e.documents,e.Ou.id),r=e.$u(e.documents);for(const i of e.queries)yield TO(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function NN(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class kN{constructor(e){this.key=e}}class PN{constructor(e){this.key=e}}class ON{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=br(),this.mutatedKeys=br(),this.Gu=rR(e),this.Qu=new $v(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new xN,i=t?t.Qu:this.Qu;let l=t?t.mutatedKeys:this.mutatedKeys,f=i,m=!1;const E="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,C="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((k,O)=>{const q=i.get(k),J=ES(this.query,O)?O:null,se=!!q&&this.mutatedKeys.has(q.key),Me=!!J&&(J.hasLocalMutations||this.mutatedKeys.has(J.key)&&J.hasCommittedMutations);let rt=!1;q&&J?q.data.isEqual(J.data)?se!==Me&&(r.track({type:3,doc:J}),rt=!0):this.Hu(q,J)||(r.track({type:2,doc:J}),rt=!0,(E&&this.Gu(J,E)>0||C&&this.Gu(J,C)<0)&&(m=!0)):!q&&J?(r.track({type:0,doc:J}),rt=!0):q&&!J&&(r.track({type:1,doc:q}),rt=!0,(E||C)&&(m=!0)),rt&&(J?(f=f.add(J),l=Me?l.add(k):l.delete(k)):(f=f.delete(k),l=l.delete(k)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const k="F"===this.query.limitType?f.last():f.first();f=f.delete(k.key),l=l.delete(k.key),r.track({type:1,doc:k})}return{Qu:f,zu:r,ii:m,mutatedKeys:l}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const l=e.zu.Au();l.sort((C,k)=>function(O,q){const J=se=>{switch(se){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jt()}};return J(O)-J(q)}(C.type,k.type)||this.Gu(C.doc,k.doc)),this.Ju(r);const f=t?this.Yu():[],m=0===this.Ku.size&&this.current?1:0,E=m!==this.qu;return this.qu=m,0!==l.length||E?{snapshot:new Wv(this.query,e.Qu,i,l,e.mutatedKeys,0===m,E,!1),Xu:f}:{Xu:f}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new xN,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=br(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new PN(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new kN(r))}),t}ta(e){this.Uu=e._i,this.Ku=br();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return Wv.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class sF{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class oF{constructor(e){this.key=e,this.na=!1}}class aF{constructor(e,t,r,i,l,f){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.sa={},this.ia=new Zf(m=>tR(m),V0),this.ra=new Map,this.oa=new Set,this.ua=new Ai(a.comparator),this.aa=new Map,this.ca=new $S,this.ha={},this.la=new Map,this.fa=Kp.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function lF(n,e){return AI.apply(this,arguments)}function AI(){return AI=(0,it.Z)(function*(n,e){const t=$I(n);let r,i;const l=t.ia.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),i=l.view.ea();else{const f=yield Bv(t.localStore,Al(e));t.isPrimaryClient&&mC(t.remoteStore,f);const m=t.sharedClientState.addLocalQueryTarget(f.targetId);r=f.targetId,i=yield wI(t,e,r,"current"===m)}return i}),AI.apply(this,arguments)}function wI(n,e,t,r){return CI.apply(this,arguments)}function CI(){return CI=(0,it.Z)(function*(n,e,t,r){n._a=(k,O,q)=>{return(J=(0,it.Z)(function*(se,Me,rt,at){let Et=Me.view.Wu(rt);Et.ii&&(Et=yield fC(se.localStore,Me.query,!1).then(({documents:mn})=>Me.view.Wu(mn,Et)));const kt=at&&at.targetChanges.get(Me.targetId),Dt=Me.view.applyChanges(Et,se.isPrimaryClient,kt);return PI(se,Me.targetId,Dt.Xu),Dt.snapshot}),function(se,Me,rt,at){return J.apply(this,arguments)})(n,k,O,q);var J};const i=yield fC(n.localStore,e,!0),l=new ON(e,i._i),f=l.Wu(i.documents),m=z0.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),E=l.applyChanges(f,n.isPrimaryClient,m);PI(n,t,E.Xu);const C=new sF(e,t,l);return n.ia.set(e,C),n.ra.has(t)?n.ra.get(t).push(e):n.ra.set(t,[e]),E.snapshot}),CI.apply(this,arguments)}function uF(n,e){return DI.apply(this,arguments)}function DI(){return DI=(0,it.Z)(function*(n,e){const t=Bt(n),r=t.ia.get(e),i=t.ra.get(r.targetId);if(i.length>1)return t.ra.set(r.targetId,i.filter(l=>!V0(l,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Uv(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),sE(t.remoteStore,r.targetId),qv(t,r.targetId)}).catch(Qp))):(qv(t,r.targetId),yield Uv(t.localStore,r.targetId,!0))}),DI.apply(this,arguments)}function TI(){return TI=(0,it.Z)(function*(n,e,t){const r=WI(n);try{const i=yield function(l,f){const m=Bt(l),E=ni.now(),C=f.reduce((O,q)=>O.add(q.key),br());let k;return m.persistence.runTransaction("Locally write mutations","readwrite",O=>m.fi.Ks(O,C).next(q=>{k=q;const J=[];for(const se of f){const Me=mP(se,k.get(se.key));null!=Me&&J.push(new Hp(se.key,Me,Tv(Me.value.mapValue),Pi.exists(!0)))}return m.Bs.addMutationBatch(O,E,J,f)})).then(O=>(O.applyToLocalDocumentSet(k),{batchId:O.batchId,changes:k}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,f,m){let E=l.ha[l.currentUser.toKey()];E||(E=new Ai(Un)),E=E.insert(f,m),l.ha[l.currentUser.toKey()]=E}(r,i.batchId,t),yield wd(r,i.changes),yield jv(r.remoteStore)}catch(i){const l=zv(i,"Failed to persist write");t.reject(l)}}),TI.apply(this,arguments)}function FN(n,e){return SI.apply(this,arguments)}function SI(){return SI=(0,it.Z)(function*(n,e){const t=Bt(n);try{const r=yield wO(t.localStore,e);e.targetChanges.forEach((i,l)=>{const f=t.aa.get(l);f&&(gn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?f.na=!0:i.modifiedDocuments.size>0?gn(f.na):i.removedDocuments.size>0&&(gn(f.na),f.na=!1))}),yield wd(t,r,e)}catch(r){yield Qp(r)}}),SI.apply(this,arguments)}function LN(n,e,t){const r=Bt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ia.forEach((l,f)=>{const m=f.view.Pu(e);m.snapshot&&i.push(m.snapshot)}),function(l,f){const m=Bt(l);m.onlineState=f;let E=!1;m.queries.forEach((C,k)=>{for(const O of k.listeners)O.Pu(f)&&(E=!0)}),E&&EI(m)}(r.eventManager,e),i.length&&r.sa.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function dF(n,e,t){return II.apply(this,arguments)}function II(){return II=(0,it.Z)(function*(n,e,t){const r=Bt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.aa.get(e),l=i&&i.key;if(l){let f=new Ai(a.comparator);f=f.insert(l,Ir.newNoDocument(l,En.min()));const m=br().add(l),E=new G0(En.min(),new Map,new Br(Un),f,m);yield FN(r,E),r.ua=r.ua.remove(l),r.aa.delete(e),OI(r)}else yield Uv(r.localStore,e,!1).then(()=>qv(r,e,t)).catch(Qp)}),II.apply(this,arguments)}function fF(n,e){return MI.apply(this,arguments)}function MI(){return MI=(0,it.Z)(function*(n,e){const t=Bt(n),r=e.batch.batchId;try{const i=yield AO(t.localStore,e);kI(t,r,null),NI(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield wd(t,i)}catch(i){yield Qp(i)}}),MI.apply(this,arguments)}function hF(n,e,t){return xI.apply(this,arguments)}function xI(){return xI=(0,it.Z)(function*(n,e,t){const r=Bt(n);try{const i=yield function(l,f){const m=Bt(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let C;return m.Bs.lookupMutationBatch(E,f).next(k=>(gn(null!==k),C=k.keys(),m.Bs.removeMutationBatch(E,k))).next(()=>m.Bs.performConsistencyCheck(E)).next(()=>m.fi.Ks(E,C))})}(r.localStore,e);kI(r,e,t),NI(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield wd(r,i)}catch(i){yield Qp(i)}}),xI.apply(this,arguments)}function RI(){return RI=(0,it.Z)(function*(n,e){const t=Bt(n);Jf(t.remoteStore)||It("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const f=Bt(l);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>f.Bs.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const i=t.la.get(r)||[];i.push(e),t.la.set(r,i)}catch(r){const i=zv(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),RI.apply(this,arguments)}function NI(n,e){(n.la.get(e)||[]).forEach(t=>{t.resolve()}),n.la.delete(e)}function kI(n,e,t){const r=Bt(n);let i=r.ha[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),r.ha[r.currentUser.toKey()]=i}}function qv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ra.get(e))n.ia.delete(r),t&&n.sa.wa(r,t);n.ra.delete(e),n.isPrimaryClient&&n.ca.vi(e).forEach(r=>{n.ca.containsKey(r)||VN(n,r)})}function VN(n,e){n.oa.delete(e.path.canonicalString());const t=n.ua.get(e);null!==t&&(sE(n.remoteStore,t),n.ua=n.ua.remove(e),n.aa.delete(t),OI(n))}function PI(n,e,t){for(const r of t)r instanceof kN?(n.ca.addReference(r.key,e),gF(n,r)):r instanceof PN?(It("SyncEngine","Document no longer in limbo: "+r.key),n.ca.removeReference(r.key,e),n.ca.containsKey(r.key)||VN(n,r.key)):Jt()}function gF(n,e){const t=e.key,r=t.path.canonicalString();n.ua.get(t)||n.oa.has(r)||(It("SyncEngine","New document in limbo: "+t),n.oa.add(r),OI(n))}function OI(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const e=n.oa.values().next().value;n.oa.delete(e);const t=new a(sr.fromString(e)),r=n.fa.next();n.aa.set(r,new oF(t)),n.ua=n.ua.insert(t,r),mC(n.remoteStore,new Kf(Al(xv(t.path)),r,2,Ro.A))}}function wd(n,e,t){return FI.apply(this,arguments)}function FI(){return FI=(0,it.Z)(function*(n,e,t){const r=Bt(n),i=[],l=[],f=[];var m;r.ia.isEmpty()||(r.ia.forEach((m,E)=>{f.push(r._a(E,e,t).then(C=>{if(C){r.isPrimaryClient&&r.sharedClientState.updateQueryState(E.targetId,C.fromCache?"not-current":"current"),i.push(C);const k=US.Ys(E.targetId,C);l.push(k)}}))}),yield Promise.all(f),r.sa.zo(i),yield(m=(0,it.Z)(function*(E,C){const k=Bt(E);try{yield k.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>Je.forEach(C,q=>Je.forEach(q.Hs,J=>k.persistence.referenceDelegate.addReference(O,q.targetId,J)).next(()=>Je.forEach(q.Js,J=>k.persistence.referenceDelegate.removeReference(O,q.targetId,J)))))}catch(O){if(!jp(O))throw O;It("LocalStore","Failed to update sequence numbers: "+O)}for(const O of C){const q=O.targetId;if(!O.fromCache){const J=k.ui.get(q),Me=J.withLastLimboFreeSnapshotVersion(J.snapshotVersion);k.ui=k.ui.insert(q,Me)}}}),function(E,C){return m.apply(this,arguments)})(r.localStore,l))}),FI.apply(this,arguments)}function mF(n,e){return LI.apply(this,arguments)}function LI(){return LI=(0,it.Z)(function*(n,e){const t=Bt(n);if(!t.currentUser.isEqual(e)){It("SyncEngine","User change. New user:",e.toKey());const r=yield fN(t.localStore,e);t.currentUser=e,(i=t).la.forEach(f=>{f.forEach(m=>{m.reject(new gt(Ke.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.la.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield wd(t,r.di)}var i}),LI.apply(this,arguments)}function vF(n,e){const t=Bt(n),r=t.aa.get(e);if(r&&r.na)return br().add(r.key);{let i=br();const l=t.ra.get(e);if(!l)return i;for(const f of l){const m=t.ia.get(f);i=i.unionWith(m.view.ju)}return i}}function yF(n,e){return VI.apply(this,arguments)}function VI(){return VI=(0,it.Z)(function*(n,e){const t=Bt(n),r=yield fC(t.localStore,e.query,!0),i=e.view.ta(r);return t.isPrimaryClient&&PI(t,e.targetId,i.Xu),i}),VI.apply(this,arguments)}function _F(n,e){return BI.apply(this,arguments)}function BI(){return BI=(0,it.Z)(function*(n,e){const t=Bt(n);return mN(t.localStore,e).then(r=>wd(t,r))}),BI.apply(this,arguments)}function EF(n,e,t,r){return UI.apply(this,arguments)}function UI(){return UI=(0,it.Z)(function*(n,e,t,r){const i=Bt(n),l=yield function(f,m){const E=Bt(f),C=Bt(E.Bs);return E.persistence.runTransaction("Lookup mutation documents","readonly",k=>C.fn(k,m).next(O=>O?E.fi.Ks(k,O):Je.resolve(null)))}(i.localStore,e);var m;null!==l?("pending"===t?yield jv(i.remoteStore):"acknowledged"===t||"rejected"===t?(kI(i,e,r||null),NI(i,e),m=e,Bt(Bt(i.localStore).Bs)._n(m)):Jt(),yield wd(i,l)):It("SyncEngine","Cannot apply mutation batch with id: "+e)}),UI.apply(this,arguments)}function HI(){return HI=(0,it.Z)(function*(n,e){const t=Bt(n);if($I(t),WI(t),!0===e&&!0!==t.da){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield BN(t,r.toArray());t.da=!0,yield hI(t.remoteStore,!0);for(const l of i)mC(t.remoteStore,l)}else if(!1===e&&!1!==t.da){const r=[];let i=Promise.resolve();t.ra.forEach((l,f)=>{t.sharedClientState.isLocalQueryTarget(f)?r.push(f):i=i.then(()=>(qv(t,f),Uv(t.localStore,f,!0))),sE(t.remoteStore,f)}),yield i,yield BN(t,r),function(l){const f=Bt(l);f.aa.forEach((m,E)=>{sE(f.remoteStore,E)}),f.ca.Si(),f.aa=new Map,f.ua=new Ai(a.comparator)}(t),t.da=!1,yield hI(t.remoteStore,!1)}}),HI.apply(this,arguments)}function BN(n,e,t){return jI.apply(this,arguments)}function jI(){return jI=(0,it.Z)(function*(n,e,t){const r=Bt(n),i=[],l=[];for(const f of e){let m;const E=r.ra.get(f);if(E&&0!==E.length){m=yield Bv(r.localStore,Al(E[0]));for(const C of E){const k=r.ia.get(C),O=yield yF(r,k);O.snapshot&&l.push(O.snapshot)}}else{const C=yield gN(r.localStore,f);m=yield Bv(r.localStore,C),yield wI(r,UN(C),f,!1)}i.push(m)}return r.sa.zo(l),i}),jI.apply(this,arguments)}function UN(n){return Xx(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function AF(n){const e=Bt(n);return Bt(Bt(e.localStore).persistence).Fs()}function wF(n,e,t,r){return GI.apply(this,arguments)}function GI(){return GI=(0,it.Z)(function*(n,e,t,r){const i=Bt(n);if(i.da)return void It("SyncEngine","Ignoring unexpected query state notification.");const l=i.ra.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const f=yield mN(i.localStore,nR(l[0])),m=G0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield wd(i,f,m);break}case"rejected":yield Uv(i.localStore,e,!0),qv(i,e,r);break;default:Jt()}}),GI.apply(this,arguments)}function CF(n,e,t){return zI.apply(this,arguments)}function zI(){return zI=(0,it.Z)(function*(n,e,t){const r=$I(n);if(r.da){for(const i of e){if(r.ra.has(i)){It("SyncEngine","Adding an already active target "+i);continue}const l=yield gN(r.localStore,i),f=yield Bv(r.localStore,l);yield wI(r,UN(l),f.targetId,!1),mC(r.remoteStore,f)}for(const i of t)r.ra.has(i)&&(yield Uv(r.localStore,i,!1).then(()=>{sE(r.remoteStore,i),qv(r,i)}).catch(Qp))}}),zI.apply(this,arguments)}function $I(n){const e=Bt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=FN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dF.bind(null,e),e.sa.zo=tF.bind(null,e.eventManager),e.sa.wa=nF.bind(null,e.eventManager),e}function WI(n){const e=Bt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hF.bind(null,e),e}class HN{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,it.Z)(function*(){t.M=rE(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return dN(this.persistence,new cN,e.initialUser,this.M)}ya(e){return new kO(WS.Yi,this.M)}ga(e){return new EN}terminate(){var e=this;return(0,it.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class jN extends HN{constructor(e,t,r){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,it.Z)(function*(){yield t().call(r,e),yield r.Ta.initialize(r,e),yield WI(r.Ta.syncEngine),yield jv(r.Ta.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Ia(e){return dN(this.persistence,new cN,e.initialUser,this.M)}pa(e){return new pO(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=BS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?oa.withCacheSize(this.cacheSizeBytes):oa.DEFAULT;return new VS(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,AN(),gC(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new EN}}class TF extends jN{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,it.Z)(function*(){yield t().call(r,e);const i=r.Ta.syncEngine;r.sharedClientState instanceof QS&&(r.sharedClientState.syncEngine={$r:EF.bind(null,i),Br:wF.bind(null,i),Lr:CF.bind(null,i),Fs:AF.bind(null,i),Fr:_F.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var l=(0,it.Z)(function*(f){yield function bF(n,e){return HI.apply(this,arguments)}(r.Ta.syncEngine,f),r.gcScheduler&&(f&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):f||r.gcScheduler.stop())});return function(f){return l.apply(this,arguments)}}())})()}ga(e){const t=AN();if(!QS.vt(t))throw new gt(Ke.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=BS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new QS(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class qI{initialize(e,t){var r=this;return(0,it.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>LN(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=mF.bind(null,r.syncEngine),yield hI(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new eF}createDatastore(e){const t=rE(e.databaseInfo.databaseId),r=new VO(e.databaseInfo);return new HO(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,l=m=>LN(this.syncEngine,m,0),f=bN.vt()?new bN:new OO,new GO(t,r,i,l,f);var t,r,i,l,f}createSyncEngine(e,t){return function(r,i,l,f,m,E,C){const k=new aF(r,i,l,f,m,E);return C&&(k.da=!0),k}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,it.Z)(function*(t){const r=Bt(t);It("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield Hv(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function GN(n,e=10240){let t=0;return{read:()=>(0,it.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,it.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class yC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class SF{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new hi,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(r=>{r&&r.Mu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,it.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,it.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,it.Z)(function*(){const t=yield e.Va();if(null===t)return null;const r=e.ba.decode(t),i=Number(r);isNaN(i)&&e.va(`length string (${r}) is not valid number`);const l=yield e.Sa(i);return new rF(JSON.parse(l),t.length+i)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,it.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Sa(e){var t=this;return(0,it.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const r=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,it.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class IF{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,it.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new gt(Ke.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,it.Z)(function*(l,f){const m=Bt(l),E=q0(m.M)+"/documents",C={documents:f.map(J=>W0(m.M,J))},k=yield m._o("BatchGetDocuments",E,C),O=new Map;k.forEach(J=>{const se=function IP(n,e){return"found"in e?function(t,r){gn(!!r.found);const i=lc(t,r.found.name),l=hs(r.found.updateTime),f=new ki({mapValue:{fields:r.found.fields}});return Ir.newFoundDocument(i,l,f)}(n,e):"missing"in e?function(t,r){gn(!!r.missing),gn(!!r.readTime);const i=lc(t,r.missing),l=hs(r.readTime);return Ir.newNoDocument(i,l)}(n,e):Jt()}(m.M,J);O.set(se.key.toString(),se)});const q=[];return f.forEach(J=>{const se=O.get(J.toString());gn(!!se),q.push(se)}),q}),function(l,f){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new H0(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,it.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const l=a.fromPath(i);e.mutations.push(new AS(l,e.precondition(l)))}),yield(r=(0,it.Z)(function*(i,l){const f=Bt(i),m=q0(f.M)+"/documents",E={writes:l.map(C=>Z0(f.M,C))};yield f.co("Commit",m,E)}),function(i,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Jt();t=En.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new gt(Ke.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Pi.updateTime(t):Pi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(En.min()))throw new gt(Ke.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Pi.updateTime(t)}return Pi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class MF{constructor(e,t,r,i,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=l,this.xa=r.maxAttempts,this.No=new YS(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,it.Z)(function*(){const t=new IF(e.datastore),r=e.ka(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(l=>{e.Ma(l)}))}).catch(i=>{e.Ma(i)})}))}ka(e){try{const t=this.updateFunction(e);return!Dv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!vR(t)}return!1}}class xF{constructor(e,t,r,i){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=fs.UNAUTHENTICATED,this.clientId=O0.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var f=(0,it.Z)(function*(m){It("FirestoreClient","Received user=",m.uid),yield l.authCredentialListener(m),l.user=m});return function(m){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(r,f=>(It("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,it.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new gt(Ke.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,it.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=zv(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function zN(n,e){return ZI.apply(this,arguments)}function ZI(){return ZI=(0,it.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),It("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,it.Z)(function*(l){r.isEqual(l)||(yield fN(e.localStore,l),r=l)});return function(l){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),ZI.apply(this,arguments)}function $N(n,e){return KI.apply(this,arguments)}function KI(){return KI=(0,it.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield QI(n);It("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>MN(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,l)=>MN(e.remoteStore,l)),n.onlineComponents=e}),KI.apply(this,arguments)}function QI(n){return YI.apply(this,arguments)}function YI(){return YI=(0,it.Z)(function*(n){return n.offlineComponents||(It("FirestoreClient","Using default OfflineComponentProvider"),yield zN(n,new HN)),n.offlineComponents}),YI.apply(this,arguments)}function _C(n){return JI.apply(this,arguments)}function JI(){return JI=(0,it.Z)(function*(n){return n.onlineComponents||(It("FirestoreClient","Using default OnlineComponentProvider"),yield $N(n,new qI)),n.onlineComponents}),JI.apply(this,arguments)}function WN(n){return QI(n).then(e=>e.persistence)}function XI(n){return QI(n).then(e=>e.localStore)}function qN(n){return _C(n).then(e=>e.remoteStore)}function eM(n){return _C(n).then(e=>e.syncEngine)}function Zv(n){return tM.apply(this,arguments)}function tM(){return tM=(0,it.Z)(function*(n){const e=yield _C(n),t=e.eventManager;return t.onListen=lF.bind(null,e.syncEngine),t.onUnlisten=uF.bind(null,e.syncEngine),t}),tM.apply(this,arguments)}function ZN(n,e,t={}){const r=new hi;return n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return function(i,l,f,m,E){const C=new yC({next:O=>{l.enqueueAndForget(()=>yI(i,k));const q=O.docs.has(f);!q&&O.fromCache?E.reject(new gt(Ke.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&O.fromCache&&m&&"server"===m.source?E.reject(new gt(Ke.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(O)},error:O=>E.reject(O)}),k=new bI(xv(f.path),C,{includeMetadataChanges:!0,ku:!0});return mI(i,k)}(yield Zv(n),n.asyncQueue,e,t,r)})),r.promise}function KN(n,e,t={}){const r=new hi;return n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return function(i,l,f,m,E){const C=new yC({next:O=>{l.enqueueAndForget(()=>yI(i,k)),O.fromCache&&"server"===m.source?E.reject(new gt(Ke.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(O)},error:O=>E.reject(O)}),k=new bI(f,C,{includeMetadataChanges:!0,ku:!0});return mI(i,k)}(yield Zv(n),n.asyncQueue,e,t,r)})),r.promise}const QN=new Map;function nM(n,e,t){if(!t)throw new gt(Ke.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function YN(n,e,t,r){if(!0===e&&!0===r)throw new gt(Ke.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function JN(n){if(!a.isDocumentKey(n))throw new gt(Ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function XN(n){if(a.isDocumentKey(n))throw new gt(Ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function EC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Jt()}function ar(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new gt(Ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=EC(n);throw new gt(Ke.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function e1(n,e){if(e<=0)throw new gt(Ke.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class t1{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new gt(Ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new gt(Ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,YN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class oE{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t1({}),this._settingsFrozen=!1,e instanceof oc?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new gt(Ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oc(i.options.projectId)}(e))}get app(){if(!this._app)throw new gt(Ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new gt(Ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t1(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Av;switch(t.type){case"gapi":const r=t.client;return gn(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new Hx(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new gt(Ke.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=QN.get(e);t&&(It("ComponentProvider","Removing Datastore"),QN.delete(e),t.terminate())}(this),Promise.resolve()}}class $r{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $r(this.firestore,e,this._key)}}class oo{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new oo(this.firestore,e,this._query)}}class cc extends oo{constructor(e,t,r){super(e,t,xv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $r(this.firestore,null,new a(e))}withConverter(e){return new cc(this.firestore,e,this._path)}}function n1(n,e,...t){if(n=(0,Kn.m9)(n),nM("collection","path",e),n instanceof oE){const r=sr.fromString(e,...t);return XN(r),new cc(n,null,r)}{if(!(n instanceof $r||n instanceof cc))throw new gt(Ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(sr.fromString(e,...t));return XN(r),new cc(n.firestore,null,r)}}function bC(n,e,...t){if(n=(0,Kn.m9)(n),1===arguments.length&&(e=O0.R()),nM("doc","path",e),n instanceof oE){const r=sr.fromString(e,...t);return JN(r),new $r(n,null,new a(r))}{if(!(n instanceof $r||n instanceof cc))throw new gt(Ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(sr.fromString(e,...t));return JN(r),new $r(n.firestore,n instanceof cc?n.converter:null,new a(r))}}function r1(n,e){return n=(0,Kn.m9)(n),e=(0,Kn.m9)(e),(n instanceof $r||n instanceof cc)&&(e instanceof $r||e instanceof cc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function i1(n,e){return n=(0,Kn.m9)(n),e=(0,Kn.m9)(e),n instanceof oo&&e instanceof oo&&n.firestore===e.firestore&&V0(n._query,e._query)&&n.converter===e.converter}class HF{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new YS(this,"async_queue_retry"),this.Qa=()=>{const t=gC();t&&It("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=gC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=gC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new hi;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,it.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!jp(t))throw t;It("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(r=>{throw this.Ua=r,this.qa=!1,zr("INTERNAL UNHANDLED ERROR: ",function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),f}(r)),r}).then(r=>(this.qa=!1,r))));return this.Fa=t,t}enqueueAfterDelay(e,t,r){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const i=gI.createAndSchedule(this,e,t,r,l=>this.Ha(l));return this.La.push(i),i}ja(){this.Ua&&Jt()}verifyOperationInProgress(){}Ja(){var e=this;return(0,it.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function rM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class jF{constructor(){this._progressObserver={},this._taskCompletionResolver=new hi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Kr extends oE{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new HF,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||s1(this),this._firestoreClient.terminate()}}function Fi(n){return n._firestoreClient||s1(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function s1(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new zx(n._databaseId,l,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var l,m;n._firestoreClient=new xF(n._authCredentials,n._appCheckCredentials,n._queue,r)}function o1(n,e,t){const r=new hi;return n.asyncQueue.enqueue((0,it.Z)(function*(){try{yield zN(n,t),yield $N(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(l=i).name?l.code===Ke.FAILED_PRECONDITION||l.code===Ke.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var l})).then(()=>r.promise)}function a1(n){if(n._initialized||n._terminated)throw new gt(Ke.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Cd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new gt(Ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ni(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class dc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dc(bi.fromBase64String(e))}catch(t){throw new gt(Ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new dc(bi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Jp{constructor(e){this._methodName=e}}class AC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new gt(Ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new gt(Ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Un(this._lat,e._lat)||Un(this._long,e._long)}}const JF=/^__.*__$/;class XF{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Hp(e,this.data,this.fieldMask,t,this.fieldTransforms):new U0(e,this.data,t,this.fieldTransforms)}}class l1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Hp(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function u1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jt()}}class wC{constructor(e,t,r,i,l,f){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===l&&this.tc(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new wC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.rc(e),i}oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.tc(),i}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return TC(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(u1(this.ec)&&JF.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class eL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||rE(e)}lc(e,t,r,i=!1){return new wC({ec:e,methodName:t,hc:r,path:Ni.emptyPath(),ic:!1,cc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Xp(n){const e=n._freezeSettings(),t=rE(n._databaseId);return new eL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function CC(n,e,t,r,i,l={}){const f=n.lc(l.merge||l.mergeFields?2:0,e,t,i);aM("Data must be an object, but it was:",f,r);const m=f1(r,f);let E,C;if(l.merge)E=new Fp(f.fieldMask),C=f.fieldTransforms;else if(l.mergeFields){const k=[];for(const O of l.mergeFields){const q=lM(e,O,t);if(!f.contains(q))throw new gt(Ke.INVALID_ARGUMENT,`Field '${q}' is specified in your field mask but missing from your input data.`);p1(k,q)||k.push(q)}E=new Fp(k),C=f.fieldTransforms.filter(O=>E.covers(O.field))}else E=null,C=f.fieldTransforms;return new XF(new ki(m),E,C)}class aE extends Jp{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof aE}}function c1(n,e,t){return new wC({ec:3,hc:e.settings.hc,methodName:n._methodName,ic:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class iM extends Jp{_toFieldTransform(e){return new B0(e.path,new Nv)}isEqual(e){return e instanceof iM}}class tL extends Jp{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=c1(this,e,!0),r=this.fc.map(l=>eg(l,t)),i=new Bp(r);return new B0(e.path,i)}isEqual(e){return this===e}}class nL extends Jp{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=c1(this,e,!0),r=this.fc.map(l=>eg(l,t)),i=new Up(r);return new B0(e.path,i)}isEqual(e){return this===e}}class rL extends Jp{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new kv(e.M,oR(e.M,this.dc));return new B0(e.path,t)}isEqual(e){return this===e}}function sM(n,e,t,r){const i=n.lc(1,e,t);aM("Data must be an object, but it was:",i,r);const l=[],f=ki.empty();Gf(r,(E,C)=>{const k=DC(e,E,t);C=(0,Kn.m9)(C);const O=i.oc(k);if(C instanceof aE)l.push(k);else{const q=eg(C,O);null!=q&&(l.push(k),f.set(k,q))}});const m=new Fp(l);return new l1(f,m,i.fieldTransforms)}function oM(n,e,t,r,i,l){const f=n.lc(1,e,t),m=[lM(e,r,t)],E=[i];if(l.length%2!=0)throw new gt(Ke.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let q=0;q<l.length;q+=2)m.push(lM(e,l[q])),E.push(l[q+1]);const C=[],k=ki.empty();for(let q=m.length-1;q>=0;--q)if(!p1(C,m[q])){const J=m[q];let se=E[q];se=(0,Kn.m9)(se);const Me=f.oc(J);if(se instanceof aE)C.push(J);else{const rt=eg(se,Me);null!=rt&&(C.push(J),k.set(J,rt))}}const O=new Fp(C);return new l1(k,O,f.fieldTransforms)}function d1(n,e,t,r=!1){return eg(t,n.lc(r?4:3,e))}function eg(n,e){if(h1(n=(0,Kn.m9)(n)))return aM("Unsupported field value:",e,n),f1(n,e);if(n instanceof Jp)return function(t,r){if(!u1(r.ec))throw r.ac(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ac(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,r){const i=[];let l=0;for(const f of t){let m=eg(f,r.uc(l));null==m&&(m={nullValue:"NULL_VALUE"}),i.push(m),l++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Kn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return oR(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=ni.fromDate(t);return{timestampValue:$0(r.M,i)}}if(t instanceof ni){const i=new ni(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:$0(r.M,i)}}if(t instanceof AC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof dc)return{bytesValue:CR(r.M,t._byteString)};if(t instanceof $r){const i=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(i))throw r.ac(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:CS(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ac(`Unsupported field value: ${EC(t)}`)}(n,e)}function f1(n,e){const t={};return F0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gf(n,(r,i)=>{const l=eg(i,e.sc(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function h1(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ni||n instanceof AC||n instanceof dc||n instanceof $r||n instanceof Jp)}function aM(n,e,t){if(!h1(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=EC(t);throw e.ac("an object"===r?n+" a custom object":n+" "+r)}var r}function lM(n,e,t){if((e=(0,Kn.m9)(e))instanceof Cd)return e._internalPath;if("string"==typeof e)return DC(n,e);throw TC("Field path arguments must be of type string or ",n,!1,void 0,t)}const iL=new RegExp("[~\\*/\\[\\]]");function DC(n,e,t){if(e.search(iL)>=0)throw TC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Cd(...e.split("."))._internalPath}catch(r){throw TC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function TC(n,e,t,r,i){const l=r&&!r.isEmpty(),f=void 0!==i;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let E="";return(l||f)&&(E+=" (found",l&&(E+=` in field ${r}`),f&&(E+=` in document ${i}`),E+=")"),new gt(Ke.INVALID_ARGUMENT,m+n+E)}function p1(n,e){return n.some(t=>t.isEqual(e))}class lE{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new $r(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new sL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(SC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class sL extends lE{data(){return super.data()}}function SC(n,e){return"string"==typeof e?DC(n,e):e instanceof Cd?e._internalPath:e._delegate._internalPath}class tg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dd extends lE{constructor(e,t,r,i,l,f){super(e,t,r,i,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new uE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(SC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class uE extends Dd{data(e={}){return super.data(e)}}class eh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new tg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new uE(this._firestore,this._userDataWriter,r.key,r,new tg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new gt(Ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(f=>({type:"added",doc:new uE(r._firestore,r._userDataWriter,f.doc.key,f.doc,new tg(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(f=>i||3!==f.type).map(f=>{const m=new uE(r._firestore,r._userDataWriter,f.doc.key,f.doc,new tg(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter);let E=-1,C=-1;return 0!==f.type&&(E=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),1!==f.type&&(l=l.add(f.doc),C=l.indexOf(f.doc.key)),{type:oL(f.type),doc:m,oldIndex:E,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function oL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jt()}}function g1(n,e){return n instanceof Dd&&e instanceof Dd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof eh&&e instanceof eh&&n._firestore===e._firestore&&i1(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function m1(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new gt(Ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cE{}function th(n,...e){for(const t of e)n=t._apply(n);return n}class aL extends cE{constructor(e,t,r){super(),this._c=e,this.wc=t,this.mc=r,this.type="where"}_apply(e){const t=Xp(e.firestore),r=function(i,l,f,m,E,C,k){let O;if(E.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new gt(Ke.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){A1(k,C);const J=[];for(const se of k)J.push(b1(m,i,se));O={arrayValue:{values:J}}}else O=b1(m,i,k)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||A1(k,C),O=d1(f,"where",k,"in"===C||"not-in"===C);const q=Fs.create(E,C,O);return function(J,se){if(se.S()){const rt=vS(J);if(null!==rt&&!rt.isEqual(se.field))throw new gt(Ke.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${rt.toString()}' and '${se.field.toString()}'`);const at=mS(J);null!==at&&w1(0,se.field,at)}const Me=function(rt,at){for(const Et of rt.filters)if(at.indexOf(Et.op)>=0)return Et.op;return null}(J,function(rt){switch(rt){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(se.op));if(null!==Me)throw new gt(Ke.INVALID_ARGUMENT,Me===se.op?`Invalid query. You cannot use more than one '${se.op.toString()}' filter.`:`Invalid query. You cannot use '${se.op.toString()}' filters with '${Me.toString()}' filters.`)}(i,q),q}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new oo(e.firestore,e.converter,function(i,l){const f=i.filters.concat([l]);return new Ad(i.path,i.collectionGroup,i.explicitOrderBy.slice(),f,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class uL extends cE{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(r,i,l){if(null!==r.startAt)throw new gt(Ke.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new gt(Ke.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new Mv(i,l);return function(m,E){if(null===mS(m)){const C=vS(m);null!==C&&w1(0,C,E.field)}}(r,f),f}(e._query,this._c,this.gc);return new oo(e.firestore,e.converter,function(r,i){const l=r.explicitOrderBy.concat([i]);return new Ad(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class v1 extends cE{constructor(e,t,r){super(),this.type=e,this.yc=t,this.Ic=r}_apply(e){return new oo(e.firestore,e.converter,eR(e._query,this.yc,this.Ic))}}class y1 extends cE{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=E1(e,this.type,this.Tc,this.Ec);return new oo(e.firestore,e.converter,(i=t,new Ad((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class _1 extends cE{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=E1(e,this.type,this.Tc,this.Ec);return new oo(e.firestore,e.converter,(i=t,new Ad((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function E1(n,e,t,r){if(t[0]=(0,Kn.m9)(t[0]),t[0]instanceof lE)return function(i,l,f,m,E){if(!m)throw new gt(Ke.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const C=[];for(const k of Rv(i))if(k.field.isKeyField())C.push(ve(l,m.key));else{const O=m.data.field(k.field);if(qw(O))throw new gt(Ke.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+k.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===O){const q=k.field.canonicalString();throw new gt(Ke.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${q}' (used as the orderBy) does not exist.`)}C.push(O)}return new qf(C,E)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Xp(n.firestore);return function(l,f,m,E,C,k){const O=l.explicitOrderBy;if(C.length>O.length)throw new gt(Ke.INVALID_ARGUMENT,`Too many arguments provided to ${E}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const q=[];for(let J=0;J<C.length;J++){const se=C[J];if(O[J].field.isKeyField()){if("string"!=typeof se)throw new gt(Ke.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${E}(), but got a ${typeof se}`);if(!yS(l)&&-1!==se.indexOf("/"))throw new gt(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${E}() must be a plain document ID, but '${se}' contains a slash.`);const Me=l.path.child(sr.fromString(se));if(!a.isDocumentKey(Me))throw new gt(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${E}() must result in a valid document path, but '${Me}' is not because it contains an odd number of segments.`);const rt=new a(Me);q.push(ve(f,rt))}else{const Me=d1(m,E,se);q.push(Me)}}return new qf(q,k)}(n._query,n.firestore._databaseId,i,e,t,r)}}function b1(n,e,t){if("string"==typeof(t=(0,Kn.m9)(t))){if(""===t)throw new gt(Ke.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yS(e)&&-1!==t.indexOf("/"))throw new gt(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(sr.fromString(t));if(!a.isDocumentKey(r))throw new gt(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ve(n,new a(r))}if(t instanceof $r)return ve(n,t._key);throw new gt(Ke.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${EC(t)}.`)}function A1(n,e){if(!Array.isArray(n)||0===n.length)throw new gt(Ke.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new gt(Ke.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function w1(n,e,t){if(!t.isEqual(e))throw new gt(Ke.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const vL={maxAttempts:5};class uM{convertValue(e,t="none"){switch(y(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ri(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(zf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Jt()}}convertObject(e,t){const r={};return Gf(e.fields,(i,l)=>{r[i]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new AC(ri(e.latitude),ri(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Zw(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Cv(e));default:return null}}convertTimestamp(e){const t=Ed(e);return new ni(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=sr.fromString(e);gn(PR(r));const i=new oc(r.get(1),r.get(3)),l=new a(r.popFirst(5));return i.isEqual(t)||zr(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function IC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class yL extends uM{constructor(e){super(),this.firestore=e}convertBytes(e){return new dc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $r(this.firestore,null,t)}}class C1{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Xp(e)}set(e,t,r){this._verifyNotCommitted();const i=nh(e,this._firestore),l=IC(i.converter,t,r),f=CC(this._dataReader,"WriteBatch.set",i._key,l,null!==i.converter,r);return this._mutations.push(f.toMutation(i._key,Pi.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const l=nh(e,this._firestore);let f;return f="string"==typeof(t=(0,Kn.m9)(t))||t instanceof Cd?oM(this._dataReader,"WriteBatch.update",l._key,t,r,i):sM(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(f.toMutation(l._key,Pi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=nh(e,this._firestore);return this._mutations=this._mutations.concat(new H0(t._key,Pi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new gt(Ke.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function nh(n,e){if((n=(0,Kn.m9)(n)).firestore!==e)throw new gt(Ke.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class ng extends uM{constructor(e){super(),this.firestore=e}convertBytes(e){return new dc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $r(this.firestore,null,t)}}function D1(n,e,t){n=ar(n,$r);const r=ar(n.firestore,Kr),i=IC(n.converter,e,t);return Kv(r,[CC(Xp(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Pi.none())])}function T1(n,e,t,...r){n=ar(n,$r);const i=ar(n.firestore,Kr),l=Xp(i);let f;return f="string"==typeof(e=(0,Kn.m9)(e))||e instanceof Cd?oM(l,"updateDoc",n._key,e,t,r):sM(l,"updateDoc",n._key,e),Kv(i,[f.toMutation(n._key,Pi.exists(!0))])}function S1(n,...e){var t,r,i;n=(0,Kn.m9)(n);let l={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||rM(e[f])||(l=e[f],f++);const m={includeMetadataChanges:l.includeMetadataChanges};if(rM(e[f])){const O=e[f];e[f]=null===(t=O.next)||void 0===t?void 0:t.bind(O),e[f+1]=null===(r=O.error)||void 0===r?void 0:r.bind(O),e[f+2]=null===(i=O.complete)||void 0===i?void 0:i.bind(O)}let E,C,k;if(n instanceof $r)C=ar(n.firestore,Kr),k=xv(n._key.path),E={next:O=>{e[f]&&e[f](cM(C,n,O))},error:e[f+1],complete:e[f+2]};else{const O=ar(n,oo);C=ar(O.firestore,Kr),k=O._query;const q=new ng(C);E={next:J=>{e[f]&&e[f](new eh(C,q,O,J))},error:e[f+1],complete:e[f+2]},m1(n._query)}return function(O,q,J,se){const Me=new yC(se),rt=new bI(q,Me,J);return O.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return mI(yield Zv(O),rt)})),()=>{Me.Aa(),O.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return yI(yield Zv(O),rt)}))}}(Fi(C),k,m,E)}function Kv(n,e){return function(t,r){const i=new hi;return t.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return function cF(n,e,t){return TI.apply(this,arguments)}(yield eM(t),r,i)})),i.promise}(Fi(n),e)}function cM(n,e,t){const r=t.docs.get(e._key),i=new ng(n);return new Dd(n,i,e._key,r,new tg(t.hasPendingWrites,t.fromCache),e.converter)}class IL extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Xp(e)}get(e){const t=nh(e,this._firestore),r=new yL(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Jt();const l=i[0];if(l.isFoundDocument())return new lE(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new lE(this._firestore,r,t._key,null,t.converter);throw Jt()})}set(e,t,r){const i=nh(e,this._firestore),l=IC(i.converter,t,r),f=CC(this._dataReader,"Transaction.set",i._key,l,null!==i.converter,r);return this._transaction.set(i._key,f),this}update(e,t,r,...i){const l=nh(e,this._firestore);let f;return f="string"==typeof(t=(0,Kn.m9)(t))||t instanceof Cd?oM(this._dataReader,"Transaction.update",l._key,t,r,i):sM(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,f),this}delete(e){const t=nh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=nh(e,this._firestore),r=new ng(this._firestore);return super.get(e).then(i=>new Dd(this._firestore,r,t._key,i._document,new tg(!1,!1),t.converter))}}function dM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new gt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function M1(){if("undefined"==typeof Uint8Array)throw new gt("unimplemented","Uint8Arrays are not available in this environment.")}function x1(){if(!function gS(){return"undefined"!=typeof atob}())throw new gt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Pp=ml.SDK_VERSION,(0,ml._registerComponent)(new vp.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),l=new Kr(i,new Bx(t.getProvider("auth-internal")),new fS(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,ml.registerVersion)(Gw,"3.4.9",n),(0,ml.registerVersion)(Gw,"3.4.9","esm2017")}();class dE{constructor(e){this._delegate=e}static fromBase64String(e){return x1(),new dE(dc.fromBase64String(e))}static fromUint8Array(e){return M1(),new dE(dc.fromUint8Array(e))}toBase64(){return x1(),this._delegate.toBase64()}toUint8Array(){return M1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function fM(n){return function LL(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class VL{enableIndexedDbPersistence(e,t){return function zF(n,e){a1(n=ar(n,Kr));const t=Fi(n),r=n._freezeSettings(),i=new qI;return o1(t,i,new jN(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function $F(n){a1(n=ar(n,Kr));const e=Fi(n),t=n._freezeSettings(),r=new qI;return o1(e,r,new TF(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function WF(n){if(n._initialized&&!n._terminated)throw new gt(Ke.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new hi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,it.Z)(function*(){try{yield(t=(0,it.Z)(function*(r){if(!gu.vt())return Promise.resolve();const i=r+"main";yield gu.delete(i)}),function(r){return t.apply(this,arguments)})(BS(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class R1{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof oc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Op("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function BF(n,e,t,r={}){var i;const l=(n=ar(n,oE))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Op("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let f,m;if("string"==typeof r.mockUserToken)f=r.mockUserToken,m=fs.MOCK_USER;else{f=(0,Kn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new gt(Ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new fs(E)}n._authCredentials=new Vx(new bv(f,m))}}(this._delegate,e,t,r)}enableNetwork(){return function ZF(n){return function RF(n){return n.asyncQueue.enqueue((0,it.Z)(function*(){const e=yield WN(n),t=yield qN(n);return e.setNetworkEnabled(!0),function(r){const i=Bt(r);return i.wu.delete(0),iE(i)}(t)}))}(Fi(n=ar(n,Kr)))}(this._delegate)}disableNetwork(){return function KF(n){return function NF(n){return n.asyncQueue.enqueue((0,it.Z)(function*(){const e=yield WN(n),t=yield qN(n);return e.setNetworkEnabled(!1),(r=(0,it.Z)(function*(i){const l=Bt(i);l.wu.add(0),yield Hv(l),l.yu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Fi(n=ar(n,Kr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,YN("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function qF(n){return function(e){const t=new hi;return e.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return function pF(n,e){return RI.apply(this,arguments)}(yield eM(e),t)})),t.promise}(Fi(n=ar(n,Kr)))}(this._delegate)}onSnapshotsInSync(e){return function SL(n,e){return function OF(n,e){const t=new yC(e);return n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return r=yield Zv(n),i=t,Bt(r).bu.add(i),void i.next();var r,i})),()=>{t.Aa(),n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return r=yield Zv(n),i=t,void Bt(r).bu.delete(i);var r,i}))}}(Fi(n=ar(n,Kr)),rM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new gt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Qv(this,n1(this._delegate,e))}catch(t){throw ko(t,"collection()","Firestore.collection()")}}doc(e){try{return new Cl(this,bC(this._delegate,e))}catch(t){throw ko(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Po(this,function UF(n,e){if(n=ar(n,oE),nM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new gt(Ke.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new oo(n,null,(t=e,new Ad(sr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ko(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function ML(n,e,t){n=ar(n,Kr);const r=Object.assign(Object.assign({},vL),t);return function(i){if(i.maxAttempts<1)throw new gt(Ke.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function FF(n,e,t){const r=new hi;return n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){const i=yield(l=n,_C(l).then(f=>f.datastore));var l;new MF(n.asyncQueue,i,t,e,r).run()})),r.promise}(Fi(n),i=>e(new IL(n,i)),r)}(this._delegate,t=>e(new N1(this,t)))}batch(){return Fi(this._delegate),new k1(new C1(this._delegate,e=>Kv(this._delegate,e)))}loadBundle(e){return function QF(n,e){const t=Fi(n=ar(n,Kr)),r=new jF;return function LF(n,e,t,r){const i=function(l,f){let m;return m="string"==typeof l?(new TextEncoder).encode(l):l,E=function(E,C){if(E instanceof Uint8Array)return GN(E,C);if(E instanceof ArrayBuffer)return GN(new Uint8Array(E),C);if(E instanceof ReadableStream)return E.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new SF(E,f);var E}(t,rE(e));n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){!function DF(n,e,t){const r=Bt(n);var i;(i=(0,it.Z)(function*(l,f,m){try{const E=yield f.getMetadata();if(yield function(q,J){const se=Bt(q),Me=hs(J.createTime);return se.persistence.runTransaction("hasNewerBundle","readonly",rt=>se._s.getBundleMetadata(rt,J.id)).then(rt=>!!rt&&rt.createTime.compareTo(Me)>=0)}(l.localStore,E))return yield f.close(),m._completeWith({taskState:"Success",documentsLoaded:(q=E).totalDocuments,bytesLoaded:q.totalBytes,totalDocuments:q.totalDocuments,totalBytes:q.totalBytes}),Promise.resolve(new Set);m._updateProgress(NN(E));const C=new iF(E,l.localStore,f.M);let k=yield f.ma();for(;k;){const q=yield C.Fu(k);q&&m._updateProgress(q),k=yield f.ma()}const O=yield C.complete();return yield wd(l,O.Lu,void 0),yield function(q,J){const se=Bt(q);return se.persistence.runTransaction("Save bundle","readwrite",Me=>se._s.saveBundleMetadata(Me,J))}(l.localStore,E),m._completeWith(O.progress),Promise.resolve(O.Bu)}catch(E){return Op("SyncEngine",`Loading bundle failed with ${E}`),m._failWith(E),Promise.resolve(new Set)}var q}),function(l,f,m){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield eM(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function YF(n,e){return function VF(n,e){return n.asyncQueue.enqueue((0,it.Z)(function*(){return function(t,r){const i=Bt(t);return i.persistence.runTransaction("Get named query","readonly",l=>i._s.getNamedQuery(l,r))}(yield XI(n),e)}))}(Fi(n=ar(n,Kr)),e).then(t=>t?new oo(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Po(this,t):null)}}class MC extends uM{constructor(e){super(),this.firestore=e}convertBytes(e){return new dE(new dc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Cl.forKey(t,this.firestore,null)}}class N1{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new MC(e)}get(e){const t=ig(e);return this._delegate.get(t).then(r=>new fE(this._firestore,new Dd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=ig(e);return r?(dM("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=ig(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=ig(e);return this._delegate.delete(t),this}}class k1{constructor(e){this._delegate=e}set(e,t,r){const i=ig(e);return r?(dM("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=ig(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=ig(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class rg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new uE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new hE(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=rg.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(t);return l||(l=new rg(e,new MC(e),t),i.set(t,l)),l}}rg.INSTANCES=new WeakMap;class Cl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new MC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new gt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Cl(t,new $r(t._delegate,r,new a(e)))}static forKey(e,t,r){return new Cl(t,new $r(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Qv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Qv(this.firestore,n1(this._delegate,e))}catch(t){throw ko(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Kn.m9)(e))instanceof $r&&r1(this._delegate,e)}set(e,t){t=dM("DocumentReference.set",t);try{return t?D1(this._delegate,e,t):D1(this._delegate,e)}catch(r){throw ko(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?T1(this._delegate,e):T1(this._delegate,e,t,...r)}catch(i){throw ko(i,"updateDoc()","DocumentReference.update()")}}delete(){return function DL(n){return Kv(ar(n.firestore,Kr),[new H0(n._key,Pi.none())])}(this._delegate)}onSnapshot(...e){const t=P1(e),r=O1(e,i=>new fE(this.firestore,new Dd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return S1(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function EL(n){n=ar(n,$r);const e=ar(n.firestore,Kr),t=Fi(e),r=new ng(e);return function kF(n,e){const t=new hi;return n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return(r=(0,it.Z)(function*(i,l,f){try{const m=yield function(E,C){const k=Bt(E);return k.persistence.runTransaction("read document","readonly",O=>k.fi.Ls(O,C))}(i,l);m.isFoundDocument()?f.resolve(m):m.isNoDocument()?f.resolve(null):f.reject(new gt(Ke.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const E=zv(m,`Failed to get document '${l} from cache`);f.reject(E)}}),function(i,l,f){return r.apply(this,arguments)})(yield XI(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Dd(e,r,n._key,i,new tg(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function bL(n){n=ar(n,$r);const e=ar(n.firestore,Kr);return ZN(Fi(e),n._key,{source:"server"}).then(t=>cM(e,n,t))}(this._delegate):function _L(n){n=ar(n,$r);const e=ar(n.firestore,Kr);return ZN(Fi(e),n._key).then(t=>cM(e,n,t))}(this._delegate),t.then(r=>new fE(this.firestore,new Dd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Cl(this.firestore,this._delegate.withConverter(e?rg.getInstance(this.firestore,e):null))}}function ko(n,e,t){return n.message=n.message.replace(e,t),n}function P1(n){for(const e of n)if("object"==typeof e&&!fM(e))return e;return{}}function O1(n,e){var t,r;let i;return i=fM(n[0])?n[0]:fM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{i.next&&i.next(e(l))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class fE{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Cl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return g1(this._delegate,e._delegate)}}class hE extends fE{data(e){const t=this._delegate.data(e);return function $w(n,e){n||Jt()}(void 0!==t),t}}class Po{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new MC(e)}where(e,t,r){try{return new Po(this.firestore,th(this._delegate,function lL(n,e,t){const r=e,i=SC("where",n);return new aL(i,r,t)}(e,t,r)))}catch(i){throw ko(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Po(this.firestore,th(this._delegate,function cL(n,e="asc"){const t=e,r=SC("orderBy",n);return new uL(r,t)}(e,t)))}catch(r){throw ko(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Po(this.firestore,th(this._delegate,function dL(n){return e1("limit",n),new v1("limit",n,"F")}(e)))}catch(t){throw ko(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Po(this.firestore,th(this._delegate,function fL(n){return e1("limitToLast",n),new v1("limitToLast",n,"L")}(e)))}catch(t){throw ko(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Po(this.firestore,th(this._delegate,function hL(...n){return new y1("startAt",n,!0)}(...e)))}catch(t){throw ko(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Po(this.firestore,th(this._delegate,function pL(...n){return new y1("startAfter",n,!1)}(...e)))}catch(t){throw ko(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Po(this.firestore,th(this._delegate,function gL(...n){return new _1("endBefore",n,!1)}(...e)))}catch(t){throw ko(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Po(this.firestore,th(this._delegate,function mL(...n){return new _1("endAt",n,!0)}(...e)))}catch(t){throw ko(t,"endAt()","Query.endAt()")}}isEqual(e){return i1(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function wL(n){n=ar(n,oo);const e=ar(n.firestore,Kr),t=Fi(e),r=new ng(e);return function PF(n,e){const t=new hi;return n.asyncQueue.enqueueAndForget((0,it.Z)(function*(){return(r=(0,it.Z)(function*(i,l,f){try{const m=yield fC(i,l,!0),E=new ON(l,m._i),C=E.Wu(m.documents),k=E.applyChanges(C,!1);f.resolve(k.snapshot)}catch(m){const E=zv(m,`Failed to execute query '${l} against cache`);f.reject(E)}}),function(i,l,f){return r.apply(this,arguments)})(yield XI(n),e,t);var r})),t.promise}(t,n._query).then(i=>new eh(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function CL(n){n=ar(n,oo);const e=ar(n.firestore,Kr),t=Fi(e),r=new ng(e);return KN(t,n._query,{source:"server"}).then(i=>new eh(e,r,n,i))}(this._delegate):function AL(n){n=ar(n,oo);const e=ar(n.firestore,Kr),t=Fi(e),r=new ng(e);return m1(n._query),KN(t,n._query).then(i=>new eh(e,r,n,i))}(this._delegate),t.then(r=>new hM(this.firestore,new eh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=P1(e),r=O1(e,i=>new hM(this.firestore,new eh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return S1(this._delegate,t,r)}withConverter(e){return new Po(this.firestore,this._delegate.withConverter(e?rg.getInstance(this.firestore,e):null))}}class UL{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new hE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class hM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Po(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new hE(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new UL(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new hE(this._firestore,r))})}isEqual(e){return g1(this._delegate,e._delegate)}}class Qv extends Po{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Cl(this.firestore,e):null}doc(e){try{return new Cl(this.firestore,void 0===e?bC(this._delegate):bC(this._delegate,e))}catch(t){throw ko(t,"doc()","CollectionReference.doc()")}}add(e){return function TL(n,e){const t=ar(n.firestore,Kr),r=bC(n),i=IC(n.converter,e);return Kv(t,[CC(Xp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Pi.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Cl(this.firestore,t))}isEqual(e){return r1(this._delegate,e._delegate)}withConverter(e){return new Qv(this.firestore,this._delegate.withConverter(e?rg.getInstance(this.firestore,e):null))}}function ig(n){return ar(n,$r)}class pM{constructor(...e){this._delegate=new Cd(...e)}static documentId(){return new pM(Ni.keyField().canonicalString())}isEqual(e){return(e=(0,Kn.m9)(e))instanceof Cd&&this._delegate._internalPath.isEqual(e._internalPath)}}class sg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function RL(){return new iM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new sg(e)}static delete(){const e=function xL(){return new aE("deleteField")}();return e._methodName="FieldValue.delete",new sg(e)}static arrayUnion(...e){const t=function NL(...n){return new tL("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new sg(t)}static arrayRemove(...e){const t=function kL(...n){return new nL("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new sg(t)}static increment(e){const t=function PL(n){return new rL("increment",n)}(e);return t._methodName="FieldValue.increment",new sg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const HL={Firestore:R1,GeoPoint:AC,Timestamp:ni,Blob:dE,Transaction:N1,WriteBatch:k1,DocumentReference:Cl,DocumentSnapshot:fE,Query:Po,QueryDocumentSnapshot:hE,QuerySnapshot:hM,CollectionReference:Qv,FieldPath:pM,FieldValue:sg,setLogLevel:function BL(n){!function Lx(n){vd.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function GL(n){(function jL(n,e){n.INTERNAL.registerComponent(new vp.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},HL)))})(n,(e,t)=>new R1(e,t,new VL)),n.registerVersion("@firebase/firestore-compat","0.1.18")}(PT.Z);var zL=$(6451),xC=$(5363),$L=$(6063);class WL extends fi.x{constructor(e=1/0,t=1/0,r=$L.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:l,_windowTime:f}=this;t||(r.push(e),!i&&r.push(l.now()+f)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,l=i.slice();for(let f=0;f<l.length&&!e.closed;f+=r?1:2)e.next(l[f]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,l=(i?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!i){const f=t.now();let m=0;for(let E=1;E<r.length&&r[E]<=f;E+=2)m=E;m&&r.splice(0,m+1)}}}var qL=$(3099);function F1(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,qL.B)({connector:()=>new WL(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function L1(n,e){return(0,tm.m)(e)?Ms(()=>n,e):Ms(()=>n)}var gM=$(9468);$(5867);const B1=new Map,JL={activated:!1,tokenObservers:[]},XL={initialized:!1,enabled:!1};function ms(n){return B1.get(n)||JL}function mu(n,e){B1.set(n,e)}function NC(){return XL}class iV{constructor(e,t,r,i,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=i,i>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,it.Z)(function*(){t.stop();try{t.pending=new Kn.BH,yield function sV(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Kn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Oo=new Kn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function H1(n){if(!ms(n).activated)throw Oo.create("use-before-activation",{appName:n.name})}function _M(n,e){return EM.apply(this,arguments)}function EM(){return EM=(0,it.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const O=yield i.getHeartbeatsHeader();O&&(r["X-Firebase-Client"]=O)}const l={method:"POST",body:JSON.stringify(e),headers:r};let f,m;try{f=yield fetch(n,l)}catch(O){throw Oo.create("fetch-network-error",{originalErrorMessage:O.message})}if(200!==f.status)throw Oo.create("fetch-status-error",{httpStatus:f.status});try{m=yield f.json()}catch(O){throw Oo.create("fetch-parse-error",{originalErrorMessage:O.message})}const E=m.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw Oo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const C=1e3*Number(E[1]),k=Date.now();return{token:m.token,expireTimeMillis:k+C,issuedAtTimeMillis:k}}),EM.apply(this,arguments)}function cV(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const pE="firebase-app-check-store";let OC=null;function G1(){return OC||(OC=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Oo.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(pE,{keyPath:"compositeKey"})}}catch(t){e(Oo.create("storage-open",{originalErrorMessage:t.message}))}}),OC)}function bM(){return bM=(0,it.Z)(function*(n,e){const r=(yield G1()).transaction(pE,"readwrite"),l=r.objectStore(pE).put({compositeKey:n,value:e});return new Promise((f,m)=>{l.onsuccess=E=>{f()},r.onerror=E=>{var C;m(Oo.create("storage-set",{originalErrorMessage:null===(C=E.target.error)||void 0===C?void 0:C.message}))}})}),bM.apply(this,arguments)}const gE=new nc.Yd("@firebase/app-check");function q1(n,e){return(0,Kn.hl)()?function pV(n,e){return function z1(n,e){return bM.apply(this,arguments)}(function W1(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{gE.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Z1(){return NC().enabled}function K1(){return DM.apply(this,arguments)}function DM(){return DM=(0,it.Z)(function*(){const n=NC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),DM.apply(this,arguments)}const EV={error:"UNKNOWN_ERROR"};function bV(n){return Kn.US.encodeString(JSON.stringify(n),!1)}function FC(n){return TM.apply(this,arguments)}function TM(){return TM=(0,it.Z)(function*(n,e=!1){const t=n.app;H1(t);const r=ms(t);let l,i=r.token;if(!i){const E=yield r.cachedTokenPromise;E&&LC(E)&&(i=E)}if(!e&&i&&LC(i))return{token:i.token};let m,f=!1;if(Z1()){r.exchangeTokenPromise||(r.exchangeTokenPromise=_M(cV(t,yield K1()),n.heartbeatServiceProvider).then(C=>(r.exchangeTokenPromise=void 0,C)),f=!0);const E=yield r.exchangeTokenPromise;return yield q1(t,E),mu(t,Object.assign(Object.assign({},r),{token:E})),{token:E.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(E=>(r.exchangeTokenPromise=void 0,E)),f=!0),i=yield r.exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?gE.warn(E.message):gE.error(E),l=E}return i?(m={token:i.token},mu(t,Object.assign(Object.assign({},r),{token:i})),yield q1(t,i)):m=wV(l),f&&Y1(t,m),m}),TM.apply(this,arguments)}function IM(n,e){const t=ms(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),mu(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function Q1(n){const{app:e}=n,t=ms(e);let r=t.tokenRefresher;r||(r=function AV(n){const{app:e}=n;return new iV((0,it.Z)(function*(){let r;if(r=ms(e).token?yield FC(n,!0):yield FC(n),r.error)throw r.error}),()=>!0,()=>{const t=ms(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),mu(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Y1(n,e){const t=ms(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function LC(n){return n.expireTimeMillis-Date.now()>0}function wV(n){return{token:bV(EV),error:n}}class CV{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ms(this.app);for(const t of e)IM(this.app,t.next);return Promise.resolve()}}const sk="app-check-internal";!function VV(){(0,ml._registerComponent)(new vp.wA("app-check",n=>function DV(n,e){return new CV(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(sk).initialize()})),(0,ml._registerComponent)(new vp.wA(sk,n=>function TV(n){return{getToken:e=>FC(n,e),addTokenListener:e=>function SM(n,e,t,r){const{app:i}=n,l=ms(i),f={next:t,error:r,type:e};if(mu(i,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,f]})),l.token&&LC(l.token)){const m=l.token;Promise.resolve().then(()=>{t({token:m.token}),Q1(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>Q1(n))}(n,"INTERNAL",e),removeTokenListener:e=>IM(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ml.registerVersion)("@firebase/app-check","0.5.8")}();class NM{constructor(){return(0,Ii.vb)("app-check")}}"undefined"!=typeof window&&window;var ak=$(127);const lk=new h.OlP("angularfire2.auth.use-emulator"),uk=new h.OlP("angularfire2.auth.settings"),ck=new h.OlP("angularfire2.auth.tenant-id"),dk=new h.OlP("angularfire2.auth.langugage-code"),fk=new h.OlP("angularfire2.auth.use-device-language"),hk=new h.OlP("angularfire.auth.persistence"),pk=(n,e,t,r,i,l,f,m)=>(0,Va.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=e.runOutsideAngular(()=>n.auth());if(t&&E.useEmulator(...t),r&&(E.tenantId=r),E.languageCode=i,l&&E.useDeviceLanguage(),f)for(const[C,k]of Object.entries(f))E.settings[C]=k;return m&&E.setPersistence(m),E},[t,r,i,l,f,m]);let PM=(()=>{class n{constructor(t,r,i,l,f,m,E,C,k,O,q,J){const se=new fi.x,Me=wn(void 0).pipe((0,xC.Q)(f.outsideAngular),Ms(()=>l.runOutsideAngular(()=>Promise.resolve().then($.bind($,5881)))),(0,_n.U)(()=>(0,Va.on)(t,l,r)),(0,_n.U)(rt=>pk(rt,l,m,C,k,O,E,q)),F1({bufferSize:1,refCount:!1}));if(Hr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=wn(null);else{Me.pipe(na()).subscribe();const at=Me.pipe(Ms(Dt=>Dt.getRedirectResult().then(mn=>mn,()=>null)),Ii.iC,F1({bufferSize:1,refCount:!1})),Et=Me.pipe(Ms(Dt=>new Ws.y(mn=>({unsubscribe:l.runOutsideAngular(()=>Dt.onAuthStateChanged(pn=>mn.next(pn),pn=>mn.error(pn),()=>mn.complete()))})))),kt=Me.pipe(Ms(Dt=>new Ws.y(mn=>({unsubscribe:l.runOutsideAngular(()=>Dt.onIdTokenChanged(pn=>mn.next(pn),pn=>mn.error(pn),()=>mn.complete()))}))));this.authState=at.pipe(L1(Et),(0,gM.R)(f.outsideAngular),(0,xC.Q)(f.insideAngular)),this.user=at.pipe(L1(kt),(0,gM.R)(f.outsideAngular),(0,xC.Q)(f.insideAngular)),this.idToken=this.user.pipe(Ms(Dt=>Dt?(0,Sr.D)(Dt.getIdToken()):wn(null))),this.idTokenResult=this.user.pipe(Ms(Dt=>Dt?(0,Sr.D)(Dt.getIdTokenResult()):wn(null))),this.credential=(0,zL.T)(at,se,this.authState.pipe(Na(Dt=>!Dt))).pipe((0,_n.U)(Dt=>(null==Dt?void 0:Dt.user)?Dt:null),(0,gM.R)(f.outsideAngular),(0,xC.Q)(f.insideAngular))}return(0,Va.pX)(this,Me,l,{spy:{apply:(rt,at,Et)=>{(rt.startsWith("signIn")||rt.startsWith("createUser"))&&Et.then(kt=>se.next(kt))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Va.Dh),h.LFG(Va.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Ii.HU),h.LFG(lk,8),h.LFG(uk,8),h.LFG(ck,8),h.LFG(dk,8),h.LFG(fk,8),h.LFG(hk,8),h.LFG(NM,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),zV=(()=>{class n{constructor(){ak.Z.registerVersion("angularfire",Ii.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[PM]}),n})();function gk(n,e){return function $V(n,e=RT.z){return new Ws.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function OM(n,e){return gk(n,e).pipe((0,_n.U)(t=>({payload:t,type:"query"})))}function BC(n,e){return OM(n,e).pipe(Kh(void 0),V_(),(0,_n.U)(([t,r])=>{const i=r.payload.docChanges(),l=i.map(f=>({type:f.type,payload:f}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((f,m)=>{const E=i.find(k=>k.doc.ref.isEqual(f.ref)),C=null==t?void 0:t.payload.docs.find(k=>k.ref.isEqual(f.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(f.metadata)||!E&&C&&JSON.stringify(C.metadata)===JSON.stringify(f.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:f}})}),l}))}function mk(n,e,t){return BC(n,t).pipe(gf((r,i)=>function qV(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function ZV(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return FM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return FM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return FM(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(l=>l.payload),e),[]),function NT(n,e=Gh.y){return n=null!=n?n:kT,(0,ro.e)((t,r)=>{let i,l=!0;t.subscribe((0,jr.x)(r,f=>{const m=e(f);(l||!n(i,m))&&(l=!1,i=m,r.next(f))}))})}(),(0,_n.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function FM(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function vk(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class yk{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=BC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,_n.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Kh(void 0),V_(),Na(([r,i])=>i.length>0||!r),(0,_n.U)(([r,i])=>i),Ii.iC)}auditTrail(e){return this.stateChanges(e).pipe(gf((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=vk(e);return mk(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ii.iC)}valueChanges(e={}){return OM(this.query,this.afs.schedulers.outsideAngular).pipe((0,_n.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Ii.iC)}get(e){return(0,Sr.D)(this.query.get(e)).pipe(Ii.iC)}add(e){return this.ref.add(e)}doc(e){return new _k(this.ref.doc(e),this.afs)}}class _k{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:l}=Ak(r,t);return new yk(i,l,this.afs)}snapshotChanges(){return function WV(n,e){return gk(n,e).pipe(Kh(void 0),V_(),(0,_n.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ii.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,_n.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Sr.D)(this.ref.get(e)).pipe(Ii.iC)}}class KV{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?BC(this.query,this.afs.schedulers.outsideAngular).pipe((0,_n.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Na(t=>t.length>0),Ii.iC):BC(this.query,this.afs.schedulers.outsideAngular).pipe(Ii.iC)}auditTrail(e){return this.stateChanges(e).pipe(gf((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=vk(e);return mk(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ii.iC)}valueChanges(e={}){return OM(this.query,this.afs.schedulers.outsideAngular).pipe((0,_n.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Ii.iC)}get(e){return(0,Sr.D)(this.query.get(e)).pipe(Ii.iC)}}const Ek=new h.OlP("angularfire2.enableFirestorePersistence"),bk=new h.OlP("angularfire2.firestore.persistenceSettings"),QV=new h.OlP("angularfire2.firestore.settings"),YV=new h.OlP("angularfire2.firestore.use-emulator");function Ak(n,e=(t=>t)){return{query:e(n),ref:n}}let wk=(()=>{class n{constructor(t,r,i,l,f,m,E,C,k,O,q,J,se,Me,rt,at,Et){this.schedulers=E;const kt=(0,Va.on)(t,m,r),Dt=k;O&&pk(kt,m,q,se,Me,rt,J,at),[this.firestore,this.persistenceEnabled$]=(0,Va.cc)(`${kt.name}.firestore`,"AngularFirestore",kt.name,()=>{const mn=m.runOutsideAngular(()=>kt.firestore());if(l&&mn.settings(l),Dt&&mn.useEmulator(...Dt),i&&!Hr(f)){const pn=()=>{try{return(0,Sr.D)(mn.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(Gn){return"undefined"!=typeof console&&console.warn(Gn),wn(!1)}};return[mn,m.runOutsideAngular(pn)]}return[mn,wn(!1)]},[l,Dt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:f}=Ak(i,r),m=this.schedulers.ngZone.run(()=>l);return new yk(m,f,this)}collectionGroup(t,r){const i=r||(f=>f),l=this.firestore.collectionGroup(t);return new KV(i(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new _k(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Va.Dh),h.LFG(Va.xv,8),h.LFG(Ek,8),h.LFG(QV,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Ii.HU),h.LFG(bk,8),h.LFG(YV,8),h.LFG(PM,8),h.LFG(lk,8),h.LFG(uk,8),h.LFG(ck,8),h.LFG(dk,8),h.LFG(fk,8),h.LFG(hk,8),h.LFG(NM,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),JV=(()=>{class n{constructor(){ak.Z.registerVersion("angularfire",Ii.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Ek,useValue:!0},{provide:bk,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[wk]}),n})();const Ck={apiKey:"AIzaSyDFtijVvYfE6ttxGGIFosKDTe3x7spSTK4",authDomain:"mindful-c1d5e.firebaseapp.com",projectId:"mindful-c1d5e",storageBucket:"mindful-c1d5e.appspot.com",messagingSenderId:"1085302276666",appId:"1:1085302276666:web:0f2616c0cca84b21f6eb03",measurementId:"G-YZS4H10MCM"},mE={userName:"UserName",preferences:"Preferences"};let UC=(()=>{class n{constructor(){this.isUserAuthenticated$=new fi.x,this.setAuthenticatedUser=t=>{this.isUserAuthenticated$.next(!0),sessionStorage.setItem(mE.userName,t)},this.getAuthenticatedUser=()=>{var t;return null!==(t=sessionStorage.getItem(mE.userName))&&void 0!==t?t:""},this.setPreferences=t=>{sessionStorage.setItem(mE.preferences.toString(),JSON.stringify(t))},this.getPreferences=()=>{var t;const r=null!==(t=sessionStorage.getItem(mE.preferences.toString()))&&void 0!==t?t:"";return r.length>0?JSON.parse(r):{}},this.clear=()=>{this.isUserAuthenticated$.next(!1),sessionStorage.clear()}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),og=(()=>{class n{constructor(t){this.router=t,this.isLoginRoute$=new fi.x,this.isFocusRoute$=new fi.x,this.isPreferencesRoute$=new fi.x,this.navigateFromLogin=()=>{this.router.navigate(["calendar"])},this.navigate=r=>{this.router.navigate([r])},this.createRouteSubscriptions=()=>{this.router.events.pipe(Na(r=>r instanceof xs)).subscribe(r=>{this.isLoginRoute$.next(r.url.includes("login")),this.isFocusRoute$.next(r.url.includes("focus")),this.isPreferencesRoute$.next(r.url.includes("preferences"))})},this.createRouteSubscriptions()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ji))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),HC=(()=>{class n{constructor(t,r,i){this.store=t,this.sessionStorage=r,this.routerService=i,this.createUserFirebase=(l,f)=>(0,Rm.a5)(this.auth,l,f).then(m=>(console.log("Added user successfully to database."),{success:!0})).catch(m=>(console.error("Failed to Create User."),{success:!1,error:{errorMessage:m.message}})),this.loginEmailFirebase=(l,f)=>(0,Rm.a6)(this.auth,l,f).then(m=>(console.log("User authenticated successfully with database."),{success:!0})).catch(m=>(console.error("Failed to Create User."),{success:!1,error:{errorMessage:m.message}})),this.logoutFirebaseUser=()=>{this.authUser&&((0,Rm.y)(this.auth),this.sessionStorage.clear())},this.auth=(0,Rm.n)(),this.auth.onAuthStateChanged(l=>{var f;l?(this.authUser=l,this.sessionStorage.setAuthenticatedUser(null!==(f=l.email)&&void 0!==f?f:""),this.routerService.navigateFromLogin()):this.authUser=void 0})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(wk),h.LFG(UC),h.LFG(og))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XV=(()=>{class n{constructor(t,r){this.toastrService=t,this.fireStore=r,this.model={}}createAccount(){var t=this;return(0,it.Z)(function*(){const r=yield t.fireStore.createUserFirebase(t.model.username,t.model.password);r.success?t.toastrService.success("Account Created Successfully"):t.toastrService.error(r.error.errorMessage),console.log("created clicked!")})()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(mp),h.Y36(HC))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-create-account"]],decls:36,vars:2,consts:[["id","main-terminal",1,"terminal","container","w-50","h-70"],[1,"row"],[1,"col-12","mx-auto"],[1,"d-flex","flex-row","mb-4","login-row"],[1,"col-2",2,"align-self","center"],["id","userNameTerminal"],[1,"blinking"],[1,"p-1","input-group","mx-auto","col-6"],["id","usernameInput","placeholder","","name","userInput","type","email",1,"form-control","p-1",2,"background-color","black","color","white",3,"ngModel","ngModelChange"],["id","passTerminal"],["id","passInput","placeholder","","name","userInput","type","password",1,"form-control","p-1",2,"background-color","black","color","white",3,"ngModel","ngModelChange"],[1,"d-flex","flex-row","mb-4","login-row","w-100"],["id","passInput","placeholder","","name","userInput","type","password",1,"form-control","p-1",2,"background-color","black","color","white"],["id","createAccountLink",1,"mx-auto","col-12"],[1,"w-100","btn","btn-block","btn-black","border-white",3,"click"],["id","meeting-info"],[1,"d-flex","flex-row"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div")(6,"p",5),h._uU(7,"Username"),h.TgZ(8,"span",6),h._uU(9,":"),h.qZA()()()(),h.TgZ(10,"div",7)(11,"input",8),h.NdJ("ngModelChange",function(l){return r.model.username=l}),h.qZA()()(),h.TgZ(12,"div",3)(13,"div",4)(14,"div")(15,"p",9),h._uU(16,"Password"),h.TgZ(17,"span",6),h._uU(18,":"),h.qZA()()()(),h.TgZ(19,"div",7)(20,"input",10),h.NdJ("ngModelChange",function(l){return r.model.password=l}),h.qZA()()(),h.TgZ(21,"div",11)(22,"div",4)(23,"div")(24,"p",9),h._uU(25,"Confirm Password"),h.TgZ(26,"span",6),h._uU(27,":"),h.qZA()()()(),h.TgZ(28,"div",7),h._UZ(29,"input",12),h.qZA()(),h.TgZ(30,"div",3)(31,"div",13)(32,"a",14),h.NdJ("click",function(){return r.createAccount()}),h._uU(33,"Create Account"),h.qZA()()(),h.TgZ(34,"div",15),h._UZ(35,"div",16),h.qZA()()()()),2&t&&(h.xp6(11),h.Q6J("ngModel",r.model.username),h.xp6(9),h.Q6J("ngModel",r.model.password))},directives:[Ds,_o,qi],styles:[""]}),n})();var eB=$(6461);function tB(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"input",6),h.NdJ("ngModelChange",function(i){return h.CHM(t),h.oxw().focusMinutes=i}),h.qZA()}if(2&n){const t=h.oxw();h.Q6J("ngModel",t.focusMinutes)}}function nB(n,e){if(1&n&&(h.TgZ(0,"label",11),h._uU(1),h.qZA()),2&n){const t=h.oxw(2);h.xp6(1),h.hij("",t.focusHours,":")}}function rB(n,e){if(1&n&&(h.TgZ(0,"div",7),h.YNc(1,nB,2,1,"label",8),h.TgZ(2,"label",9),h._uU(3),h.qZA(),h.TgZ(4,"label",10),h._uU(5),h.qZA()()),2&n){const t=h.oxw();h.xp6(1),h.Q6J("ngIf",t.focusHours>0),h.xp6(2),h.hij(" ",t.focusMinutes,":"),h.xp6(2),h.hij(" ",t.focusSeconds,"")}}function iB(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",12),h.NdJ("click",function(){return h.CHM(t),h.oxw().endFocus()}),h.qZA()}}function sB(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",13),h.NdJ("click",function(){return h.CHM(t),h.oxw().startFocus()}),h.qZA()}}let oB=(()=>{class n{constructor(){this.focusHours=0,this.focusMinutes=15,this.focusSeconds=0,this.focusStarted=!1,this.focusAnimationElement=null,this.startFocus=()=>{this.calculateFocusValues(),this.focusStarted=!0,this.playFocusSounds(),this.countdown=setInterval(()=>{var t;0===this.focusMinutes&&this.focusHours>0&&(this.focusHours-=1,this.focusMinutes=59),0===this.focusSeconds&&this.focusMinutes>0&&(this.focusMinutes-=1,this.focusSeconds=59),null==this.focusAnimationElement&&(this.focusAnimationElement=document.getElementsByClassName("circle-button center-page-button btn btn-danger")[0],null===(t=this.focusAnimationElement)||void 0===t||t.setAttribute("class","circle-button center-page-button btn btn-danger center-page-button-animation")),this.focusFinished()&&this.endFocus(),this.focusSeconds-=1},1e3),console.log("Focus Started!")},this.calculateFocusValues=()=>{const t=this.focusMinutes/60;if(t>1){const r=Math.floor(t);this.focusHours=r,this.focusMinutes=Math.round(Math.abs(60*(t-r)))}},this.focusFinished=()=>0===this.focusHours&&0===this.focusMinutes&&0===this.focusSeconds,this.endFocus=()=>{var t;clearInterval(this.countdown),this.focusHours=0,this.focusMinutes=0,this.focusSeconds=0,this.focusStarted=!1,null===(t=this.focusSounds)||void 0===t||t.stop()},this.playFocusSounds=()=>{this.focusSounds=new eB.Howl({src:["assets/focusNoises.wav"],autoplay:!0,html5:!0,loop:!0})}}ngOnDestroy(){var t;this.countdown=void 0,null===(t=this.focusSounds)||void 0===t||t.stop()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-focus-main"]],decls:6,vars:4,consts:[[1,"container","h-100","w-100"],[1,"row","h-25"],["name","focus-hours-input","class","center-page-button mb-5 w-25 focus-time-input","placeholder","Minutes","type","number",3,"ngModel","ngModelChange",4,"ngIf"],["id","countdownTimerLabel","class","focus-label-countdown ml-5 w-100 d-flex flex-row",4,"ngIf"],["class","circle-button center-page-button btn btn-danger",3,"click",4,"ngIf"],["id","startFocusButton","class","circle-button center-page-button btn btn-primary",3,"click",4,"ngIf"],["name","focus-hours-input","placeholder","Minutes","type","number",1,"center-page-button","mb-5","w-25","focus-time-input",3,"ngModel","ngModelChange"],["id","countdownTimerLabel",1,"focus-label-countdown","ml-5","w-100","d-flex","flex-row"],["for","focusHours","class","",4,"ngIf"],["for","focusMinutes",1,""],["for","focusSeconds",1,""],["for","focusHours",1,""],[1,"circle-button","center-page-button","btn","btn-danger",3,"click"],["id","startFocusButton",1,"circle-button","center-page-button","btn","btn-primary",3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0),h._UZ(1,"div",1),h.YNc(2,tB,1,1,"input",2),h.YNc(3,rB,6,3,"div",3),h.YNc(4,iB,1,0,"button",4),h.YNc(5,sB,1,0,"button",5),h.qZA()),2&t&&(h.xp6(2),h.Q6J("ngIf",!r.focusStarted),h.xp6(1),h.Q6J("ngIf",r.focusStarted),h.xp6(1),h.Q6J("ngIf",r.focusStarted),h.xp6(1),h.Q6J("ngIf",!r.focusStarted))},directives:[Dr,Gc,Ds,_o,qi],styles:[".circle-button[_ngcontent-%COMP%]{height:calc(100vh / 6);width:calc(100vh / 6);border-radius:50%}#countdownTimerLabel[_ngcontent-%COMP%]{position:absolute!important;left:0;top:0}.focus-label-countdown[_ngcontent-%COMP%]{font-size:5vw;color:#fff;opacity:75%}.focus-time-input[_ngcontent-%COMP%]{font-size:100%;scale:1000%;color:#fff;text-align:center;box-shadow:none!important;text-shadow:none!important;background-color:#333;border-bottom:1px solid white;overflow:hidden}.focus-date[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{color:#fff}.center-page-button[_ngcontent-%COMP%]{text-align:center;margin:auto;display:flex;display:grid}.center-page-button-animation[_ngcontent-%COMP%]{animation:pulse 10s ease-in-out 0s infinite alternate}@keyframes pulse{to{background-color:#7531f9}50%{transform:scale(1.25)}}"]}),n})(),aB=(()=>{class n{constructor(t,r,i){var l=this;this.toastrService=t,this.routerService=r,this.firestore=i,this.model={},this.login=(0,it.Z)(function*(){const f=yield l.firestore.loginEmailFirebase(l.model.username,l.model.password);f.success?l.toastrService.success("Login Successful."):l.toastrService.error(f.error.errorMessage)}),this.createAccount=()=>{this.routerService.navigate("createAccount")}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(mp),h.Y36(og),h.Y36(HC))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-login"]],decls:30,vars:2,consts:[["id","main-terminal",1,"terminal","container","w-25","h-70"],[1,"row"],[1,"col-12","mx-auto"],[1,"d-flex","flex-row","mb-4","login-row"],[1,"col-1",2,"align-self","center"],["id","userNameTerminal"],[1,"blinking"],[1,"p-1","input-group","mx-auto","col-6"],["id","usernameInput","placeholder","","name","userInput","type","email",1,"form-control","p-1",2,"background-color","black","color","white",3,"ngModel","ngModelChange"],["id","passTerminal"],["id","passInput","placeholder","","name","userInput","type","password",1,"form-control","p-1",2,"background-color","black","color","white",3,"ngModel","ngModelChange"],[1,"mx-auto","col-3"],[1,"btn","btn-block","btn-black",3,"click"],["id","createAccountLink",1,"mx-auto","col-6"],[1,"btn","btn-block","btn-black","border-white",3,"click"],["id","meeting-info"],[1,"d-flex","flex-row"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div")(6,"p",5),h._uU(7,"Username"),h.TgZ(8,"span",6),h._uU(9,":"),h.qZA()()()(),h.TgZ(10,"div",7)(11,"input",8),h.NdJ("ngModelChange",function(l){return r.model.username=l}),h.qZA()()(),h.TgZ(12,"div",3)(13,"div",4)(14,"div")(15,"p",9),h._uU(16,"Password"),h.TgZ(17,"span",6),h._uU(18,":"),h.qZA()()()(),h.TgZ(19,"div",7)(20,"input",10),h.NdJ("ngModelChange",function(l){return r.model.password=l}),h.qZA()()(),h.TgZ(21,"div",3)(22,"div",11)(23,"button",12),h.NdJ("click",function(){return r.login()}),h._uU(24,"./Login"),h.qZA()(),h.TgZ(25,"div",13)(26,"a",14),h.NdJ("click",function(){return r.createAccount()}),h._uU(27,"./Create Account"),h.qZA()()(),h.TgZ(28,"div",15),h._UZ(29,"div",16),h.qZA()()()()),2&t&&(h.xp6(11),h.Q6J("ngModel",r.model.username),h.xp6(9),h.Q6J("ngModel",r.model.password))},directives:[Ds,_o,qi],styles:[""]}),n})();function lB(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div")(1,"div",5)(2,"label",6),h._uU(3,"Email address"),h.qZA(),h.TgZ(4,"input",7),h.NdJ("ngModelChange",function(i){return h.CHM(t),h.oxw().model.emailAddress=i}),h.qZA()()()}if(2&n){const t=h.oxw();h.xp6(4),h.Q6J("ngModel",t.model.emailAddress)}}let uB=(()=>{class n{constructor(t){this.sessionStorageService=t,this.model={},this.enablePushNotifications=()=>{},this.getPreferences=()=>{this.model=this.sessionStorageService.getPreferences()},this.getPreferences()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(UC))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-preferences-form"]],inputs:{model:"model"},decls:6,vars:2,consts:[["id","preferencesForm"],[1,"mb-3","form-check"],["id","enablePushNotifications","type","checkbox","id","exampleCheck1",1,"form-check-input",3,"ngModel","ngModelChange"],["for","exampleCheck1",1,"form-check-label"],[4,"ngIf"],[1,"mb-3"],["for","exampleInputEmail1",1,"form-label"],["id","emailAddress","name","emailAddress","type","email","id","exampleInputEmail1","aria-describedby","emailHelp",1,"form-control",3,"ngModel","ngModelChange"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"input",2),h.NdJ("ngModelChange",function(l){return r.model.enablePushNotifications=l}),h.qZA(),h.TgZ(3,"label",3),h._uU(4,"Push Notifications"),h.qZA()(),h.YNc(5,lB,5,1,"div",4),h.qZA()),2&t&&(h.xp6(2),h.Q6J("ngModel",r.model.enablePushNotifications),h.xp6(3),h.Q6J("ngIf",r.model.enablePushNotifications))},directives:[qs,_o,qi,Dr,Ds],styles:["#preferencesForm[_ngcontent-%COMP%]{color:#fff}"]}),n})(),cB=(()=>{class n{constructor(t,r,i){this.routerService=t,this.toastrService=r,this.sessionStorageService=i,this.model={},this.save=()=>{this.toastrService.success("Preferences Saved."),this.sessionStorageService.setPreferences(this.model),this.routerService.navigate("calendar"),console.log(JSON.stringify(this.model))}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(og),h.Y36(mp),h.Y36(UC))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-preferences-main"]],decls:15,vars:1,consts:[["id","preferencesFormMain",1,"container","formMain","w-100","h-50"],[1,"row","h-75"],[1,"col-6","h-100","mx-auto"],[1,"container","mt-5","h-100","w-100"],[1,"row","h-100","mx-auto"],[1,"col-12","mx-auto"],[3,"ngModel"],[1,"row","h-25"],[1,"col-2","h-100"],[1,"d-flex","flex-column","bd-highlight","mb-3","h-100"],[1,"col-8"],[1,"btn","btn-primary","mt-auto","p-2","mb-3","bd-highlight",3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),h._UZ(6,"app-preferences-form",6),h.qZA()()()()(),h.TgZ(7,"div",7)(8,"div",8),h._UZ(9,"div",9),h.qZA(),h._UZ(10,"div",10),h.TgZ(11,"div",8)(12,"div",9)(13,"button",11),h.NdJ("click",function(){return r.save()}),h._uU(14,"Save"),h.qZA()()()()()),2&t&&(h.xp6(6),h.Q6J("ngModel",r.model))},directives:[uB,_o,qi],styles:[""]}),n})(),Dk=(()=>{class n{canActivate(t,r){return null!=sessionStorage.getItem(mE.userName)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dB=[{path:"login",component:aB},{path:"calendar",component:UA,canActivate:[Dk]},{path:"createAccount",component:XV},{path:"preferences",component:cB,canActivate:[Dk]},{path:"focus",component:oB},{path:"**",redirectTo:"login"},{path:"*",redirectTo:"login"}];let fB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[yA.forRoot(dB)],yA]}),n})();var hB=$(579);let Tk=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pB=(()=>{class n{constructor(t){this.routerService=t,this.onClick=()=>{this.routerService.navigate("preferences")}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(og))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-preferences-button"]],decls:4,vars:0,consts:[[3,"click"],["id","preferencesIcon","xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-gear"],["d","M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"],["d","M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"]],template:function(t,r){1&t&&(h.TgZ(0,"a",0),h.NdJ("click",function(){return r.onClick()}),h.O4$(),h.TgZ(1,"svg",1),h._UZ(2,"path",2)(3,"path",3),h.qZA()())},styles:["#preferencesIcon[_ngcontent-%COMP%]{color:#fff;transition:transform 1.5s ease 0s;transform:scale(2.5)}#preferencesIcon[_ngcontent-%COMP%]:hover{transform:rotate(180deg) scale(4.5)}#preferencesIcon[_ngcontent-%COMP%]:hover:after{transform:rotate(-180deg)}"]}),n})(),gB=(()=>{class n{constructor(t){this.routerService=t,this.onClick=()=>{this.routerService.navigate("focus")}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(og))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-focus-button"]],decls:3,vars:0,consts:[[3,"click"],["id","meditateIcon","xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-flower1"],["d","M6.174 1.184a2 2 0 0 1 3.652 0A2 2 0 0 1 12.99 3.01a2 2 0 0 1 1.826 3.164 2 2 0 0 1 0 3.652 2 2 0 0 1-1.826 3.164 2 2 0 0 1-3.164 1.826 2 2 0 0 1-3.652 0A2 2 0 0 1 3.01 12.99a2 2 0 0 1-1.826-3.164 2 2 0 0 1 0-3.652A2 2 0 0 1 3.01 3.01a2 2 0 0 1 3.164-1.826zM8 1a1 1 0 0 0-.998 1.03l.01.091c.012.077.029.176.054.296.049.241.122.542.213.887.182.688.428 1.513.676 2.314L8 5.762l.045-.144c.248-.8.494-1.626.676-2.314.091-.345.164-.646.213-.887a4.997 4.997 0 0 0 .064-.386L9 2a1 1 0 0 0-1-1zM2 9l.03-.002.091-.01a4.99 4.99 0 0 0 .296-.054c.241-.049.542-.122.887-.213a60.59 60.59 0 0 0 2.314-.676L5.762 8l-.144-.045a60.59 60.59 0 0 0-2.314-.676 16.705 16.705 0 0 0-.887-.213 4.99 4.99 0 0 0-.386-.064L2 7a1 1 0 1 0 0 2zm7 5-.002-.03a5.005 5.005 0 0 0-.064-.386 16.398 16.398 0 0 0-.213-.888 60.582 60.582 0 0 0-.676-2.314L8 10.238l-.045.144c-.248.8-.494 1.626-.676 2.314-.091.345-.164.646-.213.887a4.996 4.996 0 0 0-.064.386L7 14a1 1 0 1 0 2 0zm-5.696-2.134.025-.017a5.001 5.001 0 0 0 .303-.248c.184-.164.408-.377.661-.629A60.614 60.614 0 0 0 5.96 9.23l.103-.111-.147.033a60.88 60.88 0 0 0-2.343.572c-.344.093-.64.18-.874.258a5.063 5.063 0 0 0-.367.138l-.027.014a1 1 0 1 0 1 1.732zM4.5 14.062a1 1 0 0 0 1.366-.366l.014-.027c.01-.02.021-.048.036-.084a5.09 5.09 0 0 0 .102-.283c.078-.233.165-.53.258-.874a60.6 60.6 0 0 0 .572-2.343l.033-.147-.11.102a60.848 60.848 0 0 0-1.743 1.667 17.07 17.07 0 0 0-.629.66 5.06 5.06 0 0 0-.248.304l-.017.025a1 1 0 0 0 .366 1.366zm9.196-8.196a1 1 0 0 0-1-1.732l-.025.017a4.951 4.951 0 0 0-.303.248 16.69 16.69 0 0 0-.661.629A60.72 60.72 0 0 0 10.04 6.77l-.102.111.147-.033a60.6 60.6 0 0 0 2.342-.572c.345-.093.642-.18.875-.258a4.993 4.993 0 0 0 .367-.138.53.53 0 0 0 .027-.014zM11.5 1.938a1 1 0 0 0-1.366.366l-.014.027c-.01.02-.021.048-.036.084a5.09 5.09 0 0 0-.102.283c-.078.233-.165.53-.258.875a60.62 60.62 0 0 0-.572 2.342l-.033.147.11-.102a60.848 60.848 0 0 0 1.743-1.667c.252-.253.465-.477.629-.66a5.001 5.001 0 0 0 .248-.304l.017-.025a1 1 0 0 0-.366-1.366zM14 9a1 1 0 0 0 0-2l-.03.002a4.996 4.996 0 0 0-.386.064c-.242.049-.543.122-.888.213-.688.182-1.513.428-2.314.676L10.238 8l.144.045c.8.248 1.626.494 2.314.676.345.091.646.164.887.213a4.996 4.996 0 0 0 .386.064L14 9zM1.938 4.5a1 1 0 0 0 .393 1.38l.084.035c.072.03.166.064.283.103.233.078.53.165.874.258a60.88 60.88 0 0 0 2.343.572l.147.033-.103-.111a60.584 60.584 0 0 0-1.666-1.742 16.705 16.705 0 0 0-.66-.629 4.996 4.996 0 0 0-.304-.248l-.025-.017a1 1 0 0 0-1.366.366zm2.196-1.196.017.025a4.996 4.996 0 0 0 .248.303c.164.184.377.408.629.661A60.597 60.597 0 0 0 6.77 5.96l.111.102-.033-.147a60.602 60.602 0 0 0-.572-2.342c-.093-.345-.18-.642-.258-.875a5.006 5.006 0 0 0-.138-.367l-.014-.027a1 1 0 1 0-1.732 1zm9.928 8.196a1 1 0 0 0-.366-1.366l-.027-.014a5 5 0 0 0-.367-.138c-.233-.078-.53-.165-.875-.258a60.619 60.619 0 0 0-2.342-.572l-.147-.033.102.111a60.73 60.73 0 0 0 1.667 1.742c.253.252.477.465.66.629a4.946 4.946 0 0 0 .304.248l.025.017a1 1 0 0 0 1.366-.366zm-3.928 2.196a1 1 0 0 0 1.732-1l-.017-.025a5.065 5.065 0 0 0-.248-.303 16.705 16.705 0 0 0-.629-.661A60.462 60.462 0 0 0 9.23 10.04l-.111-.102.033.147a60.6 60.6 0 0 0 .572 2.342c.093.345.18.642.258.875a4.985 4.985 0 0 0 .138.367.575.575 0 0 0 .014.027zM8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"]],template:function(t,r){1&t&&(h.TgZ(0,"a",0),h.NdJ("click",function(){return r.onClick()}),h.O4$(),h.TgZ(1,"svg",1),h._UZ(2,"path",2),h.qZA()())},styles:["#meditateIcon[_ngcontent-%COMP%]{color:#7531f9;transform:scale(2.5);transition:transform 1.5s ease 0s}#meditateIcon[_ngcontent-%COMP%]:hover{transform:rotate(180deg) scale(4.5)}#meditateIcon[_ngcontent-%COMP%]:hover:after{transform:rotate(-180deg)}"]}),n})(),mB=(()=>{class n{constructor(t,r){this.routerService=t,this.fireBaseService=r,this.onClick=()=>{this.fireBaseService.logoutFirebaseUser(),this.routerService.navigate("login")}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(og),h.Y36(HC))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-logout-button"]],decls:4,vars:0,consts:[[3,"click"],["id","logoutIcon","xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-box-arrow-left"],["fill-rule","evenodd","d","M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5 1.5 0 0 1 6.5 2h8A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 5 12.5v-2a.5.5 0 0 1 1 0v2z"],["fill-rule","evenodd","d","M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"]],template:function(t,r){1&t&&(h.TgZ(0,"a",0),h.NdJ("click",function(){return r.onClick()}),h.O4$(),h.TgZ(1,"svg",1),h._UZ(2,"path",2)(3,"path",3),h.qZA()())},styles:["#logoutIcon[_ngcontent-%COMP%]{color:#f5f5f5;transform:scale(2.5);transition:transform 1.5s ease 0s}#logoutIcon[_ngcontent-%COMP%]:hover{transform:scale(4.5)}"]}),n})();function vB(n,e){1&n&&h._UZ(0,"app-preferences-button",3)}function yB(n,e){1&n&&h._UZ(0,"app-focus-button",4)}function _B(n,e){1&n&&h._UZ(0,"app-logout-button",5)}let EB=(()=>{class n{constructor(t,r){this.sessionStoreService=t,this.routerService=r,this.isUserAuthenticated$=this.sessionStoreService.isUserAuthenticated$,this.isLoginRoute$=this.routerService.isLoginRoute$,this.isFocusRoute$=this.routerService.isFocusRoute$,this.isPreferencesRoute$=this.routerService.isPreferencesRoute$}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(UC),h.Y36(og))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-header-main"]],decls:7,vars:11,consts:[["class","mr-4",4,"ngIf"],["class","ml-4 mr-4",4,"ngIf"],["class","ml-4",4,"ngIf"],[1,"mr-4"],[1,"ml-4","mr-4"],[1,"ml-4"]],template:function(t,r){1&t&&(h.YNc(0,vB,1,0,"app-preferences-button",0),h.ALo(1,"async"),h.ALo(2,"async"),h.YNc(3,yB,1,0,"app-focus-button",1),h.ALo(4,"async"),h.YNc(5,_B,1,0,"app-logout-button",2),h.ALo(6,"async")),2&t&&(h.Q6J("ngIf",!1===h.lcZ(1,3,r.isLoginRoute$)&&h.lcZ(2,5,r.isUserAuthenticated$)),h.xp6(3),h.Q6J("ngIf",!1===h.lcZ(4,7,r.isFocusRoute$)),h.xp6(2),h.Q6J("ngIf",!1===h.lcZ(6,9,r.isLoginRoute$)))},directives:[Dr,pB,gB,mB],pipes:[da],styles:[""]}),n})(),bB=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-footer-main"]],decls:8,vars:0,consts:[["href","https://noises.online","title","Noises.Online","target","_blank"],["href","http://creativecommons.org/licenses/by/3.0/","title","Creative Commons BY 3.0","target","_blank"]],template:function(t,r){1&t&&(h.TgZ(0,"div"),h._uU(1,"Background audio track provided by "),h.TgZ(2,"a",0),h._uU(3,"Noises.Online"),h.qZA(),h._uU(4," under a "),h.TgZ(5,"a",1),h._uU(6,"CC 3.0 BY"),h.qZA(),h._uU(7," license."),h.qZA())},styles:[""]}),n})();const AB=(0,ml.initializeApp)(Ck);(0,hB.IH)(AB);let wB=(()=>{class n{constructor(t){this.storage=t}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Tk))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:11,vars:0,consts:[["id","app-header",1,"container"],[1,"row","w-100","mt-4","d-flex","flex-row-reverse"],["id","main-content",1,"container","mt-4"],[1,"row","w-100"],[1,"col-12"],["id","main-center-content",1,"row","w-100"],[1,"col-12","mx-auto"],[1,""]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1),h._UZ(2,"app-header-main"),h.qZA()(),h.TgZ(3,"div",2)(4,"div",3),h._UZ(5,"div",4),h.qZA(),h.TgZ(6,"div",5)(7,"div",6),h._UZ(8,"router-outlet"),h.qZA()(),h.TgZ(9,"div",7),h._UZ(10,"app-footer-main"),h.qZA()())},directives:[EB,np,bB],styles:["#main-content[_ngcontent-%COMP%]{min-height:90vh!important;min-width:98vw!important;height:90vh!important;width:98vw!important;z-index:3!important;position:fixed}#main-center-content[_ngcontent-%COMP%]{height:90vh!important;width:98vw!important}#app-header[_ngcontent-%COMP%]{height:2vh!important;min-width:100vw!important}"]}),n})();class Sk{}class Ik{}class Td{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),l=i.toLowerCase(),f=t.slice(r+1).trim();this.maybeSetNormalizedName(i,l),this.headers.has(l)?this.headers.get(l).push(f):this.headers.set(l,[f])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Td?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Td;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Td?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const l=e.value;if(l){let f=this.headers.get(t);if(!f)return;f=f.filter(m=>-1===l.indexOf(m)),0===f.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,f)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class CB{encodeKey(e){return Mk(e)}encodeValue(e){return Mk(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const TB=/%(\d[a-f0-9])/gi,SB={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Mk(n){return encodeURIComponent(n).replace(TB,(e,t)=>{var r;return null!==(r=SB[t])&&void 0!==r?r:e})}function xk(n){return`${n}`}class rh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new CB,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function DB(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const l=i.indexOf("="),[f,m]=-1==l?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,l)),e.decodeValue(i.slice(l+1))],E=t.get(f)||[];E.push(m),t.set(f,E)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(l=>{t.push({param:r,value:l,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new rh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(xk(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(xk(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class IB{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Rk(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function Nk(n){return"undefined"!=typeof Blob&&n instanceof Blob}function kk(n){return"undefined"!=typeof FormData&&n instanceof FormData}class vE{constructor(e,t,r,i){let l;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function MB(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,l=i):l=r,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new Td),this.context||(this.context=new IB),this.params){const f=this.params.toString();if(0===f.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+f}}else this.params=new rh,this.urlWithParams=t}serializeBody(){return null===this.body?null:Rk(this.body)||Nk(this.body)||kk(this.body)||function xB(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof rh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||kk(this.body)?null:Nk(this.body)?this.body.type||null:Rk(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof rh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,l=e.responseType||this.responseType,f=void 0!==e.body?e.body:this.body,m=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,E=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let C=e.headers||this.headers,k=e.params||this.params;const O=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(C=Object.keys(e.setHeaders).reduce((q,J)=>q.set(J,e.setHeaders[J]),C)),e.setParams&&(k=Object.keys(e.setParams).reduce((q,J)=>q.set(J,e.setParams[J]),k)),new vE(r,i,f,{params:k,headers:C,context:O,reportProgress:E,responseType:l,withCredentials:m})}}var Li=(()=>((Li=Li||{})[Li.Sent=0]="Sent",Li[Li.UploadProgress=1]="UploadProgress",Li[Li.ResponseHeader=2]="ResponseHeader",Li[Li.DownloadProgress=3]="DownloadProgress",Li[Li.Response=4]="Response",Li[Li.User=5]="User",Li))();class LM{constructor(e,t=200,r="OK"){this.headers=e.headers||new Td,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class VM extends LM{constructor(e={}){super(e),this.type=Li.ResponseHeader}clone(e={}){return new VM({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class jC extends LM{constructor(e={}){super(e),this.type=Li.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new jC({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Pk extends LM{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function BM(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let RB=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let l;if(t instanceof vE)l=t;else{let E,C;E=i.headers instanceof Td?i.headers:new Td(i.headers),i.params&&(C=i.params instanceof rh?i.params:new rh({fromObject:i.params})),l=new vE(t,r,void 0!==i.body?i.body:null,{headers:E,context:i.context,params:C,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const f=wn(l).pipe(mf(E=>this.handler.handle(E)));if(t instanceof vE||"events"===i.observe)return f;const m=f.pipe(Na(E=>E instanceof jC));switch(i.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return m.pipe((0,_n.U)(E=>{if(null!==E.body&&!(E.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return E.body}));case"blob":return m.pipe((0,_n.U)(E=>{if(null!==E.body&&!(E.body instanceof Blob))throw new Error("Response is not a Blob.");return E.body}));case"text":return m.pipe((0,_n.U)(E=>{if(null!==E.body&&"string"!=typeof E.body)throw new Error("Response is not a string.");return E.body}));default:return m.pipe((0,_n.U)(E=>E.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new rh).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,BM(i,r))}post(t,r,i={}){return this.request("POST",t,BM(i,r))}put(t,r,i={}){return this.request("PUT",t,BM(i,r))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Sk))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Ok{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const Fk=new h.OlP("HTTP_INTERCEPTORS");let NB=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const kB=/^\)\]\}',?\n/;let Lk=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ws.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((J,se)=>i.setRequestHeader(J,se.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const J=t.detectContentTypeHeader();null!==J&&i.setRequestHeader("Content-Type",J)}if(t.responseType){const J=t.responseType.toLowerCase();i.responseType="json"!==J?J:"text"}const l=t.serializeBody();let f=null;const m=()=>{if(null!==f)return f;const J=i.statusText||"OK",se=new Td(i.getAllResponseHeaders()),Me=function PB(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return f=new VM({headers:se,status:i.status,statusText:J,url:Me}),f},E=()=>{let{headers:J,status:se,statusText:Me,url:rt}=m(),at=null;204!==se&&(at=void 0===i.response?i.responseText:i.response),0===se&&(se=at?200:0);let Et=se>=200&&se<300;if("json"===t.responseType&&"string"==typeof at){const kt=at;at=at.replace(kB,"");try{at=""!==at?JSON.parse(at):null}catch(Dt){at=kt,Et&&(Et=!1,at={error:Dt,text:at})}}Et?(r.next(new jC({body:at,headers:J,status:se,statusText:Me,url:rt||void 0})),r.complete()):r.error(new Pk({error:at,headers:J,status:se,statusText:Me,url:rt||void 0}))},C=J=>{const{url:se}=m(),Me=new Pk({error:J,status:i.status||0,statusText:i.statusText||"Unknown Error",url:se||void 0});r.error(Me)};let k=!1;const O=J=>{k||(r.next(m()),k=!0);let se={type:Li.DownloadProgress,loaded:J.loaded};J.lengthComputable&&(se.total=J.total),"text"===t.responseType&&!!i.responseText&&(se.partialText=i.responseText),r.next(se)},q=J=>{let se={type:Li.UploadProgress,loaded:J.loaded};J.lengthComputable&&(se.total=J.total),r.next(se)};return i.addEventListener("load",E),i.addEventListener("error",C),i.addEventListener("timeout",C),i.addEventListener("abort",C),t.reportProgress&&(i.addEventListener("progress",O),null!==l&&i.upload&&i.upload.addEventListener("progress",q)),i.send(l),r.next({type:Li.Sent}),()=>{i.removeEventListener("error",C),i.removeEventListener("abort",C),i.removeEventListener("load",E),i.removeEventListener("timeout",C),t.reportProgress&&(i.removeEventListener("progress",O),null!==l&&i.upload&&i.upload.removeEventListener("progress",q)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(cr))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const UM=new h.OlP("XSRF_COOKIE_NAME"),HM=new h.OlP("XSRF_HEADER_NAME");class Vk{}let OB=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ys(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be),h.LFG(h.Lbi),h.LFG(UM))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),jM=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const l=this.tokenService.getToken();return null!==l&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,l)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Vk),h.LFG(HM))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),FB=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(Fk,[]);this.chain=r.reduceRight((i,l)=>new Ok(i,l),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ik),h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),LB=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:jM,useClass:NB}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:UM,useValue:t.cookieName}:[],t.headerName?{provide:HM,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[jM,{provide:Fk,useExisting:jM,multi:!0},{provide:Vk,useClass:OB},{provide:UM,useValue:"XSRF-TOKEN"},{provide:HM,useValue:"X-XSRF-TOKEN"}]}),n})(),VB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[RB,{provide:Sk,useClass:FB},Lk,{provide:Ik,useExisting:Lk}],imports:[[LB.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const Bk_firebase=Ck;re.config.touchMouseIgnoreWait=500;var GM=0,GC=0,zM=!1,$M=function(){function n(e){var t=this;this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=function(r){if(!t.shouldIgnoreMouse()&&function BB(n){return 0===n.button&&!n.ctrlKey}(r)&&t.tryStart(r)){var i=t.createEventFromMouse(r,!0);t.emitter.trigger("pointerdown",i),t.initScrollWatch(i),t.shouldIgnoreMove||document.addEventListener("mousemove",t.handleMouseMove),document.addEventListener("mouseup",t.handleMouseUp)}},this.handleMouseMove=function(r){var i=t.createEventFromMouse(r);t.recordCoords(i),t.emitter.trigger("pointermove",i)},this.handleMouseUp=function(r){document.removeEventListener("mousemove",t.handleMouseMove),document.removeEventListener("mouseup",t.handleMouseUp),t.emitter.trigger("pointerup",t.createEventFromMouse(r)),t.cleanup()},this.handleTouchStart=function(r){if(t.tryStart(r)){t.isTouchDragging=!0;var i=t.createEventFromTouch(r,!0);t.emitter.trigger("pointerdown",i),t.initScrollWatch(i);var l=r.target;t.shouldIgnoreMove||l.addEventListener("touchmove",t.handleTouchMove),l.addEventListener("touchend",t.handleTouchEnd),l.addEventListener("touchcancel",t.handleTouchEnd),window.addEventListener("scroll",t.handleTouchScroll,!0)}},this.handleTouchMove=function(r){var i=t.createEventFromTouch(r);t.recordCoords(i),t.emitter.trigger("pointermove",i)},this.handleTouchEnd=function(r){if(t.isDragging){var i=r.target;i.removeEventListener("touchmove",t.handleTouchMove),i.removeEventListener("touchend",t.handleTouchEnd),i.removeEventListener("touchcancel",t.handleTouchEnd),window.removeEventListener("scroll",t.handleTouchScroll,!0),t.emitter.trigger("pointerup",t.createEventFromTouch(r)),t.cleanup(),t.isTouchDragging=!1,function UB(){GM+=1,setTimeout(function(){GM-=1},re.config.touchMouseIgnoreWait)}()}},this.handleTouchScroll=function(){t.wasTouchScroll=!0},this.handleScroll=function(r){if(!t.shouldIgnoreMove){var i=window.pageXOffset-t.prevScrollX+t.prevPageX,l=window.pageYOffset-t.prevScrollY+t.prevPageY;t.emitter.trigger("pointermove",{origEvent:r,isTouch:t.isTouchDragging,subjectEl:t.subjectEl,pageX:i,pageY:l,deltaX:i-t.origPageX,deltaY:l-t.origPageY})}},this.containerEl=e,this.emitter=new re.Emitter,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),function HB(){1===(GC+=1)&&window.addEventListener("touchmove",Uk,{passive:!1})}()}return n.prototype.destroy=function(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),function jB(){(GC-=1)||window.removeEventListener("touchmove",Uk,{passive:!1})}()},n.prototype.tryStart=function(e){var t=this.querySubjectEl(e);return!(!t||this.handleSelector&&!(0,re.elementClosest)(e.target,this.handleSelector)||(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,0))},n.prototype.cleanup=function(){zM=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()},n.prototype.querySubjectEl=function(e){return this.selector?(0,re.elementClosest)(e.target,this.selector):this.containerEl},n.prototype.shouldIgnoreMouse=function(){return GM||this.isTouchDragging},n.prototype.cancelTouchScroll=function(){this.isDragging&&(zM=!0)},n.prototype.initScrollWatch=function(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))},n.prototype.recordCoords=function(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)},n.prototype.destroyScrollWatch=function(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)},n.prototype.createEventFromMouse=function(e,t){var r=0,i=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:i}},n.prototype.createEventFromTouch=function(e,t){var i,l,r=e.touches,f=0,m=0;return r&&r.length?(i=r[0].pageX,l=r[0].pageY):(i=e.pageX,l=e.pageY),t?(this.origPageX=i,this.origPageY=l):(f=i-this.origPageX,m=l-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:l,deltaX:f,deltaY:m}},n}();function Uk(n){zM&&n.preventDefault()}var GB=function(){function n(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}return n.prototype.start=function(e,t,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.pageXOffset,this.origScreenY=r-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()},n.prototype.handleMove=function(e,t){this.deltaX=e-window.pageXOffset-this.origScreenX,this.deltaY=t-window.pageYOffset-this.origScreenY,this.updateElPosition()},n.prototype.setIsVisible=function(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)},n.prototype.stop=function(e,t){var r=this,i=function(){r.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)},n.prototype.doRevertAnimation=function(e,t){var r=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();r.style.transition="top "+t+"ms,left "+t+"ms",(0,re.applyStyle)(r,{left:i.left,top:i.top}),(0,re.whenTransitionDone)(r,function(){r.style.transition="",e()})},n.prototype.cleanup=function(){this.mirrorEl&&((0,re.removeElement)(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null},n.prototype.updateElPosition=function(){this.sourceEl&&this.isVisible&&(0,re.applyStyle)(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})},n.prototype.getMirrorEl=function(){var e=this.sourceElRect,t=this.mirrorEl;return t||((t=this.mirrorEl=this.sourceEl.cloneNode(!0)).classList.add("fc-unselectable"),t.classList.add("fc-event-dragging"),(0,re.applyStyle)(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t},n}(),Hk=function(n){function e(t,r){var i=n.call(this)||this;return i.handleScroll=function(){i.scrollTop=i.scrollController.getScrollTop(),i.scrollLeft=i.scrollController.getScrollLeft(),i.handleScrollChange()},i.scrollController=t,i.doesListening=r,i.scrollTop=i.origScrollTop=t.getScrollTop(),i.scrollLeft=i.origScrollLeft=t.getScrollLeft(),i.scrollWidth=t.getScrollWidth(),i.scrollHeight=t.getScrollHeight(),i.clientWidth=t.getClientWidth(),i.clientHeight=t.getClientHeight(),i.clientRect=i.computeClientRect(),i.doesListening&&i.getEventTarget().addEventListener("scroll",i.handleScroll),i}return(0,Zt.__extends)(e,n),e.prototype.destroy=function(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)},e.prototype.getScrollTop=function(){return this.scrollTop},e.prototype.getScrollLeft=function(){return this.scrollLeft},e.prototype.setScrollTop=function(t){this.scrollController.setScrollTop(t),this.doesListening||(this.scrollTop=Math.max(Math.min(t,this.getMaxScrollTop()),0),this.handleScrollChange())},e.prototype.setScrollLeft=function(t){this.scrollController.setScrollLeft(t),this.doesListening||(this.scrollLeft=Math.max(Math.min(t,this.getMaxScrollLeft()),0),this.handleScrollChange())},e.prototype.getClientWidth=function(){return this.clientWidth},e.prototype.getClientHeight=function(){return this.clientHeight},e.prototype.getScrollWidth=function(){return this.scrollWidth},e.prototype.getScrollHeight=function(){return this.scrollHeight},e.prototype.handleScrollChange=function(){},e}(re.ScrollController),jk=function(n){function e(t,r){return n.call(this,new re.ElementScrollController(t),r)||this}return(0,Zt.__extends)(e,n),e.prototype.getEventTarget=function(){return this.scrollController.el},e.prototype.computeClientRect=function(){return(0,re.computeInnerRect)(this.scrollController.el)},e}(Hk),zB=function(n){function e(t){return n.call(this,new re.WindowScrollController,t)||this}return(0,Zt.__extends)(e,n),e.prototype.getEventTarget=function(){return window},e.prototype.computeClientRect=function(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}},e.prototype.handleScrollChange=function(){this.clientRect=this.computeClientRect()},e}(Hk),Gk="function"==typeof performance?performance.now:Date.now,$B=function(){function n(){var e=this;this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=function(){if(e.isAnimating){var t=e.computeBestEdge(e.pointerScreenX+window.pageXOffset,e.pointerScreenY+window.pageYOffset);if(t){var r=Gk();e.handleSide(t,(r-e.msSinceRequest)/1e3),e.requestAnimation(r)}else e.isAnimating=!1}}}return n.prototype.start=function(e,t,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))},n.prototype.handleMove=function(e,t){if(this.isEnabled){var r=e-window.pageXOffset,i=t-window.pageYOffset,l=null===this.pointerScreenY?0:i-this.pointerScreenY,f=null===this.pointerScreenX?0:r-this.pointerScreenX;l<0?this.everMovedUp=!0:l>0&&(this.everMovedDown=!0),f<0?this.everMovedLeft=!0:f>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(Gk()))}},n.prototype.stop=function(){if(this.isEnabled){this.isAnimating=!1;for(var e=0,t=this.scrollCaches;e<t.length;e++)t[e].destroy();this.scrollCaches=null}},n.prototype.requestAnimation=function(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)},n.prototype.handleSide=function(e,t){var r=e.scrollCache,i=this.edgeThreshold,l=i-e.distance,f=l*l/(i*i)*this.maxVelocity*t,m=1;switch(e.name){case"left":m=-1;case"right":r.setScrollLeft(r.getScrollLeft()+f*m);break;case"top":m=-1;case"bottom":r.setScrollTop(r.getScrollTop()+f*m)}},n.prototype.computeBestEdge=function(e,t){for(var r=this.edgeThreshold,i=null,f=0,m=this.scrollCaches||[];f<m.length;f++){var E=m[f],C=E.clientRect,k=e-C.left,O=C.right-e,q=t-C.top,J=C.bottom-t;k>=0&&O>=0&&q>=0&&J>=0&&(q<=r&&this.everMovedUp&&E.canScrollUp()&&(!i||i.distance>q)&&(i={scrollCache:E,name:"top",distance:q}),J<=r&&this.everMovedDown&&E.canScrollDown()&&(!i||i.distance>J)&&(i={scrollCache:E,name:"bottom",distance:J}),k<=r&&this.everMovedLeft&&E.canScrollLeft()&&(!i||i.distance>k)&&(i={scrollCache:E,name:"left",distance:k}),O<=r&&this.everMovedRight&&E.canScrollRight()&&(!i||i.distance>O)&&(i={scrollCache:E,name:"right",distance:O}))}return i},n.prototype.buildCaches=function(e){return this.queryScrollEls(e).map(function(t){return t===window?new zB(!1):new jk(t,!1)})},n.prototype.queryScrollEls=function(e){for(var t=[],r=0,i=this.scrollQuery;r<i.length;r++){var l=i[r];"object"==typeof l?t.push(l):t.push.apply(t,Array.prototype.slice.call((0,re.getElRoot)(e).querySelectorAll(l)))}return t},n}(),Yv=function(n){function e(t,r){var i=n.call(this,t)||this;i.containerEl=t,i.delay=null,i.minDistance=0,i.touchScrollAllowed=!0,i.mirrorNeedsRevert=!1,i.isInteracting=!1,i.isDragging=!1,i.isDelayEnded=!1,i.isDistanceSurpassed=!1,i.delayTimeoutId=null,i.onPointerDown=function(f){i.isDragging||(i.isInteracting=!0,i.isDelayEnded=!1,i.isDistanceSurpassed=!1,(0,re.preventSelection)(document.body),(0,re.preventContextMenu)(document.body),f.isTouch||f.origEvent.preventDefault(),i.emitter.trigger("pointerdown",f),i.isInteracting&&!i.pointer.shouldIgnoreMove&&(i.mirror.setIsVisible(!1),i.mirror.start(f.subjectEl,f.pageX,f.pageY),i.startDelay(f),i.minDistance||i.handleDistanceSurpassed(f)))},i.onPointerMove=function(f){if(i.isInteracting){if(i.emitter.trigger("pointermove",f),!i.isDistanceSurpassed){var m=i.minDistance,C=f.deltaX,k=f.deltaY;C*C+k*k>=m*m&&i.handleDistanceSurpassed(f)}i.isDragging&&("scroll"!==f.origEvent.type&&(i.mirror.handleMove(f.pageX,f.pageY),i.autoScroller.handleMove(f.pageX,f.pageY)),i.emitter.trigger("dragmove",f))}},i.onPointerUp=function(f){i.isInteracting&&(i.isInteracting=!1,(0,re.allowSelection)(document.body),(0,re.allowContextMenu)(document.body),i.emitter.trigger("pointerup",f),i.isDragging&&(i.autoScroller.stop(),i.tryStopDrag(f)),i.delayTimeoutId&&(clearTimeout(i.delayTimeoutId),i.delayTimeoutId=null))};var l=i.pointer=new $M(t);return l.emitter.on("pointerdown",i.onPointerDown),l.emitter.on("pointermove",i.onPointerMove),l.emitter.on("pointerup",i.onPointerUp),r&&(l.selector=r),i.mirror=new GB,i.autoScroller=new $B,i}return(0,Zt.__extends)(e,n),e.prototype.destroy=function(){this.pointer.destroy(),this.onPointerUp({})},e.prototype.startDelay=function(t){var r=this;"number"==typeof this.delay?this.delayTimeoutId=setTimeout(function(){r.delayTimeoutId=null,r.handleDelayEnd(t)},this.delay):this.handleDelayEnd(t)},e.prototype.handleDelayEnd=function(t){this.isDelayEnded=!0,this.tryStartDrag(t)},e.prototype.handleDistanceSurpassed=function(t){this.isDistanceSurpassed=!0,this.tryStartDrag(t)},e.prototype.tryStartDrag=function(t){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(t.pageX,t.pageY,this.containerEl),this.emitter.trigger("dragstart",t),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll())},e.prototype.tryStopDrag=function(t){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,t))},e.prototype.stopDrag=function(t){this.isDragging=!1,this.emitter.trigger("dragend",t)},e.prototype.setIgnoreMove=function(t){this.pointer.shouldIgnoreMove=t},e.prototype.setMirrorIsVisible=function(t){this.mirror.setIsVisible(t)},e.prototype.setMirrorNeedsRevert=function(t){this.mirrorNeedsRevert=t},e.prototype.setAutoScrollEnabled=function(t){this.autoScroller.isEnabled=t},e}(re.ElementDragging),WB=function(){function n(e){this.origRect=(0,re.computeRect)(e),this.scrollCaches=(0,re.getClippingParents)(e).map(function(t){return new jk(t,!0)})}return n.prototype.destroy=function(){for(var e=0,t=this.scrollCaches;e<t.length;e++)t[e].destroy()},n.prototype.computeLeft=function(){for(var e=this.origRect.left,t=0,r=this.scrollCaches;t<r.length;t++){var i=r[t];e+=i.origScrollLeft-i.getScrollLeft()}return e},n.prototype.computeTop=function(){for(var e=this.origRect.top,t=0,r=this.scrollCaches;t<r.length;t++){var i=r[t];e+=i.origScrollTop-i.getScrollTop()}return e},n.prototype.isWithinClipping=function(e,t){for(var r={left:e,top:t},i=0,l=this.scrollCaches;i<l.length;i++){var f=l[i];if(!qB(f.getEventTarget())&&!(0,re.pointInsideRect)(r,f.clientRect))return!1}return!0},n}();function qB(n){var e=n.tagName;return"HTML"===e||"BODY"===e}var yE=function(){function n(e,t){var r=this;this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=function(i){var l=r.dragging;r.initialHit=null,r.movingHit=null,r.finalHit=null,r.prepareHits(),r.processFirstCoord(i),r.initialHit||!r.requireInitial?(l.setIgnoreMove(!1),r.emitter.trigger("pointerdown",i)):l.setIgnoreMove(!0)},this.handleDragStart=function(i){r.emitter.trigger("dragstart",i),r.handleMove(i,!0)},this.handleDragMove=function(i){r.emitter.trigger("dragmove",i),r.handleMove(i)},this.handlePointerUp=function(i){r.releaseHits(),r.emitter.trigger("pointerup",i)},this.handleDragEnd=function(i){r.movingHit&&r.emitter.trigger("hitupdate",null,!0,i),r.finalHit=r.movingHit,r.movingHit=null,r.emitter.trigger("dragend",i)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new re.Emitter}return n.prototype.processFirstCoord=function(e){var l,t={left:e.pageX,top:e.pageY},r=t,i=e.subjectEl;i instanceof HTMLElement&&(l=(0,re.computeRect)(i),r=(0,re.constrainPoint)(r,l));var f=this.initialHit=this.queryHitForOffset(r.left,r.top);if(f){if(this.useSubjectCenter&&l){var m=(0,re.intersectRects)(l,f.rect);m&&(r=(0,re.getRectCenter)(m))}this.coordAdjust=(0,re.diffPoints)(r,t)}else this.coordAdjust={left:0,top:0}},n.prototype.handleMove=function(e,t){var r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!zC(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))},n.prototype.prepareHits=function(){this.offsetTrackers=(0,re.mapHash)(this.droppableStore,function(e){return e.component.prepareHits(),new WB(e.el)})},n.prototype.releaseHits=function(){var e=this.offsetTrackers;for(var t in e)e[t].destroy();this.offsetTrackers={}},n.prototype.queryHitForOffset=function(e,t){var i=this.droppableStore,l=this.offsetTrackers,f=null;for(var m in i){var E=i[m].component,C=l[m];if(C&&C.isWithinClipping(e,t)){var k=C.computeLeft(),O=C.computeTop(),q=e-k,J=t-O,se=C.origRect,Me=se.right-se.left,rt=se.bottom-se.top;if(q>=0&&q<Me&&J>=0&&J<rt){var at=E.queryHit(q,J,Me,rt);at&&(0,re.rangeContainsRange)(at.dateProfile.activeRange,at.dateSpan.range)&&(!f||at.layer>f.layer)&&(at.componentId=m,at.context=E.context,at.rect.left+=k,at.rect.right+=k,at.rect.top+=O,at.rect.bottom+=O,f=at)}}}return f},n}();function zC(n,e){return!n&&!e||Boolean(n)===Boolean(e)&&(0,re.isDateSpansEqual)(n.dateSpan,e.dateSpan)}function WM(n,e){for(var t={},r=0,i=e.pluginHooks.datePointTransforms;r<i.length;r++)(0,Zt.__assign)(t,(0,i[r])(n,e));return(0,Zt.__assign)(t,function ZB(n,e){return{date:e.toDate(n.range.start),dateStr:e.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}(n,e.dateEnv)),t}var KB=function(n){function e(t){var r=n.call(this,t)||this;r.handlePointerDown=function(l){r.dragging.setIgnoreMove(!r.component.isValidDateDownEl(l.origEvent.target))},r.handleDragEnd=function(l){var f=r.component;if(!r.dragging.pointer.wasTouchScroll){var E=r.hitDragging,C=E.initialHit,k=E.finalHit;if(C&&k&&zC(C,k)){var O=f.context,q=(0,Zt.__assign)((0,Zt.__assign)({},WM(C.dateSpan,O)),{dayEl:C.dayEl,jsEvent:l.origEvent,view:O.viewApi||O.calendarApi.view});O.emitter.trigger("dateClick",q)}}},r.dragging=new Yv(t.el),r.dragging.autoScroller.isEnabled=!1;var i=r.hitDragging=new yE(r.dragging,(0,re.interactionSettingsToStore)(t));return i.emitter.on("pointerdown",r.handlePointerDown),i.emitter.on("dragend",r.handleDragEnd),r}return(0,Zt.__extends)(e,n),e.prototype.destroy=function(){this.dragging.destroy()},e}(re.Interaction),QB=function(n){function e(t){var r=n.call(this,t)||this;r.dragSelection=null,r.handlePointerDown=function(E){var k=r.component,O=r.dragging,J=k.context.options.selectable&&k.isValidDateDownEl(E.origEvent.target);O.setIgnoreMove(!J),O.delay=E.isTouch?function YB(n){var e=n.context.options,t=e.selectLongPressDelay;return null==t&&(t=e.longPressDelay),t}(k):null},r.handleDragStart=function(E){r.component.context.calendarApi.unselect(E)},r.handleHitUpdate=function(E,C){var k=r.component.context,O=null,q=!1;if(E){var J=r.hitDragging.initialHit;E.componentId===J.componentId&&r.isHitComboAllowed&&!r.isHitComboAllowed(J,E)||(O=function JB(n,e,t){var r=n.dateSpan,i=e.dateSpan,l=[r.range.start,r.range.end,i.range.start,i.range.end];l.sort(re.compareNumbers);for(var f={},m=0,E=t;m<E.length;m++){var k=(0,E[m])(n,e);if(!1===k)return null;k&&(0,Zt.__assign)(f,k)}return f.range={start:l[0],end:l[3]},f.allDay=r.allDay,f}(J,E,k.pluginHooks.dateSelectionTransformers)),(!O||!(0,re.isDateSelectionValid)(O,E.dateProfile,k))&&(q=!0,O=null)}O?k.dispatch({type:"SELECT_DATES",selection:O}):C||k.dispatch({type:"UNSELECT_DATES"}),q?(0,re.disableCursor)():(0,re.enableCursor)(),C||(r.dragSelection=O)},r.handlePointerUp=function(E){r.dragSelection&&((0,re.triggerDateSelect)(r.dragSelection,E,r.component.context),r.dragSelection=null)};var l=t.component.context.options,f=r.dragging=new Yv(t.el);f.touchScrollAllowed=!1,f.minDistance=l.selectMinDistance||0,f.autoScroller.isEnabled=l.dragScroll;var m=r.hitDragging=new yE(r.dragging,(0,re.interactionSettingsToStore)(t));return m.emitter.on("pointerdown",r.handlePointerDown),m.emitter.on("dragstart",r.handleDragStart),m.emitter.on("hitupdate",r.handleHitUpdate),m.emitter.on("pointerup",r.handlePointerUp),r}return(0,Zt.__extends)(e,n),e.prototype.destroy=function(){this.dragging.destroy()},e}(re.Interaction),zk=function(n){function e(t){var r=n.call(this,t)||this;r.subjectEl=null,r.subjectSeg=null,r.isDragging=!1,r.eventRange=null,r.relevantEvents=null,r.receivingContext=null,r.validMutation=null,r.mutatedRelevantEvents=null,r.handlePointerDown=function(E){var C=E.origEvent.target,O=r.component,q=r.dragging,J=q.mirror,se=O.context.options,Me=O.context;r.subjectEl=E.subjectEl;var rt=r.subjectSeg=(0,re.getElSeg)(E.subjectEl),Et=(r.eventRange=rt.eventRange).instance.instanceId;r.relevantEvents=(0,re.getRelevantEvents)(Me.getCurrentData().eventStore,Et),q.minDistance=E.isTouch?0:se.eventDragMinDistance,q.delay=E.isTouch&&Et!==O.props.eventSelection?function eU(n){var e=n.context.options,t=e.eventLongPressDelay;return null==t&&(t=e.longPressDelay),t}(O):null,J.parentNode=se.fixedMirrorParent?se.fixedMirrorParent:(0,re.elementClosest)(C,".fc"),J.revertDuration=se.dragRevertDuration;var kt=O.isValidSegDownEl(C)&&!(0,re.elementClosest)(C,".fc-event-resizer");q.setIgnoreMove(!kt),r.isDragging=kt&&E.subjectEl.classList.contains("fc-event-draggable")},r.handleDragStart=function(E){var C=r.component.context,k=r.eventRange,O=k.instance.instanceId;E.isTouch?O!==r.component.props.eventSelection&&C.dispatch({type:"SELECT_EVENT",eventInstanceId:O}):C.dispatch({type:"UNSELECT_EVENT"}),r.isDragging&&(C.calendarApi.unselect(E),C.emitter.trigger("eventDragStart",{el:r.subjectEl,event:new re.EventApi(C,k.def,k.instance),jsEvent:E.origEvent,view:C.viewApi}))},r.handleHitUpdate=function(E,C){if(r.isDragging){var k=r.relevantEvents,O=r.hitDragging.initialHit,q=r.component.context,J=null,se=null,Me=null,rt=!1,at={affectedEvents:k,mutatedEvents:(0,re.createEmptyEventStore)(),isEvent:!0};if(E){var Et=(J=E.context).options;q===J||Et.editable&&Et.droppable?(se=function XB(n,e,t){var r=n.dateSpan,i=e.dateSpan,l=r.range.start,f=i.range.start,m={};r.allDay!==i.allDay&&(m.allDay=i.allDay,m.hasEnd=e.context.options.allDayMaintainDuration,i.allDay&&(l=(0,re.startOfDay)(l)));var E=(0,re.diffDates)(l,f,n.context.dateEnv,n.componentId===e.componentId?n.largeUnit:null);E.milliseconds&&(m.allDay=!1);for(var C={datesDelta:E,standardProps:m},k=0,O=t;k<O.length;k++)(0,O[k])(C,n,e);return C}(O,E,J.getCurrentData().pluginHooks.eventDragMutationMassagers),se&&(Me=(0,re.applyMutationToEventStore)(k,J.getCurrentData().eventUiBases,se,J),at.mutatedEvents=Me,(0,re.isInteractionValid)(at,E.dateProfile,J)||(rt=!0,se=null,Me=null,at.mutatedEvents=(0,re.createEmptyEventStore)()))):J=null}r.displayDrag(J,at),rt?(0,re.disableCursor)():(0,re.enableCursor)(),C||(q===J&&zC(O,E)&&(se=null),r.dragging.setMirrorNeedsRevert(!se),r.dragging.setMirrorIsVisible(!E||!(0,re.getElRoot)(r.subjectEl).querySelector(".fc-event-mirror")),r.receivingContext=J,r.validMutation=se,r.mutatedRelevantEvents=Me)}},r.handlePointerUp=function(){r.isDragging||r.cleanup()},r.handleDragEnd=function(E){if(r.isDragging){var C=r.component.context,k=C.viewApi,q=r.receivingContext,J=r.validMutation,se=r.eventRange.def,Me=r.eventRange.instance,rt=new re.EventApi(C,se,Me),at=r.relevantEvents,Et=r.mutatedRelevantEvents,kt=r.hitDragging.finalHit;if(r.clearDrag(),C.emitter.trigger("eventDragStop",{el:r.subjectEl,event:rt,jsEvent:E.origEvent,view:k}),J){if(q===C){var Dt=new re.EventApi(C,Et.defs[se.defId],Me?Et.instances[Me.instanceId]:null);C.dispatch({type:"MERGE_EVENTS",eventStore:Et});for(var mn={oldEvent:rt,event:Dt,relatedEvents:(0,re.buildEventApis)(Et,C,Me),revert:function(){C.dispatch({type:"MERGE_EVENTS",eventStore:at})}},pn={},Gn=0,$n=C.getCurrentData().pluginHooks.eventDropTransformers;Gn<$n.length;Gn++)(0,Zt.__assign)(pn,(0,$n[Gn])(J,C));C.emitter.trigger("eventDrop",(0,Zt.__assign)((0,Zt.__assign)((0,Zt.__assign)({},mn),pn),{el:E.subjectEl,delta:J.datesDelta,jsEvent:E.origEvent,view:k})),C.emitter.trigger("eventChange",mn)}else if(q){var Vo={event:rt,relatedEvents:(0,re.buildEventApis)(at,C,Me),revert:function(){C.dispatch({type:"MERGE_EVENTS",eventStore:at})}};C.emitter.trigger("eventLeave",(0,Zt.__assign)((0,Zt.__assign)({},Vo),{draggedEl:E.subjectEl,view:k})),C.dispatch({type:"REMOVE_EVENTS",eventStore:at}),C.emitter.trigger("eventRemove",Vo);var aa=Et.instances[Me.instanceId],Sd=new re.EventApi(q,Et.defs[se.defId],aa);q.dispatch({type:"MERGE_EVENTS",eventStore:Et});var _E={event:Sd,relatedEvents:(0,re.buildEventApis)(Et,q,aa),revert:function(){q.dispatch({type:"REMOVE_EVENTS",eventStore:Et})}};q.emitter.trigger("eventAdd",_E),E.isTouch&&q.dispatch({type:"SELECT_EVENT",eventInstanceId:Me.instanceId}),q.emitter.trigger("drop",(0,Zt.__assign)((0,Zt.__assign)({},WM(kt.dateSpan,q)),{draggedEl:E.subjectEl,jsEvent:E.origEvent,view:kt.context.viewApi})),q.emitter.trigger("eventReceive",(0,Zt.__assign)((0,Zt.__assign)({},_E),{draggedEl:E.subjectEl,view:kt.context.viewApi}))}}else C.emitter.trigger("_noEventDrop")}r.cleanup()};var l=r.component.context.options,f=r.dragging=new Yv(t.el);f.pointer.selector=e.SELECTOR,f.touchScrollAllowed=!1,f.autoScroller.isEnabled=l.dragScroll;var m=r.hitDragging=new yE(r.dragging,re.interactionSettingsStore);return m.useSubjectCenter=t.useEventCenter,m.emitter.on("pointerdown",r.handlePointerDown),m.emitter.on("dragstart",r.handleDragStart),m.emitter.on("hitupdate",r.handleHitUpdate),m.emitter.on("pointerup",r.handlePointerUp),m.emitter.on("dragend",r.handleDragEnd),r}return(0,Zt.__extends)(e,n),e.prototype.destroy=function(){this.dragging.destroy()},e.prototype.displayDrag=function(t,r){var l=this.receivingContext;l&&l!==t&&l.dispatch(l===this.component.context?{type:"SET_EVENT_DRAG",state:{affectedEvents:r.affectedEvents,mutatedEvents:(0,re.createEmptyEventStore)(),isEvent:!0}}:{type:"UNSET_EVENT_DRAG"}),t&&t.dispatch({type:"SET_EVENT_DRAG",state:r})},e.prototype.clearDrag=function(){var t=this.component.context,r=this.receivingContext;r&&r.dispatch({type:"UNSET_EVENT_DRAG"}),t!==r&&t.dispatch({type:"UNSET_EVENT_DRAG"})},e.prototype.cleanup=function(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null},e.SELECTOR=".fc-event-draggable, .fc-event-resizable",e}(re.Interaction),tU=function(n){function e(t){var r=n.call(this,t)||this;r.draggingSegEl=null,r.draggingSeg=null,r.eventRange=null,r.relevantEvents=null,r.validMutation=null,r.mutatedRelevantEvents=null,r.handlePointerDown=function(m){var E=r.component,C=r.querySegEl(m),k=(0,re.getElSeg)(C),O=r.eventRange=k.eventRange;r.dragging.minDistance=E.context.options.eventDragMinDistance,r.dragging.setIgnoreMove(!r.component.isValidSegDownEl(m.origEvent.target)||m.isTouch&&r.component.props.eventSelection!==O.instance.instanceId)},r.handleDragStart=function(m){var E=r.component.context,C=r.eventRange;r.relevantEvents=(0,re.getRelevantEvents)(E.getCurrentData().eventStore,r.eventRange.instance.instanceId);var k=r.querySegEl(m);r.draggingSegEl=k,r.draggingSeg=(0,re.getElSeg)(k),E.calendarApi.unselect(),E.emitter.trigger("eventResizeStart",{el:k,event:new re.EventApi(E,C.def,C.instance),jsEvent:m.origEvent,view:E.viewApi})},r.handleHitUpdate=function(m,E,C){var k=r.component.context,O=r.relevantEvents,q=r.hitDragging.initialHit,J=r.eventRange.instance,se=null,Me=null,rt=!1,at={affectedEvents:O,mutatedEvents:(0,re.createEmptyEventStore)(),isEvent:!0};m&&(m.componentId===q.componentId&&r.isHitComboAllowed&&!r.isHitComboAllowed(q,m)||(se=function nU(n,e,t,r){var i=n.context.dateEnv,m=(0,re.diffDates)(n.dateSpan.range.start,e.dateSpan.range.start,i,n.largeUnit);if(t){if(i.add(r.start,m)<r.end)return{startDelta:m}}else if(i.add(r.end,m)>r.start)return{endDelta:m};return null}(q,m,C.subjectEl.classList.contains("fc-event-resizer-start"),J.range))),se&&(Me=(0,re.applyMutationToEventStore)(O,k.getCurrentData().eventUiBases,se,k),at.mutatedEvents=Me,(0,re.isInteractionValid)(at,m.dateProfile,k)||(rt=!0,se=null,Me=null,at.mutatedEvents=null)),k.dispatch(Me?{type:"SET_EVENT_RESIZE",state:at}:{type:"UNSET_EVENT_RESIZE"}),rt?(0,re.disableCursor)():(0,re.enableCursor)(),E||(se&&zC(q,m)&&(se=null),r.validMutation=se,r.mutatedRelevantEvents=Me)},r.handleDragEnd=function(m){var E=r.component.context,C=r.eventRange.def,k=r.eventRange.instance,O=new re.EventApi(E,C,k),q=r.relevantEvents,J=r.mutatedRelevantEvents;if(E.emitter.trigger("eventResizeStop",{el:r.draggingSegEl,event:O,jsEvent:m.origEvent,view:E.viewApi}),r.validMutation){var se=new re.EventApi(E,J.defs[C.defId],k?J.instances[k.instanceId]:null);E.dispatch({type:"MERGE_EVENTS",eventStore:J});var Me={oldEvent:O,event:se,relatedEvents:(0,re.buildEventApis)(J,E,k),revert:function(){E.dispatch({type:"MERGE_EVENTS",eventStore:q})}};E.emitter.trigger("eventResize",(0,Zt.__assign)((0,Zt.__assign)({},Me),{el:r.draggingSegEl,startDelta:r.validMutation.startDelta||(0,re.createDuration)(0),endDelta:r.validMutation.endDelta||(0,re.createDuration)(0),jsEvent:m.origEvent,view:E.viewApi})),E.emitter.trigger("eventChange",Me)}else E.emitter.trigger("_noEventResize");r.draggingSeg=null,r.relevantEvents=null,r.validMutation=null};var i=t.component,l=r.dragging=new Yv(t.el);l.pointer.selector=".fc-event-resizer",l.touchScrollAllowed=!1,l.autoScroller.isEnabled=i.context.options.dragScroll;var f=r.hitDragging=new yE(r.dragging,(0,re.interactionSettingsToStore)(t));return f.emitter.on("pointerdown",r.handlePointerDown),f.emitter.on("dragstart",r.handleDragStart),f.emitter.on("hitupdate",r.handleHitUpdate),f.emitter.on("dragend",r.handleDragEnd),r}return(0,Zt.__extends)(e,n),e.prototype.destroy=function(){this.dragging.destroy()},e.prototype.querySegEl=function(t){return(0,re.elementClosest)(t.subjectEl,".fc-event")},e}(re.Interaction),rU=function(){function n(e){var t=this;this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=function(i){i.jsEvent&&(t.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=function(i){var l=t.context.options.unselectCancel,f=(0,re.getEventTargetViaRoot)(i.origEvent);t.matchesCancel=!!(0,re.elementClosest)(f,l),t.matchesEvent=!!(0,re.elementClosest)(f,zk.SELECTOR)},this.onDocumentPointerUp=function(i){var l=t.context,f=t.documentPointer,m=l.getCurrentData();if(!f.wasTouchScroll){if(m.dateSelection&&!t.isRecentPointerDateSelect){var E=l.options.unselectAuto;E&&(!E||!t.matchesCancel)&&l.calendarApi.unselect(i)}m.eventSelection&&!t.matchesEvent&&l.dispatch({type:"UNSELECT_EVENT"})}t.isRecentPointerDateSelect=!1};var r=this.documentPointer=new $M(document);r.shouldIgnoreMove=!0,r.shouldWatchScroll=!1,r.emitter.on("pointerdown",this.onDocumentPointerDown),r.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}return n.prototype.destroy=function(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()},n}(),iU={fixedMirrorParent:re.identity},sU={dateClick:re.identity,eventDragStart:re.identity,eventDragStop:re.identity,eventDrop:re.identity,eventResizeStart:re.identity,eventResizeStop:re.identity,eventResize:re.identity,drop:re.identity,eventReceive:re.identity,eventLeave:re.identity};!function(){function n(e,t){var r=this;this.receivingContext=null,this.droppableEvent=null,this.suppliedDragMeta=null,this.dragMeta=null,this.handleDragStart=function(l){r.dragMeta=r.buildDragMeta(l.subjectEl)},this.handleHitUpdate=function(l,f,m){var E=r.hitDragging.dragging,C=null,k=null,O=!1,q={affectedEvents:(0,re.createEmptyEventStore)(),mutatedEvents:(0,re.createEmptyEventStore)(),isEvent:r.dragMeta.create};l&&r.canDropElOnCalendar(m.subjectEl,C=l.context)&&(k=function oU(n,e,t){for(var r=(0,Zt.__assign)({},e.leftoverProps),i=0,l=t.pluginHooks.externalDefTransforms;i<l.length;i++)(0,Zt.__assign)(r,(0,l[i])(n,e));var m=(0,re.refineEventDef)(r,t),k=(0,re.parseEventDef)(m.refined,m.extra,e.sourceId,n.allDay,t.options.forceEventDuration||Boolean(e.duration),t),O=n.range.start;n.allDay&&e.startTime&&(O=t.dateEnv.add(O,e.startTime));var q=e.duration?t.dateEnv.add(O,e.duration):(0,re.getDefaultEventEnd)(n.allDay,O,t);return{def:k,instance:(0,re.createEventInstance)(k.defId,{start:O,end:q})}}(l.dateSpan,r.dragMeta,C),q.mutatedEvents=(0,re.eventTupleToStore)(k),(O=!(0,re.isInteractionValid)(q,l.dateProfile,C))&&(q.mutatedEvents=(0,re.createEmptyEventStore)(),k=null)),r.displayDrag(C,q),E.setMirrorIsVisible(f||!k||!document.querySelector(".fc-event-mirror")),O?(0,re.disableCursor)():(0,re.enableCursor)(),f||(E.setMirrorNeedsRevert(!k),r.receivingContext=C,r.droppableEvent=k)},this.handleDragEnd=function(l){var m=r.receivingContext,E=r.droppableEvent;if(r.clearDrag(),m&&E){var C=r.hitDragging.finalHit,k=C.context.viewApi,O=r.dragMeta;if(m.emitter.trigger("drop",(0,Zt.__assign)((0,Zt.__assign)({},WM(C.dateSpan,m)),{draggedEl:l.subjectEl,jsEvent:l.origEvent,view:k})),O.create){var q=(0,re.eventTupleToStore)(E);m.dispatch({type:"MERGE_EVENTS",eventStore:q}),l.isTouch&&m.dispatch({type:"SELECT_EVENT",eventInstanceId:E.instance.instanceId}),m.emitter.trigger("eventReceive",{event:new re.EventApi(m,E.def,E.instance),relatedEvents:[],revert:function(){m.dispatch({type:"REMOVE_EVENTS",eventStore:q})},draggedEl:l.subjectEl,view:k})}}r.receivingContext=null,r.droppableEvent=null};var i=this.hitDragging=new yE(e,re.interactionSettingsStore);i.requireInitial=!1,i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd),this.suppliedDragMeta=t}n.prototype.buildDragMeta=function(e){return"object"==typeof this.suppliedDragMeta?(0,re.parseDragMeta)(this.suppliedDragMeta):"function"==typeof this.suppliedDragMeta?(0,re.parseDragMeta)(this.suppliedDragMeta(e)):function aU(n){var e=function lU(n,e){var t=re.config.dataAttrPrefix;return n.getAttribute("data-"+(t?t+"-":"")+e)||""}(n,"event"),t=e?JSON.parse(e):{create:!1};return(0,re.parseDragMeta)(t)}(e)},n.prototype.displayDrag=function(e,t){var r=this.receivingContext;r&&r!==e&&r.dispatch({type:"UNSET_EVENT_DRAG"}),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})},n.prototype.clearDrag=function(){this.receivingContext&&this.receivingContext.dispatch({type:"UNSET_EVENT_DRAG"})},n.prototype.canDropElOnCalendar=function(e,t){var r=t.options.dropAccept;return"function"==typeof r?r.call(t.calendarApi,e):"string"!=typeof r||!r||Boolean((0,re.elementMatches)(e,r))}}();re.config.dataAttrPrefix="";!function(n){function e(t){var r=n.call(this,t)||this;r.shouldIgnoreMove=!1,r.mirrorSelector="",r.currentMirrorEl=null,r.handlePointerDown=function(l){r.emitter.trigger("pointerdown",l),r.shouldIgnoreMove||r.emitter.trigger("dragstart",l)},r.handlePointerMove=function(l){r.shouldIgnoreMove||r.emitter.trigger("dragmove",l)},r.handlePointerUp=function(l){r.emitter.trigger("pointerup",l),r.shouldIgnoreMove||r.emitter.trigger("dragend",l)};var i=r.pointer=new $M(t);return i.emitter.on("pointerdown",r.handlePointerDown),i.emitter.on("pointermove",r.handlePointerMove),i.emitter.on("pointerup",r.handlePointerUp),r}(0,Zt.__extends)(e,n),e.prototype.destroy=function(){this.pointer.destroy()},e.prototype.setIgnoreMove=function(t){this.shouldIgnoreMove=t},e.prototype.setMirrorIsVisible=function(t){if(t)this.currentMirrorEl&&(this.currentMirrorEl.style.visibility="",this.currentMirrorEl=null);else{var r=this.mirrorSelector?document.querySelector(this.mirrorSelector):null;r&&(this.currentMirrorEl=r,r.style.visibility="hidden")}}}(re.ElementDragging);var cU=(0,re.createPlugin)({componentInteractions:[KB,QB,zk,tU],calendarInteractions:[rU],elementDraggingImpl:Yv,optionRefiners:iU,listenerRefiners:sU});P_.registerPlugins([NA,cU]);let fU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[wB]}),n.\u0275inj=h.cJS({providers:[Tk,Storage,HC],imports:[[Va.hO.initializeApp(Bk_firebase),zV,JV,xl,Gu,fB,vD,L_.forRoot(),P_,VB]]}),n})();(0,h.G48)(),oh().bootstrapModule(fU).catch(n=>console.error(n))},2559:Pt=>{"use strict";Pt.exports=function $e($,h){if($===h)return!0;if($&&h&&"object"==typeof $&&"object"==typeof h){if($.constructor!==h.constructor)return!1;var P,R,G;if(Array.isArray($)){if((P=$.length)!=h.length)return!1;for(R=P;0!=R--;)if(!$e($[R],h[R]))return!1;return!0}if($.constructor===RegExp)return $.source===h.source&&$.flags===h.flags;if($.valueOf!==Object.prototype.valueOf)return $.valueOf()===h.valueOf();if($.toString!==Object.prototype.toString)return $.toString()===h.toString();if((P=(G=Object.keys($)).length)!==Object.keys(h).length)return!1;for(R=P;0!=R--;)if(!Object.prototype.hasOwnProperty.call(h,G[R]))return!1;for(R=P;0!=R--;){var ne=G[R];if(!$e($[ne],h[ne]))return!1}return!0}return $!=$&&h!=h}},5867:(Pt,$e,$)=>{"use strict";$.d($e,{C6:()=>h.getApps,Mq:()=>h.getApp});var h=$(9681);(0,h.registerVersion)("firebase","9.8.1","app")},127:(Pt,$e,$)=>{"use strict";$.d($e,{Z:()=>h.Z});var h=$(3942);h.Z.registerVersion("firebase","9.8.1","app-compat")},5881:(Pt,$e,$)=>{"use strict";$.r($e);var h=$(5861),P=$(3942),R=$(198),G=$(2090),be=($(9681),$(1877),$(4859));function xe(){return window}function de(){return(de=(0,h.Z)(function*(Se,pe,he){var et;const{BuildInfo:At}=xe();(0,R.aq)(pe.sessionId,"AuthEvent did not contain a session ID");const jt=yield oe(pe.sessionId),rn={};return(0,R.ar)()?rn.ibi=At.packageName:(0,R.as)()?rn.apn=At.packageName:(0,R.at)(Se,"operation-not-supported-in-this-environment"),At.displayName&&(rn.appDisplayName=At.displayName),rn.sessionId=jt,(0,R.au)(Se,he,pe.type,void 0,null!==(et=pe.eventId)&&void 0!==et?et:void 0,rn)})).apply(this,arguments)}function F(){return(F=(0,h.Z)(function*(Se){const{BuildInfo:pe}=xe(),he={};(0,R.ar)()?he.iosBundleId=pe.packageName:(0,R.as)()?he.androidPackageName=pe.packageName:(0,R.at)(Se,"operation-not-supported-in-this-environment"),yield(0,R.av)(Se,he)})).apply(this,arguments)}function me(){return(me=(0,h.Z)(function*(Se,pe,he){const{cordova:et}=xe();let At=()=>{};try{yield new Promise((jt,rn)=>{let Fn=null;function Vt(){var Rn;jt();const Cr=null===(Rn=et.plugins.browsertab)||void 0===Rn?void 0:Rn.close;"function"==typeof Cr&&Cr(),"function"==typeof(null==he?void 0:he.close)&&he.close()}function vr(){Fn||(Fn=window.setTimeout(()=>{rn((0,R.aw)(Se,"redirect-cancelled-by-user"))},2e3))}function Lr(){"visible"===(null==document?void 0:document.visibilityState)&&vr()}pe.addPassiveListener(Vt),document.addEventListener("resume",vr,!1),(0,R.as)()&&document.addEventListener("visibilitychange",Lr,!1),At=()=>{pe.removePassiveListener(Vt),document.removeEventListener("resume",vr,!1),document.removeEventListener("visibilitychange",Lr,!1),Fn&&window.clearTimeout(Fn)}})}finally{At()}})).apply(this,arguments)}function oe(Se){return je.apply(this,arguments)}function je(){return(je=(0,h.Z)(function*(Se){const pe=Qe(Se),he=yield crypto.subtle.digest("SHA-256",pe);return Array.from(new Uint8Array(he)).map(At=>At.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Qe(Se){if((0,R.aq)(/[0-9a-zA-Z]+/.test(Se),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(Se);const pe=new ArrayBuffer(Se.length),he=new Uint8Array(pe);for(let et=0;et<Se.length;et++)he[et]=Se.charCodeAt(et);return he}class Ye extends R.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(pe=>{this.resolveInialized=pe})}addPassiveListener(pe){this.passiveListeners.add(pe)}removePassiveListener(pe){this.passiveListeners.delete(pe)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(pe){return this.resolveInialized(),this.passiveListeners.forEach(he=>he(pe)),super.onEvent(pe)}initialized(){var pe=this;return(0,h.Z)(function*(){yield pe.initPromise})()}}function Te(Se){return Re.apply(this,arguments)}function Re(){return(Re=(0,h.Z)(function*(Se){const pe=yield Fe()._get(Be(Se));return pe&&(yield Fe()._remove(Be(Se))),pe})).apply(this,arguments)}function Ie(){const Se=[],pe="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let he=0;he<20;he++){const et=Math.floor(Math.random()*pe.length);Se.push(pe.charAt(et))}return Se.join("")}function Fe(){return(0,R.ay)(R.b)}function Be(Se){return(0,R.az)("authEvent",Se.config.apiKey,Se.name)}function $t(Se){if(!(null==Se?void 0:Se.includes("?")))return{};const[pe,...he]=Se.split("?");return(0,G.zd)(he.join("?"))}function Gt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,R.aw)("no-auth-event")}}function Ae(){var Se;return(null===(Se=null==self?void 0:self.location)||void 0===Se?void 0:Se.protocol)||null}function Ve(Se=(0,G.z$)()){return!("file:"!==Ae()&&"ionic:"!==Ae()||!Se.toLowerCase().match(/iphone|ipad|ipod|android/))}function on(){try{const Se=self.localStorage,pe=R.aI();if(Se)return Se.setItem(pe,"1"),Se.removeItem(pe),!function Ft(Se=(0,G.z$)()){return function wt(){return(0,G.w1)()&&11===(null==document?void 0:document.documentMode)}()||function qe(Se=(0,G.z$)()){return/Edge\/\d+/.test(Se)}(Se)}()||(0,G.hl)()}catch(Se){return hn()&&(0,G.hl)()}return!1}function hn(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function fn(){return(function Ee(){return"http:"===Ae()||"https:"===Ae()}()||(0,G.ru)()||Ve())&&!function lt(){return(0,G.b$)()||(0,G.UG)()}()&&on()&&!hn()}function Ze(){return Ve()&&"undefined"!=typeof document}function en(){return(en=(0,h.Z)(function*(){return!!Ze()&&new Promise(Se=>{const pe=setTimeout(()=>{Se(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(pe),Se(!0)})})})).apply(this,arguments)}const Lt={LOCAL:"local",NONE:"none",SESSION:"session"},er=R.ax,An="persistence";function Dn(Se){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,h.Z)(function*(Se){yield Se._initializationPromise;const pe=un(),he=R.az(An,Se.config.apiKey,Se.name);pe&&pe.setItem(he,Se._getPersistence())})).apply(this,arguments)}function un(){var Se;try{return(null===(Se=function yt(){return"undefined"!=typeof window?window:null}())||void 0===Se?void 0:Se.sessionStorage)||null}catch(pe){return null}}const qt=R.ax;class Rt{constructor(){this.browserResolver=R.ay(R.k),this.cordovaResolver=R.ay(class Xn{constructor(){this._redirectPersistence=R.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=R.aB,this._overrideRedirectResult=R.aC}_initialize(pe){var he=this;return(0,h.Z)(function*(){const et=pe._key();let At=he.eventManagers.get(et);return At||(At=new Ye(pe),he.eventManagers.set(et,At),he.attachCallbackListeners(pe,At)),At})()}_openPopup(pe){(0,R.at)(pe,"operation-not-supported-in-this-environment")}_openRedirect(pe,he,et,At){var jt=this;return(0,h.Z)(function*(){!function ce(Se){var pe,he,et,At,jt,rn,Fn,Vt,vr,Lr;const Rn=xe();(0,R.ax)("function"==typeof(null===(pe=null==Rn?void 0:Rn.universalLinks)||void 0===pe?void 0:pe.subscribe),Se,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,R.ax)(void 0!==(null===(he=null==Rn?void 0:Rn.BuildInfo)||void 0===he?void 0:he.packageName),Se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,R.ax)("function"==typeof(null===(jt=null===(At=null===(et=null==Rn?void 0:Rn.cordova)||void 0===et?void 0:et.plugins)||void 0===At?void 0:At.browsertab)||void 0===jt?void 0:jt.openUrl),Se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.ax)("function"==typeof(null===(Vt=null===(Fn=null===(rn=null==Rn?void 0:Rn.cordova)||void 0===rn?void 0:rn.plugins)||void 0===Fn?void 0:Fn.browsertab)||void 0===Vt?void 0:Vt.isAvailable),Se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.ax)("function"==typeof(null===(Lr=null===(vr=null==Rn?void 0:Rn.cordova)||void 0===vr?void 0:vr.InAppBrowser)||void 0===Lr?void 0:Lr.open),Se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(pe);const rn=yield jt._initialize(pe);yield rn.initialized(),rn.resetRedirect(),(0,R.aD)(),yield jt._originValidation(pe);const Fn=function ze(Se,pe,he=null){return{type:pe,eventId:he,urlResponse:null,sessionId:Ie(),postBody:null,tenantId:Se.tenantId,error:(0,R.aw)(Se,"no-auth-event")}}(pe,et,At);yield function vt(Se,pe){return Fe()._set(Be(Se),pe)}(pe,Fn);const Vt=yield function X(Se,pe,he){return de.apply(this,arguments)}(pe,Fn,he),vr=yield function U(Se){const{cordova:pe}=xe();return new Promise(he=>{pe.plugins.browsertab.isAvailable(et=>{let At=null;et?pe.plugins.browsertab.openUrl(Se):At=pe.InAppBrowser.open(Se,(0,R.ap)()?"_blank":"_system","location=yes"),he(At)})})}(Vt);return function ie(Se,pe,he){return me.apply(this,arguments)}(pe,rn,vr)})()}_isIframeWebStorageSupported(pe,he){throw new Error("Method not implemented.")}_originValidation(pe){const he=pe._key();return this.originValidationPromises[he]||(this.originValidationPromises[he]=function T(Se){return F.apply(this,arguments)}(pe)),this.originValidationPromises[he]}attachCallbackListeners(pe,he){const{universalLinks:et,handleOpenURL:At,BuildInfo:jt}=xe(),rn=setTimeout((0,h.Z)(function*(){yield Te(pe),he.onEvent(Gt())}),500),Fn=function(){var Lr=(0,h.Z)(function*(Rn){clearTimeout(rn);const Cr=yield Te(pe);let si=null;Cr&&(null==Rn?void 0:Rn.url)&&(si=function fe(Se,pe){var he,et;const At=function ke(Se){const pe=$t(Se),he=pe.link?decodeURIComponent(pe.link):void 0,et=$t(he).link,At=pe.deep_link_id?decodeURIComponent(pe.deep_link_id):void 0;return $t(At).link||At||et||he||Se}(pe);if(At.includes("/__/auth/callback")){const jt=$t(At),rn=jt.firebaseError?function Xe(Se){try{return JSON.parse(Se)}catch(pe){return null}}(decodeURIComponent(jt.firebaseError)):null,Fn=null===(et=null===(he=null==rn?void 0:rn.code)||void 0===he?void 0:he.split("auth/"))||void 0===et?void 0:et[1],Vt=Fn?(0,R.aw)(Fn):null;return Vt?{type:Se.type,eventId:Se.eventId,tenantId:Se.tenantId,error:Vt,urlResponse:null,sessionId:null,postBody:null}:{type:Se.type,eventId:Se.eventId,tenantId:Se.tenantId,sessionId:Se.sessionId,urlResponse:At,postBody:null}}return null}(Cr,Rn.url)),he.onEvent(si||Gt())});return function(Cr){return Lr.apply(this,arguments)}}();void 0!==et&&"function"==typeof et.subscribe&&et.subscribe(null,Fn);const Vt=At,vr=`${jt.packageName.toLowerCase()}://`;xe().handleOpenURL=function(){var Lr=(0,h.Z)(function*(Rn){if(Rn.toLowerCase().startsWith(vr)&&Fn({url:Rn}),"function"==typeof Vt)try{Vt(Rn)}catch(Cr){console.error(Cr)}});return function(Rn){return Lr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=R.a,this._completeRedirectFn=R.aB,this._overrideRedirectResult=R.aC}_initialize(pe){var he=this;return(0,h.Z)(function*(){return yield he.selectUnderlyingResolver(),he.assertedUnderlyingResolver._initialize(pe)})()}_openPopup(pe,he,et,At){var jt=this;return(0,h.Z)(function*(){return yield jt.selectUnderlyingResolver(),jt.assertedUnderlyingResolver._openPopup(pe,he,et,At)})()}_openRedirect(pe,he,et,At){var jt=this;return(0,h.Z)(function*(){return yield jt.selectUnderlyingResolver(),jt.assertedUnderlyingResolver._openRedirect(pe,he,et,At)})()}_isIframeWebStorageSupported(pe,he){this.assertedUnderlyingResolver._isIframeWebStorageSupported(pe,he)}_originValidation(pe){return this.assertedUnderlyingResolver._originValidation(pe)}get _shouldInitProactively(){return Ze()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return qt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var pe=this;return(0,h.Z)(function*(){if(pe.underlyingResolver)return;const he=yield function Ct(){return en.apply(this,arguments)}();pe.underlyingResolver=he?pe.cordovaResolver:pe.browserResolver})()}}function tr(Se){return Se.unwrap()}function yn(Se){return nr(Se)}function nr(Se){const{_tokenResponse:pe}=Se instanceof G.ZR?Se.customData:Se;if(!pe)return null;if(!(Se instanceof G.ZR)&&"temporaryProof"in pe&&"phoneNumber"in pe)return R.P.credentialFromResult(Se);const he=pe.providerId;if(!he||he===R.o.PASSWORD)return null;let et;switch(he){case R.o.GOOGLE:et=R.Q;break;case R.o.FACEBOOK:et=R.N;break;case R.o.GITHUB:et=R.T;break;case R.o.TWITTER:et=R.W;break;default:const{oauthIdToken:At,oauthAccessToken:jt,oauthTokenSecret:rn,pendingToken:Fn,nonce:Vt}=pe;return jt||rn||At||Fn?Fn?he.startsWith("saml.")?R.aL._create(he,Fn):R.J._fromParams({providerId:he,signInMethod:he,pendingToken:Fn,idToken:At,accessToken:jt}):new R.U(he).credential({idToken:At,accessToken:jt,rawNonce:Vt}):null}return Se instanceof G.ZR?et.credentialFromError(Se):et.credentialFromResult(Se)}function Tn(Se,pe){return pe.catch(he=>{throw he instanceof G.ZR&&function wr(Se,pe){var he;const et=null===(he=pe.customData)||void 0===he?void 0:he._tokenResponse;if("auth/multi-factor-auth-required"===pe.code)pe.resolver=new B(Se,R.an(Se,pe));else if(et){const At=nr(pe),jt=pe;At&&(jt.credential=At,jt.tenantId=et.tenantId||void 0,jt.email=et.email||void 0,jt.phoneNumber=et.phoneNumber||void 0)}}(Se,he),he}).then(he=>{const At=he.user;return{operationType:he.operationType,credential:yn(he),additionalUserInfo:R.al(he),user:Y.getOrCreate(At)}})}function ue(Se,pe){return ye.apply(this,arguments)}function ye(){return(ye=(0,h.Z)(function*(Se,pe){const he=yield pe;return{verificationId:he.verificationId,confirm:et=>Tn(Se,he.confirm(et))}})).apply(this,arguments)}class B{constructor(pe,he){this.resolver=he,this.auth=function Nr(Se){return Se.wrapped()}(pe)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(pe){return Tn(tr(this.auth),this.resolver.resolveSignIn(pe))}}class Y{constructor(pe){this._delegate=pe,this.multiFactor=R.ao(pe)}static getOrCreate(pe){return Y.USER_MAP.has(pe)||Y.USER_MAP.set(pe,new Y(pe)),Y.USER_MAP.get(pe)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(pe){return this._delegate.getIdTokenResult(pe)}getIdToken(pe){return this._delegate.getIdToken(pe)}linkAndRetrieveDataWithCredential(pe){return this.linkWithCredential(pe)}linkWithCredential(pe){var he=this;return(0,h.Z)(function*(){return Tn(he.auth,R.Z(he._delegate,pe))})()}linkWithPhoneNumber(pe,he){var et=this;return(0,h.Z)(function*(){return ue(et.auth,R.l(et._delegate,pe,he))})()}linkWithPopup(pe){var he=this;return(0,h.Z)(function*(){return Tn(he.auth,R.d(he._delegate,pe,Rt))})()}linkWithRedirect(pe){var he=this;return(0,h.Z)(function*(){return yield Dn(R.aE(he.auth)),R.g(he._delegate,pe,Rt)})()}reauthenticateAndRetrieveDataWithCredential(pe){return this.reauthenticateWithCredential(pe)}reauthenticateWithCredential(pe){var he=this;return(0,h.Z)(function*(){return Tn(he.auth,R._(he._delegate,pe))})()}reauthenticateWithPhoneNumber(pe,he){return ue(this.auth,R.r(this._delegate,pe,he))}reauthenticateWithPopup(pe){return Tn(this.auth,R.e(this._delegate,pe,Rt))}reauthenticateWithRedirect(pe){var he=this;return(0,h.Z)(function*(){return yield Dn(R.aE(he.auth)),R.h(he._delegate,pe,Rt)})()}sendEmailVerification(pe){return R.ab(this._delegate,pe)}unlink(pe){var he=this;return(0,h.Z)(function*(){return yield R.ak(he._delegate,pe),he})()}updateEmail(pe){return R.ag(this._delegate,pe)}updatePassword(pe){return R.ah(this._delegate,pe)}updatePhoneNumber(pe){return R.u(this._delegate,pe)}updateProfile(pe){return R.af(this._delegate,pe)}verifyBeforeUpdateEmail(pe,he){return R.ac(this._delegate,pe,he)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Y.USER_MAP=new WeakMap;const W=R.ax;let le=(()=>{class Se{constructor(he,et){if(this.app=he,et.isInitialized())return this._delegate=et.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:At}=he.options;W(At,"invalid-api-key",{appName:he.name}),W(At,"invalid-api-key",{appName:he.name});const jt="undefined"!=typeof window?Rt:void 0;this._delegate=et.initialize({options:{persistence:ge(At,he.name),popupRedirectResolver:jt}}),this._delegate._updateErrorMap(R.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Y.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(he){this._delegate.languageCode=he}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(he){this._delegate.tenantId=he}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(he,et){R.G(this._delegate,he,et)}applyActionCode(he){return R.a2(this._delegate,he)}checkActionCode(he){return R.a3(this._delegate,he)}confirmPasswordReset(he,et){return R.a1(this._delegate,he,et)}createUserWithEmailAndPassword(he,et){var At=this;return(0,h.Z)(function*(){return Tn(At._delegate,R.a5(At._delegate,he,et))})()}fetchProvidersForEmail(he){return this.fetchSignInMethodsForEmail(he)}fetchSignInMethodsForEmail(he){return R.aa(this._delegate,he)}isSignInWithEmailLink(he){return R.a8(this._delegate,he)}getRedirectResult(){var he=this;return(0,h.Z)(function*(){W(fn(),he._delegate,"operation-not-supported-in-this-environment");const et=yield R.j(he._delegate,Rt);return et?Tn(he._delegate,Promise.resolve(et)):{credential:null,user:null}})()}addFrameworkForLogging(he){!function qn(Se,pe){(0,R.aE)(Se)._logFramework(pe)}(this._delegate,he)}onAuthStateChanged(he,et,At){const{next:jt,error:rn,complete:Fn}=ae(he,et,At);return this._delegate.onAuthStateChanged(jt,rn,Fn)}onIdTokenChanged(he,et,At){const{next:jt,error:rn,complete:Fn}=ae(he,et,At);return this._delegate.onIdTokenChanged(jt,rn,Fn)}sendSignInLinkToEmail(he,et){return R.a7(this._delegate,he,et)}sendPasswordResetEmail(he,et){return R.a0(this._delegate,he,et||void 0)}setPersistence(he){var et=this;return(0,h.Z)(function*(){let At;switch(function xn(Se,pe){er(Object.values(Lt).includes(pe),Se,"invalid-persistence-type"),(0,G.b$)()?er(pe!==Lt.SESSION,Se,"unsupported-persistence-type"):(0,G.UG)()?er(pe===Lt.NONE,Se,"unsupported-persistence-type"):hn()?er(pe===Lt.NONE||pe===Lt.LOCAL&&(0,G.hl)(),Se,"unsupported-persistence-type"):er(pe===Lt.NONE||on(),Se,"unsupported-persistence-type")}(et._delegate,he),he){case Lt.SESSION:At=R.a;break;case Lt.LOCAL:At=(yield R.ay(R.i)._isAvailable())?R.i:R.b;break;case Lt.NONE:At=R.L;break;default:return R.at("argument-error",{appName:et._delegate.name})}return et._delegate.setPersistence(At)})()}signInAndRetrieveDataWithCredential(he){return this.signInWithCredential(he)}signInAnonymously(){return Tn(this._delegate,R.X(this._delegate))}signInWithCredential(he){return Tn(this._delegate,R.Y(this._delegate,he))}signInWithCustomToken(he){return Tn(this._delegate,R.$(this._delegate,he))}signInWithEmailAndPassword(he,et){return Tn(this._delegate,R.a6(this._delegate,he,et))}signInWithEmailLink(he,et){return Tn(this._delegate,R.a9(this._delegate,he,et))}signInWithPhoneNumber(he,et){return ue(this._delegate,R.s(this._delegate,he,et))}signInWithPopup(he){var et=this;return(0,h.Z)(function*(){return W(fn(),et._delegate,"operation-not-supported-in-this-environment"),Tn(et._delegate,R.c(et._delegate,he,Rt))})()}signInWithRedirect(he){var et=this;return(0,h.Z)(function*(){return W(fn(),et._delegate,"operation-not-supported-in-this-environment"),yield Dn(et._delegate),R.f(et._delegate,he,Rt)})()}updateCurrentUser(he){return this._delegate.updateCurrentUser(he)}verifyPasswordResetCode(he){return R.a4(this._delegate,he)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Se.Persistence=Lt,Se})();function ae(Se,pe,he){let et=Se;"function"!=typeof Se&&({next:et,error:pe,complete:he}=Se);const At=et;return{next:rn=>At(rn&&Y.getOrCreate(rn)),error:pe,complete:he}}function ge(Se,pe){const he=function ln(Se,pe){const he=un();if(!he)return[];const et=R.az(An,Se,pe);switch(he.getItem(et)){case Lt.NONE:return[R.L];case Lt.LOCAL:return[R.i,R.a];case Lt.SESSION:return[R.a];default:return[]}}(Se,pe);if("undefined"!=typeof self&&!he.includes(R.i)&&he.push(R.i),"undefined"!=typeof window)for(const et of[R.b,R.a])he.includes(et)||he.push(et);return he.includes(R.L)||he.push(R.L),he}class Pe{constructor(){this.providerId="phone",this._delegate=new R.P(tr(P.Z.auth()))}static credential(pe,he){return R.P.credential(pe,he)}verifyPhoneNumber(pe,he){return this._delegate.verifyPhoneNumber(pe,he)}unwrap(){return this._delegate}}Pe.PHONE_SIGN_IN_METHOD=R.P.PHONE_SIGN_IN_METHOD,Pe.PROVIDER_ID=R.P.PROVIDER_ID;const st=R.ax;class pt{constructor(pe,he,et=P.Z.app()){var At;st(null===(At=et.options)||void 0===At?void 0:At.apiKey,"invalid-api-key",{appName:et.name}),this._delegate=new R.R(pe,he,et.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function zt(Se){Se.INTERNAL.registerComponent(new be.wA("auth-compat",pe=>{const he=pe.getProvider("app-compat").getImmediate(),et=pe.getProvider("auth");return new le(he,et)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:R.A.EMAIL_SIGNIN,PASSWORD_RESET:R.A.PASSWORD_RESET,RECOVER_EMAIL:R.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:R.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:R.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:R.A.VERIFY_EMAIL}},EmailAuthProvider:R.M,FacebookAuthProvider:R.N,GithubAuthProvider:R.T,GoogleAuthProvider:R.Q,OAuthProvider:R.U,SAMLAuthProvider:R.V,PhoneAuthProvider:Pe,PhoneMultiFactorGenerator:R.m,RecaptchaVerifier:pt,TwitterAuthProvider:R.W,Auth:le,AuthCredential:R.H,Error:G.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Se.registerVersion("@firebase/auth-compat","0.2.14")}(P.Z)},6461:(Pt,$e)=>{var h;!function(){"use strict";var P=function(){this.init()};P.prototype={init:function(){var T=this||R;return T._counter=1e3,T._html5AudioPool=[],T.html5PoolSize=10,T._codecs={},T._howls=[],T._muted=!1,T._volume=1,T._canPlayEvent="canplaythrough",T._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,T.masterGain=null,T.noAudio=!1,T.usingWebAudio=!0,T.autoSuspend=!0,T.ctx=null,T.autoUnlock=!0,T._setup(),T},volume:function(T){var F=this||R;if(T=parseFloat(T),F.ctx||de(),void 0!==T&&T>=0&&T<=1){if(F._volume=T,F._muted)return F;F.usingWebAudio&&F.masterGain.gain.setValueAtTime(T,R.ctx.currentTime);for(var U=0;U<F._howls.length;U++)if(!F._howls[U]._webAudio)for(var ie=F._howls[U]._getSoundIds(),me=0;me<ie.length;me++){var ce=F._howls[U]._soundById(ie[me]);ce&&ce._node&&(ce._node.volume=ce._volume*T)}return F}return F._volume},mute:function(T){var F=this||R;F.ctx||de(),F._muted=T,F.usingWebAudio&&F.masterGain.gain.setValueAtTime(T?0:F._volume,R.ctx.currentTime);for(var U=0;U<F._howls.length;U++)if(!F._howls[U]._webAudio)for(var ie=F._howls[U]._getSoundIds(),me=0;me<ie.length;me++){var ce=F._howls[U]._soundById(ie[me]);ce&&ce._node&&(ce._node.muted=!!T||ce._muted)}return F},stop:function(){for(var T=this||R,F=0;F<T._howls.length;F++)T._howls[F].stop();return T},unload:function(){for(var T=this||R,F=T._howls.length-1;F>=0;F--)T._howls[F].unload();return T.usingWebAudio&&T.ctx&&void 0!==T.ctx.close&&(T.ctx.close(),T.ctx=null,de()),T},codecs:function(T){return(this||R)._codecs[T.replace(/^x-/,"")]},_setup:function(){var T=this||R;if(T.state=T.ctx&&T.ctx.state||"suspended",T._autoSuspend(),!T.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(T._canPlayEvent="canplay")}catch(U){T.noAudio=!0}else T.noAudio=!0;try{(new Audio).muted&&(T.noAudio=!0)}catch(U){}return T.noAudio||T._setupCodecs(),T},_setupCodecs:function(){var T=this||R,F=null;try{F="undefined"!=typeof Audio?new Audio:null}catch(We){return T}if(!F||"function"!=typeof F.canPlayType)return T;var U=F.canPlayType("audio/mpeg;").replace(/^no$/,""),ie=T._navigator?T._navigator.userAgent:"",me=ie.match(/OPR\/([0-6].)/g),ce=me&&parseInt(me[0].split("/")[1],10)<33,oe=-1!==ie.indexOf("Safari")&&-1===ie.indexOf("Chrome"),je=ie.match(/Version\/(.*?) /),Qe=oe&&je&&parseInt(je[1],10)<15;return T._codecs={mp3:!(ce||!U&&!F.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!U,opus:!!F.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!F.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!F.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(F.canPlayType('audio/wav; codecs="1"')||F.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!F.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!F.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(F.canPlayType("audio/x-m4a;")||F.canPlayType("audio/m4a;")||F.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(F.canPlayType("audio/x-m4b;")||F.canPlayType("audio/m4b;")||F.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(F.canPlayType("audio/x-mp4;")||F.canPlayType("audio/mp4;")||F.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(Qe||!F.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(Qe||!F.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!F.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(F.canPlayType("audio/x-flac;")||F.canPlayType("audio/flac;")).replace(/^no$/,"")},T},_unlockAudio:function(){var T=this||R;if(!T._audioUnlocked&&T.ctx){T._audioUnlocked=!1,T.autoUnlock=!1,!T._mobileUnloaded&&44100!==T.ctx.sampleRate&&(T._mobileUnloaded=!0,T.unload()),T._scratchBuffer=T.ctx.createBuffer(1,1,22050);var F=function(U){for(;T._html5AudioPool.length<T.html5PoolSize;)try{var ie=new Audio;ie._unlocked=!0,T._releaseHtml5Audio(ie)}catch(We){T.noAudio=!0;break}for(var me=0;me<T._howls.length;me++)if(!T._howls[me]._webAudio)for(var ce=T._howls[me]._getSoundIds(),oe=0;oe<ce.length;oe++){var je=T._howls[me]._soundById(ce[oe]);je&&je._node&&!je._node._unlocked&&(je._node._unlocked=!0,je._node.load())}T._autoResume();var Qe=T.ctx.createBufferSource();Qe.buffer=T._scratchBuffer,Qe.connect(T.ctx.destination),void 0===Qe.start?Qe.noteOn(0):Qe.start(0),"function"==typeof T.ctx.resume&&T.ctx.resume(),Qe.onended=function(){Qe.disconnect(0),T._audioUnlocked=!0,document.removeEventListener("touchstart",F,!0),document.removeEventListener("touchend",F,!0),document.removeEventListener("click",F,!0),document.removeEventListener("keydown",F,!0);for(var We=0;We<T._howls.length;We++)T._howls[We]._emit("unlock")}};return document.addEventListener("touchstart",F,!0),document.addEventListener("touchend",F,!0),document.addEventListener("click",F,!0),document.addEventListener("keydown",F,!0),T}},_obtainHtml5Audio:function(){var T=this||R;if(T._html5AudioPool.length)return T._html5AudioPool.pop();var F=(new Audio).play();return F&&"undefined"!=typeof Promise&&(F instanceof Promise||"function"==typeof F.then)&&F.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(T){var F=this||R;return T._unlocked&&F._html5AudioPool.push(T),F},_autoSuspend:function(){var T=this;if(T.autoSuspend&&T.ctx&&void 0!==T.ctx.suspend&&R.usingWebAudio){for(var F=0;F<T._howls.length;F++)if(T._howls[F]._webAudio)for(var U=0;U<T._howls[F]._sounds.length;U++)if(!T._howls[F]._sounds[U]._paused)return T;return T._suspendTimer&&clearTimeout(T._suspendTimer),T._suspendTimer=setTimeout(function(){if(T.autoSuspend){T._suspendTimer=null,T.state="suspending";var ie=function(){T.state="suspended",T._resumeAfterSuspend&&(delete T._resumeAfterSuspend,T._autoResume())};T.ctx.suspend().then(ie,ie)}},3e4),T}},_autoResume:function(){var T=this;if(T.ctx&&void 0!==T.ctx.resume&&R.usingWebAudio)return"running"===T.state&&"interrupted"!==T.ctx.state&&T._suspendTimer?(clearTimeout(T._suspendTimer),T._suspendTimer=null):"suspended"===T.state||"running"===T.state&&"interrupted"===T.ctx.state?(T.ctx.resume().then(function(){T.state="running";for(var F=0;F<T._howls.length;F++)T._howls[F]._emit("resume")}),T._suspendTimer&&(clearTimeout(T._suspendTimer),T._suspendTimer=null)):"suspending"===T.state&&(T._resumeAfterSuspend=!0),T}};var R=new P,G=function(T){T.src&&0!==T.src.length?this.init(T):console.error("An array of source files must be passed with any new Howl.")};G.prototype={init:function(T){var F=this;return R.ctx||de(),F._autoplay=T.autoplay||!1,F._format="string"!=typeof T.format?T.format:[T.format],F._html5=T.html5||!1,F._muted=T.mute||!1,F._loop=T.loop||!1,F._pool=T.pool||5,F._preload="boolean"!=typeof T.preload&&"metadata"!==T.preload||T.preload,F._rate=T.rate||1,F._sprite=T.sprite||{},F._src="string"!=typeof T.src?T.src:[T.src],F._volume=void 0!==T.volume?T.volume:1,F._xhr={method:T.xhr&&T.xhr.method?T.xhr.method:"GET",headers:T.xhr&&T.xhr.headers?T.xhr.headers:null,withCredentials:!(!T.xhr||!T.xhr.withCredentials)&&T.xhr.withCredentials},F._duration=0,F._state="unloaded",F._sounds=[],F._endTimers={},F._queue=[],F._playLock=!1,F._onend=T.onend?[{fn:T.onend}]:[],F._onfade=T.onfade?[{fn:T.onfade}]:[],F._onload=T.onload?[{fn:T.onload}]:[],F._onloaderror=T.onloaderror?[{fn:T.onloaderror}]:[],F._onplayerror=T.onplayerror?[{fn:T.onplayerror}]:[],F._onpause=T.onpause?[{fn:T.onpause}]:[],F._onplay=T.onplay?[{fn:T.onplay}]:[],F._onstop=T.onstop?[{fn:T.onstop}]:[],F._onmute=T.onmute?[{fn:T.onmute}]:[],F._onvolume=T.onvolume?[{fn:T.onvolume}]:[],F._onrate=T.onrate?[{fn:T.onrate}]:[],F._onseek=T.onseek?[{fn:T.onseek}]:[],F._onunlock=T.onunlock?[{fn:T.onunlock}]:[],F._onresume=[],F._webAudio=R.usingWebAudio&&!F._html5,void 0!==R.ctx&&R.ctx&&R.autoUnlock&&R._unlockAudio(),R._howls.push(F),F._autoplay&&F._queue.push({event:"play",action:function(){F.play()}}),F._preload&&"none"!==F._preload&&F.load(),F},load:function(){var T=this,F=null;if(R.noAudio)T._emit("loaderror",null,"No audio support.");else{"string"==typeof T._src&&(T._src=[T._src]);for(var U=0;U<T._src.length;U++){var ie,me;if(T._format&&T._format[U])ie=T._format[U];else{if("string"!=typeof(me=T._src[U])){T._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(ie=/^data:audio\/([^;,]+);/i.exec(me))||(ie=/\.([^.]+)$/.exec(me.split("?",1)[0])),ie&&(ie=ie[1].toLowerCase())}if(ie||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),ie&&R.codecs(ie)){F=T._src[U];break}}if(F)return T._src=F,T._state="loading","https:"===window.location.protocol&&"http:"===F.slice(0,5)&&(T._html5=!0,T._webAudio=!1),new ne(T),T._webAudio&&be(T),T;T._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(T,F){var U=this,ie=null;if("number"==typeof T)ie=T,T=null;else{if("string"==typeof T&&"loaded"===U._state&&!U._sprite[T])return null;if(void 0===T&&(T="__default",!U._playLock)){for(var me=0,ce=0;ce<U._sounds.length;ce++)U._sounds[ce]._paused&&!U._sounds[ce]._ended&&(me++,ie=U._sounds[ce]._id);1===me?T=null:ie=null}}var oe=ie?U._soundById(ie):U._inactiveSound();if(!oe)return null;if(ie&&!T&&(T=oe._sprite||"__default"),"loaded"!==U._state){oe._sprite=T,oe._ended=!1;var je=oe._id;return U._queue.push({event:"play",action:function(){U.play(je)}}),je}if(ie&&!oe._paused)return F||U._loadQueue("play"),oe._id;U._webAudio&&R._autoResume();var Qe=Math.max(0,oe._seek>0?oe._seek:U._sprite[T][0]/1e3),We=Math.max(0,(U._sprite[T][0]+U._sprite[T][1])/1e3-Qe),Ye=1e3*We/Math.abs(oe._rate),ze=U._sprite[T][0]/1e3,vt=(U._sprite[T][0]+U._sprite[T][1])/1e3;oe._sprite=T,oe._ended=!1;var Te=function(){oe._paused=!1,oe._seek=Qe,oe._start=ze,oe._stop=vt,oe._loop=!(!oe._loop&&!U._sprite[T][2])};if(!(Qe>=vt)){var Re=oe._node;if(U._webAudio){var fe=function(){U._playLock=!1,Te(),U._refreshBuffer(oe),Re.gain.setValueAtTime(oe._muted||U._muted?0:oe._volume,R.ctx.currentTime),oe._playStart=R.ctx.currentTime,void 0===Re.bufferSource.start?Re.bufferSource.noteGrainOn(0,Qe,oe._loop?86400:We):Re.bufferSource.start(0,Qe,oe._loop?86400:We),Ye!==1/0&&(U._endTimers[oe._id]=setTimeout(U._ended.bind(U,oe),Ye)),F||setTimeout(function(){U._emit("play",oe._id),U._loadQueue()},0)};"running"===R.state&&"interrupted"!==R.ctx.state?fe():(U._playLock=!0,U.once("resume",fe),U._clearTimer(oe._id))}else{var Ie=function(){Re.currentTime=Qe,Re.muted=oe._muted||U._muted||R._muted||Re.muted,Re.volume=oe._volume*R.volume(),Re.playbackRate=oe._rate;try{var Xe=Re.play();if(Xe&&"undefined"!=typeof Promise&&(Xe instanceof Promise||"function"==typeof Xe.then)?(U._playLock=!0,Te(),Xe.then(function(){U._playLock=!1,Re._unlocked=!0,F?U._loadQueue():U._emit("play",oe._id)}).catch(function(){U._playLock=!1,U._emit("playerror",oe._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),oe._ended=!0,oe._paused=!0})):F||(U._playLock=!1,Te(),U._emit("play",oe._id)),Re.playbackRate=oe._rate,Re.paused)return void U._emit("playerror",oe._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==T||oe._loop?U._endTimers[oe._id]=setTimeout(U._ended.bind(U,oe),Ye):(U._endTimers[oe._id]=function(){U._ended(oe),Re.removeEventListener("ended",U._endTimers[oe._id],!1)},Re.addEventListener("ended",U._endTimers[oe._id],!1))}catch(ke){U._emit("playerror",oe._id,ke)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===Re.src&&(Re.src=U._src,Re.load());var Fe=window&&window.ejecta||!Re.readyState&&R._navigator.isCocoonJS;if(Re.readyState>=3||Fe)Ie();else{U._playLock=!0,U._state="loading";var Be=function(){U._state="loaded",Ie(),Re.removeEventListener(R._canPlayEvent,Be,!1)};Re.addEventListener(R._canPlayEvent,Be,!1),U._clearTimer(oe._id)}}return oe._id}U._ended(oe)},pause:function(T){var F=this;if("loaded"!==F._state||F._playLock)return F._queue.push({event:"pause",action:function(){F.pause(T)}}),F;for(var U=F._getSoundIds(T),ie=0;ie<U.length;ie++){F._clearTimer(U[ie]);var me=F._soundById(U[ie]);if(me&&!me._paused&&(me._seek=F.seek(U[ie]),me._rateSeek=0,me._paused=!0,F._stopFade(U[ie]),me._node))if(F._webAudio){if(!me._node.bufferSource)continue;void 0===me._node.bufferSource.stop?me._node.bufferSource.noteOff(0):me._node.bufferSource.stop(0),F._cleanBuffer(me._node)}else(!isNaN(me._node.duration)||me._node.duration===1/0)&&me._node.pause();arguments[1]||F._emit("pause",me?me._id:null)}return F},stop:function(T,F){var U=this;if("loaded"!==U._state||U._playLock)return U._queue.push({event:"stop",action:function(){U.stop(T)}}),U;for(var ie=U._getSoundIds(T),me=0;me<ie.length;me++){U._clearTimer(ie[me]);var ce=U._soundById(ie[me]);ce&&(ce._seek=ce._start||0,ce._rateSeek=0,ce._paused=!0,ce._ended=!0,U._stopFade(ie[me]),ce._node&&(U._webAudio?ce._node.bufferSource&&(void 0===ce._node.bufferSource.stop?ce._node.bufferSource.noteOff(0):ce._node.bufferSource.stop(0),U._cleanBuffer(ce._node)):(!isNaN(ce._node.duration)||ce._node.duration===1/0)&&(ce._node.currentTime=ce._start||0,ce._node.pause(),ce._node.duration===1/0&&U._clearSound(ce._node))),F||U._emit("stop",ce._id))}return U},mute:function(T,F){var U=this;if("loaded"!==U._state||U._playLock)return U._queue.push({event:"mute",action:function(){U.mute(T,F)}}),U;if(void 0===F){if("boolean"!=typeof T)return U._muted;U._muted=T}for(var ie=U._getSoundIds(F),me=0;me<ie.length;me++){var ce=U._soundById(ie[me]);ce&&(ce._muted=T,ce._interval&&U._stopFade(ce._id),U._webAudio&&ce._node?ce._node.gain.setValueAtTime(T?0:ce._volume,R.ctx.currentTime):ce._node&&(ce._node.muted=!!R._muted||T),U._emit("mute",ce._id))}return U},volume:function(){var U,ie,oe,T=this,F=arguments;if(0===F.length)return T._volume;if(1===F.length||2===F.length&&void 0===F[1]){var me=T._getSoundIds(),ce=me.indexOf(F[0]);ce>=0?ie=parseInt(F[0],10):U=parseFloat(F[0])}else F.length>=2&&(U=parseFloat(F[0]),ie=parseInt(F[1],10));if(!(void 0!==U&&U>=0&&U<=1))return(oe=ie?T._soundById(ie):T._sounds[0])?oe._volume:0;if("loaded"!==T._state||T._playLock)return T._queue.push({event:"volume",action:function(){T.volume.apply(T,F)}}),T;void 0===ie&&(T._volume=U),ie=T._getSoundIds(ie);for(var je=0;je<ie.length;je++)(oe=T._soundById(ie[je]))&&(oe._volume=U,F[2]||T._stopFade(ie[je]),T._webAudio&&oe._node&&!oe._muted?oe._node.gain.setValueAtTime(U,R.ctx.currentTime):oe._node&&!oe._muted&&(oe._node.volume=U*R.volume()),T._emit("volume",oe._id));return T},fade:function(T,F,U,ie){var me=this;if("loaded"!==me._state||me._playLock)return me._queue.push({event:"fade",action:function(){me.fade(T,F,U,ie)}}),me;T=Math.min(Math.max(0,parseFloat(T)),1),F=Math.min(Math.max(0,parseFloat(F)),1),U=parseFloat(U),me.volume(T,ie);for(var ce=me._getSoundIds(ie),oe=0;oe<ce.length;oe++){var je=me._soundById(ce[oe]);if(je){if(ie||me._stopFade(ce[oe]),me._webAudio&&!je._muted){var Qe=R.ctx.currentTime,We=Qe+U/1e3;je._volume=T,je._node.gain.setValueAtTime(T,Qe),je._node.gain.linearRampToValueAtTime(F,We)}me._startFadeInterval(je,T,F,U,ce[oe],void 0===ie)}}return me},_startFadeInterval:function(T,F,U,ie,me,ce){var oe=this,je=F,Qe=U-F,We=Math.abs(Qe/.01),Ye=Math.max(4,We>0?ie/We:ie),ze=Date.now();T._fadeTo=U,T._interval=setInterval(function(){var vt=(Date.now()-ze)/ie;ze=Date.now(),je+=Qe*vt,je=Math.round(100*je)/100,je=Qe<0?Math.max(U,je):Math.min(U,je),oe._webAudio?T._volume=je:oe.volume(je,T._id,!0),ce&&(oe._volume=je),(U<F&&je<=U||U>F&&je>=U)&&(clearInterval(T._interval),T._interval=null,T._fadeTo=null,oe.volume(U,T._id),oe._emit("fade",T._id))},Ye)},_stopFade:function(T){var F=this,U=F._soundById(T);return U&&U._interval&&(F._webAudio&&U._node.gain.cancelScheduledValues(R.ctx.currentTime),clearInterval(U._interval),U._interval=null,F.volume(U._fadeTo,T),U._fadeTo=null,F._emit("fade",T)),F},loop:function(){var U,ie,me,T=this,F=arguments;if(0===F.length)return T._loop;if(1===F.length){if("boolean"!=typeof F[0])return!!(me=T._soundById(parseInt(F[0],10)))&&me._loop;T._loop=U=F[0]}else 2===F.length&&(U=F[0],ie=parseInt(F[1],10));for(var ce=T._getSoundIds(ie),oe=0;oe<ce.length;oe++)(me=T._soundById(ce[oe]))&&(me._loop=U,T._webAudio&&me._node&&me._node.bufferSource&&(me._node.bufferSource.loop=U,U&&(me._node.bufferSource.loopStart=me._start||0,me._node.bufferSource.loopEnd=me._stop,T.playing(ce[oe])&&(T.pause(ce[oe],!0),T.play(ce[oe],!0)))));return T},rate:function(){var U,ie,oe,T=this,F=arguments;if(0===F.length)ie=T._sounds[0]._id;else if(1===F.length){var me=T._getSoundIds(),ce=me.indexOf(F[0]);ce>=0?ie=parseInt(F[0],10):U=parseFloat(F[0])}else 2===F.length&&(U=parseFloat(F[0]),ie=parseInt(F[1],10));if("number"!=typeof U)return(oe=T._soundById(ie))?oe._rate:T._rate;if("loaded"!==T._state||T._playLock)return T._queue.push({event:"rate",action:function(){T.rate.apply(T,F)}}),T;void 0===ie&&(T._rate=U),ie=T._getSoundIds(ie);for(var je=0;je<ie.length;je++)if(oe=T._soundById(ie[je])){T.playing(ie[je])&&(oe._rateSeek=T.seek(ie[je]),oe._playStart=T._webAudio?R.ctx.currentTime:oe._playStart),oe._rate=U,T._webAudio&&oe._node&&oe._node.bufferSource?oe._node.bufferSource.playbackRate.setValueAtTime(U,R.ctx.currentTime):oe._node&&(oe._node.playbackRate=U);var Qe=T.seek(ie[je]),We=(T._sprite[oe._sprite][0]+T._sprite[oe._sprite][1])/1e3-Qe,Ye=1e3*We/Math.abs(oe._rate);(T._endTimers[ie[je]]||!oe._paused)&&(T._clearTimer(ie[je]),T._endTimers[ie[je]]=setTimeout(T._ended.bind(T,oe),Ye)),T._emit("rate",oe._id)}return T},seek:function(){var U,ie,T=this,F=arguments;if(0===F.length)T._sounds.length&&(ie=T._sounds[0]._id);else if(1===F.length){var me=T._getSoundIds(),ce=me.indexOf(F[0]);ce>=0?ie=parseInt(F[0],10):T._sounds.length&&(ie=T._sounds[0]._id,U=parseFloat(F[0]))}else 2===F.length&&(U=parseFloat(F[0]),ie=parseInt(F[1],10));if(void 0===ie)return 0;if("number"==typeof U&&("loaded"!==T._state||T._playLock))return T._queue.push({event:"seek",action:function(){T.seek.apply(T,F)}}),T;var oe=T._soundById(ie);if(oe){if(!("number"==typeof U&&U>=0)){if(T._webAudio){var Ye=T.playing(ie)?R.ctx.currentTime-oe._playStart:0,ze=oe._rateSeek?oe._rateSeek-oe._seek:0;return oe._seek+(ze+Ye*Math.abs(oe._rate))}return oe._node.currentTime}var je=T.playing(ie);je&&T.pause(ie,!0),oe._seek=U,oe._ended=!1,T._clearTimer(ie),!T._webAudio&&oe._node&&!isNaN(oe._node.duration)&&(oe._node.currentTime=U);var Qe=function(){je&&T.play(ie,!0),T._emit("seek",ie)};if(je&&!T._webAudio){var We=function(){T._playLock?setTimeout(We,0):Qe()};setTimeout(We,0)}else Qe()}return T},playing:function(T){var F=this;if("number"==typeof T){var U=F._soundById(T);return!!U&&!U._paused}for(var ie=0;ie<F._sounds.length;ie++)if(!F._sounds[ie]._paused)return!0;return!1},duration:function(T){var F=this,U=F._duration,ie=F._soundById(T);return ie&&(U=F._sprite[ie._sprite][1]/1e3),U},state:function(){return this._state},unload:function(){for(var T=this,F=T._sounds,U=0;U<F.length;U++)F[U]._paused||T.stop(F[U]._id),T._webAudio||(T._clearSound(F[U]._node),F[U]._node.removeEventListener("error",F[U]._errorFn,!1),F[U]._node.removeEventListener(R._canPlayEvent,F[U]._loadFn,!1),F[U]._node.removeEventListener("ended",F[U]._endFn,!1),R._releaseHtml5Audio(F[U]._node)),delete F[U]._node,T._clearTimer(F[U]._id);var ie=R._howls.indexOf(T);ie>=0&&R._howls.splice(ie,1);var me=!0;for(U=0;U<R._howls.length;U++)if(R._howls[U]._src===T._src||T._src.indexOf(R._howls[U]._src)>=0){me=!1;break}return Ce&&me&&delete Ce[T._src],R.noAudio=!1,T._state="unloaded",T._sounds=[],T=null,null},on:function(T,F,U,ie){return"function"==typeof F&&this["_on"+T].push(ie?{id:U,fn:F,once:ie}:{id:U,fn:F}),this},off:function(T,F,U){var ie=this,me=ie["_on"+T],ce=0;if("number"==typeof F&&(U=F,F=null),F||U)for(ce=0;ce<me.length;ce++){var oe=U===me[ce].id;if(F===me[ce].fn&&oe||!F&&oe){me.splice(ce,1);break}}else if(T)ie["_on"+T]=[];else{var je=Object.keys(ie);for(ce=0;ce<je.length;ce++)0===je[ce].indexOf("_on")&&Array.isArray(ie[je[ce]])&&(ie[je[ce]]=[])}return ie},once:function(T,F,U){return this.on(T,F,U,1),this},_emit:function(T,F,U){for(var ie=this,me=ie["_on"+T],ce=me.length-1;ce>=0;ce--)(!me[ce].id||me[ce].id===F||"load"===T)&&(setTimeout(function(oe){oe.call(this,F,U)}.bind(ie,me[ce].fn),0),me[ce].once&&ie.off(T,me[ce].fn,me[ce].id));return ie._loadQueue(T),ie},_loadQueue:function(T){var F=this;if(F._queue.length>0){var U=F._queue[0];U.event===T&&(F._queue.shift(),F._loadQueue()),T||U.action()}return F},_ended:function(T){var F=this,U=T._sprite;if(!F._webAudio&&T._node&&!T._node.paused&&!T._node.ended&&T._node.currentTime<T._stop)return setTimeout(F._ended.bind(F,T),100),F;var ie=!(!T._loop&&!F._sprite[U][2]);if(F._emit("end",T._id),!F._webAudio&&ie&&F.stop(T._id,!0).play(T._id),F._webAudio&&ie){F._emit("play",T._id),T._seek=T._start||0,T._rateSeek=0,T._playStart=R.ctx.currentTime;var me=1e3*(T._stop-T._start)/Math.abs(T._rate);F._endTimers[T._id]=setTimeout(F._ended.bind(F,T),me)}return F._webAudio&&!ie&&(T._paused=!0,T._ended=!0,T._seek=T._start||0,T._rateSeek=0,F._clearTimer(T._id),F._cleanBuffer(T._node),R._autoSuspend()),!F._webAudio&&!ie&&F.stop(T._id,!0),F},_clearTimer:function(T){var F=this;if(F._endTimers[T]){if("function"!=typeof F._endTimers[T])clearTimeout(F._endTimers[T]);else{var U=F._soundById(T);U&&U._node&&U._node.removeEventListener("ended",F._endTimers[T],!1)}delete F._endTimers[T]}return F},_soundById:function(T){for(var F=this,U=0;U<F._sounds.length;U++)if(T===F._sounds[U]._id)return F._sounds[U];return null},_inactiveSound:function(){var T=this;T._drain();for(var F=0;F<T._sounds.length;F++)if(T._sounds[F]._ended)return T._sounds[F].reset();return new ne(T)},_drain:function(){var T=this,F=T._pool,U=0,ie=0;if(!(T._sounds.length<F)){for(ie=0;ie<T._sounds.length;ie++)T._sounds[ie]._ended&&U++;for(ie=T._sounds.length-1;ie>=0;ie--){if(U<=F)return;T._sounds[ie]._ended&&(T._webAudio&&T._sounds[ie]._node&&T._sounds[ie]._node.disconnect(0),T._sounds.splice(ie,1),U--)}}},_getSoundIds:function(T){if(void 0===T){for(var U=[],ie=0;ie<this._sounds.length;ie++)U.push(this._sounds[ie]._id);return U}return[T]},_refreshBuffer:function(T){return T._node.bufferSource=R.ctx.createBufferSource(),T._node.bufferSource.buffer=Ce[this._src],T._node.bufferSource.connect(T._panner?T._panner:T._node),T._node.bufferSource.loop=T._loop,T._loop&&(T._node.bufferSource.loopStart=T._start||0,T._node.bufferSource.loopEnd=T._stop||0),T._node.bufferSource.playbackRate.setValueAtTime(T._rate,R.ctx.currentTime),this},_cleanBuffer:function(T){var U=R._navigator&&R._navigator.vendor.indexOf("Apple")>=0;if(R._scratchBuffer&&T.bufferSource&&(T.bufferSource.onended=null,T.bufferSource.disconnect(0),U))try{T.bufferSource.buffer=R._scratchBuffer}catch(ie){}return T.bufferSource=null,this},_clearSound:function(T){/MSIE |Trident\//.test(R._navigator&&R._navigator.userAgent)||(T.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var ne=function(T){this._parent=T,this.init()};ne.prototype={init:function(){var T=this,F=T._parent;return T._muted=F._muted,T._loop=F._loop,T._volume=F._volume,T._rate=F._rate,T._seek=0,T._paused=!0,T._ended=!0,T._sprite="__default",T._id=++R._counter,F._sounds.push(T),T.create(),T},create:function(){var T=this,F=T._parent,U=R._muted||T._muted||T._parent._muted?0:T._volume;return F._webAudio?(T._node=void 0===R.ctx.createGain?R.ctx.createGainNode():R.ctx.createGain(),T._node.gain.setValueAtTime(U,R.ctx.currentTime),T._node.paused=!0,T._node.connect(R.masterGain)):R.noAudio||(T._node=R._obtainHtml5Audio(),T._errorFn=T._errorListener.bind(T),T._node.addEventListener("error",T._errorFn,!1),T._loadFn=T._loadListener.bind(T),T._node.addEventListener(R._canPlayEvent,T._loadFn,!1),T._endFn=T._endListener.bind(T),T._node.addEventListener("ended",T._endFn,!1),T._node.src=F._src,T._node.preload=!0===F._preload?"auto":F._preload,T._node.volume=U*R.volume(),T._node.load()),T},reset:function(){var T=this,F=T._parent;return T._muted=F._muted,T._loop=F._loop,T._volume=F._volume,T._rate=F._rate,T._seek=0,T._rateSeek=0,T._paused=!0,T._ended=!0,T._sprite="__default",T._id=++R._counter,T},_errorListener:function(){var T=this;T._parent._emit("loaderror",T._id,T._node.error?T._node.error.code:0),T._node.removeEventListener("error",T._errorFn,!1)},_loadListener:function(){var T=this,F=T._parent;F._duration=Math.ceil(10*T._node.duration)/10,0===Object.keys(F._sprite).length&&(F._sprite={__default:[0,1e3*F._duration]}),"loaded"!==F._state&&(F._state="loaded",F._emit("load"),F._loadQueue()),T._node.removeEventListener(R._canPlayEvent,T._loadFn,!1)},_endListener:function(){var T=this,F=T._parent;F._duration===1/0&&(F._duration=Math.ceil(10*T._node.duration)/10,F._sprite.__default[1]===1/0&&(F._sprite.__default[1]=1e3*F._duration),F._ended(T)),T._node.removeEventListener("ended",T._endFn,!1)}};var Ce={},be=function(T){var F=T._src;if(Ce[F])return T._duration=Ce[F].duration,void X(T);if(/^data:[^;]+;base64,/.test(F)){for(var U=atob(F.split(",")[1]),ie=new Uint8Array(U.length),me=0;me<U.length;++me)ie[me]=U.charCodeAt(me);De(ie.buffer,T)}else{var ce=new XMLHttpRequest;ce.open(T._xhr.method,F,!0),ce.withCredentials=T._xhr.withCredentials,ce.responseType="arraybuffer",T._xhr.headers&&Object.keys(T._xhr.headers).forEach(function(oe){ce.setRequestHeader(oe,T._xhr.headers[oe])}),ce.onload=function(){var oe=(ce.status+"")[0];"0"===oe||"2"===oe||"3"===oe?De(ce.response,T):T._emit("loaderror",null,"Failed loading audio file with status: "+ce.status+".")},ce.onerror=function(){T._webAudio&&(T._html5=!0,T._webAudio=!1,T._sounds=[],delete Ce[F],T.load())},xe(ce)}},xe=function(T){try{T.send()}catch(F){T.onerror()}},De=function(T,F){var U=function(){F._emit("loaderror",null,"Decoding audio data failed.")},ie=function(me){me&&F._sounds.length>0?(Ce[F._src]=me,X(F,me)):U()};"undefined"!=typeof Promise&&1===R.ctx.decodeAudioData.length?R.ctx.decodeAudioData(T).then(ie).catch(U):R.ctx.decodeAudioData(T,ie,U)},X=function(T,F){F&&!T._duration&&(T._duration=F.duration),0===Object.keys(T._sprite).length&&(T._sprite={__default:[0,1e3*T._duration]}),"loaded"!==T._state&&(T._state="loaded",T._emit("load"),T._loadQueue())},de=function(){if(R.usingWebAudio){try{"undefined"!=typeof AudioContext?R.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?R.ctx=new webkitAudioContext:R.usingWebAudio=!1}catch(me){R.usingWebAudio=!1}R.ctx||(R.usingWebAudio=!1);var T=/iP(hone|od|ad)/.test(R._navigator&&R._navigator.platform),F=R._navigator&&R._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),U=F?parseInt(F[1],10):null;if(T&&U&&U<9){var ie=/safari/.test(R._navigator&&R._navigator.userAgent.toLowerCase());R._navigator&&!ie&&(R.usingWebAudio=!1)}R.usingWebAudio&&(R.masterGain=void 0===R.ctx.createGain?R.ctx.createGainNode():R.ctx.createGain(),R.masterGain.gain.setValueAtTime(R._muted?0:R._volume,R.ctx.currentTime),R.masterGain.connect(R.ctx.destination)),R._setup()}};void 0!==(h=function(){return{Howler:R,Howl:G}}.apply($e,[]))&&(Pt.exports=h),$e.Howler=R,$e.Howl=G,"undefined"!=typeof global?(global.HowlerGlobal=P,global.Howler=R,global.Howl=G,global.Sound=ne):"undefined"!=typeof window&&(window.HowlerGlobal=P,window.Howler=R,window.Howl=G,window.Sound=ne)}(),function(){"use strict";var R;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(R){var G=this;if(!G.ctx||!G.ctx.listener)return G;for(var ne=G._howls.length-1;ne>=0;ne--)G._howls[ne].stereo(R);return G},HowlerGlobal.prototype.pos=function(R,G,ne){var Ce=this;return Ce.ctx&&Ce.ctx.listener?"number"!=typeof R?Ce._pos:(Ce._pos=[R,G="number"!=typeof G?Ce._pos[1]:G,ne="number"!=typeof ne?Ce._pos[2]:ne],void 0!==Ce.ctx.listener.positionX?(Ce.ctx.listener.positionX.setTargetAtTime(Ce._pos[0],Howler.ctx.currentTime,.1),Ce.ctx.listener.positionY.setTargetAtTime(Ce._pos[1],Howler.ctx.currentTime,.1),Ce.ctx.listener.positionZ.setTargetAtTime(Ce._pos[2],Howler.ctx.currentTime,.1)):Ce.ctx.listener.setPosition(Ce._pos[0],Ce._pos[1],Ce._pos[2]),Ce):Ce},HowlerGlobal.prototype.orientation=function(R,G,ne,Ce,be,xe){var De=this;if(!De.ctx||!De.ctx.listener)return De;var X=De._orientation;return"number"!=typeof R?X:(De._orientation=[R,G="number"!=typeof G?X[1]:G,ne="number"!=typeof ne?X[2]:ne,Ce="number"!=typeof Ce?X[3]:Ce,be="number"!=typeof be?X[4]:be,xe="number"!=typeof xe?X[5]:xe],void 0!==De.ctx.listener.forwardX?(De.ctx.listener.forwardX.setTargetAtTime(R,Howler.ctx.currentTime,.1),De.ctx.listener.forwardY.setTargetAtTime(G,Howler.ctx.currentTime,.1),De.ctx.listener.forwardZ.setTargetAtTime(ne,Howler.ctx.currentTime,.1),De.ctx.listener.upX.setTargetAtTime(Ce,Howler.ctx.currentTime,.1),De.ctx.listener.upY.setTargetAtTime(be,Howler.ctx.currentTime,.1),De.ctx.listener.upZ.setTargetAtTime(xe,Howler.ctx.currentTime,.1)):De.ctx.listener.setOrientation(R,G,ne,Ce,be,xe),De)},Howl.prototype.init=(R=Howl.prototype.init,function(G){var ne=this;return ne._orientation=G.orientation||[1,0,0],ne._stereo=G.stereo||null,ne._pos=G.pos||null,ne._pannerAttr={coneInnerAngle:void 0!==G.coneInnerAngle?G.coneInnerAngle:360,coneOuterAngle:void 0!==G.coneOuterAngle?G.coneOuterAngle:360,coneOuterGain:void 0!==G.coneOuterGain?G.coneOuterGain:0,distanceModel:void 0!==G.distanceModel?G.distanceModel:"inverse",maxDistance:void 0!==G.maxDistance?G.maxDistance:1e4,panningModel:void 0!==G.panningModel?G.panningModel:"HRTF",refDistance:void 0!==G.refDistance?G.refDistance:1,rolloffFactor:void 0!==G.rolloffFactor?G.rolloffFactor:1},ne._onstereo=G.onstereo?[{fn:G.onstereo}]:[],ne._onpos=G.onpos?[{fn:G.onpos}]:[],ne._onorientation=G.onorientation?[{fn:G.onorientation}]:[],R.call(this,G)}),Howl.prototype.stereo=function(R,G){var ne=this;if(!ne._webAudio)return ne;if("loaded"!==ne._state)return ne._queue.push({event:"stereo",action:function(){ne.stereo(R,G)}}),ne;var Ce=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===G){if("number"!=typeof R)return ne._stereo;ne._stereo=R,ne._pos=[R,0,0]}for(var be=ne._getSoundIds(G),xe=0;xe<be.length;xe++){var De=ne._soundById(be[xe]);if(De){if("number"!=typeof R)return De._stereo;De._stereo=R,De._pos=[R,0,0],De._node&&(De._pannerAttr.panningModel="equalpower",(!De._panner||!De._panner.pan)&&P(De,Ce),"spatial"===Ce?void 0!==De._panner.positionX?(De._panner.positionX.setValueAtTime(R,Howler.ctx.currentTime),De._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),De._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):De._panner.setPosition(R,0,0):De._panner.pan.setValueAtTime(R,Howler.ctx.currentTime)),ne._emit("stereo",De._id)}}return ne},Howl.prototype.pos=function(R,G,ne,Ce){var be=this;if(!be._webAudio)return be;if("loaded"!==be._state)return be._queue.push({event:"pos",action:function(){be.pos(R,G,ne,Ce)}}),be;if(G="number"!=typeof G?0:G,ne="number"!=typeof ne?-.5:ne,void 0===Ce){if("number"!=typeof R)return be._pos;be._pos=[R,G,ne]}for(var xe=be._getSoundIds(Ce),De=0;De<xe.length;De++){var X=be._soundById(xe[De]);if(X){if("number"!=typeof R)return X._pos;X._pos=[R,G,ne],X._node&&((!X._panner||X._panner.pan)&&P(X,"spatial"),void 0!==X._panner.positionX?(X._panner.positionX.setValueAtTime(R,Howler.ctx.currentTime),X._panner.positionY.setValueAtTime(G,Howler.ctx.currentTime),X._panner.positionZ.setValueAtTime(ne,Howler.ctx.currentTime)):X._panner.setPosition(R,G,ne)),be._emit("pos",X._id)}}return be},Howl.prototype.orientation=function(R,G,ne,Ce){var be=this;if(!be._webAudio)return be;if("loaded"!==be._state)return be._queue.push({event:"orientation",action:function(){be.orientation(R,G,ne,Ce)}}),be;if(G="number"!=typeof G?be._orientation[1]:G,ne="number"!=typeof ne?be._orientation[2]:ne,void 0===Ce){if("number"!=typeof R)return be._orientation;be._orientation=[R,G,ne]}for(var xe=be._getSoundIds(Ce),De=0;De<xe.length;De++){var X=be._soundById(xe[De]);if(X){if("number"!=typeof R)return X._orientation;X._orientation=[R,G,ne],X._node&&(X._panner||(X._pos||(X._pos=be._pos||[0,0,-.5]),P(X,"spatial")),void 0!==X._panner.orientationX?(X._panner.orientationX.setValueAtTime(R,Howler.ctx.currentTime),X._panner.orientationY.setValueAtTime(G,Howler.ctx.currentTime),X._panner.orientationZ.setValueAtTime(ne,Howler.ctx.currentTime)):X._panner.setOrientation(R,G,ne)),be._emit("orientation",X._id)}}return be},Howl.prototype.pannerAttr=function(){var ne,Ce,be,R=this,G=arguments;if(!R._webAudio)return R;if(0===G.length)return R._pannerAttr;if(1===G.length){if("object"!=typeof G[0])return(be=R._soundById(parseInt(G[0],10)))?be._pannerAttr:R._pannerAttr;ne=G[0],void 0===Ce&&(ne.pannerAttr||(ne.pannerAttr={coneInnerAngle:ne.coneInnerAngle,coneOuterAngle:ne.coneOuterAngle,coneOuterGain:ne.coneOuterGain,distanceModel:ne.distanceModel,maxDistance:ne.maxDistance,refDistance:ne.refDistance,rolloffFactor:ne.rolloffFactor,panningModel:ne.panningModel}),R._pannerAttr={coneInnerAngle:void 0!==ne.pannerAttr.coneInnerAngle?ne.pannerAttr.coneInnerAngle:R._coneInnerAngle,coneOuterAngle:void 0!==ne.pannerAttr.coneOuterAngle?ne.pannerAttr.coneOuterAngle:R._coneOuterAngle,coneOuterGain:void 0!==ne.pannerAttr.coneOuterGain?ne.pannerAttr.coneOuterGain:R._coneOuterGain,distanceModel:void 0!==ne.pannerAttr.distanceModel?ne.pannerAttr.distanceModel:R._distanceModel,maxDistance:void 0!==ne.pannerAttr.maxDistance?ne.pannerAttr.maxDistance:R._maxDistance,refDistance:void 0!==ne.pannerAttr.refDistance?ne.pannerAttr.refDistance:R._refDistance,rolloffFactor:void 0!==ne.pannerAttr.rolloffFactor?ne.pannerAttr.rolloffFactor:R._rolloffFactor,panningModel:void 0!==ne.pannerAttr.panningModel?ne.pannerAttr.panningModel:R._panningModel})}else 2===G.length&&(ne=G[0],Ce=parseInt(G[1],10));for(var xe=R._getSoundIds(Ce),De=0;De<xe.length;De++)if(be=R._soundById(xe[De])){var X=be._pannerAttr;X={coneInnerAngle:void 0!==ne.coneInnerAngle?ne.coneInnerAngle:X.coneInnerAngle,coneOuterAngle:void 0!==ne.coneOuterAngle?ne.coneOuterAngle:X.coneOuterAngle,coneOuterGain:void 0!==ne.coneOuterGain?ne.coneOuterGain:X.coneOuterGain,distanceModel:void 0!==ne.distanceModel?ne.distanceModel:X.distanceModel,maxDistance:void 0!==ne.maxDistance?ne.maxDistance:X.maxDistance,refDistance:void 0!==ne.refDistance?ne.refDistance:X.refDistance,rolloffFactor:void 0!==ne.rolloffFactor?ne.rolloffFactor:X.rolloffFactor,panningModel:void 0!==ne.panningModel?ne.panningModel:X.panningModel};var de=be._panner;de?(de.coneInnerAngle=X.coneInnerAngle,de.coneOuterAngle=X.coneOuterAngle,de.coneOuterGain=X.coneOuterGain,de.distanceModel=X.distanceModel,de.maxDistance=X.maxDistance,de.refDistance=X.refDistance,de.rolloffFactor=X.rolloffFactor,de.panningModel=X.panningModel):(be._pos||(be._pos=R._pos||[0,0,-.5]),P(be,"spatial"))}return R},Sound.prototype.init=function(R){return function(){var G=this,ne=G._parent;G._orientation=ne._orientation,G._stereo=ne._stereo,G._pos=ne._pos,G._pannerAttr=ne._pannerAttr,R.call(this),G._stereo?ne.stereo(G._stereo):G._pos&&ne.pos(G._pos[0],G._pos[1],G._pos[2],G._id)}}(Sound.prototype.init),Sound.prototype.reset=function(R){return function(){var G=this,ne=G._parent;return G._orientation=ne._orientation,G._stereo=ne._stereo,G._pos=ne._pos,G._pannerAttr=ne._pannerAttr,G._stereo?ne.stereo(G._stereo):G._pos?ne.pos(G._pos[0],G._pos[1],G._pos[2],G._id):G._panner&&(G._panner.disconnect(0),G._panner=void 0,ne._refreshBuffer(G)),R.call(this)}}(Sound.prototype.reset);var P=function(R,G){"spatial"===(G=G||"spatial")?(R._panner=Howler.ctx.createPanner(),R._panner.coneInnerAngle=R._pannerAttr.coneInnerAngle,R._panner.coneOuterAngle=R._pannerAttr.coneOuterAngle,R._panner.coneOuterGain=R._pannerAttr.coneOuterGain,R._panner.distanceModel=R._pannerAttr.distanceModel,R._panner.maxDistance=R._pannerAttr.maxDistance,R._panner.refDistance=R._pannerAttr.refDistance,R._panner.rolloffFactor=R._pannerAttr.rolloffFactor,R._panner.panningModel=R._pannerAttr.panningModel,void 0!==R._panner.positionX?(R._panner.positionX.setValueAtTime(R._pos[0],Howler.ctx.currentTime),R._panner.positionY.setValueAtTime(R._pos[1],Howler.ctx.currentTime),R._panner.positionZ.setValueAtTime(R._pos[2],Howler.ctx.currentTime)):R._panner.setPosition(R._pos[0],R._pos[1],R._pos[2]),void 0!==R._panner.orientationX?(R._panner.orientationX.setValueAtTime(R._orientation[0],Howler.ctx.currentTime),R._panner.orientationY.setValueAtTime(R._orientation[1],Howler.ctx.currentTime),R._panner.orientationZ.setValueAtTime(R._orientation[2],Howler.ctx.currentTime)):R._panner.setOrientation(R._orientation[0],R._orientation[1],R._orientation[2])):(R._panner=Howler.ctx.createStereoPanner(),R._panner.pan.setValueAtTime(R._stereo,Howler.ctx.currentTime)),R._panner.connect(R._node),R._paused||R._parent.pause(R._id,!0).play(R._id,!0)}}()},5599:(Pt,$e,$)=>{"use strict";$.r($e),$.d($e,{Children:()=>qn,Component:()=>h.Component,Fragment:()=>h.Fragment,PureComponent:()=>ke,StrictMode:()=>ue,Suspense:()=>Cn,SuspenseList:()=>Ve,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:()=>un,cloneElement:()=>Nr,createContext:()=>h.createContext,createElement:()=>h.createElement,createFactory:()=>Rt,createPortal:()=>Ft,createRef:()=>h.createRef,default:()=>ye,findDOMNode:()=>wr,flushSync:()=>Tn,forwardRef:()=>xt,hydrate:()=>en,isValidElement:()=>tr,lazy:()=>Ee,memo:()=>$t,render:()=>Ct,unmountComponentAtNode:()=>yn,unstable_batchedUpdates:()=>nr,useCallback:()=>Qe,useContext:()=>We,useDebugValue:()=>Ye,useEffect:()=>ie,useErrorBoundary:()=>ze,useImperativeHandle:()=>oe,useLayoutEffect:()=>me,useMemo:()=>je,useReducer:()=>U,useRef:()=>ce,useState:()=>F,version:()=>qt});var P,R,G,h=$(3580),ne=0,Ce=[],be=h.options.__b,xe=h.options.__r,De=h.options.diffed,X=h.options.__c,de=h.options.unmount;function T(B,Y){h.options.__h&&h.options.__h(R,B,ne||Y),ne=0;var W=R.__H||(R.__H={__:[],__h:[]});return B>=W.__.length&&W.__.push({}),W.__[B]}function F(B){return ne=1,U(Fe,B)}function U(B,Y,W){var le=T(P++,2);return le.t=B,le.__c||(le.__=[W?W(Y):Fe(void 0,Y),function(ae){var ge=le.t(le.__[0],ae);le.__[0]!==ge&&(le.__=[ge,le.__[1]],le.__c.setState({}))}],le.__c=R),le.__}function ie(B,Y){var W=T(P++,3);!h.options.__s&&Ie(W.__H,Y)&&(W.__=B,W.__H=Y,R.__H.__h.push(W))}function me(B,Y){var W=T(P++,4);!h.options.__s&&Ie(W.__H,Y)&&(W.__=B,W.__H=Y,R.__h.push(W))}function ce(B){return ne=5,je(function(){return{current:B}},[])}function oe(B,Y,W){ne=6,me(function(){return"function"==typeof B?(B(Y()),function(){return B(null)}):B?(B.current=Y(),function(){return B.current=null}):void 0},null==W?W:W.concat(B))}function je(B,Y){var W=T(P++,7);return Ie(W.__H,Y)&&(W.__=B(),W.__H=Y,W.__h=B),W.__}function Qe(B,Y){return ne=8,je(function(){return B},Y)}function We(B){var Y=R.context[B.__c],W=T(P++,9);return W.c=B,Y?(null==W.__&&(W.__=!0,Y.sub(R)),Y.props.value):B.__}function Ye(B,Y){h.options.useDebugValue&&h.options.useDebugValue(Y?Y(B):B)}function ze(B){var Y=T(P++,10),W=F();return Y.__=B,R.componentDidCatch||(R.componentDidCatch=function(le){Y.__&&Y.__(le),W[1](le)}),[W[0],function(){W[1](void 0)}]}function vt(){for(var B;B=Ce.shift();)if(B.__P)try{B.__H.__h.forEach(Re),B.__H.__h.forEach(fe),B.__H.__h=[]}catch(Y){B.__H.__h=[],h.options.__e(Y,B.__v)}}h.options.__b=function(B){R=null,be&&be(B)},h.options.__r=function(B){xe&&xe(B),P=0;var Y=(R=B.__c).__H;Y&&(Y.__h.forEach(Re),Y.__h.forEach(fe),Y.__h=[])},h.options.diffed=function(B){De&&De(B);var Y=B.__c;Y&&Y.__H&&Y.__H.__h.length&&(1!==Ce.push(Y)&&G===h.options.requestAnimationFrame||((G=h.options.requestAnimationFrame)||function(W){var le,ae=function(){clearTimeout(ge),Te&&cancelAnimationFrame(le),setTimeout(W)},ge=setTimeout(ae,100);Te&&(le=requestAnimationFrame(ae))})(vt)),R=null},h.options.__c=function(B,Y){Y.some(function(W){try{W.__h.forEach(Re),W.__h=W.__h.filter(function(le){return!le.__||fe(le)})}catch(le){Y.some(function(ae){ae.__h&&(ae.__h=[])}),Y=[],h.options.__e(le,W.__v)}}),X&&X(B,Y)},h.options.unmount=function(B){de&&de(B);var Y,W=B.__c;W&&W.__H&&(W.__H.__.forEach(function(le){try{Re(le)}catch(ae){Y=ae}}),Y&&h.options.__e(Y,W.__v))};var Te="function"==typeof requestAnimationFrame;function Re(B){var Y=R,W=B.__c;"function"==typeof W&&(B.__c=void 0,W()),R=Y}function fe(B){var Y=R;B.__c=B.__(),R=Y}function Ie(B,Y){return!B||B.length!==Y.length||Y.some(function(W,le){return W!==B[le]})}function Fe(B,Y){return"function"==typeof Y?Y(B):Y}function Be(B,Y){for(var W in Y)B[W]=Y[W];return B}function Xe(B,Y){for(var W in B)if("__source"!==W&&!(W in Y))return!0;for(var le in Y)if("__source"!==le&&B[le]!==Y[le])return!0;return!1}function ke(B){this.props=B}function $t(B,Y){function W(ae){var ge=this.props.ref,Pe=ge==ae.ref;return!Pe&&ge&&(ge.call?ge(null):ge.current=null),Y?!Y(this.props,ae)||!Pe:Xe(this.props,ae)}function le(ae){return this.shouldComponentUpdate=W,(0,h.createElement)(B,ae)}return le.displayName="Memo("+(B.displayName||B.name)+")",le.prototype.isReactComponent=!0,le.__f=!0,le}(ke.prototype=new h.Component).isPureReactComponent=!0,ke.prototype.shouldComponentUpdate=function(B,Y){return Xe(this.props,B)||Xe(this.state,Y)};var Xt=h.options.__b;h.options.__b=function(B){B.type&&B.type.__f&&B.ref&&(B.props.ref=B.ref,B.ref=null),Xt&&Xt(B)};var Xn="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function xt(B){function Y(W){var le=Be({},W);return delete le.ref,B(le,W.ref||null)}return Y.$$typeof=Xn,Y.render=Y,Y.prototype.isReactComponent=Y.__f=!0,Y.displayName="ForwardRef("+(B.displayName||B.name)+")",Y}var Gt=function(B,Y){return null==B?null:(0,h.toChildArray)((0,h.toChildArray)(B).map(Y))},qn={map:Gt,forEach:Gt,count:function(B){return B?(0,h.toChildArray)(B).length:0},only:function(B){var Y=(0,h.toChildArray)(B);if(1!==Y.length)throw"Children.only";return Y[0]},toArray:h.toChildArray},Hn=h.options.__e;h.options.__e=function(B,Y,W,le){if(B.then)for(var ae,ge=Y;ge=ge.__;)if((ae=ge.__c)&&ae.__c)return null==Y.__e&&(Y.__e=W.__e,Y.__k=W.__k),ae.__c(B,Y);Hn(B,Y,W,le)};var Ar=h.options.unmount;function Cn(){this.__u=0,this.t=null,this.__b=null}function Ae(B){var Y=B.__.__c;return Y&&Y.__e&&Y.__e(B)}function Ee(B){var Y,W,le;function ae(ge){if(Y||(Y=B()).then(function(Pe){W=Pe.default||Pe},function(Pe){le=Pe}),le)throw le;if(!W)throw Y;return(0,h.createElement)(W,ge)}return ae.displayName="Lazy",ae.__f=!0,ae}function Ve(){this.u=null,this.o=null}h.options.unmount=function(B){var Y=B.__c;Y&&Y.__R&&Y.__R(),Y&&!0===B.__h&&(B.type=null),Ar&&Ar(B)},(Cn.prototype=new h.Component).__c=function(B,Y){var W=Y.__c,le=this;null==le.t&&(le.t=[]),le.t.push(W);var ae=Ae(le.__v),ge=!1,Pe=function(){ge||(ge=!0,W.__R=null,ae?ae(st):st())};W.__R=Pe;var st=function(){if(!--le.__u){if(le.state.__e){var ut=le.state.__e;le.__v.__k[0]=function Se(pe,he,et){return pe&&(pe.__v=null,pe.__k=pe.__k&&pe.__k.map(function(At){return Se(At,he,et)}),pe.__c&&pe.__c.__P===he&&(pe.__e&&et.insertBefore(pe.__e,pe.__d),pe.__c.__e=!0,pe.__c.__P=et)),pe}(ut,ut.__c.__P,ut.__c.__O)}var zt;for(le.setState({__e:le.__b=null});zt=le.t.pop();)zt.forceUpdate()}},pt=!0===Y.__h;le.__u++||pt||le.setState({__e:le.__b=le.__v.__k[0]}),B.then(Pe,Pe)},Cn.prototype.componentWillUnmount=function(){this.t=[]},Cn.prototype.render=function(B,Y){if(this.__b){if(this.__v.__k){var W=document.createElement("div"),le=this.__v.__k[0].__c;this.__v.__k[0]=function ge(Pe,st,pt){return Pe&&(Pe.__c&&Pe.__c.__H&&(Pe.__c.__H.__.forEach(function(ut){"function"==typeof ut.__c&&ut.__c()}),Pe.__c.__H=null),null!=(Pe=Be({},Pe)).__c&&(Pe.__c.__P===pt&&(Pe.__c.__P=st),Pe.__c=null),Pe.__k=Pe.__k&&Pe.__k.map(function(ut){return ge(ut,st,pt)})),Pe}(this.__b,W,le.__O=le.__P)}this.__b=null}var ae=Y.__e&&(0,h.createElement)(h.Fragment,null,B.fallback);return ae&&(ae.__h=null),[(0,h.createElement)(h.Fragment,null,Y.__e?null:B.children),ae]};var lt=function(B,Y,W){if(++W[1]===W[0]&&B.o.delete(Y),B.props.revealOrder&&("t"!==B.props.revealOrder[0]||!B.o.size))for(W=B.u;W;){for(;W.length>3;)W.pop()();if(W[1]<W[0])break;B.u=W=W[2]}};function wt(B){return this.getChildContext=function(){return B.context},B.children}function qe(B){var Y=this,W=B.i;Y.componentWillUnmount=function(){(0,h.render)(null,Y.l),Y.l=null,Y.i=null},Y.i&&Y.i!==W&&Y.componentWillUnmount(),B.__v?(Y.l||(Y.i=W,Y.l={nodeType:1,parentNode:W,childNodes:[],appendChild:function(le){this.childNodes.push(le),Y.i.appendChild(le)},insertBefore:function(le,ae){this.childNodes.push(le),Y.i.appendChild(le)},removeChild:function(le){this.childNodes.splice(this.childNodes.indexOf(le)>>>1,1),Y.i.removeChild(le)}}),(0,h.render)((0,h.createElement)(wt,{context:Y.context},B.__v),Y.l)):Y.l&&Y.componentWillUnmount()}function Ft(B,Y){var W=(0,h.createElement)(qe,{__v:B,i:Y});return W.containerInfo=Y,W}(Ve.prototype=new h.Component).__e=function(B){var Y=this,W=Ae(Y.__v),le=Y.o.get(B);return le[0]++,function(ae){var ge=function(){Y.props.revealOrder?(le.push(ae),lt(Y,B,le)):ae()};W?W(ge):ge()}},Ve.prototype.render=function(B){this.u=null,this.o=new Map;var Y=(0,h.toChildArray)(B.children);B.revealOrder&&"b"===B.revealOrder[0]&&Y.reverse();for(var W=Y.length;W--;)this.o.set(Y[W],this.u=[1,0,this.u]);return B.children},Ve.prototype.componentDidUpdate=Ve.prototype.componentDidMount=function(){var B=this;this.o.forEach(function(Y,W){lt(B,W,Y)})};var on="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,hn=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,fn="undefined"!=typeof document,Ze=function(B){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(B)};function Ct(B,Y,W){return null==Y.__k&&(Y.textContent=""),(0,h.render)(B,Y),"function"==typeof W&&W(),B?B.__c:null}function en(B,Y,W){return(0,h.hydrate)(B,Y),"function"==typeof W&&W(),B?B.__c:null}h.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(B){Object.defineProperty(h.Component.prototype,B,{configurable:!0,get:function(){return this["UNSAFE_"+B]},set:function(Y){Object.defineProperty(this,B,{configurable:!0,writable:!0,value:Y})}})});var yt=h.options.event;function Lt(){}function er(){return this.cancelBubble}function An(){return this.defaultPrevented}h.options.event=function(B){return yt&&(B=yt(B)),B.persist=Lt,B.isPropagationStopped=er,B.isDefaultPrevented=An,B.nativeEvent=B};var xn,Dn={configurable:!0,get:function(){return this.class}},Wn=h.options.vnode;h.options.vnode=function(B){var Y=B.type,W=B.props,le=W;if("string"==typeof Y){var ae=-1===Y.indexOf("-");for(var ge in le={},W){var Pe=W[ge];fn&&"children"===ge&&"noscript"===Y||"value"===ge&&"defaultValue"in W&&null==Pe||("defaultValue"===ge&&"value"in W&&null==W.value?ge="value":"download"===ge&&!0===Pe?Pe="":/ondoubleclick/i.test(ge)?ge="ondblclick":/^onchange(textarea|input)/i.test(ge+Y)&&!Ze(W.type)?ge="oninput":/^onfocus$/i.test(ge)?ge="onfocusin":/^onblur$/i.test(ge)?ge="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(ge)?ge=ge.toLowerCase():ae&&hn.test(ge)?ge=ge.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===Pe&&(Pe=void 0),le[ge]=Pe)}"select"==Y&&le.multiple&&Array.isArray(le.value)&&(le.value=(0,h.toChildArray)(W.children).forEach(function(st){st.props.selected=-1!=le.value.indexOf(st.props.value)})),"select"==Y&&null!=le.defaultValue&&(le.value=(0,h.toChildArray)(W.children).forEach(function(st){st.props.selected=le.multiple?-1!=le.defaultValue.indexOf(st.props.value):le.defaultValue==st.props.value})),B.props=le,W.class!=W.className&&(Dn.enumerable="className"in W,null!=W.className&&(le.class=W.className),Object.defineProperty(le,"className",Dn))}B.$$typeof=on,Wn&&Wn(B)};var ln=h.options.__r;h.options.__r=function(B){ln&&ln(B),xn=B.__c};var un={ReactCurrentDispatcher:{current:{readContext:function(B){return xn.__n[B.__c].props.value}}}},qt="17.0.2";function Rt(B){return h.createElement.bind(null,B)}function tr(B){return!!B&&B.$$typeof===on}function Nr(B){return tr(B)?h.cloneElement.apply(null,arguments):B}function yn(B){return!!B.__k&&((0,h.render)(null,B),!0)}function wr(B){return B&&(B.base||1===B.nodeType&&B)||null}var nr=function(B,Y){return B(Y)},Tn=function(B,Y){return B(Y)},ue=h.Fragment;const ye={useState:F,useReducer:U,useEffect:ie,useLayoutEffect:me,useRef:ce,useImperativeHandle:oe,useMemo:je,useCallback:Qe,useContext:We,useDebugValue:Ye,version:"17.0.2",Children:qn,render:Ct,hydrate:en,unmountComponentAtNode:yn,createPortal:Ft,createElement:h.createElement,createContext:h.createContext,createFactory:Rt,cloneElement:Nr,createRef:h.createRef,Fragment:h.Fragment,isValidElement:tr,findDOMNode:wr,Component:h.Component,PureComponent:ke,memo:$t,forwardRef:xt,flushSync:Tn,unstable_batchedUpdates:nr,StrictMode:h.Fragment,Suspense:Cn,SuspenseList:Ve,lazy:Ee,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:un}},3580:(Pt,$e,$)=>{"use strict";$.r($e),$.d($e,{Component:()=>oe,Fragment:()=>ce,cloneElement:()=>Ar,createContext:()=>Cn,createElement:()=>U,createRef:()=>me,h:()=>U,hydrate:()=>Hn,isValidElement:()=>G,options:()=>P,render:()=>qn,toChildArray:()=>Te});var h,P,R,G,ne,Ce,be,xe,De={},X=[],de=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function T(Ae,Ee){for(var Ve in Ee)Ae[Ve]=Ee[Ve];return Ae}function F(Ae){var Ee=Ae.parentNode;Ee&&Ee.removeChild(Ae)}function U(Ae,Ee,Ve){var lt,wt,qe,Ft={};for(qe in Ee)"key"==qe?lt=Ee[qe]:"ref"==qe?wt=Ee[qe]:Ft[qe]=Ee[qe];if(arguments.length>2&&(Ft.children=arguments.length>3?h.call(arguments,2):Ve),"function"==typeof Ae&&null!=Ae.defaultProps)for(qe in Ae.defaultProps)void 0===Ft[qe]&&(Ft[qe]=Ae.defaultProps[qe]);return ie(Ae,Ft,lt,wt,null)}function ie(Ae,Ee,Ve,lt,wt){var qe={type:Ae,props:Ee,key:Ve,ref:lt,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==wt?++R:wt};return null==wt&&null!=P.vnode&&P.vnode(qe),qe}function me(){return{current:null}}function ce(Ae){return Ae.children}function oe(Ae,Ee){this.props=Ae,this.context=Ee}function je(Ae,Ee){if(null==Ee)return Ae.__?je(Ae.__,Ae.__.__k.indexOf(Ae)+1):null;for(var Ve;Ee<Ae.__k.length;Ee++)if(null!=(Ve=Ae.__k[Ee])&&null!=Ve.__e)return Ve.__e;return"function"==typeof Ae.type?je(Ae):null}function Qe(Ae){var Ee,Ve;if(null!=(Ae=Ae.__)&&null!=Ae.__c){for(Ae.__e=Ae.__c.base=null,Ee=0;Ee<Ae.__k.length;Ee++)if(null!=(Ve=Ae.__k[Ee])&&null!=Ve.__e){Ae.__e=Ae.__c.base=Ve.__e;break}return Qe(Ae)}}function We(Ae){(!Ae.__d&&(Ae.__d=!0)&&ne.push(Ae)&&!Ye.__r++||be!==P.debounceRendering)&&((be=P.debounceRendering)||Ce)(Ye)}function Ye(){for(var Ae;Ye.__r=ne.length;)Ae=ne.sort(function(Ee,Ve){return Ee.__v.__b-Ve.__v.__b}),ne=[],Ae.some(function(Ee){var Ve,lt,wt,qe,Ft,on;Ee.__d&&(Ft=(qe=(Ve=Ee).__v).__e,(on=Ve.__P)&&(lt=[],(wt=T({},qe)).__v=qe.__v+1,ke(on,qe,wt,Ve.__n,void 0!==on.ownerSVGElement,null!=qe.__h?[Ft]:null,lt,null==Ft?je(qe):Ft,qe.__h),$t(lt,qe),qe.__e!=Ft&&Qe(qe)))})}function ze(Ae,Ee,Ve,lt,wt,qe,Ft,on,hn,fn){var Ze,Ct,en,yt,Lt,er,An,xn=lt&&lt.__k||X,Dn=xn.length;for(Ve.__k=[],Ze=0;Ze<Ee.length;Ze++)if(null!=(yt=Ve.__k[Ze]=null==(yt=Ee[Ze])||"boolean"==typeof yt?null:"string"==typeof yt||"number"==typeof yt||"bigint"==typeof yt?ie(null,yt,null,null,yt):Array.isArray(yt)?ie(ce,{children:yt},null,null,null):yt.__b>0?ie(yt.type,yt.props,yt.key,null,yt.__v):yt)){if(yt.__=Ve,yt.__b=Ve.__b+1,null===(en=xn[Ze])||en&&yt.key==en.key&&yt.type===en.type)xn[Ze]=void 0;else for(Ct=0;Ct<Dn;Ct++){if((en=xn[Ct])&&yt.key==en.key&&yt.type===en.type){xn[Ct]=void 0;break}en=null}ke(Ae,yt,en=en||De,wt,qe,Ft,on,hn,fn),Lt=yt.__e,(Ct=yt.ref)&&en.ref!=Ct&&(An||(An=[]),en.ref&&An.push(en.ref,null,yt),An.push(Ct,yt.__c||Lt,yt)),null!=Lt?(null==er&&(er=Lt),"function"==typeof yt.type&&yt.__k===en.__k?yt.__d=hn=vt(yt,hn,Ae):hn=Re(Ae,yt,en,xn,Lt,hn),"function"==typeof Ve.type&&(Ve.__d=hn)):hn&&en.__e==hn&&hn.parentNode!=Ae&&(hn=je(en))}for(Ve.__e=er,Ze=Dn;Ze--;)null!=xn[Ze]&&("function"==typeof Ve.type&&null!=xn[Ze].__e&&xn[Ze].__e==Ve.__d&&(Ve.__d=je(lt,Ze+1)),xt(xn[Ze],xn[Ze]));if(An)for(Ze=0;Ze<An.length;Ze++)Xn(An[Ze],An[++Ze],An[++Ze])}function vt(Ae,Ee,Ve){for(var lt,wt=Ae.__k,qe=0;wt&&qe<wt.length;qe++)(lt=wt[qe])&&(lt.__=Ae,Ee="function"==typeof lt.type?vt(lt,Ee,Ve):Re(Ve,lt,lt,wt,lt.__e,Ee));return Ee}function Te(Ae,Ee){return Ee=Ee||[],null==Ae||"boolean"==typeof Ae||(Array.isArray(Ae)?Ae.some(function(Ve){Te(Ve,Ee)}):Ee.push(Ae)),Ee}function Re(Ae,Ee,Ve,lt,wt,qe){var Ft,on,hn;if(void 0!==Ee.__d)Ft=Ee.__d,Ee.__d=void 0;else if(null==Ve||wt!=qe||null==wt.parentNode)e:if(null==qe||qe.parentNode!==Ae)Ae.appendChild(wt),Ft=null;else{for(on=qe,hn=0;(on=on.nextSibling)&&hn<lt.length;hn+=2)if(on==wt)break e;Ae.insertBefore(wt,qe),Ft=qe}return void 0!==Ft?Ft:wt.nextSibling}function Ie(Ae,Ee,Ve){"-"===Ee[0]?Ae.setProperty(Ee,Ve):Ae[Ee]=null==Ve?"":"number"!=typeof Ve||de.test(Ee)?Ve:Ve+"px"}function Fe(Ae,Ee,Ve,lt,wt){var qe;e:if("style"===Ee)if("string"==typeof Ve)Ae.style.cssText=Ve;else{if("string"==typeof lt&&(Ae.style.cssText=lt=""),lt)for(Ee in lt)Ve&&Ee in Ve||Ie(Ae.style,Ee,"");if(Ve)for(Ee in Ve)lt&&Ve[Ee]===lt[Ee]||Ie(Ae.style,Ee,Ve[Ee])}else if("o"===Ee[0]&&"n"===Ee[1])qe=Ee!==(Ee=Ee.replace(/Capture$/,"")),Ee=Ee.toLowerCase()in Ae?Ee.toLowerCase().slice(2):Ee.slice(2),Ae.l||(Ae.l={}),Ae.l[Ee+qe]=Ve,Ve?lt||Ae.addEventListener(Ee,qe?Xe:Be,qe):Ae.removeEventListener(Ee,qe?Xe:Be,qe);else if("dangerouslySetInnerHTML"!==Ee){if(wt)Ee=Ee.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==Ee&&"list"!==Ee&&"form"!==Ee&&"tabIndex"!==Ee&&"download"!==Ee&&Ee in Ae)try{Ae[Ee]=null==Ve?"":Ve;break e}catch(Ft){}"function"==typeof Ve||(null!=Ve&&(!1!==Ve||"a"===Ee[0]&&"r"===Ee[1])?Ae.setAttribute(Ee,Ve):Ae.removeAttribute(Ee))}}function Be(Ae){this.l[Ae.type+!1](P.event?P.event(Ae):Ae)}function Xe(Ae){this.l[Ae.type+!0](P.event?P.event(Ae):Ae)}function ke(Ae,Ee,Ve,lt,wt,qe,Ft,on,hn){var fn,Ze,Ct,en,yt,Lt,er,An,xn,Dn,Wn,ln=Ee.type;if(void 0!==Ee.constructor)return null;null!=Ve.__h&&(hn=Ve.__h,on=Ee.__e=Ve.__e,Ee.__h=null,qe=[on]),(fn=P.__b)&&fn(Ee);try{e:if("function"==typeof ln){if(An=Ee.props,xn=(fn=ln.contextType)&&lt[fn.__c],Dn=fn?xn?xn.props.value:fn.__:lt,Ve.__c?er=(Ze=Ee.__c=Ve.__c).__=Ze.__E:("prototype"in ln&&ln.prototype.render?Ee.__c=Ze=new ln(An,Dn):(Ee.__c=Ze=new oe(An,Dn),Ze.constructor=ln,Ze.render=Gt),xn&&xn.sub(Ze),Ze.props=An,Ze.state||(Ze.state={}),Ze.context=Dn,Ze.__n=lt,Ct=Ze.__d=!0,Ze.__h=[]),null==Ze.__s&&(Ze.__s=Ze.state),null!=ln.getDerivedStateFromProps&&(Ze.__s==Ze.state&&(Ze.__s=T({},Ze.__s)),T(Ze.__s,ln.getDerivedStateFromProps(An,Ze.__s))),en=Ze.props,yt=Ze.state,Ct)null==ln.getDerivedStateFromProps&&null!=Ze.componentWillMount&&Ze.componentWillMount(),null!=Ze.componentDidMount&&Ze.__h.push(Ze.componentDidMount);else{if(null==ln.getDerivedStateFromProps&&An!==en&&null!=Ze.componentWillReceiveProps&&Ze.componentWillReceiveProps(An,Dn),!Ze.__e&&null!=Ze.shouldComponentUpdate&&!1===Ze.shouldComponentUpdate(An,Ze.__s,Dn)||Ee.__v===Ve.__v){Ze.props=An,Ze.state=Ze.__s,Ee.__v!==Ve.__v&&(Ze.__d=!1),Ze.__v=Ee,Ee.__e=Ve.__e,Ee.__k=Ve.__k,Ee.__k.forEach(function(un){un&&(un.__=Ee)}),Ze.__h.length&&Ft.push(Ze);break e}null!=Ze.componentWillUpdate&&Ze.componentWillUpdate(An,Ze.__s,Dn),null!=Ze.componentDidUpdate&&Ze.__h.push(function(){Ze.componentDidUpdate(en,yt,Lt)})}Ze.context=Dn,Ze.props=An,Ze.state=Ze.__s,(fn=P.__r)&&fn(Ee),Ze.__d=!1,Ze.__v=Ee,Ze.__P=Ae,fn=Ze.render(Ze.props,Ze.state,Ze.context),Ze.state=Ze.__s,null!=Ze.getChildContext&&(lt=T(T({},lt),Ze.getChildContext())),Ct||null==Ze.getSnapshotBeforeUpdate||(Lt=Ze.getSnapshotBeforeUpdate(en,yt)),Wn=null!=fn&&fn.type===ce&&null==fn.key?fn.props.children:fn,ze(Ae,Array.isArray(Wn)?Wn:[Wn],Ee,Ve,lt,wt,qe,Ft,on,hn),Ze.base=Ee.__e,Ee.__h=null,Ze.__h.length&&Ft.push(Ze),er&&(Ze.__E=Ze.__=null),Ze.__e=!1}else null==qe&&Ee.__v===Ve.__v?(Ee.__k=Ve.__k,Ee.__e=Ve.__e):Ee.__e=function Xt(Ae,Ee,Ve,lt,wt,qe,Ft,on){var hn,fn,Ze,Ct=Ve.props,en=Ee.props,yt=Ee.type,Lt=0;if("svg"===yt&&(wt=!0),null!=qe)for(;Lt<qe.length;Lt++)if((hn=qe[Lt])&&"setAttribute"in hn==!!yt&&(yt?hn.localName===yt:3===hn.nodeType)){Ae=hn,qe[Lt]=null;break}if(null==Ae){if(null===yt)return document.createTextNode(en);Ae=wt?document.createElementNS("http://www.w3.org/2000/svg",yt):document.createElement(yt,en.is&&en),qe=null,on=!1}if(null===yt)Ct===en||on&&Ae.data===en||(Ae.data=en);else{if(qe=qe&&h.call(Ae.childNodes),fn=(Ct=Ve.props||De).dangerouslySetInnerHTML,Ze=en.dangerouslySetInnerHTML,!on){if(null!=qe)for(Ct={},Lt=0;Lt<Ae.attributes.length;Lt++)Ct[Ae.attributes[Lt].name]=Ae.attributes[Lt].value;(Ze||fn)&&(Ze&&(fn&&Ze.__html==fn.__html||Ze.__html===Ae.innerHTML)||(Ae.innerHTML=Ze&&Ze.__html||""))}if(function fe(Ae,Ee,Ve,lt,wt){var qe;for(qe in Ve)"children"===qe||"key"===qe||qe in Ee||Fe(Ae,qe,null,Ve[qe],lt);for(qe in Ee)wt&&"function"!=typeof Ee[qe]||"children"===qe||"key"===qe||"value"===qe||"checked"===qe||Ve[qe]===Ee[qe]||Fe(Ae,qe,Ee[qe],Ve[qe],lt)}(Ae,en,Ct,wt,on),Ze)Ee.__k=[];else if(Lt=Ee.props.children,ze(Ae,Array.isArray(Lt)?Lt:[Lt],Ee,Ve,lt,wt&&"foreignObject"!==yt,qe,Ft,qe?qe[0]:Ve.__k&&je(Ve,0),on),null!=qe)for(Lt=qe.length;Lt--;)null!=qe[Lt]&&F(qe[Lt]);on||("value"in en&&void 0!==(Lt=en.value)&&(Lt!==Ae.value||"progress"===yt&&!Lt||"option"===yt&&Lt!==Ct.value)&&Fe(Ae,"value",Lt,Ct.value,!1),"checked"in en&&void 0!==(Lt=en.checked)&&Lt!==Ae.checked&&Fe(Ae,"checked",Lt,Ct.checked,!1))}return Ae}(Ve.__e,Ee,Ve,lt,wt,qe,Ft,hn);(fn=P.diffed)&&fn(Ee)}catch(un){Ee.__v=null,(hn||null!=qe)&&(Ee.__e=on,Ee.__h=!!hn,qe[qe.indexOf(on)]=null),P.__e(un,Ee,Ve)}}function $t(Ae,Ee){P.__c&&P.__c(Ee,Ae),Ae.some(function(Ve){try{Ae=Ve.__h,Ve.__h=[],Ae.some(function(lt){lt.call(Ve)})}catch(lt){P.__e(lt,Ve.__v)}})}function Xn(Ae,Ee,Ve){try{"function"==typeof Ae?Ae(Ee):Ae.current=Ee}catch(lt){P.__e(lt,Ve)}}function xt(Ae,Ee,Ve){var lt,wt;if(P.unmount&&P.unmount(Ae),(lt=Ae.ref)&&(lt.current&&lt.current!==Ae.__e||Xn(lt,null,Ee)),null!=(lt=Ae.__c)){if(lt.componentWillUnmount)try{lt.componentWillUnmount()}catch(qe){P.__e(qe,Ee)}lt.base=lt.__P=null}if(lt=Ae.__k)for(wt=0;wt<lt.length;wt++)lt[wt]&&xt(lt[wt],Ee,"function"!=typeof Ae.type);Ve||null==Ae.__e||F(Ae.__e),Ae.__e=Ae.__d=void 0}function Gt(Ae,Ee,Ve){return this.constructor(Ae,Ve)}function qn(Ae,Ee,Ve){var lt,wt,qe;P.__&&P.__(Ae,Ee),wt=(lt="function"==typeof Ve)?null:Ve&&Ve.__k||Ee.__k,qe=[],ke(Ee,Ae=(!lt&&Ve||Ee).__k=U(ce,null,[Ae]),wt||De,De,void 0!==Ee.ownerSVGElement,!lt&&Ve?[Ve]:wt?null:Ee.firstChild?h.call(Ee.childNodes):null,qe,!lt&&Ve?Ve:wt?wt.__e:Ee.firstChild,lt),$t(qe,Ae)}function Hn(Ae,Ee){qn(Ae,Ee,Hn)}function Ar(Ae,Ee,Ve){var lt,wt,qe,Ft=T({},Ae.props);for(qe in Ee)"key"==qe?lt=Ee[qe]:"ref"==qe?wt=Ee[qe]:Ft[qe]=Ee[qe];return arguments.length>2&&(Ft.children=arguments.length>3?h.call(arguments,2):Ve),ie(Ae.type,Ft,lt||Ae.key,wt||Ae.ref,null)}function Cn(Ae,Ee){var Ve={__c:Ee="__cC"+xe++,__:Ae,Consumer:function(lt,wt){return lt.children(wt)},Provider:function(lt){var wt,qe;return this.getChildContext||(wt=[],(qe={})[Ee]=this,this.getChildContext=function(){return qe},this.shouldComponentUpdate=function(Ft){this.props.value!==Ft.value&&wt.some(We)},this.sub=function(Ft){wt.push(Ft);var on=Ft.componentWillUnmount;Ft.componentWillUnmount=function(){wt.splice(wt.indexOf(Ft),1),on&&on.call(Ft)}}),lt.children}};return Ve.Provider.__=Ve.Consumer.contextType=Ve}h=X.slice,P={__e:function(Ae,Ee,Ve,lt){for(var wt,qe,Ft;Ee=Ee.__;)if((wt=Ee.__c)&&!wt.__)try{if((qe=wt.constructor)&&null!=qe.getDerivedStateFromError&&(wt.setState(qe.getDerivedStateFromError(Ae)),Ft=wt.__d),null!=wt.componentDidCatch&&(wt.componentDidCatch(Ae,lt||{}),Ft=wt.__d),Ft)return wt.__E=wt}catch(on){Ae=on}throw Ae}},R=0,G=function(Ae){return null!=Ae&&void 0===Ae.constructor},oe.prototype.setState=function(Ae,Ee){var Ve;Ve=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=T({},this.state),"function"==typeof Ae&&(Ae=Ae(T({},Ve),this.props)),Ae&&T(Ve,Ae),null!=Ae&&this.__v&&(Ee&&this.__h.push(Ee),We(this))},oe.prototype.forceUpdate=function(Ae){this.__v&&(this.__e=!0,Ae&&this.__h.push(Ae),We(this))},oe.prototype.render=ce,ne=[],Ce="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ye.__r=0,xe=0},8306:(Pt,$e,$)=>{"use strict";$.d($e,{y:()=>X});var h=$(2961),P=$(727),R=$(8822),G=$(4671);var be=$(2416),xe=$(576),De=$(2806);let X=(()=>{class U{constructor(me){me&&(this._subscribe=me)}lift(me){const ce=new U;return ce.source=this,ce.operator=me,ce}subscribe(me,ce,oe){const je=function F(U){return U&&U instanceof h.Lv||function T(U){return U&&(0,xe.m)(U.next)&&(0,xe.m)(U.error)&&(0,xe.m)(U.complete)}(U)&&(0,P.Nn)(U)}(me)?me:new h.Hp(me,ce,oe);return(0,De.x)(()=>{const{operator:Qe,source:We}=this;je.add(Qe?Qe.call(je,We):We?this._subscribe(je):this._trySubscribe(je))}),je}_trySubscribe(me){try{return this._subscribe(me)}catch(ce){me.error(ce)}}forEach(me,ce){return new(ce=de(ce))((oe,je)=>{const Qe=new h.Hp({next:We=>{try{me(We)}catch(Ye){je(Ye),Qe.unsubscribe()}},error:je,complete:oe});this.subscribe(Qe)})}_subscribe(me){var ce;return null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(me)}[R.L](){return this}pipe(...me){return function Ce(U){return 0===U.length?G.y:1===U.length?U[0]:function(me){return U.reduce((ce,oe)=>oe(ce),me)}}(me)(this)}toPromise(me){return new(me=de(me))((ce,oe)=>{let je;this.subscribe(Qe=>je=Qe,Qe=>oe(Qe),()=>ce(je))})}}return U.create=ie=>new U(ie),U})();function de(U){var ie;return null!==(ie=null!=U?U:be.v.Promise)&&void 0!==ie?ie:Promise}},7579:(Pt,$e,$)=>{"use strict";$.d($e,{x:()=>be});var h=$(8306),P=$(727);const G=(0,$(3888).d)(De=>function(){De(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=$(8737),Ce=$(2806);let be=(()=>{class De extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(de){const T=new xe(this,this);return T.operator=de,T}_throwIfClosed(){if(this.closed)throw new G}next(de){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const T of this.currentObservers)T.next(de)}})}error(de){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=de;const{observers:T}=this;for(;T.length;)T.shift().error(de)}})}complete(){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:de}=this;for(;de.length;)de.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var de;return(null===(de=this.observers)||void 0===de?void 0:de.length)>0}_trySubscribe(de){return this._throwIfClosed(),super._trySubscribe(de)}_subscribe(de){return this._throwIfClosed(),this._checkFinalizedStatuses(de),this._innerSubscribe(de)}_innerSubscribe(de){const{hasError:T,isStopped:F,observers:U}=this;return T||F?P.Lc:(this.currentObservers=null,U.push(de),new P.w0(()=>{this.currentObservers=null,(0,ne.P)(U,de)}))}_checkFinalizedStatuses(de){const{hasError:T,thrownError:F,isStopped:U}=this;T?de.error(F):U&&de.complete()}asObservable(){const de=new h.y;return de.source=this,de}}return De.create=(X,de)=>new xe(X,de),De})();class xe extends be{constructor(X,de){super(),this.destination=X,this.source=de}next(X){var de,T;null===(T=null===(de=this.destination)||void 0===de?void 0:de.next)||void 0===T||T.call(de,X)}error(X){var de,T;null===(T=null===(de=this.destination)||void 0===de?void 0:de.error)||void 0===T||T.call(de,X)}complete(){var X,de;null===(de=null===(X=this.destination)||void 0===X?void 0:X.complete)||void 0===de||de.call(X)}_subscribe(X){var de,T;return null!==(T=null===(de=this.source)||void 0===de?void 0:de.subscribe(X))&&void 0!==T?T:P.Lc}}},2961:(Pt,$e,$)=>{"use strict";$.d($e,{Hp:()=>me,Lv:()=>T});var h=$(576),P=$(727),R=$(2416),G=$(7849);function ne(){}const Ce=De("C",void 0,void 0);function De(We,Ye,ze){return{kind:We,value:Ye,error:ze}}var X=$(3410),de=$(2806);class T extends P.w0{constructor(Ye){super(),this.isStopped=!1,Ye?(this.destination=Ye,(0,P.Nn)(Ye)&&Ye.add(this)):this.destination=Qe}static create(Ye,ze,vt){return new me(Ye,ze,vt)}next(Ye){this.isStopped?je(function xe(We){return De("N",We,void 0)}(Ye),this):this._next(Ye)}error(Ye){this.isStopped?je(function be(We){return De("E",void 0,We)}(Ye),this):(this.isStopped=!0,this._error(Ye))}complete(){this.isStopped?je(Ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ye){this.destination.next(Ye)}_error(Ye){try{this.destination.error(Ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const F=Function.prototype.bind;function U(We,Ye){return F.call(We,Ye)}class ie{constructor(Ye){this.partialObserver=Ye}next(Ye){const{partialObserver:ze}=this;if(ze.next)try{ze.next(Ye)}catch(vt){ce(vt)}}error(Ye){const{partialObserver:ze}=this;if(ze.error)try{ze.error(Ye)}catch(vt){ce(vt)}else ce(Ye)}complete(){const{partialObserver:Ye}=this;if(Ye.complete)try{Ye.complete()}catch(ze){ce(ze)}}}class me extends T{constructor(Ye,ze,vt){let Te;if(super(),(0,h.m)(Ye)||!Ye)Te={next:null!=Ye?Ye:void 0,error:null!=ze?ze:void 0,complete:null!=vt?vt:void 0};else{let Re;this&&R.v.useDeprecatedNextContext?(Re=Object.create(Ye),Re.unsubscribe=()=>this.unsubscribe(),Te={next:Ye.next&&U(Ye.next,Re),error:Ye.error&&U(Ye.error,Re),complete:Ye.complete&&U(Ye.complete,Re)}):Te=Ye}this.destination=new ie(Te)}}function ce(We){R.v.useDeprecatedSynchronousErrorHandling?(0,de.O)(We):(0,G.h)(We)}function je(We,Ye){const{onStoppedNotification:ze}=R.v;ze&&X.z.setTimeout(()=>ze(We,Ye))}const Qe={closed:!0,next:ne,error:function oe(We){throw We},complete:ne}},727:(Pt,$e,$)=>{"use strict";$.d($e,{Lc:()=>Ce,w0:()=>ne,Nn:()=>be});var h=$(576);const R=(0,$(3888).d)(De=>function(de){De(this),this.message=de?`${de.length} errors occurred during unsubscription:\n${de.map((T,F)=>`${F+1}) ${T.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=de});var G=$(8737);class ne{constructor(X){this.initialTeardown=X,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let X;if(!this.closed){this.closed=!0;const{_parentage:de}=this;if(de)if(this._parentage=null,Array.isArray(de))for(const U of de)U.remove(this);else de.remove(this);const{initialTeardown:T}=this;if((0,h.m)(T))try{T()}catch(U){X=U instanceof R?U.errors:[U]}const{_finalizers:F}=this;if(F){this._finalizers=null;for(const U of F)try{xe(U)}catch(ie){X=null!=X?X:[],ie instanceof R?X=[...X,...ie.errors]:X.push(ie)}}if(X)throw new R(X)}}add(X){var de;if(X&&X!==this)if(this.closed)xe(X);else{if(X instanceof ne){if(X.closed||X._hasParent(this))return;X._addParent(this)}(this._finalizers=null!==(de=this._finalizers)&&void 0!==de?de:[]).push(X)}}_hasParent(X){const{_parentage:de}=this;return de===X||Array.isArray(de)&&de.includes(X)}_addParent(X){const{_parentage:de}=this;this._parentage=Array.isArray(de)?(de.push(X),de):de?[de,X]:X}_removeParent(X){const{_parentage:de}=this;de===X?this._parentage=null:Array.isArray(de)&&(0,G.P)(de,X)}remove(X){const{_finalizers:de}=this;de&&(0,G.P)(de,X),X instanceof ne&&X._removeParent(this)}}ne.EMPTY=(()=>{const De=new ne;return De.closed=!0,De})();const Ce=ne.EMPTY;function be(De){return De instanceof ne||De&&"closed"in De&&(0,h.m)(De.remove)&&(0,h.m)(De.add)&&(0,h.m)(De.unsubscribe)}function xe(De){(0,h.m)(De)?De():De.unsubscribe()}},2416:(Pt,$e,$)=>{"use strict";$.d($e,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Pt,$e,$)=>{"use strict";$.d($e,{E:()=>P});const P=new($(8306).y)(ne=>ne.complete())},8996:(Pt,$e,$)=>{"use strict";$.d($e,{D:()=>Ye});var h=$(8421),P=$(5363),R=$(9468),Ce=$(8306),xe=$(2202),De=$(576),X=$(9672);function T(ze,vt){if(!ze)throw new Error("Iterable cannot be null");return new Ce.y(Te=>{(0,X.f)(Te,vt,()=>{const Re=ze[Symbol.asyncIterator]();(0,X.f)(Te,vt,()=>{Re.next().then(fe=>{fe.done?Te.complete():Te.next(fe.value)})},0,!0)})})}var F=$(3670),U=$(8239),ie=$(1144),me=$(6495),ce=$(2206),oe=$(4532),je=$(3260);function Ye(ze,vt){return vt?function We(ze,vt){if(null!=ze){if((0,F.c)(ze))return function G(ze,vt){return(0,h.Xf)(ze).pipe((0,R.R)(vt),(0,P.Q)(vt))}(ze,vt);if((0,ie.z)(ze))return function be(ze,vt){return new Ce.y(Te=>{let Re=0;return vt.schedule(function(){Re===ze.length?Te.complete():(Te.next(ze[Re++]),Te.closed||this.schedule())})})}(ze,vt);if((0,U.t)(ze))return function ne(ze,vt){return(0,h.Xf)(ze).pipe((0,R.R)(vt),(0,P.Q)(vt))}(ze,vt);if((0,ce.D)(ze))return T(ze,vt);if((0,me.T)(ze))return function de(ze,vt){return new Ce.y(Te=>{let Re;return(0,X.f)(Te,vt,()=>{Re=ze[xe.h](),(0,X.f)(Te,vt,()=>{let fe,Ie;try{({value:fe,done:Ie}=Re.next())}catch(Fe){return void Te.error(Fe)}Ie?Te.complete():Te.next(fe)},0,!0)}),()=>(0,De.m)(null==Re?void 0:Re.return)&&Re.return()})}(ze,vt);if((0,je.L)(ze))return function Qe(ze,vt){return T((0,je.Q)(ze),vt)}(ze,vt)}throw(0,oe.z)(ze)}(ze,vt):(0,h.Xf)(ze)}},8421:(Pt,$e,$)=>{"use strict";$.d($e,{Xf:()=>F});var h=$(655),P=$(1144),R=$(8239),G=$(8306),ne=$(3670),Ce=$(2206),be=$(4532),xe=$(6495),De=$(3260),X=$(576),de=$(7849),T=$(8822);function F(We){if(We instanceof G.y)return We;if(null!=We){if((0,ne.c)(We))return function U(We){return new G.y(Ye=>{const ze=We[T.L]();if((0,X.m)(ze.subscribe))return ze.subscribe(Ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(We);if((0,P.z)(We))return function ie(We){return new G.y(Ye=>{for(let ze=0;ze<We.length&&!Ye.closed;ze++)Ye.next(We[ze]);Ye.complete()})}(We);if((0,R.t)(We))return function me(We){return new G.y(Ye=>{We.then(ze=>{Ye.closed||(Ye.next(ze),Ye.complete())},ze=>Ye.error(ze)).then(null,de.h)})}(We);if((0,Ce.D)(We))return oe(We);if((0,xe.T)(We))return function ce(We){return new G.y(Ye=>{for(const ze of We)if(Ye.next(ze),Ye.closed)return;Ye.complete()})}(We);if((0,De.L)(We))return function je(We){return oe((0,De.Q)(We))}(We)}throw(0,be.z)(We)}function oe(We){return new G.y(Ye=>{(function Qe(We,Ye){var ze,vt,Te,Re;return(0,h.__awaiter)(this,void 0,void 0,function*(){try{for(ze=(0,h.__asyncValues)(We);!(vt=yield ze.next()).done;)if(Ye.next(vt.value),Ye.closed)return}catch(fe){Te={error:fe}}finally{try{vt&&!vt.done&&(Re=ze.return)&&(yield Re.call(ze))}finally{if(Te)throw Te.error}}Ye.complete()})})(We,Ye).catch(ze=>Ye.error(ze))})}},6451:(Pt,$e,$)=>{"use strict";$.d($e,{T:()=>Ce});var h=$(8189),P=$(8421),R=$(515),G=$(7669),ne=$(8996);function Ce(...be){const xe=(0,G.yG)(be),De=(0,G._6)(be,1/0),X=be;return X.length?1===X.length?(0,P.Xf)(X[0]):(0,h.J)(De)((0,ne.D)(X,xe)):R.E}},5403:(Pt,$e,$)=>{"use strict";$.d($e,{x:()=>P});var h=$(2961);function P(G,ne,Ce,be,xe){return new R(G,ne,Ce,be,xe)}class R extends h.Lv{constructor(ne,Ce,be,xe,De,X){super(ne),this.onFinalize=De,this.shouldUnsubscribe=X,this._next=Ce?function(de){try{Ce(de)}catch(T){ne.error(T)}}:super._next,this._error=xe?function(de){try{xe(de)}catch(T){ne.error(T)}finally{this.unsubscribe()}}:super._error,this._complete=be?function(){try{be()}catch(de){ne.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ce}=this;super.unsubscribe(),!Ce&&(null===(ne=this.onFinalize)||void 0===ne||ne.call(this))}}}},4004:(Pt,$e,$)=>{"use strict";$.d($e,{U:()=>R});var h=$(4482),P=$(5403);function R(G,ne){return(0,h.e)((Ce,be)=>{let xe=0;Ce.subscribe((0,P.x)(be,De=>{be.next(G.call(ne,De,xe++))}))})}},8189:(Pt,$e,$)=>{"use strict";$.d($e,{J:()=>R});var h=$(5577),P=$(4671);function R(G=1/0){return(0,h.z)(P.y,G)}},5577:(Pt,$e,$)=>{"use strict";$.d($e,{z:()=>xe});var h=$(4004),P=$(8421),R=$(4482),G=$(9672),ne=$(5403),be=$(576);function xe(De,X,de=1/0){return(0,be.m)(X)?xe((T,F)=>(0,h.U)((U,ie)=>X(T,U,F,ie))((0,P.Xf)(De(T,F))),de):("number"==typeof X&&(de=X),(0,R.e)((T,F)=>function Ce(De,X,de,T,F,U,ie,me){const ce=[];let oe=0,je=0,Qe=!1;const We=()=>{Qe&&!ce.length&&!oe&&X.complete()},Ye=vt=>oe<T?ze(vt):ce.push(vt),ze=vt=>{U&&X.next(vt),oe++;let Te=!1;(0,P.Xf)(de(vt,je++)).subscribe((0,ne.x)(X,Re=>{null==F||F(Re),U?Ye(Re):X.next(Re)},()=>{Te=!0},void 0,()=>{if(Te)try{for(oe--;ce.length&&oe<T;){const Re=ce.shift();ie?(0,G.f)(X,ie,()=>ze(Re)):ze(Re)}We()}catch(Re){X.error(Re)}}))};return De.subscribe((0,ne.x)(X,Ye,()=>{Qe=!0,We()})),()=>{null==me||me()}}(T,F,De,de)))}},5363:(Pt,$e,$)=>{"use strict";$.d($e,{Q:()=>G});var h=$(9672),P=$(4482),R=$(5403);function G(ne,Ce=0){return(0,P.e)((be,xe)=>{be.subscribe((0,R.x)(xe,De=>(0,h.f)(xe,ne,()=>xe.next(De),Ce),()=>(0,h.f)(xe,ne,()=>xe.complete(),Ce),De=>(0,h.f)(xe,ne,()=>xe.error(De),Ce)))})}},3099:(Pt,$e,$)=>{"use strict";$.d($e,{B:()=>Ce});var h=$(8996),P=$(5698),R=$(7579),G=$(2961),ne=$(4482);function Ce(xe={}){const{connector:De=(()=>new R.x),resetOnError:X=!0,resetOnComplete:de=!0,resetOnRefCountZero:T=!0}=xe;return F=>{let U=null,ie=null,me=null,ce=0,oe=!1,je=!1;const Qe=()=>{null==ie||ie.unsubscribe(),ie=null},We=()=>{Qe(),U=me=null,oe=je=!1},Ye=()=>{const ze=U;We(),null==ze||ze.unsubscribe()};return(0,ne.e)((ze,vt)=>{ce++,!je&&!oe&&Qe();const Te=me=null!=me?me:De();vt.add(()=>{ce--,0===ce&&!je&&!oe&&(ie=be(Ye,T))}),Te.subscribe(vt),U||(U=new G.Hp({next:Re=>Te.next(Re),error:Re=>{je=!0,Qe(),ie=be(We,X,Re),Te.error(Re)},complete:()=>{oe=!0,Qe(),ie=be(We,de),Te.complete()}}),(0,h.D)(ze).subscribe(U))})(F)}}function be(xe,De,...X){return!0===De?(xe(),null):!1===De?null:De(...X).pipe((0,P.q)(1)).subscribe(()=>xe())}},9468:(Pt,$e,$)=>{"use strict";$.d($e,{R:()=>P});var h=$(4482);function P(R,G=0){return(0,h.e)((ne,Ce)=>{Ce.add(R.schedule(()=>ne.subscribe(Ce),G))})}},5698:(Pt,$e,$)=>{"use strict";$.d($e,{q:()=>G});var h=$(515),P=$(4482),R=$(5403);function G(ne){return ne<=0?()=>h.E:(0,P.e)((Ce,be)=>{let xe=0;Ce.subscribe((0,R.x)(be,De=>{++xe<=ne&&(be.next(De),ne<=xe&&be.complete())}))})}},8505:(Pt,$e,$)=>{"use strict";$.d($e,{b:()=>ne});var h=$(576),P=$(4482),R=$(5403),G=$(4671);function ne(Ce,be,xe){const De=(0,h.m)(Ce)||be||xe?{next:Ce,error:be,complete:xe}:Ce;return De?(0,P.e)((X,de)=>{var T;null===(T=De.subscribe)||void 0===T||T.call(De);let F=!0;X.subscribe((0,R.x)(de,U=>{var ie;null===(ie=De.next)||void 0===ie||ie.call(De,U),de.next(U)},()=>{var U;F=!1,null===(U=De.complete)||void 0===U||U.call(De),de.complete()},U=>{var ie;F=!1,null===(ie=De.error)||void 0===ie||ie.call(De,U),de.error(U)},()=>{var U,ie;F&&(null===(U=De.unsubscribe)||void 0===U||U.call(De)),null===(ie=De.finalize)||void 0===ie||ie.call(De)}))}):G.y}},4408:(Pt,$e,$)=>{"use strict";$.d($e,{o:()=>ne});var h=$(727);class P extends h.w0{constructor(be,xe){super()}schedule(be,xe=0){return this}}const R={setInterval(Ce,be,...xe){const{delegate:De}=R;return(null==De?void 0:De.setInterval)?De.setInterval(Ce,be,...xe):setInterval(Ce,be,...xe)},clearInterval(Ce){const{delegate:be}=R;return((null==be?void 0:be.clearInterval)||clearInterval)(Ce)},delegate:void 0};var G=$(8737);class ne extends P{constructor(be,xe){super(be,xe),this.scheduler=be,this.work=xe,this.pending=!1}schedule(be,xe=0){if(this.closed)return this;this.state=be;const De=this.id,X=this.scheduler;return null!=De&&(this.id=this.recycleAsyncId(X,De,xe)),this.pending=!0,this.delay=xe,this.id=this.id||this.requestAsyncId(X,this.id,xe),this}requestAsyncId(be,xe,De=0){return R.setInterval(be.flush.bind(be,this),De)}recycleAsyncId(be,xe,De=0){if(null!=De&&this.delay===De&&!1===this.pending)return xe;R.clearInterval(xe)}execute(be,xe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const De=this._execute(be,xe);if(De)return De;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(be,xe){let X,De=!1;try{this.work(be)}catch(de){De=!0,X=de||new Error("Scheduled action threw falsy error")}if(De)return this.unsubscribe(),X}unsubscribe(){if(!this.closed){const{id:be,scheduler:xe}=this,{actions:De}=xe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,G.P)(De,this),null!=be&&(this.id=this.recycleAsyncId(xe,be,null)),this.delay=null,super.unsubscribe()}}}},7565:(Pt,$e,$)=>{"use strict";$.d($e,{v:()=>R});var h=$(6063);class P{constructor(ne,Ce=P.now){this.schedulerActionCtor=ne,this.now=Ce}schedule(ne,Ce=0,be){return new this.schedulerActionCtor(this,ne).schedule(be,Ce)}}P.now=h.l.now;class R extends P{constructor(ne,Ce=P.now){super(ne,Ce),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ne){const{actions:Ce}=this;if(this._active)return void Ce.push(ne);let be;this._active=!0;do{if(be=ne.execute(ne.state,ne.delay))break}while(ne=Ce.shift());if(this._active=!1,be){for(;ne=Ce.shift();)ne.unsubscribe();throw be}}}},4986:(Pt,$e,$)=>{"use strict";$.d($e,{z:()=>R});var h=$(4408);const R=new($(7565).v)(h.o)},6063:(Pt,$e,$)=>{"use strict";$.d($e,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(Pt,$e,$)=>{"use strict";$.d($e,{z:()=>h});const h={setTimeout(P,R,...G){const{delegate:ne}=h;return(null==ne?void 0:ne.setTimeout)?ne.setTimeout(P,R,...G):setTimeout(P,R,...G)},clearTimeout(P){const{delegate:R}=h;return((null==R?void 0:R.clearTimeout)||clearTimeout)(P)},delegate:void 0}},2202:(Pt,$e,$)=>{"use strict";$.d($e,{h:()=>P});const P=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Pt,$e,$)=>{"use strict";$.d($e,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Pt,$e,$)=>{"use strict";$.d($e,{_6:()=>Ce,jO:()=>G,yG:()=>ne});var h=$(576);function R(be){return be[be.length-1]}function G(be){return(0,h.m)(R(be))?be.pop():void 0}function ne(be){return function P(be){return be&&(0,h.m)(be.schedule)}(R(be))?be.pop():void 0}function Ce(be,xe){return"number"==typeof R(be)?be.pop():xe}},8737:(Pt,$e,$)=>{"use strict";function h(P,R){if(P){const G=P.indexOf(R);0<=G&&P.splice(G,1)}}$.d($e,{P:()=>h})},3888:(Pt,$e,$)=>{"use strict";function h(P){const G=P(ne=>{Error.call(ne),ne.stack=(new Error).stack});return G.prototype=Object.create(Error.prototype),G.prototype.constructor=G,G}$.d($e,{d:()=>h})},2806:(Pt,$e,$)=>{"use strict";$.d($e,{O:()=>G,x:()=>R});var h=$(2416);let P=null;function R(ne){if(h.v.useDeprecatedSynchronousErrorHandling){const Ce=!P;if(Ce&&(P={errorThrown:!1,error:null}),ne(),Ce){const{errorThrown:be,error:xe}=P;if(P=null,be)throw xe}}else ne()}function G(ne){h.v.useDeprecatedSynchronousErrorHandling&&P&&(P.errorThrown=!0,P.error=ne)}},9672:(Pt,$e,$)=>{"use strict";function h(P,R,G,ne=0,Ce=!1){const be=R.schedule(function(){G(),Ce?P.add(this.schedule(null,ne)):this.unsubscribe()},ne);if(P.add(be),!Ce)return be}$.d($e,{f:()=>h})},4671:(Pt,$e,$)=>{"use strict";function h(P){return P}$.d($e,{y:()=>h})},1144:(Pt,$e,$)=>{"use strict";$.d($e,{z:()=>h});const h=P=>P&&"number"==typeof P.length&&"function"!=typeof P},2206:(Pt,$e,$)=>{"use strict";$.d($e,{D:()=>P});var h=$(576);function P(R){return Symbol.asyncIterator&&(0,h.m)(null==R?void 0:R[Symbol.asyncIterator])}},576:(Pt,$e,$)=>{"use strict";function h(P){return"function"==typeof P}$.d($e,{m:()=>h})},3670:(Pt,$e,$)=>{"use strict";$.d($e,{c:()=>R});var h=$(8822),P=$(576);function R(G){return(0,P.m)(G[h.L])}},6495:(Pt,$e,$)=>{"use strict";$.d($e,{T:()=>R});var h=$(2202),P=$(576);function R(G){return(0,P.m)(null==G?void 0:G[h.h])}},8239:(Pt,$e,$)=>{"use strict";$.d($e,{t:()=>P});var h=$(576);function P(R){return(0,h.m)(null==R?void 0:R.then)}},3260:(Pt,$e,$)=>{"use strict";$.d($e,{L:()=>G,Q:()=>R});var h=$(655),P=$(576);function R(ne){return(0,h.__asyncGenerator)(this,arguments,function*(){const be=ne.getReader();try{for(;;){const{value:xe,done:De}=yield(0,h.__await)(be.read());if(De)return yield(0,h.__await)(void 0);yield yield(0,h.__await)(xe)}}finally{be.releaseLock()}})}function G(ne){return(0,P.m)(null==ne?void 0:ne.getReader)}},4482:(Pt,$e,$)=>{"use strict";$.d($e,{A:()=>P,e:()=>R});var h=$(576);function P(G){return(0,h.m)(null==G?void 0:G.lift)}function R(G){return ne=>{if(P(ne))return ne.lift(function(Ce){try{return G(Ce,this)}catch(be){this.error(be)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(Pt,$e,$)=>{"use strict";$.d($e,{h:()=>R});var h=$(2416),P=$(3410);function R(G){P.z.setTimeout(()=>{const{onUnhandledError:ne}=h.v;if(!ne)throw G;ne(G)})}},4532:(Pt,$e,$)=>{"use strict";function h(P){return new TypeError(`You provided ${null!==P&&"object"==typeof P?"an invalid object":`'${P}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}$.d($e,{z:()=>h})},655:(Pt,$e,$)=>{"use strict";$.r($e),$.d($e,{__assign:()=>R,__asyncDelegator:()=>je,__asyncGenerator:()=>oe,__asyncValues:()=>Qe,__await:()=>ce,__awaiter:()=>xe,__classPrivateFieldGet:()=>Te,__classPrivateFieldSet:()=>Re,__createBinding:()=>X,__decorate:()=>ne,__exportStar:()=>de,__extends:()=>P,__generator:()=>De,__importDefault:()=>vt,__importStar:()=>ze,__makeTemplateObject:()=>We,__metadata:()=>be,__param:()=>Ce,__read:()=>F,__rest:()=>G,__spread:()=>U,__spreadArray:()=>me,__spreadArrays:()=>ie,__values:()=>T});var h=function(fe,Ie){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Fe,Be){Fe.__proto__=Be}||function(Fe,Be){for(var Xe in Be)Object.prototype.hasOwnProperty.call(Be,Xe)&&(Fe[Xe]=Be[Xe])})(fe,Ie)};function P(fe,Ie){if("function"!=typeof Ie&&null!==Ie)throw new TypeError("Class extends value "+String(Ie)+" is not a constructor or null");function Fe(){this.constructor=fe}h(fe,Ie),fe.prototype=null===Ie?Object.create(Ie):(Fe.prototype=Ie.prototype,new Fe)}var R=function(){return R=Object.assign||function(Ie){for(var Fe,Be=1,Xe=arguments.length;Be<Xe;Be++)for(var ke in Fe=arguments[Be])Object.prototype.hasOwnProperty.call(Fe,ke)&&(Ie[ke]=Fe[ke]);return Ie},R.apply(this,arguments)};function G(fe,Ie){var Fe={};for(var Be in fe)Object.prototype.hasOwnProperty.call(fe,Be)&&Ie.indexOf(Be)<0&&(Fe[Be]=fe[Be]);if(null!=fe&&"function"==typeof Object.getOwnPropertySymbols){var Xe=0;for(Be=Object.getOwnPropertySymbols(fe);Xe<Be.length;Xe++)Ie.indexOf(Be[Xe])<0&&Object.prototype.propertyIsEnumerable.call(fe,Be[Xe])&&(Fe[Be[Xe]]=fe[Be[Xe]])}return Fe}function ne(fe,Ie,Fe,Be){var $t,Xe=arguments.length,ke=Xe<3?Ie:null===Be?Be=Object.getOwnPropertyDescriptor(Ie,Fe):Be;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ke=Reflect.decorate(fe,Ie,Fe,Be);else for(var Xt=fe.length-1;Xt>=0;Xt--)($t=fe[Xt])&&(ke=(Xe<3?$t(ke):Xe>3?$t(Ie,Fe,ke):$t(Ie,Fe))||ke);return Xe>3&&ke&&Object.defineProperty(Ie,Fe,ke),ke}function Ce(fe,Ie){return function(Fe,Be){Ie(Fe,Be,fe)}}function be(fe,Ie){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(fe,Ie)}function xe(fe,Ie,Fe,Be){return new(Fe||(Fe=Promise))(function(ke,$t){function Xt(Gt){try{xt(Be.next(Gt))}catch(qn){$t(qn)}}function Xn(Gt){try{xt(Be.throw(Gt))}catch(qn){$t(qn)}}function xt(Gt){Gt.done?ke(Gt.value):function Xe(ke){return ke instanceof Fe?ke:new Fe(function($t){$t(ke)})}(Gt.value).then(Xt,Xn)}xt((Be=Be.apply(fe,Ie||[])).next())})}function De(fe,Ie){var Be,Xe,ke,$t,Fe={label:0,sent:function(){if(1&ke[0])throw ke[1];return ke[1]},trys:[],ops:[]};return $t={next:Xt(0),throw:Xt(1),return:Xt(2)},"function"==typeof Symbol&&($t[Symbol.iterator]=function(){return this}),$t;function Xt(xt){return function(Gt){return function Xn(xt){if(Be)throw new TypeError("Generator is already executing.");for(;Fe;)try{if(Be=1,Xe&&(ke=2&xt[0]?Xe.return:xt[0]?Xe.throw||((ke=Xe.return)&&ke.call(Xe),0):Xe.next)&&!(ke=ke.call(Xe,xt[1])).done)return ke;switch(Xe=0,ke&&(xt=[2&xt[0],ke.value]),xt[0]){case 0:case 1:ke=xt;break;case 4:return Fe.label++,{value:xt[1],done:!1};case 5:Fe.label++,Xe=xt[1],xt=[0];continue;case 7:xt=Fe.ops.pop(),Fe.trys.pop();continue;default:if(!(ke=(ke=Fe.trys).length>0&&ke[ke.length-1])&&(6===xt[0]||2===xt[0])){Fe=0;continue}if(3===xt[0]&&(!ke||xt[1]>ke[0]&&xt[1]<ke[3])){Fe.label=xt[1];break}if(6===xt[0]&&Fe.label<ke[1]){Fe.label=ke[1],ke=xt;break}if(ke&&Fe.label<ke[2]){Fe.label=ke[2],Fe.ops.push(xt);break}ke[2]&&Fe.ops.pop(),Fe.trys.pop();continue}xt=Ie.call(fe,Fe)}catch(Gt){xt=[6,Gt],Xe=0}finally{Be=ke=0}if(5&xt[0])throw xt[1];return{value:xt[0]?xt[1]:void 0,done:!0}}([xt,Gt])}}}var X=Object.create?function(fe,Ie,Fe,Be){void 0===Be&&(Be=Fe),Object.defineProperty(fe,Be,{enumerable:!0,get:function(){return Ie[Fe]}})}:function(fe,Ie,Fe,Be){void 0===Be&&(Be=Fe),fe[Be]=Ie[Fe]};function de(fe,Ie){for(var Fe in fe)"default"!==Fe&&!Object.prototype.hasOwnProperty.call(Ie,Fe)&&X(Ie,fe,Fe)}function T(fe){var Ie="function"==typeof Symbol&&Symbol.iterator,Fe=Ie&&fe[Ie],Be=0;if(Fe)return Fe.call(fe);if(fe&&"number"==typeof fe.length)return{next:function(){return fe&&Be>=fe.length&&(fe=void 0),{value:fe&&fe[Be++],done:!fe}}};throw new TypeError(Ie?"Object is not iterable.":"Symbol.iterator is not defined.")}function F(fe,Ie){var Fe="function"==typeof Symbol&&fe[Symbol.iterator];if(!Fe)return fe;var Xe,$t,Be=Fe.call(fe),ke=[];try{for(;(void 0===Ie||Ie-- >0)&&!(Xe=Be.next()).done;)ke.push(Xe.value)}catch(Xt){$t={error:Xt}}finally{try{Xe&&!Xe.done&&(Fe=Be.return)&&Fe.call(Be)}finally{if($t)throw $t.error}}return ke}function U(){for(var fe=[],Ie=0;Ie<arguments.length;Ie++)fe=fe.concat(F(arguments[Ie]));return fe}function ie(){for(var fe=0,Ie=0,Fe=arguments.length;Ie<Fe;Ie++)fe+=arguments[Ie].length;var Be=Array(fe),Xe=0;for(Ie=0;Ie<Fe;Ie++)for(var ke=arguments[Ie],$t=0,Xt=ke.length;$t<Xt;$t++,Xe++)Be[Xe]=ke[$t];return Be}function me(fe,Ie,Fe){if(Fe||2===arguments.length)for(var ke,Be=0,Xe=Ie.length;Be<Xe;Be++)(ke||!(Be in Ie))&&(ke||(ke=Array.prototype.slice.call(Ie,0,Be)),ke[Be]=Ie[Be]);return fe.concat(ke||Array.prototype.slice.call(Ie))}function ce(fe){return this instanceof ce?(this.v=fe,this):new ce(fe)}function oe(fe,Ie,Fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Xe,Be=Fe.apply(fe,Ie||[]),ke=[];return Xe={},$t("next"),$t("throw"),$t("return"),Xe[Symbol.asyncIterator]=function(){return this},Xe;function $t(Hn){Be[Hn]&&(Xe[Hn]=function(Ar){return new Promise(function(Cn,Ae){ke.push([Hn,Ar,Cn,Ae])>1||Xt(Hn,Ar)})})}function Xt(Hn,Ar){try{!function Xn(Hn){Hn.value instanceof ce?Promise.resolve(Hn.value.v).then(xt,Gt):qn(ke[0][2],Hn)}(Be[Hn](Ar))}catch(Cn){qn(ke[0][3],Cn)}}function xt(Hn){Xt("next",Hn)}function Gt(Hn){Xt("throw",Hn)}function qn(Hn,Ar){Hn(Ar),ke.shift(),ke.length&&Xt(ke[0][0],ke[0][1])}}function je(fe){var Ie,Fe;return Ie={},Be("next"),Be("throw",function(Xe){throw Xe}),Be("return"),Ie[Symbol.iterator]=function(){return this},Ie;function Be(Xe,ke){Ie[Xe]=fe[Xe]?function($t){return(Fe=!Fe)?{value:ce(fe[Xe]($t)),done:"return"===Xe}:ke?ke($t):$t}:ke}}function Qe(fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,Ie=fe[Symbol.asyncIterator];return Ie?Ie.call(fe):(fe=T(fe),Fe={},Be("next"),Be("throw"),Be("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe);function Be(ke){Fe[ke]=fe[ke]&&function($t){return new Promise(function(Xt,Xn){!function Xe(ke,$t,Xt,Xn){Promise.resolve(Xn).then(function(xt){ke({value:xt,done:Xt})},$t)}(Xt,Xn,($t=fe[ke]($t)).done,$t.value)})}}}function We(fe,Ie){return Object.defineProperty?Object.defineProperty(fe,"raw",{value:Ie}):fe.raw=Ie,fe}var Ye=Object.create?function(fe,Ie){Object.defineProperty(fe,"default",{enumerable:!0,value:Ie})}:function(fe,Ie){fe.default=Ie};function ze(fe){if(fe&&fe.__esModule)return fe;var Ie={};if(null!=fe)for(var Fe in fe)"default"!==Fe&&Object.prototype.hasOwnProperty.call(fe,Fe)&&X(Ie,fe,Fe);return Ye(Ie,fe),Ie}function vt(fe){return fe&&fe.__esModule?fe:{default:fe}}function Te(fe,Ie,Fe,Be){if("a"===Fe&&!Be)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof Ie?fe!==Ie||!Be:!Ie.has(fe))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===Fe?Be:"a"===Fe?Be.call(fe):Be?Be.value:Ie.get(fe)}function Re(fe,Ie,Fe,Be,Xe){if("m"===Be)throw new TypeError("Private method is not writable");if("a"===Be&&!Xe)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof Ie?fe!==Ie||!Xe:!Ie.has(fe))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===Be?Xe.call(fe,Fe):Xe?Xe.value=Fe:Ie.set(fe,Fe),Fe}},4602:Pt=>{"use strict";Pt.exports='\n/* classes attached to <body> */\n/* TODO: make fc-event selector work when calender in shadow DOM */\n.fc-not-allowed,\n.fc-not-allowed .fc-event { /* override events\' custom cursors */\n  cursor: not-allowed;\n}\n/* TODO: not attached to body. attached to specific els. move */\n.fc-unselectable {\n  -webkit-user-select: none;\n          user-select: none;\n  -webkit-touch-callout: none;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.fc {\n  /* layout of immediate children */\n  display: flex;\n  flex-direction: column;\n\n  font-size: 1em\n}\n.fc,\n  .fc *,\n  .fc *:before,\n  .fc *:after {\n    box-sizing: border-box;\n  }\n.fc table {\n    border-collapse: collapse;\n    border-spacing: 0;\n    font-size: 1em; /* normalize cross-browser */\n  }\n.fc th {\n    text-align: center;\n  }\n.fc th,\n  .fc td {\n    vertical-align: top;\n    padding: 0;\n  }\n.fc a[data-navlink] {\n    cursor: pointer;\n  }\n.fc a[data-navlink]:hover {\n    text-decoration: underline;\n  }\n.fc-direction-ltr {\n  direction: ltr;\n  text-align: left;\n}\n.fc-direction-rtl {\n  direction: rtl;\n  text-align: right;\n}\n.fc-theme-standard td,\n  .fc-theme-standard th {\n    border: 1px solid #ddd;\n    border: 1px solid var(--fc-border-color, #ddd);\n  }\n/* for FF, which doesn\'t expand a 100% div within a table cell. use absolute positioning */\n/* inner-wrappers are responsible for being absolute */\n/* TODO: best place for this? */\n.fc-liquid-hack td,\n  .fc-liquid-hack th {\n    position: relative;\n  }\n@font-face {\n  font-family: \'fcicons\';\n  src: url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format(\'truetype\');\n  font-weight: normal;\n  font-style: normal;\n}\n.fc-icon {\n  /* added for fc */\n  display: inline-block;\n  width: 1em;\n  height: 1em;\n  text-align: center;\n  -webkit-user-select: none;\n          user-select: none;\n\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: \'fcicons\' !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-feature-settings: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.fc-icon-chevron-left:before {\n  content: "\\e900";\n}\n.fc-icon-chevron-right:before {\n  content: "\\e901";\n}\n.fc-icon-chevrons-left:before {\n  content: "\\e902";\n}\n.fc-icon-chevrons-right:before {\n  content: "\\e903";\n}\n.fc-icon-minus-square:before {\n  content: "\\e904";\n}\n.fc-icon-plus-square:before {\n  content: "\\e905";\n}\n.fc-icon-x:before {\n  content: "\\e906";\n}\n/*\nLots taken from Flatly (MIT): https://bootswatch.com/4/flatly/bootstrap.css\n\nThese styles only apply when the standard-theme is activated.\nWhen it\'s NOT activated, the fc-button classes won\'t even be in the DOM.\n*/\n.fc {\n\n  /* reset */\n\n}\n.fc .fc-button {\n    border-radius: 0;\n    overflow: visible;\n    text-transform: none;\n    margin: 0;\n    font-family: inherit;\n    font-size: inherit;\n    line-height: inherit;\n  }\n.fc .fc-button:focus {\n    outline: 1px dotted;\n    outline: 5px auto -webkit-focus-ring-color;\n  }\n.fc .fc-button {\n    -webkit-appearance: button;\n  }\n.fc .fc-button:not(:disabled) {\n    cursor: pointer;\n  }\n.fc .fc-button::-moz-focus-inner {\n    padding: 0;\n    border-style: none;\n  }\n.fc {\n\n  /* theme */\n\n}\n.fc .fc-button {\n    display: inline-block;\n    font-weight: 400;\n    text-align: center;\n    vertical-align: middle;\n    -webkit-user-select: none;\n            user-select: none;\n    background-color: transparent;\n    border: 1px solid transparent;\n    padding: 0.4em 0.65em;\n    font-size: 1em;\n    line-height: 1.5;\n    border-radius: 0.25em;\n  }\n.fc .fc-button:hover {\n    text-decoration: none;\n  }\n.fc .fc-button:focus {\n    outline: 0;\n    box-shadow: 0 0 0 0.2rem rgba(44, 62, 80, 0.25);\n  }\n.fc .fc-button:disabled {\n    opacity: 0.65;\n  }\n.fc {\n\n  /* "primary" coloring */\n\n}\n.fc .fc-button-primary {\n    color: #fff;\n    color: var(--fc-button-text-color, #fff);\n    background-color: #2C3E50;\n    background-color: var(--fc-button-bg-color, #2C3E50);\n    border-color: #2C3E50;\n    border-color: var(--fc-button-border-color, #2C3E50);\n  }\n.fc .fc-button-primary:hover {\n    color: #fff;\n    color: var(--fc-button-text-color, #fff);\n    background-color: #1e2b37;\n    background-color: var(--fc-button-hover-bg-color, #1e2b37);\n    border-color: #1a252f;\n    border-color: var(--fc-button-hover-border-color, #1a252f);\n  }\n.fc .fc-button-primary:disabled { /* not DRY */\n    color: #fff;\n    color: var(--fc-button-text-color, #fff);\n    background-color: #2C3E50;\n    background-color: var(--fc-button-bg-color, #2C3E50);\n    border-color: #2C3E50;\n    border-color: var(--fc-button-border-color, #2C3E50); /* overrides :hover */\n  }\n.fc .fc-button-primary:focus {\n    box-shadow: 0 0 0 0.2rem rgba(76, 91, 106, 0.5);\n  }\n.fc .fc-button-primary:not(:disabled):active,\n  .fc .fc-button-primary:not(:disabled).fc-button-active {\n    color: #fff;\n    color: var(--fc-button-text-color, #fff);\n    background-color: #1a252f;\n    background-color: var(--fc-button-active-bg-color, #1a252f);\n    border-color: #151e27;\n    border-color: var(--fc-button-active-border-color, #151e27);\n  }\n.fc .fc-button-primary:not(:disabled):active:focus,\n  .fc .fc-button-primary:not(:disabled).fc-button-active:focus {\n    box-shadow: 0 0 0 0.2rem rgba(76, 91, 106, 0.5);\n  }\n.fc {\n\n  /* icons within buttons */\n\n}\n.fc .fc-button .fc-icon {\n    vertical-align: middle;\n    font-size: 1.5em; /* bump up the size (but don\'t make it bigger than line-height of button, which is 1.5em also) */\n  }\n.fc .fc-button-group {\n    position: relative;\n    display: inline-flex;\n    vertical-align: middle;\n  }\n.fc .fc-button-group > .fc-button {\n    position: relative;\n    flex: 1 1 auto;\n  }\n.fc .fc-button-group > .fc-button:hover {\n    z-index: 1;\n  }\n.fc .fc-button-group > .fc-button:focus,\n  .fc .fc-button-group > .fc-button:active,\n  .fc .fc-button-group > .fc-button.fc-button-active {\n    z-index: 1;\n  }\n.fc-direction-ltr .fc-button-group > .fc-button:not(:first-child) {\n    margin-left: -1px;\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n.fc-direction-ltr .fc-button-group > .fc-button:not(:last-child) {\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n.fc-direction-rtl .fc-button-group > .fc-button:not(:first-child) {\n    margin-right: -1px;\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n.fc-direction-rtl .fc-button-group > .fc-button:not(:last-child) {\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n.fc .fc-toolbar {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n.fc .fc-toolbar.fc-header-toolbar {\n    margin-bottom: 1.5em;\n  }\n.fc .fc-toolbar.fc-footer-toolbar {\n    margin-top: 1.5em;\n  }\n.fc .fc-toolbar-title {\n    font-size: 1.75em;\n    margin: 0;\n  }\n.fc-direction-ltr .fc-toolbar > * > :not(:first-child) {\n    margin-left: .75em; /* space between */\n  }\n.fc-direction-rtl .fc-toolbar > * > :not(:first-child) {\n    margin-right: .75em; /* space between */\n  }\n.fc-direction-rtl .fc-toolbar-ltr { /* when the toolbar-chunk positioning system is explicitly left-to-right */\n    flex-direction: row-reverse;\n  }\n.fc .fc-scroller {\n    -webkit-overflow-scrolling: touch;\n    position: relative; /* for abs-positioned elements within */\n  }\n.fc .fc-scroller-liquid {\n    height: 100%;\n  }\n.fc .fc-scroller-liquid-absolute {\n    position: absolute;\n    top: 0;\n    right: 0;\n    left: 0;\n    bottom: 0;\n  }\n.fc .fc-scroller-harness {\n    position: relative;\n    overflow: hidden;\n    direction: ltr;\n      /* hack for chrome computing the scroller\'s right/left wrong for rtl. undone below... */\n      /* TODO: demonstrate in codepen */\n  }\n.fc .fc-scroller-harness-liquid {\n    height: 100%;\n  }\n.fc-direction-rtl .fc-scroller-harness > .fc-scroller { /* undo above hack */\n    direction: rtl;\n  }\n.fc-theme-standard .fc-scrollgrid {\n    border: 1px solid #ddd;\n    border: 1px solid var(--fc-border-color, #ddd); /* bootstrap does this. match */\n  }\n.fc .fc-scrollgrid,\n    .fc .fc-scrollgrid table { /* all tables (self included) */\n      width: 100%; /* because tables don\'t normally do this */\n      table-layout: fixed;\n    }\n.fc .fc-scrollgrid table { /* inner tables */\n      border-top-style: hidden;\n      border-left-style: hidden;\n      border-right-style: hidden;\n    }\n.fc .fc-scrollgrid {\n\n    border-collapse: separate;\n    border-right-width: 0;\n    border-bottom-width: 0;\n\n  }\n.fc .fc-scrollgrid-liquid {\n    height: 100%;\n  }\n.fc .fc-scrollgrid-section { /* a <tr> */\n    height: 1px /* better than 0, for firefox */\n\n  }\n.fc .fc-scrollgrid-section > td {\n      height: 1px; /* needs a height so inner div within grow. better than 0, for firefox */\n    }\n.fc .fc-scrollgrid-section table {\n      height: 1px;\n        /* for most browsers, if a height isn\'t set on the table, can\'t do liquid-height within cells */\n        /* serves as a min-height. harmless */\n    }\n.fc .fc-scrollgrid-section-liquid > td {\n      height: 100%; /* better than `auto`, for firefox */\n    }\n.fc .fc-scrollgrid-section > * {\n    border-top-width: 0;\n    border-left-width: 0;\n  }\n.fc .fc-scrollgrid-section-header > *,\n  .fc .fc-scrollgrid-section-footer > * {\n    border-bottom-width: 0;\n  }\n.fc .fc-scrollgrid-section-body table,\n  .fc .fc-scrollgrid-section-footer table {\n    border-bottom-style: hidden; /* head keeps its bottom border tho */\n  }\n.fc {\n\n  /* stickiness */\n\n}\n.fc .fc-scrollgrid-section-sticky > * {\n    background: #fff;\n    background: var(--fc-page-bg-color, #fff);\n    position: sticky;\n    z-index: 3; /* TODO: var */\n    /* TODO: box-shadow when sticking */\n  }\n.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky > * {\n    top: 0; /* because border-sharing causes a gap at the top */\n      /* TODO: give safari -1. has bug */\n  }\n.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky > * {\n    bottom: 0; /* known bug: bottom-stickiness doesn\'t work in safari */\n  }\n.fc .fc-scrollgrid-sticky-shim { /* for horizontal scrollbar */\n    height: 1px; /* needs height to create scrollbars */\n    margin-bottom: -1px;\n  }\n.fc-sticky { /* no .fc wrap because used as child of body */\n  position: sticky;\n}\n.fc .fc-view-harness {\n    flex-grow: 1; /* because this harness is WITHIN the .fc\'s flexbox */\n    position: relative;\n  }\n.fc {\n\n  /* when the harness controls the height, make the view liquid */\n\n}\n.fc .fc-view-harness-active > .fc-view {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n  }\n.fc .fc-col-header-cell-cushion {\n    display: inline-block; /* x-browser for when sticky (when multi-tier header) */\n    padding: 2px 4px;\n  }\n.fc .fc-bg-event,\n  .fc .fc-non-business,\n  .fc .fc-highlight {\n    /* will always have a harness with position:relative/absolute, so absolutely expand */\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n.fc .fc-non-business {\n    background: rgba(215, 215, 215, 0.3);\n    background: var(--fc-non-business-color, rgba(215, 215, 215, 0.3));\n  }\n.fc .fc-bg-event {\n    background: rgb(143, 223, 130);\n    background: var(--fc-bg-event-color, rgb(143, 223, 130));\n    opacity: 0.3;\n    opacity: var(--fc-bg-event-opacity, 0.3)\n  }\n.fc .fc-bg-event .fc-event-title {\n      margin: .5em;\n      font-size: .85em;\n      font-size: var(--fc-small-font-size, .85em);\n      font-style: italic;\n    }\n.fc .fc-highlight {\n    background: rgba(188, 232, 241, 0.3);\n    background: var(--fc-highlight-color, rgba(188, 232, 241, 0.3));\n  }\n.fc .fc-cell-shaded,\n  .fc .fc-day-disabled {\n    background: rgba(208, 208, 208, 0.3);\n    background: var(--fc-neutral-bg-color, rgba(208, 208, 208, 0.3));\n  }\n/* link resets */\n/* ---------------------------------------------------------------------------------------------------- */\na.fc-event,\na.fc-event:hover {\n  text-decoration: none;\n}\n/* cursor */\n.fc-event[href],\n.fc-event.fc-event-draggable {\n  cursor: pointer;\n}\n/* event text content */\n/* ---------------------------------------------------------------------------------------------------- */\n.fc-event .fc-event-main {\n    position: relative;\n    z-index: 2;\n  }\n/* dragging */\n/* ---------------------------------------------------------------------------------------------------- */\n.fc-event-dragging:not(.fc-event-selected) { /* MOUSE */\n    opacity: 0.75;\n  }\n.fc-event-dragging.fc-event-selected { /* TOUCH */\n    box-shadow: 0 2px 7px rgba(0, 0, 0, 0.3);\n  }\n/* resizing */\n/* ---------------------------------------------------------------------------------------------------- */\n/* (subclasses should hone positioning for touch and non-touch) */\n.fc-event .fc-event-resizer {\n    display: none;\n    position: absolute;\n    z-index: 4;\n  }\n.fc-event:hover, /* MOUSE */\n.fc-event-selected { /* TOUCH */\n\n}\n.fc-event:hover .fc-event-resizer, .fc-event-selected .fc-event-resizer {\n    display: block;\n  }\n.fc-event-selected .fc-event-resizer {\n    border-radius: 4px;\n    border-radius: calc(var(--fc-event-resizer-dot-total-width, 8px) / 2);\n    border-width: 1px;\n    border-width: var(--fc-event-resizer-dot-border-width, 1px);\n    width: 8px;\n    width: var(--fc-event-resizer-dot-total-width, 8px);\n    height: 8px;\n    height: var(--fc-event-resizer-dot-total-width, 8px);\n    border-style: solid;\n    border-color: inherit;\n    background: #fff;\n    background: var(--fc-page-bg-color, #fff)\n\n    /* expand hit area */\n\n  }\n.fc-event-selected .fc-event-resizer:before {\n      content: \'\';\n      position: absolute;\n      top: -20px;\n      left: -20px;\n      right: -20px;\n      bottom: -20px;\n    }\n/* selecting (always TOUCH) */\n/* OR, focused by tab-index */\n/* (TODO: maybe not the best focus-styling for .fc-daygrid-dot-event) */\n/* ---------------------------------------------------------------------------------------------------- */\n.fc-event-selected,\n.fc-event:focus {\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2)\n\n  /* expand hit area (subclasses should expand) */\n\n}\n.fc-event-selected:before, .fc-event:focus:before {\n    content: "";\n    position: absolute;\n    z-index: 3;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n.fc-event-selected,\n.fc-event:focus {\n\n  /* dimmer effect */\n\n}\n.fc-event-selected:after, .fc-event:focus:after {\n    content: "";\n    background: rgba(0, 0, 0, 0.25);\n    background: var(--fc-event-selected-overlay-color, rgba(0, 0, 0, 0.25));\n    position: absolute;\n    z-index: 1;\n\n    /* assume there\'s a border on all sides. overcome it. */\n    /* sometimes there\'s NOT a border, in which case the dimmer will go over */\n    /* an adjacent border, which looks fine. */\n    top: -1px;\n    left: -1px;\n    right: -1px;\n    bottom: -1px;\n  }\n/*\nA HORIZONTAL event\n*/\n.fc-h-event { /* allowed to be top-level */\n  display: block;\n  border: 1px solid #3788d8;\n  border: 1px solid var(--fc-event-border-color, #3788d8);\n  background-color: #3788d8;\n  background-color: var(--fc-event-bg-color, #3788d8)\n\n}\n.fc-h-event .fc-event-main {\n    color: #fff;\n    color: var(--fc-event-text-color, #fff);\n  }\n.fc-h-event .fc-event-main-frame {\n    display: flex; /* for make fc-event-title-container expand */\n  }\n.fc-h-event .fc-event-time {\n    max-width: 100%; /* clip overflow on this element */\n    overflow: hidden;\n  }\n.fc-h-event .fc-event-title-container { /* serves as a container for the sticky cushion */\n    flex-grow: 1;\n    flex-shrink: 1;\n    min-width: 0; /* important for allowing to shrink all the way */\n  }\n.fc-h-event .fc-event-title {\n    display: inline-block; /* need this to be sticky cross-browser */\n    vertical-align: top; /* for not messing up line-height */\n    left: 0;  /* for sticky */\n    right: 0; /* for sticky */\n    max-width: 100%; /* clip overflow on this element */\n    overflow: hidden;\n  }\n.fc-h-event.fc-event-selected:before {\n    /* expand hit area */\n    top: -10px;\n    bottom: -10px;\n  }\n/* adjust border and border-radius (if there is any) for non-start/end */\n.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),\n.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end) {\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  border-left-width: 0;\n}\n.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),\n.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start) {\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  border-right-width: 0;\n}\n/* resizers */\n.fc-h-event:not(.fc-event-selected) .fc-event-resizer {\n  top: 0;\n  bottom: 0;\n  width: 8px;\n  width: var(--fc-event-resizer-thickness, 8px);\n}\n.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,\n.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end {\n  cursor: w-resize;\n  left: -4px;\n  left: calc(-0.5 * var(--fc-event-resizer-thickness, 8px));\n}\n.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,\n.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start {\n  cursor: e-resize;\n  right: -4px;\n  right: calc(-0.5 * var(--fc-event-resizer-thickness, 8px));\n}\n/* resizers for TOUCH */\n.fc-h-event.fc-event-selected .fc-event-resizer {\n  top: 50%;\n  margin-top: -4px;\n  margin-top: calc(-0.5 * var(--fc-event-resizer-dot-total-width, 8px));\n}\n.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,\n.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end {\n  left: -4px;\n  left: calc(-0.5 * var(--fc-event-resizer-dot-total-width, 8px));\n}\n.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,\n.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start {\n  right: -4px;\n  right: calc(-0.5 * var(--fc-event-resizer-dot-total-width, 8px));\n}\n.fc .fc-popover {\n    position: absolute;\n    z-index: 9999;\n    box-shadow: 0 2px 6px rgba(0,0,0,.15);\n  }\n.fc .fc-popover-header {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    padding: 3px 4px;\n  }\n.fc .fc-popover-title {\n    margin: 0 2px;\n  }\n.fc .fc-popover-close {\n    cursor: pointer;\n    opacity: 0.65;\n    font-size: 1.1em;\n  }\n.fc-theme-standard .fc-popover {\n    border: 1px solid #ddd;\n    border: 1px solid var(--fc-border-color, #ddd);\n    background: #fff;\n    background: var(--fc-page-bg-color, #fff);\n  }\n.fc-theme-standard .fc-popover-header {\n    background: rgba(208, 208, 208, 0.3);\n    background: var(--fc-neutral-bg-color, rgba(208, 208, 208, 0.3));\n  }\n'},5e3:(Pt,$e,$)=>{"use strict";$.d($e,{$8M:()=>Ko,$Z:()=>Vb,AFp:()=>uv,ALo:()=>$m,AaK:()=>xe,BQk:()=>sp,CHM:()=>Hs,CRH:()=>Xm,CZH:()=>lv,CqO:()=>Ub,EJc:()=>eS,EiD:()=>Zc,EpF:()=>op,F4k:()=>Bb,FYo:()=>$_,FiY:()=>Xs,G48:()=>uS,Gf:()=>bp,GfV:()=>q_,Gpc:()=>de,JOm:()=>z,JVY:()=>$c,L6k:()=>Kl,LAX:()=>Wc,LFG:()=>ui,LSH:()=>tf,Lbi:()=>xp,NdJ:()=>v_,O4$:()=>lh,OlP:()=>xr,PXZ:()=>Ow,Q6J:()=>ad,QGY:()=>wf,Qsj:()=>XA,R0b:()=>sa,RDi:()=>is,Rgc:()=>pd,SBq:()=>_i,Sil:()=>rS,Suo:()=>f0,TTD:()=>li,TgZ:()=>rp,Tol:()=>D_,Udp:()=>C_,VLi:()=>aS,X6Q:()=>N0,XFs:()=>Ct,Xpm:()=>Pe,Y36:()=>ou,YKP:()=>Lm,YNc:()=>Xy,Yjl:()=>At,Yz7:()=>Cn,ZZ4:()=>wv,_Bn:()=>uu,_UZ:()=>p_,_Vd:()=>If,_c5:()=>gS,_uU:()=>cA,aQg:()=>_d,c2e:()=>Nw,cJS:()=>Ee,cg1:()=>Tm,d8E:()=>Dm,dDg:()=>T0,deG:()=>Ks,dqk:()=>yn,eBb:()=>Uu,eFA:()=>M0,ekj:()=>Em,g9A:()=>Mp,h0i:()=>xf,hGG:()=>bi,hij:()=>Ji,iGM:()=>Ff,ifc:()=>un,ip1:()=>A0,kL8:()=>DA,kYT:()=>pe,lG2:()=>et,lcZ:()=>xi,mCW:()=>_,n5z:()=>ji,oAB:()=>Se,oJD:()=>Ah,oxw:()=>E_,pB0:()=>Qd,q3G:()=>Pr,q4F:()=>Pm,qLn:()=>Qc,qOj:()=>Qy,qZA:()=>ip,qzn:()=>Ta,sBO:()=>Ev,sIi:()=>Yh,s_b:()=>Pf,soG:()=>gd,tBr:()=>Js,tb:()=>Rp,tp0:()=>wo,uIk:()=>Yy,vHH:()=>ie,vpe:()=>ia,wAp:()=>vn,xp6:()=>to,yhl:()=>Sa,ynx:()=>Ns,z2F:()=>Ps,z3N:()=>ls,zSh:()=>im,zs3:()=>xs});var h=$(7579),P=$(727),R=$(8306),G=$(6451),ne=$(3099);function Ce(s){for(let o in s)if(s[o]===Ce)return o;throw Error("Could not find renamed property on target object.")}function be(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function xe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(xe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function De(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const X=Ce({__forward_ref__:Ce});function de(s){return s.__forward_ref__=de,s.toString=function(){return xe(this())},s}function T(s){return F(s)?s():s}function F(s){return"function"==typeof s&&s.hasOwnProperty(X)&&s.__forward_ref__===de}class ie extends Error{constructor(o,a){super(function me(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,a)),this.code=o}}function ce(s){return"string"==typeof s?s:null==s?"":String(s)}function oe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ce(s)}function Ye(s,o){const a=o?` in ${o}`:"";throw new ie(-201,`No provider for ${oe(s)} found${a}`)}function xt(s,o){null==s&&function Gt(s,o,a,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${a} ${u} ${o} <=Actual]`))}(o,s,null,"!=")}function Cn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Ee(s){return{providers:s.providers||[],imports:s.imports||[]}}function Ve(s){return lt(s,on)||lt(s,fn)}function lt(s,o){return s.hasOwnProperty(o)?s[o]:null}function Ft(s){return s&&(s.hasOwnProperty(hn)||s.hasOwnProperty(Ze))?s[hn]:null}const on=Ce({\u0275prov:Ce}),hn=Ce({\u0275inj:Ce}),fn=Ce({ngInjectableDef:Ce}),Ze=Ce({ngInjectorDef:Ce});var Ct=(()=>((Ct=Ct||{})[Ct.Default=0]="Default",Ct[Ct.Host=1]="Host",Ct[Ct.Self=2]="Self",Ct[Ct.SkipSelf=4]="SkipSelf",Ct[Ct.Optional=8]="Optional",Ct))();let en;function Lt(s){const o=en;return en=s,o}function er(s,o,a){const u=Ve(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&Ct.Optional?null:void 0!==o?o:void Ye(xe(s),"Injector")}function xn(s){return{toString:s}.toString()}var Dn=(()=>((Dn=Dn||{})[Dn.OnPush=0]="OnPush",Dn[Dn.Default=1]="Default",Dn))(),un=(()=>{return(s=un||(un={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",un;var s})();const qt="undefined"!=typeof globalThis&&globalThis,Rt="undefined"!=typeof window&&window,tr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,yn=qt||"undefined"!=typeof global&&global||Rt||tr,Tn={},ue=[],ye=Ce({\u0275cmp:Ce}),B=Ce({\u0275dir:Ce}),Y=Ce({\u0275pipe:Ce}),W=Ce({\u0275mod:Ce}),le=Ce({\u0275fac:Ce}),ae=Ce({__NG_ELEMENT_ID__:Ce});let ge=0;function Pe(s){return xn(()=>{const a={},u={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Dn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||ue,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||un.Emulated,id:"c",styles:s.styles||ue,_:null,setInput:null,schemas:s.schemas||null,tView:null},g=s.directives,y=s.features,A=s.pipes;return u.id+=ge++,u.inputs=he(s.inputs,a),u.outputs=he(s.outputs),y&&y.forEach(S=>S(u)),u.directiveDefs=g?()=>("function"==typeof g?g():g).map(pt):null,u.pipeDefs=A?()=>("function"==typeof A?A():A).map(ut):null,u})}function pt(s){return jt(s)||function rn(s){return s[B]||null}(s)}function ut(s){return function Fn(s){return s[Y]||null}(s)}const zt={};function Se(s){return xn(()=>{const o={type:s.type,bootstrap:s.bootstrap||ue,declarations:s.declarations||ue,imports:s.imports||ue,exports:s.exports||ue,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(zt[s.id]=s.type),o})}function pe(s,o){return xn(()=>{const a=Vt(s,!0);a.declarations=o.declarations||ue,a.imports=o.imports||ue,a.exports=o.exports||ue})}function he(s,o){if(null==s)return Tn;const a={};for(const u in s)if(s.hasOwnProperty(u)){let g=s[u],y=g;Array.isArray(g)&&(y=g[1],g=g[0]),a[g]=u,o&&(o[g]=y)}return a}const et=Pe;function At(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function jt(s){return s[ye]||null}function Vt(s,o){const a=s[W]||null;if(!a&&!0===o)throw new Error(`Type ${xe(s)} does not have '\u0275mod' property.`);return a}function oi(s){return Array.isArray(s)&&"object"==typeof s[1]}function ai(s){return Array.isArray(s)&&!0===s[1]}function ua(s){return 0!=(8&s.flags)}function Uo(s){return 2==(2&s.flags)}function lo(s){return 1==(1&s.flags)}function gi(s){return null!==s.template}function hc(s){return 0!=(512&s[2])}function wi(s,o){return s.hasOwnProperty(le)?s[le]:null}class fa{constructor(o,a,u){this.previousValue=o,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function li(){return uo}function uo(s){return s.type.prototype.ngOnChanges&&(s.setInput=Nd),ha}function ha(){const s=Vs(this),o=null==s?void 0:s.current;if(o){const a=s.previous;if(a===Tn)s.previous=o;else for(let u in o)a[u]=o[u];s.current=null,this.ngOnChanges(o)}}function Nd(s,o,a,u){const g=Vs(s)||function As(s,o){return s[rs]=o}(s,{previous:Tn,current:null}),y=g.current||(g.current={}),A=g.previous,S=this.declaredInputs[a],x=A[S];y[S]=new fa(x&&x.currentValue,o,A===Tn),s[u]=o}li.ngInherit=!0;const rs="__ngSimpleChanges__";function Vs(s){return s[rs]||null}let jo;function is(s){jo=s}function co(){return void 0!==jo?jo:"undefined"!=typeof document?document:void 0}function cr(s){return!!s.listen}const Ui={createRenderer:(s,o)=>co()};function Zn(s){for(;Array.isArray(s);)s=s[0];return s}function fo(s,o){return Zn(o[s])}function Yr(s,o){return Zn(o[s.index])}function va(s,o){return s.data[o]}function Z(s,o){const a=o[s];return oi(a)?a:a[0]}function we(s){return 4==(4&s[2])}function Ge(s){return 128==(128&s[2])}function St(s,o){return null==o?null:s[o]}function cn(s){s[18]=0}function ir(s,o){s[5]+=o;let a=s,u=s[3];for(;null!==u&&(1===o&&1===a[5]||-1===o&&0===a[5]);)u[5]+=o,a=u,u=u[3]}const Ut={lFrame:Go(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function os(){return Ut.bindingsEnabled}function ot(){return Ut.lFrame.lView}function In(){return Ut.lFrame.tView}function Hs(s){return Ut.lFrame.contextLView=s,s[8]}function pr(){let s=qa();for(;null!==s&&64===s.type;)s=s.parent;return s}function qa(){return Ut.lFrame.currentTNode}function Hi(s,o){const a=Ut.lFrame;a.currentTNode=s,a.isParent=o}function mc(){return Ut.lFrame.isParent}function vc(){Ut.lFrame.isParent=!1}function Ml(){return Ut.isInCheckNoChangesMode}function Za(s){Ut.isInCheckNoChangesMode=s}function js(){return Ut.lFrame.bindingIndex++}function Gs(s){const o=Ut.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function bu(s,o){const a=Ut.lFrame;a.bindingIndex=a.bindingRootIndex=s,Ka(o)}function Ka(s){Ut.lFrame.currentDirectiveIndex=s}function xl(s){const o=Ut.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function Ec(){return Ut.lFrame.currentQueryIndex}function bc(s){Ut.lFrame.currentQueryIndex=s}function cg(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Qa(s,o,a){if(a&Ct.SkipSelf){let g=o,y=s;for(;!(g=g.parent,null!==g||a&Ct.Host||(g=cg(y),null===g||(y=y[15],10&g.type))););if(null===g)return!1;o=g,s=y}const u=Ut.lFrame=Xr();return u.currentTNode=o,u.lView=s,!0}function Ya(s){const o=Xr(),a=s[1];Ut.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Xr(){const s=Ut.lFrame,o=null===s?null:s.child;return null===o?Go(s):o}function Go(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Rl(){const s=Ut.lFrame;return Ut.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Od=Rl;function Nl(){const s=Rl();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function mi(){return Ut.lFrame.selectedIndex}function zs(s){Ut.lFrame.selectedIndex=s}function _r(){const s=Ut.lFrame;return va(s.tView,s.selectedIndex)}function lh(){Ut.lFrame.currentNamespace="svg"}function kl(s,o){for(let a=o.directiveStart,u=o.directiveEnd;a<u;a++){const y=s.data[a].type.prototype,{ngAfterContentInit:A,ngAfterContentChecked:S,ngAfterViewInit:x,ngAfterViewChecked:L,ngOnDestroy:j}=y;A&&(s.contentHooks||(s.contentHooks=[])).push(-a,A),S&&((s.contentHooks||(s.contentHooks=[])).push(a,S),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,S)),x&&(s.viewHooks||(s.viewHooks=[])).push(-a,x),L&&((s.viewHooks||(s.viewHooks=[])).push(a,L),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,L)),null!=j&&(s.destroyHooks||(s.destroyHooks=[])).push(a,j)}}function $s(s,o,a){Ld(s,o,3,a)}function Pl(s,o,a,u){(3&s[2])===a&&Ld(s,o,a,u)}function Ac(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function Ld(s,o,a,u){const y=null!=u?u:-1,A=o.length-1;let S=0;for(let x=void 0!==u?65535&s[18]:0;x<A;x++)if("number"==typeof o[x+1]){if(S=o[x],null!=u&&S>=u)break}else o[x]<0&&(s[18]+=65536),(S<y||-1==y)&&(pg(s,a,o,x),s[18]=(4294901760&s[18])+x+2),x++}function pg(s,o,a,u){const g=a[u]<0,y=a[u+1],S=s[g?-a[u]:a[u]];if(g){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{y.call(S)}finally{}}}else try{y.call(S)}finally{}}class Ja{constructor(o,a,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function Ol(s,o,a){const u=cr(s);let g=0;for(;g<a.length;){const y=a[g];if("number"==typeof y){if(0!==y)break;g++;const A=a[g++],S=a[g++],x=a[g++];u?s.setAttribute(o,S,x,A):o.setAttributeNS(A,S,x)}else{const A=y,S=a[++g];Fl(A)?u&&s.setProperty(o,A,S):u?s.setAttribute(o,A,S):o.setAttribute(A,S),g++}}return g}function wc(s){return 3===s||4===s||6===s}function Fl(s){return 64===s.charCodeAt(0)}function wu(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let u=0;u<o.length;u++){const g=o[u];"number"==typeof g?a=g:0===a||Ll(s,a,g,null,-1===a||2===a?o[++u]:null)}}return s}function Ll(s,o,a,u,g){let y=0,A=s.length;if(-1===o)A=-1;else for(;y<s.length;){const S=s[y++];if("number"==typeof S){if(S===o){A=-1;break}if(S>o){A=y-1;break}}}for(;y<s.length;){const S=s[y];if("number"==typeof S)break;if(S===a){if(null===u)return void(null!==g&&(s[y+1]=g));if(u===s[y+1])return void(s[y+2]=g)}y++,null!==u&&y++,null!==g&&y++}-1!==A&&(s.splice(A,0,o),y=A+1),s.splice(y++,0,a),null!==u&&s.splice(y++,0,u),null!==g&&s.splice(y++,0,g)}function go(s){return-1!==s}function mo(s){return 32767&s}function jr(s,o){let a=function Er(s){return s>>16}(s),u=o;for(;a>0;)u=u[15],a--;return u}let _n=!0;function Xa(s){const o=_n;return _n=s,o}let Tc=0;function vi(s,o){const a=ya(s,o);if(-1!==a)return a;const u=o[1];u.firstCreatePass&&(s.injectorIndex=o.length,Ci(u.data,s),Ci(o,null),Ci(u.blueprint,null));const g=qs(s,o),y=s.injectorIndex;if(go(g)){const A=mo(g),S=jr(g,o),x=S[1].data;for(let L=0;L<8;L++)o[y+L]=S[A+L]|x[A+L]}return o[y+8]=g,y}function Ci(s,o){s.push(0,0,0,0,0,0,0,0,o)}function ya(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function qs(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,u=null,g=o;for(;null!==g;){const y=g[1],A=y.type;if(u=2===A?y.declTNode:1===A?g[6]:null,null===u)return-1;if(a++,g=g[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function Cu(s,o,a){!function Ud(s,o,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(ae)&&(u=a[ae]),null==u&&(u=a[ae]=Tc++);const g=255&u;o.data[s+(g>>5)]|=1<<g}(s,o,a)}function Ic(s,o,a){if(a&Ct.Optional)return s;Ye(o,"NodeInjector")}function Ds(s,o,a,u){if(a&Ct.Optional&&void 0===u&&(u=null),0==(a&(Ct.Self|Ct.Host))){const g=s[9],y=Lt(void 0);try{return g?g.get(o,u,a&Ct.Optional):er(o,u,a&Ct.Optional)}finally{Lt(y)}}return Ic(u,o,a)}function Zs(s,o,a,u=Ct.Default,g){if(null!==s){const y=function Mc(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(ae)?s[ae]:void 0;return"number"==typeof o?o>=0?255&o:ei:o}(a);if("function"==typeof y){if(!Qa(o,s,u))return u&Ct.Host?Ic(g,a,u):Ds(o,a,u,g);try{const A=y(u);if(null!=A||u&Ct.Optional)return A;Ye(a)}finally{Od()}}else if("number"==typeof y){let A=null,S=ya(s,o),x=-1,L=u&Ct.Host?o[16][6]:null;for((-1===S||u&Ct.SkipSelf)&&(x=-1===S?qs(s,o):o[S+8],-1!==x&&qo(u,!1)?(A=o[1],S=mo(x),o=jr(x,o)):S=-1);-1!==S;){const j=o[1];if(xc(y,S,j.data)){const te=Wo(S,o,a,A,u,L);if(te!==_a)return te}x=o[S+8],-1!==x&&qo(u,o[1].data[S+8]===L)&&xc(y,S,o)?(A=j,S=mo(x),o=jr(x,o)):S=-1}}}return Ds(o,a,u,g)}const _a={};function ei(){return new Zo(pr(),ot())}function Wo(s,o,a,u,g,y){const A=o[1],S=A.data[s+8],j=Du(S,A,a,null==u?Uo(S)&&_n:u!=A&&0!=(3&S.type),g&Ct.Host&&y===S);return null!==j?Bl(o,A,j,S):_a}function Du(s,o,a,u,g){const y=s.providerIndexes,A=o.data,S=1048575&y,x=s.directiveStart,j=y>>20,ve=g?S+j:s.directiveEnd;for(let Oe=u?S:S+j;Oe<ve;Oe++){const nt=A[Oe];if(Oe<x&&a===nt||Oe>=x&&nt.type===a)return Oe}if(g){const Oe=A[x];if(Oe&&gi(Oe)&&Oe.type===a)return x}return null}function Bl(s,o,a,u){let g=s[a];const y=o.data;if(function Vd(s){return s instanceof Ja}(g)){const A=g;A.resolving&&function je(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new ie(-200,`Circular dependency in DI detected for ${s}${a}`)}(oe(y[a]));const S=Xa(A.canSeeViewProviders);A.resolving=!0;const x=A.injectImpl?Lt(A.injectImpl):null;Qa(s,u,Ct.Default);try{g=s[a]=A.factory(void 0,y,s,u),o.firstCreatePass&&a>=u.directiveStart&&function hg(s,o,a){const{ngOnChanges:u,ngOnInit:g,ngDoCheck:y}=o.type.prototype;if(u){const A=uo(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,A),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,A)}g&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,g),y&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,y))}(a,y[a],o)}finally{null!==x&&Lt(x),Xa(S),A.resolving=!1,Od()}}return g}function xc(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function qo(s,o){return!(s&Ct.Self||s&Ct.Host&&o)}class Zo{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,u){return Zs(this._tNode,this._lView,o,u,a)}}function ji(s){return xn(()=>{const o=s.prototype.constructor,a=o[le]||Tu(o),u=Object.prototype;let g=Object.getPrototypeOf(s.prototype).constructor;for(;g&&g!==u;){const y=g[le]||Tu(g);if(y&&y!==a)return y;g=Object.getPrototypeOf(g)}return y=>new y})}function Tu(s){return F(s)?()=>{const o=Tu(T(s));return o&&o()}:wi(s)}function Ko(s){return function Sc(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const u=a.length;let g=0;for(;g<u;){const y=a[g];if(wc(y))break;if(0===y)g+=2;else if("number"==typeof y)for(g++;g<u&&"string"==typeof a[g];)g++;else{if(y===o)return a[g+1];g+=2}}}return null}(pr(),s)}const vo="__parameters__";function zi(s,o,a){return xn(()=>{const u=function Ul(s){return function(...a){if(s){const u=s(...a);for(const g in u)this[g]=u[g]}}}(o);function g(...y){if(this instanceof g)return u.apply(this,y),this;const A=new g(...y);return S.annotation=A,S;function S(x,L,j){const te=x.hasOwnProperty(vo)?x[vo]:Object.defineProperty(x,vo,{value:[]})[vo];for(;te.length<=j;)te.push(null);return(te[j]=te[j]||[]).push(A),x}}return a&&(g.prototype=Object.create(a.prototype)),g.prototype.ngMetadataName=s,g.annotationCls=g,g})}class xr{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Cn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ks=new xr("AnalyzeForEntryComponents");function Wi(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let u=s[a];Array.isArray(u)?(o===s&&(o=s.slice(0,a)),Wi(u,o)):o!==s&&o.push(u)}return o}function as(s,o){s.forEach(a=>Array.isArray(a)?as(a,o):o(a))}function _o(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function xu(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Di(s,o,a){let u=tl(s,o);return u>=0?s[1|u]=a:(u=~u,function jl(s,o,a,u){let g=s.length;if(g==o)s.push(a,u);else if(1===g)s.push(u,s[0]),s[0]=a;else{for(g--,s.push(s[g-1],s[g]);g>o;)s[g]=s[g-2],g--;s[o]=a,s[o+1]=u}}(s,u,o,a)),u}function Nc(s,o){const a=tl(s,o);if(a>=0)return s[1|a]}function tl(s,o){return function Ru(s,o,a){let u=0,g=s.length>>a;for(;g!==u;){const y=u+(g-u>>1),A=s[y<<a];if(o===A)return y<<a;A>o?g=y:u=y+1}return~(g<<a)}(s,o,1)}const Eo={},Xo="__NG_DI_FLAG__",wa="ngTempTokenPath",Lc=/\n/gm,Nu="__source",gh=Ce({provide:String,useValue:Ce});let ku;function Pu(s){const o=ku;return ku=s,o}function jd(s,o=Ct.Default){if(void 0===ku)throw new ie(203,"");return null===ku?er(s,void 0,o):ku.get(s,o&Ct.Optional?null:void 0,o)}function ui(s,o=Ct.Default){return(function yt(){return en}()||jd)(T(s),o)}const mh=ui;function Ou(s){const o=[];for(let a=0;a<s.length;a++){const u=T(s[a]);if(Array.isArray(u)){if(0===u.length)throw new ie(900,"");let g,y=Ct.Default;for(let A=0;A<u.length;A++){const S=u[A],x=Bc(S);"number"==typeof x?-1===x?g=S.token:y|=x:g=S}o.push(ui(g,y))}else o.push(ui(u))}return o}function bo(s,o){return s[Xo]=o,s.prototype[Xo]=o,s}function Bc(s){return s[Xo]}const Js=bo(zi("Inject",s=>({token:s})),-1),Xs=bo(zi("Optional"),8),wo=bo(zi("SkipSelf"),4);let Do,ql;function Da(s){var o;return(null===(o=function Wl(){if(void 0===Do&&(Do=null,yn.trustedTypes))try{Do=yn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Do}())||void 0===o?void 0:o.createHTML(s))||s}function Zl(s){var o;return(null===(o=function jc(){if(void 0===ql&&(ql=null,yn.trustedTypes))try{ql=yn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return ql}())||void 0===o?void 0:o.createHTML(s))||s}class qi{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Zd extends qi{getTypeName(){return"HTML"}}class _h extends qi{getTypeName(){return"Style"}}class Gc extends qi{getTypeName(){return"Script"}}class zc extends qi{getTypeName(){return"URL"}}class Kd extends qi{getTypeName(){return"ResourceURL"}}function ls(s){return s instanceof qi?s.changingThisBreaksApplicationSecurity:s}function Ta(s,o){const a=Sa(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}function Sa(s){return s instanceof qi&&s.getTypeName()||null}function $c(s){return new Zd(s)}function Kl(s){return new _h(s)}function Uu(s){return new Gc(s)}function Wc(s){return new zc(s)}function Qd(s){return new Kd(s)}class Hu{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(Da(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class Eh{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Da(o),a;const u=this.inertDocument.createElement("body");return u.innerHTML=Da(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(o){const a=o.attributes;for(let g=a.length-1;0<g;g--){const A=a.item(g).name;("xmlns:ns1"===A||0===A.indexOf("ns1:"))&&o.removeAttribute(A)}let u=o.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const bh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,D=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function _(s){return(s=String(s)).match(bh)||s.match(D)?s:"unsafe:"+s}function I(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function H(...s){const o={};for(const a of s)for(const u in a)a.hasOwnProperty(u)&&(o[u]=!0);return o}const Q=I("area,br,col,hr,img,wbr"),Le=I("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ht=I("rp,rt"),gr=H(Q,H(Le,I("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),H(ht,I("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),H(ht,Le)),Ti=I("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ts=I("srcset"),Jl=H(Ti,Ts,I("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),I("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ea=I("script,style,template");class Xd{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let g=this.checkClobberedElement(a,a.nextSibling);if(g){a=g;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!gr.hasOwnProperty(a))return this.sanitizedSomething=!0,!ea.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=o.attributes;for(let g=0;g<u.length;g++){const y=u.item(g),A=y.name,S=A.toLowerCase();if(!Jl.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let x=y.value;Ti[S]&&(x=_(x)),Ts[S]&&(s=x,x=(s=String(s)).split(",").map(o=>_(o.trim())).join(", ")),this.buf.push(" ",A,'="',al(x),'"')}var s;return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();gr.hasOwnProperty(a)&&!Q.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(al(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const ju=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ef=/([^\#-~ |!])/g;function al(s){return s.replace(/&/g,"&amp;").replace(ju,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(ef,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ll;function Zc(s,o){let a=null;try{ll=ll||function Ql(s){const o=new Eh(s);return function qc(){try{return!!(new window.DOMParser).parseFromString(Da(""),"text/html")}catch(s){return!1}}()?new Hu(o):o}(s);let u=o?String(o):"";a=ll.getInertBodyElement(u);let g=5,y=u;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,u=y,y=a.innerHTML,a=ll.getInertBodyElement(u)}while(u!==y);return Da((new Xd).sanitizeChildren(ul(a)||a))}finally{if(a){const u=ul(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function ul(s){return"content"in s&&function Xl(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Pr=(()=>((Pr=Pr||{})[Pr.NONE=0]="NONE",Pr[Pr.HTML=1]="HTML",Pr[Pr.STYLE=2]="STYLE",Pr[Pr.SCRIPT=3]="SCRIPT",Pr[Pr.URL=4]="URL",Pr[Pr.RESOURCE_URL=5]="RESOURCE_URL",Pr))();function Ah(s){const o=Gu();return o?Zl(o.sanitize(Pr.HTML,s)||""):Ta(s,"HTML")?Zl(ls(s)):Zc(co(),ce(s))}function tf(s){const o=Gu();return o?o.sanitize(Pr.URL,s)||"":Ta(s,"URL")?ls(s):_(ce(s))}function Gu(){const s=ot();return s&&s[12]}const Tg="__ngContext__";function ci(s,o){s[Tg]=o}function To(s){const o=function zu(s){return s[Tg]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Rg(s){return s.ngOriginalError}function Kc(s,...o){s.error(...o)}class Qc{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),u=function Ng(s){return s&&s.ngErrorLogger||Kc}(o);u(this._console,"ERROR",o),a&&u(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Rg(o);for(;a&&Rg(a);)a=Rg(a);return a||null}}const cy=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(yn))();function v(s){return s instanceof Function?s():s}var z=(()=>((z=z||{})[z.Important=1]="Important",z[z.DashCase=2]="DashCase",z))();function Ne(s,o){return undefined(s,o)}function mt(s){const o=s[3];return ai(o)?o[3]:o}function an(s){return rr(s[13])}function Nt(s){return rr(s[4])}function rr(s){for(;null!==s&&!ai(s);)s=s[4];return s}function yr(s,o,a,u,g){if(null!=u){let y,A=!1;ai(u)?y=u:oi(u)&&(A=!0,u=u[0]);const S=Zn(u);0===s&&null!==a?null==g?$C(o,a,S):eu(o,a,S,g||null,!0):1===s&&null!==a?eu(o,a,S,g||null,!0):2===s?function Ug(s,o,a){const u=Mh(s,o);u&&function Yc(s,o,a,u){cr(s)?s.removeChild(o,a,u):o.removeChild(a)}(s,u,o,a)}(o,S,A):3===s&&o.destroyNode(S),null!=y&&function by(s,o,a,u,g){const y=a[7];y!==Zn(a)&&yr(o,s,u,y,g);for(let S=10;S<a.length;S++){const x=a[S];qu(x[1],x,s,o,u,y)}}(o,s,y,a,g)}}function Ki(s,o,a){if(cr(s))return s.createElement(o,a);{const u=null!==a?function ga(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(a):null;return null===u?s.createElement(o):s.createElementNS(u,o)}}function Wu(s,o){const a=s[9],u=a.indexOf(o),g=o[3];1024&o[2]&&(o[2]&=-1025,ir(g,-1)),a.splice(u,1)}function Ih(s,o){if(s.length<=10)return;const a=10+o,u=s[a];if(u){const g=u[17];null!==g&&g!==s&&Wu(g,u),o>0&&(s[a-1][4]=u[4]);const y=xu(s,10+o);!function So(s,o){qu(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const A=y[19];null!==A&&A.detachView(y[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function Vg(s,o){if(!(256&o[2])){const a=o[11];cr(a)&&a.destroyNode&&qu(s,o,a,3,null,null),function $u(s){let o=s[13];if(!o)return Is(s[1],s);for(;o;){let a=null;if(oi(o))a=o[13];else{const u=o[10];u&&(a=u)}if(!a){for(;o&&!o[4]&&o!==s;)oi(o)&&Is(o[1],o),o=o[3];null===o&&(o=s),oi(o)&&Is(o[1],o),a=o&&o[4]}o=a}}(o)}}function Is(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function fy(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let u=0;u<a.length;u+=2){const g=o[a[u]];if(!(g instanceof Ja)){const y=a[u+1];if(Array.isArray(y))for(let A=0;A<y.length;A+=2){const S=g[y[A]],x=y[A+1];try{x.call(S)}finally{}}else try{y.call(g)}finally{}}}}(s,o),function bE(s,o){const a=s.cleanup,u=o[7];let g=-1;if(null!==a)for(let y=0;y<a.length-1;y+=2)if("string"==typeof a[y]){const A=a[y+1],S="function"==typeof A?A(o):Zn(o[A]),x=u[g=a[y+2]],L=a[y+3];"boolean"==typeof L?S.removeEventListener(a[y],x,L):L>=0?u[g=L]():u[g=-L].unsubscribe(),y+=2}else{const A=u[g=a[y+1]];a[y].call(A)}if(null!==u){for(let y=g+1;y<u.length;y++)u[y]();o[7]=null}}(s,o),1===o[1].type&&cr(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&ai(o[3])){a!==o[3]&&Wu(a,o);const u=o[19];null!==u&&u.detachView(s)}}}function hy(s,o,a){return function py(s,o,a){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return a[0];if(2&u.flags){const g=s.data[u.directiveStart].encapsulation;if(g===un.None||g===un.Emulated)return null}return Yr(u,a)}(s,o.parent,a)}function eu(s,o,a,u,g){cr(s)?s.insertBefore(o,a,u,g):o.insertBefore(a,u,g)}function $C(s,o,a){cr(s)?s.appendChild(o,a):o.appendChild(a)}function AE(s,o,a,u,g){null!==u?eu(s,o,a,u,g):$C(s,o,a)}function Mh(s,o){return cr(s)?s.parentNode(o):o.parentNode}let my=function gy(s,o,a){return 40&s.type?Yr(s,a):null};function af(s,o,a,u){const g=hy(s,u,o),y=o[11],S=function CE(s,o,a){return my(s,o,a)}(u.parent||o[6],u,o);if(null!=g)if(Array.isArray(a))for(let x=0;x<a.length;x++)AE(y,g,a[x],S,!1);else AE(y,g,a,S,!1)}function Bg(s,o){if(null!==o){const a=o.type;if(3&a)return Yr(o,s);if(4&a)return _y(-1,s[o.index]);if(8&a){const u=o.child;if(null!==u)return Bg(s,u);{const g=s[o.index];return ai(g)?_y(-1,g):Zn(g)}}if(32&a)return Ne(o,s)()||Zn(s[o.index]);{const u=yy(s,o);return null!==u?Array.isArray(u)?u[0]:Bg(mt(s[16]),u):Bg(s,o.next)}}return null}function yy(s,o){return null!==o?s[16][6].projection[o.projection]:null}function _y(s,o){const a=10+s+1;if(a<o.length){const u=o[a],g=u[1].firstChild;if(null!==g)return Bg(u,g)}return o[7]}function lf(s,o,a,u,g,y,A){for(;null!=a;){const S=u[a.index],x=a.type;if(A&&0===o&&(S&&ci(Zn(S),u),a.flags|=4),64!=(64&a.flags))if(8&x)lf(s,o,a.child,u,g,y,!1),yr(o,s,g,S,y);else if(32&x){const L=Ne(a,u);let j;for(;j=L();)yr(o,s,g,j,y);yr(o,s,g,S,y)}else 16&x?Ey(s,o,u,a,g,y):yr(o,s,g,S,y);a=A?a.projectionNext:a.next}}function qu(s,o,a,u,g,y){lf(a,u,s.firstChild,o,g,y,!1)}function Ey(s,o,a,u,g,y){const A=a[16],x=A[6].projection[u.projection];if(Array.isArray(x))for(let L=0;L<x.length;L++)yr(o,s,g,x[L],y);else lf(s,o,x,A[3],g,y,!0)}function jg(s,o,a){cr(s)?s.setAttribute(o,"style",a):o.style.cssText=a}function uf(s,o,a){cr(s)?""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a):o.className=a}function TE(s,o,a){let u=s.length;for(;;){const g=s.indexOf(o,a);if(-1===g)return g;if(0===g||s.charCodeAt(g-1)<=32){const y=o.length;if(g+y===u||s.charCodeAt(g+y)<=32)return g}a=g+1}}const Ay="ng-template";function Zu(s,o,a){let u=0;for(;u<s.length;){let g=s[u++];if(a&&"class"===g){if(g=s[u],-1!==TE(g.toLowerCase(),o,0))return!0}else if(1===g){for(;u<s.length&&"string"==typeof(g=s[u++]);)if(g.toLowerCase()===o)return!0;return!1}}return!1}function wy(s){return 4===s.type&&s.value!==Ay}function SE(s,o,a){return o===(4!==s.type||a?s.value:Ay)}function dl(s,o,a){let u=4;const g=s.attrs||[],y=function ME(s){for(let o=0;o<s.length;o++)if(wc(s[o]))return o;return s.length}(g);let A=!1;for(let S=0;S<o.length;S++){const x=o[S];if("number"!=typeof x){if(!A)if(4&u){if(u=2|1&u,""!==x&&!SE(s,x,a)||""===x&&1===o.length){if(Qi(u))return!1;A=!0}}else{const L=8&u?x:o[++S];if(8&u&&null!==s.attrs){if(!Zu(s.attrs,L,a)){if(Qi(u))return!1;A=!0}continue}const te=Rh(8&u?"class":x,g,wy(s),a);if(-1===te){if(Qi(u))return!1;A=!0;continue}if(""!==L){let ve;ve=te>y?"":g[te+1].toLowerCase();const Oe=8&u?ve:null;if(Oe&&-1!==TE(Oe,L,0)||2&u&&L!==ve){if(Qi(u))return!1;A=!0}}}}else{if(!A&&!Qi(u)&&!Qi(x))return!1;if(A&&Qi(x))continue;A=!1,u=x|1&u}}return Qi(u)||A}function Qi(s){return 0==(1&s)}function Rh(s,o,a,u){if(null===o)return-1;let g=0;if(u||!a){let y=!1;for(;g<o.length;){const A=o[g];if(A===s)return g;if(3===A||6===A)y=!0;else{if(1===A||2===A){let S=o[++g];for(;"string"==typeof S;)S=o[++g];continue}if(4===A)break;if(0===A){g+=4;continue}}g+=y?1:2}return-1}return function Gg(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const u=s[a];if("number"==typeof u)return-1;if(u===o)return a;a++}return-1}(o,s)}function IE(s,o,a=!1){for(let u=0;u<o.length;u++)if(dl(s,o[u],a))return!0;return!1}function xE(s,o){return s?":not("+o.trim()+")":o}function Dy(s){let o=s[0],a=1,u=2,g="",y=!1;for(;a<s.length;){let A=s[a];if("string"==typeof A)if(2&u){const S=s[++a];g+="["+A+(S.length>0?'="'+S+'"':"")+"]"}else 8&u?g+="."+A:4&u&&(g+=" "+A);else""!==g&&!Qi(A)&&(o+=xE(y,g),g=""),u=A,y=y||!Qi(u);a++}return""!==g&&(o+=xE(y,g)),o}const Vn={};function to(s){Ty(In(),ot(),mi()+s,Ml())}function Ty(s,o,a,u){if(!u)if(3==(3&o[2])){const y=s.preOrderCheckHooks;null!==y&&$s(o,y,a)}else{const y=s.preOrderHooks;null!==y&&Pl(o,y,0,a)}zs(a)}function Xc(s,o){return s<<17|o<<2}function Ma(s){return s>>17&32767}function NE(s){return 2|s}function Ku(s){return(131068&s)>>2}function cf(s,o){return-131069&s|o<<2}function Sy(s){return 1|s}function UE(s,o){const a=s.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const g=a[u],y=a[u+1];if(-1!==y){const A=s.data[y];bc(g),A.contentQueries(2,o[y],y)}}}function Bh(s,o,a,u,g,y,A,S,x,L){const j=o.blueprint.slice();return j[0]=g,j[2]=140|u,cn(j),j[3]=j[15]=s,j[8]=a,j[10]=A||s&&s[10],j[11]=S||s&&s[11],j[12]=x||s&&s[12]||null,j[9]=L||s&&s[9]||null,j[6]=y,j[16]=2==o.type?s[16]:j,j}function df(s,o,a,u,g){let y=s.data[o];if(null===y)y=function qg(s,o,a,u,g){const y=qa(),A=mc(),x=s.data[o]=function oD(s,o,a,u,g,y){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,A?y:y&&y.parent,a,o,u,g);return null===s.firstChild&&(s.firstChild=x),null!==y&&(A?null==y.child&&null!==x.parent&&(y.child=x):null===y.next&&(y.next=x)),x}(s,o,a,u,g),function _c(){return Ut.lFrame.inI18n}()&&(y.flags|=64);else if(64&y.type){y.type=a,y.value=u,y.attrs=g;const A=function Il(){const s=Ut.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();y.injectorIndex=null===A?-1:A.injectorIndex}return Hi(y,!0),y}function ff(s,o,a,u){if(0===a)return-1;const g=o.length;for(let y=0;y<a;y++)o.push(u),s.blueprint.push(u),s.data.push(null);return g}function td(s,o,a){Ya(o);try{const u=s.viewQuery;null!==u&&zy(1,u,a);const g=s.template;null!==g&&jE(s,o,g,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&UE(s,o),s.staticViewQueries&&zy(2,s.viewQuery,a);const y=s.components;null!==y&&function HE(s,o){for(let a=0;a<o.length;a++)tb(s,o[a])}(o,y)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[2]&=-5,Nl()}}function hf(s,o,a,u){const g=o[2];if(256==(256&g))return;Ya(o);const y=Ml();try{cn(o),function Eu(s){return Ut.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&jE(s,o,a,2,u);const A=3==(3&g);if(!y)if(A){const L=s.preOrderCheckHooks;null!==L&&$s(o,L,null)}else{const L=s.preOrderHooks;null!==L&&Pl(o,L,0,null),Ac(o,0)}if(function gD(s){for(let o=an(s);null!==o;o=Nt(o)){if(!o[2])continue;const a=o[9];for(let u=0;u<a.length;u++){const g=a[u],y=g[3];0==(1024&g[2])&&ir(y,1),g[2]|=1024}}}(o),function pD(s){for(let o=an(s);null!==o;o=Nt(o))for(let a=10;a<o.length;a++){const u=o[a],g=u[1];Ge(u)&&hf(g,u,g.template,u[8])}}(o),null!==s.contentQueries&&UE(s,o),!y)if(A){const L=s.contentCheckHooks;null!==L&&$s(o,L)}else{const L=s.contentHooks;null!==L&&Pl(o,L,1),Ac(o,1)}!function rD(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const g=a[u];if(g<0)zs(~g);else{const y=g,A=a[++u],S=a[++u];bu(A,y),S(2,o[y])}}}finally{zs(-1)}}(s,o);const S=s.components;null!==S&&function iD(s,o){for(let a=0;a<o.length;a++)mD(s,o[a])}(o,S);const x=s.viewQuery;if(null!==x&&zy(2,x,u),!y)if(A){const L=s.viewCheckHooks;null!==L&&$s(o,L)}else{const L=s.viewHooks;null!==L&&Pl(o,L,2),Ac(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),y||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,ir(o[3],-1))}finally{Nl()}}function sD(s,o,a,u){const g=o[10],y=!Ml(),A=we(o);try{y&&!A&&g.begin&&g.begin(),A&&td(s,o,u),hf(s,o,a,u)}finally{y&&!A&&g.end&&g.end()}}function jE(s,o,a,u,g){const y=mi(),A=2&u;try{zs(-1),A&&o.length>20&&Ty(s,o,20,Ml()),a(u,g)}finally{zs(y)}}function GE(s,o,a){if(ua(o)){const g=o.directiveEnd;for(let y=o.directiveStart;y<g;y++){const A=s.data[y];A.contentQueries&&A.contentQueries(1,a[y],y)}}}function Zg(s,o,a){!os()||(function lD(s,o,a,u){const g=a.directiveStart,y=a.directiveEnd;s.firstCreatePass||vi(a,o),ci(u,o);const A=a.initialInputs;for(let S=g;S<y;S++){const x=s.data[S],L=gi(x);L&&JE(o,a,x);const j=Bl(o,s,S,a);ci(j,o),null!==A&&hD(0,S-g,j,x,0,A),L&&(Z(a.index,o)[8]=j)}}(s,o,a,Yr(a,o)),128==(128&a.flags)&&function uD(s,o,a){const u=a.directiveStart,g=a.directiveEnd,A=a.index,S=function oh(){return Ut.lFrame.currentDirectiveIndex}();try{zs(A);for(let x=u;x<g;x++){const L=s.data[x],j=o[x];Ka(x),(null!==L.hostBindings||0!==L.hostVars||null!==L.hostAttrs)&&Xg(L,j)}}finally{zs(-1),Ka(S)}}(s,o,a))}function Vy(s,o,a=Yr){const u=o.localNames;if(null!==u){let g=o.index+1;for(let y=0;y<u.length;y+=2){const A=u[y+1],S=-1===A?a(o,s):s[A];s[g++]=S}}}function Io(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=pf(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function pf(s,o,a,u,g,y,A,S,x,L){const j=20+u,te=j+g,ve=function Uh(s,o){const a=[];for(let u=0;u<o;u++)a.push(u<s?null:Vn);return a}(j,te),Oe="function"==typeof L?L():L;return ve[1]={type:s,blueprint:ve,template:a,queries:null,viewQuery:S,declTNode:o,data:ve.slice().fill(null,j),bindingStartIndex:j,expandoStartIndex:te,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof A?A():A,firstChild:null,schemas:x,consts:Oe,incompleteFirstPass:!1}}function Qg(s,o,a,u){const g=$y(o);null===a?g.push(u):(g.push(a),s.firstCreatePass&&tm(s).push(u,g.length-1))}function $E(s,o,a){for(let u in s)if(s.hasOwnProperty(u)){const g=s[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(o,g):a[u]=[o,g]}return a}function no(s,o,a,u,g,y,A,S){const x=Yr(o,a);let j,L=o.inputs;!S&&null!=L&&(j=L[u])?($h(s,a,j,u,g),Uo(o)&&function WE(s,o){const a=Z(o,s);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(u=function aD(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),g=null!=A?A(g,o.value||"",u):g,cr(y)?y.setProperty(x,u,g):Fl(u)||(x.setProperty?x.setProperty(u,g):x[u]=g))}function By(s,o,a,u){let g=!1;if(os()){const y=function cD(s,o,a){const u=s.directiveRegistry;let g=null;if(u)for(let y=0;y<u.length;y++){const A=u[y];IE(a,A.selectors,!1)&&(g||(g=[]),Cu(vi(a,o),s,A.type),gi(A)?(Hy(s,a),g.unshift(A)):g.push(A))}return g}(s,o,a),A=null===u?null:{"":-1};if(null!==y){g=!0,QE(a,s.data.length,y.length);for(let j=0;j<y.length;j++){const te=y[j];te.providersResolver&&te.providersResolver(te)}let S=!1,x=!1,L=ff(s,o,y.length,null);for(let j=0;j<y.length;j++){const te=y[j];a.mergedAttrs=wu(a.mergedAttrs,te.hostAttrs),YE(s,a,o,L,te),fD(L,te,A),null!==te.contentQueries&&(a.flags|=8),(null!==te.hostBindings||null!==te.hostAttrs||0!==te.hostVars)&&(a.flags|=128);const ve=te.type.prototype;!S&&(ve.ngOnChanges||ve.ngOnInit||ve.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),S=!0),!x&&(ve.ngOnChanges||ve.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),x=!0),L++}!function Yg(s,o){const u=o.directiveEnd,g=s.data,y=o.attrs,A=[];let S=null,x=null;for(let L=o.directiveStart;L<u;L++){const j=g[L],te=j.inputs,ve=null===y||wy(o)?null:XE(te,y);A.push(ve),S=$E(te,L,S),x=$E(j.outputs,L,x)}null!==S&&(S.hasOwnProperty("class")&&(o.flags|=16),S.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=A,o.inputs=S,o.outputs=x}(s,a)}A&&function dD(s,o,a){if(o){const u=s.localNames=[];for(let g=0;g<o.length;g+=2){const y=a[o[g+1]];if(null==y)throw new ie(-301,!1);u.push(o[g],y)}}}(a,u,A)}return a.mergedAttrs=wu(a.mergedAttrs,a.attrs),g}function Uy(s,o,a,u,g,y){const A=y.hostBindings;if(A){let S=s.hostBindingOpCodes;null===S&&(S=s.hostBindingOpCodes=[]);const x=~o.index;(function Jg(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(S)!=x&&S.push(x),S.push(u,g,A)}}function Xg(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Hy(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function fD(s,o,a){if(a){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)a[o.exportAs[u]]=s;gi(o)&&(a[""]=s)}}function QE(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function YE(s,o,a,u,g){s.data[u]=g;const y=g.factory||(g.factory=wi(g.type)),A=new Ja(y,gi(g),null);s.blueprint[u]=A,a[u]=A,Uy(s,o,0,u,ff(s,a,g.hostVars,Vn),g)}function JE(s,o,a){const u=Yr(o,s),g=Io(a),y=s[10],A=jh(s,Bh(s,g,null,a.onPush?64:16,u,o,y,y.createRenderer(u,a),null,null));s[o.index]=A}function Mo(s,o,a,u,g,y){const A=Yr(s,o);!function em(s,o,a,u,g,y,A){if(null==y)cr(s)?s.removeAttribute(o,g,a):o.removeAttribute(g);else{const S=null==A?ce(y):A(y,u||"",g);cr(s)?s.setAttribute(o,g,S,a):a?o.setAttributeNS(a,g,S):o.setAttribute(g,S)}}(o[11],A,y,s.value,a,u,g)}function hD(s,o,a,u,g,y){const A=y[o];if(null!==A){const S=u.setInput;for(let x=0;x<A.length;){const L=A[x++],j=A[x++],te=A[x++];null!==S?u.setInput(a,te,L,j):a[j]=te}}}function XE(s,o){let a=null,u=0;for(;u<o.length;){const g=o[u];if(0!==g)if(5!==g){if("number"==typeof g)break;s.hasOwnProperty(g)&&(null===a&&(a=[]),a.push(g,s[g],o[u+1])),u+=2}else u+=2;else u+=4}return a}function eb(s,o,a,u){return new Array(s,!0,!1,o,null,0,u,a,null,null)}function mD(s,o){const a=Z(o,s);if(Ge(a)){const u=a[1];80&a[2]?hf(u,a,u.template,a[8]):a[5]>0&&jy(a)}}function jy(s){for(let u=an(s);null!==u;u=Nt(u))for(let g=10;g<u.length;g++){const y=u[g];if(1024&y[2]){const A=y[1];hf(A,y,A.template,y[8])}else y[5]>0&&jy(y)}const a=s[1].components;if(null!==a)for(let u=0;u<a.length;u++){const g=Z(a[u],s);Ge(g)&&g[5]>0&&jy(g)}}function tb(s,o){const a=Z(o,s),u=a[1];(function nb(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(u,a),td(u,a,a[8])}function jh(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Gy(s){for(;s;){s[2]|=64;const o=mt(s);if(hc(s)&&!o)return s;s=o}return null}function wn(s,o,a){const u=o[10];u.begin&&u.begin();try{hf(s,o,s.template,a)}catch(g){throw ib(o,g),g}finally{u.end&&u.end()}}function fi(s){!function rb(s){for(let o=0;o<s.components.length;o++){const a=s.components[o],u=To(a),g=u[1];sD(g,u,g.template,a)}}(s[8])}function zy(s,o,a){bc(0),o(s,a)}const yD=(()=>Promise.resolve(null))();function $y(s){return s[7]||(s[7]=[])}function tm(s){return s.cleanup||(s.cleanup=[])}function ib(s,o){const a=s[9],u=a?a.get(Qc,null):null;u&&u.handleError(o)}function $h(s,o,a,u,g){for(let y=0;y<a.length;){const A=a[y++],S=a[y++],x=o[A],L=s.data[A];null!==L.setInput?L.setInput(x,g,u,S):x[S]=g}}function ta(s,o,a){const u=fo(o,s);!function qr(s,o,a){cr(s)?s.setValue(o,a):o.textContent=a}(s[11],u,a)}function nm(s,o,a){let u=a?s.styles:null,g=a?s.classes:null,y=0;if(null!==o)for(let A=0;A<o.length;A++){const S=o[A];"number"==typeof S?y=S:1==y?g=De(g,S):2==y&&(u=De(u,S+": "+o[++A]+";"))}a?s.styles=u:s.stylesWithoutHost=u,a?s.classes=g:s.classesWithoutHost=g}const rm=new xr("INJECTOR",-1);class ro{get(o,a=Eo){if(a===Eo){const u=new Error(`NullInjectorError: No provider for ${xe(o)}!`);throw u.name="NullInjectorError",u}return a}}const im=new xr("Set Injector scope."),qh={},Ms={};let Zh;function Kh(){return void 0===Zh&&(Zh=new ro),Zh}function ob(s,o=null,a=null,u){const g=gf(s,o,a,u);return g._resolveInjectorDefTypes(),g}function gf(s,o=null,a=null,u){return new Na(s,a,o||Kh(),u)}class Na{constructor(o,a,u,g=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const y=[];a&&as(a,S=>this.processProvider(S,o,a)),as([o],S=>this.processInjectorType(S,[],y)),this.records.set(rm,nd(void 0,this));const A=this.records.get(im);this.scope=null!=A?A.value:null,this.source=g||("object"==typeof o?null:xe(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=Eo,u=Ct.Default){this.assertNotDestroyed();const g=Pu(this),y=Lt(void 0);try{if(!(u&Ct.SkipSelf)){let S=this.records.get(o);if(void 0===S){const x=function qy(s){return"function"==typeof s||"object"==typeof s&&s instanceof xr}(o)&&Ve(o);S=x&&this.injectableDefInScope(x)?nd(hl(o),qh):null,this.records.set(o,S)}if(null!=S)return this.hydrate(o,S)}return(u&Ct.Self?Kh():this.parent).get(o,a=u&Ct.Optional&&a===Eo?null:a)}catch(A){if("NullInjectorError"===A.name){if((A[wa]=A[wa]||[]).unshift(xe(o)),g)throw A;return function Gd(s,o,a,u){const g=s[wa];throw o[Nu]&&g.unshift(o[Nu]),s.message=function rl(s,o,a,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let g=xe(o);if(Array.isArray(o))g=o.map(xe).join(" -> ");else if("object"==typeof o){let y=[];for(let A in o)if(o.hasOwnProperty(A)){let S=o[A];y.push(A+":"+("string"==typeof S?JSON.stringify(S):xe(S)))}g=`{${y.join(", ")}}`}return`${a}${u?"("+u+")":""}[${g}]: ${s.replace(Lc,"\n  ")}`}("\n"+s.message,g,a,u),s.ngTokenPath=g,s[wa]=null,s}(A,o,"R3InjectorError",this.source)}throw A}finally{Lt(y),Pu(g)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((u,g)=>o.push(xe(g))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ie(205,!1)}processInjectorType(o,a,u){if(!(o=T(o)))return!1;let g=Ft(o);const y=null==g&&o.ngModule||void 0,A=void 0===y?o:y,S=-1!==u.indexOf(A);if(void 0!==y&&(g=Ft(y)),null==g)return!1;if(null!=g.imports&&!S){let j;u.push(A);try{as(g.imports,te=>{this.processInjectorType(te,a,u)&&(void 0===j&&(j=[]),j.push(te))})}finally{}if(void 0!==j)for(let te=0;te<j.length;te++){const{ngModule:ve,providers:Oe}=j[te];as(Oe,nt=>this.processProvider(nt,ve,Oe||ue))}}this.injectorDefTypes.add(A);const x=wi(A)||(()=>new A);this.records.set(A,nd(x,qh));const L=g.providers;if(null!=L&&!S){const j=o;as(L,te=>this.processProvider(te,j,L))}return void 0!==y&&void 0!==o.providers}processProvider(o,a,u){let g=na(o=T(o))?o:T(o&&o.provide);const y=function mf(s,o,a){return ab(s)?nd(void 0,s.useValue):nd(sm(s),qh)}(o);if(na(o)||!0!==o.multi)this.records.get(g);else{let A=this.records.get(g);A||(A=nd(void 0,qh,!0),A.factory=()=>Ou(A.multi),this.records.set(g,A)),g=o,A.multi.push(o)}this.records.set(g,y)}hydrate(o,a){return a.value===qh&&(a.value=Ms,a.value=a.factory()),"object"==typeof a.value&&a.value&&function tu(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=T(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function hl(s){const o=Ve(s),a=null!==o?o.factory:wi(s);if(null!==a)return a;if(s instanceof xr)throw new ie(204,!1);if(s instanceof Function)return function us(s){const o=s.length;if(o>0)throw function Qs(s,o){const a=[];for(let u=0;u<s;u++)a.push(o);return a}(o,"?"),new ie(204,!1);const a=function wt(s){const o=s&&(s[on]||s[fn]);if(o){const a=function qe(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new ie(204,!1)}function sm(s,o,a){let u;if(na(s)){const g=T(s);return wi(g)||hl(g)}if(ab(s))u=()=>T(s.useValue);else if(function _D(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...Ou(s.deps||[]));else if(function lb(s){return!(!s||!s.useExisting)}(s))u=()=>ui(T(s.useExisting));else{const g=T(s&&(s.useClass||s.provide));if(!function ED(s){return!!s.deps}(s))return wi(g)||hl(g);u=()=>new g(...Ou(s.deps))}return u}function nd(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function ab(s){return null!==s&&"object"==typeof s&&gh in s}function na(s){return"function"==typeof s}let xs=(()=>{class s{static create(a,u){var g;if(Array.isArray(a))return ob({name:""},u,a,"");{const y=null!==(g=a.name)&&void 0!==g?g:"";return ob({name:y},a.parent,a.providers,y)}}}return s.THROW_IF_NOT_FOUND=Eo,s.NULL=new ro,s.\u0275prov=Cn({token:s,providedIn:"any",factory:()=>ui(rm)}),s.__NG_ELEMENT_ID__=-1,s})();function Yi(s,o){kl(To(s)[1],pr())}function Qy(s){let o=function Eb(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const u=[s];for(;o;){let g;if(gi(s))g=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new ie(903,"");g=o.\u0275dir}if(g){if(a){u.push(g);const A=s;A.inputs=lm(s.inputs),A.declaredInputs=lm(s.declaredInputs),A.outputs=lm(s.outputs);const S=g.hostBindings;S&&SD(s,S);const x=g.viewQuery,L=g.contentQueries;if(x&&TD(s,x),L&&Ab(s,L),be(s.inputs,g.inputs),be(s.declaredInputs,g.declaredInputs),be(s.outputs,g.outputs),gi(g)&&g.data.animation){const j=s.data;j.animation=(j.animation||[]).concat(g.data.animation)}}const y=g.features;if(y)for(let A=0;A<y.length;A++){const S=y[A];S&&S.ngInherit&&S(s),S===Qy&&(a=!1)}}o=Object.getPrototypeOf(o)}!function bb(s){let o=0,a=null;for(let u=s.length-1;u>=0;u--){const g=s[u];g.hostVars=o+=g.hostVars,g.hostAttrs=wu(g.hostAttrs,a=wu(a,g.hostAttrs))}}(u)}function lm(s){return s===Tn?{}:s===ue?[]:s}function TD(s,o){const a=s.viewQuery;s.viewQuery=a?(u,g)=>{o(u,g),a(u,g)}:o}function Ab(s,o){const a=s.contentQueries;s.contentQueries=a?(u,g,y)=>{o(u,g,y),a(u,g,y)}:o}function SD(s,o){const a=s.hostBindings;s.hostBindings=a?(u,g)=>{o(u,g),a(u,g)}:o}let pl=null;function jn(){if(!pl){const s=yn.Symbol;if(s&&s.iterator)pl=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const u=o[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(pl=u)}}}return pl}function Yh(s){return!!cm(s)&&(Array.isArray(s)||!(s instanceof Map)&&jn()in s)}function cm(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function yi(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function Yy(s,o,a,u){const g=ot();return yi(g,js(),o)&&(In(),Mo(_r(),g,s,o,a,u)),Yy}function Xy(s,o,a,u,g,y,A,S){const x=ot(),L=In(),j=s+20,te=L.firstCreatePass?function Mb(s,o,a,u,g,y,A,S,x){const L=o.consts,j=df(o,s,4,A||null,St(L,S));By(o,a,j,St(L,x)),kl(o,j);const te=j.tViews=pf(2,j,u,g,y,o.directiveRegistry,o.pipeRegistry,null,o.schemas,L);return null!==o.queries&&(o.queries.template(o,j),te.queries=o.queries.embeddedTView(j)),j}(j,L,x,o,a,u,g,y,A):L.data[j];Hi(te,!1);const ve=x[11].createComment("");af(L,x,ve,te),ci(ve,x),jh(x,x[j]=eb(ve,x,ve,te)),lo(te)&&Zg(L,x,te),null!=A&&Vy(x,te,S)}function ou(s,o=Ct.Default){const a=ot();return null===a?ui(s,o):Zs(pr(),a,T(s),o)}function Vb(){throw new Error("invalid")}function ad(s,o,a){const u=ot();return yi(u,js(),o)&&no(In(),_r(),u,s,o,u[11],a,!1),ad}function np(s,o,a,u,g){const A=g?"class":"style";$h(s,a,o.inputs[A],A,u)}function rp(s,o,a,u){const g=ot(),y=In(),A=20+s,S=g[11],x=g[A]=Ki(S,o,function Fd(){return Ut.lFrame.currentNamespace}()),L=y.firstCreatePass?function LD(s,o,a,u,g,y,A){const S=o.consts,L=df(o,s,2,g,St(S,y));return By(o,a,L,St(S,A)),null!==L.attrs&&nm(L,L.attrs,!1),null!==L.mergedAttrs&&nm(L,L.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,L),L}(A,y,g,0,o,a,u):y.data[A];Hi(L,!0);const j=L.mergedAttrs;null!==j&&Ol(S,x,j);const te=L.classes;null!==te&&uf(S,x,te);const ve=L.styles;return null!==ve&&jg(S,x,ve),64!=(64&L.flags)&&af(y,g,x,L),0===function or(){return Ut.lFrame.elementDepthCount}()&&ci(x,g),function On(){Ut.lFrame.elementDepthCount++}(),lo(L)&&(Zg(y,g,L),GE(y,L,g)),null!==u&&Vy(g,L),rp}function ip(){let s=pr();mc()?vc():(s=s.parent,Hi(s,!1));const o=s;!function ss(){Ut.lFrame.elementDepthCount--}();const a=In();return a.firstCreatePass&&(kl(a,s),ua(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Bd(s){return 0!=(16&s.flags)}(o)&&np(a,o,ot(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function gg(s){return 0!=(32&s.flags)}(o)&&np(a,o,ot(),o.stylesWithoutHost,!1),ip}function p_(s,o,a,u){return rp(s,o,a,u),ip(),p_}function Ns(s,o,a){const u=ot(),g=In(),y=s+20,A=g.firstCreatePass?function g_(s,o,a,u,g){const y=o.consts,A=St(y,u),S=df(o,s,8,"ng-container",A);return null!==A&&nm(S,A,!0),By(o,a,S,St(y,g)),null!==o.queries&&o.queries.elementStart(o,S),S}(y,g,u,o,a):g.data[y];Hi(A,!0);const S=u[y]=u[11].createComment("");return af(g,u,S,A),ci(S,u),lo(A)&&(Zg(g,u,A),GE(g,A,u)),null!=a&&Vy(u,A),Ns}function sp(){let s=pr();const o=In();return mc()?vc():(s=s.parent,Hi(s,!1)),o.firstCreatePass&&(kl(o,s),ua(s)&&o.queries.elementEnd(s)),sp}function op(){return ot()}function wf(s){return!!s&&"function"==typeof s.then}function Bb(s){return!!s&&"function"==typeof s.subscribe}const Ub=Bb;function v_(s,o,a,u){const g=ot(),y=In(),A=pr();return function y_(s,o,a,u,g,y,A,S){const x=lo(u),j=s.firstCreatePass&&tm(s),te=o[8],ve=$y(o);let Oe=!0;if(3&u.type||S){const Ot=Yr(u,o),Kt=S?S(Ot):Ot,ct=ve.length,dn=S?Jn=>S(Zn(Jn[u.index])):u.index;if(cr(a)){let Jn=null;if(!S&&x&&(Jn=function ym(s,o,a,u){const g=s.cleanup;if(null!=g)for(let y=0;y<g.length-1;y+=2){const A=g[y];if(A===a&&g[y+1]===u){const S=o[7],x=g[y+2];return S.length>x?S[x]:null}"string"==typeof A&&(y+=2)}return null}(s,o,g,u.index)),null!==Jn)(Jn.__ngLastListenerFn__||Jn).__ngNextListenerFn__=y,Jn.__ngLastListenerFn__=y,Oe=!1;else{y=Cf(u,o,te,y,!1);const mr=a.listen(Kt,g,y);ve.push(y,mr),j&&j.push(g,dn,ct,ct+1)}}else y=Cf(u,o,te,y,!0),Kt.addEventListener(g,y,A),ve.push(y),j&&j.push(g,dn,ct,A)}else y=Cf(u,o,te,y,!1);const nt=u.outputs;let Mt;if(Oe&&null!==nt&&(Mt=nt[g])){const Ot=Mt.length;if(Ot)for(let Kt=0;Kt<Ot;Kt+=2){const so=o[Mt[Kt]][Mt[Kt+1]].subscribe(y),ac=ve.length;ve.push(y,so),j&&j.push(g,u.index,ac,-(ac+1))}}}(y,g,g[11],A,s,o,!!a,u),v_}function __(s,o,a,u){try{return!1!==a(u)}catch(g){return ib(s,g),!1}}function Cf(s,o,a,u,g){return function y(A){if(A===Function)return u;const S=2&s.flags?Z(s.index,o):o;0==(32&o[2])&&Gy(S);let x=__(o,0,u,A),L=y.__ngNextListenerFn__;for(;L;)x=__(o,0,L,A)&&x,L=L.__ngNextListenerFn__;return g&&!1===x&&(A.preventDefault(),A.returnValue=!1),x}}function E_(s=1){return function zo(s){return(Ut.lFrame.contextLView=function ah(s,o){for(;s>0;)o=o[15],s--;return o}(s,Ut.lFrame.contextLView))[8]}(s)}function Kb(s,o,a,u,g){const y=s[a+1],A=null===o;let S=u?Ma(y):Ku(y),x=!1;for(;0!==S&&(!1===x||A);){const j=s[S+1];UD(s[S],o)&&(x=!0,s[S+1]=u?Sy(j):NE(j)),S=u?Ma(j):Ku(j)}x&&(s[a+1]=u?NE(y):Sy(y))}function UD(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&tl(s,o)>=0}const Gr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Qb(s){return s.substring(Gr.key,Gr.keyEnd)}function Yb(s,o){const a=Gr.textEnd;return a===o?-1:(o=Gr.keyEnd=function zD(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,Gr.key=o,a),Df(s,o,a))}function Df(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function C_(s,o,a){return ra(s,o,a,!1),C_}function Em(s,o){return ra(s,o,null,!0),Em}function D_(s){!function La(s,o,a,u){const g=In(),y=Gs(2);g.firstUpdatePass&&sA(g,null,y,u);const A=ot();if(a!==Vn&&yi(A,y,a)){const S=g.data[mi()];if(I_(S,u)&&!iA(g,y)){let x=u?S.classesWithoutHost:S.stylesWithoutHost;null!==x&&(a=De(x,a||"")),np(g,S,A,a,u)}else!function aA(s,o,a,u,g,y,A,S){g===Vn&&(g=ue);let x=0,L=0,j=0<g.length?g[0]:null,te=0<y.length?y[0]:null;for(;null!==j||null!==te;){const ve=x<g.length?g[x+1]:void 0,Oe=L<y.length?y[L+1]:void 0;let Mt,nt=null;j===te?(x+=2,L+=2,ve!==Oe&&(nt=te,Mt=Oe)):null===te||null!==j&&j<te?(x+=2,nt=j):(L+=2,nt=te,Mt=Oe),null!==nt&&lA(s,o,a,u,nt,Mt,A,S),j=x<g.length?g[x]:null,te=L<y.length?y[L]:null}}(g,S,A,A[11],A[y+1],A[y+1]=function ZD(s,o,a){if(null==a||""===a)return ue;const u=[],g=ls(a);if(Array.isArray(g))for(let y=0;y<g.length;y++)s(u,g[y],!0);else if("object"==typeof g)for(const y in g)g.hasOwnProperty(y)&&s(u,y,g[y]);else"string"==typeof g&&o(u,g);return u}(s,o,a),u,y)}}(Di,Fa,s,!0)}function Fa(s,o){for(let a=function jD(s){return function Xb(s){Gr.key=0,Gr.keyEnd=0,Gr.value=0,Gr.valueEnd=0,Gr.textEnd=s.length}(s),Yb(s,Df(s,0,Gr.textEnd))}(o);a>=0;a=Yb(o,a))Di(s,Qb(o),!0)}function ra(s,o,a,u){const g=ot(),y=In(),A=Gs(2);y.firstUpdatePass&&sA(y,s,A,u),o!==Vn&&yi(g,A,o)&&lA(y,y.data[mi()],g,g[11],s,g[A+1]=function KD(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=xe(ls(s)))),s}(o,a),u,A)}function iA(s,o){return o>=s.expandoStartIndex}function sA(s,o,a,u){const g=s.data;if(null===g[a+1]){const y=g[mi()],A=iA(s,a);I_(y,u)&&null===o&&!A&&(o=!1),o=function WD(s,o,a,u){const g=xl(s);let y=u?o.residualClasses:o.residualStyles;if(null===g)0===(u?o.classBindings:o.styleBindings)&&(a=cp(a=S_(null,s,o,a,u),o.attrs,u),y=null);else{const A=o.directiveStylingLast;if(-1===A||s[A]!==g)if(a=S_(g,s,o,a,u),null===y){let x=function oA(s,o,a){const u=a?o.classBindings:o.styleBindings;if(0!==Ku(u))return s[Ma(u)]}(s,o,u);void 0!==x&&Array.isArray(x)&&(x=S_(null,s,o,x[1],u),x=cp(x,o.attrs,u),function qD(s,o,a,u){s[Ma(a?o.classBindings:o.styleBindings)]=u}(s,o,u,x))}else y=function T_(s,o,a){let u;const g=o.directiveEnd;for(let y=1+o.directiveStylingLast;y<g;y++)u=cp(u,s[y].hostAttrs,a);return cp(u,o.attrs,a)}(s,o,u)}return void 0!==y&&(u?o.residualClasses=y:o.residualStyles=y),a}(g,y,o,u),function BD(s,o,a,u,g,y){let A=y?o.classBindings:o.styleBindings,S=Ma(A),x=Ku(A);s[u]=a;let j,L=!1;if(Array.isArray(a)){const te=a;j=te[1],(null===j||tl(te,j)>0)&&(L=!0)}else j=a;if(g)if(0!==x){const ve=Ma(s[S+1]);s[u+1]=Xc(ve,S),0!==ve&&(s[ve+1]=cf(s[ve+1],u)),s[S+1]=function ZC(s,o){return 131071&s|o<<17}(s[S+1],u)}else s[u+1]=Xc(S,0),0!==S&&(s[S+1]=cf(s[S+1],u)),S=u;else s[u+1]=Xc(x,0),0===S?S=u:s[x+1]=cf(s[x+1],u),x=u;L&&(s[u+1]=NE(s[u+1])),Kb(s,j,u,!0),Kb(s,j,u,!1),function up(s,o,a,u,g){const y=g?s.residualClasses:s.residualStyles;null!=y&&"string"==typeof o&&tl(y,o)>=0&&(a[u+1]=Sy(a[u+1]))}(o,j,s,u,y),A=Xc(S,x),y?o.classBindings=A:o.styleBindings=A}(g,y,o,a,A,u)}}function S_(s,o,a,u,g){let y=null;const A=a.directiveEnd;let S=a.directiveStylingLast;for(-1===S?S=a.directiveStart:S++;S<A&&(y=o[S],u=cp(u,y.hostAttrs,g),y!==s);)S++;return null!==s&&(a.directiveStylingLast=S),u}function cp(s,o,a){const u=a?1:2;let g=-1;if(null!==o)for(let y=0;y<o.length;y++){const A=o[y];"number"==typeof A?g=A:g===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Di(s,A,!!a||o[++y]))}return void 0===s?null:s}function lA(s,o,a,u,g,y,A,S){if(!(3&o.type))return;const x=s.data,L=x[S+1];Am(function kE(s){return 1==(1&s)}(L)?uA(x,o,a,g,Ku(L),A):void 0)||(Am(y)||function RE(s){return 2==(2&s)}(L)&&(y=uA(x,null,a,g,S,A)),function Jc(s,o,a,u,g){const y=cr(s);if(o)g?y?s.addClass(a,u):a.classList.add(u):y?s.removeClass(a,u):a.classList.remove(u);else{let A=-1===u.indexOf("-")?void 0:z.DashCase;if(null==g)y?s.removeStyle(a,u,A):a.style.removeProperty(u);else{const S="string"==typeof g&&g.endsWith("!important");S&&(g=g.slice(0,-10),A|=z.Important),y?s.setStyle(a,u,g,A):a.style.setProperty(u,g,S?"important":"")}}}(u,A,fo(mi(),a),g,y))}function uA(s,o,a,u,g,y){const A=null===o;let S;for(;g>0;){const x=s[g],L=Array.isArray(x),j=L?x[1]:x,te=null===j;let ve=a[g+1];ve===Vn&&(ve=te?ue:void 0);let Oe=te?Nc(ve,u):j===u?ve:void 0;if(L&&!Am(Oe)&&(Oe=Nc(x,u)),Am(Oe)&&(S=Oe,A))return S;const nt=s[g+1];g=A?Ma(nt):Ku(nt)}if(null!==o){let x=y?o.residualClasses:o.residualStyles;null!=x&&(S=Nc(x,u))}return S}function Am(s){return void 0!==s}function I_(s,o){return 0!=(s.flags&(o?16:32))}function cA(s,o=""){const a=ot(),u=In(),g=s+20,y=u.firstCreatePass?df(u,g,1,o,null):u.data[g],A=a[g]=function di(s,o){return cr(s)?s.createText(o):s.createTextNode(o)}(a[11],o);af(u,a,A,y),Hi(y,!1)}function Ji(s,o,a){const u=ot(),g=function iu(s,o,a,u){return yi(s,js(),a)?o+ce(a)+u:Vn}(u,s,o,a);return g!==Vn&&ta(u,mi(),g),Ji}function Dm(s,o,a){const u=ot();if(yi(u,js(),o)){const y=In(),A=_r();no(y,A,u,s,o,function zh(s,o,a){return(null===s||gi(s))&&(a=function ma(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(a[o.index])),a[11]}(xl(y.data),A,u),a,!0)}return Dm}const cd=void 0;var CA=["en",[["a","p"],["AM","PM"],cd],[["AM","PM"],cd,cd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],cd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],cd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",cd,"{1} 'at' {0}",cd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function oT(s){const a=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let dd={};function Tm(s){const o=function lT(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=TA(o);if(a)return a;const u=o.split("-")[0];if(a=TA(u),a)return a;if("en"===u)return CA;throw new Error(`Missing locale data for the locale "${s}".`)}function DA(s){return Tm(s)[vn.PluralCase]}function TA(s){return s in dd||(dd[s]=yn.ng&&yn.ng.common&&yn.ng.common.locales&&yn.ng.common.locales[s]),dd[s]}var vn=(()=>((vn=vn||{})[vn.LocaleId=0]="LocaleId",vn[vn.DayPeriodsFormat=1]="DayPeriodsFormat",vn[vn.DayPeriodsStandalone=2]="DayPeriodsStandalone",vn[vn.DaysFormat=3]="DaysFormat",vn[vn.DaysStandalone=4]="DaysStandalone",vn[vn.MonthsFormat=5]="MonthsFormat",vn[vn.MonthsStandalone=6]="MonthsStandalone",vn[vn.Eras=7]="Eras",vn[vn.FirstDayOfWeek=8]="FirstDayOfWeek",vn[vn.WeekendRange=9]="WeekendRange",vn[vn.DateFormat=10]="DateFormat",vn[vn.TimeFormat=11]="TimeFormat",vn[vn.DateTimeFormat=12]="DateTimeFormat",vn[vn.NumberSymbols=13]="NumberSymbols",vn[vn.NumberFormats=14]="NumberFormats",vn[vn.CurrencyCode=15]="CurrencyCode",vn[vn.CurrencySymbol=16]="CurrencySymbol",vn[vn.CurrencyName=17]="CurrencyName",vn[vn.Currencies=18]="Currencies",vn[vn.Directionality=19]="Directionality",vn[vn.PluralCase=20]="PluralCase",vn[vn.ExtraData=21]="ExtraData",vn))();const lu="en-US";let SA=lu;function H_(s,o,a,u,g){if(s=T(s),Array.isArray(s))for(let y=0;y<s.length;y++)H_(s[y],o,a,u,g);else{const y=In(),A=ot();let S=na(s)?s:T(s.provide),x=sm(s);const L=pr(),j=1048575&L.providerIndexes,te=L.directiveStart,ve=L.providerIndexes>>20;if(na(s)||!s.multi){const Oe=new Ja(x,g,ou),nt=j_(S,o,g?j:j+ve,te);-1===nt?(Cu(vi(L,A),y,S),_p(y,s,o.length),o.push(S),L.directiveStart++,L.directiveEnd++,g&&(L.providerIndexes+=1048576),a.push(Oe),A.push(Oe)):(a[nt]=Oe,A[nt]=Oe)}else{const Oe=j_(S,o,j+ve,te),nt=j_(S,o,j,j+ve),Mt=Oe>=0&&a[Oe],Ot=nt>=0&&a[nt];if(g&&!Ot||!g&&!Mt){Cu(vi(L,A),y,S);const Kt=function es(s,o,a,u,g){const y=new Ja(s,a,ou);return y.multi=[],y.index=o,y.componentProviders=0,KA(y,g,u&&!a),y}(g?Xi:OT,a.length,g,u,x);!g&&Ot&&(a[nt].providerFactory=Kt),_p(y,s,o.length,0),o.push(S),L.directiveStart++,L.directiveEnd++,g&&(L.providerIndexes+=1048576),a.push(Kt),A.push(Kt)}else _p(y,s,Oe>-1?Oe:nt,KA(a[g?nt:Oe],x,!g&&u));!g&&u&&Ot&&a[nt].componentProviders++}}}function _p(s,o,a,u){const g=na(o),y=function xo(s){return!!s.useClass}(o);if(g||y){const x=(y?T(o.useClass):o).prototype.ngOnDestroy;if(x){const L=s.destroyHooks||(s.destroyHooks=[]);if(!g&&o.multi){const j=L.indexOf(a);-1===j?L.push(a,[u,x]):L[j+1].push(u,x)}else L.push(a,x)}}}function KA(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function j_(s,o,a,u){for(let g=a;g<u;g++)if(o[g]===s)return g;return-1}function OT(s,o,a,u){return Sf(this.multi,[])}function Xi(s,o,a,u){const g=this.multi;let y;if(this.providerFactory){const A=this.providerFactory.componentProviders,S=Bl(a,a[1],this.providerFactory.index,u);y=S.slice(0,A),Sf(g,y);for(let x=A;x<S.length;x++)y.push(S[x])}else y=[],Sf(g,y);return y}function Sf(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function uu(s,o=[]){return a=>{a.providersResolver=(u,g)=>function yp(s,o,a){const u=In();if(u.firstCreatePass){const g=gi(s);H_(a,u.data,u.blueprint,g,!0),H_(o,u.data,u.blueprint,g,!1)}}(u,g?g(s):s,o)}}class QA{}class JA{resolveComponentFactory(o){throw function YA(s){const o=Error(`No component factory found for ${xe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let If=(()=>{class s{}return s.NULL=new JA,s})();function km(){return fd(pr(),ot())}function fd(s,o){return new _i(Yr(s,o))}let _i=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=km,s})();function z_(s){return s instanceof _i?s.nativeElement:s}class $_{}let XA=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function ew(){const s=ot(),a=Z(pr().index,s);return function W_(s){return s[11]}(oi(a)?a:s)}(),s})(),tw=(()=>{class s{}return s.\u0275prov=Cn({token:s,providedIn:"root",factory:()=>null}),s})();class q_{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Pm=new q_("13.3.3"),Z_={};function Om(s,o,a,u,g=!1){for(;null!==a;){const y=o[a.index];if(null!==y&&u.push(Zn(y)),ai(y))for(let S=10;S<y.length;S++){const x=y[S],L=x[1].firstChild;null!==L&&Om(x[1],x,L,u)}const A=a.type;if(8&A)Om(s,o,a.child,u);else if(32&A){const S=Ne(a,o);let x;for(;x=S();)u.push(x)}else if(16&A){const S=yy(o,a);if(Array.isArray(S))u.push(...S);else{const x=mt(o[16]);Om(x[1],x,S,u,!0)}}a=g?a.projectionNext:a.next}return u}class yl{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return Om(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(ai(o)){const a=o[8],u=a?a.indexOf(this):-1;u>-1&&(Ih(o,u),xu(a,u))}this._attachedToViewContainer=!1}Vg(this._lView[1],this._lView)}onDestroy(o){Qg(this._lView[1],this._lView,null,o)}markForCheck(){Gy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){wn(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Ra(s,o,a){Za(!0);try{wn(s,o,a)}finally{Za(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new ie(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function of(s,o){qu(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new ie(902,"");this._appRef=o}}class nw extends yl{constructor(o){super(o),this._view=o}detectChanges(){fi(this._view)}checkNoChanges(){!function Gh(s){Za(!0);try{fi(s)}finally{Za(!1)}}(this._view)}get context(){return null}}class Fm extends If{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=jt(o);return new Mf(a,this.ngModule)}}function K_(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class Mf extends QA{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function WC(s){return s.map(Dy).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return K_(this.componentDef.inputs)}get outputs(){return K_(this.componentDef.outputs)}create(o,a,u,g){const y=(g=g||this.ngModule)?function rw(s,o){return{get:(a,u,g)=>{const y=s.get(a,Z_,g);return y!==Z_||u===Z_?y:o.get(a,u,g)}}}(o,g.injector):o,A=y.get($_,Ui),S=y.get(tw,null),x=A.createRenderer(null,this.componentDef),L=this.componentDef.selectors[0][0]||"div",j=u?function zE(s,o,a){if(cr(s))return s.selectRootElement(o,a===un.ShadowDom);let u="string"==typeof o?s.querySelector(o):o;return u.textContent="",u}(x,u,this.componentDef.encapsulation):Ki(A.createRenderer(null,this.componentDef),L,function LT(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(L)),te=this.componentDef.onPush?576:528,ve=function DD(s,o){return{components:[],scheduler:s||cy,clean:yD,playerHandler:o||null,flags:0}}(),Oe=pf(0,null,null,1,0,null,null,null,null,null),nt=Bh(null,Oe,ve,te,null,null,A,x,S,y);let Mt,Ot;Ya(nt);try{const Kt=function Zy(s,o,a,u,g,y){const A=a[1];a[20]=s;const x=df(A,20,2,"#host",null),L=x.mergedAttrs=o.hostAttrs;null!==L&&(nm(x,L,!0),null!==s&&(Ol(g,s,L),null!==x.classes&&uf(g,s,x.classes),null!==x.styles&&jg(g,s,x.styles)));const j=u.createRenderer(s,o),te=Bh(a,Io(o),null,o.onPush?64:16,a[20],x,u,j,y||null,null);return A.firstCreatePass&&(Cu(vi(x,a),A,o.type),Hy(A,x),QE(x,a.length,1)),jh(a,te),a[20]=te}(j,this.componentDef,nt,A,x);if(j)if(u)Ol(x,j,["ng-version",Pm.full]);else{const{attrs:ct,classes:dn}=function qC(s){const o=[],a=[];let u=1,g=2;for(;u<s.length;){let y=s[u];if("string"==typeof y)2===g?""!==y&&o.push(y,s[++u]):8===g&&a.push(y);else{if(!Qi(g))break;g=y}u++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);ct&&Ol(x,j,ct),dn&&dn.length>0&&uf(x,j,dn.join(" "))}if(Ot=va(Oe,20),void 0!==a){const ct=Ot.projection=[];for(let dn=0;dn<this.ngContentSelectors.length;dn++){const Jn=a[dn];ct.push(null!=Jn?Array.from(Jn):null)}}Mt=function Ky(s,o,a,u,g){const y=a[1],A=function KE(s,o,a){const u=pr();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),YE(s,u,o,ff(s,o,1,null),a));const g=Bl(o,s,u.directiveStart,u);ci(g,o);const y=Yr(u,o);return y&&ci(y,o),g}(y,a,o);if(u.components.push(A),s[8]=A,g&&g.forEach(x=>x(A,o)),o.contentQueries){const x=pr();o.contentQueries(1,A,x.directiveStart)}const S=pr();return!y.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(zs(S.index),Uy(a[1],S,0,S.directiveStart,S.directiveEnd,o),Xg(o,A)),A}(Kt,this.componentDef,nt,ve,[Yi]),td(Oe,nt,null)}finally{Nl()}return new Y_(this.componentType,Mt,fd(Ot,nt),nt,Ot)}}class Y_ extends class FT{}{constructor(o,a,u,g,y){super(),this.location=u,this._rootLView=g,this._tNode=y,this.instance=a,this.hostView=this.changeDetectorRef=new nw(g),this.componentType=o}get injector(){return new Zo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class xf{}class Lm{}const hd=new Map;class aw extends xf{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Fm(this);const u=Vt(o);this._bootstrapComponents=v(u.bootstrap),this._r3Injector=gf(o,a,[{provide:xf,useValue:this},{provide:If,useValue:this.componentFactoryResolver}],xe(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=xs.THROW_IF_NOT_FOUND,u=Ct.Default){return o===xs||o===xf||o===rm?this:this._r3Injector.get(o,a,u)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class J_ extends Lm{constructor(o){super(),this.moduleType=o,null!==Vt(o)&&function cs(s){const o=new Set;!function a(u){const g=Vt(u,!0),y=g.id;null!==y&&(function sw(s,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${s} - ${xe(o)} vs ${xe(o.name)}`)}(y,hd.get(y),u),hd.set(y,u));const A=v(g.imports);for(const S of A)o.has(S)||(o.add(S),a(S))}(s)}(o)}create(o){return new aw(this.moduleType,o)}}function jm(s,o,a,u,g,y){const A=o+a;return yi(s,A,g)?function Pa(s,o,a){return s[o]=a}(s,A+1,y?u.call(y,g):u(g)):function Rf(s,o){const a=s[o];return a===Vn?void 0:a}(s,A+1)}function $m(s,o){const a=In();let u;const g=s+20;a.firstCreatePass?(u=function Mi(s,o){if(o)for(let a=o.length-1;a>=0;a--){const u=o[a];if(s===u.name)return u}}(o,a.pipeRegistry),a.data[g]=u,u.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(g,u.onDestroy)):u=a.data[g];const y=u.factory||(u.factory=wi(u.type)),A=Lt(ou);try{const S=Xa(!1),x=y();return Xa(S),function MD(s,o,a,u){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=u}(a,ot(),g,x),x}finally{Lt(A)}}function xi(s,o,a){const u=s+20,g=ot(),y=function K(s,o){return s[o]}(g,u);return function Nf(s,o){return s[1].data[o].pure}(g,u)?jm(g,function Jr(){const s=Ut.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}(),o,y.transform,a,y):y.transform(a)}function o0(s){return o=>{setTimeout(s,void 0,o)}}const ia=class jT extends h.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,u){var g,y,A;let S=o,x=a||(()=>null),L=u;if(o&&"object"==typeof o){const te=o;S=null===(g=te.next)||void 0===g?void 0:g.bind(te),x=null===(y=te.error)||void 0===y?void 0:y.bind(te),L=null===(A=te.complete)||void 0===A?void 0:A.bind(te)}this.__isAsync&&(x=o0(x),S&&(S=o0(S)),L&&(L=o0(L)));const j=super.subscribe({next:S,error:x,complete:L});return o instanceof P.w0&&o.add(j),j}};function a0(){return this._results[jn()]()}class l0{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=jn(),u=l0.prototype;u[a]||(u[a]=a0)}get changes(){return this._changes||(this._changes=new ia)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const u=this;u.dirty=!1;const g=Wi(o);(this._changesDetected=!function Rc(s,o,a){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let g=s[u],y=o[u];if(a&&(g=a(g),y=a(y)),y!==g)return!1}return!0}(u._results,g,a))&&(u._results=g,u.length=g.length,u.last=g[this.length-1],u.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let pd=(()=>{class s{}return s.__NG_ELEMENT_ID__=qm,s})();const fw=pd,GT=class extends fw{constructor(o,a,u){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(o){const a=this._declarationTContainer.tViews,u=Bh(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(u[19]=y.createEmbeddedView(a)),td(a,u,o),new yl(u)}};function qm(){return kf(pr(),ot())}function kf(s,o){return 4&s.type?new GT(o,s,fd(s,o)):null}let Pf=(()=>{class s{}return s.__NG_ELEMENT_ID__=hw,s})();function hw(){return c0(pr(),ot())}const zT=Pf,Of=class extends zT{constructor(o,a,u){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=u}get element(){return fd(this._hostTNode,this._hostLView)}get injector(){return new Zo(this._hostTNode,this._hostLView)}get parentInjector(){const o=qs(this._hostTNode,this._hostLView);if(go(o)){const a=jr(o,this._hostLView),u=mo(o);return new Zo(a[1].data[u+8],a)}return new Zo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=u0(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,u){const g=o.createEmbeddedView(a||{});return this.insert(g,u),g}createComponent(o,a,u,g,y){const A=o&&!function $i(s){return"function"==typeof s}(o);let S;if(A)S=a;else{const te=a||{};S=te.index,u=te.injector,g=te.projectableNodes,y=te.ngModuleRef}const x=A?o:new Mf(jt(o)),L=u||this.parentInjector;if(!y&&null==x.ngModule){const ve=(A?L:this.parentInjector).get(xf,null);ve&&(y=ve)}const j=x.create(L,g,void 0,y);return this.insert(j.hostView,S),j}insert(o,a){const u=o._lView,g=u[1];if(function _t(s){return ai(s[3])}(u)){const j=this.indexOf(o);if(-1!==j)this.detach(j);else{const te=u[3],ve=new Of(te,te[6],te[3]);ve.detach(ve.indexOf(o))}}const y=this._adjustIndex(a),A=this._lContainer;!function Ia(s,o,a,u){const g=10+u,y=a.length;u>0&&(a[g-1][4]=o),u<y-10?(o[4]=a[g],_o(a,10+u,o)):(a.push(o),o[4]=null),o[3]=a;const A=o[17];null!==A&&a!==A&&function Lg(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(A,o);const S=o[19];null!==S&&S.insertView(s),o[2]|=128}(g,u,A,y);const S=_y(y,A),x=u[11],L=Mh(x,A[7]);return null!==L&&function eo(s,o,a,u,g,y){u[0]=g,u[6]=o,qu(s,u,a,1,g,y)}(g,A[6],x,u,L,S),o.attachToViewContainerRef(),_o(Zm(A),y,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=u0(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),u=Ih(this._lContainer,a);u&&(xu(Zm(this._lContainer),a),Vg(u[1],u))}detach(o){const a=this._adjustIndex(o,-1),u=Ih(this._lContainer,a);return u&&null!=xu(Zm(this._lContainer),a)?new yl(u):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function u0(s){return s[8]}function Zm(s){return s[8]||(s[8]=[])}function c0(s,o){let a;const u=o[s.index];if(ai(u))a=u;else{let g;if(8&s.type)g=Zn(u);else{const y=o[11];g=y.createComment("");const A=Yr(s,o);eu(y,Mh(y,A),g,function wE(s,o){return cr(s)?s.nextSibling(o):o.nextSibling}(y,A),!1)}o[s.index]=a=eb(u,o,g,s),jh(o,a)}return new Of(a,s,o)}class rc{constructor(o){this.queryList=o,this.matches=null}clone(){return new rc(this.queryList)}setDirty(){this.queryList.setDirty()}}class d0{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const u=null!==o.contentQueries?o.contentQueries[0]:a.length,g=[];for(let y=0;y<u;y++){const A=a.getByIndex(y);g.push(this.queries[A.indexInDeclarationView].clone())}return new d0(g)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==ev(o,a).matches&&this.queries[a].setDirty()}}class pw{constructor(o,a,u=null){this.predicate=o,this.flags=a,this.read=u}}class cu{constructor(o=[]){this.queries=o}elementStart(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let u=0;u<this.length;u++){const g=null!==a?a.length:0,y=this.getByIndex(u).embeddedTView(o,g);y&&(y.indexInDeclarationView=u,null!==a?a.push(y):a=[y])}return null!==a?new cu(a):null}template(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Qm{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Qm(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let g=0;g<u.length;g++){const y=u[g];this.matchTNodeWithReadOption(o,a,Ym(a,y)),this.matchTNodeWithReadOption(o,a,Du(a,o,y,!1,!1))}else u===pd?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Du(a,o,u,!1,!1))}matchTNodeWithReadOption(o,a,u){if(null!==u){const g=this.metadata.read;if(null!==g)if(g===_i||g===Pf||g===pd&&4&a.type)this.addMatch(a.index,-2);else{const y=Du(a,o,g,!1,!1);null!==y&&this.addMatch(a.index,y)}else this.addMatch(a.index,u)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function Ym(s,o){const a=s.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===o)return a[u+1];return null}function Ep(s,o,a,u){return-1===a?function gw(s,o){return 11&s.type?fd(s,o):4&s.type?kf(s,o):null}(o,s):-2===a?function mw(s,o,a){return a===_i?fd(o,s):a===pd?kf(o,s):a===Pf?c0(o,s):void 0}(s,o,u):Bl(s,s[1],a,o)}function ds(s,o,a,u){const g=o[19].queries[u];if(null===g.matches){const y=s.data,A=a.matches,S=[];for(let x=0;x<A.length;x+=2){const L=A[x];S.push(L<0?null:Ep(o,y[L],A[x+1],a.metadata.read))}g.matches=S}return g.matches}function Jm(s,o,a,u){const g=s.queries.getByIndex(a),y=g.matches;if(null!==y){const A=ds(s,o,g,a);for(let S=0;S<y.length;S+=2){const x=y[S];if(x>0)u.push(A[S/2]);else{const L=y[S+1],j=o[-x];for(let te=10;te<j.length;te++){const ve=j[te];ve[17]===ve[3]&&Jm(ve[1],ve,L,u)}if(null!==j[9]){const te=j[9];for(let ve=0;ve<te.length;ve++){const Oe=te[ve];Jm(Oe[1],Oe,L,u)}}}}}return u}function Ff(s){const o=ot(),a=In(),u=Ec();bc(u+1);const g=ev(a,u);if(s.dirty&&we(o)===(2==(2&g.metadata.flags))){if(null===g.matches)s.reset([]);else{const y=g.crossesNgTemplate?Jm(a,o,u,[]):ds(a,o,g,u);s.reset(y,z_),s.notifyOnChanges()}return!0}return!1}function bp(s,o,a){const u=In();u.firstCreatePass&&(Lf(u,new pw(s,o,a),-1),2==(2&o)&&(u.staticViewQueries=!0)),h0(u,ot(),o)}function f0(s,o,a,u){const g=In();if(g.firstCreatePass){const y=pr();Lf(g,new pw(o,a,u),y.index),function p0(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(g,s),2==(2&a)&&(g.staticContentQueries=!0)}h0(g,ot(),a)}function Xm(){return function vw(s,o){return s[19].queries[o].queryList}(ot(),Ec())}function h0(s,o,a){const u=new l0(4==(4&a));Qg(s,o,u,u.destroy),null===o[19]&&(o[19]=new d0),o[19].queries.push(new rc(u))}function Lf(s,o,a){null===s.queries&&(s.queries=new cu),s.queries.track(new Qm(o,a))}function ev(s,o){return s.queries.getByIndex(o)}function Uf(...s){}const A0=new xr("Application Initializer");let lv=(()=>{class s{constructor(a){this.appInits=a,this.resolve=Uf,this.reject=Uf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,g)=>{this.resolve=u,this.reject=g})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let g=0;g<this.appInits.length;g++){const y=this.appInits[g]();if(wf(y))a.push(y);else if(Ub(y)){const A=new Promise((S,x)=>{y.subscribe({complete:S,error:x})});a.push(A)}}Promise.all(a).then(()=>{u()}).catch(g=>{this.reject(g)}),0===a.length&&u(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(ui(A0,8))},s.\u0275prov=Cn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const uv=new xr("AppId",{providedIn:"root",factory:function xw(){return`${w0()}${w0()}${w0()}`}});function w0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Mp=new xr("Platform Initializer"),xp=new xr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Rp=new xr("appBootstrapListener");let Nw=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Cn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const gd=new xr("LocaleId",{providedIn:"root",factory:()=>mh(gd,Ct.Optional|Ct.SkipSelf)||function Np(){return"undefined"!=typeof $localize&&$localize.locale||lu}()}),eS=new xr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class nS{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let rS=(()=>{class s{compileModuleSync(a){return new J_(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),y=v(Vt(a).declarations).reduce((A,S)=>{const x=jt(S);return x&&A.push(new Mf(x)),A},[]);return new nS(u,y)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Cn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const kw=(()=>Promise.resolve(0))();function cv(s){"undefined"==typeof Zone?kw.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class sa{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ia(!1),this.onMicrotaskEmpty=new ia(!1),this.onStable=new ia(!1),this.onError=new ia(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!u&&a,g.shouldCoalesceRunChangeDetection=u,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function dv(){let s=yn.requestAnimationFrame,o=yn.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function C0(s){const o=()=>{!function oS(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(yn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,md(s),s.isCheckStableRunning=!0,fv(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),md(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,g,y,A,S)=>{try{return D0(s),a.invokeTask(g,y,A,S)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||s.shouldCoalesceRunChangeDetection)&&o(),hv(s)}},onInvoke:(a,u,g,y,A,S,x)=>{try{return D0(s),a.invoke(g,y,A,S,x)}finally{s.shouldCoalesceRunChangeDetection&&o(),hv(s)}},onHasTask:(a,u,g,y)=>{a.hasTask(g,y),u===g&&("microTask"==y.change?(s._hasPendingMicrotasks=y.microTask,md(s),fv(s)):"macroTask"==y.change&&(s.hasPendingMacrotasks=y.macroTask))},onHandleError:(a,u,g,y)=>(a.handleError(g,y),s.runOutsideAngular(()=>s.onError.emit(y)),!1)})}(g)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!sa.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(sa.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,u){return this._inner.run(o,a,u)}runTask(o,a,u,g){const y=this._inner,A=y.scheduleEventTask("NgZoneEvent: "+g,o,fu,Uf,Uf);try{return y.runTask(A,a,u)}finally{y.cancelTask(A)}}runGuarded(o,a,u){return this._inner.runGuarded(o,a,u)}runOutsideAngular(o){return this._outer.run(o)}}const fu={};function fv(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function md(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function D0(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function hv(s){s._nesting--,fv(s)}class pv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ia,this.onMicrotaskEmpty=new ia,this.onStable=new ia,this.onError=new ia}run(o,a,u){return o.apply(a,u)}runGuarded(o,a,u){return o.apply(a,u)}runOutsideAngular(o){return o()}runTask(o,a,u,g){return o.apply(a,u)}}let T0=(()=>{class s{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{sa.assertNotInAngularZone(),cv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())cv(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,g){let y=-1;u&&u>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(A=>A.timeoutId!==y),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:y,updateCb:g})}whenStable(a,u,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,u,g){return[]}}return s.\u0275fac=function(a){return new(a||s)(ui(sa))},s.\u0275prov=Cn({token:s,factory:s.\u0275fac}),s})(),S0=(()=>{class s{constructor(){this._applications=new Map,mv.addToWindow(this)}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return mv.findTestabilityInTree(this,a,u)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Cn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();class gv{addToWindow(o){}findTestabilityInTree(o,a,u){return null}}function aS(s){mv=s}let ks,mv=new gv;const vv=new xr("AllowMultipleToken");class Ow{constructor(o,a){this.name=o,this.token=a}}function M0(s,o,a=[]){const u=`Platform: ${o}`,g=new xr(u);return(y=[])=>{let A=x0();if(!A||A.injector.get(vv,!1))if(s)s(a.concat(y).concat({provide:g,useValue:!0}));else{const S=a.concat(y).concat({provide:g,useValue:!0},{provide:im,useValue:"platform"});!function yv(s){if(ks&&!ks.destroyed&&!ks.injector.get(vv,!1))throw new ie(400,"");ks=s.get(Lw);const o=s.get(Mp,null);o&&o.forEach(a=>a())}(xs.create({providers:S,name:u}))}return function Fw(s){const o=x0();if(!o)throw new ie(401,"");return o}()}}function x0(){return ks&&!ks.destroyed?ks:null}let Lw=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const S=function Vw(s,o){let a;return a="noop"===s?new pv:("zone.js"===s?void 0:s)||new sa({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),x=[{provide:sa,useValue:S}];return S.run(()=>{const L=xs.create({providers:x,parent:this.injector,name:a.moduleType.name}),j=a.create(L),te=j.injector.get(Qc,null);if(!te)throw new ie(402,"");return S.runOutsideAngular(()=>{const ve=S.onError.subscribe({next:Oe=>{te.handleError(Oe)}});j.onDestroy(()=>{_v(this._modules,j),ve.unsubscribe()})}),function Bw(s,o,a){try{const u=a();return wf(u)?u.catch(g=>{throw o.runOutsideAngular(()=>s.handleError(g)),g}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(te,S,()=>{const ve=j.injector.get(lv);return ve.runInitializers(),ve.donePromise.then(()=>(function fT(s){xt(s,"Expected localeId to be defined"),"string"==typeof s&&(SA=s.toLowerCase().replace(/_/g,"-"))}(j.injector.get(gd,lu)||lu),this._moduleDoBootstrap(j),j))})})}bootstrapModule(a,u=[]){const g=kp({},u);return function Pw(s,o,a){const u=new J_(a);return Promise.resolve(u)}(0,0,a).then(y=>this.bootstrapModuleFactory(y,g))}_moduleDoBootstrap(a){const u=a.injector.get(Ps);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(g=>u.bootstrap(g));else{if(!a.instance.ngDoBootstrap)throw new ie(403,"");a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ie(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(ui(xs))},s.\u0275prov=Cn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function kp(s,o){return Array.isArray(o)?o.reduce(kp,s):Object.assign(Object.assign({},s),o)}let Ps=(()=>{class s{constructor(a,u,g,y){this._zone=a,this._injector=u,this._exceptionHandler=g,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const A=new R.y(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),S=new R.y(x=>{let L;this._zone.runOutsideAngular(()=>{L=this._zone.onStable.subscribe(()=>{sa.assertNotInAngularZone(),cv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const j=this._zone.onUnstable.subscribe(()=>{sa.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{L.unsubscribe(),j.unsubscribe()}});this.isStable=(0,G.T)(A,S.pipe((0,ne.B)()))}bootstrap(a,u){if(!this._initStatus.done)throw new ie(405,"");let g;g=a instanceof QA?a:this._injector.get(If).resolveComponentFactory(a),this.componentTypes.push(g.componentType);const y=function I0(s){return s.isBoundToModule}(g)?void 0:this._injector.get(xf),S=g.create(xs.NULL,[],u||g.selector,y),x=S.location.nativeElement,L=S.injector.get(T0,null),j=L&&S.injector.get(S0);return L&&j&&j.registerApplication(x,L),S.onDestroy(()=>{this.detachView(S.hostView),_v(this.components,S),j&&j.unregisterApplication(x)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new ie(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;_v(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Rp,[]).concat(this._bootstrapListeners).forEach(g=>g(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(a){return new(a||s)(ui(sa),ui(xs),ui(Qc),ui(lv))},s.\u0275prov=Cn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function _v(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let Uw=!0,Hw=!1;function N0(){return Hw=!0,Uw}function uS(){if(Hw)throw new Error("Cannot enable prod mode after platform setup.");Uw=!1}let Ev=(()=>{class s{}return s.__NG_ELEMENT_ID__=dS,s})();function dS(s){return function Gw(s,o,a){if(Uo(s)&&!a){const u=Z(s.index,o);return new yl(u,u)}return 47&s.type?new yl(o[16],o):null}(pr(),ot(),16==(16&s))}class P0{constructor(){}supports(o){return Yh(o)}create(o){return new jx(o)}}const fS=(s,o)=>o;class jx{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||fS}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,u=this._removalsHead,g=0,y=null;for(;a||u;){const A=!u||a&&a.currentIndex<Un(u,g,y)?a:u,S=Un(A,g,y),x=A.currentIndex;if(A===u)g--,u=u._nextRemoved;else if(a=a._next,null==A.previousIndex)g++;else{y||(y=[]);const L=S-g,j=x-g;if(L!=j){for(let ve=0;ve<L;ve++){const Oe=ve<y.length?y[ve]:y[ve]=0,nt=Oe+ve;j<=nt&&nt<L&&(y[ve]=Oe+1)}y[A.previousIndex]=j-L}}S!==x&&o(A,S,x)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Yh(o))throw new ie(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let g,y,A,a=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let S=0;S<this.length;S++)y=o[S],A=this._trackByFn(S,y),null!==a&&Object.is(a.trackById,A)?(u&&(a=this._verifyReinsertion(a,y,A,S)),Object.is(a.item,y)||this._addIdentityChange(a,y)):(a=this._mismatch(a,y,A,S),u=!0),a=a._next}else g=0,function ID(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[jn()]();let u;for(;!(u=a.next()).done;)o(u.value)}}(o,S=>{A=this._trackByFn(g,S),null!==a&&Object.is(a.trackById,A)?(u&&(a=this._verifyReinsertion(a,S,A,g)),Object.is(a.item,S)||this._addIdentityChange(a,S)):(a=this._mismatch(a,S,A,g),u=!0),a=a._next,g++}),this.length=g;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,u,g){let y;return null===o?y=this._itTail:(y=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,y,g)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,g))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,y,g)):o=this._addAfter(new Ro(a,u),y,g),o}_verifyReinsertion(o,a,u,g){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==y?o=this._reinsertAfter(y,o._prev,g):o.currentIndex!=g&&(o.currentIndex=g,this._addToMoves(o,g)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const g=o._prevRemoved,y=o._nextRemoved;return null===g?this._removalsHead=y:g._nextRemoved=y,null===y?this._removalsTail=g:y._prevRemoved=g,this._insertAfter(o,a,u),this._addToMoves(o,u),o}_moveAfter(o,a,u){return this._unlink(o),this._insertAfter(o,a,u),this._addToMoves(o,u),o}_addAfter(o,a,u){return this._insertAfter(o,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,u){const g=null===a?this._itHead:a._next;return o._next=g,o._prev=a,null===g?this._itTail=o:g._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new O0),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,u=o._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new O0),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Ro{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class hS{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const a=o._prevDup,u=o._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class O0{constructor(){this.map=new Map}put(o){const a=o.trackById;let u=this.map.get(a);u||(u=new hS,this.map.set(a,u)),u.add(o)}get(o,a){const g=this.map.get(o);return g?g.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Un(s,o,a){const u=s.previousIndex;if(null===u)return u;let g=0;return a&&u<a.length&&(g=a[u]),u+o+g}class yd{constructor(){}supports(o){return o instanceof Map||cm(o)}create(){return new Ww}}class Ww{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||cm(o)))throw new ie(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,g)=>{if(a&&a.key===g)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const y=this._getOrCreateRecordForKey(g,u);a=this._insertBeforeOrAppend(a,y)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const u=o._prev;return a._next=o,a._prev=u,o._prev=a,u&&(u._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const g=this._records.get(o);this._maybeAddToChanges(g,a);const y=g._prev,A=g._next;return y&&(y._next=A),A&&(A._prev=y),g._next=null,g._prev=null,g}const u=new ni(o);return this._records.set(o,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(u=>a(o[u],u))}}class ni{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function En(){return new wv([new P0])}let wv=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(null!=u){const g=u.factories.slice();a=a.concat(g)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||En()),deps:[[s,new wo,new Xs]]}}find(a){const u=this.factories.find(g=>g.supports(a));if(null!=u)return u;throw new ie(901,"")}}return s.\u0275prov=Cn({token:s,providedIn:"root",factory:En}),s})();function F0(){return new _d([new yd])}let _d=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(u){const g=u.factories.slice();a=a.concat(g)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||F0()),deps:[[s,new wo,new Xs]]}}find(a){const u=this.factories.find(y=>y.supports(a));if(u)return u;throw new ie(901,"")}}return s.\u0275prov=Cn({token:s,providedIn:"root",factory:F0}),s})();const gS=M0(null,"core",[]);let bi=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(ui(Ps))},s.\u0275mod=Se({type:s}),s.\u0275inj=Ee({}),s})()},579:(Pt,$e,$)=>{"use strict";$.d($e,{Gb:()=>yn,IH:()=>tr});var h=$(5861),P=$(9681),R=$(1877),G=$(2090),ne=$(4859);$(2833);const be="analytics",xe="firebase_id",de="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",T="https://www.googletagmanager.com/gtag/js",F=new R.Yd("@firebase/analytics");function U(ae){return Promise.all(ae.map(ge=>ge.catch(Pe=>Pe)))}function ie(ae,ge){const Pe=document.createElement("script");Pe.src=`${T}?l=${ae}&id=${ge}`,Pe.async=!0,document.head.appendChild(Pe)}function ce(ae,ge,Pe,st,pt,ut){return oe.apply(this,arguments)}function oe(){return(oe=(0,h.Z)(function*(ae,ge,Pe,st,pt,ut){const zt=st[pt];try{if(zt)yield ge[zt];else{const pe=(yield U(Pe)).find(he=>he.measurementId===pt);pe&&(yield ge[pe.appId])}}catch(Se){F.error(Se)}ae("config",pt,ut)})).apply(this,arguments)}function je(ae,ge,Pe,st,pt){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,h.Z)(function*(ae,ge,Pe,st,pt){try{let ut=[];if(pt&&pt.send_to){let zt=pt.send_to;Array.isArray(zt)||(zt=[zt]);const Se=yield U(Pe);for(const pe of zt){const he=Se.find(At=>At.measurementId===pe),et=he&&ge[he.appId];if(!et){ut=[];break}ut.push(et)}}0===ut.length&&(ut=Object.values(ge)),yield Promise.all(ut),ae("event",st,pt||{})}catch(ut){F.error(ut)}})).apply(this,arguments)}function ze(){const ae=window.document.getElementsByTagName("script");for(const ge of Object.values(ae))if(ge.src&&ge.src.includes(T))return ge;return null}const Te=new G.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Fe=new class Ie{constructor(ge={},Pe=1e3){this.throttleMetadata=ge,this.intervalMillis=Pe}getThrottleMetadata(ge){return this.throttleMetadata[ge]}setThrottleMetadata(ge,Pe){this.throttleMetadata[ge]=Pe}deleteThrottleMetadata(ge){delete this.throttleMetadata[ge]}};function Be(ae){return new Headers({Accept:"application/json","x-goog-api-key":ae})}function Xe(ae){return ke.apply(this,arguments)}function ke(){return(ke=(0,h.Z)(function*(ae){var ge;const{appId:Pe,apiKey:st}=ae,pt={method:"GET",headers:Be(st)},ut=de.replace("{app-id}",Pe),zt=yield fetch(ut,pt);if(200!==zt.status&&304!==zt.status){let Se="";try{const pe=yield zt.json();(null===(ge=pe.error)||void 0===ge?void 0:ge.message)&&(Se=pe.error.message)}catch(pe){}throw Te.create("config-fetch-failed",{httpStatus:zt.status,responseMessage:Se})}return zt.json()})).apply(this,arguments)}function $t(ae){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,h.Z)(function*(ae,ge=Fe,Pe){const{appId:st,apiKey:pt,measurementId:ut}=ae.options;if(!st)throw Te.create("no-app-id");if(!pt){if(ut)return{measurementId:ut,appId:st};throw Te.create("no-api-key")}const zt=ge.getThrottleMetadata(st)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Se=new Hn;return setTimeout((0,h.Z)(function*(){Se.abort()}),void 0!==Pe?Pe:6e4),Xn({appId:st,apiKey:pt,measurementId:ut},zt,Se,ge)})).apply(this,arguments)}function Xn(ae,ge,Pe){return xt.apply(this,arguments)}function xt(){return(xt=(0,h.Z)(function*(ae,{throttleEndTimeMillis:ge,backoffCount:Pe},st,pt=Fe){const{appId:ut,measurementId:zt}=ae;try{yield Gt(st,ge)}catch(Se){if(zt)return F.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${zt} provided in the "measurementId" field in the local Firebase config. [${Se.message}]`),{appId:ut,measurementId:zt};throw Se}try{const Se=yield Xe(ae);return pt.deleteThrottleMetadata(ut),Se}catch(Se){if(!qn(Se)){if(pt.deleteThrottleMetadata(ut),zt)return F.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${zt} provided in the "measurementId" field in the local Firebase config. [${Se.message}]`),{appId:ut,measurementId:zt};throw Se}const pe=503===Number(Se.customData.httpStatus)?(0,G.$s)(Pe,pt.intervalMillis,30):(0,G.$s)(Pe,pt.intervalMillis),he={throttleEndTimeMillis:Date.now()+pe,backoffCount:Pe+1};return pt.setThrottleMetadata(ut,he),F.debug(`Calling attemptFetch again in ${pe} millis`),Xn(ae,he,st,pt)}})).apply(this,arguments)}function Gt(ae,ge){return new Promise((Pe,st)=>{const pt=Math.max(ge-Date.now(),0),ut=setTimeout(Pe,pt);ae.addEventListener(()=>{clearTimeout(ut),st(Te.create("fetch-throttle",{throttleEndTimeMillis:ge}))})})}function qn(ae){if(!(ae instanceof G.ZR&&ae.customData))return!1;const ge=Number(ae.customData.httpStatus);return 429===ge||500===ge||503===ge||504===ge}class Hn{constructor(){this.listeners=[]}addEventListener(ge){this.listeners.push(ge)}abort(){this.listeners.forEach(ge=>ge())}}function Ar(){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,h.Z)(function*(){if(!(0,G.hl)())return F.warn(Te.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,G.eu)()}catch(ae){return F.warn(Te.create("indexeddb-unavailable",{errorInfo:ae}).message),!1}return!0})).apply(this,arguments)}function Ee(){return(Ee=(0,h.Z)(function*(ae,ge,Pe,st,pt,ut,zt){var Se;const pe=$t(ae);pe.then(rn=>{Pe[rn.measurementId]=rn.appId,ae.options.measurementId&&rn.measurementId!==ae.options.measurementId&&F.warn(`The measurement ID in the local Firebase config (${ae.options.measurementId}) does not match the measurement ID fetched from the server (${rn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(rn=>F.error(rn)),ge.push(pe);const he=Ar().then(rn=>{if(rn)return st.getId()}),[et,At]=yield Promise.all([pe,he]);ze()||ie(ut,et.measurementId),pt("js",new Date);const jt=null!==(Se=null==zt?void 0:zt.config)&&void 0!==Se?Se:{};return jt.origin="firebase",jt.update=!0,null!=At&&(jt[xe]=At),pt("config",et.measurementId,jt),et.measurementId})).apply(this,arguments)}class Ve{constructor(ge){this.app=ge}_delete(){return delete lt[this.app.options.appId],Promise.resolve()}}let lt={},wt=[];const qe={};let hn,fn,Ft="dataLayer",Ze=!1;function yt(ae,ge,Pe){!function en(){const ae=[];if((0,G.ru)()&&ae.push("This is a browser extension environment."),(0,G.zI)()||ae.push("Cookies are not available."),ae.length>0){const ge=ae.map((st,pt)=>`(${pt+1}) ${st}`).join(" "),Pe=Te.create("invalid-analytics-context",{errorInfo:ge});F.warn(Pe.message)}}();const st=ae.options.appId;if(!st)throw Te.create("no-app-id");if(!ae.options.apiKey){if(!ae.options.measurementId)throw Te.create("no-api-key");F.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${ae.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=lt[st])throw Te.create("already-exists",{id:st});if(!Ze){!function me(ae){let ge=[];Array.isArray(window[ae])?ge=window[ae]:window[ae]=ge}(Ft);const{wrappedGtag:ut,gtagCore:zt}=function Ye(ae,ge,Pe,st,pt){let ut=function(...zt){window[st].push(arguments)};return window[pt]&&"function"==typeof window[pt]&&(ut=window[pt]),window[pt]=function We(ae,ge,Pe,st){function ut(){return(ut=(0,h.Z)(function*(zt,Se,pe){try{"event"===zt?yield je(ae,ge,Pe,Se,pe):"config"===zt?yield ce(ae,ge,Pe,st,Se,pe):ae("set",Se)}catch(he){F.error(he)}})).apply(this,arguments)}return function pt(zt,Se,pe){return ut.apply(this,arguments)}}(ut,ae,ge,Pe),{gtagCore:ut,wrappedGtag:window[pt]}}(lt,wt,qe,Ft,"gtag");fn=ut,hn=zt,Ze=!0}return lt[st]=function Ae(ae,ge,Pe,st,pt,ut,zt){return Ee.apply(this,arguments)}(ae,wt,qe,ge,hn,Ft,Pe),new Ve(ae)}function er(){return(er=(0,h.Z)(function*(ae,ge,Pe,st,pt){if(pt&&pt.global)ae("event",Pe,st);else{const ut=yield ge;ae("event",Pe,Object.assign(Object.assign({},st),{send_to:ut}))}})).apply(this,arguments)}function tr(ae=(0,P.getApp)()){ae=(0,G.m9)(ae);const ge=(0,P._getProvider)(ae,be);return ge.isInitialized()?ge.getImmediate():function Nr(ae,ge={}){const Pe=(0,P._getProvider)(ae,be);if(Pe.isInitialized()){const pt=Pe.getImmediate();if((0,G.vZ)(ge,Pe.getOptions()))return pt;throw Te.create("already-initialized")}return Pe.initialize({options:ge})}(ae)}function yn(){return wr.apply(this,arguments)}function wr(){return(wr=(0,h.Z)(function*(){if((0,G.ru)()||!(0,G.zI)()||!(0,G.hl)())return!1;try{return yield(0,G.eu)()}catch(ae){return!1}})).apply(this,arguments)}const Y="@firebase/analytics",W="0.7.9";!function le(){(0,P._registerComponent)(new ne.wA(be,(ge,{options:Pe})=>yt(ge.getProvider("app").getImmediate(),ge.getProvider("installations-internal").getImmediate(),Pe),"PUBLIC")),(0,P._registerComponent)(new ne.wA("analytics-internal",function ae(ge){try{const Pe=ge.getProvider(be).getImmediate();return{logEvent:(st,pt,ut)=>function B(ae,ge,Pe,st){ae=(0,G.m9)(ae),function Lt(ae,ge,Pe,st,pt){return er.apply(this,arguments)}(fn,lt[ae.app.options.appId],ge,Pe,st).catch(pt=>F.error(pt))}(Pe,st,pt,ut)}}catch(Pe){throw Te.create("interop-component-reg-failed",{reason:Pe})}},"PRIVATE")),(0,P.registerVersion)(Y,W),(0,P.registerVersion)(Y,W,"esm2017")}()},3942:(Pt,$e,$)=>{"use strict";$.d($e,{Z:()=>ie});var h=$(2090),P=$(4859),R=$(9681),G=$(1877);class ne{constructor(ce,oe){this._delegate=ce,this.firebase=oe,(0,R._addComponent)(ce,new P.wA("app-compat",()=>this,"PUBLIC")),this.container=ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ce){this._delegate.automaticDataCollectionEnabled=ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ce=>{this._delegate.checkDestroyed(),ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(ce,oe=R._DEFAULT_ENTRY_NAME){var je;this._delegate.checkDestroyed();const Qe=this._delegate.container.getProvider(ce);return!Qe.isInitialized()&&"EXPLICIT"===(null===(je=Qe.getComponent())||void 0===je?void 0:je.instantiationMode)&&Qe.initialize(),Qe.getImmediate({identifier:oe})}_removeServiceInstance(ce,oe=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ce).clearInstance(oe)}_addComponent(ce){(0,R._addComponent)(this._delegate,ce)}_addOrOverwriteComponent(ce){(0,R._addOrOverwriteComponent)(this._delegate,ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const be=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),X=function De(){const me=function xe(me){const ce={},oe={__esModule:!0,initializeApp:function We(Te,Re={}){const fe=R.initializeApp(Te,Re);if((0,h.r3)(ce,fe.name))return ce[fe.name];const Ie=new me(fe,oe);return ce[fe.name]=Ie,Ie},app:Qe,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function ze(Te){const Re=Te.name,fe=Re.replace("-compat","");if(R._registerComponent(Te)&&"PUBLIC"===Te.type){const Ie=(Fe=Qe())=>{if("function"!=typeof Fe[fe])throw be.create("invalid-app-argument",{appName:Re});return Fe[fe]()};void 0!==Te.serviceProps&&(0,h.ZB)(Ie,Te.serviceProps),oe[fe]=Ie,me.prototype[fe]=function(...Fe){return this._getService.bind(this,Re).apply(this,Te.multipleInstances?Fe:[])}}return"PUBLIC"===Te.type?oe[fe]:null},removeApp:function je(Te){delete ce[Te]},useAsService:function vt(Te,Re){return"serverAuth"===Re?null:Re},modularAPIs:R}};function Qe(Te){if(!(0,h.r3)(ce,Te=Te||R._DEFAULT_ENTRY_NAME))throw be.create("no-app",{appName:Te});return ce[Te]}return oe.default=oe,Object.defineProperty(oe,"apps",{get:function Ye(){return Object.keys(ce).map(Te=>ce[Te])}}),Qe.App=me,oe}(ne);return me.INTERNAL=Object.assign(Object.assign({},me.INTERNAL),{createFirebaseNamespace:De,extendNamespace:function ce(oe){(0,h.ZB)(me,oe)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),me}(),de=new G.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){de.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const me=self.firebase.SDK_VERSION;me&&me.indexOf("LITE")>=0&&de.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ie=X;!function U(me){(0,R.registerVersion)("@firebase/app-compat","0.1.25",me)}()},9681:(Pt,$e,$)=>{"use strict";$.r($e),$.d($e,{FirebaseError:()=>G.ZR,SDK_VERSION:()=>on,_DEFAULT_ENTRY_NAME:()=>xt,_addComponent:()=>Ar,_addOrOverwriteComponent:()=>Cn,_apps:()=>qn,_clearComponents:()=>lt,_components:()=>Hn,_getProvider:()=>Ee,_registerComponent:()=>Ae,_removeServiceInstance:()=>Ve,deleteApp:()=>Ct,getApp:()=>fn,getApps:()=>Ze,initializeApp:()=>hn,onLog:()=>Lt,registerVersion:()=>yt,setLogLevel:()=>er});var h=$(5861),P=$(4859),R=$(1877),G=$(2090),ne=$(8766);class Ce{constructor(le){this.container=le}getPlatformInfoString(){return this.container.getProviders().map(ae=>{if(function be(W){const le=W.getComponent();return"VERSION"===(null==le?void 0:le.type)}(ae)){const ge=ae.getImmediate();return`${ge.library}/${ge.version}`}return null}).filter(ae=>ae).join(" ")}}const xe="@firebase/app",X=new R.Yd("@firebase/app"),xt="[DEFAULT]",Gt={[xe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},qn=new Map,Hn=new Map;function Ar(W,le){try{W.container.addComponent(le)}catch(ae){X.debug(`Component ${le.name} failed to register with FirebaseApp ${W.name}`,ae)}}function Cn(W,le){W.container.addOrOverwriteComponent(le)}function Ae(W){const le=W.name;if(Hn.has(le))return X.debug(`There were multiple attempts to register component ${le}.`),!1;Hn.set(le,W);for(const ae of qn.values())Ar(ae,W);return!0}function Ee(W,le){const ae=W.container.getProvider("heartbeat").getImmediate({optional:!0});return ae&&ae.triggerHeartbeat(),W.container.getProvider(le)}function Ve(W,le,ae=xt){Ee(W,le).clearInstance(ae)}function lt(){Hn.clear()}const qe=new G.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ft{constructor(le,ae,ge){this._isDeleted=!1,this._options=Object.assign({},le),this._config=Object.assign({},ae),this._name=ae.name,this._automaticDataCollectionEnabled=ae.automaticDataCollectionEnabled,this._container=ge,this.container.addComponent(new P.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(le){this.checkDestroyed(),this._automaticDataCollectionEnabled=le}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(le){this._isDeleted=le}checkDestroyed(){if(this.isDeleted)throw qe.create("app-deleted",{appName:this._name})}}const on="9.8.1";function hn(W,le={}){"object"!=typeof le&&(le={name:le});const ae=Object.assign({name:xt,automaticDataCollectionEnabled:!1},le),ge=ae.name;if("string"!=typeof ge||!ge)throw qe.create("bad-app-name",{appName:String(ge)});const Pe=qn.get(ge);if(Pe){if((0,G.vZ)(W,Pe.options)&&(0,G.vZ)(ae,Pe.config))return Pe;throw qe.create("duplicate-app",{appName:ge})}const st=new P.H0(ge);for(const ut of Hn.values())st.addComponent(ut);const pt=new Ft(W,ae,st);return qn.set(ge,pt),pt}function fn(W=xt){const le=qn.get(W);if(!le)throw qe.create("no-app",{appName:W});return le}function Ze(){return Array.from(qn.values())}function Ct(W){return en.apply(this,arguments)}function en(){return(en=(0,h.Z)(function*(W){const le=W.name;qn.has(le)&&(qn.delete(le),yield Promise.all(W.container.getProviders().map(ae=>ae.delete())),W.isDeleted=!0)})).apply(this,arguments)}function yt(W,le,ae){var ge;let Pe=null!==(ge=Gt[W])&&void 0!==ge?ge:W;ae&&(Pe+=`-${ae}`);const st=Pe.match(/\s|\//),pt=le.match(/\s|\//);if(st||pt){const ut=[`Unable to register library "${Pe}" with version "${le}":`];return st&&ut.push(`library name "${Pe}" contains illegal characters (whitespace or "/")`),st&&pt&&ut.push("and"),pt&&ut.push(`version name "${le}" contains illegal characters (whitespace or "/")`),void X.warn(ut.join(" "))}Ae(new P.wA(`${Pe}-version`,()=>({library:Pe,version:le}),"VERSION"))}function Lt(W,le){if(null!==W&&"function"!=typeof W)throw qe.create("invalid-log-argument");(0,R.Am)(W,le)}function er(W){(0,R.Ub)(W)}const Dn="firebase-heartbeat-store";let Wn=null;function ln(){return Wn||(Wn=(0,ne.X3)("firebase-heartbeat-database",1,{upgrade:(W,le)=>{0===le&&W.createObjectStore(Dn)}}).catch(W=>{throw qe.create("storage-open",{originalErrorMessage:W.message})})),Wn}function qt(){return(qt=(0,h.Z)(function*(W){try{return(yield ln()).transaction(Dn).objectStore(Dn).get(Nr(W))}catch(le){throw qe.create("storage-get",{originalErrorMessage:le.message})}})).apply(this,arguments)}function Rt(W,le){return tr.apply(this,arguments)}function tr(){return(tr=(0,h.Z)(function*(W,le){try{const ge=(yield ln()).transaction(Dn,"readwrite");return yield ge.objectStore(Dn).put(le,Nr(W)),ge.done}catch(ae){throw qe.create("storage-set",{originalErrorMessage:ae.message})}})).apply(this,arguments)}function Nr(W){return`${W.name}!${W.options.appId}`}class nr{constructor(le){this.container=le,this._heartbeatsCache=null;const ae=this.container.getProvider("app").getImmediate();this._storage=new ye(ae),this._heartbeatsCachePromise=this._storage.read().then(ge=>(this._heartbeatsCache=ge,ge))}triggerHeartbeat(){var le=this;return(0,h.Z)(function*(){const ge=le.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Pe=Tn();if(null===le._heartbeatsCache&&(le._heartbeatsCache=yield le._heartbeatsCachePromise),le._heartbeatsCache.lastSentHeartbeatDate!==Pe&&!le._heartbeatsCache.heartbeats.some(st=>st.date===Pe))return le._heartbeatsCache.heartbeats.push({date:Pe,agent:ge}),le._heartbeatsCache.heartbeats=le._heartbeatsCache.heartbeats.filter(st=>{const pt=new Date(st.date).valueOf();return Date.now()-pt<=2592e6}),le._storage.overwrite(le._heartbeatsCache)})()}getHeartbeatsHeader(){var le=this;return(0,h.Z)(function*(){if(null===le._heartbeatsCache&&(yield le._heartbeatsCachePromise),null===le._heartbeatsCache||0===le._heartbeatsCache.heartbeats.length)return"";const ae=Tn(),{heartbeatsToSend:ge,unsentEntries:Pe}=function ue(W,le=1024){const ae=[];let ge=W.slice();for(const Pe of W){const st=ae.find(pt=>pt.agent===Pe.agent);if(st){if(st.dates.push(Pe.date),B(ae)>le){st.dates.pop();break}}else if(ae.push({agent:Pe.agent,dates:[Pe.date]}),B(ae)>le){ae.pop();break}ge=ge.slice(1)}return{heartbeatsToSend:ae,unsentEntries:ge}}(le._heartbeatsCache.heartbeats),st=(0,G.L)(JSON.stringify({version:2,heartbeats:ge}));return le._heartbeatsCache.lastSentHeartbeatDate=ae,Pe.length>0?(le._heartbeatsCache.heartbeats=Pe,yield le._storage.overwrite(le._heartbeatsCache)):(le._heartbeatsCache.heartbeats=[],le._storage.overwrite(le._heartbeatsCache)),st})()}}function Tn(){return(new Date).toISOString().substring(0,10)}class ye{constructor(le){this.app=le,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,G.hl)()&&(0,G.eu)().then(()=>!0).catch(()=>!1)})()}read(){var le=this;return(0,h.Z)(function*(){return(yield le._canUseIndexedDBPromise)&&(yield function un(W){return qt.apply(this,arguments)}(le.app))||{heartbeats:[]}})()}overwrite(le){var ae=this;return(0,h.Z)(function*(){var ge;if(yield ae._canUseIndexedDBPromise){const st=yield ae.read();return Rt(ae.app,{lastSentHeartbeatDate:null!==(ge=le.lastSentHeartbeatDate)&&void 0!==ge?ge:st.lastSentHeartbeatDate,heartbeats:le.heartbeats})}})()}add(le){var ae=this;return(0,h.Z)(function*(){var ge;if(yield ae._canUseIndexedDBPromise){const st=yield ae.read();return Rt(ae.app,{lastSentHeartbeatDate:null!==(ge=le.lastSentHeartbeatDate)&&void 0!==ge?ge:st.lastSentHeartbeatDate,heartbeats:[...st.heartbeats,...le.heartbeats]})}})()}}function B(W){return(0,G.L)(JSON.stringify({version:2,heartbeats:W})).length}!function Y(W){Ae(new P.wA("platform-logger",le=>new Ce(le),"PRIVATE")),Ae(new P.wA("heartbeat",le=>new nr(le),"PRIVATE")),yt(xe,"0.7.24",W),yt(xe,"0.7.24","esm2017"),yt("fire-js","")}("")},4859:(Pt,$e,$)=>{"use strict";$.d($e,{H0:()=>xe,wA:()=>R});var h=$(5861),P=$(2090);class R{constructor(X,de,T){this.name=X,this.instanceFactory=de,this.type=T,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(X){return this.instantiationMode=X,this}setMultipleInstances(X){return this.multipleInstances=X,this}setServiceProps(X){return this.serviceProps=X,this}setInstanceCreatedCallback(X){return this.onInstanceCreated=X,this}}const G="[DEFAULT]";class ne{constructor(X,de){this.name=X,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(X){const de=this.normalizeInstanceIdentifier(X);if(!this.instancesDeferred.has(de)){const T=new P.BH;if(this.instancesDeferred.set(de,T),this.isInitialized(de)||this.shouldAutoInitialize())try{const F=this.getOrInitializeService({instanceIdentifier:de});F&&T.resolve(F)}catch(F){}}return this.instancesDeferred.get(de).promise}getImmediate(X){var de;const T=this.normalizeInstanceIdentifier(null==X?void 0:X.identifier),F=null!==(de=null==X?void 0:X.optional)&&void 0!==de&&de;if(!this.isInitialized(T)&&!this.shouldAutoInitialize()){if(F)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:T})}catch(U){if(F)return null;throw U}}getComponent(){return this.component}setComponent(X){if(X.name!==this.name)throw Error(`Mismatching Component ${X.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=X,this.shouldAutoInitialize()){if(function be(De){return"EAGER"===De.instantiationMode}(X))try{this.getOrInitializeService({instanceIdentifier:G})}catch(de){}for(const[de,T]of this.instancesDeferred.entries()){const F=this.normalizeInstanceIdentifier(de);try{const U=this.getOrInitializeService({instanceIdentifier:F});T.resolve(U)}catch(U){}}}}clearInstance(X=G){this.instancesDeferred.delete(X),this.instancesOptions.delete(X),this.instances.delete(X)}delete(){var X=this;return(0,h.Z)(function*(){const de=Array.from(X.instances.values());yield Promise.all([...de.filter(T=>"INTERNAL"in T).map(T=>T.INTERNAL.delete()),...de.filter(T=>"_delete"in T).map(T=>T._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(X=G){return this.instances.has(X)}getOptions(X=G){return this.instancesOptions.get(X)||{}}initialize(X={}){const{options:de={}}=X,T=this.normalizeInstanceIdentifier(X.instanceIdentifier);if(this.isInitialized(T))throw Error(`${this.name}(${T}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const F=this.getOrInitializeService({instanceIdentifier:T,options:de});for(const[U,ie]of this.instancesDeferred.entries())T===this.normalizeInstanceIdentifier(U)&&ie.resolve(F);return F}onInit(X,de){var T;const F=this.normalizeInstanceIdentifier(de),U=null!==(T=this.onInitCallbacks.get(F))&&void 0!==T?T:new Set;U.add(X),this.onInitCallbacks.set(F,U);const ie=this.instances.get(F);return ie&&X(ie,F),()=>{U.delete(X)}}invokeOnInitCallbacks(X,de){const T=this.onInitCallbacks.get(de);if(T)for(const F of T)try{F(X,de)}catch(U){}}getOrInitializeService({instanceIdentifier:X,options:de={}}){let T=this.instances.get(X);if(!T&&this.component&&(T=this.component.instanceFactory(this.container,{instanceIdentifier:(De=X,De===G?void 0:De),options:de}),this.instances.set(X,T),this.instancesOptions.set(X,de),this.invokeOnInitCallbacks(T,X),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,X,T)}catch(F){}var De;return T||null}normalizeInstanceIdentifier(X=G){return this.component?this.component.multipleInstances?X:G:X}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class xe{constructor(X){this.name=X,this.providers=new Map}addComponent(X){const de=this.getProvider(X.name);if(de.isComponentSet())throw new Error(`Component ${X.name} has already been registered with ${this.name}`);de.setComponent(X)}addOrOverwriteComponent(X){this.getProvider(X.name).isComponentSet()&&this.providers.delete(X.name),this.addComponent(X)}getProvider(X){if(this.providers.has(X))return this.providers.get(X);const de=new ne(X,this);return this.providers.set(X,de),de}getProviders(){return Array.from(this.providers.values())}}},2833:(Pt,$e,$)=>{"use strict";var h=$(5861),P=$(9681),R=$(4859),G=$(2090),ne=$(8766);const Ce="@firebase/installations",De="w:0.5.9",X="FIS_v2",me=new G.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ce(_e){return _e instanceof G.ZR&&_e.code.includes("request-failed")}function oe({projectId:_e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${_e}/installations`}function je(_e){return{token:_e.token,requestStatus:2,expiresIn:Re(_e.expiresIn),creationTime:Date.now()}}function Qe(_e,Ue){return We.apply(this,arguments)}function We(){return(We=(0,h.Z)(function*(_e,Ue){const Ht=(yield Ue.json()).error;return me.create("request-failed",{requestName:_e,serverCode:Ht.code,serverMessage:Ht.message,serverStatus:Ht.status})})).apply(this,arguments)}function Ye({apiKey:_e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":_e})}function ze(_e,{refreshToken:Ue}){const ft=Ye(_e);return ft.append("Authorization",function fe(_e){return`${X} ${_e}`}(Ue)),ft}function vt(_e){return Te.apply(this,arguments)}function Te(){return(Te=(0,h.Z)(function*(_e){const Ue=yield _e();return Ue.status>=500&&Ue.status<600?_e():Ue})).apply(this,arguments)}function Re(_e){return Number(_e.replace("s","000"))}function Ie(_e,Ue){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,h.Z)(function*({appConfig:_e,heartbeatServiceProvider:Ue},{fid:ft}){const Ht=oe(_e),Mn=Ye(_e),Pn=Ue.getImmediate({optional:!0});if(Pn){const tn=yield Pn.getHeartbeatsHeader();tn&&Mn.append("x-firebase-client",tn)}const hr={method:"POST",headers:Mn,body:JSON.stringify({fid:ft,authVersion:X,appId:_e.appId,sdkVersion:De})},Wr=yield vt(()=>fetch(Ht,hr));if(Wr.ok){const tn=yield Wr.json();return{fid:tn.fid||ft,registrationStatus:2,refreshToken:tn.refreshToken,authToken:je(tn.authToken)}}throw yield Qe("Create Installation",Wr)})).apply(this,arguments)}function Be(_e){return new Promise(Ue=>{setTimeout(Ue,_e)})}const ke=/^[cdef][\w-]{21}$/;function Xt(){try{const _e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(_e),_e[0]=112+_e[0]%16;const ft=function Xn(_e){return function Xe(_e){return btoa(String.fromCharCode(..._e)).replace(/\+/g,"-").replace(/\//g,"_")}(_e).substr(0,22)}(_e);return ke.test(ft)?ft:""}catch(_e){return""}}function xt(_e){return`${_e.appName}!${_e.appId}`}const Gt=new Map;function qn(_e,Ue){const ft=xt(_e);Cn(ft,Ue),function Ae(_e,Ue){const ft=function Ve(){return!Ee&&"BroadcastChannel"in self&&(Ee=new BroadcastChannel("[Firebase] FID Change"),Ee.onmessage=_e=>{Cn(_e.data.key,_e.data.fid)}),Ee}();ft&&ft.postMessage({key:_e,fid:Ue}),function lt(){0===Gt.size&&Ee&&(Ee.close(),Ee=null)}()}(ft,Ue)}function Cn(_e,Ue){const ft=Gt.get(_e);if(ft)for(const Ht of ft)Ht(Ue)}let Ee=null;const Ft="firebase-installations-store";let on=null;function hn(){return on||(on=(0,ne.X3)("firebase-installations-database",1,{upgrade:(_e,Ue)=>{0===Ue&&_e.createObjectStore(Ft)}})),on}function fn(_e,Ue){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,h.Z)(function*(_e,Ue){const ft=xt(_e),Mn=(yield hn()).transaction(Ft,"readwrite"),Pn=Mn.objectStore(Ft),Sn=yield Pn.get(ft);return yield Pn.put(Ue,ft),yield Mn.done,(!Sn||Sn.fid!==Ue.fid)&&qn(_e,Ue.fid),Ue})).apply(this,arguments)}function Ct(_e){return en.apply(this,arguments)}function en(){return(en=(0,h.Z)(function*(_e){const Ue=xt(_e),Ht=(yield hn()).transaction(Ft,"readwrite");yield Ht.objectStore(Ft).delete(Ue),yield Ht.done})).apply(this,arguments)}function yt(_e,Ue){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,h.Z)(function*(_e,Ue){const ft=xt(_e),Mn=(yield hn()).transaction(Ft,"readwrite"),Pn=Mn.objectStore(Ft),Sn=yield Pn.get(ft),hr=Ue(Sn);return void 0===hr?yield Pn.delete(ft):yield Pn.put(hr,ft),yield Mn.done,hr&&(!Sn||Sn.fid!==hr.fid)&&qn(_e,hr.fid),hr})).apply(this,arguments)}function er(_e){return An.apply(this,arguments)}function An(){return(An=(0,h.Z)(function*(_e){let Ue;const ft=yield yt(_e.appConfig,Ht=>{const Mn=xn(Ht),Pn=Dn(_e,Mn);return Ue=Pn.registrationPromise,Pn.installationEntry});return""===ft.fid?{installationEntry:yield Ue}:{installationEntry:ft,registrationPromise:Ue}})).apply(this,arguments)}function xn(_e){return tr(_e||{fid:Xt(),registrationStatus:0})}function Dn(_e,Ue){if(0===Ue.registrationStatus){if(!navigator.onLine)return{installationEntry:Ue,registrationPromise:Promise.reject(me.create("app-offline"))};const ft={fid:Ue.fid,registrationStatus:1,registrationTime:Date.now()},Ht=function Wn(_e,Ue){return ln.apply(this,arguments)}(_e,ft);return{installationEntry:ft,registrationPromise:Ht}}return 1===Ue.registrationStatus?{installationEntry:Ue,registrationPromise:un(_e)}:{installationEntry:Ue}}function ln(){return(ln=(0,h.Z)(function*(_e,Ue){try{const ft=yield Ie(_e,Ue);return fn(_e.appConfig,ft)}catch(ft){throw ce(ft)&&409===ft.customData.serverCode?yield Ct(_e.appConfig):yield fn(_e.appConfig,{fid:Ue.fid,registrationStatus:0}),ft}})).apply(this,arguments)}function un(_e){return qt.apply(this,arguments)}function qt(){return(qt=(0,h.Z)(function*(_e){let Ue=yield Rt(_e.appConfig);for(;1===Ue.registrationStatus;)yield Be(100),Ue=yield Rt(_e.appConfig);if(0===Ue.registrationStatus){const{installationEntry:ft,registrationPromise:Ht}=yield er(_e);return Ht||ft}return Ue})).apply(this,arguments)}function Rt(_e){return yt(_e,Ue=>{if(!Ue)throw me.create("installation-not-found");return tr(Ue)})}function tr(_e){return function Nr(_e){return 1===_e.registrationStatus&&_e.registrationTime+1e4<Date.now()}(_e)?{fid:_e.fid,registrationStatus:0}:_e}function yn(_e,Ue){return wr.apply(this,arguments)}function wr(){return(wr=(0,h.Z)(function*({appConfig:_e,heartbeatServiceProvider:Ue},ft){const Ht=nr(_e,ft),Mn=ze(_e,ft),Pn=Ue.getImmediate({optional:!0});if(Pn){const tn=yield Pn.getHeartbeatsHeader();tn&&Mn.append("x-firebase-client",tn)}const hr={method:"POST",headers:Mn,body:JSON.stringify({installation:{sdkVersion:De,appId:_e.appId}})},Wr=yield vt(()=>fetch(Ht,hr));if(Wr.ok)return je(yield Wr.json());throw yield Qe("Generate Auth Token",Wr)})).apply(this,arguments)}function nr(_e,{fid:Ue}){return`${oe(_e)}/${Ue}/authTokens:generate`}function Tn(_e){return ue.apply(this,arguments)}function ue(){return(ue=(0,h.Z)(function*(_e,Ue=!1){let ft;const Ht=yield yt(_e.appConfig,Pn=>{if(!ae(Pn))throw me.create("not-registered");const Sn=Pn.authToken;if(!Ue&&ge(Sn))return Pn;if(1===Sn.requestStatus)return ft=ye(_e,Ue),Pn;{if(!navigator.onLine)throw me.create("app-offline");const hr=st(Pn);return ft=W(_e,hr),hr}});return ft?yield ft:Ht.authToken})).apply(this,arguments)}function ye(_e,Ue){return B.apply(this,arguments)}function B(){return(B=(0,h.Z)(function*(_e,Ue){let ft=yield Y(_e.appConfig);for(;1===ft.authToken.requestStatus;)yield Be(100),ft=yield Y(_e.appConfig);const Ht=ft.authToken;return 0===Ht.requestStatus?Tn(_e,Ue):Ht})).apply(this,arguments)}function Y(_e){return yt(_e,Ue=>{if(!ae(Ue))throw me.create("not-registered");return function pt(_e){return 1===_e.requestStatus&&_e.requestTime+1e4<Date.now()}(Ue.authToken)?Object.assign(Object.assign({},Ue),{authToken:{requestStatus:0}}):Ue})}function W(_e,Ue){return le.apply(this,arguments)}function le(){return(le=(0,h.Z)(function*(_e,Ue){try{const ft=yield yn(_e,Ue),Ht=Object.assign(Object.assign({},Ue),{authToken:ft});return yield fn(_e.appConfig,Ht),ft}catch(ft){if(!ce(ft)||401!==ft.customData.serverCode&&404!==ft.customData.serverCode){const Ht=Object.assign(Object.assign({},Ue),{authToken:{requestStatus:0}});yield fn(_e.appConfig,Ht)}else yield Ct(_e.appConfig);throw ft}})).apply(this,arguments)}function ae(_e){return void 0!==_e&&2===_e.registrationStatus}function ge(_e){return 2===_e.requestStatus&&!function Pe(_e){const Ue=Date.now();return Ue<_e.creationTime||_e.creationTime+_e.expiresIn<Ue+36e5}(_e)}function st(_e){const Ue={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},_e),{authToken:Ue})}function zt(){return(zt=(0,h.Z)(function*(_e){const Ue=_e,{installationEntry:ft,registrationPromise:Ht}=yield er(Ue);return Ht?Ht.catch(console.error):Tn(Ue).catch(console.error),ft.fid})).apply(this,arguments)}function pe(){return(pe=(0,h.Z)(function*(_e,Ue=!1){const ft=_e;return yield he(ft),(yield Tn(ft,Ue)).token})).apply(this,arguments)}function he(_e){return et.apply(this,arguments)}function et(){return(et=(0,h.Z)(function*(_e){const{registrationPromise:Ue}=yield er(_e);Ue&&(yield Ue)})).apply(this,arguments)}function Cr(_e){return me.create("missing-app-config-values",{valueName:_e})}const si="installations",ao=_e=>{const Ue=_e.getProvider("app").getImmediate(),ft=function Rn(_e){if(!_e||!_e.options)throw Cr("App Configuration");if(!_e.name)throw Cr("App Name");const Ue=["projectId","apiKey","appId"];for(const ft of Ue)if(!_e.options[ft])throw Cr(ft);return{appName:_e.name,projectId:_e.options.projectId,apiKey:_e.options.apiKey,appId:_e.options.appId}}(Ue);return{app:Ue,appConfig:ft,heartbeatServiceProvider:(0,P._getProvider)(Ue,"heartbeat"),_delete:()=>Promise.resolve()}},Qr=_e=>{const Ue=_e.getProvider("app").getImmediate(),ft=(0,P._getProvider)(Ue,si).getImmediate();return{getId:()=>function ut(_e){return zt.apply(this,arguments)}(ft),getToken:Mn=>function Se(_e){return pe.apply(this,arguments)}(ft,Mn)}};(function bt(){(0,P._registerComponent)(new R.wA(si,ao,"PUBLIC")),(0,P._registerComponent)(new R.wA("installations-internal",Qr,"PRIVATE"))})(),(0,P.registerVersion)(Ce,"0.5.9"),(0,P.registerVersion)(Ce,"0.5.9","esm2017")},1877:(Pt,$e,$)=>{"use strict";$.d($e,{Am:()=>De,Ub:()=>xe,Yd:()=>be,in:()=>P});const h=[];var P=(()=>{return(X=P||(P={}))[X.DEBUG=0]="DEBUG",X[X.VERBOSE=1]="VERBOSE",X[X.INFO=2]="INFO",X[X.WARN=3]="WARN",X[X.ERROR=4]="ERROR",X[X.SILENT=5]="SILENT",P;var X})();const R={debug:P.DEBUG,verbose:P.VERBOSE,info:P.INFO,warn:P.WARN,error:P.ERROR,silent:P.SILENT},G=P.INFO,ne={[P.DEBUG]:"log",[P.VERBOSE]:"log",[P.INFO]:"info",[P.WARN]:"warn",[P.ERROR]:"error"},Ce=(X,de,...T)=>{if(de<X.logLevel)return;const F=(new Date).toISOString(),U=ne[de];if(!U)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[U](`[${F}]  ${X.name}:`,...T)};class be{constructor(de){this.name=de,this._logLevel=G,this._logHandler=Ce,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in P))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?R[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,P.DEBUG,...de),this._logHandler(this,P.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,P.VERBOSE,...de),this._logHandler(this,P.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,P.INFO,...de),this._logHandler(this,P.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,P.WARN,...de),this._logHandler(this,P.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,P.ERROR,...de),this._logHandler(this,P.ERROR,...de)}}function xe(X){h.forEach(de=>{de.setLogLevel(X)})}function De(X,de){for(const T of h){let F=null;de&&de.level&&(F=R[de.level]),T.userLogHandler=null===X?null:(U,ie,...me)=>{const ce=me.map(oe=>{if(null==oe)return null;if("string"==typeof oe)return oe;if("number"==typeof oe||"boolean"==typeof oe)return oe.toString();if(oe instanceof Error)return oe.message;try{return JSON.stringify(oe)}catch(je){return null}}).filter(oe=>oe).join(" ");ie>=(null!=F?F:U.logLevel)&&X({level:P[ie].toLowerCase(),message:ce,args:me,type:U.name})}}}},8766:(Pt,$e,$)=>{"use strict";$.d($e,{Lj:()=>We,X3:()=>Qe});var h=$(5861);let R,G;const be=new WeakMap,xe=new WeakMap,De=new WeakMap,X=new WeakMap,de=new WeakMap;let U={get(Re,fe,Ie){if(Re instanceof IDBTransaction){if("done"===fe)return xe.get(Re);if("objectStoreNames"===fe)return Re.objectStoreNames||De.get(Re);if("store"===fe)return Ie.objectStoreNames[1]?void 0:Ie.objectStore(Ie.objectStoreNames[0])}return oe(Re[fe])},set:(Re,fe,Ie)=>(Re[fe]=Ie,!0),has:(Re,fe)=>Re instanceof IDBTransaction&&("done"===fe||"store"===fe)||fe in Re};function ce(Re){return"function"==typeof Re?function me(Re){return Re!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ce(){return G||(G=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Re)?function(...fe){return Re.apply(je(this),fe),oe(be.get(this))}:function(...fe){return oe(Re.apply(je(this),fe))}:function(fe,...Ie){const Fe=Re.call(je(this),fe,...Ie);return De.set(Fe,fe.sort?fe.sort():[fe]),oe(Fe)}}(Re):(Re instanceof IDBTransaction&&function F(Re){if(xe.has(Re))return;const fe=new Promise((Ie,Fe)=>{const Be=()=>{Re.removeEventListener("complete",Xe),Re.removeEventListener("error",ke),Re.removeEventListener("abort",ke)},Xe=()=>{Ie(),Be()},ke=()=>{Fe(Re.error||new DOMException("AbortError","AbortError")),Be()};Re.addEventListener("complete",Xe),Re.addEventListener("error",ke),Re.addEventListener("abort",ke)});xe.set(Re,fe)}(Re),((Re,fe)=>fe.some(Ie=>Re instanceof Ie))(Re,function ne(){return R||(R=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Re,U):Re)}function oe(Re){if(Re instanceof IDBRequest)return function T(Re){const fe=new Promise((Ie,Fe)=>{const Be=()=>{Re.removeEventListener("success",Xe),Re.removeEventListener("error",ke)},Xe=()=>{Ie(oe(Re.result)),Be()},ke=()=>{Fe(Re.error),Be()};Re.addEventListener("success",Xe),Re.addEventListener("error",ke)});return fe.then(Ie=>{Ie instanceof IDBCursor&&be.set(Ie,Re)}).catch(()=>{}),de.set(fe,Re),fe}(Re);if(X.has(Re))return X.get(Re);const fe=ce(Re);return fe!==Re&&(X.set(Re,fe),de.set(fe,Re)),fe}const je=Re=>de.get(Re);function Qe(Re,fe,{blocked:Ie,upgrade:Fe,blocking:Be,terminated:Xe}={}){const ke=indexedDB.open(Re,fe),$t=oe(ke);return Fe&&ke.addEventListener("upgradeneeded",Xt=>{Fe(oe(ke.result),Xt.oldVersion,Xt.newVersion,oe(ke.transaction))}),Ie&&ke.addEventListener("blocked",()=>Ie()),$t.then(Xt=>{Xe&&Xt.addEventListener("close",()=>Xe()),Be&&Xt.addEventListener("versionchange",()=>Be())}).catch(()=>{}),$t}function We(Re,{blocked:fe}={}){const Ie=indexedDB.deleteDatabase(Re);return fe&&Ie.addEventListener("blocked",()=>fe()),oe(Ie).then(()=>{})}const Ye=["get","getKey","getAll","getAllKeys","count"],ze=["put","add","delete","clear"],vt=new Map;function Te(Re,fe){if(!(Re instanceof IDBDatabase)||fe in Re||"string"!=typeof fe)return;if(vt.get(fe))return vt.get(fe);const Ie=fe.replace(/FromIndex$/,""),Fe=fe!==Ie,Be=ze.includes(Ie);if(!(Ie in(Fe?IDBIndex:IDBObjectStore).prototype)||!Be&&!Ye.includes(Ie))return;const Xe=function(){var ke=(0,h.Z)(function*($t,...Xt){const Xn=this.transaction($t,Be?"readwrite":"readonly");let xt=Xn.store;return Fe&&(xt=xt.index(Xt.shift())),(yield Promise.all([xt[Ie](...Xt),Be&&Xn.done]))[0]});return function(Xt){return ke.apply(this,arguments)}}();return vt.set(fe,Xe),Xe}!function ie(Re){U=Re(U)}(Re=>Yk(Qk({},Re),{get:(fe,Ie,Fe)=>Te(fe,Ie)||Re.get(fe,Ie,Fe),has:(fe,Ie)=>!!Te(fe,Ie)||Re.has(fe,Ie)}))},5861:(Pt,$e,$)=>{"use strict";function h(R,G,ne,Ce,be,xe,De){try{var X=R[xe](De),de=X.value}catch(T){return void ne(T)}X.done?G(de):Promise.resolve(de).then(Ce,be)}function P(R){return function(){var G=this,ne=arguments;return new Promise(function(Ce,be){var xe=R.apply(G,ne);function De(de){h(xe,Ce,be,De,X,"next",de)}function X(de){h(xe,Ce,be,De,X,"throw",de)}De(void 0)})}}$.d($e,{Z:()=>P})}},Pt=>{Pt(Pt.s=688)}]);
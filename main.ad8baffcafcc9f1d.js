var OU=Object.defineProperty,FU=Object.defineProperties,LU=Object.getOwnPropertyDescriptors,NP=Object.getOwnPropertySymbols,VU=Object.prototype.hasOwnProperty,BU=Object.prototype.propertyIsEnumerable,PP=(kt,qe,z)=>qe in kt?OU(kt,qe,{enumerable:!0,configurable:!0,writable:!0,value:z}):kt[qe]=z,OP=(kt,qe)=>{for(var z in qe||(qe={}))VU.call(qe,z)&&PP(kt,z,qe[z]);if(NP)for(var z of NP(qe))BU.call(qe,z)&&PP(kt,z,qe[z]);return kt},FP=(kt,qe)=>FU(kt,LU(qe));(self.webpackChunkClientApp=self.webpackChunkClientApp||[]).push([[179],{2011:(kt,qe,z)=>{"use strict";z.d(qe,{Dh:()=>Me,GT:()=>Ce,cc:()=>H,hO:()=>F,on:()=>ee,pX:()=>ne,xv:()=>De});var u=z(5e3),O=z(127),k=z(1038);kt=z.hmd(kt);const G=["ngOnDestroy"],ne=(se,je,Ye,We={})=>new Proxy(se,{get:(Qe,ze)=>Ye.runOutsideAngular(()=>{var gt;if(se[ze])return(null===(gt=null==We?void 0:We.spy)||void 0===gt?void 0:gt.get)&&We.spy.get(ze,se[ze]),se[ze];if(G.indexOf(ze)>-1)return()=>{};const Te=je.toPromise().then(Re=>{const fe=Re&&Re[ze];return"function"==typeof fe?fe.bind(Re):fe&&fe.then?fe.then(xe=>Ye.run(()=>xe)):Ye.run(()=>fe)});return new Proxy(()=>{},{get:(Re,fe)=>Te[fe],apply:(Re,fe,xe)=>Te.then(Oe=>{var Be;const Xe=Oe&&Oe(...xe);return(null===(Be=null==We?void 0:We.spy)||void 0===Be?void 0:Be.apply)&&We.spy.apply(ze,xe,Xe),Xe})})})}),Ce=(se,je)=>{je.forEach(Ye=>{Object.getOwnPropertyNames(Ye.prototype||Ye).forEach(We=>{Object.defineProperty(se.prototype,We,Object.getOwnPropertyDescriptor(Ye.prototype||Ye,We))})})};class Ee{constructor(je){return je}}const Me=new u.OlP("angularfire2.app.options"),De=new u.OlP("angularfire2.app.name");function ee(se,je,Ye){const Qe="object"==typeof Ye&&Ye||{};Qe.name=Qe.name||"string"==typeof Ye&&Ye||"[DEFAULT]";const gt=O.Z.apps.filter(Te=>Te&&Te.name===Qe.name)[0]||je.runOutsideAngular(()=>O.Z.initializeApp(se,Qe));try{JSON.stringify(se)!==JSON.stringify(gt.options)&&de("error",`${gt.name} Firebase App already initialized with different options${kt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Te){}return new Ee(gt)}const de=(se,...je)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[se](...je)},T={provide:Ee,useFactory:ee,deps:[Me,u.R0b,[new u.FiY,De]]};let F=(()=>{class se{constructor(Ye){O.Z.registerVersion("angularfire",k.q4.full,"core"),O.Z.registerVersion("angularfire",k.q4.full,"app-compat"),O.Z.registerVersion("angular",u.q4F.full,Ye.toString())}static initializeApp(Ye,We){return{ngModule:se,providers:[{provide:Me,useValue:Ye},{provide:De,useValue:We}]}}}return se.\u0275fac=function(Ye){return new(Ye||se)(u.LFG(u.Lbi))},se.\u0275mod=u.oAB({type:se}),se.\u0275inj=u.cJS({providers:[T]}),se})();function H(se,je,Ye,We,Qe){const[,ze,gt]=globalThis.\u0275AngularfireInstanceCache.find(Te=>Te[0]===se)||[];if(ze)return function oe(se,je){try{return se.toString()===je.toString()}catch(Ye){return se===je}}(Qe,gt)||(ce("error",`${je} was already initialized on the ${Ye} Firebase App with different settings.${me?" You may need to reload as Firebase is not HMR aware.":""}`),ce("warn",{is:Qe,was:gt})),ze;{const Te=We();return globalThis.\u0275AngularfireInstanceCache.push([se,Te,Qe]),Te}}const me=!!kt.hot,ce=(se,...je)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[se](...je)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1038:(kt,qe,z)=>{"use strict";z.d(qe,{q4:()=>Cd,iC:()=>cs,HU:()=>cr,vb:()=>Ms,JM:()=>ia});var u=z(5e3),O=z(5867),k=z(5861),G=z(9681),ne=z(2090),Ce=z(4859),Ee=z(1877);z(2833);const De="@firebase/remote-config",H=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Qt{constructor($,we,Ge,_t){this.client=$,this.storage=we,this.storageCache=Ge,this.logger=_t}isCachedDataFresh($,we){if(!we)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ge=Date.now()-we,_t=Ge<=$;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ge}. Cache max age millis (minimumFetchIntervalMillis setting): ${$}. Is cache hit: ${_t}.`),_t}fetch($){var we=this;return(0,k.Z)(function*(){const[Ge,_t]=yield Promise.all([we.storage.getLastSuccessfulFetchTimestampMillis(),we.storage.getLastSuccessfulFetchResponse()]);if(_t&&we.isCachedDataFresh($.cacheMaxAgeMillis,Ge))return _t;$.eTag=_t&&_t.eTag;const Tt=yield we.client.fetch($),cn=[we.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Tt.status&&cn.push(we.storage.setLastSuccessfulFetchResponse(Tt)),yield Promise.all(cn),Tt})()}}function Qn(K=navigator){return K.languages&&K.languages[0]||K.language}class xt{constructor($,we,Ge,_t,Tt,cn){this.firebaseInstallations=$,this.sdkVersion=we,this.namespace=Ge,this.projectId=_t,this.apiKey=Tt,this.appId=cn}fetch($){var we=this;return(0,k.Z)(function*(){const[Ge,_t]=yield Promise.all([we.firebaseInstallations.getId(),we.firebaseInstallations.getToken()]),cn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${we.projectId}/namespaces/${we.namespace}:fetch?key=${we.apiKey}`,rr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":$.eTag||"*"},Gt={sdk_version:we.sdkVersion,app_instance_id:Ge,app_instance_id_token:_t,app_id:we.appId,language_code:Qn()},ir={method:"POST",headers:rr,body:JSON.stringify(Gt)},lr=fetch(cn,ir),Pn=new Promise((st,Rn)=>{$.signal.addEventListener(()=>{const ds=new Error("The operation was aborted.");ds.name="AbortError",Rn(ds)})});let Qi;try{yield Promise.race([lr,Pn]),Qi=yield lr}catch(st){let Rn="fetch-client-network";throw"AbortError"===st.name&&(Rn="fetch-timeout"),H.create(Rn,{originalErrorMessage:st.message})}let yo=Qi.status;const Ho=Qi.headers.get("ETag")||void 0;let Oa,Ji;if(200===Qi.status){let st;try{st=yield Qi.json()}catch(Rn){throw H.create("fetch-client-parse",{originalErrorMessage:Rn.message})}Oa=st.entries,Ji=st.state}if("INSTANCE_STATE_UNSPECIFIED"===Ji?yo=500:"NO_CHANGE"===Ji?yo=304:("NO_TEMPLATE"===Ji||"EMPTY_CONFIG"===Ji)&&(Oa={}),304!==yo&&200!==yo)throw H.create("fetch-status",{httpStatus:yo});return{status:yo,eTag:Ho,config:Oa}})()}}class Hn{constructor($,we){this.client=$,this.storage=we}fetch($){var we=this;return(0,k.Z)(function*(){const Ge=(yield we.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return we.attemptFetch($,Ge)})()}attemptFetch($,{throttleEndTimeMillis:we,backoffCount:Ge}){var _t=this;return(0,k.Z)(function*(){yield function Ut(K,$){return new Promise((we,Ge)=>{const _t=Math.max($-Date.now(),0),Tt=setTimeout(we,_t);K.addEventListener(()=>{clearTimeout(Tt),Ge(H.create("fetch-throttle",{throttleEndTimeMillis:$}))})})}($.signal,we);try{const Tt=yield _t.client.fetch($);return yield _t.storage.deleteThrottleMetadata(),Tt}catch(Tt){if(!function Wn(K){if(!(K instanceof ne.ZR&&K.customData))return!1;const $=Number(K.customData.httpStatus);return 429===$||500===$||503===$||504===$}(Tt))throw Tt;const cn={throttleEndTimeMillis:Date.now()+(0,ne.$s)(Ge),backoffCount:Ge+1};return yield _t.storage.setThrottleMetadata(cn),_t.attemptFetch($,cn)}})()}}class Ae{constructor($,we,Ge,_t,Tt){this.app=$,this._client=we,this._storageCache=Ge,this._storage=_t,this._logger=Tt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function _e(K,$){const we=K.target.error||void 0;return H.create($,{originalErrorMessage:we&&we.message})}const Ve="app_namespace_store";class Ot{constructor($,we,Ge,_t=function Ze(){return new Promise((K,$)=>{try{const we=indexedDB.open("firebase_remote_config",1);we.onerror=Ge=>{$(_e(Ge,"storage-open"))},we.onsuccess=Ge=>{K(Ge.target.result)},we.onupgradeneeded=Ge=>{0===Ge.oldVersion&&Ge.target.result.createObjectStore(Ve,{keyPath:"compositeKey"})}}catch(we){$(H.create("storage-open",{originalErrorMessage:we}))}})}()){this.appId=$,this.appName=we,this.namespace=Ge,this.openDbPromise=_t}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus($){return this.set("last_fetch_status",$)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis($){return this.set("last_successful_fetch_timestamp_millis",$)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse($){return this.set("last_successful_fetch_response",$)}getActiveConfig(){return this.get("active_config")}setActiveConfig($){return this.set("active_config",$)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag($){return this.set("active_config_etag",$)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata($){return this.set("throttle_metadata",$)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get($){var we=this;return(0,k.Z)(function*(){const Ge=yield we.openDbPromise;return new Promise((_t,Tt)=>{const rr=Ge.transaction([Ve],"readonly").objectStore(Ve),Gt=we.createCompositeKey($);try{const ir=rr.get(Gt);ir.onerror=lr=>{Tt(_e(lr,"storage-get"))},ir.onsuccess=lr=>{const Pn=lr.target.result;_t(Pn?Pn.value:void 0)}}catch(ir){Tt(H.create("storage-get",{originalErrorMessage:ir&&ir.message}))}})})()}set($,we){var Ge=this;return(0,k.Z)(function*(){const _t=yield Ge.openDbPromise;return new Promise((Tt,cn)=>{const Gt=_t.transaction([Ve],"readwrite").objectStore(Ve),ir=Ge.createCompositeKey($);try{const lr=Gt.put({compositeKey:ir,value:we});lr.onerror=Pn=>{cn(_e(Pn,"storage-set"))},lr.onsuccess=()=>{Tt()}}catch(lr){cn(H.create("storage-set",{originalErrorMessage:lr&&lr.message}))}})})()}delete($){var we=this;return(0,k.Z)(function*(){const Ge=yield we.openDbPromise;return new Promise((_t,Tt)=>{const rr=Ge.transaction([Ve],"readwrite").objectStore(Ve),Gt=we.createCompositeKey($);try{const ir=rr.delete(Gt);ir.onerror=lr=>{Tt(_e(lr,"storage-delete"))},ir.onsuccess=()=>{_t()}}catch(ir){Tt(H.create("storage-delete",{originalErrorMessage:ir&&ir.message}))}})})()}createCompositeKey($){return[this.appId,this.appName,this.namespace,$].join()}}class on{constructor($){this.storage=$}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var $=this;return(0,k.Z)(function*(){const we=$.storage.getLastFetchStatus(),Ge=$.storage.getLastSuccessfulFetchTimestampMillis(),_t=$.storage.getActiveConfig(),Tt=yield we;Tt&&($.lastFetchStatus=Tt);const cn=yield Ge;cn&&($.lastSuccessfulFetchTimestampMillis=cn);const rr=yield _t;rr&&($.activeConfig=rr)})()}setLastFetchStatus($){return this.lastFetchStatus=$,this.storage.setLastFetchStatus($)}setLastSuccessfulFetchTimestampMillis($){return this.lastSuccessfulFetchTimestampMillis=$,this.storage.setLastSuccessfulFetchTimestampMillis($)}setActiveConfig($){return this.activeConfig=$,this.storage.setActiveConfig($)}}function Dt(){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,k.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(K){return!1}})).apply(this,arguments)}!function vn(){(0,G._registerComponent)(new Ce.wA("remote-config",function K($,{instanceIdentifier:we}){const Ge=$.getProvider("app").getImmediate(),_t=$.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw H.create("registration-window");if(!(0,ne.hl)())throw H.create("indexed-db-unavailable");const{projectId:Tt,apiKey:cn,appId:rr}=Ge.options;if(!Tt)throw H.create("registration-project-id");if(!cn)throw H.create("registration-api-key");if(!rr)throw H.create("registration-app-id");const Gt=new Ot(rr,Ge.name,we=we||"firebase"),ir=new on(Gt),lr=new Ee.Yd(De);lr.logLevel=Ee.in.ERROR;const Pn=new xt(_t,G.SDK_VERSION,we,Tt,cn,rr),Qi=new Hn(Pn,Gt),yo=new Qt(Qi,Gt,ir,lr),Ho=new Ae(Ge,yo,ir,Gt,lr);return function gt(K){const $=(0,ne.m9)(K);$._initializePromise||($._initializePromise=$._storageCache.loadFromStorage().then(()=>{$._isInitializationComplete=!0}))}(Ho),Ho},"PUBLIC").setMultipleInstances(!0)),(0,G.registerVersion)(De,"0.3.8"),(0,G.registerVersion)(De,"0.3.8","esm2017")}();var mt=z(8766);const Ft="/firebase-messaging-sw.js",Jn="/firebase-cloud-messaging-push-scope",En="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Cn="google.c.a.c_id",Gn="google.c.a.c_l",sn="google.c.a.ts",un="google.c.a.e";var Rt=(()=>{return(K=Rt||(Rt={})).PUSH_RECEIVED="push-received",K.NOTIFICATION_CLICKED="notification-clicked",Rt;var K})();function zn(K){const $=new Uint8Array(K);return btoa(String.fromCharCode(...$)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Sr(K){const we=(K+"=".repeat((4-K.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ge=atob(we),_t=new Uint8Array(Ge.length);for(let Tt=0;Tt<Ge.length;++Tt)_t[Tt]=Ge.charCodeAt(Tt);return _t}const bn="fcm_token_details_db",tr="fcm_token_object_Store";function Dn(K){return ue.apply(this,arguments)}function ue(){return ue=(0,k.Z)(function*(K){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Tt=>Tt.name).includes(bn))return null;let $=null;return(yield(0,mt.X3)(bn,5,{upgrade:(Ge=(0,k.Z)(function*(_t,Tt,cn,rr){var Gt;if(Tt<2||!_t.objectStoreNames.contains(tr))return;const ir=rr.objectStore(tr),lr=yield ir.index("fcmSenderId").get(K);if(yield ir.clear(),lr)if(2===Tt){const Pn=lr;if(!Pn.auth||!Pn.p256dh||!Pn.endpoint)return;$={token:Pn.fcmToken,createTime:null!==(Gt=Pn.createTime)&&void 0!==Gt?Gt:Date.now(),subscriptionOptions:{auth:Pn.auth,p256dh:Pn.p256dh,endpoint:Pn.endpoint,swScope:Pn.swScope,vapidKey:"string"==typeof Pn.vapidKey?Pn.vapidKey:zn(Pn.vapidKey)}}}else if(3===Tt){const Pn=lr;$={token:Pn.fcmToken,createTime:Pn.createTime,subscriptionOptions:{auth:zn(Pn.auth),p256dh:zn(Pn.p256dh),endpoint:Pn.endpoint,swScope:Pn.swScope,vapidKey:zn(Pn.vapidKey)}}}else if(4===Tt){const Pn=lr;$={token:Pn.fcmToken,createTime:Pn.createTime,subscriptionOptions:{auth:zn(Pn.auth),p256dh:zn(Pn.p256dh),endpoint:Pn.endpoint,swScope:Pn.swScope,vapidKey:zn(Pn.vapidKey)}}}}),function(Tt,cn,rr,Gt){return Ge.apply(this,arguments)})})).close(),yield(0,mt.Lj)(bn),yield(0,mt.Lj)("fcm_vapid_details_db"),yield(0,mt.Lj)("undefined"),ve($)?$:null;var Ge}),ue.apply(this,arguments)}function ve(K){if(!K||!K.subscriptionOptions)return!1;const{subscriptionOptions:$}=K;return"number"==typeof K.createTime&&K.createTime>0&&"string"==typeof K.token&&K.token.length>0&&"string"==typeof $.auth&&$.auth.length>0&&"string"==typeof $.p256dh&&$.p256dh.length>0&&"string"==typeof $.endpoint&&$.endpoint.length>0&&"string"==typeof $.swScope&&$.swScope.length>0&&"string"==typeof $.vapidKey&&$.vapidKey.length>0}const W="firebase-messaging-store";let le=null;function ae(){return le||(le=(0,mt.X3)("firebase-messaging-database",1,{upgrade:(K,$)=>{0===$&&K.createObjectStore(W)}})),le}function ge(K){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,k.Z)(function*(K){const $=Ie(K),Ge=yield(yield ae()).transaction(W).objectStore(W).get($);if(Ge)return Ge;{const _t=yield Dn(K.appConfig.senderId);if(_t)return yield it(K,_t),_t}})).apply(this,arguments)}function it(K,$){return ht.apply(this,arguments)}function ht(){return(ht=(0,k.Z)(function*(K,$){const we=Ie(K),_t=(yield ae()).transaction(W,"readwrite");return yield _t.objectStore(W).put($,we),yield _t.done,$})).apply(this,arguments)}function lt(K){return qt.apply(this,arguments)}function qt(){return(qt=(0,k.Z)(function*(K){const $=Ie(K),Ge=(yield ae()).transaction(W,"readwrite");yield Ge.objectStore(W).delete($),yield Ge.done})).apply(this,arguments)}function Ie({appConfig:K}){return K.appId}const he=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function et(K,$){return bt.apply(this,arguments)}function bt(){return(bt=(0,k.Z)(function*(K,$){const we=yield kr(K),Ge=_r($),_t={method:"POST",headers:we,body:JSON.stringify(Ge)};let Tt;try{Tt=yield(yield fetch(hr(K.appConfig),_t)).json()}catch(cn){throw he.create("token-subscribe-failed",{errorInfo:cn})}if(Tt.error)throw he.create("token-subscribe-failed",{errorInfo:Tt.error.message});if(!Tt.token)throw he.create("token-subscribe-no-token");return Tt.token})).apply(this,arguments)}function jt(K,$){return rn.apply(this,arguments)}function rn(){return(rn=(0,k.Z)(function*(K,$){const we=yield kr(K),Ge=_r($.subscriptionOptions),_t={method:"PATCH",headers:we,body:JSON.stringify(Ge)};let Tt;try{Tt=yield(yield fetch(`${hr(K.appConfig)}/${$.token}`,_t)).json()}catch(cn){throw he.create("token-update-failed",{errorInfo:cn})}if(Tt.error)throw he.create("token-update-failed",{errorInfo:Tt.error.message});if(!Tt.token)throw he.create("token-update-no-token");return Tt.token})).apply(this,arguments)}function Fn(K,$){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,k.Z)(function*(K,$){const Ge={method:"DELETE",headers:yield kr(K)};try{const Tt=yield(yield fetch(`${hr(K.appConfig)}/${$}`,Ge)).json();if(Tt.error)throw he.create("token-unsubscribe-failed",{errorInfo:Tt.error.message})}catch(_t){throw he.create("token-unsubscribe-failed",{errorInfo:_t})}})).apply(this,arguments)}function hr({projectId:K}){return`https://fcmregistrations.googleapis.com/v1/projects/${K}/registrations`}function kr(K){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,k.Z)(function*({appConfig:K,installations:$}){const we=yield $.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":K.apiKey,"x-goog-firebase-installations-auth":`FIS ${we}`})})).apply(this,arguments)}function _r({p256dh:K,auth:$,endpoint:we,vapidKey:Ge}){const _t={web:{endpoint:we,auth:$,p256dh:K}};return Ge!==En&&(_t.web.applicationPubKey=Ge),_t}const si=6048e5;function xr(K){return os.apply(this,arguments)}function os(){return(os=(0,k.Z)(function*(K){const $=yield Sn(K.swRegistration,K.vapidKey),we={vapidKey:K.vapidKey,swScope:K.swRegistration.scope,endpoint:$.endpoint,auth:zn($.getKey("auth")),p256dh:zn($.getKey("p256dh"))},Ge=yield ge(K.firebaseDependencies);if(Ge){if(Tn(Ge.subscriptionOptions,we))return Date.now()>=Ge.createTime+si?ye(K,{token:Ge.token,createTime:Date.now(),subscriptionOptions:we}):Ge.token;try{yield Fn(K.firebaseDependencies,Ge.token)}catch(_t){console.warn(_t)}return ct(K.firebaseDependencies,we)}return ct(K.firebaseDependencies,we)})).apply(this,arguments)}function Kr(K){return Et.apply(this,arguments)}function Et(){return(Et=(0,k.Z)(function*(K){const $=yield ge(K.firebaseDependencies);$&&(yield Fn(K.firebaseDependencies,$.token),yield lt(K.firebaseDependencies));const we=yield K.swRegistration.pushManager.getSubscription();return!we||we.unsubscribe()})).apply(this,arguments)}function ye(K,$){return He.apply(this,arguments)}function He(){return(He=(0,k.Z)(function*(K,$){try{const we=yield jt(K.firebaseDependencies,$),Ge=Object.assign(Object.assign({},$),{token:we,createTime:Date.now()});return yield it(K.firebaseDependencies,Ge),we}catch(we){throw yield Kr(K),we}})).apply(this,arguments)}function ct(K,$){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,k.Z)(function*(K,$){const Ge={token:yield et(K,$),createTime:Date.now(),subscriptionOptions:$};return yield it(K,Ge),Ge.token})).apply(this,arguments)}function Sn(K,$){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,k.Z)(function*(K,$){return(yield K.pushManager.getSubscription())||K.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Sr($)})})).apply(this,arguments)}function Tn(K,$){return $.vapidKey===K.vapidKey&&$.endpoint===K.endpoint&&$.auth===K.auth&&$.p256dh===K.p256dh}function dr(K){const $={from:K.from,collapseKey:K.collapse_key,messageId:K.fcmMessageId};return function qr(K,$){if(!$.notification)return;K.notification={};const we=$.notification.title;we&&(K.notification.title=we);const Ge=$.notification.body;Ge&&(K.notification.body=Ge);const _t=$.notification.image;_t&&(K.notification.image=_t)}($,K),function tn(K,$){!$.data||(K.data=$.data)}($,K),function fo(K,$){if(!$.fcmOptions)return;K.fcmOptions={};const we=$.fcmOptions.link;we&&(K.fcmOptions.link=we);const Ge=$.fcmOptions.analytics_label;Ge&&(K.fcmOptions.analyticsLabel=Ge)}($,K),$}function vi(K){return"object"==typeof K&&!!K&&Cn in K}function Vn(K,$){const we=[];for(let Ge=0;Ge<K.length;Ge++)we.push(K.charAt(Ge)),Ge<$.length&&we.push($.charAt(Ge));return we.join("")}function Mr(K){return he.create("missing-app-config-values",{valueName:K})}Vn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Vn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ho{constructor($,we,Ge){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const _t=function $i(K){if(!K||!K.options)throw Mr("App Configuration Object");if(!K.name)throw Mr("App Name");const $=["projectId","apiKey","appId","messagingSenderId"],{options:we}=K;for(const Ge of $)if(!we[Ge])throw Mr(Ge);return{appName:K.name,projectId:we.projectId,apiKey:we.apiKey,appId:we.appId,senderId:we.messagingSenderId}}($);this.firebaseDependencies={app:$,appConfig:_t,installations:we,analyticsProvider:Ge}}_delete(){return Promise.resolve()}}function po(K){return fr.apply(this,arguments)}function fr(){return(fr=(0,k.Z)(function*(K){try{K.swRegistration=yield navigator.serviceWorker.register(Ft,{scope:Jn}),K.swRegistration.update().catch(()=>{})}catch($){throw he.create("failed-service-worker-registration",{browserErrorMessage:$.message})}})).apply(this,arguments)}function Yn(K,$){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,k.Z)(function*(K,$){if(!$&&!K.swRegistration&&(yield po(K)),$||!K.swRegistration){if(!($ instanceof ServiceWorkerRegistration))throw he.create("invalid-sw-registration");K.swRegistration=$}})).apply(this,arguments)}function Qs(K,$){return ai.apply(this,arguments)}function ai(){return(ai=(0,k.Z)(function*(K,$){$?K.vapidKey=$:K.vapidKey||(K.vapidKey=En)})).apply(this,arguments)}function Js(){return(Js=(0,k.Z)(function*(K,$){if(!navigator)throw he.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw he.create("permission-blocked");return yield Qs(K,null==$?void 0:$.vapidKey),yield Yn(K,null==$?void 0:$.serviceWorkerRegistration),xr(K)})).apply(this,arguments)}function Ss(K,$,we){return ss.apply(this,arguments)}function ss(){return(ss=(0,k.Z)(function*(K,$,we){const Ge=yi($);(yield K.firebaseDependencies.analyticsProvider.get()).logEvent(Ge,{message_id:we[Cn],message_name:we[Gn],message_time:we[sn],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function yi(K){switch(K){case Rt.NOTIFICATION_CLICKED:return"notification_open";case Rt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Xs(){return(Xs=(0,k.Z)(function*(K,$){const we=$.data;if(!we.isFirebaseMessaging)return;K.onMessageHandler&&we.messageType===Rt.PUSH_RECEIVED&&("function"==typeof K.onMessageHandler?K.onMessageHandler(dr(we)):K.onMessageHandler.next(dr(we)));const Ge=we.data;vi(Ge)&&"1"===Ge[un]&&(yield Ss(K,we.messageType,Ge))})).apply(this,arguments)}const ea="@firebase/messaging",ru=K=>{const $=new ho(K.getProvider("app").getImmediate(),K.getProvider("installations-internal").getImmediate(),K.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",we=>function lc(K,$){return Xs.apply(this,arguments)}($,we)),$},bd=K=>{const $=K.getProvider("messaging").getImmediate();return{getToken:Ge=>function li(K,$){return Js.apply(this,arguments)}($,Ge)}};function ka(){return as.apply(this,arguments)}function as(){return(as=(0,k.Z)(function*(){try{yield(0,ne.eu)()}catch(K){return!1}return"undefined"!=typeof window&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ki(){(0,G._registerComponent)(new Ce.wA("messaging",ru,"PUBLIC")),(0,G._registerComponent)(new Ce.wA("messaging-internal",bd,"PRIVATE")),(0,G.registerVersion)(ea,"0.9.13"),(0,G.registerVersion)(ea,"0.9.13","esm2017")}();var wd=z(579),Na=z(4408),tt=z(7565);const Bi=new class xs extends tt.v{}(class Vi extends Na.o{constructor($,we){super($,we),this.scheduler=$,this.work=we}schedule($,we=0){return we>0?super.schedule($,we):(this.delay=we,this.state=$,this.scheduler.flush(this),this)}execute($,we){return we>0||this.closed?super.execute($,we):this._execute($,we)}requestAsyncId($,we,Ge=0){return null!=Ge&&Ge>0||null==Ge&&this.delay>0?super.requestAsyncId($,we,Ge):$.flush(this)}});var ta=z(4986),ui=z(8505),ls=z(9468),na=z(5363);const Cd=new u.GfV("7.3.0"),Ui="__angularfire_symbol__analyticsIsSupportedValue",Vo="__angularfire_symbol__analyticsIsSupported",mo="__angularfire_symbol__remoteConfigIsSupportedValue",ra="__angularfire_symbol__remoteConfigIsSupported",Bo="__angularfire_symbol__messagingIsSupportedValue",Nr="__angularfire_symbol__messagingIsSupported";function ia(K,$,we){if($){if(1===$.length)return $[0];const Tt=$.filter(cn=>cn.app===we);if(1===Tt.length)return Tt[0]}return we.container.getProvider(K).getImmediate({optional:!0})}globalThis[Vo]||(globalThis[Vo]=(0,wd.Gb)().then(K=>globalThis[Ui]=K).catch(()=>globalThis[Ui]=!1)),globalThis[Nr]||(globalThis[Nr]=ka().then(K=>globalThis[Bo]=K).catch(()=>globalThis[Bo]=!1)),globalThis[ra]||(globalThis[ra]=Dt().then(K=>globalThis[mo]=K).catch(()=>globalThis[mo]=!1));const Ms=(K,$)=>{const we=$?[$]:(0,O.C6)(),Ge=[];return we.forEach(_t=>{_t.container.getProvider(K).instances.forEach(cn=>{Ge.includes(cn)||Ge.push(cn)})}),Ge};function Yi(){}class us{constructor($,we=Bi){this.zone=$,this.delegate=we}now(){return this.delegate.now()}schedule($,we,Ge){const _t=this.zone;return this.delegate.schedule(function(cn){_t.runGuarded(()=>{$.apply(this,[cn])})},we,Ge)}}class cc{constructor($){this.zone=$,this.task=null}call($,we){const Ge=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Yi,{},Yi,Yi)),we.pipe((0,ui.b)({next:Ge,complete:Ge,error:Ge})).subscribe($).add(Ge)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let cr=(()=>{class K{constructor(we){this.ngZone=we,this.outsideAngular=we.runOutsideAngular(()=>new us(Zone.current)),this.insideAngular=we.run(()=>new us(Zone.current,ta.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return K.\u0275fac=function(we){return new(we||K)(u.LFG(u.R0b))},K.\u0275prov=u.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})();function Hi(){const K=globalThis.\u0275AngularFireScheduler;if(!K)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return K}function cs(K){return Hi(),function Yr(K){return function(we){return(we=we.lift(new cc(K.ngZone))).pipe((0,ls.R)(K.outsideAngular),(0,na.Q)(K.insideAngular))}}(Hi())(K)}},198:(kt,qe,z)=>{"use strict";z.d(qe,{$:()=>cn,A:()=>de,B:()=>H,G:()=>He,H:()=>Tn,J:()=>Ki,L:()=>ht,M:()=>xs,N:()=>ui,P:()=>Ls,Q:()=>ls,R:()=>yu,T:()=>na,U:()=>ta,V:()=>mo,W:()=>ra,X:()=>ou,Y:()=>Uo,Z:()=>K,_:()=>we,a:()=>du,a0:()=>Pn,a1:()=>yo,a2:()=>Oa,a3:()=>st,a4:()=>ds,a5:()=>Dd,a6:()=>jo,a7:()=>dc,a8:()=>Td,a9:()=>Id,aA:()=>Ka,aB:()=>Za,aC:()=>Cc,aD:()=>Au,aE:()=>Et,aI:()=>hs,aL:()=>Ui,aa:()=>_o,ab:()=>aa,ac:()=>yh,af:()=>_l,ag:()=>xd,ah:()=>Md,ak:()=>us,al:()=>Eh,an:()=>uu,ao:()=>Th,ap:()=>hr,aq:()=>fe,ar:()=>Lt,as:()=>jt,at:()=>Ye,au:()=>Mu,av:()=>Ya,aw:()=>We,ax:()=>Te,ay:()=>Oe,az:()=>lt,b:()=>Ih,c:()=>Ga,d:()=>Ac,e:()=>_u,f:()=>zd,g:()=>qd,h:()=>Ic,i:()=>fa,j:()=>va,k:()=>Nl,l:()=>Co,m:()=>Qd,n:()=>kc,o:()=>Me,r:()=>Ud,s:()=>yc,u:()=>jd,y:()=>kd});var u=z(5861),O=z(2090),k=z(9681),G=z(655),ne=z(1877),Ce=z(4859);const Me={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},de={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const H=function T(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},oe=function F(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},me=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),se=new ne.Yd("@firebase/auth");function je(D,..._){se.logLevel<=ne.in.ERROR&&se.error(`Auth (${k.SDK_VERSION}): ${D}`,..._)}function Ye(D,..._){throw gt(D,..._)}function We(D,..._){return gt(D,..._)}function Qe(D,_,E){const x=Object.assign(Object.assign({},oe()),{[_]:E});return new O.LL("auth","Firebase",x).create(_,{appName:D.name})}function ze(D,_,E){if(!(_ instanceof E))throw E.name!==_.constructor.name&&Ye(D,"argument-error"),Qe(D,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gt(D,..._){if("string"!=typeof D){const E=_[0],x=[..._.slice(1)];return x[0]&&(x[0].appName=D.name),D._errorFactory.create(E,...x)}return me.create(D,..._)}function Te(D,_,...E){if(!D)throw gt(_,...E)}function Re(D){const _="INTERNAL ASSERTION FAILED: "+D;throw je(_),new Error(_)}function fe(D,_){D||Re(_)}const xe=new Map;function Oe(D){fe(D instanceof Function,"Expected a class definition");let _=xe.get(D);return _?(fe(_ instanceof D,"Instance stored in cache mismatched with class"),_):(_=new D,xe.set(D,_),_)}function Ne(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function Wt(){return"http:"===Qt()||"https:"===Qt()}function Qt(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class Ut{constructor(_,E){this.shortDelay=_,this.longDelay=E,fe(E>_,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function Qn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Wt()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Wn(D,_){fe(D.emulator,"Emulator should always be set here");const{url:E}=D.emulator;return _?`${E}${_.startsWith("/")?_.slice(1):_}`:E}class Hn{static initialize(_,E,x){this.fetchImpl=_,E&&(this.headersImpl=E),x&&(this.responseImpl=x)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Re("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Re("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Re("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},wn=new Ut(3e4,6e4);function Ae(D,_){return D.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:D.tenantId}):_}function _e(D,_,E,x){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,u.Z)(function*(D,_,E,x,U={}){return at(D,U,(0,u.Z)(function*(){let Y={},Le={};x&&("GET"===_?Le=x:Y={body:JSON.stringify(x)});const ft=(0,O.xO)(Object.assign({key:D.config.apiKey},Le)).slice(1),zt=yield D._getAdditionalHeaders();return zt["Content-Type"]="application/json",D.languageCode&&(zt["X-Firebase-Locale"]=D.languageCode),Hn.fetch()(on(D,D.config.apiHost,E,ft),Object.assign({method:_,headers:zt,referrerPolicy:"no-referrer"},Y))}))})).apply(this,arguments)}function at(D,_,E){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,u.Z)(function*(D,_,E){D._canInitEmulator=!1;const x=Object.assign(Object.assign({},vr),_);try{const U=new vn(D),Y=yield Promise.race([E(),U.promise]);U.clearNetworkTimeout();const Le=yield Y.json();if("needConfirmation"in Le)throw gn(D,"account-exists-with-different-credential",Le);if(Y.ok&&!("errorMessage"in Le))return Le;{const ft=Y.ok?Le.errorMessage:Le.error.message,[zt,nn]=ft.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===zt)throw gn(D,"credential-already-in-use",Le);if("EMAIL_EXISTS"===zt)throw gn(D,"email-already-in-use",Le);const Ln=x[zt]||zt.toLowerCase().replace(/[_\s]+/g,"-");if(nn)throw Qe(D,Ln,nn);Ye(D,Ln)}}catch(U){if(U instanceof O.ZR)throw U;Ye(D,"network-request-failed")}})).apply(this,arguments)}function Ze(D,_,E,x){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,u.Z)(function*(D,_,E,x,U={}){const Y=yield _e(D,_,E,x,U);return"mfaPendingCredential"in Y&&Ye(D,"multi-factor-auth-required",{_serverResponse:Y}),Y})).apply(this,arguments)}function on(D,_,E,x){const U=`${_}${E}?${x}`;return D.config.emulator?Wn(D.config,U):`${D.config.apiScheme}://${U}`}class vn{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((E,x)=>{this.timer=setTimeout(()=>x(We(this.auth,"network-request-failed")),wn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gn(D,_,E){const x={appName:D.name};E.email&&(x.email=E.email),E.phoneNumber&&(x.phoneNumber=E.phoneNumber);const U=We(D,_,x);return U.customData._tokenResponse=E,U}function Dt(){return(Dt=(0,u.Z)(function*(D,_){return _e(D,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function Jt(D,_){return mt.apply(this,arguments)}function mt(){return(mt=(0,u.Z)(function*(D,_){return _e(D,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Ft(D,_){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,u.Z)(function*(D,_){return _e(D,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function En(D){if(D)try{const _=new Date(Number(D));if(!isNaN(_.getTime()))return _.toUTCString()}catch(_){}}function Gn(){return(Gn=(0,u.Z)(function*(D,_=!1){const E=(0,O.m9)(D),x=yield E.getIdToken(_),U=un(x);Te(U&&U.exp&&U.auth_time&&U.iat,E.auth,"internal-error");const Y="object"==typeof U.firebase?U.firebase:void 0,Le=null==Y?void 0:Y.sign_in_provider;return{claims:U,token:x,authTime:En(sn(U.auth_time)),issuedAtTime:En(sn(U.iat)),expirationTime:En(sn(U.exp)),signInProvider:Le||null,signInSecondFactor:(null==Y?void 0:Y.sign_in_second_factor)||null}})).apply(this,arguments)}function sn(D){return 1e3*Number(D)}function un(D){const[_,E,x]=D.split(".");if(void 0===_||void 0===E||void 0===x)return je("JWT malformed, contained fewer than 3 sections"),null;try{const U=(0,O.tV)(E);return U?JSON.parse(U):(je("Failed to decode base64 JWT payload"),null)}catch(U){return je("Caught error parsing JWT payload as JSON",U),null}}function Rt(D,_){return zn.apply(this,arguments)}function zn(){return(zn=(0,u.Z)(function*(D,_,E=!1){if(E)return _;try{return yield _}catch(x){throw x instanceof O.ZR&&Sr(x)&&D.auth.currentUser===D&&(yield D.auth.signOut()),x}})).apply(this,arguments)}function Sr({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}class bn{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var E;if(_){const x=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),x}{this.errorBackoff=3e4;const U=(null!==(E=this.user.stsTokenManager.expirationTime)&&void 0!==E?E:0)-Date.now()-3e5;return Math.max(0,U)}}schedule(_=!1){var E=this;if(!this.isRunning)return;const x=this.getInterval(_);this.timerId=setTimeout((0,u.Z)(function*(){yield E.iteration()}),x)}iteration(){var _=this;return(0,u.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===E.code&&_.schedule(!0))}_.schedule()})()}}class yr{constructor(_,E){this.createdAt=_,this.lastLoginAt=E,this._initializeTime()}_initializeTime(){this.lastSignInTime=En(this.lastLoginAt),this.creationTime=En(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function tr(D){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,u.Z)(function*(D){var _;const E=D.auth,x=yield D.getIdToken(),U=yield Rt(D,Ft(E,{idToken:x}));Te(null==U?void 0:U.users.length,E,"internal-error");const Y=U.users[0];D._notifyReloadListener(Y);const Le=(null===(_=Y.providerUserInfo)||void 0===_?void 0:_.length)?J(Y.providerUserInfo):[],ft=B(D.providerData,Le),Ln=!!D.isAnonymous&&!(D.email&&Y.passwordHash||(null==ft?void 0:ft.length)),wr={uid:Y.localId,displayName:Y.displayName||null,photoURL:Y.photoUrl||null,email:Y.email||null,emailVerified:Y.emailVerified||!1,phoneNumber:Y.phoneNumber||null,tenantId:Y.tenantId||null,providerData:ft,metadata:new yr(Y.createdAt,Y.lastLoginAt),isAnonymous:Ln};Object.assign(D,wr)})).apply(this,arguments)}function ve(){return(ve=(0,u.Z)(function*(D){const _=(0,O.m9)(D);yield tr(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function B(D,_){return[...D.filter(x=>!_.some(U=>U.providerId===x.providerId)),..._]}function J(D){return D.map(_=>{var{providerId:E}=_,x=(0,G.__rest)(_,["providerId"]);return{providerId:E,uid:x.rawId||"",displayName:x.displayName||null,email:x.email||null,phoneNumber:x.phoneNumber||null,photoURL:x.photoUrl||null}})}function le(){return(le=(0,u.Z)(function*(D,_){const E=yield at(D,{},(0,u.Z)(function*(){const x=(0,O.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:U,apiKey:Y}=D.config,Le=on(D,U,"/v1/token",`key=${Y}`),ft=yield D._getAdditionalHeaders();return ft["Content-Type"]="application/x-www-form-urlencoded",Hn.fetch()(Le,{method:"POST",headers:ft,body:x})}));return{accessToken:E.access_token,expiresIn:E.expires_in,refreshToken:E.refresh_token}})).apply(this,arguments)}class ae{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){Te(_.idToken,"internal-error"),Te(void 0!==_.idToken,"internal-error"),Te(void 0!==_.refreshToken,"internal-error");const E="expiresIn"in _&&void 0!==_.expiresIn?Number(_.expiresIn):function Zt(D){const _=un(D);return Te(_,"internal-error"),Te(void 0!==_.exp,"internal-error"),Te(void 0!==_.iat,"internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,E)}getToken(_,E=!1){var x=this;return(0,u.Z)(function*(){return Te(!x.accessToken||x.refreshToken,_,"user-token-expired"),E||!x.accessToken||x.isExpired?x.refreshToken?(yield x.refresh(_,x.refreshToken),x.accessToken):null:x.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,E){var x=this;return(0,u.Z)(function*(){const{accessToken:U,refreshToken:Y,expiresIn:Le}=yield function W(D,_){return le.apply(this,arguments)}(_,E);x.updateTokensAndExpiration(U,Y,Number(Le))})()}updateTokensAndExpiration(_,E,x){this.refreshToken=E||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*x}static fromJSON(_,E){const{refreshToken:x,accessToken:U,expirationTime:Y}=E,Le=new ae;return x&&(Te("string"==typeof x,"internal-error",{appName:_}),Le.refreshToken=x),U&&(Te("string"==typeof U,"internal-error",{appName:_}),Le.accessToken=U),Y&&(Te("number"==typeof Y,"internal-error",{appName:_}),Le.expirationTime=Y),Le}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new ae,this.toJSON())}_performRefresh(){return Re("not implemented")}}function ge(D,_){Te("string"==typeof D||void 0===D,"internal-error",{appName:_})}class Pe{constructor(_){var{uid:E,auth:x,stsTokenManager:U}=_,Y=(0,G.__rest)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=E,this.auth=x,this.stsTokenManager=U,this.accessToken=U.accessToken,this.displayName=Y.displayName||null,this.email=Y.email||null,this.emailVerified=Y.emailVerified||!1,this.phoneNumber=Y.phoneNumber||null,this.photoURL=Y.photoURL||null,this.isAnonymous=Y.isAnonymous||!1,this.tenantId=Y.tenantId||null,this.providerData=Y.providerData?[...Y.providerData]:[],this.metadata=new yr(Y.createdAt||void 0,Y.lastLoginAt||void 0)}getIdToken(_){var E=this;return(0,u.Z)(function*(){const x=yield Rt(E,E.stsTokenManager.getToken(E.auth,_));return Te(x,E.auth,"internal-error"),E.accessToken!==x&&(E.accessToken=x,yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)),x})()}getIdTokenResult(_){return function Cn(D){return Gn.apply(this,arguments)}(this,_)}reload(){return function ue(D){return ve.apply(this,arguments)}(this)}_assign(_){this!==_&&(Te(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(E=>Object.assign({},E)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){return new Pe(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(_){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,E=!1){var x=this;return(0,u.Z)(function*(){let U=!1;_.idToken&&_.idToken!==x.stsTokenManager.accessToken&&(x.stsTokenManager.updateFromServerResponse(_),U=!0),E&&(yield tr(x)),yield x.auth._persistUserIfCurrent(x),U&&x.auth._notifyListenersIfCurrent(x)})()}delete(){var _=this;return(0,u.Z)(function*(){const E=yield _.getIdToken();return yield Rt(_,function $e(D,_){return Dt.apply(this,arguments)}(_.auth,{idToken:E})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,E){var x,U,Y,Le,ft,zt,nn,Ln;const wr=null!==(x=E.displayName)&&void 0!==x?x:void 0,xi=null!==(U=E.email)&&void 0!==U?U:void 0,To=null!==(Y=E.phoneNumber)&&void 0!==Y?Y:void 0,Hs=null!==(Le=E.photoURL)&&void 0!==Le?Le:void 0,Jd=null!==(ft=E.tenantId)&&void 0!==ft?ft:void 0,Nc=null!==(zt=E._redirectEventId)&&void 0!==zt?zt:void 0,bs=null!==(nn=E.createdAt)&&void 0!==nn?nn:void 0,Xd=null!==(Ln=E.lastLoginAt)&&void 0!==Ln?Ln:void 0,{uid:Pu,emailVerified:ef,isAnonymous:Ol,providerData:Ou,stsTokenManager:Fl}=E;Te(Pu&&Fl,_,"internal-error");const Ll=ae.fromJSON(this.name,Fl);Te("string"==typeof Pu,_,"internal-error"),ge(wr,_.name),ge(xi,_.name),Te("boolean"==typeof ef,_,"internal-error"),Te("boolean"==typeof Ol,_,"internal-error"),ge(To,_.name),ge(Hs,_.name),ge(Jd,_.name),ge(Nc,_.name),ge(bs,_.name),ge(Xd,_.name);const ba=new Pe({uid:Pu,auth:_,email:xi,emailVerified:ef,displayName:wr,isAnonymous:Ol,photoURL:Hs,phoneNumber:To,tenantId:Jd,stsTokenManager:Ll,createdAt:bs,lastLoginAt:Xd});return Ou&&Array.isArray(Ou)&&(ba.providerData=Ou.map(Bh=>Object.assign({},Bh))),Nc&&(ba._redirectEventId=Nc),ba}static _fromIdTokenResponse(_,E,x=!1){return(0,u.Z)(function*(){const U=new ae;U.updateFromServerResponse(E);const Y=new Pe({uid:E.localId,auth:_,stsTokenManager:U,isAnonymous:x});return yield tr(Y),Y})()}}const ht=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(E,x){var U=this;return(0,u.Z)(function*(){U.storage[E]=x})()}_get(E){var x=this;return(0,u.Z)(function*(){const U=x.storage[E];return void 0===U?null:U})()}_remove(E){var x=this;return(0,u.Z)(function*(){delete x.storage[E]})()}_addListener(E,x){}_removeListener(E,x){}}return D.type="NONE",D})();function lt(D,_,E){return`firebase:${D}:${_}:${E}`}class qt{constructor(_,E,x){this.persistence=_,this.auth=E,this.userKey=x;const{config:U,name:Y}=this.auth;this.fullUserKey=lt(this.userKey,U.apiKey,Y),this.fullPersistenceKey=lt("persistence",U.apiKey,Y),this.boundEventHandler=E._onStorageEvent.bind(E),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,u.Z)(function*(){const E=yield _.persistence._get(_.fullUserKey);return E?Pe._fromJSON(_.auth,E):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var E=this;return(0,u.Z)(function*(){if(E.persistence===_)return;const x=yield E.getCurrentUser();return yield E.removeCurrentUser(),E.persistence=_,x?E.setCurrentUser(x):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,E,x="authUser"){return(0,u.Z)(function*(){if(!E.length)return new qt(Oe(ht),_,x);const U=(yield Promise.all(E.map(function(){var nn=(0,u.Z)(function*(Ln){if(yield Ln._isAvailable())return Ln});return function(Ln){return nn.apply(this,arguments)}}()))).filter(nn=>nn);let Y=U[0]||Oe(ht);const Le=lt(x,_.config.apiKey,_.name);let ft=null;for(const nn of E)try{const Ln=yield nn._get(Le);if(Ln){const wr=Pe._fromJSON(_,Ln);nn!==Y&&(ft=wr),Y=nn;break}}catch(Ln){}const zt=U.filter(nn=>nn._shouldAllowMigration);return Y._shouldAllowMigration&&zt.length?(Y=zt[0],ft&&(yield Y._set(Le,ft.toJSON())),yield Promise.all(E.map(function(){var nn=(0,u.Z)(function*(Ln){if(Ln!==Y)try{yield Ln._remove(Le)}catch(wr){}});return function(Ln){return nn.apply(this,arguments)}}())),new qt(Y,_,x)):new qt(Y,_,x)})()}}function Ie(D){const _=D.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(bt(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(pe(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(rn(_))return"Blackberry";if(Fn(_))return"Webos";if(he(_))return"Safari";if((_.includes("chrome/")||et(_))&&!_.includes("edge/"))return"Chrome";if(jt(_))return"Android";{const x=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==x?void 0:x.length))return x[1]}return"Other"}function pe(D=(0,O.z$)()){return/firefox\//i.test(D)}function he(D=(0,O.z$)()){const _=D.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function et(D=(0,O.z$)()){return/crios\//i.test(D)}function bt(D=(0,O.z$)()){return/iemobile/i.test(D)}function jt(D=(0,O.z$)()){return/android/i.test(D)}function rn(D=(0,O.z$)()){return/blackberry/i.test(D)}function Fn(D=(0,O.z$)()){return/webos/i.test(D)}function Lt(D=(0,O.z$)()){return/iphone|ipad|ipod/i.test(D)}function hr(D=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}function _r(D=(0,O.z$)()){return Lt(D)||jt(D)||Fn(D)||rn(D)||/windows phone/i.test(D)||bt(D)}function xr(D,_=[]){let E;switch(D){case"Browser":E=Ie((0,O.z$)());break;case"Worker":E=`${Ie((0,O.z$)())}-${D}`;break;default:E=D}const x=_.length?_.join(","):"FirebaseCore-web";return`${E}/JsCore/${k.SDK_VERSION}/${x}`}class os{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,E){const x=Y=>new Promise((Le,ft)=>{try{Le(_(Y))}catch(zt){ft(zt)}});x.onAbort=E,this.queue.push(x);const U=this.queue.length-1;return()=>{this.queue[U]=()=>Promise.resolve()}}runMiddleware(_){var E=this;return(0,u.Z)(function*(){if(E.auth.currentUser===_)return;const x=[];try{for(const U of E.queue)yield U(_),U.onAbort&&x.push(U.onAbort)}catch(U){x.reverse();for(const Y of x)try{Y()}catch(Le){}throw E.auth._errorFactory.create("login-blocked",{originalMessage:U.message})}})()}}class Kr{constructor(_,E,x){this.app=_,this.heartbeatServiceProvider=E,this.config=x,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ye(this),this.idTokenSubscription=new ye(this),this.beforeStateQueue=new os(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=me,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=x.sdkClientVersion}_initializeWithPersistence(_,E){var x=this;return E&&(this._popupRedirectResolver=Oe(E)),this._initializationPromise=this.queue((0,u.Z)(function*(){var U,Y;if(!x._deleted&&(x.persistenceManager=yield qt.create(x,_),!x._deleted)){if(null===(U=x._popupRedirectResolver)||void 0===U?void 0:U._shouldInitProactively)try{yield x._popupRedirectResolver._initialize(x)}catch(Le){}yield x.initializeCurrentUser(E),x.lastNotifiedUid=(null===(Y=x.currentUser)||void 0===Y?void 0:Y.uid)||null,!x._deleted&&(x._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,u.Z)(function*(){if(_._deleted)return;const E=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||E){if(_.currentUser&&E&&_.currentUser.uid===E.uid)return _._currentUser._assign(E),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(E,!0)}})()}initializeCurrentUser(_){var E=this;return(0,u.Z)(function*(){var x;const U=yield E.assertedPersistence.getCurrentUser();let Y=U,Le=!1;if(_&&E.config.authDomain){yield E.getOrInitRedirectPersistenceManager();const ft=null===(x=E.redirectUser)||void 0===x?void 0:x._redirectEventId,zt=null==Y?void 0:Y._redirectEventId,nn=yield E.tryRedirectSignIn(_);(!ft||ft===zt)&&(null==nn?void 0:nn.user)&&(Y=nn.user,Le=!0)}if(!Y)return E.directlySetCurrentUser(null);if(!Y._redirectEventId){if(Le)try{yield E.beforeStateQueue.runMiddleware(Y)}catch(ft){Y=U,E._popupRedirectResolver._overrideRedirectResult(E,()=>Promise.reject(ft))}return Y?E.reloadAndSetCurrentUserOrClear(Y):E.directlySetCurrentUser(null)}return Te(E._popupRedirectResolver,E,"argument-error"),yield E.getOrInitRedirectPersistenceManager(),E.redirectUser&&E.redirectUser._redirectEventId===Y._redirectEventId?E.directlySetCurrentUser(Y):E.reloadAndSetCurrentUserOrClear(Y)})()}tryRedirectSignIn(_){var E=this;return(0,u.Z)(function*(){let x=null;try{x=yield E._popupRedirectResolver._completeRedirectFn(E,_,!0)}catch(U){yield E._setRedirectUser(null)}return x})()}reloadAndSetCurrentUserOrClear(_){var E=this;return(0,u.Z)(function*(){try{yield tr(_)}catch(x){if("auth/network-request-failed"!==x.code)return E.directlySetCurrentUser(null)}return E.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function xt(){if("undefined"==typeof navigator)return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var _=this;return(0,u.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var E=this;return(0,u.Z)(function*(){const x=_?(0,O.m9)(_):null;return x&&Te(x.auth.config.apiKey===E.config.apiKey,E,"invalid-user-token"),E._updateCurrentUser(x&&x._clone(E))})()}_updateCurrentUser(_,E=!1){var x=this;return(0,u.Z)(function*(){if(!x._deleted)return _&&Te(x.tenantId===_.tenantId,x,"tenant-id-mismatch"),E||(yield x.beforeStateQueue.runMiddleware(_)),x.queue((0,u.Z)(function*(){yield x.directlySetCurrentUser(_),x.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,u.Z)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var E=this;return this.queue((0,u.Z)(function*(){yield E.assertedPersistence.setPersistence(Oe(_))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new O.LL("auth","Firebase",_())}onAuthStateChanged(_,E,x){return this.registerStateListener(this.authStateSubscription,_,E,x)}beforeAuthStateChanged(_,E){return this.beforeStateQueue.pushCallback(_,E)}onIdTokenChanged(_,E,x){return this.registerStateListener(this.idTokenSubscription,_,E,x)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,E){var x=this;return(0,u.Z)(function*(){const U=yield x.getOrInitRedirectPersistenceManager(E);return null===_?U.removeCurrentUser():U.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var E=this;return(0,u.Z)(function*(){if(!E.redirectPersistenceManager){const x=_&&Oe(_)||E._popupRedirectResolver;Te(x,E,"argument-error"),E.redirectPersistenceManager=yield qt.create(E,[Oe(x._redirectPersistence)],"redirectUser"),E.redirectUser=yield E.redirectPersistenceManager.getCurrentUser()}return E.redirectPersistenceManager})()}_redirectUserForId(_){var E=this;return(0,u.Z)(function*(){var x,U;return E._isInitialized&&(yield E.queue((0,u.Z)(function*(){}))),(null===(x=E._currentUser)||void 0===x?void 0:x._redirectEventId)===_?E._currentUser:(null===(U=E.redirectUser)||void 0===U?void 0:U._redirectEventId)===_?E.redirectUser:null})()}_persistUserIfCurrent(_){var E=this;return(0,u.Z)(function*(){if(_===E.currentUser)return E.queue((0,u.Z)(function*(){return E.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,E;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const x=null!==(E=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==E?E:null;this.lastNotifiedUid!==x&&(this.lastNotifiedUid=x,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,E,x,U){if(this._deleted)return()=>{};const Y="function"==typeof E?E:E.next.bind(E),Le=this._isInitialized?Promise.resolve():this._initializationPromise;return Te(Le,this,"internal-error"),Le.then(()=>Y(this.currentUser)),"function"==typeof E?_.addObserver(E,x,U):_.addObserver(E)}directlySetCurrentUser(_){var E=this;return(0,u.Z)(function*(){E.currentUser&&E.currentUser!==_&&(E._currentUser._stopProactiveRefresh(),_&&E.isProactiveRefreshEnabled&&_._startProactiveRefresh()),E.currentUser=_,_?yield E.assertedPersistence.setCurrentUser(_):yield E.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=xr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,u.Z)(function*(){var E;const x={"X-Client-Version":_.clientVersion};_.app.options.appId&&(x["X-Firebase-gmpid"]=_.app.options.appId);const U=yield null===(E=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===E?void 0:E.getHeartbeatsHeader();return U&&(x["X-Firebase-Client"]=U),x})()}}function Et(D){return(0,O.m9)(D)}class ye{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,O.ne)(E=>this.observer=E)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function He(D,_,E){const x=Et(D);Te(x._canInitEmulator,x,"emulator-config-failed"),Te(/^https?:\/\//.test(_),x,"invalid-emulator-scheme");const U=!!(null==E?void 0:E.disableWarnings),Y=ct(_),{host:Le,port:ft}=function Ht(D){const _=ct(D),E=/(\/\/)?([^?#/]+)/.exec(D.substr(_.length));if(!E)return{host:"",port:null};const x=E[2].split("@").pop()||"",U=/^(\[[^\]]+\])(:|$)/.exec(x);if(U){const Y=U[1];return{host:Y,port:Sn(x.substr(Y.length+1))}}{const[Y,Le]=x.split(":");return{host:Y,port:Sn(Le)}}}(_);x.config.emulator={url:`${Y}//${Le}${null===ft?"":`:${ft}`}/`},x.settings.appVerificationDisabledForTesting=!0,x.emulatorConfig=Object.freeze({host:Le,port:ft,protocol:Y.replace(":",""),options:Object.freeze({disableWarnings:U})}),U||function Nn(){function D(){const _=document.createElement("p"),E=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",E.position="fixed",E.width="100%",E.backgroundColor="#ffffff",E.border=".1em solid #000000",E.color="#b50000",E.bottom="0px",E.left="0px",E.margin="0px",E.zIndex="10000",E.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}function ct(D){const _=D.indexOf(":");return _<0?"":D.substr(0,_+1)}function Sn(D){if(!D)return null;const _=Number(D);return isNaN(_)?null:_}class Tn{constructor(_,E){this.providerId=_,this.signInMethod=E}toJSON(){return Re("not implemented")}_getIdTokenResponse(_){return Re("not implemented")}_linkToIdToken(_,E){return Re("not implemented")}_getReauthenticationResolver(_){return Re("not implemented")}}function dr(D,_){return qr.apply(this,arguments)}function qr(){return(qr=(0,u.Z)(function*(D,_){return _e(D,"POST","/v1/accounts:resetPassword",Ae(D,_))})).apply(this,arguments)}function tn(D,_){return fo.apply(this,arguments)}function fo(){return(fo=(0,u.Z)(function*(D,_){return _e(D,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function vi(D,_){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,u.Z)(function*(D,_){return _e(D,"POST","/v1/accounts:update",Ae(D,_))})).apply(this,arguments)}function Mr(){return(Mr=(0,u.Z)(function*(D,_){return Ze(D,"POST","/v1/accounts:signInWithPassword",Ae(D,_))})).apply(this,arguments)}function ho(D,_){return po.apply(this,arguments)}function po(){return(po=(0,u.Z)(function*(D,_){return _e(D,"POST","/v1/accounts:sendOobCode",Ae(D,_))})).apply(this,arguments)}function fr(D,_){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,u.Z)(function*(D,_){return ho(D,_)})).apply(this,arguments)}function Ra(D,_){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,u.Z)(function*(D,_){return ho(D,_)})).apply(this,arguments)}function ai(D,_){return li.apply(this,arguments)}function li(){return(li=(0,u.Z)(function*(D,_){return ho(D,_)})).apply(this,arguments)}function Js(D,_){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,u.Z)(function*(D,_){return ho(D,_)})).apply(this,arguments)}function yi(){return(yi=(0,u.Z)(function*(D,_){return Ze(D,"POST","/v1/accounts:signInWithEmailLink",Ae(D,_))})).apply(this,arguments)}function Xs(){return(Xs=(0,u.Z)(function*(D,_){return Ze(D,"POST","/v1/accounts:signInWithEmailLink",Ae(D,_))})).apply(this,arguments)}class ea extends Tn{constructor(_,E,x,U=null){super("password",x),this._email=_,this._password=E,this._tenantId=U}static _fromEmailAndPassword(_,E){return new ea(_,E,"password")}static _fromEmailAndCode(_,E,x=null){return new ea(_,E,"emailLink",x)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const E="string"==typeof _?JSON.parse(_):_;if((null==E?void 0:E.email)&&(null==E?void 0:E.password)){if("password"===E.signInMethod)return this._fromEmailAndPassword(E.email,E.password);if("emailLink"===E.signInMethod)return this._fromEmailAndCode(E.email,E.password,E.tenantId)}return null}_getIdTokenResponse(_){var E=this;return(0,u.Z)(function*(){switch(E.signInMethod){case"password":return function $i(D,_){return Mr.apply(this,arguments)}(_,{returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function ss(D,_){return yi.apply(this,arguments)}(_,{email:E._email,oobCode:E._password});default:Ye(_,"internal-error")}})()}_linkToIdToken(_,E){var x=this;return(0,u.Z)(function*(){switch(x.signInMethod){case"password":return tn(_,{idToken:E,returnSecureToken:!0,email:x._email,password:x._password});case"emailLink":return function lc(D,_){return Xs.apply(this,arguments)}(_,{idToken:E,email:x._email,oobCode:x._password});default:Ye(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function Dr(D,_){return ru.apply(this,arguments)}function ru(){return(ru=(0,u.Z)(function*(D,_){return Ze(D,"POST","/v1/accounts:signInWithIdp",Ae(D,_))})).apply(this,arguments)}class Ki extends Tn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const E=new Ki(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(E.idToken=_.idToken),_.accessToken&&(E.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(E.nonce=_.nonce),_.pendingToken&&(E.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(E.accessToken=_.oauthToken,E.secret=_.oauthTokenSecret):Ye("argument-error"),E}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const E="string"==typeof _?JSON.parse(_):_,{providerId:x,signInMethod:U}=E,Y=(0,G.__rest)(E,["providerId","signInMethod"]);if(!x||!U)return null;const Le=new Ki(x,U);return Le.idToken=Y.idToken||void 0,Le.accessToken=Y.accessToken||void 0,Le.secret=Y.secret,Le.nonce=Y.nonce,Le.pendingToken=Y.pendingToken||null,Le}_getIdTokenResponse(_){return Dr(_,this.buildRequest())}_linkToIdToken(_,E){const x=this.buildRequest();return x.idToken=E,Dr(_,x)}_getReauthenticationResolver(_){const E=this.buildRequest();return E.autoCreate=!1,Dr(_,E)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const E={};this.idToken&&(E.id_token=this.idToken),this.accessToken&&(E.access_token=this.accessToken),this.secret&&(E.oauth_token_secret=this.secret),E.providerId=this.providerId,this.nonce&&!this.pendingToken&&(E.nonce=this.nonce),_.postBody=(0,O.xO)(E)}return _}}function ka(D,_){return as.apply(this,arguments)}function as(){return(as=(0,u.Z)(function*(D,_){return _e(D,"POST","/v1/accounts:sendVerificationCode",Ae(D,_))})).apply(this,arguments)}function br(){return(br=(0,u.Z)(function*(D,_){return Ze(D,"POST","/v1/accounts:signInWithPhoneNumber",Ae(D,_))})).apply(this,arguments)}function Lo(){return(Lo=(0,u.Z)(function*(D,_){const E=yield Ze(D,"POST","/v1/accounts:signInWithPhoneNumber",Ae(D,_));if(E.temporaryProof)throw gn(D,"account-exists-with-different-credential",E);return E})).apply(this,arguments)}const Ad={USER_NOT_FOUND:"user-not-found"};function gl(){return(gl=(0,u.Z)(function*(D,_){return Ze(D,"POST","/v1/accounts:signInWithPhoneNumber",Ae(D,Object.assign(Object.assign({},_),{operation:"REAUTH"})),Ad)})).apply(this,arguments)}class go extends Tn{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,E){return new go({verificationId:_,verificationCode:E})}static _fromTokenResponse(_,E){return new go({phoneNumber:_,temporaryProof:E})}_getIdTokenResponse(_){return function Ed(D,_){return br.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,E){return function iu(D,_){return Lo.apply(this,arguments)}(_,Object.assign({idToken:E},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function pl(D,_){return gl.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:E,verificationId:x,verificationCode:U}=this.params;return _&&E?{temporaryProof:_,phoneNumber:E}:{sessionInfo:x,code:U}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:E,verificationCode:x,phoneNumber:U,temporaryProof:Y}=_;return x||E||U||Y?new go({verificationId:E,verificationCode:x,phoneNumber:U,temporaryProof:Y}):null}}class Vi{constructor(_){var E,x,U,Y,Le,ft;const zt=(0,O.zd)((0,O.pd)(_)),nn=null!==(E=zt.apiKey)&&void 0!==E?E:null,Ln=null!==(x=zt.oobCode)&&void 0!==x?x:null,wr=function wd(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(U=zt.mode)&&void 0!==U?U:null);Te(nn&&Ln&&wr,"argument-error"),this.apiKey=nn,this.operation=wr,this.code=Ln,this.continueUrl=null!==(Y=zt.continueUrl)&&void 0!==Y?Y:null,this.languageCode=null!==(Le=zt.languageCode)&&void 0!==Le?Le:null,this.tenantId=null!==(ft=zt.tenantId)&&void 0!==ft?ft:null}static parseLink(_){const E=function Na(D){const _=(0,O.zd)((0,O.pd)(D)).link,E=_?(0,O.zd)((0,O.pd)(_)).deep_link_id:null,x=(0,O.zd)((0,O.pd)(D)).deep_link_id;return(x?(0,O.zd)((0,O.pd)(x)).link:null)||x||E||_||D}(_);try{return new Vi(E)}catch(x){return null}}}let xs=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(E,x){return ea._fromEmailAndPassword(E,x)}static credentialWithLink(E,x){const U=Vi.parseLink(x);return Te(U,"argument-error"),ea._fromEmailAndCode(E,U.code,U.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class Bi{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class Ii extends Bi{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class ta extends Ii{static credentialFromJSON(_){const E="string"==typeof _?JSON.parse(_):_;return Te("providerId"in E&&"signInMethod"in E,"argument-error"),Ki._fromParams(E)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return Te(_.idToken||_.accessToken,"argument-error"),Ki._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return ta.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return ta.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:E,oauthAccessToken:x,oauthTokenSecret:U,pendingToken:Y,nonce:Le,providerId:ft}=_;if(!x&&!U&&!E&&!Y||!ft)return null;try{return new ta(ft)._credential({idToken:E,accessToken:x,nonce:Le,pendingToken:Y})}catch(zt){return null}}}let ui=(()=>{class D extends Ii{constructor(){super("facebook.com")}static credential(E){return Ki._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return D.credentialFromTaggedObject(E)}static credentialFromError(E){return D.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return D.credential(E.oauthAccessToken)}catch(x){return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),ls=(()=>{class D extends Ii{constructor(){super("google.com"),this.addScope("profile")}static credential(E,x){return Ki._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:E,accessToken:x})}static credentialFromResult(E){return D.credentialFromTaggedObject(E)}static credentialFromError(E){return D.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthIdToken:x,oauthAccessToken:U}=E;if(!x&&!U)return null;try{return D.credential(x,U)}catch(Y){return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),na=(()=>{class D extends Ii{constructor(){super("github.com")}static credential(E){return Ki._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return D.credentialFromTaggedObject(E)}static credentialFromError(E){return D.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return D.credential(E.oauthAccessToken)}catch(x){return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class Ui extends Tn{constructor(_,E){super(_,_),this.pendingToken=E}_getIdTokenResponse(_){return Dr(_,this.buildRequest())}_linkToIdToken(_,E){const x=this.buildRequest();return x.idToken=E,Dr(_,x)}_getReauthenticationResolver(_){const E=this.buildRequest();return E.autoCreate=!1,Dr(_,E)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const E="string"==typeof _?JSON.parse(_):_,{providerId:x,signInMethod:U,pendingToken:Y}=E;return x&&U&&Y&&x===U?new Ui(x,Y):null}static _create(_,E){return new Ui(_,E)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class mo extends Bi{constructor(_){Te(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return mo.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return mo.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const E=Ui.fromJSON(_);return Te(E,"argument-error"),E}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:E,providerId:x}=_;if(!E||!x)return null;try{return Ui._create(x,E)}catch(U){return null}}}let ra=(()=>{class D extends Ii{constructor(){super("twitter.com")}static credential(E,x){return Ki._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:E,oauthTokenSecret:x})}static credentialFromResult(E){return D.credentialFromTaggedObject(E)}static credentialFromError(E){return D.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthAccessToken:x,oauthTokenSecret:U}=E;if(!x||!U)return null;try{return D.credential(x,U)}catch(Y){return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function Bo(D,_){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,u.Z)(function*(D,_){return Ze(D,"POST","/v1/accounts:signUp",Ae(D,_))})).apply(this,arguments)}class Lr{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,E,x,U=!1){return(0,u.Z)(function*(){const Y=yield Pe._fromIdTokenResponse(_,x,U),Le=ml(x);return new Lr({user:Y,providerId:Le,_tokenResponse:x,operationType:E})})()}static _forOperation(_,E,x){return(0,u.Z)(function*(){yield _._updateTokensIfNecessary(x,!0);const U=ml(x);return new Lr({user:_,providerId:U,_tokenResponse:x,operationType:E})})()}}function ml(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function ou(D){return uc.apply(this,arguments)}function uc(){return(uc=(0,u.Z)(function*(D){var _;const E=Et(D);if(yield E._initializationPromise,null===(_=E.currentUser)||void 0===_?void 0:_.isAnonymous)return new Lr({user:E.currentUser,providerId:null,operationType:"signIn"});const x=yield Bo(E,{returnSecureToken:!0}),U=yield Lr._fromIdTokenResponse(E,"signIn",x,!0);return yield E._updateCurrentUser(U.user),U})).apply(this,arguments)}class ia extends O.ZR{constructor(_,E,x,U){var Y;super(E.code,E.message),this.operationType=x,this.user=U,Object.setPrototypeOf(this,ia.prototype),this.customData={appName:_.name,tenantId:null!==(Y=_.tenantId)&&void 0!==Y?Y:void 0,_serverResponse:E.customData._serverResponse,operationType:x}}static _fromErrorAndOperation(_,E,x,U){return new ia(_,E,x,U)}}function Ms(D,_,E,x){return("reauthenticate"===_?E._getReauthenticationResolver(D):E._getIdTokenResponse(D)).catch(Y=>{throw"auth/multi-factor-auth-required"===Y.code?ia._fromErrorAndOperation(D,Y,_,x):Y})}function Yi(D){return new Set(D.map(({providerId:_})=>_).filter(_=>!!_))}function us(D,_){return cc.apply(this,arguments)}function cc(){return(cc=(0,u.Z)(function*(D,_){const E=(0,O.m9)(D);yield vo(!0,E,_);const{providerUserInfo:x}=yield Jt(E.auth,{idToken:yield E.getIdToken(),deleteProvider:[_]}),U=Yi(x||[]);return E.providerData=E.providerData.filter(Y=>U.has(Y.providerId)),U.has("phone")||(E.phoneNumber=null),yield E.auth._persistUserIfCurrent(E),E})).apply(this,arguments)}function cr(D,_){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,u.Z)(function*(D,_,E=!1){const x=yield Rt(D,_._linkToIdToken(D.auth,yield D.getIdToken()),E);return Lr._forOperation(D,"link",x)})).apply(this,arguments)}function vo(D,_,E){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,u.Z)(function*(D,_,E){yield tr(_);const U=!1===D?"provider-already-linked":"no-such-provider";Te(Yi(_.providerData).has(E)===D,_.auth,U)})).apply(this,arguments)}function oa(D,_){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,u.Z)(function*(D,_,E=!1){const{auth:x}=D,U="reauthenticate";try{const Y=yield Rt(D,Ms(x,U,_,D),E);Te(Y.idToken,x,"internal-error");const Le=un(Y.idToken);Te(Le,x,"internal-error");const{sub:ft}=Le;return Te(D.uid===ft,x,"user-mismatch"),Lr._forOperation(D,U,Y)}catch(Y){throw"auth/user-not-found"===(null==Y?void 0:Y.code)&&Ye(x,"user-mismatch"),Y}})).apply(this,arguments)}function cs(D,_){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,u.Z)(function*(D,_,E=!1){const x="signIn",U=yield Ms(D,x,_),Y=yield Lr._fromIdTokenResponse(D,x,U);return E||(yield D._updateCurrentUser(Y.user)),Y})).apply(this,arguments)}function Uo(D,_){return sa.apply(this,arguments)}function sa(){return(sa=(0,u.Z)(function*(D,_){return cs(Et(D),_)})).apply(this,arguments)}function K(D,_){return $.apply(this,arguments)}function $(){return($=(0,u.Z)(function*(D,_){const E=(0,O.m9)(D);return yield vo(!1,E,_.providerId),cr(E,_)})).apply(this,arguments)}function we(D,_){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,u.Z)(function*(D,_){return oa((0,O.m9)(D),_)})).apply(this,arguments)}function _t(D,_){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,u.Z)(function*(D,_){return Ze(D,"POST","/v1/accounts:signInWithCustomToken",Ae(D,_))})).apply(this,arguments)}function cn(D,_){return rr.apply(this,arguments)}function rr(){return(rr=(0,u.Z)(function*(D,_){const E=Et(D),x=yield _t(E,{token:_,returnSecureToken:!0}),U=yield Lr._fromIdTokenResponse(E,"signIn",x);return yield E._updateCurrentUser(U.user),U})).apply(this,arguments)}class Gt{constructor(_,E){this.factorId=_,this.uid=E.mfaEnrollmentId,this.enrollmentTime=new Date(E.enrolledAt).toUTCString(),this.displayName=E.displayName}static _fromServerResponse(_,E){return"phoneInfo"in E?ir._fromServerResponse(_,E):Ye(_,"internal-error")}}class ir extends Gt{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,E){return new ir(E)}}function lr(D,_,E){var x;Te((null===(x=E.url)||void 0===x?void 0:x.length)>0,D,"invalid-continue-uri"),Te(void 0===E.dynamicLinkDomain||E.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),_.continueUrl=E.url,_.dynamicLinkDomain=E.dynamicLinkDomain,_.canHandleCodeInApp=E.handleCodeInApp,E.iOS&&(Te(E.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),_.iOSBundleId=E.iOS.bundleId),E.android&&(Te(E.android.packageName.length>0,D,"missing-android-pkg-name"),_.androidInstallApp=E.android.installApp,_.androidMinimumVersionCode=E.android.minimumVersion,_.androidPackageName=E.android.packageName)}function Pn(D,_,E){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,u.Z)(function*(D,_,E){const x=(0,O.m9)(D),U={requestType:"PASSWORD_RESET",email:_};E&&lr(x,U,E),yield Ra(x,U)})).apply(this,arguments)}function yo(D,_,E){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,u.Z)(function*(D,_,E){yield dr((0,O.m9)(D),{oobCode:_,newPassword:E})})).apply(this,arguments)}function Oa(D,_){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,u.Z)(function*(D,_){yield vi((0,O.m9)(D),{oobCode:_})})).apply(this,arguments)}function st(D,_){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,u.Z)(function*(D,_){const E=(0,O.m9)(D),x=yield dr(E,{oobCode:_}),U=x.requestType;switch(Te(U,E,"internal-error"),U){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Te(x.newEmail,E,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Te(x.mfaInfo,E,"internal-error");default:Te(x.email,E,"internal-error")}let Y=null;return x.mfaInfo&&(Y=Gt._fromServerResponse(Et(E),x.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.newEmail:x.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.email:x.newEmail)||null,multiFactorInfo:Y},operation:U}})).apply(this,arguments)}function ds(D,_){return Er.apply(this,arguments)}function Er(){return(Er=(0,u.Z)(function*(D,_){const{data:E}=yield st((0,O.m9)(D),_);return E.email})).apply(this,arguments)}function Dd(D,_,E){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,u.Z)(function*(D,_,E){const x=Et(D),U=yield Bo(x,{returnSecureToken:!0,email:_,password:E}),Y=yield Lr._fromIdTokenResponse(x,"signIn",U);return yield x._updateCurrentUser(Y.user),Y})).apply(this,arguments)}function jo(D,_,E){return Uo((0,O.m9)(D),xs.credential(_,E))}function dc(D,_,E){return vl.apply(this,arguments)}function vl(){return(vl=(0,u.Z)(function*(D,_,E){const x=(0,O.m9)(D),U={requestType:"EMAIL_SIGNIN",email:_};Te(E.handleCodeInApp,x,"argument-error"),E&&lr(x,U,E),yield ai(x,U)})).apply(this,arguments)}function Td(D,_){const E=Vi.parseLink(_);return"EMAIL_SIGNIN"===(null==E?void 0:E.operation)}function Id(D,_,E){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,u.Z)(function*(D,_,E){const x=(0,O.m9)(D),U=xs.credentialWithLink(_,E||Ne());return Te(U._tenantId===(x.tenantId||null),x,"tenant-id-mismatch"),Uo(x,U)})).apply(this,arguments)}function Fa(D,_){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,u.Z)(function*(D,_){return _e(D,"POST","/v1/accounts:createAuthUri",Ae(D,_))})).apply(this,arguments)}function _o(D,_){return La.apply(this,arguments)}function La(){return(La=(0,u.Z)(function*(D,_){const x={identifier:_,continueUri:Wt()?Ne():"http://localhost"},{signinMethods:U}=yield Fa((0,O.m9)(D),x);return U||[]})).apply(this,arguments)}function aa(D,_){return bo.apply(this,arguments)}function bo(){return(bo=(0,u.Z)(function*(D,_){const E=(0,O.m9)(D),U={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};_&&lr(E.auth,U,_);const{email:Y}=yield fr(E.auth,U);Y!==D.email&&(yield D.reload())})).apply(this,arguments)}function yh(D,_,E){return yl.apply(this,arguments)}function yl(){return(yl=(0,u.Z)(function*(D,_,E){const x=(0,O.m9)(D),Y={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:_};E&&lr(x.auth,Y,E);const{email:Le}=yield Js(x.auth,Y);Le!==D.email&&(yield D.reload())})).apply(this,arguments)}function _h(D,_){return su.apply(this,arguments)}function su(){return(su=(0,u.Z)(function*(D,_){return _e(D,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function _l(D,_){return au.apply(this,arguments)}function au(){return(au=(0,u.Z)(function*(D,{displayName:_,photoURL:E}){if(void 0===_&&void 0===E)return;const x=(0,O.m9)(D),Y={idToken:yield x.getIdToken(),displayName:_,photoUrl:E,returnSecureToken:!0},Le=yield Rt(x,_h(x.auth,Y));x.displayName=Le.displayName||null,x.photoURL=Le.photoUrl||null;const ft=x.providerData.find(({providerId:zt})=>"password"===zt);ft&&(ft.displayName=x.displayName,ft.photoURL=x.photoURL),yield x._updateTokensIfNecessary(Le)})).apply(this,arguments)}function xd(D,_){return bl((0,O.m9)(D),_,null)}function Md(D,_){return bl((0,O.m9)(D),null,_)}function bl(D,_,E){return lu.apply(this,arguments)}function lu(){return(lu=(0,u.Z)(function*(D,_,E){const{auth:x}=D,Y={idToken:yield D.getIdToken(),returnSecureToken:!0};_&&(Y.email=_),E&&(Y.password=E);const Le=yield Rt(D,tn(x,Y));yield D._updateTokensIfNecessary(Le,!0)})).apply(this,arguments)}class ks{constructor(_,E,x={}){this.isNewUser=_,this.providerId=E,this.profile=x}}class El extends ks{constructor(_,E,x,U){super(_,E,x),this.username=U}}class Rd extends ks{constructor(_,E){super(_,"facebook.com",E)}}class fc extends El{constructor(_,E){super(_,"github.com",E,"string"==typeof(null==E?void 0:E.login)?null==E?void 0:E.login:null)}}class Eo extends ks{constructor(_,E){super(_,"google.com",E)}}class bh extends El{constructor(_,E,x){super(_,"twitter.com",E,x)}}function Eh(D){const{user:_,_tokenResponse:E}=D;return _.isAnonymous&&!E?{providerId:null,isNewUser:!1,profile:null}:function Vr(D){var _,E;if(!D)return null;const{providerId:x}=D,U=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},Y=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!x&&(null==D?void 0:D.idToken)){const Le=null===(E=null===(_=un(D.idToken))||void 0===_?void 0:_.firebase)||void 0===E?void 0:E.sign_in_provider;if(Le)return new ks(Y,"anonymous"!==Le&&"custom"!==Le?Le:null)}if(!x)return null;switch(x){case"facebook.com":return new Rd(Y,U);case"github.com":return new fc(Y,U);case"google.com":return new Eo(Y,U);case"twitter.com":return new bh(Y,U,D.screenName||null);case"custom":case"anonymous":return new ks(Y,null);default:return new ks(Y,x,U)}}(E)}function kd(D){return(0,O.m9)(D).signOut()}class zo{constructor(_,E){this.type=_,this.credential=E}static _fromIdtoken(_){return new zo("enroll",_)}static _fromMfaPendingCredential(_){return new zo("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var E,x;if(null==_?void 0:_.multiFactorSession){if(null===(E=_.multiFactorSession)||void 0===E?void 0:E.pendingCredential)return zo._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null===(x=_.multiFactorSession)||void 0===x?void 0:x.idToken)return zo._fromIdtoken(_.multiFactorSession.idToken)}return null}}class Al{constructor(_,E,x){this.session=_,this.hints=E,this.signInResolver=x}static _fromError(_,E){const x=Et(_),U=E.customData._serverResponse,Y=(U.mfaInfo||[]).map(ft=>Gt._fromServerResponse(x,ft));Te(U.mfaPendingCredential,x,"internal-error");const Le=zo._fromMfaPendingCredential(U.mfaPendingCredential);return new Al(Le,Y,function(){var ft=(0,u.Z)(function*(zt){const nn=yield zt._process(x,Le);delete U.mfaInfo,delete U.mfaPendingCredential;const Ln=Object.assign(Object.assign({},U),{idToken:nn.idToken,refreshToken:nn.refreshToken});switch(E.operationType){case"signIn":const wr=yield Lr._fromIdTokenResponse(x,E.operationType,Ln);return yield x._updateCurrentUser(wr.user),wr;case"reauthenticate":return Te(E.user,x,"internal-error"),Lr._forOperation(E.user,E.operationType,Ln);default:Ye(x,"internal-error")}});return function(zt){return ft.apply(this,arguments)}}())}resolveSignIn(_){var E=this;return(0,u.Z)(function*(){return E.signInResolver(_)})()}}function uu(D,_){var E;const x=(0,O.m9)(D),U=_;return Te(_.customData.operationType,x,"argument-error"),Te(null===(E=U.customData._serverResponse)||void 0===E?void 0:E.mfaPendingCredential,x,"argument-error"),Al._fromError(x,U)}function hc(D,_){return _e(D,"POST","/v2/accounts/mfaEnrollment:start",Ae(D,_))}class fs{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(E=>{E.mfaInfo&&(this.enrolledFactors=E.mfaInfo.map(x=>Gt._fromServerResponse(_.auth,x)))})}static _fromUser(_){return new fs(_)}getSession(){var _=this;return(0,u.Z)(function*(){return zo._fromIdtoken(yield _.user.getIdToken())})()}enroll(_,E){var x=this;return(0,u.Z)(function*(){const U=_,Y=yield x.getSession(),Le=yield Rt(x.user,U._process(x.user.auth,Y,E));return yield x.user._updateTokensIfNecessary(Le),x.user.reload()})()}unenroll(_){var E=this;return(0,u.Z)(function*(){const x="string"==typeof _?_:_.uid,U=yield E.user.getIdToken(),Y=yield Rt(E.user,function Dh(D,_){return _e(D,"POST","/v2/accounts/mfaEnrollment:withdraw",Ae(D,_))}(E.user.auth,{idToken:U,mfaEnrollmentId:x}));E.enrolledFactors=E.enrolledFactors.filter(({uid:Le})=>Le!==x),yield E.user._updateTokensIfNecessary(Y);try{yield E.user.reload()}catch(Le){if("auth/user-token-expired"!==Le.code)throw Le}})()}}const Va=new WeakMap;function Th(D){const _=(0,O.m9)(D);return Va.has(_)||Va.set(_,fs._fromUser(_)),Va.get(_)}const wl="__sak";class Ba{constructor(_,E){this.storageRetriever=_,this.type=E}_isAvailable(){try{return this.storage?(this.storage.setItem(wl,"1"),this.storage.removeItem(wl),Promise.resolve(!0)):Promise.resolve(!1)}catch(_){return Promise.resolve(!1)}}_set(_,E){return this.storage.setItem(_,JSON.stringify(E)),Promise.resolve()}_get(_){const E=this.storage.getItem(_);return Promise.resolve(E?JSON.parse(E):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ih=(()=>{class D extends Ba{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(E,x)=>this.onStorageEvent(E,x),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function cu(){const D=(0,O.z$)();return he(D)||Lt(D)}()&&function si(){try{return!(!window||window===window.top)}catch(D){return!1}}(),this.fallbackToPolling=_r(),this._shouldAllowMigration=!0}forAllChangedKeys(E){for(const x of Object.keys(this.listeners)){const U=this.storage.getItem(x),Y=this.localCache[x];U!==Y&&E(x,Y,U)}}onStorageEvent(E,x=!1){if(!E.key)return void this.forAllChangedKeys((ft,zt,nn)=>{this.notifyListeners(ft,nn)});const U=E.key;if(x?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ft=this.storage.getItem(U);if(E.newValue!==ft)null!==E.newValue?this.storage.setItem(U,E.newValue):this.storage.removeItem(U);else if(this.localCache[U]===E.newValue&&!x)return}const Y=()=>{const ft=this.storage.getItem(U);!x&&this.localCache[U]===ft||this.notifyListeners(U,ft)},Le=this.storage.getItem(U);!function Mn(){return(0,O.w1)()&&10===document.documentMode}()||Le===E.newValue||E.newValue===E.oldValue?Y():setTimeout(Y,10)}notifyListeners(E,x){this.localCache[E]=x;const U=this.listeners[E];if(U)for(const Y of Array.from(U))Y(x&&JSON.parse(x))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((E,x,U)=>{this.onStorageEvent(new StorageEvent("storage",{key:E,oldValue:x,newValue:U}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(E,x){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[E]||(this.listeners[E]=new Set,this.localCache[E]=this.storage.getItem(E)),this.listeners[E].add(x)}_removeListener(E,x){this.listeners[E]&&(this.listeners[E].delete(x),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(E,x){var U=()=>super._set,Y=this;return(0,u.Z)(function*(){yield U().call(Y,E,x),Y.localCache[E]=JSON.stringify(x)})()}_get(E){var x=()=>super._get,U=this;return(0,u.Z)(function*(){const Y=yield x().call(U,E);return U.localCache[E]=JSON.stringify(Y),Y})()}_remove(E){var x=()=>super._remove,U=this;return(0,u.Z)(function*(){yield x().call(U,E),delete U.localCache[E]})()}}return D.type="LOCAL",D})(),du=(()=>{class D extends Ba{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(E,x){}_removeListener(E,x){}}return D.type="SESSION",D})();let la=(()=>{class D{constructor(E){this.eventTarget=E,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(E){const x=this.receivers.find(Y=>Y.isListeningto(E));if(x)return x;const U=new D(E);return this.receivers.push(U),U}isListeningto(E){return this.eventTarget===E}handleEvent(E){var x=this;return(0,u.Z)(function*(){const U=E,{eventId:Y,eventType:Le,data:ft}=U.data,zt=x.handlersMap[Le];if(!(null==zt?void 0:zt.size))return;U.ports[0].postMessage({status:"ack",eventId:Y,eventType:Le});const nn=Array.from(zt).map(function(){var wr=(0,u.Z)(function*(xi){return xi(U.origin,ft)});return function(xi){return wr.apply(this,arguments)}}()),Ln=yield function pc(D){return Promise.all(D.map(function(){var _=(0,u.Z)(function*(E){try{return{fulfilled:!0,value:yield E}}catch(x){return{fulfilled:!1,reason:x}}});return function(E){return _.apply(this,arguments)}}()))}(nn);U.ports[0].postMessage({status:"done",eventId:Y,eventType:Le,response:Ln})})()}_subscribe(E,x){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[E]||(this.handlersMap[E]=new Set),this.handlersMap[E].add(x)}_unsubscribe(E,x){this.handlersMap[E]&&x&&this.handlersMap[E].delete(x),(!x||0===this.handlersMap[E].size)&&delete this.handlersMap[E],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function hs(D="",_=10){let E="";for(let x=0;x<_;x++)E+=Math.floor(10*Math.random());return D+E}class Ua{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,E,x=50){var U=this;return(0,u.Z)(function*(){const Y="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!Y)throw new Error("connection_unavailable");let Le,ft;return new Promise((zt,nn)=>{const Ln=hs("",20);Y.port1.start();const wr=setTimeout(()=>{nn(new Error("unsupported_event"))},x);ft={messageChannel:Y,onMessage(xi){const To=xi;if(To.data.eventId===Ln)switch(To.data.status){case"ack":clearTimeout(wr),Le=setTimeout(()=>{nn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Le),zt(To.data.response);break;default:clearTimeout(wr),clearTimeout(Le),nn(new Error("invalid_response"))}}},U.handlers.add(ft),Y.port1.addEventListener("message",ft.onMessage),U.target.postMessage({eventType:_,eventId:Ln,data:E},[Y.port2])}).finally(()=>{ft&&U.removeMessageHandler(ft)})})()}}function or(){return window}function dn(){return void 0!==or().WorkerGlobalScope&&"function"==typeof or().importScripts}function ua(){return(ua=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(D){return null}})).apply(this,arguments)}const fu="firebaseLocalStorageDb",Ao="firebaseLocalStorage",ci="fbase_key";class ca{constructor(_){this.request=_}toPromise(){return new Promise((_,E)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{E(this.request.error)})})}}function Ns(D,_){return D.transaction([Ao],_?"readwrite":"readonly").objectStore(Ao)}function Ha(){const D=indexedDB.open(fu,1);return new Promise((_,E)=>{D.addEventListener("error",()=>{E(D.error)}),D.addEventListener("upgradeneeded",()=>{const x=D.result;try{x.createObjectStore(Ao,{keyPath:ci})}catch(U){E(U)}}),D.addEventListener("success",(0,u.Z)(function*(){const x=D.result;x.objectStoreNames.contains(Ao)?_(x):(x.close(),yield function hu(){const D=indexedDB.deleteDatabase(fu);return new ca(D).toPromise()}(),_(yield Ha()))}))})}function Od(D,_,E){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,u.Z)(function*(D,_,E){const x=Ns(D,!0).put({[ci]:_,value:E});return new ca(x).toPromise()})).apply(this,arguments)}function da(){return(da=(0,u.Z)(function*(D,_){const E=Ns(D,!1).get(_),x=yield new ca(E).toPromise();return void 0===x?null:x.value})).apply(this,arguments)}function Wr(D,_){const E=Ns(D,!0).delete(_);return new ca(E).toPromise()}const fa=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var E=this;return(0,u.Z)(function*(){return E.db||(E.db=yield Ha()),E.db})()}_withRetries(E){var x=this;return(0,u.Z)(function*(){let U=0;for(;;)try{const Y=yield x._openDb();return yield E(Y)}catch(Y){if(U++>3)throw Y;x.db&&(x.db.close(),x.db=void 0)}})()}initializeServiceWorkerMessaging(){var E=this;return(0,u.Z)(function*(){return dn()?E.initializeReceiver():E.initializeSender()})()}initializeReceiver(){var E=this;return(0,u.Z)(function*(){E.receiver=la._getInstance(function Tl(){return dn()?self:null}()),E.receiver._subscribe("keyChanged",function(){var x=(0,u.Z)(function*(U,Y){return{keyProcessed:(yield E._poll()).includes(Y.key)}});return function(U,Y){return x.apply(this,arguments)}}()),E.receiver._subscribe("ping",function(){var x=(0,u.Z)(function*(U,Y){return["keyChanged"]});return function(U,Y){return x.apply(this,arguments)}}())})()}initializeSender(){var E=this;return(0,u.Z)(function*(){var x,U;if(E.activeServiceWorker=yield function Dl(){return ua.apply(this,arguments)}(),!E.activeServiceWorker)return;E.sender=new Ua(E.activeServiceWorker);const Y=yield E.sender._send("ping",{},800);!Y||(null===(x=Y[0])||void 0===x?void 0:x.fulfilled)&&(null===(U=Y[0])||void 0===U?void 0:U.value.includes("keyChanged"))&&(E.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(E){var x=this;return(0,u.Z)(function*(){if(x.sender&&x.activeServiceWorker&&function Sh(){var D;return(null===(D=null==navigator?void 0:navigator.serviceWorker)||void 0===D?void 0:D.controller)||null}()===x.activeServiceWorker)try{yield x.sender._send("keyChanged",{key:E},x.serviceWorkerReceiverAvailable?800:50)}catch(U){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const E=yield Ha();return yield Od(E,wl,"1"),yield Wr(E,wl),!0}catch(E){}return!1})()}_withPendingWrite(E){var x=this;return(0,u.Z)(function*(){x.pendingWrites++;try{yield E()}finally{x.pendingWrites--}})()}_set(E,x){var U=this;return(0,u.Z)(function*(){return U._withPendingWrite((0,u.Z)(function*(){return yield U._withRetries(Y=>Od(Y,E,x)),U.localCache[E]=x,U.notifyServiceWorker(E)}))})()}_get(E){var x=this;return(0,u.Z)(function*(){const U=yield x._withRetries(Y=>function Wo(D,_){return da.apply(this,arguments)}(Y,E));return x.localCache[E]=U,U})()}_remove(E){var x=this;return(0,u.Z)(function*(){return x._withPendingWrite((0,u.Z)(function*(){return yield x._withRetries(U=>Wr(U,E)),delete x.localCache[E],x.notifyServiceWorker(E)}))})()}_poll(){var E=this;return(0,u.Z)(function*(){const x=yield E._withRetries(Le=>{const ft=Ns(Le,!1).getAll();return new ca(ft).toPromise()});if(!x)return[];if(0!==E.pendingWrites)return[];const U=[],Y=new Set;for(const{fbase_key:Le,value:ft}of x)Y.add(Le),JSON.stringify(E.localCache[Le])!==JSON.stringify(ft)&&(E.notifyListeners(Le,ft),U.push(Le));for(const Le of Object.keys(E.localCache))E.localCache[Le]&&!Y.has(Le)&&(E.notifyListeners(Le,null),U.push(Le));return U})()}notifyListeners(E,x){this.localCache[E]=x;const U=this.listeners[E];if(U)for(const Y of Array.from(U))Y(x)}startPolling(){var E=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return E._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(E,x){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[E]||(this.listeners[E]=new Set,this._get(E)),this.listeners[E].add(x)}_removeListener(E,x){this.listeners[E]&&(this.listeners[E].delete(x),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();function Fd(D,_){return _e(D,"POST","/v2/accounts/mfaSignIn:start",Ae(D,_))}function Xr(){return(Xr=(0,u.Z)(function*(D){return(yield _e(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Fs(D){return new Promise((_,E)=>{const x=document.createElement("script");x.setAttribute("src",D),x.onload=_,x.onerror=U=>{const Y=We("internal-error");Y.customData=U,E(Y)},x.type="text/javascript",x.charset="UTF-8",function gc(){var D,_;return null!==(_=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==_?_:document}().appendChild(x)})}function pr(D){return`__${D}${Math.floor(1e6*Math.random())}`}const ei=1e12;class mu{constructor(_){this.auth=_,this.counter=ei,this._widgets=new Map}render(_,E){const x=this.counter;return this._widgets.set(x,new Zo(_,this.auth.name,E||{})),this.counter++,x}reset(_){var E;const x=_||ei;null===(E=this._widgets.get(x))||void 0===E||E.delete(),this._widgets.delete(x)}getResponse(_){var E;return(null===(E=this._widgets.get(_||ei))||void 0===E?void 0:E.getResponse())||""}execute(_){var E=this;return(0,u.Z)(function*(){var x;return null===(x=E._widgets.get(_||ei))||void 0===x||x.execute(),""})()}}class Zo{constructor(_,E,x){this.params=x,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const U="string"==typeof _?document.getElementById(_):_;Te(U,"argument-error",{appName:E}),this.container=U,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ja(D){const _=[],E="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let x=0;x<D;x++)_.push(E.charAt(Math.floor(Math.random()*E.length)));return _.join("")}(50);const{callback:_,"expired-callback":E}=this.params;if(_)try{_(this.responseToken)}catch(x){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,E)try{E()}catch(x){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const mc=pr("rcb"),Ld=new Ut(3e4,6e4);class Vd{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!or().grecaptcha}load(_,E=""){return Te(function vu(D){return D.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D)}(E),_,"argument-error"),this.shouldResolveImmediately(E)?Promise.resolve(or().grecaptcha):new Promise((x,U)=>{const Y=or().setTimeout(()=>{U(We(_,"network-request-failed"))},Ld.get());or()[mc]=()=>{or().clearTimeout(Y),delete or()[mc];const ft=or().grecaptcha;if(!ft)return void U(We(_,"internal-error"));const zt=ft.render;ft.render=(nn,Ln)=>{const wr=zt(nn,Ln);return this.counter++,wr},this.hostLanguage=E,x(ft)},Fs(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:mc,render:"explicit",hl:E})}`).catch(()=>{clearTimeout(Y),U(We(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){return!!or().grecaptcha&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Mh{load(_){return(0,u.Z)(function*(){return new mu(_)})()}clearedOneInstance(){}}const gs="recaptcha",Bd={theme:"light",type:"image"};class yu{constructor(_,E=Object.assign({},Bd),x){this.parameters=E,this.type=gs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Et(x),this.isInvisible="invisible"===this.parameters.size,Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const U="string"==typeof _?document.getElementById(_):_;Te(U,this.auth,"argument-error"),this.container=U,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Mh:new Vd,this.validateStartingState()}verify(){var _=this;return(0,u.Z)(function*(){_.assertNotDestroyed();const E=yield _.render(),x=_.getAssertedRecaptcha();return x.getResponse(E)||new Promise(Y=>{const Le=ft=>{!ft||(_.tokenChangeListeners.delete(Le),Y(ft))};_.tokenChangeListeners.add(Le),_.isInvisible&&x.execute(E)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){Te(!this.parameters.sitekey,this.auth,"argument-error"),Te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return E=>{if(this.tokenChangeListeners.forEach(x=>x(E)),"function"==typeof _)_(E);else if("string"==typeof _){const x=or()[_];"function"==typeof x&&x(E)}}}assertNotDestroyed(){Te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,u.Z)(function*(){if(yield _.init(),!_.widgetId){let E=_.container;if(!_.isInvisible){const x=document.createElement("div");E.appendChild(x),E=x}_.widgetId=_.getAssertedRecaptcha().render(E,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,u.Z)(function*(){Te(Wt()&&!dn(),_.auth,"internal-error"),yield function vc(){let D=null;return new Promise(_=>{"complete"!==document.readyState?(D=()=>_(),window.addEventListener("load",D)):_()}).catch(_=>{throw D&&window.removeEventListener("load",D),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const E=yield function gu(D){return Xr.apply(this,arguments)}(_.auth);Te(E,_.auth,"internal-error"),_.parameters.sitekey=E})()}getAssertedRecaptcha(){return Te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class wo{constructor(_,E){this.verificationId=_,this.onConfirmation=E}confirm(_){const E=go._fromVerification(this.verificationId,_);return this.onConfirmation(E)}}function yc(D,_,E){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,u.Z)(function*(D,_,E){const x=Et(D),U=yield Si(x,_,(0,O.m9)(E));return new wo(U,Y=>Uo(x,Y))})).apply(this,arguments)}function Co(D,_,E){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,u.Z)(function*(D,_,E){const x=(0,O.m9)(D);yield vo(!1,x,"phone");const U=yield Si(x.auth,_,(0,O.m9)(E));return new wo(U,Y=>K(x,Y))})).apply(this,arguments)}function Ud(D,_,E){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,u.Z)(function*(D,_,E){const x=(0,O.m9)(D),U=yield Si(x.auth,_,(0,O.m9)(E));return new wo(U,Y=>we(x,Y))})).apply(this,arguments)}function Si(D,_,E){return ti.apply(this,arguments)}function ti(){return(ti=(0,u.Z)(function*(D,_,E){var x;const U=yield E.verify();try{let Y;if(Te("string"==typeof U,D,"argument-error"),Te(E.type===gs,D,"argument-error"),Y="string"==typeof _?{phoneNumber:_}:_,"session"in Y){const Le=Y.session;if("phoneNumber"in Y)return Te("enroll"===Le.type,D,"internal-error"),(yield hc(D,{idToken:Le.credential,phoneEnrollmentInfo:{phoneNumber:Y.phoneNumber,recaptchaToken:U}})).phoneSessionInfo.sessionInfo;{Te("signin"===Le.type,D,"internal-error");const ft=(null===(x=Y.multiFactorHint)||void 0===x?void 0:x.uid)||Y.multiFactorUid;return Te(ft,D,"missing-multi-factor-info"),(yield Fd(D,{mfaPendingCredential:Le.credential,mfaEnrollmentId:ft,phoneSignInInfo:{recaptchaToken:U}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Le}=yield ka(D,{phoneNumber:Y.phoneNumber,recaptchaToken:U});return Le}}finally{E._reset()}})).apply(this,arguments)}function jd(D,_){return ms.apply(this,arguments)}function ms(){return(ms=(0,u.Z)(function*(D,_){yield cr((0,O.m9)(D),_)})).apply(this,arguments)}let Ls=(()=>{class D{constructor(E){this.providerId=D.PROVIDER_ID,this.auth=Et(E)}verifyPhoneNumber(E,x){return Si(this.auth,E,(0,O.m9)(x))}static credential(E,x){return go._fromVerification(E,x)}static credentialFromResult(E){return D.credentialFromTaggedObject(E)}static credentialFromError(E){return D.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{phoneNumber:x,temporaryProof:U}=E;return x&&U?go._fromTokenResponse(x,U):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function vs(D,_){return _?Oe(_):(Te(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class Il extends Tn{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return Dr(_,this._buildIdpRequest())}_linkToIdToken(_,E){return Dr(_,this._buildIdpRequest(E))}_getReauthenticationResolver(_){return Dr(_,this._buildIdpRequest())}_buildIdpRequest(_){const E={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(E.idToken=_),E}}function Rh(D){return cs(D.auth,new Il(D),D.bypassAuthState)}function Jv(D){const{auth:_,user:E}=D;return Te(E,_,"internal-error"),oa(E,new Il(D),D.bypassAuthState)}function Xv(D){return _c.apply(this,arguments)}function _c(){return(_c=(0,u.Z)(function*(D){const{auth:_,user:E}=D;return Te(E,_,"internal-error"),cr(E,new Il(D),D.bypassAuthState)})).apply(this,arguments)}class ji{constructor(_,E,x,U,Y=!1){this.auth=_,this.resolver=x,this.user=U,this.bypassAuthState=Y,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(E)?E:[E]}execute(){var _=this;return new Promise(function(){var E=(0,u.Z)(function*(x,U){_.pendingPromise={resolve:x,reject:U};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(Y){_.reject(Y)}});return function(x,U){return E.apply(this,arguments)}}())}onAuthEvent(_){var E=this;return(0,u.Z)(function*(){const{urlResponse:x,sessionId:U,postBody:Y,tenantId:Le,error:ft,type:zt}=_;if(ft)return void E.reject(ft);const nn={auth:E.auth,requestUri:x,sessionId:U,tenantId:Le||void 0,postBody:Y||void 0,user:E.user,bypassAuthState:E.bypassAuthState};try{E.resolve(yield E.getIdpTask(zt)(nn))}catch(Ln){E.reject(Ln)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return Rh;case"linkViaPopup":case"linkViaRedirect":return Xv;case"reauthViaPopup":case"reauthViaRedirect":return Jv;default:Ye(this.auth,"internal-error")}}resolve(_){fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bc=new Ut(2e3,1e4);function Ga(D,_,E){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,u.Z)(function*(D,_,E){const x=Et(D);ze(D,_,Bi);const U=vs(x,E);return new za(x,"signInViaPopup",_,U).executeNotNull()})).apply(this,arguments)}function _u(D,_,E){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,u.Z)(function*(D,_,E){const x=(0,O.m9)(D);ze(x.auth,_,Bi);const U=vs(x.auth,E);return new za(x.auth,"reauthViaPopup",_,U,x).executeNotNull()})).apply(this,arguments)}function Ac(D,_,E){return wc.apply(this,arguments)}function wc(){return(wc=(0,u.Z)(function*(D,_,E){const x=(0,O.m9)(D);ze(x.auth,_,Bi);const U=vs(x.auth,E);return new za(x.auth,"linkViaPopup",_,U,x).executeNotNull()})).apply(this,arguments)}let za=(()=>{class D extends ji{constructor(E,x,U,Y,Le){super(E,x,Y,Le),this.provider=U,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var E=this;return(0,u.Z)(function*(){const x=yield E.execute();return Te(x,E.auth,"internal-error"),x})()}onExecution(){var E=this;return(0,u.Z)(function*(){fe(1===E.filter.length,"Popup operations only handle one event");const x=hs();E.authWindow=yield E.resolver._openPopup(E.auth,E.provider,E.filter[0],x),E.authWindow.associatedEvent=x,E.resolver._originValidation(E.auth).catch(U=>{E.reject(U)}),E.resolver._isIframeWebStorageSupported(E.auth,U=>{U||E.reject(We(E.auth,"web-storage-unsupported"))}),E.pollUserCancellation()})()}get eventId(){var E;return(null===(E=this.authWindow)||void 0===E?void 0:E.associatedEvent)||null}cancel(){this.reject(We(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const E=()=>{var x,U;this.pollId=(null===(U=null===(x=this.authWindow)||void 0===x?void 0:x.window)||void 0===U?void 0:U.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(We(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(E,bc.get())};E()}}return D.currentPopupAction=null,D})();const ys=new Map;class pa extends ji{constructor(_,E,x=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],E,void 0,x),this.eventId=null}execute(){var _=()=>super.execute,E=this;return(0,u.Z)(function*(){let x=ys.get(E.auth._key());if(!x){try{const Y=(yield function bu(D,_){return Eu.apply(this,arguments)}(E.resolver,E.auth))?yield _().call(E):null;x=()=>Promise.resolve(Y)}catch(U){x=()=>Promise.reject(U)}ys.set(E.auth._key(),x)}return E.bypassAuthState||ys.set(E.auth._key(),()=>Promise.resolve(null)),x()})()}onAuthEvent(_){var E=()=>super.onAuthEvent,x=this;return(0,u.Z)(function*(){if("signInViaRedirect"===_.type)return E().call(x,_);if("unknown"!==_.type){if(_.eventId){const U=yield x.auth._redirectUserForId(_.eventId);if(U)return x.user=U,E().call(x,_);x.resolve(null)}}else x.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Eu(){return(Eu=(0,u.Z)(function*(D,_){const E=Tc(_),x=Dc(D);if(!(yield x._isAvailable()))return!1;const U="true"===(yield x._get(E));return yield x._remove(E),U})).apply(this,arguments)}function $o(D,_){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,u.Z)(function*(D,_){return Dc(D)._set(Tc(_),"true")})).apply(this,arguments)}function Au(){ys.clear()}function Cc(D,_){ys.set(D._key(),_)}function Dc(D){return Oe(D._redirectPersistence)}function Tc(D){return lt("pendingRedirect",D.config.apiKey,D.name)}function zd(D,_,E){return function kg(D,_,E){return ga.apply(this,arguments)}(D,_,E)}function ga(){return(ga=(0,u.Z)(function*(D,_,E){const x=Et(D);ze(D,_,Bi);const U=vs(x,E);return yield $o(U,x),U._openRedirect(x,_,"signInViaRedirect")})).apply(this,arguments)}function Ic(D,_,E){return function Ng(D,_,E){return Ir.apply(this,arguments)}(D,_,E)}function Ir(){return(Ir=(0,u.Z)(function*(D,_,E){const x=(0,O.m9)(D);ze(x.auth,_,Bi);const U=vs(x.auth,E);yield $o(U,x.auth);const Y=yield _s(x);return U._openRedirect(x.auth,_,"reauthViaRedirect",Y)})).apply(this,arguments)}function qd(D,_,E){return function Wd(D,_,E){return ma.apply(this,arguments)}(D,_,E)}function ma(){return(ma=(0,u.Z)(function*(D,_,E){const x=(0,O.m9)(D);ze(x.auth,_,Bi);const U=vs(x.auth,E);yield vo(!1,x,_.providerId),yield $o(U,x.auth);const Y=yield _s(x);return U._openRedirect(x.auth,_,"linkViaRedirect",Y)})).apply(this,arguments)}function va(D,_){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,u.Z)(function*(D,_){return yield Et(D)._initializationPromise,Za(D,_,!1)})).apply(this,arguments)}function Za(D,_){return ya.apply(this,arguments)}function ya(){return(ya=(0,u.Z)(function*(D,_,E=!1){const x=Et(D),U=vs(x,_),Le=yield new pa(x,U,E).execute();return Le&&!E&&(delete Le.user._redirectEventId,yield x._persistUserIfCurrent(Le.user),yield x._setRedirectUser(null,_)),Le})).apply(this,arguments)}function _s(D){return eo.apply(this,arguments)}function eo(){return(eo=(0,u.Z)(function*(D){const _=hs(`${D.uid}:::`);return D._redirectEventId=_,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),_})).apply(this,arguments)}class Ka{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let E=!1;return this.consumers.forEach(x=>{this.isEventForConsumer(_,x)&&(E=!0,this.sendToConsumer(_,x),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function Sl(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cu(D);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,E||(this.queuedRedirectEvent=_,E=!0)),E}sendToConsumer(_,E){var x;if(_.error&&!Cu(_)){const U=(null===(x=_.error.code)||void 0===x?void 0:x.split("auth/")[1])||"internal-error";E.onError(We(this.auth,U))}else E.onAuthEvent(_)}isEventForConsumer(_,E){const x=null===E.eventId||!!_.eventId&&_.eventId===E.eventId;return E.filter.includes(_.type)&&x}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(wu(_))}saveEventToCache(_){this.cachedEventUids.add(wu(_)),this.lastProcessedEventTime=Date.now()}}function wu(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(_=>_).join("-")}function Cu({type:D,error:_}){return"unknown"===D&&"auth/no-auth-event"===(null==_?void 0:_.code)}function Ya(D){return _a.apply(this,arguments)}function _a(){return(_a=(0,u.Z)(function*(D,_={}){return _e(D,"GET","/v1/projects",_)})).apply(this,arguments)}const $d=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Du=/^https?/;function Vs(){return(Vs=(0,u.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:_}=yield Ya(D);for(const E of _)try{if(Sc(E))return}catch(x){}Ye(D,"unauthorized-domain")})).apply(this,arguments)}function Sc(D){const _=Ne(),{protocol:E,hostname:x}=new URL(_);if(D.startsWith("chrome-extension://")){const Le=new URL(D);return""===Le.hostname&&""===x?"chrome-extension:"===E&&D.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===E&&Le.hostname===x}if(!Du.test(E))return!1;if($d.test(D))return x===D;const U=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+U+"|"+U+")$","i").test(x)}const kh=new Ut(3e4,6e4);function xl(){const D=or().___jsl;if(null==D?void 0:D.H)for(const _ of Object.keys(D.H))if(D.H[_].r=D.H[_].r||[],D.H[_].L=D.H[_].L||[],D.H[_].r=[...D.H[_].L],D.CP)for(let E=0;E<D.CP.length;E++)D.CP[E]=null}let Ml=null;function Nh(D){return Ml=Ml||function Tu(D){return new Promise((_,E)=>{var x,U,Y;function Le(){xl(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{xl(),E(We(D,"network-request-failed"))},timeout:kh.get()})}if(null===(U=null===(x=or().gapi)||void 0===x?void 0:x.iframes)||void 0===U?void 0:U.Iframe)_(gapi.iframes.getContext());else{if(!(null===(Y=or().gapi)||void 0===Y?void 0:Y.load)){const ft=pr("iframefcb");return or()[ft]=()=>{gapi.load?Le():E(We(D,"network-request-failed"))},Fs(`https://apis.google.com/js/api.js?onload=${ft}`).catch(zt=>E(zt))}Le()}}).catch(_=>{throw Ml=null,_})}(D),Ml}const Ph=new Ut(5e3,15e3),Iu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Rl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pg(D){const _=D.config;Te(_.authDomain,D,"auth-domain-config-required");const E=_.emulator?Wn(_,"emulator/auth/iframe"):`https://${D.config.authDomain}/__/auth/iframe`,x={apiKey:_.apiKey,appName:D.name,v:k.SDK_VERSION},U=Rl.get(D.config.apiHost);U&&(x.eid=U);const Y=D._getFrameworks();return Y.length&&(x.fw=Y.join(",")),`${E}?${(0,O.xO)(x).slice(1)}`}function Oh(){return Oh=(0,u.Z)(function*(D){const _=yield Nh(D),E=or().gapi;return Te(E,D,"internal-error"),_.open({where:document.body,url:Pg(D),messageHandlersFilter:E.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Iu,dontclear:!0},x=>new Promise(function(){var U=(0,u.Z)(function*(Y,Le){yield x.restyle({setHideOnLeave:!1});const ft=We(D,"network-request-failed"),zt=or().setTimeout(()=>{Le(ft)},Ph.get());function nn(){or().clearTimeout(zt),Y(x)}x.ping(nn).then(nn,()=>{Le(ft)})});return function(Y,Le){return U.apply(this,arguments)}}()))}),Oh.apply(this,arguments)}const Su={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Us{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(_){}}}function Mu(D,_,E,x,U,Y){Te(D.config.authDomain,D,"auth-domain-config-required"),Te(D.config.apiKey,D,"invalid-api-key");const Le={apiKey:D.config.apiKey,appName:D.name,authType:E,redirectUrl:x,v:k.SDK_VERSION,eventId:U};if(_ instanceof Bi){_.setDefaultLanguage(D.languageCode),Le.providerId=_.providerId||"",(0,O.xb)(_.getCustomParameters())||(Le.customParameters=JSON.stringify(_.getCustomParameters()));for(const[zt,nn]of Object.entries(Y||{}))Le[zt]=nn}if(_ instanceof Ii){const zt=_.getScopes().filter(nn=>""!==nn);zt.length>0&&(Le.scopes=zt.join(","))}D.tenantId&&(Le.tid=D.tenantId);const ft=Le;for(const zt of Object.keys(ft))void 0===ft[zt]&&delete ft[zt];return`${function Ko({config:D}){return D.emulator?Wn(D,"emulator/auth/handler"):`https://${D.authDomain}/__/auth/handler`}(D)}?${(0,O.xO)(ft).slice(1)}`}const Do="webStorageSupport",Nl=class Ru{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=du,this._completeRedirectFn=Za,this._overrideRedirectResult=Cc}_openPopup(_,E,x,U){var Y=this;return(0,u.Z)(function*(){var Le;fe(null===(Le=Y.eventManagers[_._key()])||void 0===Le?void 0:Le.manager,"_initialize() not called before _openPopup()");const ft=Mu(_,E,x,Ne(),U);return function Fh(D,_,E,x=500,U=600){const Y=Math.max((window.screen.availHeight-U)/2,0).toString(),Le=Math.max((window.screen.availWidth-x)/2,0).toString();let ft="";const zt=Object.assign(Object.assign({},Su),{width:x.toString(),height:U.toString(),top:Y,left:Le}),nn=(0,O.z$)().toLowerCase();E&&(ft=et(nn)?"_blank":E),pe(nn)&&(_=_||"http://localhost",zt.scrollbars="yes");const Ln=Object.entries(zt).reduce((xi,[To,Hs])=>`${xi}${To}=${Hs},`,"");if(function kr(D=(0,O.z$)()){var _;return Lt(D)&&!!(null===(_=window.navigator)||void 0===_?void 0:_.standalone)}(nn)&&"_self"!==ft)return function kl(D,_){const E=document.createElement("a");E.href=D,E.target=_;const x=document.createEvent("MouseEvent");x.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),E.dispatchEvent(x)}(_||"",ft),new Us(null);const wr=window.open(_||"",ft,Ln);Te(wr,D,"popup-blocked");try{wr.focus()}catch(xi){}return new Us(wr)}(_,ft,hs())})()}_openRedirect(_,E,x,U){var Y=this;return(0,u.Z)(function*(){return yield Y._originValidation(_),function _i(D){or().location.href=D}(Mu(_,E,x,Ne(),U)),new Promise(()=>{})})()}_initialize(_){const E=_._key();if(this.eventManagers[E]){const{manager:U,promise:Y}=this.eventManagers[E];return U?Promise.resolve(U):(fe(Y,"If manager is not set, promise should be"),Y)}const x=this.initAndGetManager(_);return this.eventManagers[E]={promise:x},x.catch(()=>{delete this.eventManagers[E]}),x}initAndGetManager(_){var E=this;return(0,u.Z)(function*(){const x=yield function Og(D){return Oh.apply(this,arguments)}(_),U=new Ka(_);return x.register("authEvent",Y=>(Te(null==Y?void 0:Y.authEvent,_,"invalid-auth-event"),{status:U.onEvent(Y.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),E.eventManagers[_._key()]={manager:U},E.iframes[_._key()]=x,U})()}_isIframeWebStorageSupported(_,E){this.iframes[_._key()].send(Do,{type:Do},U=>{var Y;const Le=null===(Y=null==U?void 0:U[0])||void 0===Y?void 0:Y[Do];void 0!==Le&&E(!!Le),Ye(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const E=_._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function Qa(D){return Vs.apply(this,arguments)}(_)),this.originValidationPromises[E]}get _shouldInitProactively(){return _r()||he()||Lt()}};class Mc extends class ku{constructor(_){this.factorId=_}_process(_,E,x){switch(E.type){case"enroll":return this._finalizeEnroll(_,E.credential,x);case"signin":return this._finalizeSignIn(_,E.credential);default:return Re("unexpected MultiFactorSessionType")}}}{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new Mc(_)}_finalizeEnroll(_,E,x){return function Ch(D,_){return _e(D,"POST","/v2/accounts/mfaEnrollment:finalize",Ae(D,_))}(_,{idToken:E,displayName:x,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,E){return function Os(D,_){return _e(D,"POST","/v2/accounts/mfaSignIn:finalize",Ae(D,_))}(_,{mfaPendingCredential:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Qd=(()=>{class D{constructor(){}static assertion(E){return Mc._fromCredential(E)}}return D.FACTOR_ID="phone",D})();var Nu="@firebase/auth";class Lh{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var E=this;return(0,u.Z)(function*(){return E.assertAuthConfigured(),yield E.auth._initializationPromise,E.auth.currentUser?{accessToken:yield E.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const E=this.auth.onIdTokenChanged(x=>{var U;_((null===(U=x)||void 0===U?void 0:U.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,E),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const E=this.internalListeners.get(_);!E||(this.internalListeners.delete(_),E(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function kc(D=(0,k.getApp)()){const _=(0,k._getProvider)(D,"auth");return _.isInitialized()?_.getImmediate():function Be(D,_){const E=(0,k._getProvider)(D,"auth");if(E.isInitialized()){const U=E.getImmediate(),Y=E.getOptions();if((0,O.vZ)(Y,null!=_?_:{}))return U;Ye(U,"already-initialized")}return E.initialize({options:_})}(D,{popupRedirectResolver:Nl,persistence:[fa,Ih,du]})}!function Vh(D){(0,k._registerComponent)(new Ce.wA("auth",(_,{options:E})=>{const x=_.getProvider("app").getImmediate(),U=_.getProvider("heartbeat"),{apiKey:Y,authDomain:Le}=x.options;return((ft,zt)=>{Te(Y&&!Y.includes(":"),"invalid-api-key",{appName:ft.name}),Te(!(null==Le?void 0:Le.includes(":")),"argument-error",{appName:ft.name});const nn={apiKey:Y,authDomain:Le,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xr(D)},Ln=new Kr(ft,zt,nn);return function Xe(D,_){const E=(null==_?void 0:_.persistence)||[],x=(Array.isArray(E)?E:[E]).map(Oe);(null==_?void 0:_.errorMap)&&D._updateErrorMap(_.errorMap),D._initializeWithPersistence(x,null==_?void 0:_.popupRedirectResolver)}(Ln,E),Ln})(x,U)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,E,x)=>{_.getProvider("auth-internal").initialize()})),(0,k._registerComponent)(new Ce.wA("auth-internal",_=>{const E=Et(_.getProvider("auth").getImmediate());return new Lh(E)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,k.registerVersion)(Nu,"0.20.1",function Rc(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,k.registerVersion)(Nu,"0.20.1","esm2017")}("Browser")},2090:(kt,qe,z)=>{"use strict";z.d(qe,{$s:()=>bn,BH:()=>F,G6:()=>Te,L:()=>Me,LL:()=>Ne,Mn:()=>ze,Sg:()=>H,UG:()=>ce,US:()=>Ce,ZB:()=>de,ZR:()=>Xe,b$:()=>Ye,d:()=>We,eu:()=>fe,hl:()=>Re,jU:()=>se,m9:()=>Dn,ne:()=>$e,pd:()=>vn,r3:()=>Ae,ru:()=>je,tV:()=>De,uI:()=>me,vZ:()=>Ct,w1:()=>Qe,xO:()=>Ot,xb:()=>Ve,z$:()=>oe,zI:()=>xe,zd:()=>on});const G=function(ue){const ve=[];let B=0;for(let J=0;J<ue.length;J++){let W=ue.charCodeAt(J);W<128?ve[B++]=W:W<2048?(ve[B++]=W>>6|192,ve[B++]=63&W|128):55296==(64512&W)&&J+1<ue.length&&56320==(64512&ue.charCodeAt(J+1))?(W=65536+((1023&W)<<10)+(1023&ue.charCodeAt(++J)),ve[B++]=W>>18|240,ve[B++]=W>>12&63|128,ve[B++]=W>>6&63|128,ve[B++]=63&W|128):(ve[B++]=W>>12|224,ve[B++]=W>>6&63|128,ve[B++]=63&W|128)}return ve},Ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ue,ve){if(!Array.isArray(ue))throw Error("encodeByteArray takes an array as a parameter");this.init_();const B=ve?this.byteToCharMapWebSafe_:this.byteToCharMap_,J=[];for(let W=0;W<ue.length;W+=3){const le=ue[W],ae=W+1<ue.length,ge=ae?ue[W+1]:0,Pe=W+2<ue.length,it=Pe?ue[W+2]:0;let qt=(15&ge)<<2|it>>6,Ie=63&it;Pe||(Ie=64,ae||(qt=64)),J.push(B[le>>2],B[(3&le)<<4|ge>>4],B[qt],B[Ie])}return J.join("")},encodeString(ue,ve){return this.HAS_NATIVE_SUPPORT&&!ve?btoa(ue):this.encodeByteArray(G(ue),ve)},decodeString(ue,ve){return this.HAS_NATIVE_SUPPORT&&!ve?atob(ue):function(ue){const ve=[];let B=0,J=0;for(;B<ue.length;){const W=ue[B++];if(W<128)ve[J++]=String.fromCharCode(W);else if(W>191&&W<224){const le=ue[B++];ve[J++]=String.fromCharCode((31&W)<<6|63&le)}else if(W>239&&W<365){const Pe=((7&W)<<18|(63&ue[B++])<<12|(63&ue[B++])<<6|63&ue[B++])-65536;ve[J++]=String.fromCharCode(55296+(Pe>>10)),ve[J++]=String.fromCharCode(56320+(1023&Pe))}else{const le=ue[B++],ae=ue[B++];ve[J++]=String.fromCharCode((15&W)<<12|(63&le)<<6|63&ae)}}return ve.join("")}(this.decodeStringToByteArray(ue,ve))},decodeStringToByteArray(ue,ve){this.init_();const B=ve?this.charToByteMapWebSafe_:this.charToByteMap_,J=[];for(let W=0;W<ue.length;){const le=B[ue.charAt(W++)],ge=W<ue.length?B[ue.charAt(W)]:0;++W;const it=W<ue.length?B[ue.charAt(W)]:64;++W;const lt=W<ue.length?B[ue.charAt(W)]:64;if(++W,null==le||null==ge||null==it||null==lt)throw Error();J.push(le<<2|ge>>4),64!==it&&(J.push(ge<<4&240|it>>2),64!==lt&&J.push(it<<6&192|lt))}return J},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ue=0;ue<this.ENCODED_VALS.length;ue++)this.byteToCharMap_[ue]=this.ENCODED_VALS.charAt(ue),this.charToByteMap_[this.byteToCharMap_[ue]]=ue,this.byteToCharMapWebSafe_[ue]=this.ENCODED_VALS_WEBSAFE.charAt(ue),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ue]]=ue,ue>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ue)]=ue,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ue)]=ue)}}},Me=function(ue){return function(ue){const ve=G(ue);return Ce.encodeByteArray(ve,!0)}(ue).replace(/\./g,"")},De=function(ue){try{return Ce.decodeString(ue,!0)}catch(ve){console.error("base64Decode failed: ",ve)}return null};function de(ue,ve){if(!(ve instanceof Object))return ve;switch(ve.constructor){case Date:return new Date(ve.getTime());case Object:void 0===ue&&(ue={});break;case Array:ue=[];break;default:return ve}for(const B in ve)!ve.hasOwnProperty(B)||!T(B)||(ue[B]=de(ue[B],ve[B]));return ue}function T(ue){return"__proto__"!==ue}class F{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ve,B)=>{this.resolve=ve,this.reject=B})}wrapCallback(ve){return(B,J)=>{B?this.reject(B):this.resolve(J),"function"==typeof ve&&(this.promise.catch(()=>{}),1===ve.length?ve(B):ve(B,J))}}}function H(ue,ve){if(ue.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const J=ve||"demo-project",W=ue.iat||0,le=ue.sub||ue.user_id;if(!le)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ae=Object.assign({iss:`https://securetoken.google.com/${J}`,aud:J,iat:W,exp:W+3600,auth_time:W,sub:le,user_id:le,firebase:{sign_in_provider:"custom",identities:{}}},ue);return[Me(JSON.stringify({alg:"none",type:"JWT"})),Me(JSON.stringify(ae)),""].join(".")}function oe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function me(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(oe())}function ce(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ue){return!1}}function se(){return"object"==typeof self&&self.self===self}function je(){const ue="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ue&&void 0!==ue.id}function Ye(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function We(){return oe().indexOf("Electron/")>=0}function Qe(){const ue=oe();return ue.indexOf("MSIE ")>=0||ue.indexOf("Trident/")>=0}function ze(){return oe().indexOf("MSAppHost/")>=0}function Te(){return!ce()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Re(){return"object"==typeof indexedDB}function fe(){return new Promise((ue,ve)=>{try{let B=!0;const J="validate-browser-context-for-indexeddb-analytics-module",W=self.indexedDB.open(J);W.onsuccess=()=>{W.result.close(),B||self.indexedDB.deleteDatabase(J),ue(!0)},W.onupgradeneeded=()=>{B=!1},W.onerror=()=>{var le;ve((null===(le=W.error)||void 0===le?void 0:le.message)||"")}}catch(B){ve(B)}})}function xe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Xe extends Error{constructor(ve,B,J){super(B),this.code=ve,this.customData=J,this.name="FirebaseError",Object.setPrototypeOf(this,Xe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ne.prototype.create)}}class Ne{constructor(ve,B,J){this.service=ve,this.serviceName=B,this.errors=J}create(ve,...B){const J=B[0]||{},W=`${this.service}/${ve}`,le=this.errors[ve],ae=le?function Wt(ue,ve){return ue.replace(Qt,(B,J)=>{const W=ve[J];return null!=W?String(W):`<${J}?>`})}(le,J):"Error";return new Xe(W,`${this.serviceName}: ${ae} (${W}).`,J)}}const Qt=/\{\$([^}]+)}/g;function Ae(ue,ve){return Object.prototype.hasOwnProperty.call(ue,ve)}function Ve(ue){for(const ve in ue)if(Object.prototype.hasOwnProperty.call(ue,ve))return!1;return!0}function Ct(ue,ve){if(ue===ve)return!0;const B=Object.keys(ue),J=Object.keys(ve);for(const W of B){if(!J.includes(W))return!1;const le=ue[W],ae=ve[W];if(Ze(le)&&Ze(ae)){if(!Ct(le,ae))return!1}else if(le!==ae)return!1}for(const W of J)if(!B.includes(W))return!1;return!0}function Ze(ue){return null!==ue&&"object"==typeof ue}function Ot(ue){const ve=[];for(const[B,J]of Object.entries(ue))Array.isArray(J)?J.forEach(W=>{ve.push(encodeURIComponent(B)+"="+encodeURIComponent(W))}):ve.push(encodeURIComponent(B)+"="+encodeURIComponent(J));return ve.length?"&"+ve.join("&"):""}function on(ue){const ve={};return ue.replace(/^\?/,"").split("&").forEach(J=>{if(J){const[W,le]=J.split("=");ve[decodeURIComponent(W)]=decodeURIComponent(le)}}),ve}function vn(ue){const ve=ue.indexOf("?");if(!ve)return"";const B=ue.indexOf("#",ve);return ue.substring(ve,B>0?B:void 0)}function $e(ue,ve){const B=new Dt(ue,ve);return B.subscribe.bind(B)}class Dt{constructor(ve,B){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=B,this.task.then(()=>{ve(this)}).catch(J=>{this.error(J)})}next(ve){this.forEachObserver(B=>{B.next(ve)})}error(ve){this.forEachObserver(B=>{B.error(ve)}),this.close(ve)}complete(){this.forEachObserver(ve=>{ve.complete()}),this.close()}subscribe(ve,B,J){let W;if(void 0===ve&&void 0===B&&void 0===J)throw new Error("Missing Observer.");W=function mt(ue,ve){if("object"!=typeof ue||null===ue)return!1;for(const B of ve)if(B in ue&&"function"==typeof ue[B])return!0;return!1}(ve,["next","error","complete"])?ve:{next:ve,error:B,complete:J},void 0===W.next&&(W.next=Ft),void 0===W.error&&(W.error=Ft),void 0===W.complete&&(W.complete=Ft);const le=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?W.error(this.finalError):W.complete()}catch(ae){}}),this.observers.push(W),le}unsubscribeOne(ve){void 0===this.observers||void 0===this.observers[ve]||(delete this.observers[ve],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ve){if(!this.finalized)for(let B=0;B<this.observers.length;B++)this.sendOne(B,ve)}sendOne(ve,B){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ve])try{B(this.observers[ve])}catch(J){"undefined"!=typeof console&&console.error&&console.error(J)}})}close(ve){this.finalized||(this.finalized=!0,void 0!==ve&&(this.finalError=ve),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ft(){}function bn(ue,ve=1e3,B=2){const J=ve*Math.pow(B,ue),W=Math.round(.5*J*(Math.random()-.5)*2);return Math.min(144e5,J+W)}function Dn(ue){return ue&&ue._delegate?ue._delegate:ue}},9356:(kt,qe,z)=>{"use strict";z.r(qe),z.d(qe,{BASE_OPTION_DEFAULTS:()=>Lo,BASE_OPTION_REFINERS:()=>iu,BaseComponent:()=>pr,BgEvent:()=>of,CalendarApi:()=>lu,CalendarContent:()=>U,CalendarDataManager:()=>Ja,CalendarDataProvider:()=>Bs,CalendarRoot:()=>ft,Component:()=>k,ContentHook:()=>yu,CustomContentRenderContext:()=>Bd,DateComponent:()=>mu,DateEnv:()=>Go,DateProfileGenerator:()=>vs,DayCellContent:()=>iy,DayCellRoot:()=>oy,DayHeader:()=>Nc,DaySeriesModel:()=>Xd,DayTableModel:()=>Pu,DelayedRunner:()=>Tu,ElementDragging:()=>Pl,ElementScrollController:()=>fa,Emitter:()=>da,EventApi:()=>Vr,EventRoot:()=>Vl,EventSourceApi:()=>T,Fragment:()=>Ee,Interaction:()=>ku,MoreLinkRoot:()=>sy,MountHook:()=>wo,NamedTimeZoneImpl:()=>Fh,NowIndicatorRoot:()=>Wh,NowTimer:()=>Hs,PositionCache:()=>xh,RefMap:()=>Lg,RenderHook:()=>gs,ScrollController:()=>pu,ScrollResponder:()=>gu,Scroller:()=>jh,SegHierarchy:()=>kl,SimpleScrollGrid:()=>ry,Slicer:()=>ef,Splitter:()=>du,StandardEvent:()=>rf,TableDateCell:()=>wr,TableDowCell:()=>To,Theme:()=>Os,ViewApi:()=>yl,ViewContextType:()=>Xr,ViewRoot:()=>Tr,WeekNumberRoot:()=>Hg,WindowScrollController:()=>Fd,addDays:()=>$e,addDurations:()=>si,addMs:()=>Dt,addWeeks:()=>gn,allowContextMenu:()=>vr,allowSelection:()=>Wn,applyMutationToEventStore:()=>aa,applyStyle:()=>je,applyStyleProp:()=>Ye,asCleanDays:()=>_r,asRoughMinutes:()=>He,asRoughMs:()=>Ht,asRoughSeconds:()=>ct,binarySearch:()=>Nl,buildClassNameNormalizer:()=>yc,buildEntryKey:()=>Yd,buildEventApis:()=>El,buildEventRangeKey:()=>Rn,buildHashFromArray:()=>it,buildIsoString:()=>Tn,buildNavLinkAttrs:()=>dn,buildSegCompareObj:()=>Pn,buildSegTimeText:()=>Oa,collectFromHash:()=>he,combineEventUis:()=>Nr,compareByFieldSpec:()=>_e,compareByFieldSpecs:()=>Ae,compareNumbers:()=>Ze,compareObjs:()=>Ie,computeEarliestSegStart:()=>Gg,computeEdges:()=>ci,computeFallbackHeaderFormat:()=>zt,computeHeightAndMargins:()=>Ha,computeInnerRect:()=>ca,computeRect:()=>Ns,computeSegDraggable:()=>Qi,computeSegEndResizable:()=>Ho,computeSegStartResizable:()=>yo,computeShrinkWidth:()=>ey,computeSmallestCellWidth:()=>on,computeVisibleDayRange:()=>vo,config:()=>Lh,constrainPoint:()=>Ba,createAriaClickAttrs:()=>Xe,createContext:()=>Me,createDuration:()=>Lt,createElement:()=>G,createEmptyEventStore:()=>ui,createEventInstance:()=>J,createEventUi:()=>Bo,createFormatter:()=>br,createPlugin:()=>Zo,createPortal:()=>De,createRef:()=>Ce,diffDates:()=>oa,diffDayAndTime:()=>xn,diffDays:()=>mt,diffPoints:()=>Rg,diffWeeks:()=>Jt,diffWholeDays:()=>Gn,diffWholeWeeks:()=>Cn,disableCursor:()=>Qn,elementClosest:()=>H,elementMatches:()=>oe,enableCursor:()=>xt,eventTupleToStore:()=>Bi,filterEventStoreDefs:()=>na,filterHash:()=>ae,findDirectChildren:()=>ce,findElements:()=>me,flexibleCompare:()=>Ve,flushSync:()=>ee,formatDate:()=>Al,formatDayString:()=>dr,formatIsoTimeString:()=>qr,formatRange:()=>uu,getAllowYScrolling:()=>ty,getCanVGrowWithinCell:()=>qo,getClippingParents:()=>Xi,getDateMeta:()=>la,getDayClassNames:()=>hs,getDefaultEventEnd:()=>La,getElRoot:()=>Qe,getElSeg:()=>rr,getEntrySpanEnd:()=>xc,getEventClassNames:()=>st,getEventTargetViaRoot:()=>We,getIsRtlScrollbarOnLeft:()=>ua,getRectCenter:()=>cu,getRelevantEvents:()=>Ii,getScrollGridClassNames:()=>nf,getScrollbarWidths:()=>fu,getSectionClassNames:()=>bi,getSectionHasLiquidHeight:()=>Vg,getSegAnchorAttrs:()=>ds,getSegMeta:()=>Ji,getSlotClassNames:()=>Ua,getStickyFooterScrollbar:()=>Ug,getStickyHeaderDates:()=>zh,getUnequalProps:()=>qt,getUniqueDomId:()=>gt,globalLocales:()=>Rr,globalPlugins:()=>Sc,greatestDurationDenominator:()=>Nn,groupIntersectingEntries:()=>Mu,guid:()=>Qt,hasBgRendering:()=>Tt,hasShrinkWidth:()=>Bg,identity:()=>tt,interactionSettingsStore:()=>Nu,interactionSettingsToStore:()=>Qd,intersectRanges:()=>Uo,intersectRects:()=>Th,intersectSpans:()=>Do,isArraysEqual:()=>vi,isColPropsEqual:()=>Oc,isDateSelectionValid:()=>Fl,isDateSpansEqual:()=>jo,isInt:()=>Ot,isInteractionValid:()=>Ou,isMultiDayRange:()=>Zn,isPropsEqual:()=>lt,isPropsValid:()=>ba,isValidDate:()=>ve,joinSpans:()=>Ko,listenBySelector:()=>fe,mapHash:()=>ge,memoize:()=>Vn,memoizeArraylike:()=>Mr,memoizeHashlike:()=>ho,memoizeObjArg:()=>$i,mergeEventStores:()=>ls,multiplyDuration:()=>os,padStart:()=>at,parseBusinessHours:()=>Dh,parseClassNames:()=>Vo,parseDragMeta:()=>Vh,parseEventDef:()=>us,parseFieldSpecs:()=>wn,parseMarker:()=>Jr,pointInsideRect:()=>Va,preventContextMenu:()=>Hn,preventDefault:()=>Te,preventSelection:()=>Ut,rangeContainsMarker:()=>we,rangeContainsRange:()=>$,rangesEqual:()=>sa,rangesIntersect:()=>K,refineEventDef:()=>Ms,refineProps:()=>Vi,removeElement:()=>F,removeExact:()=>fo,render:()=>ne,renderChunkContent:()=>ny,renderFill:()=>xb,renderMicroColGroup:()=>Gi,renderScrollShim:()=>Io,requestJson:()=>Za,sanitizeShrinkWidth:()=>Gh,setElSeg:()=>cn,setRef:()=>ei,sliceEventStore:()=>_t,sliceEvents:()=>Us,sortEventSegs:()=>lr,startOfDay:()=>sn,translateRect:()=>wl,triggerDateSelect:()=>Fa,unmountComponentAtNode:()=>de,unpromisify:()=>Wo,version:()=>dy,whenTransitionDone:()=>Be,wholeDivideDurations:()=>Sn}),z(4602);var O=z(655);if("undefined"==typeof FullCalendarVDom)throw new Error("Please import the top-level fullcalendar lib before attempting to import a plugin.");var k=FullCalendarVDom.Component,G=FullCalendarVDom.createElement,ne=FullCalendarVDom.render,Ce=FullCalendarVDom.createRef,Ee=FullCalendarVDom.Fragment,Me=FullCalendarVDom.createContext,De=FullCalendarVDom.createPortal,ee=FullCalendarVDom.flushSync,de=FullCalendarVDom.unmountComponentAtNode,T=function(){function h(f,p){this.context=f,this.internalEventSource=p}return h.prototype.remove=function(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})},h.prototype.refetch=function(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})},Object.defineProperty(h.prototype,"id",{get:function(){return this.internalEventSource.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"url",{get:function(){return this.internalEventSource.meta.url},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"format",{get:function(){return this.internalEventSource.meta.format},enumerable:!1,configurable:!0}),h}();function F(h){h.parentNode&&h.parentNode.removeChild(h)}function H(h,f){if(h.closest)return h.closest(f);if(!document.documentElement.contains(h))return null;do{if(oe(h,f))return h;h=h.parentElement||h.parentNode}while(null!==h&&1===h.nodeType);return null}function oe(h,f){return(h.matches||h.matchesSelector||h.msMatchesSelector).call(h,f)}function me(h,f){for(var p=h instanceof HTMLElement?[h]:h,v=[],A=0;A<p.length;A+=1)for(var S=p[A].querySelectorAll(f),N=0;N<S.length;N+=1)v.push(S[N]);return v}function ce(h,f){for(var p=h instanceof HTMLElement?[h]:h,v=[],A=0;A<p.length;A+=1)for(var S=p[A].children,N=0;N<S.length;N+=1){var V=S[N];(!f||oe(V,f))&&v.push(V)}return v}var se=/(top|left|right|bottom|width|height)$/i;function je(h,f){for(var p in f)Ye(h,p,f[p])}function Ye(h,f,p){h.style[f]=null==p?"":"number"==typeof p&&se.test(f)?p+"px":p}function We(h){var f,p;return null!==(p=null===(f=h.composedPath)||void 0===f?void 0:f.call(h)[0])&&void 0!==p?p:h.target}function Qe(h){return h.getRootNode?h.getRootNode():document}var ze=0;function gt(){return"fc-dom-"+(ze+=1)}function Te(h){h.preventDefault()}function fe(h,f,p,v){var A=function Re(h,f){return function(p){var v=H(p.target,h);v&&f.call(v,p,v)}}(p,v);return h.addEventListener(f,A),function(){h.removeEventListener(f,A)}}var Oe=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function Be(h,f){var p=function(v){f(v),Oe.forEach(function(A){h.removeEventListener(A,p)})};Oe.forEach(function(v){h.addEventListener(v,p)})}function Xe(h){return(0,O.__assign)({onClick:h},Ne(h))}function Ne(h){return{tabIndex:0,onKeyDown:function(f){("Enter"===f.key||" "===f.key)&&(h(f),f.preventDefault())}}}var Wt=0;function Qt(){return String(Wt+=1)}function Qn(){document.body.classList.add("fc-not-allowed")}function xt(){document.body.classList.remove("fc-not-allowed")}function Ut(h){h.classList.add("fc-unselectable"),h.addEventListener("selectstart",Te)}function Wn(h){h.classList.remove("fc-unselectable"),h.removeEventListener("selectstart",Te)}function Hn(h){h.addEventListener("contextmenu",Te)}function vr(h){h.removeEventListener("contextmenu",Te)}function wn(h){var v,A,f=[],p=[];for("string"==typeof h?p=h.split(/\s*,\s*/):"function"==typeof h?p=[h]:Array.isArray(h)&&(p=h),v=0;v<p.length;v+=1)"string"==typeof(A=p[v])?f.push("-"===A.charAt(0)?{field:A.substring(1),order:-1}:{field:A,order:1}):"function"==typeof A&&f.push({func:A});return f}function Ae(h,f,p){var v,A;for(v=0;v<p.length;v+=1)if(A=_e(h,f,p[v]))return A;return 0}function _e(h,f,p){return p.func?p.func(h,f):Ve(h[p.field],f[p.field])*(p.order||1)}function Ve(h,f){return h||f?null==f?-1:null==h?1:"string"==typeof h||"string"==typeof f?String(h).localeCompare(String(f)):h-f:0}function at(h,f){var p=String(h);return"000".substr(0,f-p.length)+p}function Ct(h,f,p){return"function"==typeof h?h.apply(void 0,f):"string"==typeof h?f.reduce(function(v,A,S){return v.replace("$"+S,A||"")},h):p}function Ze(h,f){return h-f}function Ot(h){return h%1==0}function on(h){var f=h.querySelector(".fc-scrollgrid-shrink-frame"),p=h.querySelector(".fc-scrollgrid-shrink-cushion");if(!f)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!p)throw new Error("needs fc-scrollgrid-shrink-cushion className");return h.getBoundingClientRect().width-f.getBoundingClientRect().width+p.getBoundingClientRect().width}var vn=["sun","mon","tue","wed","thu","fri","sat"];function gn(h,f){var p=Dn(h);return p[2]+=7*f,ue(p)}function $e(h,f){var p=Dn(h);return p[2]+=f,ue(p)}function Dt(h,f){var p=Dn(h);return p[6]+=f,ue(p)}function Jt(h,f){return mt(h,f)/7}function mt(h,f){return(f.valueOf()-h.valueOf())/864e5}function xn(h,f){var p=sn(h),v=sn(f);return{years:0,months:0,days:Math.round(mt(p,v)),milliseconds:f.valueOf()-v.valueOf()-(h.valueOf()-p.valueOf())}}function Cn(h,f){var p=Gn(h,f);return null!==p&&p%7==0?p/7:null}function Gn(h,f){return B(h)===B(f)?Math.round(mt(h,f)):null}function sn(h){return ue([h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()])}function Sr(h,f,p,v){var A=ue([f,0,1+bn(f,p,v)]),S=sn(h),N=Math.round(mt(A,S));return Math.floor(N/7)+1}function bn(h,f,p){var v=7+f-p;return-(7+ue([h,0,v]).getUTCDay()-f)%7+v-1}function yr(h){return[h.getFullYear(),h.getMonth(),h.getDate(),h.getHours(),h.getMinutes(),h.getSeconds(),h.getMilliseconds()]}function tr(h){return new Date(h[0],h[1]||0,null==h[2]?1:h[2],h[3]||0,h[4]||0,h[5]||0)}function Dn(h){return[h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate(),h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()]}function ue(h){return 1===h.length&&(h=h.concat([0])),new Date(Date.UTC.apply(Date,h))}function ve(h){return!isNaN(h.valueOf())}function B(h){return 1e3*h.getUTCHours()*60*60+1e3*h.getUTCMinutes()*60+1e3*h.getUTCSeconds()+h.getUTCMilliseconds()}function J(h,f,p,v){return{instanceId:Qt(),defId:h,range:f,forcedStartTzo:null==p?null:p,forcedEndTzo:null==v?null:v}}var W=Object.prototype.hasOwnProperty;function le(h,f){var p={};if(f)for(var v in f){for(var A=[],S=h.length-1;S>=0;S-=1){var N=h[S][v];if("object"==typeof N&&N)A.unshift(N);else if(void 0!==N){p[v]=N;break}}A.length&&(p[v]=le(A))}for(S=h.length-1;S>=0;S-=1){var V=h[S];for(var q in V)q in p||(p[q]=V[q])}return p}function ae(h,f){var p={};for(var v in h)f(h[v],v)&&(p[v]=h[v]);return p}function ge(h,f){var p={};for(var v in h)p[v]=f(h[v],v);return p}function Pe(h){for(var f={},p=0,v=h;p<v.length;p++)f[v[p]]=!0;return f}function it(h,f){for(var p={},v=0;v<h.length;v+=1){var A=f(h[v],v);p[A[0]]=A[1]}return p}function ht(h){var f=[];for(var p in h)f.push(h[p]);return f}function lt(h,f){if(h===f)return!0;for(var p in h)if(W.call(h,p)&&!(p in f))return!1;for(var p in f)if(W.call(f,p)&&h[p]!==f[p])return!1;return!0}function qt(h,f){var p=[];for(var v in h)W.call(h,v)&&(v in f||p.push(v));for(var v in f)W.call(f,v)&&h[v]!==f[v]&&p.push(v);return p}function Ie(h,f,p){if(void 0===p&&(p={}),h===f)return!0;for(var v in f)if(!(v in h)||!pe(h[v],f[v],p[v]))return!1;for(var v in h)if(!(v in f))return!1;return!0}function pe(h,f,p){return h===f||!0===p||!!p&&p(h,f)}function he(h,f,p,v){void 0===f&&(f=0),void 0===v&&(v=1);var A=[];null==p&&(p=Object.keys(h).length);for(var S=f;S<p;S+=v){var N=h[S];void 0!==N&&A.push(N)}return A}function bt(h,f,p){var v=p.dateEnv,A=p.pluginHooks,S=p.options,N=h.defs,V=h.instances;for(var q in V=ae(V,function(an){return!N[an.defId].recurringDef}),N){var X=N[q];if(X.recurringDef){var ke=X.recurringDef.duration;ke||(ke=X.allDay?S.defaultAllDayEventDuration:S.defaultTimedEventDuration);for(var dt=0,vt=jt(X,ke,f,v,A.recurringTypes);dt<vt.length;dt++){var At=vt[dt],Kt=J(q,{start:At,end:v.add(At,ke)});V[Kt.instanceId]=Kt}}}return{defs:N,instances:V}}function jt(h,f,p,v,A){var N=A[h.recurringDef.typeId].expand(h.recurringDef.typeData,{start:v.subtract(p.start,f),end:p.end},v);return h.allDay&&(N=N.map(sn)),N}var rn=["years","months","days","milliseconds"],Fn=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Lt(h,f){var p;return"string"==typeof h?function hr(h){var f=Fn.exec(h);if(f){var p=f[1]?-1:1;return{years:0,months:0,days:p*(f[2]?parseInt(f[2],10):0),milliseconds:p*(60*(f[3]?parseInt(f[3],10):0)*60*1e3+60*(f[4]?parseInt(f[4],10):0)*1e3+1e3*(f[5]?parseInt(f[5],10):0)+(f[6]?parseInt(f[6],10):0))}}return null}(h):"object"==typeof h&&h?kr(h):"number"==typeof h?kr(((p={})[f||"milliseconds"]=h,p)):null}function kr(h){var f={years:h.years||h.year||0,months:h.months||h.month||0,days:h.days||h.day||0,milliseconds:60*(h.hours||h.hour||0)*60*1e3+60*(h.minutes||h.minute||0)*1e3+1e3*(h.seconds||h.second||0)+(h.milliseconds||h.millisecond||h.ms||0)},p=h.weeks||h.week;return p&&(f.days+=7*p,f.specifiedWeeks=!0),f}function _r(h){return h.years||h.months||h.milliseconds?0:h.days}function si(h,f){return{years:h.years+f.years,months:h.months+f.months,days:h.days+f.days,milliseconds:h.milliseconds+f.milliseconds}}function os(h,f){return{years:h.years*f,months:h.months*f,days:h.days*f,milliseconds:h.milliseconds*f}}function ye(h){return Ht(h)/864e5}function He(h){return Ht(h)/6e4}function ct(h){return Ht(h)/1e3}function Ht(h){return 31536e6*h.years+2592e6*h.months+864e5*h.days+h.milliseconds}function Sn(h,f){for(var p=null,v=0;v<rn.length;v+=1){var A=rn[v];if(f[A]){var S=h[A]/f[A];if(!Ot(S)||null!==p&&p!==S)return null;p=S}else if(h[A])return null}return p}function Nn(h){var f=h.milliseconds;if(f){if(f%1e3!=0)return{unit:"millisecond",value:f};if(f%6e4!=0)return{unit:"second",value:f/1e3};if(f%36e5!=0)return{unit:"minute",value:f/6e4};if(f)return{unit:"hour",value:f/36e5}}return h.days?h.specifiedWeeks&&h.days%7==0?{unit:"week",value:h.days/7}:{unit:"day",value:h.days}:h.months?{unit:"month",value:h.months}:h.years?{unit:"year",value:h.years}:{unit:"millisecond",value:0}}function Tn(h,f,p){void 0===p&&(p=!1);var v=h.toISOString();return v=v.replace(".000",""),p&&(v=v.replace("T00:00:00Z","")),v.length>10&&(null==f?v=v.replace("Z",""):0!==f&&(v=v.replace("Z",tn(f,!0)))),v}function dr(h){return h.toISOString().replace(/T.*$/,"")}function qr(h){return at(h.getUTCHours(),2)+":"+at(h.getUTCMinutes(),2)+":"+at(h.getUTCSeconds(),2)}function tn(h,f){void 0===f&&(f=!1);var p=h<0?"-":"+",v=Math.abs(h),A=Math.floor(v/60),S=Math.round(v%60);return f?p+at(A,2)+":"+at(S,2):"GMT"+p+A+(S?":"+at(S,2):"")}function fo(h,f){for(var p=0,v=0;v<h.length;)h[v]===f?(h.splice(v,1),p+=1):v+=1;return p}function vi(h,f,p){if(h===f)return!0;var A,v=h.length;if(v!==f.length)return!1;for(A=0;A<v;A+=1)if(!(p?p(h[A],f[A]):h[A]===f[A]))return!1;return!0}function Vn(h,f,p){var v,A;return function(){for(var S=[],N=0;N<arguments.length;N++)S[N]=arguments[N];if(v){if(!vi(v,S)){p&&p(A);var V=h.apply(this,S);(!f||!f(V,A))&&(A=V)}}else A=h.apply(this,S);return v=S,A}}function $i(h,f,p){var A,S,v=this;return function(N){if(A){if(!lt(A,N)){p&&p(S);var V=h.call(v,N);(!f||!f(V,S))&&(S=V)}}else S=h.call(v,N);return A=N,S}}function Mr(h,f,p){var v=this,A=[],S=[];return function(N){for(var V=A.length,q=N.length,X=0;X<V;X+=1)if(N[X]){if(!vi(A[X],N[X])){p&&p(S[X]);var ke=h.apply(v,N[X]);(!f||!f(ke,S[X]))&&(S[X]=ke)}}else p&&p(S[X]);for(;X<q;X+=1)S[X]=h.apply(v,N[X]);return A=N,S.splice(q),S}}function ho(h,f,p){var v=this,A={},S={};return function(N){var V={};for(var q in N)if(S[q])if(vi(A[q],N[q]))V[q]=S[q];else{p&&p(S[q]);var X=h.apply(v,N[q]);V[q]=f&&f(X,S[q])?S[q]:X}else V[q]=h.apply(v,N[q]);return A=N,S=V,V}}var po={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},fr={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Yn=/\s*([ap])\.?m\.?/i,Ra=/,/g,Qs=/\s+/g,ai=/\u200e/g,li=/UTC|GMT/,Js=function(){function h(f){var p={},v={},A=0;for(var S in f)S in po?(v[S]=f[S],A=Math.max(po[S],A)):(p[S]=f[S],S in fr&&(A=Math.max(fr[S],A)));this.standardDateProps=p,this.extendedSettings=v,this.severity=A,this.buildFormattingFunc=Vn(Ss)}return h.prototype.format=function(f,p){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,p)(f)},h.prototype.formatRange=function(f,p,v,A){var N=this.standardDateProps,V=this.extendedSettings,q=function Dr(h,f,p){return p.getMarkerYear(h)!==p.getMarkerYear(f)?5:p.getMarkerMonth(h)!==p.getMarkerMonth(f)?4:p.getMarkerDay(h)!==p.getMarkerDay(f)?2:B(h)!==B(f)?1:0}(f.marker,p.marker,v.calendarSystem);if(!q)return this.format(f,v);var X=q;X>1&&("numeric"===N.year||"2-digit"===N.year)&&("numeric"===N.month||"2-digit"===N.month)&&("numeric"===N.day||"2-digit"===N.day)&&(X=1);var ke=this.format(f,v),Ue=this.format(p,v);if(ke===Ue)return ke;var dt=function ru(h,f){var p={};for(var v in h)(!(v in fr)||fr[v]<=f)&&(p[v]=h[v]);return p}(N,X),vt=Ss(dt,V,v),At=vt(f),Kt=vt(p),an=function bd(h,f,p,v){for(var A=0;A<h.length;){var S=h.indexOf(f,A);if(-1===S)break;for(var N=h.substr(0,S),V=h.substr(A=S+f.length),q=0;q<p.length;){var X=p.indexOf(v,q);if(-1===X)break;var ke=p.substr(0,X),Ue=p.substr(q=X+v.length);if(N===ke&&V===Ue)return{before:N,after:V}}}return null}(ke,At,Ue,Kt),Nt=V.separator||A||v.defaultSeparator||"";return an?an.before+At+Nt+Kt+an.after:ke+Nt+Ue},h.prototype.getLargestUnit=function(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}},h}();function Ss(h,f,p){var v=Object.keys(h).length;return 1===v&&"short"===h.timeZoneName?function(A){return tn(A.timeZoneOffset)}:0===v&&f.week?function(A){return function ea(h,f,p,v,A){var S=[];return"long"===A?S.push(p):("short"===A||"narrow"===A)&&S.push(f),("long"===A||"short"===A)&&S.push(" "),S.push(v.simpleNumberFormat.format(h)),"rtl"===v.options.direction&&S.reverse(),S.join("")}(p.computeWeekNumber(A.marker),p.weekText,p.weekTextLong,p.locale,f.week)}:function ss(h,f,p){h=(0,O.__assign)({},h),f=(0,O.__assign)({},f),function yi(h,f){h.timeZoneName&&(h.hour||(h.hour="2-digit"),h.minute||(h.minute="2-digit")),"long"===h.timeZoneName&&(h.timeZoneName="short"),f.omitZeroMinute&&(h.second||h.millisecond)&&delete f.omitZeroMinute}(h,f),h.timeZone="UTC";var A,v=new Intl.DateTimeFormat(p.locale.codes,h);if(f.omitZeroMinute){var S=(0,O.__assign)({},h);delete S.minute,A=new Intl.DateTimeFormat(p.locale.codes,S)}return function(N){var V=N.marker;return function lc(h,f,p,v,A){return h=h.replace(ai,""),"short"===p.timeZoneName&&(h=function Xs(h,f){var p=!1;return h=h.replace(li,function(){return p=!0,f}),p||(h+=" "+f),h}(h,"UTC"===A.timeZone||null==f.timeZoneOffset?"UTC":tn(f.timeZoneOffset))),v.omitCommas&&(h=h.replace(Ra,"").trim()),v.omitZeroMinute&&(h=h.replace(":00","")),!1===v.meridiem?h=h.replace(Yn,"").trim():"narrow"===v.meridiem?h=h.replace(Yn,function(S,N){return N.toLocaleLowerCase()}):"short"===v.meridiem?h=h.replace(Yn,function(S,N){return N.toLocaleLowerCase()+"m"}):"lowercase"===v.meridiem&&(h=h.replace(Yn,function(S){return S.toLocaleLowerCase()})),(h=h.replace(Qs," ")).trim()}((A&&!V.getUTCMinutes()?A:v).format(V),N,h,f,p)}}(h,f,p)}function Ki(h,f){var p=f.markerToArray(h.marker);return{marker:h.marker,timeZoneOffset:h.timeZoneOffset,array:p,year:p[0],month:p[1],day:p[2],hour:p[3],minute:p[4],second:p[5],millisecond:p[6]}}function ka(h,f,p,v){var A=Ki(h,p.calendarSystem);return{date:A,start:A,end:f?Ki(f,p.calendarSystem):null,timeZone:p.timeZone,localeCodes:p.locale.codes,defaultSeparator:v||p.defaultSeparator}}var as=function(){function h(f){this.cmdStr=f}return h.prototype.format=function(f,p,v){return p.cmdFormatter(this.cmdStr,ka(f,null,p,v))},h.prototype.formatRange=function(f,p,v,A){return v.cmdFormatter(this.cmdStr,ka(f,p,v,A))},h}(),Ed=function(){function h(f){this.func=f}return h.prototype.format=function(f,p,v){return this.func(ka(f,null,p,v))},h.prototype.formatRange=function(f,p,v,A){return this.func(ka(f,p,v,A))},h}();function br(h){return"object"==typeof h&&h?new Js(h):"string"==typeof h?new as(h):"function"==typeof h?new Ed(h):null}var iu={navLinkDayClick:tt,navLinkWeekClick:tt,duration:Lt,bootstrapFontAwesome:tt,buttonIcons:tt,customButtons:tt,defaultAllDayEventDuration:Lt,defaultTimedEventDuration:Lt,nextDayThreshold:Lt,scrollTime:Lt,scrollTimeReset:Boolean,slotMinTime:Lt,slotMaxTime:Lt,dayPopoverFormat:br,slotDuration:Lt,snapDuration:Lt,headerToolbar:tt,footerToolbar:tt,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:br,dayHeaderClassNames:tt,dayHeaderContent:tt,dayHeaderDidMount:tt,dayHeaderWillUnmount:tt,dayCellClassNames:tt,dayCellContent:tt,dayCellDidMount:tt,dayCellWillUnmount:tt,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:tt,weekNumbers:Boolean,weekNumberClassNames:tt,weekNumberContent:tt,weekNumberDidMount:tt,weekNumberWillUnmount:tt,editable:Boolean,viewClassNames:tt,viewDidMount:tt,viewWillUnmount:tt,nowIndicator:Boolean,nowIndicatorClassNames:tt,nowIndicatorContent:tt,nowIndicatorDidMount:tt,nowIndicatorWillUnmount:tt,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:tt,locale:tt,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:tt,eventOrder:wn,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:tt,contentHeight:tt,direction:String,weekNumberFormat:br,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:tt,initialDate:tt,now:tt,eventDataTransform:tt,stickyHeaderDates:tt,stickyFooterScrollbar:tt,viewHeight:tt,defaultAllDay:Boolean,eventSourceFailure:tt,eventSourceSuccess:tt,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:tt,eventConstraint:tt,eventAllow:tt,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:tt,eventContent:tt,eventDidMount:tt,eventWillUnmount:tt,selectConstraint:tt,selectOverlap:tt,selectAllow:tt,droppable:Boolean,unselectCancel:String,slotLabelFormat:tt,slotLaneClassNames:tt,slotLaneContent:tt,slotLaneDidMount:tt,slotLaneWillUnmount:tt,slotLabelClassNames:tt,slotLabelContent:tt,slotLabelDidMount:tt,slotLabelWillUnmount:tt,dayMaxEvents:tt,dayMaxEventRows:tt,dayMinWidth:Number,slotLabelInterval:Lt,allDayText:String,allDayClassNames:tt,allDayContent:tt,allDayDidMount:tt,allDayWillUnmount:tt,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:br,rerenderDelay:Number,moreLinkText:tt,moreLinkHint:tt,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:tt,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Lt,hiddenDays:tt,monthMode:Boolean,fixedWeekCount:Boolean,validRange:tt,visibleRange:tt,titleFormat:tt,eventInteractive:Boolean,noEventsText:String,viewHint:tt,navLinkHint:tt,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:tt,moreLinkClassNames:tt,moreLinkContent:tt,moreLinkDidMount:tt,moreLinkWillUnmount:tt},Lo={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30},Ad={datesSet:tt,eventsSet:tt,eventAdd:tt,eventChange:tt,eventRemove:tt,windowResize:tt,eventClick:tt,eventMouseEnter:tt,eventMouseLeave:tt,select:tt,unselect:tt,loading:tt,_unmount:tt,_beforeprint:tt,_afterprint:tt,_noEventDrop:tt,_noEventResize:tt,_resize:tt,_scrollRequest:tt},pl={buttonText:tt,buttonHints:tt,views:tt,plugins:tt,initialEvents:tt,events:tt,eventSources:tt},gl={headerToolbar:go,footerToolbar:go,buttonText:go,buttonHints:go,buttonIcons:go};function go(h,f){return"object"==typeof h&&"object"==typeof f&&h&&f?lt(h,f):h===f}var wd={type:String,component:tt,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:tt,usesMinMaxTime:Boolean,classNames:tt,content:tt,didMount:tt,willUnmount:tt};function Na(h){return le(h,gl)}function Vi(h,f){var p={},v={};for(var A in f)A in h&&(p[A]=f[A](h[A]));for(var A in h)A in f||(v[A]=h[A]);return{refined:p,extra:v}}function tt(h){return h}function xs(h,f,p,v){for(var A={defs:{},instances:{}},S=Yi(p),N=0,V=h;N<V.length;N++){var X=ia(V[N],f,p,v,S);X&&Bi(X,A)}return A}function Bi(h,f){return void 0===f&&(f={defs:{},instances:{}}),f.defs[h.def.defId]=h.def,h.instance&&(f.instances[h.instance.instanceId]=h.instance),f}function Ii(h,f){var p=h.instances[f];if(p){var v=h.defs[p.defId],A=na(h,function(S){return function ta(h,f){return Boolean(h.groupId&&h.groupId===f.groupId)}(v,S)});return A.defs[v.defId]=v,A.instances[p.instanceId]=p,A}return{defs:{},instances:{}}}function ui(){return{defs:{},instances:{}}}function ls(h,f){return{defs:(0,O.__assign)((0,O.__assign)({},h.defs),f.defs),instances:(0,O.__assign)((0,O.__assign)({},h.instances),f.instances)}}function na(h,f){var p=ae(h.defs,f),v=ae(h.instances,function(A){return p[A.defId]});return{defs:p,instances:v}}function Vo(h){return Array.isArray(h)?h:"string"==typeof h?h.split(/\s+/):[]}var mo={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:tt,overlap:tt,allow:tt,className:Vo,classNames:Vo,color:String,backgroundColor:String,borderColor:String,textColor:String},ra={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Bo(h,f){var p=function Ui(h,f){return Array.isArray(h)?xs(h,null,f,!0):"object"==typeof h&&h?xs([h],null,f,!0):null!=h?String(h):null}(h.constraint,f);return{display:h.display||null,startEditable:null!=h.startEditable?h.startEditable:h.editable,durationEditable:null!=h.durationEditable?h.durationEditable:h.editable,constraints:null!=p?[p]:[],overlap:null!=h.overlap?h.overlap:null,allows:null!=h.allow?[h.allow]:[],backgroundColor:h.backgroundColor||h.color||"",borderColor:h.borderColor||h.color||"",textColor:h.textColor||"",classNames:(h.className||[]).concat(h.classNames||[])}}function Nr(h){return h.reduce(Lr,ra)}function Lr(h,f){return{display:null!=f.display?f.display:h.display,startEditable:null!=f.startEditable?f.startEditable:h.startEditable,durationEditable:null!=f.durationEditable?f.durationEditable:h.durationEditable,constraints:h.constraints.concat(f.constraints),overlap:"boolean"==typeof f.overlap?f.overlap:h.overlap,allows:h.allows.concat(f.allows),backgroundColor:f.backgroundColor||h.backgroundColor,borderColor:f.borderColor||h.borderColor,textColor:f.textColor||h.textColor,classNames:h.classNames.concat(f.classNames)}}var ml={id:String,groupId:String,title:String,url:String,interactive:Boolean},ou={start:tt,end:tt,date:tt,allDay:Boolean},uc=(0,O.__assign)((0,O.__assign)((0,O.__assign)({},ml),ou),{extendedProps:tt});function ia(h,f,p,v,A){void 0===A&&(A=Yi(p));var S=Ms(h,p,A),N=S.refined,V=S.extra,q=function cr(h,f){var p=null;return h&&(p=h.defaultAllDay),null==p&&(p=f.options.defaultAllDay),p}(f,p),X=function et(h,f,p,v){for(var A=0;A<v.length;A+=1){var S=v[A].parse(h,p);if(S){var N=h.allDay;return null==N&&null==(N=f)&&null==(N=S.allDayGuess)&&(N=!1),{allDay:N,duration:S.duration,typeData:S.typeData,typeId:A}}}return null}(N,q,p.dateEnv,p.pluginHooks.recurringTypes);if(X)return(ke=us(N,V,f?f.sourceId:"",X.allDay,Boolean(X.duration),p)).recurringDef={typeId:X.typeId,typeData:X.typeData,duration:X.duration},{def:ke,instance:null};var ke,Ue=function cc(h,f,p,v){var S,q,A=h.allDay,N=null,V=!1,X=null;if(S=p.dateEnv.createMarkerMeta(null!=h.start?h.start:h.date))N=S.marker;else if(!v)return null;return null!=h.end&&(q=p.dateEnv.createMarkerMeta(h.end)),null==A&&(A=null!=f?f:(!S||S.isTimeUnspecified)&&(!q||q.isTimeUnspecified)),A&&N&&(N=sn(N)),q&&(X=q.marker,A&&(X=sn(X)),N&&X<=N&&(X=null)),X?V=!0:v||(V=p.options.forceEventDuration||!1,X=p.dateEnv.add(N,A?p.options.defaultAllDayEventDuration:p.options.defaultTimedEventDuration)),{allDay:A,hasEnd:V,range:{start:N,end:X},forcedStartTzo:S?S.forcedTzo:null,forcedEndTzo:q?q.forcedTzo:null}}(N,q,p,v);return Ue?{def:ke=us(N,V,f?f.sourceId:"",Ue.allDay,Ue.hasEnd,p),instance:J(ke.defId,Ue.range,Ue.forcedStartTzo,Ue.forcedEndTzo)}:null}function Ms(h,f,p){return void 0===p&&(p=Yi(f)),Vi(h,p)}function Yi(h){return(0,O.__assign)((0,O.__assign)((0,O.__assign)({},mo),uc),h.pluginHooks.eventRefiners)}function us(h,f,p,v,A,S){for(var N={title:h.title||"",groupId:h.groupId||"",publicId:h.id||"",url:h.url||"",recurringDef:null,defId:Qt(),sourceId:p,allDay:v,hasEnd:A,interactive:h.interactive,ui:Bo(h,S),extendedProps:(0,O.__assign)((0,O.__assign)({},h.extendedProps||{}),f)},V=0,q=S.pluginHooks.eventDefMemberAdders;V<q.length;V++)(0,O.__assign)(N,(0,q[V])(h));return Object.freeze(N.ui.classNames),Object.freeze(N.extendedProps),N}function Hi(h){var f=Math.floor(mt(h.start,h.end))||1,p=sn(h.start);return{start:p,end:$e(p,f)}}function vo(h,f){void 0===f&&(f=Lt(0));var p=null,v=null;if(h.end){v=sn(h.end);var A=h.end.valueOf()-v.valueOf();A&&A>=Ht(f)&&(v=$e(v,1))}return h.start&&(p=sn(h.start),v&&v<=p&&(v=$e(p,1))),{start:p,end:v}}function Zn(h){var f=vo(h);return mt(f.start,f.end)>1}function oa(h,f,p,v){return"year"===v?Lt(p.diffWholeYears(h,f),"year"):"month"===v?Lt(p.diffWholeMonths(h,f),"month"):xn(h,f)}function cs(h,f){var A,S,p=[],v=f.start;for(h.sort(Yr),A=0;A<h.length;A+=1)(S=h[A]).start>v&&p.push({start:v,end:S.start}),S.end>v&&(v=S.end);return v<f.end&&p.push({start:v,end:f.end}),p}function Yr(h,f){return h.start.valueOf()-f.start.valueOf()}function Uo(h,f){var p=h.start,v=h.end,A=null;return null!==f.start&&(p=null===p?f.start:new Date(Math.max(p.valueOf(),f.start.valueOf()))),null!=f.end&&(v=null===v?f.end:new Date(Math.min(v.valueOf(),f.end.valueOf()))),(null===p||null===v||p<v)&&(A={start:p,end:v}),A}function sa(h,f){return(null===h.start?null:h.start.valueOf())===(null===f.start?null:f.start.valueOf())&&(null===h.end?null:h.end.valueOf())===(null===f.end?null:f.end.valueOf())}function K(h,f){return(null===h.end||null===f.start||h.end>f.start)&&(null===h.start||null===f.end||h.start<f.end)}function $(h,f){return(null===h.start||null!==f.start&&f.start>=h.start)&&(null===h.end||null!==f.end&&f.end<=h.end)}function we(h,f){return(null===h.start||f>=h.start)&&(null===h.end||f<h.end)}function _t(h,f,p,v){var A={},S={},N={},V=[],q=[],X=Gt(h.defs,f);for(var ke in h.defs)"inverse-background"===(dt=X[(Ue=h.defs[ke]).defId]).display&&(Ue.groupId?(A[Ue.groupId]=[],N[Ue.groupId]||(N[Ue.groupId]=Ue)):S[ke]=[]);for(var vt in h.instances){var At=h.instances[vt],dt=X[(Ue=h.defs[At.defId]).defId],Kt=At.range,an=!Ue.allDay&&v?vo(Kt,v):Kt,Nt=Uo(an,p);Nt&&("inverse-background"===dt.display?Ue.groupId?A[Ue.groupId].push(Nt):S[At.defId].push(Nt):"none"!==dt.display&&("background"===dt.display?V:q).push({def:Ue,ui:dt,instance:At,range:Nt,isStart:an.start&&an.start.valueOf()===Nt.start.valueOf(),isEnd:an.end&&an.end.valueOf()===Nt.end.valueOf()}))}for(var Xn in A)for(var Ur=0,Hr=cs(A[Xn],p);Ur<Hr.length;Ur++){var Ue;V.push({def:Ue=N[Xn],ui:dt=X[Ue.defId],instance:null,range:Hr[Ur],isStart:!1,isEnd:!1})}for(var ke in S)for(var So=0,xo=cs(S[ke],p);So<xo.length;So++)V.push({def:h.defs[ke],ui:X[ke],instance:null,range:xo[So],isStart:!1,isEnd:!1});return{bg:V,fg:q}}function Tt(h){return"background"===h.ui.display||"inverse-background"===h.ui.display}function cn(h,f){h.fcSeg=f}function rr(h){return h.fcSeg||h.parentNode.fcSeg||null}function Gt(h,f){return ge(h,function(p){return ir(p,f)})}function ir(h,f){var p=[];return f[""]&&p.push(f[""]),f[h.defId]&&p.push(f[h.defId]),p.push(h.ui),Nr(p)}function lr(h,f){var p=h.map(Pn);return p.sort(function(v,A){return Ae(v,A,f)}),p.map(function(v){return v._seg})}function Pn(h){var f=h.eventRange,p=f.def,v=f.instance?f.instance.range:f.range,A=v.start?v.start.valueOf():0,S=v.end?v.end.valueOf():0;return(0,O.__assign)((0,O.__assign)((0,O.__assign)({},p.extendedProps),p),{id:p.publicId,start:A,end:S,duration:S-A,allDay:Number(p.allDay),_seg:h})}function Qi(h,f){for(var A=h.eventRange,S=A.def,N=A.ui,V=N.startEditable,q=0,X=f.pluginHooks.isDraggableTransformers;q<X.length;q++)V=(0,X[q])(V,S,N,f);return V}function yo(h,f){return h.isStart&&h.eventRange.ui.durationEditable&&f.options.eventResizableFromStart}function Ho(h,f){return h.isEnd&&h.eventRange.ui.durationEditable}function Oa(h,f,p,v,A,S,N){var V=p.dateEnv,q=p.options,X=q.displayEventTime,ke=q.displayEventEnd,Ue=h.eventRange.def,dt=h.eventRange.instance;null==X&&(X=!1!==v),null==ke&&(ke=!1!==A);var vt=dt.range.start,At=dt.range.end,Kt=S||h.start||h.eventRange.range.start,an=N||h.end||h.eventRange.range.end,Nt=sn(vt).valueOf()===sn(Kt).valueOf(),Xn=sn(Dt(At,-1)).valueOf()===sn(Dt(an,-1)).valueOf();return X&&!Ue.allDay&&(Nt||Xn)?(Kt=Nt?vt:Kt,an=Xn?At:an,ke&&Ue.hasEnd?V.formatRange(Kt,an,f,{forcedStartTzo:S?null:dt.forcedStartTzo,forcedEndTzo:N?null:dt.forcedEndTzo}):V.format(Kt,f,{forcedTzo:S?null:dt.forcedStartTzo})):""}function Ji(h,f,p){var v=h.eventRange.range;return{isPast:v.end<(p||f.start),isFuture:v.start>=(p||f.end),isToday:f&&we(f,v.start)}}function st(h){var f=["fc-event"];return h.isMirror&&f.push("fc-event-mirror"),h.isDraggable&&f.push("fc-event-draggable"),(h.isStartResizable||h.isEndResizable)&&f.push("fc-event-resizable"),h.isDragging&&f.push("fc-event-dragging"),h.isResizing&&f.push("fc-event-resizing"),h.isSelected&&f.push("fc-event-selected"),h.isStart&&f.push("fc-event-start"),h.isEnd&&f.push("fc-event-end"),h.isPast&&f.push("fc-event-past"),h.isToday&&f.push("fc-event-today"),h.isFuture&&f.push("fc-event-future"),f}function Rn(h){return h.instance?h.instance.instanceId:h.def.defId+":"+h.range.start.toISOString()}function ds(h,f){var p=h.eventRange,v=p.def,A=p.instance,S=v.url;if(S)return{href:S};var N=f.emitter,q=f.options.eventInteractive;return null==q&&null==(q=v.interactive)&&(q=Boolean(N.hasHandlers("eventClick"))),q?Ne(function(X){N.trigger("eventClick",{el:X.target,event:new Vr(f,v,A),jsEvent:X,view:f.viewApi})}):{}}var Er={start:tt,end:tt,allDay:Boolean};function jo(h,f){return sa(h.range,f.range)&&h.allDay===f.allDay&&function dc(h,f){for(var p in f)if("range"!==p&&"allDay"!==p&&h[p]!==f[p])return!1;for(var p in h)if(!(p in f))return!1;return!0}(h,f)}function Td(h,f,p){return(0,O.__assign)((0,O.__assign)({},Id(h,f,p)),{timeZone:f.timeZone})}function Id(h,f,p){return{start:f.toDate(h.start),end:f.toDate(h.end),startStr:f.formatIso(h.start,{omitTime:p}),endStr:f.formatIso(h.end,{omitTime:p})}}function Sd(h,f,p){var v=Ms({editable:!1},p),A=us(v.refined,v.extra,"",h.allDay,!0,p);return{def:A,ui:ir(A,f),instance:J(A.defId,h.range),range:h.range,isStart:!0,isEnd:!0}}function Fa(h,f,p){p.emitter.trigger("select",(0,O.__assign)((0,O.__assign)({},_o(h,p)),{jsEvent:f?f.origEvent:null,view:p.viewApi||p.calendarApi.view}))}function _o(h,f){for(var p={},v=0,A=f.pluginHooks.dateSpanTransforms;v<A.length;v++)(0,O.__assign)(p,(0,A[v])(h,f));return(0,O.__assign)(p,function vl(h,f){return(0,O.__assign)((0,O.__assign)({},Id(h.range,f,h.allDay)),{allDay:h.allDay})}(h,f.dateEnv)),p}function La(h,f,p){var v=p.dateEnv,A=p.options,S=f;return h?(S=sn(S),S=v.add(S,A.defaultAllDayEventDuration)):S=v.add(S,A.defaultTimedEventDuration),S}function aa(h,f,p,v){var A=Gt(h.defs,f),S={defs:{},instances:{}};for(var N in h.defs)S.defs[N]=bo(h.defs[N],A[N],p,v);for(var q in h.instances){var X=h.instances[q];S.instances[q]=yh(X,S.defs[X.defId],A[X.defId],p,v)}return S}function bo(h,f,p,v){var A=p.standardProps||{};null==A.hasEnd&&f.durationEditable&&(p.startDelta||p.endDelta)&&(A.hasEnd=!0);var S=(0,O.__assign)((0,O.__assign)((0,O.__assign)({},h),A),{ui:(0,O.__assign)((0,O.__assign)({},h.ui),A.ui)});p.extendedProps&&(S.extendedProps=(0,O.__assign)((0,O.__assign)({},S.extendedProps),p.extendedProps));for(var N=0,V=v.pluginHooks.eventDefMutationAppliers;N<V.length;N++)(0,V[N])(S,p,v);return!S.hasEnd&&v.options.forceEventDuration&&(S.hasEnd=!0),S}function yh(h,f,p,v,A){var S=A.dateEnv,N=v.standardProps&&!0===v.standardProps.allDay,V=v.standardProps&&!1===v.standardProps.hasEnd,q=(0,O.__assign)({},h);return N&&(q.range=Hi(q.range)),v.datesDelta&&p.startEditable&&(q.range={start:S.add(q.range.start,v.datesDelta),end:S.add(q.range.end,v.datesDelta)}),v.startDelta&&p.durationEditable&&(q.range={start:S.add(q.range.start,v.startDelta),end:q.range.end}),v.endDelta&&p.durationEditable&&(q.range={start:q.range.start,end:S.add(q.range.end,v.endDelta)}),V&&(q.range={start:q.range.start,end:La(f.allDay,q.range.start,A)}),f.allDay&&(q.range={start:sn(q.range.start),end:sn(q.range.end)}),q.range.end<q.range.start&&(q.range.end=La(f.allDay,q.range.start,A)),q}var yl=function(){function h(f,p,v){this.type=f,this.getCurrentData=p,this.dateEnv=v}return Object.defineProperty(h.prototype,"calendar",{get:function(){return this.getCurrentData().calendarApi},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"title",{get:function(){return this.getCurrentData().viewTitle},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"activeStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"activeEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"currentStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"currentEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)},enumerable:!1,configurable:!0}),h.prototype.getOption=function(f){return this.getCurrentData().options[f]},h}(),_h={id:String,defaultAllDay:Boolean,url:String,format:String,events:tt,eventDataTransform:tt,success:tt,failure:tt};function su(h,f,p){var v;if(void 0===p&&(p=_l(f)),"string"==typeof h?v={url:h}:"function"==typeof h||Array.isArray(h)?v={events:h}:"object"==typeof h&&h&&(v=h),v){var A=Vi(v,p),S=A.refined,N=A.extra,V=function au(h,f){for(var p=f.pluginHooks.eventSourceDefs,v=p.length-1;v>=0;v-=1){var S=p[v].parseMeta(h);if(S)return{sourceDefId:v,meta:S}}return null}(S,f);if(V)return{_raw:h,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:S.defaultAllDay,eventDataTransform:S.eventDataTransform,success:S.success,failure:S.failure,publicId:S.id||"",sourceId:Qt(),sourceDefId:V.sourceDefId,meta:V.meta,ui:Bo(S,f),extendedProps:N}}return null}function _l(h){return(0,O.__assign)((0,O.__assign)((0,O.__assign)({},mo),_h),h.pluginHooks.eventSourceRefiners)}function bl(h,f){return"function"==typeof h&&(h=h()),null==h?f.createNowMarker():f.createMarker(h)}var lu=function(){function h(){}return h.prototype.getCurrentData=function(){return this.currentDataManager.getCurrentData()},h.prototype.dispatch=function(f){return this.currentDataManager.dispatch(f)},Object.defineProperty(h.prototype,"view",{get:function(){return this.getCurrentData().viewApi},enumerable:!1,configurable:!0}),h.prototype.batchRendering=function(f){f()},h.prototype.updateSize=function(){this.trigger("_resize",!0)},h.prototype.setOption=function(f,p){this.dispatch({type:"SET_OPTION",optionName:f,rawOptionValue:p})},h.prototype.getOption=function(f){return this.currentDataManager.currentCalendarOptionsInput[f]},h.prototype.getAvailableLocaleCodes=function(){return Object.keys(this.getCurrentData().availableRawLocales)},h.prototype.on=function(f,p){var v=this.currentDataManager;v.currentCalendarOptionsRefiners[f]?v.emitter.on(f,p):console.warn("Unknown listener name '"+f+"'")},h.prototype.off=function(f,p){this.currentDataManager.emitter.off(f,p)},h.prototype.trigger=function(f){for(var p,v=[],A=1;A<arguments.length;A++)v[A-1]=arguments[A];(p=this.currentDataManager.emitter).trigger.apply(p,(0,O.__spreadArray)([f],v))},h.prototype.changeView=function(f,p){var v=this;this.batchRendering(function(){if(v.unselect(),p)if(p.start&&p.end)v.dispatch({type:"CHANGE_VIEW_TYPE",viewType:f}),v.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:p});else{var A=v.getCurrentData().dateEnv;v.dispatch({type:"CHANGE_VIEW_TYPE",viewType:f,dateMarker:A.createMarker(p)})}else v.dispatch({type:"CHANGE_VIEW_TYPE",viewType:f})})},h.prototype.zoomTo=function(f,p){var A;A=this.getCurrentData().viewSpecs[p=p||"day"]||this.getUnitViewSpec(p),this.unselect(),this.dispatch(A?{type:"CHANGE_VIEW_TYPE",viewType:A.type,dateMarker:f}:{type:"CHANGE_DATE",dateMarker:f})},h.prototype.getUnitViewSpec=function(f){var N,V,p=this.getCurrentData(),v=p.viewSpecs,A=p.toolbarConfig,S=[].concat(A.header?A.header.viewsWithButtons:[],A.footer?A.footer.viewsWithButtons:[]);for(var q in v)S.push(q);for(N=0;N<S.length;N+=1)if((V=v[S[N]])&&V.singleUnit===f)return V;return null},h.prototype.prev=function(){this.unselect(),this.dispatch({type:"PREV"})},h.prototype.next=function(){this.unselect(),this.dispatch({type:"NEXT"})},h.prototype.prevYear=function(){var f=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:f.dateEnv.addYears(f.currentDate,-1)})},h.prototype.nextYear=function(){var f=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:f.dateEnv.addYears(f.currentDate,1)})},h.prototype.today=function(){var f=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:bl(f.calendarOptions.now,f.dateEnv)})},h.prototype.gotoDate=function(f){var p=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:p.dateEnv.createMarker(f)})},h.prototype.incrementDate=function(f){var p=this.getCurrentData(),v=Lt(f);v&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:p.dateEnv.add(p.currentDate,v)}))},h.prototype.getDate=function(){var f=this.getCurrentData();return f.dateEnv.toDate(f.currentDate)},h.prototype.formatDate=function(f,p){var v=this.getCurrentData().dateEnv;return v.format(v.createMarker(f),br(p))},h.prototype.formatRange=function(f,p,v){var A=this.getCurrentData().dateEnv;return A.formatRange(A.createMarker(f),A.createMarker(p),br(v),v)},h.prototype.formatIso=function(f,p){var v=this.getCurrentData().dateEnv;return v.formatIso(v.createMarker(f),{omitTime:p})},h.prototype.select=function(f,p){var v;v=null==p?null!=f.start?f:{start:f,end:null}:{start:f,end:p};var A=this.getCurrentData(),S=function Dd(h,f,p){var v=function Rs(h,f){var p=Vi(h,Er),v=p.refined,A=p.extra,S=v.start?f.createMarkerMeta(v.start):null,N=v.end?f.createMarkerMeta(v.end):null,V=v.allDay;return null==V&&(V=S&&S.isTimeUnspecified&&(!N||N.isTimeUnspecified)),(0,O.__assign)({range:{start:S?S.marker:null,end:N?N.marker:null},allDay:V},A)}(h,f),A=v.range;if(!A.start)return null;if(!A.end){if(null==p)return null;A.end=f.add(A.start,p)}return v}(v,A.dateEnv,Lt({days:1}));S&&(this.dispatch({type:"SELECT_DATES",selection:S}),Fa(S,null,A))},h.prototype.unselect=function(f){var p=this.getCurrentData();p.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),function Qr(h,f){f.emitter.trigger("unselect",{jsEvent:h?h.origEvent:null,view:f.viewApi||f.calendarApi.view})}(f,p))},h.prototype.addEvent=function(f,p){if(f instanceof Vr){var v=f._def,A=f._instance;return this.getCurrentData().eventStore.defs[v.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Bi({def:v,instance:A})}),this.triggerEventAdd(f)),f}var V,N=this.getCurrentData();if(p instanceof T)V=p.internalEventSource;else if("boolean"==typeof p)p&&(V=ht(N.eventSources)[0]);else if(null!=p){var q=this.getEventSourceById(p);if(!q)return console.warn('Could not find an event source with ID "'+p+'"'),null;V=q.internalEventSource}var X=ia(f,V,N,!1);if(X){var ke=new Vr(N,X.def,X.def.recurringDef?null:X.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Bi(X)}),this.triggerEventAdd(ke),ke}return null},h.prototype.triggerEventAdd=function(f){var p=this;this.getCurrentData().emitter.trigger("eventAdd",{event:f,relatedEvents:[],revert:function(){p.dispatch({type:"REMOVE_EVENTS",eventStore:ks(f)})}})},h.prototype.getEventById=function(f){var p=this.getCurrentData(),v=p.eventStore,A=v.defs,S=v.instances;for(var N in f=String(f),A){var V=A[N];if(V.publicId===f){if(V.recurringDef)return new Vr(p,V,null);for(var q in S){var X=S[q];if(X.defId===V.defId)return new Vr(p,V,X)}}}return null},h.prototype.getEvents=function(){var f=this.getCurrentData();return El(f.eventStore,f)},h.prototype.removeAllEvents=function(){this.dispatch({type:"REMOVE_ALL_EVENTS"})},h.prototype.getEventSources=function(){var f=this.getCurrentData(),p=f.eventSources,v=[];for(var A in p)v.push(new T(f,p[A]));return v},h.prototype.getEventSourceById=function(f){var p=this.getCurrentData(),v=p.eventSources;for(var A in f=String(f),v)if(v[A].publicId===f)return new T(p,v[A]);return null},h.prototype.addEventSource=function(f){var p=this.getCurrentData();if(f instanceof T)return p.eventSources[f.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[f.internalEventSource]}),f;var v=su(f,p);return v?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[v]}),new T(p,v)):null},h.prototype.removeAllEventSources=function(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})},h.prototype.refetchEvents=function(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})},h.prototype.scrollToTime=function(f){var p=Lt(f);p&&this.trigger("_scrollRequest",{time:p})},h}(),Vr=function(){function h(f,p,v){this._context=f,this._def=p,this._instance=v||null}return h.prototype.setProp=function(f,p){var v,A;if(f in ou)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if("id"===f)p=ml[f](p),this.mutate({standardProps:{publicId:p}});else if(f in ml)p=ml[f](p),this.mutate({standardProps:(v={},v[f]=p,v)});else if(f in mo){var S=mo[f](p);"color"===f?S={backgroundColor:p,borderColor:p}:"editable"===f?S={startEditable:p,durationEditable:p}:((A={})[f]=p,S=A),this.mutate({standardProps:{ui:S}})}else console.warn("Could not set prop '"+f+"'. Use setExtendedProp instead.")},h.prototype.setExtendedProp=function(f,p){var v;this.mutate({extendedProps:(v={},v[f]=p,v)})},h.prototype.setStart=function(f,p){void 0===p&&(p={});var v=this._context.dateEnv,A=v.createMarker(f);if(A&&this._instance){var N=oa(this._instance.range.start,A,v,p.granularity);this.mutate(p.maintainDuration?{datesDelta:N}:{startDelta:N})}},h.prototype.setEnd=function(f,p){void 0===p&&(p={});var A,v=this._context.dateEnv;if((null==f||(A=v.createMarker(f)))&&this._instance)if(A){var S=oa(this._instance.range.end,A,v,p.granularity);this.mutate({endDelta:S})}else this.mutate({standardProps:{hasEnd:!1}})},h.prototype.setDates=function(f,p,v){void 0===v&&(v={});var V,A=this._context.dateEnv,S={allDay:v.allDay},N=A.createMarker(f);if(N&&(null==p||(V=A.createMarker(p)))&&this._instance){var q=this._instance.range;!0===v.allDay&&(q=Hi(q));var X=oa(q.start,N,A,v.granularity);if(V){var ke=oa(q.end,V,A,v.granularity);!function Mn(h,f){return h.years===f.years&&h.months===f.months&&h.days===f.days&&h.milliseconds===f.milliseconds}(X,ke)?this.mutate({startDelta:X,endDelta:ke,standardProps:S}):this.mutate({datesDelta:X,standardProps:S})}else S.hasEnd=!1,this.mutate({datesDelta:X,standardProps:S})}},h.prototype.moveStart=function(f){var p=Lt(f);p&&this.mutate({startDelta:p})},h.prototype.moveEnd=function(f){var p=Lt(f);p&&this.mutate({endDelta:p})},h.prototype.moveDates=function(f){var p=Lt(f);p&&this.mutate({datesDelta:p})},h.prototype.setAllDay=function(f,p){void 0===p&&(p={});var v={allDay:f},A=p.maintainDuration;null==A&&(A=this._context.options.allDayMaintainDuration),this._def.allDay!==f&&(v.hasEnd=A),this.mutate({standardProps:v})},h.prototype.formatRange=function(f){var p=this._context.dateEnv,v=this._instance,A=br(f);return this._def.hasEnd?p.formatRange(v.range.start,v.range.end,A,{forcedStartTzo:v.forcedStartTzo,forcedEndTzo:v.forcedEndTzo}):p.format(v.range.start,A,{forcedTzo:v.forcedStartTzo})},h.prototype.mutate=function(f){var p=this._instance;if(p){var v=this._def,A=this._context,S=A.getCurrentData().eventStore,N=Ii(S,p.instanceId);N=aa(N,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},f,A);var q=new h(A,v,p);this._def=N.defs[v.defId],this._instance=N.instances[p.instanceId],A.dispatch({type:"MERGE_EVENTS",eventStore:N}),A.emitter.trigger("eventChange",{oldEvent:q,event:this,relatedEvents:El(N,A,p),revert:function(){A.dispatch({type:"RESET_EVENTS",eventStore:S})}})}},h.prototype.remove=function(){var f=this._context,p=ks(this);f.dispatch({type:"REMOVE_EVENTS",eventStore:p}),f.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert:function(){f.dispatch({type:"MERGE_EVENTS",eventStore:p})}})},Object.defineProperty(h.prototype,"source",{get:function(){var f=this._def.sourceId;return f?new T(this._context,this._context.getCurrentData().eventSources[f]):null},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"start",{get:function(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"end",{get:function(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"startStr",{get:function(){var f=this._instance;return f?this._context.dateEnv.formatIso(f.range.start,{omitTime:this._def.allDay,forcedTzo:f.forcedStartTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"endStr",{get:function(){var f=this._instance;return f&&this._def.hasEnd?this._context.dateEnv.formatIso(f.range.end,{omitTime:this._def.allDay,forcedTzo:f.forcedEndTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"id",{get:function(){return this._def.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"groupId",{get:function(){return this._def.groupId},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"allDay",{get:function(){return this._def.allDay},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"title",{get:function(){return this._def.title},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"url",{get:function(){return this._def.url},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"display",{get:function(){return this._def.ui.display||"auto"},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"startEditable",{get:function(){return this._def.ui.startEditable},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"durationEditable",{get:function(){return this._def.ui.durationEditable},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"constraint",{get:function(){return this._def.ui.constraints[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"overlap",{get:function(){return this._def.ui.overlap},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"allow",{get:function(){return this._def.ui.allows[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"backgroundColor",{get:function(){return this._def.ui.backgroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"borderColor",{get:function(){return this._def.ui.borderColor},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"textColor",{get:function(){return this._def.ui.textColor},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"classNames",{get:function(){return this._def.ui.classNames},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"extendedProps",{get:function(){return this._def.extendedProps},enumerable:!1,configurable:!0}),h.prototype.toPlainObject=function(f){void 0===f&&(f={});var p=this._def,v=p.ui,S=this.startStr,N=this.endStr,V={};return p.title&&(V.title=p.title),S&&(V.start=S),N&&(V.end=N),p.publicId&&(V.id=p.publicId),p.groupId&&(V.groupId=p.groupId),p.url&&(V.url=p.url),v.display&&"auto"!==v.display&&(V.display=v.display),f.collapseColor&&v.backgroundColor&&v.backgroundColor===v.borderColor?V.color=v.backgroundColor:(v.backgroundColor&&(V.backgroundColor=v.backgroundColor),v.borderColor&&(V.borderColor=v.borderColor)),v.textColor&&(V.textColor=v.textColor),v.classNames.length&&(V.classNames=v.classNames),Object.keys(p.extendedProps).length&&(f.collapseExtendedProps?(0,O.__assign)(V,p.extendedProps):V.extendedProps=p.extendedProps),V},h.prototype.toJSON=function(){return this.toPlainObject()},h}();function ks(h){var f,p,v=h._def,A=h._instance;return{defs:(f={},f[v.defId]=v,f),instances:A?(p={},p[A.instanceId]=A,p):{}}}function El(h,f,p){var v=h.defs,A=h.instances,S=[],N=p?p.instanceId:"";for(var V in A){var q=A[V];q.instanceId!==N&&S.push(new Vr(f,v[q.defId],q))}return S}var Rd={};!function fc(h,f){Rd[h]=f}("gregory",function(){function h(){}return h.prototype.getMarkerYear=function(f){return f.getUTCFullYear()},h.prototype.getMarkerMonth=function(f){return f.getUTCMonth()},h.prototype.getMarkerDay=function(f){return f.getUTCDate()},h.prototype.arrayToMarker=function(f){return ue(f)},h.prototype.markerToArray=function(f){return Dn(f)},h}());var Eh=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function Jr(h){var f=Eh.exec(h);if(f){var p=new Date(Date.UTC(Number(f[1]),f[3]?Number(f[3])-1:0,Number(f[5]||1),Number(f[7]||0),Number(f[8]||0),Number(f[10]||0),f[12]?1e3*Number("0."+f[12]):0));if(ve(p)){var v=null;return f[13]&&(v=("-"===f[15]?-1:1)*(60*Number(f[16]||0)+Number(f[18]||0))),{marker:p,isTimeUnspecified:!f[6],timeZoneOffset:v}}}return null}var Go=function(){function h(f){var p=this.timeZone=f.timeZone,v="local"!==p&&"UTC"!==p;f.namedTimeZoneImpl&&v&&(this.namedTimeZoneImpl=new f.namedTimeZoneImpl(p)),this.canComputeOffset=Boolean(!v||this.namedTimeZoneImpl),this.calendarSystem=function Eo(h){return new Rd[h]}(f.calendarSystem),this.locale=f.locale,this.weekDow=f.locale.week.dow,this.weekDoy=f.locale.week.doy,"ISO"===f.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof f.firstDay&&(this.weekDow=f.firstDay),"function"==typeof f.weekNumberCalculation&&(this.weekNumberFunc=f.weekNumberCalculation),this.weekText=null!=f.weekText?f.weekText:f.locale.options.weekText,this.weekTextLong=(null!=f.weekTextLong?f.weekTextLong:f.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=f.cmdFormatter,this.defaultSeparator=f.defaultSeparator}return h.prototype.createMarker=function(f){var p=this.createMarkerMeta(f);return null===p?null:p.marker},h.prototype.createNowMarker=function(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):ue(yr(new Date))},h.prototype.createMarkerMeta=function(f){if("string"==typeof f)return this.parse(f);var p=null;return"number"==typeof f?p=this.timestampToMarker(f):f instanceof Date?(f=f.valueOf(),isNaN(f)||(p=this.timestampToMarker(f))):Array.isArray(f)&&(p=ue(f)),null!==p&&ve(p)?{marker:p,isTimeUnspecified:!1,forcedTzo:null}:null},h.prototype.parse=function(f){var p=Jr(f);if(null===p)return null;var v=p.marker,A=null;return null!==p.timeZoneOffset&&(this.canComputeOffset?v=this.timestampToMarker(v.valueOf()-60*p.timeZoneOffset*1e3):A=p.timeZoneOffset),{marker:v,isTimeUnspecified:p.isTimeUnspecified,forcedTzo:A}},h.prototype.getYear=function(f){return this.calendarSystem.getMarkerYear(f)},h.prototype.getMonth=function(f){return this.calendarSystem.getMarkerMonth(f)},h.prototype.add=function(f,p){var v=this.calendarSystem.markerToArray(f);return v[0]+=p.years,v[1]+=p.months,v[2]+=p.days,v[6]+=p.milliseconds,this.calendarSystem.arrayToMarker(v)},h.prototype.subtract=function(f,p){var v=this.calendarSystem.markerToArray(f);return v[0]-=p.years,v[1]-=p.months,v[2]-=p.days,v[6]-=p.milliseconds,this.calendarSystem.arrayToMarker(v)},h.prototype.addYears=function(f,p){var v=this.calendarSystem.markerToArray(f);return v[0]+=p,this.calendarSystem.arrayToMarker(v)},h.prototype.addMonths=function(f,p){var v=this.calendarSystem.markerToArray(f);return v[1]+=p,this.calendarSystem.arrayToMarker(v)},h.prototype.diffWholeYears=function(f,p){var v=this.calendarSystem;return B(f)===B(p)&&v.getMarkerDay(f)===v.getMarkerDay(p)&&v.getMarkerMonth(f)===v.getMarkerMonth(p)?v.getMarkerYear(p)-v.getMarkerYear(f):null},h.prototype.diffWholeMonths=function(f,p){var v=this.calendarSystem;return B(f)===B(p)&&v.getMarkerDay(f)===v.getMarkerDay(p)?v.getMarkerMonth(p)-v.getMarkerMonth(f)+12*(v.getMarkerYear(p)-v.getMarkerYear(f)):null},h.prototype.greatestWholeUnit=function(f,p){var v=this.diffWholeYears(f,p);return null!==v?{unit:"year",value:v}:null!==(v=this.diffWholeMonths(f,p))?{unit:"month",value:v}:null!==(v=Cn(f,p))?{unit:"week",value:v}:null!==(v=Gn(f,p))?{unit:"day",value:v}:(v=function Ft(h,f){return(f.valueOf()-h.valueOf())/36e5}(f,p),Ot(v)?{unit:"hour",value:v}:(v=function Jn(h,f){return(f.valueOf()-h.valueOf())/6e4}(f,p),Ot(v)?{unit:"minute",value:v}:(v=function En(h,f){return(f.valueOf()-h.valueOf())/1e3}(f,p),Ot(v)?{unit:"second",value:v}:{unit:"millisecond",value:p.valueOf()-f.valueOf()})))},h.prototype.countDurationsBetween=function(f,p,v){var A;return v.years&&null!==(A=this.diffWholeYears(f,p))?A/function Kr(h){return ye(h)/365}(v):v.months&&null!==(A=this.diffWholeMonths(f,p))?A/function Et(h){return ye(h)/30}(v):v.days&&null!==(A=Gn(f,p))?A/ye(v):(p.valueOf()-f.valueOf())/Ht(v)},h.prototype.startOf=function(f,p){return"year"===p?this.startOfYear(f):"month"===p?this.startOfMonth(f):"week"===p?this.startOfWeek(f):"day"===p?sn(f):"hour"===p?function un(h){return ue([h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate(),h.getUTCHours()])}(f):"minute"===p?function Zt(h){return ue([h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate(),h.getUTCHours(),h.getUTCMinutes()])}(f):"second"===p?function Rt(h){return ue([h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate(),h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds()])}(f):null},h.prototype.startOfYear=function(f){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(f)])},h.prototype.startOfMonth=function(f){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(f),this.calendarSystem.getMarkerMonth(f)])},h.prototype.startOfWeek=function(f){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(f),this.calendarSystem.getMarkerMonth(f),f.getUTCDate()-(f.getUTCDay()-this.weekDow+7)%7])},h.prototype.computeWeekNumber=function(f){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(f)):function zn(h,f,p){var v=h.getUTCFullYear(),A=Sr(h,v,f,p);if(A<1)return Sr(h,v-1,f,p);var S=Sr(h,v+1,f,p);return S>=1?Math.min(A,S):A}(f,this.weekDow,this.weekDoy)},h.prototype.format=function(f,p,v){return void 0===v&&(v={}),p.format({marker:f,timeZoneOffset:null!=v.forcedTzo?v.forcedTzo:this.offsetForMarker(f)},this)},h.prototype.formatRange=function(f,p,v,A){return void 0===A&&(A={}),A.isEndExclusive&&(p=Dt(p,-1)),v.formatRange({marker:f,timeZoneOffset:null!=A.forcedStartTzo?A.forcedStartTzo:this.offsetForMarker(f)},{marker:p,timeZoneOffset:null!=A.forcedEndTzo?A.forcedEndTzo:this.offsetForMarker(p)},this,A.defaultSeparator)},h.prototype.formatIso=function(f,p){void 0===p&&(p={});var v=null;return p.omitTimeZoneOffset||(v=null!=p.forcedTzo?p.forcedTzo:this.offsetForMarker(f)),Tn(f,v,p.omitTime)},h.prototype.timestampToMarker=function(f){return"local"===this.timeZone?ue(yr(new Date(f))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?ue(this.namedTimeZoneImpl.timestampToArray(f)):new Date(f)},h.prototype.offsetForMarker=function(f){return"local"===this.timeZone?-tr(Dn(f)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Dn(f)):null},h.prototype.toDate=function(f,p){return"local"===this.timeZone?tr(Dn(f)):"UTC"===this.timeZone?new Date(f.valueOf()):this.namedTimeZoneImpl?new Date(f.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(Dn(f))*60):new Date(f.valueOf()-(p||0))},h}(),Rr=[],Ah={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},xg=(0,O.__assign)((0,O.__assign)({},Ah),{buttonHints:{prev:"Previous $0",next:"Next $0",today:function(h,f){return"day"===f?"Today":"This "+h}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint:function(h){return"Show "+h+" more event"+(1===h?"":"s")}});function wh(h){for(var f=h.length>0?h[0].code:"en",p=Rr.concat(h),v={en:xg},A=0,S=p;A<S.length;A++){var N=S[A];v[N.code]=N}return{map:v,defaultCode:f}}function kd(h,f){return"object"!=typeof h||Array.isArray(h)?function Mg(h,f){var p=[].concat(h||[]),v=function Nd(h,f){for(var p=0;p<h.length;p+=1)for(var v=h[p].toLocaleLowerCase().split("-"),A=v.length;A>0;A-=1){var S=v.slice(0,A).join("-");if(f[S])return f[S]}return null}(p,f)||xg;return zo(h,p,v)}(h,f):zo(h.code,[h.code],h)}function zo(h,f,p){var v=le([Ah,p],["buttonText"]);delete v.code;var A=v.week;return delete v.week,{codeArg:h,codes:f,week:A,simpleNumberFormat:new Intl.NumberFormat(h),options:v}}function Al(h,f){void 0===f&&(f={});var p=hc(f),v=br(f),A=p.createMarkerMeta(h);return A?p.format(A.marker,v,{forcedTzo:A.forcedTzo}):""}function uu(h,f,p){var v=hc("object"==typeof p&&p?p:{}),A=br(p),S=v.createMarkerMeta(h),N=v.createMarkerMeta(f);return S&&N?v.formatRange(S.marker,N.marker,A,{forcedStartTzo:S.forcedTzo,forcedEndTzo:N.forcedTzo,isEndExclusive:p.isEndExclusive,defaultSeparator:Lo.defaultRangeSeparator}):""}function hc(h){var f=kd(h.locale||"en",wh([]).map);return new Go((0,O.__assign)((0,O.__assign)({timeZone:Lo.timeZone,calendarSystem:"gregory"},h),{locale:f}))}var gr,Ch={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function Dh(h,f){return xs(function fs(h){return(!0===h?[{}]:Array.isArray(h)?h.filter(function(p){return p.daysOfWeek}):"object"==typeof h&&h?[h]:[]).map(function(p){return(0,O.__assign)((0,O.__assign)({},Ch),p)})}(h),null,f)}function Va(h,f){return h.left>=f.left&&h.left<f.right&&h.top>=f.top&&h.top<f.bottom}function Th(h,f){var p={left:Math.max(h.left,f.left),right:Math.min(h.right,f.right),top:Math.max(h.top,f.top),bottom:Math.min(h.bottom,f.bottom)};return p.left<p.right&&p.top<p.bottom&&p}function wl(h,f,p){return{left:h.left+f,right:h.right+f,top:h.top+p,bottom:h.bottom+p}}function Ba(h,f){return{left:Math.min(Math.max(h.left,f.left),f.right),top:Math.min(Math.max(h.top,f.top),f.bottom)}}function cu(h){return{left:(h.left+h.right)/2,top:(h.top+h.bottom)/2}}function Rg(h,f){return{left:h.left-f.left,top:h.top-f.top}}function qo(){return null==gr&&(gr=function Ih(){if("undefined"==typeof document)return!0;var h=document.createElement("div");h.style.position="absolute",h.style.top="0px",h.style.left="0px",h.innerHTML="<table><tr><td><div></div></td></tr></table>",h.querySelector("table").style.height="100px",h.querySelector("div").style.height="100%",document.body.appendChild(h);var p=h.querySelector("div").offsetHeight>0;return document.body.removeChild(h),p}()),gr}var Cl={defs:{},instances:{}},du=function(){function h(){this.getKeysForEventDefs=Vn(this._getKeysForEventDefs),this.splitDateSelection=Vn(this._splitDateSpan),this.splitEventStore=Vn(this._splitEventStore),this.splitIndividualUi=Vn(this._splitIndividualUi),this.splitEventDrag=Vn(this._splitInteraction),this.splitEventResize=Vn(this._splitInteraction),this.eventUiBuilders={}}return h.prototype.splitProps=function(f){var p=this,v=this.getKeyInfo(f),A=this.getKeysForEventDefs(f.eventStore),S=this.splitDateSelection(f.dateSelection),N=this.splitIndividualUi(f.eventUiBases,A),V=this.splitEventStore(f.eventStore,A),q=this.splitEventDrag(f.eventDrag),X=this.splitEventResize(f.eventResize),ke={};for(var Ue in this.eventUiBuilders=ge(v,function(Kt,an){return p.eventUiBuilders[an]||Vn(pc)}),v){var dt=v[Ue],vt=V[Ue]||Cl;ke[Ue]={businessHours:dt.businessHours||f.businessHours,dateSelection:S[Ue]||null,eventStore:vt,eventUiBases:(0,this.eventUiBuilders[Ue])(f.eventUiBases[""],dt.ui,N[Ue]),eventSelection:vt.instances[f.eventSelection]?f.eventSelection:"",eventDrag:q[Ue]||null,eventResize:X[Ue]||null}}return ke},h.prototype._splitDateSpan=function(f){var p={};if(f)for(var A=0,S=this.getKeysForDateSpan(f);A<S.length;A++)p[S[A]]=f;return p},h.prototype._getKeysForEventDefs=function(f){var p=this;return ge(f.defs,function(v){return p.getKeysForEventDef(v)})},h.prototype._splitEventStore=function(f,p){var v=f.defs,A=f.instances,S={};for(var N in v)for(var V=0,q=p[N];V<q.length;V++)S[X=q[V]]||(S[X]={defs:{},instances:{}}),S[X].defs[N]=v[N];for(var ke in A)for(var Ue=A[ke],dt=0,vt=p[Ue.defId];dt<vt.length;dt++){var X;S[X=vt[dt]]&&(S[X].instances[ke]=Ue)}return S},h.prototype._splitIndividualUi=function(f,p){var v={};for(var A in f)if(A)for(var S=0,N=p[A];S<N.length;S++){var V=N[S];v[V]||(v[V]={}),v[V][A]=f[A]}return v},h.prototype._splitInteraction=function(f){var p={};if(f){var v=this._splitEventStore(f.affectedEvents,this._getKeysForEventDefs(f.affectedEvents)),A=this._getKeysForEventDefs(f.mutatedEvents),S=this._splitEventStore(f.mutatedEvents,A),N=function(q){p[q]||(p[q]={affectedEvents:v[q]||Cl,mutatedEvents:S[q]||Cl,isEvent:f.isEvent})};for(var V in v)N(V);for(var V in S)N(V)}return p},h}();function pc(h,f,p){var v=[];h&&v.push(h),f&&v.push(f);var A={"":Nr(v)};return p&&(0,O.__assign)(A,p),A}function la(h,f,p,v){return{dow:h.getUTCDay(),isDisabled:Boolean(v&&!we(v.activeRange,h)),isOther:Boolean(v&&!we(v.currentRange,h)),isToday:Boolean(f&&we(f,h)),isPast:Boolean(p?h<p:!!f&&h<f.start),isFuture:Boolean(p?h>p:!!f&&h>=f.end)}}function hs(h,f){var p=["fc-day","fc-day-"+vn[h.dow]];return h.isDisabled?p.push("fc-day-disabled"):(h.isToday&&(p.push("fc-day-today"),p.push(f.getClass("today"))),h.isPast&&p.push("fc-day-past"),h.isFuture&&p.push("fc-day-future"),h.isOther&&p.push("fc-day-other")),p}function Ua(h,f){var p=["fc-slot","fc-slot-"+vn[h.dow]];return h.isDisabled?p.push("fc-slot-disabled"):(h.isToday&&(p.push("fc-slot-today"),p.push(f.getClass("today"))),h.isPast&&p.push("fc-slot-past"),h.isFuture&&p.push("fc-slot-future")),p}var or=br({year:"numeric",month:"long",day:"numeric"}),_i=br({week:"long"});function dn(h,f,p,v){void 0===p&&(p="day"),void 0===v&&(v=!0);var A=h.dateEnv,S=h.options,N=h.calendarApi,V=A.format(f,"week"===p?_i:or);if(S.navLinks){var q=A.toDate(f),X=function(ke){var Ue="day"===p?S.navLinkDayClick:"week"===p?S.navLinkWeekClick:null;"function"==typeof Ue?Ue.call(N,A.toDate(f),ke):("string"==typeof Ue&&(p=Ue),N.zoomTo(f,p))};return(0,O.__assign)({title:Ct(S.navLinkHint,[V,q],V),"data-navlink":""},v?Xe(X):{onClick:X})}return{"aria-label":V}}var Tl,Dl=null;function ua(){return null===Dl&&(Dl=function Sh(){var h=document.createElement("div");je(h,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),h.innerHTML="<div></div>",document.body.appendChild(h);var p=h.firstChild.getBoundingClientRect().left>h.getBoundingClientRect().left;return F(h),p}()),Dl}function fu(){return Tl||(Tl=function Pd(){var h=document.createElement("div");h.style.overflow="scroll",h.style.position="absolute",h.style.top="-9999px",h.style.left="-9999px",document.body.appendChild(h);var f=Ao(h);return document.body.removeChild(h),f}()),Tl}function Ao(h){return{x:h.offsetHeight-h.clientHeight,y:h.offsetWidth-h.clientWidth}}function ci(h,f){void 0===f&&(f=!1);var p=window.getComputedStyle(h),v=parseInt(p.borderLeftWidth,10)||0,A=parseInt(p.borderRightWidth,10)||0,S=parseInt(p.borderTopWidth,10)||0,N=parseInt(p.borderBottomWidth,10)||0,V=Ao(h),q=V.y-v-A,ke={borderLeft:v,borderRight:A,borderTop:S,borderBottom:N,scrollbarBottom:V.x-S-N,scrollbarLeft:0,scrollbarRight:0};return ua()&&"rtl"===p.direction?ke.scrollbarLeft=q:ke.scrollbarRight=q,f&&(ke.paddingLeft=parseInt(p.paddingLeft,10)||0,ke.paddingRight=parseInt(p.paddingRight,10)||0,ke.paddingTop=parseInt(p.paddingTop,10)||0,ke.paddingBottom=parseInt(p.paddingBottom,10)||0),ke}function ca(h,f,p){void 0===f&&(f=!1);var v=p?h.getBoundingClientRect():Ns(h),A=ci(h,f),S={left:v.left+A.borderLeft+A.scrollbarLeft,right:v.right-A.borderRight-A.scrollbarRight,top:v.top+A.borderTop,bottom:v.bottom-A.borderBottom-A.scrollbarBottom};return f&&(S.left+=A.paddingLeft,S.right-=A.paddingRight,S.top+=A.paddingTop,S.bottom-=A.paddingBottom),S}function Ns(h){var f=h.getBoundingClientRect();return{left:f.left+window.pageXOffset,top:f.top+window.pageYOffset,right:f.right+window.pageXOffset,bottom:f.bottom+window.pageYOffset}}function Ha(h){return h.getBoundingClientRect().height+function Od(h){var f=window.getComputedStyle(h);return parseInt(f.marginTop,10)+parseInt(f.marginBottom,10)}(h)}function Xi(h){for(var f=[];h instanceof HTMLElement;){var p=window.getComputedStyle(h);if("fixed"===p.position)break;/(auto|scroll)/.test(p.overflow+p.overflowY+p.overflowX)&&f.push(h),h=h.parentNode}return f}function Wo(h,f,p){var v=!1,A=function(){v||(v=!0,f.apply(this,arguments))},S=function(){v||(v=!0,p&&p.apply(this,arguments))},N=h(A,S);N&&"function"==typeof N.then&&N.then(A,S)}var da=function(){function h(){this.handlers={},this.thisContext=null}return h.prototype.setThisContext=function(f){this.thisContext=f},h.prototype.setOptions=function(f){this.options=f},h.prototype.on=function(f,p){!function Wr(h,f,p){(h[f]||(h[f]=[])).push(p)}(this.handlers,f,p)},h.prototype.off=function(f,p){!function Ps(h,f,p){p?h[f]&&(h[f]=h[f].filter(function(v){return v!==p})):delete h[f]}(this.handlers,f,p)},h.prototype.trigger=function(f){for(var p=[],v=1;v<arguments.length;v++)p[v-1]=arguments[v];for(var A=this.handlers[f]||[],S=this.options&&this.options[f],N=[].concat(S||[],A),V=0,q=N;V<q.length;V++){var X=q[V];X.apply(this.thisContext,p)}},h.prototype.hasHandlers=function(f){return Boolean(this.handlers[f]&&this.handlers[f].length||this.options&&this.options[f])},h}(),xh=function(){function h(f,p,v,A){this.els=p;var S=this.originClientRect=f.getBoundingClientRect();v&&this.buildElHorizontals(S.left),A&&this.buildElVerticals(S.top)}return h.prototype.buildElHorizontals=function(f){for(var p=[],v=[],A=0,S=this.els;A<S.length;A++){var V=S[A].getBoundingClientRect();p.push(V.left-f),v.push(V.right-f)}this.lefts=p,this.rights=v},h.prototype.buildElVerticals=function(f){for(var p=[],v=[],A=0,S=this.els;A<S.length;A++){var V=S[A].getBoundingClientRect();p.push(V.top-f),v.push(V.bottom-f)}this.tops=p,this.bottoms=v},h.prototype.leftToIndex=function(f){var N,v=this.lefts,A=this.rights,S=v.length;for(N=0;N<S;N+=1)if(f>=v[N]&&f<A[N])return N},h.prototype.topToIndex=function(f){var N,v=this.tops,A=this.bottoms,S=v.length;for(N=0;N<S;N+=1)if(f>=v[N]&&f<A[N])return N},h.prototype.getWidth=function(f){return this.rights[f]-this.lefts[f]},h.prototype.getHeight=function(f){return this.bottoms[f]-this.tops[f]},h}(),pu=function(){function h(){}return h.prototype.getMaxScrollTop=function(){return this.getScrollHeight()-this.getClientHeight()},h.prototype.getMaxScrollLeft=function(){return this.getScrollWidth()-this.getClientWidth()},h.prototype.canScrollVertically=function(){return this.getMaxScrollTop()>0},h.prototype.canScrollHorizontally=function(){return this.getMaxScrollLeft()>0},h.prototype.canScrollUp=function(){return this.getScrollTop()>0},h.prototype.canScrollDown=function(){return this.getScrollTop()<this.getMaxScrollTop()},h.prototype.canScrollLeft=function(){return this.getScrollLeft()>0},h.prototype.canScrollRight=function(){return this.getScrollLeft()<this.getMaxScrollLeft()},h}(),fa=function(h){function f(p){var v=h.call(this)||this;return v.el=p,v}return(0,O.__extends)(f,h),f.prototype.getScrollTop=function(){return this.el.scrollTop},f.prototype.getScrollLeft=function(){return this.el.scrollLeft},f.prototype.setScrollTop=function(p){this.el.scrollTop=p},f.prototype.setScrollLeft=function(p){this.el.scrollLeft=p},f.prototype.getScrollWidth=function(){return this.el.scrollWidth},f.prototype.getScrollHeight=function(){return this.el.scrollHeight},f.prototype.getClientHeight=function(){return this.el.clientHeight},f.prototype.getClientWidth=function(){return this.el.clientWidth},f}(pu),Fd=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return(0,O.__extends)(f,h),f.prototype.getScrollTop=function(){return window.pageYOffset},f.prototype.getScrollLeft=function(){return window.pageXOffset},f.prototype.setScrollTop=function(p){window.scroll(window.pageXOffset,p)},f.prototype.setScrollLeft=function(p){window.scroll(p,window.pageYOffset)},f.prototype.getScrollWidth=function(){return document.documentElement.scrollWidth},f.prototype.getScrollHeight=function(){return document.documentElement.scrollHeight},f.prototype.getClientHeight=function(){return document.documentElement.clientHeight},f.prototype.getClientWidth=function(){return document.documentElement.clientWidth},f}(pu),Os=function(){function h(f){this.iconOverrideOption&&this.setIconOverride(f[this.iconOverrideOption])}return h.prototype.setIconOverride=function(f){var p,v;if("object"==typeof f&&f){for(v in p=(0,O.__assign)({},this.iconClasses),f)p[v]=this.applyIconOverridePrefix(f[v]);this.iconClasses=p}else!1===f&&(this.iconClasses={})},h.prototype.applyIconOverridePrefix=function(f){var p=this.iconOverridePrefix;return p&&0!==f.indexOf(p)&&(f=p+f),f},h.prototype.getClass=function(f){return this.classes[f]||""},h.prototype.getIconClass=function(f,p){var v;return(v=p&&this.rtlIconClasses&&this.rtlIconClasses[f]||this.iconClasses[f])?this.baseIconClass+" "+v:""},h.prototype.getCustomButtonIconClass=function(f){var p;return this.iconOverrideCustomButtonOption&&(p=f[this.iconOverrideCustomButtonOption])?this.baseIconClass+" "+this.applyIconOverridePrefix(p):""},h}();Os.prototype.classes={},Os.prototype.iconClasses={},Os.prototype.baseIconClass="",Os.prototype.iconOverridePrefix="";var gu=function(){function h(f,p,v,A){var S=this;this.execFunc=f,this.emitter=p,this.scrollTime=v,this.scrollTimeReset=A,this.handleScrollRequest=function(N){S.queuedRequest=(0,O.__assign)({},S.queuedRequest||{},N),S.drain()},p.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}return h.prototype.detach=function(){this.emitter.off("_scrollRequest",this.handleScrollRequest)},h.prototype.update=function(f){f&&this.scrollTimeReset?this.fireInitialScroll():this.drain()},h.prototype.fireInitialScroll=function(){this.handleScrollRequest({time:this.scrollTime})},h.prototype.drain=function(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)},h}(),Xr=Me({});function gc(h,f,p,v,A,S,N,V,q,X,ke,Ue,dt){return{dateEnv:A,options:p,pluginHooks:N,emitter:X,dispatch:V,getCurrentData:q,calendarApi:ke,viewSpec:h,viewApi:f,dateProfileGenerator:v,theme:S,isRtl:"rtl"===p.direction,addResizeHandler:function(vt){X.on("_resize",vt)},removeResizeHandler:function(vt){X.off("_resize",vt)},createScrollResponder:function(vt){return new gu(vt,X,Lt(p.scrollTime),p.scrollTimeReset)},registerInteractiveComponent:Ue,unregisterInteractiveComponent:dt}}var Fs=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return(0,O.__extends)(f,h),f.prototype.shouldComponentUpdate=function(p,v){return this.debug&&console.log(qt(p,this.props),qt(v,this.state)),!Ie(this.props,p,this.propEquality)||!Ie(this.state,v,this.stateEquality)},f.addPropsEquality=ps,f.addStateEquality=ha,f.contextType=Xr,f}(k);Fs.prototype.propEquality={},Fs.prototype.stateEquality={};var pr=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return(0,O.__extends)(f,h),f.contextType=Xr,f}(Fs);function ps(h){var f=Object.create(this.prototype.propEquality);(0,O.__assign)(f,h),this.prototype.propEquality=f}function ha(h){var f=Object.create(this.prototype.stateEquality);(0,O.__assign)(f,h),this.prototype.stateEquality=f}function ei(h,f){"function"==typeof h?h(f):h&&(h.current=f)}var mu=function(h){function f(){var p=null!==h&&h.apply(this,arguments)||this;return p.uid=Qt(),p}return(0,O.__extends)(f,h),f.prototype.prepareHits=function(){},f.prototype.queryHit=function(p,v,A,S){return null},f.prototype.isValidSegDownEl=function(p){return!this.props.eventDrag&&!this.props.eventResize&&!H(p,".fc-event-mirror")},f.prototype.isValidDateDownEl=function(p){return!(H(p,".fc-event:not(.fc-bg-event)")||H(p,".fc-more-link")||H(p,"a[data-navlink]")||H(p,".fc-popover"))},f}(pr);function Zo(h){return{id:Qt(),deps:h.deps||[],reducers:h.reducers||[],isLoadingFuncs:h.isLoadingFuncs||[],contextInit:[].concat(h.contextInit||[]),eventRefiners:h.eventRefiners||{},eventDefMemberAdders:h.eventDefMemberAdders||[],eventSourceRefiners:h.eventSourceRefiners||{},isDraggableTransformers:h.isDraggableTransformers||[],eventDragMutationMassagers:h.eventDragMutationMassagers||[],eventDefMutationAppliers:h.eventDefMutationAppliers||[],dateSelectionTransformers:h.dateSelectionTransformers||[],datePointTransforms:h.datePointTransforms||[],dateSpanTransforms:h.dateSpanTransforms||[],views:h.views||{},viewPropsTransformers:h.viewPropsTransformers||[],isPropsValid:h.isPropsValid||null,externalDefTransforms:h.externalDefTransforms||[],viewContainerAppends:h.viewContainerAppends||[],eventDropTransformers:h.eventDropTransformers||[],componentInteractions:h.componentInteractions||[],calendarInteractions:h.calendarInteractions||[],themeClasses:h.themeClasses||{},eventSourceDefs:h.eventSourceDefs||[],cmdFormatter:h.cmdFormatter,recurringTypes:h.recurringTypes||[],namedTimeZonedImpl:h.namedTimeZonedImpl,initialView:h.initialView||"",elementDraggingImpl:h.elementDraggingImpl,optionChangeHandlers:h.optionChangeHandlers||{},scrollGridImpl:h.scrollGridImpl||null,contentTypeHandlers:h.contentTypeHandlers||{},listenerRefiners:h.listenerRefiners||{},optionRefiners:h.optionRefiners||{},propSetHandlers:h.propSetHandlers||{}}}function Ld(h,f){return{reducers:h.reducers.concat(f.reducers),isLoadingFuncs:h.isLoadingFuncs.concat(f.isLoadingFuncs),contextInit:h.contextInit.concat(f.contextInit),eventRefiners:(0,O.__assign)((0,O.__assign)({},h.eventRefiners),f.eventRefiners),eventDefMemberAdders:h.eventDefMemberAdders.concat(f.eventDefMemberAdders),eventSourceRefiners:(0,O.__assign)((0,O.__assign)({},h.eventSourceRefiners),f.eventSourceRefiners),isDraggableTransformers:h.isDraggableTransformers.concat(f.isDraggableTransformers),eventDragMutationMassagers:h.eventDragMutationMassagers.concat(f.eventDragMutationMassagers),eventDefMutationAppliers:h.eventDefMutationAppliers.concat(f.eventDefMutationAppliers),dateSelectionTransformers:h.dateSelectionTransformers.concat(f.dateSelectionTransformers),datePointTransforms:h.datePointTransforms.concat(f.datePointTransforms),dateSpanTransforms:h.dateSpanTransforms.concat(f.dateSpanTransforms),views:(0,O.__assign)((0,O.__assign)({},h.views),f.views),viewPropsTransformers:h.viewPropsTransformers.concat(f.viewPropsTransformers),isPropsValid:f.isPropsValid||h.isPropsValid,externalDefTransforms:h.externalDefTransforms.concat(f.externalDefTransforms),viewContainerAppends:h.viewContainerAppends.concat(f.viewContainerAppends),eventDropTransformers:h.eventDropTransformers.concat(f.eventDropTransformers),calendarInteractions:h.calendarInteractions.concat(f.calendarInteractions),componentInteractions:h.componentInteractions.concat(f.componentInteractions),themeClasses:(0,O.__assign)((0,O.__assign)({},h.themeClasses),f.themeClasses),eventSourceDefs:h.eventSourceDefs.concat(f.eventSourceDefs),cmdFormatter:f.cmdFormatter||h.cmdFormatter,recurringTypes:h.recurringTypes.concat(f.recurringTypes),namedTimeZonedImpl:f.namedTimeZonedImpl||h.namedTimeZonedImpl,initialView:h.initialView||f.initialView,elementDraggingImpl:h.elementDraggingImpl||f.elementDraggingImpl,optionChangeHandlers:(0,O.__assign)((0,O.__assign)({},h.optionChangeHandlers),f.optionChangeHandlers),scrollGridImpl:f.scrollGridImpl||h.scrollGridImpl,contentTypeHandlers:(0,O.__assign)((0,O.__assign)({},h.contentTypeHandlers),f.contentTypeHandlers),listenerRefiners:(0,O.__assign)((0,O.__assign)({},h.listenerRefiners),f.listenerRefiners),optionRefiners:(0,O.__assign)((0,O.__assign)({},h.optionRefiners),f.optionRefiners),propSetHandlers:(0,O.__assign)((0,O.__assign)({},h.propSetHandlers),f.propSetHandlers)}}var nr=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return(0,O.__extends)(f,h),f}(Os);function vu(h,f,p,v){if(f[h])return f[h];var A=function Mh(h,f,p,v){var A=p[h],S=v[h],N=function(ke){return A&&null!==A[ke]?A[ke]:S&&null!==S[ke]?S[ke]:null},V=N("component"),q=N("superType"),X=null;if(q){if(q===h)throw new Error("Can't have a custom view type that references itself");X=vu(q,f,p,v)}return!V&&X&&(V=X.component),V?{type:h,component:V,defaults:(0,O.__assign)((0,O.__assign)({},X?X.defaults:{}),A?A.rawOptions:{}),overrides:(0,O.__assign)((0,O.__assign)({},X?X.overrides:{}),S?S.rawOptions:{})}:null}(h,f,p,v);return A&&(f[h]=A),A}nr.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"},nr.prototype.baseIconClass="fc-icon",nr.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},nr.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"},nr.prototype.iconOverrideOption="buttonIcons",nr.prototype.iconOverrideCustomButtonOption="icon",nr.prototype.iconOverridePrefix="fc-icon-";var gs=function(h){function f(){var p=null!==h&&h.apply(this,arguments)||this;return p.rootElRef=Ce(),p.handleRootEl=function(v){ei(p.rootElRef,v),p.props.elRef&&ei(p.props.elRef,v)},p}return(0,O.__extends)(f,h),f.prototype.render=function(){var p=this,v=this.props,A=v.hookProps;return G(wo,{hookProps:A,didMount:v.didMount,willUnmount:v.willUnmount,elRef:this.handleRootEl},function(S){return G(yu,{hookProps:A,content:v.content,defaultContent:v.defaultContent,backupElRef:p.rootElRef},function(N,V){return v.children(S,Ar(v.classNames,A),N,V)})})},f}(pr),Bd=Me(0);function yu(h){return G(Bd.Consumer,null,function(f){return G(vc,(0,O.__assign)({renderId:f},h))})}var vc=function(h){function f(){var p=null!==h&&h.apply(this,arguments)||this;return p.innerElRef=Ce(),p}return(0,O.__extends)(f,h),f.prototype.render=function(){return this.props.children(this.innerElRef,this.renderInnerContent())},f.prototype.componentDidMount=function(){this.updateCustomContent()},f.prototype.componentDidUpdate=function(){this.updateCustomContent()},f.prototype.componentWillUnmount=function(){this.customContentInfo&&this.customContentInfo.destroy&&this.customContentInfo.destroy()},f.prototype.renderInnerContent=function(){var p=this.customContentInfo,v=this.getInnerContent(),A=this.getContentMeta(v);return p&&p.contentKey===A.contentKey?p&&(p.contentVal=v[A.contentKey]):(p&&(p.destroy&&p.destroy(),p=this.customContentInfo=null),A.contentKey&&(p=this.customContentInfo=(0,O.__assign)({contentKey:A.contentKey,contentVal:v[A.contentKey]},A.buildLifecycleFuncs()))),p?[]:v},f.prototype.getInnerContent=function(){var p=this.props,v=Co(p.content,p.hookProps);return void 0===v&&(v=Co(p.defaultContent,p.hookProps)),null==v?null:v},f.prototype.getContentMeta=function(p){var v=this.context.pluginHooks.contentTypeHandlers,A="",S=null;if(p)for(var N in v)if(void 0!==p[N]){A=N,S=v[N];break}return{contentKey:A,buildLifecycleFuncs:S}},f.prototype.updateCustomContent=function(){this.customContentInfo&&this.customContentInfo.render(this.innerElRef.current||this.props.backupElRef.current,this.customContentInfo.contentVal)},f}(pr),wo=function(h){function f(){var p=null!==h&&h.apply(this,arguments)||this;return p.handleRootEl=function(v){p.rootEl=v,p.props.elRef&&ei(p.props.elRef,v)},p}return(0,O.__extends)(f,h),f.prototype.render=function(){return this.props.children(this.handleRootEl)},f.prototype.componentDidMount=function(){var p=this.props.didMount;p&&p((0,O.__assign)((0,O.__assign)({},this.props.hookProps),{el:this.rootEl}))},f.prototype.componentWillUnmount=function(){var p=this.props.willUnmount;p&&p((0,O.__assign)((0,O.__assign)({},this.props.hookProps),{el:this.rootEl}))},f}(pr);function yc(){var h,f,p=[];return function(v,A){return(!f||!lt(f,A)||v!==h)&&(h=v,f=A,p=Ar(v,A)),p}}function Ar(h,f){return"function"==typeof h&&(h=h(f)),Vo(h)}function Co(h,f){return"function"==typeof h?h(f,G):h}var Tr=function(h){function f(){var p=null!==h&&h.apply(this,arguments)||this;return p.normalizeClassNames=yc(),p}return(0,O.__extends)(f,h),f.prototype.render=function(){var v=this.props,A=this.context,S=A.options,N={view:A.viewApi},V=this.normalizeClassNames(S.viewClassNames,N);return G(wo,{hookProps:N,didMount:S.viewDidMount,willUnmount:S.viewWillUnmount,elRef:v.elRef},function(q){return v.children(q,["fc-"+v.viewSpec.type+"-view","fc-view"].concat(V))})},f}(pr);function Ud(h){return ge(h,Hd)}function Hd(h){var f="function"==typeof h?{component:h}:h,p=f.component;return f.content&&(p=function Si(h){return function(f){return G(Xr.Consumer,null,function(p){return G(Tr,{viewSpec:p.viewSpec},function(v,A){var S=(0,O.__assign)((0,O.__assign)({},f),{nextDayThreshold:p.options.nextDayThreshold});return G(gs,{hookProps:S,classNames:h.classNames,content:h.content,didMount:h.didMount,willUnmount:h.willUnmount,elRef:v},function(N,V,q,X){return G("div",{className:A.concat(V).join(" "),ref:N},X)})})})}}(f)),{superType:f.type,component:p,rawOptions:f}}function ti(h,f,p,v){var A=Ud(h),S=Ud(f.views),N=function Vd(h,f){var v,p={};for(v in h)vu(v,p,h,f);for(v in f)vu(v,p,h,f);return p}(A,S);return ge(N,function(V){return function jd(h,f,p,v,A){var S=h.overrides.duration||h.defaults.duration||v.duration||p.duration,N=null,V="",q="",X={};if(S&&(N=function Ls(h){var f=JSON.stringify(h),p=ms[f];return void 0===p&&(p=Lt(h),ms[f]=p),p}(S))){var ke=Nn(N);V=ke.unit,1===ke.value&&(q=V,X=f[V]?f[V].rawOptions:{})}var Ue=function(vt){var At=vt.buttonText||{},Kt=h.defaults.buttonTextKey;return null!=Kt&&null!=At[Kt]?At[Kt]:null!=At[h.type]?At[h.type]:null!=At[q]?At[q]:null},dt=function(vt){var At=vt.buttonHints||{},Kt=h.defaults.buttonTextKey;return null!=Kt&&null!=At[Kt]?At[Kt]:null!=At[h.type]?At[h.type]:null!=At[q]?At[q]:null};return{type:h.type,component:h.component,duration:N,durationUnit:V,singleUnit:q,optionDefaults:h.defaults,optionOverrides:(0,O.__assign)((0,O.__assign)({},X),h.overrides),buttonTextOverride:Ue(v)||Ue(p)||h.overrides.buttonText,buttonTextDefault:Ue(A)||h.defaults.buttonText||Ue(Lo)||h.type,buttonTitleOverride:dt(v)||dt(p)||h.overrides.buttonHint,buttonTitleDefault:dt(A)||h.defaults.buttonHint||dt(Lo)}}(V,S,f,p,v)})}var ms={},vs=function(){function h(f){this.props=f,this.nowDate=bl(f.nowInput,f.dateEnv),this.initHiddenDays()}return h.prototype.buildPrev=function(f,p,v){var A=this.props.dateEnv,S=A.subtract(A.startOf(p,f.currentRangeUnit),f.dateIncrement);return this.build(S,-1,v)},h.prototype.buildNext=function(f,p,v){var A=this.props.dateEnv,S=A.add(A.startOf(p,f.currentRangeUnit),f.dateIncrement);return this.build(S,1,v)},h.prototype.build=function(f,p,v){void 0===v&&(v=!0);var S,N,V,q,X,ke,A=this.props;return S=this.buildValidRange(),S=this.trimHiddenDays(S),v&&(f=function Ge(h,f){return null!=f.start&&h<f.start?f.start:null!=f.end&&h>=f.end?new Date(f.end.valueOf()-1):h}(f,S)),N=this.buildCurrentRangeInfo(f,p),V=/^(year|month|week|day)$/.test(N.unit),q=this.buildRenderRange(this.trimHiddenDays(N.range),N.unit,V),X=q=this.trimHiddenDays(q),A.showNonCurrentDates||(X=Uo(X,N.range)),X=Uo(X=this.adjustActiveRange(X),S),ke=K(N.range,S),{validRange:S,currentRange:N.range,currentRangeUnit:N.unit,isRangeAllDay:V,activeRange:X,renderRange:q,slotMinTime:A.slotMinTime,slotMaxTime:A.slotMaxTime,isValid:ke,dateIncrement:this.buildDateIncrement(N.duration)}},h.prototype.buildValidRange=function(){var f=this.props.validRangeInput,p="function"==typeof f?f.call(this.props.calendarApi,this.nowDate):f;return this.refineRange(p)||{start:null,end:null}},h.prototype.buildCurrentRangeInfo=function(f,p){var V,v=this.props,A=null,S=null,N=null;return v.duration?N=this.buildRangeFromDuration(f,p,A=v.duration,S=v.durationUnit):(V=this.props.dayCount)?(S="day",N=this.buildRangeFromDayCount(f,p,V)):(N=this.buildCustomVisibleRange(f))?S=v.dateEnv.greatestWholeUnit(N.start,N.end).unit:(S=Nn(A=this.getFallbackDuration()).unit,N=this.buildRangeFromDuration(f,p,A,S)),{duration:A,unit:S,range:N}},h.prototype.getFallbackDuration=function(){return Lt({day:1})},h.prototype.adjustActiveRange=function(f){var p=this.props,v=p.dateEnv,S=p.slotMinTime,N=p.slotMaxTime,V=f.start,q=f.end;return p.usesMinMaxTime&&(ye(S)<0&&(V=sn(V),V=v.add(V,S)),ye(N)>1&&(q=$e(q=sn(q),-1),q=v.add(q,N))),{start:V,end:q}},h.prototype.buildRangeFromDuration=function(f,p,v,A){var q,X,ke,S=this.props,N=S.dateEnv,V=S.dateAlignment;if(!V){var Ue=this.props.dateIncrement;V=Ue&&Ht(Ue)<Ht(v)?Nn(Ue).unit:A}function dt(){q=N.startOf(f,V),X=N.add(q,v),ke={start:q,end:X}}return ye(v)<=1&&this.isHiddenDay(q)&&(q=sn(q=this.skipHiddenDays(q,p))),dt(),this.trimHiddenDays(ke)||(f=this.skipHiddenDays(f,p),dt()),ke},h.prototype.buildRangeFromDayCount=function(f,p,v){var X,A=this.props,N=A.dateAlignment,V=0,q=f;N&&(q=A.dateEnv.startOf(q,N)),q=sn(q),X=q=this.skipHiddenDays(q,p);do{X=$e(X,1),this.isHiddenDay(X)||(V+=1)}while(V<v);return{start:q,end:X}},h.prototype.buildCustomVisibleRange=function(f){var p=this.props,v=p.visibleRangeInput,A="function"==typeof v?v.call(p.calendarApi,p.dateEnv.toDate(f)):v,S=this.refineRange(A);return!S||null!=S.start&&null!=S.end?S:null},h.prototype.buildRenderRange=function(f,p,v){return f},h.prototype.buildDateIncrement=function(f){var v;return this.props.dateIncrement||((v=this.props.dateAlignment)?Lt(1,v):f||Lt({days:1}))},h.prototype.refineRange=function(f){if(f){var p=function Pa(h,f){var p=null,v=null;return h.start&&(p=f.createMarker(h.start)),h.end&&(v=f.createMarker(h.end)),!p&&!v||p&&v&&v<p?null:{start:p,end:v}}(f,this.props.dateEnv);return p&&(p=vo(p)),p}return null},h.prototype.initHiddenDays=function(){var A,f=this.props.hiddenDays||[],p=[],v=0;for(!1===this.props.weekends&&f.push(0,6),A=0;A<7;A+=1)(p[A]=-1!==f.indexOf(A))||(v+=1);if(!v)throw new Error("invalid hiddenDays");this.isHiddenDayHash=p},h.prototype.trimHiddenDays=function(f){var p=f.start,v=f.end;return p&&(p=this.skipHiddenDays(p)),v&&(v=this.skipHiddenDays(v,-1,!0)),null==p||null==v||p<v?{start:p,end:v}:null},h.prototype.isHiddenDay=function(f){return f instanceof Date&&(f=f.getUTCDay()),this.isHiddenDayHash[f]},h.prototype.skipHiddenDays=function(f,p,v){for(void 0===p&&(p=1),void 0===v&&(v=!1);this.isHiddenDayHash[(f.getUTCDay()+(v?p:0)+7)%7];)f=$e(f,p);return f},h}();function bc(h){for(var f in h)if(h[f].isFetching)return!0;return!1}function Ga(h,f,p,v){for(var A={},S=0,N=f;S<N.length;S++){var V=N[S];A[V.sourceId]=V}return p&&(A=_u(A,p,v)),(0,O.__assign)((0,O.__assign)({},h),A)}function _u(h,f,p){return Ac(h,ae(h,function(v){return function Ec(h,f,p){return pa(h,p)?!p.options.lazyFetching||!h.fetchRange||h.isFetching||f.start<h.fetchRange.start||f.end>h.fetchRange.end:!h.latestFetchId}(v,f,p)}),f,!1,p)}function Ac(h,f,p,v,A){var S={};for(var N in h){var V=h[N];S[N]=f[N]?wc(V,p,v,A):V}return S}function wc(h,f,p,v){var A=v.options,S=v.calendarApi,N=v.pluginHooks.eventSourceDefs[h.sourceDefId],V=Qt();return N.fetch({eventSource:h,range:f,isRefetch:p,context:v},function(q){var X=q.rawEvents;A.eventSourceSuccess&&(X=A.eventSourceSuccess.call(S,X,q.xhr)||X),h.success&&(X=h.success.call(S,X,q.xhr)||X),v.dispatch({type:"RECEIVE_EVENTS",sourceId:h.sourceId,fetchId:V,fetchRange:f,rawEvents:X})},function(q){console.warn(q.message,q),A.eventSourceFailure&&A.eventSourceFailure.call(S,q),h.failure&&h.failure(q),v.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:h.sourceId,fetchId:V,fetchRange:f,error:q})}),(0,O.__assign)((0,O.__assign)({},h),{isFetching:!0,latestFetchId:V})}function qa(h,f){return ae(h,function(p){return pa(p,f)})}function pa(h,f){return!f.pluginHooks.eventSourceDefs[h.sourceDefId].ignoreRange}function Wa(h,f){var p;if(f){p=[];for(var v=0,A=h;v<A.length;v++){var S=A[v],N=f(S);N?p.push(N):null==N&&p.push(S)}}else p=h;return p}function Dc(h,f){return na(h,function(p){return p.sourceId!==f})}function zd(h,f){switch(f.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return f.selection;default:return h}}function kg(h,f){switch(f.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return f.eventInstanceId;default:return h}}function ga(h,f){var p;switch(f.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return{affectedEvents:(p=f.state).affectedEvents,mutatedEvents:p.mutatedEvents,isEvent:p.isEvent};default:return h}}function Ic(h,f){var p;switch(f.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return{affectedEvents:(p=f.state).affectedEvents,mutatedEvents:p.mutatedEvents,isEvent:p.isEvent};default:return h}}function Ng(h,f,p,v,A){return{header:h.headerToolbar?Ir(h.headerToolbar,h,f,p,v,A):null,footer:h.footerToolbar?Ir(h.footerToolbar,h,f,p,v,A):null}}function Ir(h,f,p,v,A,S){var N={},V=[],q=!1;for(var X in h){var Ue=qd(h[X],f,p,v,A,S);N[X]=Ue.widgets,V.push.apply(V,Ue.viewsWithButtons),q=q||Ue.hasTitle}return{sectionWidgets:N,viewsWithButtons:V,hasTitle:q}}function qd(h,f,p,v,A,S){var N="rtl"===f.direction,V=f.customButtons||{},q=p.buttonText||{},X=f.buttonText||{},ke=p.buttonHints||{},Ue=f.buttonHints||{},dt=h?h.split(" "):[],vt=[],At=!1;return{widgets:dt.map(function(an){return an.split(",").map(function(Nt){if("title"===Nt)return At=!0,{buttonName:Nt};var Xn,Cr,Br,Ur,Hr,to;if(Xn=V[Nt])Br=function(Yo){Xn.click&&Xn.click.call(Yo.target,Yo,Yo.target)},(Ur=v.getCustomButtonIconClass(Xn))||(Ur=v.getIconClass(Nt,N))||(Hr=Xn.text),to=Xn.hint||Xn.text;else if(Cr=A[Nt]){vt.push(Nt),Br=function(){S.changeView(Nt)},(Hr=Cr.buttonTextOverride)||(Ur=v.getIconClass(Nt,N))||(Hr=Cr.buttonTextDefault);var So=Cr.buttonTextOverride||Cr.buttonTextDefault;to=Ct(Cr.buttonTitleOverride||Cr.buttonTitleDefault||f.viewHint,[So,Nt],So)}else if(S[Nt])if(Br=function(){S[Nt]()},(Hr=q[Nt])||(Ur=v.getIconClass(Nt,N))||(Hr=X[Nt]),"prevYear"===Nt||"nextYear"===Nt){var xo="prevYear"===Nt?"prev":"next";to=Ct(ke[xo]||Ue[xo],[X.year||"year","year"],X[Nt])}else to=function(Yo){return Ct(ke[Nt]||Ue[Nt],[X[Yo]||Yo,Yo],X[Nt])};return{buttonName:Nt,buttonClick:Br,buttonIcon:Ur,buttonText:Hr,buttonHint:to}})}),viewsWithButtons:vt,hasTitle:At}}function Za(h,f,p,v,A){var S=null;"GET"===(h=h.toUpperCase())?f=function ya(h,f){return h+(-1===h.indexOf("?")?"?":"&")+_s(f)}(f,p):S=_s(p);var N=new XMLHttpRequest;N.open(h,f,!0),"GET"!==h&&N.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),N.onload=function(){if(N.status>=200&&N.status<400){var V=!1,q=void 0;try{q=JSON.parse(N.responseText),V=!0}catch(X){}V?v(q,N):A("Failure parsing JSON",N)}else A("Request failed",N)},N.onerror=function(){A("Request failed",N)},N.send(S)}function _s(h){var f=[];for(var p in h)f.push(encodeURIComponent(p)+"="+encodeURIComponent(h[p]));return f.join("&")}function Du(h,f){for(var p=ht(f.getCurrentData().eventSources),v=[],A=0,S=h;A<S.length;A++){for(var N=S[A],V=!1,q=0;q<p.length;q+=1)if(p[q]._raw===N){p.splice(q,1),V=!0;break}V||v.push(N)}for(var X=0,ke=p;X<ke.length;X++)f.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:ke[X].sourceId});for(var dt=0,vt=v;dt<vt.length;dt++)f.calendarApi.addEventSource(vt[dt])}var Sc=[Zo({eventSourceDefs:[{ignoreRange:!0,parseMeta:function(h){return Array.isArray(h.events)?h.events:null},fetch:function(h,f){f({rawEvents:h.eventSource.meta})}}]}),Zo({eventSourceDefs:[{parseMeta:function(h){return"function"==typeof h.events?h.events:null},fetch:function(h,f,p){Wo(h.eventSource.meta.bind(null,Td(h.range,h.context.dateEnv)),function(S){f({rawEvents:S})},p)}}]}),Zo({eventSourceRefiners:{method:String,extraParams:tt,startParam:String,endParam:String,timeZoneParam:String},eventSourceDefs:[{parseMeta:function(h){return!h.url||"json"!==h.format&&h.format?null:{url:h.url,format:"json",method:(h.method||"GET").toUpperCase(),extraParams:h.extraParams,startParam:h.startParam,endParam:h.endParam,timeZoneParam:h.timeZoneParam}},fetch:function(h,f,p){var v=h.eventSource.meta,A=function wu(h,f,p){var S,N,V,q,v=p.dateEnv,A=p.options,X={};return null==(S=h.startParam)&&(S=A.startParam),null==(N=h.endParam)&&(N=A.endParam),null==(V=h.timeZoneParam)&&(V=A.timeZoneParam),q="function"==typeof h.extraParams?h.extraParams():h.extraParams||{},(0,O.__assign)(X,q),X[S]=v.formatIso(f.start),X[N]=v.formatIso(f.end),"local"!==v.timeZone&&(X[V]=v.timeZone),X}(v,h.range,h.context);Za(v.method,v.url,A,function(S,N){f({rawEvents:S,xhr:N})},function(S,N){p({message:S,xhr:N})})}}]}),Zo({recurringTypes:[{parse:function(h,f){if(h.daysOfWeek||h.startTime||h.endTime||h.startRecur||h.endRecur){var p={daysOfWeek:h.daysOfWeek||null,startTime:h.startTime||null,endTime:h.endTime||null,startRecur:h.startRecur?f.createMarker(h.startRecur):null,endRecur:h.endRecur?f.createMarker(h.endRecur):null},v=void 0;return h.duration&&(v=h.duration),!v&&h.startTime&&h.endTime&&(v=function xr(h,f){return{years:h.years-f.years,months:h.months-f.months,days:h.days-f.days,milliseconds:h.milliseconds-f.milliseconds}}(h.endTime,h.startTime)),{allDayGuess:Boolean(!h.startTime&&!h.endTime),duration:v,typeData:p}}return null},expand:function(h,f,p){var v=Uo(f,{start:h.startRecur,end:h.endRecur});return v?function _a(h,f,p,v){for(var A=h?Pe(h):null,S=sn(p.start),N=p.end,V=[];S<N;){var q=void 0;(!A||A[S.getUTCDay()])&&(q=f?v.add(S,f):S,V.push(q)),S=$e(S,1)}return V}(h.daysOfWeek,h.startTime,v,p):[]}}],eventRefiners:{daysOfWeek:tt,startTime:Lt,endTime:Lt,duration:Lt,startRecur:tt,endRecur:tt}}),Zo({optionChangeHandlers:{events:function(h,f){Du([h],f)},eventSources:Du}}),Zo({isLoadingFuncs:[function(h){return bc(h.eventSources)}],contentTypeHandlers:{html:function kh(){var h=null,f="";return{render:function p(A,S){(A!==h||S!==f)&&(A.innerHTML=S),h=A,f=S},destroy:function v(){h.innerHTML="",h=null,f=""}}},domNodes:function xl(){var h=null,f=[];function v(){f.forEach(F),f=[],h=null}return{render:function p(A,S){var N=Array.prototype.slice.call(S);if(A!==h||!vi(f,N)){for(var V=0,q=N;V<q.length;V++)A.appendChild(q[V]);v()}h=A,f=N},destroy:v}}},propSetHandlers:{dateProfile:function Qa(h,f){f.emitter.trigger("datesSet",(0,O.__assign)((0,O.__assign)({},Td(h.activeRange,f.dateEnv)),{view:f.viewApi}))},eventStore:function Vs(h,f){var p=f.emitter;p.hasHandlers("eventsSet")&&p.trigger("eventsSet",El(h,f))}}})],Tu=function(){function h(f){this.drainedOption=f,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}return h.prototype.request=function(f){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),null==f?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),f))},h.prototype.pause=function(f){void 0===f&&(f="");var p=this.pauseDepths;p[f]=(p[f]||0)+1,this.clearTimeout()},h.prototype.resume=function(f,p){void 0===f&&(f="");var v=this.pauseDepths;f in v&&(p?delete v[f]:(v[f]-=1,v[f]<=0&&delete v[f]),this.tryDrain())},h.prototype.isPaused=function(){return Object.keys(this.pauseDepths).length},h.prototype.tryDrain=function(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}},h.prototype.clear=function(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}},h.prototype.clearTimeout=function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)},h.prototype.drained=function(){this.drainedOption&&this.drainedOption()},h}(),Ml=function(){function h(f,p){this.runTaskOption=f,this.drainedOption=p,this.queue=[],this.delayedRunner=new Tu(this.drain.bind(this))}return h.prototype.request=function(f,p){this.queue.push(f),this.delayedRunner.request(p)},h.prototype.pause=function(f){this.delayedRunner.pause(f)},h.prototype.resume=function(f,p){this.delayedRunner.resume(f,p)},h.prototype.drain=function(){for(var f=this.queue;f.length;){for(var p=[],v=void 0;v=f.shift();)this.runTask(v),p.push(v);this.drained(p)}},h.prototype.runTask=function(f){this.runTaskOption&&this.runTaskOption(f)},h.prototype.drained=function(f){this.drainedOption&&this.drainedOption(f)},h}();function Nh(h,f,p){var v;return v=/^(year|month)$/.test(h.currentRangeUnit)?h.currentRange:h.activeRange,p.formatRange(v.start,v.end,br(f.titleFormat||function Ph(h){var f=h.currentRangeUnit;if("year"===f)return{year:"numeric"};if("month"===f)return{year:"numeric",month:"long"};var p=Gn(h.currentRange.start,h.currentRange.end);return null!==p&&p>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}(h)),{isEndExclusive:h.isRangeAllDay,defaultSeparator:f.titleRangeSeparator})}var Ja=function(){function h(f){var p=this;this.computeOptionsData=Vn(this._computeOptionsData),this.computeCurrentViewData=Vn(this._computeCurrentViewData),this.organizeRawLocales=Vn(wh),this.buildLocale=Vn(kd),this.buildPluginHooks=function mc(){var p,h=[],f=[];return function(v,A){return(!p||!vi(v,h)||!vi(A,f))&&(p=function ja(h,f){var p={},v={reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,contentTypeHandlers:{},listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function A(S){for(var N=0,V=S;N<V.length;N++){var q=V[N];p[q.id]||(p[q.id]=!0,A(q.deps),v=Ld(v,q))}}return h&&A(h),A(f),v}(v,A)),h=v,f=A,p}}(),this.buildDateEnv=Vn(Xa),this.buildTheme=Vn(Iu),this.parseToolbars=Vn(Ng),this.buildViewSpecs=Vn(ti),this.buildDateProfileGenerator=$i(Rl),this.buildViewApi=Vn(Pg),this.buildViewUiProps=$i(Su),this.buildEventUiBySource=Vn(Og,lt),this.buildEventUiBases=Vn(Oh),this.parseContextBusinessHours=$i(Kd),this.buildTitle=Vn(Nh),this.emitter=new da,this.actionRunner=new Ml(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.getCurrentData=function(){return p.data},this.dispatch=function(Cr){p.actionRunner.request(Cr)},this.props=f,this.actionRunner.pause();var v={},A=this.computeOptionsData(f.optionOverrides,v,f.calendarApi),S=A.calendarOptions.initialView||A.pluginHooks.initialView,N=this.computeCurrentViewData(S,A,f.optionOverrides,v);f.calendarApi.currentDataManager=this,this.emitter.setThisContext(f.calendarApi),this.emitter.setOptions(N.options);var V=function Md(h,f){var p=h.initialDate;return null!=p?f.createMarker(p):bl(h.now,f)}(A.calendarOptions,A.dateEnv),q=N.dateProfileGenerator.build(V);we(q.activeRange,V)||(V=q.currentRange.start);for(var X={dateEnv:A.dateEnv,options:A.calendarOptions,pluginHooks:A.pluginHooks,calendarApi:f.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},ke=0,Ue=A.pluginHooks.contextInit;ke<Ue.length;ke++)(0,Ue[ke])(X);for(var vt=function Xv(h,f,p){var v=f?f.activeRange:null;return Ga({},function ys(h,f){var p=_l(f),v=[].concat(h.eventSources||[]),A=[];h.initialEvents&&v.unshift(h.initialEvents),h.events&&v.unshift(h.events);for(var S=0,N=v;S<N.length;S++){var q=su(N[S],f,p);q&&A.push(q)}return A}(h,p),v,p)}(A.calendarOptions,q,X),At={dynamicOptionOverrides:v,currentViewType:S,currentDate:V,dateProfile:q,businessHours:this.parseContextBusinessHours(X),eventSources:vt,eventUiBases:{},eventStore:{defs:{},instances:{}},renderableEventStore:{defs:{},instances:{}},dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(X).selectionConfig},Kt=(0,O.__assign)((0,O.__assign)({},X),At),an=0,Nt=A.pluginHooks.reducers;an<Nt.length;an++)(0,O.__assign)(At,(0,Nt[an])(null,null,Kt));el(At,X)&&this.emitter.trigger("loading",!0),this.state=At,this.updateData(),this.actionRunner.resume()}return h.prototype.resetOptions=function(f,p){var v=this.props;v.optionOverrides=p?(0,O.__assign)((0,O.__assign)({},v.optionOverrides),f):f,this.actionRunner.request({type:"NOTHING"})},h.prototype._handleAction=function(f){var p=this,v=p.props,A=p.state,S=p.emitter,N=function Rh(h,f){var p;return"SET_OPTION"===f.type?(0,O.__assign)((0,O.__assign)({},h),((p={})[f.optionName]=f.rawOptionValue,p)):h}(A.dynamicOptionOverrides,f),V=this.computeOptionsData(v.optionOverrides,N,v.calendarApi),q=function Il(h,f){return"CHANGE_VIEW_TYPE"===f.type&&(h=f.viewType),h}(A.currentViewType,f),X=this.computeCurrentViewData(q,V,v.optionOverrides,N);v.calendarApi.currentDataManager=this,S.setThisContext(v.calendarApi),S.setOptions(X.options);var ke={dateEnv:V.dateEnv,options:V.calendarOptions,pluginHooks:V.pluginHooks,calendarApi:v.calendarApi,dispatch:this.dispatch,emitter:S,getCurrentData:this.getCurrentData},Ue=A.currentDate,dt=A.dateProfile;this.data&&this.data.dateProfileGenerator!==X.dateProfileGenerator&&(dt=X.dateProfileGenerator.build(Ue)),Ue=function xd(h,f){return"CHANGE_DATE"===f.type?f.dateMarker:h}(Ue,f),dt=function Jv(h,f,p,v){var A;switch(f.type){case"CHANGE_VIEW_TYPE":return v.build(f.dateMarker||p);case"CHANGE_DATE":return v.build(f.dateMarker);case"PREV":if((A=v.buildPrev(h,p)).isValid)return A;break;case"NEXT":if((A=v.buildNext(h,p)).isValid)return A}return h}(dt,f,Ue,X.dateProfileGenerator),("PREV"===f.type||"NEXT"===f.type||!we(dt.currentRange,Ue))&&(Ue=dt.currentRange.start);for(var vt=function _c(h,f,p,v){var A=p?p.activeRange:null;switch(f.type){case"ADD_EVENT_SOURCES":return Ga(h,f.sources,A,v);case"REMOVE_EVENT_SOURCE":return function Gd(h,f){return ae(h,function(p){return p.sourceId!==f})}(h,f.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return p?_u(h,A,v):h;case"FETCH_EVENT_SOURCES":return Ac(h,f.sourceIds?Pe(f.sourceIds):qa(h,v),A,f.isRefetch||!1,v);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return function za(h,f,p,v){var A,S=h[f];return S&&p===S.latestFetchId?(0,O.__assign)((0,O.__assign)({},h),((A={})[f]=(0,O.__assign)((0,O.__assign)({},S),{isFetching:!1,fetchRange:v}),A)):h}(h,f.sourceId,f.fetchId,f.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return h}}(A.eventSources,f,dt,ke),At=function bu(h,f,p,v,A){switch(f.type){case"RECEIVE_EVENTS":return function Eu(h,f,p,v,A,S){if(f&&p===f.latestFetchId){var N=xs(function $o(h,f,p){var v=p.options.eventDataTransform,A=f?f.eventDataTransform:null;return A&&(h=Wa(h,A)),v&&(h=Wa(h,v)),h}(A,f,S),f,S);return v&&(N=bt(N,v,S)),ls(Dc(h,f.sourceId),N)}return h}(h,p[f.sourceId],f.fetchId,f.fetchRange,f.rawEvents,A);case"ADD_EVENTS":return function Au(h,f,p,v){return p&&(f=bt(f,p,v)),ls(h,f)}(h,f.eventStore,v?v.activeRange:null,A);case"RESET_EVENTS":return f.eventStore;case"MERGE_EVENTS":return ls(h,f.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return v?bt(h,v.activeRange,A):h;case"REMOVE_EVENTS":return function Cd(h,f){var p=h.defs,v=h.instances,A={},S={};for(var N in p)f.defs[N]||(A[N]=p[N]);for(var V in v)!f.instances[V]&&A[v[V].defId]&&(S[V]=v[V]);return{defs:A,instances:S}}(h,f.eventStore);case"REMOVE_EVENT_SOURCE":return Dc(h,f.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return na(h,function(S){return!S.sourceId});case"REMOVE_ALL_EVENTS":return{defs:{},instances:{}};default:return h}}(A.eventStore,f,vt,dt,ke),an=bc(vt)&&!X.options.progressiveEventRendering&&A.renderableEventStore||At,Nt=this.buildViewUiProps(ke),Xn=Nt.eventUiSingleBase,Cr=Nt.selectionConfig,Br=this.buildEventUiBySource(vt),Hr={dynamicOptionOverrides:N,currentViewType:q,currentDate:Ue,dateProfile:dt,eventSources:vt,eventStore:At,renderableEventStore:an,selectionConfig:Cr,eventUiBases:this.buildEventUiBases(an.defs,Xn,Br),businessHours:this.parseContextBusinessHours(ke),dateSelection:zd(A.dateSelection,f),eventSelection:kg(A.eventSelection,f),eventDrag:ga(A.eventDrag,f),eventResize:Ic(A.eventResize,f)},to=(0,O.__assign)((0,O.__assign)({},ke),Hr),So=0,xo=V.pluginHooks.reducers;So<xo.length;So++)(0,O.__assign)(Hr,(0,xo[So])(A,f,to));var af=el(A,ke),Lu=el(Hr,ke);!af&&Lu?S.trigger("loading",!0):af&&!Lu&&S.trigger("loading",!1),this.state=Hr,v.onAction&&v.onAction(f)},h.prototype.updateData=function(){var p=this.props,v=this.state,A=this.data,S=this.computeOptionsData(p.optionOverrides,v.dynamicOptionOverrides,p.calendarApi),N=this.computeCurrentViewData(v.currentViewType,S,p.optionOverrides,v.dynamicOptionOverrides),V=this.data=(0,O.__assign)((0,O.__assign)((0,O.__assign)({viewTitle:this.buildTitle(v.dateProfile,N.options,S.dateEnv),calendarApi:p.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},S),N),v),q=S.pluginHooks.optionChangeHandlers,X=A&&A.calendarOptions,ke=S.calendarOptions;if(X&&X!==ke)for(var Ue in X.timeZone!==ke.timeZone&&(v.eventSources=V.eventSources=function ji(h,f,p){var v=f?f.activeRange:null;return Ac(h,qa(h,p),v,!0,p)}(V.eventSources,v.dateProfile,V),v.eventStore=V.eventStore=function Cc(h,f,p){var v=h.defs,A=ge(h.instances,function(S){var N=v[S.defId];return N.allDay||N.recurringDef?S:(0,O.__assign)((0,O.__assign)({},S),{range:{start:p.createMarker(f.toDate(S.range.start,S.forcedStartTzo)),end:p.createMarker(f.toDate(S.range.end,S.forcedEndTzo))},forcedStartTzo:p.canComputeOffset?null:S.forcedStartTzo,forcedEndTzo:p.canComputeOffset?null:S.forcedEndTzo})});return{defs:v,instances:A}}(V.eventStore,A.dateEnv,V.dateEnv)),q)X[Ue]!==ke[Ue]&&q[Ue](ke[Ue],V);p.onData&&p.onData(V)},h.prototype._computeOptionsData=function(f,p,v){var A=this.processRawCalendarOptions(f,p),S=A.refinedOptions,N=A.pluginHooks,V=A.localeDefaults,q=A.availableLocaleData;xu(A.extra);var ke=this.buildDateEnv(S.timeZone,S.locale,S.weekNumberCalculation,S.firstDay,S.weekText,N,q,S.defaultRangeSeparator),Ue=this.buildViewSpecs(N.views,f,p,V),dt=this.buildTheme(S,N);return{calendarOptions:S,pluginHooks:N,dateEnv:ke,viewSpecs:Ue,theme:dt,toolbarConfig:this.parseToolbars(S,f,dt,Ue,v),localeDefaults:V,availableRawLocales:q.map}},h.prototype.processRawCalendarOptions=function(f,p){var v=Na([Lo,f,p]),S=v.locale,N=this.organizeRawLocales(v.locales),q=this.buildLocale(S||N.defaultCode,N.map).options,X=this.buildPluginHooks(f.plugins||[],Sc),ke=this.currentCalendarOptionsRefiners=(0,O.__assign)((0,O.__assign)((0,O.__assign)((0,O.__assign)((0,O.__assign)({},iu),Ad),pl),X.listenerRefiners),X.optionRefiners),Ue={},dt=Na([Lo,q,f,p]),vt={},At=this.currentCalendarOptionsInput,Kt=this.currentCalendarOptionsRefined,an=!1;for(var Nt in dt)"plugins"!==Nt&&(dt[Nt]===At[Nt]||gl[Nt]&&Nt in At&&gl[Nt](At[Nt],dt[Nt])?vt[Nt]=Kt[Nt]:ke[Nt]?(vt[Nt]=ke[Nt](dt[Nt]),an=!0):Ue[Nt]=At[Nt]);return an&&(this.currentCalendarOptionsInput=dt,this.currentCalendarOptionsRefined=vt),{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:X,availableLocaleData:N,localeDefaults:q,extra:Ue}},h.prototype._computeCurrentViewData=function(f,p,v,A){var S=p.viewSpecs[f];if(!S)throw new Error('viewType "'+f+"\" is not available. Please make sure you've loaded all neccessary plugins");var N=this.processRawViewOptions(S,p.pluginHooks,p.localeDefaults,v,A),V=N.refinedOptions;return xu(N.extra),{viewSpec:S,options:V,dateProfileGenerator:this.buildDateProfileGenerator({dateProfileGeneratorClass:S.optionDefaults.dateProfileGeneratorClass,duration:S.duration,durationUnit:S.durationUnit,usesMinMaxTime:S.optionDefaults.usesMinMaxTime,dateEnv:p.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:V.slotMinTime,slotMaxTime:V.slotMaxTime,showNonCurrentDates:V.showNonCurrentDates,dayCount:V.dayCount,dateAlignment:V.dateAlignment,dateIncrement:V.dateIncrement,hiddenDays:V.hiddenDays,weekends:V.weekends,nowInput:V.now,validRangeInput:V.validRange,visibleRangeInput:V.visibleRange,monthMode:V.monthMode,fixedWeekCount:V.fixedWeekCount}),viewApi:this.buildViewApi(f,this.getCurrentData,p.dateEnv)}},h.prototype.processRawViewOptions=function(f,p,v,A,S){var N=Na([Lo,f.optionDefaults,v,A,f.optionOverrides,S]),V=(0,O.__assign)((0,O.__assign)((0,O.__assign)((0,O.__assign)((0,O.__assign)((0,O.__assign)({},iu),Ad),pl),wd),p.listenerRefiners),p.optionRefiners),q={},X=this.currentViewOptionsInput,ke=this.currentViewOptionsRefined,Ue=!1,dt={};for(var vt in N)N[vt]===X[vt]?q[vt]=ke[vt]:(N[vt]===this.currentCalendarOptionsInput[vt]?vt in this.currentCalendarOptionsRefined&&(q[vt]=this.currentCalendarOptionsRefined[vt]):V[vt]?q[vt]=V[vt](N[vt]):dt[vt]=N[vt],Ue=!0);return Ue&&(this.currentViewOptionsInput=N,this.currentViewOptionsRefined=q),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:dt}},h}();function Xa(h,f,p,v,A,S,N,V){var q=kd(f||N.defaultCode,N.map);return new Go({calendarSystem:"gregory",timeZone:h,namedTimeZoneImpl:S.namedTimeZonedImpl,locale:q,weekNumberCalculation:p,firstDay:v,weekText:A,cmdFormatter:S.cmdFormatter,defaultSeparator:V})}function Iu(h,f){return new(f.themeClasses[h.themeSystem]||nr)(h)}function Rl(h){return new(h.dateProfileGeneratorClass||vs)(h)}function Pg(h,f,p){return new yl(h,f,p)}function Og(h){return ge(h,function(f){return f.ui})}function Oh(h,f,p){var v={"":f};for(var A in h){var S=h[A];S.sourceId&&p[S.sourceId]&&(v[A]=p[S.sourceId])}return v}function Su(h){var f=h.options;return{eventUiSingleBase:Bo({display:f.eventDisplay,editable:f.editable,startEditable:f.eventStartEditable,durationEditable:f.eventDurationEditable,constraint:f.eventConstraint,overlap:"boolean"==typeof f.eventOverlap?f.eventOverlap:void 0,allow:f.eventAllow,backgroundColor:f.eventBackgroundColor,borderColor:f.eventBorderColor,textColor:f.eventTextColor,color:f.eventColor},h),selectionConfig:Bo({constraint:f.selectConstraint,overlap:"boolean"==typeof f.selectOverlap?f.selectOverlap:void 0,allow:f.selectAllow},h)}}function el(h,f){for(var p=0,v=f.pluginHooks.isLoadingFuncs;p<v.length;p++)if((0,v[p])(h))return!0;return!1}function Kd(h){return Dh(h.options.businessHours,h)}function xu(h,f){for(var p in h)console.warn("Unknown option '"+p+"'"+(f?" for view '"+f+"'":""))}var Bs=function(h){function f(p){var v=h.call(this,p)||this;return v.handleData=function(A){v.dataManager?v.setState(A):v.state=A},v.dataManager=new Ja({optionOverrides:p.optionOverrides,calendarApi:p.calendarApi,onData:v.handleData}),v}return(0,O.__extends)(f,h),f.prototype.render=function(){return this.props.children(this.state)},f.prototype.componentDidUpdate=function(p){var v=this.props.optionOverrides;v!==p.optionOverrides&&this.dataManager.resetOptions(v)},f}(k);function Us(h,f){return _t(h.eventStore,h.eventUiBases,h.dateProfile.activeRange,f?h.nextDayThreshold:null).fg}var Fh=function h(f){this.timeZoneName=f},kl=function(){function h(){this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}return h.prototype.addSegs=function(f){for(var p=[],v=0,A=f;v<A.length;v++)this.insertEntry(A[v],p);return p},h.prototype.insertEntry=function(f,p){var v=this.findInsertion(f);return this.isInsertionValid(v,f)?(this.insertEntryAt(f,v),1):this.handleInvalidInsertion(v,f,p)},h.prototype.isInsertionValid=function(f,p){return(-1===this.maxCoord||f.levelCoord+p.thickness<=this.maxCoord)&&(-1===this.maxStackCnt||f.stackCnt<this.maxStackCnt)},h.prototype.handleInvalidInsertion=function(f,p,v){return this.allowReslicing&&f.touchingEntry?this.splitEntry(p,f.touchingEntry,v):(v.push(p),0)},h.prototype.splitEntry=function(f,p,v){var A=0,S=[],N=f.span,V=p.span;return N.start<V.start&&(A+=this.insertEntry({index:f.index,thickness:f.thickness,span:{start:N.start,end:V.start}},S)),N.end>V.end&&(A+=this.insertEntry({index:f.index,thickness:f.thickness,span:{start:V.end,end:N.end}},S)),A?(v.push.apply(v,(0,O.__spreadArray)([{index:f.index,thickness:f.thickness,span:Do(V,N)}],S)),A):(v.push(f),0)},h.prototype.insertEntryAt=function(f,p){var A=this.entriesByLevel;-1===p.lateral?(Ru(this.levelCoords,p.level,p.levelCoord),Ru(A,p.level,[f])):Ru(A[p.level],p.lateral,f),this.stackCnts[Yd(f)]=p.stackCnt},h.prototype.findInsertion=function(f){for(var p=this,v=p.levelCoords,A=p.entriesByLevel,S=p.strictOrder,N=p.stackCnts,V=v.length,q=0,X=-1,ke=-1,Ue=null,dt=0,vt=0;vt<V;vt+=1){var At=v[vt];if(!S&&At>=q+f.thickness)break;for(var Kt=A[vt],an=void 0,Nt=Nl(Kt,f.span.start,xc),Xn=Nt[0]+Nt[1];(an=Kt[Xn])&&an.span.start<f.span.end;){var Cr=At+an.thickness;Cr>q&&(q=Cr,Ue=an,X=vt,ke=Xn),Cr===q&&(dt=Math.max(dt,N[Yd(an)]+1)),Xn+=1}}var Br=0;if(Ue)for(Br=X+1;Br<V&&v[Br]<q;)Br+=1;var Ur=-1;return Br<V&&v[Br]===q&&(Ur=Nl(A[Br],f.span.end,xc)[0]),{touchingLevel:X,touchingLateral:ke,touchingEntry:Ue,stackCnt:dt,levelCoord:q,level:Br,lateral:Ur}},h.prototype.toRects=function(){for(var p=this.entriesByLevel,v=this.levelCoords,A=p.length,S=[],N=0;N<A;N+=1)for(var q=v[N],X=0,ke=p[N];X<ke.length;X++)S.push((0,O.__assign)((0,O.__assign)({},ke[X]),{levelCoord:q}));return S},h}();function xc(h){return h.span.end}function Yd(h){return h.index+":"+h.span.start}function Mu(h){for(var f=[],p=0,v=h;p<v.length;p++){for(var A=v[p],S=[],N={span:A.span,entries:[A]},V=0,q=f;V<q.length;V++){var X=q[V];Do(X.span,N.span)?N={entries:X.entries.concat(N.entries),span:Ko(X.span,N.span)}:S.push(X)}S.push(N),f=S}return f}function Ko(h,f){return{start:Math.min(h.start,f.start),end:Math.max(h.end,f.end)}}function Do(h,f){var p=Math.max(h.start,f.start),v=Math.min(h.end,f.end);return p<v?{start:p,end:v}:null}function Ru(h,f,p){h.splice(f,0,p)}function Nl(h,f,p){var v=0,A=h.length;if(!A||f<p(h[v]))return[0,0];if(f>p(h[A-1]))return[A,0];for(;v<A;){var S=Math.floor(v+(A-v)/2),N=p(h[S]);if(f<N)A=S;else{if(!(f>N))return[S,1];v=S+1}}return[v,0]}var ku=function(){function h(f){this.component=f.component,this.isHitComboAllowed=f.isHitComboAllowed||null}return h.prototype.destroy=function(){},h}();function Mc(h,f){return{component:h,el:f.el,useEventCenter:null==f.useEventCenter||f.useEventCenter,isHitComboAllowed:f.isHitComboAllowed||null}}function Qd(h){var f;return(f={})[h.component.uid]=h,f}var Nu={},Pl=function(){function h(f,p){this.emitter=new da}return h.prototype.destroy=function(){},h.prototype.setMirrorIsVisible=function(f){},h.prototype.setMirrorNeedsRevert=function(f){},h.prototype.setAutoScrollEnabled=function(f){},h}(),Lh={},Rc={startTime:Lt,duration:Lt,create:Boolean,sourceId:String};function Vh(h){var f=Vi(h,Rc),p=f.refined;return{startTime:p.startTime||null,duration:p.duration||null,create:null==p.create||p.create,sourceId:p.sourceId,leftoverProps:f.extra}}var kc=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return(0,O.__extends)(f,h),f.prototype.render=function(){var p=this,v=this.props.widgetGroups.map(function(A){return p.renderWidgetGroup(A)});return G.apply(void 0,(0,O.__spreadArray)(["div",{className:"fc-toolbar-chunk"}],v))},f.prototype.renderWidgetGroup=function(p){for(var v=this.props,A=this.context.theme,S=[],N=!0,V=0,q=p;V<q.length;V++){var X=q[V],ke=X.buttonName,Ue=X.buttonClick,dt=X.buttonText,vt=X.buttonIcon,At=X.buttonHint;if("title"===ke)N=!1,S.push(G("h2",{className:"fc-toolbar-title",id:v.titleId},v.title));else{var Kt=ke===v.activeButton,an=!v.isTodayEnabled&&"today"===ke||!v.isPrevEnabled&&"prev"===ke||!v.isNextEnabled&&"next"===ke,Nt=["fc-"+ke+"-button",A.getClass("button")];Kt&&Nt.push(A.getClass("buttonActive")),S.push(G("button",{type:"button",title:"function"==typeof At?At(v.navUnit):At,disabled:an,"aria-pressed":Kt,className:Nt.join(" "),onClick:Ue},dt||(vt?G("span",{className:vt}):"")))}}if(S.length>1){var Xn=N&&A.getClass("buttonGroup")||"";return G.apply(void 0,(0,O.__spreadArray)(["div",{className:Xn}],S))}return S[0]},f}(pr),D=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return(0,O.__extends)(f,h),f.prototype.render=function(){var N,V,p=this.props,S=!1,q=p.model.sectionWidgets,X=q.center;return q.left?(S=!0,N=q.left):N=q.start,q.right?(S=!0,V=q.right):V=q.end,G("div",{className:[p.extraClassName||"","fc-toolbar",S?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",N||[]),this.renderSection("center",X||[]),this.renderSection("end",V||[]))},f.prototype.renderSection=function(p,v){var A=this.props;return G(kc,{key:p,widgetGroups:v,title:A.title,navUnit:A.navUnit,activeButton:A.activeButton,isTodayEnabled:A.isTodayEnabled,isPrevEnabled:A.isPrevEnabled,isNextEnabled:A.isNextEnabled,titleId:A.titleId})},f}(pr),_=function(h){function f(){var p=null!==h&&h.apply(this,arguments)||this;return p.state={availableWidth:null},p.handleEl=function(v){p.el=v,ei(p.props.elRef,v),p.updateAvailableWidth()},p.handleResize=function(){p.updateAvailableWidth()},p}return(0,O.__extends)(f,h),f.prototype.render=function(){var v=this.props,A=this.state,S=v.aspectRatio,V="",q="";return S?null!==A.availableWidth?V=A.availableWidth/S:q=1/S*100+"%":V=v.height||"",G("div",{"aria-labelledby":v.labeledById,ref:this.handleEl,className:["fc-view-harness",S||v.liquid||v.height?"fc-view-harness-active":"fc-view-harness-passive"].join(" "),style:{height:V,paddingBottom:q}},v.children)},f.prototype.componentDidMount=function(){this.context.addResizeHandler(this.handleResize)},f.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleResize)},f.prototype.updateAvailableWidth=function(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})},f}(pr),E=function(h){function f(p){var v=h.call(this,p)||this;return v.handleSegClick=function(A,S){var N=v.component,V=N.context,q=rr(S);if(q&&N.isValidSegDownEl(A.target)){var X=H(A.target,".fc-event-forced-url"),ke=X?X.querySelector("a[href]").href:"";V.emitter.trigger("eventClick",{el:S,event:new Vr(N.context,q.eventRange.def,q.eventRange.instance),jsEvent:A,view:V.viewApi}),ke&&!A.defaultPrevented&&(window.location.href=ke)}},v.destroy=fe(p.el,"click",".fc-event",v.handleSegClick),v}return(0,O.__extends)(f,h),f}(ku),x=function(h){function f(p){var v=h.call(this,p)||this;return v.handleEventElRemove=function(A){A===v.currentSegEl&&v.handleSegLeave(null,v.currentSegEl)},v.handleSegEnter=function(A,S){rr(S)&&(v.currentSegEl=S,v.triggerEvent("eventMouseEnter",A,S))},v.handleSegLeave=function(A,S){v.currentSegEl&&(v.currentSegEl=null,v.triggerEvent("eventMouseLeave",A,S))},v.removeHoverListeners=function xe(h,f,p,v){var A;return fe(h,"mouseover",f,function(S,N){if(N!==A){A=N,p(S,N);var V=function(q){A=null,v(q,N),N.removeEventListener("mouseleave",V)};N.addEventListener("mouseleave",V)}})}(p.el,".fc-event",v.handleSegEnter,v.handleSegLeave),v}return(0,O.__extends)(f,h),f.prototype.destroy=function(){this.removeHoverListeners()},f.prototype.triggerEvent=function(p,v,A){var S=this.component,N=S.context,V=rr(A);(!v||S.isValidSegDownEl(v.target))&&N.emitter.trigger(p,{el:A,event:new Vr(N,V.eventRange.def,V.eventRange.instance),jsEvent:v,view:N.viewApi})},f}(ku),U=function(h){function f(){var p=null!==h&&h.apply(this,arguments)||this;return p.buildViewContext=Vn(gc),p.buildViewPropTransformers=Vn(Le),p.buildToolbarProps=Vn(Y),p.headerRef=Ce(),p.footerRef=Ce(),p.interactionsStore={},p.state={viewLabelId:gt()},p.registerInteractiveComponent=function(v,A){var S=Mc(v,A),q=[E,x].concat(p.props.pluginHooks.componentInteractions).map(function(X){return new X(S)});p.interactionsStore[v.uid]=q,Nu[v.uid]=S},p.unregisterInteractiveComponent=function(v){var A=p.interactionsStore[v.uid];if(A){for(var S=0,N=A;S<N.length;S++)N[S].destroy();delete p.interactionsStore[v.uid]}delete Nu[v.uid]},p.resizeRunner=new Tu(function(){p.props.emitter.trigger("_resize",!0),p.props.emitter.trigger("windowResize",{view:p.props.viewApi})}),p.handleWindowResize=function(v){var A=p.props.options;A.handleWindowResize&&v.target===window&&p.resizeRunner.request(A.windowResizeDelay)},p}return(0,O.__extends)(f,h),f.prototype.render=function(){var q,p=this.props,v=p.toolbarConfig,A=p.options,S=this.buildToolbarProps(p.viewSpec,p.dateProfile,p.dateProfileGenerator,p.currentDate,bl(p.options.now,p.dateEnv),p.viewTitle),N=!1,V="";p.isHeightAuto||p.forPrint?V="":null!=A.height?N=!0:null!=A.contentHeight?V=A.contentHeight:q=Math.max(A.aspectRatio,.5);var X=this.buildViewContext(p.viewSpec,p.viewApi,p.options,p.dateProfileGenerator,p.dateEnv,p.theme,p.pluginHooks,p.dispatch,p.getCurrentData,p.emitter,p.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),ke=v.header&&v.header.hasTitle?this.state.viewLabelId:"";return G(Xr.Provider,{value:X},v.header&&G(D,(0,O.__assign)({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:v.header,titleId:ke},S)),G(_,{liquid:N,height:V,aspectRatio:q,labeledById:ke},this.renderView(p),this.buildAppendContent()),v.footer&&G(D,(0,O.__assign)({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:v.footer,titleId:""},S)))},f.prototype.componentDidMount=function(){var p=this.props;this.calendarInteractions=p.pluginHooks.calendarInteractions.map(function(S){return new S(p)}),window.addEventListener("resize",this.handleWindowResize);var v=p.pluginHooks.propSetHandlers;for(var A in v)v[A](p[A],p)},f.prototype.componentDidUpdate=function(p){var v=this.props,A=v.pluginHooks.propSetHandlers;for(var S in A)v[S]!==p[S]&&A[S](v[S],v)},f.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(var p=0,v=this.calendarInteractions;p<v.length;p++)v[p].destroy();this.props.emitter.trigger("_unmount")},f.prototype.buildAppendContent=function(){var p=this.props,v=p.pluginHooks.viewContainerAppends.map(function(A){return A(p)});return G.apply(void 0,(0,O.__spreadArray)([Ee,{}],v))},f.prototype.renderView=function(p){for(var A=p.viewSpec,S={dateProfile:p.dateProfile,businessHours:p.businessHours,eventStore:p.renderableEventStore,eventUiBases:p.eventUiBases,dateSelection:p.dateSelection,eventSelection:p.eventSelection,eventDrag:p.eventDrag,eventResize:p.eventResize,isHeightAuto:p.isHeightAuto,forPrint:p.forPrint},V=0,q=this.buildViewPropTransformers(p.pluginHooks.viewPropsTransformers);V<q.length;V++)(0,O.__assign)(S,q[V].transform(S,p));return G(A.component,(0,O.__assign)({},S))},f}(Fs);function Y(h,f,p,v,A,S){var N=p.build(A,void 0,!1),V=p.buildPrev(f,v,!1),q=p.buildNext(f,v,!1);return{title:S,activeButton:h.type,navUnit:h.singleUnit,isTodayEnabled:N.isValid&&!we(f.currentRange,A),isPrevEnabled:V.isValid,isNextEnabled:q.isValid}}function Le(h){return h.map(function(f){return new f})}var ft=function(h){function f(){var p=null!==h&&h.apply(this,arguments)||this;return p.state={forPrint:!1},p.handleBeforePrint=function(){p.setState({forPrint:!0})},p.handleAfterPrint=function(){p.setState({forPrint:!1})},p}return(0,O.__extends)(f,h),f.prototype.render=function(){var p=this.props,v=p.options,A=this.state.forPrint,S=A||"auto"===v.height||"auto"===v.contentHeight,N=S||null==v.height?"":v.height,V=["fc",A?"fc-media-print":"fc-media-screen","fc-direction-"+v.direction,p.theme.getClass("root")];return qo()||V.push("fc-liquid-hack"),p.children(V,N,S,A)},f.prototype.componentDidMount=function(){var p=this.props.emitter;p.on("_beforeprint",this.handleBeforePrint),p.on("_afterprint",this.handleAfterPrint)},f.prototype.componentWillUnmount=function(){var p=this.props.emitter;p.off("_beforeprint",this.handleBeforePrint),p.off("_afterprint",this.handleAfterPrint)},f}(pr);function zt(h,f){return br(!h||f>10?{weekday:"short"}:f>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"})}var nn="fc-col-header-cell";function Ln(h){return h.text}var wr=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return(0,O.__extends)(f,h),f.prototype.render=function(){var p=this.context,v=p.dateEnv,A=p.options,S=p.theme,N=p.viewApi,V=this.props,q=V.date,ke=la(q,V.todayRange,null,V.dateProfile),Ue=[nn].concat(hs(ke,S)),dt=v.format(q,V.dayHeaderFormat),vt=!ke.isDisabled&&V.colCnt>1?dn(this.context,q):{},At=(0,O.__assign)((0,O.__assign)((0,O.__assign)({date:v.toDate(q),view:N},V.extraHookProps),{text:dt}),ke);return G(gs,{hookProps:At,classNames:A.dayHeaderClassNames,content:A.dayHeaderContent,defaultContent:Ln,didMount:A.dayHeaderDidMount,willUnmount:A.dayHeaderWillUnmount},function(Kt,an,Nt,Xn){return G("th",(0,O.__assign)({ref:Kt,role:"columnheader",className:Ue.concat(an).join(" "),"data-date":ke.isDisabled?void 0:dr(q),colSpan:V.colSpan},V.extraDataAttrs),G("div",{className:"fc-scrollgrid-sync-inner"},!ke.isDisabled&&G("a",(0,O.__assign)({ref:Nt,className:["fc-col-header-cell-cushion",V.isSticky?"fc-sticky":""].join(" ")},vt),Xn)))})},f}(pr),xi=br({weekday:"long"}),To=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return(0,O.__extends)(f,h),f.prototype.render=function(){var p=this.props,v=this.context,A=v.dateEnv,S=v.theme,N=v.viewApi,V=v.options,q=$e(new Date(2592e5),p.dow),X={dow:p.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},ke=[nn].concat(hs(X,S),p.extraClassNames||[]),Ue=A.format(q,p.dayHeaderFormat),dt=(0,O.__assign)((0,O.__assign)((0,O.__assign)((0,O.__assign)({date:q},X),{view:N}),p.extraHookProps),{text:Ue});return G(gs,{hookProps:dt,classNames:V.dayHeaderClassNames,content:V.dayHeaderContent,defaultContent:Ln,didMount:V.dayHeaderDidMount,willUnmount:V.dayHeaderWillUnmount},function(vt,At,Kt,an){return G("th",(0,O.__assign)({ref:vt,role:"columnheader",className:ke.concat(At).join(" "),colSpan:p.colSpan},p.extraDataAttrs),G("div",{className:"fc-scrollgrid-sync-inner"},G("a",{"aria-label":A.format(q,xi),className:["fc-col-header-cell-cushion",p.isSticky?"fc-sticky":""].join(" "),ref:Kt},an)))})},f}(pr),Hs=function(h){function f(p,v){var A=h.call(this,p,v)||this;return A.initialNowDate=bl(v.options.now,v.dateEnv),A.initialNowQueriedMs=(new Date).valueOf(),A.state=A.computeTiming().currentState,A}return(0,O.__extends)(f,h),f.prototype.render=function(){var A=this.state;return this.props.children(A.nowDate,A.todayRange)},f.prototype.componentDidMount=function(){this.setTimeout()},f.prototype.componentDidUpdate=function(p){p.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())},f.prototype.componentWillUnmount=function(){this.clearTimeout()},f.prototype.computeTiming=function(){var v=this.props,A=this.context,S=Dt(this.initialNowDate,(new Date).valueOf()-this.initialNowQueriedMs),N=A.dateEnv.startOf(S,v.unit),V=A.dateEnv.add(N,Lt(1,v.unit)),q=V.valueOf()-S.valueOf();return q=Math.min(864e5,q),{currentState:{nowDate:N,todayRange:Jd(N)},nextState:{nowDate:V,todayRange:Jd(V)},waitMs:q}},f.prototype.setTimeout=function(){var p=this,v=this.computeTiming(),A=v.nextState;this.timeoutId=setTimeout(function(){p.setState(A,function(){p.setTimeout()})},v.waitMs)},f.prototype.clearTimeout=function(){this.timeoutId&&clearTimeout(this.timeoutId)},f.contextType=Xr,f}(k);function Jd(h){var f=sn(h);return{start:f,end:$e(f,1)}}var Nc=function(h){function f(){var p=null!==h&&h.apply(this,arguments)||this;return p.createDayHeaderFormatter=Vn(bs),p}return(0,O.__extends)(f,h),f.prototype.render=function(){var v=this.props,A=v.dates,S=v.dateProfile,N=v.datesRepDistinctDays,V=v.renderIntro,q=this.createDayHeaderFormatter(this.context.options.dayHeaderFormat,N,A.length);return G(Hs,{unit:"day"},function(X,ke){return G("tr",{role:"row"},V&&V("day"),A.map(function(Ue){return N?G(wr,{key:Ue.toISOString(),date:Ue,dateProfile:S,todayRange:ke,colCnt:A.length,dayHeaderFormat:q}):G(To,{key:Ue.getUTCDay(),dow:Ue.getUTCDay(),dayHeaderFormat:q})}))})},f}(pr);function bs(h,f,p){return h||zt(f,p)}var Xd=function(){function h(f,p){for(var v=f.start,A=f.end,S=[],N=[],V=-1;v<A;)p.isHiddenDay(v)?S.push(V+.5):(S.push(V+=1),N.push(v)),v=$e(v,1);this.dates=N,this.indices=S,this.cnt=N.length}return h.prototype.sliceRange=function(f){var p=this.getDateDayIndex(f.start),v=this.getDateDayIndex($e(f.end,-1)),A=Math.max(0,p),S=Math.min(this.cnt-1,v);return(A=Math.ceil(A))<=(S=Math.floor(S))?{firstIndex:A,lastIndex:S,isStart:p===A,isEnd:v===S}:null},h.prototype.getDateDayIndex=function(f){var p=this.indices,v=Math.floor(mt(this.dates[0],f));return v<0?p[0]-1:v>=p.length?p[p.length-1]+1:p[v]},h}(),Pu=function(){function h(f,p){var A,S,N,v=f.dates;if(p){for(S=v[0].getUTCDay(),A=1;A<v.length&&v[A].getUTCDay()!==S;A+=1);N=Math.ceil(v.length/A)}else N=1,A=v.length;this.rowCnt=N,this.colCnt=A,this.daySeries=f,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}return h.prototype.buildCells=function(){for(var f=[],p=0;p<this.rowCnt;p+=1){for(var v=[],A=0;A<this.colCnt;A+=1)v.push(this.buildCell(p,A));f.push(v)}return f},h.prototype.buildCell=function(f,p){var v=this.daySeries.dates[f*this.colCnt+p];return{key:v.toISOString(),date:v}},h.prototype.buildHeaderDates=function(){for(var f=[],p=0;p<this.colCnt;p+=1)f.push(this.cells[0][p].date);return f},h.prototype.sliceRange=function(f){var p=this.colCnt,v=this.daySeries.sliceRange(f),A=[];if(v)for(var S=v.firstIndex,N=v.lastIndex,V=S;V<=N;){var q=Math.floor(V/p),X=Math.min((q+1)*p,N+1);A.push({row:q,firstCol:V%p,lastCol:(X-1)%p,isStart:v.isStart&&V===S,isEnd:v.isEnd&&X-1===N}),V=X}return A},h}(),ef=function(){function h(){this.sliceBusinessHours=Vn(this._sliceBusinessHours),this.sliceDateSelection=Vn(this._sliceDateSpan),this.sliceEventStore=Vn(this._sliceEventStore),this.sliceEventDrag=Vn(this._sliceInteraction),this.sliceEventResize=Vn(this._sliceInteraction),this.forceDayIfListItem=!1}return h.prototype.sliceProps=function(f,p,v,A){for(var S=[],N=4;N<arguments.length;N++)S[N-4]=arguments[N];var V=f.eventUiBases,q=this.sliceEventStore.apply(this,(0,O.__spreadArray)([f.eventStore,V,p,v],S));return{dateSelectionSegs:this.sliceDateSelection.apply(this,(0,O.__spreadArray)([f.dateSelection,V,A],S)),businessHourSegs:this.sliceBusinessHours.apply(this,(0,O.__spreadArray)([f.businessHours,p,v,A],S)),fgEventSegs:q.fg,bgEventSegs:q.bg,eventDrag:this.sliceEventDrag.apply(this,(0,O.__spreadArray)([f.eventDrag,V,p,v],S)),eventResize:this.sliceEventResize.apply(this,(0,O.__spreadArray)([f.eventResize,V,p,v],S)),eventSelection:f.eventSelection}},h.prototype.sliceNowDate=function(f,p){for(var v=[],A=2;A<arguments.length;A++)v[A-2]=arguments[A];return this._sliceDateSpan.apply(this,(0,O.__spreadArray)([{range:{start:f,end:Dt(f,1)},allDay:!1},{},p],v))},h.prototype._sliceBusinessHours=function(f,p,v,A){for(var S=[],N=4;N<arguments.length;N++)S[N-4]=arguments[N];return f?this._sliceEventStore.apply(this,(0,O.__spreadArray)([bt(f,Ol(p,Boolean(v)),A),{},p,v],S)).bg:[]},h.prototype._sliceEventStore=function(f,p,v,A){for(var S=[],N=4;N<arguments.length;N++)S[N-4]=arguments[N];if(f){var V=_t(f,p,Ol(v,Boolean(A)),A);return{bg:this.sliceEventRanges(V.bg,S),fg:this.sliceEventRanges(V.fg,S)}}return{bg:[],fg:[]}},h.prototype._sliceInteraction=function(f,p,v,A){for(var S=[],N=4;N<arguments.length;N++)S[N-4]=arguments[N];if(!f)return null;var V=_t(f.mutatedEvents,p,Ol(v,Boolean(A)),A);return{segs:this.sliceEventRanges(V.fg,S),affectedInstances:f.affectedEvents.instances,isEvent:f.isEvent}},h.prototype._sliceDateSpan=function(f,p,v){for(var A=[],S=3;S<arguments.length;S++)A[S-3]=arguments[S];if(!f)return[];for(var N=Sd(f,p,v),V=this.sliceRange.apply(this,(0,O.__spreadArray)([f.range],A)),q=0,X=V;q<X.length;q++){var ke=X[q];ke.eventRange=N}return V},h.prototype.sliceEventRanges=function(f,p){for(var v=[],A=0,S=f;A<S.length;A++)v.push.apply(v,this.sliceEventRange(S[A],p));return v},h.prototype.sliceEventRange=function(f,p){var v=f.range;this.forceDayIfListItem&&"list-item"===f.ui.display&&(v={start:v.start,end:$e(v.start,1)});for(var A=this.sliceRange.apply(this,(0,O.__spreadArray)([v],p)),S=0,N=A;S<N.length;S++){var V=N[S];V.eventRange=f,V.isStart=f.isStart&&V.isStart,V.isEnd=f.isEnd&&V.isEnd}return A},h}();function Ol(h,f){var p=h.activeRange;return f?p:{start:Dt(p.start,h.slotMinTime.milliseconds),end:Dt(p.end,h.slotMaxTime.milliseconds-864e5)}}function Ou(h,f,p){var v=h.mutatedEvents.instances;for(var A in v)if(!$(f.validRange,v[A].range))return!1;return Ll({eventDrag:h},p)}function Fl(h,f,p){return!!$(f.validRange,h.range)&&Ll({dateSelection:h},p)}function Ll(h,f){var p=f.getCurrentData(),v=(0,O.__assign)({businessHours:p.businessHours,dateSelection:"",eventStore:p.eventStore,eventUiBases:p.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},h);return(f.pluginHooks.isPropsValid||ba)(v,f)}function ba(h,f,p,v){return void 0===p&&(p={}),!(h.eventDrag&&!function Bh(h,f,p,v){var A=f.getCurrentData(),S=h.eventDrag,N=S.mutatedEvents,V=N.defs,q=N.instances,X=Gt(V,S.isEvent?h.eventUiBases:{"":A.selectionConfig});v&&(X=ge(X,v));var ke=function Tc(h,f){return{defs:h.defs,instances:ae(h.instances,function(p){return!f[p.instanceId]})}}(h.eventStore,S.affectedEvents.instances),Ue=ke.defs,dt=ke.instances,vt=Gt(Ue,h.eventUiBases);for(var At in q){var Kt=q[At],an=Kt.range,Nt=X[Kt.defId],Xn=V[Kt.defId];if(!Uh(Nt.constraints,an,ke,h.businessHours,f))return!1;var Cr=f.options.eventOverlap,Br="function"==typeof Cr?Cr:null;for(var Ur in dt){var Hr=dt[Ur];if(K(an,Hr.range)&&(!1===vt[Hr.defId].overlap&&S.isEvent||!1===Nt.overlap||Br&&!Br(new Vr(f,Ue[Hr.defId],Hr),new Vr(f,Xn,Kt))))return!1}for(var So=A.eventStore,xo=0,Yo=Nt.allows;xo<Yo.length;xo++){var Lc,af=Yo[xo],Lu=(0,O.__assign)((0,O.__assign)({},p),{range:Kt.range,allDay:Xn.allDay}),Ea=So.defs[Xn.defId];if(Lc=Ea?new Vr(f,Ea,So.instances[At]):new Vr(f,Xn),!af(_o(Lu,f),Lc))return!1}}return!0}(h,f,p,v)||h.dateSelection&&!function Pr(h,f,p,v){var A=h.eventStore,S=A.defs,N=A.instances,V=h.dateSelection,q=V.range,X=f.getCurrentData().selectionConfig;if(v&&(X=v(X)),!Uh(X.constraints,q,A,h.businessHours,f))return!1;var ke=f.options.selectOverlap,Ue="function"==typeof ke?ke:null;for(var dt in N){var vt=N[dt];if(K(q,vt.range)&&(!1===X.overlap||Ue&&!Ue(new Vr(f,S[vt.defId],vt),null)))return!1}for(var At=0,Kt=X.allows;At<Kt.length;At++)if(!(0,Kt[At])(_o((0,O.__assign)((0,O.__assign)({},p),V),f),null))return!1;return!0}(h,f,p,v))}function Uh(h,f,p,v,A){for(var S=0,N=h;S<N.length;S++)if(!Hh(Fg(N[S],f,p,v,A),f))return!1;return!0}function Fg(h,f,p,v,A){return"businessHours"===h?Pc(bt(v,f,A)):"string"==typeof h?Pc(na(p,function(S){return S.groupId===h})):"object"==typeof h&&h?Pc(bt(h,f,A)):[]}function Pc(h){var f=h.instances,p=[];for(var v in f)p.push(f[v].range);return p}function Hh(h,f){for(var p=0,v=h;p<v.length;p++)if($(v[p],f))return!0;return!1}var tf=/^(visible|hidden)$/,jh=function(h){function f(){var p=null!==h&&h.apply(this,arguments)||this;return p.handleEl=function(v){p.el=v,ei(p.props.elRef,v)},p}return(0,O.__extends)(f,h),f.prototype.render=function(){var p=this.props,v=p.liquid,A=p.liquidIsAbsolute,S=v&&A,N=["fc-scroller"];return v&&N.push(A?"fc-scroller-liquid-absolute":"fc-scroller-liquid"),G("div",{ref:this.handleEl,className:N.join(" "),style:{overflowX:p.overflowX,overflowY:p.overflowY,left:S&&-(p.overcomeLeft||0)||"",right:S&&-(p.overcomeRight||0)||"",bottom:S&&-(p.overcomeBottom||0)||"",marginLeft:!S&&-(p.overcomeLeft||0)||"",marginRight:!S&&-(p.overcomeRight||0)||"",marginBottom:!S&&-(p.overcomeBottom||0)||"",maxHeight:p.maxHeight||""}},p.children)},f.prototype.needsXScrolling=function(){if(tf.test(this.props.overflowX))return!1;for(var p=this.el,v=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),A=p.children,S=0;S<A.length;S+=1)if(A[S].getBoundingClientRect().width>v)return!0;return!1},f.prototype.needsYScrolling=function(){if(tf.test(this.props.overflowY))return!1;for(var p=this.el,v=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),A=p.children,S=0;S<A.length;S+=1)if(A[S].getBoundingClientRect().height>v)return!0;return!1},f.prototype.getXScrollbarWidth=function(){return tf.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight},f.prototype.getYScrollbarWidth=function(){return tf.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth},f}(pr),Lg=function(){function h(f){var p=this;this.masterCallback=f,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=function(v,A){var N=p.depths,V=p.currentMap,q=!1,X=!1;null!==v?(q=A in V,V[A]=v,N[A]=(N[A]||0)+1,X=!0):(N[A]-=1,N[A]||(delete V[A],delete p.callbackMap[A],q=!0)),p.masterCallback&&(q&&p.masterCallback(null,String(A)),X&&p.masterCallback(v,String(A)))}}return h.prototype.createRef=function(f){var p=this,v=this.callbackMap[f];return v||(v=this.callbackMap[f]=function(A){p.handleValue(A,String(f))}),v},h.prototype.collect=function(f,p,v){return he(this.currentMap,f,p,v)},h.prototype.getAll=function(){return ht(this.currentMap)},h}();function ey(h){for(var p=0,v=0,A=me(h,".fc-scrollgrid-shrink");v<A.length;v++)p=Math.max(p,on(A[v]));return Math.ceil(p)}function Vg(h,f){return h.liquid&&f.liquid}function ty(h,f){return null!=f.maxHeight||Vg(h,f)}function ny(h,f,p,v){var A=p.expandRows;return"function"==typeof f.content?f.content(p):G("table",{role:"presentation",className:[f.tableClassName,h.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:p.tableMinWidth,width:p.clientWidth,height:A?p.clientHeight:""}},p.tableColGroupNode,G(v?"thead":"tbody",{role:"presentation"},"function"==typeof f.rowContent?f.rowContent(p):f.rowContent))}function Oc(h,f){return vi(h,f,lt)}function Gi(h,f){for(var p=[],v=0,A=h;v<A.length;v++)for(var S=A[v],N=S.span||1,V=0;V<N;V+=1)p.push(G("col",{style:{width:"shrink"===S.width?Gh(f):S.width||"",minWidth:S.minWidth||""}}));return G.apply(void 0,(0,O.__spreadArray)(["colgroup",{}],p))}function Gh(h){return null==h?4:h}function Bg(h){for(var f=0,p=h;f<p.length;f++)if("shrink"===p[f].width)return!0;return!1}function nf(h,f){var p=["fc-scrollgrid",f.theme.getClass("table")];return h&&p.push("fc-scrollgrid-liquid"),p}function bi(h,f){var p=["fc-scrollgrid-section","fc-scrollgrid-section-"+h.type,h.className];return f&&h.liquid&&null==h.maxHeight&&p.push("fc-scrollgrid-section-liquid"),h.isSticky&&p.push("fc-scrollgrid-section-sticky"),p}function Io(h){return G("div",{className:"fc-scrollgrid-sticky-shim",style:{width:h.clientWidth,minWidth:h.tableMinWidth}})}function zh(h){var f=h.stickyHeaderDates;return(null==f||"auto"===f)&&(f="auto"===h.height||"auto"===h.viewHeight),f}function Ug(h){var f=h.stickyFooterScrollbar;return(null==f||"auto"===f)&&(f="auto"===h.height||"auto"===h.viewHeight),f}var ry=function(h){function f(){var p=null!==h&&h.apply(this,arguments)||this;return p.processCols=Vn(function(v){return v},Oc),p.renderMicroColGroup=Vn(Gi),p.scrollerRefs=new Lg,p.scrollerElRefs=new Lg(p._handleScrollerEl.bind(p)),p.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},p.handleSizing=function(){p.setState((0,O.__assign)({shrinkWidth:p.computeShrinkWidth()},p.computeScrollerDims()))},p}return(0,O.__extends)(f,h),f.prototype.render=function(){var p=this,v=p.props,A=p.state,S=p.context,N=v.sections||[],V=this.processCols(v.cols),q=this.renderMicroColGroup(V,A.shrinkWidth),X=nf(v.liquid,S);v.collapsibleWidth&&X.push("fc-scrollgrid-collapsible");for(var dt,ke=N.length,Ue=0,vt=[],At=[],Kt=[];Ue<ke&&"header"===(dt=N[Ue]).type;)vt.push(this.renderSection(dt,q,!0)),Ue+=1;for(;Ue<ke&&"body"===(dt=N[Ue]).type;)At.push(this.renderSection(dt,q,!1)),Ue+=1;for(;Ue<ke&&"footer"===(dt=N[Ue]).type;)Kt.push(this.renderSection(dt,q,!0)),Ue+=1;var an=!qo(),Nt={role:"rowgroup"};return G("table",{role:"grid",className:X.join(" "),style:{height:v.height}},Boolean(!an&&vt.length)&&G.apply(void 0,(0,O.__spreadArray)(["thead",Nt],vt)),Boolean(!an&&At.length)&&G.apply(void 0,(0,O.__spreadArray)(["tbody",Nt],At)),Boolean(!an&&Kt.length)&&G.apply(void 0,(0,O.__spreadArray)(["tfoot",Nt],Kt)),an&&G.apply(void 0,(0,O.__spreadArray)((0,O.__spreadArray)((0,O.__spreadArray)(["tbody",Nt],vt),At),Kt)))},f.prototype.renderSection=function(p,v,A){return"outerContent"in p?G(Ee,{key:p.key},p.outerContent):G("tr",{key:p.key,role:"presentation",className:bi(p,this.props.liquid).join(" ")},this.renderChunkTd(p,v,p.chunk,A))},f.prototype.renderChunkTd=function(p,v,A,S){if("outerContent"in A)return A.outerContent;var N=this.props,V=this.state,q=V.forceYScrollbars,X=V.scrollerClientWidths,ke=V.scrollerClientHeights,Ue=ty(N,p),dt=Vg(N,p),vt=N.liquid?q?"scroll":Ue?"auto":"hidden":"visible",At=p.key,Kt=ny(p,A,{tableColGroupNode:v,tableMinWidth:"",clientWidth:N.collapsibleWidth||void 0===X[At]?null:X[At],clientHeight:void 0!==ke[At]?ke[At]:null,expandRows:p.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:function(){}},S);return G(S?"th":"td",{ref:A.elRef,role:"presentation"},G("div",{className:"fc-scroller-harness"+(dt?" fc-scroller-harness-liquid":"")},G(jh,{ref:this.scrollerRefs.createRef(At),elRef:this.scrollerElRefs.createRef(At),overflowY:vt,overflowX:N.liquid?"hidden":"visible",maxHeight:p.maxHeight,liquid:dt,liquidIsAbsolute:!0},Kt)))},f.prototype._handleScrollerEl=function(p,v){var A=function qh(h,f){for(var p=0,v=h;p<v.length;p++){var A=v[p];if(A.key===f)return A}return null}(this.props.sections,v);A&&ei(A.chunk.scrollerElRef,p)},f.prototype.componentDidMount=function(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)},f.prototype.componentDidUpdate=function(){this.handleSizing()},f.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleSizing)},f.prototype.computeShrinkWidth=function(){return Bg(this.props.cols)?ey(this.scrollerElRefs.getAll()):0},f.prototype.computeScrollerDims=function(){var p=fu(),A=this.scrollerRefs,S=this.scrollerElRefs,N=!1,V={},q={};for(var X in A.currentMap){var ke=A.currentMap[X];if(ke&&ke.needsYScrolling()){N=!0;break}}for(var Ue=0,dt=this.props.sections;Ue<dt.length;Ue++){var At=S.currentMap[X=dt[Ue].key];if(At){var Kt=At.parentNode;V[X]=Math.floor(Kt.getBoundingClientRect().width-(N?p.y:0)),q[X]=Math.floor(Kt.getBoundingClientRect().height)}}return{forceYScrollbars:N,scrollerClientWidths:V,scrollerClientHeights:q}},f}(pr);ry.addStateEquality({scrollerClientWidths:lt,scrollerClientHeights:lt});var Vl=function(h){function f(){var p=null!==h&&h.apply(this,arguments)||this;return p.elRef=Ce(),p}return(0,O.__extends)(f,h),f.prototype.render=function(){var v=this.props,A=this.context,S=A.options,N=v.seg,V=N.eventRange,q=V.ui,X={event:new Vr(A,V.def,V.instance),view:A.viewApi,timeText:v.timeText,textColor:q.textColor,backgroundColor:q.backgroundColor,borderColor:q.borderColor,isDraggable:!v.disableDragging&&Qi(N,A),isStartResizable:!v.disableResizing&&yo(N,A),isEndResizable:!v.disableResizing&&Ho(N),isMirror:Boolean(v.isDragging||v.isResizing||v.isDateSelecting),isStart:Boolean(N.isStart),isEnd:Boolean(N.isEnd),isPast:Boolean(v.isPast),isFuture:Boolean(v.isFuture),isToday:Boolean(v.isToday),isSelected:Boolean(v.isSelected),isDragging:Boolean(v.isDragging),isResizing:Boolean(v.isResizing)},ke=st(X).concat(q.classNames);return G(gs,{hookProps:X,classNames:S.eventClassNames,content:S.eventContent,defaultContent:v.defaultContent,didMount:S.eventDidMount,willUnmount:S.eventWillUnmount,elRef:this.elRef},function(Ue,dt,vt,At){return v.children(Ue,ke.concat(dt),vt,At,X)})},f.prototype.componentDidMount=function(){cn(this.elRef.current,this.props.seg)},f.prototype.componentDidUpdate=function(p){var v=this.props.seg;v!==p.seg&&cn(this.elRef.current,v)},f}(pr),rf=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return(0,O.__extends)(f,h),f.prototype.render=function(){var v=this.props,A=this.context,S=v.seg,V=Oa(S,A.options.eventTimeFormat||v.defaultTimeFormat,A,v.defaultDisplayEventTime,v.defaultDisplayEventEnd);return G(Vl,{seg:S,timeText:V,disableDragging:v.disableDragging,disableResizing:v.disableResizing,defaultContent:v.defaultContent||Ib,isDragging:v.isDragging,isResizing:v.isResizing,isDateSelecting:v.isDateSelecting,isSelected:v.isSelected,isPast:v.isPast,isFuture:v.isFuture,isToday:v.isToday},function(q,X,ke,Ue,dt){return G("a",(0,O.__assign)({className:v.extraClassNames.concat(X).join(" "),style:{borderColor:dt.borderColor,backgroundColor:dt.backgroundColor},ref:q},ds(S,A)),G("div",{className:"fc-event-main",ref:ke,style:{color:dt.textColor}},Ue),dt.isStartResizable&&G("div",{className:"fc-event-resizer fc-event-resizer-start"}),dt.isEndResizable&&G("div",{className:"fc-event-resizer fc-event-resizer-end"}))})},f}(pr);function Ib(h){return G("div",{className:"fc-event-main-frame"},h.timeText&&G("div",{className:"fc-event-time"},h.timeText),G("div",{className:"fc-event-title-container"},G("div",{className:"fc-event-title fc-sticky"},h.event.title||G(Ee,null,"\xa0"))))}var Wh=function(h){return G(Xr.Consumer,null,function(f){var p=f.options,v={isAxis:h.isAxis,date:f.dateEnv.toDate(h.date),view:f.viewApi};return G(gs,{hookProps:v,classNames:p.nowIndicatorClassNames,content:p.nowIndicatorContent,didMount:p.nowIndicatorDidMount,willUnmount:p.nowIndicatorWillUnmount},h.children)})},Sb=br({day:"numeric"}),iy=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return(0,O.__extends)(f,h),f.prototype.render=function(){var v=this.props,A=this.context,S=A.options,N=Zh({date:v.date,dateProfile:v.dateProfile,todayRange:v.todayRange,showDayNumber:v.showDayNumber,extraProps:v.extraHookProps,viewApi:A.viewApi,dateEnv:A.dateEnv});return G(yu,{hookProps:N,content:S.dayCellContent,defaultContent:v.defaultContent},v.children)},f}(pr);function Zh(h){var f=h.date,p=h.dateEnv,v=la(f,h.todayRange,null,h.dateProfile);return(0,O.__assign)((0,O.__assign)((0,O.__assign)({date:p.toDate(f),view:h.viewApi},v),{dayNumberText:h.showDayNumber?p.format(f,Sb):""}),h.extraProps)}var oy=function(h){function f(){var p=null!==h&&h.apply(this,arguments)||this;return p.refineHookProps=$i(Zh),p.normalizeClassNames=yc(),p}return(0,O.__extends)(f,h),f.prototype.render=function(){var v=this.props,A=this.context,S=A.options,N=this.refineHookProps({date:v.date,dateProfile:v.dateProfile,todayRange:v.todayRange,showDayNumber:v.showDayNumber,extraProps:v.extraHookProps,viewApi:A.viewApi,dateEnv:A.dateEnv}),V=hs(N,A.theme).concat(N.isDisabled?[]:this.normalizeClassNames(S.dayCellClassNames,N)),q=N.isDisabled?{}:{"data-date":dr(v.date)};return G(wo,{hookProps:N,didMount:S.dayCellDidMount,willUnmount:S.dayCellWillUnmount,elRef:v.elRef},function(X){return v.children(X,V,q,N.isDisabled)})},f}(pr);function xb(h){return G("div",{className:"fc-"+h})}var of=function(h){return G(Vl,{defaultContent:Fc,seg:h.seg,timeText:"",disableDragging:!0,disableResizing:!0,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:h.isPast,isFuture:h.isFuture,isToday:h.isToday},function(f,p,v,A,S){return G("div",{ref:f,className:["fc-bg-event"].concat(p).join(" "),style:{backgroundColor:S.backgroundColor}},A)})};function Fc(h){return h.event.title&&G("div",{className:"fc-event-title"},h.event.title)}var Hg=function(h){return G(Xr.Consumer,null,function(f){var p=f.dateEnv,v=f.options,A=h.date,S=v.weekNumberFormat||h.defaultFormat,N=p.computeWeekNumber(A),V=p.format(A,S);return G(gs,{hookProps:{num:N,text:V,date:A},classNames:v.weekNumberClassNames,content:v.weekNumberContent,defaultContent:Fu,didMount:v.weekNumberDidMount,willUnmount:v.weekNumberWillUnmount},h.children)})};function Fu(h){return h.text}var sf=function(h){function f(){var p=null!==h&&h.apply(this,arguments)||this;return p.state={titleId:gt()},p.handleRootEl=function(v){p.rootEl=v,p.props.elRef&&ei(p.props.elRef,v)},p.handleDocumentMouseDown=function(v){var A=We(v);p.rootEl.contains(A)||p.handleCloseClick()},p.handleDocumentKeyDown=function(v){"Escape"===v.key&&p.handleCloseClick()},p.handleCloseClick=function(){var v=p.props.onClose;v&&v()},p}return(0,O.__extends)(f,h),f.prototype.render=function(){var p=this.context,v=p.theme,A=p.options,N=this.props,V=this.state,q=["fc-popover",v.getClass("popover")].concat(N.extraClassNames||[]);return De(G("div",(0,O.__assign)({id:N.id,className:q.join(" "),"aria-labelledby":V.titleId},N.extraAttrs,{ref:this.handleRootEl}),G("div",{className:"fc-popover-header "+v.getClass("popoverHeader")},G("span",{className:"fc-popover-title",id:V.titleId},N.title),G("span",{className:"fc-popover-close "+v.getIconClass("close"),title:A.closeHint,onClick:this.handleCloseClick})),G("div",{className:"fc-popover-body "+v.getClass("popoverContent")},N.children)),N.parentEl)},f.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()},f.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)},f.prototype.updateSize=function(){var p=this.context.isRtl,v=this.props,A=v.alignmentEl,S=v.alignGridTop,N=this.rootEl,V=function hu(h){for(var f=Xi(h),p=h.getBoundingClientRect(),v=0,A=f;v<A.length;v++){var N=Th(p,A[v].getBoundingClientRect());if(!N)return null;p=N}return p}(A);if(V){var q=N.getBoundingClientRect(),X=S?H(A,".fc-scrollgrid").getBoundingClientRect().top:V.top,ke=p?V.right-q.width:V.left;X=Math.max(X,10),ke=Math.min(ke,document.documentElement.clientWidth-10-q.width),ke=Math.max(ke,10);var Ue=N.offsetParent.getBoundingClientRect();je(N,{top:X-Ue.top,left:ke-Ue.left})}},f}(pr),jg=function(h){function f(){var p=null!==h&&h.apply(this,arguments)||this;return p.handleRootEl=function(v){p.rootEl=v,v?p.context.registerInteractiveComponent(p,{el:v,useEventCenter:!1}):p.context.unregisterInteractiveComponent(p)},p}return(0,O.__extends)(f,h),f.prototype.render=function(){var p=this.context,S=this.props,N=S.startDate,V=S.todayRange,q=S.dateProfile,X=p.dateEnv.format(N,p.options.dayPopoverFormat);return G(oy,{date:N,dateProfile:q,todayRange:V,elRef:this.handleRootEl},function(ke,Ue,dt){return G(sf,{elRef:ke,id:S.id,title:X,extraClassNames:["fc-more-popover"].concat(Ue),extraAttrs:dt,parentEl:S.parentEl,alignmentEl:S.alignmentEl,alignGridTop:S.alignGridTop,onClose:S.onClose},G(iy,{date:N,dateProfile:q,todayRange:V},function(vt,At){return At&&G("div",{className:"fc-more-popover-misc",ref:vt},At)}),S.children)})},f.prototype.queryHit=function(p,v,A,S){var V=this.rootEl,q=this.props;return p>=0&&p<A&&v>=0&&v<S?{dateProfile:q.dateProfile,dateSpan:(0,O.__assign)({allDay:!0,range:{start:q.startDate,end:q.endDate}},q.extraDateSpan),dayEl:V,rect:{left:0,top:0,right:A,bottom:S},layer:1}:null},f}(mu),sy=function(h){function f(){var p=null!==h&&h.apply(this,arguments)||this;return p.linkElRef=Ce(),p.state={isPopoverOpen:!1,popoverId:gt()},p.handleClick=function(v){var S=p.props,N=p.context,V=N.options.moreLinkClick,q=$h(S).start;function X(ke){var Ue=ke.eventRange,At=Ue.range;return{event:new Vr(N,Ue.def,Ue.instance),start:N.dateEnv.toDate(At.start),end:N.dateEnv.toDate(At.end),isStart:ke.isStart,isEnd:ke.isEnd}}"function"==typeof V&&(V=V({date:q,allDay:Boolean(S.allDayDate),allSegs:S.allSegs.map(X),hiddenSegs:S.hiddenSegs.map(X),jsEvent:v,view:N.viewApi})),V&&"popover"!==V?"string"==typeof V&&N.calendarApi.zoomTo(q,V):p.setState({isPopoverOpen:!0})},p.handlePopoverClose=function(){p.setState({isPopoverOpen:!1})},p}return(0,O.__extends)(f,h),f.prototype.render=function(){var p=this,A=this.props,S=this.state;return G(Xr.Consumer,null,function(N){var V=N.viewApi,q=N.options,X=N.calendarApi,ke=q.moreLinkText,Ue=A.moreCnt,dt=$h(A),vt="function"==typeof ke?ke.call(X,Ue):"+"+Ue+" "+ke,At=Ct(q.moreLinkHint,[Ue],vt),Kt={num:Ue,shortText:"+"+Ue,text:vt,view:V};return G(Ee,null,Boolean(A.moreCnt)&&G(gs,{elRef:p.linkElRef,hookProps:Kt,classNames:q.moreLinkClassNames,content:q.moreLinkContent,defaultContent:A.defaultContent||ay,didMount:q.moreLinkDidMount,willUnmount:q.moreLinkWillUnmount},function(an,Nt,Xn,Cr){return A.children(an,["fc-more-link"].concat(Nt),Xn,Cr,p.handleClick,At,S.isPopoverOpen,S.isPopoverOpen?S.popoverId:"")}),S.isPopoverOpen&&G(jg,{id:S.popoverId,startDate:dt.start,endDate:dt.end,dateProfile:A.dateProfile,todayRange:A.todayRange,extraDateSpan:A.extraDateSpan,parentEl:p.parentEl,alignmentEl:A.alignmentElRef.current,alignGridTop:A.alignGridTop,onClose:p.handlePopoverClose},A.popoverContent()))})},f.prototype.componentDidMount=function(){this.updateParentEl()},f.prototype.componentDidUpdate=function(){this.updateParentEl()},f.prototype.updateParentEl=function(){this.linkElRef.current&&(this.parentEl=H(this.linkElRef.current,".fc-view-harness"))},f}(pr);function ay(h){return h.text}function $h(h){if(h.allDayDate)return{start:h.allDayDate,end:$e(h.allDayDate,1)};var f=h.hiddenSegs;return{start:Gg(f),end:uy(f)}}function Gg(h){return h.reduce(ly).eventRange.range.start}function ly(h,f){return h.eventRange.range.start<f.eventRange.range.start?h:f}function uy(h){return h.reduce(cy).eventRange.range.end}function cy(h,f){return h.eventRange.range.end>f.eventRange.range.end?h:f}var dy="5.10.2"},9626:(kt,qe,z)=>{"use strict";var u=z(5e3);let O=null;function k(){return O}const Ee=new u.OlP("DocumentToken");let Me=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function De(){return(0,u.LFG)(de)}()},providedIn:"platform"}),n})();const ee=new u.OlP("Location Initialized");let de=(()=>{class n extends Me{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){T()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){T()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ee))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function F(){return new de((0,u.LFG)(Ee))}()},providedIn:"platform"}),n})();function T(){return!!window.history.pushState}function H(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function oe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function me(n){return n&&"?"!==n[0]?"?"+n:n}let ce=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function se(n){const e=(0,u.LFG)(Ee).location;return new Ye((0,u.LFG)(Me),e&&e.origin||"")}()},providedIn:"root"}),n})();const je=new u.OlP("appBaseHref");let Ye=(()=>{class n extends ce{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return H(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+me(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const d=this.prepareExternalUrl(i+me(a));this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,a){const d=this.prepareExternalUrl(i+me(a));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Me),u.LFG(je,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),We=(()=>{class n extends ce{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=H(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let d=this.prepareExternalUrl(i+me(a));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,a){let d=this.prepareExternalUrl(i+me(a));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Me),u.LFG(je,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Qe=(()=>{class n{constructor(t,r){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=oe(Te(i)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+me(r))}normalize(t){return n.stripTrailingSlash(function gt(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Te(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+me(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+me(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=me,n.joinWithSlash=H,n.stripTrailingSlash=oe,n.\u0275fac=function(t){return new(t||n)(u.LFG(ce),u.LFG(Me))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function ze(){return new Qe((0,u.LFG)(ce),(0,u.LFG)(Me))}()},providedIn:"root"}),n})();function Te(n){return n.replace(/\/index.html$/,"")}var Oe=(()=>((Oe=Oe||{})[Oe.Format=0]="Format",Oe[Oe.Standalone=1]="Standalone",Oe))(),Be=(()=>((Be=Be||{})[Be.Narrow=0]="Narrow",Be[Be.Abbreviated=1]="Abbreviated",Be[Be.Wide=2]="Wide",Be[Be.Short=3]="Short",Be))(),Xe=(()=>((Xe=Xe||{})[Xe.Short=0]="Short",Xe[Xe.Medium=1]="Medium",Xe[Xe.Long=2]="Long",Xe[Xe.Full=3]="Full",Xe))(),Ne=(()=>((Ne=Ne||{})[Ne.Decimal=0]="Decimal",Ne[Ne.Group=1]="Group",Ne[Ne.List=2]="List",Ne[Ne.PercentSign=3]="PercentSign",Ne[Ne.PlusSign=4]="PlusSign",Ne[Ne.MinusSign=5]="MinusSign",Ne[Ne.Exponential=6]="Exponential",Ne[Ne.SuperscriptingExponent=7]="SuperscriptingExponent",Ne[Ne.PerMille=8]="PerMille",Ne[Ne.Infinity=9]="Infinity",Ne[Ne.NaN=10]="NaN",Ne[Ne.TimeSeparator=11]="TimeSeparator",Ne[Ne.CurrencyDecimal=12]="CurrencyDecimal",Ne[Ne.CurrencyGroup=13]="CurrencyGroup",Ne))();function wn(n,e){return mt((0,u.cg1)(n)[u.wAp.DateFormat],e)}function Ae(n,e){return mt((0,u.cg1)(n)[u.wAp.TimeFormat],e)}function _e(n,e){return mt((0,u.cg1)(n)[u.wAp.DateTimeFormat],e)}function Ve(n,e){const t=(0,u.cg1)(n),r=t[u.wAp.NumberSymbols][e];if(void 0===r){if(e===Ne.CurrencyDecimal)return t[u.wAp.NumberSymbols][Ne.Decimal];if(e===Ne.CurrencyGroup)return t[u.wAp.NumberSymbols][Ne.Group]}return r}function gn(n){if(!n[u.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[u.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function mt(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function Ft(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Cn=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Gn={},sn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var un=(()=>((un=un||{})[un.Short=0]="Short",un[un.ShortGMT=1]="ShortGMT",un[un.Long=2]="Long",un[un.Extended=3]="Extended",un))(),Zt=(()=>((Zt=Zt||{})[Zt.FullYear=0]="FullYear",Zt[Zt.Month=1]="Month",Zt[Zt.Date=2]="Date",Zt[Zt.Hours=3]="Hours",Zt[Zt.Minutes=4]="Minutes",Zt[Zt.Seconds=5]="Seconds",Zt[Zt.FractionalSeconds=6]="FractionalSeconds",Zt[Zt.Day=7]="Day",Zt))(),Rt=(()=>((Rt=Rt||{})[Rt.DayPeriods=0]="DayPeriods",Rt[Rt.Days=1]="Days",Rt[Rt.Months=2]="Months",Rt[Rt.Eras=3]="Eras",Rt))();function zn(n,e,t,r){let i=function et(n){if(jt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,a=1,d=1]=n.split("-").map(m=>+m);return Sr(i,a-1,d)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Cn))return function bt(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,a=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const d=Number(n[4]||0)-t,m=Number(n[5]||0)-r,b=Number(n[6]||0),C=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return a.call(e,d,m,b,C),e}(r)}const e=new Date(n);if(!jt(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=bn(t,e)||e;let m,d=[];for(;e;){if(m=sn.exec(e),!m){d.push(e);break}{d=d.concat(m.slice(1));const R=d.pop();if(!R)break;e=R}}let b=i.getTimezoneOffset();r&&(b=Ie(r,b),i=function he(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function pe(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(Ie(e,i)-i))}(i,r,!0));let C="";return d.forEach(R=>{const P=function qt(n){if(lt[n])return lt[n];let e;switch(n){case"G":case"GG":case"GGG":e=B(Rt.Eras,Be.Abbreviated);break;case"GGGG":e=B(Rt.Eras,Be.Wide);break;case"GGGGG":e=B(Rt.Eras,Be.Narrow);break;case"y":e=ue(Zt.FullYear,1,0,!1,!0);break;case"yy":e=ue(Zt.FullYear,2,0,!0,!0);break;case"yyy":e=ue(Zt.FullYear,3,0,!1,!0);break;case"yyyy":e=ue(Zt.FullYear,4,0,!1,!0);break;case"Y":e=ht(1);break;case"YY":e=ht(2,!0);break;case"YYY":e=ht(3);break;case"YYYY":e=ht(4);break;case"M":case"L":e=ue(Zt.Month,1,1);break;case"MM":case"LL":e=ue(Zt.Month,2,1);break;case"MMM":e=B(Rt.Months,Be.Abbreviated);break;case"MMMM":e=B(Rt.Months,Be.Wide);break;case"MMMMM":e=B(Rt.Months,Be.Narrow);break;case"LLL":e=B(Rt.Months,Be.Abbreviated,Oe.Standalone);break;case"LLLL":e=B(Rt.Months,Be.Wide,Oe.Standalone);break;case"LLLLL":e=B(Rt.Months,Be.Narrow,Oe.Standalone);break;case"w":e=it(1);break;case"ww":e=it(2);break;case"W":e=it(1,!0);break;case"d":e=ue(Zt.Date,1);break;case"dd":e=ue(Zt.Date,2);break;case"c":case"cc":e=ue(Zt.Day,1);break;case"ccc":e=B(Rt.Days,Be.Abbreviated,Oe.Standalone);break;case"cccc":e=B(Rt.Days,Be.Wide,Oe.Standalone);break;case"ccccc":e=B(Rt.Days,Be.Narrow,Oe.Standalone);break;case"cccccc":e=B(Rt.Days,Be.Short,Oe.Standalone);break;case"E":case"EE":case"EEE":e=B(Rt.Days,Be.Abbreviated);break;case"EEEE":e=B(Rt.Days,Be.Wide);break;case"EEEEE":e=B(Rt.Days,Be.Narrow);break;case"EEEEEE":e=B(Rt.Days,Be.Short);break;case"a":case"aa":case"aaa":e=B(Rt.DayPeriods,Be.Abbreviated);break;case"aaaa":e=B(Rt.DayPeriods,Be.Wide);break;case"aaaaa":e=B(Rt.DayPeriods,Be.Narrow);break;case"b":case"bb":case"bbb":e=B(Rt.DayPeriods,Be.Abbreviated,Oe.Standalone,!0);break;case"bbbb":e=B(Rt.DayPeriods,Be.Wide,Oe.Standalone,!0);break;case"bbbbb":e=B(Rt.DayPeriods,Be.Narrow,Oe.Standalone,!0);break;case"B":case"BB":case"BBB":e=B(Rt.DayPeriods,Be.Abbreviated,Oe.Format,!0);break;case"BBBB":e=B(Rt.DayPeriods,Be.Wide,Oe.Format,!0);break;case"BBBBB":e=B(Rt.DayPeriods,Be.Narrow,Oe.Format,!0);break;case"h":e=ue(Zt.Hours,1,-12);break;case"hh":e=ue(Zt.Hours,2,-12);break;case"H":e=ue(Zt.Hours,1);break;case"HH":e=ue(Zt.Hours,2);break;case"m":e=ue(Zt.Minutes,1);break;case"mm":e=ue(Zt.Minutes,2);break;case"s":e=ue(Zt.Seconds,1);break;case"ss":e=ue(Zt.Seconds,2);break;case"S":e=ue(Zt.FractionalSeconds,1);break;case"SS":e=ue(Zt.FractionalSeconds,2);break;case"SSS":e=ue(Zt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=W(un.Short);break;case"ZZZZZ":e=W(un.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=W(un.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=W(un.Long);break;default:return null}return lt[n]=e,e}(R);C+=P?P(i,t,b):"''"===R?"'":R.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),C}function Sr(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function bn(n,e){const t=function Qt(n){return(0,u.cg1)(n)[u.wAp.LocaleId]}(n);if(Gn[t]=Gn[t]||{},Gn[t][e])return Gn[t][e];let r="";switch(e){case"shortDate":r=wn(n,Xe.Short);break;case"mediumDate":r=wn(n,Xe.Medium);break;case"longDate":r=wn(n,Xe.Long);break;case"fullDate":r=wn(n,Xe.Full);break;case"shortTime":r=Ae(n,Xe.Short);break;case"mediumTime":r=Ae(n,Xe.Medium);break;case"longTime":r=Ae(n,Xe.Long);break;case"fullTime":r=Ae(n,Xe.Full);break;case"short":const i=bn(n,"shortTime"),a=bn(n,"shortDate");r=yr(_e(n,Xe.Short),[i,a]);break;case"medium":const d=bn(n,"mediumTime"),m=bn(n,"mediumDate");r=yr(_e(n,Xe.Medium),[d,m]);break;case"long":const b=bn(n,"longTime"),C=bn(n,"longDate");r=yr(_e(n,Xe.Long),[b,C]);break;case"full":const R=bn(n,"fullTime"),P=bn(n,"fullDate");r=yr(_e(n,Xe.Full),[R,P])}return r&&(Gn[t][e]=r),r}function yr(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function tr(n,e,t="-",r,i){let a="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,a=t));let d=String(n);for(;d.length<e;)d="0"+d;return r&&(d=d.substr(d.length-e)),a+d}function ue(n,e,t=0,r=!1,i=!1){return function(a,d){let m=function ve(n,e){switch(n){case Zt.FullYear:return e.getFullYear();case Zt.Month:return e.getMonth();case Zt.Date:return e.getDate();case Zt.Hours:return e.getHours();case Zt.Minutes:return e.getMinutes();case Zt.Seconds:return e.getSeconds();case Zt.FractionalSeconds:return e.getMilliseconds();case Zt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,a);if((t>0||m>-t)&&(m+=t),n===Zt.Hours)0===m&&-12===t&&(m=12);else if(n===Zt.FractionalSeconds)return function Dn(n,e){return tr(n,3).substr(0,e)}(m,e);const b=Ve(d,Ne.MinusSign);return tr(m,e,b,r,i)}}function B(n,e,t=Oe.Format,r=!1){return function(i,a){return function J(n,e,t,r,i,a){switch(t){case Rt.Months:return function Ut(n,e,t){const r=(0,u.cg1)(n),a=mt([r[u.wAp.MonthsFormat],r[u.wAp.MonthsStandalone]],e);return mt(a,t)}(e,i,r)[n.getMonth()];case Rt.Days:return function xt(n,e,t){const r=(0,u.cg1)(n),a=mt([r[u.wAp.DaysFormat],r[u.wAp.DaysStandalone]],e);return mt(a,t)}(e,i,r)[n.getDay()];case Rt.DayPeriods:const d=n.getHours(),m=n.getMinutes();if(a){const C=function $e(n){const e=(0,u.cg1)(n);return gn(e),(e[u.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?Ft(r):[Ft(r[0]),Ft(r[1])])}(e),R=function Dt(n,e,t){const r=(0,u.cg1)(n);gn(r);const a=mt([r[u.wAp.ExtraData][0],r[u.wAp.ExtraData][1]],e)||[];return mt(a,t)||[]}(e,i,r),P=C.findIndex(Z=>{if(Array.isArray(Z)){const[Q,te]=Z,Se=d>=Q.hours&&m>=Q.minutes,rt=d<te.hours||d===te.hours&&m<te.minutes;if(Q.hours<te.hours){if(Se&&rt)return!0}else if(Se||rt)return!0}else if(Z.hours===d&&Z.minutes===m)return!0;return!1});if(-1!==P)return R[P]}return function Qn(n,e,t){const r=(0,u.cg1)(n),a=mt([r[u.wAp.DayPeriodsFormat],r[u.wAp.DayPeriodsStandalone]],e);return mt(a,t)}(e,i,r)[d<12?0:1];case Rt.Eras:return function Wn(n,e){return mt((0,u.cg1)(n)[u.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,a,n,e,t,r)}}function W(n){return function(e,t,r){const i=-1*r,a=Ve(t,Ne.MinusSign),d=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case un.Short:return(i>=0?"+":"")+tr(d,2,a)+tr(Math.abs(i%60),2,a);case un.ShortGMT:return"GMT"+(i>=0?"+":"")+tr(d,1,a);case un.Long:return"GMT"+(i>=0?"+":"")+tr(d,2,a)+":"+tr(Math.abs(i%60),2,a);case un.Extended:return 0===r?"Z":(i>=0?"+":"")+tr(d,2,a)+":"+tr(Math.abs(i%60),2,a);default:throw new Error(`Unknown zone width "${n}"`)}}}function Pe(n){return Sr(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function it(n,e=!1){return function(t,r){let i;if(e){const a=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,d=t.getDate();i=1+Math.floor((d+a)/7)}else{const a=Pe(t),d=function ge(n){const e=Sr(n,0,1).getDay();return Sr(n,0,1+(e<=4?4:11)-e)}(a.getFullYear()),m=a.getTime()-d.getTime();i=1+Math.round(m/6048e5)}return tr(i,n,Ve(r,Ne.MinusSign))}}function ht(n,e=!1){return function(t,r){return tr(Pe(t).getFullYear(),n,Ve(r,Ne.MinusSign),e)}}const lt={};function Ie(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function jt(n){return n instanceof Date&&!isNaN(n.valueOf())}function fo(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}class $i{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Mr=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,d)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new $i(i.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===a?void 0:a);else if(null!==a){const m=r.get(a);r.move(m,d),ho(m,i)}});for(let i=0,a=r.length;i<a;i++){const m=r.get(i).context;m.index=i,m.count=a,m.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{ho(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function ho(n,e){n.context.$implicit=e.item}let fr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Yn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ra("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ra("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Yn{constructor(){this.$implicit=null,this.ngIf=null}}function Ra(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}let Xs=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const r=this._viewContainerRef;this._viewRef&&r.remove(r.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?r.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[u.TTD]}),n})();class ru{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class bd{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const Ki=new bd,ka=new ru;let as=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,u.QGY)(t))return Ki;if((0,u.F4k)(t))return ka;throw function Dr(n,e){return new u.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO,16))},n.\u0275pipe=u.Yjl({name:"async",type:n,pure:!1}),n})(),Ui=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const Vo="browser";function Lr(n){return"server"===n}let ia=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new Ms((0,u.LFG)(Ee),window)}),n})();class Ms{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function us(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const d=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Yi(this.window.history)||Yi(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Yi(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class cr{}class vo extends class Hi extends class Ce{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ne(n){O||(O=n)}(new vo)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function oa(){return Zn=Zn||document.querySelector("base"),Zn?Zn.getAttribute("href"):null}();return null==t?null:function cs(n){Pa=Pa||document.createElement("a"),Pa.setAttribute("href",n);const e=Pa.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Zn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return fo(document.cookie,e)}}let Pa,Zn=null;const Yr=new u.OlP("TRANSITION_ID"),sa=[{provide:u.ip1,useFactory:function Uo(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=k(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[Yr,Ee,u.zs3],multi:!0}];class K{static init(){(0,u.VLi)(new K)}addToWindow(e){u.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let a=i.length,d=!1;const m=function(b){d=d||b,a--,0==a&&r(d)};i.forEach(function(b){b.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let $=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const we=new u.OlP("EventManagerPlugins");let Ge=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const d=i[a];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(we),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class _t{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=k().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Tt=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),cn=(()=>{class n extends Tt{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const d=this._doc.createElement("style");d.textContent=a,i.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(rr),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(rr))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ee))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function rr(n){k().remove(n)}const Gt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ir=/%COMP%/g;function Ji(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Ji(n,i,t):(i=i.replace(ir,n),t.push(i))}return t}function st(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ds=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Er(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new jo(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case u.ifc.ShadowDom:return new dc(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Ji(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ge),u.LFG(cn),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Er{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Gt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=Gt[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Gt[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,i&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,st(r)):this.eventManager.addEventListener(e,t,st(r))}}class jo extends Er{constructor(e,t,r,i){super(e),this.component=r;const a=Ji(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function Ho(n){return"_ngcontent-%COMP%".replace(ir,n)}(i+"-"+r.id),this.hostAttr=function Oa(n){return"_nghost-%COMP%".replace(ir,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class dc extends Er{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Ji(i.id,i.styles,[]);for(let d=0;d<a.length;d++){const m=document.createElement("style");m.textContent=a[d],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let vl=(()=>{class n extends _t{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ee))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Td=["alt","control","meta","shift"],Sd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fa={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Qr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let _o=(()=>{class n extends _t{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),d=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,a.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let d="";if(Td.forEach(b=>{const C=r.indexOf(b);C>-1&&(r.splice(C,1),d+=b+".")}),d+=a,0!=r.length||0===a.length)return null;const m={};return m.domEventName=i,m.fullKey=d,m}static getEventFullKey(t){let r="",i=function La(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Fa.hasOwnProperty(e)&&(e=Fa[e]))}return Sd[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Td.forEach(a=>{a!=i&&Qr[a](t)&&(r+=a+".")}),r+=i,r}static eventCallback(t,r,i){return a=>{n.getEventFullKey(a)===t&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ee))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const _h=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:Vo},{provide:u.g9A,useValue:function aa(){vo.makeCurrent(),K.init()},multi:!0},{provide:Ee,useFactory:function yh(){return(0,u.RDi)(document),document},deps:[]}]),su=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function bo(){return new u.qLn},deps:[]},{provide:we,useClass:vl,multi:!0,deps:[Ee,u.R0b,u.Lbi]},{provide:we,useClass:_o,multi:!0,deps:[Ee]},{provide:ds,useClass:ds,deps:[Ge,cn,u.AFp]},{provide:u.FYo,useExisting:ds},{provide:Tt,useExisting:cn},{provide:cn,useClass:cn,deps:[Ee]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:Ge,useClass:Ge,deps:[we,u.R0b]},{provide:cr,useClass:$,deps:[]}];let _l=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:Yr,useExisting:u.AFp},sa]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(n,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:su,imports:[Ui,u.hGG]}),n})();"undefined"!=typeof window&&window;let wl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):u.LFG(cu),r},providedIn:"root"}),n})(),cu=(()=>{class n extends wl{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case u.q3G.NONE:return r;case u.q3G.HTML:return(0,u.qzn)(r,"HTML")?(0,u.z3N)(r):(0,u.EiD)(this._doc,String(r)).toString();case u.q3G.STYLE:return(0,u.qzn)(r,"Style")?(0,u.z3N)(r):r;case u.q3G.SCRIPT:if((0,u.qzn)(r,"Script"))return(0,u.z3N)(r);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.yhl)(r),(0,u.qzn)(r,"URL")?(0,u.z3N)(r):(0,u.mCW)(String(r));case u.q3G.RESOURCE_URL:if((0,u.qzn)(r,"ResourceURL"))return(0,u.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,u.JVY)(t)}bypassSecurityTrustStyle(t){return(0,u.L6k)(t)}bypassSecurityTrustScript(t){return(0,u.eBb)(t)}bypassSecurityTrustUrl(t){return(0,u.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,u.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ee))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Ba(n){return new cu(n.get(Ee))}(u.LFG(u.zs3)),r},providedIn:"root"}),n})();var gr=z(8996),qo=z(8306);const{isArray:Ih}=Array,{getPrototypeOf:Cl,prototype:du,keys:pc}=Object;function la(n){if(1===n.length){const e=n[0];if(Ih(e))return{args:e,keys:null};if(function hs(n){return n&&"object"==typeof n&&Cl(n)===du}(e)){const t=pc(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Ua=z(8421),or=z(7669),_i=z(5403),dn=z(4004);const{isArray:Dl}=Array;function Sh(n){return(0,dn.U)(e=>function ua(n,e){return Dl(e)?n(...e):n(e)}(n,e))}function Tl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let Pd=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),Ao=(()=>{class n extends Pd{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const ci=new u.OlP("NgValueAccessor"),hu={provide:ci,useExisting:(0,u.Gpc)(()=>Xi),multi:!0},Od=new u.OlP("CompositionEventMode");let Xi=(()=>{class n extends Pd{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ha(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Od,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[u._Bn([hu]),u.qOj]}),n})();const Wr=new u.OlP("NgValidators"),Ps=new u.OlP("NgAsyncValidators");function ha(n){return null!=n}function ei(n){const e=(0,u.QGY)(n)?(0,gr.D)(n):n;return(0,u.CqO)(e),e}function mu(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Zo(n,e){return e.map(t=>t(n))}function mc(n){return n.map(e=>function ja(n){return!n.validate}(e)?e:t=>e.validate(t))}function nr(n){return null!=n?function Ld(n){if(!n)return null;const e=n.filter(ha);return 0==e.length?null:function(t){return mu(Zo(t,e))}}(mc(n)):null}function vu(n){return null!=n?function Vd(n){if(!n)return null;const e=n.filter(ha);return 0==e.length?null:function(t){return function fu(...n){const e=(0,or.jO)(n),{args:t,keys:r}=la(n),i=new qo.y(a=>{const{length:d}=t;if(!d)return void a.complete();const m=new Array(d);let b=d,C=d;for(let R=0;R<d;R++){let P=!1;(0,Ua.Xf)(t[R]).subscribe((0,_i.x)(a,Z=>{P||(P=!0,C--),m[R]=Z},()=>b--,void 0,()=>{(!b||!P)&&(C||a.next(r?Tl(r,m):m),a.complete())}))}});return e?i.pipe(Sh(e)):i}(Zo(t,e).map(ei)).pipe((0,dn.U)(mu))}}(mc(n)):null}function Mh(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function yu(n){return n?Array.isArray(n)?n:[n]:[]}function vc(n,e){return Array.isArray(n)?n.includes(e):n===e}function wo(n,e){const t=yu(e);return yu(n).forEach(i=>{vc(t,i)||t.push(i)}),t}function yc(n,e){return yu(e).filter(t=>!vc(n,t))}class Ar{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=nr(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=vu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Co extends Ar{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Tr extends Ar{get formDirective(){return null}get path(){return null}}let ti=(()=>{class n extends class Ud{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Co,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[u.qOj]}),n})();function qa(n,e){(function Eu(n,e){const t=function gs(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(Mh(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Bd(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(Mh(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();pa(e._rawValidators,i),pa(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),function Wa(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Cc(n,e)})}(n,e),function Dc(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Au(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Cc(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function bu(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function pa(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Cc(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function va(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const ya="VALID",_s="INVALID",eo="PENDING",$a="DISABLED";function wu(n){return(_a(n)?n.validators:n)||null}function Cu(n){return Array.isArray(n)?nr(n):n||null}function Sl(n,e){return(_a(e)?e.asyncValidators:n)||null}function Ya(n){return Array.isArray(n)?vu(n):n||null}function _a(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Du=n=>n instanceof Ml;function Vs(n){return(n=>n instanceof Tu)(n)?n.value:n.getRawValue()}function Sc(n,e){const t=Du(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new u.vHH(1e3,"");if(!r[e])throw new u.vHH(1001,"")}function kh(n,e){Du(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new u.vHH(1002,"")})}class xl{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Cu(this._rawValidators),this._composedAsyncValidatorFn=Ya(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ya}get invalid(){return this.status===_s}get pending(){return this.status==eo}get disabled(){return this.status===$a}get enabled(){return this.status!==$a}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Cu(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Ya(e)}addValidators(e){this.setValidators(wo(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(wo(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(yc(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(yc(e,this._rawAsyncValidators))}hasValidator(e){return vc(this._rawValidators,e)}hasAsyncValidator(e){return vc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=eo,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=$a,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ya,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ya||this.status===eo)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$a:ya}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=eo,this._hasOwnPendingAsyncValidator=!0;const t=ei(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Ka(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=Du(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof Nh)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?$a:this.errors?_s:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(eo)?eo:this._anyControlsHaveStatus(_s)?_s:ya}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){_a(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Tu extends xl{constructor(e=null,t,r){super(wu(t),Sl(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),_a(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){va(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){va(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Ml extends xl{constructor(e,t,r){super(wu(t),Sl(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){kh(this,e),Object.keys(e).forEach(r=>{Sc(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=Vs(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Nh extends xl{constructor(e,t,r){super(wu(t),Sl(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){kh(this,e),e.forEach((r,i)=>{Sc(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Vs(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Kd={provide:Co,useExisting:(0,u.Gpc)(()=>Bs)},xu=(()=>Promise.resolve(null))();let Bs=(()=>{class n extends Co{constructor(t,r,i,a,d){super(),this._changeDetectorRef=d,this.control=new Tu,this._registered=!1,this.update=new u.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function ma(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===Xi?t=a:function qd(n){return Object.getPrototypeOf(n.constructor)===Ao}(a)?r=a:i=a}),i||r||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Ir(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){qa(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){xu.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;xu.then(()=>{var a;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(a=this._changeDetectorRef)||void 0===a||a.markForCheck()})}_getPath(t){return this._parent?function za(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Tr,9),u.Y36(Wr,10),u.Y36(Ps,10),u.Y36(ci,10),u.Y36(u.sBO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([Kd]),u.qOj,u.TTD]}),n})();const Fh={provide:ci,useExisting:(0,u.Gpc)(()=>kl),multi:!0};let kl=(()=>{class n extends Ao{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},features:[u._Bn([Fh]),u.qOj]}),n})(),Mu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),ty=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Mu]]}),n})(),ny=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[ty]}),n})();class nf{}const Io="*";function zh(n,e){return{type:7,name:n,definitions:e,options:{}}}function Ug(n,e=null){return{type:4,styles:e,timings:n}}function qh(n,e=null){return{type:2,steps:n,options:e}}function Vl(n){return{type:6,styles:n,offset:null}}function rf(n,e,t){return{type:0,name:n,styles:e,options:t}}function Wh(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function of(n){Promise.resolve(null).then(n)}class Fc{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){of(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Hg{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?of(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++t==a&&this._onFinish()}),d.onDestroy(()=>{++r==a&&this._onDestroy()}),d.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((d,m)=>Math.max(d,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const jn=!1;function jg(n){return new u.vHH(3e3,jn)}function af(){return"undefined"!=typeof window&&void 0!==window.document}function Lu(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ea(n){switch(n.length){case 0:return new Fc;case 1:return n[0];default:return new Hg(n)}}function zg(n,e,t,r,i={},a={}){const d=[],m=[];let b=-1,C=null;if(r.forEach(R=>{const P=R.offset,Z=P==b,Q=Z&&C||{};Object.keys(R).forEach(te=>{let Se=te,rt=R[te];if("offset"!==te)switch(Se=e.normalizePropertyName(Se,d),rt){case"!":rt=i[te];break;case Io:rt=a[te];break;default:rt=e.normalizeStyleValue(te,Se,rt,d)}Q[Se]=rt}),Z||m.push(Q),C=Q,b=P}),d.length)throw function Kt(n){return new u.vHH(3502,jn)}();return m}function Lc(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&qg(t,"start",n)));break;case"done":n.onDone(()=>r(t&&qg(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&qg(t,"destroy",n)))}}function qg(n,e,t){const r=t.totalTime,a=Kh(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),d=n._data;return null!=d&&(a._data=d),a}function Kh(n,e,t,r,i="",a=0,d){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!d}}function Qo(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function Wg(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let fy=(n,e)=>!1,Mb=(n,e,t)=>[],hy=null;function Zg(n){const e=n.parentNode||n.host;return e===hy?null:e}(Lu()||"undefined"!=typeof Element)&&(af()?(hy=(()=>document.documentElement)(),fy=(n,e)=>{for(;e;){if(e===n)return!0;e=Zg(e)}return!1}):fy=(n,e)=>n.contains(e),Mb=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Vu=null,kb=!1;function Yh(n){Vu||(Vu=function dD(){return"undefined"!=typeof document?document.body:null}()||{},kb=!!Vu.style&&"WebkitAppearance"in Vu.style);let e=!0;return Vu.style&&!function Rb(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Vu.style,!e&&kb&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Vu.style)),e}const py=fy,gy=Mb;let $g=(()=>{class n{validateStyleProperty(t){return Yh(t)}matchesElement(t,r){return!1}containsElement(t,r){return py(t,r)}getParentElement(t){return Zg(t)}query(t,r,i){return gy(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,d,m=[],b){return new Fc(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Kg=(()=>{class n{}return n.NOOP=new $g,n})();const Jh="ng-enter",Xh="ng-leave",uf="ng-trigger",Bu=".ng-trigger",Pb="ng-animating",Qg=".ng-animating";function Vc(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:my(parseFloat(e[1]),e[2])}function my(n,e){return"s"===e?1e3*n:n}function ep(n,e,t){return n.hasOwnProperty("duration")?n:function vy(n,e,t){let i,a=0,d="";if("string"==typeof n){const m=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return e.push(jg()),{duration:0,delay:0,easing:""};i=my(parseFloat(m[1]),m[2]);const b=m[3];null!=b&&(a=my(parseFloat(b),m[4]));const C=m[5];C&&(d=C)}else i=n;if(!t){let m=!1,b=e.length;i<0&&(e.push(function sy(){return new u.vHH(3100,jn)}()),m=!0),a<0&&(e.push(function ay(){return new u.vHH(3101,jn)}()),m=!0),m&&e.splice(b,0,jg())}return{duration:i,delay:a,easing:d}}(n,e,t)}function Bc(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Bl(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Bc(n,t);return t}function Ob(n,e,t){return t?e+":"+t+";":""}function yy(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=Ob(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Ob(0,mD(t),n.style[t]));n.setAttribute("style",e)}function tl(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=tm(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),Lu()&&yy(n))}function Uc(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=tm(t);n.style[r]=""}),Lu()&&yy(n))}function Mo(n){return Array.isArray(n)?1==n.length?n[0]:qh(n):n}const Jg=new RegExp("{{\\s*(.+?)\\s*}}","g");function Fb(n){let e=[];if("string"==typeof n){let t;for(;t=Jg.exec(n);)e.push(t[1]);Jg.lastIndex=0}return e}function Xg(n,e,t){const r=n.toString(),i=r.replace(Jg,(a,d)=>{let m=e[d];return e.hasOwnProperty(d)||(t.push(function Gg(n){return new u.vHH(3003,jn)}()),m=""),m.toString()});return i==r?n:i}function em(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const gD=/-+([a-z0-9])/g;function tm(n){return n.replace(gD,(...e)=>e[1].toUpperCase())}function mD(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function fn(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function ly(n){return new u.vHH(3004,jn)}()}}function _y(n,e){return window.getComputedStyle(n)[e]}function by(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Bb(n,e,t){if(":"==n[0]){const b=function Ey(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Ue(n){return new u.vHH(3016,jn)}()),"* => *"}}(n,t);if("function"==typeof b)return void e.push(b);n=b}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function ke(n){return new u.vHH(3015,jn)}()),e;const i=r[1],a=r[2],d=r[3];e.push(_D(i,d));"<"==a[0]&&!("*"==i&&"*"==d)&&e.push(_D(d,i))}(r,t,e)):t.push(n),t}const Ay=new Set(["true","1"]),rp=new Set(["false","0"]);function _D(n,e){const t=Ay.has(n)||rp.has(n),r=Ay.has(e)||rp.has(e);return(i,a)=>{let d="*"==n||n==i,m="*"==e||e==a;return!d&&t&&"boolean"==typeof i&&(d=i?Ay.has(n):rp.has(n)),!m&&r&&"boolean"==typeof a&&(m=a?Ay.has(e):rp.has(e)),d&&m}}const rm=new RegExp("s*:selfs*,?","g");function op(n,e,t,r){return new wy(n).build(e,t,r)}class wy{constructor(e){this._driver=e}build(e,t,r){const i=new ED(t);this._resetContextStyleTimingState(i);const a=fn(this,Mo(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),a}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push(function cy(){return new u.vHH(3006,jn)}()),e.definitions.forEach(m=>{if(this._resetContextStyleTimingState(t),0==m.type){const b=m,C=b.name;C.toString().split(/\s*,\s*/).forEach(R=>{b.name=R,a.push(this.visitState(b,t))}),b.name=C}else if(1==m.type){const b=this.visitTransition(m,t);r+=b.queryCount,i+=b.depCount,d.push(b)}else t.errors.push(function dy(){return new u.vHH(3007,jn)}())}),{type:7,name:e.name,states:a,transitions:d,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,d=i||{};r.styles.forEach(m=>{if(om(m)){const b=m;Object.keys(b).forEach(C=>{Fb(b[C]).forEach(R=>{d.hasOwnProperty(R)||a.add(R)})})}}),a.size&&(em(a.values()),t.errors.push(function h(n,e){return new u.vHH(3008,jn)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=fn(this,Mo(e.animation),t);return{type:1,matchers:by(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:cf(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>fn(this,r,t)),options:cf(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(d=>{t.currentTime=r;const m=fn(this,d,t);return i=Math.max(i,t.currentTime),m});return t.currentTime=i,{type:3,steps:a,options:cf(e.options)}}visitAnimate(e,t){const r=function Ub(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Cy(ep(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=Cy(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=ep(t,e);return Cy(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:Vl({});if(5==a.type)i=this.visitKeyframes(a,t);else{let d=e.styles,m=!1;if(!d){m=!0;const C={};r.easing&&(C.easing=r.easing),d=Vl(C)}t.currentTime+=r.duration+r.delay;const b=this.visitStyle(d,t);b.isEmptyStep=m,i=b}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(d=>{"string"==typeof d?d==Io?r.push(d):t.errors.push(function f(n){return new u.vHH(3002,jn)}()):r.push(d)}):r.push(e.styles);let i=!1,a=null;return r.forEach(d=>{if(om(d)){const m=d,b=m.easing;if(b&&(a=b,delete m.easing),!i)for(let C in m)if(m[C].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:a,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(d=>{"string"!=typeof d&&Object.keys(d).forEach(m=>{if(!this._driver.validateStyleProperty(m))return delete d[m],void t.unsupportedCSSPropertiesFound.add(m);const b=t.collectedStyles[t.currentQuerySelector],C=b[m];let R=!0;C&&(a!=i&&a>=C.startTime&&i<=C.endTime&&(t.errors.push(function v(n,e,t,r,i){return new u.vHH(3010,jn)}()),R=!1),a=C.startTime),R&&(b[m]={startTime:a,endTime:i}),t.options&&function pD(n,e,t){const r=e.params||{},i=Fb(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function $h(n){return new u.vHH(3001,jn)}())})}(d[m],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function A(){return new u.vHH(3011,jn)}()),r;let a=0;const d=[];let m=!1,b=!1,C=0;const R=e.steps.map(ot=>{const yt=this._makeStyleAst(ot,t);let Mt=null!=yt.offset?yt.offset:function AD(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(om(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(om(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(yt.styles),wt=0;return null!=Mt&&(a++,wt=yt.offset=Mt),b=b||wt<0||wt>1,m=m||wt<C,C=wt,d.push(wt),yt});b&&t.errors.push(function S(){return new u.vHH(3012,jn)}()),m&&t.errors.push(function N(){return new u.vHH(3200,jn)}());const P=e.steps.length;let Z=0;a>0&&a<P?t.errors.push(function V(){return new u.vHH(3202,jn)}()):0==a&&(Z=1/(P-1));const Q=P-1,te=t.currentTime,Se=t.currentAnimateTimings,rt=Se.duration;return R.forEach((ot,yt)=>{const Mt=Z>0?yt==Q?1:Z*yt:d[yt],wt=Mt*rt;t.currentTime=te+Se.delay+wt,Se.duration=wt,this._validateStyleAst(ot,t),ot.offset=Mt,r.styles.push(ot)}),r}visitReference(e,t){return{type:8,animation:fn(this,Mo(e.animation),t),options:cf(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:cf(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:cf(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,d]=function SM(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(rm,"")),n=n.replace(/@\*/g,Bu).replace(/@\w+/g,t=>Bu+"-"+t.substr(1)).replace(/:animating/g,Qg),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,Qo(t.collectedStyles,t.currentQuerySelector,{});const m=fn(this,Mo(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:d,animation:m,originalSelector:e.selector,options:cf(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function q(){return new u.vHH(3013,jn)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:ep(e.timings,t.errors,!0);return{type:12,animation:fn(this,Mo(e.animation),t),timings:r,options:null}}}class ED{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function om(n){return!Array.isArray(n)&&"object"==typeof n}function cf(n){return n?(n=Bc(n)).params&&(n.params=function bD(n){return n?Bc(n):null}(n.params)):n={},n}function Cy(n,e,t){return{duration:n,delay:e,easing:t}}function Hb(n,e,t,r,i,a,d=null,m=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:d,subTimeline:m}}class sp{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Dy=new RegExp(":enter","g"),MM=new RegExp(":leave","g");function Gb(n,e,t,r,i,a={},d={},m,b,C=[]){return(new RM).buildKeyframes(n,e,t,r,i,a,d,m,b,C)}class RM{buildKeyframes(e,t,r,i,a,d,m,b,C,R=[]){C=C||new sp;const P=new zb(e,t,C,i,a,R,[]);P.options=b,P.currentTimeline.setStyles([d],null,P.errors,b),fn(this,r,P);const Z=P.timelines.filter(Q=>Q.containsAnimation());if(Object.keys(m).length){let Q;for(let te=Z.length-1;te>=0;te--){const Se=Z[te];if(Se.element===t){Q=Se;break}}Q&&!Q.allowOnlyTimelineStyles()&&Q.setStyles([m],null,P.errors,b)}return Z.length?Z.map(Q=>Q.buildKeyframes()):[Hb(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,d=this._visitSubInstructions(r,i,i.options);a!=d&&t.transformIntoNewTimeline(d)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const d=null!=r.duration?Vc(r.duration):null,m=null!=r.delay?Vc(r.delay):null;return 0!==d&&e.forEach(b=>{const C=t.appendInstructionToTimeline(b,d,m);a=Math.max(a,C.duration+C.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),fn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Ty);const d=Vc(a.delay);i.delayNextStep(d)}e.steps.length&&(e.steps.forEach(d=>fn(this,d,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Vc(e.options.delay):0;e.steps.forEach(d=>{const m=t.createSubContext(e.options);a&&m.delayNextStep(a),fn(this,d,m),i=Math.max(i,m.currentTimeline.currentTime),r.push(m.currentTimeline)}),r.forEach(d=>t.currentTimeline.mergeTimelineCollectedStyles(d)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return ep(t.params?Xg(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,m=t.createSubContext().currentTimeline;m.easing=r.easing,e.styles.forEach(b=>{m.forwardTime((b.offset||0)*a),m.setStyles(b.styles,b.easing,t.errors,t.options),m.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(m),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?Vc(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ty);let d=r;const m=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=m.length;let b=null;m.forEach((C,R)=>{t.currentQueryIndex=R;const P=t.createSubContext(e.options,C);a&&P.delayNextStep(a),C===t.element&&(b=P.currentTimeline),fn(this,e.animation,P),P.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,P.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),b&&(t.currentTimeline.mergeTimelineCollectedStyles(b),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,d=Math.abs(a.duration),m=d*(t.currentQueryTotal-1);let b=d*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":b=m-b;break;case"full":b=r.currentStaggerTime}const R=t.currentTimeline;b&&R.delayNextStep(b);const P=R.currentTime;fn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-P+(i.startTime-r.currentTimeline.startTime)}}const Ty={};class zb{constructor(e,t,r,i,a,d,m,b){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=d,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ty,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=b||new Iy(this._driver,t,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Vc(r.duration)),null!=r.delay&&(i.delay=Vc(r.delay));const a=r.params;if(a){let d=i.params;d||(d=this.options.params={}),Object.keys(a).forEach(m=>{(!t||!d.hasOwnProperty(m))&&(d[m]=Xg(a[m],d,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new zb(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=Ty,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},a=new kM(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,d){let m=[];if(i&&m.push(this.element),e.length>0){e=(e=e.replace(Dy,"."+this._enterClassName)).replace(MM,"."+this._leaveClassName);let C=this._driver.query(this.element,e,1!=r);0!==r&&(C=r<0?C.slice(C.length+r,C.length):C.slice(0,r)),m.push(...C)}return!a&&0==m.length&&d.push(function X(n){return new u.vHH(3014,jn)}()),m}}class Iy{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Iy(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Io,this._currentKeyframe[t]=Io}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const a=i&&i.params||{},d=function NM(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(a=>{t[a]=Io})):Bl(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(d).forEach(m=>{const b=Xg(d[m],a,r);this._pendingStyles[m]=b,this._localTimelineStyles.hasOwnProperty(m)||(this._backFill[m]=this._globalTimelineStyles.hasOwnProperty(m)?this._globalTimelineStyles[m]:Io),this._updateStyle(m,b)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((m,b)=>{const C=Bl(m,!0);Object.keys(C).forEach(R=>{const P=C[R];"!"==P?e.add(R):P==Io&&t.add(R)}),r||(C.offset=b/this.duration),i.push(C)});const a=e.size?em(e.values()):[],d=t.size?em(t.values()):[];if(r){const m=i[0],b=Bc(m);m.offset=0,b.offset=1,i=[m,b]}return Hb(this.element,i,a,d,this.duration,this.startTime,this.easing,!1)}}class kM extends Iy{constructor(e,t,r,i,a,d,m=!1){super(e,t,d.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=m,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],d=r+t,m=t/d,b=Bl(e[0],!1);b.offset=0,a.push(b);const C=Bl(e[0],!1);C.offset=CD(m),a.push(C);const R=e.length-1;for(let P=1;P<=R;P++){let Z=Bl(e[P],!1);Z.offset=CD((t+Z.offset*r)/d),a.push(Z)}r=d,t=0,i="",e=a}return Hb(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function CD(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class ap{}class qb extends ap{normalizePropertyName(e,t){return tm(e)}normalizeStyleValue(e,t,r,i){let a="";const d=r.toString().trim();if(Sy[t]&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const m=r.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&i.push(function uy(n,e){return new u.vHH(3005,jn)}())}return d+a}}const Sy=(()=>function Wb(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function sm(n,e,t,r,i,a,d,m,b,C,R,P,Z){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:d,timelines:m,queriedElements:b,preStyleProps:C,postStyleProps:R,totalTime:P,errors:Z}}const xy={};class Ul{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function Zb(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],a=this._stateStyles[e],d=i?i.buildStyles(t,r):{};return a?a.buildStyles(t,r):d}build(e,t,r,i,a,d,m,b,C,R){const P=[],Z=this.ast.options&&this.ast.options.params||xy,te=this.buildStyles(r,m&&m.params||xy,P),Se=b&&b.params||xy,rt=this.buildStyles(i,Se,P),ot=new Set,yt=new Map,Mt=new Map,wt="void"===i,mn={params:Object.assign(Object.assign({},Z),Se)},pn=R?[]:Gb(e,t,this.ast.animation,a,d,te,rt,mn,C,P);let Bn=0;if(pn.forEach(Oo=>{Bn=Math.max(Oo.duration+Oo.delay,Bn)}),P.length)return sm(t,this._triggerName,r,i,wt,te,rt,[],[],yt,Mt,Bn,P);pn.forEach(Oo=>{const Fo=Oo.element,_d=Qo(yt,Fo,{});Oo.preStyleProps.forEach(nu=>_d[nu]=!0);const is=Qo(Mt,Fo,{});Oo.postStyleProps.forEach(nu=>is[nu]=!0),Fo!==t&&ot.add(Fo)});const Un=em(ot.values());return sm(t,this._triggerName,r,i,wt,te,rt,pn,Un,yt,Mt,Bn)}}class DD{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=Bc(this.defaultParams);return Object.keys(e).forEach(a=>{const d=e[a];null!=d&&(i[a]=d)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const d=a;Object.keys(d).forEach(m=>{let b=d[m];b.length>1&&(b=Xg(b,i,t));const C=this.normalizer.normalizePropertyName(m,t);b=this.normalizer.normalizeStyleValue(m,C,b,t),r[C]=b})}}),r}}class TD{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new DD(i.style,i.options&&i.options.params||{},r)}),Kb(this.states,"true","1"),Kb(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Ul(e,i,this.states))}),this.fallbackTransition=function $b(n,e,t){return new Ul(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,m)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(d=>d.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function Kb(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const ID=new sp;class lp{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],a=op(this._driver,t,r,[]);if(r.length)throw function an(n){return new u.vHH(3503,jn)}();this._animations[e]=a}_buildPlayer(e,t,r){const i=e.element,a=zg(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations[e];let d;const m=new Map;if(a?(d=Gb(this._driver,t,a,Jh,Xh,{},{},r,ID,i),d.forEach(R=>{const P=Qo(m,R.element,{});R.postStyleProps.forEach(Z=>P[Z]=null)})):(i.push(function Nt(){return new u.vHH(3300,jn)}()),d=[]),i.length)throw function Xn(n){return new u.vHH(3504,jn)}();m.forEach((R,P)=>{Object.keys(R).forEach(Z=>{R[Z]=this._driver.computeStyle(P,Z,Io)})});const C=Ea(d.map(R=>{const P=m.get(R.element);return this._buildPlayer(R,{},P)}));return this._playersById[e]=C,C.onDestroy(()=>this.destroy(e)),this.players.push(C),C}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function Cr(n){return new u.vHH(3301,jn)}();return t}listen(e,t,r,i){const a=Kh(t,"","","");return Lc(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const jc="ng-animate-queued",Uu="ng-animate-disabled",Yb=[],ky={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ny={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Jo="__ng_removed";class am{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function xD(n){return null!=n?n:null}(r?e.value:e),r){const a=Bc(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Hu="void",Py=new am(Hu);class Qb{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Gs(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function Br(n,e){return new u.vHH(3302,jn)}();if(null==r||0==r.length)throw function Ur(n){return new u.vHH(3303,jn)}();if(!function MD(n){return"start"==n||"done"==n}(r))throw function Hr(n,e){return new u.vHH(3400,jn)}();const a=Qo(this._elementListeners,e,[]),d={name:t,phase:r,callback:i};a.push(d);const m=Qo(this._engine.statesByElement,e,{});return m.hasOwnProperty(t)||(Gs(e,uf),Gs(e,uf+"-"+t),m[t]=Py),()=>{this._engine.afterFlush(()=>{const b=a.indexOf(d);b>=0&&a.splice(b,1),this._triggers[t]||delete m[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function to(n){return new u.vHH(3401,jn)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),d=new lm(this.id,t,e);let m=this._engine.statesByElement.get(e);m||(Gs(e,uf),Gs(e,uf+"-"+t),this._engine.statesByElement.set(e,m={}));let b=m[t];const C=new am(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&b&&C.absorbOptions(b.options),m[t]=C,b||(b=Py),C.value!==Hu&&b.value===C.value){if(!function kD(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(b.params,C.params)){const Se=[],rt=a.matchStyles(b.value,b.params,Se),ot=a.matchStyles(C.value,C.params,Se);Se.length?this._engine.reportError(Se):this._engine.afterFlush(()=>{Uc(e,rt),tl(e,ot)})}return}const Z=Qo(this._engine.playersByElement,e,[]);Z.forEach(Se=>{Se.namespaceId==this.id&&Se.triggerName==t&&Se.queued&&Se.destroy()});let Q=a.matchTransition(b.value,C.value,e,C.params),te=!1;if(!Q){if(!i)return;Q=a.fallbackTransition,te=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:Q,fromState:b,toState:C,player:d,isFallbackTransition:te}),te||(Gs(e,jc),d.onStart(()=>{dp(e,jc)})),d.onDone(()=>{let Se=this.players.indexOf(d);Se>=0&&this.players.splice(Se,1);const rt=this._engine.playersByElement.get(e);if(rt){let ot=rt.indexOf(d);ot>=0&&rt.splice(ot,1)}}),this.players.push(d),Z.push(d),d}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Bu,!0);r.forEach(i=>{if(i[Jo])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(d=>d.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),d=new Map;if(a){const m=[];if(Object.keys(a).forEach(b=>{if(d.set(b,a[b].value),this._triggers[b]){const C=this.trigger(e,b,Hu,i);C&&m.push(C)}}),m.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,d),r&&Ea(m).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const d=a.name;if(i.has(d))return;i.add(d);const b=this._triggers[d].fallbackTransition,C=r[d]||Py,R=new am(Hu),P=new lm(this.id,d,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:d,transition:b,fromState:C,toState:R,player:P,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let d=e;for(;d=d.parentNode;)if(r.statesByElement.get(d)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Jo];(!a||a===ky)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Gs(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,d=this._elementListeners.get(a);d&&d.forEach(m=>{if(m.name==r.triggerName){const b=Kh(a,r.triggerName,r.fromState.value,r.toState.value);b._data=e,Lc(r.player,m.phase,b,m.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,d=i.transition.ast.depCount;return 0==a||0==d?a-d:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class OM{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Qb(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,a=r.length-1;if(a>=0){let d=!1;if(void 0!==this.driver.getParentElement){let m=this.driver.getParentElement(t);for(;m;){const b=i.get(m);if(b){const C=r.indexOf(b);r.splice(C+1,0,e),d=!0;break}m=this.driver.getParentElement(m)}}else for(let m=a;m>=0;m--)if(this.driver.containsElement(r[m].hostElement,t)){r.splice(m+1,0,e),d=!0;break}d||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let a=0;a<i.length;a++){const d=r[i[a]].namespaceId;if(d){const m=this._fetchNamespace(d);m&&t.add(m)}}}return t}trigger(e,t,r,i){if(cp(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!cp(t))return;const a=t[Jo];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const d=this.collectedLeaveElements.indexOf(t);d>=0&&this.collectedLeaveElements.splice(d,1)}if(e){const d=this._fetchNamespace(e);d&&d.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Gs(e,Uu)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),dp(e,Uu))}removeNode(e,t,r,i){if(cp(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const d=this.namespacesByHostElement.get(t);d&&d.id!==e&&d.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[Jo]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return cp(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,Bu,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Qg,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ea(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[Jo];if(r&&r.setForRemoval){if(e[Jo]=ky,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(Uu))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Gs(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Ea(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function So(n){return new u.vHH(3402,jn)}()}_flushAnimations(e,t){const r=new sp,i=[],a=new Map,d=[],m=new Map,b=new Map,C=new Map,R=new Set;this.disabledNodes.forEach(en=>{R.add(en);const yn=this.driver.query(en,".ng-animate-queued",!0);for(let In=0;In<yn.length;In++)R.add(yn[In])});const P=this.bodyNode,Z=Array.from(this.statesByElement.keys()),Q=eE(Z,this.collectedEnterElements),te=new Map;let Se=0;Q.forEach((en,yn)=>{const In=Jh+Se++;te.set(yn,In),en.forEach(ar=>Gs(ar,In))});const rt=[],ot=new Set,yt=new Set;for(let en=0;en<this.collectedLeaveElements.length;en++){const yn=this.collectedLeaveElements[en],In=yn[Jo];In&&In.setForRemoval&&(rt.push(yn),ot.add(yn),In.hasAnimation?this.driver.query(yn,".ng-star-inserted",!0).forEach(ar=>ot.add(ar)):yt.add(yn))}const Mt=new Map,wt=eE(Z,Array.from(ot));wt.forEach((en,yn)=>{const In=Xh+Se++;Mt.set(yn,In),en.forEach(ar=>Gs(ar,In))}),e.push(()=>{Q.forEach((en,yn)=>{const In=te.get(yn);en.forEach(ar=>dp(ar,In))}),wt.forEach((en,yn)=>{const In=Mt.get(yn);en.forEach(ar=>dp(ar,In))}),rt.forEach(en=>{this.processLeaveNode(en)})});const mn=[],pn=[];for(let en=this._namespaceList.length-1;en>=0;en--)this._namespaceList[en].drainQueuedTransitions(t).forEach(In=>{const ar=In.player,Li=In.element;if(mn.push(ar),this.collectedEnterElements.length){const Is=Li[Jo];if(Is&&Is.setForMove){if(Is.previousTriggersValues&&Is.previousTriggersValues.has(In.triggerName)){const Ig=Is.previousTriggersValues.get(In.triggerName),vh=this.statesByElement.get(In.element);vh&&vh[In.triggerName]&&(vh[In.triggerName].value=Ig)}return void ar.destroy()}}const hl=!P||!this.driver.containsElement(P,Li),Ts=Mt.get(Li),ac=te.get(Li),oi=this._buildInstruction(In,r,ac,Ts,hl);if(oi.errors&&oi.errors.length)return void pn.push(oi);if(hl)return ar.onStart(()=>Uc(Li,oi.fromStyles)),ar.onDestroy(()=>tl(Li,oi.toStyles)),void i.push(ar);if(In.isFallbackTransition)return ar.onStart(()=>Uc(Li,oi.fromStyles)),ar.onDestroy(()=>tl(Li,oi.toStyles)),void i.push(ar);const kP=[];oi.timelines.forEach(Is=>{Is.stretchStartingKeyframe=!0,this.disabledNodes.has(Is.element)||kP.push(Is)}),oi.timelines=kP,r.append(Li,oi.timelines),d.push({instruction:oi,player:ar,element:Li}),oi.queriedElements.forEach(Is=>Qo(m,Is,[]).push(ar)),oi.preStyleProps.forEach((Is,Ig)=>{const vh=Object.keys(Is);if(vh.length){let Sg=b.get(Ig);Sg||b.set(Ig,Sg=new Set),vh.forEach(TM=>Sg.add(TM))}}),oi.postStyleProps.forEach((Is,Ig)=>{const vh=Object.keys(Is);let Sg=C.get(Ig);Sg||C.set(Ig,Sg=new Set),vh.forEach(TM=>Sg.add(TM))})});if(pn.length){const en=[];pn.forEach(yn=>{en.push(function Yo(n,e){return new u.vHH(3505,jn)}())}),mn.forEach(yn=>yn.destroy()),this.reportError(en)}const Bn=new Map,Un=new Map;d.forEach(en=>{const yn=en.element;r.has(yn)&&(Un.set(yn,yn),this._beforeAnimationBuild(en.player.namespaceId,en.instruction,Bn))}),i.forEach(en=>{const yn=en.element;this._getPreviousPlayers(yn,!1,en.namespaceId,en.triggerName,null).forEach(ar=>{Qo(Bn,yn,[]).push(ar),ar.destroy()})});const Oo=rt.filter(en=>um(en,b,C)),Fo=new Map;Xo(Fo,this.driver,yt,C,Io).forEach(en=>{um(en,b,C)&&Oo.push(en)});const is=new Map;Q.forEach((en,yn)=>{Xo(is,this.driver,new Set(en),b,"!")}),Oo.forEach(en=>{const yn=Fo.get(en),In=is.get(en);Fo.set(en,Object.assign(Object.assign({},yn),In))});const nu=[],Tg=[],cD={};d.forEach(en=>{const{element:yn,player:In,instruction:ar}=en;if(r.has(yn)){if(R.has(yn))return In.onDestroy(()=>tl(yn,ar.toStyles)),In.disabled=!0,In.overrideTotalTime(ar.totalTime),void i.push(In);let Li=cD;if(Un.size>1){let Ts=yn;const ac=[];for(;Ts=Ts.parentNode;){const oi=Un.get(Ts);if(oi){Li=oi;break}ac.push(Ts)}ac.forEach(oi=>Un.set(oi,Li))}const hl=this._buildAnimation(In.namespaceId,ar,Bn,a,is,Fo);if(In.setRealPlayer(hl),Li===cD)nu.push(In);else{const Ts=this.playersByElement.get(Li);Ts&&Ts.length&&(In.parentPlayer=Ea(Ts)),i.push(In)}}else Uc(yn,ar.fromStyles),In.onDestroy(()=>tl(yn,ar.toStyles)),Tg.push(In),R.has(yn)&&i.push(In)}),Tg.forEach(en=>{const yn=a.get(en.element);if(yn&&yn.length){const In=Ea(yn);en.setRealPlayer(In)}}),i.forEach(en=>{en.parentPlayer?en.syncPlayerEvents(en.parentPlayer):en.destroy()});for(let en=0;en<rt.length;en++){const yn=rt[en],In=yn[Jo];if(dp(yn,Xh),In&&In.hasAnimation)continue;let ar=[];if(m.size){let hl=m.get(yn);hl&&hl.length&&ar.push(...hl);let Ts=this.driver.query(yn,Qg,!0);for(let ac=0;ac<Ts.length;ac++){let oi=m.get(Ts[ac]);oi&&oi.length&&ar.push(...oi)}}const Li=ar.filter(hl=>!hl.destroyed);Li.length?FM(this,yn,Li):this.processLeaveNode(yn)}return rt.length=0,nu.forEach(en=>{this.players.push(en),en.onDone(()=>{en.destroy();const yn=this.players.indexOf(en);this.players.splice(yn,1)}),en.play()}),nu}elementContainsData(e,t){let r=!1;const i=t[Jo];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let d=[];if(t){const m=this.playersByQueriedElement.get(e);m&&(d=m)}else{const m=this.playersByElement.get(e);if(m){const b=!a||a==Hu;m.forEach(C=>{C.queued||!b&&C.triggerName!=i||d.push(C)})}}return(r||i)&&(d=d.filter(m=>!(r&&r!=m.namespaceId||i&&i!=m.triggerName))),d}_beforeAnimationBuild(e,t,r){const a=t.element,d=t.isRemovalTransition?void 0:e,m=t.isRemovalTransition?void 0:t.triggerName;for(const b of t.timelines){const C=b.element,R=C!==a,P=Qo(r,C,[]);this._getPreviousPlayers(C,R,d,m,t.toState).forEach(Q=>{const te=Q.getRealPlayer();te.beforeDestroy&&te.beforeDestroy(),Q.destroy(),P.push(Q)})}Uc(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,d){const m=t.triggerName,b=t.element,C=[],R=new Set,P=new Set,Z=t.timelines.map(te=>{const Se=te.element;R.add(Se);const rt=Se[Jo];if(rt&&rt.removedBeforeQueried)return new Fc(te.duration,te.delay);const ot=Se!==b,yt=function tE(n){const e=[];return RD(n,e),e}((r.get(Se)||Yb).map(Bn=>Bn.getRealPlayer())).filter(Bn=>!!Bn.element&&Bn.element===Se),Mt=a.get(Se),wt=d.get(Se),mn=zg(0,this._normalizer,0,te.keyframes,Mt,wt),pn=this._buildPlayer(te,mn,yt);if(te.subTimeline&&i&&P.add(Se),ot){const Bn=new lm(e,m,Se);Bn.setRealPlayer(pn),C.push(Bn)}return pn});C.forEach(te=>{Qo(this.playersByQueriedElement,te.element,[]).push(te),te.onDone(()=>function Jb(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,te.element,te))}),R.forEach(te=>Gs(te,Pb));const Q=Ea(Z);return Q.onDestroy(()=>{R.forEach(te=>dp(te,Pb)),tl(b,t.toStyles)}),P.forEach(te=>{Qo(i,te,[]).push(Q)}),Q}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Fc(e.duration,e.delay)}}class lm{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Fc,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>Lc(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Qo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function cp(n){return n&&1===n.nodeType}function Xb(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function Xo(n,e,t,r,i){const a=[];t.forEach(b=>a.push(Xb(b)));const d=[];r.forEach((b,C)=>{const R={};b.forEach(P=>{const Z=R[P]=e.computeStyle(C,P,i);(!Z||0==Z.length)&&(C[Jo]=Ny,d.push(C))}),n.set(C,R)});let m=0;return t.forEach(b=>Xb(b,a[m++])),d}function eE(n,e){const t=new Map;if(n.forEach(m=>t.set(m,[])),0==e.length)return t;const i=new Set(e),a=new Map;function d(m){if(!m)return 1;let b=a.get(m);if(b)return b;const C=m.parentNode;return b=t.has(C)?C:i.has(C)?1:d(C),a.set(m,b),b}return e.forEach(m=>{const b=d(m);1!==b&&t.get(b).push(m)}),t}function Gs(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function dp(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function FM(n,e,t){Ea(t).onDone(()=>n.processLeaveNode(e))}function RD(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Hg?RD(r.players,e):e.push(r)}}function um(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class fp{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new OM(e,t,r),this._timelineEngine=new lp(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const d=e+"-"+i;let m=this._triggerCache[d];if(!m){const b=[],R=op(this._driver,a,b,[]);if(b.length)throw function At(n,e){return new u.vHH(3404,jn)}();m=function My(n,e,t){return new TD(n,e,t)}(i,R,this._normalizer),this._triggerCache[d]=m}this._transitionEngine.registerTrigger(t,i,m)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,d]=Wg(r);this._timelineEngine.command(a,t,d,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[d,m]=Wg(r);return this._timelineEngine.listen(d,t,m,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let PD=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&tl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(tl(this._element,this._initialStyles),this._endStyles&&(tl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Uc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Uc(this._element,this._endStyles),this._endStyles=null),tl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Oy(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];nE(i)&&(e=e||{},e[i]=n[i])}return e}function nE(n){return"display"===n||"position"===n}class rE{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:_y(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class iE{validateStyleProperty(e){return Yh(e)}matchesElement(e,t){return!1}containsElement(e,t){return py(e,t)}getParentElement(e){return Zg(e)}query(e,t,r){return gy(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,d=[]){const b={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(b.easing=a);const C={},R=d.filter(Z=>Z instanceof rE);(function vD(n,e){return 0===n||0===e})(r,i)&&R.forEach(Z=>{let Q=Z.currentSnapshot;Object.keys(Q).forEach(te=>C[te]=Q[te])}),t=function yD(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let a=e[0],d=[];if(r.forEach(m=>{a.hasOwnProperty(m)||d.push(m),a[m]=t[m]}),d.length)for(var i=1;i<e.length;i++){let m=e[i];d.forEach(function(b){m[b]=_y(n,b)})}}return e}(e,t=t.map(Z=>Bl(Z,!1)),C);const P=function ND(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Oy(e[0]),e.length>1&&(r=Oy(e[e.length-1]))):e&&(t=Oy(e)),t||r?new PD(n,t,r):null}(e,t);return new rE(e,t,b,P)}}let OD=(()=>{class n extends nf{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?qh(t):t;return Fy(this._renderer,null,r,"register",[i]),new FD(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(Ee))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class FD extends class bi{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new oE(this._id,e,t||{},this._renderer)}}class oE{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Fy(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function Fy(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const wa="@.disabled";let Ly=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,d)=>{const m=null==d?void 0:d.parentNode(a);m&&d.removeChild(m,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let R=this._rendererCache.get(a);return R||(R=new sE("",a,this.engine),this._rendererCache.set(a,R)),R}const d=r.id,m=r.id+"-"+this._currentId;this._currentId++,this.engine.register(m,t);const b=R=>{Array.isArray(R)?R.forEach(b):this.engine.registerTrigger(d,m,t,R.name,R)};return r.data.animation.forEach(b),new LD(this,m,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[d,m]=a;d(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(fp),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class sE{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==wa?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class LD extends sE{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==wa?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function LM(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.substr(1),d="";return"@"!=a.charAt(0)&&([a,d]=function aE(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,d,m=>{this.factory.scheduleListenerCallback(m._data||-1,r,m)})}return this.delegate.listen(e,t,r)}}let VD=(()=>{class n extends fp{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ee),u.LFG(Kg),u.LFG(ap))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const dm=new u.OlP("AnimationModuleType"),lE=[{provide:nf,useClass:OD},{provide:ap,useFactory:function BD(){return new qb}},{provide:fp,useClass:VD},{provide:u.FYo,useFactory:function UD(n,e,t){return new Ly(n,e,t)},deps:[ds,fp,u.R0b]}],uE=[{provide:Kg,useFactory:()=>new iE},{provide:dm,useValue:"BrowserAnimations"},...lE],fm=[{provide:Kg,useClass:$g},{provide:dm,useValue:"NoopAnimations"},...lE];let Vy=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?fm:uE}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:uE,imports:[_l]}),n})();function An(...n){const e=(0,or.yG)(n);return(0,gr.D)(n,e)}var jr=z(7579);class zs extends jr.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var hm=z(4671),BM=z(9672);function cE(n,e,t){n?(0,BM.f)(t,n,e):e()}var pm=z(576);function hp(n,e){const t=(0,pm.m)(n)?n:()=>n,r=i=>i.error(t());return new qo.y(e?i=>e.schedule(r,0,i):r)}const pp=(0,z(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var gp=z(8189);function ff(...n){return function Hl(){return(0,gp.J)(1)}()((0,gr.D)(n,(0,or.yG)(n)))}function fE(n){return new qo.y(e=>{(0,Ua.Xf)(n()).subscribe(e)})}var hf=z(515),HD=z(727),no=z(4482);function Uy(){return(0,no.e)((n,e)=>{let t=null;n._refCount++;const r=(0,_i.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Hy extends qo.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,no.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new HD.w0;const t=this.getSubject();e.add(this.source.subscribe((0,_i.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=HD.w0.EMPTY)}return e}refCount(){return Uy()(this)}}function Ei(n,e){return(0,no.e)((t,r)=>{let i=null,a=0,d=!1;const m=()=>d&&!i&&r.complete();t.subscribe((0,_i.x)(r,b=>{null==i||i.unsubscribe();let C=0;const R=a++;(0,Ua.Xf)(n(b,R)).subscribe(i=(0,_i.x)(r,P=>r.next(e?e(b,P,R,C++):P),()=>{i=null,m()}))},()=>{d=!0,m()}))})}var jy=z(5698);function pf(...n){const e=(0,or.yG)(n);return(0,no.e)((t,r)=>{(e?ff(n,t,e):ff(n,t)).subscribe(r)})}function hE(n,e,t,r,i){return(a,d)=>{let m=t,b=e,C=0;a.subscribe((0,_i.x)(d,R=>{const P=C++;b=m?n(b,R,P):(m=!0,R),r&&d.next(b)},i&&(()=>{m&&d.next(b),d.complete()})))}}function gf(n,e){return(0,no.e)(hE(n,e,arguments.length>=2,!0))}function qs(n,e){return(0,no.e)((t,r)=>{let i=0;t.subscribe((0,_i.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}function ju(n){return(0,no.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,_i.x)(t,void 0,void 0,d=>{a=(0,Ua.Xf)(n(d,ju(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}var Mi=z(5577);function mf(n,e){return(0,pm.m)(e)?(0,Mi.z)(n,e,1):(0,Mi.z)(n,1)}function Gy(n){return n<=0?()=>hf.E:(0,no.e)((e,t)=>{let r=[];e.subscribe((0,_i.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function zy(n=vf){return(0,no.e)((e,t)=>{let r=!1;e.subscribe((0,_i.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function vf(){return new pp}function qy(n){return(0,no.e)((e,t)=>{let r=!1;e.subscribe((0,_i.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Gu(n,e){const t=arguments.length>=2;return r=>r.pipe(n?qs((i,a)=>n(i,a,r)):hm.y,(0,jy.q)(1),t?qy(e):zy(()=>new pp))}var Ri=z(8505);class jl{constructor(e,t){this.id=e,this.url=t}}class Wy extends jl{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class yf extends jl{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ca extends jl{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Zy extends jl{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class pE extends jl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gE extends jl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mE extends jl{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class vE extends jl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zD extends jl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yE{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _E{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qD{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bE{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class HM{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class EE{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AE{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const $n="primary";class jM{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function mp(n){return new jM(n)}const gm="ngNavigationCancelingError";function $y(n){const e=Error("NavigationCancelingError: "+n);return e[gm]=!0,e}function CE(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const d=r[a],m=n[a];if(d.startsWith(":"))i[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function di(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!WD(n[i],e[i]))return!1;return!0}function WD(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function ZD(n){return Array.prototype.concat.apply([],n)}function Ky(n){return n.length>0?n[n.length-1]:null}function ki(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function nl(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,gr.D)(Promise.resolve(n)):An(n)}const DE={exact:function IE(n,e,t){if(!Da(n.segments,e.segments)||!vm(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!IE(n.children[r],e.children[r],t))return!1;return!0},subset:SE},mm={exact:function Yy(n,e){return di(n,e)},subset:function KD(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>WD(n[t],e[t]))},ignored:()=>!0};function TE(n,e,t){return DE[t.paths](n.root,e.root,t.matrixParams)&&mm[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function SE(n,e,t){return xE(n,e,e.segments,t)}function xE(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Da(i,t)||e.hasChildren()||!vm(i,t,r))}if(n.segments.length===t.length){if(!Da(n.segments,t)||!vm(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!SE(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Da(n.segments,i)&&vm(n.segments,i,r)&&n.children[$n])&&xE(n.children[$n],e,a,r)}}function vm(n,e,t){return e.every((r,i)=>mm[t](n[i].parameters,r.parameters))}class Gc{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mp(this.queryParams)),this._queryParamMap}toString(){return il.serialize(this)}}class qn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ki(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zu(this)}}class rl{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=mp(this.parameters)),this._parameterMap}toString(){return Wc(this)}}function Da(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class ME{}class ym{parse(e){const t=new NE(e);return new Gc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${fi(e.root,!0)}`,r=function bf(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${zc(t)}=${zc(i)}`).join("&"):`${zc(t)}=${zc(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Ws(n){return encodeURI(n)}(e.fragment)}`:""}`}}const il=new ym;function zu(n){return n.segments.map(e=>Wc(e)).join("/")}function fi(n,e){if(!n.hasChildren())return zu(n);if(e){const t=n.children[$n]?fi(n.children[$n],!1):"",r=[];return ki(n.children,(i,a)=>{a!==$n&&r.push(`${a}:${fi(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function QD(n,e){let t=[];return ki(n.children,(r,i)=>{i===$n&&(t=t.concat(e(r,i)))}),ki(n.children,(r,i)=>{i!==$n&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===$n?[fi(n.children[$n],!1)]:[`${i}:${fi(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[$n]?`${zu(n)}/${t[0]}`:`${zu(n)}/(${t.join("//")})`}}function qu(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zc(n){return qu(n).replace(/%3B/gi,";")}function vp(n){return qu(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gl(n){return decodeURIComponent(n)}function qc(n){return Gl(n.replace(/\+/g,"%20"))}function Wc(n){return`${vp(n.path)}${function _f(n){return Object.keys(n).map(e=>`;${vp(e)}=${vp(n[e])}`).join("")}(n.parameters)}`}const Ef=/^[^\/()?;=#]+/;function zl(n){const e=n.match(Ef);return e?e[0]:""}const Af=/^[^=?&#]+/,RE=/^[^&#]+/;class NE{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qn([],{}):new qn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[$n]=new qn(e,t)),r}parseSegment(){const e=zl(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new rl(Gl(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=zl(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=zl(this.remaining);i&&(r=i,this.capture(r))}e[Gl(t)]=Gl(r)}parseQueryParam(e){const t=function wf(n){const e=n.match(Af);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function kE(n){const e=n.match(RE);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=qc(t),a=qc(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=zl(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let a;r.indexOf(":")>-1?(a=r.substr(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=$n);const d=this.parseChildren();t[a]=1===Object.keys(d).length?d[$n]:new qn([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Qy{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=_m(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=_m(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=bm(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return bm(e,this._root).map(t=>t.value)}}function _m(n,e){if(n===e.value)return e;for(const t of e.children){const r=_m(n,t);if(r)return r}return null}function bm(n,e){if(n===e.value)return[e];for(const t of e.children){const r=bm(n,t);if(r.length)return r.unshift(e),r}return[]}class ol{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Zc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Jy extends Qy{constructor(e,t){super(e),this.snapshot=t,Am(this,e)}toString(){return this.snapshot.toString()}}function PE(n,e){const t=function OE(n,e){const d=new Em([],{},{},"",{},$n,e,null,n.root,-1,{});return new VE("",new ol(d,[]))}(n,e),r=new zs([new rl("",{})]),i=new zs({}),a=new zs({}),d=new zs({}),m=new zs(""),b=new Cf(r,i,d,m,a,$n,e,t.root);return b.snapshot=t.root,new Jy(new ol(b,[]),t)}class Cf{constructor(e,t,r,i,a,d,m,b){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=d,this.component=m,this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,dn.U)(e=>mp(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,dn.U)(e=>mp(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function FE(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function LE(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Em{constructor(e,t,r,i,a,d,m,b,C,R,P){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=d,this.component=m,this.routeConfig=b,this._urlSegment=C,this._lastPathIndex=R,this._resolve=P}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=mp(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=mp(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class VE extends Qy{constructor(e,t){super(t),this.url=e,Am(this,t)}toString(){return BE(this._root)}}function Am(n,e){e.value._routerState=n,e.children.forEach(t=>Am(n,t))}function BE(n){const e=n.children.length>0?` { ${n.children.map(BE).join(", ")} } `:"";return`${n.value}${e}`}function wm(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,di(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),di(e.params,t.params)||n.params.next(t.params),function GM(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!di(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),di(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Xy(n,e){const t=di(n.params,e.params)&&function YD(n,e){return Da(n,e)&&n.every((t,r)=>di(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Xy(n.parent,e.parent))}function Cm(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function XD(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Cm(n,r,i);return Cm(n,r)})}(n,e,t);return new ol(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const d=a.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(m=>Cm(n,m)),d}}const r=function e_(n){return new Cf(new zs(n.url),new zs(n.params),new zs(n.queryParams),new zs(n.fragment),new zs(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Cm(n,a));return new ol(r,i)}}function Dm(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Tm(n){return"object"==typeof n&&null!=n&&n.outlets}function UE(n,e,t,r,i){let a={};if(r&&ki(r,(m,b)=>{a[b]=Array.isArray(m)?m.map(C=>`${C}`):`${m}`}),n===e)return new Gc(t,a,i);const d=eT(n,e,t);return new Gc(d,a,i)}function eT(n,e,t){const r={};return ki(n.children,(i,a)=>{r[a]=i===e?t:eT(i,e,t)}),new qn(n.segments,r)}class HE{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Dm(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Tm);if(i&&i!==Ky(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class GE{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function n_(n,e,t){if(n||(n=new qn([],{})),0===n.segments.length&&n.hasChildren())return Im(n,e,t);const r=function zE(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const d=n.segments[i],m=t[r];if(Tm(m))break;const b=`${m}`,C=r<t.length-1?t[r+1]:null;if(i>0&&void 0===b)break;if(b&&C&&"object"==typeof C&&void 0===C.outlets){if(!qE(b,C,d))return a;r+=2}else{if(!qE(b,{},d))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new qn(n.segments.slice(0,r.pathIndex),{});return a.children[$n]=new qn(n.segments.slice(r.pathIndex),n.children),Im(a,0,i)}return r.match&&0===i.length?new qn(n.segments,{}):r.match&&!n.hasChildren()?Tf(n,e,t):r.match?Im(n,0,i):Tf(n,e,t)}function Im(n,e,t){if(0===t.length)return new qn(n.segments,{});{const r=function nT(n){return Tm(n[0])?n[0].outlets:{[$n]:n}}(t),i={};return ki(r,(a,d)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[d]=n_(n.children[d],e,a))}),ki(n.children,(a,d)=>{void 0===r[d]&&(i[d]=a)}),new qn(n.segments,i)}}function Tf(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(Tm(a)){const b=rT(a.outlets);return new qn(r,b)}if(0===i&&Dm(t[0])){r.push(new rl(n.segments[e].path,r_(t[0]))),i++;continue}const d=Tm(a)?a.outlets[$n]:`${a}`,m=i<t.length-1?t[i+1]:null;d&&m&&Dm(m)?(r.push(new rl(d,r_(m))),i+=2):(r.push(new rl(d,{})),i++)}return new qn(r,{})}function rT(n){const e={};return ki(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Tf(new qn([],{}),0,t))}),e}function r_(n){const e={};return ki(n,(t,r)=>e[r]=`${t}`),e}function qE(n,e,t){return n==t.path&&di(e,t.parameters)}class oT{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),wm(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Zc(t);e.children.forEach(a=>{const d=a.value.outlet;this.deactivateRoutes(a,i[d],r),delete i[d]}),ki(i,(a,d)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Zc(e);for(const d of Object.keys(a))this.deactivateRouteAndItsChildren(a[d],i);if(r&&r.outlet){const d=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Zc(e);for(const d of Object.keys(a))this.deactivateRouteAndItsChildren(a[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Zc(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new EE(a.value.snapshot))}),e.children.length&&this.forwardEvent(new bE(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(wm(i),i===a)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const m=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),wm(m.route.value),this.activateChildRoutes(e,null,d.children)}else{const m=function sT(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),b=m?m.module.componentFactoryResolver:null;d.attachRef=null,d.route=i,d.resolver=b,d.outlet&&d.outlet.activateWith(i,b),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class i_{constructor(e,t){this.routes=e,this.module=t}}function ql(n){return"function"==typeof n}function Wu(n){return n instanceof Gc}const yp=Symbol("INITIAL_VALUE");function Sm(){return Ei(n=>function By(...n){const e=(0,or.yG)(n),t=(0,or.jO)(n),{args:r,keys:i}=la(n);if(0===r.length)return(0,gr.D)([],e);const a=new qo.y(function UM(n,e,t=hm.y){return r=>{cE(e,()=>{const{length:i}=n,a=new Array(i);let d=i,m=i;for(let b=0;b<i;b++)cE(e,()=>{const C=(0,gr.D)(n[b],e);let R=!1;C.subscribe((0,_i.x)(r,P=>{a[b]=P,R||(R=!0,m--),m||r.next(t(a.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>Tl(i,d):hm.y));return t?a.pipe(Sh(t)):a}(n.map(e=>e.pipe((0,jy.q)(1),pf(yp)))).pipe(gf((e,t)=>{let r=!1;return t.reduce((i,a,d)=>i!==yp?i:(a===yp&&(r=!0),r||!1!==a&&d!==t.length-1&&!Wu(a)?i:a),e)},yp),qs(e=>e!==yp),(0,dn.U)(e=>Wu(e)?e:!0===e),(0,jy.q)(1)))}class _p{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new If,this.attachRef=null}}class If{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new _p,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let bp=(()=>{class n{constructor(t,r,i,a,d){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=a||$n,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const d=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,b=new a_(t,m,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,b),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(If),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class a_{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Cf?this.route:e===If?this.childContexts:this.parent.get(e,t)}}let ZE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},directives:[bp],encapsulation:2}),n})();function Ep(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];xm(r,l_(e,r))}}function xm(n,e){n.children&&Ep(n.children,e)}function l_(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function $E(n){const e=n.children&&n.children.map($E),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==$n&&(t.component=ZE),t}function Zs(n){return n.outlet||$n}function Ap(n,e){const t=n.filter(r=>Zs(r)===e);return t.push(...n.filter(r=>Zs(r)!==e)),t}const wp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Sf(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},wp):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const a=(e.matcher||CE)(t,n,e);if(!a)return Object.assign({},wp);const d={};ki(a.posParams,(b,C)=>{d[C]=b.path});const m=a.consumed.length>0?Object.assign(Object.assign({},d),a.consumed[a.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:a.consumed,remainingSegments:t.slice(a.consumed.length),parameters:m,positionalParamSegments:null!==(r=a.posParams)&&void 0!==r?r:{}}}function Cp(n,e,t,r,i="corrected"){if(t.length>0&&function YE(n,e,t){return t.some(r=>Dp(n,e,r)&&Zs(r)!==$n)}(n,t,r)){const d=new qn(e,function KE(n,e,t,r){const i={};i[$n]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Zs(a)!==$n){const d=new qn([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[Zs(a)]=d}return i}(n,e,r,new qn(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function c_(n,e,t){return t.some(r=>Dp(n,e,r))}(n,t,r)){const d=new qn(n.segments,function u_(n,e,t,r,i,a){const d={};for(const m of r)if(Dp(n,t,m)&&!i[Zs(m)]){const b=new qn([],{});b._sourceSegment=n,b._segmentIndexShift="legacy"===a?n.segments.length:e.length,d[Zs(m)]=b}return Object.assign(Object.assign({},i),d)}(n,e,t,r,n.children,i));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const a=new qn(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function Dp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function QE(n,e,t,r){return!!(Zs(n)===r||r!==$n&&Dp(e,t,n))&&("**"===n.path||Sf(e,n,t).matched)}function d_(n,e,t){return 0===e.length&&!n.children[t]}class Tp{constructor(e){this.segmentGroup=e||null}}class Mm{constructor(e){this.urlTree=e}}function xf(n){return hp(new Tp(n))}function JE(n){return hp(new Mm(n))}class Rm{constructor(e,t,r,i,a){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(u.h0i)}apply(){const e=Cp(this.urlTree.root,[],[],this.config).segmentGroup,t=new qn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,$n).pipe((0,dn.U)(a=>this.createUrlTree(km(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ju(a=>{if(a instanceof Mm)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Tp?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,$n).pipe((0,dn.U)(i=>this.createUrlTree(km(i),e.queryParams,e.fragment))).pipe(ju(i=>{throw i instanceof Tp?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new qn([],{[$n]:e}):e;return new Gc(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,dn.U)(a=>new qn([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,gr.D)(i).pipe(mf(a=>{const d=r.children[a],m=Ap(t,a);return this.expandSegmentGroup(e,m,d,a).pipe((0,dn.U)(b=>({segment:b,outlet:a})))}),gf((a,d)=>(a[d.outlet]=d.segment,a),{}),function jD(n,e){const t=arguments.length>=2;return r=>r.pipe(n?qs((i,a)=>n(i,a,r)):hm.y,Gy(1),t?qy(e):zy(()=>new pp))}())}expandSegment(e,t,r,i,a,d){return(0,gr.D)(r).pipe(mf(m=>this.expandSegmentAgainstRoute(e,t,r,m,i,a,d).pipe(ju(C=>{if(C instanceof Tp)return An(null);throw C}))),Gu(m=>!!m),ju((m,b)=>{if(m instanceof pp||"EmptyError"===m.name)return d_(t,i,a)?An(new qn([],{})):xf(t);throw m}))}expandSegmentAgainstRoute(e,t,r,i,a,d,m){return QE(i,t,a,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,d):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d):xf(t):xf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?JE(a):this.lineralizeSegments(r,a).pipe((0,Mi.z)(d=>{const m=new qn(d,{});return this.expandSegment(e,m,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,d){const{matched:m,consumedSegments:b,remainingSegments:C,positionalParamSegments:R}=Sf(t,i,a);if(!m)return xf(t);const P=this.applyRedirectCommands(b,i.redirectTo,R);return i.redirectTo.startsWith("/")?JE(P):this.lineralizeSegments(i,P).pipe((0,Mi.z)(Z=>this.expandSegment(e,t,r,Z.concat(C),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){if("**"===r.path)return r.loadChildren?(r._loadedConfig?An(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,dn.U)(P=>(r._loadedConfig=P,new qn(i,{})))):An(new qn(i,{}));const{matched:d,consumedSegments:m,remainingSegments:b}=Sf(t,r,i);return d?this.getChildConfig(e,r,i).pipe((0,Mi.z)(R=>{const P=R.module,Z=R.routes,{segmentGroup:Q,slicedSegments:te}=Cp(t,m,b,Z),Se=new qn(Q.segments,Q.children);if(0===te.length&&Se.hasChildren())return this.expandChildren(P,Z,Se).pipe((0,dn.U)(Mt=>new qn(m,Mt)));if(0===Z.length&&0===te.length)return An(new qn(m,{}));const rt=Zs(r)===a;return this.expandSegment(P,Se,Z,te,rt?$n:a,!0).pipe((0,dn.U)(yt=>new qn(m.concat(yt.segments),yt.children)))})):xf(t)}getChildConfig(e,t,r){return t.children?An(new i_(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?An(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Mi.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,dn.U)(a=>(t._loadedConfig=a,a))):function uT(n){return hp($y(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):An(new i_([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?An(i.map(d=>{const m=e.get(d);let b;if(function WE(n){return n&&ql(n.canLoad)}(m))b=m.canLoad(t,r);else{if(!ql(m))throw new Error("Invalid CanLoad guard");b=m(t,r)}return nl(b)})).pipe(Sm(),(0,Ri.b)(d=>{if(!Wu(d))return;const m=$y(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw m.url=d,m}),(0,dn.U)(d=>!0===d)):An(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return An(r);if(i.numberOfChildren>1||!i.children[$n])return hp(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[$n]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new Gc(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return ki(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const m=i.substring(1);r[a]=t[m]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let d={};return ki(t.children,(m,b)=>{d[b]=this.createSegmentGroup(e,m,r,i)}),new qn(a,d)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function km(n){const e={};for(const r of Object.keys(n.children)){const a=km(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function eA(n){if(1===n.numberOfChildren&&n.children[$n]){const e=n.children[$n];return new qn(n.segments.concat(e.segments),e.children)}return n}(new qn(n.segments,e))}class f_{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ip{constructor(e,t){this.component=e,this.route=t}}function nA(n,e,t){const r=n._root;return xp(r,e?e._root:null,t,[r.value])}function Sp(n,e,t){const r=function WM(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function xp(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Zc(e);return n.children.forEach(d=>{(function cT(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,d=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(d&&a.routeConfig===d.routeConfig){const b=function iA(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Da(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Da(n.url,e.url)||!di(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Xy(n,e)||!di(n.queryParams,e.queryParams);default:return!Xy(n,e)}}(d,a,a.routeConfig.runGuardsAndResolvers);b?i.canActivateChecks.push(new f_(r)):(a.data=d.data,a._resolvedData=d._resolvedData),xp(n,e,a.component?m?m.children:null:t,r,i),b&&m&&m.outlet&&m.outlet.isActivated&&i.canDeactivateChecks.push(new Ip(m.outlet.component,d))}else d&&Mp(e,m,i),i.canActivateChecks.push(new f_(r)),xp(n,null,a.component?m?m.children:null:t,r,i)})(d,a[d.value.outlet],t,r.concat([d.value]),i),delete a[d.value.outlet]}),ki(a,(d,m)=>Mp(d,t.getContext(m),i)),i}function Mp(n,e,t){const r=Zc(n),i=n.value;ki(r,(a,d)=>{Mp(a,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new Ip(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Mf{}function uA(n){return new qo.y(e=>e.error(n))}class cA{constructor(e,t,r,i,a,d){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=d}recognize(){const e=Cp(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,$n);if(null===t)return null;const r=new Em([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},$n,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ol(r,t),a=new VE(this.url,i);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(e){const t=e.value,r=FE(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const a of Object.keys(t.children)){const d=t.children[a],m=Ap(e,a),b=this.processSegmentGroup(m,d,a);if(null===b)return null;r.push(...b)}const i=Nm(r);return function gT(n){n.sort((e,t)=>e.value.outlet===$n?-1:t.value.outlet===$n?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const a of e){const d=this.processSegmentAgainstRoute(a,t,r,i);if(null!==d)return d}return d_(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!QE(e,t,r,i))return null;let a,d=[],m=[];if("**"===e.path){const Q=r.length>0?Ky(r).parameters:{};a=new Em(r,Q,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,h_(e),Zs(e),e.component,e,Ta(t),hA(t)+r.length,Ia(e))}else{const Q=Sf(t,e,r);if(!Q.matched)return null;d=Q.consumedSegments,m=Q.remainingSegments,a=new Em(d,Q.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,h_(e),Zs(e),e.component,e,Ta(t),hA(t)+d.length,Ia(e))}const b=function dA(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:C,slicedSegments:R}=Cp(t,d,m,b.filter(Q=>void 0===Q.redirectTo),this.relativeLinkResolution);if(0===R.length&&C.hasChildren()){const Q=this.processChildren(b,C);return null===Q?null:[new ol(a,Q)]}if(0===b.length&&0===R.length)return[new ol(a,[])];const P=Zs(e)===i,Z=this.processSegment(b,C,R,P?$n:i);return null===Z?null:[new ol(a,Z)]}}function ZM(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Nm(n){const e=[],t=new Set;for(const r of n){if(!ZM(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Nm(r.children);e.push(new ol(r.value,i))}return e.filter(r=>!t.has(r))}function Ta(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function hA(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function h_(n){return n.data||{}}function Ia(n){return n.resolve||{}}function mA(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function p_(n){return Ei(e=>{const t=n(e);return t?(0,gr.D)(t).pipe((0,dn.U)(()=>e)):An(e)})}class Rp extends class g_{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const m_=new u.OlP("ROUTES");class v_{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,dn.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t);const d=a.create(e);return new i_(ZD(d.injector.get(m_,void 0,u.XFs.Self|u.XFs.Optional)).map($E),d)}),ju(a=>{throw t._loader$=void 0,a}));return t._loader$=new Hy(i,()=>new jr.x).pipe(Uy()),t._loader$}loadModuleFactory(e){return nl(e()).pipe((0,Mi.z)(t=>t instanceof u.YKP?An(t):(0,gr.D)(this.compiler.compileModuleAsync(t))))}}class vA{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function yA(n){throw n}function Pm(n,e,t){return e.parse("/")}function _A(n,e){return An(null)}const bA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},EA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ro=(()=>{class n{constructor(t,r,i,a,d,m,b){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=b,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new jr.x,this.errorHandler=yA,this.malformedUriErrorHandler=Pm,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:_A,afterPreactivation:_A},this.urlHandlingStrategy=new vA,this.routeReuseStrategy=new Rp,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(u.h0i),this.console=d.get(u.c2e);const P=d.get(u.R0b);this.isNgZoneEnabled=P instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(b),this.currentUrlTree=function zM(){return new Gc(new qn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new v_(d,m,Z=>this.triggerEvent(new yE(Z)),Z=>this.triggerEvent(new _E(Z))),this.routerState=PE(this.currentUrlTree,this.rootComponentType),this.transitions=new zs({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(qs(i=>0!==i.id),(0,dn.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Ei(i=>{let a=!1,d=!1;return An(i).pipe((0,Ri.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ei(m=>{const b=this.browserUrlTree.toString(),C=!this.navigated||m.extractedUrl.toString()!==b||b!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return y_(m.source)&&(this.browserUrlTree=m.extractedUrl),An(m).pipe(Ei(P=>{const Z=this.transitions.getValue();return r.next(new Wy(P.id,this.serializeUrl(P.extractedUrl),P.source,P.restoredState)),Z!==this.transitions.getValue()?hf.E:Promise.resolve(P)}),function tA(n,e,t,r){return Ei(i=>function XE(n,e,t,r,i){return new Rm(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,dn.U)(a=>Object.assign(Object.assign({},i),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ri.b)(P=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:P.urlAfterRedirects})}),function Sa(n,e,t,r,i){return(0,Mi.z)(a=>function pT(n,e,t,r,i="emptyOnly",a="legacy"){try{const d=new cA(n,e,t,r,i,a).recognize();return null===d?uA(new Mf):An(d)}catch(d){return uA(d)}}(n,e,a.urlAfterRedirects,t(a.urlAfterRedirects),r,i).pipe((0,dn.U)(d=>Object.assign(Object.assign({},a),{targetSnapshot:d}))))}(this.rootComponentType,this.config,P=>this.serializeUrl(P),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ri.b)(P=>{if("eager"===this.urlUpdateStrategy){if(!P.extras.skipLocationChange){const Q=this.urlHandlingStrategy.merge(P.urlAfterRedirects,P.rawUrl);this.setBrowserUrl(Q,P)}this.browserUrlTree=P.urlAfterRedirects}const Z=new pE(P.id,this.serializeUrl(P.extractedUrl),this.serializeUrl(P.urlAfterRedirects),P.targetSnapshot);r.next(Z)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Z,extractedUrl:Q,source:te,restoredState:Se,extras:rt}=m,ot=new Wy(Z,this.serializeUrl(Q),te,Se);r.next(ot);const yt=PE(Q,this.rootComponentType).snapshot;return An(Object.assign(Object.assign({},m),{targetSnapshot:yt,urlAfterRedirects:Q,extras:Object.assign(Object.assign({},rt),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),hf.E}),p_(m=>{const{targetSnapshot:b,id:C,extractedUrl:R,rawUrl:P,extras:{skipLocationChange:Z,replaceUrl:Q}}=m;return this.hooks.beforePreactivation(b,{navigationId:C,appliedUrlTree:R,rawUrlTree:P,skipLocationChange:!!Z,replaceUrl:!!Q})}),(0,Ri.b)(m=>{const b=new gE(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(b)}),(0,dn.U)(m=>Object.assign(Object.assign({},m),{guards:nA(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function Ai(n,e){return(0,Mi.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:d}}=t;return 0===d.length&&0===a.length?An(Object.assign(Object.assign({},t),{guardsResult:!0})):function oA(n,e,t,r){return(0,gr.D)(n).pipe((0,Mi.z)(i=>function lA(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?An(a.map(m=>{const b=Sp(m,e,i);let C;if(function s_(n){return n&&ql(n.canDeactivate)}(b))C=nl(b.canDeactivate(n,e,t,r));else{if(!ql(b))throw new Error("Invalid CanDeactivate guard");C=nl(b(n,e,t,r))}return C.pipe(Gu())})).pipe(Sm()):An(!0)}(i.component,i.route,t,e,r)),Gu(i=>!0!==i,!0))}(d,r,i,n).pipe((0,Mi.z)(m=>m&&function aT(n){return"boolean"==typeof n}(m)?function dT(n,e,t,r){return(0,gr.D)(e).pipe(mf(i=>ff(function sA(n,e){return null!==n&&e&&e(new qD(n)),An(!0)}(i.route.parent,r),function fT(n,e){return null!==n&&e&&e(new HM(n)),An(!0)}(i.route,r),function aA(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(d=>function rA(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>fE(()=>An(d.guards.map(b=>{const C=Sp(b,d.node,t);let R;if(function qM(n){return n&&ql(n.canActivateChild)}(C))R=nl(C.canActivateChild(r,n));else{if(!ql(C))throw new Error("Invalid CanActivateChild guard");R=nl(C(r,n))}return R.pipe(Gu())})).pipe(Sm())));return An(a).pipe(Sm())}(n,i.path,t),function hT(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return An(!0);const i=r.map(a=>fE(()=>{const d=Sp(a,e,t);let m;if(function o_(n){return n&&ql(n.canActivate)}(d))m=nl(d.canActivate(e,n));else{if(!ql(d))throw new Error("Invalid CanActivate guard");m=nl(d(e,n))}return m.pipe(Gu())}));return An(i).pipe(Sm())}(n,i.route,t))),Gu(i=>!0!==i,!0))}(r,a,n,e):An(m)),(0,dn.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Ri.b)(m=>{if(Wu(m.guardsResult)){const C=$y(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw C.url=m.guardsResult,C}const b=new mE(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(b)}),qs(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),p_(m=>{if(m.guards.canActivateChecks.length)return An(m).pipe((0,Ri.b)(b=>{const C=new vE(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(C)}),Ei(b=>{let C=!1;return An(b).pipe(function xa(n,e){return(0,Mi.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return An(t);let a=0;return(0,gr.D)(i).pipe(mf(d=>function pA(n,e,t,r){return function gA(n,e,t,r){const i=mA(n);if(0===i.length)return An({});const a={};return(0,gr.D)(i).pipe((0,Mi.z)(d=>function mT(n,e,t,r){const i=Sp(n,e,r);return nl(i.resolve?i.resolve(e,t):i(e,t))}(n[d],e,t,r).pipe((0,Ri.b)(m=>{a[d]=m}))),Gy(1),(0,Mi.z)(()=>mA(a).length===i.length?An(a):hf.E))}(n._resolve,n,e,r).pipe((0,dn.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),FE(n,t).resolve),null)))}(d.route,r,n,e)),(0,Ri.b)(()=>a++),Gy(1),(0,Mi.z)(d=>a===i.length?An(t):hf.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ri.b)({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(b),this.cancelNavigationTransition(b,"At least one route resolver didn't emit any value."))}}))}),(0,Ri.b)(b=>{const C=new zD(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(C)}))}),p_(m=>{const{targetSnapshot:b,id:C,extractedUrl:R,rawUrl:P,extras:{skipLocationChange:Z,replaceUrl:Q}}=m;return this.hooks.afterPreactivation(b,{navigationId:C,appliedUrlTree:R,rawUrlTree:P,skipLocationChange:!!Z,replaceUrl:!!Q})}),(0,dn.U)(m=>{const b=function JD(n,e,t){const r=Cm(n,e._root,t?t._root:void 0);return new Jy(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:b})}),(0,Ri.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,dn.U)(r=>(new oT(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Ri.b)({next(){a=!0},complete(){a=!0}}),function GD(n){return(0,no.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var m;a||d||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===i.id&&(this.currentNavigation=null)}),ju(m=>{if(d=!0,function wE(n){return n&&n[gm]}(m)){const b=Wu(m.url);b||(this.navigated=!0,this.restoreHistory(i,!0));const C=new Ca(i.id,this.serializeUrl(i.extractedUrl),m.message);r.next(C),b?setTimeout(()=>{const R=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),P={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||y_(i.source)};this.scheduleNavigation(R,"imperative",null,P,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const b=new Zy(i.id,this.serializeUrl(i.extractedUrl),m);r.next(b);try{i.resolve(this.errorHandler(m))}catch(C){i.reject(C)}}return hf.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const a={replaceUrl:!0},d=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(d){const b=Object.assign({},d);delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(a.state=b)}const m=this.parseUrl(t.url);this.scheduleNavigation(m,r,d,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ep(t),this.config=t.map($E),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:d,queryParamsHandling:m,preserveFragment:b}=r,C=i||this.routerState.root,R=b?this.currentUrlTree.fragment:d;let P=null;switch(m){case"merge":P=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":P=this.currentUrlTree.queryParams;break;default:P=a||null}return null!==P&&(P=this.removeEmptyProps(P)),function t_(n,e,t,r,i){if(0===t.length)return UE(e.root,e.root,e.root,r,i);const a=function jE(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new HE(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,d)=>{if("object"==typeof a&&null!=a){if(a.outlets){const m={};return ki(a.outlets,(b,C)=>{m[C]="string"==typeof b?b.split("/"):b}),[...i,{outlets:m}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===d?(a.split("/").forEach((m,b)=>{0==b&&"."===m||(0==b&&""===m?t=!0:".."===m?e++:""!=m&&i.push(m))}),i):[...i,a]},[]);return new HE(t,e,r)}(t);if(a.toRoot())return UE(e.root,e.root,new qn([],{}),r,i);const d=function tT(n,e,t){if(n.isAbsolute)return new GE(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const a=t.snapshot._urlSegment;return new GE(a,a===e.root,0)}const r=Dm(n.commands[0])?0:1;return function Df(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new GE(r,!1,i-a)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(a,e,n),m=d.processChildren?Im(d.segmentGroup,d.index,a.commands):n_(d.segmentGroup,d.index,a.commands);return UE(e.root,d.segmentGroup,m,r,i)}(C,this.currentUrlTree,t,P,null!=R?R:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Wu(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Om(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},bA):!1===r?Object.assign({},EA):r,Wu(t))return TE(this.currentUrlTree,t,i);const a=this.parseUrl(t);return TE(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new yf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,d){var m,b;if(this.disposed)return Promise.resolve(!1);let C,R,P;d?(C=d.resolve,R=d.reject,P=d.promise):P=new Promise((te,Se)=>{C=te,R=Se});const Z=++this.navigationId;let Q;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),Q=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):Q=0,this.setTransition({id:Z,targetPageId:Q,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:C,reject:R,promise:P,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),P.catch(te=>Promise.reject(te))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){var i,a;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===d?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new Ca(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function y_(n){return"imperative"!==n}class __{}class b_{preload(e,t){return An(null)}}let DA=(()=>{class n{constructor(t,r,i,a){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=new v_(i,r,b=>t.triggerEvent(new yE(b)),b=>t.triggerEvent(new _E(b)))}setUpPreloading(){this.subscription=this.router.events.pipe(qs(t=>t instanceof yf),mf(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(u.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const d=a._loadedConfig;i.push(this.processRoutes(d.module,d.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(t,a)):a.children&&i.push(this.processRoutes(t,a.children));return(0,gr.D)(i).pipe((0,gp.J)(),(0,dn.U)(a=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?An(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Mi.z)(a=>(r._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ro),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(__))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),E_=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Wy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof yf&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof AE&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new AE(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const Kc=new u.OlP("ROUTER_CONFIGURATION"),TA=new u.OlP("ROUTER_FORROOT_GUARD"),_T=[Qe,{provide:ME,useClass:ym},{provide:ro,useFactory:function CT(n,e,t,r,i,a,d={},m,b){const C=new ro(null,n,e,t,r,i,ZD(a));return m&&(C.urlHandlingStrategy=m),b&&(C.routeReuseStrategy=b),function DT(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,C),d.enableTracing&&C.events.subscribe(R=>{var P,Z;null===(P=console.group)||void 0===P||P.call(console,`Router Event: ${R.constructor.name}`),console.log(R.toString()),console.log(R),null===(Z=console.groupEnd)||void 0===Z||Z.call(console)}),C},deps:[ME,If,Qe,u.zs3,u.Sil,m_,Kc,[class yT{},new u.FiY],[class vT{},new u.FiY]]},If,{provide:Cf,useFactory:function TT(n){return n.routerState.root},deps:[ro]},DA,b_,class CA{preload(e,t){return t().pipe(ju(()=>An(null)))}},{provide:Kc,useValue:{enableTracing:!1}}];function bT(){return new u.PXZ("Router",ro)}let IA=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[_T,SA(t),{provide:TA,useFactory:wT,deps:[[ro,new u.FiY,new u.tp0]]},{provide:Kc,useValue:r||{}},{provide:ce,useFactory:AT,deps:[Me,[new u.tBr(je),new u.FiY],Kc]},{provide:E_,useFactory:ET,deps:[ro,ia,Kc]},{provide:__,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:b_},{provide:u.PXZ,multi:!0,useFactory:bT},[A_,{provide:u.ip1,multi:!0,useFactory:IT,deps:[A_]},{provide:w_,useFactory:xA,deps:[A_]},{provide:u.tb,multi:!0,useExisting:w_}]]}}static forChild(t){return{ngModule:n,providers:[SA(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(TA,8),u.LFG(ro,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function ET(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new E_(n,e,t)}function AT(n,e,t={}){return t.useHash?new We(n,e):new Ye(n,e)}function wT(n){return"guarded"}function SA(n){return[{provide:u.deG,multi:!0,useValue:n},{provide:m_,multi:!0,useValue:n}]}let A_=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new jr.x}appInitializer(){return this.injector.get(ee,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(m=>r=m),a=this.injector.get(ro),d=this.injector.get(Kc);return"disabled"===d.initialNavigation?(a.setUpLocationChangeListener(),r(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?An(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),a.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Kc),i=this.injector.get(DA),a=this.injector.get(E_),d=this.injector.get(ro),m=this.injector.get(u.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&d.initialNavigation(),i.setUpPreloading(),a.init(),d.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function IT(n){return n.appInitializer.bind(n)}function xA(n){return n.bootstrapListener.bind(n)}const w_=new u.OlP("Router Initializer");var nt=z(5861),ie=z(9356),$t=z(655),RA=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.headerElRef=(0,ie.createRef)(),t}return(0,$t.__extends)(e,n),e.prototype.renderSimpleLayout=function(t,r){var a=this.props,d=this.context,m=[],b=(0,ie.getStickyHeaderDates)(d.options);return t&&m.push({type:"header",key:"header",isSticky:b,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}}),m.push({type:"body",key:"body",liquid:!0,chunk:{content:r}}),(0,ie.createElement)(ie.ViewRoot,{viewSpec:d.viewSpec},function(C,R){return(0,ie.createElement)("div",{ref:C,className:["fc-daygrid"].concat(R).join(" ")},(0,ie.createElement)(ie.SimpleScrollGrid,{liquid:!a.isHeightAuto&&!a.forPrint,collapsibleWidth:a.forPrint,cols:[],sections:m}))})},e.prototype.renderHScrollLayout=function(t,r,i,a){var d=this.context.pluginHooks.scrollGridImpl;if(!d)throw new Error("No ScrollGrid implementation");var b=this.props,C=this.context,R=!b.forPrint&&(0,ie.getStickyHeaderDates)(C.options),P=!b.forPrint&&(0,ie.getStickyFooterScrollbar)(C.options),Z=[];return t&&Z.push({type:"header",key:"header",isSticky:R,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}]}),Z.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:r}]}),P&&Z.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:ie.renderScrollShim}]}),(0,ie.createElement)(ie.ViewRoot,{viewSpec:C.viewSpec},function(Q,te){return(0,ie.createElement)("div",{ref:Q,className:["fc-daygrid"].concat(te).join(" ")},(0,ie.createElement)(d,{liquid:!b.isHeightAuto&&!b.forPrint,collapsibleWidth:b.forPrint,colGroups:[{cols:[{span:i,minWidth:a}]}],sections:Z}))})},e}(ie.DateComponent);function kp(n,e){for(var t=[],r=0;r<e;r+=1)t[r]=[];for(var i=0,a=n;i<a.length;i++){var d=a[i];t[d.row].push(d)}return t}function Np(n,e){for(var t=[],r=0;r<e;r+=1)t[r]=[];for(var i=0,a=n;i<a.length;i++){var d=a[i];t[d.firstCol].push(d)}return t}function Vm(n,e){var t=[];if(n){for(var r=0;r<e;r+=1)t[r]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(var i=0,a=n.segs;i<a.length;i++){var d=a[i];t[d.row].segs.push(d)}}else for(r=0;r<e;r+=1)t[r]=null;return t}var Yc=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,$t.__extends)(e,n),e.prototype.render=function(){var t=this.props,r=(0,ie.buildNavLinkAttrs)(this.context,t.date);return(0,ie.createElement)(ie.DayCellContent,{date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,showDayNumber:t.showDayNumber,extraHookProps:t.extraHookProps,defaultContent:xT},function(i,a){return(a||t.forceDayTop)&&(0,ie.createElement)("div",{className:"fc-daygrid-day-top",ref:i},(0,ie.createElement)("a",(0,$t.__assign)({id:t.dayNumberId,className:"fc-daygrid-day-number"},r),a||(0,ie.createElement)(ie.Fragment,null,"\xa0")))})},e}(ie.BaseComponent);function xT(n){return n.dayNumberText}var kA=(0,ie.createFormatter)({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function Qc(n){var e=n.eventRange.ui.display;return"list-item"===e||"auto"===e&&!n.eventRange.def.allDay&&n.firstCol===n.lastCol&&n.isStart&&n.isEnd}var MT=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,$t.__extends)(e,n),e.prototype.render=function(){var t=this.props;return(0,ie.createElement)(ie.StandardEvent,(0,$t.__assign)({},t,{extraClassNames:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:kA,defaultDisplayEventEnd:t.defaultDisplayEventEnd,disableResizing:!t.seg.eventRange.def.allDay}))},e}(ie.BaseComponent),Bm=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,$t.__extends)(e,n),e.prototype.render=function(){var r=this.props,i=this.context,d=(0,ie.buildSegTimeText)(r.seg,i.options.eventTimeFormat||kA,i,!0,r.defaultDisplayEventEnd);return(0,ie.createElement)(ie.EventRoot,{seg:r.seg,timeText:d,defaultContent:KM,isDragging:r.isDragging,isResizing:!1,isDateSelecting:!1,isSelected:r.isSelected,isPast:r.isPast,isFuture:r.isFuture,isToday:r.isToday},function(m,b,C,R){return(0,ie.createElement)("a",(0,$t.__assign)({className:["fc-daygrid-event","fc-daygrid-dot-event"].concat(b).join(" "),ref:m},(0,ie.getSegAnchorAttrs)(r.seg,i)),R)})},e}(ie.BaseComponent);function KM(n){return(0,ie.createElement)(ie.Fragment,null,(0,ie.createElement)("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&(0,ie.createElement)("div",{className:"fc-event-time"},n.timeText),(0,ie.createElement)("div",{className:"fc-event-title"},n.event.title||(0,ie.createElement)(ie.Fragment,null,"\xa0")))}var NA=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.compileSegs=(0,ie.memoize)(PA),t}return(0,$t.__extends)(e,n),e.prototype.render=function(){var t=this.props,r=this.compileSegs(t.singlePlacements),i=r.allSegs;return(0,ie.createElement)(ie.MoreLinkRoot,{dateProfile:t.dateProfile,todayRange:t.todayRange,allDayDate:t.allDayDate,moreCnt:t.moreCnt,allSegs:i,hiddenSegs:r.invisibleSegs,alignmentElRef:t.alignmentElRef,alignGridTop:t.alignGridTop,extraDateSpan:t.extraDateSpan,popoverContent:function(){var d=(t.eventDrag?t.eventDrag.affectedInstances:null)||(t.eventResize?t.eventResize.affectedInstances:null)||{};return(0,ie.createElement)(ie.Fragment,null,i.map(function(m){var b=m.eventRange.instance.instanceId;return(0,ie.createElement)("div",{className:"fc-daygrid-event-harness",key:b,style:{visibility:d[b]?"hidden":""}},Qc(m)?(0,ie.createElement)(Bm,(0,$t.__assign)({seg:m,isDragging:!1,isSelected:b===t.eventSelection,defaultDisplayEventEnd:!1},(0,ie.getSegMeta)(m,t.todayRange))):(0,ie.createElement)(MT,(0,$t.__assign)({seg:m,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:b===t.eventSelection,defaultDisplayEventEnd:!1},(0,ie.getSegMeta)(m,t.todayRange))))}))}},function(d,m,b,C,R,P,Z,Q){return(0,ie.createElement)("a",(0,$t.__assign)({ref:d,className:["fc-daygrid-more-link"].concat(m).join(" "),title:P,"aria-expanded":Z,"aria-controls":Q},(0,ie.createAriaClickAttrs)(R)),C)})},e}(ie.BaseComponent);function PA(n){for(var e=[],t=[],r=0,i=n;r<i.length;r++){var a=i[r];e.push(a.seg),a.isVisible||t.push(a.seg)}return{allSegs:e,invisibleSegs:t}}var YM=(0,ie.createFormatter)({week:"narrow"}),_n=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.rootElRef=(0,ie.createRef)(),t.state={dayNumberId:(0,ie.getUniqueDomId)()},t.handleRootEl=function(r){(0,ie.setRef)(t.rootElRef,r),(0,ie.setRef)(t.props.elRef,r)},t}return(0,$t.__extends)(e,n),e.prototype.render=function(){var t=this,i=t.props,a=t.state,d=t.rootElRef,m=i.date,b=i.dateProfile,C=(0,ie.buildNavLinkAttrs)(t.context,m,"week");return(0,ie.createElement)(ie.DayCellRoot,{date:m,dateProfile:b,todayRange:i.todayRange,showDayNumber:i.showDayNumber,extraHookProps:i.extraHookProps,elRef:this.handleRootEl},function(R,P,Z,Q){return(0,ie.createElement)("td",(0,$t.__assign)({ref:R,role:"gridcell",className:["fc-daygrid-day"].concat(P,i.extraClassNames||[]).join(" ")},Z,i.extraDataAttrs,i.showDayNumber?{"aria-labelledby":a.dayNumberId}:{}),(0,ie.createElement)("div",{className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",ref:i.innerElRef},i.showWeekNumber&&(0,ie.createElement)(ie.WeekNumberRoot,{date:m,defaultFormat:YM},function(te,Se,rt,ot){return(0,ie.createElement)("a",(0,$t.__assign)({ref:te,className:["fc-daygrid-week-number"].concat(Se).join(" ")},C),ot)}),!Q&&(0,ie.createElement)(Yc,{date:m,dateProfile:b,showDayNumber:i.showDayNumber,dayNumberId:a.dayNumberId,forceDayTop:i.forceDayTop,todayRange:i.todayRange,extraHookProps:i.extraHookProps}),(0,ie.createElement)("div",{className:"fc-daygrid-day-events",ref:i.fgContentElRef},i.fgContent,(0,ie.createElement)("div",{className:"fc-daygrid-day-bottom",style:{marginTop:i.moreMarginTop}},(0,ie.createElement)(NA,{allDayDate:m,singlePlacements:i.singlePlacements,moreCnt:i.moreCnt,alignmentElRef:d,alignGridTop:!i.showDayNumber,extraDateSpan:i.extraDateSpan,dateProfile:i.dateProfile,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,todayRange:i.todayRange}))),(0,ie.createElement)("div",{className:"fc-daygrid-day-bg"},i.bgContent)))})},e}(ie.DateComponent);function Wl(n,e,t,r){if(n.firstCol===e&&n.lastCol===t-1)return n;var i=n.eventRange,a=i.range,d=(0,ie.intersectRanges)(a,{start:r[e].date,end:(0,ie.addDays)(r[t-1].date,1)});return(0,$t.__assign)((0,$t.__assign)({},n),{firstCol:e,lastCol:t-1,eventRange:{def:i.def,ui:(0,$t.__assign)((0,$t.__assign)({},i.ui),{durationEditable:!1}),instance:i.instance,range:d},isStart:n.isStart&&d.start.valueOf()===a.start.valueOf(),isEnd:n.isEnd&&d.end.valueOf()===a.end.valueOf()})}var PT=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.hiddenConsumes=!1,t.forceHidden={},t}return(0,$t.__extends)(e,n),e.prototype.addSegs=function(t){for(var r=this,i=n.prototype.addSegs.call(this,t),a=this.entriesByLevel,d=function(b){return!r.forceHidden[(0,ie.buildEntryKey)(b)]},m=0;m<a.length;m+=1)a[m]=a[m].filter(d);return i},e.prototype.handleInvalidInsertion=function(t,r,i){var d=this.entriesByLevel,m=this.forceHidden,b=t.touchingEntry,C=t.touchingLevel,R=t.touchingLateral;if(this.hiddenConsumes&&b){var P=(0,ie.buildEntryKey)(b);if(!m[P])if(this.allowReslicing){var Z=(0,$t.__assign)((0,$t.__assign)({},b),{span:(0,ie.intersectSpans)(b.span,r.span)});m[(0,ie.buildEntryKey)(Z)]=!0,d[C][R]=Z,this.splitEntry(b,r,i)}else m[P]=!0,i.push(b)}return n.prototype.handleInvalidInsertion.call(this,t,r,i)},e}(ie.SegHierarchy),Pp=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.cellElRefs=new ie.RefMap,t.frameElRefs=new ie.RefMap,t.fgElRefs=new ie.RefMap,t.segHarnessRefs=new ie.RefMap,t.rootElRef=(0,ie.createRef)(),t.state={framePositions:null,maxContentHeight:null,eventInstanceHeights:{}},t}return(0,$t.__extends)(e,n),e.prototype.render=function(){var t=this,r=this,i=r.props,a=r.state,m=r.context.options,b=i.cells.length,C=Np(i.businessHourSegs,b),R=Np(i.bgEventSegs,b),P=Np(this.getHighlightSegs(),b),Z=Np(this.getMirrorSegs(),b),Q=function RT(n,e,t,r,i,a,d){var m=new PT;m.allowReslicing=!0,m.strictOrder=r,!0===e||!0===t?(m.maxCoord=a,m.hiddenConsumes=!0):"number"==typeof e?m.maxStackCnt=e:"number"==typeof t&&(m.maxStackCnt=t,m.hiddenConsumes=!0);for(var b=[],C=[],R=0;R<n.length;R+=1){var Q=i[(P=n[R]).eventRange.instance.instanceId];null!=Q?b.push({index:R,thickness:Q,span:{start:P.firstCol,end:P.lastCol+1}}):C.push(P)}for(var te=m.addSegs(b),rt=function kT(n,e,t){for(var r=function NT(n,e){for(var t=[],r=0;r<e;r+=1)t.push([]);for(var i=0,a=n;i<a.length;i++){var d=a[i];for(r=d.span.start;r<d.span.end;r+=1)t[r].push(d)}return t}(n,t.length),i=[],a=[],d=[],m=0;m<t.length;m+=1){for(var b=r[m],C=[],R=0,P=0,Z=0,Q=b;Z<Q.length;Z++)C.push({seg:Wl(Se=e[(te=Q[Z]).index],m,m+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:te.levelCoord,marginTop:te.levelCoord-R}),R=te.levelCoord+te.thickness;var rt=[];R=0,P=0;for(var ot=0,yt=b;ot<yt.length;ot++){var te,Se=e[(te=yt[ot]).index],wt=te.span.start===m;P+=te.levelCoord-R,R=te.levelCoord+te.thickness,te.span.end-te.span.start>1?(P+=te.thickness,wt&&rt.push({seg:Wl(Se,te.span.start,te.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:te.levelCoord,marginTop:0})):wt&&(rt.push({seg:Wl(Se,te.span.start,te.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:te.levelCoord,marginTop:P}),P=0)}i.push(C),a.push(rt),d.push(P)}return{singleColPlacements:i,multiColPlacements:a,leftoverMargins:d}}(m.toRects(),n,d),ot=rt.singleColPlacements,yt=rt.multiColPlacements,Mt=rt.leftoverMargins,wt=[],mn=[],pn=0,Bn=C;pn<Bn.length;pn++){yt[(P=Bn[pn]).firstCol].push({seg:P,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(var Un=P.firstCol;Un<=P.lastCol;Un+=1)ot[Un].push({seg:Wl(P,Un,Un+1,d),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(Un=0;Un<d.length;Un+=1)wt.push(0);for(var Oo=0,Fo=te;Oo<Fo.length;Oo++){var P,_d=Fo[Oo],is=_d.span;for(yt[is.start].push({seg:Wl(P=n[_d.index],is.start,is.end,d),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0}),Un=is.start;Un<is.end;Un+=1)wt[Un]+=1,ot[Un].push({seg:Wl(P,Un,Un+1,d),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(Un=0;Un<d.length;Un+=1)mn.push(Mt[Un]);return{singleColPlacements:ot,multiColPlacements:yt,moreCnts:wt,moreMarginTops:mn}}((0,ie.sortEventSegs)(i.fgEventSegs,m.eventOrder),i.dayMaxEvents,i.dayMaxEventRows,m.eventOrderStrict,a.eventInstanceHeights,a.maxContentHeight,i.cells),te=Q.singleColPlacements,Se=Q.multiColPlacements,rt=Q.moreCnts,ot=Q.moreMarginTops,yt=i.eventDrag&&i.eventDrag.affectedInstances||i.eventResize&&i.eventResize.affectedInstances||{};return(0,ie.createElement)("tr",{ref:this.rootElRef,role:"row"},i.renderIntro&&i.renderIntro(),i.cells.map(function(Mt,wt){var mn=t.renderFgSegs(wt,i.forPrint?te[wt]:Se[wt],i.todayRange,yt),pn=t.renderFgSegs(wt,function Um(n,e){if(!n.length)return[];var t=function Zr(n){for(var e={},t=0,r=n;t<r.length;t++)for(var a=0,d=r[t];a<d.length;a++){var m=d[a];e[m.seg.eventRange.instance.instanceId]=m.absoluteTop}return e}(e);return n.map(function(r){return{seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:t[r.eventRange.instance.instanceId],marginTop:0}})}(Z[wt],Se),i.todayRange,{},Boolean(i.eventDrag),Boolean(i.eventResize),!1);return(0,ie.createElement)(_n,{key:Mt.key,elRef:t.cellElRefs.createRef(Mt.key),innerElRef:t.frameElRefs.createRef(Mt.key),dateProfile:i.dateProfile,date:Mt.date,showDayNumber:i.showDayNumbers,showWeekNumber:i.showWeekNumbers&&0===wt,forceDayTop:i.showWeekNumbers,todayRange:i.todayRange,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,extraHookProps:Mt.extraHookProps,extraDataAttrs:Mt.extraDataAttrs,extraClassNames:Mt.extraClassNames,extraDateSpan:Mt.extraDateSpan,moreCnt:rt[wt],moreMarginTop:ot[wt],singlePlacements:te[wt],fgContentElRef:t.fgElRefs.createRef(Mt.key),fgContent:(0,ie.createElement)(ie.Fragment,null,(0,ie.createElement)(ie.Fragment,null,mn),(0,ie.createElement)(ie.Fragment,null,pn)),bgContent:(0,ie.createElement)(ie.Fragment,null,t.renderFillSegs(P[wt],"highlight"),t.renderFillSegs(C[wt],"non-business"),t.renderFillSegs(R[wt],"bg-event"))})}))},e.prototype.componentDidMount=function(){this.updateSizing(!0)},e.prototype.componentDidUpdate=function(t,r){this.updateSizing(!(0,ie.isPropsEqual)(t,this.props))},e.prototype.getHighlightSegs=function(){var t=this.props;return t.eventDrag&&t.eventDrag.segs.length?t.eventDrag.segs:t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:t.dateSelectionSegs},e.prototype.getMirrorSegs=function(){var t=this.props;return t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:[]},e.prototype.renderFgSegs=function(t,r,i,a,d,m,b){var C=this.context,R=this.props.eventSelection,P=this.state.framePositions,Z=1===this.props.cells.length,Q=d||m||b,te=[];if(P)for(var Se=0,rt=r;Se<rt.length;Se++){var ot=rt[Se],yt=ot.seg,Mt=yt.eventRange.instance.instanceId,wt=Mt+":"+t,mn=ot.isVisible&&!a[Mt],pn=ot.isAbsolute,Bn="",Un="";pn&&(C.isRtl?(Un=0,Bn=P.lefts[yt.lastCol]-P.lefts[yt.firstCol]):(Bn=0,Un=P.rights[yt.firstCol]-P.rights[yt.lastCol])),te.push((0,ie.createElement)("div",{className:"fc-daygrid-event-harness"+(pn?" fc-daygrid-event-harness-abs":""),key:wt,ref:Q?null:this.segHarnessRefs.createRef(wt),style:{visibility:mn?"":"hidden",marginTop:pn?"":ot.marginTop,top:pn?ot.absoluteTop:"",left:Bn,right:Un}},Qc(yt)?(0,ie.createElement)(Bm,(0,$t.__assign)({seg:yt,isDragging:d,isSelected:Mt===R,defaultDisplayEventEnd:Z},(0,ie.getSegMeta)(yt,i))):(0,ie.createElement)(MT,(0,$t.__assign)({seg:yt,isDragging:d,isResizing:m,isDateSelecting:b,isSelected:Mt===R,defaultDisplayEventEnd:Z},(0,ie.getSegMeta)(yt,i)))))}return te},e.prototype.renderFillSegs=function(t,r){var i=this.context.isRtl,a=this.props.todayRange,d=this.state.framePositions,m=[];if(d)for(var b=0,C=t;b<C.length;b++){var R=C[b],P=i?{right:0,left:d.lefts[R.lastCol]-d.lefts[R.firstCol]}:{left:0,right:d.rights[R.firstCol]-d.rights[R.lastCol]};m.push((0,ie.createElement)("div",{key:(0,ie.buildEventRangeKey)(R.eventRange),className:"fc-daygrid-bg-harness",style:P},"bg-event"===r?(0,ie.createElement)(ie.BgEvent,(0,$t.__assign)({seg:R},(0,ie.getSegMeta)(R,a))):(0,ie.renderFill)(r)))}return ie.createElement.apply(void 0,(0,$t.__spreadArray)([ie.Fragment,{}],m))},e.prototype.updateSizing=function(t){var i=this.props,a=this.frameElRefs;if(!i.forPrint&&null!==i.clientWidth){if(t){var d=i.cells.map(function(P){return a.currentMap[P.key]});d.length&&this.setState({framePositions:new ie.PositionCache(this.rootElRef.current,d,!0,!1)})}var b=this.state.eventInstanceHeights,C=this.queryEventInstanceHeights(),R=!0===i.dayMaxEvents||!0===i.dayMaxEventRows;this.setState({eventInstanceHeights:(0,$t.__assign)((0,$t.__assign)({},b),C),maxContentHeight:R?this.computeMaxContentHeight():null})}},e.prototype.queryEventInstanceHeights=function(){var t=this.segHarnessRefs.currentMap,r={};for(var i in t){var a=Math.round(t[i].getBoundingClientRect().height),d=i.split(":")[0];r[d]=Math.max(r[d]||0,a)}return r},e.prototype.computeMaxContentHeight=function(){var t=this.props.cells[0].key,i=this.fgElRefs.currentMap[t];return this.cellElRefs.currentMap[t].getBoundingClientRect().bottom-i.getBoundingClientRect().top},e.prototype.getCellEls=function(){var t=this.cellElRefs.currentMap;return this.props.cells.map(function(r){return t[r.key]})},e}(ie.DateComponent);Pp.addStateEquality({eventInstanceHeights:ie.isPropsEqual});var QM=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.splitBusinessHourSegs=(0,ie.memoize)(kp),t.splitBgEventSegs=(0,ie.memoize)(kp),t.splitFgEventSegs=(0,ie.memoize)(kp),t.splitDateSelectionSegs=(0,ie.memoize)(kp),t.splitEventDrag=(0,ie.memoize)(Vm),t.splitEventResize=(0,ie.memoize)(Vm),t.rowRefs=new ie.RefMap,t.handleRootEl=function(r){t.rootEl=r,r?t.context.registerInteractiveComponent(t,{el:r,isHitComboAllowed:t.props.isHitComboAllowed}):t.context.unregisterInteractiveComponent(t)},t}return(0,$t.__extends)(e,n),e.prototype.render=function(){var t=this,r=this.props,i=r.dateProfile,a=r.dayMaxEventRows,d=r.dayMaxEvents,m=r.expandRows,b=r.cells.length,C=this.splitBusinessHourSegs(r.businessHourSegs,b),R=this.splitBgEventSegs(r.bgEventSegs,b),P=this.splitFgEventSegs(r.fgEventSegs,b),Z=this.splitDateSelectionSegs(r.dateSelectionSegs,b),Q=this.splitEventDrag(r.eventDrag,b),te=this.splitEventResize(r.eventResize,b),Se=!0===d||!0===a;return Se&&!m&&(Se=!1,a=null,d=null),(0,ie.createElement)("div",{className:["fc-daygrid-body",Se?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",m?"":"fc-daygrid-body-natural"].join(" "),ref:this.handleRootEl,style:{width:r.clientWidth,minWidth:r.tableMinWidth}},(0,ie.createElement)(ie.NowTimer,{unit:"day"},function(ot,yt){return(0,ie.createElement)(ie.Fragment,null,(0,ie.createElement)("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:r.clientWidth,minWidth:r.tableMinWidth,height:m?r.clientHeight:""}},r.colGroupNode,(0,ie.createElement)("tbody",{role:"presentation"},r.cells.map(function(Mt,wt){return(0,ie.createElement)(Pp,{ref:t.rowRefs.createRef(wt),key:Mt.length?Mt[0].date.toISOString():wt,showDayNumbers:b>1,showWeekNumbers:r.showWeekNumbers,todayRange:yt,dateProfile:i,cells:Mt,renderIntro:r.renderRowIntro,businessHourSegs:C[wt],eventSelection:r.eventSelection,bgEventSegs:R[wt].filter(OA),fgEventSegs:P[wt],dateSelectionSegs:Z[wt],eventDrag:Q[wt],eventResize:te[wt],dayMaxEvents:d,dayMaxEventRows:a,clientWidth:r.clientWidth,clientHeight:r.clientHeight,forPrint:r.forPrint})}))))}))},e.prototype.prepareHits=function(){this.rowPositions=new ie.PositionCache(this.rootEl,this.rowRefs.collect().map(function(t){return t.getCellEls()[0]}),!1,!0),this.colPositions=new ie.PositionCache(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)},e.prototype.queryHit=function(t,r){var a=this.colPositions,d=this.rowPositions,m=a.leftToIndex(t),b=d.topToIndex(r);if(null!=b&&null!=m){var C=this.props.cells[b][m];return{dateProfile:this.props.dateProfile,dateSpan:(0,$t.__assign)({range:this.getCellRange(b,m),allDay:!0},C.extraDateSpan),dayEl:this.getCellEl(b,m),rect:{left:a.lefts[m],right:a.rights[m],top:d.tops[b],bottom:d.bottoms[b]},layer:0}}return null},e.prototype.getCellEl=function(t,r){return this.rowRefs.currentMap[t].getCellEls()[r]},e.prototype.getCellRange=function(t,r){var i=this.props.cells[t][r].date;return{start:i,end:(0,ie.addDays)(i,1)}},e}(ie.DateComponent);function OA(n){return n.eventRange.def.allDay}var OT=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.forceDayIfListItem=!0,t}return(0,$t.__extends)(e,n),e.prototype.sliceRange=function(t,r){return r.sliceRange(t)},e}(ie.Slicer),FT=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.slicer=new OT,t.tableRef=(0,ie.createRef)(),t}return(0,$t.__extends)(e,n),e.prototype.render=function(){var r=this.props;return(0,ie.createElement)(QM,(0,$t.__assign)({ref:this.tableRef},this.slicer.sliceProps(r,r.dateProfile,r.nextDayThreshold,this.context,r.dayTableModel),{dateProfile:r.dateProfile,cells:r.dayTableModel.cells,colGroupNode:r.colGroupNode,tableMinWidth:r.tableMinWidth,renderRowIntro:r.renderRowIntro,dayMaxEvents:r.dayMaxEvents,dayMaxEventRows:r.dayMaxEventRows,showWeekNumbers:r.showWeekNumbers,expandRows:r.expandRows,headerAlignElRef:r.headerAlignElRef,clientWidth:r.clientWidth,clientHeight:r.clientHeight,forPrint:r.forPrint}))},e}(ie.DateComponent),FA=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.buildDayTableModel=(0,ie.memoize)(LA),t.headerRef=(0,ie.createRef)(),t.tableRef=(0,ie.createRef)(),t}return(0,$t.__extends)(e,n),e.prototype.render=function(){var t=this,r=this.context,i=r.options,d=this.props,m=this.buildDayTableModel(d.dateProfile,r.dateProfileGenerator),b=i.dayHeaders&&(0,ie.createElement)(ie.DayHeader,{ref:this.headerRef,dateProfile:d.dateProfile,dates:m.headerDates,datesRepDistinctDays:1===m.rowCnt}),C=function(R){return(0,ie.createElement)(FT,{ref:t.tableRef,dateProfile:d.dateProfile,dayTableModel:m,businessHours:d.businessHours,dateSelection:d.dateSelection,eventStore:d.eventStore,eventUiBases:d.eventUiBases,eventSelection:d.eventSelection,eventDrag:d.eventDrag,eventResize:d.eventResize,nextDayThreshold:i.nextDayThreshold,colGroupNode:R.tableColGroupNode,tableMinWidth:R.tableMinWidth,dayMaxEvents:i.dayMaxEvents,dayMaxEventRows:i.dayMaxEventRows,showWeekNumbers:i.weekNumbers,expandRows:!d.isHeightAuto,headerAlignElRef:t.headerElRef,clientWidth:R.clientWidth,clientHeight:R.clientHeight,forPrint:d.forPrint})};return i.dayMinWidth?this.renderHScrollLayout(b,C,m.colCnt,i.dayMinWidth):this.renderSimpleLayout(b,C)},e}(RA);function LA(n,e){var t=new ie.DaySeriesModel(n.renderRange,e);return new ie.DayTableModel(t,/year|month|week/.test(n.currentRangeUnit))}var VA=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,$t.__extends)(e,n),e.prototype.buildRenderRange=function(t,r,i){var C,a=this.props.dateEnv,d=n.prototype.buildRenderRange.call(this,t,r,i),m=d.start,b=d.end;if(/^(year|month)$/.test(r)&&(m=a.startOfWeek(m),(C=a.startOfWeek(b)).valueOf()!==b.valueOf()&&(b=(0,ie.addWeeks)(C,1))),this.props.monthMode&&this.props.fixedWeekCount){var R=Math.ceil((0,ie.diffWeeks)(m,b));b=(0,ie.addWeeks)(b,6-R)}return{start:m,end:b}},e}(ie.DateProfileGenerator);const UA=(0,ie.createPlugin)({initialView:"dayGridMonth",views:{dayGrid:{component:FA,dateProfileGeneratorClass:VA},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}});var LT=z(5032);function C_(n){return(0,no.e)((e,t)=>{(0,Ua.Xf)(n).subscribe((0,_i.x)(t,()=>t.complete(),LT.Z)),!t.closed&&e.subscribe(t)})}ie.config.touchMouseIgnoreWait=500;var Jc=0,Hm=0,D_=!1,T_=function(){function n(e){var t=this;this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=function(r){if(!t.shouldIgnoreMouse()&&function jm(n){return 0===n.button&&!n.ctrlKey}(r)&&t.tryStart(r)){var i=t.createEventFromMouse(r,!0);t.emitter.trigger("pointerdown",i),t.initScrollWatch(i),t.shouldIgnoreMove||document.addEventListener("mousemove",t.handleMouseMove),document.addEventListener("mouseup",t.handleMouseUp)}},this.handleMouseMove=function(r){var i=t.createEventFromMouse(r);t.recordCoords(i),t.emitter.trigger("pointermove",i)},this.handleMouseUp=function(r){document.removeEventListener("mousemove",t.handleMouseMove),document.removeEventListener("mouseup",t.handleMouseUp),t.emitter.trigger("pointerup",t.createEventFromMouse(r)),t.cleanup()},this.handleTouchStart=function(r){if(t.tryStart(r)){t.isTouchDragging=!0;var i=t.createEventFromTouch(r,!0);t.emitter.trigger("pointerdown",i),t.initScrollWatch(i);var a=r.target;t.shouldIgnoreMove||a.addEventListener("touchmove",t.handleTouchMove),a.addEventListener("touchend",t.handleTouchEnd),a.addEventListener("touchcancel",t.handleTouchEnd),window.addEventListener("scroll",t.handleTouchScroll,!0)}},this.handleTouchMove=function(r){var i=t.createEventFromTouch(r);t.recordCoords(i),t.emitter.trigger("pointermove",i)},this.handleTouchEnd=function(r){if(t.isDragging){var i=r.target;i.removeEventListener("touchmove",t.handleTouchMove),i.removeEventListener("touchend",t.handleTouchEnd),i.removeEventListener("touchcancel",t.handleTouchEnd),window.removeEventListener("scroll",t.handleTouchScroll,!0),t.emitter.trigger("pointerup",t.createEventFromTouch(r)),t.cleanup(),t.isTouchDragging=!1,function HA(){Jc+=1,setTimeout(function(){Jc-=1},ie.config.touchMouseIgnoreWait)}()}},this.handleTouchScroll=function(){t.wasTouchScroll=!0},this.handleScroll=function(r){if(!t.shouldIgnoreMove){var i=window.pageXOffset-t.prevScrollX+t.prevPageX,a=window.pageYOffset-t.prevScrollY+t.prevPageY;t.emitter.trigger("pointermove",{origEvent:r,isTouch:t.isTouchDragging,subjectEl:t.subjectEl,pageX:i,pageY:a,deltaX:i-t.origPageX,deltaY:a-t.origPageY})}},this.containerEl=e,this.emitter=new ie.Emitter,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),function jA(){1===(Hm+=1)&&window.addEventListener("touchmove",zA,{passive:!1})}()}return n.prototype.destroy=function(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),function GA(){(Hm-=1)||window.removeEventListener("touchmove",zA,{passive:!1})}()},n.prototype.tryStart=function(e){var t=this.querySubjectEl(e);return!(!t||this.handleSelector&&!(0,ie.elementClosest)(e.target,this.handleSelector)||(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,0))},n.prototype.cleanup=function(){D_=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()},n.prototype.querySubjectEl=function(e){return this.selector?(0,ie.elementClosest)(e.target,this.selector):this.containerEl},n.prototype.shouldIgnoreMouse=function(){return Jc||this.isTouchDragging},n.prototype.cancelTouchScroll=function(){this.isDragging&&(D_=!0)},n.prototype.initScrollWatch=function(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))},n.prototype.recordCoords=function(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)},n.prototype.destroyScrollWatch=function(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)},n.prototype.createEventFromMouse=function(e,t){var r=0,i=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:i}},n.prototype.createEventFromTouch=function(e,t){var i,a,r=e.touches,d=0,m=0;return r&&r.length?(i=r[0].pageX,a=r[0].pageY):(i=e.pageX,a=e.pageY),t?(this.origPageX=i,this.origPageY=a):(d=i-this.origPageX,m=a-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:a,deltaX:d,deltaY:m}},n}();function zA(n){D_&&n.preventDefault()}var Op=function(){function n(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}return n.prototype.start=function(e,t,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.pageXOffset,this.origScreenY=r-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()},n.prototype.handleMove=function(e,t){this.deltaX=e-window.pageXOffset-this.origScreenX,this.deltaY=t-window.pageYOffset-this.origScreenY,this.updateElPosition()},n.prototype.setIsVisible=function(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)},n.prototype.stop=function(e,t){var r=this,i=function(){r.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)},n.prototype.doRevertAnimation=function(e,t){var r=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();r.style.transition="top "+t+"ms,left "+t+"ms",(0,ie.applyStyle)(r,{left:i.left,top:i.top}),(0,ie.whenTransitionDone)(r,function(){r.style.transition="",e()})},n.prototype.cleanup=function(){this.mirrorEl&&((0,ie.removeElement)(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null},n.prototype.updateElPosition=function(){this.sourceEl&&this.isVisible&&(0,ie.applyStyle)(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})},n.prototype.getMirrorEl=function(){var e=this.sourceElRect,t=this.mirrorEl;return t||((t=this.mirrorEl=this.sourceEl.cloneNode(!0)).classList.add("fc-unselectable"),t.classList.add("fc-event-dragging"),(0,ie.applyStyle)(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t},n}(),Rf=function(n){function e(t,r){var i=n.call(this)||this;return i.handleScroll=function(){i.scrollTop=i.scrollController.getScrollTop(),i.scrollLeft=i.scrollController.getScrollLeft(),i.handleScrollChange()},i.scrollController=t,i.doesListening=r,i.scrollTop=i.origScrollTop=t.getScrollTop(),i.scrollLeft=i.origScrollLeft=t.getScrollLeft(),i.scrollWidth=t.getScrollWidth(),i.scrollHeight=t.getScrollHeight(),i.clientWidth=t.getClientWidth(),i.clientHeight=t.getClientHeight(),i.clientRect=i.computeClientRect(),i.doesListening&&i.getEventTarget().addEventListener("scroll",i.handleScroll),i}return(0,$t.__extends)(e,n),e.prototype.destroy=function(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)},e.prototype.getScrollTop=function(){return this.scrollTop},e.prototype.getScrollLeft=function(){return this.scrollLeft},e.prototype.setScrollTop=function(t){this.scrollController.setScrollTop(t),this.doesListening||(this.scrollTop=Math.max(Math.min(t,this.getMaxScrollTop()),0),this.handleScrollChange())},e.prototype.setScrollLeft=function(t){this.scrollController.setScrollLeft(t),this.doesListening||(this.scrollLeft=Math.max(Math.min(t,this.getMaxScrollLeft()),0),this.handleScrollChange())},e.prototype.getClientWidth=function(){return this.clientWidth},e.prototype.getClientHeight=function(){return this.clientHeight},e.prototype.getScrollWidth=function(){return this.scrollWidth},e.prototype.getScrollHeight=function(){return this.scrollHeight},e.prototype.handleScrollChange=function(){},e}(ie.ScrollController),qA=function(n){function e(t,r){return n.call(this,new ie.ElementScrollController(t),r)||this}return(0,$t.__extends)(e,n),e.prototype.getEventTarget=function(){return this.scrollController.el},e.prototype.computeClientRect=function(){return(0,ie.computeInnerRect)(this.scrollController.el)},e}(Rf),VT=function(n){function e(t){return n.call(this,new ie.WindowScrollController,t)||this}return(0,$t.__extends)(e,n),e.prototype.getEventTarget=function(){return window},e.prototype.computeClientRect=function(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}},e.prototype.handleScrollChange=function(){this.clientRect=this.computeClientRect()},e}(Rf),WA="function"==typeof performance?performance.now:Date.now,ZA=function(){function n(){var e=this;this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=function(){if(e.isAnimating){var t=e.computeBestEdge(e.pointerScreenX+window.pageXOffset,e.pointerScreenY+window.pageYOffset);if(t){var r=WA();e.handleSide(t,(r-e.msSinceRequest)/1e3),e.requestAnimation(r)}else e.isAnimating=!1}}}return n.prototype.start=function(e,t,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))},n.prototype.handleMove=function(e,t){if(this.isEnabled){var r=e-window.pageXOffset,i=t-window.pageYOffset,a=null===this.pointerScreenY?0:i-this.pointerScreenY,d=null===this.pointerScreenX?0:r-this.pointerScreenX;a<0?this.everMovedUp=!0:a>0&&(this.everMovedDown=!0),d<0?this.everMovedLeft=!0:d>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(WA()))}},n.prototype.stop=function(){if(this.isEnabled){this.isAnimating=!1;for(var e=0,t=this.scrollCaches;e<t.length;e++)t[e].destroy();this.scrollCaches=null}},n.prototype.requestAnimation=function(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)},n.prototype.handleSide=function(e,t){var r=e.scrollCache,i=this.edgeThreshold,a=i-e.distance,d=a*a/(i*i)*this.maxVelocity*t,m=1;switch(e.name){case"left":m=-1;case"right":r.setScrollLeft(r.getScrollLeft()+d*m);break;case"top":m=-1;case"bottom":r.setScrollTop(r.getScrollTop()+d*m)}},n.prototype.computeBestEdge=function(e,t){for(var r=this.edgeThreshold,i=null,d=0,m=this.scrollCaches||[];d<m.length;d++){var b=m[d],C=b.clientRect,R=e-C.left,P=C.right-e,Z=t-C.top,Q=C.bottom-t;R>=0&&P>=0&&Z>=0&&Q>=0&&(Z<=r&&this.everMovedUp&&b.canScrollUp()&&(!i||i.distance>Z)&&(i={scrollCache:b,name:"top",distance:Z}),Q<=r&&this.everMovedDown&&b.canScrollDown()&&(!i||i.distance>Q)&&(i={scrollCache:b,name:"bottom",distance:Q}),R<=r&&this.everMovedLeft&&b.canScrollLeft()&&(!i||i.distance>R)&&(i={scrollCache:b,name:"left",distance:R}),P<=r&&this.everMovedRight&&b.canScrollRight()&&(!i||i.distance>P)&&(i={scrollCache:b,name:"right",distance:P}))}return i},n.prototype.buildCaches=function(e){return this.queryScrollEls(e).map(function(t){return t===window?new VT(!1):new qA(t,!1)})},n.prototype.queryScrollEls=function(e){for(var t=[],r=0,i=this.scrollQuery;r<i.length;r++){var a=i[r];"object"==typeof a?t.push(a):t.push.apply(t,Array.prototype.slice.call((0,ie.getElRoot)(e).querySelectorAll(a)))}return t},n}(),Xc=function(n){function e(t,r){var i=n.call(this,t)||this;i.containerEl=t,i.delay=null,i.minDistance=0,i.touchScrollAllowed=!0,i.mirrorNeedsRevert=!1,i.isInteracting=!1,i.isDragging=!1,i.isDelayEnded=!1,i.isDistanceSurpassed=!1,i.delayTimeoutId=null,i.onPointerDown=function(d){i.isDragging||(i.isInteracting=!0,i.isDelayEnded=!1,i.isDistanceSurpassed=!1,(0,ie.preventSelection)(document.body),(0,ie.preventContextMenu)(document.body),d.isTouch||d.origEvent.preventDefault(),i.emitter.trigger("pointerdown",d),i.isInteracting&&!i.pointer.shouldIgnoreMove&&(i.mirror.setIsVisible(!1),i.mirror.start(d.subjectEl,d.pageX,d.pageY),i.startDelay(d),i.minDistance||i.handleDistanceSurpassed(d)))},i.onPointerMove=function(d){if(i.isInteracting){if(i.emitter.trigger("pointermove",d),!i.isDistanceSurpassed){var m=i.minDistance,C=d.deltaX,R=d.deltaY;C*C+R*R>=m*m&&i.handleDistanceSurpassed(d)}i.isDragging&&("scroll"!==d.origEvent.type&&(i.mirror.handleMove(d.pageX,d.pageY),i.autoScroller.handleMove(d.pageX,d.pageY)),i.emitter.trigger("dragmove",d))}},i.onPointerUp=function(d){i.isInteracting&&(i.isInteracting=!1,(0,ie.allowSelection)(document.body),(0,ie.allowContextMenu)(document.body),i.emitter.trigger("pointerup",d),i.isDragging&&(i.autoScroller.stop(),i.tryStopDrag(d)),i.delayTimeoutId&&(clearTimeout(i.delayTimeoutId),i.delayTimeoutId=null))};var a=i.pointer=new T_(t);return a.emitter.on("pointerdown",i.onPointerDown),a.emitter.on("pointermove",i.onPointerMove),a.emitter.on("pointerup",i.onPointerUp),r&&(a.selector=r),i.mirror=new Op,i.autoScroller=new ZA,i}return(0,$t.__extends)(e,n),e.prototype.destroy=function(){this.pointer.destroy(),this.onPointerUp({})},e.prototype.startDelay=function(t){var r=this;"number"==typeof this.delay?this.delayTimeoutId=setTimeout(function(){r.delayTimeoutId=null,r.handleDelayEnd(t)},this.delay):this.handleDelayEnd(t)},e.prototype.handleDelayEnd=function(t){this.isDelayEnded=!0,this.tryStartDrag(t)},e.prototype.handleDistanceSurpassed=function(t){this.isDistanceSurpassed=!0,this.tryStartDrag(t)},e.prototype.tryStartDrag=function(t){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(t.pageX,t.pageY,this.containerEl),this.emitter.trigger("dragstart",t),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll())},e.prototype.tryStopDrag=function(t){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,t))},e.prototype.stopDrag=function(t){this.isDragging=!1,this.emitter.trigger("dragend",t)},e.prototype.setIgnoreMove=function(t){this.pointer.shouldIgnoreMove=t},e.prototype.setMirrorIsVisible=function(t){this.mirror.setIsVisible(t)},e.prototype.setMirrorNeedsRevert=function(t){this.mirrorNeedsRevert=t},e.prototype.setAutoScrollEnabled=function(t){this.autoScroller.isEnabled=t},e}(ie.ElementDragging),$A=function(){function n(e){this.origRect=(0,ie.computeRect)(e),this.scrollCaches=(0,ie.getClippingParents)(e).map(function(t){return new qA(t,!0)})}return n.prototype.destroy=function(){for(var e=0,t=this.scrollCaches;e<t.length;e++)t[e].destroy()},n.prototype.computeLeft=function(){for(var e=this.origRect.left,t=0,r=this.scrollCaches;t<r.length;t++){var i=r[t];e+=i.origScrollLeft-i.getScrollLeft()}return e},n.prototype.computeTop=function(){for(var e=this.origRect.top,t=0,r=this.scrollCaches;t<r.length;t++){var i=r[t];e+=i.origScrollTop-i.getScrollTop()}return e},n.prototype.isWithinClipping=function(e,t){for(var r={left:e,top:t},i=0,a=this.scrollCaches;i<a.length;i++){var d=a[i];if(!BT(d.getEventTarget())&&!(0,ie.pointInsideRect)(r,d.clientRect))return!1}return!0},n}();function BT(n){var e=n.tagName;return"HTML"===e||"BODY"===e}var kf=function(){function n(e,t){var r=this;this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=function(i){var a=r.dragging;r.initialHit=null,r.movingHit=null,r.finalHit=null,r.prepareHits(),r.processFirstCoord(i),r.initialHit||!r.requireInitial?(a.setIgnoreMove(!1),r.emitter.trigger("pointerdown",i)):a.setIgnoreMove(!0)},this.handleDragStart=function(i){r.emitter.trigger("dragstart",i),r.handleMove(i,!0)},this.handleDragMove=function(i){r.emitter.trigger("dragmove",i),r.handleMove(i)},this.handlePointerUp=function(i){r.releaseHits(),r.emitter.trigger("pointerup",i)},this.handleDragEnd=function(i){r.movingHit&&r.emitter.trigger("hitupdate",null,!0,i),r.finalHit=r.movingHit,r.movingHit=null,r.emitter.trigger("dragend",i)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new ie.Emitter}return n.prototype.processFirstCoord=function(e){var a,t={left:e.pageX,top:e.pageY},r=t,i=e.subjectEl;i instanceof HTMLElement&&(a=(0,ie.computeRect)(i),r=(0,ie.constrainPoint)(r,a));var d=this.initialHit=this.queryHitForOffset(r.left,r.top);if(d){if(this.useSubjectCenter&&a){var m=(0,ie.intersectRects)(a,d.rect);m&&(r=(0,ie.getRectCenter)(m))}this.coordAdjust=(0,ie.diffPoints)(r,t)}else this.coordAdjust={left:0,top:0}},n.prototype.handleMove=function(e,t){var r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!Gm(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))},n.prototype.prepareHits=function(){this.offsetTrackers=(0,ie.mapHash)(this.droppableStore,function(e){return e.component.prepareHits(),new $A(e.el)})},n.prototype.releaseHits=function(){var e=this.offsetTrackers;for(var t in e)e[t].destroy();this.offsetTrackers={}},n.prototype.queryHitForOffset=function(e,t){var i=this.droppableStore,a=this.offsetTrackers,d=null;for(var m in i){var b=i[m].component,C=a[m];if(C&&C.isWithinClipping(e,t)){var R=C.computeLeft(),P=C.computeTop(),Z=e-R,Q=t-P,te=C.origRect,Se=te.right-te.left,rt=te.bottom-te.top;if(Z>=0&&Z<Se&&Q>=0&&Q<rt){var ot=b.queryHit(Z,Q,Se,rt);ot&&(0,ie.rangeContainsRange)(ot.dateProfile.activeRange,ot.dateSpan.range)&&(!d||ot.layer>d.layer)&&(ot.componentId=m,ot.context=b.context,ot.rect.left+=R,ot.rect.right+=R,ot.rect.top+=P,ot.rect.bottom+=P,d=ot)}}}return d},n}();function Gm(n,e){return!n&&!e||Boolean(n)===Boolean(e)&&(0,ie.isDateSpansEqual)(n.dateSpan,e.dateSpan)}function I_(n,e){for(var t={},r=0,i=e.pluginHooks.datePointTransforms;r<i.length;r++)(0,$t.__assign)(t,(0,i[r])(n,e));return(0,$t.__assign)(t,function JM(n,e){return{date:e.toDate(n.range.start),dateStr:e.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}(n,e.dateEnv)),t}var XM=function(n){function e(t){var r=n.call(this,t)||this;r.handlePointerDown=function(a){r.dragging.setIgnoreMove(!r.component.isValidDateDownEl(a.origEvent.target))},r.handleDragEnd=function(a){var d=r.component;if(!r.dragging.pointer.wasTouchScroll){var b=r.hitDragging,C=b.initialHit,R=b.finalHit;if(C&&R&&Gm(C,R)){var P=d.context,Z=(0,$t.__assign)((0,$t.__assign)({},I_(C.dateSpan,P)),{dayEl:C.dayEl,jsEvent:a.origEvent,view:P.viewApi||P.calendarApi.view});P.emitter.trigger("dateClick",Z)}}},r.dragging=new Xc(t.el),r.dragging.autoScroller.isEnabled=!1;var i=r.hitDragging=new kf(r.dragging,(0,ie.interactionSettingsToStore)(t));return i.emitter.on("pointerdown",r.handlePointerDown),i.emitter.on("dragend",r.handleDragEnd),r}return(0,$t.__extends)(e,n),e.prototype.destroy=function(){this.dragging.destroy()},e}(ie.Interaction),e1=function(n){function e(t){var r=n.call(this,t)||this;r.dragSelection=null,r.handlePointerDown=function(b){var R=r.component,P=r.dragging,Q=R.context.options.selectable&&R.isValidDateDownEl(b.origEvent.target);P.setIgnoreMove(!Q),P.delay=b.isTouch?function t1(n){var e=n.context.options,t=e.selectLongPressDelay;return null==t&&(t=e.longPressDelay),t}(R):null},r.handleDragStart=function(b){r.component.context.calendarApi.unselect(b)},r.handleHitUpdate=function(b,C){var R=r.component.context,P=null,Z=!1;if(b){var Q=r.hitDragging.initialHit;b.componentId===Q.componentId&&r.isHitComboAllowed&&!r.isHitComboAllowed(Q,b)||(P=function KA(n,e,t){var r=n.dateSpan,i=e.dateSpan,a=[r.range.start,r.range.end,i.range.start,i.range.end];a.sort(ie.compareNumbers);for(var d={},m=0,b=t;m<b.length;m++){var R=(0,b[m])(n,e);if(!1===R)return null;R&&(0,$t.__assign)(d,R)}return d.range={start:a[0],end:a[3]},d.allDay=r.allDay,d}(Q,b,R.pluginHooks.dateSelectionTransformers)),(!P||!(0,ie.isDateSelectionValid)(P,b.dateProfile,R))&&(Z=!0,P=null)}P?R.dispatch({type:"SELECT_DATES",selection:P}):C||R.dispatch({type:"UNSELECT_DATES"}),Z?(0,ie.disableCursor)():(0,ie.enableCursor)(),C||(r.dragSelection=P)},r.handlePointerUp=function(b){r.dragSelection&&((0,ie.triggerDateSelect)(r.dragSelection,b,r.component.context),r.dragSelection=null)};var a=t.component.context.options,d=r.dragging=new Xc(t.el);d.touchScrollAllowed=!1,d.minDistance=a.selectMinDistance||0,d.autoScroller.isEnabled=a.dragScroll;var m=r.hitDragging=new kf(r.dragging,(0,ie.interactionSettingsToStore)(t));return m.emitter.on("pointerdown",r.handlePointerDown),m.emitter.on("dragstart",r.handleDragStart),m.emitter.on("hitupdate",r.handleHitUpdate),m.emitter.on("pointerup",r.handlePointerUp),r}return(0,$t.__extends)(e,n),e.prototype.destroy=function(){this.dragging.destroy()},e}(ie.Interaction),Fp=function(n){function e(t){var r=n.call(this,t)||this;r.subjectEl=null,r.subjectSeg=null,r.isDragging=!1,r.eventRange=null,r.relevantEvents=null,r.receivingContext=null,r.validMutation=null,r.mutatedRelevantEvents=null,r.handlePointerDown=function(b){var C=b.origEvent.target,P=r.component,Z=r.dragging,Q=Z.mirror,te=P.context.options,Se=P.context;r.subjectEl=b.subjectEl;var rt=r.subjectSeg=(0,ie.getElSeg)(b.subjectEl),yt=(r.eventRange=rt.eventRange).instance.instanceId;r.relevantEvents=(0,ie.getRelevantEvents)(Se.getCurrentData().eventStore,yt),Z.minDistance=b.isTouch?0:te.eventDragMinDistance,Z.delay=b.isTouch&&yt!==P.props.eventSelection?function HT(n){var e=n.context.options,t=e.eventLongPressDelay;return null==t&&(t=e.longPressDelay),t}(P):null,Q.parentNode=te.fixedMirrorParent?te.fixedMirrorParent:(0,ie.elementClosest)(C,".fc"),Q.revertDuration=te.dragRevertDuration;var Mt=P.isValidSegDownEl(C)&&!(0,ie.elementClosest)(C,".fc-event-resizer");Z.setIgnoreMove(!Mt),r.isDragging=Mt&&b.subjectEl.classList.contains("fc-event-draggable")},r.handleDragStart=function(b){var C=r.component.context,R=r.eventRange,P=R.instance.instanceId;b.isTouch?P!==r.component.props.eventSelection&&C.dispatch({type:"SELECT_EVENT",eventInstanceId:P}):C.dispatch({type:"UNSELECT_EVENT"}),r.isDragging&&(C.calendarApi.unselect(b),C.emitter.trigger("eventDragStart",{el:r.subjectEl,event:new ie.EventApi(C,R.def,R.instance),jsEvent:b.origEvent,view:C.viewApi}))},r.handleHitUpdate=function(b,C){if(r.isDragging){var R=r.relevantEvents,P=r.hitDragging.initialHit,Z=r.component.context,Q=null,te=null,Se=null,rt=!1,ot={affectedEvents:R,mutatedEvents:(0,ie.createEmptyEventStore)(),isEvent:!0};if(b){var yt=(Q=b.context).options;Z===Q||yt.editable&&yt.droppable?(te=function UT(n,e,t){var r=n.dateSpan,i=e.dateSpan,a=r.range.start,d=i.range.start,m={};r.allDay!==i.allDay&&(m.allDay=i.allDay,m.hasEnd=e.context.options.allDayMaintainDuration,i.allDay&&(a=(0,ie.startOfDay)(a)));var b=(0,ie.diffDates)(a,d,n.context.dateEnv,n.componentId===e.componentId?n.largeUnit:null);b.milliseconds&&(m.allDay=!1);for(var C={datesDelta:b,standardProps:m},R=0,P=t;R<P.length;R++)(0,P[R])(C,n,e);return C}(P,b,Q.getCurrentData().pluginHooks.eventDragMutationMassagers),te&&(Se=(0,ie.applyMutationToEventStore)(R,Q.getCurrentData().eventUiBases,te,Q),ot.mutatedEvents=Se,(0,ie.isInteractionValid)(ot,b.dateProfile,Q)||(rt=!0,te=null,Se=null,ot.mutatedEvents=(0,ie.createEmptyEventStore)()))):Q=null}r.displayDrag(Q,ot),rt?(0,ie.disableCursor)():(0,ie.enableCursor)(),C||(Z===Q&&Gm(P,b)&&(te=null),r.dragging.setMirrorNeedsRevert(!te),r.dragging.setMirrorIsVisible(!b||!(0,ie.getElRoot)(r.subjectEl).querySelector(".fc-event-mirror")),r.receivingContext=Q,r.validMutation=te,r.mutatedRelevantEvents=Se)}},r.handlePointerUp=function(){r.isDragging||r.cleanup()},r.handleDragEnd=function(b){if(r.isDragging){var C=r.component.context,R=C.viewApi,Z=r.receivingContext,Q=r.validMutation,te=r.eventRange.def,Se=r.eventRange.instance,rt=new ie.EventApi(C,te,Se),ot=r.relevantEvents,yt=r.mutatedRelevantEvents,Mt=r.hitDragging.finalHit;if(r.clearDrag(),C.emitter.trigger("eventDragStop",{el:r.subjectEl,event:rt,jsEvent:b.origEvent,view:R}),Q){if(Z===C){var wt=new ie.EventApi(C,yt.defs[te.defId],Se?yt.instances[Se.instanceId]:null);C.dispatch({type:"MERGE_EVENTS",eventStore:yt});for(var mn={oldEvent:rt,event:wt,relatedEvents:(0,ie.buildEventApis)(yt,C,Se),revert:function(){C.dispatch({type:"MERGE_EVENTS",eventStore:ot})}},pn={},Bn=0,Un=C.getCurrentData().pluginHooks.eventDropTransformers;Bn<Un.length;Bn++)(0,$t.__assign)(pn,(0,Un[Bn])(Q,C));C.emitter.trigger("eventDrop",(0,$t.__assign)((0,$t.__assign)((0,$t.__assign)({},mn),pn),{el:b.subjectEl,delta:Q.datesDelta,jsEvent:b.origEvent,view:R})),C.emitter.trigger("eventChange",mn)}else if(Z){var Fo={event:rt,relatedEvents:(0,ie.buildEventApis)(ot,C,Se),revert:function(){C.dispatch({type:"MERGE_EVENTS",eventStore:ot})}};C.emitter.trigger("eventLeave",(0,$t.__assign)((0,$t.__assign)({},Fo),{draggedEl:b.subjectEl,view:R})),C.dispatch({type:"REMOVE_EVENTS",eventStore:ot}),C.emitter.trigger("eventRemove",Fo);var is=yt.instances[Se.instanceId],nu=new ie.EventApi(Z,yt.defs[te.defId],is);Z.dispatch({type:"MERGE_EVENTS",eventStore:yt});var Tg={event:nu,relatedEvents:(0,ie.buildEventApis)(yt,Z,is),revert:function(){Z.dispatch({type:"REMOVE_EVENTS",eventStore:yt})}};Z.emitter.trigger("eventAdd",Tg),b.isTouch&&Z.dispatch({type:"SELECT_EVENT",eventInstanceId:Se.instanceId}),Z.emitter.trigger("drop",(0,$t.__assign)((0,$t.__assign)({},I_(Mt.dateSpan,Z)),{draggedEl:b.subjectEl,jsEvent:b.origEvent,view:Mt.context.viewApi})),Z.emitter.trigger("eventReceive",(0,$t.__assign)((0,$t.__assign)({},Tg),{draggedEl:b.subjectEl,view:Mt.context.viewApi}))}}else C.emitter.trigger("_noEventDrop")}r.cleanup()};var a=r.component.context.options,d=r.dragging=new Xc(t.el);d.pointer.selector=e.SELECTOR,d.touchScrollAllowed=!1,d.autoScroller.isEnabled=a.dragScroll;var m=r.hitDragging=new kf(r.dragging,ie.interactionSettingsStore);return m.useSubjectCenter=t.useEventCenter,m.emitter.on("pointerdown",r.handlePointerDown),m.emitter.on("dragstart",r.handleDragStart),m.emitter.on("hitupdate",r.handleHitUpdate),m.emitter.on("pointerup",r.handlePointerUp),m.emitter.on("dragend",r.handleDragEnd),r}return(0,$t.__extends)(e,n),e.prototype.destroy=function(){this.dragging.destroy()},e.prototype.displayDrag=function(t,r){var a=this.receivingContext;a&&a!==t&&a.dispatch(a===this.component.context?{type:"SET_EVENT_DRAG",state:{affectedEvents:r.affectedEvents,mutatedEvents:(0,ie.createEmptyEventStore)(),isEvent:!0}}:{type:"UNSET_EVENT_DRAG"}),t&&t.dispatch({type:"SET_EVENT_DRAG",state:r})},e.prototype.clearDrag=function(){var t=this.component.context,r=this.receivingContext;r&&r.dispatch({type:"UNSET_EVENT_DRAG"}),t!==r&&t.dispatch({type:"UNSET_EVENT_DRAG"})},e.prototype.cleanup=function(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null},e.SELECTOR=".fc-event-draggable, .fc-event-resizable",e}(ie.Interaction),YA=function(n){function e(t){var r=n.call(this,t)||this;r.draggingSegEl=null,r.draggingSeg=null,r.eventRange=null,r.relevantEvents=null,r.validMutation=null,r.mutatedRelevantEvents=null,r.handlePointerDown=function(m){var b=r.component,C=r.querySegEl(m),R=(0,ie.getElSeg)(C),P=r.eventRange=R.eventRange;r.dragging.minDistance=b.context.options.eventDragMinDistance,r.dragging.setIgnoreMove(!r.component.isValidSegDownEl(m.origEvent.target)||m.isTouch&&r.component.props.eventSelection!==P.instance.instanceId)},r.handleDragStart=function(m){var b=r.component.context,C=r.eventRange;r.relevantEvents=(0,ie.getRelevantEvents)(b.getCurrentData().eventStore,r.eventRange.instance.instanceId);var R=r.querySegEl(m);r.draggingSegEl=R,r.draggingSeg=(0,ie.getElSeg)(R),b.calendarApi.unselect(),b.emitter.trigger("eventResizeStart",{el:R,event:new ie.EventApi(b,C.def,C.instance),jsEvent:m.origEvent,view:b.viewApi})},r.handleHitUpdate=function(m,b,C){var R=r.component.context,P=r.relevantEvents,Z=r.hitDragging.initialHit,Q=r.eventRange.instance,te=null,Se=null,rt=!1,ot={affectedEvents:P,mutatedEvents:(0,ie.createEmptyEventStore)(),isEvent:!0};m&&(m.componentId===Z.componentId&&r.isHitComboAllowed&&!r.isHitComboAllowed(Z,m)||(te=function Lp(n,e,t,r){var i=n.context.dateEnv,m=(0,ie.diffDates)(n.dateSpan.range.start,e.dateSpan.range.start,i,n.largeUnit);if(t){if(i.add(r.start,m)<r.end)return{startDelta:m}}else if(i.add(r.end,m)>r.start)return{endDelta:m};return null}(Z,m,C.subjectEl.classList.contains("fc-event-resizer-start"),Q.range))),te&&(Se=(0,ie.applyMutationToEventStore)(P,R.getCurrentData().eventUiBases,te,R),ot.mutatedEvents=Se,(0,ie.isInteractionValid)(ot,m.dateProfile,R)||(rt=!0,te=null,Se=null,ot.mutatedEvents=null)),R.dispatch(Se?{type:"SET_EVENT_RESIZE",state:ot}:{type:"UNSET_EVENT_RESIZE"}),rt?(0,ie.disableCursor)():(0,ie.enableCursor)(),b||(te&&Gm(Z,m)&&(te=null),r.validMutation=te,r.mutatedRelevantEvents=Se)},r.handleDragEnd=function(m){var b=r.component.context,C=r.eventRange.def,R=r.eventRange.instance,P=new ie.EventApi(b,C,R),Z=r.relevantEvents,Q=r.mutatedRelevantEvents;if(b.emitter.trigger("eventResizeStop",{el:r.draggingSegEl,event:P,jsEvent:m.origEvent,view:b.viewApi}),r.validMutation){var te=new ie.EventApi(b,Q.defs[C.defId],R?Q.instances[R.instanceId]:null);b.dispatch({type:"MERGE_EVENTS",eventStore:Q});var Se={oldEvent:P,event:te,relatedEvents:(0,ie.buildEventApis)(Q,b,R),revert:function(){b.dispatch({type:"MERGE_EVENTS",eventStore:Z})}};b.emitter.trigger("eventResize",(0,$t.__assign)((0,$t.__assign)({},Se),{el:r.draggingSegEl,startDelta:r.validMutation.startDelta||(0,ie.createDuration)(0),endDelta:r.validMutation.endDelta||(0,ie.createDuration)(0),jsEvent:m.origEvent,view:b.viewApi})),b.emitter.trigger("eventChange",Se)}else b.emitter.trigger("_noEventResize");r.draggingSeg=null,r.relevantEvents=null,r.validMutation=null};var i=t.component,a=r.dragging=new Xc(t.el);a.pointer.selector=".fc-event-resizer",a.touchScrollAllowed=!1,a.autoScroller.isEnabled=i.context.options.dragScroll;var d=r.hitDragging=new kf(r.dragging,(0,ie.interactionSettingsToStore)(t));return d.emitter.on("pointerdown",r.handlePointerDown),d.emitter.on("dragstart",r.handleDragStart),d.emitter.on("hitupdate",r.handleHitUpdate),d.emitter.on("dragend",r.handleDragEnd),r}return(0,$t.__extends)(e,n),e.prototype.destroy=function(){this.dragging.destroy()},e.prototype.querySegEl=function(t){return(0,ie.elementClosest)(t.subjectEl,".fc-event")},e}(ie.Interaction),jT=function(){function n(e){var t=this;this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=function(i){i.jsEvent&&(t.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=function(i){var a=t.context.options.unselectCancel,d=(0,ie.getEventTargetViaRoot)(i.origEvent);t.matchesCancel=!!(0,ie.elementClosest)(d,a),t.matchesEvent=!!(0,ie.elementClosest)(d,Fp.SELECTOR)},this.onDocumentPointerUp=function(i){var a=t.context,d=t.documentPointer,m=a.getCurrentData();if(!d.wasTouchScroll){if(m.dateSelection&&!t.isRecentPointerDateSelect){var b=a.options.unselectAuto;b&&(!b||!t.matchesCancel)&&a.calendarApi.unselect(i)}m.eventSelection&&!t.matchesEvent&&a.dispatch({type:"UNSELECT_EVENT"})}t.isRecentPointerDateSelect=!1};var r=this.documentPointer=new T_(document);r.shouldIgnoreMove=!0,r.shouldWatchScroll=!1,r.emitter.on("pointerdown",this.onDocumentPointerDown),r.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}return n.prototype.destroy=function(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()},n}(),GT={fixedMirrorParent:ie.identity},zT={dateClick:ie.identity,eventDragStart:ie.identity,eventDragStop:ie.identity,eventDrop:ie.identity,eventResizeStart:ie.identity,eventResizeStop:ie.identity,eventResize:ie.identity,drop:ie.identity,eventReceive:ie.identity,eventLeave:ie.identity};!function(){function n(e,t){var r=this;this.receivingContext=null,this.droppableEvent=null,this.suppliedDragMeta=null,this.dragMeta=null,this.handleDragStart=function(a){r.dragMeta=r.buildDragMeta(a.subjectEl)},this.handleHitUpdate=function(a,d,m){var b=r.hitDragging.dragging,C=null,R=null,P=!1,Z={affectedEvents:(0,ie.createEmptyEventStore)(),mutatedEvents:(0,ie.createEmptyEventStore)(),isEvent:r.dragMeta.create};a&&r.canDropElOnCalendar(m.subjectEl,C=a.context)&&(R=function qT(n,e,t){for(var r=(0,$t.__assign)({},e.leftoverProps),i=0,a=t.pluginHooks.externalDefTransforms;i<a.length;i++)(0,$t.__assign)(r,(0,a[i])(n,e));var m=(0,ie.refineEventDef)(r,t),R=(0,ie.parseEventDef)(m.refined,m.extra,e.sourceId,n.allDay,t.options.forceEventDuration||Boolean(e.duration),t),P=n.range.start;n.allDay&&e.startTime&&(P=t.dateEnv.add(P,e.startTime));var Z=e.duration?t.dateEnv.add(P,e.duration):(0,ie.getDefaultEventEnd)(n.allDay,P,t);return{def:R,instance:(0,ie.createEventInstance)(R.defId,{start:P,end:Z})}}(a.dateSpan,r.dragMeta,C),Z.mutatedEvents=(0,ie.eventTupleToStore)(R),(P=!(0,ie.isInteractionValid)(Z,a.dateProfile,C))&&(Z.mutatedEvents=(0,ie.createEmptyEventStore)(),R=null)),r.displayDrag(C,Z),b.setMirrorIsVisible(d||!R||!document.querySelector(".fc-event-mirror")),P?(0,ie.disableCursor)():(0,ie.enableCursor)(),d||(b.setMirrorNeedsRevert(!R),r.receivingContext=C,r.droppableEvent=R)},this.handleDragEnd=function(a){var m=r.receivingContext,b=r.droppableEvent;if(r.clearDrag(),m&&b){var C=r.hitDragging.finalHit,R=C.context.viewApi,P=r.dragMeta;if(m.emitter.trigger("drop",(0,$t.__assign)((0,$t.__assign)({},I_(C.dateSpan,m)),{draggedEl:a.subjectEl,jsEvent:a.origEvent,view:R})),P.create){var Z=(0,ie.eventTupleToStore)(b);m.dispatch({type:"MERGE_EVENTS",eventStore:Z}),a.isTouch&&m.dispatch({type:"SELECT_EVENT",eventInstanceId:b.instance.instanceId}),m.emitter.trigger("eventReceive",{event:new ie.EventApi(m,b.def,b.instance),relatedEvents:[],revert:function(){m.dispatch({type:"REMOVE_EVENTS",eventStore:Z})},draggedEl:a.subjectEl,view:R})}}r.receivingContext=null,r.droppableEvent=null};var i=this.hitDragging=new kf(e,ie.interactionSettingsStore);i.requireInitial=!1,i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd),this.suppliedDragMeta=t}n.prototype.buildDragMeta=function(e){return"object"==typeof this.suppliedDragMeta?(0,ie.parseDragMeta)(this.suppliedDragMeta):"function"==typeof this.suppliedDragMeta?(0,ie.parseDragMeta)(this.suppliedDragMeta(e)):function JA(n){var e=function WT(n,e){var t=ie.config.dataAttrPrefix;return n.getAttribute("data-"+(t?t+"-":"")+e)||""}(n,"event"),t=e?JSON.parse(e):{create:!1};return(0,ie.parseDragMeta)(t)}(e)},n.prototype.displayDrag=function(e,t){var r=this.receivingContext;r&&r!==e&&r.dispatch({type:"UNSET_EVENT_DRAG"}),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})},n.prototype.clearDrag=function(){this.receivingContext&&this.receivingContext.dispatch({type:"UNSET_EVENT_DRAG"})},n.prototype.canDropElOnCalendar=function(e,t){var r=t.options.dropAccept;return"function"==typeof r?r.call(t.calendarApi,e):"string"!=typeof r||!r||Boolean((0,ie.elementMatches)(e,r))}}();ie.config.dataAttrPrefix="";!function(n){function e(t){var r=n.call(this,t)||this;r.shouldIgnoreMove=!1,r.mirrorSelector="",r.currentMirrorEl=null,r.handlePointerDown=function(a){r.emitter.trigger("pointerdown",a),r.shouldIgnoreMove||r.emitter.trigger("dragstart",a)},r.handlePointerMove=function(a){r.shouldIgnoreMove||r.emitter.trigger("dragmove",a)},r.handlePointerUp=function(a){r.emitter.trigger("pointerup",a),r.shouldIgnoreMove||r.emitter.trigger("dragend",a)};var i=r.pointer=new T_(t);return i.emitter.on("pointerdown",r.handlePointerDown),i.emitter.on("pointermove",r.handlePointerMove),i.emitter.on("pointerup",r.handlePointerUp),r}(0,$t.__extends)(e,n),e.prototype.destroy=function(){this.pointer.destroy()},e.prototype.setIgnoreMove=function(t){this.shouldIgnoreMove=t},e.prototype.setMirrorIsVisible=function(t){if(t)this.currentMirrorEl&&(this.currentMirrorEl.style.visibility="",this.currentMirrorEl=null);else{var r=this.mirrorSelector?document.querySelector(this.mirrorSelector):null;r&&(this.currentMirrorEl=r,r.style.visibility="hidden")}}}(ie.ElementDragging);const ew=(0,ie.createPlugin)({componentInteractions:[XM,e1,Fp,YA],calendarInteractions:[jT],elementDraggingImpl:Xc,optionRefiners:GT,listenerRefiners:zT}),S_=["toast-component",""];function ZT(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",5),u.NdJ("click",function(){return u.CHM(t),u.oxw().remove()}),u.TgZ(1,"span",6),u._uU(2,"\xd7"),u.qZA()()}}function tw(n,e){if(1&n&&(u.ynx(0),u._uU(1),u.BQk()),2&n){const t=u.oxw(2);u.xp6(1),u.hij("[",t.duplicatesCount+1,"]")}}function $T(n,e){if(1&n&&(u.TgZ(0,"div"),u._uU(1),u.YNc(2,tw,2,1,"ng-container",4),u.qZA()),2&n){const t=u.oxw();u.Tol(t.options.titleClass),u.uIk("aria-label",t.title),u.xp6(1),u.hij(" ",t.title," "),u.xp6(1),u.Q6J("ngIf",t.duplicatesCount)}}function x_(n,e){if(1&n&&u._UZ(0,"div",7),2&n){const t=u.oxw();u.Tol(t.options.messageClass),u.Q6J("innerHTML",t.message,u.oJD)}}function KT(n,e){if(1&n&&(u.TgZ(0,"div",8),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.Tol(t.options.messageClass),u.uIk("aria-label",t.message),u.xp6(1),u.hij(" ",t.message," ")}}function nw(n,e){if(1&n&&(u.TgZ(0,"div"),u._UZ(1,"div",9),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Udp("width",t.width+"%")}}function rw(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",5),u.NdJ("click",function(){return u.CHM(t),u.oxw().remove()}),u.TgZ(1,"span",6),u._uU(2,"\xd7"),u.qZA()()}}function YT(n,e){if(1&n&&(u.ynx(0),u._uU(1),u.BQk()),2&n){const t=u.oxw(2);u.xp6(1),u.hij("[",t.duplicatesCount+1,"]")}}function QT(n,e){if(1&n&&(u.TgZ(0,"div"),u._uU(1),u.YNc(2,YT,2,1,"ng-container",4),u.qZA()),2&n){const t=u.oxw();u.Tol(t.options.titleClass),u.uIk("aria-label",t.title),u.xp6(1),u.hij(" ",t.title," "),u.xp6(1),u.Q6J("ngIf",t.duplicatesCount)}}function JT(n,e){if(1&n&&u._UZ(0,"div",7),2&n){const t=u.oxw();u.Tol(t.options.messageClass),u.Q6J("innerHTML",t.message,u.oJD)}}function M_(n,e){if(1&n&&(u.TgZ(0,"div",8),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.Tol(t.options.messageClass),u.uIk("aria-label",t.message),u.xp6(1),u.hij(" ",t.message," ")}}function XT(n,e){if(1&n&&(u.TgZ(0,"div"),u._UZ(1,"div",9),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Udp("width",t.width+"%")}}class tI{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class zm{constructor(e,t,r,i,a,d){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=a,this.toastRef=d,this._onTap=new jr.x,this._onAction=new jr.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const iw={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},ow=new u.OlP("ToastConfig");class rI{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new jr.x,this._activate=new jr.x,this._manualClose=new jr.x,this._resetTimeout=new jr.x,this._countDuplicate=new jr.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class iI{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,r){return e===zm?this._toastPackage:this._parentInjector.get(e,t,r)}}class sw extends class nI{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class aw{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let oI=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ee))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sI=(()=>{class n{constructor(t,r,i,a){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=i,this._document=a,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new sw(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new aw(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(oI),u.LFG(u._Vd),u.LFG(u.z2F),u.LFG(Ee))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zu=(()=>{class n{constructor(t,r,i,a,d){this.overlay=r,this._injector=i,this.sanitizer=a,this.ngZone=d,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,r,i={},a=""){return this._preBuildNotification(a,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,a){const{includeTitleDuplicates:d}=this.toastrConfig;for(const m of this.toasts){const b=d&&m.title===t;if((!d||b)&&m.message===r)return m.toastRef.onDuplicate(i,a),m}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,a){return a.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,a)):this._buildNotification(t,r,i,a)}_buildNotification(t,r,i,a){if(!a.toastComponent)throw new Error("toastComponent required");const d=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&a.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==d)return d;this.previousToastMessage=r;let m=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(m=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const b=this.overlay.create(a.positionClass,this.overlayContainer);this.index=this.index+1;let C=r;r&&a.enableHtml&&(C=this.sanitizer.sanitize(u.q3G.HTML,r));const R=new rI(b),P=new zm(this.index,a,C,i,t,R),Z=new iI(P,this._injector),Q=new tI(a.toastComponent,Z),te=b.attach(Q,this.toastrConfig.newestOnTop);R.componentInstance=te.instance;const Se={toastId:this.index,title:i||"",message:r||"",toastRef:R,onShown:R.afterActivate(),onHidden:R.afterClosed(),onTap:P.onTap(),onAction:P.onAction(),portal:te};return m||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Se.toastRef.activate()})),this.toasts.push(Se),Se}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ow),u.LFG(sI),u.LFG(u.zs3),u.LFG(wl),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aI=(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(a=>{this.duplicatesCount=a})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Zu),u.Y36(zm),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&u.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(u.d8E("@flyInOut",r.state),u.Tol(r.toastClasses),u.Udp("display",r.displayStyle))},attrs:S_,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(u.YNc(0,ZT,3,0,"button",0),u.YNc(1,$T,3,5,"div",1),u.YNc(2,x_,1,3,"div",2),u.YNc(3,KT,2,4,"div",3),u.YNc(4,nw,2,2,"div",4)),2&t&&(u.Q6J("ngIf",r.options.closeButton),u.xp6(1),u.Q6J("ngIf",r.title),u.xp6(1),u.Q6J("ngIf",r.message&&r.options.enableHtml),u.xp6(1),u.Q6J("ngIf",r.message&&!r.options.enableHtml),u.xp6(1),u.Q6J("ngIf",r.options.progressBar))},directives:[fr],encapsulation:2,data:{animation:[zh("flyInOut",[rf("inactive",Vl({opacity:0})),rf("active",Vl({opacity:1})),rf("removed",Vl({opacity:0})),Wh("inactive => active",Ug("{{ easeTime }}ms {{ easing }}")),Wh("active => removed",Ug("{{ easeTime }}ms {{ easing }}"))])]}}),n})();const lI=Object.assign(Object.assign({},iw),{toastComponent:aI});let uI=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:ow,useValue:{default:lI,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Ui]]}),n})(),R_=(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.appRef=i,this.width=-1,this.toastClasses="",this.state="inactive",this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(a=>{this.duplicatesCount=a})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Zu),u.Y36(zm),u.Y36(u.z2F))},n.\u0275cmp=u.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,r){1&t&&u.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(u.Tol(r.toastClasses),u.Udp("display",r.displayStyle))},attrs:S_,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(u.YNc(0,rw,3,0,"button",0),u.YNc(1,QT,3,5,"div",1),u.YNc(2,JT,1,3,"div",2),u.YNc(3,M_,2,4,"div",3),u.YNc(4,XT,2,2,"div",4)),2&t&&(u.Q6J("ngIf",r.options.closeButton),u.xp6(1),u.Q6J("ngIf",r.title),u.xp6(1),u.Q6J("ngIf",r.message&&r.options.enableHtml),u.xp6(1),u.Q6J("ngIf",r.message&&!r.options.enableHtml),u.xp6(1),u.Q6J("ngIf",r.options.progressBar))},directives:[fr],encapsulation:2}),n})();Object.assign(Object.assign({},iw),{toastComponent:R_});var Bp,qm=z(198),Kn=z(2090),sl=z(9681),$u=z(1877),Vp=z(4859),k_=z(127),dI=new Uint8Array(16);function cw(){if(!Bp&&!(Bp="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Bp(dI)}const o1=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Wm=function fI(n){return"string"==typeof n&&o1.test(n)};for(var zi=[],Ku=0;Ku<256;++Ku)zi.push((Ku+256).toString(16).substr(1));const dw=function s1(n,e,t){var r=(n=n||{}).random||(n.rng||cw)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=r[i];return e}return function Up(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(zi[n[e+0]]+zi[n[e+1]]+zi[n[e+2]]+zi[n[e+3]]+"-"+zi[n[e+4]]+zi[n[e+5]]+"-"+zi[n[e+6]]+zi[n[e+7]]+"-"+zi[n[e+8]]+zi[n[e+9]]+"-"+zi[n[e+10]]+zi[n[e+11]]+zi[n[e+12]]+zi[n[e+13]]+zi[n[e+14]]+zi[n[e+15]]).toLowerCase();if(!Wm(t))throw TypeError("Stringified UUID is invalid");return t}(r)},fw={apiKey:"AIzaSyDFtijVvYfE6ttxGGIFosKDTe3x7spSTK4",authDomain:"mindful-c1d5e.firebaseapp.com",projectId:"mindful-c1d5e",storageBucket:"mindful-c1d5e.appspot.com",messagingSenderId:"1085302276666",appId:"1:1085302276666:web:0f2616c0cca84b21f6eb03",measurementId:"G-YZS4H10MCM"},ed={userName:"UserName",preferences:"Preferences"};var N_=z(4986),ni=z(1038);function td(){return(0,no.e)((n,e)=>{let t,r=!1;n.subscribe((0,_i.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function hw(n,e){return n===e}var Yt,$s=z(2011),mI=(z(5881),z(3942)),P_="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Zl={},O_=O_||{},On=P_||self;function $l(){}function Zm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function al(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var $m="closure_uid_"+(1e9*Math.random()>>>0),vI=0;function d1(n,e,t){return n.call.apply(n.bind,arguments)}function pw(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function io(n,e,t){return(io=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d1:pw).apply(null,arguments)}function Hp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function wi(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,a){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[i].apply(r,d)}}function Yu(){this.s=this.s,this.o=this.o}var _I={};Yu.prototype.s=!1,Yu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function c1(n){return Object.prototype.hasOwnProperty.call(n,$m)&&n[$m]||(n[$m]=++vI)}(this);delete _I[n]}},Yu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const gw=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},mw=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let a=0;a<r;a++)a in i&&e.call(t,i[a],a,n)};function vw(n){return Array.prototype.concat.apply([],arguments)}function F_(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Km(n){return/^[\s\xa0]*$/.test(n)}var oo,yw=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ci(n,e){return-1!=n.indexOf(e)}function Ym(n,e){return n<e?-1:n>e?1:0}e:{var L_=On.navigator;if(L_){var V_=L_.userAgent;if(V_){oo=V_;break e}}oo=""}function Qm(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function B_(n){const e={};for(const t in n)e[t]=n[t];return e}var _w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U_(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<_w.length;a++)t=_w[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function H_(n){return H_[" "](n),n}H_[" "]=$l;var Ff,n,AI=Ci(oo,"Opera"),Pf=Ci(oo,"Trident")||Ci(oo,"MSIE"),Of=Ci(oo,"Edge"),j_=Of||Pf,Jm=Ci(oo,"Gecko")&&!(Ci(oo.toLowerCase(),"webkit")&&!Ci(oo,"Edge"))&&!(Ci(oo,"Trident")||Ci(oo,"MSIE"))&&!Ci(oo,"Edge"),ll=Ci(oo.toLowerCase(),"webkit")&&!Ci(oo,"Edge");function bw(){var n=On.document;return n?n.documentMode:void 0}e:{var nd="",G_=(n=oo,Jm?/rv:([^\);]+)(\)|;)/.exec(n):Of?/Edge\/([\d\.]+)/.exec(n):Pf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):ll?/WebKit\/(\S+)/.exec(n):AI?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(G_&&(nd=G_?G_[1]:""),Pf){var z_=bw();if(null!=z_&&z_>parseFloat(nd)){Ff=String(z_);break e}}Ff=nd}var wI={};var CI=On.document&&Pf&&(bw()||parseInt(Ff,10))||void 0,Aw=function(){if(!On.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{On.addEventListener("test",$l,e),On.removeEventListener("test",$l,e)}catch(t){}return n}();function qi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function rd(n,e){if(qi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Jm){e:{try{H_(e.nodeName);var i=!0;break e}catch(a){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ww[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&rd.Z.h.call(this)}}qi.prototype.h=function(){this.defaultPrevented=!0},wi(rd,qi);var ww={2:"touch",3:"pen",4:"mouse"};rd.prototype.h=function(){rd.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var jp="closure_listenable_"+(1e6*Math.random()|0),DI=0;function f1(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++DI,this.ca=this.fa=!1}function Vf(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Bf(n){this.src=n,this.g={},this.h=0}function ev(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=gw(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(Vf(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Gp(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==r)return i}return-1}Bf.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var d=Gp(n,e,r,i);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new f1(e,this.src,a,!!r,i)).fa=t,n.push(e)),e};var zp="closure_lm_"+(1e6*Math.random()|0),q_={};function Cw(n,e,t,r,i){if(r&&r.once)return W_(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)Cw(n,e[a],t,r,i);return null}return t=iv(t),n&&n[jp]?n.N(e,t,al(r)?!!r.capture:!!r,i):Dw(n,e,t,!1,r,i)}function Dw(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var d=al(i)?!!i.capture:!!i,m=rv(n);if(m||(n[zp]=m=new Bf(n)),(t=m.add(e,t,r,d,a)).proxy)return t;if(r=function TI(){var e=Tw;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Aw||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Z_(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function W_(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)W_(n,e[a],t,r,i);return null}return t=iv(t),n&&n[jp]?n.O(e,t,al(r)?!!r.capture:!!r,i):Dw(n,e,t,!0,r,i)}function tv(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)tv(n,e[a],t,r,i);else r=al(r)?!!r.capture:!!r,t=iv(t),n&&n[jp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Gp(a=n.g[e],t,r,i))&&(Vf(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=rv(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Gp(e,t,r,i)),(t=-1<n?e[n]:null)&&nv(t))}function nv(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[jp])ev(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Z_(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=rv(e))?(ev(t,n),0==t.h&&(t.src=null,e[zp]=null)):Vf(n)}}}function Z_(n){return n in q_?q_[n]:q_[n]="on"+n}function Tw(n,e){if(n.ca)n=!0;else{e=new rd(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&nv(n),n=t.call(r,e)}return n}function rv(n){return(n=n[zp])instanceof Bf?n:null}var $_="__closure_events_fn_"+(1e9*Math.random()>>>0);function iv(n){return"function"==typeof n?n:(n[$_]||(n[$_]=function(e){return n.handleEvent(e)}),n[$_])}function Di(){Yu.call(this),this.i=new Bf(this),this.P=this,this.I=null}function Wi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new qi(e,n);else if(e instanceof qi)e.target=e.target||n;else{var i=e;U_(e=new qi(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var d=e.g=t[a];i=qp(d,r,!0,e)&&i}if(i=qp(d=e.g=n,r,!0,e)&&i,i=qp(d,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=qp(d=e.g=t[a],r,!1,e)&&i}function qp(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var d=e[a];if(d&&!d.ca&&d.capture==t){var m=d.listener,b=d.ia||d.src;d.fa&&ev(n.i,d),i=!1!==m.call(b,r)&&i}}return i&&!r.defaultPrevented}wi(Di,Yu),Di.prototype[jp]=!0,Di.prototype.removeEventListener=function(n,e,t,r){tv(this,n,e,t,r)},Di.prototype.M=function(){if(Di.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Vf(t[r]);delete n.g[e],n.h--}}this.I=null},Di.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Di.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var K_=On.JSON.stringify;function Ro(){var n=X_;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Y_,Iw=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new II,n=>n.reset());class II{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function h1(n){On.setTimeout(()=>{throw n},0)}function id(n,e){Y_||function Q_(){var n=On.Promise.resolve(void 0);Y_=function(){n.then(SI)}}(),J_||(Y_(),J_=!0),X_.add(n,e)}var J_=!1,X_=new class Uf{constructor(){this.h=this.g=null}add(e,t){const r=Iw.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function SI(){for(var n;n=Ro();){try{n.h.call(n.g)}catch(t){h1(t)}var e=Iw;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}J_=!1}function ov(n,e){Di.call(this),this.h=n||1,this.g=e||On,this.j=io(this.kb,this),this.l=Date.now()}function Wp(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function sv(n,e,t){if("function"==typeof n)t&&(n=io(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=io(n.handleEvent,n)}return 2147483647<Number(e)?-1:On.setTimeout(n,e||0)}function e0(n){n.g=sv(()=>{n.g=null,n.i&&(n.i=!1,e0(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}wi(ov,Di),(Yt=ov.prototype).da=!1,Yt.S=null,Yt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Wi(this,"tick"),this.da&&(Wp(this),this.start()))}},Yt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Yt.M=function(){ov.Z.M.call(this),Wp(this),delete this.g};class av extends Yu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:e0(this)}M(){super.M(),this.g&&(On.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function od(n){Yu.call(this),this.h=n,this.g={}}wi(od,Yu);var xI=[];function t0(n,e,t,r){Array.isArray(t)||(t&&(xI[0]=t.toString()),t=xI);for(var i=0;i<t.length;i++){var a=Cw(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function Sw(n){Qm(n.g,function(e,t){this.g.hasOwnProperty(t)&&nv(e)},n),n.g={}}function Zp(){this.g=!0}function Hf(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function r0(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var d=1;d<i.length;d++)i[d]=""}}}return K_(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}od.prototype.M=function(){od.Z.M.call(this),Sw(this)},od.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zp.prototype.Aa=function(){this.g=!1},Zp.prototype.info=function(){};var jf={},Mw=null;function uv(){return Mw=Mw||new Di}function o0(n){qi.call(this,jf.Ma,n)}function Gf(n){const e=uv();Wi(e,new o0(e,n))}function Rw(n,e){qi.call(this,jf.STAT_EVENT,n),this.stat=e}function so(n){const e=uv();Wi(e,new Rw(e,n))}function s0(n,e){qi.call(this,jf.Na,n),this.size=e}function $p(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return On.setTimeout(function(){n()},e)}jf.Ma="serverreachability",wi(o0,qi),jf.STAT_EVENT="statevent",wi(Rw,qi),jf.Na="timingevent",wi(s0,qi);var cv={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},a0={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function l0(){}function c0(){}l0.prototype.h=null;var f0,zf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function dv(){qi.call(this,"d")}function d0(){qi.call(this,"c")}function h0(){}function qf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new od(this),this.P=p1,this.W=new ov(n=j_?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new MI}function MI(){this.i=null,this.g="",this.h=!1}wi(dv,qi),wi(d0,qi),wi(h0,l0),h0.prototype.g=function(){return new XMLHttpRequest},h0.prototype.i=function(){return{}},f0=new h0;var p1=45e3,kw={},p0={};function Nw(n,e,t){n.K=1,n.v=mv(Yl(e)),n.s=t,n.U=!0,RI(n,null)}function RI(n,e){n.F=Date.now(),hv(n),n.A=Yl(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Bw(t.h,"t",r),n.C=0,t=n.l.H,n.h=new MI,n.g=nC(n.l,t?e:null,!n.s),0<n.O&&(n.L=new av(io(n.Ia,n,n.g),n.O)),t0(n.V,n.g,"readystatechange",n.gb),e=n.H?B_(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Gf(1),function lv(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var d="",m=a.split("&"),b=0;b<m.length;b++){var C=m[b].split("=");if(1<C.length){var R=C[0];C=C[1];var P=R.split("_");d=2<=P.length&&"type"==P[1]?d+(R+"=")+C+"&":d+(R+"=redacted&")}}else d=null;else d=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function kI(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function NI(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=fv(n,t),i==p0){4==e&&(n.o=4,so(14),r=!1),Hf(n.j,n.m,null,"[Incomplete Response]");break}if(i==kw){n.o=4,so(15),Hf(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Hf(n.j,n.m,i,null),Pw(n,i)}kI(n)&&i!=p0&&i!=kw&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,so(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),th(e),e.L=!0,so(11))):(Hf(n.j,n.m,t,"[Invalid Chunked Response]"),Qu(n),Zf(n))}function fv(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?p0:(t=Number(e.substring(t,r)),isNaN(t)?kw:(r+=1)+t>e.length?p0:(e=e.substr(r,t),n.C=r+t,e))}function hv(n){n.Y=Date.now()+n.P,g0(n,n.P)}function g0(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=$p(io(n.eb,n),e)}function Wf(n){n.B&&(On.clearTimeout(n.B),n.B=null)}function Zf(n){0==n.l.G||n.I||WI(n.l,n)}function Qu(n){Wf(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Wp(n.W),Sw(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Pw(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||jw(t.i,n)))if(t.I=n.N,!n.J&&jw(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(C){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=$p(io(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;M0(t),Ev(t)}Yp(t),so(18)}if(1>=Hw(t.i)&&t.ka){try{t.ka()}catch(C){}t.ka=void 0}}else ec(t,11)}else if((n.J||t.g==n)&&M0(t),!Km(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let C=i[e];if(t.U=C[0],C=C[1],2==t.G)if("c"==C[0]){t.J=C[1],t.la=C[2];const R=C[3];null!=R&&(t.ma=R,t.h.info("VER="+t.ma));const P=C[4];null!=P&&(t.za=P,t.h.info("SVER="+t.za));const Z=C[5];null!=Z&&"number"==typeof Z&&0<Z&&(t.K=r=1.5*Z,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const Q=n.g;if(Q){const te=Q.g?Q.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(te){var a=r.i;!a.g&&(Ci(te,"spdy")||Ci(te,"quic")||Ci(te,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(D0(a,a.h),a.h=null))}if(r.D){const Se=Q.g?Q.g.getResponseHeader("X-HTTP-Session-Id"):null;Se&&(r.sa=Se,Or(r.F,r.D,Se))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((r=t).oa=tC(r,r.H?r.la:null,r.W),d.J){Gw(r.i,d);var m=d,b=r.K;b&&m.setTimeout(b),m.B&&(Wf(m),hv(m)),r.g=d}else Cv(r);0<t.l.length&&ul(t)}else"stop"!=C[0]&&"close"!=C[0]||ec(t,7);else 3==t.G&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?ec(t,7):eh(t):"noop"!=C[0]&&t.j&&t.j.wa(C),t.A=0)}Gf(4)}catch(C){}}function pv(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Zm(n)||"string"==typeof n)mw(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Zm(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function m0(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Zm(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}}function $f(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof $f)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function gv(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Kf(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Kf(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Kf(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Yt=qf.prototype).setTimeout=function(n){this.P=n},Yt.gb=function(n){n=n.target;const e=this.L;e&&3==Xu(n)?e.l():this.Ia(n)},Yt.Ia=function(n){try{if(n==this.g)e:{const R=Xu(this.g);var e=this.g.Da();const P=this.g.ba();if(!(3>R)&&(3!=R||j_||this.g&&(this.h.h||this.g.ga()||zI(this.g)))){this.I||4!=R||7==e||Gf(8==e||0>=P?3:2),Wf(this);var t=this.g.ba();this.N=t;t:if(kI(this)){var r=zI(this.g);n="";var i=r.length,a=4==Xu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Qu(this),Zf(this);var d="";break t}this.h.i=new On.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function xw(n,e,t,r,i,a,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+d})}(this.j,this.u,this.A,this.m,this.X,R,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,b=this.g;if((m=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Km(m)){var C=m;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,so(12),Qu(this),Zf(this);break e}Hf(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Pw(this,t)}this.U?(NI(this,R,d),j_&&this.i&&3==R&&(t0(this.V,this.W,"tick",this.fb),this.W.start())):(Hf(this.j,this.m,d,null),Pw(this,d)),4==R&&Qu(this),this.i&&!this.I&&(4==R?WI(this.l,this):(this.i=!1,hv(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,so(12)):(this.o=0,so(13)),Qu(this),Zf(this)}}}catch(R){}},Yt.fb=function(){if(this.g){var n=Xu(this.g),e=this.g.ga();this.C<e.length&&(Wf(this),NI(this,n,e),this.i&&4!=n&&hv(this))}},Yt.cancel=function(){this.I=!0,Qu(this)},Yt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function n0(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Gf(3),so(17)),Qu(this),this.o=2,Zf(this)):g0(this,this.Y-n)},(Yt=$f.prototype).R=function(){gv(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Yt.T=function(){return gv(this),this.g.concat()},Yt.get=function(n,e){return Kf(this.h,n)?this.h[n]:e},Yt.set=function(n,e){Kf(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Yt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],a=this.get(i);n.call(e,a,i,this)}};var Ow=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Kl(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Kl){this.g=void 0!==e?e:n.g,v0(this,n.j),this.s=n.s,y0(this,n.i),_0(this,n.m),this.l=n.l,e=n.h;var t=new Yf;t.i=e.i,e.g&&(t.g=new $f(e.g),t.h=e.h),Fw(this,t),this.o=n.o}else n&&(t=String(n).match(Ow))?(this.g=!!e,v0(this,t[1]||"",!0),this.s=sd(t[2]||""),y0(this,t[3]||"",!0),_0(this,t[4]),this.l=sd(t[5]||"",!0),Fw(this,t[6]||"",!0),this.o=sd(t[7]||"")):(this.g=!!e,this.h=new Yf(null,this.g))}function Yl(n){return new Kl(n)}function v0(n,e,t){n.j=t?sd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function y0(n,e,t){n.i=t?sd(e,!0):e}function _0(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Fw(n,e,t){e instanceof Yf?(n.h=e,function VI(n,e){e&&!n.j&&(Ql(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Vw(this,r),Bw(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Kp(e,LI)),n.h=new Yf(e,n.g))}function Or(n,e,t){n.h.set(e,t)}function mv(n){return Or(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function sd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Kp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Ma),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Ma(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Kl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Kp(e,Lw,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Kp(e,Lw,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Kp(t,"/"==t.charAt(0)?FI:b0,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Kp(t,E0)),n.join("")};var Lw=/[#\/\?@]/g,b0=/[#\?:]/g,FI=/[#\?]/g,LI=/[#\?@]/g,E0=/#/g;function Yf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ql(n){n.g||(n.g=new $f,n.h=0,n.i&&function PI(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Vw(n,e){Ql(n),e=Qf(n,e),Kf(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Kf((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&gv(n)))}function A0(n,e){return Ql(n),e=Qf(n,e),Kf(n.g.h,e)}function Bw(n,e,t){Vw(n,e),0<t.length&&(n.i=null,n.g.set(Qf(n,e),F_(t)),n.h+=t.length)}function Qf(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Ju(n){this.l=n||Uw,n=On.PerformanceNavigationTiming?0<(n=On.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(On.g&&On.g.Ea&&On.g.Ea()&&On.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Yt=Yf.prototype).add=function(n,e){Ql(this),this.i=null,n=Qf(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Yt.forEach=function(n,e){Ql(this),this.g.forEach(function(t,r){mw(t,function(i){n.call(e,i,r,this)},this)},this)},Yt.T=function(){Ql(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],a=0;a<i.length;a++)t.push(e[r]);return t},Yt.R=function(n){Ql(this);var e=[];if("string"==typeof n)A0(this,n)&&(e=vw(e,this.g.get(Qf(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=vw(e,n[t])}return e},Yt.set=function(n,e){return Ql(this),this.i=null,A0(this,n=Qf(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Yt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Yt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var d=i;""!==r[a]&&(d+="="+encodeURIComponent(String(r[a]))),n.push(d)}}return this.i=n.join("&")};var Uw=10;function C0(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Hw(n){return n.h?1:n.g?n.g.size:0}function jw(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function D0(n,e){n.g?n.g.add(e):n.h=e}function Gw(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function zw(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return F_(n.i)}function vv(){}function BI(){this.g=new vv}function UI(n,e,t){const r=t||"";try{pv(n,function(i,a){let d=i;al(i)&&(d=K_(i)),e.push(r+a+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Jf(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(a){}}function Xf(n){this.l=n.$b||null,this.j=n.ib||!1}function yv(n,e){Di.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=T0,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ju.prototype.cancel=function(){if(this.i=zw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},vv.prototype.stringify=function(n){return On.JSON.stringify(n,void 0)},vv.prototype.parse=function(n){return On.JSON.parse(n,void 0)},wi(Xf,l0),Xf.prototype.g=function(){return new yv(this.l,this.j)},Xf.prototype.i=function(n){return function(){return n}}({}),wi(yv,Di);var T0=0;function I0(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function ad(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ld(n)}function ld(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Yt=yv.prototype).open=function(n,e){if(this.readyState!=T0)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ld(this)},Yt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||On).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Yt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ad(this)),this.readyState=T0},Yt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ld(this)),this.g&&(this.readyState=3,ld(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==On.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;I0(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Yt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ad(this):ld(this),3==this.readyState&&I0(this)}},Yt.Ua=function(n){this.g&&(this.response=this.responseText=n,ad(this))},Yt.Ta=function(n){this.g&&(this.response=n,ad(this))},Yt.ha=function(){this.g&&ad(this)},Yt.setRequestHeader=function(n,e){this.v.append(n,e)},Yt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Yt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(yv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var qw=On.JSON.parse;function pi(n){Di.call(this),this.headers=new $f,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=S0,this.K=this.L=!1}wi(pi,Di);var S0="",Ww=/^https?$/i,HI=["POST","PUT"];function v1(n){return"content-type"==n.toLowerCase()}function GI(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,x0(n),_v(n)}function x0(n){n.D||(n.D=!0,Wi(n,"complete"),Wi(n,"error"))}function Zw(n){if(n.h&&void 0!==O_&&(!n.C[1]||4!=Xu(n)||2!=n.ba()))if(n.v&&4==Xu(n))sv(n.Fa,0,n);else if(Wi(n,"readystatechange"),4==Xu(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var i=String(n.H).match(Ow)[1]||null;if(!i&&On.self&&On.self.location){var a=On.self.location.protocol;i=a.substr(0,a.length-1)}r=!Ww.test(i?i.toLowerCase():"")}t=r}if(t)Wi(n,"complete"),Wi(n,"success");else{n.m=6;try{var d=2<Xu(n)?n.g.statusText:""}catch(b){d=""}n.j=d+" ["+n.ba()+"]",x0(n)}}finally{_v(n)}}}function _v(n,e){if(n.g){$w(n);const t=n.g,r=n.C[0]?$l:null;n.g=null,n.C=null,e||Wi(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function $w(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(On.clearTimeout(n.A),n.A=null)}function Xu(n){return n.g?n.g.readyState:0}function zI(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case S0:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Kw(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function y1(n){let e="";return Qm(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Or(n,e,t))}function bv(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Yw(n){this.za=0,this.l=[],this.h=new Zp,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=bv("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=bv("baseRetryDelayMs",5e3,n),this.$a=bv("retryDelaySeedMs",1e4,n),this.Ya=bv("forwardChannelMaxRetries",2,n),this.ra=bv("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Ju(n&&n.concurrentRequestLimit),this.Ca=new BI,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function eh(n){if(Qw(n),3==n.G){var e=n.V++,t=Yl(n.F);Or(t,"SID",n.J),Or(t,"RID",e),Or(t,"TYPE","terminate"),ud(n,t),(e=new qf(n,n.h,e,void 0)).K=2,e.v=mv(Yl(t)),t=!1,On.navigator&&On.navigator.sendBeacon&&(t=On.navigator.sendBeacon(e.v.toString(),"")),!t&&On.Image&&((new Image).src=e.v,t=!0),t||(e.g=nC(e.l,null),e.g.ea(e.v)),e.F=Date.now(),hv(e)}eC(n)}function Ev(n){n.g&&(th(n),n.g.cancel(),n.g=null)}function Qw(n){Ev(n),n.u&&(On.clearTimeout(n.u),n.u=null),M0(n),n.i.cancel(),n.m&&("number"==typeof n.m&&On.clearTimeout(n.m),n.m=null)}function Av(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&ul(n)}function ul(n){C0(n.i)||n.m||(n.m=!0,id(n.Ha,n),n.C=0)}function wv(n,e){var t;t=e?e.m:n.V++;const r=Yl(n.F);Or(r,"SID",n.J),Or(r,"RID",t),Or(r,"AID",n.U),ud(n,r),n.o&&n.s&&Kw(r,n.o,n.s),t=new qf(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Xw(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),D0(n.i,t),Nw(t,r,e)}function ud(n,e){n.j&&pv({},function(t,r){Or(e,r,t)})}function Xw(n,e,t){t=Math.min(n.l.length,t);var r=n.j?io(n.j.Oa,n.j,n):null;e:{var i=n.l;let a=-1;for(;;){const d=["count="+t];-1==a?0<t?(a=i[0].h,d.push("ofs="+a)):a=0:d.push("ofs="+a);let m=!0;for(let b=0;b<t;b++){let C=i[b].h;const R=i[b].g;if(C-=a,0>C)a=Math.max(0,i[b].h-100),m=!1;else try{UI(R,d,"req"+C+"_")}catch(P){r&&r(R)}}if(m){r=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Cv(n){n.g||n.u||(n.Y=1,id(n.Ga,n),n.A=0)}function Yp(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=$p(io(n.Ga,n),ZI(n,n.A)),n.A++,0))}function th(n){null!=n.B&&(On.clearTimeout(n.B),n.B=null)}function qI(n){n.g=new qf(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Yl(n.oa);Or(e,"RID","rpc"),Or(e,"SID",n.J),Or(e,"CI",n.N?"0":"1"),Or(e,"AID",n.U),ud(n,e),Or(e,"TYPE","xmlhttp"),n.o&&n.s&&Kw(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=mv(Yl(e)),t.s=null,t.U=!0,RI(t,n)}function M0(n){null!=n.v&&(On.clearTimeout(n.v),n.v=null)}function WI(n,e){var t=null;if(n.g==e){M0(n),th(n),n.g=null;var r=2}else{if(!jw(n.i,e))return;t=e.D,Gw(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Wi(r=uv(),new s0(r,t,e,i)),ul(n)}else Cv(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function Jw(n,e){return!(Hw(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=$p(io(n.Ha,n,e),ZI(n,n.C)),n.C++,0)))}(n,e)||2==r&&Yp(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:ec(n,5);break;case 4:ec(n,10);break;case 3:ec(n,6);break;default:ec(n,2)}}function ZI(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function ec(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=io(n.jb,n);t||(t=new Kl("//www.google.com/images/cleardot.gif"),On.location&&"http"==On.location.protocol||v0(t,"https"),mv(t)),function m1(n,e){const t=new Zp;if(On.Image){const r=new Image;r.onload=Hp(Jf,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Hp(Jf,t,r,"TestLoadImage: error",!1,e),r.onabort=Hp(Jf,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Hp(Jf,t,r,"TestLoadImage: timeout",!1,e),On.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else so(2);n.G=0,n.j&&n.j.va(e),eC(n),Qw(n)}function eC(n){n.G=0,n.I=-1,n.j&&((0!=zw(n.i).length||0!=n.l.length)&&(n.i.i.length=0,F_(n.l),n.l.length=0),n.j.ua())}function tC(n,e,t){let r=function g1(n){return n instanceof Kl?Yl(n):new Kl(n,void 0)}(t);if(""!=r.i)e&&y0(r,e+"."+r.i),_0(r,r.m);else{const i=On.location;r=function OI(n,e,t,r){var i=new Kl(null,void 0);return n&&v0(i,n),e&&y0(i,e),t&&_0(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&Qm(n.aa,function(i,a){Or(r,a,i)}),t=n.sa,(e=n.D)&&t&&Or(r,e,t),Or(r,"VER",n.ma),ud(n,r),r}function nC(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new pi(t&&n.Ba&&!n.qa?new Xf({ib:!0}):n.qa)).L=n.H,e}function rC(){}function Qp(){if(Pf&&!(10<=Number(CI)))throw Error("Environmental error: no available transport.")}function es(n,e){Di.call(this),this.g=new Yw(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Km(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Km(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new nh(this)}function R0(n){dv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function iC(){d0.call(this),this.status=1}function nh(n){this.g=n}(Yt=pi.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():f0.g(),this.C=function u0(n){return n.h||(n.h=n.i())}(this.u?this.u:f0),this.g.onreadystatechange=io(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void GI(this,a)}n=t||"";const i=new $f(this.headers);r&&pv(r,function(a,d){i.set(d,a)}),r=function bI(n){e:{var e=v1;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=On.FormData&&n instanceof On.FormData,!(0<=gw(HI,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(a,d){this.g.setRequestHeader(d,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{$w(this),0<this.B&&((this.K=function jI(n){return Pf&&function Xm(){return function EI(n){var e=wI;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=yw(String(Ff)).split("."),t=yw("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",a=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=Ym(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||Ym(0==i[2].length,0==a[2].length)||Ym(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=io(this.pa,this)):this.A=sv(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){GI(this,a)}},Yt.pa=function(){void 0!==O_&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Wi(this,"timeout"),this.abort(8))},Yt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Wi(this,"complete"),Wi(this,"abort"),_v(this))},Yt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_v(this,!0)),pi.Z.M.call(this)},Yt.Fa=function(){this.s||(this.F||this.v||this.l?Zw(this):this.cb())},Yt.cb=function(){Zw(this)},Yt.ba=function(){try{return 2<Xu(this)?this.g.status:-1}catch(n){return-1}},Yt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Yt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),qw(e)}},Yt.Da=function(){return this.m},Yt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Yt=Yw.prototype).ma=8,Yt.G=1,Yt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Yt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new qf(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=B_(a),U_(a,this.P)):a=this.P),null===this.o&&(i.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Xw(this,i,e),Or(t=Yl(this.F),"RID",n),Or(t,"CVER",22),this.D&&Or(t,"X-HTTP-Session-Id",this.D),ud(this,t),this.o&&a&&Kw(t,this.o,a),D0(this.i,i),this.Ra&&Or(t,"TYPE","init"),this.ja?(Or(t,"$req",e),Or(t,"SID","null"),i.$=!0,Nw(i,t,null)):Nw(i,t,e),this.G=2}}else 3==this.G&&(n?wv(this,n):0==this.l.length||C0(this.i)||wv(this))},Yt.Ga=function(){if(this.u=null,qI(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=$p(io(this.bb,this),n)}},Yt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,so(10),Ev(this),qI(this))},Yt.ab=function(){null!=this.v&&(this.v=null,Ev(this),Yp(this),so(19))},Yt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),so(2)):(this.h.info("Failed to ping google.com"),so(1))},(Yt=rC.prototype).xa=function(){},Yt.wa=function(){},Yt.va=function(){},Yt.ua=function(){},Yt.Oa=function(){},Qp.prototype.g=function(n,e){return new es(n,e)},wi(es,Di),es.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),id(io(n.hb,n,e))),so(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=tC(n,null,n.W),ul(n)},es.prototype.close=function(){eh(this.g)},es.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Av(this.g,e)}else this.v?((e={}).__data__=K_(n),Av(this.g,e)):Av(this.g,n)},es.prototype.M=function(){this.g.j=null,delete this.j,eh(this.g),delete this.g,es.Z.M.call(this)},wi(R0,dv),wi(iC,d0),wi(nh,rC),nh.prototype.xa=function(){Wi(this.g,"a")},nh.prototype.wa=function(n){Wi(this.g,new R0(n))},nh.prototype.va=function(n){Wi(this.g,new iC(n))},nh.prototype.ua=function(){Wi(this.g,"b")},Qp.prototype.createWebChannel=Qp.prototype.g,es.prototype.send=es.prototype.u,es.prototype.open=es.prototype.m,es.prototype.close=es.prototype.close,cv.NO_ERROR=0,cv.TIMEOUT=8,cv.HTTP_ERROR=6,a0.COMPLETE="complete",c0.EventType=zf,zf.OPEN="a",zf.CLOSE="b",zf.ERROR="c",zf.MESSAGE="d",Di.prototype.listen=Di.prototype.N,pi.prototype.listenOnce=pi.prototype.O,pi.prototype.getLastError=pi.prototype.La,pi.prototype.getLastErrorCode=pi.prototype.Da,pi.prototype.getStatus=pi.prototype.ba,pi.prototype.getResponseJson=pi.prototype.Qa,pi.prototype.getResponseText=pi.prototype.ga,pi.prototype.send=pi.prototype.ea;var oC=Zl.createWebChannelTransport=function(){return new Qp},k0=Zl.getStatEventTarget=function(){return uv()},sC=Zl.ErrorCode=cv,aC=Zl.EventType=a0,N0=Zl.Event=jf,lC=Zl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},$I=Zl.FetchXmlHttpFactory=Xf,P0=Zl.WebChannel=c0,_1=Zl.XhrIo=pi;const uC="@firebase/firestore";class Zi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zi.UNAUTHENTICATED=new Zi(null),Zi.GOOGLE_CREDENTIALS=new Zi("google-credentials-uid"),Zi.FIRST_PARTY=new Zi("first-party-uid"),Zi.MOCK_USER=new Zi("mock-user");let Jp="9.8.0";const cd=new $u.Yd("@firebase/firestore");function cC(){return cd.logLevel}function It(n,...e){if(cd.logLevel<=$u.in.DEBUG){const t=e.map(dC);cd.debug(`Firestore (${Jp}): ${n}`,...t)}}function gi(n,...e){if(cd.logLevel<=$u.in.ERROR){const t=e.map(dC);cd.error(`Firestore (${Jp}): ${n}`,...t)}}function Dv(n,...e){if(cd.logLevel<=$u.in.WARN){const t=e.map(dC);cd.warn(`Firestore (${Jp}): ${n}`,...t)}}function dC(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function Xt(n="Unexpected state"){const e=`FIRESTORE (${Jp}) INTERNAL ASSERTION FAILED: `+n;throw gi(e),new Error(e)}function kn(n,e){n||Xt()}function s(n,e){return n}const l={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class c extends Kn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class g{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class y{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class w{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Zi.UNAUTHENTICATED))}shutdown(){}}class I{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class M{constructor(e){this.t=e,this.currentUser=Zi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=C=>this.i!==i?(i=this.i,t(C)):Promise.resolve();let d=new g;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new g,e.enqueueRetryable(()=>a(this.currentUser))};const m=()=>{const C=d;e.enqueueRetryable((0,nt.Z)(function*(){yield C.promise,yield a(r.currentUser)}))},b=C=>{It("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(C=>b(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?b(C):(It("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new g)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(It("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(kn("string"==typeof r.accessToken),new y(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return kn(null===e||"string"==typeof e),new Zi(e)}}class L{constructor(e,t,r){this.type="FirstParty",this.user=Zi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class j{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new L(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Zi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class re{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class be{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=a=>{null!=a.error&&It("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const d=a.token!==this.p;return this.p=a.token,It("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{It("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?i(a):It("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(kn("string"==typeof t.token),this.p=t.token,new re(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Ke{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function St(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Ke.A=-1;class Pt{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=St(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function pt(n,e){return n<e?-1:n>e?1:0}function ut(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function hn(n){return n+"\0"}class ln{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new c(l.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new c(l.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new c(l.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new c(l.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ln.fromMillis(Date.now())}static fromDate(e){return ln.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ln(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pt(this.nanoseconds,e.nanoseconds):pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Vt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Vt(e)}static min(){return new Vt(new ln(0,0))}static max(){return new Vt(new ln(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function ts(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Es(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Tv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class dd{constructor(e,t,r){void 0===t?t=0:t>e.length&&Xt(),void 0===r?r=e.length-t:r>e.length-t&&Xt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===dd.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof dd?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),d=t.get(i);if(a<d)return-1;if(a>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class er extends dd{construct(e,t,r){return new er(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new c(l.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new er(t)}static emptyPath(){return new er([])}}const O0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ri extends dd{construct(e,t,r){return new ri(e,t,r)}static isValidIdentifier(e){return O0.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ri.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ri(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new c(l.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const m=e[i];if("\\"===m){if(i+1===e.length)throw new c(l.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const b=e[i+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new c(l.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=b,i+=2}else"`"===m?(d=!d,i++):"."!==m||d?(r+=m,i++):(a(),i++)}if(a(),d)throw new c(l.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ri(t)}static emptyPath(){return new ri([])}}class tc{constructor(e){this.fields=e,e.sort(ri.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ut(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class ii{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ii(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new ii(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ii.EMPTY_BYTE_STRING=new ii("");const L0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rh(n){if(kn(!!n),"string"==typeof n){let e=0;const t=L0.exec(n);if(kn(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mi(n.seconds),nanos:mi(n.nanos)}}function mi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Xp(n){return"string"==typeof n?ii.fromBase64String(n):ii.fromUint8Array(n)}function KI(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function E1(n){const e=n.mapValue.fields.__previous_value__;return KI(e)?E1(e):e}function V0(n){const e=rh(n.mapValue.fields.__local_write_time__.timestampValue);return new ln(e.seconds,e.nanos)}class LP{constructor(e,t,r,i,a,d,m,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.useFetchStreams=b}}class fd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new fd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof fd&&e.projectId===this.projectId&&e.database===this.database}}function B0(n){return null==n}function U0(n){return 0===n&&1/n==-1/0}function A1(n){return"number"==typeof n&&Number.isInteger(n)&&!U0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Bt{constructor(e){this.path=e}static fromPath(e){return new Bt(er.fromString(e))}static fromName(e){return new Bt(er.fromString(e).popFirst(5))}static empty(){return new Bt(er.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===er.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return er.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Bt(new er(e.slice()))}}const ih={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},fC={nullValue:"NULL_VALUE"};function eg(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?KI(n)?4:T1(n)?9007199254740991:10:Xt()}function nc(n,e){if(n===e)return!0;const t=eg(n);if(t!==eg(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return V0(n).isEqual(V0(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=rh(r.timestampValue),d=rh(i.timestampValue);return a.seconds===d.seconds&&a.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Xp(n.bytesValue).isEqual(Xp(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return mi(r.geoPointValue.latitude)===mi(i.geoPointValue.latitude)&&mi(r.geoPointValue.longitude)===mi(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return mi(r.integerValue)===mi(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=mi(r.doubleValue),d=mi(i.doubleValue);return a===d?U0(a)===U0(d):isNaN(a)&&isNaN(d)}return!1}(n,e);case 9:return ut(n.arrayValue.values||[],e.arrayValue.values||[],nc);case 10:return function(r,i){const a=r.mapValue.fields||{},d=i.mapValue.fields||{};if(ts(a)!==ts(d))return!1;for(const m in a)if(a.hasOwnProperty(m)&&(void 0===d[m]||!nc(a[m],d[m])))return!1;return!0}(n,e);default:return Xt()}var i}function H0(n,e){return void 0!==(n.values||[]).find(t=>nc(t,e))}function oh(n,e){if(n===e)return 0;const t=eg(n),r=eg(e);if(t!==r)return pt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return pt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const d=mi(i.integerValue||i.doubleValue),m=mi(a.integerValue||a.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return w1(n.timestampValue,e.timestampValue);case 4:return w1(V0(n),V0(e));case 5:return pt(n.stringValue,e.stringValue);case 6:return function(i,a){const d=Xp(i),m=Xp(a);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const d=i.split("/"),m=a.split("/");for(let b=0;b<d.length&&b<m.length;b++){const C=pt(d[b],m[b]);if(0!==C)return C}return pt(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const d=pt(mi(i.latitude),mi(a.latitude));return 0!==d?d:pt(mi(i.longitude),mi(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const d=i.values||[],m=a.values||[];for(let b=0;b<d.length&&b<m.length;++b){const C=oh(d[b],m[b]);if(C)return C}return pt(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===ih.mapValue&&a===ih.mapValue)return 0;if(i===ih.mapValue)return 1;if(a===ih.mapValue)return-1;const d=i.fields||{},m=Object.keys(d),b=a.fields||{},C=Object.keys(b);m.sort(),C.sort();for(let R=0;R<m.length&&R<C.length;++R){const P=pt(m[R],C[R]);if(0!==P)return P;const Z=oh(d[m[R]],b[C[R]]);if(0!==Z)return Z}return pt(m.length,C.length)}(n.mapValue,e.mapValue);default:throw Xt()}}function w1(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return pt(n,e);const t=rh(n),r=rh(e),i=pt(t.seconds,r.seconds);return 0!==i?i:pt(t.nanos,r.nanos)}function Iv(n){return YI(n)}function YI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=rh(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Xp(n.bytesValue).toBase64():"referenceValue"in n?Bt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const d of r.values||[])a?a=!1:i+=",",i+=YI(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",d=!0;for(const m of i)d?d=!1:a+=",",a+=`${m}:${YI(r.fields[m])}`;return a+"}"}(n.mapValue):Xt();var e}function tg(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function QI(n){return!!n&&"integerValue"in n}function j0(n){return!!n&&"arrayValue"in n}function C1(n){return!!n&&"nullValue"in n}function D1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function hC(n){return!!n&&"mapValue"in n}function G0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Es(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=G0(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=G0(n.arrayValue.values[t]);return e}return Object.assign({},n)}function T1(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function VP(n){return"nullValue"in n?fC:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?tg(fd.empty(),Bt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Xt()}function BP(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?tg(fd.empty(),Bt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?ih:Xt()}function I1(n,e){const t=oh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function S1(n,e){const t=oh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ns{constructor(e){this.value=e}static empty(){return new ns({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!hC(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=G0(t)}setAll(e){let t=ri.emptyPath(),r={},i=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const b=this.getFieldsMap(t);this.applyChanges(b,r,i),r={},i=[],t=m.popLast()}d?r[m.lastSegment()]=G0(d):i.push(m.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());hC(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return nc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];hC(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Es(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new ns(G0(this.value))}}function x1(n){const e=[];return Es(n.fields,(t,r)=>{const i=new ri([t]);if(hC(r)){const a=x1(r.mapValue).fields;if(0===a.length)e.push(i);else for(const d of a)e.push(i.child(d))}else e.push(i)}),new tc(e)}class Gr{constructor(e,t,r,i,a,d){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=a,this.documentState=d}static newInvalidDocument(e){return new Gr(e,0,Vt.min(),Vt.min(),ns.empty(),0)}static newFoundDocument(e,t,r){return new Gr(e,1,t,Vt.min(),r,0)}static newNoDocument(e,t){return new Gr(e,2,t,Vt.min(),ns.empty(),0)}static newUnknownDocument(e,t){return new Gr(e,3,t,Vt.min(),ns.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ns.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ns.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class pC{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function JI(n){return n.fields.find(e=>2===e.kind)}function ng(n){return n.fields.filter(e=>2!==e.kind)}pC.UNKNOWN_ID=-1;class gC{constructor(e,t){this.fieldPath=e,this.kind=t}}class z0{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new z0(0,Jl.min())}}function M1(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Vt.fromTimestamp(1e9===r?new ln(t+1,0):new ln(t,r));return new Jl(i,Bt.empty(),e)}function UP(n){return new Jl(n.readTime,n.key,-1)}class Jl{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Jl(Vt.min(),Bt.empty(),-1)}static max(){return new Jl(Vt.max(),Bt.empty(),-1)}}function R1(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Bt.comparator(n.documentKey,e.documentKey),0!==t?t:pt(n.largestBatchId,e.largestBatchId))}class Ti{constructor(e,t){this.comparator=e,this.root=t||ko.EMPTY}insert(e,t){return new Ti(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ko.BLACK,null,null))}remove(e){return new Ti(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ko.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mC(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mC(this.root,e,this.comparator,!1)}getReverseIterator(){return new mC(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mC(this.root,e,this.comparator,!0)}}class mC{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ko{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=null!=r?r:ko.RED,this.left=null!=i?i:ko.EMPTY,this.right=null!=a?a:ko.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new ko(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ko.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ko.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ko.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ko.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xt();const e=this.left.check();if(e!==this.right.check())throw Xt();return e+(this.isRed()?0:1)}}ko.EMPTY=null,ko.RED=!0,ko.BLACK=!1,ko.EMPTY=new class{constructor(){this.size=0}get key(){throw Xt()}get value(){throw Xt()}get color(){throw Xt()}get left(){throw Xt()}get right(){throw Xt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new ko(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fr{constructor(e){this.comparator=e,this.data=new Ti(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new k1(this.data.getIterator())}getIteratorFrom(e){return new k1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Fr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Fr(this.comparator);return t.data=e,t}}class k1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Sv(n){return n.hasNext()?n.getNext():void 0}class HP{constructor(e,t=null,r=[],i=[],a=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=d,this.endAt=m,this.P=null}}function N1(n,e=null,t=[],r=[],i=null,a=null,d=null){return new HP(n,e,t,r,i,a,d)}function rg(n){const e=s(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Iv(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),B0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Iv(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Iv(r)).join(",")),e.P=t}return e.P}function q0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!YP(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!nc(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!V1(n.startAt,e.startAt)&&V1(n.endAt,e.endAt)}function vC(n){return Bt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function yC(n,e){return n.filters.filter(t=>t instanceof No&&t.field.isEqual(e))}function P1(n,e,t){let r=fC,i=!0;for(const a of yC(n,e)){let d=fC,m=!0;switch(a.op){case"<":case"<=":d=VP(a.value);break;case"==":case"in":case">=":d=a.value;break;case">":d=a.value,m=!1;break;case"!=":case"not-in":d=fC}I1({value:r,inclusive:i},{value:d,inclusive:m})<0&&(r=d,i=m)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const d=t.position[a];I1({value:r,inclusive:i},{value:d,inclusive:t.inclusive})<0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}function O1(n,e,t){let r=ih,i=!0;for(const a of yC(n,e)){let d=ih,m=!0;switch(a.op){case">=":case">":d=BP(a.value),m=!1;break;case"==":case"in":case"<=":d=a.value;break;case"<":d=a.value,m=!1;break;case"!=":case"not-in":d=ih}S1({value:r,inclusive:i},{value:d,inclusive:m})>0&&(r=d,i=m)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const d=t.position[a];S1({value:r,inclusive:i},{value:d,inclusive:t.inclusive})>0&&(r=d,i=t.inclusive);break}return{value:r,inclusive:i}}class No extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new GP(e,t,r):"array-contains"===t?new WP(e,r):"in"===t?new ZP(e,r):"not-in"===t?new $P(e,r):"array-contains-any"===t?new KP(e,r):new No(e,t,r)}static V(e,t,r){return"in"===t?new zP(e,r):new qP(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(oh(t,this.value)):null!==t&&eg(this.value)===eg(t)&&this.v(oh(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class GP extends No{constructor(e,t,r){super(e,t,r),this.key=Bt.fromName(r.referenceValue)}matches(e){const t=Bt.comparator(e.key,this.key);return this.v(t)}}class zP extends No{constructor(e,t){super(e,"in",t),this.keys=F1(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class qP extends No{constructor(e,t){super(e,"not-in",t),this.keys=F1(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function F1(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Bt.fromName(r.referenceValue))}class WP extends No{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return j0(t)&&H0(t.arrayValue,this.value)}}class ZP extends No{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&H0(this.value.arrayValue,t)}}class $P extends No{constructor(e,t){super(e,"not-in",t)}matches(e){if(H0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!H0(this.value.arrayValue,t)}}class KP extends No{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!j0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>H0(this.value.arrayValue,r))}}class sh{constructor(e,t){this.position=e,this.inclusive=t}}class xv{constructor(e,t="asc"){this.field=e,this.dir=t}}function YP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function L1(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],d=n.position[i];if(r=a.field.isKeyField()?Bt.comparator(Bt.fromName(d.referenceValue),t.key):oh(d,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function V1(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!nc(n.position[t],e.position[t]))return!1;return!0}class hd{constructor(e,t=null,r=[],i=[],a=null,d="F",m=null,b=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=d,this.startAt=m,this.endAt=b,this.D=null,this.C=null}}function B1(n,e,t,r,i,a,d,m){return new hd(n,e,t,r,i,a,d,m)}function Mv(n){return new hd(n)}function XI(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function eS(n){for(const e of n.filters)if(e.S())return e.field;return null}function tS(n){return null!==n.collectionGroup}function Rv(n){const e=s(n);if(null===e.D){e.D=[];const t=eS(e),r=XI(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new xv(t)),e.D.push(new xv(ri.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.D.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new xv(ri.keyField(),a))}}}return e.D}function cl(n){const e=s(n);if(!e.C)if("F"===e.limitType)e.C=N1(e.path,e.collectionGroup,Rv(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Rv(e))t.push(new xv(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new sh(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new sh(e.startAt.position,e.startAt.inclusive):null;e.C=N1(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function U1(n,e,t){return new hd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function W0(n,e){return q0(cl(n),cl(e))&&n.limitType===e.limitType}function H1(n){return`${rg(cl(n))}|lt:${n.limitType}`}function nS(n){return`Query(target=${function jP(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Iv(r.value)}`;var r}).join(", ")}]`),B0(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Iv(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Iv(t)).join(",")),`Target(${e})`}(cl(n))}; limitType=${n.limitType})`}function rS(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Bt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,d){const m=L1(i,a,d);return i.inclusive?m<=0:m<0}(t.startAt,Rv(t),r)||t.endAt&&!function(i,a,d){const m=L1(i,a,d);return i.inclusive?m>=0:m>0}(t.endAt,Rv(t),r)));var t,r}function j1(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function G1(n){return(e,t)=>{let r=!1;for(const i of Rv(n)){const a=JP(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function JP(n,e,t){const r=n.field.isKeyField()?Bt.comparator(e.key,t.key):function(i,a,d){const m=a.data.field(i),b=d.data.field(i);return null!==m&&null!==b?oh(m,b):Xt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Xt()}}function z1(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:U0(e)?"-0":e}}function q1(n){return{integerValue:""+n}}function W1(n,e){return A1(e)?q1(e):z1(n,e)}class _C{constructor(){this._=void 0}}function XP(n,e,t){return n instanceof kv?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof ig?$1(n,e):n instanceof og?K1(n,e):function(r,i){const a=Z1(r,i),d=Y1(a)+Y1(r.k);return QI(a)&&QI(r.k)?q1(d):z1(r.M,d)}(n,e)}function eO(n,e,t){return n instanceof ig?$1(n,e):n instanceof og?K1(n,e):t}function Z1(n,e){return n instanceof Nv?QI(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class kv extends _C{}class ig extends _C{constructor(e){super(),this.elements=e}}function $1(n,e){const t=Q1(e);for(const r of n.elements)t.some(i=>nc(i,r))||t.push(r);return{arrayValue:{values:t}}}class og extends _C{constructor(e){super(),this.elements=e}}function K1(n,e){let t=Q1(e);for(const r of n.elements)t=t.filter(i=>!nc(i,r));return{arrayValue:{values:t}}}class Nv extends _C{constructor(e,t){super(),this.M=e,this.k=t}}function Y1(n){return mi(n.integerValue||n.doubleValue)}function Q1(n){return j0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Z0{constructor(e,t){this.field=e,this.transform=t}}class nO{constructor(e,t){this.version=e,this.transformResults=t}}class Ni{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ni}static exists(e){return new Ni(void 0,e)}static updateTime(e){return new Ni(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bC(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class EC{}function rO(n,e,t){n instanceof $0?function(r,i,a){const d=r.value.clone(),m=tR(r.fieldTransforms,i,a.transformResults);d.setAll(m),i.convertToFoundDocument(a.version,d).setHasCommittedMutations()}(n,e,t):n instanceof sg?function(r,i,a){if(!bC(r.precondition,i))return void i.convertToUnknownDocument(a.version);const d=tR(r.fieldTransforms,i,a.transformResults),m=i.data;m.setAll(eR(r)),m.setAll(d),i.convertToFoundDocument(a.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function iS(n,e,t){var i;n instanceof $0?function(r,i,a){if(!bC(r.precondition,i))return;const d=r.value.clone(),m=nR(r.fieldTransforms,a,i);d.setAll(m),i.convertToFoundDocument(X1(i),d).setHasLocalMutations()}(n,e,t):n instanceof sg?function(r,i,a){if(!bC(r.precondition,i))return;const d=nR(r.fieldTransforms,a,i),m=i.data;m.setAll(eR(r)),m.setAll(d),i.convertToFoundDocument(X1(i),m).setHasLocalMutations()}(n,e,t):bC(n.precondition,i=e)&&i.convertToNoDocument(Vt.min())}function iO(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=Z1(r.transform,i||null);null!=a&&(null==t&&(t=ns.empty()),t.set(r.field,a))}return t||null}function J1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&ut(t,r,(i,a)=>function tO(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof ig&&r instanceof ig||t instanceof og&&r instanceof og?ut(t.elements,r.elements,nc):t instanceof Nv&&r instanceof Nv?nc(t.k,r.k):t instanceof kv&&r instanceof kv);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function X1(n){return n.isFoundDocument()?n.version:Vt.min()}class $0 extends EC{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class sg extends EC{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}}function eR(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function tR(n,e,t){const r=new Map;kn(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],d=a.transform,m=e.data.field(a.field);r.set(a.field,eO(d,m,t[i]))}return r}function nR(n,e,t){const r=new Map;for(const i of n){const a=i.transform,d=t.data.field(i.field);r.set(i.field,XP(a,d,e))}return r}class K0 extends EC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class oS extends EC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class oO{constructor(e){this.count=e}}var Pi,ur;function rR(n){switch(n){default:return Xt();case l.CANCELLED:case l.UNKNOWN:case l.DEADLINE_EXCEEDED:case l.RESOURCE_EXHAUSTED:case l.INTERNAL:case l.UNAVAILABLE:case l.UNAUTHENTICATED:return!1;case l.INVALID_ARGUMENT:case l.NOT_FOUND:case l.ALREADY_EXISTS:case l.PERMISSION_DENIED:case l.FAILED_PRECONDITION:case l.ABORTED:case l.OUT_OF_RANGE:case l.UNIMPLEMENTED:case l.DATA_LOSS:return!0}}function iR(n){if(void 0===n)return gi("GRPC error has no .code"),l.UNKNOWN;switch(n){case Pi.OK:return l.OK;case Pi.CANCELLED:return l.CANCELLED;case Pi.UNKNOWN:return l.UNKNOWN;case Pi.DEADLINE_EXCEEDED:return l.DEADLINE_EXCEEDED;case Pi.RESOURCE_EXHAUSTED:return l.RESOURCE_EXHAUSTED;case Pi.INTERNAL:return l.INTERNAL;case Pi.UNAVAILABLE:return l.UNAVAILABLE;case Pi.UNAUTHENTICATED:return l.UNAUTHENTICATED;case Pi.INVALID_ARGUMENT:return l.INVALID_ARGUMENT;case Pi.NOT_FOUND:return l.NOT_FOUND;case Pi.ALREADY_EXISTS:return l.ALREADY_EXISTS;case Pi.PERMISSION_DENIED:return l.PERMISSION_DENIED;case Pi.FAILED_PRECONDITION:return l.FAILED_PRECONDITION;case Pi.ABORTED:return l.ABORTED;case Pi.OUT_OF_RANGE:return l.OUT_OF_RANGE;case Pi.UNIMPLEMENTED:return l.UNIMPLEMENTED;case Pi.DATA_LOSS:return l.DATA_LOSS;default:return Xt()}}(ur=Pi||(Pi={}))[ur.OK=0]="OK",ur[ur.CANCELLED=1]="CANCELLED",ur[ur.UNKNOWN=2]="UNKNOWN",ur[ur.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ur[ur.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ur[ur.NOT_FOUND=5]="NOT_FOUND",ur[ur.ALREADY_EXISTS=6]="ALREADY_EXISTS",ur[ur.PERMISSION_DENIED=7]="PERMISSION_DENIED",ur[ur.UNAUTHENTICATED=16]="UNAUTHENTICATED",ur[ur.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ur[ur.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ur[ur.ABORTED=10]="ABORTED",ur[ur.OUT_OF_RANGE=11]="OUT_OF_RANGE",ur[ur.UNIMPLEMENTED=12]="UNIMPLEMENTED",ur[ur.INTERNAL=13]="INTERNAL",ur[ur.UNAVAILABLE=14]="UNAVAILABLE",ur[ur.DATA_LOSS=15]="DATA_LOSS";class ah{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Es(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return Tv(this.inner)}size(){return this.innerSize}}const sO=new Ti(Bt.comparator);function dl(){return sO}const aO=new Ti(Bt.comparator);function sS(...n){let e=aO;for(const t of n)e=e.insert(t.key,t);return e}function Y0(){return new ah(n=>n.toString(),(n,e)=>n.isEqual(e))}const lO=new Ti(Bt.comparator),uO=new Fr(Bt.comparator);function mr(...n){let e=uO;for(const t of n)e=e.add(t);return e}const cO=new Fr(pt);function AC(){return cO}class Q0{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,J0.createSynthesizedTargetChangeForCurrentChange(e,t)),new Q0(Vt.min(),r,AC(),dl(),mr())}}class J0{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new J0(ii.EMPTY_BYTE_STRING,t,mr(),mr(),mr())}}class wC{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class oR{constructor(e,t){this.targetId=e,this.$=t}}class sR{constructor(e,t,r=ii.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class aR{constructor(){this.B=0,this.L=uR(),this.U=ii.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=mr(),t=mr(),r=mr();return this.L.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Xt()}}),new J0(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=uR()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class dO{constructor(e){this.nt=e,this.st=new Map,this.it=dl(),this.rt=lR(),this.ot=new Fr(pt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:Xt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const a=i.target;if(vC(a))if(0===r){const d=new Bt(a.path);this.ct(t,d,Gr.newNoDocument(d,Vt.min()))}else kn(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((a,d)=>{const m=this.wt(d);if(m){if(a.current&&vC(m.target)){const b=new Bt(m.target.path);null!==this.it.get(b)||this.It(d,b)||this.ct(d,b,Gr.newNoDocument(b,e))}a.j&&(t.set(d,a.H()),a.J())}});let r=mr();this.rt.forEach((a,d)=>{let m=!0;d.forEachWhile(b=>{const C=this.wt(b);return!C||2===C.purpose||(m=!1,!1)}),m&&(r=r.add(a))}),this.it.forEach((a,d)=>d.setReadTime(e));const i=new Q0(e,t,this.ot,this.it,r);return this.it=dl(),this.rt=lR(),this.ot=new Fr(pt),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new aR,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Fr(pt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||It("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new aR),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function lR(){return new Ti(Bt.comparator)}function uR(){return new Ti(Bt.comparator)}const fO={asc:"ASCENDING",desc:"DESCENDING"},hO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class pO{constructor(e,t){this.databaseId=e,this.N=t}}function X0(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cR(n,e){return n.N?e.toBase64():e.toUint8Array()}function gO(n,e){return X0(n,e.toTimestamp())}function ao(n){return kn(!!n),Vt.fromTimestamp(function(e){const t=rh(e);return new ln(t.seconds,t.nanos)}(n))}function aS(n,e){return(t=n,new er(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function dR(n){const e=er.fromString(n);return kn(bR(e)),e}function eb(n,e){return aS(n.databaseId,e.path)}function rc(n,e){const t=dR(e);if(t.get(1)!==n.databaseId.projectId)throw new c(l.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new c(l.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Bt(hR(t))}function lS(n,e){return aS(n.databaseId,e)}function fR(n){const e=dR(n);return 4===e.length?er.emptyPath():hR(e)}function tb(n){return new er(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function hR(n){return kn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function pR(n,e,t){return{name:eb(n,e),fields:t.value.mapValue.fields}}function gR(n,e,t){const r=rc(n,e.name),i=ao(e.updateTime),a=new ns({mapValue:{fields:e.fields}}),d=Gr.newFoundDocument(r,i,a);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function nb(n,e){let t;if(e instanceof $0)t={update:pR(n,e.key,e.value)};else if(e instanceof K0)t={delete:eb(n,e.key)};else if(e instanceof sg)t={update:pR(n,e.key,e.data),updateMask:CO(e.fieldMask)};else{if(!(e instanceof oS))return Xt();t={verify:eb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const d=a.transform;if(d instanceof kv)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ig)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof og)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Nv)return{fieldPath:a.field.canonicalString(),increment:d.k};throw Xt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:gO(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Xt()),t;var i}function uS(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Ni.updateTime(ao(i.updateTime)):void 0!==i.exists?Ni.exists(i.exists):Ni.none():Ni.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,d){let m=null;"setToServerValue"in d?(kn("REQUEST_TIME"===d.setToServerValue),m=new kv):"appendMissingElements"in d?m=new ig(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new og(d.removeAllFromArray.values||[]):"increment"in d?m=new Nv(a,d.increment):Xt();const b=ri.fromServerFormat(d.fieldPath);return new Z0(b,m)}(n,i)):[];var i;if(e.update){const i=rc(n,e.update.name),a=new ns({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new tc((e.updateMask.fieldPaths||[]).map(C=>ri.fromServerFormat(C)));return new sg(i,a,d,t,r)}return new $0(i,a,t,r)}if(e.delete){const i=rc(n,e.delete);return new K0(i,t)}if(e.verify){const i=rc(n,e.verify);return new oS(i,t)}return Xt()}function mR(n,e){return{documents:[lS(n,e.path)]}}function vR(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=lS(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=lS(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(b){if(0===b.length)return;const C=b.map(R=>function(P){if("=="===P.op){if(D1(P.value))return{unaryFilter:{field:Pv(P.field),op:"IS_NAN"}};if(C1(P.value))return{unaryFilter:{field:Pv(P.field),op:"IS_NULL"}}}else if("!="===P.op){if(D1(P.value))return{unaryFilter:{field:Pv(P.field),op:"IS_NOT_NAN"}};if(C1(P.value))return{unaryFilter:{field:Pv(P.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pv(P.field),op:EO(P.op),value:P.value}}}(R));return 1===C.length?C[0]:{compositeFilter:{op:"AND",filters:C}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(b){if(0!==b.length)return b.map(C=>{return{field:Pv((R=C).field),direction:bO(R.dir)};var R})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const d=(C=e.limit,n.N||B0(C)?C:{value:C});var C,m,b;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(b=e.endAt).inclusive,values:b.position}),t}function yR(n){let e=fR(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){kn(1===r);const R=t.from[0];R.allDescendants?i=R.collectionId:e=e.child(R.collectionId)}let a=[];t.where&&(a=_R(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(R=>{return new xv(Ov((P=R).field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction));var P}));let m=null;t.limit&&(m=function(R){let P;return P="object"==typeof R?R.value:R,B0(P)?null:P}(t.limit));let b=null;var R;t.startAt&&(b=new sh((R=t.startAt).values||[],!!R.before));let C=null;return t.endAt&&(C=function(R){return new sh(R.values||[],!R.before)}(t.endAt)),B1(e,i,d,a,m,"F",b,C)}function _R(n){return n?void 0!==n.unaryFilter?[wO(n)]:void 0!==n.fieldFilter?[AO(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>_R(e)).reduce((e,t)=>e.concat(t)):Xt():[]}function bO(n){return fO[n]}function EO(n){return hO[n]}function Pv(n){return{fieldPath:n.canonicalString()}}function Ov(n){return ri.fromServerFormat(n.fieldPath)}function AO(n){return No.create(Ov(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xt()}}(n.fieldFilter.op),n.fieldFilter.value)}function wO(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Ov(n.unaryFilter.field);return No.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Ov(n.unaryFilter.field);return No.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ov(n.unaryFilter.field);return No.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ov(n.unaryFilter.field);return No.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Xt()}}function CO(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function bR(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function As(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ER(e)),e=DO(n.get(t),e);return ER(e)}function DO(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function ER(n){return n+"\x01\x01"}function ic(n){const e=n.length;if(kn(e>=2),2===e)return kn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),er.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const d=n.indexOf("\x01",a);switch((d<0||d>t)&&Xt(),n.charAt(d+1)){case"\x01":const m=n.substring(a,d);let b;0===i.length?b=m:(i+=m,b=i,i=""),r.push(b);break;case"\x10":i+=n.substring(a,d),i+="\0";break;case"\x11":i+=n.substring(a,d+1);break;default:Xt()}a=d+2}return new er(r)}const AR=["userId","batchId"];function CC(n,e){return[n,As(e)]}function wR(n,e,t){return[n,As(e),t]}const TO={},IO=["prefixPath","collectionGroup","readTime","documentId"],SO=["prefixPath","collectionGroup","documentId"],xO=["collectionGroup","readTime","prefixPath","documentId"],MO=["canonicalId","targetId"],RO=["targetId","path"],kO=["path","targetId"],NO=["collectionId","parent"],PO=["indexId","uid"],OO=["uid","sequenceNumber"],FO=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],LO=["indexId","uid","orderedDocumentKey"],VO=["userId","collectionPath","documentId"],BO=["userId","collectionPath","largestBatchId"],UO=["userId","collectionGroup","largestBatchId"],CR=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],HO=[...CR,"documentOverlays"],DR=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],jO=[...DR,"indexConfiguration","indexState","indexEntries"],TR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Xt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Je((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Je?t:Je.resolve(t)}catch(t){return Je.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Je.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Je.reject(t)}static resolve(e){return new Je((t,r)=>{t(e)})}static reject(e){return new Je((t,r)=>{r(e)})}static waitFor(e){return new Je((t,r)=>{let i=0,a=0,d=!1;e.forEach(m=>{++i,m.next(()=>{++a,d&&a===i&&t()},b=>r(b))}),d=!0,a===i&&t()})}static or(e){let t=Je.resolve(!1);for(const r of e)t=t.next(i=>i?Je.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}}class DC{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new g,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new rb(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=cS(r.target.error);this.At.reject(new rb(e,i))}}static open(e,t,r,i){try{return new DC(t,e.transaction(i,r))}catch(a){throw new rb(t,a)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(It("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new zO(t)}}class Xl{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===Xl.Vt((0,Kn.z$)())&&gi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return It("SimpleDb","Removing database:",e),lg(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Kn.hl)())return!1;if(Xl.St())return!0;const e=(0,Kn.z$)(),t=Xl.Vt(e),r=0<t&&t<10,i=Xl.Dt(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,nt.Z)(function*(){return t.db||(It("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=d=>{r(d.target.result)},a.onblocked=()=>{i(new rb(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=d=>{const m=d.target.error;i("VersionError"===m.name?new c(l.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new c(l.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new rb(e,m))},a.onupgradeneeded=d=>{It("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.Pt.kt(d.target.result,a.transaction,d.oldVersion,t.version).next(()=>{It("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,nt.Z)(function*(){const d="readonly"===t;let m=0;for(;;){++m;try{a.db=yield a.Nt(e);const b=DC.open(a.db,e,d?"readonly":"readwrite",r),C=i(b).next(R=>(b.bt(),R)).catch(R=>(b.abort(R),Je.reject(R))).toPromise();return C.catch(()=>{}),yield b.Rt,C}catch(b){const C="FirebaseError"!==b.name&&m<3;if(It("SimpleDb","Transaction failed with error:",b.message,"Retrying:",C),a.close(),!C)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class GO{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return lg(this.Ft.delete())}}class rb extends c{constructor(e,t){super(l.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ag(n){return"IndexedDbTransactionError"===n.name}class zO{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(It("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(It("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),lg(r)}add(e){return It("SimpleDb","ADD",this.store.name,e,e),lg(this.store.add(e))}get(e){return lg(this.store.get(e)).next(t=>(void 0===t&&(t=null),It("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return It("SimpleDb","DELETE",this.store.name,e),lg(this.store.delete(e))}count(){return It("SimpleDb","COUNT",this.store.name),lg(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.Kt(i,(d,m)=>{a.push(m)}).next(()=>a)}{const i=this.store.getAll(r.range);return new Je((a,d)=>{i.onerror=m=>{d(m.target.error)},i.onsuccess=m=>{a(m.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Je((i,a)=>{r.onerror=d=>{a(d.target.error)},r.onsuccess=d=>{i(d.target.result)}})}Qt(e,t){It("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Kt(i,(a,d,m)=>m.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Kt(i,t)}zt(e){const t=this.cursor({});return new Je((r,i)=>{t.onerror=a=>{const d=cS(a.target.error);i(d)},t.onsuccess=a=>{const d=a.target.result;d?e(d.primaryKey,d.value).next(m=>{m?d.continue():r()}):r()}})}Kt(e,t){const r=[];return new Je((i,a)=>{e.onerror=d=>{a(d.target.error)},e.onsuccess=d=>{const m=d.target.result;if(!m)return void i();const b=new GO(m),C=t(m.primaryKey,m.value,b);if(C instanceof Je){const R=C.catch(P=>(b.done(),Je.reject(P)));r.push(R)}b.isDone?i():null===b.Lt?m.continue():m.continue(b.Lt)}}).next(()=>Je.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function lg(n){return new Je((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=cS(r.target.error);t(i)}})}let SR=!1;function cS(n){const e=Xl.Vt((0,Kn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new c("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return SR||(SR=!0,setTimeout(()=>{throw r},0)),r}}return n}class xR extends IR{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function lo(n,e){const t=s(n);return Xl.xt(t.Ht,e)}class dS{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&rO(a,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&iS(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&iS(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Vt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),mr())}isEqual(e){return this.batchId===e.batchId&&ut(this.mutations,e.mutations,(t,r)=>J1(t,r))&&ut(this.baseMutations,e.baseMutations,(t,r)=>J1(t,r))}}class fS{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){kn(e.mutations.length===r.length);let i=lO;const a=e.mutations;for(let d=0;d<a.length;d++)i=i.insert(a[d].key,r[d].version);return new fS(e,t,r,i)}}class hS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class lh{constructor(e,t,r,i,a=Vt.min(),d=Vt.min(),m=ii.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m}withSequenceNumber(e){return new lh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new lh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new lh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class MR{constructor(e){this.Jt=e}}function RR(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:TC(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:eb(i=n.Jt,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:X0(i,a.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:ug(e.version)};else{if(!e.isUnknownDocument())return Xt();r.unknownDocument={path:t.path.toArray(),version:ug(e.version)}}var i,a;return r}function TC(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function ug(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function cg(n){const e=new ln(n.seconds,n.nanoseconds);return Vt.fromTimestamp(e)}function Fv(n,e){const t=(e.baseMutations||[]).map(a=>uS(n.Jt,a));for(let a=0;a<e.mutations.length-1;++a){const d=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(d.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>uS(n.Jt,a)),i=ln.fromMillis(e.localWriteTimeMs);return new dS(e.batchId,i,t,r)}function ib(n){const e=cg(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?cg(n.lastLimboFreeSnapshotVersion):Vt.min();let r;var i;return void 0!==n.query.documents?(kn(1===(i=n.query).documents.length),r=cl(Mv(fR(i.documents[0])))):r=cl(yR(n.query)),new lh(r,n.targetId,0,n.lastListenSequenceNumber,e,t,ii.fromBase64String(n.resumeToken))}function kR(n,e){const t=ug(e.snapshotVersion),r=ug(e.lastLimboFreeSnapshotVersion);let i;i=vC(e.target)?mR(n.Jt,e.target):vR(n.Jt,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:rg(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function pS(n){const e=yR({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?U1(e,e.limit,"L"):e}function gS(n,e){return new hS(e.largestBatchId,uS(n.Jt,e.overlayMutation))}function NR(n,e){const t=e.path.lastSegment();return[n,As(e.path.popLast()),t]}class WO{getBundleMetadata(e,t){return PR(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:cg(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return PR(e).put({bundleId:(r=t).id,createTime:ug(ao(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return OR(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:pS(i.bundledQuery),readTime:cg(i.readTime)};var i})}saveNamedQuery(e,t){return OR(e).put({name:(r=t).name,readTime:ug(ao(r.readTime)),bundledQuery:r.bundledQuery});var r}}function PR(n){return lo(n,"bundles")}function OR(n){return lo(n,"namedQueries")}class mS{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new mS(e,t.uid||"")}getOverlay(e,t){return ob(e).get(NR(this.userId,t)).next(r=>r?gS(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((a,d)=>{const m=new hS(t,d);i.push(this.Xt(e,m))}),Je.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(d=>i.add(As(d.getCollectionPath())));const a=[];return i.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);a.push(ob(e).Qt("collectionPathOverlayIndex",m))}),Je.waitFor(a)}getOverlaysForCollection(e,t,r){const i=Y0(),a=As(t),d=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return ob(e).qt("collectionPathOverlayIndex",d).next(m=>{for(const b of m){const C=gS(this.M,b);i.set(C.getKey(),C)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=Y0();let d;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ob(e).Wt({index:"collectionGroupOverlayIndex",range:m},(b,C,R)=>{const P=gS(this.M,C);a.size()<i||P.largestBatchId===d?(a.set(P.getKey(),P),d=P.largestBatchId):R.done()}).next(()=>a)}Xt(e,t){return ob(e).put(function(r,i,a){const[d,m,b]=NR(i,a.mutation.key);return{userId:i,collectionPath:m,documentId:b,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:nb(r.Jt,a.mutation)}}(this.M,this.userId,t))}}function ob(n){return lo(n,"documentOverlays")}class dg{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(mi(e.integerValue));else if("doubleValue"in e){const r=mi(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),U0(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Xp(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?T1(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Xt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),Bt.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function ZO(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function FR(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=ZO(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}dg.fe=new dg;class $O{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=FR(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=FR(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class KO{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class YO{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class sb{constructor(){this.De=new $O,this.Ce=new KO(this.De),this.xe=new YO(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class fg{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new fg(this.indexId,this.documentKey,this.arrayValue,r)}}function hg(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=LR(n.arrayValue,e.arrayValue),0!==t?t:(t=LR(n.directionalValue,e.directionalValue),0!==t?t:Bt.comparator(n.documentKey,e.documentKey)))}function LR(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class QO{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=JI(e);if(void 0!==t&&!this.Be(t))return!1;const r=ng(e);let i=0,a=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const d=r[i];if(!this.Le(this.Fe,d)||!this.Ue(this.Me[a++],d))return!1;++i}for(;i<r.length;++i){const d=r[i];if(a>=this.Me.length||!this.Ue(this.Me[a++],d))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class JO{constructor(){this.qe=new vS}addToCollectionParentIndex(e,t){return this.qe.add(t),Je.resolve()}getCollectionParents(e,t){return Je.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return Je.resolve()}deleteFieldIndex(e,t){return Je.resolve()}getDocumentsMatchingTarget(e,t){return Je.resolve(null)}getIndexType(e,t){return Je.resolve(0)}getFieldIndexes(e,t){return Je.resolve([])}getNextCollectionGroupToUpdate(e){return Je.resolve(null)}getMinOffset(e,t){return Je.resolve(Jl.min())}updateCollectionGroup(e,t,r){return Je.resolve()}updateIndexEntries(e,t){return Je.resolve()}}class vS{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Fr(er.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Fr(er.comparator)).toArray()}}const IC=new Uint8Array(0);class XO{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new vS,this.Ge=new ah(r=>rg(r),(r,i)=>q0(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const a={collectionId:r,parent:As(i)};return VR(e).put(a)}return Je.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[hn(t),""],!1,!0);return VR(e).qt(i).next(a=>{for(const d of a){if(d.collectionId!==t)break;r.push(ic(d.parent))}return r})}addFieldIndex(e,t){const r=SC(e),i={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var a;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=SC(e),i=xC(e),a=ab(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=ab(e);let i=!0;const a=new Map;return Je.forEach(this.Qe(t),d=>this.je(e,d).next(m=>{i&&(i=!!m),a.set(d,m)})).next(()=>{if(i){let d=mr();const m=[];return Je.forEach(a,(b,C)=>{var R;It("IndexedDbIndexManager",`Using index ${R=b,`id=${R.indexId}|cg=${R.collectionGroup}|f=${R.fields.map(Mt=>`${Mt.fieldPath}:${Mt.kind}`).join(",")}`} to execute ${rg(t)}`);const P=function(Mt,wt){const mn=JI(wt);if(void 0===mn)return null;for(const pn of yC(Mt,mn.fieldPath))switch(pn.op){case"array-contains-any":return pn.value.arrayValue.values||[];case"array-contains":return[pn.value]}return null}(C,b),Z=function(Mt,wt){const mn=new Map;for(const pn of ng(wt))for(const Bn of yC(Mt,pn.fieldPath))switch(Bn.op){case"==":case"in":mn.set(pn.fieldPath.canonicalString(),Bn.value);break;case"not-in":case"!=":return mn.set(pn.fieldPath.canonicalString(),Bn.value),Array.from(mn.values())}return null}(C,b),Q=function(Mt,wt){const mn=[];let pn=!0;for(const Bn of ng(wt)){const Un=0===Bn.kind?P1(Mt,Bn.fieldPath,Mt.startAt):O1(Mt,Bn.fieldPath,Mt.startAt);mn.push(Un.value),pn&&(pn=Un.inclusive)}return new sh(mn,pn)}(C,b),te=function(Mt,wt){const mn=[];let pn=!0;for(const Bn of ng(wt)){const Un=0===Bn.kind?O1(Mt,Bn.fieldPath,Mt.endAt):P1(Mt,Bn.fieldPath,Mt.endAt);mn.push(Un.value),pn&&(pn=Un.inclusive)}return new sh(mn,pn)}(C,b),Se=this.We(b,C,Q),rt=this.We(b,C,te),ot=this.ze(b,C,Z),yt=this.He(b.indexId,P,Se,Q.inclusive,rt,te.inclusive,ot);return Je.forEach(yt,Mt=>r.Gt(Mt,t.limit).next(wt=>{wt.forEach(mn=>{const pn=Bt.fromSegments(mn.documentKey);d.has(pn)||(d=d.add(pn),m.push(pn))})}))}).next(()=>m)}return Je.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,r,i,a,d,m){const b=(null!=t?t.length:1)*Math.max(r.length,a.length),C=b/(null!=t?t.length:1),R=[];for(let P=0;P<b;++P){const Z=t?this.Je(t[P/C]):IC,Q=this.Ye(e,Z,r[P%C],i),te=this.Xe(e,Z,a[P%C],d),Se=m.map(rt=>this.Ye(e,Z,rt,!0));R.push(...this.createRange(Q,te,Se))}return R}Ye(e,t,r,i){const a=new fg(e,Bt.empty(),t,r);return i?a:a.ke()}Xe(e,t,r,i){const a=new fg(e,Bt.empty(),t,r);return i?a.ke():a}je(e,t){const r=new QO(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let d=null;for(const m of a)r.$e(m)&&(!d||m.fields.length>d.fields.length)&&(d=m);return d})}getIndexType(e,t){let r=2;return Je.forEach(this.Qe(t),i=>this.je(e,i).next(a=>{a?0!==r&&a.fields.length<function(d){let m=new Fr(ri.comparator),b=!1;for(const C of d.filters){const R=C;R.field.isKeyField()||("array-contains"===R.op||"array-contains-any"===R.op?b=!0:m=m.add(R.field))}for(const C of d.orderBy)C.field.isKeyField()||(m=m.add(C.field));return m.size+(b?1:0)}(i)&&(r=1):r=0})).next(()=>r)}Ze(e,t){const r=new sb;for(const i of ng(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const d=r.Ne(i.kind);dg.fe.Zt(a,d)}return r.Se()}Je(e){const t=new sb;return dg.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new sb;return dg.fe.Zt(tg(this.databaseId,t),r.Ne(function(i){const a=ng(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Se()}ze(e,t,r){if(null===r)return[];let i=[];i.push(new sb);let a=0;for(const d of ng(e)){const m=r[a++];for(const b of i)if(this.en(t,d.fieldPath)&&j0(m))i=this.nn(i,d,m);else{const C=b.Ne(d.kind);dg.fe.Zt(m,C)}}return this.sn(i)}We(e,t,r){return this.ze(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const i=[...e],a=[];for(const d of r.arrayValue.values||[])for(const m of i){const b=new sb;b.seed(m.Se()),dg.fe.Zt(d,b.Ne(t.kind)),a.push(b)}return a}en(e,t){return!!e.filters.find(r=>r instanceof No&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=SC(e),i=xC(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(a=>{const d=[];return Je.forEach(a,m=>i.get([m.indexId,this.uid]).next(b=>{d.push(function(C,R){const P=R?new z0(R.sequenceNumber,new Jl(cg(R.readTime),new Bt(ic(R.documentKey)),R.largestBatchId)):z0.empty(),Z=C.fields.map(([Q,te])=>new gC(ri.fromServerFormat(Q),te));return new pC(C.indexId,C.collectionGroup,Z,P)}(m,b))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:pt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=SC(e),a=xC(e);return this.rn(e).next(d=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>Je.forEach(m,b=>{return a.put({indexId:b.indexId,uid:this.user.uid||"",sequenceNumber:d,readTime:ug((Z=r).readTime),documentKey:As(Z.documentKey.path),largestBatchId:Z.largestBatchId});var Z})))}updateIndexEntries(e,t){const r=new Map;return Je.forEach(t,(i,a)=>{const d=r.get(i.collectionGroup);return(d?Je.resolve(d):this.getFieldIndexes(e,i.collectionGroup)).next(m=>(r.set(i.collectionGroup,m),Je.forEach(m,b=>this.on(e,i,b).next(C=>{const R=this.un(a,b);return C.isEqual(R)?Je.resolve():this.an(e,a,b,C,R)}))))})}cn(e,t,r,i){return ab(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,i){return ab(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const i=ab(e);let a=new Fr(hg);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(d,m)=>{a=a.add(new fg(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>a)}un(e,t){let r=new Fr(hg);const i=this.Ze(t,e);if(null==i)return r;const a=JI(t);if(null!=a){const d=e.data.field(a.fieldPath);if(j0(d))for(const m of d.arrayValue.values||[])r=r.add(new fg(t.indexId,e.key,this.Je(m),i))}else r=r.add(new fg(t.indexId,e.key,IC,i));return r}an(e,t,r,i,a){It("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(m,b,C,R,P){const Z=m.getIterator(),Q=b.getIterator();let te=Sv(Z),Se=Sv(Q);for(;te||Se;){let rt=!1,ot=!1;if(te&&Se){const yt=C(te,Se);yt<0?ot=!0:yt>0&&(rt=!0)}else null!=te?ot=!0:rt=!0;rt?(R(Se),Se=Sv(Q)):ot?(P(te),te=Sv(Z)):(te=Sv(Z),Se=Sv(Q))}}(i,a,hg,m=>{d.push(this.cn(e,t,r,m))},m=>{d.push(this.hn(e,t,r,m))}),Je.waitFor(d)}rn(e){let t=1;return xC(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,m)=>hg(d,m)).filter((d,m,b)=>!m||0!==hg(d,b[m-1]));const i=[];i.push(e);for(const d of r){const m=hg(d,e),b=hg(d,t);if(0===m)i[0]=e.ke();else if(m>0&&b<0)i.push(d),i.push(d.ke());else if(b>0)break}i.push(t);const a=[];for(let d=0;d<i.length;d+=2)a.push(IDBKeyRange.bound([i[d].indexId,this.uid,i[d].arrayValue,i[d].directionalValue,IC,[]],[i[d+1].indexId,this.uid,i[d+1].arrayValue,i[d+1].directionalValue,IC,[]]));return a}getMinOffset(e,t){let r;return Je.forEach(this.Qe(t),i=>this.je(e,i).next(a=>{a?(!r||R1(a.indexState.offset,r)<0)&&(r=a.indexState.offset):r=Jl.min()})).next(()=>r)}}function VR(n){return lo(n,"collectionParents")}function ab(n){return lo(n,"indexEntries")}function SC(n){return lo(n,"indexConfiguration")}function xC(n){return lo(n,"indexState")}const BR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ks{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ks(e,Ks.DEFAULT_COLLECTION_PERCENTILE,Ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function UR(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],d=IDBKeyRange.only(t.batchId);let m=0;const b=r.Wt({range:d},(R,P,Z)=>(m++,Z.delete()));a.push(b.next(()=>{kn(1===m)}));const C=[];for(const R of t.mutations){const P=wR(e,R.key.path,t.batchId);a.push(i.delete(P)),C.push(R.key)}return Je.waitFor(a).next(()=>C)}function MC(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Xt();e=n.noDocument}return JSON.stringify(e).length}Ks.DEFAULT_COLLECTION_PERCENTILE=10,Ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ks.DEFAULT=new Ks(41943040,Ks.DEFAULT_COLLECTION_PERCENTILE,Ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ks.DISABLED=new Ks(-1,0,0);class yS{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.ln={}}static Yt(e,t,r,i){kn(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new yS(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return uh(e).Wt({index:"userMutationsIndex",range:r},(i,a,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=Lv(e),d=uh(e);return d.add({}).next(m=>{kn("number"==typeof m);const b=new dS(m,t,r,i),C=function(Z,Q,te){const Se=te.baseMutations.map(ot=>nb(Z.Jt,ot)),rt=te.mutations.map(ot=>nb(Z.Jt,ot));return{userId:Q,batchId:te.batchId,localWriteTimeMs:te.localWriteTime.toMillis(),baseMutations:Se,mutations:rt}}(this.M,this.userId,b),R=[];let P=new Fr((Z,Q)=>pt(Z.canonicalString(),Q.canonicalString()));for(const Z of i){const Q=wR(this.userId,Z.key.path,m);P=P.add(Z.key.path.popLast()),R.push(d.put(C)),R.push(a.put(Q,TO))}return P.forEach(Z=>{R.push(this.indexManager.addToCollectionParentIndex(e,Z))}),e.addOnCommittedListener(()=>{this.ln[m]=b.keys()}),Je.waitFor(R).next(()=>b)})}lookupMutationBatch(e,t){return uh(e).get(t).next(r=>r?(kn(r.userId===this.userId),Fv(this.M,r)):null)}fn(e,t){return this.ln[t]?Je.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.ln[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return uh(e).Wt({index:"userMutationsIndex",range:i},(d,m,b)=>{m.userId===this.userId&&(kn(m.batchId>=r),a=Fv(this.M,m)),b.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return uh(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,a,d)=>{r=a.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return uh(e).qt("userMutationsIndex",t).next(r=>r.map(i=>Fv(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=CC(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Lv(e).Wt({range:i},(d,m,b)=>{const[C,R,P]=d,Z=ic(R);if(C===this.userId&&t.path.isEqual(Z))return uh(e).get(P).next(Q=>{if(!Q)throw Xt();kn(Q.userId===this.userId),a.push(Fv(this.M,Q))});b.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Fr(pt);const i=[];return t.forEach(a=>{const d=CC(this.userId,a.path),m=IDBKeyRange.lowerBound(d),b=Lv(e).Wt({range:m},(C,R,P)=>{const[Z,Q,te]=C,Se=ic(Q);Z===this.userId&&a.path.isEqual(Se)?r=r.add(te):P.done()});i.push(b)}),Je.waitFor(i).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=CC(this.userId,r),d=IDBKeyRange.lowerBound(a);let m=new Fr(pt);return Lv(e).Wt({range:d},(b,C,R)=>{const[P,Z,Q]=b,te=ic(Z);P===this.userId&&r.isPrefixOf(te)?te.length===i&&(m=m.add(Q)):R.done()}).next(()=>this.dn(e,m))}dn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(uh(e).get(a).next(d=>{if(null===d)throw Xt();kn(d.userId===this.userId),r.push(Fv(this.M,d))}))}),Je.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return UR(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),Je.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Je.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Lv(e).Wt({range:r},(a,d,m)=>{if(a[0]===this.userId){const b=ic(a[1]);i.push(b)}else m.done()}).next(()=>{kn(0===i.length)})})}containsKey(e,t){return HR(e,this.userId,t)}wn(e){return jR(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function HR(n,e,t){const r=CC(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let d=!1;return Lv(n).Wt({range:a,jt:!0},(m,b,C)=>{const[R,P,Z]=m;R===e&&P===i&&(d=!0),C.done()}).next(()=>d)}function uh(n){return lo(n,"mutations")}function Lv(n){return lo(n,"documentMutations")}function jR(n){return lo(n,"mutationQueues")}class pg{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new pg(0)}static yn(){return new pg(-1)}}class eF{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new pg(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>Vt.fromTimestamp(new ln(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.In(e,i)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Vv(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(kn(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return Vv(e).Wt((d,m)=>{const b=ib(m);b.sequenceNumber<=t&&null===r.get(b.targetId)&&(i++,a.push(this.removeTargetData(e,b)))}).next(()=>Je.waitFor(a)).next(()=>i)}forEachTarget(e,t){return Vv(e).Wt((r,i)=>{const a=ib(i);t(a)})}pn(e){return GR(e).get("targetGlobalKey").next(t=>(kn(null!==t),t))}In(e,t){return GR(e).put("targetGlobalKey",t)}Tn(e,t){return Vv(e).put(kR(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=rg(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return Vv(e).Wt({range:i,index:"queryTargetsIndex"},(d,m,b)=>{const C=ib(m);q0(t,C.target)&&(a=C,b.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=ch(e);return t.forEach(d=>{const m=As(d.path);i.push(a.put({targetId:r,path:m})),i.push(this.referenceDelegate.addReference(e,r,d))}),Je.waitFor(i)}removeMatchingKeys(e,t,r){const i=ch(e);return Je.forEach(t,a=>{const d=As(a.path);return Je.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=ch(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=ch(e);let a=mr();return i.Wt({range:r,jt:!0},(d,m,b)=>{const C=ic(d[1]),R=new Bt(C);a=a.add(R)}).next(()=>a)}containsKey(e,t){const r=As(t.path),i=IDBKeyRange.bound([r],[hn(r)],!1,!0);let a=0;return ch(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([d,m],b,C)=>{0!==d&&(a++,C.done())}).next(()=>a>0)}Et(e,t){return Vv(e).get(t).next(r=>r?ib(r):null)}}function Vv(n){return lo(n,"targets")}function GR(n){return lo(n,"targetGlobal")}function ch(n){return lo(n,"targetDocuments")}function gg(n){return _S.apply(this,arguments)}function _S(){return _S=(0,nt.Z)(function*(n){if(n.code!==l.FAILED_PRECONDITION||n.message!==TR)throw n;It("LocalStore","Unexpectedly lost primary lease")}),_S.apply(this,arguments)}function zR([n,e],[t,r]){const i=pt(n,t);return 0===i?pt(e,r):i}class tF{constructor(e){this.An=e,this.buffer=new Fr(zR),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();zR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class nF{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;It("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,nt.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){ag(i)?It("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield gg(i)}yield t.Sn(e)}))}}class rF{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Je.resolve(Ke.A);const r=new tF(t);return this.Dn.forEachTarget(e,i=>r.Pn(i.sequenceNumber)).next(()=>this.Dn.xn(e,i=>r.Pn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(It("LruGarbageCollector","Garbage collection skipped; disabled"),Je.resolve(BR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(It("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),BR):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,i,a,d,m,b,C;const R=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(P=>(P>this.params.maximumSequenceNumbersToCollect?(It("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${P}`),i=this.params.maximumSequenceNumbersToCollect):i=P,d=Date.now(),this.nthSequenceNumber(e,i))).next(P=>(r=P,m=Date.now(),this.removeTargets(e,r,t))).next(P=>(a=P,b=Date.now(),this.removeOrphanedDocuments(e,r))).next(P=>(C=Date.now(),cC()<=$u.in.DEBUG&&It("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-R}ms\n\tDetermined least recently used ${i} in `+(m-d)+`ms\n\tRemoved ${a} targets in `+(b-m)+`ms\n\tRemoved ${P} documents in `+(C-b)+`ms\nTotal Duration: ${C-R}ms`),Je.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:P})))}}class iF{constructor(e,t){this.db=e,this.garbageCollector=new rF(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,i)=>t(i))}addReference(e,t,r){return RC(e,r)}removeReference(e,t,r){return RC(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return RC(e,t)}On(e,t){return function(r,i){let a=!1;return jR(r).zt(d=>HR(r,d,i).next(m=>(m&&(a=!0),Je.resolve(!m)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Mn(e,(d,m)=>{if(m<=t){const b=this.On(e,d).next(C=>{if(!C)return a++,r.getEntry(e,d).next(()=>(r.removeEntry(d,Vt.min()),ch(e).delete([0,As(d.path)])))});i.push(b)}}).next(()=>Je.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return RC(e,t)}Mn(e,t){const r=ch(e);let i,a=Ke.A;return r.Wt({index:"documentTargetsIndex"},([d,m],{path:b,sequenceNumber:C})=>{0===d?(a!==Ke.A&&t(new Bt(ic(i)),a),a=C,i=b):a=Ke.A}).next(()=>{a!==Ke.A&&t(new Bt(ic(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function RC(n,e){return ch(n).put((r=n.currentSequenceNumber,{targetId:0,path:As(e.path),sequenceNumber:r}));var r}class qR{constructor(){this.changes=new ah(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Gr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Je.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class oF{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return mg(e).put(r)}removeEntry(e,t,r){return mg(e).delete(function(i,a){const d=i.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],TC(a),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=Gr.newInvalidDocument(t);return mg(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(lb(t))},(i,a)=>{r=this.$n(t,a)}).next(()=>r)}Bn(e,t){let r={size:0,document:Gr.newInvalidDocument(t)};return mg(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(lb(t))},(i,a)=>{r={document:this.$n(t,a),size:MC(a)}}).next(()=>r)}getEntries(e,t){let r=dl();return this.Ln(e,t,(i,a)=>{const d=this.$n(i,a);r=r.insert(i,d)}).next(()=>r)}Un(e,t){let r=dl(),i=new Ti(Bt.comparator);return this.Ln(e,t,(a,d)=>{const m=this.$n(a,d);r=r.insert(a,m),i=i.insert(a,MC(d))}).next(()=>({documents:r,qn:i}))}Ln(e,t,r){if(t.isEmpty())return Je.resolve();let i=new Fr($R);t.forEach(b=>i=i.add(b));const a=IDBKeyRange.bound(lb(i.first()),lb(i.last())),d=i.getIterator();let m=d.getNext();return mg(e).Wt({index:"documentKeyIndex",range:a},(b,C,R)=>{const P=Bt.fromSegments([...C.prefixPath,C.collectionGroup,C.documentId]);for(;m&&$R(m,P)<0;)r(m,null),m=d.getNext();m&&m.isEqual(P)&&(r(m,C),m=d.hasNext()?d.getNext():null),m?R.Ut(lb(m)):R.done()}).next(()=>{for(;m;)r(m,null),m=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),TC(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return mg(e).qt(IDBKeyRange.bound(i,a,!0)).next(d=>{let m=dl();for(const b of d){const C=this.$n(Bt.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);m=m.insert(C.key,C)}return m})}getAllFromCollectionGroup(e,t,r,i){let a=dl();const d=ZR(t,r),m=ZR(t,Jl.max());return mg(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(b,C,R)=>{const P=this.$n(Bt.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);a=a.insert(P.key,P),a.size===i&&R.done()}).next(()=>a)}newChangeBuffer(e){return new sF(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return WR(e).get("remoteDocumentGlobalKey").next(t=>(kn(!!t),t))}Fn(e,t){return WR(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function qO(n,e){let t;if(e.document)t=gR(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Bt.fromSegments(e.noDocument.path),i=cg(e.noDocument.readTime);t=Gr.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Xt();{const r=Bt.fromSegments(e.unknownDocument.path),i=cg(e.unknownDocument.version);t=Gr.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new ln(r[0],r[1]);return Vt.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(Vt.min()))return r}return Gr.newInvalidDocument(e)}}class sF extends qR{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new ah(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Fr((a,d)=>pt(a.canonicalString(),d.canonicalString()));return this.changes.forEach((a,d)=>{const m=this.Gn.get(a);if(t.push(this.Kn.removeEntry(e,a,m.readTime)),d.isValidDocument()){const b=RR(this.Kn.M,d);i=i.add(a.path.popLast()),r+=MC(b)-m.size,t.push(this.Kn.addEntry(e,a,b))}else if(r-=m.size,this.trackRemovals){const b=RR(this.Kn.M,d.convertToNoDocument(Vt.min()));t.push(this.Kn.addEntry(e,a,b))}}),i.forEach(a=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Kn.updateMetadata(e,r)),Je.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:i})=>(i.forEach((a,d)=>{this.Gn.set(a,{size:d,readTime:r.get(a).readTime})}),r))}}function WR(n){return lo(n,"remoteDocumentGlobal")}function mg(n){return lo(n,"remoteDocumentsV14")}function lb(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ZR(n,e){const t=e.documentKey.path.toArray();return[n,TC(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function $R(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=pt(t[a],r[a]),i)return i;return i=pt(t.length,r.length),i||(i=pt(t[t.length-2],r[r.length-2]),i||pt(t[t.length-1],r[r.length-1]))}class aF{constructor(e){this.M=e}kt(e,t,r,i){const a=new DC("createOrUpgrade",t);var m;r<1&&i>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",AR,{unique:!0}),m.createObjectStore("documentMutations"),KR(e),function(m){m.createObjectStore("remoteDocuments")}(e));let d=Je.resolve();return r<3&&i>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),KR(e)),d=d.next(()=>function(m){const b=m.store("targetGlobal"),C={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Vt.min().toTimestamp(),targetCount:0};return b.put("targetGlobalKey",C)}(a))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(m,b){return b.store("mutations").qt().next(C=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",AR,{unique:!0});const R=b.store("mutations"),P=C.map(Z=>R.put(Z));return Je.waitFor(P)})}(e,a))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.Qn(a))),r<6&&i>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.jn(a)))),r<7&&i>=7&&(d=d.next(()=>this.Wn(a))),r<8&&i>=8&&(d=d.next(()=>this.zn(e,a))),r<9&&i>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(d=d.next(()=>this.Hn(a))),r<11&&i>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(d=d.next(()=>{!function(m){const b=m.createObjectStore("documentOverlays",{keyPath:VO});b.createIndex("collectionPathOverlayIndex",BO,{unique:!1}),b.createIndex("collectionGroupOverlayIndex",UO,{unique:!1})}(e)})),r<13&&i>=13&&(d=d.next(()=>function(m){const b=m.createObjectStore("remoteDocumentsV14",{keyPath:IO});b.createIndex("documentKeyIndex",SO),b.createIndex("collectionGroupIndex",xO)}(e)).next(()=>this.Jn(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(d=d.next(()=>{!function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:PO}).createIndex("sequenceNumberIndex",OO,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:FO}).createIndex("documentKeyIndex",LO,{unique:!1})}(e)})),d}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=MC(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>Je.forEach(i,a=>{const d=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",d).next(m=>Je.forEach(m,b=>{kn(b.userId===a.userId);const C=Fv(this.M,b);return UR(e,a.userId,C).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Wt((d,m)=>{const b=new er(d),C=[0,As(b)];a.push(t.get(C).next(R=>R?Je.resolve():t.put({targetId:0,path:As(b),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>Je.waitFor(a))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:NO});const r=t.store("collectionParents"),i=new vS,a=d=>{if(i.add(d)){const m=d.lastSegment(),b=d.popLast();return r.put({collectionId:m,parent:As(b)})}};return t.store("remoteDocuments").Wt({jt:!0},(d,m)=>{const b=new er(d);return a(b.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([d,m,b],C)=>{const R=ic(m);return a(R.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,i)=>{const a=ib(i),d=kR(this.M,a);return t.put(d)})}Jn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((a,d)=>{const m=t.store("remoteDocumentsV14"),b=(C=d,C.document?new Bt(er.fromString(C.document.name).popFirst(5)):C.noDocument?Bt.fromSegments(C.noDocument.path):C.unknownDocument?Bt.fromSegments(C.unknownDocument.path):Xt()).path.toArray();var C;const R={prefixPath:b.slice(0,b.length-2),collectionGroup:b[b.length-2],documentId:b[b.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};i.push(m.put(R))}).next(()=>Je.waitFor(i))}}function KR(n){n.createObjectStore("targetDocuments",{keyPath:RO}).createIndex("documentTargetsIndex",kO,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",MO,{unique:!0}),n.createObjectStore("targetGlobal")}const bS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ES{constructor(e,t,r,i,a,d,m,b,C,R,P=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=a,this.window=d,this.document=m,this.Xn=C,this.Zn=R,this.ts=P,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=Z=>Promise.resolve(),!ES.vt())throw new c(l.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new iF(this,i),this.hs=t+"main",this.M=new MR(b),this.ls=new Xl(this.hs,this.ts,new aF(this.M)),this.fs=new eF(this.referenceDelegate,this.M),this.ds=new oF(this.M),this._s=new WO,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===R&&gi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new c(l.FAILED_PRECONDITION,bS);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new Ke(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,nt.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,nt.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,nt.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>kC(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if(ag(e))return It("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return It("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return ub(e).get("owner").next(t=>Je.resolve(this.Ps(t)))}Vs(e){return kC(e).delete(this.clientId)}vs(){var e=this;return(0,nt.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=lo(r,"clientMetadata");return i.qt().next(a=>{const d=e.Ds(a,18e5),m=a.filter(b=>-1===d.indexOf(b));return Je.forEach(m,b=>i.delete(b.clientId)).next(()=>m)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?Je.resolve(!0):ub(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new c(l.FAILED_PRECONDITION,bS);return!1}}return!(!this.networkEnabled||!this.inForeground)||kC(e).qt().next(r=>void 0===this.Ds(r,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,m=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&It("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,nt.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new xR(t,Ke.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>kC(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return yS.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new XO(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return mS.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){It("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=14===(d=this.ts)?jO:13===d?DR:12===d?HO:11===d?CR:void Xt();var d;let m;return this.ls.runTransaction(e,i,a,b=>(m=new xR(b,this.es?this.es.next():Ke.A),"readwrite-primary"===t?this.Es(m).next(C=>!!C||this.As(m)).next(C=>{if(!C)throw gi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new c(l.FAILED_PRECONDITION,TR);return r(m)}).next(C=>this.bs(m).next(()=>C)):this.$s(m).next(()=>r(m)))).then(b=>(m.raiseOnCommittedEvent(),b))}$s(e){return ub(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.Ps(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new c(l.FAILED_PRECONDITION,bS)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ub(e).put("owner",t)}static vt(){return Xl.vt()}Rs(e){const t=ub(e);return t.get("owner").next(r=>this.Ps(r)?(It("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Je.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(gi(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Kn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return It("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return gi("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){gi("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ub(n){return lo(n,"owner")}function kC(n){return lo(n,"clientMetadata")}function AS(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class lF{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(i=>{for(const a of r)a.applyToLocalView(i);return i})}qs(e,t){e.forEach((r,i)=>{for(const a of t)a.applyToLocalView(i)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return Bt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,t.path):tS(t)?this.Ws(e,t,r):this.zs(e,t,r);var i}js(e,t){return this.Ls(e,new Bt(t)).next(r=>{let i=sS();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,t,r){const i=t.collectionGroup;let a=sS();return this.indexManager.getCollectionParents(e,i).next(d=>Je.forEach(d,m=>{const b=(C=t,R=m.child(i),new hd(R,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,R;return this.zs(e,b,r).next(C=>{C.forEach((R,P)=>{a=a.insert(R,P)})})}).next(()=>a))}zs(e,t,r){let i;return this.ds.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(a=>{for(const d of a)for(const m of d.mutations){const b=m.key;let C=i.get(b);null==C&&(C=Gr.newInvalidDocument(b),i=i.insert(b,C)),iS(m,C,d.localWriteTime),C.isFoundDocument()||(i=i.remove(b))}}).next(()=>(i.forEach((a,d)=>{rS(t,d)||(i=i.remove(a))}),i))}}class wS{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=i}static Ys(e,t){let r=mr(),i=mr();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new wS(e,t.fromCache,r,i)}}class YR{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,r,i){return this.ti(e,t).next(a=>a||this.ei(e,t,i,r)).next(a=>a||this.ni(e,t))}ti(e,t){return Je.resolve(null)}ei(e,t,r,i){return function QP(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||i.isEqual(Vt.min())?this.ni(e,t):this.Zs.Ks(e,r).next(a=>{const d=this.si(t,a);return this.ii(t,d,r,i)?this.ni(e,t):(cC()<=$u.in.DEBUG&&It("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),nS(t)),this.ri(e,d,t,M1(i,-1)))})}si(e,t){let r=new Fr(G1(e));return t.forEach((i,a)=>{rS(e,a)&&(r=r.add(a))}),r}ii(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ni(e,t){return cC()<=$u.in.DEBUG&&It("QueryEngine","Using full collection scan to execute query:",nS(t)),this.Zs.Qs(e,t,Jl.min())}ri(e,t,r,i){return this.Zs.Qs(e,r,i).next(a=>(t.forEach(d=>{a=a.insert(d.key,d)}),a))}}class uF{constructor(e,t,r,i){this.persistence=e,this.oi=t,this.M=i,this.ui=new Ti(pt),this.ai=new ah(a=>rg(a),q0),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(r)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new lF(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function QR(n,e,t,r){return new uF(n,e,t,r)}function JR(n,e){return CS.apply(this,arguments)}function CS(){return CS=(0,nt.Z)(function*(n,e){const t=s(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.Bs.getAllMutationBatches(r).next(a=>(i=a,t.li(e),t.Bs.getAllMutationBatches(r))).next(a=>{const d=[],m=[];let b=mr();for(const C of i){d.push(C.batchId);for(const R of C.mutations)b=b.add(R.key)}for(const C of a){m.push(C.batchId);for(const R of C.mutations)b=b.add(R.key)}return t.fi.Ks(r,b).next(C=>({di:C,removedBatchIds:d,addedBatchIds:m}))})})}),CS.apply(this,arguments)}function cF(n,e){const t=s(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.hi.newChangeBuffer({trackRemovals:!0});return function(d,m,b,C){const R=b.batch,P=R.keys();let Z=Je.resolve();return P.forEach(Q=>{Z=Z.next(()=>C.getEntry(m,Q)).next(te=>{const Se=b.docVersions.get(Q);kn(null!==Se),te.version.compareTo(Se)<0&&(R.applyToRemoteDocument(te,b),te.isValidDocument()&&(te.setReadTime(b.commitVersion),C.addEntry(te)))})}),Z.next(()=>d.Bs.removeMutationBatch(m,R))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.fi.Ks(r,i))})}function XR(n){const e=s(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function dF(n,e){const t=s(n),r=e.snapshotVersion;let i=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const d=t.hi.newChangeBuffer({trackRemovals:!0});i=t.ui;const m=[];e.targetChanges.forEach((C,R)=>{const P=i.get(R);if(!P)return;m.push(t.fs.removeMatchingKeys(a,C.removedDocuments,R).next(()=>t.fs.addMatchingKeys(a,C.addedDocuments,R)));let Z=P.withSequenceNumber(a.currentSequenceNumber);var Q,te,Se;e.targetMismatches.has(R)?Z=Z.withResumeToken(ii.EMPTY_BYTE_STRING,Vt.min()).withLastLimboFreeSnapshotVersion(Vt.min()):C.resumeToken.approximateByteSize()>0&&(Z=Z.withResumeToken(C.resumeToken,r)),i=i.insert(R,Z),te=Z,Se=C,(0===(Q=P).resumeToken.approximateByteSize()||te.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=3e8||Se.addedDocuments.size+Se.modifiedDocuments.size+Se.removedDocuments.size>0)&&m.push(t.fs.updateTargetData(a,Z))});let b=dl();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(a,C))}),m.push(ek(a,d,e.documentUpdates).next(C=>{b=C})),!r.isEqual(Vt.min())){const C=t.fs.getLastRemoteSnapshotVersion(a).next(R=>t.fs.setTargetsMetadata(a,a.currentSequenceNumber,r));m.push(C)}return Je.waitFor(m).next(()=>d.apply(a)).next(()=>t.fi.Gs(a,b)).next(()=>b)}).then(a=>(t.ui=i,a))}function ek(n,e,t){let r=mr();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let a=dl();return t.forEach((d,m)=>{const b=i.get(d);m.isNoDocument()&&m.version.isEqual(Vt.min())?(e.removeEntry(d,m.readTime),a=a.insert(d,m)):!b.isValidDocument()||m.version.compareTo(b.version)>0||0===m.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(m),a=a.insert(d,m)):It("LocalStore","Ignoring outdated watch update for ",d,". Current version:",b.version," Watch version:",m.version)}),a})}function fF(n,e){const t=s(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function Bv(n,e){const t=s(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.fs.getTargetData(r,e).next(a=>a?(i=a,Je.resolve(i)):t.fs.allocateTargetId(r).next(d=>(i=new lh(e,d,0,r.currentSequenceNumber),t.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ui=t.ui.insert(r.targetId,r),t.ai.set(e,r.targetId)),r})}function Uv(n,e,t){return DS.apply(this,arguments)}function DS(){return DS=(0,nt.Z)(function*(n,e,t){const r=s(n),i=r.ui.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!ag(d))throw d;It("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.ui=r.ui.remove(e),r.ai.delete(i.target)}),DS.apply(this,arguments)}function NC(n,e,t){const r=s(n);let i=Vt.min(),a=mr();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,b,C){const R=s(m),P=R.ai.get(C);return void 0!==P?Je.resolve(R.ui.get(P)):R.fs.getTargetData(b,C)}(r,d,cl(e)).next(m=>{if(m)return i=m.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(d,m.targetId).next(b=>{a=b})}).next(()=>r.oi.Qs(d,e,t?i:Vt.min(),t?a:mr())).next(m=>(rk(r,j1(e),m),{documents:m,_i:a})))}function tk(n,e){const t=s(n),r=s(t.fs),i=t.ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.Et(a,e).next(d=>d?d.target:null))}function nk(n,e){const t=s(n),r=t.ci.get(e)||Vt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.hi.getAllFromCollectionGroup(i,e,M1(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(rk(t,e,i),i))}function rk(n,e,t){let r=Vt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.ci.set(e,r)}function TS(){return TS=(0,nt.Z)(function*(n,e,t,r){const i=s(n);let a=mr(),d=dl();for(const C of t){const R=e.wi(C.metadata.name);C.document&&(a=a.add(R));const P=e.mi(C);P.setReadTime(e.gi(C.metadata.readTime)),d=d.insert(R,P)}const m=i.hi.newChangeBuffer({trackRemovals:!0}),b=yield Bv(i,(C=r,cl(Mv(er.fromString(`__bundle__/docs/${C}`)))));var C;return i.persistence.runTransaction("Apply bundle documents","readwrite",C=>ek(C,m,d).next(R=>(m.apply(C),R)).next(R=>i.fs.removeMatchingKeysForTargetId(C,b.targetId).next(()=>i.fs.addMatchingKeys(C,a,b.targetId)).next(()=>i.fi.Gs(C,R)).next(()=>R)))}),TS.apply(this,arguments)}function pF(n,e){return IS.apply(this,arguments)}function IS(){return IS=(0,nt.Z)(function*(n,e,t=mr()){const r=yield Bv(n,cl(pS(e.bundledQuery))),i=s(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const d=ao(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i._s.saveNamedQuery(a,e);const m=r.withResumeToken(ii.EMPTY_BYTE_STRING,d);return i.ui=i.ui.insert(m.targetId,m),i.fs.updateTargetData(a,m).next(()=>i.fs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.fs.addMatchingKeys(a,t,r.targetId)).next(()=>i._s.saveNamedQuery(a,e))})}),IS.apply(this,arguments)}class gF{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return Je.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var r;return this.yi.set(t.id,{id:(r=t).id,version:r.version,createTime:ao(r.createTime)}),Je.resolve()}getNamedQuery(e,t){return Je.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(r=t).name,query:pS(r.bundledQuery),readTime:ao(r.readTime)}),Je.resolve();var r}}class mF{constructor(){this.overlays=new Ti(Bt.comparator),this.Ii=new Map}getOverlay(e,t){return Je.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.Xt(e,t,a)}),Je.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ii.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ii.delete(r)),Je.resolve()}getOverlaysForCollection(e,t,r){const i=Y0(),a=t.length+1,d=new Bt(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const b=m.getNext().value,C=b.getKey();if(!t.isPrefixOf(C.path))break;C.path.length===a&&b.largestBatchId>r&&i.set(b.getKey(),b)}return Je.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Ti((C,R)=>C-R);const d=this.overlays.getIterator();for(;d.hasNext();){const C=d.getNext().value;if(C.getKey().getCollectionGroup()===t&&C.largestBatchId>r){let R=a.get(C.largestBatchId);null===R&&(R=Y0(),a=a.insert(C.largestBatchId,R)),R.set(C.getKey(),C)}}const m=Y0(),b=a.getIterator();for(;b.hasNext()&&(b.getNext().value.forEach((C,R)=>m.set(C,R)),!(m.size()>=i)););return Je.resolve(m)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const d=this.Ii.get(i.largestBatchId).delete(r.key);this.Ii.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new hS(t,r));let a=this.Ii.get(t);void 0===a&&(a=mr(),this.Ii.set(t,a)),this.Ii.set(t,a.add(r.key))}}class SS{constructor(){this.Ti=new Fr(uo.Ei),this.Ai=new Fr(uo.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const r=new uo(e,t);this.Ti=this.Ti.add(r),this.Ai=this.Ai.add(r)}bi(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Pi(new uo(e,t))}Vi(e,t){e.forEach(r=>this.removeReference(r,t))}vi(e){const t=new Bt(new er([])),r=new uo(t,e),i=new uo(t,e+1),a=[];return this.Ai.forEachInRange([r,i],d=>{this.Pi(d),a.push(d.key)}),a}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new Bt(new er([])),r=new uo(t,e),i=new uo(t,e+1);let a=mr();return this.Ai.forEachInRange([r,i],d=>{a=a.add(d.key)}),a}containsKey(e){const t=new uo(e,0),r=this.Ti.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class uo{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return Bt.comparator(e.key,t.key)||pt(e.Ci,t.Ci)}static Ri(e,t){return pt(e.Ci,t.Ci)||Bt.comparator(e.key,t.key)}}class vF{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new Fr(uo.Ei)}checkEmpty(e){return Je.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,i){const a=this.xi;this.xi++;const d=new dS(a,t,r,i);this.Bs.push(d);for(const m of i)this.Ni=this.Ni.add(new uo(m.key,a)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Je.resolve(d)}lookupMutationBatch(e,t){return Je.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Mi(t+1),a=i<0?0:i;return Je.resolve(this.Bs.length>a?this.Bs[a]:null)}getHighestUnacknowledgedBatchId(){return Je.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return Je.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new uo(t,0),i=new uo(t,Number.POSITIVE_INFINITY),a=[];return this.Ni.forEachInRange([r,i],d=>{const m=this.ki(d.Ci);a.push(m)}),Je.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Fr(pt);return t.forEach(i=>{const a=new uo(i,0),d=new uo(i,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([a,d],m=>{r=r.add(m.Ci)})}),Je.resolve(this.Oi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Bt.isDocumentKey(a)||(a=a.child(""));const d=new uo(new Bt(a),0);let m=new Fr(pt);return this.Ni.forEachWhile(b=>{const C=b.key.path;return!!r.isPrefixOf(C)&&(C.length===i&&(m=m.add(b.Ci)),!0)},d),Je.resolve(this.Oi(m))}Oi(e){const t=[];return e.forEach(r=>{const i=this.ki(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){kn(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let r=this.Ni;return Je.forEach(t.mutations,i=>{const a=new uo(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Ni=r})}_n(e){}containsKey(e,t){const r=new uo(t,0),i=this.Ni.firstAfterOrEqual(r);return Je.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Je.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class yF{constructor(e){this.$i=e,this.docs=new Ti(Bt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,d=this.$i(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Je.resolve(r?r.document.mutableCopy():Gr.newInvalidDocument(t))}getEntries(e,t){let r=dl();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Gr.newInvalidDocument(i))}),Je.resolve(r)}getAllFromCollection(e,t,r){let i=dl();const a=new Bt(t.child("")),d=this.docs.getIteratorFrom(a);for(;d.hasNext();){const{key:m,value:{document:b}}=d.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||R1(UP(b),r)<=0||(i=i.insert(b.key,b.mutableCopy()))}return Je.resolve(i)}getAllFromCollectionGroup(e,t,r,i){Xt()}Bi(e,t){return Je.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new _F(this)}getSize(e){return Je.resolve(this.size)}}class _F extends qR{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),Je.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class bF{constructor(e){this.persistence=e,this.Li=new ah(t=>rg(t),q0),this.lastRemoteSnapshotVersion=Vt.min(),this.highestTargetId=0,this.Ui=0,this.qi=new SS,this.targetCount=0,this.Ki=pg.gn()}forEachTarget(e,t){return this.Li.forEach((r,i)=>t(i)),Je.resolve()}getLastRemoteSnapshotVersion(e){return Je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Je.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),Je.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ui&&(this.Ui=t),Je.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new pg(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,Je.resolve()}updateTargetData(e,t){return this.Tn(t),Je.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,Je.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Li.forEach((d,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Li.delete(d),a.push(this.removeMatchingKeysForTargetId(e,m.targetId)),i++)}),Je.waitFor(a).next(()=>i)}getTargetCount(e){return Je.resolve(this.targetCount)}getTargetData(e,t){const r=this.Li.get(t)||null;return Je.resolve(r)}addMatchingKeys(e,t,r){return this.qi.bi(t,r),Je.resolve()}removeMatchingKeys(e,t,r){this.qi.Vi(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(d=>{a.push(i.markPotentiallyOrphaned(e,d))}),Je.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),Je.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qi.Di(t);return Je.resolve(r)}containsKey(e,t){return Je.resolve(this.qi.containsKey(t))}}class EF{constructor(e,t){this.Gi={},this.overlays={},this.es=new Ke(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new bF(this),this.indexManager=new JO,this.ds=new yF(r=>this.referenceDelegate.Qi(r)),this.M=new MR(t),this._s=new gF(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mF,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Gi[e.toKey()];return r||(r=new vF(t,this.referenceDelegate),this.Gi[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){It("MemoryPersistence","Starting transaction:",e);const i=new AF(this.es.next());return this.referenceDelegate.ji(),r(i).next(a=>this.referenceDelegate.Wi(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}zi(e,t){return Je.or(Object.values(this.Gi).map(r=>()=>r.containsKey(e,t)))}}class AF extends IR{constructor(e){super(),this.currentSequenceNumber=e}}class xS{constructor(e){this.persistence=e,this.Hi=new SS,this.Ji=null}static Yi(e){return new xS(e)}get Xi(){if(this.Ji)return this.Ji;throw Xt()}addReference(e,t,r){return this.Hi.addReference(r,t),this.Xi.delete(r.toString()),Je.resolve()}removeReference(e,t,r){return this.Hi.removeReference(r,t),this.Xi.add(r.toString()),Je.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),Je.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(i=>this.Xi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Xi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Je.forEach(this.Xi,r=>{const i=Bt.fromPath(r);return this.Zi(e,i).next(a=>{a||t.removeEntry(i,Vt.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(r=>{r?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return Je.or([()=>Je.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function ik(n,e){return`firestore_clients_${n}_${e}`}function ok(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function MS(n,e){return`firestore_targets_${n}_${e}`}class PC{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static tr(e,t,r){const i=JSON.parse(r);let a,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(a=new c(i.error.code,i.error.message))),d?new PC(e,t,i.state,a):(gi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class cb{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static tr(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new c(r.error.code,r.error.message))),a?new cb(e,r.state,i):(gi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class OC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=AC();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=A1(r.activeTargetIds[d]),a=a.add(r.activeTargetIds[d]);return i?new OC(e,a):(gi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class RS{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new RS(t.clientId,t.onlineState):(gi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class kS{constructor(){this.activeTargetIds=AC()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NS{constructor(e,t,r,i,a){this.window=e,this.Yn=t,this.persistenceKey=r,this.ir=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new Ti(pt),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.hr=ik(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new kS),this.dr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,nt.Z)(function*(){const t=yield e.syncEngine.Fs();for(const i of t){if(i===e.ir)continue;const a=e.getItem(ik(e.persistenceKey,i));if(a){const d=OC.tr(i,a);d&&(e.ar=e.ar.insert(d.clientId,d))}}e.yr();const r=e.storage.getItem(e.mr);if(r){const i=e.pr(r);i&&e.Ir(i)}for(const i of e.cr)e.ur(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,r){this.Er(e,t,r),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(MS(this.persistenceKey,e));if(r){const i=cb.tr(e,r);i&&(t=i.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(MS(this.persistenceKey,e))}updateQueryState(e,t,r){this.br(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Ar(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return It("SharedClientState","READ",e,t),t}setItem(e,t){It("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){It("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const r=e;if(r.storageArea===this.storage){if(It("SharedClientState","EVENT",r.key,r.newValue),r.key===this.hr)return void gi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,nt.Z)(function*(){if(t.started){if(null!==r.key)if(t.dr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Sr(i,null)}{const i=t.Dr(r.key,r.newValue);if(i)return t.Sr(i.clientId,i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Cr(r.key,r.newValue);if(i)return t.Nr(i)}}else if(t.wr.test(r.key)){if(null!==r.newValue){const i=t.kr(r.key,r.newValue);if(i)return t.Mr(i)}}else if(r.key===t.mr){if(null!==r.newValue){const i=t.pr(r.newValue);if(i)return t.Ir(i)}}else if(r.key===t.lr){const i=function(a){let d=Ke.A;if(null!=a)try{const m=JSON.parse(a);kn("number"==typeof m),d=m}catch(m){gi("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(r.newValue);i!==Ke.A&&t.sequenceNumberHandler(i)}else if(r.key===t.gr){const i=t.Or(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Fr(a)))}}else t.cr.push(r)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,r){const i=new PC(this.currentUser,e,t,r),a=ok(this.persistenceKey,this.currentUser,e);this.setItem(a,i.er())}Ar(e){const t=ok(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,r){const i=MS(this.persistenceKey,e),a=new cb(e,t,r);this.setItem(i,a.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const r=this.vr(e);return OC.tr(r,t)}Cr(e,t){const r=this._r.exec(e),i=Number(r[1]);return PC.tr(new Zi(void 0!==r[2]?r[2]:null),i,t)}kr(e,t){const r=this.wr.exec(e),i=Number(r[1]);return cb.tr(i,t)}pr(e){return RS.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,nt.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);It("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Tr(this.ar),a=this.Tr(r),d=[],m=[];return a.forEach(b=>{i.has(b)||d.push(b)}),i.forEach(b=>{a.has(b)||m.push(b)}),this.syncEngine.Lr(d,m).then(()=>{this.ar=r})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=AC();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class sk{constructor(){this.Ur=new kS,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new kS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class wF{Kr(e){}shutdown(){}}class ak{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){It("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){It("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const CF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class DF{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class TF extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,i,a){const d=this.ho(e,t);It("RestConnection","Sending: ",d,r);const m={};return this.lo(m,i,a),this.fo(e,d,m,r).then(b=>(It("RestConnection","Received: ",b),b),b=>{throw Dv("RestConnection",`${e} failed with error: `,b,"url: ",d,"request:",r),b})}_o(e,t,r,i,a){return this.co(e,t,r,i,a)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Jp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}ho(e,t){return`${this.uo}/v1/${t}:${CF[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((a,d)=>{const m=new _1;m.listenOnce(aC.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case sC.NO_ERROR:const C=m.getResponseJson();It("Connection","XHR received:",JSON.stringify(C)),a(C);break;case sC.TIMEOUT:It("Connection",'RPC "'+e+'" timed out'),d(new c(l.DEADLINE_EXCEEDED,"Request time out"));break;case sC.HTTP_ERROR:const R=m.getStatus();if(It("Connection",'RPC "'+e+'" failed with status:',R,"response text:",m.getResponseText()),R>0){const P=m.getResponseJson().error;if(P&&P.status&&P.message){const Z=function(Q){const te=Q.toLowerCase().replace(/_/g,"-");return Object.values(l).indexOf(te)>=0?te:l.UNKNOWN}(P.status);d(new c(Z,P.message))}else d(new c(l.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new c(l.UNAVAILABLE,"Connection failed."));break;default:Xt()}}finally{It("Connection",'RPC "'+e+'" completed.')}});const b=JSON.stringify(i);m.send(t,"POST",b,r,15)})}wo(e,t,r){const i=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=oC(),d=k0(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new $I({})),this.lo(m.initMessageHeaders,t,r),(0,Kn.uI)()||(0,Kn.b$)()||(0,Kn.d)()||(0,Kn.w1)()||(0,Kn.Mn)()||(0,Kn.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const b=i.join("");It("Connection","Creating WebChannel: "+b,m);const C=a.createWebChannel(b,m);let R=!1,P=!1;const Z=new DF({Jr:te=>{P?It("Connection","Not sending because WebChannel is closed:",te):(R||(It("Connection","Opening WebChannel transport."),C.open(),R=!0),It("Connection","WebChannel sending:",te),C.send(te))},Yr:()=>C.close()}),Q=(te,Se,rt)=>{te.listen(Se,ot=>{try{rt(ot)}catch(yt){setTimeout(()=>{throw yt},0)}})};return Q(C,P0.EventType.OPEN,()=>{P||It("Connection","WebChannel transport opened.")}),Q(C,P0.EventType.CLOSE,()=>{P||(P=!0,It("Connection","WebChannel transport closed"),Z.ro())}),Q(C,P0.EventType.ERROR,te=>{P||(P=!0,Dv("Connection","WebChannel transport errored:",te),Z.ro(new c(l.UNAVAILABLE,"The operation could not be completed")))}),Q(C,P0.EventType.MESSAGE,te=>{var Se;if(!P){const rt=te.data[0];kn(!!rt);const ot=rt,yt=ot.error||(null===(Se=ot[0])||void 0===Se?void 0:Se.error);if(yt){It("Connection","WebChannel received error:",yt);const Mt=yt.status;let wt=function(pn){const Bn=Pi[pn];if(void 0!==Bn)return iR(Bn)}(Mt),mn=yt.message;void 0===wt&&(wt=l.INTERNAL,mn="Unknown error status: "+Mt+" with message "+yt.message),P=!0,Z.ro(new c(wt,mn)),C.close()}else It("Connection","WebChannel received:",rt),Z.oo(rt)}}),Q(d,N0.STAT_EVENT,te=>{te.stat===lC.PROXY?It("Connection","Detected buffering proxy"):te.stat===lC.NOPROXY&&It("Connection","Detected no buffering proxy")}),setTimeout(()=>{Z.io()},0),Z}}function lk(){return"undefined"!=typeof window?window:null}function FC(){return"undefined"!=typeof document?document:null}function db(n){return new pO(n,!0)}class PS{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Yn=e,this.timerId=t,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&It("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class uk{constructor(e,t,r,i,a,d,m,b){this.Yn=e,this.Vo=r,this.vo=i,this.So=a,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=b,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new PS(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,nt.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,nt.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,nt.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===l.RESOURCE_EXHAUSTED?(gi(t.toString()),gi("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===l.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===t&&this.Qo(r,i)},r=>{e(()=>{const i=new c(l.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.No.Ro((0,nt.Z)(function*(){e.state=0,e.start()}))}jo(e){return It("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(It("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IF extends uk{constructor(e,t,r,i,a,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.M=a}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function vO(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(b=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===b?1:"REMOVE"===b?2:"CURRENT"===b?3:"RESET"===b?4:Xt(),i=e.targetChange.targetIds||[],a=function(b,C){return b.N?(kn(void 0===C||"string"==typeof C),ii.fromBase64String(C||"")):(kn(void 0===C||C instanceof Uint8Array),ii.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(b){const C=void 0===b.code?l.UNKNOWN:iR(b.code);return new c(C,b.message||"")}(d);t=new sR(r,i,a,m||null)}else if("documentChange"in e){const r=e.documentChange,i=rc(n,r.document.name),a=ao(r.document.updateTime),d=new ns({mapValue:{fields:r.document.fields}}),m=Gr.newFoundDocument(i,a,d);t=new wC(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,i=rc(n,r.document),a=r.readTime?ao(r.readTime):Vt.min(),d=Gr.newNoDocument(i,a);t=new wC([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=rc(n,r.document);t=new wC([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Xt();{const r=e.filter,a=new oO(r.count||0);t=new oR(r.targetId,a)}}var b;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return Vt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Vt.min():a.readTime?ao(a.readTime):Vt.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=tb(this.M),t.addTarget=function(i,a){let d;const m=a.target;return d=vC(m)?{documents:mR(i,m)}:{query:vR(i,m)},d.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?d.resumeToken=cR(i,a.resumeToken):a.snapshotVersion.compareTo(Vt.min())>0&&(d.readTime=X0(i,a.snapshotVersion.toTimestamp())),d}(this.M,e);const r=function _O(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Xt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=tb(this.M),t.removeTarget=e,this.Lo(t)}}class SF extends uk{constructor(e,t,r,i,a,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.M=a,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(kn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function yO(n,e){return n&&n.length>0?(kn(void 0!==e),n.map(t=>function(r,i){let a=ao(r.updateTime?r.updateTime:i);return a.isEqual(Vt.min())&&(a=ao(i)),new nO(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ao(e.commitTime);return this.listener.tu(r,t)}return kn(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=tb(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>nb(this.M,r))};this.Lo(t)}}class xF extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.M=i,this.su=!1}iu(){if(this.su)throw new c(l.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.So.co(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===l.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new c(l.UNKNOWN,i.toString())})}_o(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.So._o(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===l.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new c(l.UNKNOWN,i.toString())})}terminate(){this.su=!0}}class MF{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(gi(t),this.uu=!1):It("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class RF{constructor(e,t,r,i,a){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=a,this.gu.Kr(m=>{r.enqueueAndForget((0,nt.Z)(function*(){var b;dh(d)&&(It("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,nt.Z)(function*(C){const R=s(C);R.wu.add(4),yield Hv(R),R.yu.set("Unknown"),R.wu.delete(4),yield fb(R)}),function(C){return b.apply(this,arguments)})(d))}))}),this.yu=new MF(r,i)}}function fb(n){return OS.apply(this,arguments)}function OS(){return OS=(0,nt.Z)(function*(n){if(dh(n))for(const e of n.mu)yield e(!0)}),OS.apply(this,arguments)}function Hv(n){return FS.apply(this,arguments)}function FS(){return FS=(0,nt.Z)(function*(n){for(const e of n.mu)yield e(!1)}),FS.apply(this,arguments)}function LC(n,e){const t=s(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),BS(t)?VS(t):Gv(t).Mo()&&LS(t,e))}function hb(n,e){const t=s(n),r=Gv(t);t._u.delete(e),r.Mo()&&ck(t,e),0===t._u.size&&(r.Mo()?r.$o():dh(t)&&t.yu.set("Unknown"))}function LS(n,e){n.pu.Z(e.targetId),Gv(n).Ho(e)}function ck(n,e){n.pu.Z(e),Gv(n).Jo(e)}function VS(n){n.pu=new dO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n._u.get(e)||null}),Gv(n).start(),n.yu.au()}function BS(n){return dh(n)&&!Gv(n).ko()&&n._u.size>0}function dh(n){return 0===s(n).wu.size}function dk(n){n.pu=void 0}function kF(n){return US.apply(this,arguments)}function US(){return US=(0,nt.Z)(function*(n){n._u.forEach((e,t)=>{LS(n,e)})}),US.apply(this,arguments)}function NF(n,e){return HS.apply(this,arguments)}function HS(){return HS=(0,nt.Z)(function*(n,e){dk(n),BS(n)?(n.yu.lu(e),VS(n)):n.yu.set("Unknown")}),HS.apply(this,arguments)}function PF(n,e,t){return jS.apply(this,arguments)}function jS(){return jS=(0,nt.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof sR&&2===e.state&&e.cause)try{yield(r=(0,nt.Z)(function*(i,a){const d=a.cause;for(const m of a.targetIds)i._u.has(m)&&(yield i.remoteSyncer.rejectListen(m,d),i._u.delete(m),i.pu.removeTarget(m))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){It("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield VC(n,r)}else if(e instanceof wC?n.pu.ut(e):e instanceof oR?n.pu._t(e):n.pu.ht(e),!t.isEqual(Vt.min()))try{const r=yield XR(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const d=i.pu.yt(a);return d.targetChanges.forEach((m,b)=>{if(m.resumeToken.approximateByteSize()>0){const C=i._u.get(b);C&&i._u.set(b,C.withResumeToken(m.resumeToken,a))}}),d.targetMismatches.forEach(m=>{const b=i._u.get(m);if(!b)return;i._u.set(m,b.withResumeToken(ii.EMPTY_BYTE_STRING,b.snapshotVersion)),ck(i,m);const C=new lh(b.target,m,1,b.sequenceNumber);LS(i,C)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){It("RemoteStore","Failed to raise snapshot:",r),yield VC(n,r)}var r}),jS.apply(this,arguments)}function VC(n,e,t){return GS.apply(this,arguments)}function GS(){return GS=(0,nt.Z)(function*(n,e,t){if(!ag(e))throw e;n.wu.add(1),yield Hv(n),n.yu.set("Offline"),t||(t=()=>XR(n.localStore)),n.asyncQueue.enqueueRetryable((0,nt.Z)(function*(){It("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield fb(n)}))}),GS.apply(this,arguments)}function fk(n,e){return e().catch(t=>VC(n,t,e))}function jv(n){return zS.apply(this,arguments)}function zS(){return zS=(0,nt.Z)(function*(n){const e=s(n),t=fh(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;OF(e);)try{const i=yield fF(e.localStore,r);if(null===i){0===e.du.length&&t.$o();break}r=i.batchId,FF(e,i)}catch(i){yield VC(e,i)}hk(e)&&pk(e)}),zS.apply(this,arguments)}function OF(n){return dh(n)&&n.du.length<10}function FF(n,e){n.du.push(e);const t=fh(n);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function hk(n){return dh(n)&&!fh(n).ko()&&n.du.length>0}function pk(n){fh(n).start()}function LF(n){return qS.apply(this,arguments)}function qS(){return qS=(0,nt.Z)(function*(n){fh(n).nu()}),qS.apply(this,arguments)}function VF(n){return WS.apply(this,arguments)}function WS(){return WS=(0,nt.Z)(function*(n){const e=fh(n);for(const t of n.du)e.Zo(t.mutations)}),WS.apply(this,arguments)}function BF(n,e,t){return ZS.apply(this,arguments)}function ZS(){return ZS=(0,nt.Z)(function*(n,e,t){const r=n.du.shift(),i=fS.from(r,e,t);yield fk(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield jv(n)}),ZS.apply(this,arguments)}function UF(n,e){return $S.apply(this,arguments)}function $S(){return $S=(0,nt.Z)(function*(n,e){var t;e&&fh(n).Xo&&(yield(t=(0,nt.Z)(function*(r,i){if(rR(a=i.code)&&a!==l.ABORTED){const d=r.du.shift();fh(r).Fo(),yield fk(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield jv(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),hk(n)&&pk(n)}),$S.apply(this,arguments)}function gk(n,e){return KS.apply(this,arguments)}function KS(){return KS=(0,nt.Z)(function*(n,e){const t=s(n);t.asyncQueue.verifyOperationInProgress(),It("RemoteStore","RemoteStore received new credentials");const r=dh(t);t.wu.add(3),yield Hv(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield fb(t)}),KS.apply(this,arguments)}function YS(n,e){return QS.apply(this,arguments)}function QS(){return QS=(0,nt.Z)(function*(n,e){const t=s(n);e?(t.wu.delete(2),yield fb(t)):e||(t.wu.add(2),yield Hv(t),t.yu.set("Unknown"))}),QS.apply(this,arguments)}function Gv(n){return n.Iu||(n.Iu=function(e,t,r){const i=s(e);return i.iu(),new IF(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:kF.bind(null,n),eo:NF.bind(null,n),zo:PF.bind(null,n)}),n.mu.push(function(){var e=(0,nt.Z)(function*(t){t?(n.Iu.Fo(),BS(n)?VS(n):n.yu.set("Unknown")):(yield n.Iu.stop(),dk(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function fh(n){return n.Tu||(n.Tu=function(e,t,r){const i=s(e);return i.iu(),new SF(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:LF.bind(null,n),eo:UF.bind(null,n),eu:VF.bind(null,n),tu:BF.bind(null,n)}),n.mu.push(function(){var e=(0,nt.Z)(function*(t){t?(n.Tu.Fo(),yield jv(n)):(yield n.Tu.stop(),n.du.length>0&&(It("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class JS{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new g,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,a){const d=Date.now()+r,m=new JS(e,t,d,i,a);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new c(l.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zv(n,e){if(gi("AsyncQueue",`${e}: ${n}`),ag(n))return new c(l.UNAVAILABLE,`${e}: ${n}`);throw n}class qv{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Bt.comparator(t.key,r.key):(t,r)=>Bt.comparator(t.key,r.key),this.keyedMap=sS(),this.sortedSet=new Ti(this.comparator)}static emptySet(e){return new qv(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof qv)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new qv;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class mk{constructor(){this.Eu=new Ti(Bt.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):Xt():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Wv{constructor(e,t,r,i,a,d,m,b){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=b}static fromInitialDocuments(e,t,r,i){const a=[];return t.forEach(d=>{a.push({type:0,doc:d})}),new Wv(e,t,qv.emptySet(t),a,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&W0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class HF{constructor(){this.Ru=void 0,this.listeners=[]}}class jF{constructor(){this.queries=new ah(e=>H1(e),W0),this.onlineState="Unknown",this.bu=new Set}}function XS(n,e){return ex.apply(this,arguments)}function ex(){return ex=(0,nt.Z)(function*(n,e){const t=s(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new HF),i)try{a.Ru=yield t.onListen(r)}catch(d){const m=zv(d,`Initialization of query '${nS(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,a),a.listeners.push(e),e.Pu(t.onlineState),a.Ru&&e.Vu(a.Ru)&&rx(t)}),ex.apply(this,arguments)}function tx(n,e){return nx.apply(this,arguments)}function nx(){return nx=(0,nt.Z)(function*(n,e){const t=s(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const d=a.listeners.indexOf(e);d>=0&&(a.listeners.splice(d,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),nx.apply(this,arguments)}function GF(n,e){const t=s(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const m of d.listeners)m.Vu(i)&&(r=!0);d.Ru=i}}r&&rx(t)}function zF(n,e,t){const r=s(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function rx(n){n.bu.forEach(e=>{e.next()})}class ix{constructor(e,t,r){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Wv(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Wv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class qF{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class vk{constructor(e){this.M=e}wi(e){return rc(this.M,e)}mi(e){return e.metadata.exists?gR(this.M,e.document,!1):Gr.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return ao(e)}}class WF{constructor(e,t,r){this.Ou=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=yk(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=er.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new vk(this.M);for(const i of e)if(i.metadata.queries){const a=r.wi(i.metadata.name);for(const d of i.metadata.queries){const m=(t.get(d)||mr()).add(a);t.set(d,m)}}return t}complete(){var e=this;return(0,nt.Z)(function*(){const t=yield function hF(n,e,t,r){return TS.apply(this,arguments)}(e.localStore,new vk(e.M),e.documents,e.Ou.id),r=e.$u(e.documents);for(const i of e.queries)yield pF(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function yk(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class _k{constructor(e){this.key=e}}class bk{constructor(e){this.key=e}}class Ek{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=mr(),this.mutatedKeys=mr(),this.Gu=G1(e),this.Qu=new qv(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new mk,i=t?t.Qu:this.Qu;let a=t?t.mutatedKeys:this.mutatedKeys,d=i,m=!1;const b="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,C="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((R,P)=>{const Z=i.get(R),Q=rS(this.query,P)?P:null,te=!!Z&&this.mutatedKeys.has(Z.key),Se=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let rt=!1;Z&&Q?Z.data.isEqual(Q.data)?te!==Se&&(r.track({type:3,doc:Q}),rt=!0):this.Hu(Z,Q)||(r.track({type:2,doc:Q}),rt=!0,(b&&this.Gu(Q,b)>0||C&&this.Gu(Q,C)<0)&&(m=!0)):!Z&&Q?(r.track({type:0,doc:Q}),rt=!0):Z&&!Q&&(r.track({type:1,doc:Z}),rt=!0,(b||C)&&(m=!0)),rt&&(Q?(d=d.add(Q),a=Se?a.add(R):a.delete(R)):(d=d.delete(R),a=a.delete(R)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const R="F"===this.query.limitType?d.last():d.first();d=d.delete(R.key),a=a.delete(R.key),r.track({type:1,doc:R})}return{Qu:d,zu:r,ii:m,mutatedKeys:a}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const a=e.zu.Au();a.sort((C,R)=>function(P,Z){const Q=te=>{switch(te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xt()}};return Q(P)-Q(Z)}(C.type,R.type)||this.Gu(C.doc,R.doc)),this.Ju(r);const d=t?this.Yu():[],m=0===this.Ku.size&&this.current?1:0,b=m!==this.qu;return this.qu=m,0!==a.length||b?{snapshot:new Wv(this.query,e.Qu,i,a,e.mutatedKeys,0===m,b,!1),Xu:d}:{Xu:d}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new mk,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=mr(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new bk(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new _k(r))}),t}ta(e){this.Uu=e._i,this.Ku=mr();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return Wv.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class ZF{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class $F{constructor(e){this.key=e,this.na=!1}}class KF{constructor(e,t,r,i,a,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=d,this.sa={},this.ia=new ah(m=>H1(m),W0),this.ra=new Map,this.oa=new Set,this.ua=new Ti(Bt.comparator),this.aa=new Map,this.ca=new SS,this.ha={},this.la=new Map,this.fa=pg.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function YF(n,e){return ox.apply(this,arguments)}function ox(){return ox=(0,nt.Z)(function*(n,e){const t=Sx(n);let r,i;const a=t.ia.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.ea();else{const d=yield Bv(t.localStore,cl(e));t.isPrimaryClient&&LC(t.remoteStore,d);const m=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield sx(t,e,r,"current"===m)}return i}),ox.apply(this,arguments)}function sx(n,e,t,r){return ax.apply(this,arguments)}function ax(){return ax=(0,nt.Z)(function*(n,e,t,r){n._a=(R,P,Z)=>{return(Q=(0,nt.Z)(function*(te,Se,rt,ot){let yt=Se.view.Wu(rt);yt.ii&&(yt=yield NC(te.localStore,Se.query,!1).then(({documents:mn})=>Se.view.Wu(mn,yt)));const Mt=ot&&ot.targetChanges.get(Se.targetId),wt=Se.view.applyChanges(yt,te.isPrimaryClient,Mt);return vx(te,Se.targetId,wt.Xu),wt.snapshot}),function(te,Se,rt,ot){return Q.apply(this,arguments)})(n,R,P,Z);var Q};const i=yield NC(n.localStore,e,!0),a=new Ek(e,i._i),d=a.Wu(i.documents),m=J0.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),b=a.applyChanges(d,n.isPrimaryClient,m);vx(n,t,b.Xu);const C=new ZF(e,t,a);return n.ia.set(e,C),n.ra.has(t)?n.ra.get(t).push(e):n.ra.set(t,[e]),b.snapshot}),ax.apply(this,arguments)}function QF(n,e){return lx.apply(this,arguments)}function lx(){return lx=(0,nt.Z)(function*(n,e){const t=s(n),r=t.ia.get(e),i=t.ra.get(r.targetId);if(i.length>1)return t.ra.set(r.targetId,i.filter(a=>!W0(a,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Uv(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),hb(t.remoteStore,r.targetId),Zv(t,r.targetId)}).catch(gg))):(Zv(t,r.targetId),yield Uv(t.localStore,r.targetId,!0))}),lx.apply(this,arguments)}function ux(){return ux=(0,nt.Z)(function*(n,e,t){const r=xx(n);try{const i=yield function(a,d){const m=s(a),b=ln.now(),C=d.reduce((P,Z)=>P.add(Z.key),mr());let R;return m.persistence.runTransaction("Locally write mutations","readwrite",P=>m.fi.Ks(P,C).next(Z=>{R=Z;const Q=[];for(const te of d){const Se=iO(te,R.get(te.key));null!=Se&&Q.push(new sg(te.key,Se,x1(Se.value.mapValue),Ni.exists(!0)))}return m.Bs.addMutationBatch(P,b,Q,d)})).then(P=>(P.applyToLocalDocumentSet(R),{batchId:P.batchId,changes:R}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,d,m){let b=a.ha[a.currentUser.toKey()];b||(b=new Ti(pt)),b=b.insert(d,m),a.ha[a.currentUser.toKey()]=b}(r,i.batchId,t),yield pd(r,i.changes),yield jv(r.remoteStore)}catch(i){const a=zv(i,"Failed to persist write");t.reject(a)}}),ux.apply(this,arguments)}function Ak(n,e){return cx.apply(this,arguments)}function cx(){return cx=(0,nt.Z)(function*(n,e){const t=s(n);try{const r=yield dF(t.localStore,e);e.targetChanges.forEach((i,a)=>{const d=t.aa.get(a);d&&(kn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.na=!0:i.modifiedDocuments.size>0?kn(d.na):i.removedDocuments.size>0&&(kn(d.na),d.na=!1))}),yield pd(t,r,e)}catch(r){yield gg(r)}}),cx.apply(this,arguments)}function wk(n,e,t){const r=s(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ia.forEach((a,d)=>{const m=d.view.Pu(e);m.snapshot&&i.push(m.snapshot)}),function(a,d){const m=s(a);m.onlineState=d;let b=!1;m.queries.forEach((C,R)=>{for(const P of R.listeners)P.Pu(d)&&(b=!0)}),b&&rx(m)}(r.eventManager,e),i.length&&r.sa.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function XF(n,e,t){return dx.apply(this,arguments)}function dx(){return dx=(0,nt.Z)(function*(n,e,t){const r=s(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.aa.get(e),a=i&&i.key;if(a){let d=new Ti(Bt.comparator);d=d.insert(a,Gr.newNoDocument(a,Vt.min()));const m=mr().add(a),b=new Q0(Vt.min(),new Map,new Fr(pt),d,m);yield Ak(r,b),r.ua=r.ua.remove(a),r.aa.delete(e),yx(r)}else yield Uv(r.localStore,e,!1).then(()=>Zv(r,e,t)).catch(gg)}),dx.apply(this,arguments)}function eL(n,e){return fx.apply(this,arguments)}function fx(){return fx=(0,nt.Z)(function*(n,e){const t=s(n),r=e.batch.batchId;try{const i=yield cF(t.localStore,e);mx(t,r,null),gx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield pd(t,i)}catch(i){yield gg(i)}}),fx.apply(this,arguments)}function tL(n,e,t){return hx.apply(this,arguments)}function hx(){return hx=(0,nt.Z)(function*(n,e,t){const r=s(n);try{const i=yield function(a,d){const m=s(a);return m.persistence.runTransaction("Reject batch","readwrite-primary",b=>{let C;return m.Bs.lookupMutationBatch(b,d).next(R=>(kn(null!==R),C=R.keys(),m.Bs.removeMutationBatch(b,R))).next(()=>m.Bs.performConsistencyCheck(b)).next(()=>m.fi.Ks(b,C))})}(r.localStore,e);mx(r,e,t),gx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield pd(r,i)}catch(i){yield gg(i)}}),hx.apply(this,arguments)}function px(){return px=(0,nt.Z)(function*(n,e){const t=s(n);dh(t.remoteStore)||It("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const d=s(a);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.Bs.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const i=t.la.get(r)||[];i.push(e),t.la.set(r,i)}catch(r){const i=zv(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),px.apply(this,arguments)}function gx(n,e){(n.la.get(e)||[]).forEach(t=>{t.resolve()}),n.la.delete(e)}function mx(n,e,t){const r=s(n);let i=r.ha[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.ha[r.currentUser.toKey()]=i}}function Zv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ra.get(e))n.ia.delete(r),t&&n.sa.wa(r,t);n.ra.delete(e),n.isPrimaryClient&&n.ca.vi(e).forEach(r=>{n.ca.containsKey(r)||Ck(n,r)})}function Ck(n,e){n.oa.delete(e.path.canonicalString());const t=n.ua.get(e);null!==t&&(hb(n.remoteStore,t),n.ua=n.ua.remove(e),n.aa.delete(t),yx(n))}function vx(n,e,t){for(const r of t)r instanceof _k?(n.ca.addReference(r.key,e),rL(n,r)):r instanceof bk?(It("SyncEngine","Document no longer in limbo: "+r.key),n.ca.removeReference(r.key,e),n.ca.containsKey(r.key)||Ck(n,r.key)):Xt()}function rL(n,e){const t=e.key,r=t.path.canonicalString();n.ua.get(t)||n.oa.has(r)||(It("SyncEngine","New document in limbo: "+t),n.oa.add(r),yx(n))}function yx(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const e=n.oa.values().next().value;n.oa.delete(e);const t=new Bt(er.fromString(e)),r=n.fa.next();n.aa.set(r,new $F(t)),n.ua=n.ua.insert(t,r),LC(n.remoteStore,new lh(cl(Mv(t.path)),r,2,Ke.A))}}function pd(n,e,t){return _x.apply(this,arguments)}function _x(){return _x=(0,nt.Z)(function*(n,e,t){const r=s(n),i=[],a=[],d=[];var m;r.ia.isEmpty()||(r.ia.forEach((m,b)=>{d.push(r._a(b,e,t).then(C=>{if(C){r.isPrimaryClient&&r.sharedClientState.updateQueryState(b.targetId,C.fromCache?"not-current":"current"),i.push(C);const R=wS.Ys(b.targetId,C);a.push(R)}}))}),yield Promise.all(d),r.sa.zo(i),yield(m=(0,nt.Z)(function*(b,C){const R=s(b);try{yield R.persistence.runTransaction("notifyLocalViewChanges","readwrite",P=>Je.forEach(C,Z=>Je.forEach(Z.Hs,Q=>R.persistence.referenceDelegate.addReference(P,Z.targetId,Q)).next(()=>Je.forEach(Z.Js,Q=>R.persistence.referenceDelegate.removeReference(P,Z.targetId,Q)))))}catch(P){if(!ag(P))throw P;It("LocalStore","Failed to update sequence numbers: "+P)}for(const P of C){const Z=P.targetId;if(!P.fromCache){const Q=R.ui.get(Z),Se=Q.withLastLimboFreeSnapshotVersion(Q.snapshotVersion);R.ui=R.ui.insert(Z,Se)}}}),function(b,C){return m.apply(this,arguments)})(r.localStore,a))}),_x.apply(this,arguments)}function iL(n,e){return bx.apply(this,arguments)}function bx(){return bx=(0,nt.Z)(function*(n,e){const t=s(n);if(!t.currentUser.isEqual(e)){It("SyncEngine","User change. New user:",e.toKey());const r=yield JR(t.localStore,e);t.currentUser=e,(i=t).la.forEach(d=>{d.forEach(m=>{m.reject(new c(l.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.la.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield pd(t,r.di)}var i}),bx.apply(this,arguments)}function oL(n,e){const t=s(n),r=t.aa.get(e);if(r&&r.na)return mr().add(r.key);{let i=mr();const a=t.ra.get(e);if(!a)return i;for(const d of a){const m=t.ia.get(d);i=i.unionWith(m.view.ju)}return i}}function sL(n,e){return Ex.apply(this,arguments)}function Ex(){return Ex=(0,nt.Z)(function*(n,e){const t=s(n),r=yield NC(t.localStore,e.query,!0),i=e.view.ta(r);return t.isPrimaryClient&&vx(t,e.targetId,i.Xu),i}),Ex.apply(this,arguments)}function aL(n,e){return Ax.apply(this,arguments)}function Ax(){return Ax=(0,nt.Z)(function*(n,e){const t=s(n);return nk(t.localStore,e).then(r=>pd(t,r))}),Ax.apply(this,arguments)}function lL(n,e,t,r){return wx.apply(this,arguments)}function wx(){return wx=(0,nt.Z)(function*(n,e,t,r){const i=s(n),a=yield function(d,m){const b=s(d),C=s(b.Bs);return b.persistence.runTransaction("Lookup mutation documents","readonly",R=>C.fn(R,m).next(P=>P?b.fi.Ks(R,P):Je.resolve(null)))}(i.localStore,e);var m;null!==a?("pending"===t?yield jv(i.remoteStore):"acknowledged"===t||"rejected"===t?(mx(i,e,r||null),gx(i,e),m=e,s(s(i.localStore).Bs)._n(m)):Xt(),yield pd(i,a)):It("SyncEngine","Cannot apply mutation batch with id: "+e)}),wx.apply(this,arguments)}function Cx(){return Cx=(0,nt.Z)(function*(n,e){const t=s(n);if(Sx(t),xx(t),!0===e&&!0!==t.da){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield Dk(t,r.toArray());t.da=!0,yield YS(t.remoteStore,!0);for(const a of i)LC(t.remoteStore,a)}else if(!1===e&&!1!==t.da){const r=[];let i=Promise.resolve();t.ra.forEach((a,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(Zv(t,d),Uv(t.localStore,d,!0))),hb(t.remoteStore,d)}),yield i,yield Dk(t,r),function(a){const d=s(a);d.aa.forEach((m,b)=>{hb(d.remoteStore,b)}),d.ca.Si(),d.aa=new Map,d.ua=new Ti(Bt.comparator)}(t),t.da=!1,yield YS(t.remoteStore,!1)}}),Cx.apply(this,arguments)}function Dk(n,e,t){return Dx.apply(this,arguments)}function Dx(){return Dx=(0,nt.Z)(function*(n,e,t){const r=s(n),i=[],a=[];for(const d of e){let m;const b=r.ra.get(d);if(b&&0!==b.length){m=yield Bv(r.localStore,cl(b[0]));for(const C of b){const R=r.ia.get(C),P=yield sL(r,R);P.snapshot&&a.push(P.snapshot)}}else{const C=yield tk(r.localStore,d);m=yield Bv(r.localStore,C),yield sx(r,Tk(C),d,!1)}i.push(m)}return r.sa.zo(a),i}),Dx.apply(this,arguments)}function Tk(n){return B1(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function cL(n){const e=s(n);return s(s(e.localStore).persistence).Fs()}function dL(n,e,t,r){return Tx.apply(this,arguments)}function Tx(){return Tx=(0,nt.Z)(function*(n,e,t,r){const i=s(n);if(i.da)return void It("SyncEngine","Ignoring unexpected query state notification.");const a=i.ra.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const d=yield nk(i.localStore,j1(a[0])),m=Q0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield pd(i,d,m);break}case"rejected":yield Uv(i.localStore,e,!0),Zv(i,e,r);break;default:Xt()}}),Tx.apply(this,arguments)}function fL(n,e,t){return Ix.apply(this,arguments)}function Ix(){return Ix=(0,nt.Z)(function*(n,e,t){const r=Sx(n);if(r.da){for(const i of e){if(r.ra.has(i)){It("SyncEngine","Adding an already active target "+i);continue}const a=yield tk(r.localStore,i),d=yield Bv(r.localStore,a);yield sx(r,Tk(a),d.targetId,!1),LC(r.remoteStore,d)}for(const i of t)r.ra.has(i)&&(yield Uv(r.localStore,i,!1).then(()=>{hb(r.remoteStore,i),Zv(r,i)}).catch(gg))}}),Ix.apply(this,arguments)}function Sx(n){const e=s(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ak.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XF.bind(null,e),e.sa.zo=GF.bind(null,e.eventManager),e.sa.wa=zF.bind(null,e.eventManager),e}function xx(n){const e=s(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tL.bind(null,e),e}class Ik{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,nt.Z)(function*(){t.M=db(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return QR(this.persistence,new YR,e.initialUser,this.M)}ya(e){return new EF(xS.Yi,this.M)}ga(e){return new sk}terminate(){var e=this;return(0,nt.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Sk extends Ik{constructor(e,t,r){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,nt.Z)(function*(){yield t().call(r,e),yield r.Ta.initialize(r,e),yield xx(r.Ta.syncEngine),yield jv(r.Ta.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Ia(e){return QR(this.persistence,new YR,e.initialUser,this.M)}pa(e){return new nF(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=AS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ks.withCacheSize(this.cacheSizeBytes):Ks.DEFAULT;return new ES(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,lk(),FC(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new sk}}class pL extends Sk{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,nt.Z)(function*(){yield t().call(r,e);const i=r.Ta.syncEngine;r.sharedClientState instanceof NS&&(r.sharedClientState.syncEngine={$r:lL.bind(null,i),Br:dL.bind(null,i),Lr:fL.bind(null,i),Fs:cL.bind(null,i),Fr:aL.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var a=(0,nt.Z)(function*(d){yield function uL(n,e){return Cx.apply(this,arguments)}(r.Ta.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):d||r.gcScheduler.stop())});return function(d){return a.apply(this,arguments)}}())})()}ga(e){const t=lk();if(!NS.vt(t))throw new c(l.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=AS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new NS(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Mx{initialize(e,t){var r=this;return(0,nt.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>wk(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=iL.bind(null,r.syncEngine),yield YS(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new jF}createDatastore(e){const t=db(e.databaseInfo.databaseId),r=new TF(e.databaseInfo);return new xF(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=m=>wk(this.syncEngine,m,0),d=ak.vt()?new ak:new wF,new RF(t,r,i,a,d);var t,r,i,a,d}createSyncEngine(e,t){return function(r,i,a,d,m,b,C){const R=new KF(r,i,a,d,m,b);return C&&(R.da=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,nt.Z)(function*(t){const r=s(t);It("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield Hv(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function xk(n,e=10240){let t=0;return{read:()=>(0,nt.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,nt.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class BC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class gL{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new g,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(r=>{r&&r.Mu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,nt.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,nt.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,nt.Z)(function*(){const t=yield e.Va();if(null===t)return null;const r=e.ba.decode(t),i=Number(r);isNaN(i)&&e.va(`length string (${r}) is not valid number`);const a=yield e.Sa(i);return new qF(JSON.parse(a),t.length+i)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,nt.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Sa(e){var t=this;return(0,nt.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const r=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,nt.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class mL{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,nt.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new c(l.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,nt.Z)(function*(a,d){const m=s(a),b=tb(m.M)+"/documents",C={documents:d.map(Q=>eb(m.M,Q))},R=yield m._o("BatchGetDocuments",b,C),P=new Map;R.forEach(Q=>{const te=function mO(n,e){return"found"in e?function(t,r){kn(!!r.found);const i=rc(t,r.found.name),a=ao(r.found.updateTime),d=new ns({mapValue:{fields:r.found.fields}});return Gr.newFoundDocument(i,a,d)}(n,e):"missing"in e?function(t,r){kn(!!r.missing),kn(!!r.readTime);const i=rc(t,r.missing),a=ao(r.readTime);return Gr.newNoDocument(i,a)}(n,e):Xt()}(m.M,Q);P.set(te.key.toString(),te)});const Z=[];return d.forEach(Q=>{const te=P.get(Q.toString());kn(!!te),Z.push(te)}),Z}),function(a,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new K0(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,nt.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=Bt.fromPath(i);e.mutations.push(new oS(a,e.precondition(a)))}),yield(r=(0,nt.Z)(function*(i,a){const d=s(i),m=tb(d.M)+"/documents",b={writes:a.map(C=>nb(d.M,C))};yield d.co("Commit",m,b)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Xt();t=Vt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new c(l.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Ni.updateTime(t):Ni.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Vt.min()))throw new c(l.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ni.updateTime(t)}return Ni.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class vL{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.xa=r.maxAttempts,this.No=new PS(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,nt.Z)(function*(){const t=new mL(e.datastore),r=e.ka(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Ma(a)}))}).catch(i=>{e.Ma(i)})}))}ka(e){try{const t=this.updateFunction(e);return!B0(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!rR(t)}return!1}}class yL{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Zi.UNAUTHENTICATED,this.clientId=Pt.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,nt.Z)(function*(m){It("FirestoreClient","Received user=",m.uid),yield a.authCredentialListener(m),a.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(It("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,nt.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new c(l.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new g;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,nt.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=zv(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Mk(n,e){return Rx.apply(this,arguments)}function Rx(){return Rx=(0,nt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),It("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,nt.Z)(function*(a){r.isEqual(a)||(yield JR(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Rx.apply(this,arguments)}function Rk(n,e){return kx.apply(this,arguments)}function kx(){return kx=(0,nt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Nx(n);It("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>gk(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>gk(e.remoteStore,a)),n.onlineComponents=e}),kx.apply(this,arguments)}function Nx(n){return Px.apply(this,arguments)}function Px(){return Px=(0,nt.Z)(function*(n){return n.offlineComponents||(It("FirestoreClient","Using default OfflineComponentProvider"),yield Mk(n,new Ik)),n.offlineComponents}),Px.apply(this,arguments)}function UC(n){return Ox.apply(this,arguments)}function Ox(){return Ox=(0,nt.Z)(function*(n){return n.onlineComponents||(It("FirestoreClient","Using default OnlineComponentProvider"),yield Rk(n,new Mx)),n.onlineComponents}),Ox.apply(this,arguments)}function kk(n){return Nx(n).then(e=>e.persistence)}function Fx(n){return Nx(n).then(e=>e.localStore)}function Nk(n){return UC(n).then(e=>e.remoteStore)}function Lx(n){return UC(n).then(e=>e.syncEngine)}function $v(n){return Vx.apply(this,arguments)}function Vx(){return Vx=(0,nt.Z)(function*(n){const e=yield UC(n),t=e.eventManager;return t.onListen=YF.bind(null,e.syncEngine),t.onUnlisten=QF.bind(null,e.syncEngine),t}),Vx.apply(this,arguments)}function Pk(n,e,t={}){const r=new g;return n.asyncQueue.enqueueAndForget((0,nt.Z)(function*(){return function(i,a,d,m,b){const C=new BC({next:P=>{a.enqueueAndForget(()=>tx(i,R));const Z=P.docs.has(d);!Z&&P.fromCache?b.reject(new c(l.UNAVAILABLE,"Failed to get document because the client is offline.")):Z&&P.fromCache&&m&&"server"===m.source?b.reject(new c(l.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b.resolve(P)},error:P=>b.reject(P)}),R=new ix(Mv(d.path),C,{includeMetadataChanges:!0,ku:!0});return XS(i,R)}(yield $v(n),n.asyncQueue,e,t,r)})),r.promise}function Ok(n,e,t={}){const r=new g;return n.asyncQueue.enqueueAndForget((0,nt.Z)(function*(){return function(i,a,d,m,b){const C=new BC({next:P=>{a.enqueueAndForget(()=>tx(i,R)),P.fromCache&&"server"===m.source?b.reject(new c(l.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(P)},error:P=>b.reject(P)}),R=new ix(d,C,{includeMetadataChanges:!0,ku:!0});return XS(i,R)}(yield $v(n),n.asyncQueue,e,t,r)})),r.promise}const Fk=new Map;function Bx(n,e,t){if(!t)throw new c(l.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Lk(n,e,t,r){if(!0===e&&!0===r)throw new c(l.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Vk(n){if(!Bt.isDocumentKey(n))throw new c(l.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Bk(n){if(Bt.isDocumentKey(n))throw new c(l.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function HC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Xt()}function sr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new c(l.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=HC(n);throw new c(l.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Uk(n,e){if(e<=0)throw new c(l.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Hk{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new c(l.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new c(l.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Lk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pb{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hk({}),this._settingsFrozen=!1,e instanceof fd?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new c(l.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fd(i.options.projectId)}(e))}get app(){if(!this._app)throw new c(l.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new c(l.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hk(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new w;switch(t.type){case"gapi":const r=t.client;return kn(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new j(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new c(l.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Fk.get(e);t&&(It("ComponentProvider","Removing Datastore"),Fk.delete(e),t.terminate())}(this),Promise.resolve()}}class zr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zr(this.firestore,e,this._key)}}class rs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new rs(this.firestore,e,this._query)}}class oc extends rs{constructor(e,t,r){super(e,t,Mv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zr(this.firestore,null,new Bt(e))}withConverter(e){return new oc(this.firestore,e,this._path)}}function jk(n,e,...t){if(n=(0,Kn.m9)(n),Bx("collection","path",e),n instanceof pb){const r=er.fromString(e,...t);return Bk(r),new oc(n,null,r)}{if(!(n instanceof zr||n instanceof oc))throw new c(l.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(er.fromString(e,...t));return Bk(r),new oc(n.firestore,null,r)}}function jC(n,e,...t){if(n=(0,Kn.m9)(n),1===arguments.length&&(e=Pt.R()),Bx("doc","path",e),n instanceof pb){const r=er.fromString(e,...t);return Vk(r),new zr(n,null,new Bt(r))}{if(!(n instanceof zr||n instanceof oc))throw new c(l.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(er.fromString(e,...t));return Vk(r),new zr(n.firestore,n instanceof oc?n.converter:null,new Bt(r))}}function Gk(n,e){return n=(0,Kn.m9)(n),e=(0,Kn.m9)(e),(n instanceof zr||n instanceof oc)&&(e instanceof zr||e instanceof oc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function zk(n,e){return n=(0,Kn.m9)(n),e=(0,Kn.m9)(e),n instanceof rs&&e instanceof rs&&n.firestore===e.firestore&&W0(n._query,e._query)&&n.converter===e.converter}class xL{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new PS(this,"async_queue_retry"),this.Qa=()=>{const t=FC();t&&It("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=FC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=FC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new g;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,nt.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!ag(t))throw t;It("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(r=>{throw this.Ua=r,this.qa=!1,gi("INTERNAL UNHANDLED ERROR: ",function(a){let d=a.message||"";return a.stack&&(d=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),d}(r)),r}).then(r=>(this.qa=!1,r))));return this.Fa=t,t}enqueueAfterDelay(e,t,r){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const i=JS.createAndSchedule(this,e,t,r,a=>this.Ha(a));return this.La.push(i),i}ja(){this.Ua&&Xt()}verifyOperationInProgress(){}Ja(){var e=this;return(0,nt.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function Ux(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class ML{constructor(){this._progressObserver={},this._taskCompletionResolver=new g,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class $r extends pb{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new xL,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||qk(this),this._firestoreClient.terminate()}}function Oi(n){return n._firestoreClient||qk(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function qk(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new LP(n._databaseId,a,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var a,m;n._firestoreClient=new yL(n._authCredentials,n._appCheckCredentials,n._queue,r)}function Wk(n,e,t){const r=new g;return n.asyncQueue.enqueue((0,nt.Z)(function*(){try{yield Mk(n,t),yield Rk(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(a=i).name?a.code===l.FAILED_PRECONDITION||a.code===l.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var a})).then(()=>r.promise)}function Zk(n){if(n._initialized||n._terminated)throw new c(l.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class gd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new c(l.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ri(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class sc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sc(ii.fromBase64String(e))}catch(t){throw new c(l.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new sc(ii.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class vg{constructor(e){this._methodName=e}}class GC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new c(l.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new c(l.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pt(this._lat,e._lat)||pt(this._long,e._long)}}const UL=/^__.*__$/;class HL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new sg(e,this.data,this.fieldMask,t,this.fieldTransforms):new $0(e,this.data,t,this.fieldTransforms)}}class $k{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new sg(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Kk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xt()}}class zC{constructor(e,t,r,i,a,d){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.tc(),this.fieldTransforms=a||[],this.fieldMask=d||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new zC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.rc(e),i}oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.tc(),i}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return ZC(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(Kk(this.ec)&&UL.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class jL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||db(e)}lc(e,t,r,i=!1){return new zC({ec:e,methodName:t,hc:r,path:ri.emptyPath(),ic:!1,cc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function yg(n){const e=n._freezeSettings(),t=db(n._databaseId);return new jL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function qC(n,e,t,r,i,a={}){const d=n.lc(a.merge||a.mergeFields?2:0,e,t,i);zx("Data must be an object, but it was:",d,r);const m=Jk(r,d);let b,C;if(a.merge)b=new tc(d.fieldMask),C=d.fieldTransforms;else if(a.mergeFields){const R=[];for(const P of a.mergeFields){const Z=qx(e,P,t);if(!d.contains(Z))throw new c(l.INVALID_ARGUMENT,`Field '${Z}' is specified in your field mask but missing from your input data.`);eN(R,Z)||R.push(Z)}b=new tc(R),C=d.fieldTransforms.filter(P=>b.covers(P.field))}else b=null,C=d.fieldTransforms;return new HL(new ns(m),b,C)}class gb extends vg{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gb}}function Yk(n,e,t){return new zC({ec:3,hc:e.settings.hc,methodName:n._methodName,ic:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class Hx extends vg{_toFieldTransform(e){return new Z0(e.path,new kv)}isEqual(e){return e instanceof Hx}}class GL extends vg{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=Yk(this,e,!0),r=this.fc.map(a=>_g(a,t)),i=new ig(r);return new Z0(e.path,i)}isEqual(e){return this===e}}class zL extends vg{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=Yk(this,e,!0),r=this.fc.map(a=>_g(a,t)),i=new og(r);return new Z0(e.path,i)}isEqual(e){return this===e}}class qL extends vg{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new Nv(e.M,W1(e.M,this.dc));return new Z0(e.path,t)}isEqual(e){return this===e}}function jx(n,e,t,r){const i=n.lc(1,e,t);zx("Data must be an object, but it was:",i,r);const a=[],d=ns.empty();Es(r,(b,C)=>{const R=WC(e,b,t);C=(0,Kn.m9)(C);const P=i.oc(R);if(C instanceof gb)a.push(R);else{const Z=_g(C,P);null!=Z&&(a.push(R),d.set(R,Z))}});const m=new tc(a);return new $k(d,m,i.fieldTransforms)}function Gx(n,e,t,r,i,a){const d=n.lc(1,e,t),m=[qx(e,r,t)],b=[i];if(a.length%2!=0)throw new c(l.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Z=0;Z<a.length;Z+=2)m.push(qx(e,a[Z])),b.push(a[Z+1]);const C=[],R=ns.empty();for(let Z=m.length-1;Z>=0;--Z)if(!eN(C,m[Z])){const Q=m[Z];let te=b[Z];te=(0,Kn.m9)(te);const Se=d.oc(Q);if(te instanceof gb)C.push(Q);else{const rt=_g(te,Se);null!=rt&&(C.push(Q),R.set(Q,rt))}}const P=new tc(C);return new $k(R,P,d.fieldTransforms)}function Qk(n,e,t,r=!1){return _g(t,n.lc(r?4:3,e))}function _g(n,e){if(Xk(n=(0,Kn.m9)(n)))return zx("Unsupported field value:",e,n),Jk(n,e);if(n instanceof vg)return function(t,r){if(!Kk(r.ec))throw r.ac(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ac(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const d of t){let m=_g(d,r.uc(a));null==m&&(m={nullValue:"NULL_VALUE"}),i.push(m),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Kn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return W1(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=ln.fromDate(t);return{timestampValue:X0(r.M,i)}}if(t instanceof ln){const i=new ln(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:X0(r.M,i)}}if(t instanceof GC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof sc)return{bytesValue:cR(r.M,t._byteString)};if(t instanceof zr){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.ac(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:aS(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ac(`Unsupported field value: ${HC(t)}`)}(n,e)}function Jk(n,e){const t={};return Tv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Es(n,(r,i)=>{const a=_g(i,e.sc(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function Xk(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ln||n instanceof GC||n instanceof sc||n instanceof zr||n instanceof vg)}function zx(n,e,t){if(!Xk(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=HC(t);throw e.ac("an object"===r?n+" a custom object":n+" "+r)}var r}function qx(n,e,t){if((e=(0,Kn.m9)(e))instanceof gd)return e._internalPath;if("string"==typeof e)return WC(n,e);throw ZC("Field path arguments must be of type string or ",n,!1,void 0,t)}const WL=new RegExp("[~\\*/\\[\\]]");function WC(n,e,t){if(e.search(WL)>=0)throw ZC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new gd(...e.split("."))._internalPath}catch(r){throw ZC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ZC(n,e,t,r,i){const a=r&&!r.isEmpty(),d=void 0!==i;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let b="";return(a||d)&&(b+=" (found",a&&(b+=` in field ${r}`),d&&(b+=` in document ${i}`),b+=")"),new c(l.INVALID_ARGUMENT,m+n+b)}function eN(n,e){return n.some(t=>t.isEqual(e))}class mb{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new zr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ZL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($C("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ZL extends mb{data(){return super.data()}}function $C(n,e){return"string"==typeof e?WC(n,e):e instanceof gd?e._internalPath:e._delegate._internalPath}class bg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class md extends mb{constructor(e,t,r,i,a,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new vb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field($C("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class vb extends md{data(e={}){return super.data(e)}}class hh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new bg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new vb(this._firestore,this._userDataWriter,r.key,r,new bg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new c(l.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new vb(r._firestore,r._userDataWriter,d.doc.key,d.doc,new bg(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const m=new vb(r._firestore,r._userDataWriter,d.doc.key,d.doc,new bg(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let b=-1,C=-1;return 0!==d.type&&(b=a.indexOf(d.doc.key),a=a.delete(d.doc.key)),1!==d.type&&(a=a.add(d.doc),C=a.indexOf(d.doc.key)),{type:$L(d.type),doc:m,oldIndex:b,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function $L(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xt()}}function tN(n,e){return n instanceof md&&e instanceof md?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof hh&&e instanceof hh&&n._firestore===e._firestore&&zk(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function nN(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new c(l.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yb{}function ph(n,...e){for(const t of e)n=t._apply(n);return n}class KL extends yb{constructor(e,t,r){super(),this._c=e,this.wc=t,this.mc=r,this.type="where"}_apply(e){const t=yg(e.firestore),r=function(i,a,d,m,b,C,R){let P;if(b.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new c(l.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){lN(R,C);const Q=[];for(const te of R)Q.push(aN(m,i,te));P={arrayValue:{values:Q}}}else P=aN(m,i,R)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||lN(R,C),P=Qk(d,"where",R,"in"===C||"not-in"===C);const Z=No.create(b,C,P);return function(Q,te){if(te.S()){const rt=eS(Q);if(null!==rt&&!rt.isEqual(te.field))throw new c(l.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${rt.toString()}' and '${te.field.toString()}'`);const ot=XI(Q);null!==ot&&uN(0,te.field,ot)}const Se=function(rt,ot){for(const yt of rt.filters)if(ot.indexOf(yt.op)>=0)return yt.op;return null}(Q,function(rt){switch(rt){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(te.op));if(null!==Se)throw new c(l.INVALID_ARGUMENT,Se===te.op?`Invalid query. You cannot use more than one '${te.op.toString()}' filter.`:`Invalid query. You cannot use '${te.op.toString()}' filters with '${Se.toString()}' filters.`)}(i,Z),Z}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new rs(e.firestore,e.converter,function(i,a){const d=i.filters.concat([a]);return new hd(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class QL extends yb{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new c(l.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new c(l.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new xv(i,a);return function(m,b){if(null===XI(m)){const C=eS(m);null!==C&&uN(0,C,b.field)}}(r,d),d}(e._query,this._c,this.gc);return new rs(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new hd(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class rN extends yb{constructor(e,t,r){super(),this.type=e,this.yc=t,this.Ic=r}_apply(e){return new rs(e.firestore,e.converter,U1(e._query,this.yc,this.Ic))}}class iN extends yb{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=sN(e,this.type,this.Tc,this.Ec);return new rs(e.firestore,e.converter,(i=t,new hd((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class oN extends yb{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=sN(e,this.type,this.Tc,this.Ec);return new rs(e.firestore,e.converter,(i=t,new hd((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function sN(n,e,t,r){if(t[0]=(0,Kn.m9)(t[0]),t[0]instanceof mb)return function(i,a,d,m,b){if(!m)throw new c(l.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const C=[];for(const R of Rv(i))if(R.field.isKeyField())C.push(tg(a,m.key));else{const P=m.data.field(R.field);if(KI(P))throw new c(l.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+R.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===P){const Z=R.field.canonicalString();throw new c(l.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Z}' (used as the orderBy) does not exist.`)}C.push(P)}return new sh(C,b)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=yg(n.firestore);return function(a,d,m,b,C,R){const P=a.explicitOrderBy;if(C.length>P.length)throw new c(l.INVALID_ARGUMENT,`Too many arguments provided to ${b}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Z=[];for(let Q=0;Q<C.length;Q++){const te=C[Q];if(P[Q].field.isKeyField()){if("string"!=typeof te)throw new c(l.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${b}(), but got a ${typeof te}`);if(!tS(a)&&-1!==te.indexOf("/"))throw new c(l.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${b}() must be a plain document ID, but '${te}' contains a slash.`);const Se=a.path.child(er.fromString(te));if(!Bt.isDocumentKey(Se))throw new c(l.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${b}() must result in a valid document path, but '${Se}' is not because it contains an odd number of segments.`);const rt=new Bt(Se);Z.push(tg(d,rt))}else{const Se=Qk(m,b,te);Z.push(Se)}}return new sh(Z,R)}(n._query,n.firestore._databaseId,i,e,t,r)}}function aN(n,e,t){if("string"==typeof(t=(0,Kn.m9)(t))){if(""===t)throw new c(l.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tS(e)&&-1!==t.indexOf("/"))throw new c(l.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(er.fromString(t));if(!Bt.isDocumentKey(r))throw new c(l.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return tg(n,new Bt(r))}if(t instanceof zr)return tg(n,t._key);throw new c(l.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${HC(t)}.`)}function lN(n,e){if(!Array.isArray(n)||0===n.length)throw new c(l.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new c(l.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function uN(n,e,t){if(!t.isEqual(e))throw new c(l.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const o2={maxAttempts:5};class Wx{convertValue(e,t="none"){switch(eg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Xp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Xt()}}convertObject(e,t){const r={};return Es(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new GC(mi(e.latitude),mi(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=E1(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(V0(e));default:return null}}convertTimestamp(e){const t=rh(e);return new ln(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=er.fromString(e);kn(bR(r));const i=new fd(r.get(1),r.get(3)),a=new Bt(r.popFirst(5));return i.isEqual(t)||gi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function KC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class s2 extends Wx{constructor(e){super(),this.firestore=e}convertBytes(e){return new sc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zr(this.firestore,null,t)}}class cN{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=yg(e)}set(e,t,r){this._verifyNotCommitted();const i=gh(e,this._firestore),a=KC(i.converter,t,r),d=qC(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,Ni.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=gh(e,this._firestore);let d;return d="string"==typeof(t=(0,Kn.m9)(t))||t instanceof gd?Gx(this._dataReader,"WriteBatch.update",a._key,t,r,i):jx(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(d.toMutation(a._key,Ni.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=gh(e,this._firestore);return this._mutations=this._mutations.concat(new K0(t._key,Ni.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new c(l.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function gh(n,e){if((n=(0,Kn.m9)(n)).firestore!==e)throw new c(l.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Eg extends Wx{constructor(e){super(),this.firestore=e}convertBytes(e){return new sc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new zr(this.firestore,null,t)}}function dN(n,e,t){n=sr(n,zr);const r=sr(n.firestore,$r),i=KC(n.converter,e,t);return Kv(r,[qC(yg(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Ni.none())])}function fN(n,e,t,...r){n=sr(n,zr);const i=sr(n.firestore,$r),a=yg(i);let d;return d="string"==typeof(e=(0,Kn.m9)(e))||e instanceof gd?Gx(a,"updateDoc",n._key,e,t,r):jx(a,"updateDoc",n._key,e),Kv(i,[d.toMutation(n._key,Ni.exists(!0))])}function hN(n,...e){var t,r,i;n=(0,Kn.m9)(n);let a={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||Ux(e[d])||(a=e[d],d++);const m={includeMetadataChanges:a.includeMetadataChanges};if(Ux(e[d])){const P=e[d];e[d]=null===(t=P.next)||void 0===t?void 0:t.bind(P),e[d+1]=null===(r=P.error)||void 0===r?void 0:r.bind(P),e[d+2]=null===(i=P.complete)||void 0===i?void 0:i.bind(P)}let b,C,R;if(n instanceof zr)C=sr(n.firestore,$r),R=Mv(n._key.path),b={next:P=>{e[d]&&e[d](Zx(C,n,P))},error:e[d+1],complete:e[d+2]};else{const P=sr(n,rs);C=sr(P.firestore,$r),R=P._query;const Z=new Eg(C);b={next:Q=>{e[d]&&e[d](new hh(C,Z,P,Q))},error:e[d+1],complete:e[d+2]},nN(n._query)}return function(P,Z,Q,te){const Se=new BC(te),rt=new ix(Z,Se,Q);return P.asyncQueue.enqueueAndForget((0,nt.Z)(function*(){return XS(yield $v(P),rt)})),()=>{Se.Aa(),P.asyncQueue.enqueueAndForget((0,nt.Z)(function*(){return tx(yield $v(P),rt)}))}}(Oi(C),R,m,b)}function Kv(n,e){return function(t,r){const i=new g;return t.asyncQueue.enqueueAndForget((0,nt.Z)(function*(){return function JF(n,e,t){return ux.apply(this,arguments)}(yield Lx(t),r,i)})),i.promise}(Oi(n),e)}function Zx(n,e,t){const r=t.docs.get(e._key),i=new Eg(n);return new md(n,i,e._key,r,new bg(t.hasPendingWrites,t.fromCache),e.converter)}class m2 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=yg(e)}get(e){const t=gh(e,this._firestore),r=new s2(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return Xt();const a=i[0];if(a.isFoundDocument())return new mb(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new mb(this._firestore,r,t._key,null,t.converter);throw Xt()})}set(e,t,r){const i=gh(e,this._firestore),a=KC(i.converter,t,r),d=qC(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const a=gh(e,this._firestore);let d;return d="string"==typeof(t=(0,Kn.m9)(t))||t instanceof gd?Gx(this._dataReader,"Transaction.update",a._key,t,r,i):jx(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,d),this}delete(e){const t=gh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=gh(e,this._firestore),r=new Eg(this._firestore);return super.get(e).then(i=>new md(this._firestore,r,t._key,i._document,new bg(!1,!1),t.converter))}}function $x(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new c("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function gN(){if("undefined"==typeof Uint8Array)throw new c("unimplemented","Uint8Arrays are not available in this environment.")}function mN(){if(!function F0(){return"undefined"!=typeof atob}())throw new c("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Jp=sl.SDK_VERSION,(0,sl._registerComponent)(new Vp.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),a=new $r(i,new M(t.getProvider("auth-internal")),new be(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a},"PUBLIC")),(0,sl.registerVersion)(uC,"3.4.9",n),(0,sl.registerVersion)(uC,"3.4.9","esm2017")}();class _b{constructor(e){this._delegate=e}static fromBase64String(e){return mN(),new _b(sc.fromBase64String(e))}static fromUint8Array(e){return gN(),new _b(sc.fromUint8Array(e))}toBase64(){return mN(),this._delegate.toBase64()}toUint8Array(){return gN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Kx(n){return function D2(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class T2{enableIndexedDbPersistence(e,t){return function kL(n,e){Zk(n=sr(n,$r));const t=Oi(n),r=n._freezeSettings(),i=new Mx;return Wk(t,i,new Sk(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function NL(n){Zk(n=sr(n,$r));const e=Oi(n),t=n._freezeSettings(),r=new Mx;return Wk(e,r,new pL(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function PL(n){if(n._initialized&&!n._terminated)throw new c(l.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new g;return n._queue.enqueueAndForgetEvenWhileRestricted((0,nt.Z)(function*(){try{yield(t=(0,nt.Z)(function*(r){if(!Xl.vt())return Promise.resolve();const i=r+"main";yield Xl.delete(i)}),function(r){return t.apply(this,arguments)})(AS(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class vN{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof fd||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Dv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function IL(n,e,t,r={}){var i;const a=(n=sr(n,pb))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Dv("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,m;if("string"==typeof r.mockUserToken)d=r.mockUserToken,m=Zi.MOCK_USER;else{d=(0,Kn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new c(l.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Zi(b)}n._authCredentials=new I(new y(d,m))}}(this._delegate,e,t,r)}enableNetwork(){return function FL(n){return function _L(n){return n.asyncQueue.enqueue((0,nt.Z)(function*(){const e=yield kk(n),t=yield Nk(n);return e.setNetworkEnabled(!0),function(r){const i=s(r);return i.wu.delete(0),fb(i)}(t)}))}(Oi(n=sr(n,$r)))}(this._delegate)}disableNetwork(){return function LL(n){return function bL(n){return n.asyncQueue.enqueue((0,nt.Z)(function*(){const e=yield kk(n),t=yield Nk(n);return e.setNetworkEnabled(!1),(r=(0,nt.Z)(function*(i){const a=s(i);a.wu.add(0),yield Hv(a),a.yu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Oi(n=sr(n,$r)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Lk("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function OL(n){return function(e){const t=new g;return e.asyncQueue.enqueueAndForget((0,nt.Z)(function*(){return function nL(n,e){return px.apply(this,arguments)}(yield Lx(e),t)})),t.promise}(Oi(n=sr(n,$r)))}(this._delegate)}onSnapshotsInSync(e){return function g2(n,e){return function wL(n,e){const t=new BC(e);return n.asyncQueue.enqueueAndForget((0,nt.Z)(function*(){return r=yield $v(n),i=t,s(r).bu.add(i),void i.next();var r,i})),()=>{t.Aa(),n.asyncQueue.enqueueAndForget((0,nt.Z)(function*(){return r=yield $v(n),i=t,void s(r).bu.delete(i);var r,i}))}}(Oi(n=sr(n,$r)),Ux(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new c("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Yv(this,jk(this._delegate,e))}catch(t){throw ws(t,"collection()","Firestore.collection()")}}doc(e){try{return new fl(this,jC(this._delegate,e))}catch(t){throw ws(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Cs(this,function SL(n,e){if(n=sr(n,pb),Bx("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new c(l.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new rs(n,null,(t=e,new hd(er.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ws(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function v2(n,e,t){n=sr(n,$r);const r=Object.assign(Object.assign({},o2),t);return function(i){if(i.maxAttempts<1)throw new c(l.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function CL(n,e,t){const r=new g;return n.asyncQueue.enqueueAndForget((0,nt.Z)(function*(){const i=yield(a=n,UC(a).then(d=>d.datastore));var a;new vL(n.asyncQueue,i,t,e,r).run()})),r.promise}(Oi(n),i=>e(new m2(n,i)),r)}(this._delegate,t=>e(new yN(this,t)))}batch(){return Oi(this._delegate),new _N(new cN(this._delegate,e=>Kv(this._delegate,e)))}loadBundle(e){return function VL(n,e){const t=Oi(n=sr(n,$r)),r=new ML;return function DL(n,e,t,r){const i=function(a,d){let m;return m="string"==typeof a?(new TextEncoder).encode(a):a,b=function(b,C){if(b instanceof Uint8Array)return xk(b,C);if(b instanceof ArrayBuffer)return xk(new Uint8Array(b),C);if(b instanceof ReadableStream)return b.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new gL(b,d);var b}(t,db(e));n.asyncQueue.enqueueAndForget((0,nt.Z)(function*(){!function hL(n,e,t){const r=s(n);var i;(i=(0,nt.Z)(function*(a,d,m){try{const b=yield d.getMetadata();if(yield function(Z,Q){const te=s(Z),Se=ao(Q.createTime);return te.persistence.runTransaction("hasNewerBundle","readonly",rt=>te._s.getBundleMetadata(rt,Q.id)).then(rt=>!!rt&&rt.createTime.compareTo(Se)>=0)}(a.localStore,b))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:(Z=b).totalDocuments,bytesLoaded:Z.totalBytes,totalDocuments:Z.totalDocuments,totalBytes:Z.totalBytes}),Promise.resolve(new Set);m._updateProgress(yk(b));const C=new WF(b,a.localStore,d.M);let R=yield d.ma();for(;R;){const Z=yield C.Fu(R);Z&&m._updateProgress(Z),R=yield d.ma()}const P=yield C.complete();return yield pd(a,P.Lu,void 0),yield function(Z,Q){const te=s(Z);return te.persistence.runTransaction("Save bundle","readwrite",Se=>te._s.saveBundleMetadata(Se,Q))}(a.localStore,b),m._completeWith(P.progress),Promise.resolve(P.Bu)}catch(b){return Dv("SyncEngine",`Loading bundle failed with ${b}`),m._failWith(b),Promise.resolve(new Set)}var Z}),function(a,d,m){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield Lx(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function BL(n,e){return function TL(n,e){return n.asyncQueue.enqueue((0,nt.Z)(function*(){return function(t,r){const i=s(t);return i.persistence.runTransaction("Get named query","readonly",a=>i._s.getNamedQuery(a,r))}(yield Fx(n),e)}))}(Oi(n=sr(n,$r)),e).then(t=>t?new rs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Cs(this,t):null)}}class YC extends Wx{constructor(e){super(),this.firestore=e}convertBytes(e){return new _b(new sc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return fl.forKey(t,this.firestore,null)}}class yN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new YC(e)}get(e){const t=wg(e);return this._delegate.get(t).then(r=>new bb(this._firestore,new md(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=wg(e);return r?($x("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=wg(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=wg(e);return this._delegate.delete(t),this}}class _N{constructor(e){this._delegate=e}set(e,t,r){const i=wg(e);return r?($x("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=wg(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=wg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Ag{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new vb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Eb(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Ag.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new Ag(e,new YC(e),t),i.set(t,a)),a}}Ag.INSTANCES=new WeakMap;class fl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new YC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new c("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new fl(t,new zr(t._delegate,r,new Bt(e)))}static forKey(e,t,r){return new fl(t,new zr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Yv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Yv(this.firestore,jk(this._delegate,e))}catch(t){throw ws(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Kn.m9)(e))instanceof zr&&Gk(this._delegate,e)}set(e,t){t=$x("DocumentReference.set",t);try{return t?dN(this._delegate,e,t):dN(this._delegate,e)}catch(r){throw ws(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?fN(this._delegate,e):fN(this._delegate,e,t,...r)}catch(i){throw ws(i,"updateDoc()","DocumentReference.update()")}}delete(){return function h2(n){return Kv(sr(n.firestore,$r),[new K0(n._key,Ni.none())])}(this._delegate)}onSnapshot(...e){const t=bN(e),r=EN(e,i=>new bb(this.firestore,new md(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return hN(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function l2(n){n=sr(n,zr);const e=sr(n.firestore,$r),t=Oi(e),r=new Eg(e);return function EL(n,e){const t=new g;return n.asyncQueue.enqueueAndForget((0,nt.Z)(function*(){return(r=(0,nt.Z)(function*(i,a,d){try{const m=yield function(b,C){const R=s(b);return R.persistence.runTransaction("read document","readonly",P=>R.fi.Ls(P,C))}(i,a);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new c(l.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const b=zv(m,`Failed to get document '${a} from cache`);d.reject(b)}}),function(i,a,d){return r.apply(this,arguments)})(yield Fx(n),e,t);var r})),t.promise}(t,n._key).then(i=>new md(e,r,n._key,i,new bg(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function u2(n){n=sr(n,zr);const e=sr(n.firestore,$r);return Pk(Oi(e),n._key,{source:"server"}).then(t=>Zx(e,n,t))}(this._delegate):function a2(n){n=sr(n,zr);const e=sr(n.firestore,$r);return Pk(Oi(e),n._key).then(t=>Zx(e,n,t))}(this._delegate),t.then(r=>new bb(this.firestore,new md(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new fl(this.firestore,this._delegate.withConverter(e?Ag.getInstance(this.firestore,e):null))}}function ws(n,e,t){return n.message=n.message.replace(e,t),n}function bN(n){for(const e of n)if("object"==typeof e&&!Kx(e))return e;return{}}function EN(n,e){var t,r;let i;return i=Kx(n[0])?n[0]:Kx(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class bb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new fl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return tN(this._delegate,e._delegate)}}class Eb extends bb{data(e){const t=this._delegate.data(e);return function o(n,e){n||Xt()}(void 0!==t),t}}class Cs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new YC(e)}where(e,t,r){try{return new Cs(this.firestore,ph(this._delegate,function YL(n,e,t){const r=e,i=$C("where",n);return new KL(i,r,t)}(e,t,r)))}catch(i){throw ws(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Cs(this.firestore,ph(this._delegate,function JL(n,e="asc"){const t=e,r=$C("orderBy",n);return new QL(r,t)}(e,t)))}catch(r){throw ws(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Cs(this.firestore,ph(this._delegate,function XL(n){return Uk("limit",n),new rN("limit",n,"F")}(e)))}catch(t){throw ws(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Cs(this.firestore,ph(this._delegate,function e2(n){return Uk("limitToLast",n),new rN("limitToLast",n,"L")}(e)))}catch(t){throw ws(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Cs(this.firestore,ph(this._delegate,function t2(...n){return new iN("startAt",n,!0)}(...e)))}catch(t){throw ws(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Cs(this.firestore,ph(this._delegate,function n2(...n){return new iN("startAfter",n,!1)}(...e)))}catch(t){throw ws(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Cs(this.firestore,ph(this._delegate,function r2(...n){return new oN("endBefore",n,!1)}(...e)))}catch(t){throw ws(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Cs(this.firestore,ph(this._delegate,function i2(...n){return new oN("endAt",n,!0)}(...e)))}catch(t){throw ws(t,"endAt()","Query.endAt()")}}isEqual(e){return zk(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function d2(n){n=sr(n,rs);const e=sr(n.firestore,$r),t=Oi(e),r=new Eg(e);return function AL(n,e){const t=new g;return n.asyncQueue.enqueueAndForget((0,nt.Z)(function*(){return(r=(0,nt.Z)(function*(i,a,d){try{const m=yield NC(i,a,!0),b=new Ek(a,m._i),C=b.Wu(m.documents),R=b.applyChanges(C,!1);d.resolve(R.snapshot)}catch(m){const b=zv(m,`Failed to execute query '${a} against cache`);d.reject(b)}}),function(i,a,d){return r.apply(this,arguments)})(yield Fx(n),e,t);var r})),t.promise}(t,n._query).then(i=>new hh(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function f2(n){n=sr(n,rs);const e=sr(n.firestore,$r),t=Oi(e),r=new Eg(e);return Ok(t,n._query,{source:"server"}).then(i=>new hh(e,r,n,i))}(this._delegate):function c2(n){n=sr(n,rs);const e=sr(n.firestore,$r),t=Oi(e),r=new Eg(e);return nN(n._query),Ok(t,n._query).then(i=>new hh(e,r,n,i))}(this._delegate),t.then(r=>new Yx(this.firestore,new hh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=bN(e),r=EN(e,i=>new Yx(this.firestore,new hh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return hN(this._delegate,t,r)}withConverter(e){return new Cs(this.firestore,this._delegate.withConverter(e?Ag.getInstance(this.firestore,e):null))}}class S2{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Eb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Yx{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Cs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Eb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new S2(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Eb(this._firestore,r))})}isEqual(e){return tN(this._delegate,e._delegate)}}class Yv extends Cs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new fl(this.firestore,e):null}doc(e){try{return new fl(this.firestore,void 0===e?jC(this._delegate):jC(this._delegate,e))}catch(t){throw ws(t,"doc()","CollectionReference.doc()")}}add(e){return function p2(n,e){const t=sr(n.firestore,$r),r=jC(n),i=KC(n.converter,e);return Kv(t,[qC(yg(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Ni.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new fl(this.firestore,t))}isEqual(e){return Gk(this._delegate,e._delegate)}withConverter(e){return new Yv(this.firestore,this._delegate.withConverter(e?Ag.getInstance(this.firestore,e):null))}}function wg(n){return sr(n,zr)}class Qx{constructor(...e){this._delegate=new gd(...e)}static documentId(){return new Qx(ri.keyField().canonicalString())}isEqual(e){return(e=(0,Kn.m9)(e))instanceof gd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Cg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function _2(){return new Hx("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Cg(e)}static delete(){const e=function y2(){return new gb("deleteField")}();return e._methodName="FieldValue.delete",new Cg(e)}static arrayUnion(...e){const t=function b2(...n){return new GL("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Cg(t)}static arrayRemove(...e){const t=function E2(...n){return new zL("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Cg(t)}static increment(e){const t=function A2(n){return new qL("increment",n)}(e);return t._methodName="FieldValue.increment",new Cg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const x2={Firestore:vN,GeoPoint:GC,Timestamp:ln,Blob:_b,Transaction:yN,WriteBatch:_N,DocumentReference:fl,DocumentSnapshot:bb,Query:Cs,QueryDocumentSnapshot:Eb,QuerySnapshot:Yx,CollectionReference:Yv,FieldPath:Qx,FieldValue:Cg,setLogLevel:function I2(n){!function b1(n){cd.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function R2(n){(function M2(n,e){n.INTERNAL.registerComponent(new Vp.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},x2)))})(n,(e,t)=>new vN(e,t,new T2)),n.registerVersion("@firebase/firestore-compat","0.1.18")}(mI.Z);var k2=z(6451),QC=z(5363),N2=z(6063);class P2 extends jr.x{constructor(e=1/0,t=1/0,r=N2.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:d}=this;t||(r.push(e),!i&&r.push(a.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let d=0;d<a.length&&!e.closed;d+=r?1:2)e.next(a[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const d=t.now();let m=0;for(let b=1;b<r.length&&r[b]<=d;b+=2)m=b;m&&r.splice(0,m+1)}}}var O2=z(3099);function AN(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,O2.B)({connector:()=>new P2(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function wN(n,e){return(0,pm.m)(e)?Ei(()=>n,e):Ei(()=>n)}var Jx=z(9468);z(5867);const DN=new Map,U2={activated:!1,tokenObservers:[]},H2={initialized:!1,enabled:!1};function co(n){return DN.get(n)||U2}function eu(n,e){DN.set(n,e)}function XC(){return H2}class W2{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,nt.Z)(function*(){t.stop();try{t.pending=new Kn.BH,yield function Z2(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Kn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ds=new Kn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function IN(n){if(!co(n).activated)throw Ds.create("use-before-activation",{appName:n.name})}function nM(n,e){return rM.apply(this,arguments)}function rM(){return rM=(0,nt.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const P=yield i.getHeartbeatsHeader();P&&(r["X-Firebase-Client"]=P)}const a={method:"POST",body:JSON.stringify(e),headers:r};let d,m;try{d=yield fetch(n,a)}catch(P){throw Ds.create("fetch-network-error",{originalErrorMessage:P.message})}if(200!==d.status)throw Ds.create("fetch-status-error",{httpStatus:d.status});try{m=yield d.json()}catch(P){throw Ds.create("fetch-parse-error",{originalErrorMessage:P.message})}const b=m.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw Ds.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const C=1e3*Number(b[1]),R=Date.now();return{token:m.token,expireTimeMillis:R+C,issuedAtTimeMillis:R}}),rM.apply(this,arguments)}function J2(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Ab="firebase-app-check-store";let nD=null;function xN(){return nD||(nD=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Ds.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ab,{keyPath:"compositeKey"})}}catch(t){e(Ds.create("storage-open",{originalErrorMessage:t.message}))}}),nD)}function iM(){return iM=(0,nt.Z)(function*(n,e){const r=(yield xN()).transaction(Ab,"readwrite"),a=r.objectStore(Ab).put({compositeKey:n,value:e});return new Promise((d,m)=>{a.onsuccess=b=>{d()},r.onerror=b=>{var C;m(Ds.create("storage-set",{originalErrorMessage:null===(C=b.target.error)||void 0===C?void 0:C.message}))}})}),iM.apply(this,arguments)}const wb=new $u.Yd("@firebase/app-check");function NN(n,e){return(0,Kn.hl)()?function nV(n,e){return function MN(n,e){return iM.apply(this,arguments)}(function kN(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{wb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function PN(){return XC().enabled}function ON(){return lM.apply(this,arguments)}function lM(){return lM=(0,nt.Z)(function*(){const n=XC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),lM.apply(this,arguments)}const lV={error:"UNKNOWN_ERROR"};function uV(n){return Kn.US.encodeString(JSON.stringify(n),!1)}function rD(n){return uM.apply(this,arguments)}function uM(){return uM=(0,nt.Z)(function*(n,e=!1){const t=n.app;IN(t);const r=co(t);let a,i=r.token;if(!i){const b=yield r.cachedTokenPromise;b&&iD(b)&&(i=b)}if(!e&&i&&iD(i))return{token:i.token};let m,d=!1;if(PN()){r.exchangeTokenPromise||(r.exchangeTokenPromise=nM(J2(t,yield ON()),n.heartbeatServiceProvider).then(C=>(r.exchangeTokenPromise=void 0,C)),d=!0);const b=yield r.exchangeTokenPromise;return yield NN(t,b),eu(t,Object.assign(Object.assign({},r),{token:b})),{token:b.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(b=>(r.exchangeTokenPromise=void 0,b)),d=!0),i=yield r.exchangeTokenPromise}catch(b){"appCheck/throttled"===b.code?wb.warn(b.message):wb.error(b),a=b}return i?(m={token:i.token},eu(t,Object.assign(Object.assign({},r),{token:i})),yield NN(t,i)):m=dV(a),d&&LN(t,m),m}),uM.apply(this,arguments)}function dM(n,e){const t=co(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),eu(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function FN(n){const{app:e}=n,t=co(e);let r=t.tokenRefresher;r||(r=function cV(n){const{app:e}=n;return new W2((0,nt.Z)(function*(){let r;if(r=co(e).token?yield rD(n,!0):yield rD(n),r.error)throw r.error}),()=>!0,()=>{const t=co(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),eu(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function LN(n,e){const t=co(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function iD(n){return n.expireTimeMillis-Date.now()>0}function dV(n){return{token:uV(lV),error:n}}class fV{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=co(this.app);for(const t of e)dM(this.app,t.next);return Promise.resolve()}}const qN="app-check-internal";!function TV(){(0,sl._registerComponent)(new Vp.wA("app-check",n=>function hV(n,e){return new fV(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(qN).initialize()})),(0,sl._registerComponent)(new Vp.wA(qN,n=>function pV(n){return{getToken:e=>rD(n,e),addTokenListener:e=>function cM(n,e,t,r){const{app:i}=n,a=co(i),d={next:t,error:r,type:e};if(eu(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,d]})),a.token&&iD(a.token)){const m=a.token;Promise.resolve().then(()=>{t({token:m.token}),FN(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>FN(n))}(n,"INTERNAL",e),removeTokenListener:e=>dM(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,sl.registerVersion)("@firebase/app-check","0.5.8")}();class gM{constructor(){return(0,ni.vb)("app-check")}}"undefined"!=typeof window&&window;const ZN=new u.OlP("angularfire2.auth.use-emulator"),$N=new u.OlP("angularfire2.auth.settings"),KN=new u.OlP("angularfire2.auth.tenant-id"),YN=new u.OlP("angularfire2.auth.langugage-code"),QN=new u.OlP("angularfire2.auth.use-device-language"),JN=new u.OlP("angularfire.auth.persistence"),XN=(n,e,t,r,i,a,d,m)=>(0,$s.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=e.runOutsideAngular(()=>n.auth());if(t&&b.useEmulator(...t),r&&(b.tenantId=r),b.languageCode=i,a&&b.useDeviceLanguage(),d)for(const[C,R]of Object.entries(d))b.settings[C]=R;return m&&b.setPersistence(m),b},[t,r,i,a,d,m]);let Cb=(()=>{class n{constructor(t,r,i,a,d,m,b,C,R,P,Z,Q){const te=new jr.x,Se=An(void 0).pipe((0,QC.Q)(d.outsideAngular),Ei(()=>a.runOutsideAngular(()=>Promise.resolve().then(z.bind(z,5881)))),(0,dn.U)(()=>(0,$s.on)(t,a,r)),(0,dn.U)(rt=>XN(rt,a,m,C,R,P,b,Z)),AN({bufferSize:1,refCount:!1}));if(Lr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=An(null);else{Se.pipe(Gu()).subscribe();const ot=Se.pipe(Ei(wt=>wt.getRedirectResult().then(mn=>mn,()=>null)),ni.iC,AN({bufferSize:1,refCount:!1})),yt=Se.pipe(Ei(wt=>new qo.y(mn=>({unsubscribe:a.runOutsideAngular(()=>wt.onAuthStateChanged(pn=>mn.next(pn),pn=>mn.error(pn),()=>mn.complete()))})))),Mt=Se.pipe(Ei(wt=>new qo.y(mn=>({unsubscribe:a.runOutsideAngular(()=>wt.onIdTokenChanged(pn=>mn.next(pn),pn=>mn.error(pn),()=>mn.complete()))}))));this.authState=ot.pipe(wN(yt),(0,Jx.R)(d.outsideAngular),(0,QC.Q)(d.insideAngular)),this.user=ot.pipe(wN(Mt),(0,Jx.R)(d.outsideAngular),(0,QC.Q)(d.insideAngular)),this.idToken=this.user.pipe(Ei(wt=>wt?(0,gr.D)(wt.getIdToken()):An(null))),this.idTokenResult=this.user.pipe(Ei(wt=>wt?(0,gr.D)(wt.getIdTokenResult()):An(null))),this.credential=(0,k2.T)(ot,te,this.authState.pipe(qs(wt=>!wt))).pipe((0,dn.U)(wt=>(null==wt?void 0:wt.user)?wt:null),(0,Jx.R)(d.outsideAngular),(0,QC.Q)(d.insideAngular))}return(0,$s.pX)(this,Se,a,{spy:{apply:(rt,ot,yt)=>{(rt.startsWith("signIn")||rt.startsWith("createUser"))&&yt.then(Mt=>te.next(Mt))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG($s.Dh),u.LFG($s.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(ni.HU),u.LFG(ZN,8),u.LFG($N,8),u.LFG(KN,8),u.LFG(YN,8),u.LFG(QN,8),u.LFG(JN,8),u.LFG(gM,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),kV=(()=>{class n{constructor(){k_.Z.registerVersion("angularfire",ni.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Cb]}),n})();function eP(n,e){return function NV(n,e=N_.z){return new qo.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function vM(n,e){return eP(n,e).pipe((0,dn.U)(t=>({payload:t,type:"query"})))}function sD(n,e){return vM(n,e).pipe(pf(void 0),td(),(0,dn.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,m)=>{const b=i.find(R=>R.doc.ref.isEqual(d.ref)),C=null==t?void 0:t.payload.docs.find(R=>R.ref.isEqual(d.ref));b&&JSON.stringify(b.doc.metadata)===JSON.stringify(d.metadata)||!b&&C&&JSON.stringify(C.metadata)===JSON.stringify(d.metadata)||a.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),a}))}function tP(n,e,t){return sD(n,t).pipe(gf((r,i)=>function OV(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function FV(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return yM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return yM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return yM(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),function gI(n,e=hm.y){return n=null!=n?n:hw,(0,no.e)((t,r)=>{let i,a=!0;t.subscribe((0,_i.x)(r,d=>{const m=e(d);(a||!n(i,m))&&(a=!1,i=m,r.next(d))}))})}(),(0,dn.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function yM(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function nP(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class rP{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=sD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,dn.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(pf(void 0),td(),qs(([r,i])=>i.length>0||!r),(0,dn.U)(([r,i])=>i),ni.iC)}auditTrail(e){return this.stateChanges(e).pipe(gf((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=nP(e);return tP(this.query,t,this.afs.schedulers.outsideAngular).pipe(ni.iC)}valueChanges(e={}){return vM(this.query,this.afs.schedulers.outsideAngular).pipe((0,dn.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),ni.iC)}get(e){return(0,gr.D)(this.query.get(e)).pipe(ni.iC)}add(e){return this.ref.add(e)}doc(e){return new iP(this.ref.doc(e),this.afs)}}class iP{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=aP(r,t);return new rP(i,a,this.afs)}snapshotChanges(){return function PV(n,e){return eP(n,e).pipe(pf(void 0),td(),(0,dn.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ni.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,dn.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,gr.D)(this.ref.get(e)).pipe(ni.iC)}}class LV{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?sD(this.query,this.afs.schedulers.outsideAngular).pipe((0,dn.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),qs(t=>t.length>0),ni.iC):sD(this.query,this.afs.schedulers.outsideAngular).pipe(ni.iC)}auditTrail(e){return this.stateChanges(e).pipe(gf((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=nP(e);return tP(this.query,t,this.afs.schedulers.outsideAngular).pipe(ni.iC)}valueChanges(e={}){return vM(this.query,this.afs.schedulers.outsideAngular).pipe((0,dn.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),ni.iC)}get(e){return(0,gr.D)(this.query.get(e)).pipe(ni.iC)}}const oP=new u.OlP("angularfire2.enableFirestorePersistence"),sP=new u.OlP("angularfire2.firestore.persistenceSettings"),VV=new u.OlP("angularfire2.firestore.settings"),BV=new u.OlP("angularfire2.firestore.use-emulator");function aP(n,e=(t=>t)){return{query:e(n),ref:n}}let lP=(()=>{class n{constructor(t,r,i,a,d,m,b,C,R,P,Z,Q,te,Se,rt,ot,yt){this.schedulers=b;const Mt=(0,$s.on)(t,m,r),wt=R;P&&XN(Mt,m,Z,te,Se,rt,Q,ot),[this.firestore,this.persistenceEnabled$]=(0,$s.cc)(`${Mt.name}.firestore`,"AngularFirestore",Mt.name,()=>{const mn=m.runOutsideAngular(()=>Mt.firestore());if(a&&mn.settings(a),wt&&mn.useEmulator(...wt),i&&!Lr(d)){const pn=()=>{try{return(0,gr.D)(mn.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(Bn){return"undefined"!=typeof console&&console.warn(Bn),An(!1)}};return[mn,m.runOutsideAngular(pn)]}return[mn,An(!1)]},[a,wt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:d}=aP(i,r),m=this.schedulers.ngZone.run(()=>a);return new rP(m,d,this)}collectionGroup(t,r){const i=r||(d=>d),a=this.firestore.collectionGroup(t);return new LV(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new iP(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG($s.Dh),u.LFG($s.xv,8),u.LFG(oP,8),u.LFG(VV,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(ni.HU),u.LFG(sP,8),u.LFG(BV,8),u.LFG(Cb,8),u.LFG(ZN,8),u.LFG($N,8),u.LFG(KN,8),u.LFG(YN,8),u.LFG(QN,8),u.LFG(JN,8),u.LFG(gM,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),UV=(()=>{class n{constructor(){k_.Z.registerVersion("angularfire",ni.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:oP,useValue:!0},{provide:sP,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[lP]}),n})(),uP=(()=>{class n{constructor(){this.isUserAuthenticated$=new jr.x,this.setAuthenticatedUser=(t="")=>{0===t.length?(this.isUserAuthenticated$.next(!1),sessionStorage.removeItem(ed.userName)):(this.isUserAuthenticated$.next(!0),sessionStorage.setItem(ed.userName,t))},this.getAuthenticatedUser=()=>{var t;return null!==(t=sessionStorage.getItem(ed.userName))&&void 0!==t?t:""},this.setPreferences=t=>{sessionStorage.setItem(ed.preferences.toString(),JSON.stringify(t))},this.getPreferences=()=>{var t;const r=null!==(t=sessionStorage.getItem(ed.preferences.toString()))&&void 0!==t?t:"";return r.length>0?JSON.parse(r):{}},this.clear=()=>{this.isUserAuthenticated$.next(!1),sessionStorage.clear()},this.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tu=(()=>{class n{constructor(t){this.router=t,this.isLoginRoute$=new jr.x,this.isFocusRoute$=new jr.x,this.isPreferencesRoute$=new jr.x,this.navigateFromLogin=()=>{this.router.navigate(["calendar"])},this.navigate=r=>{this.router.navigate([r])},this.createRouteSubscriptions=()=>{this.router.events.pipe(qs(r=>r instanceof yf)).subscribe(r=>{this.isLoginRoute$.next(r.url.includes("login")),this.isFocusRoute$.next(r.url.includes("focus")),this.isPreferencesRoute$.next(r.url.includes("preferences"))})},this.createRouteSubscriptions()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(ro))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qv=(()=>{class n{constructor(t,r,i,a,d){var m=this;this.store=t,this.angularFireAuth=r,this.sessionStorage=i,this.toastrService=a,this.routerService=d,this.createUserFirebase=(b,C)=>(0,qm.a5)(this.auth,b,C).then(R=>(console.log("Added user successfully to database."),{success:!0})).catch(R=>(console.error("Failed to Create User."),{success:!1,error:{errorMessage:R.message}})),this.loginEmailFirebase=(b,C)=>(0,qm.a6)(this.auth,b,C).then(R=>(console.log("User authenticated successfully with database."),{success:!0})).catch(R=>(console.error("Failed to Create User."),{success:!1,error:{errorMessage:R.message}})),this.loginGoogleFirebase=()=>this.angularFireAuth.signInWithPopup(new k_.Z.auth.GoogleAuthProvider).then(b=>(console.log("User authenticated successfully with google."),{success:!0})).catch(b=>(console.error("Failed to authenticate with Google."),{success:!1,error:{errorMessage:b.message}})),this.logoutFirebaseUser=()=>{this.authUser&&((0,qm.y)(this.auth),this.sessionStorage.clear())},this.saveCalendarEvent=function(){var b=(0,nt.Z)(function*(C){void 0===C.id||""===C.id?m.getEventsCollection().get().subscribe(R=>{var P;C.id=dw(),C.userId=null===(P=m.authUser)||void 0===P?void 0:P.uid,m.store.collection("events").add(C)}):m.getEventsCollection(C.id).get().subscribe(R=>{m.store.collection("events").doc(R.docs[0].id).update(C)})});return function(C){return b.apply(this,arguments)}}(),this.deleteCalendarEvent=function(){var b=(0,nt.Z)(function*(C){m.getEventsCollection(C).get().subscribe(R=>{1===R.docs.length&&m.store.collection("events").doc(R.docs[0].id).delete()})});return function(C){return b.apply(this,arguments)}}(),this.getUserCalendarEvents=()=>this.getEventsCollection().snapshotChanges().pipe((0,dn.U)(b=>b.map(C=>Object.assign({id:C.payload.doc.id},C.payload.doc.data())))),this.saveUserPreferences=function(){var b=(0,nt.Z)(function*(C){void 0===C.userId||""===C.userId||null===C.userId?m.getPreferencesCollection().get().subscribe(R=>{var P,Z;C.userId=null!==(Z=null===(P=m.authUser)||void 0===P?void 0:P.uid)&&void 0!==Z?Z:"BAD USER ID DATA",m.store.collection("preferences").add(C).then(()=>{m.toastrService.success("Preferences Updated."),m.routerService.navigate("calendar")})}):m.getPreferencesCollection().get().subscribe(R=>{m.store.collection("preferences").doc(R.docs[0].id).update(C).then(()=>{m.toastrService.success("Preferences Saved."),m.routerService.navigate("calendar")})})});return function(C){return b.apply(this,arguments)}}(),this.getUserPreferences=()=>this.getPreferencesCollection().snapshotChanges().pipe((0,dn.U)(b=>b.map(C=>Object.assign({id:C.payload.doc.id},C.payload.doc.data()))),Gu()),this.getPreferencesCollection=()=>this.store.collection("preferences",b=>{var C;return b.where("userId","==",null===(C=this.authUser)||void 0===C?void 0:C.uid)}),this.getEventsCollection=(b="")=>this.store.collection("events",b.length>0?C=>C.where("id","==",b):C=>{var R;return C.where("userId","==",null===(R=this.authUser)||void 0===R?void 0:R.uid)}),this.auth=(0,qm.n)(),this.auth.onAuthStateChanged(b=>{var C;b?(this.authUser=b,this.sessionStorage.setAuthenticatedUser(null!==(C=b.email)&&void 0!==C?C:""),this.routerService.navigateFromLogin()):this.authUser=void 0})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(lP),u.LFG(Cb),u.LFG(uP),u.LFG(Zu),u.LFG(tu))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var HV=z(2559),jV=z.n(HV),Ys=z(3580),GV=z(5599),cP="undefined"!=typeof globalThis?globalThis:window;cP.FullCalendarVDom?console.warn("FullCalendar VDOM already loaded"):cP.FullCalendarVDom={Component:Ys.Component,createElement:Ys.createElement,render:Ys.render,createRef:Ys.createRef,Fragment:Ys.Fragment,createContext:function WV(n){var e=Ys.createContext(n),t=e.Provider;return e.Provider=function(){var r=this,i=!this.getChildContext,a=t.apply(this,arguments);if(i){var d=[];this.shouldComponentUpdate=function(m){r.props.value!==m.value&&d.forEach(function(b){b.context=m.value,b.forceUpdate()})},this.sub=function(m){d.push(m);var b=m.componentWillUnmount;m.componentWillUnmount=function(){d.splice(d.indexOf(m),1),b&&b.call(m)}}}return a},e},createPortal:GV.createPortal,flushSync:function zV(n){n();var e=Ys.options.debounceRendering,t=[];for(Ys.options.debounceRendering=function r(i){t.push(i)},Ys.render(Ys.createElement(qV,{}),document.createElement("div"));t.length;)t.shift()();Ys.options.debounceRendering=e},unmountComponentAtNode:function ZV(n){Ys.render(null,n)}};var qV=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,$t.__extends)(e,n),e.prototype.render=function(){return Ys.createElement("div",{})},e.prototype.componentDidMount=function(){this.setState({})},e}(Ys.Component),$V=function(n){function e(t,r){void 0===r&&(r={});var i=n.call(this)||this;return i.isRendering=!1,i.isRendered=!1,i.currentClassNames=[],i.customContentRenderId=0,i.handleAction=function(a){switch(a.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":i.renderRunner.tryDrain()}},i.handleData=function(a){i.currentData=a,i.renderRunner.request(a.calendarOptions.rerenderDelay)},i.handleRenderRequest=function(){if(i.isRendering){i.isRendered=!0;var a=i.currentData;(0,ie.flushSync)(function(){(0,ie.render)((0,ie.createElement)(ie.CalendarRoot,{options:a.calendarOptions,theme:a.theme,emitter:a.emitter},function(d,m,b,C){return i.setClassNames(d),i.setHeight(m),(0,ie.createElement)(ie.CustomContentRenderContext.Provider,{value:i.customContentRenderId},(0,ie.createElement)(ie.CalendarContent,(0,$t.__assign)({isHeightAuto:b,forPrint:C},a)))}),i.el)})}else i.isRendered&&(i.isRendered=!1,(0,ie.unmountComponentAtNode)(i.el),i.setClassNames([]),i.setHeight(""))},i.el=t,i.renderRunner=new ie.DelayedRunner(i.handleRenderRequest),new ie.CalendarDataManager({optionOverrides:r,calendarApi:i,onAction:i.handleAction,onData:i.handleData}),i}return(0,$t.__extends)(e,n),Object.defineProperty(e.prototype,"view",{get:function(){return this.currentData.viewApi},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.isRendering;t?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),t&&this.updateSize()},e.prototype.destroy=function(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())},e.prototype.updateSize=function(){var t=this;(0,ie.flushSync)(function(){n.prototype.updateSize.call(t)})},e.prototype.batchRendering=function(t){this.renderRunner.pause("batchRendering"),t(),this.renderRunner.resume("batchRendering")},e.prototype.pauseRendering=function(){this.renderRunner.pause("pauseRendering")},e.prototype.resumeRendering=function(){this.renderRunner.resume("pauseRendering",!0)},e.prototype.resetOptions=function(t,r){this.currentDataManager.resetOptions(t,r)},e.prototype.setClassNames=function(t){if(!(0,ie.isArraysEqual)(t,this.currentClassNames)){for(var r=this.el.classList,i=0,a=this.currentClassNames;i<a.length;i++)r.remove(a[i]);for(var m=0,b=t;m<b.length;m++)r.add(b[m]);this.currentClassNames=t}},e.prototype.setHeight=function(t){(0,ie.applyStyleProp)(this.el,"height",t)},e}(ie.CalendarApi);const KV=Object.prototype.hasOwnProperty;function aD(n){return Array.isArray(n)?n.map(aD):n instanceof Date?new Date(n.valueOf()):"object"==typeof n&&n?dP(n,aD):n}function YV(n){return"object"==typeof n&&(Array.isArray(n)?n=Array.prototype.slice.call(n):n&&(n=Object.assign({},n))),n}function dP(n,e){const t={};for(const r in n)KV.call(n,r)&&(t[r]=e(n[r],r));return t}const fP={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0};let QV=(()=>{class n{constructor(t){this.element=t,this.optionSnapshot={}}ngAfterViewInit(){const{deepChangeDetection:t}=this,r=this.options||{};this.optionSnapshot=dP(r,(i,a)=>t&&fP[a]?aD(i):i),this.calendar=new $V(this.element.nativeElement,r),this.calendar.render()}ngDoCheck(){if(this.calendar){const{deepChangeDetection:t,optionSnapshot:r}=this,i=this.options||{},a={};let d=!1;for(const b in i)if(i.hasOwnProperty(b)){let C=i[b];t&&fP[b]?jV()(r[b],C)||(r[b]=aD(C),d=!0,C=YV(C)):r[b]!==C&&(r[b]=C,d=!0),a[b]=C}const m=Object.keys(r);for(const b of m)b in i||(delete r[b],d=!0);d&&(this.calendar.pauseRendering(),this.calendar.resetOptions(a))}}ngAfterContentChecked(){this.calendar&&this.calendar.resumeRendering()}ngOnDestroy(){this.calendar&&(this.calendar.destroy(),this.calendar=null)}getApi(){return this.calendar}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq))},n.\u0275cmp=u.Xpm({type:n,selectors:[["full-calendar"]],inputs:{options:"options",deepChangeDetection:"deepChangeDetection"},decls:0,vars:0,template:function(t,r){},styles:['@charset "UTF-8";.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{vertical-align:top;padding:0}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype");font-weight:400;font-style:normal}.fc-icon{display:inline-block;width:1em;height:1em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;font-family:fcicons!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;overflow:visible;text-transform:none;margin:0;font-family:inherit;font-size:inherit;line-height:inherit}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{padding:0;border-style:none}.fc .fc-button{display:inline-block;font-weight:400;text-align:center;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.4em .65em;font-size:1em;line-height:1.5;border-radius:.25em}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{outline:0;box-shadow:0 0 0 .2rem rgba(44,62,80,.25)}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50)}.fc .fc-button-primary:hover{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#1e2b37;background-color:var(--fc-button-hover-bg-color,#1e2b37);border-color:#1a252f;border-color:var(--fc-button-hover-border-color,#1a252f)}.fc .fc-button-primary:disabled{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#1a252f;background-color:var(--fc-button-active-bg-color,#1a252f);border-color:#151e27;border-color:var(--fc-button-active-border-color,#151e27)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{vertical-align:middle;font-size:1.5em}.fc .fc-button-group{position:relative;display:inline-flex;vertical-align:middle}.fc .fc-button-group>.fc-button{position:relative;flex:1 1 auto}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){margin-right:-1px;border-top-right-radius:0;border-bottom-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-top-left-radius:0;border-bottom-left-radius:0}.fc .fc-toolbar{display:flex;justify-content:space-between;align-items:center}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{position:absolute;top:0;right:0;left:0;bottom:0}.fc .fc-scroller-harness{position:relative;overflow:hidden;direction:ltr}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{width:100%;table-layout:fixed}.fc .fc-scrollgrid table{border-top-style:hidden;border-left-style:hidden;border-right-style:hidden}.fc .fc-scrollgrid{border-collapse:separate;border-right-width:0;border-bottom-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section>td,.fc .fc-scrollgrid-section table{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-top-width:0;border-left-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:-webkit-sticky;position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:-webkit-sticky;position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{position:absolute;top:0;left:0;right:0;bottom:0}.fc .fc-non-business{background:hsla(0,0%,84.3%,.3);background:var(--fc-non-business-color,hsla(0,0%,84.3%,.3))}.fc .fc-bg-event{background:#8fdf82;background:var(--fc-bg-event-color,#8fdf82);opacity:.3;opacity:var(--fc-bg-event-opacity,.3)}.fc .fc-bg-event .fc-event-title{margin:.5em;font-size:.85em;font-size:var(--fc-small-font-size,.85em);font-style:italic}.fc .fc-highlight{background:rgba(188,232,241,.3);background:var(--fc-highlight-color,rgba(188,232,241,.3))}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{border-radius:4px;border-radius:calc(var(--fc-event-resizer-dot-total-width, 8px) / 2);border-width:1px;width:8px;width:var(--fc-event-resizer-dot-total-width,8px);height:8px;height:var(--fc-event-resizer-dot-total-width,8px);border:var(--fc-event-resizer-dot-border-width,1px) solid;border-color:inherit;background:#fff;background:var(--fc-page-bg-color,#fff)}.fc-event-selected .fc-event-resizer:before{content:"";position:absolute;top:-20px;left:-20px;right:-20px;bottom:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{content:"";position:absolute;z-index:3;top:0;left:0;right:0;bottom:0}.fc-event-selected:after,.fc-event:focus:after{content:"";background:rgba(0,0,0,.25);background:var(--fc-event-selected-overlay-color,rgba(0,0,0,.25));position:absolute;z-index:1;top:-1px;left:-1px;right:-1px;bottom:-1px}.fc-h-event{display:block;border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8)}.fc-h-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;vertical-align:top;left:0;right:0;max-width:100%;overflow:hidden}.fc-h-event.fc-event-selected:before{top:-10px;bottom:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-top-left-radius:0;border-bottom-left-radius:0;border-left-width:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-top-right-radius:0;border-bottom-right-radius:0;border-right-width:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{top:0;bottom:0;width:8px;width:var(--fc-event-resizer-thickness,8px)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:-4px;left:calc(-.5 * var(--fc-event-resizer-thickness, 8px))}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:-4px;right:calc(-.5 * var(--fc-event-resizer-thickness, 8px))}.fc-h-event.fc-event-selected .fc-event-resizer{top:50%;margin-top:-4px;margin-top:calc(-.5 * var(--fc-event-resizer-dot-total-width, 8px))}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:-4px;left:calc(-.5 * var(--fc-event-resizer-dot-total-width, 8px))}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:-4px;right:calc(-.5 * var(--fc-event-resizer-dot-total-width, 8px))}.fc .fc-popover{position:absolute;z-index:9999;box-shadow:0 2px 6px rgba(0,0,0,.15)}.fc .fc-popover-header{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;opacity:.65;font-size:1.1em}.fc-theme-standard .fc-popover{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd);background:#fff;background:var(--fc-page-bg-color,#fff)}.fc-theme-standard .fc-popover-header{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}:root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{content:"";clear:both;display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-daygrid-day-frame{position:relative;min-height:100%}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{position:relative;z-index:4;padding:4px}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{position:absolute;left:0;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{position:relative;min-height:2em}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{position:absolute;top:0;left:0;right:0}.fc .fc-daygrid-bg-harness{position:absolute;top:0;bottom:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{z-index:6;margin-top:1px}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;padding:2px 3px 0}.fc .fc-daygrid-day-bottom:before{content:"";clear:both;display:table}.fc .fc-daygrid-more-link{position:relative;z-index:4;cursor:pointer}.fc .fc-daygrid-week-number{position:absolute;z-index:5;top:0;padding:2px;min-width:1.5em;text-align:center;background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));color:grey;color:var(--fc-neutral-text-color,grey)}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-week-number{left:0;border-radius:0 0 3px 0}.fc-direction-rtl .fc-daygrid-week-number{right:0;border-radius:0 0 0 3px}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{position:relative;white-space:nowrap;border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{display:flex;align-items:center;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;min-width:0;overflow:hidden;font-weight:700}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{top:-10px;bottom:-10px}.fc-daygrid-event-dot{margin:0 4px;box-sizing:content-box;width:0;height:0;border:4px solid #3788d8;border:calc(var(--fc-daygrid-event-dot-width, 8px) / 2) solid var(--fc-event-border-color,#3788d8);border-radius:4px;border-radius:calc(var(--fc-daygrid-event-dot-width, 8px) / 2)}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}.fc-v-event{display:block;border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8)}.fc-v-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff);height:100%}.fc-v-event .fc-event-main-frame{height:100%;display:flex;flex-direction:column}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{top:0;bottom:0;max-height:100%;overflow:hidden}.fc-v-event:not(.fc-event-start){border-top-width:0;border-top-left-radius:0;border-top-right-radius:0}.fc-v-event:not(.fc-event-end){border-bottom-width:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:8px;height:var(--fc-event-resizer-thickness,8px);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:-4px;margin-left:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{position:relative;z-index:1;min-height:100%}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{height:1.5em;border-bottom:0}.fc .fc-timegrid-slot:empty:before{content:"\xa0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{overflow:hidden;display:flex;align-items:center;justify-content:flex-end}.fc .fc-timegrid-axis-cushion{max-width:60px;flex-shrink:0}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-timegrid-col.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc-media-screen .fc-timegrid-cols{position:absolute;top:0;left:0;right:0;bottom:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{position:absolute;top:0;left:0;right:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{position:absolute;left:0;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{position:absolute;top:0;bottom:0;left:0;right:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px #fff;box-shadow:0 0 0 1px var(--fc-page-bg-color,#fff)}.fc-timegrid-event,.fc-timegrid-more-link{font-size:.85em;font-size:var(--fc-small-font-size,.85em);border-radius:3px}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{white-space:nowrap;font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\xa0-\xa0"}.fc-timegrid-event-short .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timegrid-more-link{position:absolute;z-index:9999;color:inherit;color:var(--fc-more-link-text-color,inherit);background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);cursor:pointer;margin-bottom:1px}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{position:absolute;z-index:4;left:0;right:0;border:0 solid red;border-color:var(--fc-now-indicator-color,red);border-top:1px solid var(--fc-now-indicator-color,red)}.fc .fc-timegrid-now-indicator-arrow{position:absolute;z-index:4;margin-top:-5px;border-style:solid;border-color:red;border-color:var(--fc-now-indicator-color,red)}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{left:0;border-width:5px 0 5px 6px;border-top-color:transparent;border-bottom-color:transparent}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{right:0;border-width:5px 6px 5px 0;border-top-color:transparent;border-bottom-color:transparent}:root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-list-empty{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));height:100%;display:flex;justify-content:center;align-items:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{width:100%;border-style:hidden}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{position:-webkit-sticky;position:sticky;top:0;background:#fff;background:var(--fc-page-bg-color,#fff)}.fc .fc-list-table thead{position:absolute;left:-10000px}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{content:"";clear:both;display:table}.fc-theme-standard .fc-list-day-cushion{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:#f5f5f5;background-color:var(--fc-list-event-hover-bg-color,#f5f5f5)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{display:inline-block;box-sizing:content-box;width:0;height:0;border:5px solid #3788d8;border:calc(var(--fc-list-event-dot-width, 10px) / 2) solid var(--fc-event-border-color,#3788d8);border-radius:5px;border-radius:calc(var(--fc-list-event-dot-width, 10px) / 2)}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}.fc-theme-bootstrap a:not([href]){color:inherit}.fc .fc-event,.fc .fc-scrollgrid table tr{-moz-column-break-inside:avoid;break-inside:avoid}.fc-media-print{display:block;max-width:100%}.fc-media-print .fc-bg-event,.fc-media-print .fc-non-business,.fc-media-print .fc-timegrid-axis-chunk,.fc-media-print .fc-timegrid-slots,.fc-media-print .fc-timeline-slots{display:none}.fc-media-print .fc-h-event,.fc-media-print .fc-toolbar button,.fc-media-print .fc-v-event{color:#000!important;background:#fff!important}.fc-media-print .fc-event,.fc-media-print .fc-event-main{color:#000!important}.fc-media-print .fc-timegrid-event{margin:.5em 0}.fc .fc-timeline-body{min-height:100%;position:relative;z-index:1}.fc .fc-timeline-slots{position:absolute;z-index:1;top:0;bottom:0}.fc .fc-timeline-slots>table{height:100%}.fc .fc-timeline-slot-minor{border-style:dotted}.fc .fc-timeline-slot-frame{display:flex;align-items:center;justify-content:center}.fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame{justify-content:flex-start}.fc .fc-timeline-header-row:last-child .fc-timeline-slot-frame{overflow:hidden}.fc .fc-timeline-slot-cushion{padding:4px 5px;white-space:nowrap}.fc-direction-ltr .fc-timeline-slot{border-right:0!important}.fc-direction-rtl .fc-timeline-slot{border-left:0!important}.fc .fc-timeline-now-indicator-container{position:absolute;z-index:4;top:0;bottom:0;left:0;right:0;width:0}.fc .fc-timeline-now-indicator-arrow,.fc .fc-timeline-now-indicator-line{position:absolute;top:0;border-style:solid;border-color:red;border-color:var(--fc-now-indicator-color,red)}.fc .fc-timeline-now-indicator-arrow{margin:0 -6px;border-width:6px 5px 0;border-left-color:transparent;border-right-color:transparent}.fc .fc-timeline-now-indicator-line{margin:0 -1px;bottom:0;border-width:0 0 0 1px}.fc .fc-timeline-events{position:relative;z-index:3;width:0}.fc .fc-timeline-event-harness,.fc .fc-timeline-more-link{position:absolute;top:0}.fc-timeline-event{z-index:1}.fc-timeline-event.fc-event-mirror{z-index:2}.fc-timeline-event{position:relative;display:flex;align-items:center;border-radius:0;padding:2px 1px;margin-bottom:1px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timeline-event .fc-event-main{flex-grow:1;flex-shrink:1;min-width:0}.fc-timeline-event .fc-event-time{font-weight:700}.fc-timeline-event .fc-event-time,.fc-timeline-event .fc-event-title{white-space:nowrap;padding:0 2px}.fc-direction-ltr .fc-timeline-event.fc-event-end,.fc-direction-ltr .fc-timeline-more-link{margin-right:1px}.fc-direction-rtl .fc-timeline-event.fc-event-end,.fc-direction-rtl .fc-timeline-more-link{margin-left:1px}.fc-timeline-overlap-disabled .fc-timeline-event{padding-top:5px;padding-bottom:5px;margin-bottom:0}.fc-timeline-event:not(.fc-event-end):after,.fc-timeline-event:not(.fc-event-start):before{content:"";flex-grow:0;flex-shrink:0;opacity:.5;width:0;height:0;margin:0 1px;border-color:transparent #000;border-style:solid;border-width:5px}.fc-direction-ltr .fc-timeline-event:not(.fc-event-start):before,.fc-direction-rtl .fc-timeline-event:not(.fc-event-end):after{border-left:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-end):after,.fc-direction-rtl .fc-timeline-event:not(.fc-event-start):before{border-right:0}.fc-timeline-more-link{font-size:.85em;font-size:var(--fc-small-font-size,.85em);color:inherit;color:var(--fc-more-link-text-color,inherit);background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);padding:1px;cursor:pointer}.fc-timeline-more-link-inner{display:inline-block;left:0;right:0;padding:2px}.fc .fc-timeline-bg{position:absolute;z-index:2;top:0;bottom:0;width:0;left:0;right:0}.fc .fc-timeline-bg .fc-non-business{z-index:1}.fc .fc-timeline-bg .fc-bg-event{z-index:2}.fc .fc-timeline-bg .fc-highlight{z-index:3}.fc .fc-timeline-bg-harness{position:absolute;top:0;bottom:0}.fc .fc-resource-timeline-divider{width:3px;cursor:col-resize}.fc .fc-resource-group{font-weight:inherit;text-align:inherit}.fc .fc-resource-timeline .fc-resource-group:not([rowspan]){background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc .fc-timeline-lane-frame{position:relative}.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events{box-sizing:content-box;padding-bottom:10px}.fc-timeline-body-expandrows td.fc-timeline-lane{position:relative}.fc-timeline-body-expandrows .fc-timeline-lane-frame{position:static}.fc-datagrid-cell-frame-liquid{height:100%}.fc-liquid-hack .fc-datagrid-cell-frame-liquid{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-datagrid-header .fc-datagrid-cell-frame{position:relative;display:flex;justify-content:flex-start;align-items:center}.fc .fc-datagrid-cell-resizer{position:absolute;z-index:1;top:0;bottom:0;width:5px;cursor:col-resize}.fc .fc-datagrid-cell-cushion{padding:8px;white-space:nowrap;overflow:hidden}.fc .fc-datagrid-expander{cursor:pointer;opacity:.65}.fc .fc-datagrid-expander .fc-icon{display:inline-block;width:1em}.fc .fc-datagrid-expander-placeholder{cursor:auto}.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder{display:none}.fc-direction-ltr .fc-datagrid-cell-resizer{right:-3px}.fc-direction-rtl .fc-datagrid-cell-resizer{left:-3px}.fc-direction-ltr .fc-datagrid-expander{margin-right:3px}.fc-direction-rtl .fc-datagrid-expander{margin-left:3px}'],encapsulation:2}),n})(),hP=(()=>{class n{static registerPlugins(t){ie.globalPlugins.push(...t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[]]}),n})();const JV=["fullcalendar"];function XV(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",23),u.NdJ("click",function(){return u.CHM(t),u.oxw(2).deleteModal()}),u._uU(1,"Delete"),u.qZA()}}function eB(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"dialog",6,7)(2,"div",8)(3,"div",1)(4,"h1"),u._uU(5,"Mindful Log"),u.qZA()(),u.TgZ(6,"div",9)(7,"i"),u._uU(8),u.qZA()(),u.TgZ(9,"div",10)(10,"label",11),u._uU(11,"Date"),u.qZA(),u.TgZ(12,"input",12),u.NdJ("ngModelChange",function(i){return u.CHM(t),u.oxw().currentEventModel.date=i}),u.qZA()(),u.TgZ(13,"div",10)(14,"label",11),u._uU(15,"Number of Minutes"),u.qZA(),u.TgZ(16,"input",13),u.NdJ("ngModelChange",function(i){return u.CHM(t),u.oxw().currentEventModel.timeMinutes=i}),u.qZA()(),u.TgZ(17,"div",9)(18,"label",14),u._uU(19,"Event Description"),u.qZA(),u.TgZ(20,"input",15),u.NdJ("ngModelChange",function(i){return u.CHM(t),u.oxw().currentEventModel.eventDescription=i}),u.qZA()(),u.TgZ(21,"div",9)(22,"div",16)(23,"button",17),u.NdJ("click",function(){return u.CHM(t),u.oxw().colorSelected("color1")}),u.qZA()(),u.TgZ(24,"div",16)(25,"button",17),u.NdJ("click",function(){return u.CHM(t),u.oxw().colorSelected("color2")}),u.qZA()(),u.TgZ(26,"div",16)(27,"button",17),u.NdJ("click",function(){return u.CHM(t),u.oxw().colorSelected("color3")}),u.qZA()(),u.TgZ(28,"div",16)(29,"button",17),u.NdJ("click",function(){return u.CHM(t),u.oxw().colorSelected("color4")}),u.qZA()(),u.TgZ(30,"div",16)(31,"button",17),u.NdJ("click",function(){return u.CHM(t),u.oxw().colorSelected("color5")}),u.qZA()(),u.TgZ(32,"div",16)(33,"button",17),u.NdJ("click",function(){return u.CHM(t),u.oxw().colorSelected("color6")}),u.qZA()()(),u.TgZ(34,"div",1)(35,"div",18),u.YNc(36,XV,2,0,"button",19),u.qZA(),u.TgZ(37,"div",20)(38,"button",21),u.NdJ("click",function(){return u.CHM(t),u.oxw().saveModal()}),u._uU(39,"Save"),u.qZA(),u.TgZ(40,"button",22),u.NdJ("click",function(){return u.CHM(t),u.oxw().closeModal()}),u._uU(41,"Close"),u.qZA()()()()()}if(2&n){const t=u.oxw();u.xp6(8),u.Oqu(t.currentEventModel.title),u.xp6(4),u.Q6J("ngModel",t.currentEventModel.date),u.xp6(4),u.Q6J("ngModel",t.currentEventModel.timeMinutes),u.xp6(4),u.MGl("placeholder","",t.currentEventModel.title," notes..."),u.Q6J("ngModel",t.currentEventModel.eventDescription),u.xp6(3),u.Udp("background",t.userPreferences.color1),u.xp6(2),u.Udp("background",t.userPreferences.color2),u.xp6(2),u.Udp("background",t.userPreferences.color3),u.xp6(2),u.Udp("background",t.userPreferences.color4),u.xp6(2),u.Udp("background",t.userPreferences.color5),u.xp6(2),u.Udp("background",t.userPreferences.color6),u.xp6(3),u.Q6J("ngIf",!!t.currentEventModel.id)}}function tB(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"dialog",6,7)(2,"div",8)(3,"div",1)(4,"h1"),u._uU(5,"Mindful Logger"),u.qZA()(),u.TgZ(6,"div",9)(7,"p"),u._uU(8),u.qZA()(),u.TgZ(9,"div")(10,"button",22),u.NdJ("click",function(){return u.CHM(t),u.oxw().closeOverviewModal()}),u._uU(11,"Close"),u.qZA()()()()}if(2&n){const t=u.oxw();u.xp6(8),u.Oqu(t.dailyOverviewModel.description)}}let nB=(()=>{class n{constructor(t,r){var i=this;this.toastrService=t,this.fireService=r,this.dailyOverviewModel={},this.isOverviewModelOpen=!1,this.currentEventModel={date:zn(Date.now(),"YYYY-MM-dd","en_US")+"T00:00:00"},this.isModalOpen=!1,this.userPreferences={},this.userEvents=[],this.destroyed$=new jr.x,this.closeOverviewModal=()=>{this.isOverviewModelOpen=!1},this.showOverviewModal=()=>{this.isOverviewModelOpen=!0},this.closeModal=()=>{this.isModalOpen=!1,this.currentEventModel.id=""},this.showModal=()=>{this.isModalOpen=!0},this.saveModal=(0,nt.Z)(function*(){var a;const d={id:i.currentEventModel.id,title:i.currentEventModel.eventDescription,timeMinutes:i.currentEventModel.timeMinutes,start:new Date(i.currentEventModel.date+"T00:00:00"),color:i.currentEventModel.selectedColor,allDay:!0};if(null==i.currentEventModel.eventDescription||void 0===i.currentEventModel.eventDescription)i.toastrService.error("Description is Required.");else if(null==d.color||void 0===d.color)i.toastrService.error("Color is Required.");else if(null==d.timeMinutes||void 0===d.timeMinutes)i.toastrService.error("Number of Minutes is Required.");else{let m=0;const b=new Date(zn(Date.now(),"YYYY-MM-dd","en_US")+"T00:00:00");i.userEvents.push(d),i.userEvents.forEach(C=>{var R,P;(null===(R=null==C?void 0:C.start)||void 0===R?void 0:R.getDate())===b.getDate()&&(m+=null!==(P=null==C?void 0:C.timeMinutes)&&void 0!==P?P:0)}),m>i.userPreferences.dailyMinuteGoal&&!i.dailyOverviewModel.hasSeen&&(i.dailyOverviewModel.description=i.userPreferences.trackingDescription+": "+m+" minutes.",i.showOverviewModal(),i.dailyOverviewModel.hasSeen=!0),null===(a=i.calendarComponent)||void 0===a||a.getApi().addEvent(d),yield i.fireService.saveCalendarEvent(d).then(()=>{i.toastrService.success("Event Created.")}).catch(C=>{i.toastrService.error(C)}),i.closeModal()}}),this.deleteModal=(0,nt.Z)(function*(){yield i.fireService.deleteCalendarEvent(i.currentEventModel.id).then(()=>{i.toastrService.success("Event Deleted."),i.closeModal()}).catch(a=>{i.toastrService.error(a)})}),this.dateClick=a=>{this.currentEventModel.date=zn(a.date,"YYYY-MM-dd","en_US")},this.addEventClick=()=>{this.currentEventModel.eventDescription=void 0,this.isModalOpen=!0,this.currentEventModel.title=this.userPreferences.trackingDescription},this.eventClick=a=>{var d;const m=a.event;console.log(m),this.currentEventModel.date=zn(null!==(d=m.start)&&void 0!==d?d:Date.now(),"YYYY-MM-dd","en_US"),this.currentEventModel.eventDescription=m.title,this.currentEventModel.id=m.id,this.showModal()},this.eventDrag=function(){var a=(0,nt.Z)(function*(d){const m=d.event,b={id:m.id,title:m.title,timeMinutes:m.extendedProps.timeMinutes,userId:m.extendedProps.userId,start:m.start,color:m.backgroundColor,allDay:m.allDay};yield i.fireService.saveCalendarEvent(b)});return function(d){return a.apply(this,arguments)}}(),this.calendarOptions={plugins:[UA,ew],eventDisplay:"",defaultRangeSeparator:"",titleRangeSeparator:"",defaultTimedEventDuration:"",defaultAllDayEventDuration:{day:1},forceEventDuration:!0,nextDayThreshold:"",dayHeaders:!0,initialView:"dayGridMonth",aspectRatio:1,headerToolbar:{start:"addEventButton",center:"",end:"dayGridMonth today prev next"},weekends:!0,weekNumbers:!0,editable:!0,nowIndicator:!0,themeSystem:"bootstrap",dragRevertDuration:1,dayPopoverFormat:{month:"2-digit",day:"2-digit",year:"2-digit"},handleWindowResize:!0,windowResizeDelay:0,longPressDelay:0,eventDragMinDistance:0,expandRows:!0,navLinks:!0,selectable:!0,eventMinHeight:0,eventMinWidth:0,eventShortHeight:0,customButtons:{addEventButton:{text:"Add Event",click:this.addEventClick}},dateClick:this.dateClick.bind(this),eventClick:this.eventClick.bind(this),eventDrop:this.eventDrag.bind(this)},this.colorSelected=a=>{switch(a){case"color1":default:this.currentEventModel.selectedColor=this.userPreferences.color1;break;case"color2":this.currentEventModel.selectedColor=this.userPreferences.color2;break;case"color3":this.currentEventModel.selectedColor=this.userPreferences.color3;break;case"color4":this.currentEventModel.selectedColor=this.userPreferences.color4;break;case"color5":this.currentEventModel.selectedColor=this.userPreferences.color5;break;case"color6":this.currentEventModel.selectedColor=this.userPreferences.color6}},this.requestCalendarData=()=>{var a,d;null===(d=null===(a=this.calendarComponent)||void 0===a?void 0:a.getApi())||void 0===d||d.batchRendering(()=>{var m,b,C,R;null===(b=null===(m=this.calendarComponent)||void 0===m?void 0:m.getApi())||void 0===b||b.removeAllEvents(),null===(R=null===(C=this.calendarComponent)||void 0===C?void 0:C.getApi())||void 0===R||R.addEventSource(this.userEvents)})},this.fireService.getUserPreferences().subscribe(a=>{var d;this.userPreferences=null!==(d=a[0])&&void 0!==d?d:{},this.currentEventModel.title=this.userPreferences.trackingDescription,this.currentEventModel.color1=this.userPreferences.color1,this.currentEventModel.color2=this.userPreferences.color2,this.currentEventModel.color3=this.userPreferences.color3,this.currentEventModel.color4=this.userPreferences.color4,this.currentEventModel.color5=this.userPreferences.color5,this.currentEventModel.color6=this.userPreferences.color6},C_(this.destroyed$)),this.fireService.getUserCalendarEvents().subscribe(a=>{a.forEach(d=>{d.start=d.start.toDate()}),this.userEvents=a,this.requestCalendarData()},C_(this.destroyed$))}ngOnDestroy(){this.userEvents=[],this.destroyed$.next(!0),this.destroyed$.complete()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Zu),u.Y36(Qv))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-calendar"]],viewQuery:function(t,r){if(1&t&&u.Gf(JV,5),2&t){let i;u.iGM(i=u.CRH())&&(r.calendarComponent=i.first)}},decls:7,vars:3,consts:[[1,"container","formMain"],[1,"row"],[1,"col-12"],["id","calendar-main",3,"options"],["fullcalendar",""],["id","addEventDialog",4,"ngIf"],["id","addEventDialog"],["addEventDialog",""],[1,"container","h-100","float-left"],[1,"row","mb-3"],[1,"row","mb-2"],["for","eventDateInput"],["id","eventDateInput","type","date","placeholder","YYYY/MM/DD",1,"form-control",3,"ngModel","ngModelChange"],["id","eventDateInput","type","number","placeholder","Minutes...",1,"form-control",3,"ngModel","ngModelChange"],["for","eventMinutesInput"],["id","eventMinutesInput","type","text",1,"form-control",3,"ngModel","placeholder","ngModelChange"],[1,"col-2"],["id","colorPickerInput",1,"w-100","btn",3,"click"],[1,"flex-row","w-25"],["class","mr-5 btn btn-danger",3,"click",4,"ngIf"],[1,"d-flex","flex-row-reverse","w-75"],[1,"ml-3","btn","btn-app-primary",3,"click"],[1,"btn","btn-secondary",3,"click"],[1,"mr-5","btn","btn-danger",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2),u._UZ(3,"full-calendar",3,4),u.qZA()()(),u.YNc(5,eB,42,18,"dialog",5),u.YNc(6,tB,12,1,"dialog",5)),2&t&&(u.xp6(3),u.Q6J("options",r.calendarOptions),u.xp6(2),u.Q6J("ngIf",!!r.isModalOpen),u.xp6(1),u.Q6J("ngIf",!!r.isOverviewModelOpen))},directives:[QV,fr,Xi,ti,Bs,kl],styles:[".form-group[_ngcontent-%COMP%]{padding:1rem}#calendar-main[_ngcontent-%COMP%]{position:relative;scale:.01vh;max-width:70vw!important;max-height:70vh!important;padding:25px;color:#fff}#debugCalendarButton[_ngcontent-%COMP%]{z-index:9999}#addEventDialog[_ngcontent-%COMP%]{z-index:999;position:absolute;left:0vw;top:20vh;color:#fff;border:none;background-color:#333}#addEventDialog[_ngcontent-%COMP%]::-webkit-backdrop{background-color:#000}#addEventDialog[_ngcontent-%COMP%]::backdrop{background-color:#000}"]}),n})(),rB=(()=>{class n{constructor(t,r){this.toastrService=t,this.fireStore=r,this.defaultPreferences={trackingDescription:"Daily Mindfulness Minutes",dailyMinuteGoal:30,color1:"#ff0000",color2:"#d0972f",color3:"#bfd235",color4:"#d4ff55",color5:"#99f763",color6:"#00ff94"},this.model={},this.confirmPassword=""}createAccount(){var t=this;return(0,nt.Z)(function*(){if(t.confirmPassword!==t.model.password)t.toastrService.error("Confirm Password must match.");else{const r=yield t.fireStore.createUserFirebase(t.model.username,t.model.password);r.success?(t.toastrService.success("Account Created Successfully"),t.fireStore.saveUserPreferences(t.defaultPreferences)):t.toastrService.error(r.error.errorMessage)}})()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Zu),u.Y36(Qv))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-create-account"]],decls:36,vars:3,consts:[["id","main-terminal",1,"terminal","container","w-50","h-70"],[1,"row"],[1,"col-12","mx-auto"],[1,"d-flex","flex-row","mb-4","login-row"],[1,"col-2",2,"align-self","center"],["id","userNameTerminal"],[1,"blinking"],[1,"p-1","input-group","mx-auto","col-6"],["id","userInput","placeholder","","name","userInput","type","email",1,"form-control","p-1",2,"background-color","black","color","white",3,"ngModel","ngModelChange"],["id","passTerminal"],["id","passwordInput","placeholder","","name","passwordInput","type","password",1,"form-control","p-1",2,"background-color","black","color","white",3,"ngModel","ngModelChange"],[1,"d-flex","flex-row","mb-4","login-row","w-100"],["id","confirmPasswordInput","placeholder","","name","confirmPasswordInput","type","password",1,"form-control","p-1",2,"background-color","black","color","white",3,"ngModel","ngModelChange"],["id","createAccountLink",1,"mx-auto","col-12"],[1,"w-100","btn","btn-block","btn-black","border-white",3,"click"],["id","meeting-info"],[1,"d-flex","flex-row"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div")(6,"p",5),u._uU(7,"Username"),u.TgZ(8,"span",6),u._uU(9,":"),u.qZA()()()(),u.TgZ(10,"div",7)(11,"input",8),u.NdJ("ngModelChange",function(a){return r.model.username=a}),u.qZA()()(),u.TgZ(12,"div",3)(13,"div",4)(14,"div")(15,"p",9),u._uU(16,"Password"),u.TgZ(17,"span",6),u._uU(18,":"),u.qZA()()()(),u.TgZ(19,"div",7)(20,"input",10),u.NdJ("ngModelChange",function(a){return r.model.password=a}),u.qZA()()(),u.TgZ(21,"div",11)(22,"div",4)(23,"div")(24,"p",9),u._uU(25,"Confirm Password"),u.TgZ(26,"span",6),u._uU(27,":"),u.qZA()()()(),u.TgZ(28,"div",7)(29,"input",12),u.NdJ("ngModelChange",function(a){return r.confirmPassword=a}),u.qZA()()(),u.TgZ(30,"div",3)(31,"div",13)(32,"a",14),u.NdJ("click",function(){return r.createAccount()}),u._uU(33,"Create Account"),u.qZA()()(),u.TgZ(34,"div",15),u._UZ(35,"div",16),u.qZA()()()()),2&t&&(u.xp6(11),u.Q6J("ngModel",r.model.username),u.xp6(9),u.Q6J("ngModel",r.model.password),u.xp6(9),u.Q6J("ngModel",r.confirmPassword))},directives:[Xi,ti,Bs],styles:[""]}),n})();var iB=z(6461);function oB(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"input",6),u.NdJ("ngModelChange",function(i){return u.CHM(t),u.oxw().focusMinutes=i}),u.qZA()}if(2&n){const t=u.oxw();u.Q6J("ngModel",t.focusMinutes)}}function sB(n,e){if(1&n&&(u.TgZ(0,"label",11),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.hij("",t.focusHours,":")}}function aB(n,e){if(1&n&&(u.TgZ(0,"div",7),u.YNc(1,sB,2,1,"label",8),u.TgZ(2,"label",9),u._uU(3),u.qZA(),u.TgZ(4,"label",10),u._uU(5),u.qZA()()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.focusHours>0),u.xp6(2),u.hij(" ",t.focusMinutes,":"),u.xp6(2),u.hij(" ",t.focusSeconds,"")}}function lB(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",12),u.NdJ("click",function(){return u.CHM(t),u.oxw().endFocus()}),u.qZA()}}function uB(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",13),u.NdJ("click",function(){return u.CHM(t),u.oxw().startFocus()}),u.qZA()}}let cB=(()=>{class n{constructor(){this.focusHours=0,this.focusMinutes=15,this.focusSeconds=0,this.focusStarted=!1,this.focusAnimationElement=null,this.startFocus=()=>{this.calculateFocusValues(),this.focusStarted=!0,this.playFocusSounds(),this.countdown=setInterval(()=>{var t;0===this.focusMinutes&&this.focusHours>0&&(this.focusHours-=1,this.focusMinutes=59),0===this.focusSeconds&&this.focusMinutes>0&&(this.focusMinutes-=1,this.focusSeconds=59),null==this.focusAnimationElement&&(this.focusAnimationElement=document.getElementsByClassName("circle-button center-page-button btn btn-danger")[0],null===(t=this.focusAnimationElement)||void 0===t||t.setAttribute("class","circle-button center-page-button btn btn-danger center-page-button-animation")),this.focusFinished()&&this.endFocus(),this.focusSeconds-=1},1e3),console.log("Focus Started!")},this.calculateFocusValues=()=>{const t=this.focusMinutes/60;if(t>1){const r=Math.floor(t);this.focusHours=r,this.focusMinutes=Math.round(Math.abs(60*(t-r)))}},this.focusFinished=()=>0===this.focusHours&&0===this.focusMinutes&&0===this.focusSeconds,this.endFocus=()=>{var t;clearInterval(this.countdown),this.focusHours=0,this.focusMinutes=0,this.focusSeconds=0,this.focusStarted=!1,null===(t=this.focusSounds)||void 0===t||t.stop()},this.playFocusSounds=()=>{this.focusSounds=new iB.Howl({src:["assets/summerNight.wav"],autoplay:!0,html5:!0,loop:!0})}}ngOnDestroy(){var t;this.countdown=void 0,null===(t=this.focusSounds)||void 0===t||t.stop()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-focus-main"]],decls:6,vars:4,consts:[[1,"container","h-100","w-100"],[1,"row","h-25"],["id","focusMinutesInput","name","focus-hours-input","class","center-page-button mb-5 w-25 focus-time-input","placeholder","Minutes","type","number",3,"ngModel","ngModelChange",4,"ngIf"],["id","countdownTimerLabel","class","focus-label-countdown ml-5 w-100 d-flex flex-row",4,"ngIf"],["class","circle-button center-page-button btn btn-danger",3,"click",4,"ngIf"],["id","startFocusButton","class","circle-button center-page-button btn btn-app-primary",3,"click",4,"ngIf"],["id","focusMinutesInput","name","focus-hours-input","placeholder","Minutes","type","number",1,"center-page-button","mb-5","w-25","focus-time-input",3,"ngModel","ngModelChange"],["id","countdownTimerLabel",1,"focus-label-countdown","ml-5","w-100","d-flex","flex-row"],["for","focusHours","class","",4,"ngIf"],["for","focusMinutes",1,""],["for","focusSeconds",1,""],["for","focusHours",1,""],[1,"circle-button","center-page-button","btn","btn-danger",3,"click"],["id","startFocusButton",1,"circle-button","center-page-button","btn","btn-app-primary",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.YNc(2,oB,1,1,"input",2),u.YNc(3,aB,6,3,"div",3),u.YNc(4,lB,1,0,"button",4),u.YNc(5,uB,1,0,"button",5),u.qZA()),2&t&&(u.xp6(2),u.Q6J("ngIf",!r.focusStarted),u.xp6(1),u.Q6J("ngIf",r.focusStarted),u.xp6(1),u.Q6J("ngIf",r.focusStarted),u.xp6(1),u.Q6J("ngIf",!r.focusStarted))},directives:[fr,kl,Xi,ti,Bs],styles:[".circle-button[_ngcontent-%COMP%]{height:calc(100vh / 6);width:calc(100vh / 6);border-radius:50%}#countdownTimerLabel[_ngcontent-%COMP%]{position:absolute!important;left:0;top:0}.focus-label-countdown[_ngcontent-%COMP%]{font-size:5vw;color:#fff;opacity:75%}.focus-time-input[_ngcontent-%COMP%]{font-size:100%;scale:1000%;color:#fff;background:linear-gradient(21deg,#10abff);padding:3px;border-radius:9999em;text-align:center;box-shadow:none!important;text-shadow:none!important;background-color:#333;border-bottom:1px solid white;overflow:hidden;opacity:50%!important}.focus-date[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{color:#fff}.center-page-button[_ngcontent-%COMP%]{text-align:center;margin:auto;display:flex;display:grid}.center-page-button-animation[_ngcontent-%COMP%]{animation:pulse 10s ease-in-out 0s infinite alternate}@keyframes pulse{to{background-color:#7531f9}50%{transform:scale(1.25)}}"]}),n})(),dB=(()=>{class n{constructor(t,r,i){var a=this;this.toastrService=t,this.routerService=r,this.firestore=i,this.model={},this.login=(0,nt.Z)(function*(){const d=yield a.firestore.loginEmailFirebase(a.model.username,a.model.password);d.success?a.toastrService.success("Email Login Successful."):a.toastrService.error(d.error.errorMessage)}),this.loginGoogle=(0,nt.Z)(function*(){const d=yield a.firestore.loginGoogleFirebase();d.success?a.toastrService.success("Google Login Successful."):a.toastrService.error(d.error.errorMessage)}),this.createAccount=()=>{this.routerService.navigate("createAccount")}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Zu),u.Y36(tu),u.Y36(Qv))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-login"]],decls:37,vars:2,consts:[["id","main-terminal",1,"terminal","container","w-25","h-70"],[1,"row"],[1,"col-12","mx-auto"],[1,"d-flex","flex-row","mb-4","login-row"],[1,"col-1",2,"align-self","center"],["id","userNameTerminal"],[1,"blinking"],[1,"p-1","input-group","mx-auto","col-6"],["id","usernameInput","placeholder","","name","userInput","type","email",1,"form-control","p-1",2,"background-color","black","color","white",3,"ngModel","ngModelChange"],["id","passTerminal"],["id","passInput","placeholder","","name","userInput","type","password",1,"form-control","p-1",2,"background-color","black","color","white",3,"ngModel","ngModelChange"],[1,"d-flex","flex-row","mb-2","login-row"],[1,"mx-auto","col-10"],[1,"w-100","btn","btn-block","btn-app-primary","border-white",3,"click"],[1,"col-10","mx-auto"],["role","button",1,"w-100","btn","btn-block","btn-black","border-white",3,"click"],["width","20px","alt","Google sign-in","src","https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/512px-Google_%22G%22_Logo.svg.png",2,"margin-bottom","3px","margin-right","5px"],[2,"color","white"],[1,"d-flex","flex-row-reverse","mb-3","login-row"],["id","createAccountLink",1,"col-6","float-right"],[1,"w-100","d-flex","flex-row-reverse",3,"click"],["id","meeting-info"],[1,"d-flex","flex-row"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div")(6,"p",5),u._uU(7,"Username"),u.TgZ(8,"span",6),u._uU(9,":"),u.qZA()()()(),u.TgZ(10,"div",7)(11,"input",8),u.NdJ("ngModelChange",function(a){return r.model.username=a}),u.qZA()()(),u.TgZ(12,"div",3)(13,"div",4)(14,"div")(15,"p",9),u._uU(16,"Password"),u.TgZ(17,"span",6),u._uU(18,":"),u.qZA()()()(),u.TgZ(19,"div",7)(20,"input",10),u.NdJ("ngModelChange",function(a){return r.model.password=a}),u.qZA()()(),u.TgZ(21,"div",11)(22,"div",12)(23,"button",13),u.NdJ("click",function(){return r.login()}),u._uU(24,"Login"),u.qZA()()(),u.TgZ(25,"div",11)(26,"div",14)(27,"a",15),u.NdJ("click",function(){return r.loginGoogle()}),u._UZ(28,"img",16),u.TgZ(29,"span",17),u._uU(30,"Sign in with Google"),u.qZA()()()(),u.TgZ(31,"div",18)(32,"div",19)(33,"a",20),u.NdJ("click",function(){return r.createAccount()}),u._uU(34,"Create Account"),u.qZA()()(),u.TgZ(35,"div",21),u._UZ(36,"div",22),u.qZA()()()()),2&t&&(u.xp6(11),u.Q6J("ngModel",r.model.username),u.xp6(9),u.Q6J("ngModel",r.model.password))},directives:[Xi,ti,Bs],styles:["#createAccountLink[_ngcontent-%COMP%]{color:#7532fa!important;font-size:small}#createAccountLink[_ngcontent-%COMP%]:hover{color:#7532fa40!important}"]}),n})();const fB=["dialogPopup"],hB=["hueSlider"],pB=["alphaSlider"];function gB(n,e){if(1&n&&u._UZ(0,"div"),2&n){const t=u.oxw();u.Gre("arrow arrow-",t.cpUsePosition,""),u.Udp("top",t.arrowTop,"px")}}function mB(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",28),u.NdJ("newValue",function(i){return u.CHM(t),u.oxw().onColorChange(i)})("dragStart",function(){return u.CHM(t),u.oxw().onDragStart("saturation-lightness")})("dragEnd",function(){return u.CHM(t),u.oxw().onDragEnd("saturation-lightness")}),u._UZ(1,"div",14),u.qZA()}if(2&n){const t=u.oxw();u.Udp("background-color",t.hueSliderColor),u.Q6J("rgX",1)("rgY",1),u.xp6(1),u.Udp("top",null==t.slider?null:t.slider.v,"px")("left",null==t.slider?null:t.slider.s,"px")}}function vB(n,e){1&n&&(u.O4$(),u.TgZ(0,"svg",29),u._UZ(1,"path",30)(2,"path",31),u.qZA())}function yB(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",32),u.NdJ("click",function(i){u.CHM(t);const a=u.oxw();return a.onAddPresetColor(i,a.selectedColor)}),u._uU(1),u.qZA()}if(2&n){const t=u.oxw();u.Tol(t.cpAddColorButtonClass),u.Q6J("disabled",t.cpPresetColors&&t.cpPresetColors.length>=t.cpMaxPresetColorsLength),u.xp6(1),u.hij(" ",t.cpAddColorButtonText," ")}}function _B(n,e){1&n&&u._UZ(0,"div",33)}function bB(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"input",39),u.NdJ("keyup.enter",function(i){return u.CHM(t),u.oxw(2).onAcceptColor(i)})("newValue",function(i){return u.CHM(t),u.oxw(2).onAlphaInput(i)}),u.qZA()}if(2&n){const t=u.oxw(2);u.Q6J("rg",1)("value",null==t.cmykText?null:t.cmykText.a)}}function EB(n,e){1&n&&(u.TgZ(0,"div"),u._uU(1,"A"),u.qZA())}function AB(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",34)(1,"div",35)(2,"input",36),u.NdJ("keyup.enter",function(i){return u.CHM(t),u.oxw().onAcceptColor(i)})("newValue",function(i){return u.CHM(t),u.oxw().onCyanInput(i)}),u.qZA(),u.TgZ(3,"input",36),u.NdJ("keyup.enter",function(i){return u.CHM(t),u.oxw().onAcceptColor(i)})("newValue",function(i){return u.CHM(t),u.oxw().onMagentaInput(i)}),u.qZA(),u.TgZ(4,"input",36),u.NdJ("keyup.enter",function(i){return u.CHM(t),u.oxw().onAcceptColor(i)})("newValue",function(i){return u.CHM(t),u.oxw().onYellowInput(i)}),u.qZA(),u.TgZ(5,"input",36),u.NdJ("keyup.enter",function(i){return u.CHM(t),u.oxw().onAcceptColor(i)})("newValue",function(i){return u.CHM(t),u.oxw().onBlackInput(i)}),u.qZA(),u.YNc(6,bB,1,2,"input",37),u.qZA(),u.TgZ(7,"div",35)(8,"div"),u._uU(9,"C"),u.qZA(),u.TgZ(10,"div"),u._uU(11,"M"),u.qZA(),u.TgZ(12,"div"),u._uU(13,"Y"),u.qZA(),u.TgZ(14,"div"),u._uU(15,"K"),u.qZA(),u.YNc(16,EB,2,0,"div",38),u.qZA()()}if(2&n){const t=u.oxw();u.Udp("display",3!==t.format?"none":"block"),u.xp6(2),u.Q6J("rg",100)("value",null==t.cmykText?null:t.cmykText.c),u.xp6(1),u.Q6J("rg",100)("value",null==t.cmykText?null:t.cmykText.m),u.xp6(1),u.Q6J("rg",100)("value",null==t.cmykText?null:t.cmykText.y),u.xp6(1),u.Q6J("rg",100)("value",null==t.cmykText?null:t.cmykText.k),u.xp6(1),u.Q6J("ngIf","disabled"!==t.cpAlphaChannel),u.xp6(10),u.Q6J("ngIf","disabled"!==t.cpAlphaChannel)}}function wB(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"input",39),u.NdJ("keyup.enter",function(i){return u.CHM(t),u.oxw(2).onAcceptColor(i)})("newValue",function(i){return u.CHM(t),u.oxw(2).onAlphaInput(i)}),u.qZA()}if(2&n){const t=u.oxw(2);u.Q6J("rg",1)("value",null==t.hslaText?null:t.hslaText.a)}}function CB(n,e){1&n&&(u.TgZ(0,"div"),u._uU(1,"A"),u.qZA())}function DB(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",40)(1,"div",35)(2,"input",41),u.NdJ("keyup.enter",function(i){return u.CHM(t),u.oxw().onAcceptColor(i)})("newValue",function(i){return u.CHM(t),u.oxw().onHueInput(i)}),u.qZA(),u.TgZ(3,"input",36),u.NdJ("keyup.enter",function(i){return u.CHM(t),u.oxw().onAcceptColor(i)})("newValue",function(i){return u.CHM(t),u.oxw().onSaturationInput(i)}),u.qZA(),u.TgZ(4,"input",36),u.NdJ("keyup.enter",function(i){return u.CHM(t),u.oxw().onAcceptColor(i)})("newValue",function(i){return u.CHM(t),u.oxw().onLightnessInput(i)}),u.qZA(),u.YNc(5,wB,1,2,"input",37),u.qZA(),u.TgZ(6,"div",35)(7,"div"),u._uU(8,"H"),u.qZA(),u.TgZ(9,"div"),u._uU(10,"S"),u.qZA(),u.TgZ(11,"div"),u._uU(12,"L"),u.qZA(),u.YNc(13,CB,2,0,"div",38),u.qZA()()}if(2&n){const t=u.oxw();u.Udp("display",2!==t.format?"none":"block"),u.xp6(2),u.Q6J("rg",360)("value",null==t.hslaText?null:t.hslaText.h),u.xp6(1),u.Q6J("rg",100)("value",null==t.hslaText?null:t.hslaText.s),u.xp6(1),u.Q6J("rg",100)("value",null==t.hslaText?null:t.hslaText.l),u.xp6(1),u.Q6J("ngIf","disabled"!==t.cpAlphaChannel),u.xp6(8),u.Q6J("ngIf","disabled"!==t.cpAlphaChannel)}}function TB(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"input",39),u.NdJ("keyup.enter",function(i){return u.CHM(t),u.oxw(2).onAcceptColor(i)})("newValue",function(i){return u.CHM(t),u.oxw(2).onAlphaInput(i)}),u.qZA()}if(2&n){const t=u.oxw(2);u.Q6J("rg",1)("value",null==t.rgbaText?null:t.rgbaText.a)}}function IB(n,e){1&n&&(u.TgZ(0,"div"),u._uU(1,"A"),u.qZA())}function SB(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",42)(1,"div",35)(2,"input",43),u.NdJ("keyup.enter",function(i){return u.CHM(t),u.oxw().onAcceptColor(i)})("newValue",function(i){return u.CHM(t),u.oxw().onRedInput(i)}),u.qZA(),u.TgZ(3,"input",43),u.NdJ("keyup.enter",function(i){return u.CHM(t),u.oxw().onAcceptColor(i)})("newValue",function(i){return u.CHM(t),u.oxw().onGreenInput(i)}),u.qZA(),u.TgZ(4,"input",43),u.NdJ("keyup.enter",function(i){return u.CHM(t),u.oxw().onAcceptColor(i)})("newValue",function(i){return u.CHM(t),u.oxw().onBlueInput(i)}),u.qZA(),u.YNc(5,TB,1,2,"input",37),u.qZA(),u.TgZ(6,"div",35)(7,"div"),u._uU(8,"R"),u.qZA(),u.TgZ(9,"div"),u._uU(10,"G"),u.qZA(),u.TgZ(11,"div"),u._uU(12,"B"),u.qZA(),u.YNc(13,IB,2,0,"div",38),u.qZA()()}if(2&n){const t=u.oxw();u.Udp("display",1!==t.format?"none":"block"),u.xp6(2),u.Q6J("rg",255)("value",null==t.rgbaText?null:t.rgbaText.r),u.xp6(1),u.Q6J("rg",255)("value",null==t.rgbaText?null:t.rgbaText.g),u.xp6(1),u.Q6J("rg",255)("value",null==t.rgbaText?null:t.rgbaText.b),u.xp6(1),u.Q6J("ngIf","disabled"!==t.cpAlphaChannel),u.xp6(8),u.Q6J("ngIf","disabled"!==t.cpAlphaChannel)}}function xB(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"input",39),u.NdJ("keyup.enter",function(i){return u.CHM(t),u.oxw(2).onAcceptColor(i)})("newValue",function(i){return u.CHM(t),u.oxw(2).onAlphaInput(i)}),u.qZA()}if(2&n){const t=u.oxw(2);u.Q6J("rg",1)("value",t.hexAlpha)}}function MB(n,e){1&n&&(u.TgZ(0,"div"),u._uU(1,"A"),u.qZA())}function RB(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",44)(1,"div",35)(2,"input",45),u.NdJ("blur",function(){return u.CHM(t),u.oxw().onHexInput(null)})("keyup.enter",function(i){return u.CHM(t),u.oxw().onAcceptColor(i)})("newValue",function(i){return u.CHM(t),u.oxw().onHexInput(i)}),u.qZA(),u.YNc(3,xB,1,2,"input",37),u.qZA(),u.TgZ(4,"div",35)(5,"div"),u._uU(6,"Hex"),u.qZA(),u.YNc(7,MB,2,0,"div",38),u.qZA()()}if(2&n){const t=u.oxw();u.Udp("display",0!==t.format?"none":"block"),u.ekj("hex-alpha","forced"===t.cpAlphaChannel),u.xp6(2),u.Q6J("value",t.hexText),u.xp6(1),u.Q6J("ngIf","forced"===t.cpAlphaChannel),u.xp6(4),u.Q6J("ngIf","forced"===t.cpAlphaChannel)}}function kB(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"input",39),u.NdJ("keyup.enter",function(i){return u.CHM(t),u.oxw(2).onAcceptColor(i)})("newValue",function(i){return u.CHM(t),u.oxw(2).onAlphaInput(i)}),u.qZA()}if(2&n){const t=u.oxw(2);u.Q6J("rg",1)("value",null==t.hslaText?null:t.hslaText.a)}}function NB(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",46)(1,"div",35)(2,"input",36),u.NdJ("keyup.enter",function(i){return u.CHM(t),u.oxw().onAcceptColor(i)})("newValue",function(i){return u.CHM(t),u.oxw().onValueInput(i)}),u.qZA(),u.YNc(3,kB,1,2,"input",37),u.qZA(),u.TgZ(4,"div",35)(5,"div"),u._uU(6,"V"),u.qZA(),u.TgZ(7,"div"),u._uU(8,"A"),u.qZA()()()}if(2&n){const t=u.oxw();u.xp6(2),u.Q6J("rg",100)("value",null==t.hslaText?null:t.hslaText.l),u.xp6(1),u.Q6J("ngIf","disabled"!==t.cpAlphaChannel)}}function PB(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",47)(1,"span",48),u.NdJ("click",function(){return u.CHM(t),u.oxw().onFormatToggle(-1)}),u.qZA(),u.TgZ(2,"span",48),u.NdJ("click",function(){return u.CHM(t),u.oxw().onFormatToggle(1)}),u.qZA()()}}function OB(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"span",55),u.NdJ("click",function(i){u.CHM(t);const a=u.oxw().$implicit;return u.oxw(3).onRemovePresetColor(i,a)}),u.qZA()}if(2&n){const t=u.oxw(4);u.Tol(t.cpRemoveColorButtonClass)}}function FB(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",53),u.NdJ("click",function(){const a=u.CHM(t).$implicit;return u.oxw(3).setColorFromString(a)}),u.YNc(1,OB,1,3,"span",54),u.qZA()}if(2&n){const t=e.$implicit,r=u.oxw(3);u.Udp("background-color",t),u.xp6(1),u.Q6J("ngIf",r.cpAddColorButton)}}function LB(n,e){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,FB,2,3,"div",52),u.qZA()),2&n){const t=u.oxw(2);u.Tol(t.cpPresetColorsClass),u.xp6(1),u.Q6J("ngForOf",t.cpPresetColors)}}function VB(n,e){if(1&n&&(u.TgZ(0,"div"),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.Tol(t.cpPresetEmptyMessageClass),u.xp6(1),u.Oqu(t.cpPresetEmptyMessage)}}function BB(n,e){if(1&n&&(u.TgZ(0,"div",49),u._UZ(1,"hr"),u.TgZ(2,"div",50),u._uU(3),u.qZA(),u.YNc(4,LB,2,4,"div",51),u.YNc(5,VB,2,4,"div",51),u.qZA()),2&n){const t=u.oxw();u.xp6(3),u.Oqu(t.cpPresetLabel),u.xp6(1),u.Q6J("ngIf",null==t.cpPresetColors?null:t.cpPresetColors.length),u.xp6(1),u.Q6J("ngIf",!(null!=t.cpPresetColors&&t.cpPresetColors.length)&&t.cpAddColorButton)}}function UB(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",58),u.NdJ("click",function(i){return u.CHM(t),u.oxw(2).onCancelColor(i)}),u._uU(1),u.qZA()}if(2&n){const t=u.oxw(2);u.Tol(t.cpCancelButtonClass),u.xp6(1),u.Oqu(t.cpCancelButtonText)}}function HB(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",58),u.NdJ("click",function(i){return u.CHM(t),u.oxw(2).onAcceptColor(i)}),u._uU(1),u.qZA()}if(2&n){const t=u.oxw(2);u.Tol(t.cpOKButtonClass),u.xp6(1),u.Oqu(t.cpOKButtonText)}}function jB(n,e){if(1&n&&(u.TgZ(0,"div",56),u.YNc(1,UB,2,4,"button",57),u.YNc(2,HB,2,4,"button",57),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.cpCancelButton),u.xp6(1),u.Q6J("ngIf",t.cpOKButton)}}function GB(n,e){1&n&&u.GkF(0)}function zB(n,e){if(1&n&&(u.TgZ(0,"div",59),u.YNc(1,GB,1,0,"ng-container",60),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngTemplateOutlet",t.cpExtraTemplate)}}var Po=(()=>(function(n){n[n.HEX=0]="HEX",n[n.RGBA=1]="RGBA",n[n.HSLA=2]="HSLA",n[n.CMYK=3]="CMYK"}(Po||(Po={})),Po))();class vd{constructor(e,t,r,i){this.r=e,this.g=t,this.b=r,this.a=i}}class lD{constructor(e,t,r,i){this.h=e,this.s=t,this.v=r,this.a=i}}class Dg{constructor(e,t,r,i){this.h=e,this.s=t,this.l=r,this.a=i}}class Db{constructor(e,t,r,i,a=1){this.c=e,this.m=t,this.y=r,this.k=i,this.a=a}}let ZB=(()=>{class n{constructor(){this.newValue=new u.vpe}inputChange(t){const r=t.target.value;if(void 0===this.rg)this.newValue.emit(r);else{const i=parseFloat(r);this.newValue.emit({v:i,rg:this.rg})}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","text",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(a){return r.inputChange(a)})},inputs:{rg:"rg",text:"text"},outputs:{newValue:"newValue"}}),n})(),$B=(()=>{class n{constructor(t){this.elRef=t,this.dragEnd=new u.vpe,this.dragStart=new u.vpe,this.newValue=new u.vpe,this.listenerMove=r=>this.move(r),this.listenerStop=()=>this.stop()}mouseDown(t){this.start(t)}touchStart(t){this.start(t)}move(t){t.preventDefault(),this.setCursor(t)}start(t){this.setCursor(t),t.stopPropagation(),document.addEventListener("mouseup",this.listenerStop),document.addEventListener("touchend",this.listenerStop),document.addEventListener("mousemove",this.listenerMove),document.addEventListener("touchmove",this.listenerMove),this.dragStart.emit()}stop(){document.removeEventListener("mouseup",this.listenerStop),document.removeEventListener("touchend",this.listenerStop),document.removeEventListener("mousemove",this.listenerMove),document.removeEventListener("touchmove",this.listenerMove),this.dragEnd.emit()}getX(t){const r=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==t.pageX?t.pageX:t.touches[0].pageX)-r.left-window.pageXOffset}getY(t){const r=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==t.pageY?t.pageY:t.touches[0].pageY)-r.top-window.pageYOffset}setCursor(t){const r=this.elRef.nativeElement.offsetWidth,i=this.elRef.nativeElement.offsetHeight,a=Math.max(0,Math.min(this.getX(t),r)),d=Math.max(0,Math.min(this.getY(t),i));void 0!==this.rgX&&void 0!==this.rgY?this.newValue.emit({s:a/r,v:1-d/i,rgX:this.rgX,rgY:this.rgY}):void 0===this.rgX&&void 0!==this.rgY?this.newValue.emit({v:d/i,rgY:this.rgY}):void 0!==this.rgX&&void 0===this.rgY&&this.newValue.emit({v:a/r,rgX:this.rgX})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","slider",""]],hostBindings:function(t,r){1&t&&u.NdJ("mousedown",function(a){return r.mouseDown(a)})("touchstart",function(a){return r.touchStart(a)})},inputs:{rgX:"rgX",rgY:"rgY",slider:"slider"},outputs:{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}}),n})();class pP{constructor(e,t,r,i){this.h=e,this.s=t,this.v=r,this.a=i}}class gP{constructor(e,t,r,i){this.h=e,this.s=t,this.v=r,this.a=i}}let _M=(()=>{class n{constructor(){this.active=null}setActive(t){this.active&&this.active!==t&&"inline"!==this.active.cpDialogDisplay&&this.active.closeDialog(),this.active=t}hsva2hsla(t){const r=t.h,i=t.s,a=t.v,d=t.a;if(0===a)return new Dg(r,0,0,d);if(0===i&&1===a)return new Dg(r,1,1,d);{const m=a*(2-i)/2;return new Dg(r,a*i/(1-Math.abs(2*m-1)),m,d)}}hsla2hsva(t){const r=Math.min(t.h,1),i=Math.min(t.s,1),a=Math.min(t.l,1),d=Math.min(t.a,1);if(0===a)return new lD(r,0,0,d);{const m=a+i*(1-Math.abs(2*a-1))/2;return new lD(r,2*(m-a)/m,m,d)}}hsvaToRgba(t){let r,i,a;const d=t.h,m=t.s,b=t.v,C=t.a,R=Math.floor(6*d),P=6*d-R,Z=b*(1-m),Q=b*(1-P*m),te=b*(1-(1-P)*m);switch(R%6){case 0:r=b,i=te,a=Z;break;case 1:r=Q,i=b,a=Z;break;case 2:r=Z,i=b,a=te;break;case 3:r=Z,i=Q,a=b;break;case 4:r=te,i=Z,a=b;break;case 5:r=b,i=Z,a=Q;break;default:r=0,i=0,a=0}return new vd(r,i,a,C)}cmykToRgb(t){return new vd((1-t.c)*(1-t.k),(1-t.m)*(1-t.k),(1-t.y)*(1-t.k),t.a)}rgbaToCmyk(t){const r=1-Math.max(t.r,t.g,t.b);return 1===r?new Db(0,0,0,1,t.a):new Db((1-t.r-r)/(1-r),(1-t.g-r)/(1-r),(1-t.b-r)/(1-r),r,t.a)}rgbaToHsva(t){let r,i;const a=Math.min(t.r,1),d=Math.min(t.g,1),m=Math.min(t.b,1),b=Math.min(t.a,1),C=Math.max(a,d,m),R=Math.min(a,d,m),P=C,Z=C-R;if(i=0===C?0:Z/C,C===R)r=0;else{switch(C){case a:r=(d-m)/Z+(d<m?6:0);break;case d:r=(m-a)/Z+2;break;case m:r=(a-d)/Z+4;break;default:r=0}r/=6}return new lD(r,i,P,b)}rgbaToHex(t,r){let i="#"+(16777216|t.r<<16|t.g<<8|t.b).toString(16).substr(1);return r&&(i+=(256|Math.round(255*t.a)).toString(16).substr(1)),i}normalizeCMYK(t){return new Db(t.c/100,t.m/100,t.y/100,t.k/100,t.a)}denormalizeCMYK(t){return new Db(Math.floor(100*t.c),Math.floor(100*t.m),Math.floor(100*t.y),Math.floor(100*t.k),t.a)}denormalizeRGBA(t){return new vd(Math.round(255*t.r),Math.round(255*t.g),Math.round(255*t.b),t.a)}stringToHsva(t="",r=!1){let i=null;t=(t||"").toLowerCase();const a=[{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(d){return new vd(parseInt(d[2],10)/255,parseInt(d[3],10)/255,parseInt(d[4],10)/255,isNaN(parseFloat(d[5]))?1:parseFloat(d[5]))}},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(d){return new Dg(parseInt(d[2],10)/360,parseInt(d[3],10)/100,parseInt(d[4],10)/100,isNaN(parseFloat(d[5]))?1:parseFloat(d[5]))}}];a.push(r?{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:function(d){return new vd(parseInt(d[1],16)/255,parseInt(d[2],16)/255,parseInt(d[3],16)/255,parseInt(d[4]||"FF",16)/255)}}:{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:function(d){return new vd(parseInt(d[1],16)/255,parseInt(d[2],16)/255,parseInt(d[3],16)/255,1)}}),a.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:function(d){return new vd(parseInt(d[1]+d[1],16)/255,parseInt(d[2]+d[2],16)/255,parseInt(d[3]+d[3],16)/255,1)}});for(const d in a)if(a.hasOwnProperty(d)){const m=a[d],b=m.re.exec(t),C=b&&m.parse(b);if(C)return C instanceof vd?i=this.rgbaToHsva(C):C instanceof Dg&&(i=this.hsla2hsva(C)),i}return i}outputFormat(t,r,i){switch("auto"===r&&(r=t.a<1?"rgba":"hex"),r){case"hsla":const a=this.hsva2hsla(t),d=new Dg(Math.round(360*a.h),Math.round(100*a.s),Math.round(100*a.l),Math.round(100*a.a)/100);return t.a<1||"always"===i?"hsla("+d.h+","+d.s+"%,"+d.l+"%,"+d.a+")":"hsl("+d.h+","+d.s+"%,"+d.l+"%)";case"rgba":const m=this.denormalizeRGBA(this.hsvaToRgba(t));return t.a<1||"always"===i?"rgba("+m.r+","+m.g+","+m.b+","+Math.round(100*m.a)/100+")":"rgb("+m.r+","+m.g+","+m.b+")";default:const b="always"===i||"forced"===i;return this.rgbaToHex(this.denormalizeRGBA(this.hsvaToRgba(t)),b)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const mP="undefined"!=typeof window&&"ontouchstart"in window;let KB=(()=>{class n{constructor(t,r,i,a,d,m){this.ngZone=t,this.elRef=r,this.cdRef=i,this.document=a,this.platformId=d,this.service=m,this.isIE10=!1,this.dialogArrowSize=10,this.dialogArrowOffset=15,this.dialogInputFields=[Po.HEX,Po.RGBA,Po.HSLA,Po.CMYK],this.useRootViewContainer=!1,this.eyeDropperSupported=function Nr(n){return n===Vo}(this.platformId)&&"EyeDropper"in this.document.defaultView}handleEsc(t){this.show&&"popup"===this.cpDialogDisplay&&this.onCancelColor(t)}handleEnter(t){this.show&&"popup"===this.cpDialogDisplay&&this.onAcceptColor(t)}ngOnInit(){this.slider=new pP(0,0,0,0),this.sliderDimMax=new gP(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.format=this.cpCmykEnabled?Po.CMYK:"rgba"===this.cpOutputFormat?Po.RGBA:"hsla"===this.cpOutputFormat?Po.HSLA:Po.HEX,this.listenerMouseDown=i=>{this.onMouseDown(i)},this.listenerResize=()=>{this.onResize()},this.openDialog(this.initialColor,!1)}ngOnDestroy(){this.closeDialog()}ngAfterViewInit(){230===this.cpWidth&&"inline"!==this.cpDialogDisplay||(this.sliderDimMax=new gP(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.updateColorPicker(!1),this.cdRef.detectChanges())}openDialog(t,r=!0){this.service.setActive(this),this.width||(this.cpWidth=this.directiveElementRef.nativeElement.offsetWidth),this.height||(this.height=320),this.setInitialColor(t),this.setColorFromString(t,r),this.openColorPicker()}closeDialog(){this.closeColorPicker()}setupDialog(t,r,i,a,d,m,b,C,R,P,Z,Q,te,Se,rt,ot,yt,Mt,wt,mn,pn,Bn,Un,Oo,Fo,_d,is,nu,Tg,cD,en,yn,In,ar,Li,hl,Ts,ac){this.setInitialColor(i),this.setColorMode(C),this.isIE10=10===function WB(){let n="";"undefined"!=typeof navigator&&(n=navigator.userAgent.toLowerCase());const e=n.indexOf("msie ");return e>0&&parseInt(n.substring(e+5,n.indexOf(".",e)),10)}(),this.directiveInstance=t,this.directiveElementRef=r,this.cpDisableInput=Q,this.cpCmykEnabled=R,this.cpAlphaChannel=P,this.cpOutputFormat=Z,this.cpDialogDisplay=m,this.cpIgnoredElements=te,this.cpSaveClickOutside=Se,this.cpCloseClickOutside=rt,this.useRootViewContainer=ot,this.width=this.cpWidth=parseInt(a,10),this.height=this.cpHeight=parseInt(d,10),this.cpPosition=yt,this.cpPositionOffset=parseInt(Mt,10),this.cpOKButton=_d,this.cpOKButtonText=nu,this.cpOKButtonClass=is,this.cpCancelButton=Tg,this.cpCancelButtonText=en,this.cpCancelButtonClass=cD,this.cpEyeDropper=hl,this.fallbackColor=b||"#fff",this.setPresetConfig(mn,pn),this.cpPresetColorsClass=Bn,this.cpMaxPresetColorsLength=Un,this.cpPresetEmptyMessage=Oo,this.cpPresetEmptyMessageClass=Fo,this.cpAddColorButton=yn,this.cpAddColorButtonText=ar,this.cpAddColorButtonClass=In,this.cpRemoveColorButtonClass=Li,this.cpTriggerElement=Ts,this.cpExtraTemplate=ac,wt||(this.dialogArrowOffset=0),"inline"===m&&(this.dialogArrowSize=0,this.dialogArrowOffset=0),"hex"===Z&&"always"!==P&&"forced"!==P&&(this.cpAlphaChannel="disabled")}setColorMode(t){switch(t.toString().toUpperCase()){case"1":case"C":case"COLOR":default:this.cpColorMode=1;break;case"2":case"G":case"GRAYSCALE":this.cpColorMode=2;break;case"3":case"P":case"PRESETS":this.cpColorMode=3}}setInitialColor(t){this.initialColor=t}setPresetConfig(t,r){this.cpPresetLabel=t,this.cpPresetColors=r}setColorFromString(t,r=!0,i=!0){let a;"always"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel?(a=this.service.stringToHsva(t,!0),!a&&!this.hsva&&(a=this.service.stringToHsva(t,!1))):a=this.service.stringToHsva(t,!1),!a&&!this.hsva&&(a=this.service.stringToHsva(this.fallbackColor,!1)),a&&(this.hsva=a,this.sliderH=this.hsva.h,"hex"===this.cpOutputFormat&&"disabled"===this.cpAlphaChannel&&(this.hsva.a=1),this.updateColorPicker(r,i))}onResize(){"fixed"===this.position?this.setDialogPosition():"inline"!==this.cpDialogDisplay&&this.closeColorPicker()}onDragEnd(t){this.directiveInstance.sliderDragEnd({slider:t,color:this.outputColor})}onDragStart(t){this.directiveInstance.sliderDragStart({slider:t,color:this.outputColor})}onMouseDown(t){this.show&&!this.isIE10&&"popup"===this.cpDialogDisplay&&t.target!==this.directiveElementRef.nativeElement&&!this.isDescendant(this.elRef.nativeElement,t.target)&&!this.isDescendant(this.directiveElementRef.nativeElement,t.target)&&0===this.cpIgnoredElements.filter(r=>r===t.target).length&&this.ngZone.run(()=>{this.cpSaveClickOutside?this.directiveInstance.colorSelected(this.outputColor):(this.hsva=null,this.setColorFromString(this.initialColor,!1),this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor),this.directiveInstance.colorCanceled()),this.cpCloseClickOutside&&this.closeColorPicker()})}onAcceptColor(t){t.stopPropagation(),this.outputColor&&this.directiveInstance.colorSelected(this.outputColor),"popup"===this.cpDialogDisplay&&this.closeColorPicker()}onCancelColor(t){this.hsva=null,t.stopPropagation(),this.directiveInstance.colorCanceled(),this.setColorFromString(this.initialColor,!0),"popup"===this.cpDialogDisplay&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor,!0),this.closeColorPicker())}onEyeDropper(){this.eyeDropperSupported&&(new window.EyeDropper).open().then(r=>{this.setColorFromString(r.sRGBHex,!0)})}onFormatToggle(t){const r=this.dialogInputFields.length-(this.cpCmykEnabled?0:1),i=((this.dialogInputFields.indexOf(this.format)+t)%r+r)%r;this.format=this.dialogInputFields[i]}onColorChange(t){this.hsva.s=t.s/t.rgX,this.hsva.v=t.v/t.rgY,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"lightness",value:this.hsva.v,color:this.outputColor}),this.directiveInstance.sliderChanged({slider:"saturation",value:this.hsva.s,color:this.outputColor})}onHueChange(t){this.hsva.h=t.v/t.rgX,this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"hue",value:this.hsva.h,color:this.outputColor})}onValueChange(t){this.hsva.v=t.v/t.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"value",value:this.hsva.v,color:this.outputColor})}onAlphaChange(t){this.hsva.a=t.v/t.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"alpha",value:this.hsva.a,color:this.outputColor})}onHexInput(t){if(null===t)this.updateColorPicker();else{t&&"#"!==t[0]&&(t="#"+t);let r=/^#([a-f0-9]{3}|[a-f0-9]{6})$/gi;"always"===this.cpAlphaChannel&&(r=/^#([a-f0-9]{3}|[a-f0-9]{6}|[a-f0-9]{8})$/gi);const i=r.test(t);i&&(t.length<5&&(t="#"+t.substring(1).split("").map(a=>a+a).join("")),"forced"===this.cpAlphaChannel&&(t+=Math.round(255*this.hsva.a).toString(16)),this.setColorFromString(t,!0,!1)),this.directiveInstance.inputChanged({input:"hex",valid:i,value:t,color:this.outputColor})}}onRedInput(t){const r=this.service.hsvaToRgba(this.hsva),i=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;i&&(r.r=t.v/t.rg,this.hsva=this.service.rgbaToHsva(r),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"red",valid:i,value:r.r,color:this.outputColor})}onBlueInput(t){const r=this.service.hsvaToRgba(this.hsva),i=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;i&&(r.b=t.v/t.rg,this.hsva=this.service.rgbaToHsva(r),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"blue",valid:i,value:r.b,color:this.outputColor})}onGreenInput(t){const r=this.service.hsvaToRgba(this.hsva),i=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;i&&(r.g=t.v/t.rg,this.hsva=this.service.rgbaToHsva(r),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"green",valid:i,value:r.g,color:this.outputColor})}onHueInput(t){const r=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;r&&(this.hsva.h=t.v/t.rg,this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"hue",valid:r,value:this.hsva.h,color:this.outputColor})}onValueInput(t){const r=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;r&&(this.hsva.v=t.v/t.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"value",valid:r,value:this.hsva.v,color:this.outputColor})}onAlphaInput(t){const r=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;r&&(this.hsva.a=t.v/t.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"alpha",valid:r,value:this.hsva.a,color:this.outputColor})}onLightnessInput(t){const r=this.service.hsva2hsla(this.hsva),i=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;i&&(r.l=t.v/t.rg,this.hsva=this.service.hsla2hsva(r),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"lightness",valid:i,value:r.l,color:this.outputColor})}onSaturationInput(t){const r=this.service.hsva2hsla(this.hsva),i=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;i&&(r.s=t.v/t.rg,this.hsva=this.service.hsla2hsva(r),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"saturation",valid:i,value:r.s,color:this.outputColor})}onCyanInput(t){!isNaN(t.v)&&t.v>=0&&t.v<=t.rg&&(this.cmyk.c=t.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"cyan",valid:!0,value:this.cmyk.c,color:this.outputColor})}onMagentaInput(t){!isNaN(t.v)&&t.v>=0&&t.v<=t.rg&&(this.cmyk.m=t.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"magenta",valid:!0,value:this.cmyk.m,color:this.outputColor})}onYellowInput(t){!isNaN(t.v)&&t.v>=0&&t.v<=t.rg&&(this.cmyk.y=t.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"yellow",valid:!0,value:this.cmyk.y,color:this.outputColor})}onBlackInput(t){!isNaN(t.v)&&t.v>=0&&t.v<=t.rg&&(this.cmyk.k=t.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"black",valid:!0,value:this.cmyk.k,color:this.outputColor})}onAddPresetColor(t,r){t.stopPropagation(),this.cpPresetColors.filter(i=>i===r).length||(this.cpPresetColors=this.cpPresetColors.concat(r),this.directiveInstance.presetColorsChanged(this.cpPresetColors))}onRemovePresetColor(t,r){t.stopPropagation(),this.cpPresetColors=this.cpPresetColors.filter(i=>i!==r),this.directiveInstance.presetColorsChanged(this.cpPresetColors)}openColorPicker(){this.show||(this.show=!0,this.hidden=!0,setTimeout(()=>{this.hidden=!1,this.setDialogPosition(),this.cdRef.detectChanges()},0),this.directiveInstance.stateChanged(!0),this.isIE10||this.ngZone.runOutsideAngular(()=>{mP?document.addEventListener("touchstart",this.listenerMouseDown):document.addEventListener("mousedown",this.listenerMouseDown)}),window.addEventListener("resize",this.listenerResize))}closeColorPicker(){this.show&&(this.show=!1,this.directiveInstance.stateChanged(!1),this.isIE10||(mP?document.removeEventListener("touchstart",this.listenerMouseDown):document.removeEventListener("mousedown",this.listenerMouseDown)),window.removeEventListener("resize",this.listenerResize),this.cdRef.destroyed||this.cdRef.detectChanges())}updateColorPicker(t=!0,r=!0,i=!1){if(this.sliderDimMax){let a,d,m;2===this.cpColorMode&&(this.hsva.s=0);const b=this.outputColor;if(d=this.service.hsva2hsla(this.hsva),this.cpCmykEnabled?(i?(m=this.service.cmykToRgb(this.service.normalizeCMYK(this.cmyk)),this.hsva=this.service.rgbaToHsva(m)):(m=this.service.hsvaToRgba(this.hsva),this.cmyk=this.service.denormalizeCMYK(this.service.rgbaToCmyk(m))),m=this.service.denormalizeRGBA(m),this.sliderH=this.hsva.h):m=this.service.denormalizeRGBA(this.service.hsvaToRgba(this.hsva)),a=this.service.denormalizeRGBA(this.service.hsvaToRgba(new lD(this.sliderH||this.hsva.h,1,1,1))),r&&(this.hslaText=new Dg(Math.round(360*d.h),Math.round(100*d.s),Math.round(100*d.l),Math.round(100*d.a)/100),this.rgbaText=new vd(m.r,m.g,m.b,Math.round(100*m.a)/100),this.cpCmykEnabled&&(this.cmykText=new Db(this.cmyk.c,this.cmyk.m,this.cmyk.y,this.cmyk.k,Math.round(100*this.cmyk.a)/100)),this.hexText=this.service.rgbaToHex(m,"always"===this.cpAlphaChannel),this.hexAlpha=this.rgbaText.a),"auto"===this.cpOutputFormat&&this.format!==Po.RGBA&&this.format!==Po.CMYK&&this.format!==Po.HSLA&&this.hsva.a<1&&(this.format=this.hsva.a<1?Po.RGBA:Po.HEX),this.hueSliderColor="rgb("+a.r+","+a.g+","+a.b+")",this.alphaSliderColor="rgb("+m.r+","+m.g+","+m.b+")",this.outputColor=this.service.outputFormat(this.hsva,this.cpOutputFormat,this.cpAlphaChannel),this.selectedColor=this.service.outputFormat(this.hsva,"rgba",null),this.format!==Po.CMYK)this.cmykColor="";else if("always"===this.cpAlphaChannel||"enabled"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel){const C=Math.round(100*this.cmyk.a)/100;this.cmykColor=`cmyka(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k},${C})`}else this.cmykColor=`cmyk(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k})`;this.slider=new pP((this.sliderH||this.hsva.h)*this.sliderDimMax.h-8,this.hsva.s*this.sliderDimMax.s-8,(1-this.hsva.v)*this.sliderDimMax.v-8,this.hsva.a*this.sliderDimMax.a-8),t&&b!==this.outputColor&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.outputColor))}}setDialogPosition(){if("inline"===this.cpDialogDisplay)this.position="relative";else{let i,t="static",r="",a=null,d=null,m=this.directiveElementRef.nativeElement.parentNode;const b=this.dialogElement.nativeElement.offsetHeight;for(;null!==m&&"HTML"!==m.tagName;){if(i=window.getComputedStyle(m),t=i.getPropertyValue("position"),r=i.getPropertyValue("transform"),"static"!==t&&null===a&&(a=m),r&&"none"!==r&&null===d&&(d=m),"fixed"===t){a=d;break}m=m.parentNode}const C=this.createDialogBox(this.directiveElementRef.nativeElement,"fixed"!==t);if(this.useRootViewContainer||"fixed"===t&&(!a||a instanceof HTMLUnknownElement))this.top=C.top,this.left=C.left;else{null===a&&(a=m);const P=this.createDialogBox(a,"fixed"!==t);this.top=C.top-P.top,this.left=C.left-P.left}"fixed"===t&&(this.position="fixed");let R=this.cpPosition;"auto"===this.cpPosition&&(R=function qB(n,e){let t="right",r="bottom";const{height:i,width:a}=n,{top:d,left:m}=e,b=d+e.height,C=m+e.width,R=d-i<0,P=b+i>(window.innerHeight||document.documentElement.clientHeight),Z=m-a<0,Q=C+a>(window.innerWidth||document.documentElement.clientWidth);return P&&(r="top"),R&&(r="bottom"),Z&&(t="right"),Q&&(t="left"),R&&P&&Z&&Q?["left","right","top","bottom"].reduce((rt,ot)=>n[rt]>n[ot]?rt:ot):Z&&Q?R?"bottom":P||d>b?"top":"bottom":R&&P?Z?"right":Q||m>C?"left":"right":`${r}-${t}`}(this.dialogElement.nativeElement.getBoundingClientRect(),this.cpTriggerElement.nativeElement.getBoundingClientRect())),"top"===R?(this.arrowTop=b-1,this.top-=b+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*C.width-this.dialogArrowOffset):"bottom"===R?(this.top+=C.height+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*C.width-this.dialogArrowOffset):"top-left"===R||"left-top"===R?(this.top-=b-C.height+C.height*this.cpPositionOffset/100,this.left-=this.cpWidth+this.dialogArrowSize-2-this.dialogArrowOffset):"top-right"===R||"right-top"===R?(this.top-=b-C.height+C.height*this.cpPositionOffset/100,this.left+=C.width+this.dialogArrowSize-2-this.dialogArrowOffset):"left"===R||"bottom-left"===R||"left-bottom"===R?(this.top+=C.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left-=this.cpWidth+this.dialogArrowSize-2):(this.top+=C.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left+=C.width+this.dialogArrowSize-2),this.cpUsePosition=R}}isDescendant(t,r){let i=r.parentNode;for(;null!==i;){if(i===t)return!0;i=i.parentNode}return!1}createDialogBox(t,r){const{top:i,left:a}=t.getBoundingClientRect();return{top:i+(r?window.pageYOffset:0),left:a+(r?window.pageXOffset:0),width:t.offsetWidth,height:t.offsetHeight}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.R0b),u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(Ee),u.Y36(u.Lbi),u.Y36(_M))},n.\u0275cmp=u.Xpm({type:n,selectors:[["color-picker"]],viewQuery:function(t,r){if(1&t&&(u.Gf(fB,7),u.Gf(hB,7),u.Gf(pB,7)),2&t){let i;u.iGM(i=u.CRH())&&(r.dialogElement=i.first),u.iGM(i=u.CRH())&&(r.hueSlider=i.first),u.iGM(i=u.CRH())&&(r.alphaSlider=i.first)}},hostBindings:function(t,r){1&t&&u.NdJ("keyup.esc",function(a){return r.handleEsc(a)},!1,u.evT)("keyup.enter",function(a){return r.handleEnter(a)},!1,u.evT)},decls:30,vars:51,consts:[[1,"color-picker",3,"click"],["dialogPopup",""],[3,"class","top",4,"ngIf"],["class","saturation-lightness",3,"slider","rgX","rgY","background-color","newValue","dragStart","dragEnd",4,"ngIf"],[1,"hue-alpha","box"],[1,"left"],[1,"selected-color-background"],[1,"selected-color",3,"click"],["class","eyedropper-icon","xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",4,"ngIf"],["type","button",3,"class","disabled","click",4,"ngIf"],[1,"right"],["style","height: 16px;",4,"ngIf"],[1,"hue",3,"slider","rgX","newValue","dragStart","dragEnd"],["hueSlider",""],[1,"cursor"],[1,"value",3,"slider","rgX","newValue","dragStart","dragEnd"],["valueSlider",""],[1,"alpha",3,"slider","rgX","newValue","dragStart","dragEnd"],["alphaSlider",""],["class","cmyk-text",3,"display",4,"ngIf"],["class","hsla-text",3,"display",4,"ngIf"],["class","rgba-text",3,"display",4,"ngIf"],["class","hex-text",3,"hex-alpha","display",4,"ngIf"],["class","value-text",4,"ngIf"],["class","type-policy",4,"ngIf"],["class","preset-area",4,"ngIf"],["class","button-area",4,"ngIf"],["class","extra-template",4,"ngIf"],[1,"saturation-lightness",3,"slider","rgX","rgY","newValue","dragStart","dragEnd"],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",1,"eyedropper-icon"],["d","M0 0h24v24H0V0z","fill","none"],["d","M17.66 5.41l.92.92-2.69 2.69-.92-.92 2.69-2.69M17.67 3c-.26 0-.51.1-.71.29l-3.12 3.12-1.93-1.91-1.41 1.41 1.42 1.42L3 16.25V21h4.75l8.92-8.92 1.42 1.42 1.41-1.41-1.92-1.92 3.12-3.12c.4-.4.4-1.03.01-1.42l-2.34-2.34c-.2-.19-.45-.29-.7-.29zM6.92 19L5 17.08l8.06-8.06 1.92 1.92L6.92 19z"],["type","button",3,"disabled","click"],[2,"height","16px"],[1,"cmyk-text"],[1,"box"],["type","number","pattern","[0-9]*","min","0","max","100",3,"text","rg","value","keyup.enter","newValue"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"text","rg","value","keyup.enter","newValue",4,"ngIf"],[4,"ngIf"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"text","rg","value","keyup.enter","newValue"],[1,"hsla-text"],["type","number","pattern","[0-9]*","min","0","max","360",3,"text","rg","value","keyup.enter","newValue"],[1,"rgba-text"],["type","number","pattern","[0-9]*","min","0","max","255",3,"text","rg","value","keyup.enter","newValue"],[1,"hex-text"],[3,"text","value","blur","keyup.enter","newValue"],[1,"value-text"],[1,"type-policy"],[1,"type-policy-arrow",3,"click"],[1,"preset-area"],[1,"preset-label"],[3,"class",4,"ngIf"],["class","preset-color",3,"backgroundColor","click",4,"ngFor","ngForOf"],[1,"preset-color",3,"click"],[3,"class","click",4,"ngIf"],[3,"click"],[1,"button-area"],["type","button",3,"class","click",4,"ngIf"],["type","button",3,"click"],[1,"extra-template"],[4,"ngTemplateOutlet"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0,1),u.NdJ("click",function(a){return a.stopPropagation()}),u.YNc(2,gB,1,5,"div",2),u.YNc(3,mB,2,8,"div",3),u.TgZ(4,"div",4)(5,"div",5),u._UZ(6,"div",6),u.TgZ(7,"div",7),u.NdJ("click",function(){return r.eyeDropperSupported&&r.cpEyeDropper&&r.onEyeDropper()}),u.YNc(8,vB,3,0,"svg",8),u.qZA(),u.YNc(9,yB,2,5,"button",9),u.qZA(),u.TgZ(10,"div",10),u.YNc(11,_B,1,0,"div",11),u.TgZ(12,"div",12,13),u.NdJ("newValue",function(a){return r.onHueChange(a)})("dragStart",function(){return r.onDragStart("hue")})("dragEnd",function(){return r.onDragEnd("hue")}),u._UZ(14,"div",14),u.qZA(),u.TgZ(15,"div",15,16),u.NdJ("newValue",function(a){return r.onValueChange(a)})("dragStart",function(){return r.onDragStart("value")})("dragEnd",function(){return r.onDragEnd("value")}),u._UZ(17,"div",14),u.qZA(),u.TgZ(18,"div",17,18),u.NdJ("newValue",function(a){return r.onAlphaChange(a)})("dragStart",function(){return r.onDragStart("alpha")})("dragEnd",function(){return r.onDragEnd("alpha")}),u._UZ(20,"div",14),u.qZA()()(),u.YNc(21,AB,17,12,"div",19),u.YNc(22,DB,14,10,"div",20),u.YNc(23,SB,14,10,"div",21),u.YNc(24,RB,8,7,"div",22),u.YNc(25,NB,9,3,"div",23),u.YNc(26,PB,3,0,"div",24),u.YNc(27,BB,6,3,"div",25),u.YNc(28,jB,3,2,"div",26),u.YNc(29,zB,2,1,"div",27),u.qZA()),2&t&&(u.Udp("display",r.show?"block":"none")("visibility",r.hidden?"hidden":"visible")("top",r.top,"px")("left",r.left,"px")("position",r.position)("height",r.cpHeight,"px")("width",r.cpWidth,"px"),u.ekj("open",r.show),u.xp6(2),u.Q6J("ngIf","popup"===r.cpDialogDisplay),u.xp6(1),u.Q6J("ngIf",1===(r.cpColorMode||1)),u.xp6(4),u.Udp("background-color",r.selectedColor)("cursor",r.eyeDropperSupported&&r.cpEyeDropper?"pointer":null),u.xp6(1),u.Q6J("ngIf",r.eyeDropperSupported&&r.cpEyeDropper),u.xp6(1),u.Q6J("ngIf",r.cpAddColorButton),u.xp6(2),u.Q6J("ngIf","disabled"===r.cpAlphaChannel),u.xp6(1),u.Udp("display",1===(r.cpColorMode||1)?"block":"none"),u.Q6J("rgX",1),u.xp6(2),u.Udp("left",null==r.slider?null:r.slider.h,"px"),u.xp6(1),u.Udp("display",2===(r.cpColorMode||1)?"block":"none"),u.Q6J("rgX",1),u.xp6(2),u.Udp("right",null==r.slider?null:r.slider.v,"px"),u.xp6(1),u.Udp("display","disabled"===r.cpAlphaChannel?"none":"block")("background-color",r.alphaSliderColor),u.Q6J("rgX",1),u.xp6(2),u.Udp("left",null==r.slider?null:r.slider.a,"px"),u.xp6(1),u.Q6J("ngIf",!r.cpDisableInput&&1===(r.cpColorMode||1)),u.xp6(1),u.Q6J("ngIf",!r.cpDisableInput&&1===(r.cpColorMode||1)),u.xp6(1),u.Q6J("ngIf",!r.cpDisableInput&&1===(r.cpColorMode||1)),u.xp6(1),u.Q6J("ngIf",!r.cpDisableInput&&1===(r.cpColorMode||1)),u.xp6(1),u.Q6J("ngIf",!r.cpDisableInput&&2===(r.cpColorMode||1)),u.xp6(1),u.Q6J("ngIf",!r.cpDisableInput&&1===(r.cpColorMode||1)),u.xp6(1),u.Q6J("ngIf",(null==r.cpPresetColors?null:r.cpPresetColors.length)||r.cpAddColorButton),u.xp6(1),u.Q6J("ngIf",r.cpOKButton||r.cpCancelButton),u.xp6(1),u.Q6J("ngIf",r.cpExtraTemplate))},directives:[fr,$B,ZB,Mr,Xs],styles:['.color-picker{position:absolute;z-index:1000;width:230px;height:auto;border:#777 solid 1px;cursor:default;-webkit-user-select:none;user-select:none;background-color:#fff}.color-picker *{box-sizing:border-box;margin:0;font-size:11px}.color-picker input{width:0;height:26px;min-width:0;font-size:13px;text-align:center;color:#000}.color-picker input:invalid,.color-picker input:-moz-ui-invalid,.color-picker input:-moz-submit-invalid{box-shadow:none}.color-picker input::-webkit-inner-spin-button,.color-picker input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none}.color-picker .arrow{position:absolute;z-index:999999;width:0;height:0;border-style:solid}.color-picker .arrow.arrow-top{left:8px;border-width:10px 5px;border-color:#777 rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .arrow.arrow-bottom{top:-20px;left:8px;border-width:10px 5px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) #777 rgba(0,0,0,0)}.color-picker .arrow.arrow-top-left,.color-picker .arrow.arrow-left-top{right:-21px;bottom:8px;border-width:5px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #777}.color-picker .arrow.arrow-top-right,.color-picker .arrow.arrow-right-top{bottom:8px;left:-20px;border-width:5px 10px;border-color:rgba(0,0,0,0) #777 rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .arrow.arrow-left,.color-picker .arrow.arrow-left-bottom,.color-picker .arrow.arrow-bottom-left{top:8px;right:-21px;border-width:5px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #777}.color-picker .arrow.arrow-right,.color-picker .arrow.arrow-right-bottom,.color-picker .arrow.arrow-bottom-right{top:8px;left:-20px;border-width:5px 10px;border-color:rgba(0,0,0,0) #777 rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .cursor{position:relative;width:16px;height:16px;border:#222 solid 2px;border-radius:50%;cursor:default}.color-picker .box{display:flex;padding:4px 8px}.color-picker .left{position:relative;padding:16px 8px}.color-picker .right{flex:1 1 auto;padding:12px 8px}.color-picker .button-area{padding:0 16px 16px;text-align:right}.color-picker .button-area button{margin-left:8px}.color-picker .preset-area{padding:4px 15px}.color-picker .preset-area .preset-label{overflow:hidden;width:100%;padding:4px;font-size:11px;white-space:nowrap;text-align:left;text-overflow:ellipsis;color:#555}.color-picker .preset-area .preset-color{position:relative;display:inline-block;width:18px;height:18px;margin:4px 6px 8px;border:#a9a9a9 solid 1px;border-radius:25%;cursor:pointer}.color-picker .preset-area .preset-empty-message{min-height:18px;margin-top:4px;margin-bottom:8px;font-style:italic;text-align:center}.color-picker .hex-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .hex-text .box{padding:0 24px 8px 8px}.color-picker .hex-text .box div{float:left;flex:1 1 auto;text-align:center;color:#555;clear:left}.color-picker .hex-text .box input{flex:1 1 auto;padding:1px;border:#a9a9a9 solid 1px}.color-picker .hex-alpha .box div:first-child,.color-picker .hex-alpha .box input:first-child{flex-grow:3;margin-right:8px}.color-picker .cmyk-text,.color-picker .hsla-text,.color-picker .rgba-text,.color-picker .value-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .cmyk-text .box,.color-picker .hsla-text .box,.color-picker .rgba-text .box{padding:0 24px 8px 8px}.color-picker .value-text .box{padding:0 8px 8px}.color-picker .cmyk-text .box div,.color-picker .hsla-text .box div,.color-picker .rgba-text .box div,.color-picker .value-text .box div{flex:1 1 auto;margin-right:8px;text-align:center;color:#555}.color-picker .cmyk-text .box div:last-child,.color-picker .hsla-text .box div:last-child,.color-picker .rgba-text .box div:last-child,.color-picker .value-text .box div:last-child{margin-right:0}.color-picker .cmyk-text .box input,.color-picker .hsla-text .box input,.color-picker .rgba-text .box input,.color-picker .value-text .box input{float:left;flex:1;padding:1px;margin:0 8px 0 0;border:#a9a9a9 solid 1px}.color-picker .cmyk-text .box input:last-child,.color-picker .hsla-text .box input:last-child,.color-picker .rgba-text .box input:last-child,.color-picker .value-text .box input:last-child{margin-right:0}.color-picker .hue-alpha{align-items:center;margin-bottom:3px}.color-picker .hue{direction:ltr;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwkUFWbCCAAAAFxJREFUaN7t0kEKg0AQAME2x83/n2qu5qCgD1iDhCoYdpnbQC9bbY1qVO/jvc6k3ad91s7/7F1/csgPrujuQ17BDYSFsBAWwgJhISyEBcJCWAgLhIWwEBYIi2f7Ar/1TCgFH2X9AAAAAElFTkSuQmCC)}.color-picker .value{direction:rtl;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAACTklEQVR42u3SYUcrABhA4U2SkmRJMmWSJklKJiWZZpKUJJskKUmaTFImKZOUzMySpGRmliRNJilJSpKSJEtmSpIpmWmSdO736/6D+x7OP3gUCoWCv1cqlSQlJZGcnExKSgqpqamkpaWRnp5ORkYGmZmZqFQqsrKyyM7OJicnh9zcXNRqNXl5eeTn56PRaCgoKKCwsJCioiK0Wi3FxcWUlJRQWlpKWVkZ5eXlVFRUUFlZiU6no6qqiurqampqaqitraWurg69Xk99fT0GgwGj0UhDQwONjY00NTXR3NxMS0sLra2ttLW10d7ejslkwmw209HRQWdnJ11dXXR3d9PT00Nvby99fX309/czMDDA4OAgFouFoaEhrFYrw8PDjIyMMDo6ytjYGDabjfHxcSYmJpicnGRqagq73c709DQzMzPMzs4yNzfH/Pw8DocDp9OJy+XC7XazsLDA4uIiS0tLLC8vs7KywurqKmtra3g8HrxeLz6fD7/fz/r6OhsbG2xubrK1tcX29jaBQICdnR2CwSC7u7vs7e2xv7/PwcEBh4eHHB0dcXx8zMnJCaenp5ydnXF+fs7FxQWXl5dcXV1xfX3Nzc0Nt7e33N3dEQqFuL+/5+HhgXA4TCQS4fHxkaenJ56fn3l5eeH19ZVoNMrb2xvv7+98fHwQi8WIx+N8fn6SSCT4+vri+/ubn58ffn9/+VcKgSWwBJbAElgCS2AJLIElsASWwBJYAktgCSyBJbAElsASWAJLYAksgSWwBJbAElgCS2AJLIElsP4/WH8AmJ5Z6jHS4h8AAAAASUVORK5CYII=)}.color-picker .alpha{direction:ltr;width:100%;height:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwYQlZMa3gAAAWVJREFUaN7tmEGO6jAQRCsOArHgBpyAJYGjcGocxAm4A2IHpmoWE0eBH+ezmFlNvU06shJ3W6VEelWMUQAIIF9f6qZpimsA1LYtS2uF51/u27YVAFZVRUkEoGHdPV/sIcbIEIIkUdI/9Xa7neyv61+SWFUVAVCSct00TWn2fv6u3+Ecfd3tXzy/0+nEUu+SPjo/kqzrmiQpScN6v98XewfA8/lMkiLJ2WxGSUopcT6fM6U0NX9/frfbjev1WtfrlZfLhYfDQQHG/AIOlnGwjINlHCxjHCzjYJm/TJWdCwquJXseFFzGwDNNeiKMOJTO8xQdDQaeB29+K9efeLaBo9J7vdvtJj1RjFFjfiv7qv95tjx/7leSQgh93e1ffMeIp6O+YQjho/N791t1XVOSSI7N//K+4/GoxWLBx+PB5/Op5XLJ+/3OlJJWqxU3m83ovv5iGf8KjYNlHCxjHCzjYBkHy5gf5gusvQU7U37jTAAAAABJRU5ErkJggg==)}.color-picker .type-policy{position:absolute;top:218px;right:12px;width:16px;height:24px;background-size:8px 16px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAgCAYAAAAffCjxAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACewAAAnsB01CO3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIASURBVEiJ7ZY9axRRFIafsxMStrLQJpAgpBFhi+C9w1YSo00I6RZ/g9vZpBf/QOr4GyRgkSKNSrAadsZqQGwCkuAWyRZJsySwvhZ7N/vhzrgbLH3Ld8597jlzz50zJokyxXH8DqDVar0qi6v8BbItqSGpEcfxdlmsFWXkvX8AfAVWg3UKPEnT9GKujMzsAFgZsVaCN1VTQd77XUnrgE1kv+6935268WRpzrnHZvYRWC7YvC3pRZZl3wozqtVqiyH9IgjAspkd1Gq1xUJQtVrdB9ZKIAOthdg/Qc65LUk7wNIMoCVJO865rYFhkqjX6/d7vV4GPJwBMqofURS5JEk6FYBer/eeYb/Mo9WwFnPOvQbeAvfuAAK4BN4sAJtAG/gJIElmNuiJyba3EGNmZiPeZuEVmVell/Y/6N+CzDn3AXhEOOo7Hv/3BeAz8IzQkMPnJbuPx1wC+yYJ7/0nYIP5S/0FHKdp+rwCEEXRS/rf5Hl1Gtb2M0iSpCOpCZzPATmX1EySpHMLAsiy7MjMDoHrGSDXZnaYZdnRwBh7J91utwmczAA6CbG3GgPleX4jqUH/a1CktqRGnuc3hSCAMB32gKspkCtgb3KCQMmkjeP4WNJThrNNZval1WptTIsv7JtQ4tmIdRa8qSoEpWl6YWZNoAN0zKxZNPehpLSBZv2t+Q0CJ9lLnARQLAAAAABJRU5ErkJggg==);background-repeat:no-repeat;background-position:center}.color-picker .type-policy .type-policy-arrow{display:block;width:100%;height:50%}.color-picker .selected-color{position:absolute;top:16px;left:8px;width:40px;height:40px;border:1px solid #a9a9a9;border-radius:50%}.color-picker .selected-color-background{width:40px;height:40px;border-radius:50%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAh0lEQVRYR+2W0QlAMQgD60zdfwOdqa8TmI/wQMr5K0I5bZLIzLOa2nt37VVVbd+dDx5obgCC3KBLwJ2ff4PnVidkf+ucIhw80HQaCLo3DMH3CRK3iFsmAWVl6hPNDwt8EvNE5q+YuEXcMgkonVM6SdyCoEvAnZ8v1Hjx817MilmxSUB5rdLJDycZgUAZUch/AAAAAElFTkSuQmCC)}.color-picker .saturation-lightness{direction:ltr;width:100%;height:130px;border:none;cursor:pointer;touch-action:manipulation;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAACCCAYAAABSD7T3AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwksPWR6lgAAIABJREFUeNrtnVuT47gRrAHN+P//Or/61Y5wONZ7mZ1u3XAeLMjJZGZVgdKsfc5xR3S0RIIUW+CHzCpc2McYo7XGv3ex7UiZd57rjyzzv+v+33X/R/+3r/f7vR386Y+TvKNcf/wdhTLPcv9qU2wZd74uth0t1821jkIZLPcsI/6nWa4XvutquU0Z85mnx80S/ZzgpnLnOtHNt7/ofx1TKXcSNzN/7qbMQ3ju7rNQmMYYd/4s2j9aa+P+gGaMcZrb1M/tdrvf7/d2v99P9/t93O/3cbvdxu12G9frdVwul3E+n8c///nP+2+//Xb66aefxl//+tfx5z//2YK5Al2rgvf4UsbpdGrB52bAvArXpuzjmiqAVSGz5eDmGYXzhbAZmCrnmzddpUU+8Y1dAOYeXCtDUwVwV7YCGH6uAmyMcZ9l5vkUaBPGMUZ7/J5w/792/fvv9Xq93263dr/fTxPECeME8nK5jM/Pz/HTTz/dv337dvrll1/GP/7xj/G3v/1t/OUvfwkVswongjdOp9PzH3U3D3zmWGnZVXn4jCqs7wC2BKP4/8tAzkZsoWx6XrqeHZymvp4ABCBJhTQwKfDT8gzrZCIqi5AhiACjBfEB2rP8/X63MM7f6/V6v9/v7Xa7bYC83W7jcrlsVHIq5ffv30+//fbb+OWXX8ZPP/00/v73v4+ff/75JSvbeu+bL2WMMaFbAlpBNM85QX+ct6qoSqkPAwuQlBVKqGNFSUOAA3Bmu7gC5hNOd15nSwvAOUW7C4giUCV8Sgn5L9hNFIqTsp0GxI0ysioyjAjkY/tGJVEpz+fz+OWXX+7fv38//f777+Pbt2/j119/HT///PP49ddfx8fHRwrmTjV779EXu2px2xhjwtdJZQcAWQIPLPISsMJaSwiD8gzIKrwSyATE5j5nAbR5c1dBUwBlsEWW0h6LqiYsqFPAQxCyRZ3wOSARxmlXMX5k64pQfvv27f75+dk+Pj5OHx8f4/v37+Pbt2/jt99+G9++fRsfHx/jcrmUFLO31gYDWblxRIs/TqfT7ousxJsAxXA2Gc7TA9XdgfdoHbFsj76X2+1WArgI1ageGwA3qupqoHsmcbI6Fu93quggFa9d7LeDtgKfAFHBJ+NEByIkcJ5KervdTmhhGcgJJSZ5vn//fj+fz+18Pp8+Pz/H5+fnmGD+/vvv4/v37+Pj42N8fn6O2+1Ws7JjjP6wraMI5E4RZ8x2vV5TSwkquotV7/d7Tz6HFWsD/qNcdw0CQ3q/321c686TwDVIdbuy73zNldhSHb8I2klZznm+InBS4U6n0302aBFsLhHDAKJVJVglfI9jhvu53W53sLANYNxAiDA6MCeUHx8f9+v12i6XS7tcLqcZW57P5yeY8/fz83Ocz+fnsSmYUyknWEG85WBst9stzSLyMdfr9Qi08iY15UZ0LlDGLhR3o5zK2j7OPUTD0E+nU3tk7Xb/16NFbhloAMuY1zjLUOO3BKeIDe+Z8s3/J4gFo4TM5jPmuRg28foUKKVSwo16TgA5npywcWLHgYl/Pz8/73/605/ab7/91m63W7tcLie0sZj4mao5gTyfz88E0f1+j8EcYzwTPEG2cqjyfHNF0M8fuqEiaOVnRzZZQNh5fwQyHg/HDGfJo89Q1zb/quu5XC6773I2XKfTqd/v9+d3wuqWva/YTdUdEV3fhIv/Viyps6YE3x3r43K5bJQS66zaxVGFsvd+//j4aF+/fm3fv39vt9utff36tf3+++/tdrudvn37ZuNLBaaCMgUzC+rZRiFowxUuJI8YMqcCp9Opq5vagaYU6lGJA1XQqejchw6Cj0Gw5nYBrGw01A2O206n04BGouNNyTfp/FwElhUey6nXrIKw7QQWddxuN2ldL5fL839gSPF8ahu/JvBO48CPSuqMf8Vp9/P53L58+dLu93s7n8/tfr8/39/v9/b5+TkhPJ3P56mQ436/j+/fv+/iSgbzer0+AZx/5+88bv6OMda6S5z6kd21fYC9dxv7cIJJ2d9AOS30fPMzyHiTM8B4DF6XUlYHp4KQW3W+1t77MNB1vGHxWq7Xa7vf78+y5/N5A+H1et29xuP5dbYtyaRu4AksbPq6936fjRzXRxBbPr/b+b18+fKljTHaBBBfn8/n0/1+H1++fBnn8zm0sB8fH5u4cr5GuBhMVk0EEn9RsctgVhM+ixlJtMA23R8B6yysAstBOgFXIKKCMIgToMqNEu2fYMH7ztc732dQKkCj1ytAZtY0Kx8pIr8GGJ+AT3V+2Hirhl++fBmXy2Wz73w+b17P8p+fn8/tUwGVleVkTyUb68DkfayWY4zxNRihU4EpLJPZVrK+u7J4/mgfKqeLW9X2REWlItL1diynbDDb3+jXgYjQqn0rrxWc+NkILP7F7xIbMvx7vV53x40xnlbWJF12ZSag/N0pW6t+ZzmOMzHjajKwDfond78zYTdfq18up97zr2q8v3IioBprRtBl0EZ9og5WBRGOdOHjIjXF7UotFbgOWnXzIJyzYvjG5IYgsmMOxHkz8OsMSrVNWeq5T8DaOcbEv1Od5rbs9aO7YvMet63EkF++fMExq+MRl4/L5bLZN/+ez+fnZ6KazuMqXSQVO5spJXflHAIzes/xJseckRJiDMog9d6VfRrqXMr6KpVV27jRwJacGovOAM1zMdQMnwK1AubK63kdCChvI1C7g0z9nf/D+Xze2Vj8H7Gx4P9duQlsYCrqyN8XqG3Hm/10Oj3jw/n+crlstuM+jPmmxT2dTuPz83Pzt2pn1XsEHX/bnPaVqVmh0xwOt0o6XLLAHePUU203wHfcrspCwmV3TryB5s0Mseeg97x/BwzCjBlbB+pRAPla0BVQuT6V6QHdBlj3d0KG147b+DqxQeUymDO43W4dQar+TIjwmAd0z8/h65vf0/yLv3Pb5XLpru/ydDo9s7ET0I+Pj6dKK9VUEIeKWQWPAOrJ8LKd4vE+t91Y3e7UFlWatg2VwJnb+HPmtvm/sfK59/OaWF3x/eP1UPHvA5DDYDpYXfb0drv1V2DkBkxtw/tEWVVlXWdC9pFYs5/jfh9dS/16vW7s6lTG+TfqsxSJHxkXXq/Xdr1eu4LsfD6P3vsT3N77DkL+zPm5jSdKL4zR3AxQd6rHkLkYlSowsrq7znzu6wSwdsMJOXmA5fBcjxtgMGBYHlr5zokhtsMCTgXLQOW4XC6dEyEMprL8mAQzXRgduix2yZzorxkYsDn3hB1VeMLGsXsVtgl2pW8S3svk0vw7R4hNaHvv4cACl5HFzwIH0Kc6zu4XjDPR/jpAVxWzO1Xk2DDb3vTcxeGU1iWZHkmIDWziWKvirCJ4Dravs6IJ/GG6cTqWdXDy+fArQDVVkLqkVjAoZIITdmmIqXwqa95N3+MGYoZQdRVNO53Y1xRkhO16vY7eu507Ca9lJnbGpxOemQhSw/AQsmmp5zU9BiU8G6wvX76M6/U6Pj4+do0Bz4CpgiknTUeDqwlKBmg3u4OVjrZ1A+rAcgaejWq6eJCvCYFDONSwOgHX4EQRw8lxbzDOdEK6gZ3Hk1b+8g2o1JFtKXyv/fEdTXuWjWXdAZiBp6ADeDrCFiim7B6ZFneeI7Gvm/PMkUDX67W7xI8b0D7/v8dA9qfN5oaCf74WZjH0mf1cmfY1Y0JUFmVrTWu8uzkNcLtEj7u5FXBTkfC6GOA5q8YMxO8KVvF6sAVGdcrUbsKODcQKkLMOMdmlxum642YrPm26AlhZW1YB1R+rrGswE8TaYAWeUMxdf+WjwSvZ2Ef3ytOyfn5+PpVPAaqOn43MtNBqvmjjxbjM4lZjZY4gqNMI5ktaW/sYKNwS+9lFQzGihmMCKPa7+Z0V6Eb0GRmobtpX8JljWu5FMLN5ja6hG9kwQgZqf5+1NH5UxzkFReCdWhJ8XdlGUkxO7HRlYRm4mVO43W7ter12TPJEw/rmEN3L5SKHIWZg9mz+pUoKOYq5bJTJdX2gme1UcxMZQFaEQIlHct32M+Y1BzGkGuzfiyAN9z+ugplZ1symCrDCYYkGxDTpI9RzBy0rHyeDUC1nWaeUaD9n4xkNyYMBDZtzZ3B++fJlY21XFDOcARJlabOyiS3uCpLI9jrZjCDkaVvcCCjwognKShWdzXZWlZMvVTgD8LpqlCLrqgbcB+qYwrgKYpT0ccCqbKyCValkEabn/FynogCrPKfqf51xJ7sGB2ZXcZmxoSOztjx300DZi7a0/2AIR0UlBag9SuDw6KcAzlaB7vHZvWpjK90dyrq6bKyDUZQbR0B05biLQkHIcSUmgIK+SwuqgHCnoio2RQU1yj+BnBy9pphVKLGyC7ZzFK1pxWK+E8IhVCWLN/uLtnUU4ayoYLoaANz8FdtaSvY4pV0BEW2ls61czqllBKpTyKgMAhrZ1cdc1RROtPmvWNkdcKZ7ZKxaWjiPLJMpp7OZKxA+rqG/oJLjxf0pnJlqLoDZo3gyU0mKGys2taKecj/d1C+rJSplBqlTyAqgR+D8KjKlmRL2gtUcAdCtsL+ijCNT1oqqqkH2OHEbG5sDFnUg5Aa+yLou2VU1ptj1S2ZQqv1ORZN9IWzRfgaRBxKoBE8UWyqlJFtrIc0AxNjSjed99CTY/XDfSzCz5M0IZoVEsWnPFNTsl8ooVC1TzbGgqFZNDSgVwKK+1sGDMKqxZCWGVMDysiEr1jVSQJUYwj5iHOlThdHt44SQg9CN+nl8D90NMIgAdgr46JqRiR9I8vRdFvbr17m/yxUMKjNLMiVUADwu2CWGhhi+F55TWM9M9cogzms1dnM4uOF/LAEYWdcqnM7yFmyq3IfwmOROd7Y1iFWtOjoY8To41mTV5IysgFFuRzsbWFGbNIIJCDv1dOo4lZG7jWBwRFtVTKuWyeCByJKOan8oZ3ep9XddNl0tDuaywLz9cXPYeDAA0SpkBO9sbVcTOVWldPv4uyzEkzxHtjvonHoSkFEWNoo1d8DhcQputd2ppNon4BzoAiJ1hBFQg0dVtdbGHHDQWushmNEQukLM2QO1G2Y8bgTXqFhcBJj7EjPgcPts8US8qPpPB/dXznOh5Z438tzH5ec6QgrOKrRRfKmysBmUDB+PhYabMlVPER+GCSITTzr7am2tArH3bgcEzPJm+cr5jJ4NnHNFDVrFXcI5Le9k5Jnw+bedbV+FfRzZIHaOOaOsLY0/7UGs58DjrGwKMIMFIGzOEW1/jGsdAtCN6hEAI4hBe9YXeRROBSVPAVPAqvIM5bx5hVKWAMP6zBRy3iescridVdFBinBxXDnG2GRY2XbCvp1lhvGtO9Bxu5h908XQu42lnSArMFdizMim8uwRCxPGnnOS8lwpnbOiDqTAjsrRN/PcoAScCbaACqVM40ylnjjTBs+bwWlAG23/UKbdkiwKWIQPGzWaczpoSlxPEj822cNWkpS7FyzsDrqpfgpG3jahw2vgbaSQAxuLWZYt7JzyNe8JoZpNAcvDFOdw0wqYT9AK1rZz/DdbSlLPp0ryIxgQJlK9AZlEq7IOXpohg9PIhrCng88JsOxiV4ZWAYfg4sikx/8ky2Z9l862uqwrfscIH8+ugTmVGyiddeVYUgEMn4GZzg14EwIsh9sx2cKKiWXReuOE5gzGOQgdlRKVVdlevqb279Xq0Qnsts2VDaBO0coezsruWtHApu6sKG4IBhN0aGU2kLrMKGRTN3HmbCDwKV14zvkMEDG4QfZVspVlaNU2mhc5TEZ3N1h/zqTheuLpW05ZWTGVjb3dbnNmxKZBnN8JqidaVLKAOyARNLS+MB54Z2+VaqoMLKroVBlngefnTPAcoHNWCSvlfA8CI0HEmBNBnBlXyMrzU7A7WVm94PPqQ2gmqKx+WDGsnvilmcSOBJqOK1nYyAIzuAyesq3UdSK3KfWcYKD95HmfYOU3qser2CtYEUA+FpfqdNvgPBZUBhDrGONRVlQsh8rLcaUCykHG0OOUwTlLBrsh5soEMGezi1E4HRVt1icp5wZEFXdibCkG8Y8vX75sbO4E0iom9z+hjSiOfy3DhpXItpVhE+UGQdvoWjtChmrGHf4YAzKgBNnGtuJxFCeGdhUAfQLLK8kBYAP6gvFJZajMG3Xkycy8KuC0q4Eyymwtwdxdv2M0mIBtK0LKnf640j00Auq4gUkdWGlhs22qJc6dZCsL19oxnlTJG4SYVRIGpD8TPFBuM6OElbS1pldid4mGAyN6ZIupbC5bXJN9fdpbThSxLUaI8IG1XIYBxW3Tjs6KQosKcxfxcQmdnwRGM10GnFcCy2XYunLMyAkdgk4mePiczsLygthcBut6goOqS7YVFXADLjaosB6s6ofcZWAZSIRYqSUkizYwttYab3vUOQ9w2HRxIIg8WwRVeE68xi4UtL3zRphxplzwuZrcqYCq1I3jPI5dnJIygEohMbPqVJSzrwzxBJTs5zN+ReUSgxikPQVF3JVBeNQxbHENrEMNvEdFZVV9lH9+ORGEsNZQpyTNc4C3AG7XF4ngzq+DrO2zbuaaOXgdaFcdkEotoSFBVX2qJ0C8OWZeG4KGlpghA0XfTOPCqV2qqwQ26QWfF2PMLhI2w1lVAa2aPsYd0za25MQRwgcZN6uQDCi+ZxiD4XEM2kZxOT41FnZnaRlcpZouzlRqqdbQVWopQoSB58RV50lBNrHi/AwXS5LrwDVlpY3Fc3ByiYGc52Trist6kOXdwInAQtJpp5QchyaquYOV7Su+fxVMaV3dc0RE2S6mUY0gLt2pMcYqrKIQ9w2l1gpQUMtQYcmmbt5DTNxdhnUCjQqtbK9SUSzvrC0mmhhE1e2FS2+oxypy/ZASutkmtjx3vcBC24PX65nbqkBCRhfjS9kIYPnee8cMagVOhI/3T1fAmdtAWZsCswTJCkQVNa0qWKSKPOpHAUhD9DrbVcyoYkwqhvh17vYAayXLQyKGYdxlUDFp494rBXRjYgO17DDYetNIUj/ezp6S0lnlpEwsWmJMkOwsKXeZKEAjIHn0EQJISaRBcO6UMINz7p/bEjjnw4ft+xmDvksxX4G2rIris7qaeKwAFMP2Oi7n4criuZwtpSUwpfLxSnORSrIqusc5ZFaXysqRWjiZ2DyAWEIL35tVSoQElFACjOeGGSE7AHEQgdo/LSvCOgGBvkxsmDbvlS3Fp5vhaB2TAGqRKrKKMrhLVpaGzEVjZ0OQxDhaCTA+QyRR1d15aQzrJntL3RibsipjG6jlgL4yqbS0sNYg1e84vhbBVrElK64CUcWYXDfKxhpIuxiVJZUxsbMy/uRBKTNRQ4kQ3LdRYLS0rJjRPlTPqY6gdJsEDc+aQXAn+HgsNUCbRuF0Oj0zwnA7bWDkbhO5Ens00qeQhS1laBMl5M/cAaxsLF8rKyql+Tf7ELLEGu/ixiimdCvo0TjfpjKwaggen4eh5v7LokLKbLuyvHhcZG8dhGrEDx7Hg93ZppJF7qBqO3iVveXEDQNInzeoe8Yq6ePaZBZ2JviM3W2UAGotekRCAGq4EkF1X3DOnR11yRsBL1tRa0PVcZiNFXZ2c34FskvomInQQ6lzpJoZbJxk43NwKJFBquJSsrByHydxKOnTxQASBmS3j+JMnsHSla3Ec6K9VWoJVn9zfjwOM7hqYAAqJQwE2a3nA48J2QGegRkpZNivSY+ys3EkKd4oJIwsvIHl3cWgLt5k4NH6OmtLWdpurOkwEMupYc7eMtDRhOcI2ui5JhVIzXzLyto/GAPuZoyo8wkoduVgJglCt7OhGbgID4Mq4si+63zUS1FuFFXFlqyaj2emHlLMcBqYu0FMuR28BbB7lOxRMSiCQXFhCKuwkhZ+pYDiGSgbsKKV8MiSRsuHSIWM9rklRiIlZZuqXjsQK8ooYJMgq3JKWVkhHbhsVxFUzthOWPkYijcbx54IKsSdT+uLr3crGKyoYgFiGR9iBk4kfloUX+JIlQRQqabmpgnhqtpQpb6RVQ1WH5DnrS4hEoGZqaerQ2dhFbz8XePxShmDbo70eISjoorO2vK8SJXI4SUmEU4zWKDzUDtWTYw7xXlbSTEj4FRg7zKnKoGRALv0Gs9Tgc1BpCywGZRQAtqVz2xrBcAMzEpfZwFSa2G5W0QBFjSMapWAEFa3HcGN7CxDzECyIkJ97qwrqWNTWVo876PPsjPkj2wvgroM5lLZKMETKVql/CvnWVFiFa/SzJUQwkoZsr67Y6vlSRV3/2tmNTOY3vnaxYwMuoPKqdzR1w7IqHymlPxaAThfU7Ko2ZXYj4AYJHL+kNdKwRQYESTRa5fsUZ/rVC1TMTyWVyYoqNtuzaHsMyv2tvoarxdfqwYgU1axFo/cnql1FGsqK+uAROV8BX4GU8WcZTATi2q7Qcyi0O0V+GhWBMNRUkn8H1SsWVE5By3Gi0ECqUeJoBfAtDa4amkdXG37AGP5Ggeb84p7UazpoKRzdFzeQ8HkoHGxprKy/Hpm5t12p47J6xTYDEz7uINEXSuxYXvFskYAc+ySxH9sf5ftKzU6IbwVBcUGg5e5FMCEXSErZR0wGayV19woM9guPjTqJdVTqR4uE4nJnLldWVkECCZLd2VLF+xtamex7IpiriSDUpvrpn9lrwGMCHyppMH+ps6LILsuFGUj1XEOXiqbqSHPUKnClpWV68kqtURVNDY4TNaocykoYeTU5ngGEQa/S1DnnE4AeXMcKjHPAmFVjCBENaeyLVNHfr3px8xUstJ94hIpfH4HKE/eDaArK6lSyVVFbdt1gxTIVk3pppVlFXi4pEhVBTObquohU85MLXn1iahvUkHJjSCMc01tLFveVVBx0DodM6jftCu7DOtIzYxrc0qp1JGP2ayYFz2Gb6HvMrO8cnGtV6Gjm3uImSfD2GpWK6uowbZGMxFKQCo1pOMtcMXFpRst+hXGoAomF3sSTBGgTglbBKWwsQ3tZqaYSp0Z1CimRDWFcCJUPYJ00BI5FkKYNoifuQxmN88SWVXWLMaUqqqgC0BmQJR6sk3u9NCf6jYLXxAfqsYEgVLAhRY2AtgtflZNFmFyhxdrLkAdWlk4D88M2ixHyepIdhMHrG/iR1ZGtq0MGpbDbRPYOXeSY1M6Ny4ZstvGSktK+XbFPATj2D371saPEsAMXhXrsZ0km/XStkhhMyBfsa6uXFZe2VCe+YMr1+GKgwrQyNYq1VRrB+EizAow6NsdNKcyVEkYeM73ys6q4kAHp6BiFklTkIrVC5oYV7uzwOGCz4UJ0Stq2lWMJy4wtb+RetL6tZFicnJmBw5UjCvXXMZVJX2MQkbf+XN5EWd78Vz8/JEsMZTBiKNzsm1inLRUQ74H4NidaqI68j5sAFgxcRveC7ieLJXfQYxjZZ2CsiWFewZXJmBIlZ1tdtrX4hSuateKso/RZOtOKW2nmq1oTzeK6dRWAWu2NRVb4hq0SXm1GvtugHrbr5IXqmSktg5CuDE2MSlPwsY5kNE2Wp3AqiZbWVLAxiBF+2iBZbuNj6MB6rsMLC7FyasaYDyo7KkoPyEtw3pEMXfPvxAJi2jAQQgjrz0rLIZSWZlIoNhwd5xK4AR9mYNjWAaLrnuImJeBVN9zBORObVvbr+mTTfFSEJLSRnHo7hEJoIi8MFqjxmvgmF5URZz4zLFgZZ8Ctu2X7ggVccKm9gVxIsOHqxXgNMKnFWZYnf1dBnOhayXq17QwFlWW09eNKyVJFmXqaONGA5aCegMbJ3UUkGY1ic3nKWgjq8qfVYGQG1gRt6rs62a6HiqqUOqdesK5NmX4nGofJoiE1d0dF9lVVkvT1/kEEaaCoYOwFpcVcoLM+7669PxC9rWqktH0sWUYld0VCpuBZ/stVRcGgy9WX2+U1Qthi9SzAqSxzZsy+OiFzBYnySGV6Gku44rD8BCOZBV3BvD5+AKRHNwMEsB6EzHnJpkTAeiUlEGkcECeB6GDZTp5YEJTlvdrknxYjTllMkfNtXwDjM7uVjK5JXUUn43rrqpK2jytaxHW0M5G8DC8rtHMYs7KSgduVQMGTYFqFvVS6rkD3sDJ46afdYFwoq11AOKCBLhvwoUgc8IGANycR6knZrdJPdsuxnyjfd3FovTlRMdEdtOl5CMV5EHsXQBis7TOwvIDZaGj2Vnpbh7cpK63VwYEMLwqbjzyl699sawFFkF1yqjUU31HfC6sW1ZFVFuXVXVgz9keEaw0ys1lWfm+azQAQSWA+hKYVfsZjPncAcUB9oIayy/UZXRNckDGji77GsWbvBo6tPrWPqOyVkBUq+INeqpzNdYs/u0ifh5qmpqIW+33JVSUcwY70KL4U9lYdU6ljtSls7lmfi9g3YzeQfVkaGFaV3ODCnaD2N8wsEDFklE3RzM3ZghdYkWHsszq70FIecnKkVkt8ezMzRq9bkGuKojRLBVSod3Y1yPqKgYW7JRQTPVyy5xIYLjOgxgT52RKJUY1dOrIiRd4futQx/A5AcSmEjz0vFWrkLzvbWAu9HOWbGgxFk1VNTpnBKk6TgwisI/HcxYXP1uAWO72ULFlBTq+aSu2VTUs6hrxM2CF+hEor1VIA9ZmFUaab1lSSgZsVs4sxzHlVLoJHr9H4DhONTkI1XC0/wiY2NoWAG5RlnHFnq6oLccpQddMuJ/O17JVA5OHLi0BqCztq7Y1++ucCd98qLI8MIHBV/cKjxQTme3hFBS3MyCqnDsuym2o80HjvFFTtrURmNaGJsmVahImjTsUXKtQZTAVs7Mvv8/+fzUrZAXcLJ6M4koe6XP0b6SmWWNDzyUpQ8bl+LtWx4tuqZ36cRYV3yuVxPNwvIiqiQCSmu7srgTzR6nkyhpCarXwFy1vGd5iP2cY06lFr5Njhhg1Y6+NB28ftbK83s8rf7kLJbKwDFPbLg25a0AdZJEiqr5phixKMDlRUtcssq1hriLqGoH+zeNgVm9OemjsETV8JdF0NHnkIFxWY1OB4Yrp7rtWJ7NgAAAPXklEQVQ3oNs5nplyVf8u2FoLu1JrHveaZWQjqAkshtFa2gzsSG3Zpkbvg3HafF9slPPlldjFlK80Gysm8Mr4MPhneNWENPGjAIpmilTPATdTRTXlCBYHYAQuPwA36xIpWtGN4q3Y2MhiGsUpuSSnlEJRD8PorC7CFYVw+F51qThgabxsTxWzCGY0ZSsb3lfqAy0OPNjNy8xiQQKsHYFQ2HBZVvVbBuq3m1oWKajqaonsM6uZUr6CjXWNZ0l5E3h3jURma6kP3MJIiy1Lm+kahQq41N2iZja5sjtlLYNZHZrH6qUGm4vMbDp6Rw2CFmvuyFkrBcCyMtFqBaECmsHoK9BZ2LA/lJcRqSaDqnaWbrZdGaz3DLgIvBln4woGztbyJGqslwxkhhHrTjTYFXCtOoKS8uLdofVdAbOylGU6nlYpXWZts4nXBq6WxJitMNokHUJnbnJplQm+aGpY2a5GMV2QD1hRubBPFKdumf5OHkLHz0F9luE5kjBjRa0nFE5CUGqHw32MmjZ6xkgINVnSnZ1VZStK2qKlRaLlQgK7uTq7JFXJwM+3SOEKyhZNI+tJ0I5qMYy9k2qJD7dVWdqKXa0CKNR0Ccjg+B2IYu2fcBZJZkMFgM11r0X92wilghFGgzVnexlqB7xL9mS29SiYUVY2nXOZjNBRsyDsQPRWW5hrZ4XcdC4HVWRbjgJr4sFofK5SzjQ7rhI1UebdPdEbj6sqIvTZQZ5va08rABsAW0UxeWytAk7A2KJ9ZpxzCioB24XFtYAeXYxr6anSqhLgppEqWbGwLunTgrV+IjWlL29ljaAl4EQMGsErp4apeZiquwRXLXAqOCeru32mmydc6oWTSWpFAGdzeTB8RTHVMEtlM90CbbQCYhPjq3egYr1FGdYIQjiuDGZ5zZ/AzobKGOyLxti6c4Rwtv2anyWlLICnlLhxJRXt6A5ebDBWFNONbxWZ2d02mnu4S9YECpeppV1zSWRBWxHYzVIv1CXSouwqqX3jBBBDZdYQbpTQW4ZQlS8r5kH4suSRmg2++3JN10x1PaAmEkmtYlEdeGpJEM6kOuCqCR22oSujj5IV2HdT0zj5prLKTjXFAPjdQlyq7xIBxAQP5yMczG4VxAKw0n6ilZ2QBce2pLulkuxxqnoIzFfgqyqjil9S1VNwBrFmeyeops8yOjZUybZdfS8CuaTIJumzs5tODaNtLpFDQ/PcJGweLhmeL1nB0KqiUDScsiUVD89Di3HtrKtSULw3RLiygZD+7sF8JTObgYsrGvDNUFRGl1iy0Ll1YkUc2aJYMog920I8qW6YDCg1Mqk0JHJFKXkbgbRreI+qpYNOZHrVcDUba7pjsphSJNtK6upgRNAVoOS0mugBeN4bIZgHhuPZ/s1ENaX6KsVr+YNrh1Nb7ipR0PE5zbNRegCbrHRUw6Yf07dLBJl1f8KB9as2V1nNqAsl62LBBhehwalerkHmB1JFIEZKSEusdl5JQj1nJlHXSCF342gJ9CYGrXelknJIXqVP8sD+qtplCR3XH2qfKq0ygMp+KnVkKxNlZ8m2YkIlVMiCnXUwl7qznBKSvQz3m3Pt6oQbXO5b5FixCh/fHxUQW/AEcK6zCNqKQnL9sywqmKuwvqSYzT/aPVNNpVyhvRW21aqciCsjdWvBwILUvh5VyCzbWoC1pJjJ680CWsl+udKB6T5RwG1mlohnlpbg47iz5U9ha0FGtmRLFYBtO99y97Ap0z+ZDTAog6kSLZsMHg/IFkkgp6CpvU2U0cYVSdnmkjwBdOmXbxTWNWzuIbipMioVxEckZEoahSOiy2M3K0jcC1LhVDwaqG0ZvkcWqCnrG4GIxykrqlbWdw6LQyBaZR8HmLRIhQWsHswD42ZXVLNkf9l+FlW0HVQ2lwFsC/Z1FdzlQR0KaPfo+Fdfu+/dwVRICu1CGR7AEIiAhc+AZUF0kOBaPxmUqg4i64vQnU4nFDYJ9Nz+1fVXveH9qmr+kPILx8oKcRV/BFbxbE0JMT0kSD4w6L/lNY8ocsqagVdU3A3MjxhxcGuqzsPH4irpaow1q6OyrVjvp9Npc59E91LldboYVzJWdimWfAW2SNEKcDaX2FmBLLA/uKxlmhh613Is1URQApbKfttwxL02q6Onx5pQxSbPojAg+v5hAnN6LHVRDXIsvKtRjiS0qJUyZTAXVbAK82ElFJWaQdVoqUC1Unt7BVaTQudM6SuqexjQJN4+0icaxv/utbKv83ETbT8H8gjcOKxOJmbUa6OOVXht3dFY6rHv9XoNzFLceEA1o8+pKm0LAHPHZ2rYKjFq0hfZFixsqHJgD3eD5n+U0kb1mFjXkn2lvMSSOsNE/CdIAKF0Sytq6urOHUN5gwg4GZosgbmggM5ucra2qrS2Ig1cbiBBcxYzgzUDNLCvL8GbZXNp6ORy3LmS+Kk83zRIAK6A1ioKa2I9NapIuiUFdfC9766PFZUtqUr6KbWk+zZU1a/ZrIXEztrjTOfz7hwKziCeXIaraHtbZIMz+2pGgazCmw4qWAFvEdhodYp0Xq0pV7G1YWYWbO4qhGq42+Z8BYtrLWvluNPpZAeaFFS1vubPgbgxsqcpnAaszBovKaFoDQ8BGtjfUOl4NAG2nmQV04feJgumvX2fsrQEWZghL0JnVdYkn3DOZIeRN86RqPWCmsvGVqEMRnwxQAxwS8EMYo3IzmY2+BCcLp4MKiuyuhImamlbZFcNoNl7tp+RHd18ZjQIRKyXdFRhN98/hyKqwXWNo7O1wiaXoHN108REZZWEq6grnIfjzeg8jdRf1XEL4kkXa5bBjKxoKaljBjeHlVxQ4GaycpW4lDOAKtnTxHAtOfzOtZwHAM7sqVXkV6yu6kap1nHkXKqWF/4XHqjenNKqBjpR3l1ch3Ejg1+EsgdQhsdG0B4FM9sWAVWpuAyiwTPleZxt9VyZVS2qXfReWqTAilpr9ApoWTjxymit7NwV4JTriZyOA9B0k7HFfULourmKYHVnRQvqGL5HMHdqFcR2qWpmcK6eTwx2dipWrviDilr+fKWq3OWRWdHKwA4eu8wjchbeRzFilqjjZN3ufCpfkJ0/scVpnYk6L0PI77lxdWCZ87WiWm7B/AGquQSnujGKsB8CJmiJq8q1pKIVWyqOiTK66r18BN8r74/AE71fdC3yPS2MxdOpnE1tlVxD9JmVOoggN+r4PjAXVFPa3Eg5jVJGFVUGNolH20GVrUB7BOySWq6WqYQdWR92pcFMYMwckbSgCKCqD67DiiWu1g8MQC9ByfcFqW1L+jL714qNCuznoSxt0da2gtWN1G8F0BK0NN0nuimelUF9dIdAfjO44UT3CjQLoUeLHJFTO3gmpRuIIOvwBQCbqNeo3qtZ9iF6xVK13GRlo4zqimq+CGdTiR1uRY8oqgE02hZBa79kZXPMquxRHKla2saZWN4mRqZUj0vLCKhkjKnqOQHNuSZVJoKvAqS1wpEquvWDC1B2ypwrCPsRMEPVTODMLJMDv6qeKXwi2JYV5Sq4qKyvgGsHCLiuj2jR59V8gMqSJ2FJZRXEHVRHj3sFPrct6OpqlW1GpatQdt0GvwfM6n63InsGVFhJGaBqgqqIV6IsXllZgySPq4R3bnt3wi5cv+cN2yqQLW1T95KYVsWWtKk4cB9W53WQQflQYR6Wl4HaJZjvVE0D5yvq+RKgZCs5qdBEP5sD94cAvQLlSgNaSMAtHx88BuNQ41zdFsX30zKbcs0MLD/ihkpQzl0wiTqKLTfbKmCmyYICnK0IbaieC4CG9iSyLQ7cIMGQwau6TKoq60Apl3WN40LZpca1CKKK9VQyyIEn8w0F8F6CL2h8o3ixGwC7s7EWzCOqmcApYxYD4jsAzVS0sl2t98pA7vrKophCVSonbYpgH6mvSn24pTBV4sdtV3BtMq5k82y+IADvUJ0uAlkCVTxIaPm+UNu/qkV4F1TzHXCGrXIAqItBKypqK99VtAOVs64O4ObX7pHLVCpYHcRmwvLR7TvYAKBBN58LGVzDuFz+hQbWgncQyCZAk+VbsPSouf93261iZgmfCpwRbAvqmSqriU2PwhjaoOyYqtIegVXViTsmyta6bGySpY3gyRrpIyAeaWDDxtpsXwKyalMDKNP7YBXMqEskUsi2uC8FNAPxAKTVfT1o6VzM0E0jF+1rWcUuHvdyg7vgoFplX8HpvHpMCOMRUPHzZkInsqlFKNX/EIO52E0SxSzOwob2VmRLW5D1XIU0rbgM1AzWgyC7fe8G7xUAK/taEBat7luqtyP7EmsaJQOj5F+mrnZfCuYCfBUAWwShyd6pMY/vAHG1UqOYpbI/gy5T0CMKm+UO3gFuC85dgfDVeguPDfITrIBLsLrcgdh3CFgFZjaKJ4Iv3F8ANEqvuxR1tVKOgLoCa1jxboBAkj6v7j/icFbA7f4rfRnQDLRViG13i0vqBQrYVqBbADZT0ZpiHoSzvQpopKIFS3sE1HfBWlHXd0H7LnArqvougMtljHBgZnh3Eoz/BKjLML4Z2Aq0+hEJr9jaVUBbvNzCIUiroC7AWmmFw4o5AK3MtB5VypZMSFgs05JyGVwlwBqsEGAAa2ZU1CjUexXGsE4rKriilBvFzOKKo3AuAroE6QFQU3u8YpNXwS5k+1TZt5UrwouN4KiUEw+k3ZWDp1RXHNRqXb21Ts39945yZSg3VnZFNQ9CF3XeZyr5DgBXKiwCMa2MxeTDYXgP1Fsf9QNKZc0k81RJk3r6EQ3rCmBVyLL75EjZ1pIVDHoFtiOAHoB0BdTVylqBsKKKS+AeBXJVLY+CXASuGvO/Auq7GuEjDfGKg1oKa1z/dmmi9I9SUGNhl0AtfulHAawoYrnSkmNXAVuGEhrEVXvUF+A5Ct2PqNOjDetyna4CmeUolmeXLN4Aq7C5Sj10Q7yjgl+t6CNxSRHmI5X+CpwreYB3Qfdqna4q21KdBuc4GoZsn49ZOOiVinwHqK9WzjvgeweEh2AU5+vtxZ9Cd9Wqkh49V18E5oj6vVyn0RStAyGIO5edXRKd5B0VGVXq2yr3xYp+5Ut+C4QJ4P1N339pQMjRejj4vb/Dcr6rQc3O/0rjmtZpeYCBiCHfCemRbNhbK/pNUPc3wfKy5f2D7OlL3/uPhve/oU4T0F8f+VNM2vyoiv0jK+KHQfdHq+0bncz4oz73/+Y6LbKw1o/5B7eOf1Rl/0du9B9tn/9bvrf/j+v0h6ttn2tp/r/4819y4/zv5391uvzzfwDifz6phT1MPgAAAABJRU5ErkJggg==)}.color-picker .cp-add-color-button-class{position:absolute;display:inline;padding:0;margin:3px -3px;border:0;cursor:pointer;background:transparent}.color-picker .cp-add-color-button-class:hover{text-decoration:underline}.color-picker .cp-add-color-button-class:disabled{cursor:not-allowed;color:#999}.color-picker .cp-add-color-button-class:disabled:hover{text-decoration:none}.color-picker .cp-remove-color-button-class{position:absolute;top:-5px;right:-5px;display:block;width:10px;height:10px;border-radius:50%;cursor:pointer;text-align:center;background:#fff;box-shadow:1px 1px 5px #333}.color-picker .cp-remove-color-button-class:before{content:"x";position:relative;bottom:3.5px;display:inline-block;font-size:10px}.color-picker .eyedropper-icon{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);fill:#fff;mix-blend-mode:exclusion}\n'],encapsulation:2}),n})(),QB=(()=>{class n{constructor(t,r,i,a,d,m){this.injector=t,this.cfr=r,this.appRef=i,this.vcRef=a,this.elRef=d,this._service=m,this.dialogCreated=!1,this.ignoreChanges=!1,this.viewAttachedToAppRef=!1,this.cpWidth="230px",this.cpHeight="auto",this.cpToggle=!1,this.cpDisabled=!1,this.cpIgnoredElements=[],this.cpFallbackColor="",this.cpColorMode="color",this.cpCmykEnabled=!1,this.cpOutputFormat="auto",this.cpAlphaChannel="enabled",this.cpDisableInput=!1,this.cpDialogDisplay="popup",this.cpSaveClickOutside=!0,this.cpCloseClickOutside=!0,this.cpUseRootViewContainer=!1,this.cpPosition="auto",this.cpPositionOffset="0%",this.cpPositionRelativeToArrow=!1,this.cpOKButton=!1,this.cpOKButtonText="OK",this.cpOKButtonClass="cp-ok-button-class",this.cpCancelButton=!1,this.cpCancelButtonText="Cancel",this.cpCancelButtonClass="cp-cancel-button-class",this.cpEyeDropper=!1,this.cpPresetLabel="Preset colors",this.cpPresetColorsClass="cp-preset-colors-class",this.cpMaxPresetColorsLength=6,this.cpPresetEmptyMessage="No colors added",this.cpPresetEmptyMessageClass="preset-empty-message",this.cpAddColorButton=!1,this.cpAddColorButtonText="Add color",this.cpAddColorButtonClass="cp-add-color-button-class",this.cpRemoveColorButtonClass="cp-remove-color-button-class",this.cpInputChange=new u.vpe(!0),this.cpToggleChange=new u.vpe(!0),this.cpSliderChange=new u.vpe(!0),this.cpSliderDragEnd=new u.vpe(!0),this.cpSliderDragStart=new u.vpe(!0),this.colorPickerOpen=new u.vpe(!0),this.colorPickerClose=new u.vpe(!0),this.colorPickerCancel=new u.vpe(!0),this.colorPickerSelect=new u.vpe(!0),this.colorPickerChange=new u.vpe(!1),this.cpCmykColorChange=new u.vpe(!0),this.cpPresetColorsChange=new u.vpe(!0)}handleClick(){this.inputFocus()}handleFocus(){this.inputFocus()}handleInput(t){this.inputChange(t)}ngOnDestroy(){null!=this.cmpRef&&(this.viewAttachedToAppRef&&this.appRef.detachView(this.cmpRef.hostView),this.cmpRef.destroy(),this.cmpRef=null,this.dialog=null)}ngOnChanges(t){t.cpToggle&&!this.cpDisabled&&(t.cpToggle.currentValue?this.openDialog():t.cpToggle.currentValue||this.closeDialog()),t.colorPicker&&(this.dialog&&!this.ignoreChanges&&("inline"===this.cpDialogDisplay&&this.dialog.setInitialColor(t.colorPicker.currentValue),this.dialog.setColorFromString(t.colorPicker.currentValue,!1),this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay&&this.cmpRef.changeDetectorRef.detectChanges()),this.ignoreChanges=!1),(t.cpPresetLabel||t.cpPresetColors)&&this.dialog&&this.dialog.setPresetConfig(this.cpPresetLabel,this.cpPresetColors)}openDialog(){if(this.dialogCreated)this.dialog&&this.dialog.openDialog(this.colorPicker);else{let t=this.vcRef;if(this.dialogCreated=!0,this.viewAttachedToAppRef=!1,this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay){const a=this.injector.get(this.appRef.componentTypes[0],u.zs3.NULL);a!==u.zs3.NULL?t=a.vcRef||a.viewContainerRef||this.vcRef:this.viewAttachedToAppRef=!0}const r=this.cfr.resolveComponentFactory(KB);if(this.viewAttachedToAppRef)this.cmpRef=r.create(this.injector),this.appRef.attachView(this.cmpRef.hostView),document.body.appendChild(this.cmpRef.hostView.rootNodes[0]);else{const i=u.zs3.create({providers:[],parent:t.injector});this.cmpRef=t.createComponent(r,0,i,[])}this.cmpRef.instance.setupDialog(this,this.elRef,this.colorPicker,this.cpWidth,this.cpHeight,this.cpDialogDisplay,this.cpFallbackColor,this.cpColorMode,this.cpCmykEnabled,this.cpAlphaChannel,this.cpOutputFormat,this.cpDisableInput,this.cpIgnoredElements,this.cpSaveClickOutside,this.cpCloseClickOutside,this.cpUseRootViewContainer,this.cpPosition,this.cpPositionOffset,this.cpPositionRelativeToArrow,this.cpPresetLabel,this.cpPresetColors,this.cpPresetColorsClass,this.cpMaxPresetColorsLength,this.cpPresetEmptyMessage,this.cpPresetEmptyMessageClass,this.cpOKButton,this.cpOKButtonClass,this.cpOKButtonText,this.cpCancelButton,this.cpCancelButtonClass,this.cpCancelButtonText,this.cpAddColorButton,this.cpAddColorButtonClass,this.cpAddColorButtonText,this.cpRemoveColorButtonClass,this.cpEyeDropper,this.elRef,this.cpExtraTemplate),this.dialog=this.cmpRef.instance,this.vcRef!==t&&this.cmpRef.changeDetectorRef.detectChanges()}}closeDialog(){this.dialog&&"popup"===this.cpDialogDisplay&&this.dialog.closeDialog()}cmykChanged(t){this.cpCmykColorChange.emit(t)}stateChanged(t){this.cpToggleChange.emit(t),t?this.colorPickerOpen.emit(this.colorPicker):this.colorPickerClose.emit(this.colorPicker)}colorChanged(t,r=!0){this.ignoreChanges=r,this.colorPickerChange.emit(t)}colorSelected(t){this.colorPickerSelect.emit(t)}colorCanceled(){this.colorPickerCancel.emit()}inputFocus(){const t=this.elRef.nativeElement,r=this.cpIgnoredElements.filter(i=>i===t);!this.cpDisabled&&!r.length&&("undefined"!=typeof document&&t===document.activeElement?this.openDialog():this.dialog&&this.dialog.show?this.closeDialog():this.openDialog())}inputChange(t){this.dialog?this.dialog.setColorFromString(t.target.value,!0):(this.colorPicker=t.target.value,this.colorPickerChange.emit(this.colorPicker))}inputChanged(t){this.cpInputChange.emit(t)}sliderChanged(t){this.cpSliderChange.emit(t)}sliderDragEnd(t){this.cpSliderDragEnd.emit(t)}sliderDragStart(t){this.cpSliderDragStart.emit(t)}presetColorsChanged(t){this.cpPresetColorsChange.emit(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.zs3),u.Y36(u._Vd),u.Y36(u.z2F),u.Y36(u.s_b),u.Y36(u.SBq),u.Y36(_M))},n.\u0275dir=u.lG2({type:n,selectors:[["","colorPicker",""]],hostBindings:function(t,r){1&t&&u.NdJ("click",function(){return r.handleClick()})("focus",function(){return r.handleFocus()})("input",function(a){return r.handleInput(a)})},inputs:{colorPicker:"colorPicker",cpWidth:"cpWidth",cpHeight:"cpHeight",cpToggle:"cpToggle",cpDisabled:"cpDisabled",cpIgnoredElements:"cpIgnoredElements",cpFallbackColor:"cpFallbackColor",cpColorMode:"cpColorMode",cpCmykEnabled:"cpCmykEnabled",cpOutputFormat:"cpOutputFormat",cpAlphaChannel:"cpAlphaChannel",cpDisableInput:"cpDisableInput",cpDialogDisplay:"cpDialogDisplay",cpSaveClickOutside:"cpSaveClickOutside",cpCloseClickOutside:"cpCloseClickOutside",cpUseRootViewContainer:"cpUseRootViewContainer",cpPosition:"cpPosition",cpPositionOffset:"cpPositionOffset",cpPositionRelativeToArrow:"cpPositionRelativeToArrow",cpOKButton:"cpOKButton",cpOKButtonText:"cpOKButtonText",cpOKButtonClass:"cpOKButtonClass",cpCancelButton:"cpCancelButton",cpCancelButtonText:"cpCancelButtonText",cpCancelButtonClass:"cpCancelButtonClass",cpEyeDropper:"cpEyeDropper",cpPresetLabel:"cpPresetLabel",cpPresetColors:"cpPresetColors",cpPresetColorsClass:"cpPresetColorsClass",cpMaxPresetColorsLength:"cpMaxPresetColorsLength",cpPresetEmptyMessage:"cpPresetEmptyMessage",cpPresetEmptyMessageClass:"cpPresetEmptyMessageClass",cpAddColorButton:"cpAddColorButton",cpAddColorButtonText:"cpAddColorButtonText",cpAddColorButtonClass:"cpAddColorButtonClass",cpRemoveColorButtonClass:"cpRemoveColorButtonClass",cpExtraTemplate:"cpExtraTemplate"},outputs:{cpInputChange:"cpInputChange",cpToggleChange:"cpToggleChange",cpSliderChange:"cpSliderChange",cpSliderDragEnd:"cpSliderDragEnd",cpSliderDragStart:"cpSliderDragStart",colorPickerOpen:"colorPickerOpen",colorPickerClose:"colorPickerClose",colorPickerCancel:"colorPickerCancel",colorPickerSelect:"colorPickerSelect",colorPickerChange:"colorPickerChange",cpCmykColorChange:"cpCmykColorChange",cpPresetColorsChange:"cpPresetColorsChange"},exportAs:["ngxColorPicker"],features:[u.TTD]}),n})(),JB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[_M],imports:[[Ui]]}),n})(),XB=(()=>{class n{constructor(t,r,i){var a=this;this.routerService=t,this.toastrService=r,this.firebaseService=i,this.model={},this.destroyed$=new jr.x,this.cancel=()=>{this.routerService.navigate("calendar")},this.save=(0,nt.Z)(function*(){yield a.firebaseService.saveUserPreferences(a.model)}),this.firebaseService.getUserPreferences().subscribe(d=>{var m;this.model=null!==(m=d[0])&&void 0!==m?m:{}},C_(this.destroyed$))}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(tu),u.Y36(Zu),u.Y36(Qv))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-preferences-main"]],decls:37,vars:20,consts:[["id","preferencesFormMain",1,"container","formMain","w-100","h-50"],[1,"row","h-75"],[1,"col-6","h-100","mx-auto"],[1,"container","mt-5","h-100","w-100"],[1,"row","h-100","mx-auto"],[1,"col-12","mx-auto"],["id","preferencesForm"],[1,"container"],[1,"row","mb-3"],[1,"col"],["for","dailyGoal"],["type","number","id","dailyMinuteGoal","name","dailyMinuteGoal","placeholder","Minutes...",1,"form-control",3,"ngModel","ngModelChange"],["for","trackingDescription"],["type","text","id","trackingDescription","name","trackingDescription","placeholder","Description...",1,"form-control",3,"ngModel","ngModelChange"],[1,"row"],[1,"col-2"],["id","colorPickerInput",3,"colorPicker","colorPickerChange"],[1,"row","mt-5"],[1,"col-12"],[1,"btn","btn-secondary","float-left",3,"click"],[1,"btn","btn-app-primary","float-right","bd-highlight",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"label",10),u._uU(11,"Daily Minute Goal"),u.qZA(),u.TgZ(12,"input",11),u.NdJ("ngModelChange",function(a){return r.model.dailyMinuteGoal=a}),u.qZA()()(),u.TgZ(13,"div",8)(14,"div",9)(15,"label",12),u._uU(16,"What would you like to track?"),u.qZA(),u.TgZ(17,"input",13),u.NdJ("ngModelChange",function(a){return r.model.trackingDescription=a}),u.qZA()()(),u.TgZ(18,"div",14)(19,"div",15)(20,"input",16),u.NdJ("colorPickerChange",function(a){return r.model.color1=a}),u.qZA()(),u.TgZ(21,"div",15)(22,"input",16),u.NdJ("colorPickerChange",function(a){return r.model.color2=a}),u.qZA()(),u.TgZ(23,"div",15)(24,"input",16),u.NdJ("colorPickerChange",function(a){return r.model.color3=a}),u.qZA()(),u.TgZ(25,"div",15)(26,"input",16),u.NdJ("colorPickerChange",function(a){return r.model.color4=a}),u.qZA()(),u.TgZ(27,"div",15)(28,"input",16),u.NdJ("colorPickerChange",function(a){return r.model.color5=a}),u.qZA()(),u.TgZ(29,"div",15)(30,"input",16),u.NdJ("colorPickerChange",function(a){return r.model.color6=a}),u.qZA()()()()()()()()()(),u.TgZ(31,"div",17)(32,"div",18)(33,"button",19),u.NdJ("click",function(){return r.cancel()}),u._uU(34,"Cancel"),u.qZA(),u.TgZ(35,"button",20),u.NdJ("click",function(){return r.save()}),u._uU(36,"Save"),u.qZA()()()()),2&t&&(u.xp6(12),u.Q6J("ngModel",r.model.dailyMinuteGoal),u.xp6(5),u.Q6J("ngModel",r.model.trackingDescription),u.xp6(3),u.Udp("background",r.model.color1),u.Q6J("colorPicker",r.model.color1),u.xp6(2),u.Udp("background",r.model.color2),u.Q6J("colorPicker",r.model.color2),u.xp6(2),u.Udp("background",r.model.color3),u.Q6J("colorPicker",r.model.color3),u.xp6(2),u.Udp("background",r.model.color4),u.Q6J("colorPicker",r.model.color4),u.xp6(2),u.Udp("background",r.model.color5),u.Q6J("colorPicker",r.model.color5),u.xp6(2),u.Udp("background",r.model.color6),u.Q6J("colorPicker",r.model.color6))},directives:[kl,Xi,ti,Bs,QB],styles:["#preferencesForm[_ngcontent-%COMP%]{color:#fff}#colorPickerInput[_ngcontent-%COMP%]{width:50px;height:50px;border:none;border-radius:9999rem}"]}),n})(),vP=(()=>{class n{constructor(t){this.routerService=t}canActivate(t,r){return null!=sessionStorage.getItem(ed.userName)||(this.routerService.navigate("login"),!1)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(tu))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eU=[{path:"login",component:dB},{path:"calendar",component:nB,canActivate:[vP]},{path:"createAccount",component:rB},{path:"preferences",component:XB,canActivate:[vP]},{path:"focus",component:cB},{path:"**",redirectTo:"login"},{path:"*",redirectTo:"login"}];let tU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[IA.forRoot(eU)],IA]}),n})();var nU=z(579);let yP=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rU=(()=>{class n{constructor(t){this.routerService=t,this.onClick=()=>{this.routerService.navigate("calendar")}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(tu))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-calendar-button"]],decls:3,vars:0,consts:[[3,"click"],["id","calendarIcon","xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-calendar"],["d","M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"]],template:function(t,r){1&t&&(u.TgZ(0,"a",0),u.NdJ("click",function(){return r.onClick()}),u.O4$(),u.TgZ(1,"svg",1),u._UZ(2,"path",2),u.qZA()())},styles:["#calendarIcon[_ngcontent-%COMP%]{color:#7532fa;transform:scale(2.5);transition:transform 1.5s ease 0s}#calendarIcon[_ngcontent-%COMP%]:hover{transform:rotate(50deg) scale(3.5)}#calendarIcon[_ngcontent-%COMP%]:hover:after{transform:rotate(50deg)}"]}),n})(),iU=(()=>{class n{constructor(t){this.routerService=t,this.onClick=()=>{this.routerService.navigate("preferences")}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(tu))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-preferences-button"]],decls:4,vars:0,consts:[[3,"click"],["id","preferencesIcon","xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-gear"],["d","M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"],["d","M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"]],template:function(t,r){1&t&&(u.TgZ(0,"a",0),u.NdJ("click",function(){return r.onClick()}),u.O4$(),u.TgZ(1,"svg",1),u._UZ(2,"path",2)(3,"path",3),u.qZA()())},styles:["#preferencesIcon[_ngcontent-%COMP%]{color:#fff;transition:transform 1.5s ease 0s;transform:scale(2.5)}#preferencesIcon[_ngcontent-%COMP%]:hover{transform:rotate(180deg) scale(4.5)}#preferencesIcon[_ngcontent-%COMP%]:hover:after{transform:rotate(-180deg)}"]}),n})(),oU=(()=>{class n{constructor(t){this.routerService=t,this.onClick=()=>{this.routerService.navigate("focus")}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(tu))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-focus-button"]],decls:3,vars:0,consts:[[3,"click"],["id","meditateIcon","xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-flower1"],["d","M6.174 1.184a2 2 0 0 1 3.652 0A2 2 0 0 1 12.99 3.01a2 2 0 0 1 1.826 3.164 2 2 0 0 1 0 3.652 2 2 0 0 1-1.826 3.164 2 2 0 0 1-3.164 1.826 2 2 0 0 1-3.652 0A2 2 0 0 1 3.01 12.99a2 2 0 0 1-1.826-3.164 2 2 0 0 1 0-3.652A2 2 0 0 1 3.01 3.01a2 2 0 0 1 3.164-1.826zM8 1a1 1 0 0 0-.998 1.03l.01.091c.012.077.029.176.054.296.049.241.122.542.213.887.182.688.428 1.513.676 2.314L8 5.762l.045-.144c.248-.8.494-1.626.676-2.314.091-.345.164-.646.213-.887a4.997 4.997 0 0 0 .064-.386L9 2a1 1 0 0 0-1-1zM2 9l.03-.002.091-.01a4.99 4.99 0 0 0 .296-.054c.241-.049.542-.122.887-.213a60.59 60.59 0 0 0 2.314-.676L5.762 8l-.144-.045a60.59 60.59 0 0 0-2.314-.676 16.705 16.705 0 0 0-.887-.213 4.99 4.99 0 0 0-.386-.064L2 7a1 1 0 1 0 0 2zm7 5-.002-.03a5.005 5.005 0 0 0-.064-.386 16.398 16.398 0 0 0-.213-.888 60.582 60.582 0 0 0-.676-2.314L8 10.238l-.045.144c-.248.8-.494 1.626-.676 2.314-.091.345-.164.646-.213.887a4.996 4.996 0 0 0-.064.386L7 14a1 1 0 1 0 2 0zm-5.696-2.134.025-.017a5.001 5.001 0 0 0 .303-.248c.184-.164.408-.377.661-.629A60.614 60.614 0 0 0 5.96 9.23l.103-.111-.147.033a60.88 60.88 0 0 0-2.343.572c-.344.093-.64.18-.874.258a5.063 5.063 0 0 0-.367.138l-.027.014a1 1 0 1 0 1 1.732zM4.5 14.062a1 1 0 0 0 1.366-.366l.014-.027c.01-.02.021-.048.036-.084a5.09 5.09 0 0 0 .102-.283c.078-.233.165-.53.258-.874a60.6 60.6 0 0 0 .572-2.343l.033-.147-.11.102a60.848 60.848 0 0 0-1.743 1.667 17.07 17.07 0 0 0-.629.66 5.06 5.06 0 0 0-.248.304l-.017.025a1 1 0 0 0 .366 1.366zm9.196-8.196a1 1 0 0 0-1-1.732l-.025.017a4.951 4.951 0 0 0-.303.248 16.69 16.69 0 0 0-.661.629A60.72 60.72 0 0 0 10.04 6.77l-.102.111.147-.033a60.6 60.6 0 0 0 2.342-.572c.345-.093.642-.18.875-.258a4.993 4.993 0 0 0 .367-.138.53.53 0 0 0 .027-.014zM11.5 1.938a1 1 0 0 0-1.366.366l-.014.027c-.01.02-.021.048-.036.084a5.09 5.09 0 0 0-.102.283c-.078.233-.165.53-.258.875a60.62 60.62 0 0 0-.572 2.342l-.033.147.11-.102a60.848 60.848 0 0 0 1.743-1.667c.252-.253.465-.477.629-.66a5.001 5.001 0 0 0 .248-.304l.017-.025a1 1 0 0 0-.366-1.366zM14 9a1 1 0 0 0 0-2l-.03.002a4.996 4.996 0 0 0-.386.064c-.242.049-.543.122-.888.213-.688.182-1.513.428-2.314.676L10.238 8l.144.045c.8.248 1.626.494 2.314.676.345.091.646.164.887.213a4.996 4.996 0 0 0 .386.064L14 9zM1.938 4.5a1 1 0 0 0 .393 1.38l.084.035c.072.03.166.064.283.103.233.078.53.165.874.258a60.88 60.88 0 0 0 2.343.572l.147.033-.103-.111a60.584 60.584 0 0 0-1.666-1.742 16.705 16.705 0 0 0-.66-.629 4.996 4.996 0 0 0-.304-.248l-.025-.017a1 1 0 0 0-1.366.366zm2.196-1.196.017.025a4.996 4.996 0 0 0 .248.303c.164.184.377.408.629.661A60.597 60.597 0 0 0 6.77 5.96l.111.102-.033-.147a60.602 60.602 0 0 0-.572-2.342c-.093-.345-.18-.642-.258-.875a5.006 5.006 0 0 0-.138-.367l-.014-.027a1 1 0 1 0-1.732 1zm9.928 8.196a1 1 0 0 0-.366-1.366l-.027-.014a5 5 0 0 0-.367-.138c-.233-.078-.53-.165-.875-.258a60.619 60.619 0 0 0-2.342-.572l-.147-.033.102.111a60.73 60.73 0 0 0 1.667 1.742c.253.252.477.465.66.629a4.946 4.946 0 0 0 .304.248l.025.017a1 1 0 0 0 1.366-.366zm-3.928 2.196a1 1 0 0 0 1.732-1l-.017-.025a5.065 5.065 0 0 0-.248-.303 16.705 16.705 0 0 0-.629-.661A60.462 60.462 0 0 0 9.23 10.04l-.111-.102.033.147a60.6 60.6 0 0 0 .572 2.342c.093.345.18.642.258.875a4.985 4.985 0 0 0 .138.367.575.575 0 0 0 .014.027zM8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"]],template:function(t,r){1&t&&(u.TgZ(0,"a",0),u.NdJ("click",function(){return r.onClick()}),u.O4$(),u.TgZ(1,"svg",1),u._UZ(2,"path",2),u.qZA()())},styles:["#meditateIcon[_ngcontent-%COMP%]{color:#7532fa;transform:scale(2.5);transition:transform 1.5s ease 0s}#meditateIcon[_ngcontent-%COMP%]:hover{transform:rotate(180deg) scale(4.5)}#meditateIcon[_ngcontent-%COMP%]:hover:after{transform:rotate(-180deg)}"]}),n})(),sU=(()=>{class n{constructor(t,r){this.routerService=t,this.fireBaseService=r,this.onClick=()=>{this.fireBaseService.logoutFirebaseUser(),this.routerService.navigate("login")}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(tu),u.Y36(Qv))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-logout-button"]],decls:4,vars:0,consts:[[3,"click"],["id","logoutIcon","xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-box-arrow-left"],["fill-rule","evenodd","d","M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5 1.5 0 0 1 6.5 2h8A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 5 12.5v-2a.5.5 0 0 1 1 0v2z"],["fill-rule","evenodd","d","M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"]],template:function(t,r){1&t&&(u.TgZ(0,"a",0),u.NdJ("click",function(){return r.onClick()}),u.O4$(),u.TgZ(1,"svg",1),u._UZ(2,"path",2)(3,"path",3),u.qZA()())},styles:["#logoutIcon[_ngcontent-%COMP%]{color:#f5f5f5;transform:scale(2.5);transition:transform 1.5s ease 0s}#logoutIcon[_ngcontent-%COMP%]:hover{transform:scale(4.5)}"]}),n})();function aU(n,e){1&n&&u._UZ(0,"app-calendar-button",4)}function lU(n,e){1&n&&u._UZ(0,"app-preferences-button",5)}function uU(n,e){1&n&&u._UZ(0,"app-focus-button",6)}function cU(n,e){1&n&&u._UZ(0,"app-logout-button",7)}let dU=(()=>{class n{constructor(t,r){this.sessionStoreService=t,this.routerService=r,this.isUserAuthenticated$=this.sessionStoreService.isUserAuthenticated$,this.isLoginRoute$=this.routerService.isLoginRoute$,this.isFocusRoute$=this.routerService.isFocusRoute$,this.isPreferencesRoute$=this.routerService.isPreferencesRoute$}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(uP),u.Y36(tu))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-header-main"]],decls:10,vars:16,consts:[["class","mr-4",4,"ngIf"],["class","mr-4 ml-4",4,"ngIf"],["class","ml-4 mr-4",4,"ngIf"],["class","ml-4",4,"ngIf"],[1,"mr-4"],[1,"mr-4","ml-4"],[1,"ml-4","mr-4"],[1,"ml-4"]],template:function(t,r){1&t&&(u.YNc(0,aU,1,0,"app-calendar-button",0),u.ALo(1,"async"),u.ALo(2,"async"),u.YNc(3,lU,1,0,"app-preferences-button",1),u.ALo(4,"async"),u.ALo(5,"async"),u.YNc(6,uU,1,0,"app-focus-button",2),u.ALo(7,"async"),u.YNc(8,cU,1,0,"app-logout-button",3),u.ALo(9,"async")),2&t&&(u.Q6J("ngIf",u.lcZ(1,4,r.isFocusRoute$)&&u.lcZ(2,6,r.isUserAuthenticated$)),u.xp6(3),u.Q6J("ngIf",!1===u.lcZ(4,8,r.isLoginRoute$)&&u.lcZ(5,10,r.isUserAuthenticated$)),u.xp6(3),u.Q6J("ngIf",!1===u.lcZ(7,12,r.isFocusRoute$)),u.xp6(2),u.Q6J("ngIf",!1===u.lcZ(9,14,r.isLoginRoute$)))},directives:[fr,rU,iU,oU,sU],pipes:[as],styles:[""]}),n})();function fU(n,e){1&n&&(u.TgZ(0,"div"),u._uU(1,"Background audio track provided by "),u.TgZ(2,"a",1),u._uU(3,"Noises.Online"),u.qZA(),u._uU(4," under a "),u.TgZ(5,"a",2),u._uU(6,"CC 3.0 BY"),u.qZA(),u._uU(7," license."),u.qZA())}let hU=(()=>{class n{constructor(t){this.routerService=t,this.isFocusRoute$=this.routerService.isFocusRoute$}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(tu))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-footer-main"]],decls:2,vars:3,consts:[[4,"ngIf"],["href","https://noises.online","title","Noises.Online","target","_blank"],["href","http://creativecommons.org/licenses/by/3.0/","title","Creative Commons BY 3.0","target","_blank"]],template:function(t,r){1&t&&(u.YNc(0,fU,8,0,"div",0),u.ALo(1,"async")),2&t&&u.Q6J("ngIf",u.lcZ(1,1,r.isFocusRoute$))},directives:[fr],pipes:[as],styles:[""]}),n})();function pU(n,e){1&n&&(u.TgZ(0,"div"),u.O4$(),u.TgZ(1,"svg",10)(2,"title"),u._uU(3,"Gray Clouds Background"),u.qZA(),u._UZ(4,"path",11),u.qZA()())}function gU(n,e){1&n&&(u.TgZ(0,"div",12),u._UZ(1,"div",13)(2,"div",14)(3,"div",15)(4,"div",16),u.TgZ(5,"div",17),u._UZ(6,"div",18),u.qZA(),u._UZ(7,"div",19)(8,"div",20),u.TgZ(9,"div",21),u._UZ(10,"div",18),u.qZA(),u._UZ(11,"div",22)(12,"div",23)(13,"div",24)(14,"div",25)(15,"div",26)(16,"div",27)(17,"div",28)(18,"div",29)(19,"div",30)(20,"div",31)(21,"div",32)(22,"div",33)(23,"div",34)(24,"div",35)(25,"div",36)(26,"div",37)(27,"div",38)(28,"div",39)(29,"div",40)(30,"div",41)(31,"div",42),u.TgZ(32,"div",43),u._UZ(33,"div",44)(34,"div",45)(35,"div",46)(36,"div",47)(37,"div",48)(38,"div",49),u.qZA()())}const mU=(0,sl.initializeApp)(fw);(0,nU.IH)(mU);let vU=(()=>{class n{constructor(t,r){this.routerService=t,this.storage=r,this.isFocusRoute$=this.routerService.isFocusRoute$,this.isLoginRoute$=this.routerService.isLoginRoute$}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(tu),u.Y36(yP))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:15,vars:6,consts:[["id","app-header",1,"container"],[1,"row","w-100","mt-4","d-flex","flex-row-reverse"],["id","main-content",1,"container","mt-4"],[1,"row","w-100"],[1,"col-12"],["id","main-center-content",1,"row","w-100"],[1,"col-12","mx-auto"],[1,""],[4,"ngIf"],["class","landscape",4,"ngIf"],["id","clouds","xmlns","http://www.w3.org/2000/svg","width","2611.084","height","485.677","viewBox","0 0 2611.084 485.677",1,"clouds"],["id","Path_39","data-name","Path 39","d","M2379.709,863.793c10-93-77-171-168-149-52-114-225-105-264,15-75,3-140,59-152,133-30,2.83-66.725,9.829-93.5,26.25-26.771-16.421-63.5-23.42-93.5-26.25-12-74-77-130-152-133-39-120-212-129-264-15-54.084-13.075-106.753,9.173-138.488,48.9-31.734-39.726-84.4-61.974-138.487-48.9-52-114-225-105-264,15a162.027,162.027,0,0,0-103.147,43.044c-30.633-45.365-87.1-72.091-145.206-58.044-52-114-225-105-264,15-75,3-140,59-152,133-53,5-127,23-130,83-2,42,35,72,70,86,49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33,61.112,8.015,113.854-5.72,150.492-29.764a165.62,165.62,0,0,0,110.861-3.236c47,94,178,113,251,33,31.385,4.116,60.563,2.495,86.487-3.311,25.924,5.806,55.1,7.427,86.488,3.311,73,80,204,61,251-33a165.625,165.625,0,0,0,120,0c51,13,108,15,157-5a147.188,147.188,0,0,0,33.5-18.694,147.217,147.217,0,0,0,33.5,18.694c49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33C2446.709,1093.793,2554.709,922.793,2379.709,863.793Z","transform","translate(142.69 -634.312)","fill","#eee"],[1,"landscape"],[1,"mountain"],[1,"mountain","mountain-2"],[1,"mountain","mountain-3"],[1,"sun-container","sun-container-1"],[1,"sun-container"],[1,"sun"],[1,"cloud"],[1,"cloud","cloud-1"],[1,"sun-container","sun-container-reflection"],[1,"light"],[1,"light","light-1"],[1,"light","light-2"],[1,"light","light-3"],[1,"light","light-4"],[1,"light","light-5"],[1,"light","light-6"],[1,"light","light-7"],[1,"water"],[1,"splash"],[1,"splash","delay-1"],[1,"splash","delay-2"],[1,"splash","splash-4","delay-2"],[1,"splash","splash-4","delay-3"],[1,"splash","splash-4","delay-4"],[1,"splash","splash-stone","delay-3"],[1,"splash","splash-stone","splash-4"],[1,"splash","splash-stone","splash-5"],[1,"lotus","lotus-1"],[1,"lotus","lotus-2"],[1,"lotus","lotus-3"],[1,"front"],[1,"stone"],[1,"grass"],[1,"grass","grass-1"],[1,"grass","grass-2"],[1,"reed"],[1,"reed","reed-1"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"app-header-main"),u.qZA()(),u.TgZ(3,"div",2)(4,"div",3),u._UZ(5,"div",4),u.qZA(),u.TgZ(6,"div",5)(7,"div",6),u._UZ(8,"router-outlet"),u.qZA()(),u.TgZ(9,"div",7),u._UZ(10,"app-footer-main"),u.qZA()(),u.YNc(11,pU,5,0,"div",8),u.ALo(12,"async"),u.YNc(13,gU,39,0,"div",9),u.ALo(14,"async")),2&t&&(u.xp6(11),u.Q6J("ngIf",u.lcZ(12,2,r.isLoginRoute$)),u.xp6(2),u.Q6J("ngIf",u.lcZ(14,4,r.isFocusRoute$)))},directives:[dU,bp,hU,fr],pipes:[as],styles:["#main-content[_ngcontent-%COMP%]{min-height:90vh!important;min-width:98vw!important;height:90vh!important;width:98vw!important;z-index:3!important;position:fixed}#main-center-content[_ngcontent-%COMP%]{height:90vh!important;width:98vw!important}#app-header[_ngcontent-%COMP%]{position:absolute;z-index:999!important;height:2vh!important;min-width:100vw!important}"]}),n})();class _P{}class bP{}class yd{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),a=i.toLowerCase(),d=t.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(d):this.headers.set(a,[d])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof yd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new yd;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof yd?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const a=e.value;if(a){let d=this.headers.get(t);if(!d)return;d=d.filter(m=>-1===a.indexOf(m)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class yU{encodeKey(e){return EP(e)}encodeValue(e){return EP(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const bU=/%(\d[a-f0-9])/gi,EU={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function EP(n){return encodeURIComponent(n).replace(bU,(e,t)=>{var r;return null!==(r=EU[t])&&void 0!==r?r:e})}function AP(n){return`${n}`}class mh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new yU,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function _U(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[d,m]=-1==a?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,a)),e.decodeValue(i.slice(a+1))],b=t.get(d)||[];b.push(m),t.set(d,b)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(a=>{t.push({param:r,value:a,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new mh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(AP(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(AP(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class AU{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function wP(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function CP(n){return"undefined"!=typeof Blob&&n instanceof Blob}function DP(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Tb{constructor(e,t,r,i){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function wU(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new yd),this.context||(this.context=new AU),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+d}}else this.params=new mh,this.urlWithParams=t}serializeBody(){return null===this.body?null:wP(this.body)||CP(this.body)||DP(this.body)||function CU(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof mh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||DP(this.body)?null:CP(this.body)?this.body.type||null:wP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof mh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,a=e.responseType||this.responseType,d=void 0!==e.body?e.body:this.body,m=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,b=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let C=e.headers||this.headers,R=e.params||this.params;const P=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(C=Object.keys(e.setHeaders).reduce((Z,Q)=>Z.set(Q,e.setHeaders[Q]),C)),e.setParams&&(R=Object.keys(e.setParams).reduce((Z,Q)=>Z.set(Q,e.setParams[Q]),R)),new Tb(r,i,d,{params:R,headers:C,context:P,reportProgress:b,responseType:a,withCredentials:m})}}var Fi=(()=>((Fi=Fi||{})[Fi.Sent=0]="Sent",Fi[Fi.UploadProgress=1]="UploadProgress",Fi[Fi.ResponseHeader=2]="ResponseHeader",Fi[Fi.DownloadProgress=3]="DownloadProgress",Fi[Fi.Response=4]="Response",Fi[Fi.User=5]="User",Fi))();class bM{constructor(e,t=200,r="OK"){this.headers=e.headers||new yd,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class EM extends bM{constructor(e={}){super(e),this.type=Fi.ResponseHeader}clone(e={}){return new EM({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class uD extends bM{constructor(e={}){super(e),this.type=Fi.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new uD({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class TP extends bM{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function AM(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let DU=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let a;if(t instanceof Tb)a=t;else{let b,C;b=i.headers instanceof yd?i.headers:new yd(i.headers),i.params&&(C=i.params instanceof mh?i.params:new mh({fromObject:i.params})),a=new Tb(t,r,void 0!==i.body?i.body:null,{headers:b,context:i.context,params:C,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const d=An(a).pipe(mf(b=>this.handler.handle(b)));if(t instanceof Tb||"events"===i.observe)return d;const m=d.pipe(qs(b=>b instanceof uD));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return m.pipe((0,dn.U)(b=>{if(null!==b.body&&!(b.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return b.body}));case"blob":return m.pipe((0,dn.U)(b=>{if(null!==b.body&&!(b.body instanceof Blob))throw new Error("Response is not a Blob.");return b.body}));case"text":return m.pipe((0,dn.U)(b=>{if(null!==b.body&&"string"!=typeof b.body)throw new Error("Response is not a string.");return b.body}));default:return m.pipe((0,dn.U)(b=>b.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new mh).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,AM(i,r))}post(t,r,i={}){return this.request("POST",t,AM(i,r))}put(t,r,i={}){return this.request("PUT",t,AM(i,r))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(_P))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class IP{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const SP=new u.OlP("HTTP_INTERCEPTORS");let TU=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const IU=/^\)\]\}',?\n/;let xP=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new qo.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((Q,te)=>i.setRequestHeader(Q,te.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const Q=t.detectContentTypeHeader();null!==Q&&i.setRequestHeader("Content-Type",Q)}if(t.responseType){const Q=t.responseType.toLowerCase();i.responseType="json"!==Q?Q:"text"}const a=t.serializeBody();let d=null;const m=()=>{if(null!==d)return d;const Q=i.statusText||"OK",te=new yd(i.getAllResponseHeaders()),Se=function SU(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return d=new EM({headers:te,status:i.status,statusText:Q,url:Se}),d},b=()=>{let{headers:Q,status:te,statusText:Se,url:rt}=m(),ot=null;204!==te&&(ot=void 0===i.response?i.responseText:i.response),0===te&&(te=ot?200:0);let yt=te>=200&&te<300;if("json"===t.responseType&&"string"==typeof ot){const Mt=ot;ot=ot.replace(IU,"");try{ot=""!==ot?JSON.parse(ot):null}catch(wt){ot=Mt,yt&&(yt=!1,ot={error:wt,text:ot})}}yt?(r.next(new uD({body:ot,headers:Q,status:te,statusText:Se,url:rt||void 0})),r.complete()):r.error(new TP({error:ot,headers:Q,status:te,statusText:Se,url:rt||void 0}))},C=Q=>{const{url:te}=m(),Se=new TP({error:Q,status:i.status||0,statusText:i.statusText||"Unknown Error",url:te||void 0});r.error(Se)};let R=!1;const P=Q=>{R||(r.next(m()),R=!0);let te={type:Fi.DownloadProgress,loaded:Q.loaded};Q.lengthComputable&&(te.total=Q.total),"text"===t.responseType&&!!i.responseText&&(te.partialText=i.responseText),r.next(te)},Z=Q=>{let te={type:Fi.UploadProgress,loaded:Q.loaded};Q.lengthComputable&&(te.total=Q.total),r.next(te)};return i.addEventListener("load",b),i.addEventListener("error",C),i.addEventListener("timeout",C),i.addEventListener("abort",C),t.reportProgress&&(i.addEventListener("progress",P),null!==a&&i.upload&&i.upload.addEventListener("progress",Z)),i.send(a),r.next({type:Fi.Sent}),()=>{i.removeEventListener("error",C),i.removeEventListener("abort",C),i.removeEventListener("load",b),i.removeEventListener("timeout",C),t.reportProgress&&(i.removeEventListener("progress",P),null!==a&&i.upload&&i.upload.removeEventListener("progress",Z)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(cr))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const wM=new u.OlP("XSRF_COOKIE_NAME"),CM=new u.OlP("XSRF_HEADER_NAME");class MP{}let xU=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=fo(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ee),u.LFG(u.Lbi),u.LFG(wM))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),DM=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const a=this.tokenService.getToken();return null!==a&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,a)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(MP),u.LFG(CM))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),MU=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(SP,[]);this.chain=r.reduceRight((i,a)=>new IP(i,a),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(bP),u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),RU=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:DM,useClass:TU}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:wM,useValue:t.cookieName}:[],t.headerName?{provide:CM,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[DM,{provide:SP,useExisting:DM,multi:!0},{provide:MP,useClass:xU},{provide:wM,useValue:"XSRF-TOKEN"},{provide:CM,useValue:"X-XSRF-TOKEN"}]}),n})(),kU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[DU,{provide:_P,useClass:MU},xP,{provide:bP,useExisting:xP}],imports:[[RU.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const RP_firebase=fw;hP.registerPlugins([UA,ew]);let NU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[vU]}),n.\u0275inj=u.cJS({providers:[yP,Storage,Qv,Cb],imports:[[$s.hO.initializeApp(RP_firebase),kV,UV,_l,ny,tU,Vy,uI.forRoot(),hP,JB,kU]]}),n})();(0,u.G48)(),_h().bootstrapModule(NU).catch(n=>console.error(n))},2559:kt=>{"use strict";kt.exports=function qe(z,u){if(z===u)return!0;if(z&&u&&"object"==typeof z&&"object"==typeof u){if(z.constructor!==u.constructor)return!1;var O,k,G;if(Array.isArray(z)){if((O=z.length)!=u.length)return!1;for(k=O;0!=k--;)if(!qe(z[k],u[k]))return!1;return!0}if(z.constructor===RegExp)return z.source===u.source&&z.flags===u.flags;if(z.valueOf!==Object.prototype.valueOf)return z.valueOf()===u.valueOf();if(z.toString!==Object.prototype.toString)return z.toString()===u.toString();if((O=(G=Object.keys(z)).length)!==Object.keys(u).length)return!1;for(k=O;0!=k--;)if(!Object.prototype.hasOwnProperty.call(u,G[k]))return!1;for(k=O;0!=k--;){var ne=G[k];if(!qe(z[ne],u[ne]))return!1}return!0}return z!=z&&u!=u}},5867:(kt,qe,z)=>{"use strict";z.d(qe,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=z(9681);(0,u.registerVersion)("firebase","9.8.1","app")},127:(kt,qe,z)=>{"use strict";z.d(qe,{Z:()=>u.Z});var u=z(3942);u.Z.registerVersion("firebase","9.8.1","app-compat")},5881:(kt,qe,z)=>{"use strict";z.r(qe);var u=z(5861),O=z(3942),k=z(198),G=z(2090),Ee=(z(9681),z(1877),z(4859));function Me(){return window}function de(){return(de=(0,u.Z)(function*(Ie,pe,he){var et;const{BuildInfo:bt}=Me();(0,k.aq)(pe.sessionId,"AuthEvent did not contain a session ID");const jt=yield se(pe.sessionId),rn={};return(0,k.ar)()?rn.ibi=bt.packageName:(0,k.as)()?rn.apn=bt.packageName:(0,k.at)(Ie,"operation-not-supported-in-this-environment"),bt.displayName&&(rn.appDisplayName=bt.displayName),rn.sessionId=jt,(0,k.au)(Ie,he,pe.type,void 0,null!==(et=pe.eventId)&&void 0!==et?et:void 0,rn)})).apply(this,arguments)}function F(){return(F=(0,u.Z)(function*(Ie){const{BuildInfo:pe}=Me(),he={};(0,k.ar)()?he.iosBundleId=pe.packageName:(0,k.as)()?he.androidPackageName=pe.packageName:(0,k.at)(Ie,"operation-not-supported-in-this-environment"),yield(0,k.av)(Ie,he)})).apply(this,arguments)}function me(){return(me=(0,u.Z)(function*(Ie,pe,he){const{cordova:et}=Me();let bt=()=>{};try{yield new Promise((jt,rn)=>{let Fn=null;function Lt(){var Mn;jt();const _r=null===(Mn=et.plugins.browsertab)||void 0===Mn?void 0:Mn.close;"function"==typeof _r&&_r(),"function"==typeof(null==he?void 0:he.close)&&he.close()}function hr(){Fn||(Fn=window.setTimeout(()=>{rn((0,k.aw)(Ie,"redirect-cancelled-by-user"))},2e3))}function kr(){"visible"===(null==document?void 0:document.visibilityState)&&hr()}pe.addPassiveListener(Lt),document.addEventListener("resume",hr,!1),(0,k.as)()&&document.addEventListener("visibilitychange",kr,!1),bt=()=>{pe.removePassiveListener(Lt),document.removeEventListener("resume",hr,!1),document.removeEventListener("visibilitychange",kr,!1),Fn&&window.clearTimeout(Fn)}})}finally{bt()}})).apply(this,arguments)}function se(Ie){return je.apply(this,arguments)}function je(){return(je=(0,u.Z)(function*(Ie){const pe=Ye(Ie),he=yield crypto.subtle.digest("SHA-256",pe);return Array.from(new Uint8Array(he)).map(bt=>bt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ye(Ie){if((0,k.aq)(/[0-9a-zA-Z]+/.test(Ie),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(Ie);const pe=new ArrayBuffer(Ie.length),he=new Uint8Array(pe);for(let et=0;et<Ie.length;et++)he[et]=Ie.charCodeAt(et);return he}class Qe extends k.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(pe=>{this.resolveInialized=pe})}addPassiveListener(pe){this.passiveListeners.add(pe)}removePassiveListener(pe){this.passiveListeners.delete(pe)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(pe){return this.resolveInialized(),this.passiveListeners.forEach(he=>he(pe)),super.onEvent(pe)}initialized(){var pe=this;return(0,u.Z)(function*(){yield pe.initPromise})()}}function Te(Ie){return Re.apply(this,arguments)}function Re(){return(Re=(0,u.Z)(function*(Ie){const pe=yield Oe()._get(Be(Ie));return pe&&(yield Oe()._remove(Be(Ie))),pe})).apply(this,arguments)}function xe(){const Ie=[],pe="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let he=0;he<20;he++){const et=Math.floor(Math.random()*pe.length);Ie.push(pe.charAt(et))}return Ie.join("")}function Oe(){return(0,k.ay)(k.b)}function Be(Ie){return(0,k.az)("authEvent",Ie.config.apiKey,Ie.name)}function Wt(Ie){if(!(null==Ie?void 0:Ie.includes("?")))return{};const[pe,...he]=Ie.split("?");return(0,G.zd)(he.join("?"))}function Ut(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,k.aw)("no-auth-event")}}function Ae(){var Ie;return(null===(Ie=null==self?void 0:self.location)||void 0===Ie?void 0:Ie.protocol)||null}function Ve(Ie=(0,G.z$)()){return!("file:"!==Ae()&&"ionic:"!==Ae()||!Ie.toLowerCase().match(/iphone|ipad|ipod|android/))}function on(){try{const Ie=self.localStorage,pe=k.aI();if(Ie)return Ie.setItem(pe,"1"),Ie.removeItem(pe),!function Ot(Ie=(0,G.z$)()){return function Ct(){return(0,G.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Ze(Ie=(0,G.z$)()){return/Edge\/\d+/.test(Ie)}(Ie)}()||(0,G.hl)()}catch(Ie){return vn()&&(0,G.hl)()}return!1}function vn(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function gn(){return(function _e(){return"http:"===Ae()||"https:"===Ae()}()||(0,G.ru)()||Ve())&&!function at(){return(0,G.b$)()||(0,G.UG)()}()&&on()&&!vn()}function $e(){return Ve()&&"undefined"!=typeof document}function Jt(){return(Jt=(0,u.Z)(function*(){return!!$e()&&new Promise(Ie=>{const pe=setTimeout(()=>{Ie(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(pe),Ie(!0)})})})).apply(this,arguments)}const Ft={LOCAL:"local",NONE:"none",SESSION:"session"},Jn=k.ax,En="persistence";function Cn(Ie){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,u.Z)(function*(Ie){yield Ie._initializationPromise;const pe=un(),he=k.az(En,Ie.config.apiKey,Ie.name);pe&&pe.setItem(he,Ie._getPersistence())})).apply(this,arguments)}function un(){var Ie;try{return(null===(Ie=function mt(){return"undefined"!=typeof window?window:null}())||void 0===Ie?void 0:Ie.sessionStorage)||null}catch(pe){return null}}const Zt=k.ax;class Rt{constructor(){this.browserResolver=k.ay(k.k),this.cordovaResolver=k.ay(class Qn{constructor(){this._redirectPersistence=k.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=k.aB,this._overrideRedirectResult=k.aC}_initialize(pe){var he=this;return(0,u.Z)(function*(){const et=pe._key();let bt=he.eventManagers.get(et);return bt||(bt=new Qe(pe),he.eventManagers.set(et,bt),he.attachCallbackListeners(pe,bt)),bt})()}_openPopup(pe){(0,k.at)(pe,"operation-not-supported-in-this-environment")}_openRedirect(pe,he,et,bt){var jt=this;return(0,u.Z)(function*(){!function ce(Ie){var pe,he,et,bt,jt,rn,Fn,Lt,hr,kr;const Mn=Me();(0,k.ax)("function"==typeof(null===(pe=null==Mn?void 0:Mn.universalLinks)||void 0===pe?void 0:pe.subscribe),Ie,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,k.ax)(void 0!==(null===(he=null==Mn?void 0:Mn.BuildInfo)||void 0===he?void 0:he.packageName),Ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,k.ax)("function"==typeof(null===(jt=null===(bt=null===(et=null==Mn?void 0:Mn.cordova)||void 0===et?void 0:et.plugins)||void 0===bt?void 0:bt.browsertab)||void 0===jt?void 0:jt.openUrl),Ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.ax)("function"==typeof(null===(Lt=null===(Fn=null===(rn=null==Mn?void 0:Mn.cordova)||void 0===rn?void 0:rn.plugins)||void 0===Fn?void 0:Fn.browsertab)||void 0===Lt?void 0:Lt.isAvailable),Ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.ax)("function"==typeof(null===(kr=null===(hr=null==Mn?void 0:Mn.cordova)||void 0===hr?void 0:hr.InAppBrowser)||void 0===kr?void 0:kr.open),Ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(pe);const rn=yield jt._initialize(pe);yield rn.initialized(),rn.resetRedirect(),(0,k.aD)(),yield jt._originValidation(pe);const Fn=function ze(Ie,pe,he=null){return{type:pe,eventId:he,urlResponse:null,sessionId:xe(),postBody:null,tenantId:Ie.tenantId,error:(0,k.aw)(Ie,"no-auth-event")}}(pe,et,bt);yield function gt(Ie,pe){return Oe()._set(Be(Ie),pe)}(pe,Fn);const Lt=yield function ee(Ie,pe,he){return de.apply(this,arguments)}(pe,Fn,he),hr=yield function H(Ie){const{cordova:pe}=Me();return new Promise(he=>{pe.plugins.browsertab.isAvailable(et=>{let bt=null;et?pe.plugins.browsertab.openUrl(Ie):bt=pe.InAppBrowser.open(Ie,(0,k.ap)()?"_blank":"_system","location=yes"),he(bt)})})}(Lt);return function oe(Ie,pe,he){return me.apply(this,arguments)}(pe,rn,hr)})()}_isIframeWebStorageSupported(pe,he){throw new Error("Method not implemented.")}_originValidation(pe){const he=pe._key();return this.originValidationPromises[he]||(this.originValidationPromises[he]=function T(Ie){return F.apply(this,arguments)}(pe)),this.originValidationPromises[he]}attachCallbackListeners(pe,he){const{universalLinks:et,handleOpenURL:bt,BuildInfo:jt}=Me(),rn=setTimeout((0,u.Z)(function*(){yield Te(pe),he.onEvent(Ut())}),500),Fn=function(){var kr=(0,u.Z)(function*(Mn){clearTimeout(rn);const _r=yield Te(pe);let si=null;_r&&(null==Mn?void 0:Mn.url)&&(si=function fe(Ie,pe){var he,et;const bt=function Ne(Ie){const pe=Wt(Ie),he=pe.link?decodeURIComponent(pe.link):void 0,et=Wt(he).link,bt=pe.deep_link_id?decodeURIComponent(pe.deep_link_id):void 0;return Wt(bt).link||bt||et||he||Ie}(pe);if(bt.includes("/__/auth/callback")){const jt=Wt(bt),rn=jt.firebaseError?function Xe(Ie){try{return JSON.parse(Ie)}catch(pe){return null}}(decodeURIComponent(jt.firebaseError)):null,Fn=null===(et=null===(he=null==rn?void 0:rn.code)||void 0===he?void 0:he.split("auth/"))||void 0===et?void 0:et[1],Lt=Fn?(0,k.aw)(Fn):null;return Lt?{type:Ie.type,eventId:Ie.eventId,tenantId:Ie.tenantId,error:Lt,urlResponse:null,sessionId:null,postBody:null}:{type:Ie.type,eventId:Ie.eventId,tenantId:Ie.tenantId,sessionId:Ie.sessionId,urlResponse:bt,postBody:null}}return null}(_r,Mn.url)),he.onEvent(si||Ut())});return function(_r){return kr.apply(this,arguments)}}();void 0!==et&&"function"==typeof et.subscribe&&et.subscribe(null,Fn);const Lt=bt,hr=`${jt.packageName.toLowerCase()}://`;Me().handleOpenURL=function(){var kr=(0,u.Z)(function*(Mn){if(Mn.toLowerCase().startsWith(hr)&&Fn({url:Mn}),"function"==typeof Lt)try{Lt(Mn)}catch(_r){console.error(_r)}});return function(Mn){return kr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=k.a,this._completeRedirectFn=k.aB,this._overrideRedirectResult=k.aC}_initialize(pe){var he=this;return(0,u.Z)(function*(){return yield he.selectUnderlyingResolver(),he.assertedUnderlyingResolver._initialize(pe)})()}_openPopup(pe,he,et,bt){var jt=this;return(0,u.Z)(function*(){return yield jt.selectUnderlyingResolver(),jt.assertedUnderlyingResolver._openPopup(pe,he,et,bt)})()}_openRedirect(pe,he,et,bt){var jt=this;return(0,u.Z)(function*(){return yield jt.selectUnderlyingResolver(),jt.assertedUnderlyingResolver._openRedirect(pe,he,et,bt)})()}_isIframeWebStorageSupported(pe,he){this.assertedUnderlyingResolver._isIframeWebStorageSupported(pe,he)}_originValidation(pe){return this.assertedUnderlyingResolver._originValidation(pe)}get _shouldInitProactively(){return $e()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Zt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var pe=this;return(0,u.Z)(function*(){if(pe.underlyingResolver)return;const he=yield function Dt(){return Jt.apply(this,arguments)}();pe.underlyingResolver=he?pe.cordovaResolver:pe.browserResolver})()}}function zn(Ie){return Ie.unwrap()}function bn(Ie){return tr(Ie)}function tr(Ie){const{_tokenResponse:pe}=Ie instanceof G.ZR?Ie.customData:Ie;if(!pe)return null;if(!(Ie instanceof G.ZR)&&"temporaryProof"in pe&&"phoneNumber"in pe)return k.P.credentialFromResult(Ie);const he=pe.providerId;if(!he||he===k.o.PASSWORD)return null;let et;switch(he){case k.o.GOOGLE:et=k.Q;break;case k.o.FACEBOOK:et=k.N;break;case k.o.GITHUB:et=k.T;break;case k.o.TWITTER:et=k.W;break;default:const{oauthIdToken:bt,oauthAccessToken:jt,oauthTokenSecret:rn,pendingToken:Fn,nonce:Lt}=pe;return jt||rn||bt||Fn?Fn?he.startsWith("saml.")?k.aL._create(he,Fn):k.J._fromParams({providerId:he,signInMethod:he,pendingToken:Fn,idToken:bt,accessToken:jt}):new k.U(he).credential({idToken:bt,accessToken:jt,rawNonce:Lt}):null}return Ie instanceof G.ZR?et.credentialFromError(Ie):et.credentialFromResult(Ie)}function Dn(Ie,pe){return pe.catch(he=>{throw he instanceof G.ZR&&function yr(Ie,pe){var he;const et=null===(he=pe.customData)||void 0===he?void 0:he._tokenResponse;if("auth/multi-factor-auth-required"===pe.code)pe.resolver=new B(Ie,k.an(Ie,pe));else if(et){const bt=tr(pe),jt=pe;bt&&(jt.credential=bt,jt.tenantId=et.tenantId||void 0,jt.email=et.email||void 0,jt.phoneNumber=et.phoneNumber||void 0)}}(Ie,he),he}).then(he=>{const bt=he.user;return{operationType:he.operationType,credential:bn(he),additionalUserInfo:k.al(he),user:J.getOrCreate(bt)}})}function ue(Ie,pe){return ve.apply(this,arguments)}function ve(){return(ve=(0,u.Z)(function*(Ie,pe){const he=yield pe;return{verificationId:he.verificationId,confirm:et=>Dn(Ie,he.confirm(et))}})).apply(this,arguments)}class B{constructor(pe,he){this.resolver=he,this.auth=function Sr(Ie){return Ie.wrapped()}(pe)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(pe){return Dn(zn(this.auth),this.resolver.resolveSignIn(pe))}}class J{constructor(pe){this._delegate=pe,this.multiFactor=k.ao(pe)}static getOrCreate(pe){return J.USER_MAP.has(pe)||J.USER_MAP.set(pe,new J(pe)),J.USER_MAP.get(pe)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(pe){return this._delegate.getIdTokenResult(pe)}getIdToken(pe){return this._delegate.getIdToken(pe)}linkAndRetrieveDataWithCredential(pe){return this.linkWithCredential(pe)}linkWithCredential(pe){var he=this;return(0,u.Z)(function*(){return Dn(he.auth,k.Z(he._delegate,pe))})()}linkWithPhoneNumber(pe,he){var et=this;return(0,u.Z)(function*(){return ue(et.auth,k.l(et._delegate,pe,he))})()}linkWithPopup(pe){var he=this;return(0,u.Z)(function*(){return Dn(he.auth,k.d(he._delegate,pe,Rt))})()}linkWithRedirect(pe){var he=this;return(0,u.Z)(function*(){return yield Cn(k.aE(he.auth)),k.g(he._delegate,pe,Rt)})()}reauthenticateAndRetrieveDataWithCredential(pe){return this.reauthenticateWithCredential(pe)}reauthenticateWithCredential(pe){var he=this;return(0,u.Z)(function*(){return Dn(he.auth,k._(he._delegate,pe))})()}reauthenticateWithPhoneNumber(pe,he){return ue(this.auth,k.r(this._delegate,pe,he))}reauthenticateWithPopup(pe){return Dn(this.auth,k.e(this._delegate,pe,Rt))}reauthenticateWithRedirect(pe){var he=this;return(0,u.Z)(function*(){return yield Cn(k.aE(he.auth)),k.h(he._delegate,pe,Rt)})()}sendEmailVerification(pe){return k.ab(this._delegate,pe)}unlink(pe){var he=this;return(0,u.Z)(function*(){return yield k.ak(he._delegate,pe),he})()}updateEmail(pe){return k.ag(this._delegate,pe)}updatePassword(pe){return k.ah(this._delegate,pe)}updatePhoneNumber(pe){return k.u(this._delegate,pe)}updateProfile(pe){return k.af(this._delegate,pe)}verifyBeforeUpdateEmail(pe,he){return k.ac(this._delegate,pe,he)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}J.USER_MAP=new WeakMap;const W=k.ax;let le=(()=>{class Ie{constructor(he,et){if(this.app=he,et.isInitialized())return this._delegate=et.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:bt}=he.options;W(bt,"invalid-api-key",{appName:he.name}),W(bt,"invalid-api-key",{appName:he.name});const jt="undefined"!=typeof window?Rt:void 0;this._delegate=et.initialize({options:{persistence:ge(bt,he.name),popupRedirectResolver:jt}}),this._delegate._updateErrorMap(k.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?J.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(he){this._delegate.languageCode=he}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(he){this._delegate.tenantId=he}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(he,et){k.G(this._delegate,he,et)}applyActionCode(he){return k.a2(this._delegate,he)}checkActionCode(he){return k.a3(this._delegate,he)}confirmPasswordReset(he,et){return k.a1(this._delegate,he,et)}createUserWithEmailAndPassword(he,et){var bt=this;return(0,u.Z)(function*(){return Dn(bt._delegate,k.a5(bt._delegate,he,et))})()}fetchProvidersForEmail(he){return this.fetchSignInMethodsForEmail(he)}fetchSignInMethodsForEmail(he){return k.aa(this._delegate,he)}isSignInWithEmailLink(he){return k.a8(this._delegate,he)}getRedirectResult(){var he=this;return(0,u.Z)(function*(){W(gn(),he._delegate,"operation-not-supported-in-this-environment");const et=yield k.j(he._delegate,Rt);return et?Dn(he._delegate,Promise.resolve(et)):{credential:null,user:null}})()}addFrameworkForLogging(he){!function Wn(Ie,pe){(0,k.aE)(Ie)._logFramework(pe)}(this._delegate,he)}onAuthStateChanged(he,et,bt){const{next:jt,error:rn,complete:Fn}=ae(he,et,bt);return this._delegate.onAuthStateChanged(jt,rn,Fn)}onIdTokenChanged(he,et,bt){const{next:jt,error:rn,complete:Fn}=ae(he,et,bt);return this._delegate.onIdTokenChanged(jt,rn,Fn)}sendSignInLinkToEmail(he,et){return k.a7(this._delegate,he,et)}sendPasswordResetEmail(he,et){return k.a0(this._delegate,he,et||void 0)}setPersistence(he){var et=this;return(0,u.Z)(function*(){let bt;switch(function xn(Ie,pe){Jn(Object.values(Ft).includes(pe),Ie,"invalid-persistence-type"),(0,G.b$)()?Jn(pe!==Ft.SESSION,Ie,"unsupported-persistence-type"):(0,G.UG)()?Jn(pe===Ft.NONE,Ie,"unsupported-persistence-type"):vn()?Jn(pe===Ft.NONE||pe===Ft.LOCAL&&(0,G.hl)(),Ie,"unsupported-persistence-type"):Jn(pe===Ft.NONE||on(),Ie,"unsupported-persistence-type")}(et._delegate,he),he){case Ft.SESSION:bt=k.a;break;case Ft.LOCAL:bt=(yield k.ay(k.i)._isAvailable())?k.i:k.b;break;case Ft.NONE:bt=k.L;break;default:return k.at("argument-error",{appName:et._delegate.name})}return et._delegate.setPersistence(bt)})()}signInAndRetrieveDataWithCredential(he){return this.signInWithCredential(he)}signInAnonymously(){return Dn(this._delegate,k.X(this._delegate))}signInWithCredential(he){return Dn(this._delegate,k.Y(this._delegate,he))}signInWithCustomToken(he){return Dn(this._delegate,k.$(this._delegate,he))}signInWithEmailAndPassword(he,et){return Dn(this._delegate,k.a6(this._delegate,he,et))}signInWithEmailLink(he,et){return Dn(this._delegate,k.a9(this._delegate,he,et))}signInWithPhoneNumber(he,et){return ue(this._delegate,k.s(this._delegate,he,et))}signInWithPopup(he){var et=this;return(0,u.Z)(function*(){return W(gn(),et._delegate,"operation-not-supported-in-this-environment"),Dn(et._delegate,k.c(et._delegate,he,Rt))})()}signInWithRedirect(he){var et=this;return(0,u.Z)(function*(){return W(gn(),et._delegate,"operation-not-supported-in-this-environment"),yield Cn(et._delegate),k.f(et._delegate,he,Rt)})()}updateCurrentUser(he){return this._delegate.updateCurrentUser(he)}verifyPasswordResetCode(he){return k.a4(this._delegate,he)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Ie.Persistence=Ft,Ie})();function ae(Ie,pe,he){let et=Ie;"function"!=typeof Ie&&({next:et,error:pe,complete:he}=Ie);const bt=et;return{next:rn=>bt(rn&&J.getOrCreate(rn)),error:pe,complete:he}}function ge(Ie,pe){const he=function sn(Ie,pe){const he=un();if(!he)return[];const et=k.az(En,Ie,pe);switch(he.getItem(et)){case Ft.NONE:return[k.L];case Ft.LOCAL:return[k.i,k.a];case Ft.SESSION:return[k.a];default:return[]}}(Ie,pe);if("undefined"!=typeof self&&!he.includes(k.i)&&he.push(k.i),"undefined"!=typeof window)for(const et of[k.b,k.a])he.includes(et)||he.push(et);return he.includes(k.L)||he.push(k.L),he}class Pe{constructor(){this.providerId="phone",this._delegate=new k.P(zn(O.Z.auth()))}static credential(pe,he){return k.P.credential(pe,he)}verifyPhoneNumber(pe,he){return this._delegate.verifyPhoneNumber(pe,he)}unwrap(){return this._delegate}}Pe.PHONE_SIGN_IN_METHOD=k.P.PHONE_SIGN_IN_METHOD,Pe.PROVIDER_ID=k.P.PROVIDER_ID;const it=k.ax;class ht{constructor(pe,he,et=O.Z.app()){var bt;it(null===(bt=et.options)||void 0===bt?void 0:bt.apiKey,"invalid-api-key",{appName:et.name}),this._delegate=new k.R(pe,he,et.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function qt(Ie){Ie.INTERNAL.registerComponent(new Ee.wA("auth-compat",pe=>{const he=pe.getProvider("app-compat").getImmediate(),et=pe.getProvider("auth");return new le(he,et)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:k.A.EMAIL_SIGNIN,PASSWORD_RESET:k.A.PASSWORD_RESET,RECOVER_EMAIL:k.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:k.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:k.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:k.A.VERIFY_EMAIL}},EmailAuthProvider:k.M,FacebookAuthProvider:k.N,GithubAuthProvider:k.T,GoogleAuthProvider:k.Q,OAuthProvider:k.U,SAMLAuthProvider:k.V,PhoneAuthProvider:Pe,PhoneMultiFactorGenerator:k.m,RecaptchaVerifier:ht,TwitterAuthProvider:k.W,Auth:le,AuthCredential:k.H,Error:G.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Ie.registerVersion("@firebase/auth-compat","0.2.14")}(O.Z)},6461:(kt,qe)=>{var u;!function(){"use strict";var O=function(){this.init()};O.prototype={init:function(){var T=this||k;return T._counter=1e3,T._html5AudioPool=[],T.html5PoolSize=10,T._codecs={},T._howls=[],T._muted=!1,T._volume=1,T._canPlayEvent="canplaythrough",T._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,T.masterGain=null,T.noAudio=!1,T.usingWebAudio=!0,T.autoSuspend=!0,T.ctx=null,T.autoUnlock=!0,T._setup(),T},volume:function(T){var F=this||k;if(T=parseFloat(T),F.ctx||de(),void 0!==T&&T>=0&&T<=1){if(F._volume=T,F._muted)return F;F.usingWebAudio&&F.masterGain.gain.setValueAtTime(T,k.ctx.currentTime);for(var H=0;H<F._howls.length;H++)if(!F._howls[H]._webAudio)for(var oe=F._howls[H]._getSoundIds(),me=0;me<oe.length;me++){var ce=F._howls[H]._soundById(oe[me]);ce&&ce._node&&(ce._node.volume=ce._volume*T)}return F}return F._volume},mute:function(T){var F=this||k;F.ctx||de(),F._muted=T,F.usingWebAudio&&F.masterGain.gain.setValueAtTime(T?0:F._volume,k.ctx.currentTime);for(var H=0;H<F._howls.length;H++)if(!F._howls[H]._webAudio)for(var oe=F._howls[H]._getSoundIds(),me=0;me<oe.length;me++){var ce=F._howls[H]._soundById(oe[me]);ce&&ce._node&&(ce._node.muted=!!T||ce._muted)}return F},stop:function(){for(var T=this||k,F=0;F<T._howls.length;F++)T._howls[F].stop();return T},unload:function(){for(var T=this||k,F=T._howls.length-1;F>=0;F--)T._howls[F].unload();return T.usingWebAudio&&T.ctx&&void 0!==T.ctx.close&&(T.ctx.close(),T.ctx=null,de()),T},codecs:function(T){return(this||k)._codecs[T.replace(/^x-/,"")]},_setup:function(){var T=this||k;if(T.state=T.ctx&&T.ctx.state||"suspended",T._autoSuspend(),!T.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(T._canPlayEvent="canplay")}catch(H){T.noAudio=!0}else T.noAudio=!0;try{(new Audio).muted&&(T.noAudio=!0)}catch(H){}return T.noAudio||T._setupCodecs(),T},_setupCodecs:function(){var T=this||k,F=null;try{F="undefined"!=typeof Audio?new Audio:null}catch(We){return T}if(!F||"function"!=typeof F.canPlayType)return T;var H=F.canPlayType("audio/mpeg;").replace(/^no$/,""),oe=T._navigator?T._navigator.userAgent:"",me=oe.match(/OPR\/([0-6].)/g),ce=me&&parseInt(me[0].split("/")[1],10)<33,se=-1!==oe.indexOf("Safari")&&-1===oe.indexOf("Chrome"),je=oe.match(/Version\/(.*?) /),Ye=se&&je&&parseInt(je[1],10)<15;return T._codecs={mp3:!(ce||!H&&!F.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!H,opus:!!F.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!F.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!F.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(F.canPlayType('audio/wav; codecs="1"')||F.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!F.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!F.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(F.canPlayType("audio/x-m4a;")||F.canPlayType("audio/m4a;")||F.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(F.canPlayType("audio/x-m4b;")||F.canPlayType("audio/m4b;")||F.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(F.canPlayType("audio/x-mp4;")||F.canPlayType("audio/mp4;")||F.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(Ye||!F.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(Ye||!F.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!F.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(F.canPlayType("audio/x-flac;")||F.canPlayType("audio/flac;")).replace(/^no$/,"")},T},_unlockAudio:function(){var T=this||k;if(!T._audioUnlocked&&T.ctx){T._audioUnlocked=!1,T.autoUnlock=!1,!T._mobileUnloaded&&44100!==T.ctx.sampleRate&&(T._mobileUnloaded=!0,T.unload()),T._scratchBuffer=T.ctx.createBuffer(1,1,22050);var F=function(H){for(;T._html5AudioPool.length<T.html5PoolSize;)try{var oe=new Audio;oe._unlocked=!0,T._releaseHtml5Audio(oe)}catch(We){T.noAudio=!0;break}for(var me=0;me<T._howls.length;me++)if(!T._howls[me]._webAudio)for(var ce=T._howls[me]._getSoundIds(),se=0;se<ce.length;se++){var je=T._howls[me]._soundById(ce[se]);je&&je._node&&!je._node._unlocked&&(je._node._unlocked=!0,je._node.load())}T._autoResume();var Ye=T.ctx.createBufferSource();Ye.buffer=T._scratchBuffer,Ye.connect(T.ctx.destination),void 0===Ye.start?Ye.noteOn(0):Ye.start(0),"function"==typeof T.ctx.resume&&T.ctx.resume(),Ye.onended=function(){Ye.disconnect(0),T._audioUnlocked=!0,document.removeEventListener("touchstart",F,!0),document.removeEventListener("touchend",F,!0),document.removeEventListener("click",F,!0),document.removeEventListener("keydown",F,!0);for(var We=0;We<T._howls.length;We++)T._howls[We]._emit("unlock")}};return document.addEventListener("touchstart",F,!0),document.addEventListener("touchend",F,!0),document.addEventListener("click",F,!0),document.addEventListener("keydown",F,!0),T}},_obtainHtml5Audio:function(){var T=this||k;if(T._html5AudioPool.length)return T._html5AudioPool.pop();var F=(new Audio).play();return F&&"undefined"!=typeof Promise&&(F instanceof Promise||"function"==typeof F.then)&&F.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(T){var F=this||k;return T._unlocked&&F._html5AudioPool.push(T),F},_autoSuspend:function(){var T=this;if(T.autoSuspend&&T.ctx&&void 0!==T.ctx.suspend&&k.usingWebAudio){for(var F=0;F<T._howls.length;F++)if(T._howls[F]._webAudio)for(var H=0;H<T._howls[F]._sounds.length;H++)if(!T._howls[F]._sounds[H]._paused)return T;return T._suspendTimer&&clearTimeout(T._suspendTimer),T._suspendTimer=setTimeout(function(){if(T.autoSuspend){T._suspendTimer=null,T.state="suspending";var oe=function(){T.state="suspended",T._resumeAfterSuspend&&(delete T._resumeAfterSuspend,T._autoResume())};T.ctx.suspend().then(oe,oe)}},3e4),T}},_autoResume:function(){var T=this;if(T.ctx&&void 0!==T.ctx.resume&&k.usingWebAudio)return"running"===T.state&&"interrupted"!==T.ctx.state&&T._suspendTimer?(clearTimeout(T._suspendTimer),T._suspendTimer=null):"suspended"===T.state||"running"===T.state&&"interrupted"===T.ctx.state?(T.ctx.resume().then(function(){T.state="running";for(var F=0;F<T._howls.length;F++)T._howls[F]._emit("resume")}),T._suspendTimer&&(clearTimeout(T._suspendTimer),T._suspendTimer=null)):"suspending"===T.state&&(T._resumeAfterSuspend=!0),T}};var k=new O,G=function(T){T.src&&0!==T.src.length?this.init(T):console.error("An array of source files must be passed with any new Howl.")};G.prototype={init:function(T){var F=this;return k.ctx||de(),F._autoplay=T.autoplay||!1,F._format="string"!=typeof T.format?T.format:[T.format],F._html5=T.html5||!1,F._muted=T.mute||!1,F._loop=T.loop||!1,F._pool=T.pool||5,F._preload="boolean"!=typeof T.preload&&"metadata"!==T.preload||T.preload,F._rate=T.rate||1,F._sprite=T.sprite||{},F._src="string"!=typeof T.src?T.src:[T.src],F._volume=void 0!==T.volume?T.volume:1,F._xhr={method:T.xhr&&T.xhr.method?T.xhr.method:"GET",headers:T.xhr&&T.xhr.headers?T.xhr.headers:null,withCredentials:!(!T.xhr||!T.xhr.withCredentials)&&T.xhr.withCredentials},F._duration=0,F._state="unloaded",F._sounds=[],F._endTimers={},F._queue=[],F._playLock=!1,F._onend=T.onend?[{fn:T.onend}]:[],F._onfade=T.onfade?[{fn:T.onfade}]:[],F._onload=T.onload?[{fn:T.onload}]:[],F._onloaderror=T.onloaderror?[{fn:T.onloaderror}]:[],F._onplayerror=T.onplayerror?[{fn:T.onplayerror}]:[],F._onpause=T.onpause?[{fn:T.onpause}]:[],F._onplay=T.onplay?[{fn:T.onplay}]:[],F._onstop=T.onstop?[{fn:T.onstop}]:[],F._onmute=T.onmute?[{fn:T.onmute}]:[],F._onvolume=T.onvolume?[{fn:T.onvolume}]:[],F._onrate=T.onrate?[{fn:T.onrate}]:[],F._onseek=T.onseek?[{fn:T.onseek}]:[],F._onunlock=T.onunlock?[{fn:T.onunlock}]:[],F._onresume=[],F._webAudio=k.usingWebAudio&&!F._html5,void 0!==k.ctx&&k.ctx&&k.autoUnlock&&k._unlockAudio(),k._howls.push(F),F._autoplay&&F._queue.push({event:"play",action:function(){F.play()}}),F._preload&&"none"!==F._preload&&F.load(),F},load:function(){var T=this,F=null;if(k.noAudio)T._emit("loaderror",null,"No audio support.");else{"string"==typeof T._src&&(T._src=[T._src]);for(var H=0;H<T._src.length;H++){var oe,me;if(T._format&&T._format[H])oe=T._format[H];else{if("string"!=typeof(me=T._src[H])){T._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(oe=/^data:audio\/([^;,]+);/i.exec(me))||(oe=/\.([^.]+)$/.exec(me.split("?",1)[0])),oe&&(oe=oe[1].toLowerCase())}if(oe||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),oe&&k.codecs(oe)){F=T._src[H];break}}if(F)return T._src=F,T._state="loading","https:"===window.location.protocol&&"http:"===F.slice(0,5)&&(T._html5=!0,T._webAudio=!1),new ne(T),T._webAudio&&Ee(T),T;T._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(T,F){var H=this,oe=null;if("number"==typeof T)oe=T,T=null;else{if("string"==typeof T&&"loaded"===H._state&&!H._sprite[T])return null;if(void 0===T&&(T="__default",!H._playLock)){for(var me=0,ce=0;ce<H._sounds.length;ce++)H._sounds[ce]._paused&&!H._sounds[ce]._ended&&(me++,oe=H._sounds[ce]._id);1===me?T=null:oe=null}}var se=oe?H._soundById(oe):H._inactiveSound();if(!se)return null;if(oe&&!T&&(T=se._sprite||"__default"),"loaded"!==H._state){se._sprite=T,se._ended=!1;var je=se._id;return H._queue.push({event:"play",action:function(){H.play(je)}}),je}if(oe&&!se._paused)return F||H._loadQueue("play"),se._id;H._webAudio&&k._autoResume();var Ye=Math.max(0,se._seek>0?se._seek:H._sprite[T][0]/1e3),We=Math.max(0,(H._sprite[T][0]+H._sprite[T][1])/1e3-Ye),Qe=1e3*We/Math.abs(se._rate),ze=H._sprite[T][0]/1e3,gt=(H._sprite[T][0]+H._sprite[T][1])/1e3;se._sprite=T,se._ended=!1;var Te=function(){se._paused=!1,se._seek=Ye,se._start=ze,se._stop=gt,se._loop=!(!se._loop&&!H._sprite[T][2])};if(!(Ye>=gt)){var Re=se._node;if(H._webAudio){var fe=function(){H._playLock=!1,Te(),H._refreshBuffer(se),Re.gain.setValueAtTime(se._muted||H._muted?0:se._volume,k.ctx.currentTime),se._playStart=k.ctx.currentTime,void 0===Re.bufferSource.start?Re.bufferSource.noteGrainOn(0,Ye,se._loop?86400:We):Re.bufferSource.start(0,Ye,se._loop?86400:We),Qe!==1/0&&(H._endTimers[se._id]=setTimeout(H._ended.bind(H,se),Qe)),F||setTimeout(function(){H._emit("play",se._id),H._loadQueue()},0)};"running"===k.state&&"interrupted"!==k.ctx.state?fe():(H._playLock=!0,H.once("resume",fe),H._clearTimer(se._id))}else{var xe=function(){Re.currentTime=Ye,Re.muted=se._muted||H._muted||k._muted||Re.muted,Re.volume=se._volume*k.volume(),Re.playbackRate=se._rate;try{var Xe=Re.play();if(Xe&&"undefined"!=typeof Promise&&(Xe instanceof Promise||"function"==typeof Xe.then)?(H._playLock=!0,Te(),Xe.then(function(){H._playLock=!1,Re._unlocked=!0,F?H._loadQueue():H._emit("play",se._id)}).catch(function(){H._playLock=!1,H._emit("playerror",se._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),se._ended=!0,se._paused=!0})):F||(H._playLock=!1,Te(),H._emit("play",se._id)),Re.playbackRate=se._rate,Re.paused)return void H._emit("playerror",se._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==T||se._loop?H._endTimers[se._id]=setTimeout(H._ended.bind(H,se),Qe):(H._endTimers[se._id]=function(){H._ended(se),Re.removeEventListener("ended",H._endTimers[se._id],!1)},Re.addEventListener("ended",H._endTimers[se._id],!1))}catch(Ne){H._emit("playerror",se._id,Ne)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===Re.src&&(Re.src=H._src,Re.load());var Oe=window&&window.ejecta||!Re.readyState&&k._navigator.isCocoonJS;if(Re.readyState>=3||Oe)xe();else{H._playLock=!0,H._state="loading";var Be=function(){H._state="loaded",xe(),Re.removeEventListener(k._canPlayEvent,Be,!1)};Re.addEventListener(k._canPlayEvent,Be,!1),H._clearTimer(se._id)}}return se._id}H._ended(se)},pause:function(T){var F=this;if("loaded"!==F._state||F._playLock)return F._queue.push({event:"pause",action:function(){F.pause(T)}}),F;for(var H=F._getSoundIds(T),oe=0;oe<H.length;oe++){F._clearTimer(H[oe]);var me=F._soundById(H[oe]);if(me&&!me._paused&&(me._seek=F.seek(H[oe]),me._rateSeek=0,me._paused=!0,F._stopFade(H[oe]),me._node))if(F._webAudio){if(!me._node.bufferSource)continue;void 0===me._node.bufferSource.stop?me._node.bufferSource.noteOff(0):me._node.bufferSource.stop(0),F._cleanBuffer(me._node)}else(!isNaN(me._node.duration)||me._node.duration===1/0)&&me._node.pause();arguments[1]||F._emit("pause",me?me._id:null)}return F},stop:function(T,F){var H=this;if("loaded"!==H._state||H._playLock)return H._queue.push({event:"stop",action:function(){H.stop(T)}}),H;for(var oe=H._getSoundIds(T),me=0;me<oe.length;me++){H._clearTimer(oe[me]);var ce=H._soundById(oe[me]);ce&&(ce._seek=ce._start||0,ce._rateSeek=0,ce._paused=!0,ce._ended=!0,H._stopFade(oe[me]),ce._node&&(H._webAudio?ce._node.bufferSource&&(void 0===ce._node.bufferSource.stop?ce._node.bufferSource.noteOff(0):ce._node.bufferSource.stop(0),H._cleanBuffer(ce._node)):(!isNaN(ce._node.duration)||ce._node.duration===1/0)&&(ce._node.currentTime=ce._start||0,ce._node.pause(),ce._node.duration===1/0&&H._clearSound(ce._node))),F||H._emit("stop",ce._id))}return H},mute:function(T,F){var H=this;if("loaded"!==H._state||H._playLock)return H._queue.push({event:"mute",action:function(){H.mute(T,F)}}),H;if(void 0===F){if("boolean"!=typeof T)return H._muted;H._muted=T}for(var oe=H._getSoundIds(F),me=0;me<oe.length;me++){var ce=H._soundById(oe[me]);ce&&(ce._muted=T,ce._interval&&H._stopFade(ce._id),H._webAudio&&ce._node?ce._node.gain.setValueAtTime(T?0:ce._volume,k.ctx.currentTime):ce._node&&(ce._node.muted=!!k._muted||T),H._emit("mute",ce._id))}return H},volume:function(){var H,oe,se,T=this,F=arguments;if(0===F.length)return T._volume;if(1===F.length||2===F.length&&void 0===F[1]){var me=T._getSoundIds(),ce=me.indexOf(F[0]);ce>=0?oe=parseInt(F[0],10):H=parseFloat(F[0])}else F.length>=2&&(H=parseFloat(F[0]),oe=parseInt(F[1],10));if(!(void 0!==H&&H>=0&&H<=1))return(se=oe?T._soundById(oe):T._sounds[0])?se._volume:0;if("loaded"!==T._state||T._playLock)return T._queue.push({event:"volume",action:function(){T.volume.apply(T,F)}}),T;void 0===oe&&(T._volume=H),oe=T._getSoundIds(oe);for(var je=0;je<oe.length;je++)(se=T._soundById(oe[je]))&&(se._volume=H,F[2]||T._stopFade(oe[je]),T._webAudio&&se._node&&!se._muted?se._node.gain.setValueAtTime(H,k.ctx.currentTime):se._node&&!se._muted&&(se._node.volume=H*k.volume()),T._emit("volume",se._id));return T},fade:function(T,F,H,oe){var me=this;if("loaded"!==me._state||me._playLock)return me._queue.push({event:"fade",action:function(){me.fade(T,F,H,oe)}}),me;T=Math.min(Math.max(0,parseFloat(T)),1),F=Math.min(Math.max(0,parseFloat(F)),1),H=parseFloat(H),me.volume(T,oe);for(var ce=me._getSoundIds(oe),se=0;se<ce.length;se++){var je=me._soundById(ce[se]);if(je){if(oe||me._stopFade(ce[se]),me._webAudio&&!je._muted){var Ye=k.ctx.currentTime,We=Ye+H/1e3;je._volume=T,je._node.gain.setValueAtTime(T,Ye),je._node.gain.linearRampToValueAtTime(F,We)}me._startFadeInterval(je,T,F,H,ce[se],void 0===oe)}}return me},_startFadeInterval:function(T,F,H,oe,me,ce){var se=this,je=F,Ye=H-F,We=Math.abs(Ye/.01),Qe=Math.max(4,We>0?oe/We:oe),ze=Date.now();T._fadeTo=H,T._interval=setInterval(function(){var gt=(Date.now()-ze)/oe;ze=Date.now(),je+=Ye*gt,je=Math.round(100*je)/100,je=Ye<0?Math.max(H,je):Math.min(H,je),se._webAudio?T._volume=je:se.volume(je,T._id,!0),ce&&(se._volume=je),(H<F&&je<=H||H>F&&je>=H)&&(clearInterval(T._interval),T._interval=null,T._fadeTo=null,se.volume(H,T._id),se._emit("fade",T._id))},Qe)},_stopFade:function(T){var F=this,H=F._soundById(T);return H&&H._interval&&(F._webAudio&&H._node.gain.cancelScheduledValues(k.ctx.currentTime),clearInterval(H._interval),H._interval=null,F.volume(H._fadeTo,T),H._fadeTo=null,F._emit("fade",T)),F},loop:function(){var H,oe,me,T=this,F=arguments;if(0===F.length)return T._loop;if(1===F.length){if("boolean"!=typeof F[0])return!!(me=T._soundById(parseInt(F[0],10)))&&me._loop;T._loop=H=F[0]}else 2===F.length&&(H=F[0],oe=parseInt(F[1],10));for(var ce=T._getSoundIds(oe),se=0;se<ce.length;se++)(me=T._soundById(ce[se]))&&(me._loop=H,T._webAudio&&me._node&&me._node.bufferSource&&(me._node.bufferSource.loop=H,H&&(me._node.bufferSource.loopStart=me._start||0,me._node.bufferSource.loopEnd=me._stop,T.playing(ce[se])&&(T.pause(ce[se],!0),T.play(ce[se],!0)))));return T},rate:function(){var H,oe,se,T=this,F=arguments;if(0===F.length)oe=T._sounds[0]._id;else if(1===F.length){var me=T._getSoundIds(),ce=me.indexOf(F[0]);ce>=0?oe=parseInt(F[0],10):H=parseFloat(F[0])}else 2===F.length&&(H=parseFloat(F[0]),oe=parseInt(F[1],10));if("number"!=typeof H)return(se=T._soundById(oe))?se._rate:T._rate;if("loaded"!==T._state||T._playLock)return T._queue.push({event:"rate",action:function(){T.rate.apply(T,F)}}),T;void 0===oe&&(T._rate=H),oe=T._getSoundIds(oe);for(var je=0;je<oe.length;je++)if(se=T._soundById(oe[je])){T.playing(oe[je])&&(se._rateSeek=T.seek(oe[je]),se._playStart=T._webAudio?k.ctx.currentTime:se._playStart),se._rate=H,T._webAudio&&se._node&&se._node.bufferSource?se._node.bufferSource.playbackRate.setValueAtTime(H,k.ctx.currentTime):se._node&&(se._node.playbackRate=H);var Ye=T.seek(oe[je]),We=(T._sprite[se._sprite][0]+T._sprite[se._sprite][1])/1e3-Ye,Qe=1e3*We/Math.abs(se._rate);(T._endTimers[oe[je]]||!se._paused)&&(T._clearTimer(oe[je]),T._endTimers[oe[je]]=setTimeout(T._ended.bind(T,se),Qe)),T._emit("rate",se._id)}return T},seek:function(){var H,oe,T=this,F=arguments;if(0===F.length)T._sounds.length&&(oe=T._sounds[0]._id);else if(1===F.length){var me=T._getSoundIds(),ce=me.indexOf(F[0]);ce>=0?oe=parseInt(F[0],10):T._sounds.length&&(oe=T._sounds[0]._id,H=parseFloat(F[0]))}else 2===F.length&&(H=parseFloat(F[0]),oe=parseInt(F[1],10));if(void 0===oe)return 0;if("number"==typeof H&&("loaded"!==T._state||T._playLock))return T._queue.push({event:"seek",action:function(){T.seek.apply(T,F)}}),T;var se=T._soundById(oe);if(se){if(!("number"==typeof H&&H>=0)){if(T._webAudio){var Qe=T.playing(oe)?k.ctx.currentTime-se._playStart:0,ze=se._rateSeek?se._rateSeek-se._seek:0;return se._seek+(ze+Qe*Math.abs(se._rate))}return se._node.currentTime}var je=T.playing(oe);je&&T.pause(oe,!0),se._seek=H,se._ended=!1,T._clearTimer(oe),!T._webAudio&&se._node&&!isNaN(se._node.duration)&&(se._node.currentTime=H);var Ye=function(){je&&T.play(oe,!0),T._emit("seek",oe)};if(je&&!T._webAudio){var We=function(){T._playLock?setTimeout(We,0):Ye()};setTimeout(We,0)}else Ye()}return T},playing:function(T){var F=this;if("number"==typeof T){var H=F._soundById(T);return!!H&&!H._paused}for(var oe=0;oe<F._sounds.length;oe++)if(!F._sounds[oe]._paused)return!0;return!1},duration:function(T){var F=this,H=F._duration,oe=F._soundById(T);return oe&&(H=F._sprite[oe._sprite][1]/1e3),H},state:function(){return this._state},unload:function(){for(var T=this,F=T._sounds,H=0;H<F.length;H++)F[H]._paused||T.stop(F[H]._id),T._webAudio||(T._clearSound(F[H]._node),F[H]._node.removeEventListener("error",F[H]._errorFn,!1),F[H]._node.removeEventListener(k._canPlayEvent,F[H]._loadFn,!1),F[H]._node.removeEventListener("ended",F[H]._endFn,!1),k._releaseHtml5Audio(F[H]._node)),delete F[H]._node,T._clearTimer(F[H]._id);var oe=k._howls.indexOf(T);oe>=0&&k._howls.splice(oe,1);var me=!0;for(H=0;H<k._howls.length;H++)if(k._howls[H]._src===T._src||T._src.indexOf(k._howls[H]._src)>=0){me=!1;break}return Ce&&me&&delete Ce[T._src],k.noAudio=!1,T._state="unloaded",T._sounds=[],T=null,null},on:function(T,F,H,oe){return"function"==typeof F&&this["_on"+T].push(oe?{id:H,fn:F,once:oe}:{id:H,fn:F}),this},off:function(T,F,H){var oe=this,me=oe["_on"+T],ce=0;if("number"==typeof F&&(H=F,F=null),F||H)for(ce=0;ce<me.length;ce++){var se=H===me[ce].id;if(F===me[ce].fn&&se||!F&&se){me.splice(ce,1);break}}else if(T)oe["_on"+T]=[];else{var je=Object.keys(oe);for(ce=0;ce<je.length;ce++)0===je[ce].indexOf("_on")&&Array.isArray(oe[je[ce]])&&(oe[je[ce]]=[])}return oe},once:function(T,F,H){return this.on(T,F,H,1),this},_emit:function(T,F,H){for(var oe=this,me=oe["_on"+T],ce=me.length-1;ce>=0;ce--)(!me[ce].id||me[ce].id===F||"load"===T)&&(setTimeout(function(se){se.call(this,F,H)}.bind(oe,me[ce].fn),0),me[ce].once&&oe.off(T,me[ce].fn,me[ce].id));return oe._loadQueue(T),oe},_loadQueue:function(T){var F=this;if(F._queue.length>0){var H=F._queue[0];H.event===T&&(F._queue.shift(),F._loadQueue()),T||H.action()}return F},_ended:function(T){var F=this,H=T._sprite;if(!F._webAudio&&T._node&&!T._node.paused&&!T._node.ended&&T._node.currentTime<T._stop)return setTimeout(F._ended.bind(F,T),100),F;var oe=!(!T._loop&&!F._sprite[H][2]);if(F._emit("end",T._id),!F._webAudio&&oe&&F.stop(T._id,!0).play(T._id),F._webAudio&&oe){F._emit("play",T._id),T._seek=T._start||0,T._rateSeek=0,T._playStart=k.ctx.currentTime;var me=1e3*(T._stop-T._start)/Math.abs(T._rate);F._endTimers[T._id]=setTimeout(F._ended.bind(F,T),me)}return F._webAudio&&!oe&&(T._paused=!0,T._ended=!0,T._seek=T._start||0,T._rateSeek=0,F._clearTimer(T._id),F._cleanBuffer(T._node),k._autoSuspend()),!F._webAudio&&!oe&&F.stop(T._id,!0),F},_clearTimer:function(T){var F=this;if(F._endTimers[T]){if("function"!=typeof F._endTimers[T])clearTimeout(F._endTimers[T]);else{var H=F._soundById(T);H&&H._node&&H._node.removeEventListener("ended",F._endTimers[T],!1)}delete F._endTimers[T]}return F},_soundById:function(T){for(var F=this,H=0;H<F._sounds.length;H++)if(T===F._sounds[H]._id)return F._sounds[H];return null},_inactiveSound:function(){var T=this;T._drain();for(var F=0;F<T._sounds.length;F++)if(T._sounds[F]._ended)return T._sounds[F].reset();return new ne(T)},_drain:function(){var T=this,F=T._pool,H=0,oe=0;if(!(T._sounds.length<F)){for(oe=0;oe<T._sounds.length;oe++)T._sounds[oe]._ended&&H++;for(oe=T._sounds.length-1;oe>=0;oe--){if(H<=F)return;T._sounds[oe]._ended&&(T._webAudio&&T._sounds[oe]._node&&T._sounds[oe]._node.disconnect(0),T._sounds.splice(oe,1),H--)}}},_getSoundIds:function(T){if(void 0===T){for(var H=[],oe=0;oe<this._sounds.length;oe++)H.push(this._sounds[oe]._id);return H}return[T]},_refreshBuffer:function(T){return T._node.bufferSource=k.ctx.createBufferSource(),T._node.bufferSource.buffer=Ce[this._src],T._node.bufferSource.connect(T._panner?T._panner:T._node),T._node.bufferSource.loop=T._loop,T._loop&&(T._node.bufferSource.loopStart=T._start||0,T._node.bufferSource.loopEnd=T._stop||0),T._node.bufferSource.playbackRate.setValueAtTime(T._rate,k.ctx.currentTime),this},_cleanBuffer:function(T){var H=k._navigator&&k._navigator.vendor.indexOf("Apple")>=0;if(k._scratchBuffer&&T.bufferSource&&(T.bufferSource.onended=null,T.bufferSource.disconnect(0),H))try{T.bufferSource.buffer=k._scratchBuffer}catch(oe){}return T.bufferSource=null,this},_clearSound:function(T){/MSIE |Trident\//.test(k._navigator&&k._navigator.userAgent)||(T.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var ne=function(T){this._parent=T,this.init()};ne.prototype={init:function(){var T=this,F=T._parent;return T._muted=F._muted,T._loop=F._loop,T._volume=F._volume,T._rate=F._rate,T._seek=0,T._paused=!0,T._ended=!0,T._sprite="__default",T._id=++k._counter,F._sounds.push(T),T.create(),T},create:function(){var T=this,F=T._parent,H=k._muted||T._muted||T._parent._muted?0:T._volume;return F._webAudio?(T._node=void 0===k.ctx.createGain?k.ctx.createGainNode():k.ctx.createGain(),T._node.gain.setValueAtTime(H,k.ctx.currentTime),T._node.paused=!0,T._node.connect(k.masterGain)):k.noAudio||(T._node=k._obtainHtml5Audio(),T._errorFn=T._errorListener.bind(T),T._node.addEventListener("error",T._errorFn,!1),T._loadFn=T._loadListener.bind(T),T._node.addEventListener(k._canPlayEvent,T._loadFn,!1),T._endFn=T._endListener.bind(T),T._node.addEventListener("ended",T._endFn,!1),T._node.src=F._src,T._node.preload=!0===F._preload?"auto":F._preload,T._node.volume=H*k.volume(),T._node.load()),T},reset:function(){var T=this,F=T._parent;return T._muted=F._muted,T._loop=F._loop,T._volume=F._volume,T._rate=F._rate,T._seek=0,T._rateSeek=0,T._paused=!0,T._ended=!0,T._sprite="__default",T._id=++k._counter,T},_errorListener:function(){var T=this;T._parent._emit("loaderror",T._id,T._node.error?T._node.error.code:0),T._node.removeEventListener("error",T._errorFn,!1)},_loadListener:function(){var T=this,F=T._parent;F._duration=Math.ceil(10*T._node.duration)/10,0===Object.keys(F._sprite).length&&(F._sprite={__default:[0,1e3*F._duration]}),"loaded"!==F._state&&(F._state="loaded",F._emit("load"),F._loadQueue()),T._node.removeEventListener(k._canPlayEvent,T._loadFn,!1)},_endListener:function(){var T=this,F=T._parent;F._duration===1/0&&(F._duration=Math.ceil(10*T._node.duration)/10,F._sprite.__default[1]===1/0&&(F._sprite.__default[1]=1e3*F._duration),F._ended(T)),T._node.removeEventListener("ended",T._endFn,!1)}};var Ce={},Ee=function(T){var F=T._src;if(Ce[F])return T._duration=Ce[F].duration,void ee(T);if(/^data:[^;]+;base64,/.test(F)){for(var H=atob(F.split(",")[1]),oe=new Uint8Array(H.length),me=0;me<H.length;++me)oe[me]=H.charCodeAt(me);De(oe.buffer,T)}else{var ce=new XMLHttpRequest;ce.open(T._xhr.method,F,!0),ce.withCredentials=T._xhr.withCredentials,ce.responseType="arraybuffer",T._xhr.headers&&Object.keys(T._xhr.headers).forEach(function(se){ce.setRequestHeader(se,T._xhr.headers[se])}),ce.onload=function(){var se=(ce.status+"")[0];"0"===se||"2"===se||"3"===se?De(ce.response,T):T._emit("loaderror",null,"Failed loading audio file with status: "+ce.status+".")},ce.onerror=function(){T._webAudio&&(T._html5=!0,T._webAudio=!1,T._sounds=[],delete Ce[F],T.load())},Me(ce)}},Me=function(T){try{T.send()}catch(F){T.onerror()}},De=function(T,F){var H=function(){F._emit("loaderror",null,"Decoding audio data failed.")},oe=function(me){me&&F._sounds.length>0?(Ce[F._src]=me,ee(F,me)):H()};"undefined"!=typeof Promise&&1===k.ctx.decodeAudioData.length?k.ctx.decodeAudioData(T).then(oe).catch(H):k.ctx.decodeAudioData(T,oe,H)},ee=function(T,F){F&&!T._duration&&(T._duration=F.duration),0===Object.keys(T._sprite).length&&(T._sprite={__default:[0,1e3*T._duration]}),"loaded"!==T._state&&(T._state="loaded",T._emit("load"),T._loadQueue())},de=function(){if(k.usingWebAudio){try{"undefined"!=typeof AudioContext?k.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?k.ctx=new webkitAudioContext:k.usingWebAudio=!1}catch(me){k.usingWebAudio=!1}k.ctx||(k.usingWebAudio=!1);var T=/iP(hone|od|ad)/.test(k._navigator&&k._navigator.platform),F=k._navigator&&k._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),H=F?parseInt(F[1],10):null;if(T&&H&&H<9){var oe=/safari/.test(k._navigator&&k._navigator.userAgent.toLowerCase());k._navigator&&!oe&&(k.usingWebAudio=!1)}k.usingWebAudio&&(k.masterGain=void 0===k.ctx.createGain?k.ctx.createGainNode():k.ctx.createGain(),k.masterGain.gain.setValueAtTime(k._muted?0:k._volume,k.ctx.currentTime),k.masterGain.connect(k.ctx.destination)),k._setup()}};void 0!==(u=function(){return{Howler:k,Howl:G}}.apply(qe,[]))&&(kt.exports=u),qe.Howler=k,qe.Howl=G,"undefined"!=typeof global?(global.HowlerGlobal=O,global.Howler=k,global.Howl=G,global.Sound=ne):"undefined"!=typeof window&&(window.HowlerGlobal=O,window.Howler=k,window.Howl=G,window.Sound=ne)}(),function(){"use strict";var k;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(k){var G=this;if(!G.ctx||!G.ctx.listener)return G;for(var ne=G._howls.length-1;ne>=0;ne--)G._howls[ne].stereo(k);return G},HowlerGlobal.prototype.pos=function(k,G,ne){var Ce=this;return Ce.ctx&&Ce.ctx.listener?"number"!=typeof k?Ce._pos:(Ce._pos=[k,G="number"!=typeof G?Ce._pos[1]:G,ne="number"!=typeof ne?Ce._pos[2]:ne],void 0!==Ce.ctx.listener.positionX?(Ce.ctx.listener.positionX.setTargetAtTime(Ce._pos[0],Howler.ctx.currentTime,.1),Ce.ctx.listener.positionY.setTargetAtTime(Ce._pos[1],Howler.ctx.currentTime,.1),Ce.ctx.listener.positionZ.setTargetAtTime(Ce._pos[2],Howler.ctx.currentTime,.1)):Ce.ctx.listener.setPosition(Ce._pos[0],Ce._pos[1],Ce._pos[2]),Ce):Ce},HowlerGlobal.prototype.orientation=function(k,G,ne,Ce,Ee,Me){var De=this;if(!De.ctx||!De.ctx.listener)return De;var ee=De._orientation;return"number"!=typeof k?ee:(De._orientation=[k,G="number"!=typeof G?ee[1]:G,ne="number"!=typeof ne?ee[2]:ne,Ce="number"!=typeof Ce?ee[3]:Ce,Ee="number"!=typeof Ee?ee[4]:Ee,Me="number"!=typeof Me?ee[5]:Me],void 0!==De.ctx.listener.forwardX?(De.ctx.listener.forwardX.setTargetAtTime(k,Howler.ctx.currentTime,.1),De.ctx.listener.forwardY.setTargetAtTime(G,Howler.ctx.currentTime,.1),De.ctx.listener.forwardZ.setTargetAtTime(ne,Howler.ctx.currentTime,.1),De.ctx.listener.upX.setTargetAtTime(Ce,Howler.ctx.currentTime,.1),De.ctx.listener.upY.setTargetAtTime(Ee,Howler.ctx.currentTime,.1),De.ctx.listener.upZ.setTargetAtTime(Me,Howler.ctx.currentTime,.1)):De.ctx.listener.setOrientation(k,G,ne,Ce,Ee,Me),De)},Howl.prototype.init=(k=Howl.prototype.init,function(G){var ne=this;return ne._orientation=G.orientation||[1,0,0],ne._stereo=G.stereo||null,ne._pos=G.pos||null,ne._pannerAttr={coneInnerAngle:void 0!==G.coneInnerAngle?G.coneInnerAngle:360,coneOuterAngle:void 0!==G.coneOuterAngle?G.coneOuterAngle:360,coneOuterGain:void 0!==G.coneOuterGain?G.coneOuterGain:0,distanceModel:void 0!==G.distanceModel?G.distanceModel:"inverse",maxDistance:void 0!==G.maxDistance?G.maxDistance:1e4,panningModel:void 0!==G.panningModel?G.panningModel:"HRTF",refDistance:void 0!==G.refDistance?G.refDistance:1,rolloffFactor:void 0!==G.rolloffFactor?G.rolloffFactor:1},ne._onstereo=G.onstereo?[{fn:G.onstereo}]:[],ne._onpos=G.onpos?[{fn:G.onpos}]:[],ne._onorientation=G.onorientation?[{fn:G.onorientation}]:[],k.call(this,G)}),Howl.prototype.stereo=function(k,G){var ne=this;if(!ne._webAudio)return ne;if("loaded"!==ne._state)return ne._queue.push({event:"stereo",action:function(){ne.stereo(k,G)}}),ne;var Ce=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===G){if("number"!=typeof k)return ne._stereo;ne._stereo=k,ne._pos=[k,0,0]}for(var Ee=ne._getSoundIds(G),Me=0;Me<Ee.length;Me++){var De=ne._soundById(Ee[Me]);if(De){if("number"!=typeof k)return De._stereo;De._stereo=k,De._pos=[k,0,0],De._node&&(De._pannerAttr.panningModel="equalpower",(!De._panner||!De._panner.pan)&&O(De,Ce),"spatial"===Ce?void 0!==De._panner.positionX?(De._panner.positionX.setValueAtTime(k,Howler.ctx.currentTime),De._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),De._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):De._panner.setPosition(k,0,0):De._panner.pan.setValueAtTime(k,Howler.ctx.currentTime)),ne._emit("stereo",De._id)}}return ne},Howl.prototype.pos=function(k,G,ne,Ce){var Ee=this;if(!Ee._webAudio)return Ee;if("loaded"!==Ee._state)return Ee._queue.push({event:"pos",action:function(){Ee.pos(k,G,ne,Ce)}}),Ee;if(G="number"!=typeof G?0:G,ne="number"!=typeof ne?-.5:ne,void 0===Ce){if("number"!=typeof k)return Ee._pos;Ee._pos=[k,G,ne]}for(var Me=Ee._getSoundIds(Ce),De=0;De<Me.length;De++){var ee=Ee._soundById(Me[De]);if(ee){if("number"!=typeof k)return ee._pos;ee._pos=[k,G,ne],ee._node&&((!ee._panner||ee._panner.pan)&&O(ee,"spatial"),void 0!==ee._panner.positionX?(ee._panner.positionX.setValueAtTime(k,Howler.ctx.currentTime),ee._panner.positionY.setValueAtTime(G,Howler.ctx.currentTime),ee._panner.positionZ.setValueAtTime(ne,Howler.ctx.currentTime)):ee._panner.setPosition(k,G,ne)),Ee._emit("pos",ee._id)}}return Ee},Howl.prototype.orientation=function(k,G,ne,Ce){var Ee=this;if(!Ee._webAudio)return Ee;if("loaded"!==Ee._state)return Ee._queue.push({event:"orientation",action:function(){Ee.orientation(k,G,ne,Ce)}}),Ee;if(G="number"!=typeof G?Ee._orientation[1]:G,ne="number"!=typeof ne?Ee._orientation[2]:ne,void 0===Ce){if("number"!=typeof k)return Ee._orientation;Ee._orientation=[k,G,ne]}for(var Me=Ee._getSoundIds(Ce),De=0;De<Me.length;De++){var ee=Ee._soundById(Me[De]);if(ee){if("number"!=typeof k)return ee._orientation;ee._orientation=[k,G,ne],ee._node&&(ee._panner||(ee._pos||(ee._pos=Ee._pos||[0,0,-.5]),O(ee,"spatial")),void 0!==ee._panner.orientationX?(ee._panner.orientationX.setValueAtTime(k,Howler.ctx.currentTime),ee._panner.orientationY.setValueAtTime(G,Howler.ctx.currentTime),ee._panner.orientationZ.setValueAtTime(ne,Howler.ctx.currentTime)):ee._panner.setOrientation(k,G,ne)),Ee._emit("orientation",ee._id)}}return Ee},Howl.prototype.pannerAttr=function(){var ne,Ce,Ee,k=this,G=arguments;if(!k._webAudio)return k;if(0===G.length)return k._pannerAttr;if(1===G.length){if("object"!=typeof G[0])return(Ee=k._soundById(parseInt(G[0],10)))?Ee._pannerAttr:k._pannerAttr;ne=G[0],void 0===Ce&&(ne.pannerAttr||(ne.pannerAttr={coneInnerAngle:ne.coneInnerAngle,coneOuterAngle:ne.coneOuterAngle,coneOuterGain:ne.coneOuterGain,distanceModel:ne.distanceModel,maxDistance:ne.maxDistance,refDistance:ne.refDistance,rolloffFactor:ne.rolloffFactor,panningModel:ne.panningModel}),k._pannerAttr={coneInnerAngle:void 0!==ne.pannerAttr.coneInnerAngle?ne.pannerAttr.coneInnerAngle:k._coneInnerAngle,coneOuterAngle:void 0!==ne.pannerAttr.coneOuterAngle?ne.pannerAttr.coneOuterAngle:k._coneOuterAngle,coneOuterGain:void 0!==ne.pannerAttr.coneOuterGain?ne.pannerAttr.coneOuterGain:k._coneOuterGain,distanceModel:void 0!==ne.pannerAttr.distanceModel?ne.pannerAttr.distanceModel:k._distanceModel,maxDistance:void 0!==ne.pannerAttr.maxDistance?ne.pannerAttr.maxDistance:k._maxDistance,refDistance:void 0!==ne.pannerAttr.refDistance?ne.pannerAttr.refDistance:k._refDistance,rolloffFactor:void 0!==ne.pannerAttr.rolloffFactor?ne.pannerAttr.rolloffFactor:k._rolloffFactor,panningModel:void 0!==ne.pannerAttr.panningModel?ne.pannerAttr.panningModel:k._panningModel})}else 2===G.length&&(ne=G[0],Ce=parseInt(G[1],10));for(var Me=k._getSoundIds(Ce),De=0;De<Me.length;De++)if(Ee=k._soundById(Me[De])){var ee=Ee._pannerAttr;ee={coneInnerAngle:void 0!==ne.coneInnerAngle?ne.coneInnerAngle:ee.coneInnerAngle,coneOuterAngle:void 0!==ne.coneOuterAngle?ne.coneOuterAngle:ee.coneOuterAngle,coneOuterGain:void 0!==ne.coneOuterGain?ne.coneOuterGain:ee.coneOuterGain,distanceModel:void 0!==ne.distanceModel?ne.distanceModel:ee.distanceModel,maxDistance:void 0!==ne.maxDistance?ne.maxDistance:ee.maxDistance,refDistance:void 0!==ne.refDistance?ne.refDistance:ee.refDistance,rolloffFactor:void 0!==ne.rolloffFactor?ne.rolloffFactor:ee.rolloffFactor,panningModel:void 0!==ne.panningModel?ne.panningModel:ee.panningModel};var de=Ee._panner;de?(de.coneInnerAngle=ee.coneInnerAngle,de.coneOuterAngle=ee.coneOuterAngle,de.coneOuterGain=ee.coneOuterGain,de.distanceModel=ee.distanceModel,de.maxDistance=ee.maxDistance,de.refDistance=ee.refDistance,de.rolloffFactor=ee.rolloffFactor,de.panningModel=ee.panningModel):(Ee._pos||(Ee._pos=k._pos||[0,0,-.5]),O(Ee,"spatial"))}return k},Sound.prototype.init=function(k){return function(){var G=this,ne=G._parent;G._orientation=ne._orientation,G._stereo=ne._stereo,G._pos=ne._pos,G._pannerAttr=ne._pannerAttr,k.call(this),G._stereo?ne.stereo(G._stereo):G._pos&&ne.pos(G._pos[0],G._pos[1],G._pos[2],G._id)}}(Sound.prototype.init),Sound.prototype.reset=function(k){return function(){var G=this,ne=G._parent;return G._orientation=ne._orientation,G._stereo=ne._stereo,G._pos=ne._pos,G._pannerAttr=ne._pannerAttr,G._stereo?ne.stereo(G._stereo):G._pos?ne.pos(G._pos[0],G._pos[1],G._pos[2],G._id):G._panner&&(G._panner.disconnect(0),G._panner=void 0,ne._refreshBuffer(G)),k.call(this)}}(Sound.prototype.reset);var O=function(k,G){"spatial"===(G=G||"spatial")?(k._panner=Howler.ctx.createPanner(),k._panner.coneInnerAngle=k._pannerAttr.coneInnerAngle,k._panner.coneOuterAngle=k._pannerAttr.coneOuterAngle,k._panner.coneOuterGain=k._pannerAttr.coneOuterGain,k._panner.distanceModel=k._pannerAttr.distanceModel,k._panner.maxDistance=k._pannerAttr.maxDistance,k._panner.refDistance=k._pannerAttr.refDistance,k._panner.rolloffFactor=k._pannerAttr.rolloffFactor,k._panner.panningModel=k._pannerAttr.panningModel,void 0!==k._panner.positionX?(k._panner.positionX.setValueAtTime(k._pos[0],Howler.ctx.currentTime),k._panner.positionY.setValueAtTime(k._pos[1],Howler.ctx.currentTime),k._panner.positionZ.setValueAtTime(k._pos[2],Howler.ctx.currentTime)):k._panner.setPosition(k._pos[0],k._pos[1],k._pos[2]),void 0!==k._panner.orientationX?(k._panner.orientationX.setValueAtTime(k._orientation[0],Howler.ctx.currentTime),k._panner.orientationY.setValueAtTime(k._orientation[1],Howler.ctx.currentTime),k._panner.orientationZ.setValueAtTime(k._orientation[2],Howler.ctx.currentTime)):k._panner.setOrientation(k._orientation[0],k._orientation[1],k._orientation[2])):(k._panner=Howler.ctx.createStereoPanner(),k._panner.pan.setValueAtTime(k._stereo,Howler.ctx.currentTime)),k._panner.connect(k._node),k._paused||k._parent.pause(k._id,!0).play(k._id,!0)}}()},5599:(kt,qe,z)=>{"use strict";z.r(qe),z.d(qe,{Children:()=>Wn,Component:()=>u.Component,Fragment:()=>u.Fragment,PureComponent:()=>Ne,StrictMode:()=>ue,Suspense:()=>wn,SuspenseList:()=>Ve,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:()=>un,cloneElement:()=>Sr,createContext:()=>u.createContext,createElement:()=>u.createElement,createFactory:()=>Rt,createPortal:()=>Ot,createRef:()=>u.createRef,default:()=>ve,findDOMNode:()=>yr,flushSync:()=>Dn,forwardRef:()=>xt,hydrate:()=>Jt,isValidElement:()=>zn,lazy:()=>_e,memo:()=>Wt,render:()=>Dt,unmountComponentAtNode:()=>bn,unstable_batchedUpdates:()=>tr,useCallback:()=>Ye,useContext:()=>We,useDebugValue:()=>Qe,useEffect:()=>oe,useErrorBoundary:()=>ze,useImperativeHandle:()=>se,useLayoutEffect:()=>me,useMemo:()=>je,useReducer:()=>H,useRef:()=>ce,useState:()=>F,version:()=>Zt});var O,k,G,u=z(3580),ne=0,Ce=[],Ee=u.options.__b,Me=u.options.__r,De=u.options.diffed,ee=u.options.__c,de=u.options.unmount;function T(B,J){u.options.__h&&u.options.__h(k,B,ne||J),ne=0;var W=k.__H||(k.__H={__:[],__h:[]});return B>=W.__.length&&W.__.push({}),W.__[B]}function F(B){return ne=1,H(Oe,B)}function H(B,J,W){var le=T(O++,2);return le.t=B,le.__c||(le.__=[W?W(J):Oe(void 0,J),function(ae){var ge=le.t(le.__[0],ae);le.__[0]!==ge&&(le.__=[ge,le.__[1]],le.__c.setState({}))}],le.__c=k),le.__}function oe(B,J){var W=T(O++,3);!u.options.__s&&xe(W.__H,J)&&(W.__=B,W.__H=J,k.__H.__h.push(W))}function me(B,J){var W=T(O++,4);!u.options.__s&&xe(W.__H,J)&&(W.__=B,W.__H=J,k.__h.push(W))}function ce(B){return ne=5,je(function(){return{current:B}},[])}function se(B,J,W){ne=6,me(function(){return"function"==typeof B?(B(J()),function(){return B(null)}):B?(B.current=J(),function(){return B.current=null}):void 0},null==W?W:W.concat(B))}function je(B,J){var W=T(O++,7);return xe(W.__H,J)&&(W.__=B(),W.__H=J,W.__h=B),W.__}function Ye(B,J){return ne=8,je(function(){return B},J)}function We(B){var J=k.context[B.__c],W=T(O++,9);return W.c=B,J?(null==W.__&&(W.__=!0,J.sub(k)),J.props.value):B.__}function Qe(B,J){u.options.useDebugValue&&u.options.useDebugValue(J?J(B):B)}function ze(B){var J=T(O++,10),W=F();return J.__=B,k.componentDidCatch||(k.componentDidCatch=function(le){J.__&&J.__(le),W[1](le)}),[W[0],function(){W[1](void 0)}]}function gt(){for(var B;B=Ce.shift();)if(B.__P)try{B.__H.__h.forEach(Re),B.__H.__h.forEach(fe),B.__H.__h=[]}catch(J){B.__H.__h=[],u.options.__e(J,B.__v)}}u.options.__b=function(B){k=null,Ee&&Ee(B)},u.options.__r=function(B){Me&&Me(B),O=0;var J=(k=B.__c).__H;J&&(J.__h.forEach(Re),J.__h.forEach(fe),J.__h=[])},u.options.diffed=function(B){De&&De(B);var J=B.__c;J&&J.__H&&J.__H.__h.length&&(1!==Ce.push(J)&&G===u.options.requestAnimationFrame||((G=u.options.requestAnimationFrame)||function(W){var le,ae=function(){clearTimeout(ge),Te&&cancelAnimationFrame(le),setTimeout(W)},ge=setTimeout(ae,100);Te&&(le=requestAnimationFrame(ae))})(gt)),k=null},u.options.__c=function(B,J){J.some(function(W){try{W.__h.forEach(Re),W.__h=W.__h.filter(function(le){return!le.__||fe(le)})}catch(le){J.some(function(ae){ae.__h&&(ae.__h=[])}),J=[],u.options.__e(le,W.__v)}}),ee&&ee(B,J)},u.options.unmount=function(B){de&&de(B);var J,W=B.__c;W&&W.__H&&(W.__H.__.forEach(function(le){try{Re(le)}catch(ae){J=ae}}),J&&u.options.__e(J,W.__v))};var Te="function"==typeof requestAnimationFrame;function Re(B){var J=k,W=B.__c;"function"==typeof W&&(B.__c=void 0,W()),k=J}function fe(B){var J=k;B.__c=B.__(),k=J}function xe(B,J){return!B||B.length!==J.length||J.some(function(W,le){return W!==B[le]})}function Oe(B,J){return"function"==typeof J?J(B):J}function Be(B,J){for(var W in J)B[W]=J[W];return B}function Xe(B,J){for(var W in B)if("__source"!==W&&!(W in J))return!0;for(var le in J)if("__source"!==le&&B[le]!==J[le])return!0;return!1}function Ne(B){this.props=B}function Wt(B,J){function W(ae){var ge=this.props.ref,Pe=ge==ae.ref;return!Pe&&ge&&(ge.call?ge(null):ge.current=null),J?!J(this.props,ae)||!Pe:Xe(this.props,ae)}function le(ae){return this.shouldComponentUpdate=W,(0,u.createElement)(B,ae)}return le.displayName="Memo("+(B.displayName||B.name)+")",le.prototype.isReactComponent=!0,le.__f=!0,le}(Ne.prototype=new u.Component).isPureReactComponent=!0,Ne.prototype.shouldComponentUpdate=function(B,J){return Xe(this.props,B)||Xe(this.state,J)};var Qt=u.options.__b;u.options.__b=function(B){B.type&&B.type.__f&&B.ref&&(B.props.ref=B.ref,B.ref=null),Qt&&Qt(B)};var Qn="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function xt(B){function J(W){var le=Be({},W);return delete le.ref,B(le,W.ref||null)}return J.$$typeof=Qn,J.render=J,J.prototype.isReactComponent=J.__f=!0,J.displayName="ForwardRef("+(B.displayName||B.name)+")",J}var Ut=function(B,J){return null==B?null:(0,u.toChildArray)((0,u.toChildArray)(B).map(J))},Wn={map:Ut,forEach:Ut,count:function(B){return B?(0,u.toChildArray)(B).length:0},only:function(B){var J=(0,u.toChildArray)(B);if(1!==J.length)throw"Children.only";return J[0]},toArray:u.toChildArray},Hn=u.options.__e;u.options.__e=function(B,J,W,le){if(B.then)for(var ae,ge=J;ge=ge.__;)if((ae=ge.__c)&&ae.__c)return null==J.__e&&(J.__e=W.__e,J.__k=W.__k),ae.__c(B,J);Hn(B,J,W,le)};var vr=u.options.unmount;function wn(){this.__u=0,this.t=null,this.__b=null}function Ae(B){var J=B.__.__c;return J&&J.__e&&J.__e(B)}function _e(B){var J,W,le;function ae(ge){if(J||(J=B()).then(function(Pe){W=Pe.default||Pe},function(Pe){le=Pe}),le)throw le;if(!W)throw J;return(0,u.createElement)(W,ge)}return ae.displayName="Lazy",ae.__f=!0,ae}function Ve(){this.u=null,this.o=null}u.options.unmount=function(B){var J=B.__c;J&&J.__R&&J.__R(),J&&!0===B.__h&&(B.type=null),vr&&vr(B)},(wn.prototype=new u.Component).__c=function(B,J){var W=J.__c,le=this;null==le.t&&(le.t=[]),le.t.push(W);var ae=Ae(le.__v),ge=!1,Pe=function(){ge||(ge=!0,W.__R=null,ae?ae(it):it())};W.__R=Pe;var it=function(){if(!--le.__u){if(le.state.__e){var lt=le.state.__e;le.__v.__k[0]=function Ie(pe,he,et){return pe&&(pe.__v=null,pe.__k=pe.__k&&pe.__k.map(function(bt){return Ie(bt,he,et)}),pe.__c&&pe.__c.__P===he&&(pe.__e&&et.insertBefore(pe.__e,pe.__d),pe.__c.__e=!0,pe.__c.__P=et)),pe}(lt,lt.__c.__P,lt.__c.__O)}var qt;for(le.setState({__e:le.__b=null});qt=le.t.pop();)qt.forceUpdate()}},ht=!0===J.__h;le.__u++||ht||le.setState({__e:le.__b=le.__v.__k[0]}),B.then(Pe,Pe)},wn.prototype.componentWillUnmount=function(){this.t=[]},wn.prototype.render=function(B,J){if(this.__b){if(this.__v.__k){var W=document.createElement("div"),le=this.__v.__k[0].__c;this.__v.__k[0]=function ge(Pe,it,ht){return Pe&&(Pe.__c&&Pe.__c.__H&&(Pe.__c.__H.__.forEach(function(lt){"function"==typeof lt.__c&&lt.__c()}),Pe.__c.__H=null),null!=(Pe=Be({},Pe)).__c&&(Pe.__c.__P===ht&&(Pe.__c.__P=it),Pe.__c=null),Pe.__k=Pe.__k&&Pe.__k.map(function(lt){return ge(lt,it,ht)})),Pe}(this.__b,W,le.__O=le.__P)}this.__b=null}var ae=J.__e&&(0,u.createElement)(u.Fragment,null,B.fallback);return ae&&(ae.__h=null),[(0,u.createElement)(u.Fragment,null,J.__e?null:B.children),ae]};var at=function(B,J,W){if(++W[1]===W[0]&&B.o.delete(J),B.props.revealOrder&&("t"!==B.props.revealOrder[0]||!B.o.size))for(W=B.u;W;){for(;W.length>3;)W.pop()();if(W[1]<W[0])break;B.u=W=W[2]}};function Ct(B){return this.getChildContext=function(){return B.context},B.children}function Ze(B){var J=this,W=B.i;J.componentWillUnmount=function(){(0,u.render)(null,J.l),J.l=null,J.i=null},J.i&&J.i!==W&&J.componentWillUnmount(),B.__v?(J.l||(J.i=W,J.l={nodeType:1,parentNode:W,childNodes:[],appendChild:function(le){this.childNodes.push(le),J.i.appendChild(le)},insertBefore:function(le,ae){this.childNodes.push(le),J.i.appendChild(le)},removeChild:function(le){this.childNodes.splice(this.childNodes.indexOf(le)>>>1,1),J.i.removeChild(le)}}),(0,u.render)((0,u.createElement)(Ct,{context:J.context},B.__v),J.l)):J.l&&J.componentWillUnmount()}function Ot(B,J){var W=(0,u.createElement)(Ze,{__v:B,i:J});return W.containerInfo=J,W}(Ve.prototype=new u.Component).__e=function(B){var J=this,W=Ae(J.__v),le=J.o.get(B);return le[0]++,function(ae){var ge=function(){J.props.revealOrder?(le.push(ae),at(J,B,le)):ae()};W?W(ge):ge()}},Ve.prototype.render=function(B){this.u=null,this.o=new Map;var J=(0,u.toChildArray)(B.children);B.revealOrder&&"b"===B.revealOrder[0]&&J.reverse();for(var W=J.length;W--;)this.o.set(J[W],this.u=[1,0,this.u]);return B.children},Ve.prototype.componentDidUpdate=Ve.prototype.componentDidMount=function(){var B=this;this.o.forEach(function(J,W){at(B,W,J)})};var on="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,vn=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,gn="undefined"!=typeof document,$e=function(B){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(B)};function Dt(B,J,W){return null==J.__k&&(J.textContent=""),(0,u.render)(B,J),"function"==typeof W&&W(),B?B.__c:null}function Jt(B,J,W){return(0,u.hydrate)(B,J),"function"==typeof W&&W(),B?B.__c:null}u.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(B){Object.defineProperty(u.Component.prototype,B,{configurable:!0,get:function(){return this["UNSAFE_"+B]},set:function(J){Object.defineProperty(this,B,{configurable:!0,writable:!0,value:J})}})});var mt=u.options.event;function Ft(){}function Jn(){return this.cancelBubble}function En(){return this.defaultPrevented}u.options.event=function(B){return mt&&(B=mt(B)),B.persist=Ft,B.isPropagationStopped=Jn,B.isDefaultPrevented=En,B.nativeEvent=B};var xn,Cn={configurable:!0,get:function(){return this.class}},Gn=u.options.vnode;u.options.vnode=function(B){var J=B.type,W=B.props,le=W;if("string"==typeof J){var ae=-1===J.indexOf("-");for(var ge in le={},W){var Pe=W[ge];gn&&"children"===ge&&"noscript"===J||"value"===ge&&"defaultValue"in W&&null==Pe||("defaultValue"===ge&&"value"in W&&null==W.value?ge="value":"download"===ge&&!0===Pe?Pe="":/ondoubleclick/i.test(ge)?ge="ondblclick":/^onchange(textarea|input)/i.test(ge+J)&&!$e(W.type)?ge="oninput":/^onfocus$/i.test(ge)?ge="onfocusin":/^onblur$/i.test(ge)?ge="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(ge)?ge=ge.toLowerCase():ae&&vn.test(ge)?ge=ge.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===Pe&&(Pe=void 0),le[ge]=Pe)}"select"==J&&le.multiple&&Array.isArray(le.value)&&(le.value=(0,u.toChildArray)(W.children).forEach(function(it){it.props.selected=-1!=le.value.indexOf(it.props.value)})),"select"==J&&null!=le.defaultValue&&(le.value=(0,u.toChildArray)(W.children).forEach(function(it){it.props.selected=le.multiple?-1!=le.defaultValue.indexOf(it.props.value):le.defaultValue==it.props.value})),B.props=le,W.class!=W.className&&(Cn.enumerable="className"in W,null!=W.className&&(le.class=W.className),Object.defineProperty(le,"className",Cn))}B.$$typeof=on,Gn&&Gn(B)};var sn=u.options.__r;u.options.__r=function(B){sn&&sn(B),xn=B.__c};var un={ReactCurrentDispatcher:{current:{readContext:function(B){return xn.__n[B.__c].props.value}}}},Zt="17.0.2";function Rt(B){return u.createElement.bind(null,B)}function zn(B){return!!B&&B.$$typeof===on}function Sr(B){return zn(B)?u.cloneElement.apply(null,arguments):B}function bn(B){return!!B.__k&&((0,u.render)(null,B),!0)}function yr(B){return B&&(B.base||1===B.nodeType&&B)||null}var tr=function(B,J){return B(J)},Dn=function(B,J){return B(J)},ue=u.Fragment;const ve={useState:F,useReducer:H,useEffect:oe,useLayoutEffect:me,useRef:ce,useImperativeHandle:se,useMemo:je,useCallback:Ye,useContext:We,useDebugValue:Qe,version:"17.0.2",Children:Wn,render:Dt,hydrate:Jt,unmountComponentAtNode:bn,createPortal:Ot,createElement:u.createElement,createContext:u.createContext,createFactory:Rt,cloneElement:Sr,createRef:u.createRef,Fragment:u.Fragment,isValidElement:zn,findDOMNode:yr,Component:u.Component,PureComponent:Ne,memo:Wt,forwardRef:xt,flushSync:Dn,unstable_batchedUpdates:tr,StrictMode:u.Fragment,Suspense:wn,SuspenseList:Ve,lazy:_e,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:un}},3580:(kt,qe,z)=>{"use strict";z.r(qe),z.d(qe,{Component:()=>se,Fragment:()=>ce,cloneElement:()=>vr,createContext:()=>wn,createElement:()=>H,createRef:()=>me,h:()=>H,hydrate:()=>Hn,isValidElement:()=>G,options:()=>O,render:()=>Wn,toChildArray:()=>Te});var u,O,k,G,ne,Ce,Ee,Me,De={},ee=[],de=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function T(Ae,_e){for(var Ve in _e)Ae[Ve]=_e[Ve];return Ae}function F(Ae){var _e=Ae.parentNode;_e&&_e.removeChild(Ae)}function H(Ae,_e,Ve){var at,Ct,Ze,Ot={};for(Ze in _e)"key"==Ze?at=_e[Ze]:"ref"==Ze?Ct=_e[Ze]:Ot[Ze]=_e[Ze];if(arguments.length>2&&(Ot.children=arguments.length>3?u.call(arguments,2):Ve),"function"==typeof Ae&&null!=Ae.defaultProps)for(Ze in Ae.defaultProps)void 0===Ot[Ze]&&(Ot[Ze]=Ae.defaultProps[Ze]);return oe(Ae,Ot,at,Ct,null)}function oe(Ae,_e,Ve,at,Ct){var Ze={type:Ae,props:_e,key:Ve,ref:at,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==Ct?++k:Ct};return null==Ct&&null!=O.vnode&&O.vnode(Ze),Ze}function me(){return{current:null}}function ce(Ae){return Ae.children}function se(Ae,_e){this.props=Ae,this.context=_e}function je(Ae,_e){if(null==_e)return Ae.__?je(Ae.__,Ae.__.__k.indexOf(Ae)+1):null;for(var Ve;_e<Ae.__k.length;_e++)if(null!=(Ve=Ae.__k[_e])&&null!=Ve.__e)return Ve.__e;return"function"==typeof Ae.type?je(Ae):null}function Ye(Ae){var _e,Ve;if(null!=(Ae=Ae.__)&&null!=Ae.__c){for(Ae.__e=Ae.__c.base=null,_e=0;_e<Ae.__k.length;_e++)if(null!=(Ve=Ae.__k[_e])&&null!=Ve.__e){Ae.__e=Ae.__c.base=Ve.__e;break}return Ye(Ae)}}function We(Ae){(!Ae.__d&&(Ae.__d=!0)&&ne.push(Ae)&&!Qe.__r++||Ee!==O.debounceRendering)&&((Ee=O.debounceRendering)||Ce)(Qe)}function Qe(){for(var Ae;Qe.__r=ne.length;)Ae=ne.sort(function(_e,Ve){return _e.__v.__b-Ve.__v.__b}),ne=[],Ae.some(function(_e){var Ve,at,Ct,Ze,Ot,on;_e.__d&&(Ot=(Ze=(Ve=_e).__v).__e,(on=Ve.__P)&&(at=[],(Ct=T({},Ze)).__v=Ze.__v+1,Ne(on,Ze,Ct,Ve.__n,void 0!==on.ownerSVGElement,null!=Ze.__h?[Ot]:null,at,null==Ot?je(Ze):Ot,Ze.__h),Wt(at,Ze),Ze.__e!=Ot&&Ye(Ze)))})}function ze(Ae,_e,Ve,at,Ct,Ze,Ot,on,vn,gn){var $e,Dt,Jt,mt,Ft,Jn,En,xn=at&&at.__k||ee,Cn=xn.length;for(Ve.__k=[],$e=0;$e<_e.length;$e++)if(null!=(mt=Ve.__k[$e]=null==(mt=_e[$e])||"boolean"==typeof mt?null:"string"==typeof mt||"number"==typeof mt||"bigint"==typeof mt?oe(null,mt,null,null,mt):Array.isArray(mt)?oe(ce,{children:mt},null,null,null):mt.__b>0?oe(mt.type,mt.props,mt.key,null,mt.__v):mt)){if(mt.__=Ve,mt.__b=Ve.__b+1,null===(Jt=xn[$e])||Jt&&mt.key==Jt.key&&mt.type===Jt.type)xn[$e]=void 0;else for(Dt=0;Dt<Cn;Dt++){if((Jt=xn[Dt])&&mt.key==Jt.key&&mt.type===Jt.type){xn[Dt]=void 0;break}Jt=null}Ne(Ae,mt,Jt=Jt||De,Ct,Ze,Ot,on,vn,gn),Ft=mt.__e,(Dt=mt.ref)&&Jt.ref!=Dt&&(En||(En=[]),Jt.ref&&En.push(Jt.ref,null,mt),En.push(Dt,mt.__c||Ft,mt)),null!=Ft?(null==Jn&&(Jn=Ft),"function"==typeof mt.type&&mt.__k===Jt.__k?mt.__d=vn=gt(mt,vn,Ae):vn=Re(Ae,mt,Jt,xn,Ft,vn),"function"==typeof Ve.type&&(Ve.__d=vn)):vn&&Jt.__e==vn&&vn.parentNode!=Ae&&(vn=je(Jt))}for(Ve.__e=Jn,$e=Cn;$e--;)null!=xn[$e]&&("function"==typeof Ve.type&&null!=xn[$e].__e&&xn[$e].__e==Ve.__d&&(Ve.__d=je(at,$e+1)),xt(xn[$e],xn[$e]));if(En)for($e=0;$e<En.length;$e++)Qn(En[$e],En[++$e],En[++$e])}function gt(Ae,_e,Ve){for(var at,Ct=Ae.__k,Ze=0;Ct&&Ze<Ct.length;Ze++)(at=Ct[Ze])&&(at.__=Ae,_e="function"==typeof at.type?gt(at,_e,Ve):Re(Ve,at,at,Ct,at.__e,_e));return _e}function Te(Ae,_e){return _e=_e||[],null==Ae||"boolean"==typeof Ae||(Array.isArray(Ae)?Ae.some(function(Ve){Te(Ve,_e)}):_e.push(Ae)),_e}function Re(Ae,_e,Ve,at,Ct,Ze){var Ot,on,vn;if(void 0!==_e.__d)Ot=_e.__d,_e.__d=void 0;else if(null==Ve||Ct!=Ze||null==Ct.parentNode)e:if(null==Ze||Ze.parentNode!==Ae)Ae.appendChild(Ct),Ot=null;else{for(on=Ze,vn=0;(on=on.nextSibling)&&vn<at.length;vn+=2)if(on==Ct)break e;Ae.insertBefore(Ct,Ze),Ot=Ze}return void 0!==Ot?Ot:Ct.nextSibling}function xe(Ae,_e,Ve){"-"===_e[0]?Ae.setProperty(_e,Ve):Ae[_e]=null==Ve?"":"number"!=typeof Ve||de.test(_e)?Ve:Ve+"px"}function Oe(Ae,_e,Ve,at,Ct){var Ze;e:if("style"===_e)if("string"==typeof Ve)Ae.style.cssText=Ve;else{if("string"==typeof at&&(Ae.style.cssText=at=""),at)for(_e in at)Ve&&_e in Ve||xe(Ae.style,_e,"");if(Ve)for(_e in Ve)at&&Ve[_e]===at[_e]||xe(Ae.style,_e,Ve[_e])}else if("o"===_e[0]&&"n"===_e[1])Ze=_e!==(_e=_e.replace(/Capture$/,"")),_e=_e.toLowerCase()in Ae?_e.toLowerCase().slice(2):_e.slice(2),Ae.l||(Ae.l={}),Ae.l[_e+Ze]=Ve,Ve?at||Ae.addEventListener(_e,Ze?Xe:Be,Ze):Ae.removeEventListener(_e,Ze?Xe:Be,Ze);else if("dangerouslySetInnerHTML"!==_e){if(Ct)_e=_e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==_e&&"list"!==_e&&"form"!==_e&&"tabIndex"!==_e&&"download"!==_e&&_e in Ae)try{Ae[_e]=null==Ve?"":Ve;break e}catch(Ot){}"function"==typeof Ve||(null!=Ve&&(!1!==Ve||"a"===_e[0]&&"r"===_e[1])?Ae.setAttribute(_e,Ve):Ae.removeAttribute(_e))}}function Be(Ae){this.l[Ae.type+!1](O.event?O.event(Ae):Ae)}function Xe(Ae){this.l[Ae.type+!0](O.event?O.event(Ae):Ae)}function Ne(Ae,_e,Ve,at,Ct,Ze,Ot,on,vn){var gn,$e,Dt,Jt,mt,Ft,Jn,En,xn,Cn,Gn,sn=_e.type;if(void 0!==_e.constructor)return null;null!=Ve.__h&&(vn=Ve.__h,on=_e.__e=Ve.__e,_e.__h=null,Ze=[on]),(gn=O.__b)&&gn(_e);try{e:if("function"==typeof sn){if(En=_e.props,xn=(gn=sn.contextType)&&at[gn.__c],Cn=gn?xn?xn.props.value:gn.__:at,Ve.__c?Jn=($e=_e.__c=Ve.__c).__=$e.__E:("prototype"in sn&&sn.prototype.render?_e.__c=$e=new sn(En,Cn):(_e.__c=$e=new se(En,Cn),$e.constructor=sn,$e.render=Ut),xn&&xn.sub($e),$e.props=En,$e.state||($e.state={}),$e.context=Cn,$e.__n=at,Dt=$e.__d=!0,$e.__h=[]),null==$e.__s&&($e.__s=$e.state),null!=sn.getDerivedStateFromProps&&($e.__s==$e.state&&($e.__s=T({},$e.__s)),T($e.__s,sn.getDerivedStateFromProps(En,$e.__s))),Jt=$e.props,mt=$e.state,Dt)null==sn.getDerivedStateFromProps&&null!=$e.componentWillMount&&$e.componentWillMount(),null!=$e.componentDidMount&&$e.__h.push($e.componentDidMount);else{if(null==sn.getDerivedStateFromProps&&En!==Jt&&null!=$e.componentWillReceiveProps&&$e.componentWillReceiveProps(En,Cn),!$e.__e&&null!=$e.shouldComponentUpdate&&!1===$e.shouldComponentUpdate(En,$e.__s,Cn)||_e.__v===Ve.__v){$e.props=En,$e.state=$e.__s,_e.__v!==Ve.__v&&($e.__d=!1),$e.__v=_e,_e.__e=Ve.__e,_e.__k=Ve.__k,_e.__k.forEach(function(un){un&&(un.__=_e)}),$e.__h.length&&Ot.push($e);break e}null!=$e.componentWillUpdate&&$e.componentWillUpdate(En,$e.__s,Cn),null!=$e.componentDidUpdate&&$e.__h.push(function(){$e.componentDidUpdate(Jt,mt,Ft)})}$e.context=Cn,$e.props=En,$e.state=$e.__s,(gn=O.__r)&&gn(_e),$e.__d=!1,$e.__v=_e,$e.__P=Ae,gn=$e.render($e.props,$e.state,$e.context),$e.state=$e.__s,null!=$e.getChildContext&&(at=T(T({},at),$e.getChildContext())),Dt||null==$e.getSnapshotBeforeUpdate||(Ft=$e.getSnapshotBeforeUpdate(Jt,mt)),Gn=null!=gn&&gn.type===ce&&null==gn.key?gn.props.children:gn,ze(Ae,Array.isArray(Gn)?Gn:[Gn],_e,Ve,at,Ct,Ze,Ot,on,vn),$e.base=_e.__e,_e.__h=null,$e.__h.length&&Ot.push($e),Jn&&($e.__E=$e.__=null),$e.__e=!1}else null==Ze&&_e.__v===Ve.__v?(_e.__k=Ve.__k,_e.__e=Ve.__e):_e.__e=function Qt(Ae,_e,Ve,at,Ct,Ze,Ot,on){var vn,gn,$e,Dt=Ve.props,Jt=_e.props,mt=_e.type,Ft=0;if("svg"===mt&&(Ct=!0),null!=Ze)for(;Ft<Ze.length;Ft++)if((vn=Ze[Ft])&&"setAttribute"in vn==!!mt&&(mt?vn.localName===mt:3===vn.nodeType)){Ae=vn,Ze[Ft]=null;break}if(null==Ae){if(null===mt)return document.createTextNode(Jt);Ae=Ct?document.createElementNS("http://www.w3.org/2000/svg",mt):document.createElement(mt,Jt.is&&Jt),Ze=null,on=!1}if(null===mt)Dt===Jt||on&&Ae.data===Jt||(Ae.data=Jt);else{if(Ze=Ze&&u.call(Ae.childNodes),gn=(Dt=Ve.props||De).dangerouslySetInnerHTML,$e=Jt.dangerouslySetInnerHTML,!on){if(null!=Ze)for(Dt={},Ft=0;Ft<Ae.attributes.length;Ft++)Dt[Ae.attributes[Ft].name]=Ae.attributes[Ft].value;($e||gn)&&($e&&(gn&&$e.__html==gn.__html||$e.__html===Ae.innerHTML)||(Ae.innerHTML=$e&&$e.__html||""))}if(function fe(Ae,_e,Ve,at,Ct){var Ze;for(Ze in Ve)"children"===Ze||"key"===Ze||Ze in _e||Oe(Ae,Ze,null,Ve[Ze],at);for(Ze in _e)Ct&&"function"!=typeof _e[Ze]||"children"===Ze||"key"===Ze||"value"===Ze||"checked"===Ze||Ve[Ze]===_e[Ze]||Oe(Ae,Ze,_e[Ze],Ve[Ze],at)}(Ae,Jt,Dt,Ct,on),$e)_e.__k=[];else if(Ft=_e.props.children,ze(Ae,Array.isArray(Ft)?Ft:[Ft],_e,Ve,at,Ct&&"foreignObject"!==mt,Ze,Ot,Ze?Ze[0]:Ve.__k&&je(Ve,0),on),null!=Ze)for(Ft=Ze.length;Ft--;)null!=Ze[Ft]&&F(Ze[Ft]);on||("value"in Jt&&void 0!==(Ft=Jt.value)&&(Ft!==Ae.value||"progress"===mt&&!Ft||"option"===mt&&Ft!==Dt.value)&&Oe(Ae,"value",Ft,Dt.value,!1),"checked"in Jt&&void 0!==(Ft=Jt.checked)&&Ft!==Ae.checked&&Oe(Ae,"checked",Ft,Dt.checked,!1))}return Ae}(Ve.__e,_e,Ve,at,Ct,Ze,Ot,vn);(gn=O.diffed)&&gn(_e)}catch(un){_e.__v=null,(vn||null!=Ze)&&(_e.__e=on,_e.__h=!!vn,Ze[Ze.indexOf(on)]=null),O.__e(un,_e,Ve)}}function Wt(Ae,_e){O.__c&&O.__c(_e,Ae),Ae.some(function(Ve){try{Ae=Ve.__h,Ve.__h=[],Ae.some(function(at){at.call(Ve)})}catch(at){O.__e(at,Ve.__v)}})}function Qn(Ae,_e,Ve){try{"function"==typeof Ae?Ae(_e):Ae.current=_e}catch(at){O.__e(at,Ve)}}function xt(Ae,_e,Ve){var at,Ct;if(O.unmount&&O.unmount(Ae),(at=Ae.ref)&&(at.current&&at.current!==Ae.__e||Qn(at,null,_e)),null!=(at=Ae.__c)){if(at.componentWillUnmount)try{at.componentWillUnmount()}catch(Ze){O.__e(Ze,_e)}at.base=at.__P=null}if(at=Ae.__k)for(Ct=0;Ct<at.length;Ct++)at[Ct]&&xt(at[Ct],_e,"function"!=typeof Ae.type);Ve||null==Ae.__e||F(Ae.__e),Ae.__e=Ae.__d=void 0}function Ut(Ae,_e,Ve){return this.constructor(Ae,Ve)}function Wn(Ae,_e,Ve){var at,Ct,Ze;O.__&&O.__(Ae,_e),Ct=(at="function"==typeof Ve)?null:Ve&&Ve.__k||_e.__k,Ze=[],Ne(_e,Ae=(!at&&Ve||_e).__k=H(ce,null,[Ae]),Ct||De,De,void 0!==_e.ownerSVGElement,!at&&Ve?[Ve]:Ct?null:_e.firstChild?u.call(_e.childNodes):null,Ze,!at&&Ve?Ve:Ct?Ct.__e:_e.firstChild,at),Wt(Ze,Ae)}function Hn(Ae,_e){Wn(Ae,_e,Hn)}function vr(Ae,_e,Ve){var at,Ct,Ze,Ot=T({},Ae.props);for(Ze in _e)"key"==Ze?at=_e[Ze]:"ref"==Ze?Ct=_e[Ze]:Ot[Ze]=_e[Ze];return arguments.length>2&&(Ot.children=arguments.length>3?u.call(arguments,2):Ve),oe(Ae.type,Ot,at||Ae.key,Ct||Ae.ref,null)}function wn(Ae,_e){var Ve={__c:_e="__cC"+Me++,__:Ae,Consumer:function(at,Ct){return at.children(Ct)},Provider:function(at){var Ct,Ze;return this.getChildContext||(Ct=[],(Ze={})[_e]=this,this.getChildContext=function(){return Ze},this.shouldComponentUpdate=function(Ot){this.props.value!==Ot.value&&Ct.some(We)},this.sub=function(Ot){Ct.push(Ot);var on=Ot.componentWillUnmount;Ot.componentWillUnmount=function(){Ct.splice(Ct.indexOf(Ot),1),on&&on.call(Ot)}}),at.children}};return Ve.Provider.__=Ve.Consumer.contextType=Ve}u=ee.slice,O={__e:function(Ae,_e,Ve,at){for(var Ct,Ze,Ot;_e=_e.__;)if((Ct=_e.__c)&&!Ct.__)try{if((Ze=Ct.constructor)&&null!=Ze.getDerivedStateFromError&&(Ct.setState(Ze.getDerivedStateFromError(Ae)),Ot=Ct.__d),null!=Ct.componentDidCatch&&(Ct.componentDidCatch(Ae,at||{}),Ot=Ct.__d),Ot)return Ct.__E=Ct}catch(on){Ae=on}throw Ae}},k=0,G=function(Ae){return null!=Ae&&void 0===Ae.constructor},se.prototype.setState=function(Ae,_e){var Ve;Ve=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=T({},this.state),"function"==typeof Ae&&(Ae=Ae(T({},Ve),this.props)),Ae&&T(Ve,Ae),null!=Ae&&this.__v&&(_e&&this.__h.push(_e),We(this))},se.prototype.forceUpdate=function(Ae){this.__v&&(this.__e=!0,Ae&&this.__h.push(Ae),We(this))},se.prototype.render=ce,ne=[],Ce="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Qe.__r=0,Me=0},8306:(kt,qe,z)=>{"use strict";z.d(qe,{y:()=>ee});var u=z(930),O=z(727),k=z(8822),G=z(4671);var Ee=z(2416),Me=z(576),De=z(2806);let ee=(()=>{class H{constructor(me){me&&(this._subscribe=me)}lift(me){const ce=new H;return ce.source=this,ce.operator=me,ce}subscribe(me,ce,se){const je=function F(H){return H&&H instanceof u.Lv||function T(H){return H&&(0,Me.m)(H.next)&&(0,Me.m)(H.error)&&(0,Me.m)(H.complete)}(H)&&(0,O.Nn)(H)}(me)?me:new u.Hp(me,ce,se);return(0,De.x)(()=>{const{operator:Ye,source:We}=this;je.add(Ye?Ye.call(je,We):We?this._subscribe(je):this._trySubscribe(je))}),je}_trySubscribe(me){try{return this._subscribe(me)}catch(ce){me.error(ce)}}forEach(me,ce){return new(ce=de(ce))((se,je)=>{const Ye=new u.Hp({next:We=>{try{me(We)}catch(Qe){je(Qe),Ye.unsubscribe()}},error:je,complete:se});this.subscribe(Ye)})}_subscribe(me){var ce;return null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(me)}[k.L](){return this}pipe(...me){return function Ce(H){return 0===H.length?G.y:1===H.length?H[0]:function(me){return H.reduce((ce,se)=>se(ce),me)}}(me)(this)}toPromise(me){return new(me=de(me))((ce,se)=>{let je;this.subscribe(Ye=>je=Ye,Ye=>se(Ye),()=>ce(je))})}}return H.create=oe=>new H(oe),H})();function de(H){var oe;return null!==(oe=null!=H?H:Ee.v.Promise)&&void 0!==oe?oe:Promise}},7579:(kt,qe,z)=>{"use strict";z.d(qe,{x:()=>Ee});var u=z(8306),O=z(727);const G=(0,z(3888).d)(De=>function(){De(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=z(8737),Ce=z(2806);let Ee=(()=>{class De extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(de){const T=new Me(this,this);return T.operator=de,T}_throwIfClosed(){if(this.closed)throw new G}next(de){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const T of this.currentObservers)T.next(de)}})}error(de){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=de;const{observers:T}=this;for(;T.length;)T.shift().error(de)}})}complete(){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:de}=this;for(;de.length;)de.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var de;return(null===(de=this.observers)||void 0===de?void 0:de.length)>0}_trySubscribe(de){return this._throwIfClosed(),super._trySubscribe(de)}_subscribe(de){return this._throwIfClosed(),this._checkFinalizedStatuses(de),this._innerSubscribe(de)}_innerSubscribe(de){const{hasError:T,isStopped:F,observers:H}=this;return T||F?O.Lc:(this.currentObservers=null,H.push(de),new O.w0(()=>{this.currentObservers=null,(0,ne.P)(H,de)}))}_checkFinalizedStatuses(de){const{hasError:T,thrownError:F,isStopped:H}=this;T?de.error(F):H&&de.complete()}asObservable(){const de=new u.y;return de.source=this,de}}return De.create=(ee,de)=>new Me(ee,de),De})();class Me extends Ee{constructor(ee,de){super(),this.destination=ee,this.source=de}next(ee){var de,T;null===(T=null===(de=this.destination)||void 0===de?void 0:de.next)||void 0===T||T.call(de,ee)}error(ee){var de,T;null===(T=null===(de=this.destination)||void 0===de?void 0:de.error)||void 0===T||T.call(de,ee)}complete(){var ee,de;null===(de=null===(ee=this.destination)||void 0===ee?void 0:ee.complete)||void 0===de||de.call(ee)}_subscribe(ee){var de,T;return null!==(T=null===(de=this.source)||void 0===de?void 0:de.subscribe(ee))&&void 0!==T?T:O.Lc}}},930:(kt,qe,z)=>{"use strict";z.d(qe,{Hp:()=>me,Lv:()=>T});var u=z(576),O=z(727),k=z(2416),G=z(7849),ne=z(5032);const Ce=De("C",void 0,void 0);function De(We,Qe,ze){return{kind:We,value:Qe,error:ze}}var ee=z(3410),de=z(2806);class T extends O.w0{constructor(Qe){super(),this.isStopped=!1,Qe?(this.destination=Qe,(0,O.Nn)(Qe)&&Qe.add(this)):this.destination=Ye}static create(Qe,ze,gt){return new me(Qe,ze,gt)}next(Qe){this.isStopped?je(function Me(We){return De("N",We,void 0)}(Qe),this):this._next(Qe)}error(Qe){this.isStopped?je(function Ee(We){return De("E",void 0,We)}(Qe),this):(this.isStopped=!0,this._error(Qe))}complete(){this.isStopped?je(Ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Qe){this.destination.next(Qe)}_error(Qe){try{this.destination.error(Qe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const F=Function.prototype.bind;function H(We,Qe){return F.call(We,Qe)}class oe{constructor(Qe){this.partialObserver=Qe}next(Qe){const{partialObserver:ze}=this;if(ze.next)try{ze.next(Qe)}catch(gt){ce(gt)}}error(Qe){const{partialObserver:ze}=this;if(ze.error)try{ze.error(Qe)}catch(gt){ce(gt)}else ce(Qe)}complete(){const{partialObserver:Qe}=this;if(Qe.complete)try{Qe.complete()}catch(ze){ce(ze)}}}class me extends T{constructor(Qe,ze,gt){let Te;if(super(),(0,u.m)(Qe)||!Qe)Te={next:null!=Qe?Qe:void 0,error:null!=ze?ze:void 0,complete:null!=gt?gt:void 0};else{let Re;this&&k.v.useDeprecatedNextContext?(Re=Object.create(Qe),Re.unsubscribe=()=>this.unsubscribe(),Te={next:Qe.next&&H(Qe.next,Re),error:Qe.error&&H(Qe.error,Re),complete:Qe.complete&&H(Qe.complete,Re)}):Te=Qe}this.destination=new oe(Te)}}function ce(We){k.v.useDeprecatedSynchronousErrorHandling?(0,de.O)(We):(0,G.h)(We)}function je(We,Qe){const{onStoppedNotification:ze}=k.v;ze&&ee.z.setTimeout(()=>ze(We,Qe))}const Ye={closed:!0,next:ne.Z,error:function se(We){throw We},complete:ne.Z}},727:(kt,qe,z)=>{"use strict";z.d(qe,{Lc:()=>Ce,w0:()=>ne,Nn:()=>Ee});var u=z(576);const k=(0,z(3888).d)(De=>function(de){De(this),this.message=de?`${de.length} errors occurred during unsubscription:\n${de.map((T,F)=>`${F+1}) ${T.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=de});var G=z(8737);class ne{constructor(ee){this.initialTeardown=ee,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ee;if(!this.closed){this.closed=!0;const{_parentage:de}=this;if(de)if(this._parentage=null,Array.isArray(de))for(const H of de)H.remove(this);else de.remove(this);const{initialTeardown:T}=this;if((0,u.m)(T))try{T()}catch(H){ee=H instanceof k?H.errors:[H]}const{_finalizers:F}=this;if(F){this._finalizers=null;for(const H of F)try{Me(H)}catch(oe){ee=null!=ee?ee:[],oe instanceof k?ee=[...ee,...oe.errors]:ee.push(oe)}}if(ee)throw new k(ee)}}add(ee){var de;if(ee&&ee!==this)if(this.closed)Me(ee);else{if(ee instanceof ne){if(ee.closed||ee._hasParent(this))return;ee._addParent(this)}(this._finalizers=null!==(de=this._finalizers)&&void 0!==de?de:[]).push(ee)}}_hasParent(ee){const{_parentage:de}=this;return de===ee||Array.isArray(de)&&de.includes(ee)}_addParent(ee){const{_parentage:de}=this;this._parentage=Array.isArray(de)?(de.push(ee),de):de?[de,ee]:ee}_removeParent(ee){const{_parentage:de}=this;de===ee?this._parentage=null:Array.isArray(de)&&(0,G.P)(de,ee)}remove(ee){const{_finalizers:de}=this;de&&(0,G.P)(de,ee),ee instanceof ne&&ee._removeParent(this)}}ne.EMPTY=(()=>{const De=new ne;return De.closed=!0,De})();const Ce=ne.EMPTY;function Ee(De){return De instanceof ne||De&&"closed"in De&&(0,u.m)(De.remove)&&(0,u.m)(De.add)&&(0,u.m)(De.unsubscribe)}function Me(De){(0,u.m)(De)?De():De.unsubscribe()}},2416:(kt,qe,z)=>{"use strict";z.d(qe,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(kt,qe,z)=>{"use strict";z.d(qe,{E:()=>O});const O=new(z(8306).y)(ne=>ne.complete())},8996:(kt,qe,z)=>{"use strict";z.d(qe,{D:()=>Qe});var u=z(8421),O=z(5363),k=z(9468),Ce=z(8306),Me=z(2202),De=z(576),ee=z(9672);function T(ze,gt){if(!ze)throw new Error("Iterable cannot be null");return new Ce.y(Te=>{(0,ee.f)(Te,gt,()=>{const Re=ze[Symbol.asyncIterator]();(0,ee.f)(Te,gt,()=>{Re.next().then(fe=>{fe.done?Te.complete():Te.next(fe.value)})},0,!0)})})}var F=z(3670),H=z(8239),oe=z(1144),me=z(6495),ce=z(2206),se=z(4532),je=z(3260);function Qe(ze,gt){return gt?function We(ze,gt){if(null!=ze){if((0,F.c)(ze))return function G(ze,gt){return(0,u.Xf)(ze).pipe((0,k.R)(gt),(0,O.Q)(gt))}(ze,gt);if((0,oe.z)(ze))return function Ee(ze,gt){return new Ce.y(Te=>{let Re=0;return gt.schedule(function(){Re===ze.length?Te.complete():(Te.next(ze[Re++]),Te.closed||this.schedule())})})}(ze,gt);if((0,H.t)(ze))return function ne(ze,gt){return(0,u.Xf)(ze).pipe((0,k.R)(gt),(0,O.Q)(gt))}(ze,gt);if((0,ce.D)(ze))return T(ze,gt);if((0,me.T)(ze))return function de(ze,gt){return new Ce.y(Te=>{let Re;return(0,ee.f)(Te,gt,()=>{Re=ze[Me.h](),(0,ee.f)(Te,gt,()=>{let fe,xe;try{({value:fe,done:xe}=Re.next())}catch(Oe){return void Te.error(Oe)}xe?Te.complete():Te.next(fe)},0,!0)}),()=>(0,De.m)(null==Re?void 0:Re.return)&&Re.return()})}(ze,gt);if((0,je.L)(ze))return function Ye(ze,gt){return T((0,je.Q)(ze),gt)}(ze,gt)}throw(0,se.z)(ze)}(ze,gt):(0,u.Xf)(ze)}},8421:(kt,qe,z)=>{"use strict";z.d(qe,{Xf:()=>F});var u=z(655),O=z(1144),k=z(8239),G=z(8306),ne=z(3670),Ce=z(2206),Ee=z(4532),Me=z(6495),De=z(3260),ee=z(576),de=z(7849),T=z(8822);function F(We){if(We instanceof G.y)return We;if(null!=We){if((0,ne.c)(We))return function H(We){return new G.y(Qe=>{const ze=We[T.L]();if((0,ee.m)(ze.subscribe))return ze.subscribe(Qe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(We);if((0,O.z)(We))return function oe(We){return new G.y(Qe=>{for(let ze=0;ze<We.length&&!Qe.closed;ze++)Qe.next(We[ze]);Qe.complete()})}(We);if((0,k.t)(We))return function me(We){return new G.y(Qe=>{We.then(ze=>{Qe.closed||(Qe.next(ze),Qe.complete())},ze=>Qe.error(ze)).then(null,de.h)})}(We);if((0,Ce.D)(We))return se(We);if((0,Me.T)(We))return function ce(We){return new G.y(Qe=>{for(const ze of We)if(Qe.next(ze),Qe.closed)return;Qe.complete()})}(We);if((0,De.L)(We))return function je(We){return se((0,De.Q)(We))}(We)}throw(0,Ee.z)(We)}function se(We){return new G.y(Qe=>{(function Ye(We,Qe){var ze,gt,Te,Re;return(0,u.__awaiter)(this,void 0,void 0,function*(){try{for(ze=(0,u.__asyncValues)(We);!(gt=yield ze.next()).done;)if(Qe.next(gt.value),Qe.closed)return}catch(fe){Te={error:fe}}finally{try{gt&&!gt.done&&(Re=ze.return)&&(yield Re.call(ze))}finally{if(Te)throw Te.error}}Qe.complete()})})(We,Qe).catch(ze=>Qe.error(ze))})}},6451:(kt,qe,z)=>{"use strict";z.d(qe,{T:()=>Ce});var u=z(8189),O=z(8421),k=z(515),G=z(7669),ne=z(8996);function Ce(...Ee){const Me=(0,G.yG)(Ee),De=(0,G._6)(Ee,1/0),ee=Ee;return ee.length?1===ee.length?(0,O.Xf)(ee[0]):(0,u.J)(De)((0,ne.D)(ee,Me)):k.E}},5403:(kt,qe,z)=>{"use strict";z.d(qe,{x:()=>O});var u=z(930);function O(G,ne,Ce,Ee,Me){return new k(G,ne,Ce,Ee,Me)}class k extends u.Lv{constructor(ne,Ce,Ee,Me,De,ee){super(ne),this.onFinalize=De,this.shouldUnsubscribe=ee,this._next=Ce?function(de){try{Ce(de)}catch(T){ne.error(T)}}:super._next,this._error=Me?function(de){try{Me(de)}catch(T){ne.error(T)}finally{this.unsubscribe()}}:super._error,this._complete=Ee?function(){try{Ee()}catch(de){ne.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ce}=this;super.unsubscribe(),!Ce&&(null===(ne=this.onFinalize)||void 0===ne||ne.call(this))}}}},4004:(kt,qe,z)=>{"use strict";z.d(qe,{U:()=>k});var u=z(4482),O=z(5403);function k(G,ne){return(0,u.e)((Ce,Ee)=>{let Me=0;Ce.subscribe((0,O.x)(Ee,De=>{Ee.next(G.call(ne,De,Me++))}))})}},8189:(kt,qe,z)=>{"use strict";z.d(qe,{J:()=>k});var u=z(5577),O=z(4671);function k(G=1/0){return(0,u.z)(O.y,G)}},5577:(kt,qe,z)=>{"use strict";z.d(qe,{z:()=>Me});var u=z(4004),O=z(8421),k=z(4482),G=z(9672),ne=z(5403),Ee=z(576);function Me(De,ee,de=1/0){return(0,Ee.m)(ee)?Me((T,F)=>(0,u.U)((H,oe)=>ee(T,H,F,oe))((0,O.Xf)(De(T,F))),de):("number"==typeof ee&&(de=ee),(0,k.e)((T,F)=>function Ce(De,ee,de,T,F,H,oe,me){const ce=[];let se=0,je=0,Ye=!1;const We=()=>{Ye&&!ce.length&&!se&&ee.complete()},Qe=gt=>se<T?ze(gt):ce.push(gt),ze=gt=>{H&&ee.next(gt),se++;let Te=!1;(0,O.Xf)(de(gt,je++)).subscribe((0,ne.x)(ee,Re=>{null==F||F(Re),H?Qe(Re):ee.next(Re)},()=>{Te=!0},void 0,()=>{if(Te)try{for(se--;ce.length&&se<T;){const Re=ce.shift();oe?(0,G.f)(ee,oe,()=>ze(Re)):ze(Re)}We()}catch(Re){ee.error(Re)}}))};return De.subscribe((0,ne.x)(ee,Qe,()=>{Ye=!0,We()})),()=>{null==me||me()}}(T,F,De,de)))}},5363:(kt,qe,z)=>{"use strict";z.d(qe,{Q:()=>G});var u=z(9672),O=z(4482),k=z(5403);function G(ne,Ce=0){return(0,O.e)((Ee,Me)=>{Ee.subscribe((0,k.x)(Me,De=>(0,u.f)(Me,ne,()=>Me.next(De),Ce),()=>(0,u.f)(Me,ne,()=>Me.complete(),Ce),De=>(0,u.f)(Me,ne,()=>Me.error(De),Ce)))})}},3099:(kt,qe,z)=>{"use strict";z.d(qe,{B:()=>Ce});var u=z(8996),O=z(5698),k=z(7579),G=z(930),ne=z(4482);function Ce(Me={}){const{connector:De=(()=>new k.x),resetOnError:ee=!0,resetOnComplete:de=!0,resetOnRefCountZero:T=!0}=Me;return F=>{let H=null,oe=null,me=null,ce=0,se=!1,je=!1;const Ye=()=>{null==oe||oe.unsubscribe(),oe=null},We=()=>{Ye(),H=me=null,se=je=!1},Qe=()=>{const ze=H;We(),null==ze||ze.unsubscribe()};return(0,ne.e)((ze,gt)=>{ce++,!je&&!se&&Ye();const Te=me=null!=me?me:De();gt.add(()=>{ce--,0===ce&&!je&&!se&&(oe=Ee(Qe,T))}),Te.subscribe(gt),H||(H=new G.Hp({next:Re=>Te.next(Re),error:Re=>{je=!0,Ye(),oe=Ee(We,ee,Re),Te.error(Re)},complete:()=>{se=!0,Ye(),oe=Ee(We,de),Te.complete()}}),(0,u.D)(ze).subscribe(H))})(F)}}function Ee(Me,De,...ee){return!0===De?(Me(),null):!1===De?null:De(...ee).pipe((0,O.q)(1)).subscribe(()=>Me())}},9468:(kt,qe,z)=>{"use strict";z.d(qe,{R:()=>O});var u=z(4482);function O(k,G=0){return(0,u.e)((ne,Ce)=>{Ce.add(k.schedule(()=>ne.subscribe(Ce),G))})}},5698:(kt,qe,z)=>{"use strict";z.d(qe,{q:()=>G});var u=z(515),O=z(4482),k=z(5403);function G(ne){return ne<=0?()=>u.E:(0,O.e)((Ce,Ee)=>{let Me=0;Ce.subscribe((0,k.x)(Ee,De=>{++Me<=ne&&(Ee.next(De),ne<=Me&&Ee.complete())}))})}},8505:(kt,qe,z)=>{"use strict";z.d(qe,{b:()=>ne});var u=z(576),O=z(4482),k=z(5403),G=z(4671);function ne(Ce,Ee,Me){const De=(0,u.m)(Ce)||Ee||Me?{next:Ce,error:Ee,complete:Me}:Ce;return De?(0,O.e)((ee,de)=>{var T;null===(T=De.subscribe)||void 0===T||T.call(De);let F=!0;ee.subscribe((0,k.x)(de,H=>{var oe;null===(oe=De.next)||void 0===oe||oe.call(De,H),de.next(H)},()=>{var H;F=!1,null===(H=De.complete)||void 0===H||H.call(De),de.complete()},H=>{var oe;F=!1,null===(oe=De.error)||void 0===oe||oe.call(De,H),de.error(H)},()=>{var H,oe;F&&(null===(H=De.unsubscribe)||void 0===H||H.call(De)),null===(oe=De.finalize)||void 0===oe||oe.call(De)}))}):G.y}},4408:(kt,qe,z)=>{"use strict";z.d(qe,{o:()=>ne});var u=z(727);class O extends u.w0{constructor(Ee,Me){super()}schedule(Ee,Me=0){return this}}const k={setInterval(Ce,Ee,...Me){const{delegate:De}=k;return(null==De?void 0:De.setInterval)?De.setInterval(Ce,Ee,...Me):setInterval(Ce,Ee,...Me)},clearInterval(Ce){const{delegate:Ee}=k;return((null==Ee?void 0:Ee.clearInterval)||clearInterval)(Ce)},delegate:void 0};var G=z(8737);class ne extends O{constructor(Ee,Me){super(Ee,Me),this.scheduler=Ee,this.work=Me,this.pending=!1}schedule(Ee,Me=0){if(this.closed)return this;this.state=Ee;const De=this.id,ee=this.scheduler;return null!=De&&(this.id=this.recycleAsyncId(ee,De,Me)),this.pending=!0,this.delay=Me,this.id=this.id||this.requestAsyncId(ee,this.id,Me),this}requestAsyncId(Ee,Me,De=0){return k.setInterval(Ee.flush.bind(Ee,this),De)}recycleAsyncId(Ee,Me,De=0){if(null!=De&&this.delay===De&&!1===this.pending)return Me;k.clearInterval(Me)}execute(Ee,Me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const De=this._execute(Ee,Me);if(De)return De;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ee,Me){let ee,De=!1;try{this.work(Ee)}catch(de){De=!0,ee=de||new Error("Scheduled action threw falsy error")}if(De)return this.unsubscribe(),ee}unsubscribe(){if(!this.closed){const{id:Ee,scheduler:Me}=this,{actions:De}=Me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,G.P)(De,this),null!=Ee&&(this.id=this.recycleAsyncId(Me,Ee,null)),this.delay=null,super.unsubscribe()}}}},7565:(kt,qe,z)=>{"use strict";z.d(qe,{v:()=>k});var u=z(6063);class O{constructor(ne,Ce=O.now){this.schedulerActionCtor=ne,this.now=Ce}schedule(ne,Ce=0,Ee){return new this.schedulerActionCtor(this,ne).schedule(Ee,Ce)}}O.now=u.l.now;class k extends O{constructor(ne,Ce=O.now){super(ne,Ce),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ne){const{actions:Ce}=this;if(this._active)return void Ce.push(ne);let Ee;this._active=!0;do{if(Ee=ne.execute(ne.state,ne.delay))break}while(ne=Ce.shift());if(this._active=!1,Ee){for(;ne=Ce.shift();)ne.unsubscribe();throw Ee}}}},4986:(kt,qe,z)=>{"use strict";z.d(qe,{z:()=>k});var u=z(4408);const k=new(z(7565).v)(u.o)},6063:(kt,qe,z)=>{"use strict";z.d(qe,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(kt,qe,z)=>{"use strict";z.d(qe,{z:()=>u});const u={setTimeout(O,k,...G){const{delegate:ne}=u;return(null==ne?void 0:ne.setTimeout)?ne.setTimeout(O,k,...G):setTimeout(O,k,...G)},clearTimeout(O){const{delegate:k}=u;return((null==k?void 0:k.clearTimeout)||clearTimeout)(O)},delegate:void 0}},2202:(kt,qe,z)=>{"use strict";z.d(qe,{h:()=>O});const O=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(kt,qe,z)=>{"use strict";z.d(qe,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(kt,qe,z)=>{"use strict";z.d(qe,{_6:()=>Ce,jO:()=>G,yG:()=>ne});var u=z(576);function k(Ee){return Ee[Ee.length-1]}function G(Ee){return(0,u.m)(k(Ee))?Ee.pop():void 0}function ne(Ee){return function O(Ee){return Ee&&(0,u.m)(Ee.schedule)}(k(Ee))?Ee.pop():void 0}function Ce(Ee,Me){return"number"==typeof k(Ee)?Ee.pop():Me}},8737:(kt,qe,z)=>{"use strict";function u(O,k){if(O){const G=O.indexOf(k);0<=G&&O.splice(G,1)}}z.d(qe,{P:()=>u})},3888:(kt,qe,z)=>{"use strict";function u(O){const G=O(ne=>{Error.call(ne),ne.stack=(new Error).stack});return G.prototype=Object.create(Error.prototype),G.prototype.constructor=G,G}z.d(qe,{d:()=>u})},2806:(kt,qe,z)=>{"use strict";z.d(qe,{O:()=>G,x:()=>k});var u=z(2416);let O=null;function k(ne){if(u.v.useDeprecatedSynchronousErrorHandling){const Ce=!O;if(Ce&&(O={errorThrown:!1,error:null}),ne(),Ce){const{errorThrown:Ee,error:Me}=O;if(O=null,Ee)throw Me}}else ne()}function G(ne){u.v.useDeprecatedSynchronousErrorHandling&&O&&(O.errorThrown=!0,O.error=ne)}},9672:(kt,qe,z)=>{"use strict";function u(O,k,G,ne=0,Ce=!1){const Ee=k.schedule(function(){G(),Ce?O.add(this.schedule(null,ne)):this.unsubscribe()},ne);if(O.add(Ee),!Ce)return Ee}z.d(qe,{f:()=>u})},4671:(kt,qe,z)=>{"use strict";function u(O){return O}z.d(qe,{y:()=>u})},1144:(kt,qe,z)=>{"use strict";z.d(qe,{z:()=>u});const u=O=>O&&"number"==typeof O.length&&"function"!=typeof O},2206:(kt,qe,z)=>{"use strict";z.d(qe,{D:()=>O});var u=z(576);function O(k){return Symbol.asyncIterator&&(0,u.m)(null==k?void 0:k[Symbol.asyncIterator])}},576:(kt,qe,z)=>{"use strict";function u(O){return"function"==typeof O}z.d(qe,{m:()=>u})},3670:(kt,qe,z)=>{"use strict";z.d(qe,{c:()=>k});var u=z(8822),O=z(576);function k(G){return(0,O.m)(G[u.L])}},6495:(kt,qe,z)=>{"use strict";z.d(qe,{T:()=>k});var u=z(2202),O=z(576);function k(G){return(0,O.m)(null==G?void 0:G[u.h])}},8239:(kt,qe,z)=>{"use strict";z.d(qe,{t:()=>O});var u=z(576);function O(k){return(0,u.m)(null==k?void 0:k.then)}},3260:(kt,qe,z)=>{"use strict";z.d(qe,{L:()=>G,Q:()=>k});var u=z(655),O=z(576);function k(ne){return(0,u.__asyncGenerator)(this,arguments,function*(){const Ee=ne.getReader();try{for(;;){const{value:Me,done:De}=yield(0,u.__await)(Ee.read());if(De)return yield(0,u.__await)(void 0);yield yield(0,u.__await)(Me)}}finally{Ee.releaseLock()}})}function G(ne){return(0,O.m)(null==ne?void 0:ne.getReader)}},4482:(kt,qe,z)=>{"use strict";z.d(qe,{A:()=>O,e:()=>k});var u=z(576);function O(G){return(0,u.m)(null==G?void 0:G.lift)}function k(G){return ne=>{if(O(ne))return ne.lift(function(Ce){try{return G(Ce,this)}catch(Ee){this.error(Ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(kt,qe,z)=>{"use strict";function u(){}z.d(qe,{Z:()=>u})},7849:(kt,qe,z)=>{"use strict";z.d(qe,{h:()=>k});var u=z(2416),O=z(3410);function k(G){O.z.setTimeout(()=>{const{onUnhandledError:ne}=u.v;if(!ne)throw G;ne(G)})}},4532:(kt,qe,z)=>{"use strict";function u(O){return new TypeError(`You provided ${null!==O&&"object"==typeof O?"an invalid object":`'${O}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}z.d(qe,{z:()=>u})},655:(kt,qe,z)=>{"use strict";z.r(qe),z.d(qe,{__assign:()=>k,__asyncDelegator:()=>je,__asyncGenerator:()=>se,__asyncValues:()=>Ye,__await:()=>ce,__awaiter:()=>Me,__classPrivateFieldGet:()=>Te,__classPrivateFieldSet:()=>Re,__createBinding:()=>ee,__decorate:()=>ne,__exportStar:()=>de,__extends:()=>O,__generator:()=>De,__importDefault:()=>gt,__importStar:()=>ze,__makeTemplateObject:()=>We,__metadata:()=>Ee,__param:()=>Ce,__read:()=>F,__rest:()=>G,__spread:()=>H,__spreadArray:()=>me,__spreadArrays:()=>oe,__values:()=>T});var u=function(fe,xe){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Oe,Be){Oe.__proto__=Be}||function(Oe,Be){for(var Xe in Be)Object.prototype.hasOwnProperty.call(Be,Xe)&&(Oe[Xe]=Be[Xe])})(fe,xe)};function O(fe,xe){if("function"!=typeof xe&&null!==xe)throw new TypeError("Class extends value "+String(xe)+" is not a constructor or null");function Oe(){this.constructor=fe}u(fe,xe),fe.prototype=null===xe?Object.create(xe):(Oe.prototype=xe.prototype,new Oe)}var k=function(){return k=Object.assign||function(xe){for(var Oe,Be=1,Xe=arguments.length;Be<Xe;Be++)for(var Ne in Oe=arguments[Be])Object.prototype.hasOwnProperty.call(Oe,Ne)&&(xe[Ne]=Oe[Ne]);return xe},k.apply(this,arguments)};function G(fe,xe){var Oe={};for(var Be in fe)Object.prototype.hasOwnProperty.call(fe,Be)&&xe.indexOf(Be)<0&&(Oe[Be]=fe[Be]);if(null!=fe&&"function"==typeof Object.getOwnPropertySymbols){var Xe=0;for(Be=Object.getOwnPropertySymbols(fe);Xe<Be.length;Xe++)xe.indexOf(Be[Xe])<0&&Object.prototype.propertyIsEnumerable.call(fe,Be[Xe])&&(Oe[Be[Xe]]=fe[Be[Xe]])}return Oe}function ne(fe,xe,Oe,Be){var Wt,Xe=arguments.length,Ne=Xe<3?xe:null===Be?Be=Object.getOwnPropertyDescriptor(xe,Oe):Be;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ne=Reflect.decorate(fe,xe,Oe,Be);else for(var Qt=fe.length-1;Qt>=0;Qt--)(Wt=fe[Qt])&&(Ne=(Xe<3?Wt(Ne):Xe>3?Wt(xe,Oe,Ne):Wt(xe,Oe))||Ne);return Xe>3&&Ne&&Object.defineProperty(xe,Oe,Ne),Ne}function Ce(fe,xe){return function(Oe,Be){xe(Oe,Be,fe)}}function Ee(fe,xe){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(fe,xe)}function Me(fe,xe,Oe,Be){return new(Oe||(Oe=Promise))(function(Ne,Wt){function Qt(Ut){try{xt(Be.next(Ut))}catch(Wn){Wt(Wn)}}function Qn(Ut){try{xt(Be.throw(Ut))}catch(Wn){Wt(Wn)}}function xt(Ut){Ut.done?Ne(Ut.value):function Xe(Ne){return Ne instanceof Oe?Ne:new Oe(function(Wt){Wt(Ne)})}(Ut.value).then(Qt,Qn)}xt((Be=Be.apply(fe,xe||[])).next())})}function De(fe,xe){var Be,Xe,Ne,Wt,Oe={label:0,sent:function(){if(1&Ne[0])throw Ne[1];return Ne[1]},trys:[],ops:[]};return Wt={next:Qt(0),throw:Qt(1),return:Qt(2)},"function"==typeof Symbol&&(Wt[Symbol.iterator]=function(){return this}),Wt;function Qt(xt){return function(Ut){return function Qn(xt){if(Be)throw new TypeError("Generator is already executing.");for(;Oe;)try{if(Be=1,Xe&&(Ne=2&xt[0]?Xe.return:xt[0]?Xe.throw||((Ne=Xe.return)&&Ne.call(Xe),0):Xe.next)&&!(Ne=Ne.call(Xe,xt[1])).done)return Ne;switch(Xe=0,Ne&&(xt=[2&xt[0],Ne.value]),xt[0]){case 0:case 1:Ne=xt;break;case 4:return Oe.label++,{value:xt[1],done:!1};case 5:Oe.label++,Xe=xt[1],xt=[0];continue;case 7:xt=Oe.ops.pop(),Oe.trys.pop();continue;default:if(!(Ne=(Ne=Oe.trys).length>0&&Ne[Ne.length-1])&&(6===xt[0]||2===xt[0])){Oe=0;continue}if(3===xt[0]&&(!Ne||xt[1]>Ne[0]&&xt[1]<Ne[3])){Oe.label=xt[1];break}if(6===xt[0]&&Oe.label<Ne[1]){Oe.label=Ne[1],Ne=xt;break}if(Ne&&Oe.label<Ne[2]){Oe.label=Ne[2],Oe.ops.push(xt);break}Ne[2]&&Oe.ops.pop(),Oe.trys.pop();continue}xt=xe.call(fe,Oe)}catch(Ut){xt=[6,Ut],Xe=0}finally{Be=Ne=0}if(5&xt[0])throw xt[1];return{value:xt[0]?xt[1]:void 0,done:!0}}([xt,Ut])}}}var ee=Object.create?function(fe,xe,Oe,Be){void 0===Be&&(Be=Oe),Object.defineProperty(fe,Be,{enumerable:!0,get:function(){return xe[Oe]}})}:function(fe,xe,Oe,Be){void 0===Be&&(Be=Oe),fe[Be]=xe[Oe]};function de(fe,xe){for(var Oe in fe)"default"!==Oe&&!Object.prototype.hasOwnProperty.call(xe,Oe)&&ee(xe,fe,Oe)}function T(fe){var xe="function"==typeof Symbol&&Symbol.iterator,Oe=xe&&fe[xe],Be=0;if(Oe)return Oe.call(fe);if(fe&&"number"==typeof fe.length)return{next:function(){return fe&&Be>=fe.length&&(fe=void 0),{value:fe&&fe[Be++],done:!fe}}};throw new TypeError(xe?"Object is not iterable.":"Symbol.iterator is not defined.")}function F(fe,xe){var Oe="function"==typeof Symbol&&fe[Symbol.iterator];if(!Oe)return fe;var Xe,Wt,Be=Oe.call(fe),Ne=[];try{for(;(void 0===xe||xe-- >0)&&!(Xe=Be.next()).done;)Ne.push(Xe.value)}catch(Qt){Wt={error:Qt}}finally{try{Xe&&!Xe.done&&(Oe=Be.return)&&Oe.call(Be)}finally{if(Wt)throw Wt.error}}return Ne}function H(){for(var fe=[],xe=0;xe<arguments.length;xe++)fe=fe.concat(F(arguments[xe]));return fe}function oe(){for(var fe=0,xe=0,Oe=arguments.length;xe<Oe;xe++)fe+=arguments[xe].length;var Be=Array(fe),Xe=0;for(xe=0;xe<Oe;xe++)for(var Ne=arguments[xe],Wt=0,Qt=Ne.length;Wt<Qt;Wt++,Xe++)Be[Xe]=Ne[Wt];return Be}function me(fe,xe,Oe){if(Oe||2===arguments.length)for(var Ne,Be=0,Xe=xe.length;Be<Xe;Be++)(Ne||!(Be in xe))&&(Ne||(Ne=Array.prototype.slice.call(xe,0,Be)),Ne[Be]=xe[Be]);return fe.concat(Ne||Array.prototype.slice.call(xe))}function ce(fe){return this instanceof ce?(this.v=fe,this):new ce(fe)}function se(fe,xe,Oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Xe,Be=Oe.apply(fe,xe||[]),Ne=[];return Xe={},Wt("next"),Wt("throw"),Wt("return"),Xe[Symbol.asyncIterator]=function(){return this},Xe;function Wt(Hn){Be[Hn]&&(Xe[Hn]=function(vr){return new Promise(function(wn,Ae){Ne.push([Hn,vr,wn,Ae])>1||Qt(Hn,vr)})})}function Qt(Hn,vr){try{!function Qn(Hn){Hn.value instanceof ce?Promise.resolve(Hn.value.v).then(xt,Ut):Wn(Ne[0][2],Hn)}(Be[Hn](vr))}catch(wn){Wn(Ne[0][3],wn)}}function xt(Hn){Qt("next",Hn)}function Ut(Hn){Qt("throw",Hn)}function Wn(Hn,vr){Hn(vr),Ne.shift(),Ne.length&&Qt(Ne[0][0],Ne[0][1])}}function je(fe){var xe,Oe;return xe={},Be("next"),Be("throw",function(Xe){throw Xe}),Be("return"),xe[Symbol.iterator]=function(){return this},xe;function Be(Xe,Ne){xe[Xe]=fe[Xe]?function(Wt){return(Oe=!Oe)?{value:ce(fe[Xe](Wt)),done:"return"===Xe}:Ne?Ne(Wt):Wt}:Ne}}function Ye(fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,xe=fe[Symbol.asyncIterator];return xe?xe.call(fe):(fe=T(fe),Oe={},Be("next"),Be("throw"),Be("return"),Oe[Symbol.asyncIterator]=function(){return this},Oe);function Be(Ne){Oe[Ne]=fe[Ne]&&function(Wt){return new Promise(function(Qt,Qn){!function Xe(Ne,Wt,Qt,Qn){Promise.resolve(Qn).then(function(xt){Ne({value:xt,done:Qt})},Wt)}(Qt,Qn,(Wt=fe[Ne](Wt)).done,Wt.value)})}}}function We(fe,xe){return Object.defineProperty?Object.defineProperty(fe,"raw",{value:xe}):fe.raw=xe,fe}var Qe=Object.create?function(fe,xe){Object.defineProperty(fe,"default",{enumerable:!0,value:xe})}:function(fe,xe){fe.default=xe};function ze(fe){if(fe&&fe.__esModule)return fe;var xe={};if(null!=fe)for(var Oe in fe)"default"!==Oe&&Object.prototype.hasOwnProperty.call(fe,Oe)&&ee(xe,fe,Oe);return Qe(xe,fe),xe}function gt(fe){return fe&&fe.__esModule?fe:{default:fe}}function Te(fe,xe,Oe,Be){if("a"===Oe&&!Be)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof xe?fe!==xe||!Be:!xe.has(fe))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===Oe?Be:"a"===Oe?Be.call(fe):Be?Be.value:xe.get(fe)}function Re(fe,xe,Oe,Be,Xe){if("m"===Be)throw new TypeError("Private method is not writable");if("a"===Be&&!Xe)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof xe?fe!==xe||!Xe:!xe.has(fe))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===Be?Xe.call(fe,Oe):Xe?Xe.value=Oe:xe.set(fe,Oe),Oe}},4602:kt=>{"use strict";kt.exports='\n/* classes attached to <body> */\n/* TODO: make fc-event selector work when calender in shadow DOM */\n.fc-not-allowed,\n.fc-not-allowed .fc-event { /* override events\' custom cursors */\n  cursor: not-allowed;\n}\n/* TODO: not attached to body. attached to specific els. move */\n.fc-unselectable {\n  -webkit-user-select: none;\n          user-select: none;\n  -webkit-touch-callout: none;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.fc {\n  /* layout of immediate children */\n  display: flex;\n  flex-direction: column;\n\n  font-size: 1em\n}\n.fc,\n  .fc *,\n  .fc *:before,\n  .fc *:after {\n    box-sizing: border-box;\n  }\n.fc table {\n    border-collapse: collapse;\n    border-spacing: 0;\n    font-size: 1em; /* normalize cross-browser */\n  }\n.fc th {\n    text-align: center;\n  }\n.fc th,\n  .fc td {\n    vertical-align: top;\n    padding: 0;\n  }\n.fc a[data-navlink] {\n    cursor: pointer;\n  }\n.fc a[data-navlink]:hover {\n    text-decoration: underline;\n  }\n.fc-direction-ltr {\n  direction: ltr;\n  text-align: left;\n}\n.fc-direction-rtl {\n  direction: rtl;\n  text-align: right;\n}\n.fc-theme-standard td,\n  .fc-theme-standard th {\n    border: 1px solid #ddd;\n    border: 1px solid var(--fc-border-color, #ddd);\n  }\n/* for FF, which doesn\'t expand a 100% div within a table cell. use absolute positioning */\n/* inner-wrappers are responsible for being absolute */\n/* TODO: best place for this? */\n.fc-liquid-hack td,\n  .fc-liquid-hack th {\n    position: relative;\n  }\n@font-face {\n  font-family: \'fcicons\';\n  src: url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format(\'truetype\');\n  font-weight: normal;\n  font-style: normal;\n}\n.fc-icon {\n  /* added for fc */\n  display: inline-block;\n  width: 1em;\n  height: 1em;\n  text-align: center;\n  -webkit-user-select: none;\n          user-select: none;\n\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: \'fcicons\' !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-feature-settings: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.fc-icon-chevron-left:before {\n  content: "\\e900";\n}\n.fc-icon-chevron-right:before {\n  content: "\\e901";\n}\n.fc-icon-chevrons-left:before {\n  content: "\\e902";\n}\n.fc-icon-chevrons-right:before {\n  content: "\\e903";\n}\n.fc-icon-minus-square:before {\n  content: "\\e904";\n}\n.fc-icon-plus-square:before {\n  content: "\\e905";\n}\n.fc-icon-x:before {\n  content: "\\e906";\n}\n/*\nLots taken from Flatly (MIT): https://bootswatch.com/4/flatly/bootstrap.css\n\nThese styles only apply when the standard-theme is activated.\nWhen it\'s NOT activated, the fc-button classes won\'t even be in the DOM.\n*/\n.fc {\n\n  /* reset */\n\n}\n.fc .fc-button {\n    border-radius: 0;\n    overflow: visible;\n    text-transform: none;\n    margin: 0;\n    font-family: inherit;\n    font-size: inherit;\n    line-height: inherit;\n  }\n.fc .fc-button:focus {\n    outline: 1px dotted;\n    outline: 5px auto -webkit-focus-ring-color;\n  }\n.fc .fc-button {\n    -webkit-appearance: button;\n  }\n.fc .fc-button:not(:disabled) {\n    cursor: pointer;\n  }\n.fc .fc-button::-moz-focus-inner {\n    padding: 0;\n    border-style: none;\n  }\n.fc {\n\n  /* theme */\n\n}\n.fc .fc-button {\n    display: inline-block;\n    font-weight: 400;\n    text-align: center;\n    vertical-align: middle;\n    -webkit-user-select: none;\n            user-select: none;\n    background-color: transparent;\n    border: 1px solid transparent;\n    padding: 0.4em 0.65em;\n    font-size: 1em;\n    line-height: 1.5;\n    border-radius: 0.25em;\n  }\n.fc .fc-button:hover {\n    text-decoration: none;\n  }\n.fc .fc-button:focus {\n    outline: 0;\n    box-shadow: 0 0 0 0.2rem rgba(44, 62, 80, 0.25);\n  }\n.fc .fc-button:disabled {\n    opacity: 0.65;\n  }\n.fc {\n\n  /* "primary" coloring */\n\n}\n.fc .fc-button-primary {\n    color: #fff;\n    color: var(--fc-button-text-color, #fff);\n    background-color: #2C3E50;\n    background-color: var(--fc-button-bg-color, #2C3E50);\n    border-color: #2C3E50;\n    border-color: var(--fc-button-border-color, #2C3E50);\n  }\n.fc .fc-button-primary:hover {\n    color: #fff;\n    color: var(--fc-button-text-color, #fff);\n    background-color: #1e2b37;\n    background-color: var(--fc-button-hover-bg-color, #1e2b37);\n    border-color: #1a252f;\n    border-color: var(--fc-button-hover-border-color, #1a252f);\n  }\n.fc .fc-button-primary:disabled { /* not DRY */\n    color: #fff;\n    color: var(--fc-button-text-color, #fff);\n    background-color: #2C3E50;\n    background-color: var(--fc-button-bg-color, #2C3E50);\n    border-color: #2C3E50;\n    border-color: var(--fc-button-border-color, #2C3E50); /* overrides :hover */\n  }\n.fc .fc-button-primary:focus {\n    box-shadow: 0 0 0 0.2rem rgba(76, 91, 106, 0.5);\n  }\n.fc .fc-button-primary:not(:disabled):active,\n  .fc .fc-button-primary:not(:disabled).fc-button-active {\n    color: #fff;\n    color: var(--fc-button-text-color, #fff);\n    background-color: #1a252f;\n    background-color: var(--fc-button-active-bg-color, #1a252f);\n    border-color: #151e27;\n    border-color: var(--fc-button-active-border-color, #151e27);\n  }\n.fc .fc-button-primary:not(:disabled):active:focus,\n  .fc .fc-button-primary:not(:disabled).fc-button-active:focus {\n    box-shadow: 0 0 0 0.2rem rgba(76, 91, 106, 0.5);\n  }\n.fc {\n\n  /* icons within buttons */\n\n}\n.fc .fc-button .fc-icon {\n    vertical-align: middle;\n    font-size: 1.5em; /* bump up the size (but don\'t make it bigger than line-height of button, which is 1.5em also) */\n  }\n.fc .fc-button-group {\n    position: relative;\n    display: inline-flex;\n    vertical-align: middle;\n  }\n.fc .fc-button-group > .fc-button {\n    position: relative;\n    flex: 1 1 auto;\n  }\n.fc .fc-button-group > .fc-button:hover {\n    z-index: 1;\n  }\n.fc .fc-button-group > .fc-button:focus,\n  .fc .fc-button-group > .fc-button:active,\n  .fc .fc-button-group > .fc-button.fc-button-active {\n    z-index: 1;\n  }\n.fc-direction-ltr .fc-button-group > .fc-button:not(:first-child) {\n    margin-left: -1px;\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n.fc-direction-ltr .fc-button-group > .fc-button:not(:last-child) {\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n.fc-direction-rtl .fc-button-group > .fc-button:not(:first-child) {\n    margin-right: -1px;\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n.fc-direction-rtl .fc-button-group > .fc-button:not(:last-child) {\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n.fc .fc-toolbar {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n.fc .fc-toolbar.fc-header-toolbar {\n    margin-bottom: 1.5em;\n  }\n.fc .fc-toolbar.fc-footer-toolbar {\n    margin-top: 1.5em;\n  }\n.fc .fc-toolbar-title {\n    font-size: 1.75em;\n    margin: 0;\n  }\n.fc-direction-ltr .fc-toolbar > * > :not(:first-child) {\n    margin-left: .75em; /* space between */\n  }\n.fc-direction-rtl .fc-toolbar > * > :not(:first-child) {\n    margin-right: .75em; /* space between */\n  }\n.fc-direction-rtl .fc-toolbar-ltr { /* when the toolbar-chunk positioning system is explicitly left-to-right */\n    flex-direction: row-reverse;\n  }\n.fc .fc-scroller {\n    -webkit-overflow-scrolling: touch;\n    position: relative; /* for abs-positioned elements within */\n  }\n.fc .fc-scroller-liquid {\n    height: 100%;\n  }\n.fc .fc-scroller-liquid-absolute {\n    position: absolute;\n    top: 0;\n    right: 0;\n    left: 0;\n    bottom: 0;\n  }\n.fc .fc-scroller-harness {\n    position: relative;\n    overflow: hidden;\n    direction: ltr;\n      /* hack for chrome computing the scroller\'s right/left wrong for rtl. undone below... */\n      /* TODO: demonstrate in codepen */\n  }\n.fc .fc-scroller-harness-liquid {\n    height: 100%;\n  }\n.fc-direction-rtl .fc-scroller-harness > .fc-scroller { /* undo above hack */\n    direction: rtl;\n  }\n.fc-theme-standard .fc-scrollgrid {\n    border: 1px solid #ddd;\n    border: 1px solid var(--fc-border-color, #ddd); /* bootstrap does this. match */\n  }\n.fc .fc-scrollgrid,\n    .fc .fc-scrollgrid table { /* all tables (self included) */\n      width: 100%; /* because tables don\'t normally do this */\n      table-layout: fixed;\n    }\n.fc .fc-scrollgrid table { /* inner tables */\n      border-top-style: hidden;\n      border-left-style: hidden;\n      border-right-style: hidden;\n    }\n.fc .fc-scrollgrid {\n\n    border-collapse: separate;\n    border-right-width: 0;\n    border-bottom-width: 0;\n\n  }\n.fc .fc-scrollgrid-liquid {\n    height: 100%;\n  }\n.fc .fc-scrollgrid-section { /* a <tr> */\n    height: 1px /* better than 0, for firefox */\n\n  }\n.fc .fc-scrollgrid-section > td {\n      height: 1px; /* needs a height so inner div within grow. better than 0, for firefox */\n    }\n.fc .fc-scrollgrid-section table {\n      height: 1px;\n        /* for most browsers, if a height isn\'t set on the table, can\'t do liquid-height within cells */\n        /* serves as a min-height. harmless */\n    }\n.fc .fc-scrollgrid-section-liquid > td {\n      height: 100%; /* better than `auto`, for firefox */\n    }\n.fc .fc-scrollgrid-section > * {\n    border-top-width: 0;\n    border-left-width: 0;\n  }\n.fc .fc-scrollgrid-section-header > *,\n  .fc .fc-scrollgrid-section-footer > * {\n    border-bottom-width: 0;\n  }\n.fc .fc-scrollgrid-section-body table,\n  .fc .fc-scrollgrid-section-footer table {\n    border-bottom-style: hidden; /* head keeps its bottom border tho */\n  }\n.fc {\n\n  /* stickiness */\n\n}\n.fc .fc-scrollgrid-section-sticky > * {\n    background: #fff;\n    background: var(--fc-page-bg-color, #fff);\n    position: sticky;\n    z-index: 3; /* TODO: var */\n    /* TODO: box-shadow when sticking */\n  }\n.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky > * {\n    top: 0; /* because border-sharing causes a gap at the top */\n      /* TODO: give safari -1. has bug */\n  }\n.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky > * {\n    bottom: 0; /* known bug: bottom-stickiness doesn\'t work in safari */\n  }\n.fc .fc-scrollgrid-sticky-shim { /* for horizontal scrollbar */\n    height: 1px; /* needs height to create scrollbars */\n    margin-bottom: -1px;\n  }\n.fc-sticky { /* no .fc wrap because used as child of body */\n  position: sticky;\n}\n.fc .fc-view-harness {\n    flex-grow: 1; /* because this harness is WITHIN the .fc\'s flexbox */\n    position: relative;\n  }\n.fc {\n\n  /* when the harness controls the height, make the view liquid */\n\n}\n.fc .fc-view-harness-active > .fc-view {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n  }\n.fc .fc-col-header-cell-cushion {\n    display: inline-block; /* x-browser for when sticky (when multi-tier header) */\n    padding: 2px 4px;\n  }\n.fc .fc-bg-event,\n  .fc .fc-non-business,\n  .fc .fc-highlight {\n    /* will always have a harness with position:relative/absolute, so absolutely expand */\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n.fc .fc-non-business {\n    background: rgba(215, 215, 215, 0.3);\n    background: var(--fc-non-business-color, rgba(215, 215, 215, 0.3));\n  }\n.fc .fc-bg-event {\n    background: rgb(143, 223, 130);\n    background: var(--fc-bg-event-color, rgb(143, 223, 130));\n    opacity: 0.3;\n    opacity: var(--fc-bg-event-opacity, 0.3)\n  }\n.fc .fc-bg-event .fc-event-title {\n      margin: .5em;\n      font-size: .85em;\n      font-size: var(--fc-small-font-size, .85em);\n      font-style: italic;\n    }\n.fc .fc-highlight {\n    background: rgba(188, 232, 241, 0.3);\n    background: var(--fc-highlight-color, rgba(188, 232, 241, 0.3));\n  }\n.fc .fc-cell-shaded,\n  .fc .fc-day-disabled {\n    background: rgba(208, 208, 208, 0.3);\n    background: var(--fc-neutral-bg-color, rgba(208, 208, 208, 0.3));\n  }\n/* link resets */\n/* ---------------------------------------------------------------------------------------------------- */\na.fc-event,\na.fc-event:hover {\n  text-decoration: none;\n}\n/* cursor */\n.fc-event[href],\n.fc-event.fc-event-draggable {\n  cursor: pointer;\n}\n/* event text content */\n/* ---------------------------------------------------------------------------------------------------- */\n.fc-event .fc-event-main {\n    position: relative;\n    z-index: 2;\n  }\n/* dragging */\n/* ---------------------------------------------------------------------------------------------------- */\n.fc-event-dragging:not(.fc-event-selected) { /* MOUSE */\n    opacity: 0.75;\n  }\n.fc-event-dragging.fc-event-selected { /* TOUCH */\n    box-shadow: 0 2px 7px rgba(0, 0, 0, 0.3);\n  }\n/* resizing */\n/* ---------------------------------------------------------------------------------------------------- */\n/* (subclasses should hone positioning for touch and non-touch) */\n.fc-event .fc-event-resizer {\n    display: none;\n    position: absolute;\n    z-index: 4;\n  }\n.fc-event:hover, /* MOUSE */\n.fc-event-selected { /* TOUCH */\n\n}\n.fc-event:hover .fc-event-resizer, .fc-event-selected .fc-event-resizer {\n    display: block;\n  }\n.fc-event-selected .fc-event-resizer {\n    border-radius: 4px;\n    border-radius: calc(var(--fc-event-resizer-dot-total-width, 8px) / 2);\n    border-width: 1px;\n    border-width: var(--fc-event-resizer-dot-border-width, 1px);\n    width: 8px;\n    width: var(--fc-event-resizer-dot-total-width, 8px);\n    height: 8px;\n    height: var(--fc-event-resizer-dot-total-width, 8px);\n    border-style: solid;\n    border-color: inherit;\n    background: #fff;\n    background: var(--fc-page-bg-color, #fff)\n\n    /* expand hit area */\n\n  }\n.fc-event-selected .fc-event-resizer:before {\n      content: \'\';\n      position: absolute;\n      top: -20px;\n      left: -20px;\n      right: -20px;\n      bottom: -20px;\n    }\n/* selecting (always TOUCH) */\n/* OR, focused by tab-index */\n/* (TODO: maybe not the best focus-styling for .fc-daygrid-dot-event) */\n/* ---------------------------------------------------------------------------------------------------- */\n.fc-event-selected,\n.fc-event:focus {\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2)\n\n  /* expand hit area (subclasses should expand) */\n\n}\n.fc-event-selected:before, .fc-event:focus:before {\n    content: "";\n    position: absolute;\n    z-index: 3;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n.fc-event-selected,\n.fc-event:focus {\n\n  /* dimmer effect */\n\n}\n.fc-event-selected:after, .fc-event:focus:after {\n    content: "";\n    background: rgba(0, 0, 0, 0.25);\n    background: var(--fc-event-selected-overlay-color, rgba(0, 0, 0, 0.25));\n    position: absolute;\n    z-index: 1;\n\n    /* assume there\'s a border on all sides. overcome it. */\n    /* sometimes there\'s NOT a border, in which case the dimmer will go over */\n    /* an adjacent border, which looks fine. */\n    top: -1px;\n    left: -1px;\n    right: -1px;\n    bottom: -1px;\n  }\n/*\nA HORIZONTAL event\n*/\n.fc-h-event { /* allowed to be top-level */\n  display: block;\n  border: 1px solid #3788d8;\n  border: 1px solid var(--fc-event-border-color, #3788d8);\n  background-color: #3788d8;\n  background-color: var(--fc-event-bg-color, #3788d8)\n\n}\n.fc-h-event .fc-event-main {\n    color: #fff;\n    color: var(--fc-event-text-color, #fff);\n  }\n.fc-h-event .fc-event-main-frame {\n    display: flex; /* for make fc-event-title-container expand */\n  }\n.fc-h-event .fc-event-time {\n    max-width: 100%; /* clip overflow on this element */\n    overflow: hidden;\n  }\n.fc-h-event .fc-event-title-container { /* serves as a container for the sticky cushion */\n    flex-grow: 1;\n    flex-shrink: 1;\n    min-width: 0; /* important for allowing to shrink all the way */\n  }\n.fc-h-event .fc-event-title {\n    display: inline-block; /* need this to be sticky cross-browser */\n    vertical-align: top; /* for not messing up line-height */\n    left: 0;  /* for sticky */\n    right: 0; /* for sticky */\n    max-width: 100%; /* clip overflow on this element */\n    overflow: hidden;\n  }\n.fc-h-event.fc-event-selected:before {\n    /* expand hit area */\n    top: -10px;\n    bottom: -10px;\n  }\n/* adjust border and border-radius (if there is any) for non-start/end */\n.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),\n.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end) {\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  border-left-width: 0;\n}\n.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),\n.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start) {\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  border-right-width: 0;\n}\n/* resizers */\n.fc-h-event:not(.fc-event-selected) .fc-event-resizer {\n  top: 0;\n  bottom: 0;\n  width: 8px;\n  width: var(--fc-event-resizer-thickness, 8px);\n}\n.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,\n.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end {\n  cursor: w-resize;\n  left: -4px;\n  left: calc(-0.5 * var(--fc-event-resizer-thickness, 8px));\n}\n.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,\n.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start {\n  cursor: e-resize;\n  right: -4px;\n  right: calc(-0.5 * var(--fc-event-resizer-thickness, 8px));\n}\n/* resizers for TOUCH */\n.fc-h-event.fc-event-selected .fc-event-resizer {\n  top: 50%;\n  margin-top: -4px;\n  margin-top: calc(-0.5 * var(--fc-event-resizer-dot-total-width, 8px));\n}\n.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,\n.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end {\n  left: -4px;\n  left: calc(-0.5 * var(--fc-event-resizer-dot-total-width, 8px));\n}\n.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,\n.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start {\n  right: -4px;\n  right: calc(-0.5 * var(--fc-event-resizer-dot-total-width, 8px));\n}\n.fc .fc-popover {\n    position: absolute;\n    z-index: 9999;\n    box-shadow: 0 2px 6px rgba(0,0,0,.15);\n  }\n.fc .fc-popover-header {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    padding: 3px 4px;\n  }\n.fc .fc-popover-title {\n    margin: 0 2px;\n  }\n.fc .fc-popover-close {\n    cursor: pointer;\n    opacity: 0.65;\n    font-size: 1.1em;\n  }\n.fc-theme-standard .fc-popover {\n    border: 1px solid #ddd;\n    border: 1px solid var(--fc-border-color, #ddd);\n    background: #fff;\n    background: var(--fc-page-bg-color, #fff);\n  }\n.fc-theme-standard .fc-popover-header {\n    background: rgba(208, 208, 208, 0.3);\n    background: var(--fc-neutral-bg-color, rgba(208, 208, 208, 0.3));\n  }\n'},5e3:(kt,qe,z)=>{"use strict";z.d(qe,{$8M:()=>pr,$Z:()=>If,AFp:()=>Zf,ALo:()=>B_,AaK:()=>Me,BQk:()=>wp,CHM:()=>ds,CRH:()=>rv,CZH:()=>Wf,CqO:()=>YE,EJc:()=>Yl,EiD:()=>Ll,EpF:()=>Cp,F4k:()=>KE,FYo:()=>dw,FiY:()=>eo,G48:()=>jI,Gf:()=>Z_,GfV:()=>ed,GkF:()=>Sf,Gpc:()=>de,Gre:()=>b_,JOm:()=>X,JVY:()=>Nl,L6k:()=>ku,LAX:()=>Qd,LFG:()=>Ir,LSH:()=>Pc,Lbi:()=>$f,MGl:()=>Rm,NdJ:()=>c_,O4$:()=>Ah,OlP:()=>nr,Oqu:()=>ro,PXZ:()=>Gw,Q6J:()=>bp,QGY:()=>u_,Qsj:()=>hi,R0b:()=>Ma,RDi:()=>Yi,Rgc:()=>nd,SBq:()=>Up,Sil:()=>Or,Suo:()=>Tw,TTD:()=>ui,TgZ:()=>Ep,Tol:()=>h_,Udp:()=>Nm,VLi:()=>VI,X6Q:()=>HI,XFs:()=>Dt,Xpm:()=>Pe,Y36:()=>_p,YKP:()=>Zm,YNc:()=>OE,Yjl:()=>bt,Yz7:()=>wn,ZZ4:()=>k0,_Bn:()=>Vp,_UZ:()=>l_,_Vd:()=>Wm,_c5:()=>uC,_uU:()=>EA,aQg:()=>N0,c2e:()=>Ow,cJS:()=>_e,cg1:()=>Bm,d8E:()=>Vm,dDg:()=>A0,deG:()=>Vd,dqk:()=>bn,eBb:()=>Mc,eFA:()=>vv,ekj:()=>fA,evT:()=>f,g9A:()=>pv,h0i:()=>$l,hGG:()=>Zi,hij:()=>Om,iGM:()=>nv,ifc:()=>un,ip1:()=>g0,kL8:()=>NA,kYT:()=>pe,lG2:()=>et,lcZ:()=>U_,mCW:()=>E,n5z:()=>gc,oAB:()=>Ie,oJD:()=>Uh,oxw:()=>xf,pB0:()=>Nu,q3G:()=>Pr,q4F:()=>pI,qLn:()=>Fu,qOj:()=>mm,qZA:()=>xm,qzn:()=>Do,sBO:()=>Zw,sIi:()=>Da,s_b:()=>Lf,soG:()=>Kl,tBr:()=>_s,tb:()=>gv,tp0:()=>Ka,uIk:()=>vp,vHH:()=>oe,vpe:()=>ll,wAp:()=>_n,xp6:()=>_y,yhl:()=>Ru,ynx:()=>Ap,z2F:()=>ad,z3N:()=>Ko,zSh:()=>Hy,zs3:()=>Ca});var u=z(7579),O=z(727),k=z(8306),G=z(6451),ne=z(3099);function Ce(o){for(let s in o)if(o[s]===Ce)return s;throw Error("Could not find renamed property on target object.")}function Ee(o,s){for(const l in s)s.hasOwnProperty(l)&&!o.hasOwnProperty(l)&&(o[l]=s[l])}function Me(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(Me).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const l=s.indexOf("\n");return-1===l?s:s.substring(0,l)}function De(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const ee=Ce({__forward_ref__:Ce});function de(o){return o.__forward_ref__=de,o.toString=function(){return Me(this())},o}function T(o){return F(o)?o():o}function F(o){return"function"==typeof o&&o.hasOwnProperty(ee)&&o.__forward_ref__===de}class oe extends Error{constructor(s,l){super(function me(o,s){return`NG0${Math.abs(o)}${s?": "+s:""}`}(s,l)),this.code=s}}function ce(o){return"string"==typeof o?o:null==o?"":String(o)}function se(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():ce(o)}function Qe(o,s){const l=s?` in ${s}`:"";throw new oe(-201,`No provider for ${se(o)} found${l}`)}function xt(o,s){null==o&&function Ut(o,s,l,c){throw new Error(`ASSERTION ERROR: ${o}`+(null==c?"":` [Expected=> ${l} ${c} ${s} <=Actual]`))}(s,o,null,"!=")}function wn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function _e(o){return{providers:o.providers||[],imports:o.imports||[]}}function Ve(o){return at(o,on)||at(o,gn)}function at(o,s){return o.hasOwnProperty(s)?o[s]:null}function Ot(o){return o&&(o.hasOwnProperty(vn)||o.hasOwnProperty($e))?o[vn]:null}const on=Ce({\u0275prov:Ce}),vn=Ce({\u0275inj:Ce}),gn=Ce({ngInjectableDef:Ce}),$e=Ce({ngInjectorDef:Ce});var Dt=(()=>((Dt=Dt||{})[Dt.Default=0]="Default",Dt[Dt.Host=1]="Host",Dt[Dt.Self=2]="Self",Dt[Dt.SkipSelf=4]="SkipSelf",Dt[Dt.Optional=8]="Optional",Dt))();let Jt;function Ft(o){const s=Jt;return Jt=o,s}function Jn(o,s,l){const c=Ve(o);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:l&Dt.Optional?null:void 0!==s?s:void Qe(Me(o),"Injector")}function xn(o){return{toString:o}.toString()}var Cn=(()=>((Cn=Cn||{})[Cn.OnPush=0]="OnPush",Cn[Cn.Default=1]="Default",Cn))(),un=(()=>{return(o=un||(un={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",un;var o})();const Zt="undefined"!=typeof globalThis&&globalThis,Rt="undefined"!=typeof window&&window,zn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,bn=Zt||"undefined"!=typeof global&&global||Rt||zn,Dn={},ue=[],ve=Ce({\u0275cmp:Ce}),B=Ce({\u0275dir:Ce}),J=Ce({\u0275pipe:Ce}),W=Ce({\u0275mod:Ce}),le=Ce({\u0275fac:Ce}),ae=Ce({__NG_ELEMENT_ID__:Ce});let ge=0;function Pe(o){return xn(()=>{const l={},c={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===Cn.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||ue,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||un.Emulated,id:"c",styles:o.styles||ue,_:null,setInput:null,schemas:o.schemas||null,tView:null},g=o.directives,y=o.features,w=o.pipes;return c.id+=ge++,c.inputs=he(o.inputs,l),c.outputs=he(o.outputs),y&&y.forEach(I=>I(c)),c.directiveDefs=g?()=>("function"==typeof g?g():g).map(ht):null,c.pipeDefs=w?()=>("function"==typeof w?w():w).map(lt):null,c})}function ht(o){return jt(o)||function rn(o){return o[B]||null}(o)}function lt(o){return function Fn(o){return o[J]||null}(o)}const qt={};function Ie(o){return xn(()=>{const s={type:o.type,bootstrap:o.bootstrap||ue,declarations:o.declarations||ue,imports:o.imports||ue,exports:o.exports||ue,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(qt[o.id]=o.type),s})}function pe(o,s){return xn(()=>{const l=Lt(o,!0);l.declarations=s.declarations||ue,l.imports=s.imports||ue,l.exports=s.exports||ue})}function he(o,s){if(null==o)return Dn;const l={};for(const c in o)if(o.hasOwnProperty(c)){let g=o[c],y=g;Array.isArray(g)&&(y=g[1],g=g[0]),l[g]=c,s&&(s[g]=y)}return l}const et=Pe;function bt(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function jt(o){return o[ve]||null}function Lt(o,s){const l=o[W]||null;if(!l&&!0===s)throw new Error(`Type ${Me(o)} does not have '\u0275mod' property.`);return l}function ai(o){return Array.isArray(o)&&"object"==typeof o[1]}function li(o){return Array.isArray(o)&&!0===o[1]}function Js(o){return 0!=(8&o.flags)}function Ss(o){return 2==(2&o.flags)}function ss(o){return 1==(1&o.flags)}function yi(o){return null!==o.template}function lc(o){return 0!=(512&o[2])}function Ii(o,s){return o.hasOwnProperty(le)?o[le]:null}class ta{constructor(s,l,c){this.previousValue=s,this.currentValue=l,this.firstChange=c}isFirstChange(){return this.firstChange}}function ui(){return ls}function ls(o){return o.type.prototype.ngOnChanges&&(o.setInput=Cd),na}function na(){const o=Vo(this),s=null==o?void 0:o.current;if(s){const l=o.previous;if(l===Dn)o.previous=s;else for(let c in s)l[c]=s[c];o.current=null,this.ngOnChanges(s)}}function Cd(o,s,l,c){const g=Vo(o)||function mo(o,s){return o[Ui]=s}(o,{previous:Dn,current:null}),y=g.current||(g.current={}),w=g.previous,I=this.declaredInputs[l],M=w[I];y[I]=new ta(M&&M.currentValue,s,w===Dn),o[c]=s}ui.ngInherit=!0;const Ui="__ngSimpleChanges__";function Vo(o){return o[Ui]||null}let Ms;function Yi(o){Ms=o}function us(){return void 0!==Ms?Ms:"undefined"!=typeof document?document:void 0}function cr(o){return!!o.listen}const Hi={createRenderer:(o,s)=>us()};function Zn(o){for(;Array.isArray(o);)o=o[0];return o}function cs(o,s){return Zn(s[o])}function Yr(o,s){return Zn(s[o.index])}function sa(o,s){return o.data[s]}function $(o,s){const l=s[o];return ai(l)?l:l[0]}function we(o){return 4==(4&o[2])}function Ge(o){return 128==(128&o[2])}function Tt(o,s){return null==s?null:o[s]}function cn(o){o[18]=0}function rr(o,s){o[5]+=s;let l=o,c=o[3];for(;null!==c&&(1===s&&1===l[5]||-1===s&&0===l[5]);)c[5]+=s,l=c,c=c[3]}const Gt={lFrame:El(null),bindingsEnabled:!0};function Ho(){return Gt.bindingsEnabled}function st(){return Gt.lFrame.lView}function Rn(){return Gt.lFrame.tView}function ds(o){return Gt.lFrame.contextLView=o,o[8]}function Er(){let o=Dd();for(;null!==o&&64===o.type;)o=o.parent;return o}function Dd(){return Gt.lFrame.currentTNode}function jo(o,s){const l=Gt.lFrame;l.currentTNode=o,l.isParent=s}function dc(){return Gt.lFrame.isParent}function vl(){Gt.lFrame.isParent=!1}function aa(){return Gt.lFrame.bindingIndex++}function bo(o){const s=Gt.lFrame,l=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,l}function _h(o,s){const l=Gt.lFrame;l.bindingIndex=l.bindingRootIndex=o,_l(s)}function _l(o){Gt.lFrame.currentDirectiveIndex=o}function au(o){const s=Gt.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}function xd(){return Gt.lFrame.currentQueryIndex}function Md(o){Gt.lFrame.currentQueryIndex=o}function bl(o){const s=o[1];return 2===s.type?s.declTNode:1===s.type?o[6]:null}function lu(o,s,l){if(l&Dt.SkipSelf){let g=s,y=o;for(;!(g=g.parent,null!==g||l&Dt.Host||(g=bl(y),null===g||(y=y[15],10&g.type))););if(null===g)return!1;s=g,o=y}const c=Gt.lFrame=ks();return c.currentTNode=s,c.lView=o,!0}function Vr(o){const s=ks(),l=o[1];Gt.lFrame=s,s.currentTNode=l.firstChild,s.lView=o,s.tView=l,s.contextLView=o,s.bindingIndex=l.bindingStartIndex,s.inI18n=!1}function ks(){const o=Gt.lFrame,s=null===o?null:o.child;return null===s?El(o):s}function El(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function Rd(){const o=Gt.lFrame;return Gt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const fc=Rd;function Eo(){const o=Rd();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Jr(){return Gt.lFrame.selectedIndex}function Go(o){Gt.lFrame.selectedIndex=o}function Rr(){const o=Gt.lFrame;return sa(o.tView,o.selectedIndex)}function Ah(){Gt.lFrame.currentNamespace="svg"}function zo(o,s){for(let l=s.directiveStart,c=s.directiveEnd;l<c;l++){const y=o.data[l].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:I,ngAfterViewInit:M,ngAfterViewChecked:L,ngOnDestroy:j}=y;w&&(o.contentHooks||(o.contentHooks=[])).push(-l,w),I&&((o.contentHooks||(o.contentHooks=[])).push(l,I),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(l,I)),M&&(o.viewHooks||(o.viewHooks=[])).push(-l,M),L&&((o.viewHooks||(o.viewHooks=[])).push(l,L),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(l,L)),null!=j&&(o.destroyHooks||(o.destroyHooks=[])).push(l,j)}}function Al(o,s,l){Ch(o,s,3,l)}function uu(o,s,l,c){(3&o[2])===l&&Ch(o,s,l,c)}function hc(o,s){let l=o[2];(3&l)===s&&(l&=2047,l+=1,o[2]=l)}function Ch(o,s,l,c){const y=null!=c?c:-1,w=s.length-1;let I=0;for(let M=void 0!==c?65535&o[18]:0;M<w;M++)if("number"==typeof s[M+1]){if(I=s[M],null!=c&&I>=c)break}else s[M]<0&&(o[18]+=65536),(I<y||-1==y)&&(Dh(o,l,s,M),o[18]=(4294901760&o[18])+M+2),M++}function Dh(o,s,l,c){const g=l[c]<0,y=l[c+1],I=o[g?-l[c]:l[c]];if(g){if(o[2]>>11<o[18]>>16&&(3&o[2])===s){o[2]+=2048;try{y.call(I)}finally{}}}else try{y.call(I)}finally{}}class Va{constructor(s,l,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=c}}function Cl(o,s,l){const c=cr(o);let g=0;for(;g<l.length;){const y=l[g];if("number"==typeof y){if(0!==y)break;g++;const w=l[g++],I=l[g++],M=l[g++];c?o.setAttribute(s,I,M,w):s.setAttributeNS(w,I,M)}else{const w=y,I=l[++g];pc(w)?c&&o.setProperty(s,w,I):c?o.setAttribute(s,w,I):s.setAttribute(w,I),g++}}return g}function du(o){return 3===o||4===o||6===o}function pc(o){return 64===o.charCodeAt(0)}function la(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let l=-1;for(let c=0;c<s.length;c++){const g=s[c];"number"==typeof g?l=g:0===l||hs(o,l,g,null,-1===l||2===l?s[++c]:null)}}return o}function hs(o,s,l,c,g){let y=0,w=o.length;if(-1===s)w=-1;else for(;y<o.length;){const I=o[y++];if("number"==typeof I){if(I===s){w=-1;break}if(I>s){w=y-1;break}}}for(;y<o.length;){const I=o[y];if("number"==typeof I)break;if(I===l){if(null===c)return void(null!==g&&(o[y+1]=g));if(c===o[y+1])return void(o[y+2]=g)}y++,null!==c&&y++,null!==g&&y++}-1!==w&&(o.splice(w,0,s),y=w+1),o.splice(y++,0,l),null!==c&&o.splice(y++,0,c),null!==g&&o.splice(y++,0,g)}function Ua(o){return-1!==o}function or(o){return 32767&o}function dn(o,s){let l=function _i(o){return o>>16}(o),c=s;for(;l>0;)c=c[15],l--;return c}let Dl=!0;function ua(o){const s=Dl;return Dl=o,s}let Pd=0;function ci(o,s){const l=Ns(o,s);if(-1!==l)return l;const c=s[1];c.firstCreatePass&&(o.injectorIndex=s.length,ca(c.data,o),ca(s,null),ca(c.blueprint,null));const g=hu(o,s),y=o.injectorIndex;if(Ua(g)){const w=or(g),I=dn(g,s),M=I[1].data;for(let L=0;L<8;L++)s[y+L]=I[w+L]|M[w+L]}return s[y+8]=g,y}function ca(o,s){o.push(0,0,0,0,0,0,0,0,s)}function Ns(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function hu(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let l=0,c=null,g=s;for(;null!==g;){const y=g[1],w=y.type;if(c=2===w?y.declTNode:1===w?g[6]:null,null===c)return-1;if(l++,g=g[15],-1!==c.injectorIndex)return c.injectorIndex|l<<16}return-1}function Ha(o,s,l){!function Ao(o,s,l){let c;"string"==typeof l?c=l.charCodeAt(0)||0:l.hasOwnProperty(ae)&&(c=l[ae]),null==c&&(c=l[ae]=Pd++);const g=255&c;s.data[o+(g>>5)]|=1<<g}(o,s,l)}function Xi(o,s,l){if(l&Dt.Optional)return o;Qe(s,"NodeInjector")}function Wo(o,s,l,c){if(l&Dt.Optional&&void 0===c&&(c=null),0==(l&(Dt.Self|Dt.Host))){const g=o[9],y=Ft(void 0);try{return g?g.get(s,c,l&Dt.Optional):Jn(s,c,l&Dt.Optional)}finally{Ft(y)}}return Xi(c,s,l)}function da(o,s,l,c=Dt.Default,g){if(null!==o){const y=function Fd(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(ae)?o[ae]:void 0;return"number"==typeof s?s>=0?255&s:Ps:s}(l);if("function"==typeof y){if(!lu(s,o,c))return c&Dt.Host?Xi(g,l,c):Wo(s,l,c,g);try{const w=y(c);if(null!=w||c&Dt.Optional)return w;Qe(l)}finally{fc()}}else if("number"==typeof y){let w=null,I=Ns(o,s),M=-1,L=c&Dt.Host?s[16][6]:null;for((-1===I||c&Dt.SkipSelf)&&(M=-1===I?hu(o,s):s[I+8],-1!==M&&gu(c,!1)?(w=s[1],I=or(M),s=dn(M,s)):I=-1);-1!==I;){const j=s[1];if(Os(y,I,j.data)){const re=xh(I,s,l,w,c,L);if(re!==Wr)return re}M=s[I+8],-1!==M&&gu(c,s[1].data[I+8]===L)&&Os(y,I,s)?(w=j,I=or(M),s=dn(M,s)):I=-1}}}return Wo(s,l,c,g)}const Wr={};function Ps(){return new Xr(Er(),st())}function xh(o,s,l,c,g,y){const w=s[1],I=w.data[o+8],j=pu(I,w,l,null==c?Ss(I)&&Dl:c!=w&&0!=(3&I.type),g&Dt.Host&&y===I);return null!==j?fa(s,w,j,I):Wr}function pu(o,s,l,c,g){const y=o.providerIndexes,w=s.data,I=1048575&y,M=o.directiveStart,j=y>>20,be=g?I+j:o.directiveEnd;for(let Fe=c?I:I+j;Fe<be;Fe++){const Ke=w[Fe];if(Fe<M&&l===Ke||Fe>=M&&Ke.type===l)return Fe}if(g){const Fe=w[M];if(Fe&&yi(Fe)&&Fe.type===l)return M}return null}function fa(o,s,l,c){let g=o[l];const y=s.data;if(function Th(o){return o instanceof Va}(g)){const w=g;w.resolving&&function je(o,s){const l=s?`. Dependency path: ${s.join(" > ")} > ${o}`:"";throw new oe(-200,`Circular dependency in DI detected for ${o}${l}`)}(se(y[l]));const I=ua(w.canSeeViewProviders);w.resolving=!0;const M=w.injectImpl?Ft(w.injectImpl):null;lu(o,c,Dt.Default);try{g=o[l]=w.factory(void 0,y,o,c),s.firstCreatePass&&l>=c.directiveStart&&function Nd(o,s,l){const{ngOnChanges:c,ngOnInit:g,ngDoCheck:y}=s.type.prototype;if(c){const w=ls(s);(l.preOrderHooks||(l.preOrderHooks=[])).push(o,w),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,w)}g&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-o,g),y&&((l.preOrderHooks||(l.preOrderHooks=[])).push(o,y),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(o,y))}(l,y[l],s)}finally{null!==M&&Ft(M),ua(I),w.resolving=!1,fc()}}return g}function Os(o,s,l){return!!(l[s+(o>>5)]&1<<o)}function gu(o,s){return!(o&Dt.Self||o&Dt.Host&&s)}class Xr{constructor(s,l){this._tNode=s,this._lView=l}get(s,l,c){return da(this._tNode,this._lView,s,c,l)}}function gc(o){return xn(()=>{const s=o.prototype.constructor,l=s[le]||Fs(s),c=Object.prototype;let g=Object.getPrototypeOf(o.prototype).constructor;for(;g&&g!==c;){const y=g[le]||Fs(g);if(y&&y!==l)return y;g=Object.getPrototypeOf(g)}return y=>new y})}function Fs(o){return F(o)?()=>{const s=Fs(T(o));return s&&s()}:Ii(o)}function pr(o){return function Od(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const l=o.attrs;if(l){const c=l.length;let g=0;for(;g<c;){const y=l[g];if(du(y))break;if(0===y)g+=2;else if("number"==typeof y)for(g++;g<c&&"string"==typeof l[g];)g++;else{if(y===s)return l[g+1];g+=2}}}return null}(Er(),o)}const ha="__parameters__";function ja(o,s,l){return xn(()=>{const c=function Zo(o){return function(...l){if(o){const c=o(...l);for(const g in c)this[g]=c[g]}}}(s);function g(...y){if(this instanceof g)return c.apply(this,y),this;const w=new g(...y);return I.annotation=w,I;function I(M,L,j){const re=M.hasOwnProperty(ha)?M[ha]:Object.defineProperty(M,ha,{value:[]})[ha];for(;re.length<=j;)re.push(null);return(re[j]=re[j]||[]).push(w),M}}return l&&(g.prototype=Object.create(l.prototype)),g.prototype.ngMetadataName=o,g.annotationCls=g,g})}class nr{constructor(s,l){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=wn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Vd=new nr("AnalyzeForEntryComponents");function Si(o,s){void 0===s&&(s=o);for(let l=0;l<o.length;l++){let c=o[l];Array.isArray(c)?(s===o&&(s=o.slice(0,l)),Si(c,s)):s!==o&&s.push(c)}return s}function ti(o,s){o.forEach(l=>Array.isArray(l)?ti(l,s):s(l))}function jd(o,s,l){s>=o.length?o.push(l):o.splice(s,0,l)}function ms(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function ji(o,s,l){let c=Ga(o,s);return c>=0?o[1|c]=l:(c=~c,function Rh(o,s,l,c){let g=o.length;if(g==s)o.push(l,c);else if(1===g)o.push(c,o[0]),o[0]=l;else{for(g--,o.push(o[g-1],o[g]);g>s;)o[g]=o[g-2],g--;o[s]=l,o[s+1]=c}}(o,c,s,l)),c}function bc(o,s){const l=Ga(o,s);if(l>=0)return o[1|l]}function Ga(o,s){return function _u(o,s,l){let c=0,g=o.length>>l;for(;g!==c;){const y=c+(g-c>>1),w=o[y<<l];if(s===w)return y<<l;w>s?g=y:c=y+1}return~(g<<l)}(o,s,1)}const $o={},Wa="__NG_DI_FLAG__",Au="ngTempTokenPath",Dc=/\n/gm,zd="__source",kg=Ce({provide:String,useValue:Ce});let ga;function Ic(o){const s=ga;return ga=o,s}function Ng(o,s=Dt.Default){if(void 0===ga)throw new oe(203,"");return null===ga?Jn(o,void 0,s):ga.get(o,s&Dt.Optional?null:void 0,s)}function Ir(o,s=Dt.Default){return(function mt(){return Jt}()||Ng)(T(o),s)}const Wd=Ir;function ma(o){const s=[];for(let l=0;l<o.length;l++){const c=T(o[l]);if(Array.isArray(c)){if(0===c.length)throw new oe(900,"");let g,y=Dt.Default;for(let w=0;w<c.length;w++){const I=c[w],M=Zd(I);"number"==typeof M?-1===M?g=I.token:y|=M:g=I}s.push(Ir(g,y))}else s.push(Ir(c))}return s}function va(o,s){return o[Wa]=s,o.prototype[Wa]=s,o}function Zd(o){return o[Wa]}const _s=va(ja("Inject",o=>({token:o})),-1),eo=va(ja("Optional"),8),Ka=va(ja("SkipSelf"),4);let Xa,Su;function Rl(o){var s;return(null===(s=function Iu(){if(void 0===Xa&&(Xa=null,bn.trustedTypes))try{Xa=bn.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return Xa}())||void 0===s?void 0:s.createHTML(o))||o}function Kd(o){var s;return(null===(s=function el(){if(void 0===Su&&(Su=null,bn.trustedTypes))try{Su=bn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return Su}())||void 0===s?void 0:s.createHTML(o))||o}class Us{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Fh extends Us{getTypeName(){return"HTML"}}class kl extends Us{getTypeName(){return"Style"}}class xc extends Us{getTypeName(){return"Script"}}class Yd extends Us{getTypeName(){return"URL"}}class Mu extends Us{getTypeName(){return"ResourceURL"}}function Ko(o){return o instanceof Us?o.changingThisBreaksApplicationSecurity:o}function Do(o,s){const l=Ru(o);if(null!=l&&l!==s){if("ResourceURL"===l&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===s}function Ru(o){return o instanceof Us&&o.getTypeName()||null}function Nl(o){return new Fh(o)}function ku(o){return new kl(o)}function Mc(o){return new xc(o)}function Qd(o){return new Yd(o)}function Nu(o){return new Mu(o)}class Lh{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const l=(new window.DOMParser).parseFromString(Rl(s),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(s):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class Rc{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const c=this.inertDocument.createElement("body");l.appendChild(c)}}getInertBodyElement(s){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=Rl(s),l;const c=this.inertDocument.createElement("body");return c.innerHTML=Rl(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(s){const l=s.attributes;for(let g=l.length-1;0<g;g--){const w=l.item(g).name;("xmlns:ns1"===w||0===w.indexOf("ns1:"))&&s.removeAttribute(w)}let c=s.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const kc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,_=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function E(o){return(o=String(o)).match(kc)||o.match(_)?o:"unsafe:"+o}function U(o){const s={};for(const l of o.split(","))s[l]=!0;return s}function Y(...o){const s={};for(const l of o)for(const c in l)l.hasOwnProperty(c)&&(s[c]=!0);return s}const Le=U("area,br,col,hr,img,wbr"),ft=U("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),zt=U("rp,rt"),xi=Y(Le,Y(ft,U("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Y(zt,U("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Y(zt,ft)),To=U("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Hs=U("srcset"),bs=Y(To,Hs,U("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),U("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Xd=U("script,style,template");class Pu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let l=s.firstChild,c=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?c=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,c&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let g=this.checkClobberedElement(l,l.nextSibling);if(g){l=g;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(s){const l=s.nodeName.toLowerCase();if(!xi.hasOwnProperty(l))return this.sanitizedSomething=!0,!Xd.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const c=s.attributes;for(let g=0;g<c.length;g++){const y=c.item(g),w=y.name,I=w.toLowerCase();if(!bs.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let M=y.value;To[I]&&(M=E(M)),Hs[I]&&(o=M,M=(o=String(o)).split(",").map(s=>E(s.trim())).join(", ")),this.buf.push(" ",w,'="',Ou(M),'"')}var o;return this.buf.push(">"),!0}endElement(s){const l=s.nodeName.toLowerCase();xi.hasOwnProperty(l)&&!Le.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(s){this.buf.push(Ou(s))}checkClobberedElement(s,l){if(l&&(s.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return l}}const ef=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ol=/([^\#-~ |!])/g;function Ou(o){return o.replace(/&/g,"&amp;").replace(ef,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Ol,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Fl;function Ll(o,s){let l=null;try{Fl=Fl||function Pl(o){const s=new Rc(o);return function Vh(){try{return!!(new window.DOMParser).parseFromString(Rl(""),"text/html")}catch(o){return!1}}()?new Lh(s):s}(o);let c=s?String(s):"";l=Fl.getInertBodyElement(c);let g=5,y=c;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,c=y,y=l.innerHTML,l=Fl.getInertBodyElement(c)}while(c!==y);return Rl((new Pu).sanitizeChildren(ba(l)||l))}finally{if(l){const c=ba(l)||l;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function ba(o){return"content"in o&&function Bh(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Pr=(()=>((Pr=Pr||{})[Pr.NONE=0]="NONE",Pr[Pr.HTML=1]="HTML",Pr[Pr.STYLE=2]="STYLE",Pr[Pr.SCRIPT=3]="SCRIPT",Pr[Pr.URL=4]="URL",Pr[Pr.RESOURCE_URL=5]="RESOURCE_URL",Pr))();function Uh(o){const s=Oc();return s?Kd(s.sanitize(Pr.HTML,o)||""):Do(o,"HTML")?Kd(Ko(o)):Ll(us(),ce(o))}function Pc(o){const s=Oc();return s?s.sanitize(Pr.URL,o)||"":Do(o,"URL")?Ko(o):E(ce(o))}function Oc(){const o=st();return o&&o[12]}const nf="__ngContext__";function bi(o,s){o[nf]=s}function zh(o){const s=function Io(o){return o[nf]||null}(o);return s?Array.isArray(s)?s:s.lView:null}function of(o){return o.ngOriginalError}function Hg(o,...s){o.error(...s)}class Fu{constructor(){this._console=console}handleError(s){const l=this._findOriginalError(s),c=function Fc(o){return o&&o.ngErrorLogger||Hg}(s);c(this._console,"ERROR",s),l&&c(this._console,"ORIGINAL ERROR",l)}_findOriginalError(s){let l=s&&of(s);for(;l&&of(l);)l=of(l);return l||null}}const dy=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(bn))();function f(o){return o.ownerDocument}function A(o){return o instanceof Function?o():o}var X=(()=>((X=X||{})[X.Important=1]="Important",X[X.DashCase=2]="DashCase",X))();function Ue(o,s){return undefined(o,s)}function At(o){const s=o[3];return li(s)?s[3]:s}function Nt(o){return Cr(o[13])}function Xn(o){return Cr(o[4])}function Cr(o){for(;null!==o&&!li(o);)o=o[4];return o}function Ur(o,s,l,c,g){if(null!=c){let y,w=!1;li(c)?y=c:ai(c)&&(w=!0,c=c[0]);const I=Zn(c);0===o&&null!==l?null==g?Rb(s,l,I):lf(s,l,I,g||null,!0):1===o&&null!==l?lf(s,l,I,g||null,!0):2===o?function Xh(o,s,l){const c=Yh(o,s);c&&function kb(o,s,l,c){cr(o)?o.removeChild(s,l,c):s.removeChild(l)}(o,c,s,l)}(s,I,w):3===o&&s.destroyNode(I),null!=y&&function Vc(o,s,l,c,g){const y=l[7];y!==Zn(l)&&Ur(s,o,c,y,g);for(let I=10;I<l.length;I++){const M=l[I];Bu(M[1],M,o,s,c,y)}}(s,o,y,l,g)}}function xo(o,s,l){if(cr(o))return o.createElement(s,l);{const c=null!==l?function ia(o){const s=o.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(l):null;return null===c?o.createElement(s):o.createElementNS(c,s)}}function qg(o,s){const l=o[9],c=l.indexOf(s),g=s[3];1024&s[2]&&(s[2]&=-1025,rr(g,-1)),l.splice(c,1)}function Kh(o,s){if(o.length<=10)return;const l=10+s,c=o[l];if(c){const g=c[17];null!==g&&g!==o&&qg(g,c),s>0&&(o[l-1][4]=c[4]);const y=ms(o,10+s);!function Yo(o,s){Bu(o,s,s[11],2,null,null),s[0]=null,s[6]=null}(c[1],c);const w=y[19];null!==w&&w.detachView(y[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function Qo(o,s){if(!(256&s[2])){const l=s[11];cr(l)&&l.destroyNode&&Bu(o,s,l,3,null,null),function Ea(o){let s=o[13];if(!s)return Wg(o[1],o);for(;s;){let l=null;if(ai(s))l=s[13];else{const c=s[10];c&&(l=c)}if(!l){for(;s&&!s[4]&&s!==o;)ai(s)&&Wg(s[1],s),s=s[3];null===s&&(s=o),ai(s)&&Wg(s[1],s),l=s&&s[4]}s=l}}(s)}}function Wg(o,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function Mb(o,s){let l;if(null!=o&&null!=(l=o.destroyHooks))for(let c=0;c<l.length;c+=2){const g=s[l[c]];if(!(g instanceof Va)){const y=l[c+1];if(Array.isArray(y))for(let w=0;w<y.length;w+=2){const I=g[y[w]],M=y[w+1];try{M.call(I)}finally{}}else try{y.call(g)}finally{}}}}(o,s),function fy(o,s){const l=o.cleanup,c=s[7];let g=-1;if(null!==l)for(let y=0;y<l.length-1;y+=2)if("string"==typeof l[y]){const w=l[y+1],I="function"==typeof w?w(s):Zn(s[w]),M=c[g=l[y+2]],L=l[y+3];"boolean"==typeof L?I.removeEventListener(l[y],M,L):L>=0?c[g=L]():c[g=-L].unsubscribe(),y+=2}else{const w=c[g=l[y+1]];l[y].call(w)}if(null!==c){for(let y=g+1;y<c.length;y++)c[y]();s[7]=null}}(o,s),1===s[1].type&&cr(s[11])&&s[11].destroy();const l=s[17];if(null!==l&&li(s[3])){l!==s[3]&&qg(l,s);const c=s[19];null!==c&&c.detachView(o)}}}function hy(o,s,l){return function Zg(o,s,l){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return l[0];if(2&c.flags){const g=o.data[c.directiveStart].encapsulation;if(g===un.None||g===un.Emulated)return null}return Yr(c,l)}(o,s.parent,l)}function lf(o,s,l,c,g){cr(o)?o.insertBefore(s,l,c,g):s.insertBefore(l,c,g)}function Rb(o,s,l){cr(o)?o.appendChild(s,l):s.appendChild(l)}function Vu(o,s,l,c,g){null!==c?lf(o,s,l,c,g):Rb(o,s,l)}function Yh(o,s){return cr(o)?o.parentNode(s):s.parentNode}let fD=function gy(o,s,l){return 40&o.type?Yr(o,l):null};function Yg(o,s,l,c){const g=hy(o,c,s),y=s[11],I=function py(o,s,l){return fD(o,s,l)}(c.parent||s[6],c,s);if(null!=g)if(Array.isArray(l))for(let M=0;M<l.length;M++)Vu(y,g,l[M],I,!1);else Vu(y,g,l,I,!1)}function Qh(o,s){if(null!==s){const l=s.type;if(3&l)return Yr(s,o);if(4&l)return Jh(-1,o[s.index]);if(8&l){const c=s.child;if(null!==c)return Qh(o,c);{const g=o[s.index];return li(g)?Jh(-1,g):Zn(g)}}if(32&l)return Ue(s,o)()||Zn(o[s.index]);{const c=Nb(o,s);return null!==c?Array.isArray(c)?c[0]:Qh(At(o[16]),c):Qh(o,s.next)}}return null}function Nb(o,s){return null!==s?o[16][6].projection[s.projection]:null}function Jh(o,s){const l=10+o+1;if(l<s.length){const c=s[l],g=c[1].firstChild;if(null!==g)return Qh(c,g)}return s[7]}function uf(o,s,l,c,g,y,w){for(;null!=l;){const I=c[l.index],M=l.type;if(w&&0===s&&(I&&bi(Zn(I),c),l.flags|=4),64!=(64&l.flags))if(8&M)uf(o,s,l.child,c,g,y,!1),Ur(s,o,g,I,y);else if(32&M){const L=Ue(l,c);let j;for(;j=L();)Ur(s,o,g,j,y);Ur(s,o,g,I,y)}else 16&M?Qg(o,s,c,l,g,y):Ur(s,o,g,I,y);l=w?l.projectionNext:l.next}}function Bu(o,s,l,c,g,y){uf(l,c,o.firstChild,s,g,y,!1)}function Qg(o,s,l,c,g,y){const w=l[16],M=w[6].projection[c.projection];if(Array.isArray(M))for(let L=0;L<M.length;L++)Ur(s,o,g,M[L],y);else uf(o,s,M,w[3],g,y,!0)}function ep(o,s,l){cr(o)?o.setAttribute(s,"style",l):s.style.cssText=l}function vy(o,s,l){cr(o)?""===l?o.removeAttribute(s,"class"):o.setAttribute(s,"class",l):s.className=l}function Bc(o,s,l){let c=o.length;for(;;){const g=o.indexOf(s,l);if(-1===g)return g;if(0===g||o.charCodeAt(g-1)<=32){const y=s.length;if(g+y===c||o.charCodeAt(g+y)<=32)return g}l=g+1}}const Bl="ng-template";function Ob(o,s,l){let c=0;for(;c<o.length;){let g=o[c++];if(l&&"class"===g){if(g=o[c],-1!==Bc(g.toLowerCase(),s,0))return!0}else if(1===g){for(;c<o.length&&"string"==typeof(g=o[c++]);)if(g.toLowerCase()===s)return!0;return!1}}return!1}function yy(o){return 4===o.type&&o.value!==Bl}function tl(o,s,l){return s===(4!==o.type||l?o.value:Bl)}function Uc(o,s,l){let c=4;const g=o.attrs||[],y=function Xg(o){for(let s=0;s<o.length;s++)if(du(o[s]))return s;return o.length}(g);let w=!1;for(let I=0;I<s.length;I++){const M=s[I];if("number"!=typeof M){if(!w)if(4&c){if(c=2|1&c,""!==M&&!tl(o,M,l)||""===M&&1===s.length){if(Mo(c))return!1;w=!0}}else{const L=8&c?M:s[++I];if(8&c&&null!==o.attrs){if(!Ob(o.attrs,L,l)){if(Mo(c))return!1;w=!0}continue}const re=pD(8&c?"class":M,g,yy(o),l);if(-1===re){if(Mo(c))return!1;w=!0;continue}if(""!==L){let be;be=re>y?"":g[re+1].toLowerCase();const Fe=8&c?be:null;if(Fe&&-1!==Bc(Fe,L,0)||2&c&&L!==be){if(Mo(c))return!1;w=!0}}}}else{if(!w&&!Mo(c)&&!Mo(M))return!1;if(w&&Mo(M))continue;w=!1,c=M|1&c}}return Mo(c)||w}function Mo(o){return 0==(1&o)}function pD(o,s,l,c){if(null===s)return-1;let g=0;if(c||!l){let y=!1;for(;g<s.length;){const w=s[g];if(w===o)return g;if(3===w||6===w)y=!0;else{if(1===w||2===w){let I=s[++g];for(;"string"==typeof I;)I=s[++g];continue}if(4===w)break;if(0===w){g+=4;continue}}g+=y?1:2}return-1}return function em(o,s){let l=o.indexOf(4);if(l>-1)for(l++;l<o.length;){const c=o[l];if("number"==typeof c)return-1;if(c===s)return l;l++}return-1}(s,o)}function Jg(o,s,l=!1){for(let c=0;c<s.length;c++)if(Uc(o,s[c],l))return!0;return!1}function tm(o,s){return o?":not("+s.trim()+")":s}function mD(o){let s=o[0],l=1,c=2,g="",y=!1;for(;l<o.length;){let w=o[l];if("string"==typeof w)if(2&c){const I=o[++l];g+="["+w+(I.length>0?'="'+I+'"':"")+"]"}else 8&c?g+="."+w:4&c&&(g+=" "+w);else""!==g&&!Mo(w)&&(s+=tm(y,g),g=""),c=w,y=y||!Mo(c);l++}return""!==g&&(s+=tm(y,g)),s}const fn={};function _y(o){tp(Rn(),st(),Jr()+o,!1)}function tp(o,s,l,c){if(!c)if(3==(3&s[2])){const y=o.preOrderCheckHooks;null!==y&&Al(s,y,l)}else{const y=o.preOrderHooks;null!==y&&uu(s,y,0,l)}Go(l)}function nm(o,s){return o<<17|s<<2}function Aa(o){return o>>17&32767}function Vb(o){return 2|o}function js(o){return(131068&o)>>2}function by(o,s){return-131069&o|s<<2}function Ey(o){return 1|o}function $b(o,s){const l=o.contentQueries;if(null!==l)for(let c=0;c<l.length;c+=2){const g=l[c],y=l[c+1];if(-1!==y){const w=o.data[y];Md(g),w.contentQueries(2,s[y],y)}}}function lp(o,s,l,c,g,y,w,I,M,L){const j=s.blueprint.slice();return j[0]=g,j[2]=140|c,cn(j),j[3]=j[15]=o,j[8]=l,j[10]=w||o&&o[10],j[11]=I||o&&o[11],j[12]=M||o&&o[12]||null,j[9]=L||o&&o[9]||null,j[6]=y,j[16]=2==s.type?o[16]:j,j}function jc(o,s,l,c,g){let y=o.data[s];if(null===y)y=function Ry(o,s,l,c,g){const y=Dd(),w=dc(),M=o.data[s]=function xD(o,s,l,c,g,y){return{type:l,index:c,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?y:y&&y.parent,l,s,c,g);return null===o.firstChild&&(o.firstChild=M),null!==y&&(w?null==y.child&&null!==M.parent&&(y.child=M):null===y.next&&(y.next=M)),M}(o,s,l,c,g),function yh(){return Gt.lFrame.inI18n}()&&(y.flags|=64);else if(64&y.type){y.type=l,y.value=c,y.attrs=g;const w=function Rs(){const o=Gt.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}();y.injectorIndex=null===w?-1:w.injectorIndex}return jo(y,!0),y}function Uu(o,s,l,c){if(0===l)return-1;const g=s.length;for(let y=0;y<l;y++)s.push(c),o.blueprint.push(c),o.data.push(null);return g}function up(o,s,l){Vr(s);try{const c=o.viewQuery;null!==c&&By(1,c,l);const g=o.template;null!==g&&Yb(o,s,g,1,l),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&$b(o,s),o.staticViewQueries&&By(2,o.viewQuery,l);const y=o.components;null!==y&&function ID(o,s){for(let l=0;l<s.length;l++)lE(o,s[l])}(s,y)}catch(c){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),c}finally{s[2]&=-5,Eo()}}function df(o,s,l,c){const g=s[2];if(256!=(256&g)){Vr(s);try{cn(s),function La(o){return Gt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==l&&Yb(o,s,l,2,c);const w=3==(3&g);if(w){const L=o.preOrderCheckHooks;null!==L&&Al(s,L,null)}else{const L=o.preOrderHooks;null!==L&&uu(s,L,0,null),hc(s,0)}if(function BD(o){for(let s=Nt(o);null!==s;s=Xn(s)){if(!s[2])continue;const l=s[9];for(let c=0;c<l.length;c++){const g=l[c],y=g[3];0==(1024&g[2])&&rr(y,1),g[2]|=1024}}}(s),function VD(o){for(let s=Nt(o);null!==s;s=Xn(s))for(let l=10;l<s.length;l++){const c=s[l],g=c[1];Ge(c)&&df(g,c,g.template,c[8])}}(s),null!==o.contentQueries&&$b(o,s),w){const L=o.contentCheckHooks;null!==L&&Al(s,L)}else{const L=o.contentHooks;null!==L&&uu(s,L,1),hc(s,1)}!function TD(o,s){const l=o.hostBindingOpCodes;if(null!==l)try{for(let c=0;c<l.length;c++){const g=l[c];if(g<0)Go(~g);else{const y=g,w=l[++c],I=l[++c];_h(w,y),I(2,s[y])}}}finally{Go(-1)}}(o,s);const I=o.components;null!==I&&function Kb(o,s){for(let l=0;l<s.length;l++)UD(o,s[l])}(s,I);const M=o.viewQuery;if(null!==M&&By(2,M,c),w){const L=o.viewCheckHooks;null!==L&&Al(s,L)}else{const L=o.viewHooks;null!==L&&uu(s,L,2),hc(s,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),s[2]&=-73,1024&s[2]&&(s[2]&=-1025,rr(s[3],-1))}finally{Eo()}}}function SD(o,s,l,c){const g=s[10],w=we(s);try{!w&&g.begin&&g.begin(),w&&up(o,s,c),df(o,s,l,c)}finally{!w&&g.end&&g.end()}}function Yb(o,s,l,c,g){const y=Jr(),w=2&c;try{Go(-1),w&&s.length>20&&tp(o,s,20,!1),l(c,g)}finally{Go(y)}}function ky(o,s,l){if(Js(s)){const g=s.directiveEnd;for(let y=s.directiveStart;y<g;y++){const w=o.data[y];w.contentQueries&&w.contentQueries(1,l[y],y)}}}function Ny(o,s,l){!Ho()||(function PD(o,s,l,c){const g=l.directiveStart,y=l.directiveEnd;o.firstCreatePass||ci(l,s),bi(c,s);const w=l.initialInputs;for(let I=g;I<y;I++){const M=o.data[I],L=yi(M);L&&cm(s,l,M);const j=fa(s,o,I,l);bi(j,s),null!==w&&sE(0,I-g,j,M,0,w),L&&($(l.index,s)[8]=j)}}(o,s,l,Yr(l,s)),128==(128&l.flags)&&function Oy(o,s,l){const c=l.directiveStart,g=l.directiveEnd,w=l.index,I=function su(){return Gt.lFrame.currentDirectiveIndex}();try{Go(w);for(let M=c;M<g;M++){const L=o.data[M],j=s[M];_l(M),(null!==L.hostBindings||0!==L.hostVars||null!==L.hostAttrs)&&nE(L,j)}}finally{Go(-1),_l(I)}}(o,s,l))}function Jo(o,s,l=Yr){const c=s.localNames;if(null!==c){let g=s.index+1;for(let y=0;y<c.length;y+=2){const w=c[y+1],I=-1===w?l(s,o):o[w];o[g++]=I}}}function am(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=Hu(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):s}function Hu(o,s,l,c,g,y,w,I,M,L){const j=20+c,re=j+g,be=function Py(o,s){const l=[];for(let c=0;c<s;c++)l.push(c<o?null:fn);return l}(j,re),Fe="function"==typeof L?L():L;return be[1]={type:o,blueprint:be,template:l,queries:null,viewQuery:I,declTNode:s,data:be.slice().fill(null,j),bindingStartIndex:j,expandoStartIndex:re,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:M,consts:Fe,incompleteFirstPass:!1}}function Jb(o,s,l,c){const g=pm(s);null===l?g.push(c):(g.push(l),o.firstCreatePass&&hp(o).push(c,g.length-1))}function cp(o,s,l){for(let c in o)if(o.hasOwnProperty(c)){const g=o[c];(l=null===l?{}:l).hasOwnProperty(c)?l[c].push(s,g):l[c]=[s,g]}return l}function Xo(o,s,l,c,g,y,w,I){const M=Yr(s,l);let j,L=s.inputs;!I&&null!=L&&(j=L[c])?(gp(o,l,j,c,g),Ss(s)&&function eE(o,s){const l=$(s,o);16&l[2]||(l[2]|=64)}(l,s.index)):3&s.type&&(c=function Xb(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(c),g=null!=w?w(g,s.value||"",c):g,cr(y)?y.setProperty(M,c,g):pc(c)||(M.setProperty?M.setProperty(c,g):M[c]=g))}function um(o,s,l,c){let g=!1;if(Ho()){const y=function rE(o,s,l){const c=o.directiveRegistry;let g=null;if(c)for(let y=0;y<c.length;y++){const w=c[y];Jg(l,w.selectors,!1)&&(g||(g=[]),Ha(ci(l,s),o,w.type),yi(w)?(iE(o,l),g.unshift(w)):g.push(w))}return g}(o,s,l),w=null===c?null:{"":-1};if(null!==y){g=!0,oE(l,o.data.length,y.length);for(let j=0;j<y.length;j++){const re=y[j];re.providersResolver&&re.providersResolver(re)}let I=!1,M=!1,L=Uu(o,s,y.length,null);for(let j=0;j<y.length;j++){const re=y[j];l.mergedAttrs=la(l.mergedAttrs,re.hostAttrs),Fy(o,l,s,L,re),FD(L,re,w),null!==re.contentQueries&&(l.flags|=8),(null!==re.hostBindings||null!==re.hostAttrs||0!==re.hostVars)&&(l.flags|=128);const be=re.type.prototype;!I&&(be.ngOnChanges||be.ngOnInit||be.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(l.index),I=!0),!M&&(be.ngOnChanges||be.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(l.index),M=!0),L++}!function MD(o,s){const c=s.directiveEnd,g=o.data,y=s.attrs,w=[];let I=null,M=null;for(let L=s.directiveStart;L<c;L++){const j=g[L],re=j.inputs,be=null===y||yy(s)?null:LD(re,y);w.push(be),I=cp(re,L,I),M=cp(j.outputs,L,M)}null!==I&&(I.hasOwnProperty("class")&&(s.flags|=16),I.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=w,s.inputs=I,s.outputs=M}(o,l)}w&&function OD(o,s,l){if(s){const c=o.localNames=[];for(let g=0;g<s.length;g+=2){const y=l[s[g+1]];if(null==y)throw new oe(-301,!1);c.push(s[g],y)}}}(l,c,w)}return l.mergedAttrs=la(l.mergedAttrs,l.attrs),g}function fp(o,s,l,c,g,y){const w=y.hostBindings;if(w){let I=o.hostBindingOpCodes;null===I&&(I=o.hostBindingOpCodes=[]);const M=~s.index;(function ND(o){let s=o.length;for(;s>0;){const l=o[--s];if("number"==typeof l&&l<0)return l}return 0})(I)!=M&&I.push(M),I.push(c,g,w)}}function nE(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function iE(o,s){s.flags|=2,(o.components||(o.components=[])).push(s.index)}function FD(o,s,l){if(l){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)l[s.exportAs[c]]=o;yi(s)&&(l[""]=o)}}function oE(o,s,l){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+l,o.providerIndexes=s}function Fy(o,s,l,c,g){o.data[c]=g;const y=g.factory||(g.factory=Ii(g.type)),w=new Va(y,yi(g),null);o.blueprint[c]=w,l[c]=w,fp(o,s,0,c,Uu(o,l,g.hostVars,fn),g)}function cm(o,s,l){const c=Yr(s,o),g=am(l),y=o[10],w=fm(o,lp(o,g,null,l.onPush?64:16,c,s,y,y.createRenderer(c,l),null,null));o[s.index]=w}function wa(o,s,l,c,g,y){const w=Yr(o,s);!function Ly(o,s,l,c,g,y,w){if(null==y)cr(o)?o.removeAttribute(s,g,l):s.removeAttribute(g);else{const I=null==w?ce(y):w(y,c||"",g);cr(o)?o.setAttribute(s,g,I,l):l?s.setAttributeNS(l,g,I):s.setAttribute(g,I)}}(s[11],w,y,o.value,l,c,g)}function sE(o,s,l,c,g,y){const w=y[s];if(null!==w){const I=c.setInput;for(let M=0;M<w.length;){const L=w[M++],j=w[M++],re=w[M++];null!==I?c.setInput(l,re,L,j):l[j]=re}}}function LD(o,s){let l=null,c=0;for(;c<s.length;){const g=s[c];if(0!==g)if(5!==g){if("number"==typeof g)break;o.hasOwnProperty(g)&&(null===l&&(l=[]),l.push(g,o[g],s[c+1])),c+=2}else c+=2;else c+=4}return l}function aE(o,s,l,c){return new Array(o,!0,!1,s,null,0,c,l,null,null)}function UD(o,s){const l=$(s,o);if(Ge(l)){const c=l[1];80&l[2]?df(c,l,c.template,l[8]):l[5]>0&&dm(l)}}function dm(o){for(let c=Nt(o);null!==c;c=Xn(c))for(let g=10;g<c.length;g++){const y=c[g];if(1024&y[2]){const w=y[1];df(w,y,w.template,y[8])}else y[5]>0&&dm(y)}const l=o[1].components;if(null!==l)for(let c=0;c<l.length;c++){const g=$(l[c],o);Ge(g)&&g[5]>0&&dm(g)}}function lE(o,s){const l=$(s,o),c=l[1];(function uE(o,s){for(let l=s.length;l<o.blueprint.length;l++)s.push(o.blueprint[l])})(c,l),up(c,l,l[8])}function fm(o,s){return o[13]?o[14][4]=s:o[13]=s,o[14]=s,s}function Vy(o){for(;o;){o[2]|=64;const s=At(o);if(lc(o)&&!s)return o;o=s}return null}function zs(o){!function An(o){for(let s=0;s<o.components.length;s++){const l=o.components[s],c=zh(l),g=c[1];SD(g,c,g.template,l)}}(o[8])}function By(o,s,l){Md(0),s(o,l)}const cE=(()=>Promise.resolve(null))();function pm(o){return o[7]||(o[7]=[])}function hp(o){return o.cleanup||(o.cleanup=[])}function pp(o,s){const l=o[9],c=l?l.get(Fu,null):null;c&&c.handleError(s)}function gp(o,s,l,c,g){for(let y=0;y<l.length;){const w=l[y++],I=l[y++],M=s[w],L=o.data[w];null!==L.setInput?L.setInput(M,g,c,I):M[I]=g}}function Hl(o,s,l){const c=cs(s,o);!function to(o,s,l){cr(o)?o.setValue(s,l):s.textContent=l}(o[11],c,l)}function ff(o,s,l){let c=l?o.styles:null,g=l?o.classes:null,y=0;if(null!==s)for(let w=0;w<s.length;w++){const I=s[w];"number"==typeof I?y=I:1==y?g=De(g,I):2==y&&(c=De(c,I+": "+s[++w]+";"))}l?o.styles=c:o.stylesWithoutHost=c,l?o.classes=g:o.classesWithoutHost=g}const no=new nr("INJECTOR",-1);class Uy{get(s,l=$o){if(l===$o){const c=new Error(`NullInjectorError: No provider for ${Me(s)}!`);throw c.name="NullInjectorError",c}return l}}const Hy=new nr("Set Injector scope."),Ei={},jy={};let pf;function hE(){return void 0===pf&&(pf=new Uy),pf}function gf(o,s=null,l=null,c){const g=qs(o,s,l,c);return g._resolveInjectorDefTypes(),g}function qs(o,s=null,l=null,c){return new ju(o,l,s||hE(),c)}class ju{constructor(s,l,c,g=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const y=[];l&&ti(l,I=>this.processProvider(I,s,l)),ti([s],I=>this.processInjectorType(I,[],y)),this.records.set(no,vf(void 0,this));const w=this.records.get(Hy);this.scope=null!=w?w.value:null,this.source=g||("object"==typeof s?null:Me(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,l=$o,c=Dt.Default){this.assertNotDestroyed();const g=Ic(this),y=Ft(void 0);try{if(!(c&Dt.SkipSelf)){let I=this.records.get(s);if(void 0===I){const M=function yf(o){return"function"==typeof o||"object"==typeof o&&o instanceof nr}(s)&&Ve(s);I=M&&this.injectableDefInScope(M)?vf(Mi(s),Ei):null,this.records.set(s,I)}if(null!=I)return this.hydrate(s,I)}return(c&Dt.Self?hE():this.parent).get(s,l=c&Dt.Optional&&l===$o?null:l)}catch(w){if("NullInjectorError"===w.name){if((w[Au]=w[Au]||[]).unshift(Me(s)),g)throw w;return function Za(o,s,l,c){const g=o[Au];throw s[zd]&&g.unshift(s[zd]),o.message=function ya(o,s,l,c=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let g=Me(s);if(Array.isArray(s))g=s.map(Me).join(" -> ");else if("object"==typeof s){let y=[];for(let w in s)if(s.hasOwnProperty(w)){let I=s[w];y.push(w+":"+("string"==typeof I?JSON.stringify(I):Me(I)))}g=`{${y.join(", ")}}`}return`${l}${c?"("+c+")":""}[${g}]: ${o.replace(Dc,"\n  ")}`}("\n"+o.message,g,l,c),o.ngTokenPath=g,o[Au]=null,o}(w,s,"R3InjectorError",this.source)}throw w}finally{Ft(y),Ic(g)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((c,g)=>s.push(Me(g))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new oe(205,!1)}processInjectorType(s,l,c){if(!(s=T(s)))return!1;let g=Ot(s);const y=null==g&&s.ngModule||void 0,w=void 0===y?s:y,I=-1!==c.indexOf(w);if(void 0!==y&&(g=Ot(y)),null==g)return!1;if(null!=g.imports&&!I){let j;c.push(w);try{ti(g.imports,re=>{this.processInjectorType(re,l,c)&&(void 0===j&&(j=[]),j.push(re))})}finally{}if(void 0!==j)for(let re=0;re<j.length;re++){const{ngModule:be,providers:Fe}=j[re];ti(Fe,Ke=>this.processProvider(Ke,be,Fe||ue))}}this.injectorDefTypes.add(w);const M=Ii(w)||(()=>new w);this.records.set(w,vf(M,Ei));const L=g.providers;if(null!=L&&!I){const j=s;ti(L,re=>this.processProvider(re,j,L))}return void 0!==y&&void 0!==s.providers}processProvider(s,l,c){let g=Ri(s=T(s))?s:T(s&&s.provide);const y=function Gy(o,s,l){return qy(o)?vf(void 0,o.useValue):vf(zy(o),Ei)}(s);if(Ri(s)||!0!==s.multi)this.records.get(g);else{let w=this.records.get(g);w||(w=vf(void 0,Ei,!0),w.factory=()=>ma(w.multi),this.records.set(g,w)),g=s,w.multi.push(s)}this.records.set(g,y)}hydrate(s,l){return l.value===Ei&&(l.value=jy,l.value=l.factory()),"object"==typeof l.value&&l.value&&function Wy(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(l.value)&&this.onDestroy.add(l.value),l.value}injectableDefInScope(s){if(!s.providedIn)return!1;const l=T(s.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function Mi(o){const s=Ve(o),l=null!==s?s.factory:Ii(o);if(null!==l)return l;if(o instanceof nr)throw new oe(204,!1);if(o instanceof Function)return function mf(o){const s=o.length;if(s>0)throw function Ls(o,s){const l=[];for(let c=0;c<o;c++)l.push(s);return l}(s,"?"),new oe(204,!1);const l=function Ct(o){const s=o&&(o[on]||o[gn]);if(s){const l=function Ze(o){if(o.hasOwnProperty("name"))return o.name;const s=(""+o).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),s}return null}(o);return null!==l?()=>l.factory(o):()=>new o}(o);throw new oe(204,!1)}function zy(o,s,l){let c;if(Ri(o)){const g=T(o);return Ii(g)||Mi(g)}if(qy(o))c=()=>T(o.useValue);else if(function Gu(o){return!(!o||!o.useFactory)}(o))c=()=>o.useFactory(...ma(o.deps||[]));else if(function jD(o){return!(!o||!o.useExisting)}(o))c=()=>Ir(T(o.useExisting));else{const g=T(o&&(o.useClass||o.provide));if(!function jl(o){return!!o.deps}(o))return Ii(g)||Mi(g);c=()=>new g(...ma(o.deps))}return c}function vf(o,s,l=!1){return{factory:o,value:s,multi:l?[]:void 0}}function qy(o){return null!==o&&"object"==typeof o&&kg in o}function Ri(o){return"function"==typeof o}let Ca=(()=>{class o{static create(l,c){var g;if(Array.isArray(l))return gf({name:""},c,l,"");{const y=null!==(g=l.name)&&void 0!==g?g:"";return gf({name:y},l.parent,l.providers,y)}}}return o.THROW_IF_NOT_FOUND=$o,o.NULL=new Uy,o.\u0275prov=wn({token:o,providedIn:"any",factory:()=>Ir(no)}),o.__NG_ELEMENT_ID__=-1,o})();function nl(o,s){zo(zh(o)[1],Er())}function mm(o){let s=function DE(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),l=!0;const c=[o];for(;s;){let g;if(yi(o))g=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new oe(903,"");g=s.\u0275dir}if(g){if(l){c.push(g);const w=o;w.inputs=Yy(o.inputs),w.declaredInputs=Yy(o.declaredInputs),w.outputs=Yy(o.outputs);const I=g.hostBindings;I&&SE(o,I);const M=g.viewQuery,L=g.contentQueries;if(M&&IE(o,M),L&&KD(o,L),Ee(o.inputs,g.inputs),Ee(o.declaredInputs,g.declaredInputs),Ee(o.outputs,g.outputs),yi(g)&&g.data.animation){const j=o.data;j.animation=(j.animation||[]).concat(g.data.animation)}}const y=g.features;if(y)for(let w=0;w<y.length;w++){const I=y[w];I&&I.ngInherit&&I(o),I===mm&&(l=!1)}}s=Object.getPrototypeOf(s)}!function TE(o){let s=0,l=null;for(let c=o.length-1;c>=0;c--){const g=o[c];g.hostVars=s+=g.hostVars,g.hostAttrs=la(g.hostAttrs,l=la(l,g.hostAttrs))}}(c)}function Yy(o){return o===Dn?{}:o===ue?[]:o}function IE(o,s){const l=o.viewQuery;o.viewQuery=l?(c,g)=>{s(c,g),l(c,g)}:s}function KD(o,s){const l=o.contentQueries;o.contentQueries=l?(c,g,y)=>{s(c,g,y),l(c,g,y)}:s}function SE(o,s){const l=o.hostBindings;o.hostBindings=l?(c,g)=>{s(c,g),l(c,g)}:s}let qn=null;function rl(){if(!qn){const o=bn.Symbol;if(o&&o.iterator)qn=o.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<s.length;++l){const c=s[l];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(qn=c)}}}return qn}function Da(o){return!!ym(o)&&(Array.isArray(o)||!(o instanceof Map)&&rl()in o)}function ym(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function fi(o,s,l){return!Object.is(o[s],l)&&(o[s]=l,!0)}function vp(o,s,l,c){const g=st();return fi(g,aa(),s)&&(Rn(),wa(Rr(),g,o,s,l,c)),vp}function qc(o,s,l,c){return fi(o,aa(),l)?s+ce(l)+c:fn}function OE(o,s,l,c,g,y,w,I){const M=st(),L=Rn(),j=o+20,re=L.firstCreatePass?function PE(o,s,l,c,g,y,w,I,M){const L=s.consts,j=jc(s,o,4,w||null,Tt(L,I));um(s,l,j,Tt(L,M)),zo(s,j);const re=j.tViews=Hu(2,j,c,g,y,s.directiveRegistry,s.pipeRegistry,null,s.schemas,L);return null!==s.queries&&(s.queries.template(s,j),re.queries=s.queries.embeddedTView(j)),j}(j,L,M,s,l,c,g,y,w):L.data[j];jo(re,!1);const be=M[11].createComment("");Yg(L,M,be,re),bi(be,M),fm(M,M[j]=aE(be,M,be,re)),ss(re)&&Ny(L,M,re),null!=w&&Jo(M,re,I)}function _p(o,s=Dt.Default){const l=st();return null===l?Ir(o,s):da(Er(),l,T(o),s)}function If(){throw new Error("invalid")}function bp(o,s,l){const c=st();return fi(c,aa(),s)&&Xo(Rn(),Rr(),c,o,s,c[11],l,!1),bp}function a_(o,s,l,c,g){const w=g?"class":"style";gp(o,l,s.inputs[w],w,c)}function Ep(o,s,l,c){const g=st(),y=Rn(),w=20+o,I=g[11],M=g[w]=xo(I,s,function Mg(){return Gt.lFrame.currentNamespace}()),L=y.firstCreatePass?function ZE(o,s,l,c,g,y,w){const I=s.consts,L=jc(s,o,2,g,Tt(I,y));return um(s,l,L,Tt(I,w)),null!==L.attrs&&ff(L,L.attrs,!1),null!==L.mergedAttrs&&ff(L,L.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,L),L}(w,y,g,0,s,l,c):y.data[w];jo(L,!0);const j=L.mergedAttrs;null!==j&&Cl(I,M,j);const re=L.classes;null!==re&&vy(I,M,re);const be=L.styles;return null!==be&&ep(I,M,be),64!=(64&L.flags)&&Yg(y,g,M,L),0===function Pn(){return Gt.lFrame.elementDepthCount}()&&bi(M,g),function Qi(){Gt.lFrame.elementDepthCount++}(),ss(L)&&(Ny(y,g,L),ky(y,L,g)),null!==c&&Jo(g,L),Ep}function xm(){let o=Er();dc()?vl():(o=o.parent,jo(o,!1));const s=o;!function yo(){Gt.lFrame.elementDepthCount--}();const l=Rn();return l.firstCreatePass&&(zo(l,o),Js(o)&&l.queries.elementEnd(o)),null!=s.classesWithoutHost&&function Rg(o){return 0!=(16&o.flags)}(s)&&a_(l,s,st(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function gr(o){return 0!=(32&o.flags)}(s)&&a_(l,s,st(),s.stylesWithoutHost,!1),xm}function l_(o,s,l,c){return Ep(o,s,l,c),xm(),l_}function Ap(o,s,l){const c=st(),g=Rn(),y=o+20,w=g.firstCreatePass?function Zs(o,s,l,c,g){const y=s.consts,w=Tt(y,c),I=jc(s,o,8,"ng-container",w);return null!==w&&ff(I,w,!0),um(s,l,I,Tt(y,g)),null!==s.queries&&s.queries.elementStart(s,I),I}(y,g,c,s,l):g.data[y];jo(w,!0);const I=c[y]=c[11].createComment("");return Yg(g,c,I,w),bi(I,c),ss(w)&&(Ny(g,c,w),ky(g,w,c)),null!=l&&Jo(c,w),Ap}function wp(){let o=Er();const s=Rn();return dc()?vl():(o=o.parent,jo(o,!1)),s.firstCreatePass&&(zo(s,o),Js(o)&&s.queries.elementEnd(o)),wp}function Sf(o,s,l){return Ap(o,s,l),wp(),Sf}function Cp(){return st()}function u_(o){return!!o&&"function"==typeof o.then}function KE(o){return!!o&&"function"==typeof o.subscribe}const YE=KE;function c_(o,s,l,c){const g=st(),y=Rn(),w=Er();return function d_(o,s,l,c,g,y,w,I){const M=ss(c),j=o.firstCreatePass&&hp(o),re=s[8],be=pm(s);let Fe=!0;if(3&c.type||I){const Pt=Yr(c,s),pt=I?I(Pt):Pt,ut=be.length,hn=I?ln=>I(Zn(ln[c.index])):c.index;if(cr(l)){let ln=null;if(!I&&M&&(ln=function QE(o,s,l,c){const g=o.cleanup;if(null!=g)for(let y=0;y<g.length-1;y+=2){const w=g[y];if(w===l&&g[y+1]===c){const I=s[7],M=g[y+2];return I.length>M?I[M]:null}"string"==typeof w&&(y+=2)}return null}(o,s,g,c.index)),null!==ln)(ln.__ngLastListenerFn__||ln).__ngNextListenerFn__=y,ln.__ngLastListenerFn__=y,Fe=!1;else{y=Mm(c,s,re,y,!1);const Vt=l.listen(pt,g,y);be.push(y,Vt),j&&j.push(g,hn,ut,ut+1)}}else y=Mm(c,s,re,y,!0),pt.addEventListener(g,y,w),be.push(y),j&&j.push(g,hn,ut,w)}else y=Mm(c,s,re,y,!1);const Ke=c.outputs;let St;if(Fe&&null!==Ke&&(St=Ke[g])){const Pt=St.length;if(Pt)for(let pt=0;pt<Pt;pt+=2){const ts=s[St[pt]][St[pt+1]].subscribe(y),Es=be.length;be.push(y,ts),j&&j.push(g,c.index,Es,-(Es+1))}}}(y,g,g[11],w,o,s,!!l,c),c_}function Tp(o,s,l,c){try{return!1!==l(c)}catch(g){return pp(o,g),!1}}function Mm(o,s,l,c,g){return function y(w){if(w===Function)return c;const I=2&o.flags?$(o.index,s):s;0==(32&s[2])&&Vy(I);let M=Tp(s,0,c,w),L=y.__ngNextListenerFn__;for(;L;)M=Tp(s,0,L,w)&&M,L=L.__ngNextListenerFn__;return g&&!1===M&&(w.preventDefault(),w.returnValue=!1),M}}function xf(o=1){return function bh(o){return(Gt.lFrame.contextLView=function Eh(o,s){for(;o>0;)s=s[15],o--;return s}(o,Gt.lFrame.contextLView))[8]}(o)}function Rm(o,s,l,c,g){const y=st(),w=qc(y,s,l,c);return w!==fn&&Xo(Rn(),Rr(),y,o,w,y[11],g,!1),Rm}function iA(o,s,l,c,g){const y=o[l+1],w=null===s;let I=c?Aa(y):js(y),M=!1;for(;0!==I&&(!1===M||w);){const j=o[I+1];Mp(o[I],s)&&(M=!0,o[I+1]=c?Ey(j):Vb(j)),I=c?Aa(j):js(j)}M&&(o[l+1]=c?Vb(y):Ey(y))}function Mp(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&Ga(o,s)>=0}const Ai={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function oA(o){return o.substring(Ai.key,Ai.keyEnd)}function sA(o,s){const l=Ai.textEnd;return l===s?-1:(s=Ai.keyEnd=function uA(o,s,l){for(;s<l&&o.charCodeAt(s)>32;)s++;return s}(o,Ai.key=s,l),Mf(o,s,l))}function Mf(o,s,l){for(;s<l&&o.charCodeAt(s)<=32;)s++;return s}function Nm(o,s,l){return Sa(o,s,l,!1),Nm}function fA(o,s){return Sa(o,s,null,!0),fA}function h_(o){xa(ji,Ia,o,!0)}function Ia(o,s){for(let l=function fT(o){return function lA(o){Ai.key=0,Ai.keyEnd=0,Ai.value=0,Ai.valueEnd=0,Ai.textEnd=o.length}(o),sA(o,Mf(o,0,Ai.textEnd))}(s);l>=0;l=sA(s,l))ji(o,oA(s),!0)}function Sa(o,s,l,c){const g=st(),y=Rn(),w=bo(2);y.firstUpdatePass&&gA(y,o,w,c),s!==fn&&fi(g,w,s)&&vA(y,y.data[Jr()],g,g[11],o,g[w+1]=function _A(o,s){return null==o||("string"==typeof s?o+=s:"object"==typeof o&&(o=Me(Ko(o)))),o}(s,l),c,w)}function xa(o,s,l,c){const g=Rn(),y=bo(2);g.firstUpdatePass&&gA(g,null,y,c);const w=st();if(l!==fn&&fi(w,y,l)){const I=g.data[Jr()];if(bA(I,c)&&!pA(g,y)){let M=c?I.classesWithoutHost:I.stylesWithoutHost;null!==M&&(l=De(M,l||"")),a_(g,I,w,l,c)}else!function yT(o,s,l,c,g,y,w,I){g===fn&&(g=ue);let M=0,L=0,j=0<g.length?g[0]:null,re=0<y.length?y[0]:null;for(;null!==j||null!==re;){const be=M<g.length?g[M+1]:void 0,Fe=L<y.length?y[L+1]:void 0;let St,Ke=null;j===re?(M+=2,L+=2,be!==Fe&&(Ke=re,St=Fe)):null===re||null!==j&&j<re?(M+=2,Ke=j):(L+=2,Ke=re,St=Fe),null!==Ke&&vA(o,s,l,c,Ke,St,w,I),j=M<g.length?g[M]:null,re=L<y.length?y[L]:null}}(g,I,w,w[11],w[y+1],w[y+1]=function m_(o,s,l){if(null==l||""===l)return ue;const c=[],g=Ko(l);if(Array.isArray(g))for(let y=0;y<g.length;y++)o(c,g[y],!0);else if("object"==typeof g)for(const y in g)g.hasOwnProperty(y)&&o(c,y,g[y]);else"string"==typeof g&&s(c,g);return c}(o,s,l),c,y)}}function pA(o,s){return s>=o.expandoStartIndex}function gA(o,s,l,c){const g=o.data;if(null===g[l+1]){const y=g[Jr()],w=pA(o,l);bA(y,c)&&null===s&&!w&&(s=!1),s=function mA(o,s,l,c){const g=au(o);let y=c?s.residualClasses:s.residualStyles;if(null===g)0===(c?s.classBindings:s.styleBindings)&&(l=Rp(l=g_(null,o,s,l,c),s.attrs,c),y=null);else{const w=s.directiveStylingLast;if(-1===w||o[w]!==g)if(l=g_(g,o,s,l,c),null===y){let M=function mT(o,s,l){const c=l?s.classBindings:s.styleBindings;if(0!==js(c))return o[Aa(c)]}(o,s,c);void 0!==M&&Array.isArray(M)&&(M=g_(null,o,s,M[1],c),M=Rp(M,s.attrs,c),function p_(o,s,l,c){o[Aa(l?s.classBindings:s.styleBindings)]=c}(o,s,c,M))}else y=function vT(o,s,l){let c;const g=s.directiveEnd;for(let y=1+s.directiveStylingLast;y<g;y++)c=Rp(c,o[y].hostAttrs,l);return Rp(c,s.attrs,l)}(o,s,c)}return void 0!==y&&(c?s.residualClasses=y:s.residualStyles=y),l}(g,y,s,c),function xp(o,s,l,c,g,y){let w=y?s.classBindings:s.styleBindings,I=Aa(w),M=js(w);o[c]=l;let j,L=!1;if(Array.isArray(l)){const re=l;j=re[1],(null===j||Ga(re,j)>0)&&(L=!0)}else j=l;if(g)if(0!==M){const be=Aa(o[I+1]);o[c+1]=nm(be,I),0!==be&&(o[be+1]=by(o[be+1],c)),o[I+1]=function IM(o,s){return 131071&o|s<<17}(o[I+1],c)}else o[c+1]=nm(I,0),0!==I&&(o[I+1]=by(o[I+1],c)),I=c;else o[c+1]=nm(M,0),0===I?I=c:o[M+1]=by(o[M+1],c),M=c;L&&(o[c+1]=Vb(o[c+1])),iA(o,j,c,!0),iA(o,j,c,!1),function cT(o,s,l,c,g){const y=g?o.residualClasses:o.residualStyles;null!=y&&"string"==typeof s&&Ga(y,s)>=0&&(l[c+1]=Ey(l[c+1]))}(s,j,o,c,y),w=nm(I,M),y?s.classBindings=w:s.styleBindings=w}(g,y,s,l,w,c)}}function g_(o,s,l,c,g){let y=null;const w=l.directiveEnd;let I=l.directiveStylingLast;for(-1===I?I=l.directiveStart:I++;I<w&&(y=s[I],c=Rp(c,y.hostAttrs,g),y!==o);)I++;return null!==o&&(l.directiveStylingLast=I),c}function Rp(o,s,l){const c=l?1:2;let g=-1;if(null!==s)for(let y=0;y<s.length;y++){const w=s[y];"number"==typeof w?g=w:g===c&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),ji(o,w,!!l||s[++y]))}return void 0===o?null:o}function vA(o,s,l,c,g,y,w,I){if(!(3&s.type))return;const M=o.data,L=M[I+1];Pm(function Bb(o){return 1==(1&o)}(L)?yA(M,s,l,g,js(L),w):void 0)||(Pm(y)||function Lb(o){return 2==(2&o)}(L)&&(y=yA(M,null,l,g,I,w)),function my(o,s,l,c,g){const y=cr(o);if(s)g?y?o.addClass(l,c):l.classList.add(c):y?o.removeClass(l,c):l.classList.remove(c);else{let w=-1===c.indexOf("-")?void 0:X.DashCase;if(null==g)y?o.removeStyle(l,c,w):l.style.removeProperty(c);else{const I="string"==typeof g&&g.endsWith("!important");I&&(g=g.slice(0,-10),w|=X.Important),y?o.setStyle(l,c,g,w):l.style.setProperty(c,g,I?"important":"")}}}(c,w,cs(Jr(),l),g,y))}function yA(o,s,l,c,g,y){const w=null===s;let I;for(;g>0;){const M=o[g],L=Array.isArray(M),j=L?M[1]:M,re=null===j;let be=l[g+1];be===fn&&(be=re?ue:void 0);let Fe=re?bc(be,c):j===c?be:void 0;if(L&&!Pm(Fe)&&(Fe=bc(M,c)),Pm(Fe)&&(I=Fe,w))return I;const Ke=o[g+1];g=w?Aa(Ke):js(Ke)}if(null!==s){let M=y?s.residualClasses:s.residualStyles;null!=M&&(I=bc(M,c))}return I}function Pm(o){return void 0!==o}function bA(o,s){return 0!=(o.flags&(s?16:32))}function EA(o,s=""){const l=st(),c=Rn(),g=o+20,y=c.firstCreatePass?jc(c,g,1,s,null):c.data[g],w=l[g]=function Hr(o,s){return cr(o)?o.createText(s):o.createTextNode(s)}(l[11],s);Yg(c,l,w,y),jo(y,!1)}function ro(o){return Om("",o,""),ro}function Om(o,s,l){const c=st(),g=qc(c,o,s,l);return g!==fn&&Hl(c,Jr(),g),Om}function b_(o,s,l){xa(ji,Ia,qc(st(),o,s,l),!0)}function Vm(o,s,l){const c=st();if(fi(c,aa(),s)){const y=Rn(),w=Rr();Xo(y,w,c,o,s,function dE(o,s,l){return(null===o||yi(o))&&(l=function oa(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(l[s.index])),l[11]}(au(y.data),w,c),l,!0)}return Vm}const Yc=void 0;var kA=["en",[["a","p"],["AM","PM"],Yc],[["AM","PM"],Yc,Yc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yc,"{1} 'at' {0}",Yc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function xT(o){const l=Math.floor(Math.abs(o)),c=o.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===c?1:5}];let Qc={};function Bm(o){const s=function RT(o){return o.toLowerCase().replace(/_/g,"-")}(o);let l=PA(s);if(l)return l;const c=s.split("-")[0];if(l=PA(c),l)return l;if("en"===c)return kA;throw new Error(`Missing locale data for the locale "${o}".`)}function NA(o){return Bm(o)[_n.PluralCase]}function PA(o){return o in Qc||(Qc[o]=bn.ng&&bn.ng.common&&bn.ng.common.locales&&bn.ng.common.locales[o]),Qc[o]}var _n=(()=>((_n=_n||{})[_n.LocaleId=0]="LocaleId",_n[_n.DayPeriodsFormat=1]="DayPeriodsFormat",_n[_n.DayPeriodsStandalone=2]="DayPeriodsStandalone",_n[_n.DaysFormat=3]="DaysFormat",_n[_n.DaysStandalone=4]="DaysStandalone",_n[_n.MonthsFormat=5]="MonthsFormat",_n[_n.MonthsStandalone=6]="MonthsStandalone",_n[_n.Eras=7]="Eras",_n[_n.FirstDayOfWeek=8]="FirstDayOfWeek",_n[_n.WeekendRange=9]="WeekendRange",_n[_n.DateFormat=10]="DateFormat",_n[_n.TimeFormat=11]="TimeFormat",_n[_n.DateTimeFormat=12]="DateTimeFormat",_n[_n.NumberSymbols=13]="NumberSymbols",_n[_n.NumberFormats=14]="NumberFormats",_n[_n.CurrencyCode=15]="CurrencyCode",_n[_n.CurrencySymbol=16]="CurrencySymbol",_n[_n.CurrencyName=17]="CurrencyName",_n[_n.Currencies=18]="Currencies",_n[_n.Directionality=19]="Directionality",_n[_n.PluralCase=20]="PluralCase",_n[_n.ExtraData=21]="ExtraData",_n))();const Wl="en-US";let OA=Wl;function lw(o,s,l,c,g){if(o=T(o),Array.isArray(o))for(let y=0;y<o.length;y++)lw(o[y],s,l,c,g);else{const y=Rn(),w=st();let I=Ri(o)?o:T(o.provide),M=zy(o);const L=Er(),j=1048575&L.providerIndexes,re=L.directiveStart,be=L.providerIndexes>>20;if(Ri(o)||!o.multi){const Fe=new Va(M,g,_p),Ke=uw(I,s,g?j:j+be,re);-1===Ke?(Ha(ci(L,w),y,I),R_(y,o,s.length),s.push(I),L.directiveStart++,L.directiveEnd++,g&&(L.providerIndexes+=1048576),l.push(Fe),w.push(Fe)):(l[Ke]=Fe,w[Ke]=Fe)}else{const Fe=uw(I,s,j+be,re),Ke=uw(I,s,j,j+be),St=Fe>=0&&l[Fe],Pt=Ke>=0&&l[Ke];if(g&&!Pt||!g&&!St){Ha(ci(L,w),y,I);const pt=function $u(o,s,l,c,g){const y=new Va(o,l,_p);return y.multi=[],y.index=s,y.componentProviders=0,cI(y,g,c&&!l),y}(g?Kn:qm,l.length,g,c,M);!g&&Pt&&(l[Ke].providerFactory=pt),R_(y,o,s.length,0),s.push(I),L.directiveStart++,L.directiveEnd++,g&&(L.providerIndexes+=1048576),l.push(pt),w.push(pt)}else R_(y,o,Fe>-1?Fe:Ke,cI(l[g?Ke:Fe],M,!g&&c));!g&&c&&Pt&&l[Ke].componentProviders++}}}function R_(o,s,l,c){const g=Ri(s),y=function GD(o){return!!o.useClass}(s);if(g||y){const M=(y?T(s.useClass):s).prototype.ngOnDestroy;if(M){const L=o.destroyHooks||(o.destroyHooks=[]);if(!g&&s.multi){const j=L.indexOf(l);-1===j?L.push(l,[c,M]):L[j+1].push(c,M)}else L.push(l,M)}}}function cI(o,s,l){return l&&o.componentProviders++,o.multi.push(s)-1}function uw(o,s,l,c){for(let g=l;g<c;g++)if(s[g]===o)return g;return-1}function qm(o,s,l,c){return sl(this.multi,[])}function Kn(o,s,l,c){const g=this.multi;let y;if(this.providerFactory){const w=this.providerFactory.componentProviders,I=fa(l,l[1],this.providerFactory.index,c);y=I.slice(0,w),sl(g,y);for(let M=w;M<I.length;M++)y.push(I[M])}else y=[],sl(g,y);return y}function sl(o,s){for(let l=0;l<o.length;l++)s.push((0,o[l])());return s}function Vp(o,s=[]){return l=>{l.providersResolver=(c,g)=>function uI(o,s,l){const c=Rn();if(c.firstCreatePass){const g=yi(o);lw(l,c.data,c.blueprint,g,!0),lw(s,c.data,c.blueprint,g,!1)}}(c,g?g(o):o,s)}}class Bp{}class fI{resolveComponentFactory(s){throw function dI(o){const s=Error(`No component factory found for ${Me(o)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=o,s}(s)}}let Wm=(()=>{class o{}return o.NULL=new fI,o})();function zi(){return Ku(Er(),st())}function Ku(o,s){return new Up(Yr(o,s))}let Up=(()=>{class o{constructor(l){this.nativeElement=l}}return o.__NG_ELEMENT_ID__=zi,o})();function hI(o){return o instanceof Up?o.nativeElement:o}class dw{}let hi=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function a1(){const o=st(),l=$(Er().index,o);return function fw(o){return o[11]}(ai(l)?l:o)}(),o})(),l1=(()=>{class o{}return o.\u0275prov=wn({token:o,providedIn:"root",factory:()=>null}),o})();class ed{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const pI=new ed("13.3.10"),N_={};function ni(o,s,l,c,g=!1){for(;null!==l;){const y=s[l.index];if(null!==y&&c.push(Zn(y)),li(y))for(let I=10;I<y.length;I++){const M=y[I],L=M[1].firstChild;null!==L&&ni(M[1],M,L,c)}const w=l.type;if(8&w)ni(o,s,l.child,c);else if(32&w){const I=Ue(l,s);let M;for(;M=I();)c.push(M)}else if(16&w){const I=Nb(s,l);if(Array.isArray(I))c.push(...I);else{const M=At(s[16]);ni(M[1],M,I,c,!0)}}l=g?l.projectionNext:l.next}return c}class td{constructor(s,l){this._lView=s,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,l=s[1];return ni(l,s,l.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(li(s)){const l=s[8],c=l?l.indexOf(this):-1;c>-1&&(Kh(s,c),ms(l,c))}this._attachedToViewContainer=!1}Qo(this._lView[1],this._lView)}onDestroy(s){Jb(this._lView[1],this._lView,null,s)}markForCheck(){Vy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function jr(o,s,l){const c=s[10];c.begin&&c.begin();try{df(o,s,o.template,l)}catch(g){throw pp(s,g),g}finally{c.end&&c.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new oe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Lu(o,s){Bu(o,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new oe(902,"");this._appRef=s}}class gI extends td{constructor(s){super(s),this._view=s}detectChanges(){zs(this._view)}checkNoChanges(){}get context(){return null}}class hw extends Wm{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const l=jt(s);return new P_(l,this.ngModule)}}function $s(o){const s=[];for(let l in o)o.hasOwnProperty(l)&&s.push({propName:o[l],templateName:l});return s}class P_ extends Bp{constructor(s,l){super(),this.componentDef=s,this.ngModule=l,this.componentType=s.type,this.selector=function vD(o){return o.map(mD).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return $s(this.componentDef.inputs)}get outputs(){return $s(this.componentDef.outputs)}create(s,l,c,g){const y=(g=g||this.ngModule)?function mI(o,s){return{get:(l,c,g)=>{const y=o.get(l,N_,g);return y!==N_||c===N_?y:s.get(l,c,g)}}}(s,g.injector):s,w=y.get(dw,Hi),I=y.get(l1,null),M=w.createRenderer(null,this.componentDef),L=this.componentDef.selectors[0][0]||"div",j=c?function lm(o,s,l){if(cr(o))return o.selectRootElement(s,l===un.ShadowDom);let c="string"==typeof s?o.querySelector(s):s;return c.textContent="",c}(M,c,this.componentDef.encapsulation):xo(w.createRenderer(null,this.componentDef),L,function u1(o){const s=o.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(L)),re=this.componentDef.onPush?576:528,be=function ki(o,s){return{components:[],scheduler:o||dy,clean:cE,playerHandler:s||null,flags:0}}(),Fe=Hu(0,null,null,1,0,null,null,null,null,null),Ke=lp(null,Fe,be,re,null,null,w,M,I,y);let St,Pt;Vr(Ke);try{const pt=function Ky(o,s,l,c,g,y){const w=l[1];l[20]=o;const M=jc(w,20,2,"#host",null),L=M.mergedAttrs=s.hostAttrs;null!==L&&(ff(M,L,!0),null!==o&&(Cl(g,o,L),null!==M.classes&&vy(g,o,M.classes),null!==M.styles&&ep(g,o,M.styles)));const j=c.createRenderer(o,s),re=lp(l,am(s),null,s.onPush?64:16,l[20],M,c,j,y||null,null);return w.firstCreatePass&&(Ha(ci(M,l),w,s.type),iE(w,M),oE(M,l.length,1)),fm(l,re),l[20]=re}(j,this.componentDef,Ke,w,M);if(j)if(c)Cl(M,j,["ng-version",pI.full]);else{const{attrs:ut,classes:hn}=function yD(o){const s=[],l=[];let c=1,g=2;for(;c<o.length;){let y=o[c];if("string"==typeof y)2===g?""!==y&&s.push(y,o[++c]):8===g&&l.push(y);else{if(!Mo(g))break;g=y}c++}return{attrs:s,classes:l}}(this.componentDef.selectors[0]);ut&&Cl(M,j,ut),hn&&hn.length>0&&vy(M,j,hn.join(" "))}if(Pt=sa(Fe,20),void 0!==l){const ut=Pt.projection=[];for(let hn=0;hn<this.ngContentSelectors.length;hn++){const ln=l[hn];ut.push(null!=ln?Array.from(ln):null)}}St=function $D(o,s,l,c,g){const y=l[1],w=function kD(o,s,l){const c=Er();o.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),Fy(o,c,s,Uu(o,s,1,null),l));const g=fa(s,o,c.directiveStart,c);bi(g,s);const y=Yr(c,s);return y&&bi(y,s),g}(y,l,s);if(c.components.push(w),o[8]=w,g&&g.forEach(M=>M(w,s)),s.contentQueries){const M=Er();s.contentQueries(1,w,M.directiveStart)}const I=Er();return!y.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Go(I.index),fp(l[1],I,0,I.directiveStart,I.directiveEnd,s),nE(s,w)),w}(pt,this.componentDef,Ke,be,[nl]),up(Fe,Ke,null)}finally{Eo()}return new O_(this.componentType,St,Ku(Pt,Ke),Ke,Pt)}}class O_ extends class k_{}{constructor(s,l,c,g,y){super(),this.location=c,this._rootLView=g,this._tNode=y,this.instance=l,this.hostView=this.changeDetectorRef=new gI(g),this.componentType=s}get injector(){return new Xr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class $l{}class Zm{}const al=new Map;class Hp extends $l{constructor(s,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new hw(this);const c=Lt(s);this._bootstrapComponents=A(c.bootstrap),this._r3Injector=qs(s,l,[{provide:$l,useValue:this},{provide:Wm,useValue:this.componentFactoryResolver}],Me(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,l=Ca.THROW_IF_NOT_FOUND,c=Dt.Default){return s===Ca||s===$l||s===no?this:this._r3Injector.get(s,l,c)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class wi extends Zm{constructor(s){super(),this.moduleType=s,null!==Lt(s)&&function vI(o){const s=new Set;!function l(c){const g=Lt(c,!0),y=g.id;null!==y&&(function $m(o,s,l){if(s&&s!==l)throw new Error(`Duplicate module registered for ${o} - ${Me(s)} vs ${Me(s.name)}`)}(y,al.get(y),c),al.set(y,c));const w=A(g.imports);for(const I of w)s.has(I)||(s.add(I),l(I))}(o)}(s)}create(s){return new Hp(this.moduleType,s)}}function Ym(o,s,l,c,g,y){const w=s+l;return fi(o,w,g)?function il(o,s,l){return o[s]=l}(o,w+1,y?c.call(y,g):c(g)):function Ci(o,s){const l=o[s];return l===fn?void 0:l}(o,w+1)}function B_(o,s){const l=Rn();let c;const g=o+20;l.firstCreatePass?(c=function _w(o,s){if(s)for(let l=s.length-1;l>=0;l--){const c=s[l];if(o===c.name)return c}}(s,l.pipeRegistry),l.data[g]=c,c.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(g,c.onDestroy)):c=l.data[g];const y=c.factory||(c.factory=Ii(c.type)),w=Ft(_p);try{const I=ua(!1),M=y();return ua(I),function Cf(o,s,l,c){l>=o.data.length&&(o.data[l]=null,o.blueprint[l]=null),s[l]=c}(l,st(),g,M),M}finally{Ft(w)}}function U_(o,s,l){const c=o+20,g=st(),y=function K(o,s){return o[s]}(g,c);return function Of(o,s){return o[1].data[s].pure}(g,c)?Ym(g,function Qr(){const o=Gt.lFrame;let s=o.bindingRootIndex;return-1===s&&(s=o.bindingRootIndex=o.tView.bindingStartIndex),s}(),s,y.transform,l,y):y.transform(l)}function Jm(o){return s=>{setTimeout(o,void 0,s)}}const ll=class j_ extends u.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,l,c){var g,y,w;let I=s,M=l||(()=>null),L=c;if(s&&"object"==typeof s){const re=s;I=null===(g=re.next)||void 0===g?void 0:g.bind(re),M=null===(y=re.error)||void 0===y?void 0:y.bind(re),L=null===(w=re.complete)||void 0===w?void 0:w.bind(re)}this.__isAsync&&(M=Jm(M),I&&(I=Jm(I)),L&&(L=Jm(L)));const j=super.subscribe({next:I,error:M,complete:L});return s instanceof O.w0&&s.add(j),j}};function bw(){return this._results[rl()]()}class Ff{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=rl(),c=Ff.prototype;c[l]||(c[l]=bw)}get changes(){return this._changes||(this._changes=new ll)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,l){return this._results.reduce(s,l)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,l){const c=this;c.dirty=!1;const g=Si(s);(this._changesDetected=!function Hd(o,s,l){if(o.length!==s.length)return!1;for(let c=0;c<o.length;c++){let g=o[c],y=s[c];if(l&&(g=l(g),y=l(y)),y!==g)return!1}return!0}(c._results,g,l))&&(c._results=g,c.length=g.length,c.last=g[this.length-1],c.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let nd=(()=>{class o{}return o.__NG_ELEMENT_ID__=wI,o})();const G_=nd,z_=class extends G_{constructor(s,l,c){super(),this._declarationLView=s,this._declarationTContainer=l,this.elementRef=c}createEmbeddedView(s){const l=this._declarationTContainer.tViews,c=lp(this._declarationLView,l,s,16,null,l.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(c[19]=y.createEmbeddedView(l)),up(l,c,s),new td(c)}};function wI(){return Xm(Er(),st())}function Xm(o,s){return 4&o.type?new z_(s,o,Ku(o,s)):null}let Lf=(()=>{class o{}return o.__NG_ELEMENT_ID__=Ew,o})();function Ew(){return ww(Er(),st())}const CI=Lf,Aw=class extends CI{constructor(s,l,c){super(),this._lContainer=s,this._hostTNode=l,this._hostLView=c}get element(){return Ku(this._hostTNode,this._hostLView)}get injector(){return new Xr(this._hostTNode,this._hostLView)}get parentInjector(){const s=hu(this._hostTNode,this._hostLView);if(Ua(s)){const l=dn(s,this._hostLView),c=or(s);return new Xr(l[1].data[c+8],l)}return new Xr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const l=qi(this._lContainer);return null!==l&&l[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,l,c){const g=s.createEmbeddedView(l||{});return this.insert(g,c),g}createComponent(s,l,c,g,y){const w=s&&!function Tr(o){return"function"==typeof o}(s);let I;if(w)I=l;else{const re=l||{};I=re.index,c=re.injector,g=re.projectableNodes,y=re.ngModuleRef}const M=w?s:new P_(jt(s)),L=c||this.parentInjector;if(!y&&null==M.ngModule){const be=(w?L:this.parentInjector).get($l,null);be&&(y=be)}const j=M.create(L,g,void 0,y);return this.insert(j.hostView,I),j}insert(s,l){const c=s._lView,g=c[1];if(function _t(o){return li(o[3])}(c)){const j=this.indexOf(s);if(-1!==j)this.detach(j);else{const re=c[3],be=new Aw(re,re[6],re[3]);be.detach(be.indexOf(s))}}const y=this._adjustIndex(l),w=this._lContainer;!function zg(o,s,l,c){const g=10+c,y=l.length;c>0&&(l[g-1][4]=s),c<y-10?(s[4]=l[g],jd(l,10+c,s)):(l.push(s),s[4]=null),s[3]=l;const w=s[17];null!==w&&l!==w&&function Lc(o,s){const l=o[9];s[16]!==s[3][3][16]&&(o[2]=!0),null===l?o[9]=[s]:l.push(s)}(w,s);const I=s[19];null!==I&&I.insertView(o),s[2]|=128}(g,c,w,y);const I=Jh(y,w),M=c[11],L=Yh(M,w[7]);return null!==L&&function af(o,s,l,c,g,y){c[0]=g,c[6]=s,Bu(o,c,l,1,g,y)}(g,w[6],M,c,L,I),s.attachToViewContainerRef(),jd(rd(w),y,s),s}move(s,l){return this.insert(s,l)}indexOf(s){const l=qi(this._lContainer);return null!==l?l.indexOf(s):-1}remove(s){const l=this._adjustIndex(s,-1),c=Kh(this._lContainer,l);c&&(ms(rd(this._lContainer),l),Qo(c[1],c))}detach(s){const l=this._adjustIndex(s,-1),c=Kh(this._lContainer,l);return c&&null!=ms(rd(this._lContainer),l)?new td(c):null}_adjustIndex(s,l=0){return null==s?this.length+l:s}};function qi(o){return o[8]}function rd(o){return o[8]||(o[8]=[])}function ww(o,s){let l;const c=s[o.index];if(li(c))l=c;else{let g;if(8&o.type)g=Zn(c);else{const y=s[11];g=y.createComment("");const w=Yr(o,s);lf(y,Yh(y,w),g,function dD(o,s){return cr(o)?o.nextSibling(s):s.nextSibling}(y,w),!1)}s[o.index]=l=aE(c,s,g,o),fm(s,l)}return new Aw(l,o,s)}class Vf{constructor(s){this.queryList=s,this.matches=null}clone(){return new Vf(this.queryList)}setDirty(){this.queryList.setDirty()}}class Bf{constructor(s=[]){this.queries=s}createEmbeddedView(s){const l=s.queries;if(null!==l){const c=null!==s.contentQueries?s.contentQueries[0]:l.length,g=[];for(let y=0;y<c;y++){const w=l.getByIndex(y);g.push(this.queries[w.indexInDeclarationView].clone())}return new Bf(g)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let l=0;l<this.queries.length;l++)null!==qp(s,l).matches&&this.queries[l].setDirty()}}class ev{constructor(s,l,c=null){this.predicate=s,this.flags=l,this.read=c}}class Gp{constructor(s=[]){this.queries=s}elementStart(s,l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,l)}elementEnd(s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(s)}embeddedTView(s){let l=null;for(let c=0;c<this.length;c++){const g=null!==l?l.length:0,y=this.getByIndex(c).embeddedTView(s,g);y&&(y.indexInDeclarationView=c,null!==l?l.push(y):l=[y])}return null!==l?new Gp(l):null}template(s,l){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,l)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class zp{constructor(s,l=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(s,l){this.isApplyingToNode(l)&&this.matchTNode(s,l)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,l){this.elementStart(s,l)}embeddedTView(s,l){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,l),new zp(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==l;)c=c.parent;return l===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,l){const c=this.metadata.predicate;if(Array.isArray(c))for(let g=0;g<c.length;g++){const y=c[g];this.matchTNodeWithReadOption(s,l,q_(l,y)),this.matchTNodeWithReadOption(s,l,pu(l,s,y,!1,!1))}else c===nd?4&l.type&&this.matchTNodeWithReadOption(s,l,-1):this.matchTNodeWithReadOption(s,l,pu(l,s,c,!1,!1))}matchTNodeWithReadOption(s,l,c){if(null!==c){const g=this.metadata.read;if(null!==g)if(g===Up||g===Lf||g===nd&&4&l.type)this.addMatch(l.index,-2);else{const y=pu(l,s,g,!1,!1);null!==y&&this.addMatch(l.index,y)}else this.addMatch(l.index,c)}}addMatch(s,l){null===this.matches?this.matches=[s,l]:this.matches.push(s,l)}}function q_(o,s){const l=o.localNames;if(null!==l)for(let c=0;c<l.length;c+=2)if(l[c]===s)return l[c+1];return null}function Dw(o,s,l,c){return-1===l?function Cw(o,s){return 11&o.type?Ku(o,s):4&o.type?Xm(o,s):null}(s,o):-2===l?function TI(o,s,l){return l===Up?Ku(s,o):l===nd?Xm(s,o):l===Lf?ww(s,o):void 0}(o,s,c):fa(o,o[1],l,s)}function W_(o,s,l,c){const g=s[19].queries[c];if(null===g.matches){const y=o.data,w=l.matches,I=[];for(let M=0;M<w.length;M+=2){const L=w[M];I.push(L<0?null:Dw(s,y[L],w[M+1],l.metadata.read))}g.matches=I}return g.matches}function tv(o,s,l,c){const g=o.queries.getByIndex(l),y=g.matches;if(null!==y){const w=W_(o,s,g,l);for(let I=0;I<y.length;I+=2){const M=y[I];if(M>0)c.push(w[I/2]);else{const L=y[I+1],j=s[-M];for(let re=10;re<j.length;re++){const be=j[re];be[17]===be[3]&&tv(be[1],be,L,c)}if(null!==j[9]){const re=j[9];for(let be=0;be<re.length;be++){const Fe=re[be];tv(Fe[1],Fe,L,c)}}}}}return c}function nv(o){const s=st(),l=Rn(),c=xd();Md(c+1);const g=qp(l,c);if(o.dirty&&we(s)===(2==(2&g.metadata.flags))){if(null===g.matches)o.reset([]);else{const y=g.crossesNgTemplate?tv(l,s,c,[]):W_(l,s,g,c);o.reset(y,hI),o.notifyOnChanges()}return!0}return!1}function Z_(o,s,l){const c=Rn();c.firstCreatePass&&(Di(c,new ev(o,s,l),-1),2==(2&s)&&(c.staticViewQueries=!0)),iv(c,st(),s)}function Tw(o,s,l,c){const g=Rn();if(g.firstCreatePass){const y=Er();Di(g,new ev(s,l,c),y.index),function Wi(o,s){const l=o.contentQueries||(o.contentQueries=[]);s!==(l.length?l[l.length-1]:-1)&&l.push(o.queries.length-1,s)}(g,o),2==(2&l)&&(g.staticContentQueries=!0)}iv(g,st(),l)}function rv(){return function $_(o,s){return o[19].queries[s].queryList}(st(),xd())}function iv(o,s,l){const c=new Ff(4==(4&l));Jb(o,s,c,c.destroy),null===s[19]&&(s[19]=new Bf),s[19].queries.push(new Vf(c))}function Di(o,s,l){null===o.queries&&(o.queries=new Gp),o.queries.track(new zp(s,l))}function qp(o,s){return o.queries.getByIndex(s)}function fv(...o){}const g0=new nr("Application Initializer");let Wf=(()=>{class o{constructor(l){this.appInits=l,this.resolve=fv,this.reject=fv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,g)=>{this.resolve=c,this.reject=g})}runInitializers(){if(this.initialized)return;const l=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let g=0;g<this.appInits.length;g++){const y=this.appInits[g]();if(u_(y))l.push(y);else if(YE(y)){const w=new Promise((I,M)=>{y.subscribe({complete:I,error:M})});l.push(w)}}Promise.all(l).then(()=>{c()}).catch(g=>{this.reject(g)}),0===l.length&&c(),this.initialized=!0}}return o.\u0275fac=function(l){return new(l||o)(Ir(g0,8))},o.\u0275prov=wn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Zf=new nr("AppId",{providedIn:"root",factory:function Qu(){return`${m0()}${m0()}${m0()}`}});function m0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const pv=new nr("Platform Initializer"),$f=new nr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),gv=new nr("appBootstrapListener");let Ow=(()=>{class o{log(l){console.log(l)}warn(l){console.warn(l)}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=wn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const Kl=new nr("LocaleId",{providedIn:"root",factory:()=>Wd(Kl,Dt.Optional|Dt.SkipSelf)||function PI(){return"undefined"!=typeof $localize&&$localize.locale||Wl}()}),Yl=new nr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Fw{constructor(s,l){this.ngModuleFactory=s,this.componentFactories=l}}let Or=(()=>{class o{compileModuleSync(l){return new wi(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const c=this.compileModuleSync(l),y=A(Lt(l).declarations).reduce((w,I)=>{const M=jt(I);return M&&w.push(new P_(M)),w},[]);return new Fw(c,y)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=wn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const OI=(()=>Promise.resolve(0))();function sd(o){"undefined"==typeof Zone?OI.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Ma{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ll(!1),this.onMicrotaskEmpty=new ll(!1),this.onStable=new ll(!1),this.onError=new ll(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!c&&l,g.shouldCoalesceRunChangeDetection=c,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function Kp(){let o=bn.requestAnimationFrame,s=bn.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&s){const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l);const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function LI(o){const s=()=>{!function FI(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(bn,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,E0(o),o.isCheckStableRunning=!0,b0(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),E0(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,c,g,y,w,I)=>{try{return Yf(o),l.invokeTask(g,y,w,I)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||o.shouldCoalesceRunChangeDetection)&&s(),Ql(o)}},onInvoke:(l,c,g,y,w,I,M)=>{try{return Yf(o),l.invoke(g,y,w,I,M)}finally{o.shouldCoalesceRunChangeDetection&&s(),Ql(o)}},onHasTask:(l,c,g,y)=>{l.hasTask(g,y),c===g&&("microTask"==y.change?(o._hasPendingMicrotasks=y.microTask,E0(o),b0(o)):"macroTask"==y.change&&(o.hasPendingMacrotasks=y.macroTask))},onHandleError:(l,c,g,y)=>(l.handleError(g,y),o.runOutsideAngular(()=>o.onError.emit(y)),!1)})}(g)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ma.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ma.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,l,c){return this._inner.run(s,l,c)}runTask(s,l,c,g){const y=this._inner,w=y.scheduleEventTask("NgZoneEvent: "+g,s,Lw,fv,fv);try{return y.runTask(w,l,c)}finally{y.cancelTask(w)}}runGuarded(s,l,c){return this._inner.runGuarded(s,l,c)}runOutsideAngular(s){return this._outer.run(s)}}const Lw={};function b0(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function E0(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function Yf(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Ql(o){o._nesting--,b0(o)}class Vw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ll,this.onMicrotaskEmpty=new ll,this.onStable=new ll,this.onError=new ll}run(s,l,c){return s.apply(l,c)}runGuarded(s,l,c){return s.apply(l,c)}runOutsideAngular(s){return s()}runTask(s,l,c,g){return s.apply(l,c)}}let A0=(()=>{class o{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ma.assertNotInAngularZone(),sd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())sd(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(l)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,c,g){let y=-1;c&&c>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==y),l(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:l,timeoutId:y,updateCb:g})}whenStable(l,c,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,c,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,c,g){return[]}}return o.\u0275fac=function(l){return new(l||o)(Ir(Ma))},o.\u0275prov=wn({token:o,factory:o.\u0275fac}),o})(),Bw=(()=>{class o{constructor(){this._applications=new Map,w0.addToWindow(this)}registerApplication(l,c){this._applications.set(l,c)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,c=!0){return w0.findTestabilityInTree(this,l,c)}}return o.\u0275fac=function(l){return new(l||o)},o.\u0275prov=wn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();class Qf{addToWindow(s){}findTestabilityInTree(s,l,c){return null}}function VI(o){w0=o}let w0=new Qf,Ju=null;const Uw=new nr("AllowMultipleToken"),C0=new nr("PlatformOnDestroy");class Gw{constructor(s,l){this.name=s,this.token=l}}function vv(o,s,l=[]){const c=`Platform: ${s}`,g=new nr(c);return(y=[])=>{let w=Jf();if(!w||w.injector.get(Uw,!1)){const I=[...l,...y,{provide:g,useValue:!0}];o?o(I):function zw(o){if(Ju&&!Ju.get(Uw,!1))throw new oe(400,"");Ju=o;const s=o.get(Xf),l=o.get(pv,null);l&&l.forEach(c=>c())}(function UI(o=[],s){return Ca.create({name:s,providers:[{provide:Hy,useValue:"platform"},{provide:C0,useValue:()=>Ju=null},...o]})}(I,c))}return function BI(o){const s=Jf();if(!s)throw new oe(401,"");return s}()}}function Jf(){var o;return null!==(o=null==Ju?void 0:Ju.get(Xf))&&void 0!==o?o:null}let Xf=(()=>{class o{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,c){const I=function yv(o,s){let l;return l="noop"===o?new Vw:("zone.js"===o?void 0:o)||new Ma({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),l}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),M=[{provide:Ma,useValue:I}];return I.run(()=>{const L=Ca.create({providers:M,parent:this.injector,name:l.moduleType.name}),j=l.create(L),re=j.injector.get(Fu,null);if(!re)throw new oe(402,"");return I.runOutsideAngular(()=>{const be=I.onError.subscribe({next:Fe=>{re.handleError(Fe)}});j.onDestroy(()=>{ld(this._modules,j),be.unsubscribe()})}),function T0(o,s,l){try{const c=l();return u_(c)?c.catch(g=>{throw s.runOutsideAngular(()=>o.handleError(g)),g}):c}catch(c){throw s.runOutsideAngular(()=>o.handleError(c)),c}}(re,I,()=>{const be=j.injector.get(Wf);return be.runInitializers(),be.donePromise.then(()=>(function OT(o){xt(o,"Expected localeId to be defined"),"string"==typeof o&&(OA=o.toLowerCase().replace(/_/g,"-"))}(j.injector.get(Kl,Wl)||Wl),this._moduleDoBootstrap(j),j))})})}bootstrapModule(l,c=[]){const g=I0({},c);return function Hw(o,s,l){const c=new wi(l);return Promise.resolve(c)}(0,0,l).then(y=>this.bootstrapModuleFactory(y,g))}_moduleDoBootstrap(l){const c=l.injector.get(ad);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(g=>c.bootstrap(g));else{if(!l.instance.ngDoBootstrap)throw new oe(403,"");l.instance.ngDoBootstrap(c)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new oe(404,"");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const l=this._injector.get(C0,null);null==l||l(),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(l){return new(l||o)(Ir(Ca))},o.\u0275prov=wn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function I0(o,s){return Array.isArray(s)?s.reduce(I0,o):Object.assign(Object.assign({},o),s)}let ad=(()=>{class o{constructor(l,c,g,y){this._zone=l,this._injector=c,this._exceptionHandler=g,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new k.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),I=new k.y(M=>{let L;this._zone.runOutsideAngular(()=>{L=this._zone.onStable.subscribe(()=>{Ma.assertNotInAngularZone(),sd(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const j=this._zone.onUnstable.subscribe(()=>{Ma.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{L.unsubscribe(),j.unsubscribe()}});this.isStable=(0,G.T)(w,I.pipe((0,ne.B)()))}bootstrap(l,c){if(!this._initStatus.done)throw new oe(405,"");let g;g=l instanceof Bp?l:this._injector.get(Wm).resolveComponentFactory(l),this.componentTypes.push(g.componentType);const y=function D0(o){return o.isBoundToModule}(g)?void 0:this._injector.get($l),I=g.create(Ca.NULL,[],c||g.selector,y),M=I.location.nativeElement,L=I.injector.get(A0,null),j=L&&I.injector.get(Bw);return L&&j&&j.registerApplication(M,L),I.onDestroy(()=>{this.detachView(I.hostView),ld(this.components,I),j&&j.unregisterApplication(M)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new oe(101,"");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const c=l;this._views.push(c),c.attachToAppRef(this)}detachView(l){const c=l;ld(this._views,c),c.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(gv,[]).concat(this._bootstrapListeners).forEach(g=>g(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(l){return new(l||o)(Ir(Ma),Ir(Ca),Ir(Fu),Ir(Wf))},o.\u0275prov=wn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function ld(o,s){const l=o.indexOf(s);l>-1&&o.splice(l,1)}let S0=!0,Ww=!1;function HI(){return Ww=!0,S0}function jI(){if(Ww)throw new Error("Cannot enable prod mode after platform setup.");S0=!1}let Zw=(()=>{class o{}return o.__NG_ELEMENT_ID__=_v,o})();function _v(o){return function $w(o,s,l){if(Ss(o)&&!l){const c=$(o.index,s);return new td(c,c)}return 47&o.type?new td(s[16],s):null}(Er(),st(),16==(16&o))}class ec{constructor(){}supports(s){return Da(s)}create(s){return new tC(s)}}const eC=(o,s)=>s;class tC{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||eC}forEachItem(s){let l;for(l=this._itHead;null!==l;l=l._next)s(l)}forEachOperation(s){let l=this._itHead,c=this._removalsHead,g=0,y=null;for(;l||c;){const w=!c||l&&l.currentIndex<es(c,g,y)?l:c,I=es(w,g,y),M=w.currentIndex;if(w===c)g--,c=c._nextRemoved;else if(l=l._next,null==w.previousIndex)g++;else{y||(y=[]);const L=I-g,j=M-g;if(L!=j){for(let be=0;be<L;be++){const Fe=be<y.length?y[be]:y[be]=0,Ke=Fe+be;j<=Ke&&Ke<L&&(y[be]=Fe+1)}y[w.previousIndex]=j-L}}I!==M&&s(w,I,M)}}forEachPreviousItem(s){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)s(l)}forEachAddedItem(s){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)s(l)}forEachMovedItem(s){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)s(l)}forEachRemovedItem(s){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)s(l)}forEachIdentityChange(s){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)s(l)}diff(s){if(null==s&&(s=[]),!Da(s))throw new oe(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let g,y,w,l=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let I=0;I<this.length;I++)y=s[I],w=this._trackByFn(I,y),null!==l&&Object.is(l.trackById,w)?(c&&(l=this._verifyReinsertion(l,y,w,I)),Object.is(l.item,y)||this._addIdentityChange(l,y)):(l=this._mismatch(l,y,w,I),c=!0),l=l._next}else g=0,function ME(o,s){if(Array.isArray(o))for(let l=0;l<o.length;l++)s(o[l]);else{const l=o[rl()]();let c;for(;!(c=l.next()).done;)s(c.value)}}(s,I=>{w=this._trackByFn(g,I),null!==l&&Object.is(l.trackById,w)?(c&&(l=this._verifyReinsertion(l,I,w,g)),Object.is(l.item,I)||this._addIdentityChange(l,I)):(l=this._mismatch(l,I,w,g),c=!0),l=l._next,g++}),this.length=g;return this._truncate(l),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,l,c,g){let y;return null===s?y=this._itTail:(y=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,l)||this._addIdentityChange(s,l),this._reinsertAfter(s,y,g)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,g))?(Object.is(s.item,l)||this._addIdentityChange(s,l),this._moveAfter(s,y,g)):s=this._addAfter(new nC(l,c),y,g),s}_verifyReinsertion(s,l,c,g){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==y?s=this._reinsertAfter(y,s._prev,g):s.currentIndex!=g&&(s.currentIndex=g,this._addToMoves(s,g)),s}_truncate(s){for(;null!==s;){const l=s._next;this._addToRemovals(this._unlink(s)),s=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,l,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const g=s._prevRemoved,y=s._nextRemoved;return null===g?this._removalsHead=y:g._nextRemoved=y,null===y?this._removalsTail=g:y._prevRemoved=g,this._insertAfter(s,l,c),this._addToMoves(s,c),s}_moveAfter(s,l,c){return this._unlink(s),this._insertAfter(s,l,c),this._addToMoves(s,c),s}_addAfter(s,l,c){return this._insertAfter(s,l,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,l,c){const g=null===l?this._itHead:l._next;return s._next=g,s._prev=l,null===g?this._itTail=s:g._prev=s,null===l?this._itHead=s:l._next=s,null===this._linkedRecords&&(this._linkedRecords=new Qp),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const l=s._prev,c=s._next;return null===l?this._itHead=c:l._next=c,null===c?this._itTail=l:c._prev=l,s}_addToMoves(s,l){return s.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Qp),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,l){return s.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class nC{constructor(s,l){this.item=s,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class rC{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,l){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===l||l<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const l=s._prevDup,c=s._nextDup;return null===l?this._head=c:l._nextDup=c,null===c?this._tail=l:c._prevDup=l,null===this._head}}class Qp{constructor(){this.map=new Map}put(s){const l=s.trackById;let c=this.map.get(l);c||(c=new rC,this.map.set(l,c)),c.add(s)}get(s,l){const g=this.map.get(s);return g?g.get(s,l):null}remove(s){const l=s.trackById;return this.map.get(l).remove(s)&&this.map.delete(l),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function es(o,s,l){const c=o.previousIndex;if(null===c)return c;let g=0;return l&&c<l.length&&(g=l[c]),c+s+g}class R0{constructor(){}supports(s){return s instanceof Map||ym(s)}create(){return new iC}}class iC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let l;for(l=this._mapHead;null!==l;l=l._next)s(l)}forEachPreviousItem(s){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)s(l)}forEachChangedItem(s){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)s(l)}forEachAddedItem(s){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)s(l)}forEachRemovedItem(s){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)s(l)}diff(s){if(s){if(!(s instanceof Map||ym(s)))throw new oe(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,g)=>{if(l&&l.key===g)this._maybeAddToChanges(l,c),this._appendAfter=l,l=l._next;else{const y=this._getOrCreateRecordForKey(g,c);l=this._insertBeforeOrAppend(l,y)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let c=l;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,l){if(s){const c=s._prev;return l._next=s,l._prev=c,s._prev=l,c&&(c._next=l),s===this._mapHead&&(this._mapHead=l),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(s,l){if(this._records.has(s)){const g=this._records.get(s);this._maybeAddToChanges(g,l);const y=g._prev,w=g._next;return y&&(y._next=w),w&&(w._prev=y),g._next=null,g._prev=null,g}const c=new nh(s);return this._records.set(s,c),c.currentValue=l,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,l){Object.is(l,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=l,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,l){s instanceof Map?s.forEach(l):Object.keys(s).forEach(c=>l(s[c],c))}}class nh{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function oC(){return new k0([new ec])}let k0=(()=>{class o{constructor(l){this.factories=l}static create(l,c){if(null!=c){const g=c.factories.slice();l=l.concat(g)}return new o(l)}static extend(l){return{provide:o,useFactory:c=>o.create(l,c||oC()),deps:[[o,new Ka,new eo]]}}find(l){const c=this.factories.find(g=>g.supports(l));if(null!=c)return c;throw new oe(901,"")}}return o.\u0275prov=wn({token:o,providedIn:"root",factory:oC}),o})();function aC(){return new N0([new R0])}let N0=(()=>{class o{constructor(l){this.factories=l}static create(l,c){if(c){const g=c.factories.slice();l=l.concat(g)}return new o(l)}static extend(l){return{provide:o,useFactory:c=>o.create(l,c||aC()),deps:[[o,new Ka,new eo]]}}find(l){const c=this.factories.find(y=>y.supports(l));if(c)return c;throw new oe(901,"")}}return o.\u0275prov=wn({token:o,providedIn:"root",factory:aC}),o})();const uC=vv(null,"core",[]);let Zi=(()=>{class o{constructor(l){}}return o.\u0275fac=function(l){return new(l||o)(Ir(ad))},o.\u0275mod=Ie({type:o}),o.\u0275inj=_e({}),o})()},579:(kt,qe,z)=>{"use strict";z.d(qe,{Gb:()=>bn,IH:()=>zn});var u=z(5861),O=z(9681),k=z(1877),G=z(2090),ne=z(4859);z(2833);const Ee="analytics",Me="firebase_id",de="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",T="https://www.googletagmanager.com/gtag/js",F=new k.Yd("@firebase/analytics");function H(ae){return Promise.all(ae.map(ge=>ge.catch(Pe=>Pe)))}function oe(ae,ge){const Pe=document.createElement("script");Pe.src=`${T}?l=${ae}&id=${ge}`,Pe.async=!0,document.head.appendChild(Pe)}function ce(ae,ge,Pe,it,ht,lt){return se.apply(this,arguments)}function se(){return(se=(0,u.Z)(function*(ae,ge,Pe,it,ht,lt){const qt=it[ht];try{if(qt)yield ge[qt];else{const pe=(yield H(Pe)).find(he=>he.measurementId===ht);pe&&(yield ge[pe.appId])}}catch(Ie){F.error(Ie)}ae("config",ht,lt)})).apply(this,arguments)}function je(ae,ge,Pe,it,ht){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,u.Z)(function*(ae,ge,Pe,it,ht){try{let lt=[];if(ht&&ht.send_to){let qt=ht.send_to;Array.isArray(qt)||(qt=[qt]);const Ie=yield H(Pe);for(const pe of qt){const he=Ie.find(bt=>bt.measurementId===pe),et=he&&ge[he.appId];if(!et){lt=[];break}lt.push(et)}}0===lt.length&&(lt=Object.values(ge)),yield Promise.all(lt),ae("event",it,ht||{})}catch(lt){F.error(lt)}})).apply(this,arguments)}function ze(){const ae=window.document.getElementsByTagName("script");for(const ge of Object.values(ae))if(ge.src&&ge.src.includes(T))return ge;return null}const Te=new G.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Oe=new class xe{constructor(ge={},Pe=1e3){this.throttleMetadata=ge,this.intervalMillis=Pe}getThrottleMetadata(ge){return this.throttleMetadata[ge]}setThrottleMetadata(ge,Pe){this.throttleMetadata[ge]=Pe}deleteThrottleMetadata(ge){delete this.throttleMetadata[ge]}};function Be(ae){return new Headers({Accept:"application/json","x-goog-api-key":ae})}function Xe(ae){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,u.Z)(function*(ae){var ge;const{appId:Pe,apiKey:it}=ae,ht={method:"GET",headers:Be(it)},lt=de.replace("{app-id}",Pe),qt=yield fetch(lt,ht);if(200!==qt.status&&304!==qt.status){let Ie="";try{const pe=yield qt.json();(null===(ge=pe.error)||void 0===ge?void 0:ge.message)&&(Ie=pe.error.message)}catch(pe){}throw Te.create("config-fetch-failed",{httpStatus:qt.status,responseMessage:Ie})}return qt.json()})).apply(this,arguments)}function Wt(ae){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,u.Z)(function*(ae,ge=Oe,Pe){const{appId:it,apiKey:ht,measurementId:lt}=ae.options;if(!it)throw Te.create("no-app-id");if(!ht){if(lt)return{measurementId:lt,appId:it};throw Te.create("no-api-key")}const qt=ge.getThrottleMetadata(it)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ie=new Hn;return setTimeout((0,u.Z)(function*(){Ie.abort()}),void 0!==Pe?Pe:6e4),Qn({appId:it,apiKey:ht,measurementId:lt},qt,Ie,ge)})).apply(this,arguments)}function Qn(ae,ge,Pe){return xt.apply(this,arguments)}function xt(){return(xt=(0,u.Z)(function*(ae,{throttleEndTimeMillis:ge,backoffCount:Pe},it,ht=Oe){const{appId:lt,measurementId:qt}=ae;try{yield Ut(it,ge)}catch(Ie){if(qt)return F.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${qt} provided in the "measurementId" field in the local Firebase config. [${Ie.message}]`),{appId:lt,measurementId:qt};throw Ie}try{const Ie=yield Xe(ae);return ht.deleteThrottleMetadata(lt),Ie}catch(Ie){if(!Wn(Ie)){if(ht.deleteThrottleMetadata(lt),qt)return F.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${qt} provided in the "measurementId" field in the local Firebase config. [${Ie.message}]`),{appId:lt,measurementId:qt};throw Ie}const pe=503===Number(Ie.customData.httpStatus)?(0,G.$s)(Pe,ht.intervalMillis,30):(0,G.$s)(Pe,ht.intervalMillis),he={throttleEndTimeMillis:Date.now()+pe,backoffCount:Pe+1};return ht.setThrottleMetadata(lt,he),F.debug(`Calling attemptFetch again in ${pe} millis`),Qn(ae,he,it,ht)}})).apply(this,arguments)}function Ut(ae,ge){return new Promise((Pe,it)=>{const ht=Math.max(ge-Date.now(),0),lt=setTimeout(Pe,ht);ae.addEventListener(()=>{clearTimeout(lt),it(Te.create("fetch-throttle",{throttleEndTimeMillis:ge}))})})}function Wn(ae){if(!(ae instanceof G.ZR&&ae.customData))return!1;const ge=Number(ae.customData.httpStatus);return 429===ge||500===ge||503===ge||504===ge}class Hn{constructor(){this.listeners=[]}addEventListener(ge){this.listeners.push(ge)}abort(){this.listeners.forEach(ge=>ge())}}function vr(){return wn.apply(this,arguments)}function wn(){return(wn=(0,u.Z)(function*(){if(!(0,G.hl)())return F.warn(Te.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,G.eu)()}catch(ae){return F.warn(Te.create("indexeddb-unavailable",{errorInfo:ae}).message),!1}return!0})).apply(this,arguments)}function _e(){return(_e=(0,u.Z)(function*(ae,ge,Pe,it,ht,lt,qt){var Ie;const pe=Wt(ae);pe.then(rn=>{Pe[rn.measurementId]=rn.appId,ae.options.measurementId&&rn.measurementId!==ae.options.measurementId&&F.warn(`The measurement ID in the local Firebase config (${ae.options.measurementId}) does not match the measurement ID fetched from the server (${rn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(rn=>F.error(rn)),ge.push(pe);const he=vr().then(rn=>{if(rn)return it.getId()}),[et,bt]=yield Promise.all([pe,he]);ze()||oe(lt,et.measurementId),ht("js",new Date);const jt=null!==(Ie=null==qt?void 0:qt.config)&&void 0!==Ie?Ie:{};return jt.origin="firebase",jt.update=!0,null!=bt&&(jt[Me]=bt),ht("config",et.measurementId,jt),et.measurementId})).apply(this,arguments)}class Ve{constructor(ge){this.app=ge}_delete(){return delete at[this.app.options.appId],Promise.resolve()}}let at={},Ct=[];const Ze={};let vn,gn,Ot="dataLayer",$e=!1;function mt(ae,ge,Pe){!function Jt(){const ae=[];if((0,G.ru)()&&ae.push("This is a browser extension environment."),(0,G.zI)()||ae.push("Cookies are not available."),ae.length>0){const ge=ae.map((it,ht)=>`(${ht+1}) ${it}`).join(" "),Pe=Te.create("invalid-analytics-context",{errorInfo:ge});F.warn(Pe.message)}}();const it=ae.options.appId;if(!it)throw Te.create("no-app-id");if(!ae.options.apiKey){if(!ae.options.measurementId)throw Te.create("no-api-key");F.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${ae.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=at[it])throw Te.create("already-exists",{id:it});if(!$e){!function me(ae){let ge=[];Array.isArray(window[ae])?ge=window[ae]:window[ae]=ge}(Ot);const{wrappedGtag:lt,gtagCore:qt}=function Qe(ae,ge,Pe,it,ht){let lt=function(...qt){window[it].push(arguments)};return window[ht]&&"function"==typeof window[ht]&&(lt=window[ht]),window[ht]=function We(ae,ge,Pe,it){function lt(){return(lt=(0,u.Z)(function*(qt,Ie,pe){try{"event"===qt?yield je(ae,ge,Pe,Ie,pe):"config"===qt?yield ce(ae,ge,Pe,it,Ie,pe):ae("set",Ie)}catch(he){F.error(he)}})).apply(this,arguments)}return function ht(qt,Ie,pe){return lt.apply(this,arguments)}}(lt,ae,ge,Pe),{gtagCore:lt,wrappedGtag:window[ht]}}(at,Ct,Ze,Ot,"gtag");gn=lt,vn=qt,$e=!0}return at[it]=function Ae(ae,ge,Pe,it,ht,lt,qt){return _e.apply(this,arguments)}(ae,Ct,Ze,ge,vn,Ot,Pe),new Ve(ae)}function Jn(){return(Jn=(0,u.Z)(function*(ae,ge,Pe,it,ht){if(ht&&ht.global)ae("event",Pe,it);else{const lt=yield ge;ae("event",Pe,Object.assign(Object.assign({},it),{send_to:lt}))}})).apply(this,arguments)}function zn(ae=(0,O.getApp)()){ae=(0,G.m9)(ae);const ge=(0,O._getProvider)(ae,Ee);return ge.isInitialized()?ge.getImmediate():function Sr(ae,ge={}){const Pe=(0,O._getProvider)(ae,Ee);if(Pe.isInitialized()){const ht=Pe.getImmediate();if((0,G.vZ)(ge,Pe.getOptions()))return ht;throw Te.create("already-initialized")}return Pe.initialize({options:ge})}(ae)}function bn(){return yr.apply(this,arguments)}function yr(){return(yr=(0,u.Z)(function*(){if((0,G.ru)()||!(0,G.zI)()||!(0,G.hl)())return!1;try{return yield(0,G.eu)()}catch(ae){return!1}})).apply(this,arguments)}const J="@firebase/analytics",W="0.7.9";!function le(){(0,O._registerComponent)(new ne.wA(Ee,(ge,{options:Pe})=>mt(ge.getProvider("app").getImmediate(),ge.getProvider("installations-internal").getImmediate(),Pe),"PUBLIC")),(0,O._registerComponent)(new ne.wA("analytics-internal",function ae(ge){try{const Pe=ge.getProvider(Ee).getImmediate();return{logEvent:(it,ht,lt)=>function B(ae,ge,Pe,it){ae=(0,G.m9)(ae),function Ft(ae,ge,Pe,it,ht){return Jn.apply(this,arguments)}(gn,at[ae.app.options.appId],ge,Pe,it).catch(ht=>F.error(ht))}(Pe,it,ht,lt)}}catch(Pe){throw Te.create("interop-component-reg-failed",{reason:Pe})}},"PRIVATE")),(0,O.registerVersion)(J,W),(0,O.registerVersion)(J,W,"esm2017")}()},3942:(kt,qe,z)=>{"use strict";z.d(qe,{Z:()=>oe});var u=z(2090),O=z(4859),k=z(9681),G=z(1877);class ne{constructor(ce,se){this._delegate=ce,this.firebase=se,(0,k._addComponent)(ce,new O.wA("app-compat",()=>this,"PUBLIC")),this.container=ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ce){this._delegate.automaticDataCollectionEnabled=ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ce=>{this._delegate.checkDestroyed(),ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(ce,se=k._DEFAULT_ENTRY_NAME){var je;this._delegate.checkDestroyed();const Ye=this._delegate.container.getProvider(ce);return!Ye.isInitialized()&&"EXPLICIT"===(null===(je=Ye.getComponent())||void 0===je?void 0:je.instantiationMode)&&Ye.initialize(),Ye.getImmediate({identifier:se})}_removeServiceInstance(ce,se=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ce).clearInstance(se)}_addComponent(ce){(0,k._addComponent)(this._delegate,ce)}_addOrOverwriteComponent(ce){(0,k._addOrOverwriteComponent)(this._delegate,ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ee=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function De(){const me=function Me(me){const ce={},se={__esModule:!0,initializeApp:function We(Te,Re={}){const fe=k.initializeApp(Te,Re);if((0,u.r3)(ce,fe.name))return ce[fe.name];const xe=new me(fe,se);return ce[fe.name]=xe,xe},app:Ye,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function ze(Te){const Re=Te.name,fe=Re.replace("-compat","");if(k._registerComponent(Te)&&"PUBLIC"===Te.type){const xe=(Oe=Ye())=>{if("function"!=typeof Oe[fe])throw Ee.create("invalid-app-argument",{appName:Re});return Oe[fe]()};void 0!==Te.serviceProps&&(0,u.ZB)(xe,Te.serviceProps),se[fe]=xe,me.prototype[fe]=function(...Oe){return this._getService.bind(this,Re).apply(this,Te.multipleInstances?Oe:[])}}return"PUBLIC"===Te.type?se[fe]:null},removeApp:function je(Te){delete ce[Te]},useAsService:function gt(Te,Re){return"serverAuth"===Re?null:Re},modularAPIs:k}};function Ye(Te){if(!(0,u.r3)(ce,Te=Te||k._DEFAULT_ENTRY_NAME))throw Ee.create("no-app",{appName:Te});return ce[Te]}return se.default=se,Object.defineProperty(se,"apps",{get:function Qe(){return Object.keys(ce).map(Te=>ce[Te])}}),Ye.App=me,se}(ne);return me.INTERNAL=Object.assign(Object.assign({},me.INTERNAL),{createFirebaseNamespace:De,extendNamespace:function ce(se){(0,u.ZB)(me,se)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),me}(),de=new G.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){de.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const me=self.firebase.SDK_VERSION;me&&me.indexOf("LITE")>=0&&de.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const oe=ee;!function H(me){(0,k.registerVersion)("@firebase/app-compat","0.1.25",me)}()},9681:(kt,qe,z)=>{"use strict";z.r(qe),z.d(qe,{FirebaseError:()=>G.ZR,SDK_VERSION:()=>on,_DEFAULT_ENTRY_NAME:()=>xt,_addComponent:()=>vr,_addOrOverwriteComponent:()=>wn,_apps:()=>Wn,_clearComponents:()=>at,_components:()=>Hn,_getProvider:()=>_e,_registerComponent:()=>Ae,_removeServiceInstance:()=>Ve,deleteApp:()=>Dt,getApp:()=>gn,getApps:()=>$e,initializeApp:()=>vn,onLog:()=>Ft,registerVersion:()=>mt,setLogLevel:()=>Jn});var u=z(5861),O=z(4859),k=z(1877),G=z(2090),ne=z(8766);class Ce{constructor(le){this.container=le}getPlatformInfoString(){return this.container.getProviders().map(ae=>{if(function Ee(W){const le=W.getComponent();return"VERSION"===(null==le?void 0:le.type)}(ae)){const ge=ae.getImmediate();return`${ge.library}/${ge.version}`}return null}).filter(ae=>ae).join(" ")}}const Me="@firebase/app",ee=new k.Yd("@firebase/app"),xt="[DEFAULT]",Ut={[Me]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Wn=new Map,Hn=new Map;function vr(W,le){try{W.container.addComponent(le)}catch(ae){ee.debug(`Component ${le.name} failed to register with FirebaseApp ${W.name}`,ae)}}function wn(W,le){W.container.addOrOverwriteComponent(le)}function Ae(W){const le=W.name;if(Hn.has(le))return ee.debug(`There were multiple attempts to register component ${le}.`),!1;Hn.set(le,W);for(const ae of Wn.values())vr(ae,W);return!0}function _e(W,le){const ae=W.container.getProvider("heartbeat").getImmediate({optional:!0});return ae&&ae.triggerHeartbeat(),W.container.getProvider(le)}function Ve(W,le,ae=xt){_e(W,le).clearInstance(ae)}function at(){Hn.clear()}const Ze=new G.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ot{constructor(le,ae,ge){this._isDeleted=!1,this._options=Object.assign({},le),this._config=Object.assign({},ae),this._name=ae.name,this._automaticDataCollectionEnabled=ae.automaticDataCollectionEnabled,this._container=ge,this.container.addComponent(new O.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(le){this.checkDestroyed(),this._automaticDataCollectionEnabled=le}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(le){this._isDeleted=le}checkDestroyed(){if(this.isDeleted)throw Ze.create("app-deleted",{appName:this._name})}}const on="9.8.1";function vn(W,le={}){"object"!=typeof le&&(le={name:le});const ae=Object.assign({name:xt,automaticDataCollectionEnabled:!1},le),ge=ae.name;if("string"!=typeof ge||!ge)throw Ze.create("bad-app-name",{appName:String(ge)});const Pe=Wn.get(ge);if(Pe){if((0,G.vZ)(W,Pe.options)&&(0,G.vZ)(ae,Pe.config))return Pe;throw Ze.create("duplicate-app",{appName:ge})}const it=new O.H0(ge);for(const lt of Hn.values())it.addComponent(lt);const ht=new Ot(W,ae,it);return Wn.set(ge,ht),ht}function gn(W=xt){const le=Wn.get(W);if(!le)throw Ze.create("no-app",{appName:W});return le}function $e(){return Array.from(Wn.values())}function Dt(W){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,u.Z)(function*(W){const le=W.name;Wn.has(le)&&(Wn.delete(le),yield Promise.all(W.container.getProviders().map(ae=>ae.delete())),W.isDeleted=!0)})).apply(this,arguments)}function mt(W,le,ae){var ge;let Pe=null!==(ge=Ut[W])&&void 0!==ge?ge:W;ae&&(Pe+=`-${ae}`);const it=Pe.match(/\s|\//),ht=le.match(/\s|\//);if(it||ht){const lt=[`Unable to register library "${Pe}" with version "${le}":`];return it&&lt.push(`library name "${Pe}" contains illegal characters (whitespace or "/")`),it&&ht&&lt.push("and"),ht&&lt.push(`version name "${le}" contains illegal characters (whitespace or "/")`),void ee.warn(lt.join(" "))}Ae(new O.wA(`${Pe}-version`,()=>({library:Pe,version:le}),"VERSION"))}function Ft(W,le){if(null!==W&&"function"!=typeof W)throw Ze.create("invalid-log-argument");(0,k.Am)(W,le)}function Jn(W){(0,k.Ub)(W)}const Cn="firebase-heartbeat-store";let Gn=null;function sn(){return Gn||(Gn=(0,ne.X3)("firebase-heartbeat-database",1,{upgrade:(W,le)=>{0===le&&W.createObjectStore(Cn)}}).catch(W=>{throw Ze.create("storage-open",{originalErrorMessage:W.message})})),Gn}function Zt(){return(Zt=(0,u.Z)(function*(W){try{return(yield sn()).transaction(Cn).objectStore(Cn).get(Sr(W))}catch(le){throw Ze.create("storage-get",{originalErrorMessage:le.message})}})).apply(this,arguments)}function Rt(W,le){return zn.apply(this,arguments)}function zn(){return(zn=(0,u.Z)(function*(W,le){try{const ge=(yield sn()).transaction(Cn,"readwrite");return yield ge.objectStore(Cn).put(le,Sr(W)),ge.done}catch(ae){throw Ze.create("storage-set",{originalErrorMessage:ae.message})}})).apply(this,arguments)}function Sr(W){return`${W.name}!${W.options.appId}`}class tr{constructor(le){this.container=le,this._heartbeatsCache=null;const ae=this.container.getProvider("app").getImmediate();this._storage=new ve(ae),this._heartbeatsCachePromise=this._storage.read().then(ge=>(this._heartbeatsCache=ge,ge))}triggerHeartbeat(){var le=this;return(0,u.Z)(function*(){const ge=le.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Pe=Dn();if(null===le._heartbeatsCache&&(le._heartbeatsCache=yield le._heartbeatsCachePromise),le._heartbeatsCache.lastSentHeartbeatDate!==Pe&&!le._heartbeatsCache.heartbeats.some(it=>it.date===Pe))return le._heartbeatsCache.heartbeats.push({date:Pe,agent:ge}),le._heartbeatsCache.heartbeats=le._heartbeatsCache.heartbeats.filter(it=>{const ht=new Date(it.date).valueOf();return Date.now()-ht<=2592e6}),le._storage.overwrite(le._heartbeatsCache)})()}getHeartbeatsHeader(){var le=this;return(0,u.Z)(function*(){if(null===le._heartbeatsCache&&(yield le._heartbeatsCachePromise),null===le._heartbeatsCache||0===le._heartbeatsCache.heartbeats.length)return"";const ae=Dn(),{heartbeatsToSend:ge,unsentEntries:Pe}=function ue(W,le=1024){const ae=[];let ge=W.slice();for(const Pe of W){const it=ae.find(ht=>ht.agent===Pe.agent);if(it){if(it.dates.push(Pe.date),B(ae)>le){it.dates.pop();break}}else if(ae.push({agent:Pe.agent,dates:[Pe.date]}),B(ae)>le){ae.pop();break}ge=ge.slice(1)}return{heartbeatsToSend:ae,unsentEntries:ge}}(le._heartbeatsCache.heartbeats),it=(0,G.L)(JSON.stringify({version:2,heartbeats:ge}));return le._heartbeatsCache.lastSentHeartbeatDate=ae,Pe.length>0?(le._heartbeatsCache.heartbeats=Pe,yield le._storage.overwrite(le._heartbeatsCache)):(le._heartbeatsCache.heartbeats=[],le._storage.overwrite(le._heartbeatsCache)),it})()}}function Dn(){return(new Date).toISOString().substring(0,10)}class ve{constructor(le){this.app=le,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,G.hl)()&&(0,G.eu)().then(()=>!0).catch(()=>!1)})()}read(){var le=this;return(0,u.Z)(function*(){return(yield le._canUseIndexedDBPromise)&&(yield function un(W){return Zt.apply(this,arguments)}(le.app))||{heartbeats:[]}})()}overwrite(le){var ae=this;return(0,u.Z)(function*(){var ge;if(yield ae._canUseIndexedDBPromise){const it=yield ae.read();return Rt(ae.app,{lastSentHeartbeatDate:null!==(ge=le.lastSentHeartbeatDate)&&void 0!==ge?ge:it.lastSentHeartbeatDate,heartbeats:le.heartbeats})}})()}add(le){var ae=this;return(0,u.Z)(function*(){var ge;if(yield ae._canUseIndexedDBPromise){const it=yield ae.read();return Rt(ae.app,{lastSentHeartbeatDate:null!==(ge=le.lastSentHeartbeatDate)&&void 0!==ge?ge:it.lastSentHeartbeatDate,heartbeats:[...it.heartbeats,...le.heartbeats]})}})()}}function B(W){return(0,G.L)(JSON.stringify({version:2,heartbeats:W})).length}!function J(W){Ae(new O.wA("platform-logger",le=>new Ce(le),"PRIVATE")),Ae(new O.wA("heartbeat",le=>new tr(le),"PRIVATE")),mt(Me,"0.7.24",W),mt(Me,"0.7.24","esm2017"),mt("fire-js","")}("")},4859:(kt,qe,z)=>{"use strict";z.d(qe,{H0:()=>Me,wA:()=>k});var u=z(5861),O=z(2090);class k{constructor(ee,de,T){this.name=ee,this.instanceFactory=de,this.type=T,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const G="[DEFAULT]";class ne{constructor(ee,de){this.name=ee,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const de=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(de)){const T=new O.BH;if(this.instancesDeferred.set(de,T),this.isInitialized(de)||this.shouldAutoInitialize())try{const F=this.getOrInitializeService({instanceIdentifier:de});F&&T.resolve(F)}catch(F){}}return this.instancesDeferred.get(de).promise}getImmediate(ee){var de;const T=this.normalizeInstanceIdentifier(null==ee?void 0:ee.identifier),F=null!==(de=null==ee?void 0:ee.optional)&&void 0!==de&&de;if(!this.isInitialized(T)&&!this.shouldAutoInitialize()){if(F)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:T})}catch(H){if(F)return null;throw H}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function Ee(De){return"EAGER"===De.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:G})}catch(de){}for(const[de,T]of this.instancesDeferred.entries()){const F=this.normalizeInstanceIdentifier(de);try{const H=this.getOrInitializeService({instanceIdentifier:F});T.resolve(H)}catch(H){}}}}clearInstance(ee=G){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,u.Z)(function*(){const de=Array.from(ee.instances.values());yield Promise.all([...de.filter(T=>"INTERNAL"in T).map(T=>T.INTERNAL.delete()),...de.filter(T=>"_delete"in T).map(T=>T._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=G){return this.instances.has(ee)}getOptions(ee=G){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:de={}}=ee,T=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(T))throw Error(`${this.name}(${T}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const F=this.getOrInitializeService({instanceIdentifier:T,options:de});for(const[H,oe]of this.instancesDeferred.entries())T===this.normalizeInstanceIdentifier(H)&&oe.resolve(F);return F}onInit(ee,de){var T;const F=this.normalizeInstanceIdentifier(de),H=null!==(T=this.onInitCallbacks.get(F))&&void 0!==T?T:new Set;H.add(ee),this.onInitCallbacks.set(F,H);const oe=this.instances.get(F);return oe&&ee(oe,F),()=>{H.delete(ee)}}invokeOnInitCallbacks(ee,de){const T=this.onInitCallbacks.get(de);if(T)for(const F of T)try{F(ee,de)}catch(H){}}getOrInitializeService({instanceIdentifier:ee,options:de={}}){let T=this.instances.get(ee);if(!T&&this.component&&(T=this.component.instanceFactory(this.container,{instanceIdentifier:(De=ee,De===G?void 0:De),options:de}),this.instances.set(ee,T),this.instancesOptions.set(ee,de),this.invokeOnInitCallbacks(T,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,T)}catch(F){}var De;return T||null}normalizeInstanceIdentifier(ee=G){return this.component?this.component.multipleInstances?ee:G:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Me{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const de=this.getProvider(ee.name);if(de.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);de.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const de=new ne(ee,this);return this.providers.set(ee,de),de}getProviders(){return Array.from(this.providers.values())}}},2833:(kt,qe,z)=>{"use strict";var u=z(5861),O=z(9681),k=z(4859),G=z(2090),ne=z(8766);const Ce="@firebase/installations",De="w:0.5.9",ee="FIS_v2",me=new G.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ce(ye){return ye instanceof G.ZR&&ye.code.includes("request-failed")}function se({projectId:ye}){return`https://firebaseinstallations.googleapis.com/v1/projects/${ye}/installations`}function je(ye){return{token:ye.token,requestStatus:2,expiresIn:Re(ye.expiresIn),creationTime:Date.now()}}function Ye(ye,He){return We.apply(this,arguments)}function We(){return(We=(0,u.Z)(function*(ye,He){const Ht=(yield He.json()).error;return me.create("request-failed",{requestName:ye,serverCode:Ht.code,serverMessage:Ht.message,serverStatus:Ht.status})})).apply(this,arguments)}function Qe({apiKey:ye}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":ye})}function ze(ye,{refreshToken:He}){const ct=Qe(ye);return ct.append("Authorization",function fe(ye){return`${ee} ${ye}`}(He)),ct}function gt(ye){return Te.apply(this,arguments)}function Te(){return(Te=(0,u.Z)(function*(ye){const He=yield ye();return He.status>=500&&He.status<600?ye():He})).apply(this,arguments)}function Re(ye){return Number(ye.replace("s","000"))}function xe(ye,He){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,u.Z)(function*({appConfig:ye,heartbeatServiceProvider:He},{fid:ct}){const Ht=se(ye),Sn=Qe(ye),Nn=He.getImmediate({optional:!0});if(Nn){const tn=yield Nn.getHeartbeatsHeader();tn&&Sn.append("x-firebase-client",tn)}const dr={method:"POST",headers:Sn,body:JSON.stringify({fid:ct,authVersion:ee,appId:ye.appId,sdkVersion:De})},qr=yield gt(()=>fetch(Ht,dr));if(qr.ok){const tn=yield qr.json();return{fid:tn.fid||ct,registrationStatus:2,refreshToken:tn.refreshToken,authToken:je(tn.authToken)}}throw yield Ye("Create Installation",qr)})).apply(this,arguments)}function Be(ye){return new Promise(He=>{setTimeout(He,ye)})}const Ne=/^[cdef][\w-]{21}$/;function Qt(){try{const ye=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(ye),ye[0]=112+ye[0]%16;const ct=function Qn(ye){return function Xe(ye){return btoa(String.fromCharCode(...ye)).replace(/\+/g,"-").replace(/\//g,"_")}(ye).substr(0,22)}(ye);return Ne.test(ct)?ct:""}catch(ye){return""}}function xt(ye){return`${ye.appName}!${ye.appId}`}const Ut=new Map;function Wn(ye,He){const ct=xt(ye);wn(ct,He),function Ae(ye,He){const ct=function Ve(){return!_e&&"BroadcastChannel"in self&&(_e=new BroadcastChannel("[Firebase] FID Change"),_e.onmessage=ye=>{wn(ye.data.key,ye.data.fid)}),_e}();ct&&ct.postMessage({key:ye,fid:He}),function at(){0===Ut.size&&_e&&(_e.close(),_e=null)}()}(ct,He)}function wn(ye,He){const ct=Ut.get(ye);if(ct)for(const Ht of ct)Ht(He)}let _e=null;const Ot="firebase-installations-store";let on=null;function vn(){return on||(on=(0,ne.X3)("firebase-installations-database",1,{upgrade:(ye,He)=>{0===He&&ye.createObjectStore(Ot)}})),on}function gn(ye,He){return $e.apply(this,arguments)}function $e(){return($e=(0,u.Z)(function*(ye,He){const ct=xt(ye),Sn=(yield vn()).transaction(Ot,"readwrite"),Nn=Sn.objectStore(Ot),Tn=yield Nn.get(ct);return yield Nn.put(He,ct),yield Sn.done,(!Tn||Tn.fid!==He.fid)&&Wn(ye,He.fid),He})).apply(this,arguments)}function Dt(ye){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,u.Z)(function*(ye){const He=xt(ye),Ht=(yield vn()).transaction(Ot,"readwrite");yield Ht.objectStore(Ot).delete(He),yield Ht.done})).apply(this,arguments)}function mt(ye,He){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,u.Z)(function*(ye,He){const ct=xt(ye),Sn=(yield vn()).transaction(Ot,"readwrite"),Nn=Sn.objectStore(Ot),Tn=yield Nn.get(ct),dr=He(Tn);return void 0===dr?yield Nn.delete(ct):yield Nn.put(dr,ct),yield Sn.done,dr&&(!Tn||Tn.fid!==dr.fid)&&Wn(ye,dr.fid),dr})).apply(this,arguments)}function Jn(ye){return En.apply(this,arguments)}function En(){return(En=(0,u.Z)(function*(ye){let He;const ct=yield mt(ye.appConfig,Ht=>{const Sn=xn(Ht),Nn=Cn(ye,Sn);return He=Nn.registrationPromise,Nn.installationEntry});return""===ct.fid?{installationEntry:yield He}:{installationEntry:ct,registrationPromise:He}})).apply(this,arguments)}function xn(ye){return zn(ye||{fid:Qt(),registrationStatus:0})}function Cn(ye,He){if(0===He.registrationStatus){if(!navigator.onLine)return{installationEntry:He,registrationPromise:Promise.reject(me.create("app-offline"))};const ct={fid:He.fid,registrationStatus:1,registrationTime:Date.now()},Ht=function Gn(ye,He){return sn.apply(this,arguments)}(ye,ct);return{installationEntry:ct,registrationPromise:Ht}}return 1===He.registrationStatus?{installationEntry:He,registrationPromise:un(ye)}:{installationEntry:He}}function sn(){return(sn=(0,u.Z)(function*(ye,He){try{const ct=yield xe(ye,He);return gn(ye.appConfig,ct)}catch(ct){throw ce(ct)&&409===ct.customData.serverCode?yield Dt(ye.appConfig):yield gn(ye.appConfig,{fid:He.fid,registrationStatus:0}),ct}})).apply(this,arguments)}function un(ye){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,u.Z)(function*(ye){let He=yield Rt(ye.appConfig);for(;1===He.registrationStatus;)yield Be(100),He=yield Rt(ye.appConfig);if(0===He.registrationStatus){const{installationEntry:ct,registrationPromise:Ht}=yield Jn(ye);return Ht||ct}return He})).apply(this,arguments)}function Rt(ye){return mt(ye,He=>{if(!He)throw me.create("installation-not-found");return zn(He)})}function zn(ye){return function Sr(ye){return 1===ye.registrationStatus&&ye.registrationTime+1e4<Date.now()}(ye)?{fid:ye.fid,registrationStatus:0}:ye}function bn(ye,He){return yr.apply(this,arguments)}function yr(){return(yr=(0,u.Z)(function*({appConfig:ye,heartbeatServiceProvider:He},ct){const Ht=tr(ye,ct),Sn=ze(ye,ct),Nn=He.getImmediate({optional:!0});if(Nn){const tn=yield Nn.getHeartbeatsHeader();tn&&Sn.append("x-firebase-client",tn)}const dr={method:"POST",headers:Sn,body:JSON.stringify({installation:{sdkVersion:De,appId:ye.appId}})},qr=yield gt(()=>fetch(Ht,dr));if(qr.ok)return je(yield qr.json());throw yield Ye("Generate Auth Token",qr)})).apply(this,arguments)}function tr(ye,{fid:He}){return`${se(ye)}/${He}/authTokens:generate`}function Dn(ye){return ue.apply(this,arguments)}function ue(){return(ue=(0,u.Z)(function*(ye,He=!1){let ct;const Ht=yield mt(ye.appConfig,Nn=>{if(!ae(Nn))throw me.create("not-registered");const Tn=Nn.authToken;if(!He&&ge(Tn))return Nn;if(1===Tn.requestStatus)return ct=ve(ye,He),Nn;{if(!navigator.onLine)throw me.create("app-offline");const dr=it(Nn);return ct=W(ye,dr),dr}});return ct?yield ct:Ht.authToken})).apply(this,arguments)}function ve(ye,He){return B.apply(this,arguments)}function B(){return(B=(0,u.Z)(function*(ye,He){let ct=yield J(ye.appConfig);for(;1===ct.authToken.requestStatus;)yield Be(100),ct=yield J(ye.appConfig);const Ht=ct.authToken;return 0===Ht.requestStatus?Dn(ye,He):Ht})).apply(this,arguments)}function J(ye){return mt(ye,He=>{if(!ae(He))throw me.create("not-registered");return function ht(ye){return 1===ye.requestStatus&&ye.requestTime+1e4<Date.now()}(He.authToken)?Object.assign(Object.assign({},He),{authToken:{requestStatus:0}}):He})}function W(ye,He){return le.apply(this,arguments)}function le(){return(le=(0,u.Z)(function*(ye,He){try{const ct=yield bn(ye,He),Ht=Object.assign(Object.assign({},He),{authToken:ct});return yield gn(ye.appConfig,Ht),ct}catch(ct){if(!ce(ct)||401!==ct.customData.serverCode&&404!==ct.customData.serverCode){const Ht=Object.assign(Object.assign({},He),{authToken:{requestStatus:0}});yield gn(ye.appConfig,Ht)}else yield Dt(ye.appConfig);throw ct}})).apply(this,arguments)}function ae(ye){return void 0!==ye&&2===ye.registrationStatus}function ge(ye){return 2===ye.requestStatus&&!function Pe(ye){const He=Date.now();return He<ye.creationTime||ye.creationTime+ye.expiresIn<He+36e5}(ye)}function it(ye){const He={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},ye),{authToken:He})}function qt(){return(qt=(0,u.Z)(function*(ye){const He=ye,{installationEntry:ct,registrationPromise:Ht}=yield Jn(He);return Ht?Ht.catch(console.error):Dn(He).catch(console.error),ct.fid})).apply(this,arguments)}function pe(){return(pe=(0,u.Z)(function*(ye,He=!1){const ct=ye;return yield he(ct),(yield Dn(ct,He)).token})).apply(this,arguments)}function he(ye){return et.apply(this,arguments)}function et(){return(et=(0,u.Z)(function*(ye){const{registrationPromise:He}=yield Jn(ye);He&&(yield He)})).apply(this,arguments)}function _r(ye){return me.create("missing-app-config-values",{valueName:ye})}const si="installations",os=ye=>{const He=ye.getProvider("app").getImmediate(),ct=function Mn(ye){if(!ye||!ye.options)throw _r("App Configuration");if(!ye.name)throw _r("App Name");const He=["projectId","apiKey","appId"];for(const ct of He)if(!ye.options[ct])throw _r(ct);return{appName:ye.name,projectId:ye.options.projectId,apiKey:ye.options.apiKey,appId:ye.options.appId}}(He);return{app:He,appConfig:ct,heartbeatServiceProvider:(0,O._getProvider)(He,"heartbeat"),_delete:()=>Promise.resolve()}},Kr=ye=>{const He=ye.getProvider("app").getImmediate(),ct=(0,O._getProvider)(He,si).getImmediate();return{getId:()=>function lt(ye){return qt.apply(this,arguments)}(ct),getToken:Sn=>function Ie(ye){return pe.apply(this,arguments)}(ct,Sn)}};(function Et(){(0,O._registerComponent)(new k.wA(si,os,"PUBLIC")),(0,O._registerComponent)(new k.wA("installations-internal",Kr,"PRIVATE"))})(),(0,O.registerVersion)(Ce,"0.5.9"),(0,O.registerVersion)(Ce,"0.5.9","esm2017")},1877:(kt,qe,z)=>{"use strict";z.d(qe,{Am:()=>De,Ub:()=>Me,Yd:()=>Ee,in:()=>O});const u=[];var O=(()=>{return(ee=O||(O={}))[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",O;var ee})();const k={debug:O.DEBUG,verbose:O.VERBOSE,info:O.INFO,warn:O.WARN,error:O.ERROR,silent:O.SILENT},G=O.INFO,ne={[O.DEBUG]:"log",[O.VERBOSE]:"log",[O.INFO]:"info",[O.WARN]:"warn",[O.ERROR]:"error"},Ce=(ee,de,...T)=>{if(de<ee.logLevel)return;const F=(new Date).toISOString(),H=ne[de];if(!H)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[H](`[${F}]  ${ee.name}:`,...T)};class Ee{constructor(de){this.name=de,this._logLevel=G,this._logHandler=Ce,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in O))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?k[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,O.DEBUG,...de),this._logHandler(this,O.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,O.VERBOSE,...de),this._logHandler(this,O.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,O.INFO,...de),this._logHandler(this,O.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,O.WARN,...de),this._logHandler(this,O.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,O.ERROR,...de),this._logHandler(this,O.ERROR,...de)}}function Me(ee){u.forEach(de=>{de.setLogLevel(ee)})}function De(ee,de){for(const T of u){let F=null;de&&de.level&&(F=k[de.level]),T.userLogHandler=null===ee?null:(H,oe,...me)=>{const ce=me.map(se=>{if(null==se)return null;if("string"==typeof se)return se;if("number"==typeof se||"boolean"==typeof se)return se.toString();if(se instanceof Error)return se.message;try{return JSON.stringify(se)}catch(je){return null}}).filter(se=>se).join(" ");oe>=(null!=F?F:H.logLevel)&&ee({level:O[oe].toLowerCase(),message:ce,args:me,type:H.name})}}}},8766:(kt,qe,z)=>{"use strict";z.d(qe,{Lj:()=>We,X3:()=>Ye});var u=z(5861);let k,G;const Ee=new WeakMap,Me=new WeakMap,De=new WeakMap,ee=new WeakMap,de=new WeakMap;let H={get(Re,fe,xe){if(Re instanceof IDBTransaction){if("done"===fe)return Me.get(Re);if("objectStoreNames"===fe)return Re.objectStoreNames||De.get(Re);if("store"===fe)return xe.objectStoreNames[1]?void 0:xe.objectStore(xe.objectStoreNames[0])}return se(Re[fe])},set:(Re,fe,xe)=>(Re[fe]=xe,!0),has:(Re,fe)=>Re instanceof IDBTransaction&&("done"===fe||"store"===fe)||fe in Re};function ce(Re){return"function"==typeof Re?function me(Re){return Re!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ce(){return G||(G=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Re)?function(...fe){return Re.apply(je(this),fe),se(Ee.get(this))}:function(...fe){return se(Re.apply(je(this),fe))}:function(fe,...xe){const Oe=Re.call(je(this),fe,...xe);return De.set(Oe,fe.sort?fe.sort():[fe]),se(Oe)}}(Re):(Re instanceof IDBTransaction&&function F(Re){if(Me.has(Re))return;const fe=new Promise((xe,Oe)=>{const Be=()=>{Re.removeEventListener("complete",Xe),Re.removeEventListener("error",Ne),Re.removeEventListener("abort",Ne)},Xe=()=>{xe(),Be()},Ne=()=>{Oe(Re.error||new DOMException("AbortError","AbortError")),Be()};Re.addEventListener("complete",Xe),Re.addEventListener("error",Ne),Re.addEventListener("abort",Ne)});Me.set(Re,fe)}(Re),((Re,fe)=>fe.some(xe=>Re instanceof xe))(Re,function ne(){return k||(k=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Re,H):Re)}function se(Re){if(Re instanceof IDBRequest)return function T(Re){const fe=new Promise((xe,Oe)=>{const Be=()=>{Re.removeEventListener("success",Xe),Re.removeEventListener("error",Ne)},Xe=()=>{xe(se(Re.result)),Be()},Ne=()=>{Oe(Re.error),Be()};Re.addEventListener("success",Xe),Re.addEventListener("error",Ne)});return fe.then(xe=>{xe instanceof IDBCursor&&Ee.set(xe,Re)}).catch(()=>{}),de.set(fe,Re),fe}(Re);if(ee.has(Re))return ee.get(Re);const fe=ce(Re);return fe!==Re&&(ee.set(Re,fe),de.set(fe,Re)),fe}const je=Re=>de.get(Re);function Ye(Re,fe,{blocked:xe,upgrade:Oe,blocking:Be,terminated:Xe}={}){const Ne=indexedDB.open(Re,fe),Wt=se(Ne);return Oe&&Ne.addEventListener("upgradeneeded",Qt=>{Oe(se(Ne.result),Qt.oldVersion,Qt.newVersion,se(Ne.transaction))}),xe&&Ne.addEventListener("blocked",()=>xe()),Wt.then(Qt=>{Xe&&Qt.addEventListener("close",()=>Xe()),Be&&Qt.addEventListener("versionchange",()=>Be())}).catch(()=>{}),Wt}function We(Re,{blocked:fe}={}){const xe=indexedDB.deleteDatabase(Re);return fe&&xe.addEventListener("blocked",()=>fe()),se(xe).then(()=>{})}const Qe=["get","getKey","getAll","getAllKeys","count"],ze=["put","add","delete","clear"],gt=new Map;function Te(Re,fe){if(!(Re instanceof IDBDatabase)||fe in Re||"string"!=typeof fe)return;if(gt.get(fe))return gt.get(fe);const xe=fe.replace(/FromIndex$/,""),Oe=fe!==xe,Be=ze.includes(xe);if(!(xe in(Oe?IDBIndex:IDBObjectStore).prototype)||!Be&&!Qe.includes(xe))return;const Xe=function(){var Ne=(0,u.Z)(function*(Wt,...Qt){const Qn=this.transaction(Wt,Be?"readwrite":"readonly");let xt=Qn.store;return Oe&&(xt=xt.index(Qt.shift())),(yield Promise.all([xt[xe](...Qt),Be&&Qn.done]))[0]});return function(Qt){return Ne.apply(this,arguments)}}();return gt.set(fe,Xe),Xe}!function oe(Re){H=Re(H)}(Re=>FP(OP({},Re),{get:(fe,xe,Oe)=>Te(fe,xe)||Re.get(fe,xe,Oe),has:(fe,xe)=>!!Te(fe,xe)||Re.has(fe,xe)}))},5861:(kt,qe,z)=>{"use strict";function u(k,G,ne,Ce,Ee,Me,De){try{var ee=k[Me](De),de=ee.value}catch(T){return void ne(T)}ee.done?G(de):Promise.resolve(de).then(Ce,Ee)}function O(k){return function(){var G=this,ne=arguments;return new Promise(function(Ce,Ee){var Me=k.apply(G,ne);function De(de){u(Me,Ce,Ee,De,ee,"next",de)}function ee(de){u(Me,Ce,Ee,De,ee,"throw",de)}De(void 0)})}}z.d(qe,{Z:()=>O})}},kt=>{kt(kt.s=9626)}]);
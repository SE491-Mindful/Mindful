var jV=Object.defineProperty,GV=Object.defineProperties,zV=Object.getOwnPropertyDescriptors,JN=Object.getOwnPropertySymbols,$V=Object.prototype.hasOwnProperty,WV=Object.prototype.propertyIsEnumerable,XN=(Rt,$e,$)=>$e in Rt?jV(Rt,$e,{enumerable:!0,configurable:!0,writable:!0,value:$}):Rt[$e]=$,ek=(Rt,$e)=>{for(var $ in $e||($e={}))$V.call($e,$)&&XN(Rt,$,$e[$]);if(JN)for(var $ of JN($e))WV.call($e,$)&&XN(Rt,$,$e[$]);return Rt},tk=(Rt,$e)=>GV(Rt,zV($e));(self.webpackChunkClientApp=self.webpackChunkClientApp||[]).push([[179],{2011:(Rt,$e,$)=>{"use strict";$.d($e,{Dh:()=>Se,GT:()=>we,cc:()=>U,hO:()=>O,on:()=>J,pX:()=>ee,xv:()=>Ce});var h=$(5e3),k=$(127),R=$(1038);Rt=$.hmd(Rt);const G=["ngOnDestroy"],ee=(ne,He,Qe,We={})=>new Proxy(ne,{get:(Ye,ze)=>Qe.runOutsideAngular(()=>{var mt;if(ne[ze])return(null===(mt=null==We?void 0:We.spy)||void 0===mt?void 0:mt.get)&&We.spy.get(ze,ne[ze]),ne[ze];if(G.indexOf(ze)>-1)return()=>{};const De=He.toPromise().then(Me=>{const ue=Me&&Me[ze];return"function"==typeof ue?ue.bind(Me):ue&&ue.then?ue.then(Ie=>Qe.run(()=>Ie)):Qe.run(()=>ue)});return new Proxy(()=>{},{get:(Me,ue)=>De[ue],apply:(Me,ue,Ie)=>De.then(Oe=>{var Le;const Xe=Oe&&Oe(...Ie);return(null===(Le=null==We?void 0:We.spy)||void 0===Le?void 0:Le.apply)&&We.spy.apply(ze,Ie,Xe),Xe})})})}),we=(ne,He)=>{He.forEach(Qe=>{Object.getOwnPropertyNames(Qe.prototype||Qe).forEach(We=>{Object.defineProperty(ne.prototype,We,Object.getOwnPropertyDescriptor(Qe.prototype||Qe,We))})})};class be{constructor(He){return He}}const Se=new h.OlP("angularfire2.app.options"),Ce=new h.OlP("angularfire2.app.name");function J(ne,He,Qe){const Ye="object"==typeof Qe&&Qe||{};Ye.name=Ye.name||"string"==typeof Qe&&Qe||"[DEFAULT]";const mt=k.Z.apps.filter(De=>De&&De.name===Ye.name)[0]||He.runOutsideAngular(()=>k.Z.initializeApp(ne,Ye));try{JSON.stringify(ne)!==JSON.stringify(mt.options)&&le("error",`${mt.name} Firebase App already initialized with different options${Rt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(De){}return new be(mt)}const le=(ne,...He)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[ne](...He)},D={provide:be,useFactory:J,deps:[Se,h.R0b,[new h.FiY,Ce]]};let O=(()=>{class ne{constructor(Qe){k.Z.registerVersion("angularfire",R.q4.full,"core"),k.Z.registerVersion("angularfire",R.q4.full,"app-compat"),k.Z.registerVersion("angular",h.q4F.full,Qe.toString())}static initializeApp(Qe,We){return{ngModule:ne,providers:[{provide:Se,useValue:Qe},{provide:Ce,useValue:We}]}}}return ne.\u0275fac=function(Qe){return new(Qe||ne)(h.LFG(h.Lbi))},ne.\u0275mod=h.oAB({type:ne}),ne.\u0275inj=h.cJS({providers:[D]}),ne})();function U(ne,He,Qe,We,Ye){const[,ze,mt]=globalThis.\u0275AngularfireInstanceCache.find(De=>De[0]===ne)||[];if(ze)return function te(ne,He){try{return ne.toString()===He.toString()}catch(Qe){return ne===He}}(Ye,mt)||(ae("error",`${He} was already initialized on the ${Qe} Firebase App with different settings.${he?" You may need to reload as Firebase is not HMR aware.":""}`),ae("warn",{is:Ye,was:mt})),ze;{const De=We();return globalThis.\u0275AngularfireInstanceCache.push([ne,De,Ye]),De}}const he=!!Rt.hot,ae=(ne,...He)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[ne](...He)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1038:(Rt,$e,$)=>{"use strict";$.d($e,{q4:()=>xd,iC:()=>io,HU:()=>pr,vb:()=>Oo,JM:()=>oa});var h=$(5e3),k=$(5867),R=$(5861),G=$(9681),ee=$(2090),we=$(4859),be=$(1877);$(2833);const Ce="@firebase/remote-config",J="0.3.8",U=new ee.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Jt{constructor(q,Ee,Ge,yt){this.client=q,this.storage=Ee,this.storageCache=Ge,this.logger=yt}isCachedDataFresh(q,Ee){if(!Ee)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ge=Date.now()-Ee,yt=Ge<=q;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ge}. Cache max age millis (minimumFetchIntervalMillis setting): ${q}. Is cache hit: ${yt}.`),yt}fetch(q){var Ee=this;return(0,R.Z)(function*(){const[Ge,yt]=yield Promise.all([Ee.storage.getLastSuccessfulFetchTimestampMillis(),Ee.storage.getLastSuccessfulFetchResponse()]);if(yt&&Ee.isCachedDataFresh(q.cacheMaxAgeMillis,Ge))return yt;q.eTag=yt&&yt.eTag;const Dt=yield Ee.client.fetch(q),cn=[Ee.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Dt.status&&cn.push(Ee.storage.setLastSuccessfulFetchResponse(Dt)),yield Promise.all(cn),Dt})()}}function er(Z=navigator){return Z.languages&&Z.languages[0]||Z.language}class St{constructor(q,Ee,Ge,yt,Dt,cn){this.firebaseInstallations=q,this.sdkVersion=Ee,this.namespace=Ge,this.projectId=yt,this.apiKey=Dt,this.appId=cn}fetch(q){var Ee=this;return(0,R.Z)(function*(){const[Ge,yt]=yield Promise.all([Ee.firebaseInstallations.getId(),Ee.firebaseInstallations.getToken()]),cn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Ee.projectId}/namespaces/${Ee.namespace}:fetch?key=${Ee.apiKey}`,sr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":q.eTag||"*"},Vt={sdk_version:Ee.sdkVersion,app_instance_id:Ge,app_instance_id_token:yt,app_id:Ee.appId,language_code:er()},dr={method:"POST",headers:sr,body:JSON.stringify(Vt)},or=fetch(cn,dr),Pn=new Promise((Dn,Fs)=>{q.signal.addEventListener(()=>{const gr=new Error("The operation was aborted.");gr.name="AbortError",Fs(gr)})});let es;try{yield Promise.race([or,Pn]),es=yield or}catch(Dn){let Fs="fetch-client-network";throw"AbortError"===Dn.name&&(Fs="fetch-timeout"),U.create(Fs,{originalErrorMessage:Dn.message})}let ts=es.status;const so=es.headers.get("ETag")||void 0;let Ba,ot;if(200===es.status){let Dn;try{Dn=yield es.json()}catch(Fs){throw U.create("fetch-client-parse",{originalErrorMessage:Fs.message})}Ba=Dn.entries,ot=Dn.state}if("INSTANCE_STATE_UNSPECIFIED"===ot?ts=500:"NO_CHANGE"===ot?ts=304:("NO_TEMPLATE"===ot||"EMPTY_CONFIG"===ot)&&(Ba={}),304!==ts&&200!==ts)throw U.create("fetch-status",{httpStatus:ts});return{status:ts,eTag:so,config:Ba}})()}}class Un{constructor(q,Ee){this.client=q,this.storage=Ee}fetch(q){var Ee=this;return(0,R.Z)(function*(){const Ge=(yield Ee.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Ee.attemptFetch(q,Ge)})()}attemptFetch(q,{throttleEndTimeMillis:Ee,backoffCount:Ge}){var yt=this;return(0,R.Z)(function*(){yield function zt(Z,q){return new Promise((Ee,Ge)=>{const yt=Math.max(q-Date.now(),0),Dt=setTimeout(Ee,yt);Z.addEventListener(()=>{clearTimeout(Dt),Ge(U.create("fetch-throttle",{throttleEndTimeMillis:q}))})})}(q.signal,Ee);try{const Dt=yield yt.client.fetch(q);return yield yt.storage.deleteThrottleMetadata(),Dt}catch(Dt){if(!function Wn(Z){if(!(Z instanceof ee.ZR&&Z.customData))return!1;const q=Number(Z.customData.httpStatus);return 429===q||500===q||503===q||504===q}(Dt))throw Dt;const cn={throttleEndTimeMillis:Date.now()+(0,ee.$s)(Ge),backoffCount:Ge+1};return yield yt.storage.setThrottleMetadata(cn),yt.attemptFetch(q,cn)}})()}}class Ae{constructor(q,Ee,Ge,yt,Dt){this.app=q,this._client=Ee,this._storageCache=Ge,this._storage=yt,this._logger=Dt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ye(Z,q){const Ee=Z.target.error||void 0;return U.create(q,{originalErrorMessage:Ee&&Ee.message})}const Fe="app_namespace_store";class Ot{constructor(q,Ee,Ge,yt=function qe(){return new Promise((Z,q)=>{try{const Ee=indexedDB.open("firebase_remote_config",1);Ee.onerror=Ge=>{q(ye(Ge,"storage-open"))},Ee.onsuccess=Ge=>{Z(Ge.target.result)},Ee.onupgradeneeded=Ge=>{0===Ge.oldVersion&&Ge.target.result.createObjectStore(Fe,{keyPath:"compositeKey"})}}catch(Ee){q(U.create("storage-open",{originalErrorMessage:Ee}))}})}()){this.appId=q,this.appName=Ee,this.namespace=Ge,this.openDbPromise=yt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(q){return this.set("last_fetch_status",q)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(q){return this.set("last_successful_fetch_timestamp_millis",q)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(q){return this.set("last_successful_fetch_response",q)}getActiveConfig(){return this.get("active_config")}setActiveConfig(q){return this.set("active_config",q)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(q){return this.set("active_config_etag",q)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(q){return this.set("throttle_metadata",q)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(q){var Ee=this;return(0,R.Z)(function*(){const Ge=yield Ee.openDbPromise;return new Promise((yt,Dt)=>{const sr=Ge.transaction([Fe],"readonly").objectStore(Fe),Vt=Ee.createCompositeKey(q);try{const dr=sr.get(Vt);dr.onerror=or=>{Dt(ye(or,"storage-get"))},dr.onsuccess=or=>{const Pn=or.target.result;yt(Pn?Pn.value:void 0)}}catch(dr){Dt(U.create("storage-get",{originalErrorMessage:dr&&dr.message}))}})})()}set(q,Ee){var Ge=this;return(0,R.Z)(function*(){const yt=yield Ge.openDbPromise;return new Promise((Dt,cn)=>{const Vt=yt.transaction([Fe],"readwrite").objectStore(Fe),dr=Ge.createCompositeKey(q);try{const or=Vt.put({compositeKey:dr,value:Ee});or.onerror=Pn=>{cn(ye(Pn,"storage-set"))},or.onsuccess=()=>{Dt()}}catch(or){cn(U.create("storage-set",{originalErrorMessage:or&&or.message}))}})})()}delete(q){var Ee=this;return(0,R.Z)(function*(){const Ge=yield Ee.openDbPromise;return new Promise((yt,Dt)=>{const sr=Ge.transaction([Fe],"readwrite").objectStore(Fe),Vt=Ee.createCompositeKey(q);try{const dr=sr.delete(Vt);dr.onerror=or=>{Dt(ye(or,"storage-delete"))},dr.onsuccess=()=>{yt()}}catch(dr){Dt(U.create("storage-delete",{originalErrorMessage:dr&&dr.message}))}})})()}createCompositeKey(q){return[this.appId,this.appName,this.namespace,q].join()}}class on{constructor(q){this.storage=q}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var q=this;return(0,R.Z)(function*(){const Ee=q.storage.getLastFetchStatus(),Ge=q.storage.getLastSuccessfulFetchTimestampMillis(),yt=q.storage.getActiveConfig(),Dt=yield Ee;Dt&&(q.lastFetchStatus=Dt);const cn=yield Ge;cn&&(q.lastSuccessfulFetchTimestampMillis=cn);const sr=yield yt;sr&&(q.activeConfig=sr)})()}setLastFetchStatus(q){return this.lastFetchStatus=q,this.storage.setLastFetchStatus(q)}setLastSuccessfulFetchTimestampMillis(q){return this.lastSuccessfulFetchTimestampMillis=q,this.storage.setLastSuccessfulFetchTimestampMillis(q)}setActiveConfig(q){return this.activeConfig=q,this.storage.setActiveConfig(q)}}function Et(){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,R.Z)(function*(){if(!(0,ee.hl)())return!1;try{return yield(0,ee.eu)()}catch(Z){return!1}})).apply(this,arguments)}!function hn(){(0,G._registerComponent)(new we.wA("remote-config",function Z(q,{instanceIdentifier:Ee}){const Ge=q.getProvider("app").getImmediate(),yt=q.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw U.create("registration-window");if(!(0,ee.hl)())throw U.create("indexed-db-unavailable");const{projectId:Dt,apiKey:cn,appId:sr}=Ge.options;if(!Dt)throw U.create("registration-project-id");if(!cn)throw U.create("registration-api-key");if(!sr)throw U.create("registration-app-id");const Vt=new Ot(sr,Ge.name,Ee=Ee||"firebase"),dr=new on(Vt),or=new be.Yd(Ce);or.logLevel=be.in.ERROR;const Pn=new St(yt,G.SDK_VERSION,Ee,Dt,cn,sr),es=new Un(Pn,Vt),ts=new Jt(es,Vt,dr,or),so=new Ae(Ge,ts,dr,Vt,or);return function mt(Z){const q=(0,ee.m9)(Z);q._initializePromise||(q._initializePromise=q._storageCache.loadFromStorage().then(()=>{q._isInitializationComplete=!0}))}(so),so},"PUBLIC").setMultipleInstances(!0)),(0,G.registerVersion)(Ce,J),(0,G.registerVersion)(Ce,J,"esm2017")}();var vt=$(8766);const Pt="/firebase-messaging-sw.js",tr="/firebase-cloud-messaging-push-scope",yn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",En="google.c.a.c_id",zn="google.c.a.c_l",ln="google.c.a.ts",un="google.c.a.e";var Mt=(()=>{return(Z=Mt||(Mt={})).PUSH_RECEIVED="push-received",Z.NOTIFICATION_CLICKED="notification-clicked",Mt;var Z})();function nr(Z){const q=new Uint8Array(Z);return btoa(String.fromCharCode(...q)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Nr(Z){const Ee=(Z+"=".repeat((4-Z.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ge=atob(Ee),yt=new Uint8Array(Ge.length);for(let Dt=0;Dt<Ge.length;++Dt)yt[Dt]=Ge.charCodeAt(Dt);return yt}const gn="fcm_token_details_db",rr="fcm_token_object_Store";function wn(Z){return oe.apply(this,arguments)}function oe(){return oe=(0,R.Z)(function*(Z){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Dt=>Dt.name).includes(gn))return null;let q=null;return(yield(0,vt.X3)(gn,5,{upgrade:(Ge=(0,R.Z)(function*(yt,Dt,cn,sr){var Vt;if(Dt<2||!yt.objectStoreNames.contains(rr))return;const dr=sr.objectStore(rr),or=yield dr.index("fcmSenderId").get(Z);if(yield dr.clear(),or)if(2===Dt){const Pn=or;if(!Pn.auth||!Pn.p256dh||!Pn.endpoint)return;q={token:Pn.fcmToken,createTime:null!==(Vt=Pn.createTime)&&void 0!==Vt?Vt:Date.now(),subscriptionOptions:{auth:Pn.auth,p256dh:Pn.p256dh,endpoint:Pn.endpoint,swScope:Pn.swScope,vapidKey:"string"==typeof Pn.vapidKey?Pn.vapidKey:nr(Pn.vapidKey)}}}else if(3===Dt){const Pn=or;q={token:Pn.fcmToken,createTime:Pn.createTime,subscriptionOptions:{auth:nr(Pn.auth),p256dh:nr(Pn.p256dh),endpoint:Pn.endpoint,swScope:Pn.swScope,vapidKey:nr(Pn.vapidKey)}}}else if(4===Dt){const Pn=or;q={token:Pn.fcmToken,createTime:Pn.createTime,subscriptionOptions:{auth:nr(Pn.auth),p256dh:nr(Pn.p256dh),endpoint:Pn.endpoint,swScope:Pn.swScope,vapidKey:nr(Pn.vapidKey)}}}}),function(Dt,cn,sr,Vt){return Ge.apply(this,arguments)})})).close(),yield(0,vt.Lj)(gn),yield(0,vt.Lj)("fcm_vapid_details_db"),yield(0,vt.Lj)("undefined"),ge(q)?q:null;var Ge}),oe.apply(this,arguments)}function ge(Z){if(!Z||!Z.subscriptionOptions)return!1;const{subscriptionOptions:q}=Z;return"number"==typeof Z.createTime&&Z.createTime>0&&"string"==typeof Z.token&&Z.token.length>0&&"string"==typeof q.auth&&q.auth.length>0&&"string"==typeof q.p256dh&&q.p256dh.length>0&&"string"==typeof q.endpoint&&q.endpoint.length>0&&"string"==typeof q.swScope&&q.swScope.length>0&&"string"==typeof q.vapidKey&&q.vapidKey.length>0}const W="firebase-messaging-store";let ie=null;function re(){return ie||(ie=(0,vt.X3)("firebase-messaging-database",1,{upgrade:(Z,q)=>{0===q&&Z.createObjectStore(W)}})),ie}function fe(Z){return ke.apply(this,arguments)}function ke(){return(ke=(0,R.Z)(function*(Z){const q=Te(Z),Ge=yield(yield re()).transaction(W).objectStore(W).get(q);if(Ge)return Ge;{const yt=yield wn(Z.appConfig.senderId);if(yt)return yield st(Z,yt),yt}})).apply(this,arguments)}function st(Z,q){return ht.apply(this,arguments)}function ht(){return(ht=(0,R.Z)(function*(Z,q){const Ee=Te(Z),yt=(yield re()).transaction(W,"readwrite");return yield yt.objectStore(W).put(q,Ee),yield yt.done,q})).apply(this,arguments)}function lt(Z){return $t.apply(this,arguments)}function $t(){return($t=(0,R.Z)(function*(Z){const q=Te(Z),Ge=(yield re()).transaction(W,"readwrite");yield Ge.objectStore(W).delete(q),yield Ge.done})).apply(this,arguments)}function Te({appConfig:Z}){return Z.appId}const ce=new ee.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function et(Z,q){return bt.apply(this,arguments)}function bt(){return(bt=(0,R.Z)(function*(Z,q){const Ee=yield Fr(Z),Ge=Dr(q),yt={method:"POST",headers:Ee,body:JSON.stringify(Ge)};let Dt;try{Dt=yield(yield fetch(yr(Z.appConfig),yt)).json()}catch(cn){throw ce.create("token-subscribe-failed",{errorInfo:cn})}if(Dt.error)throw ce.create("token-subscribe-failed",{errorInfo:Dt.error.message});if(!Dt.token)throw ce.create("token-subscribe-no-token");return Dt.token})).apply(this,arguments)}function jt(Z,q){return rn.apply(this,arguments)}function rn(){return(rn=(0,R.Z)(function*(Z,q){const Ee=yield Fr(Z),Ge=Dr(q.subscriptionOptions),yt={method:"PATCH",headers:Ee,body:JSON.stringify(Ge)};let Dt;try{Dt=yield(yield fetch(`${yr(Z.appConfig)}/${q.token}`,yt)).json()}catch(cn){throw ce.create("token-update-failed",{errorInfo:cn})}if(Dt.error)throw ce.create("token-update-failed",{errorInfo:Dt.error.message});if(!Dt.token)throw ce.create("token-update-no-token");return Dt.token})).apply(this,arguments)}function Fn(Z,q){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,R.Z)(function*(Z,q){const Ge={method:"DELETE",headers:yield Fr(Z)};try{const Dt=yield(yield fetch(`${yr(Z.appConfig)}/${q}`,Ge)).json();if(Dt.error)throw ce.create("token-unsubscribe-failed",{errorInfo:Dt.error.message})}catch(yt){throw ce.create("token-unsubscribe-failed",{errorInfo:yt})}})).apply(this,arguments)}function yr({projectId:Z}){return`https://fcmregistrations.googleapis.com/v1/projects/${Z}/registrations`}function Fr(Z){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,R.Z)(function*({appConfig:Z,installations:q}){const Ee=yield q.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Z.apiKey,"x-goog-firebase-installations-auth":`FIS ${Ee}`})})).apply(this,arguments)}function Dr({p256dh:Z,auth:q,endpoint:Ee,vapidKey:Ge}){const yt={web:{endpoint:Ee,auth:q,p256dh:Z}};return Ge!==yn&&(yt.web.applicationPubKey=Ge),yt}const si=6048e5;function kr(Z){return eo.apply(this,arguments)}function eo(){return(eo=(0,R.Z)(function*(Z){const q=yield In(Z.swRegistration,Z.vapidKey),Ee={vapidKey:Z.vapidKey,swScope:Z.swRegistration.scope,endpoint:q.endpoint,auth:nr(q.getKey("auth")),p256dh:nr(q.getKey("p256dh"))},Ge=yield fe(Z.firebaseDependencies);if(Ge){if(Cn(Ge.subscriptionOptions,Ee))return Date.now()>=Ge.createTime+si?me(Z,{token:Ge.token,createTime:Date.now(),subscriptionOptions:Ee}):Ge.token;try{yield Fn(Z.firebaseDependencies,Ge.token)}catch(yt){console.warn(yt)}return ct(Z.firebaseDependencies,Ee)}return ct(Z.firebaseDependencies,Ee)})).apply(this,arguments)}function Yr(Z){return _t.apply(this,arguments)}function _t(){return(_t=(0,R.Z)(function*(Z){const q=yield fe(Z.firebaseDependencies);q&&(yield Fn(Z.firebaseDependencies,q.token),yield lt(Z.firebaseDependencies));const Ee=yield Z.swRegistration.pushManager.getSubscription();return!Ee||Ee.unsubscribe()})).apply(this,arguments)}function me(Z,q){return Be.apply(this,arguments)}function Be(){return(Be=(0,R.Z)(function*(Z,q){try{const Ee=yield jt(Z.firebaseDependencies,q),Ge=Object.assign(Object.assign({},q),{token:Ee,createTime:Date.now()});return yield st(Z.firebaseDependencies,Ge),Ee}catch(Ee){throw yield Yr(Z),Ee}})).apply(this,arguments)}function ct(Z,q){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,R.Z)(function*(Z,q){const Ge={token:yield et(Z,q),createTime:Date.now(),subscriptionOptions:q};return yield st(Z,Ge),Ge.token})).apply(this,arguments)}function In(Z,q){return On.apply(this,arguments)}function On(){return(On=(0,R.Z)(function*(Z,q){return(yield Z.pushManager.getSubscription())||Z.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Nr(q)})})).apply(this,arguments)}function Cn(Z,q){return q.vapidKey===Z.vapidKey&&q.endpoint===Z.endpoint&&q.auth===Z.auth&&q.p256dh===Z.p256dh}function hr(Z){const q={from:Z.from,collapseKey:Z.collapse_key,messageId:Z.fcmMessageId};return function Wr(Z,q){if(!q.notification)return;Z.notification={};const Ee=q.notification.title;Ee&&(Z.notification.title=Ee);const Ge=q.notification.body;Ge&&(Z.notification.body=Ge);const yt=q.notification.image;yt&&(Z.notification.image=yt)}(q,Z),function tn(Z,q){!q.data||(Z.data=q.data)}(q,Z),function Rs(Z,q){if(!q.fcmOptions)return;Z.fcmOptions={};const Ee=q.fcmOptions.link;Ee&&(Z.fcmOptions.link=Ee);const Ge=q.fcmOptions.analytics_label;Ge&&(Z.fcmOptions.analyticsLabel=Ge)}(q,Z),q}function mi(Z){return"object"==typeof Z&&!!Z&&En in Z}function Bn(Z,q){const Ee=[];for(let Ge=0;Ge<Z.length;Ge++)Ee.push(Z.charAt(Ge)),Ge<q.length&&Ee.push(q.charAt(Ge));return Ee.join("")}function Lr(Z){return ce.create("missing-app-config-values",{valueName:Z})}Bn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Bn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class cs{constructor(q,Ee,Ge){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const yt=function Qi(Z){if(!Z||!Z.options)throw Lr("App Configuration Object");if(!Z.name)throw Lr("App Name");const q=["projectId","apiKey","appId","messagingSenderId"],{options:Ee}=Z;for(const Ge of q)if(!Ee[Ge])throw Lr(Ge);return{appName:Z.name,projectId:Ee.projectId,apiKey:Ee.apiKey,appId:Ee.appId,senderId:Ee.messagingSenderId}}(q);this.firebaseDependencies={app:q,appConfig:yt,installations:Ee,analyticsProvider:Ge}}_delete(){return Promise.resolve()}}function ds(Z){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,R.Z)(function*(Z){try{Z.swRegistration=yield navigator.serviceWorker.register(Pt,{scope:tr}),Z.swRegistration.update().catch(()=>{})}catch(q){throw ce.create("failed-service-worker-registration",{browserErrorMessage:q.message})}})).apply(this,arguments)}function Kn(Z,q){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,R.Z)(function*(Z,q){if(!q&&!Z.swRegistration&&(yield ds(Z)),q||!Z.swRegistration){if(!(q instanceof ServiceWorkerRegistration))throw ce.create("invalid-sw-registration");Z.swRegistration=q}})).apply(this,arguments)}function Xo(Z,q){return oi.apply(this,arguments)}function oi(){return(oi=(0,R.Z)(function*(Z,q){q?Z.vapidKey=q:Z.vapidKey||(Z.vapidKey=yn)})).apply(this,arguments)}function ea(){return(ea=(0,R.Z)(function*(Z,q){if(!navigator)throw ce.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ce.create("permission-blocked");return yield Xo(Z,null==q?void 0:q.vapidKey),yield Kn(Z,null==q?void 0:q.serviceWorkerRegistration),kr(Z)})).apply(this,arguments)}function No(Z,q,Ee){return to.apply(this,arguments)}function to(){return(to=(0,R.Z)(function*(Z,q,Ee){const Ge=vi(q);(yield Z.firebaseDependencies.analyticsProvider.get()).logEvent(Ge,{message_id:Ee[En],message_name:Ee[zn],message_time:Ee[ln],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function vi(Z){switch(Z){case Mt.NOTIFICATION_CLICKED:return"notification_open";case Mt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Pa(){return(Pa=(0,R.Z)(function*(Z,q){const Ee=q.data;if(!Ee.isFirebaseMessaging)return;Z.onMessageHandler&&Ee.messageType===Mt.PUSH_RECEIVED&&("function"==typeof Z.onMessageHandler?Z.onMessageHandler(hr(Ee)):Z.onMessageHandler.next(hr(Ee)));const Ge=Ee.data;mi(Ge)&&"1"===Ge[un]&&(yield No(Z,Ee.messageType,Ge))})).apply(this,arguments)}const ta="@firebase/messaging",cu=Z=>{const q=new cs(Z.getProvider("app").getImmediate(),Z.getProvider("installations-internal").getImmediate(),Z.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Ee=>function dc(Z,q){return Pa.apply(this,arguments)}(q,Ee)),q},Td=Z=>{const q=Z.getProvider("messaging").getImmediate();return{getToken:Ge=>function ai(Z,q){return ea.apply(this,arguments)}(q,Ge)}};function Fa(){return na.apply(this,arguments)}function na(){return(na=(0,R.Z)(function*(){try{yield(0,ee.eu)()}catch(Z){return!1}return"undefined"!=typeof window&&(0,ee.hl)()&&(0,ee.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Yi(){(0,G._registerComponent)(new we.wA("messaging",cu,"PUBLIC")),(0,G._registerComponent)(new we.wA("messaging-internal",Td,"PRIVATE")),(0,G.registerVersion)(ta,"0.9.13"),(0,G.registerVersion)(ta,"0.9.13","esm2017")}();var Md=$(579),La=$(4408),tt=$(7565);const Oi=new class ko extends tt.v{}(class ki extends La.o{constructor(q,Ee){super(q,Ee),this.scheduler=q,this.work=Ee}schedule(q,Ee=0){return Ee>0?super.schedule(q,Ee):(this.delay=Ee,this.state=q,this.scheduler.flush(this),this)}execute(q,Ee){return Ee>0||this.closed?super.execute(q,Ee):this._execute(q,Ee)}requestAsyncId(q,Ee,Ge=0){return null!=Ge&&Ge>0||null==Ge&&this.delay>0?super.requestAsyncId(q,Ee,Ge):q.flush(this)}});var ra=$(4986),li=$(8505),no=$(9468),ia=$(5363);const xd=new h.GfV("7.3.0"),Ji="__angularfire_symbol__analyticsIsSupportedValue",ks="__angularfire_symbol__analyticsIsSupported",hs="__angularfire_symbol__remoteConfigIsSupportedValue",sa="__angularfire_symbol__remoteConfigIsSupported",Os="__angularfire_symbol__messagingIsSupportedValue",Hr="__angularfire_symbol__messagingIsSupported";function oa(Z,q,Ee){if(q){if(1===q.length)return q[0];const Dt=q.filter(cn=>cn.app===Ee);if(1===Dt.length)return Dt[0]}return Ee.container.getProvider(Z).getImmediate({optional:!0})}globalThis[ks]||(globalThis[ks]=(0,Md.Gb)().then(Z=>globalThis[Ji]=Z).catch(()=>globalThis[Ji]=!1)),globalThis[Hr]||(globalThis[Hr]=Fa().then(Z=>globalThis[Os]=Z).catch(()=>globalThis[Os]=!1)),globalThis[sa]||(globalThis[sa]=Et().then(Z=>globalThis[hs]=Z).catch(()=>globalThis[hs]=!1));const Oo=(Z,q)=>{const Ee=q?[q]:(0,k.C6)(),Ge=[];return Ee.forEach(yt=>{yt.container.getProvider(Z).instances.forEach(cn=>{Ge.includes(cn)||Ge.push(cn)})}),Ge};function Xi(){}class ro{constructor(q,Ee=Oi){this.zone=q,this.delegate=Ee}now(){return this.delegate.now()}schedule(q,Ee,Ge){const yt=this.zone;return this.delegate.schedule(function(cn){yt.runGuarded(()=>{q.apply(this,[cn])})},Ee,Ge)}}class hc{constructor(q){this.zone=q,this.task=null}call(q,Ee){const Ge=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xi,{},Xi,Xi)),Ee.pipe((0,li.b)({next:Ge,complete:Ge,error:Ge})).subscribe(q).add(Ge)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let pr=(()=>{class Z{constructor(Ee){this.ngZone=Ee,this.outsideAngular=Ee.runOutsideAngular(()=>new ro(Zone.current)),this.insideAngular=Ee.run(()=>new ro(Zone.current,ra.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Z.\u0275fac=function(Ee){return new(Ee||Z)(h.LFG(h.R0b))},Z.\u0275prov=h.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})();function Pi(){const Z=globalThis.\u0275AngularFireScheduler;if(!Z)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Z}function io(Z){return Pi(),function Jr(Z){return function(Ee){return(Ee=Ee.lift(new hc(Z.ngZone))).pipe((0,no.R)(Z.outsideAngular),(0,ia.Q)(Z.insideAngular))}}(Pi())(Z)}},198:(Rt,$e,$)=>{"use strict";$.d($e,{$:()=>cn,A:()=>le,B:()=>U,G:()=>Be,H:()=>Cn,J:()=>Yi,L:()=>ht,M:()=>ko,N:()=>li,P:()=>Pl,Q:()=>no,R:()=>Eu,T:()=>ia,U:()=>ra,V:()=>hs,W:()=>sa,X:()=>fu,Y:()=>Ps,Z:()=>Z,_:()=>Ee,a:()=>xl,a0:()=>Pn,a1:()=>ts,a2:()=>Ba,a3:()=>Dn,a4:()=>gr,a5:()=>El,a6:()=>pc,a7:()=>gc,a8:()=>mc,a9:()=>wl,aA:()=>jd,aB:()=>Qa,aC:()=>Pc,aD:()=>fh,aE:()=>_t,aI:()=>lo,aL:()=>Ji,aa:()=>hu,ab:()=>Vs,ac:()=>Nd,af:()=>Cl,ag:()=>_c,ah:()=>yg,ak:()=>ro,al:()=>yi,an:()=>bc,ao:()=>lh,ap:()=>yr,aq:()=>ue,ar:()=>Ft,as:()=>jt,at:()=>Qe,au:()=>rs,av:()=>Mu,aw:()=>We,ax:()=>De,ay:()=>Oe,az:()=>lt,b:()=>Ml,c:()=>Tg,d:()=>kc,e:()=>Rc,f:()=>hh,g:()=>ph,h:()=>Ud,i:()=>Ic,j:()=>Lc,k:()=>Gl,l:()=>Ui,m:()=>Zd,n:()=>Kd,o:()=>Se,r:()=>Mc,s:()=>Rr,u:()=>wu,y:()=>Od});var h=$(5861),k=$(2090),R=$(9681),G=$(655),ee=$(1877),we=$(4859);const Se={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},le={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const U=function D(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},te=function O(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},he=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ne=new ee.Yd("@firebase/auth");function He(C,..._){ne.logLevel<=ee.in.ERROR&&ne.error(`Auth (${R.SDK_VERSION}): ${C}`,..._)}function Qe(C,..._){throw mt(C,..._)}function We(C,..._){return mt(C,..._)}function Ye(C,_,b){const I=Object.assign(Object.assign({},te()),{[_]:b});return new k.LL("auth","Firebase",I).create(_,{appName:C.name})}function ze(C,_,b){if(!(_ instanceof b))throw b.name!==_.constructor.name&&Qe(C,"argument-error"),Ye(C,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mt(C,..._){if("string"!=typeof C){const b=_[0],I=[..._.slice(1)];return I[0]&&(I[0].appName=C.name),C._errorFactory.create(b,...I)}return he.create(C,..._)}function De(C,_,...b){if(!C)throw mt(_,...b)}function Me(C){const _="INTERNAL ASSERTION FAILED: "+C;throw He(_),new Error(_)}function ue(C,_){C||Me(_)}const Ie=new Map;function Oe(C){ue(C instanceof Function,"Expected a class definition");let _=Ie.get(C);return _?(ue(_ instanceof C,"Instance stored in cache mismatched with class"),_):(_=new C,Ie.set(C,_),_)}function Re(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function Wt(){return"http:"===Jt()||"https:"===Jt()}function Jt(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class zt{constructor(_,b){this.shortDelay=_,this.longDelay=b,ue(b>_,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function er(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Wt()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Wn(C,_){ue(C.emulator,"Emulator should always be set here");const{url:b}=C.emulator;return _?`${b}${_.startsWith("/")?_.slice(1):_}`:b}class Un{static initialize(_,b,I){this.fetchImpl=_,b&&(this.headersImpl=b),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Me("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Me("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Me("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},An=new zt(3e4,6e4);function Ae(C,_){return C.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:C.tenantId}):_}function ye(C,_,b,I){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,h.Z)(function*(C,_,b,I,H={}){return at(C,H,(0,h.Z)(function*(){let K={},Pe={};I&&("GET"===_?Pe=I:K={body:JSON.stringify(I)});const dt=(0,k.xO)(Object.assign({key:C.config.apiKey},Pe)).slice(1),qt=yield C._getAdditionalHeaders();return qt["Content-Type"]="application/json",C.languageCode&&(qt["X-Firebase-Locale"]=C.languageCode),Un.fetch()(on(C,C.config.apiHost,b,dt),Object.assign({method:_,headers:qt,referrerPolicy:"no-referrer"},K))}))})).apply(this,arguments)}function at(C,_,b){return At.apply(this,arguments)}function At(){return(At=(0,h.Z)(function*(C,_,b){C._canInitEmulator=!1;const I=Object.assign(Object.assign({},wr),_);try{const H=new hn(C),K=yield Promise.race([b(),H.promise]);H.clearNetworkTimeout();const Pe=yield K.json();if("needConfirmation"in Pe)throw dn(C,"account-exists-with-different-credential",Pe);if(K.ok&&!("errorMessage"in Pe))return Pe;{const dt=K.ok?Pe.errorMessage:Pe.error.message,[qt,nn]=dt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===qt)throw dn(C,"credential-already-in-use",Pe);if("EMAIL_EXISTS"===qt)throw dn(C,"email-already-in-use",Pe);const Ln=I[qt]||qt.toLowerCase().replace(/[_\s]+/g,"-");if(nn)throw Ye(C,Ln,nn);Qe(C,Ln)}}catch(H){if(H instanceof k.ZR)throw H;Qe(C,"network-request-failed")}})).apply(this,arguments)}function qe(C,_,b,I){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,h.Z)(function*(C,_,b,I,H={}){const K=yield ye(C,_,b,I,H);return"mfaPendingCredential"in K&&Qe(C,"multi-factor-auth-required",{_serverResponse:K}),K})).apply(this,arguments)}function on(C,_,b,I){const H=`${_}${b}?${I}`;return C.config.emulator?Wn(C.config,H):`${C.config.apiScheme}://${H}`}class hn{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((b,I)=>{this.timer=setTimeout(()=>I(We(this.auth,"network-request-failed")),An.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function dn(C,_,b){const I={appName:C.name};b.email&&(I.email=b.email),b.phoneNumber&&(I.phoneNumber=b.phoneNumber);const H=We(C,_,I);return H.customData._tokenResponse=b,H}function Et(){return(Et=(0,h.Z)(function*(C,_){return ye(C,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function Xt(C,_){return vt.apply(this,arguments)}function vt(){return(vt=(0,h.Z)(function*(C,_){return ye(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Pt(C,_){return tr.apply(this,arguments)}function tr(){return(tr=(0,h.Z)(function*(C,_){return ye(C,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function yn(C){if(C)try{const _=new Date(Number(C));if(!isNaN(_.getTime()))return _.toUTCString()}catch(_){}}function zn(){return(zn=(0,h.Z)(function*(C,_=!1){const b=(0,k.m9)(C),I=yield b.getIdToken(_),H=un(I);De(H&&H.exp&&H.auth_time&&H.iat,b.auth,"internal-error");const K="object"==typeof H.firebase?H.firebase:void 0,Pe=null==K?void 0:K.sign_in_provider;return{claims:H,token:I,authTime:yn(ln(H.auth_time)),issuedAtTime:yn(ln(H.iat)),expirationTime:yn(ln(H.exp)),signInProvider:Pe||null,signInSecondFactor:(null==K?void 0:K.sign_in_second_factor)||null}})).apply(this,arguments)}function ln(C){return 1e3*Number(C)}function un(C){const[_,b,I]=C.split(".");if(void 0===_||void 0===b||void 0===I)return He("JWT malformed, contained fewer than 3 sections"),null;try{const H=(0,k.tV)(b);return H?JSON.parse(H):(He("Failed to decode base64 JWT payload"),null)}catch(H){return He("Caught error parsing JWT payload as JSON",H),null}}function Mt(C,_){return nr.apply(this,arguments)}function nr(){return(nr=(0,h.Z)(function*(C,_,b=!1){if(b)return _;try{return yield _}catch(I){throw I instanceof k.ZR&&Nr(I)&&C.auth.currentUser===C&&(yield C.auth.signOut()),I}})).apply(this,arguments)}function Nr({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class gn{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var b;if(_){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const H=(null!==(b=this.user.stsTokenManager.expirationTime)&&void 0!==b?b:0)-Date.now()-3e5;return Math.max(0,H)}}schedule(_=!1){var b=this;if(!this.isRunning)return;const I=this.getInterval(_);this.timerId=setTimeout((0,h.Z)(function*(){yield b.iteration()}),I)}iteration(){var _=this;return(0,h.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===b.code&&_.schedule(!0))}_.schedule()})()}}class Cr{constructor(_,b){this.createdAt=_,this.lastLoginAt=b,this._initializeTime()}_initializeTime(){this.lastSignInTime=yn(this.lastLoginAt),this.creationTime=yn(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function rr(C){return wn.apply(this,arguments)}function wn(){return(wn=(0,h.Z)(function*(C){var _;const b=C.auth,I=yield C.getIdToken(),H=yield Mt(C,Pt(b,{idToken:I}));De(null==H?void 0:H.users.length,b,"internal-error");const K=H.users[0];C._notifyReloadListener(K);const Pe=(null===(_=K.providerUserInfo)||void 0===_?void 0:_.length)?Q(K.providerUserInfo):[],dt=B(C.providerData,Pe),Ln=!!C.isAnonymous&&!(C.email&&K.passwordHash||(null==dt?void 0:dt.length)),mr={uid:K.localId,displayName:K.displayName||null,photoURL:K.photoUrl||null,email:K.email||null,emailVerified:K.emailVerified||!1,phoneNumber:K.phoneNumber||null,tenantId:K.tenantId||null,providerData:dt,metadata:new Cr(K.createdAt,K.lastLoginAt),isAnonymous:Ln};Object.assign(C,mr)})).apply(this,arguments)}function ge(){return(ge=(0,h.Z)(function*(C){const _=(0,k.m9)(C);yield rr(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function B(C,_){return[...C.filter(I=>!_.some(H=>H.providerId===I.providerId)),..._]}function Q(C){return C.map(_=>{var{providerId:b}=_,I=(0,G.__rest)(_,["providerId"]);return{providerId:b,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}function ie(){return(ie=(0,h.Z)(function*(C,_){const b=yield at(C,{},(0,h.Z)(function*(){const I=(0,k.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:H,apiKey:K}=C.config,Pe=on(C,H,"/v1/token",`key=${K}`),dt=yield C._getAdditionalHeaders();return dt["Content-Type"]="application/x-www-form-urlencoded",Un.fetch()(Pe,{method:"POST",headers:dt,body:I})}));return{accessToken:b.access_token,expiresIn:b.expires_in,refreshToken:b.refresh_token}})).apply(this,arguments)}class re{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){De(_.idToken,"internal-error"),De(void 0!==_.idToken,"internal-error"),De(void 0!==_.refreshToken,"internal-error");const b="expiresIn"in _&&void 0!==_.expiresIn?Number(_.expiresIn):function Zt(C){const _=un(C);return De(_,"internal-error"),De(void 0!==_.exp,"internal-error"),De(void 0!==_.iat,"internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,b)}getToken(_,b=!1){var I=this;return(0,h.Z)(function*(){return De(!I.accessToken||I.refreshToken,_,"user-token-expired"),b||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(_,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,b){var I=this;return(0,h.Z)(function*(){const{accessToken:H,refreshToken:K,expiresIn:Pe}=yield function W(C,_){return ie.apply(this,arguments)}(_,b);I.updateTokensAndExpiration(H,K,Number(Pe))})()}updateTokensAndExpiration(_,b,I){this.refreshToken=b||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(_,b){const{refreshToken:I,accessToken:H,expirationTime:K}=b,Pe=new re;return I&&(De("string"==typeof I,"internal-error",{appName:_}),Pe.refreshToken=I),H&&(De("string"==typeof H,"internal-error",{appName:_}),Pe.accessToken=H),K&&(De("number"==typeof K,"internal-error",{appName:_}),Pe.expirationTime=K),Pe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new re,this.toJSON())}_performRefresh(){return Me("not implemented")}}function fe(C,_){De("string"==typeof C||void 0===C,"internal-error",{appName:_})}class ke{constructor(_){var{uid:b,auth:I,stsTokenManager:H}=_,K=(0,G.__rest)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=b,this.auth=I,this.stsTokenManager=H,this.accessToken=H.accessToken,this.displayName=K.displayName||null,this.email=K.email||null,this.emailVerified=K.emailVerified||!1,this.phoneNumber=K.phoneNumber||null,this.photoURL=K.photoURL||null,this.isAnonymous=K.isAnonymous||!1,this.tenantId=K.tenantId||null,this.providerData=K.providerData?[...K.providerData]:[],this.metadata=new Cr(K.createdAt||void 0,K.lastLoginAt||void 0)}getIdToken(_){var b=this;return(0,h.Z)(function*(){const I=yield Mt(b,b.stsTokenManager.getToken(b.auth,_));return De(I,b.auth,"internal-error"),b.accessToken!==I&&(b.accessToken=I,yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)),I})()}getIdTokenResult(_){return function En(C){return zn.apply(this,arguments)}(this,_)}reload(){return function oe(C){return ge.apply(this,arguments)}(this)}_assign(_){this!==_&&(De(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(b=>Object.assign({},b)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){return new ke(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(_){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,b=!1){var I=this;return(0,h.Z)(function*(){let H=!1;_.idToken&&_.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(_),H=!0),b&&(yield rr(I)),yield I.auth._persistUserIfCurrent(I),H&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var _=this;return(0,h.Z)(function*(){const b=yield _.getIdToken();return yield Mt(_,function Ze(C,_){return Et.apply(this,arguments)}(_.auth,{idToken:b})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,b){var I,H,K,Pe,dt,qt,nn,Ln;const mr=null!==(I=b.displayName)&&void 0!==I?I:void 0,Ii=null!==(H=b.email)&&void 0!==H?H:void 0,vs=null!==(K=b.phoneNumber)&&void 0!==K?K:void 0,$l=null!==(Pe=b.photoURL)&&void 0!==Pe?Pe:void 0,Qd=null!==(dt=b.tenantId)&&void 0!==dt?dt:void 0,Wl=null!==(qt=b._redirectEventId)&&void 0!==qt?qt:void 0,Wo=null!==(nn=b.createdAt)&&void 0!==nn?nn:void 0,Yd=null!==(Ln=b.lastLoginAt)&&void 0!==Ln?Ln:void 0,{uid:Pu,emailVerified:Jd,isAnonymous:el,providerData:tl,stsTokenManager:Wc}=b;De(Pu&&Wc,_,"internal-error");const nl=re.fromJSON(this.name,Wc);De("string"==typeof Pu,_,"internal-error"),fe(mr,_.name),fe(Ii,_.name),De("boolean"==typeof Jd,_,"internal-error"),De("boolean"==typeof el,_,"internal-error"),fe(vs,_.name),fe($l,_.name),fe(Qd,_.name),fe(Wl,_.name),fe(Wo,_.name),fe(Yd,_.name);const ql=new ke({uid:Pu,auth:_,email:Ii,emailVerified:Jd,displayName:mr,isAnonymous:el,photoURL:$l,phoneNumber:vs,tenantId:Qd,stsTokenManager:nl,createdAt:Wo,lastLoginAt:Yd});return tl&&Array.isArray(tl)&&(ql.providerData=tl.map(Or=>Object.assign({},Or))),Wl&&(ql._redirectEventId=Wl),ql}static _fromIdTokenResponse(_,b,I=!1){return(0,h.Z)(function*(){const H=new re;H.updateFromServerResponse(b);const K=new ke({uid:b.localId,auth:_,stsTokenManager:H,isAnonymous:I});return yield rr(K),K})()}}const ht=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(b,I){var H=this;return(0,h.Z)(function*(){H.storage[b]=I})()}_get(b){var I=this;return(0,h.Z)(function*(){const H=I.storage[b];return void 0===H?null:H})()}_remove(b){var I=this;return(0,h.Z)(function*(){delete I.storage[b]})()}_addListener(b,I){}_removeListener(b,I){}}return C.type="NONE",C})();function lt(C,_,b){return`firebase:${C}:${_}:${b}`}class $t{constructor(_,b,I){this.persistence=_,this.auth=b,this.userKey=I;const{config:H,name:K}=this.auth;this.fullUserKey=lt(this.userKey,H.apiKey,K),this.fullPersistenceKey=lt("persistence",H.apiKey,K),this.boundEventHandler=b._onStorageEvent.bind(b),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,h.Z)(function*(){const b=yield _.persistence._get(_.fullUserKey);return b?ke._fromJSON(_.auth,b):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var b=this;return(0,h.Z)(function*(){if(b.persistence===_)return;const I=yield b.getCurrentUser();return yield b.removeCurrentUser(),b.persistence=_,I?b.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,b,I="authUser"){return(0,h.Z)(function*(){if(!b.length)return new $t(Oe(ht),_,I);const H=(yield Promise.all(b.map(function(){var nn=(0,h.Z)(function*(Ln){if(yield Ln._isAvailable())return Ln});return function(Ln){return nn.apply(this,arguments)}}()))).filter(nn=>nn);let K=H[0]||Oe(ht);const Pe=lt(I,_.config.apiKey,_.name);let dt=null;for(const nn of b)try{const Ln=yield nn._get(Pe);if(Ln){const mr=ke._fromJSON(_,Ln);nn!==K&&(dt=mr),K=nn;break}}catch(Ln){}const qt=H.filter(nn=>nn._shouldAllowMigration);return K._shouldAllowMigration&&qt.length?(K=qt[0],dt&&(yield K._set(Pe,dt.toJSON())),yield Promise.all(b.map(function(){var nn=(0,h.Z)(function*(Ln){if(Ln!==K)try{yield Ln._remove(Pe)}catch(mr){}});return function(Ln){return nn.apply(this,arguments)}}())),new $t(K,_,I)):new $t(K,_,I)})()}}function Te(C){const _=C.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(bt(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(de(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(rn(_))return"Blackberry";if(Fn(_))return"Webos";if(ce(_))return"Safari";if((_.includes("chrome/")||et(_))&&!_.includes("edge/"))return"Chrome";if(jt(_))return"Android";{const I=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==I?void 0:I.length))return I[1]}return"Other"}function de(C=(0,k.z$)()){return/firefox\//i.test(C)}function ce(C=(0,k.z$)()){const _=C.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function et(C=(0,k.z$)()){return/crios\//i.test(C)}function bt(C=(0,k.z$)()){return/iemobile/i.test(C)}function jt(C=(0,k.z$)()){return/android/i.test(C)}function rn(C=(0,k.z$)()){return/blackberry/i.test(C)}function Fn(C=(0,k.z$)()){return/webos/i.test(C)}function Ft(C=(0,k.z$)()){return/iphone|ipad|ipod/i.test(C)}function yr(C=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}function Dr(C=(0,k.z$)()){return Ft(C)||jt(C)||Fn(C)||rn(C)||/windows phone/i.test(C)||bt(C)}function kr(C,_=[]){let b;switch(C){case"Browser":b=Te((0,k.z$)());break;case"Worker":b=`${Te((0,k.z$)())}-${C}`;break;default:b=C}const I=_.length?_.join(","):"FirebaseCore-web";return`${b}/JsCore/${R.SDK_VERSION}/${I}`}class eo{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,b){const I=K=>new Promise((Pe,dt)=>{try{Pe(_(K))}catch(qt){dt(qt)}});I.onAbort=b,this.queue.push(I);const H=this.queue.length-1;return()=>{this.queue[H]=()=>Promise.resolve()}}runMiddleware(_){var b=this;return(0,h.Z)(function*(){if(b.auth.currentUser===_)return;const I=[];try{for(const H of b.queue)yield H(_),H.onAbort&&I.push(H.onAbort)}catch(H){I.reverse();for(const K of I)try{K()}catch(Pe){}throw b.auth._errorFactory.create("login-blocked",{originalMessage:H.message})}})()}}class Yr{constructor(_,b,I){this.app=_,this.heartbeatServiceProvider=b,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new me(this),this.idTokenSubscription=new me(this),this.beforeStateQueue=new eo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=he,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(_,b){var I=this;return b&&(this._popupRedirectResolver=Oe(b)),this._initializationPromise=this.queue((0,h.Z)(function*(){var H,K;if(!I._deleted&&(I.persistenceManager=yield $t.create(I,_),!I._deleted)){if(null===(H=I._popupRedirectResolver)||void 0===H?void 0:H._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch(Pe){}yield I.initializeCurrentUser(b),I.lastNotifiedUid=(null===(K=I.currentUser)||void 0===K?void 0:K.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,h.Z)(function*(){if(_._deleted)return;const b=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||b){if(_.currentUser&&b&&_.currentUser.uid===b.uid)return _._currentUser._assign(b),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(b,!0)}})()}initializeCurrentUser(_){var b=this;return(0,h.Z)(function*(){var I;const H=yield b.assertedPersistence.getCurrentUser();let K=H,Pe=!1;if(_&&b.config.authDomain){yield b.getOrInitRedirectPersistenceManager();const dt=null===(I=b.redirectUser)||void 0===I?void 0:I._redirectEventId,qt=null==K?void 0:K._redirectEventId,nn=yield b.tryRedirectSignIn(_);(!dt||dt===qt)&&(null==nn?void 0:nn.user)&&(K=nn.user,Pe=!0)}if(!K)return b.directlySetCurrentUser(null);if(!K._redirectEventId){if(Pe)try{yield b.beforeStateQueue.runMiddleware(K)}catch(dt){K=H,b._popupRedirectResolver._overrideRedirectResult(b,()=>Promise.reject(dt))}return K?b.reloadAndSetCurrentUserOrClear(K):b.directlySetCurrentUser(null)}return De(b._popupRedirectResolver,b,"argument-error"),yield b.getOrInitRedirectPersistenceManager(),b.redirectUser&&b.redirectUser._redirectEventId===K._redirectEventId?b.directlySetCurrentUser(K):b.reloadAndSetCurrentUserOrClear(K)})()}tryRedirectSignIn(_){var b=this;return(0,h.Z)(function*(){let I=null;try{I=yield b._popupRedirectResolver._completeRedirectFn(b,_,!0)}catch(H){yield b._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(_){var b=this;return(0,h.Z)(function*(){try{yield rr(_)}catch(I){if("auth/network-request-failed"!==I.code)return b.directlySetCurrentUser(null)}return b.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function St(){if("undefined"==typeof navigator)return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var _=this;return(0,h.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var b=this;return(0,h.Z)(function*(){const I=_?(0,k.m9)(_):null;return I&&De(I.auth.config.apiKey===b.config.apiKey,b,"invalid-user-token"),b._updateCurrentUser(I&&I._clone(b))})()}_updateCurrentUser(_,b=!1){var I=this;return(0,h.Z)(function*(){if(!I._deleted)return _&&De(I.tenantId===_.tenantId,I,"tenant-id-mismatch"),b||(yield I.beforeStateQueue.runMiddleware(_)),I.queue((0,h.Z)(function*(){yield I.directlySetCurrentUser(_),I.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,h.Z)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var b=this;return this.queue((0,h.Z)(function*(){yield b.assertedPersistence.setPersistence(Oe(_))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new k.LL("auth","Firebase",_())}onAuthStateChanged(_,b,I){return this.registerStateListener(this.authStateSubscription,_,b,I)}beforeAuthStateChanged(_,b){return this.beforeStateQueue.pushCallback(_,b)}onIdTokenChanged(_,b,I){return this.registerStateListener(this.idTokenSubscription,_,b,I)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,b){var I=this;return(0,h.Z)(function*(){const H=yield I.getOrInitRedirectPersistenceManager(b);return null===_?H.removeCurrentUser():H.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var b=this;return(0,h.Z)(function*(){if(!b.redirectPersistenceManager){const I=_&&Oe(_)||b._popupRedirectResolver;De(I,b,"argument-error"),b.redirectPersistenceManager=yield $t.create(b,[Oe(I._redirectPersistence)],"redirectUser"),b.redirectUser=yield b.redirectPersistenceManager.getCurrentUser()}return b.redirectPersistenceManager})()}_redirectUserForId(_){var b=this;return(0,h.Z)(function*(){var I,H;return b._isInitialized&&(yield b.queue((0,h.Z)(function*(){}))),(null===(I=b._currentUser)||void 0===I?void 0:I._redirectEventId)===_?b._currentUser:(null===(H=b.redirectUser)||void 0===H?void 0:H._redirectEventId)===_?b.redirectUser:null})()}_persistUserIfCurrent(_){var b=this;return(0,h.Z)(function*(){if(_===b.currentUser)return b.queue((0,h.Z)(function*(){return b.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(b=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==b?b:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,b,I,H){if(this._deleted)return()=>{};const K="function"==typeof b?b:b.next.bind(b),Pe=this._isInitialized?Promise.resolve():this._initializationPromise;return De(Pe,this,"internal-error"),Pe.then(()=>K(this.currentUser)),"function"==typeof b?_.addObserver(b,I,H):_.addObserver(b)}directlySetCurrentUser(_){var b=this;return(0,h.Z)(function*(){b.currentUser&&b.currentUser!==_&&(b._currentUser._stopProactiveRefresh(),_&&b.isProactiveRefreshEnabled&&_._startProactiveRefresh()),b.currentUser=_,_?yield b.assertedPersistence.setCurrentUser(_):yield b.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=kr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,h.Z)(function*(){var b;const I={"X-Client-Version":_.clientVersion};_.app.options.appId&&(I["X-Firebase-gmpid"]=_.app.options.appId);const H=yield null===(b=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getHeartbeatsHeader();return H&&(I["X-Firebase-Client"]=H),I})()}}function _t(C){return(0,k.m9)(C)}class me{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,k.ne)(b=>this.observer=b)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Be(C,_,b){const I=_t(C);De(I._canInitEmulator,I,"emulator-config-failed"),De(/^https?:\/\//.test(_),I,"invalid-emulator-scheme");const H=!!(null==b?void 0:b.disableWarnings),K=ct(_),{host:Pe,port:dt}=function Bt(C){const _=ct(C),b=/(\/\/)?([^?#/]+)/.exec(C.substr(_.length));if(!b)return{host:"",port:null};const I=b[2].split("@").pop()||"",H=/^(\[[^\]]+\])(:|$)/.exec(I);if(H){const K=H[1];return{host:K,port:In(I.substr(K.length+1))}}{const[K,Pe]=I.split(":");return{host:K,port:In(Pe)}}}(_);I.config.emulator={url:`${K}//${Pe}${null===dt?"":`:${dt}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:Pe,port:dt,protocol:K.replace(":",""),options:Object.freeze({disableWarnings:H})}),H||function On(){function C(){const _=document.createElement("p"),b=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",b.position="fixed",b.width="100%",b.backgroundColor="#ffffff",b.border=".1em solid #000000",b.color="#b50000",b.bottom="0px",b.left="0px",b.margin="0px",b.zIndex="10000",b.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}function ct(C){const _=C.indexOf(":");return _<0?"":C.substr(0,_+1)}function In(C){if(!C)return null;const _=Number(C);return isNaN(_)?null:_}class Cn{constructor(_,b){this.providerId=_,this.signInMethod=b}toJSON(){return Me("not implemented")}_getIdTokenResponse(_){return Me("not implemented")}_linkToIdToken(_,b){return Me("not implemented")}_getReauthenticationResolver(_){return Me("not implemented")}}function hr(C,_){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,h.Z)(function*(C,_){return ye(C,"POST","/v1/accounts:resetPassword",Ae(C,_))})).apply(this,arguments)}function tn(C,_){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,h.Z)(function*(C,_){return ye(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function mi(C,_){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,h.Z)(function*(C,_){return ye(C,"POST","/v1/accounts:update",Ae(C,_))})).apply(this,arguments)}function Lr(){return(Lr=(0,h.Z)(function*(C,_){return qe(C,"POST","/v1/accounts:signInWithPassword",Ae(C,_))})).apply(this,arguments)}function cs(C,_){return ds.apply(this,arguments)}function ds(){return(ds=(0,h.Z)(function*(C,_){return ye(C,"POST","/v1/accounts:sendOobCode",Ae(C,_))})).apply(this,arguments)}function Tr(C,_){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,h.Z)(function*(C,_){return cs(C,_)})).apply(this,arguments)}function Oa(C,_){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,h.Z)(function*(C,_){return cs(C,_)})).apply(this,arguments)}function oi(C,_){return ai.apply(this,arguments)}function ai(){return(ai=(0,h.Z)(function*(C,_){return cs(C,_)})).apply(this,arguments)}function ea(C,_){return No.apply(this,arguments)}function No(){return(No=(0,h.Z)(function*(C,_){return cs(C,_)})).apply(this,arguments)}function vi(){return(vi=(0,h.Z)(function*(C,_){return qe(C,"POST","/v1/accounts:signInWithEmailLink",Ae(C,_))})).apply(this,arguments)}function Pa(){return(Pa=(0,h.Z)(function*(C,_){return qe(C,"POST","/v1/accounts:signInWithEmailLink",Ae(C,_))})).apply(this,arguments)}class ta extends Cn{constructor(_,b,I,H=null){super("password",I),this._email=_,this._password=b,this._tenantId=H}static _fromEmailAndPassword(_,b){return new ta(_,b,"password")}static _fromEmailAndCode(_,b,I=null){return new ta(_,b,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const b="string"==typeof _?JSON.parse(_):_;if((null==b?void 0:b.email)&&(null==b?void 0:b.password)){if("password"===b.signInMethod)return this._fromEmailAndPassword(b.email,b.password);if("emailLink"===b.signInMethod)return this._fromEmailAndCode(b.email,b.password,b.tenantId)}return null}_getIdTokenResponse(_){var b=this;return(0,h.Z)(function*(){switch(b.signInMethod){case"password":return function Qi(C,_){return Lr.apply(this,arguments)}(_,{returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function to(C,_){return vi.apply(this,arguments)}(_,{email:b._email,oobCode:b._password});default:Qe(_,"internal-error")}})()}_linkToIdToken(_,b){var I=this;return(0,h.Z)(function*(){switch(I.signInMethod){case"password":return tn(_,{idToken:b,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function dc(C,_){return Pa.apply(this,arguments)}(_,{idToken:b,email:I._email,oobCode:I._password});default:Qe(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function Mr(C,_){return cu.apply(this,arguments)}function cu(){return(cu=(0,h.Z)(function*(C,_){return qe(C,"POST","/v1/accounts:signInWithIdp",Ae(C,_))})).apply(this,arguments)}class Yi extends Cn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const b=new Yi(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(b.idToken=_.idToken),_.accessToken&&(b.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(b.nonce=_.nonce),_.pendingToken&&(b.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(b.accessToken=_.oauthToken,b.secret=_.oauthTokenSecret):Qe("argument-error"),b}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const b="string"==typeof _?JSON.parse(_):_,{providerId:I,signInMethod:H}=b,K=(0,G.__rest)(b,["providerId","signInMethod"]);if(!I||!H)return null;const Pe=new Yi(I,H);return Pe.idToken=K.idToken||void 0,Pe.accessToken=K.accessToken||void 0,Pe.secret=K.secret,Pe.nonce=K.nonce,Pe.pendingToken=K.pendingToken||null,Pe}_getIdTokenResponse(_){return Mr(_,this.buildRequest())}_linkToIdToken(_,b){const I=this.buildRequest();return I.idToken=b,Mr(_,I)}_getReauthenticationResolver(_){const b=this.buildRequest();return b.autoCreate=!1,Mr(_,b)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const b={};this.idToken&&(b.id_token=this.idToken),this.accessToken&&(b.access_token=this.accessToken),this.secret&&(b.oauth_token_secret=this.secret),b.providerId=this.providerId,this.nonce&&!this.pendingToken&&(b.nonce=this.nonce),_.postBody=(0,k.xO)(b)}return _}}function Fa(C,_){return na.apply(this,arguments)}function na(){return(na=(0,h.Z)(function*(C,_){return ye(C,"POST","/v1/accounts:sendVerificationCode",Ae(C,_))})).apply(this,arguments)}function Ir(){return(Ir=(0,h.Z)(function*(C,_){return qe(C,"POST","/v1/accounts:signInWithPhoneNumber",Ae(C,_))})).apply(this,arguments)}function Ns(){return(Ns=(0,h.Z)(function*(C,_){const b=yield qe(C,"POST","/v1/accounts:signInWithPhoneNumber",Ae(C,_));if(b.temporaryProof)throw dn(C,"account-exists-with-different-credential",b);return b})).apply(this,arguments)}const Sd={USER_NOT_FOUND:"user-not-found"};function bl(){return(bl=(0,h.Z)(function*(C,_){return qe(C,"POST","/v1/accounts:signInWithPhoneNumber",Ae(C,Object.assign(Object.assign({},_),{operation:"REAUTH"})),Sd)})).apply(this,arguments)}class fs extends Cn{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,b){return new fs({verificationId:_,verificationCode:b})}static _fromTokenResponse(_,b){return new fs({phoneNumber:_,temporaryProof:b})}_getIdTokenResponse(_){return function Id(C,_){return Ir.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,b){return function du(C,_){return Ns.apply(this,arguments)}(_,Object.assign({idToken:b},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function _l(C,_){return bl.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:b,verificationId:I,verificationCode:H}=this.params;return _&&b?{temporaryProof:_,phoneNumber:b}:{sessionInfo:I,code:H}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:b,verificationCode:I,phoneNumber:H,temporaryProof:K}=_;return I||b||H||K?new fs({verificationId:b,verificationCode:I,phoneNumber:H,temporaryProof:K}):null}}class ki{constructor(_){var b,I,H,K,Pe,dt;const qt=(0,k.zd)((0,k.pd)(_)),nn=null!==(b=qt.apiKey)&&void 0!==b?b:null,Ln=null!==(I=qt.oobCode)&&void 0!==I?I:null,mr=function Md(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(H=qt.mode)&&void 0!==H?H:null);De(nn&&Ln&&mr,"argument-error"),this.apiKey=nn,this.operation=mr,this.code=Ln,this.continueUrl=null!==(K=qt.continueUrl)&&void 0!==K?K:null,this.languageCode=null!==(Pe=qt.languageCode)&&void 0!==Pe?Pe:null,this.tenantId=null!==(dt=qt.tenantId)&&void 0!==dt?dt:null}static parseLink(_){const b=function La(C){const _=(0,k.zd)((0,k.pd)(C)).link,b=_?(0,k.zd)((0,k.pd)(_)).deep_link_id:null,I=(0,k.zd)((0,k.pd)(C)).deep_link_id;return(I?(0,k.zd)((0,k.pd)(I)).link:null)||I||b||_||C}(_);try{return new ki(b)}catch(I){return null}}}let ko=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(b,I){return ta._fromEmailAndPassword(b,I)}static credentialWithLink(b,I){const H=ki.parseLink(I);return De(H,"argument-error"),ta._fromEmailAndCode(b,H.code,H.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class Oi{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class Ci extends Oi{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class ra extends Ci{static credentialFromJSON(_){const b="string"==typeof _?JSON.parse(_):_;return De("providerId"in b&&"signInMethod"in b,"argument-error"),Yi._fromParams(b)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return De(_.idToken||_.accessToken,"argument-error"),Yi._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return ra.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return ra.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:b,oauthAccessToken:I,oauthTokenSecret:H,pendingToken:K,nonce:Pe,providerId:dt}=_;if(!I&&!H&&!b&&!K||!dt)return null;try{return new ra(dt)._credential({idToken:b,accessToken:I,nonce:Pe,pendingToken:K})}catch(qt){return null}}}let li=(()=>{class C extends Ci{constructor(){super("facebook.com")}static credential(b){return Yi._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return C.credential(b.oauthAccessToken)}catch(I){return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),no=(()=>{class C extends Ci{constructor(){super("google.com"),this.addScope("profile")}static credential(b,I){return Yi._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:b,accessToken:I})}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:I,oauthAccessToken:H}=b;if(!I&&!H)return null;try{return C.credential(I,H)}catch(K){return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),ia=(()=>{class C extends Ci{constructor(){super("github.com")}static credential(b){return Yi._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return C.credential(b.oauthAccessToken)}catch(I){return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class Ji extends Cn{constructor(_,b){super(_,_),this.pendingToken=b}_getIdTokenResponse(_){return Mr(_,this.buildRequest())}_linkToIdToken(_,b){const I=this.buildRequest();return I.idToken=b,Mr(_,I)}_getReauthenticationResolver(_){const b=this.buildRequest();return b.autoCreate=!1,Mr(_,b)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const b="string"==typeof _?JSON.parse(_):_,{providerId:I,signInMethod:H,pendingToken:K}=b;return I&&H&&K&&I===H?new Ji(I,K):null}static _create(_,b){return new Ji(_,b)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class hs extends Oi{constructor(_){De(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return hs.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return hs.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const b=Ji.fromJSON(_);return De(b,"argument-error"),b}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:b,providerId:I}=_;if(!b||!I)return null;try{return Ji._create(I,b)}catch(H){return null}}}let sa=(()=>{class C extends Ci{constructor(){super("twitter.com")}static credential(b,I){return Yi._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:b,oauthTokenSecret:I})}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthAccessToken:I,oauthTokenSecret:H}=b;if(!I||!H)return null;try{return C.credential(I,H)}catch(K){return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function Os(C,_){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,h.Z)(function*(C,_){return qe(C,"POST","/v1/accounts:signUp",Ae(C,_))})).apply(this,arguments)}class jr{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,b,I,H=!1){return(0,h.Z)(function*(){const K=yield ke._fromIdTokenResponse(_,I,H),Pe=Al(I);return new jr({user:K,providerId:Pe,_tokenResponse:I,operationType:b})})()}static _forOperation(_,b,I){return(0,h.Z)(function*(){yield _._updateTokensIfNecessary(I,!0);const H=Al(I);return new jr({user:_,providerId:H,_tokenResponse:I,operationType:b})})()}}function Al(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function fu(C){return fc.apply(this,arguments)}function fc(){return(fc=(0,h.Z)(function*(C){var _;const b=_t(C);if(yield b._initializationPromise,null===(_=b.currentUser)||void 0===_?void 0:_.isAnonymous)return new jr({user:b.currentUser,providerId:null,operationType:"signIn"});const I=yield Os(b,{returnSecureToken:!0}),H=yield jr._fromIdTokenResponse(b,"signIn",I,!0);return yield b._updateCurrentUser(H.user),H})).apply(this,arguments)}class oa extends k.ZR{constructor(_,b,I,H){var K;super(b.code,b.message),this.operationType=I,this.user=H,Object.setPrototypeOf(this,oa.prototype),this.customData={appName:_.name,tenantId:null!==(K=_.tenantId)&&void 0!==K?K:void 0,_serverResponse:b.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(_,b,I,H){return new oa(_,b,I,H)}}function Oo(C,_,b,I){return("reauthenticate"===_?b._getReauthenticationResolver(C):b._getIdTokenResponse(C)).catch(K=>{throw"auth/multi-factor-auth-required"===K.code?oa._fromErrorAndOperation(C,K,_,I):K})}function Xi(C){return new Set(C.map(({providerId:_})=>_).filter(_=>!!_))}function ro(C,_){return hc.apply(this,arguments)}function hc(){return(hc=(0,h.Z)(function*(C,_){const b=(0,k.m9)(C);yield ps(!0,b,_);const{providerUserInfo:I}=yield Xt(b.auth,{idToken:yield b.getIdToken(),deleteProvider:[_]}),H=Xi(I||[]);return b.providerData=b.providerData.filter(K=>H.has(K.providerId)),H.has("phone")||(b.phoneNumber=null),yield b.auth._persistUserIfCurrent(b),b})).apply(this,arguments)}function pr(C,_){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,h.Z)(function*(C,_,b=!1){const I=yield Mt(C,_._linkToIdToken(C.auth,yield C.getIdToken()),b);return jr._forOperation(C,"link",I)})).apply(this,arguments)}function ps(C,_,b){return qn.apply(this,arguments)}function qn(){return(qn=(0,h.Z)(function*(C,_,b){yield rr(_);const H=!1===C?"provider-already-linked":"no-such-provider";De(Xi(_.providerData).has(b)===C,_.auth,H)})).apply(this,arguments)}function aa(C,_){return Va.apply(this,arguments)}function Va(){return(Va=(0,h.Z)(function*(C,_,b=!1){const{auth:I}=C,H="reauthenticate";try{const K=yield Mt(C,Oo(I,H,_,C),b);De(K.idToken,I,"internal-error");const Pe=un(K.idToken);De(Pe,I,"internal-error");const{sub:dt}=Pe;return De(C.uid===dt,I,"user-mismatch"),jr._forOperation(C,H,K)}catch(K){throw"auth/user-not-found"===(null==K?void 0:K.code)&&Qe(I,"user-mismatch"),K}})).apply(this,arguments)}function io(C,_){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,h.Z)(function*(C,_,b=!1){const I="signIn",H=yield Oo(C,I,_),K=yield jr._fromIdTokenResponse(C,I,H);return b||(yield C._updateCurrentUser(K.user)),K})).apply(this,arguments)}function Ps(C,_){return la.apply(this,arguments)}function la(){return(la=(0,h.Z)(function*(C,_){return io(_t(C),_)})).apply(this,arguments)}function Z(C,_){return q.apply(this,arguments)}function q(){return(q=(0,h.Z)(function*(C,_){const b=(0,k.m9)(C);return yield ps(!1,b,_.providerId),pr(b,_)})).apply(this,arguments)}function Ee(C,_){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,h.Z)(function*(C,_){return aa((0,k.m9)(C),_)})).apply(this,arguments)}function yt(C,_){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,h.Z)(function*(C,_){return qe(C,"POST","/v1/accounts:signInWithCustomToken",Ae(C,_))})).apply(this,arguments)}function cn(C,_){return sr.apply(this,arguments)}function sr(){return(sr=(0,h.Z)(function*(C,_){const b=_t(C),I=yield yt(b,{token:_,returnSecureToken:!0}),H=yield jr._fromIdTokenResponse(b,"signIn",I);return yield b._updateCurrentUser(H.user),H})).apply(this,arguments)}class Vt{constructor(_,b){this.factorId=_,this.uid=b.mfaEnrollmentId,this.enrollmentTime=new Date(b.enrolledAt).toUTCString(),this.displayName=b.displayName}static _fromServerResponse(_,b){return"phoneInfo"in b?dr._fromServerResponse(_,b):Qe(_,"internal-error")}}class dr extends Vt{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,b){return new dr(b)}}function or(C,_,b){var I;De((null===(I=b.url)||void 0===I?void 0:I.length)>0,C,"invalid-continue-uri"),De(void 0===b.dynamicLinkDomain||b.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),_.continueUrl=b.url,_.dynamicLinkDomain=b.dynamicLinkDomain,_.canHandleCodeInApp=b.handleCodeInApp,b.iOS&&(De(b.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),_.iOSBundleId=b.iOS.bundleId),b.android&&(De(b.android.packageName.length>0,C,"missing-android-pkg-name"),_.androidInstallApp=b.android.installApp,_.androidMinimumVersionCode=b.android.minimumVersion,_.androidPackageName=b.android.packageName)}function Pn(C,_,b){return es.apply(this,arguments)}function es(){return(es=(0,h.Z)(function*(C,_,b){const I=(0,k.m9)(C),H={requestType:"PASSWORD_RESET",email:_};b&&or(I,H,b),yield Oa(I,H)})).apply(this,arguments)}function ts(C,_,b){return so.apply(this,arguments)}function so(){return(so=(0,h.Z)(function*(C,_,b){yield hr((0,k.m9)(C),{oobCode:_,newPassword:b})})).apply(this,arguments)}function Ba(C,_){return ot.apply(this,arguments)}function ot(){return(ot=(0,h.Z)(function*(C,_){yield mi((0,k.m9)(C),{oobCode:_})})).apply(this,arguments)}function Dn(C,_){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,h.Z)(function*(C,_){const b=(0,k.m9)(C),I=yield hr(b,{oobCode:_}),H=I.requestType;switch(De(H,b,"internal-error"),H){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":De(I.newEmail,b,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":De(I.mfaInfo,b,"internal-error");default:De(I.email,b,"internal-error")}let K=null;return I.mfaInfo&&(K=Vt._fromServerResponse(_t(b),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:K},operation:H}})).apply(this,arguments)}function gr(C,_){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,h.Z)(function*(C,_){const{data:b}=yield Dn((0,k.m9)(C),_);return b.email})).apply(this,arguments)}function El(C,_,b){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,h.Z)(function*(C,_,b){const I=_t(C),H=yield Os(I,{returnSecureToken:!0,email:_,password:b}),K=yield jr._fromIdTokenResponse(I,"signIn",H);return yield I._updateCurrentUser(K.user),K})).apply(this,arguments)}function pc(C,_,b){return Ps((0,k.m9)(C),ko.credential(_,b))}function gc(C,_,b){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,h.Z)(function*(C,_,b){const I=(0,k.m9)(C),H={requestType:"EMAIL_SIGNIN",email:_};De(b.handleCodeInApp,I,"argument-error"),b&&or(I,H,b),yield oi(I,H)})).apply(this,arguments)}function mc(C,_){const b=ki.parseLink(_);return"EMAIL_SIGNIN"===(null==b?void 0:b.operation)}function wl(C,_,b){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,h.Z)(function*(C,_,b){const I=(0,k.m9)(C),H=ko.credentialWithLink(_,b||Re());return De(H._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),Ps(I,H)})).apply(this,arguments)}function Xr(C,_){return gs.apply(this,arguments)}function gs(){return(gs=(0,h.Z)(function*(C,_){return ye(C,"POST","/v1/accounts:createAuthUri",Ae(C,_))})).apply(this,arguments)}function hu(C,_){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,h.Z)(function*(C,_){const I={identifier:_,continueUri:Wt()?Re():"http://localhost"},{signinMethods:H}=yield Xr((0,k.m9)(C),I);return H||[]})).apply(this,arguments)}function Vs(C,_){return vc.apply(this,arguments)}function vc(){return(vc=(0,h.Z)(function*(C,_){const b=(0,k.m9)(C),H={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};_&&or(b.auth,H,_);const{email:K}=yield Tr(b.auth,H);K!==C.email&&(yield C.reload())})).apply(this,arguments)}function Nd(C,_,b){return pu.apply(this,arguments)}function pu(){return(pu=(0,h.Z)(function*(C,_,b){const I=(0,k.m9)(C),K={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:_};b&&or(I.auth,K,b);const{email:Pe}=yield ea(I.auth,K);Pe!==C.email&&(yield C.reload())})).apply(this,arguments)}function ih(C,_){return ja.apply(this,arguments)}function ja(){return(ja=(0,h.Z)(function*(C,_){return ye(C,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Cl(C,_){return yc.apply(this,arguments)}function yc(){return(yc=(0,h.Z)(function*(C,{displayName:_,photoURL:b}){if(void 0===_&&void 0===b)return;const I=(0,k.m9)(C),K={idToken:yield I.getIdToken(),displayName:_,photoUrl:b,returnSecureToken:!0},Pe=yield Mt(I,ih(I.auth,K));I.displayName=Pe.displayName||null,I.photoURL=Pe.photoUrl||null;const dt=I.providerData.find(({providerId:qt})=>"password"===qt);dt&&(dt.displayName=I.displayName,dt.photoURL=I.photoURL),yield I._updateTokensIfNecessary(Pe)})).apply(this,arguments)}function _c(C,_){return Ga((0,k.m9)(C),_,null)}function yg(C,_){return Ga((0,k.m9)(C),null,_)}function Ga(C,_,b){return za.apply(this,arguments)}function za(){return(za=(0,h.Z)(function*(C,_,b){const{auth:I}=C,K={idToken:yield C.getIdToken(),returnSecureToken:!0};_&&(K.email=_),b&&(K.password=b);const Pe=yield Mt(C,tn(I,K));yield C._updateTokensIfNecessary(Pe,!0)})).apply(this,arguments)}class Po{constructor(_,b,I={}){this.isNewUser=_,this.providerId=b,this.profile=I}}class Dl extends Po{constructor(_,b,I,H){super(_,b,I),this.username=H}}class kd extends Po{constructor(_,b){super(_,"facebook.com",b)}}class Tl extends Dl{constructor(_,b){super(_,"github.com",b,"string"==typeof(null==b?void 0:b.login)?null==b?void 0:b.login:null)}}class Fo extends Po{constructor(_,b){super(_,"google.com",b)}}class sh extends Dl{constructor(_,b,I){super(_,"twitter.com",b,I)}}function yi(C){const{user:_,_tokenResponse:b}=C;return _.isAnonymous&&!b?{providerId:null,isNewUser:!1,profile:null}:function ei(C){var _,b;if(!C)return null;const{providerId:I}=C,H=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},K=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!I&&(null==C?void 0:C.idToken)){const Pe=null===(b=null===(_=un(C.idToken))||void 0===_?void 0:_.firebase)||void 0===b?void 0:b.sign_in_provider;if(Pe)return new Po(K,"anonymous"!==Pe&&"custom"!==Pe?Pe:null)}if(!I)return null;switch(I){case"facebook.com":return new kd(K,H);case"github.com":return new Tl(K,H);case"google.com":return new Fo(K,H);case"twitter.com":return new sh(K,H,C.screenName||null);case"custom":case"anonymous":return new Po(K,null);default:return new Po(K,I,H)}}(b)}function Od(C){return(0,k.m9)(C).signOut()}class Us{constructor(_,b){this.type=_,this.credential=b}static _fromIdtoken(_){return new Us("enroll",_)}static _fromMfaPendingCredential(_){return new Us("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var b,I;if(null==_?void 0:_.multiFactorSession){if(null===(b=_.multiFactorSession)||void 0===b?void 0:b.pendingCredential)return Us._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null===(I=_.multiFactorSession)||void 0===I?void 0:I.idToken)return Us._fromIdtoken(_.multiFactorSession.idToken)}return null}}class Sl{constructor(_,b,I){this.session=_,this.hints=b,this.signInResolver=I}static _fromError(_,b){const I=_t(_),H=b.customData._serverResponse,K=(H.mfaInfo||[]).map(dt=>Vt._fromServerResponse(I,dt));De(H.mfaPendingCredential,I,"internal-error");const Pe=Us._fromMfaPendingCredential(H.mfaPendingCredential);return new Sl(Pe,K,function(){var dt=(0,h.Z)(function*(qt){const nn=yield qt._process(I,Pe);delete H.mfaInfo,delete H.mfaPendingCredential;const Ln=Object.assign(Object.assign({},H),{idToken:nn.idToken,refreshToken:nn.refreshToken});switch(b.operationType){case"signIn":const mr=yield jr._fromIdTokenResponse(I,b.operationType,Ln);return yield I._updateCurrentUser(mr.user),mr;case"reauthenticate":return De(b.user,I,"internal-error"),jr._forOperation(b.user,b.operationType,Ln);default:Qe(I,"internal-error")}});return function(qt){return dt.apply(this,arguments)}}())}resolveSignIn(_){var b=this;return(0,h.Z)(function*(){return b.signInResolver(_)})()}}function bc(C,_){var b;const I=(0,k.m9)(C),H=_;return De(_.customData.operationType,I,"argument-error"),De(null===(b=H.customData._serverResponse)||void 0===b?void 0:b.mfaPendingCredential,I,"argument-error"),Sl._fromError(I,H)}function Pd(C,_){return ye(C,"POST","/v2/accounts/mfaEnrollment:start",Ae(C,_))}class $a{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(b=>{b.mfaInfo&&(this.enrolledFactors=b.mfaInfo.map(I=>Vt._fromServerResponse(_.auth,I)))})}static _fromUser(_){return new $a(_)}getSession(){var _=this;return(0,h.Z)(function*(){return Us._fromIdtoken(yield _.user.getIdToken())})()}enroll(_,b){var I=this;return(0,h.Z)(function*(){const H=_,K=yield I.getSession(),Pe=yield Mt(I.user,H._process(I.user.auth,K,b));return yield I.user._updateTokensIfNecessary(Pe),I.user.reload()})()}unenroll(_){var b=this;return(0,h.Z)(function*(){const I="string"==typeof _?_:_.uid,H=yield b.user.getIdToken(),K=yield Mt(b.user,function Lo(C,_){return ye(C,"POST","/v2/accounts/mfaEnrollment:withdraw",Ae(C,_))}(b.user.auth,{idToken:H,mfaEnrollmentId:I}));b.enrolledFactors=b.enrolledFactors.filter(({uid:Pe})=>Pe!==I),yield b.user._updateTokensIfNecessary(K);try{yield b.user.reload()}catch(Pe){if("auth/user-token-expired"!==Pe.code)throw Pe}})()}}const Fd=new WeakMap;function lh(C){const _=(0,k.m9)(C);return Fd.has(_)||Fd.set(_,$a._fromUser(_)),Fd.get(_)}const oo="__sak";class gu{constructor(_,b){this.storageRetriever=_,this.type=b}_isAvailable(){try{return this.storage?(this.storage.setItem(oo,"1"),this.storage.removeItem(oo),Promise.resolve(!0)):Promise.resolve(!1)}catch(_){return Promise.resolve(!1)}}_set(_,b){return this.storage.setItem(_,JSON.stringify(b)),Promise.resolve()}_get(_){const b=this.storage.getItem(_);return Promise.resolve(b?JSON.parse(b):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ml=(()=>{class C extends gu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(b,I)=>this.onStorageEvent(b,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ld(){const C=(0,k.z$)();return ce(C)||Ft(C)}()&&function si(){try{return!(!window||window===window.top)}catch(C){return!1}}(),this.fallbackToPolling=Dr(),this._shouldAllowMigration=!0}forAllChangedKeys(b){for(const I of Object.keys(this.listeners)){const H=this.storage.getItem(I),K=this.localCache[I];H!==K&&b(I,K,H)}}onStorageEvent(b,I=!1){if(!b.key)return void this.forAllChangedKeys((dt,qt,nn)=>{this.notifyListeners(dt,nn)});const H=b.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const dt=this.storage.getItem(H);if(b.newValue!==dt)null!==b.newValue?this.storage.setItem(H,b.newValue):this.storage.removeItem(H);else if(this.localCache[H]===b.newValue&&!I)return}const K=()=>{const dt=this.storage.getItem(H);!I&&this.localCache[H]===dt||this.notifyListeners(H,dt)},Pe=this.storage.getItem(H);!function Rn(){return(0,k.w1)()&&10===document.documentMode}()||Pe===b.newValue||b.newValue===b.oldValue?K():setTimeout(K,10)}notifyListeners(b,I){this.localCache[b]=I;const H=this.listeners[b];if(H)for(const K of Array.from(H))K(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((b,I,H)=>{this.onStorageEvent(new StorageEvent("storage",{key:b,oldValue:I,newValue:H}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(b,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[b]||(this.listeners[b]=new Set,this.localCache[b]=this.storage.getItem(b)),this.listeners[b].add(I)}_removeListener(b,I){this.listeners[b]&&(this.listeners[b].delete(I),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(b,I){var H=()=>super._set,K=this;return(0,h.Z)(function*(){yield H().call(K,b,I),K.localCache[b]=JSON.stringify(I)})()}_get(b){var I=()=>super._get,H=this;return(0,h.Z)(function*(){const K=yield I().call(H,b);return H.localCache[b]=JSON.stringify(K),K})()}_remove(b){var I=()=>super._remove,H=this;return(0,h.Z)(function*(){yield I().call(H,b),delete H.localCache[b]})()}}return C.type="LOCAL",C})(),xl=(()=>{class C extends gu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(b,I){}_removeListener(b,I){}}return C.type="SESSION",C})();let Rl=(()=>{class C{constructor(b){this.eventTarget=b,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(b){const I=this.receivers.find(K=>K.isListeningto(b));if(I)return I;const H=new C(b);return this.receivers.push(H),H}isListeningto(b){return this.eventTarget===b}handleEvent(b){var I=this;return(0,h.Z)(function*(){const H=b,{eventId:K,eventType:Pe,data:dt}=H.data,qt=I.handlersMap[Pe];if(!(null==qt?void 0:qt.size))return;H.ports[0].postMessage({status:"ack",eventId:K,eventType:Pe});const nn=Array.from(qt).map(function(){var mr=(0,h.Z)(function*(Ii){return Ii(H.origin,dt)});return function(Ii){return mr.apply(this,arguments)}}()),Ln=yield function mu(C){return Promise.all(C.map(function(){var _=(0,h.Z)(function*(b){try{return{fulfilled:!0,value:yield b}}catch(I){return{fulfilled:!1,reason:I}}});return function(b){return _.apply(this,arguments)}}()))}(nn);H.ports[0].postMessage({status:"done",eventId:K,eventType:Pe,response:Ln})})()}_subscribe(b,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[b]||(this.handlersMap[b]=new Set),this.handlersMap[b].add(I)}_unsubscribe(b,I){this.handlersMap[b]&&I&&this.handlersMap[b].delete(I),(!I||0===this.handlersMap[b].size)&&delete this.handlersMap[b],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function lo(C="",_=10){let b="";for(let I=0;I<_;I++)b+=Math.floor(10*Math.random());return C+b}class uo{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,b,I=50){var H=this;return(0,h.Z)(function*(){const K="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!K)throw new Error("connection_unavailable");let Pe,dt;return new Promise((qt,nn)=>{const Ln=lo("",20);K.port1.start();const mr=setTimeout(()=>{nn(new Error("unsupported_event"))},I);dt={messageChannel:K,onMessage(Ii){const vs=Ii;if(vs.data.eventId===Ln)switch(vs.data.status){case"ack":clearTimeout(mr),Pe=setTimeout(()=>{nn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Pe),qt(vs.data.response);break;default:clearTimeout(mr),clearTimeout(Pe),nn(new Error("invalid_response"))}}},H.handlers.add(dt),K.port1.addEventListener("message",dt.onMessage),H.target.postMessage({eventType:_,eventId:Ln,data:b},[K.port2])}).finally(()=>{dt&&H.removeMessageHandler(dt)})})()}}function Ar(){return window}function Sn(){return void 0!==Ar().WorkerGlobalScope&&"function"==typeof Ar().importScripts}function Ec(){return(Ec=(0,h.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(C){return null}})).apply(this,arguments)}const Cc="firebaseLocalStorageDb",_i="firebaseLocalStorage",Di="fbase_key";class ua{constructor(_){this.request=_}toPromise(){return new Promise((_,b)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{b(this.request.error)})})}}function Hs(C,_){return C.transaction([_i],_?"readwrite":"readonly").objectStore(_i)}function Dc(){const C=indexedDB.open(Cc,1);return new Promise((_,b)=>{C.addEventListener("error",()=>{b(C.error)}),C.addEventListener("upgradeneeded",()=>{const I=C.result;try{I.createObjectStore(_i,{keyPath:Di})}catch(H){b(H)}}),C.addEventListener("success",(0,h.Z)(function*(){const I=C.result;I.objectStoreNames.contains(_i)?_(I):(I.close(),yield function vu(){const C=indexedDB.deleteDatabase(Cc);return new ua(C).toPromise()}(),_(yield Dc()))}))})}function Tc(C,_,b){return ms.apply(this,arguments)}function ms(){return(ms=(0,h.Z)(function*(C,_,b){const I=Hs(C,!0).put({[Di]:_,value:b});return new ua(I).toPromise()})).apply(this,arguments)}function ca(){return(ca=(0,h.Z)(function*(C,_){const b=Hs(C,!1).get(_),I=yield new ua(b).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function ti(C,_){const b=Hs(C,!0).delete(_);return new ua(b).toPromise()}const Ic=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var b=this;return(0,h.Z)(function*(){return b.db||(b.db=yield Dc()),b.db})()}_withRetries(b){var I=this;return(0,h.Z)(function*(){let H=0;for(;;)try{const K=yield I._openDb();return yield b(K)}catch(K){if(H++>3)throw K;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var b=this;return(0,h.Z)(function*(){return Sn()?b.initializeReceiver():b.initializeSender()})()}initializeReceiver(){var b=this;return(0,h.Z)(function*(){b.receiver=Rl._getInstance(function Nl(){return Sn()?self:null}()),b.receiver._subscribe("keyChanged",function(){var I=(0,h.Z)(function*(H,K){return{keyProcessed:(yield b._poll()).includes(K.key)}});return function(H,K){return I.apply(this,arguments)}}()),b.receiver._subscribe("ping",function(){var I=(0,h.Z)(function*(H,K){return["keyChanged"]});return function(H,K){return I.apply(this,arguments)}}())})()}initializeSender(){var b=this;return(0,h.Z)(function*(){var I,H;if(b.activeServiceWorker=yield function Wa(){return Ec.apply(this,arguments)}(),!b.activeServiceWorker)return;b.sender=new uo(b.activeServiceWorker);const K=yield b.sender._send("ping",{},800);!K||(null===(I=K[0])||void 0===I?void 0:I.fulfilled)&&(null===(H=K[0])||void 0===H?void 0:H.value.includes("keyChanged"))&&(b.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(b){var I=this;return(0,h.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function wc(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:b},I.serviceWorkerReceiverAvailable?800:50)}catch(H){}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const b=yield Dc();return yield Tc(b,oo,"1"),yield ti(b,oo),!0}catch(b){}return!1})()}_withPendingWrite(b){var I=this;return(0,h.Z)(function*(){I.pendingWrites++;try{yield b()}finally{I.pendingWrites--}})()}_set(b,I){var H=this;return(0,h.Z)(function*(){return H._withPendingWrite((0,h.Z)(function*(){return yield H._withRetries(K=>Tc(K,b,I)),H.localCache[b]=I,H.notifyServiceWorker(b)}))})()}_get(b){var I=this;return(0,h.Z)(function*(){const H=yield I._withRetries(K=>function js(C,_){return ca.apply(this,arguments)}(K,b));return I.localCache[b]=H,H})()}_remove(b){var I=this;return(0,h.Z)(function*(){return I._withPendingWrite((0,h.Z)(function*(){return yield I._withRetries(H=>ti(H,b)),delete I.localCache[b],I.notifyServiceWorker(b)}))})()}_poll(){var b=this;return(0,h.Z)(function*(){const I=yield b._withRetries(Pe=>{const dt=Hs(Pe,!1).getAll();return new ua(dt).toPromise()});if(!I)return[];if(0!==b.pendingWrites)return[];const H=[],K=new Set;for(const{fbase_key:Pe,value:dt}of I)K.add(Pe),JSON.stringify(b.localCache[Pe])!==JSON.stringify(dt)&&(b.notifyListeners(Pe,dt),H.push(Pe));for(const Pe of Object.keys(b.localCache))b.localCache[Pe]&&!K.has(Pe)&&(b.notifyListeners(Pe,null),H.push(Pe));return H})()}notifyListeners(b,I){this.localCache[b]=I;const H=this.listeners[b];if(H)for(const K of Array.from(H))K(I)}startPolling(){var b=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return b._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(b,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[b]||(this.listeners[b]=new Set,this._get(b)),this.listeners[b].add(I)}_removeListener(b,I){this.listeners[b]&&(this.listeners[b].delete(I),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function Sc(C,_){return ye(C,"POST","/v2/accounts/mfaSignIn:start",Ae(C,_))}function Li(){return(Li=(0,h.Z)(function*(C){return(yield ye(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ho(C){return new Promise((_,b)=>{const I=document.createElement("script");I.setAttribute("src",C),I.onload=_,I.onerror=H=>{const K=We("internal-error");K.customData=H,b(K)},I.type="text/javascript",I.charset="UTF-8",function _u(){var C,_;return null!==(_=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==_?_:document}().appendChild(I)})}function ur(C){return`__${C}${Math.floor(1e6*Math.random())}`}const Vi=1e12;class Ol{constructor(_){this.auth=_,this.counter=Vi,this._widgets=new Map}render(_,b){const I=this.counter;return this._widgets.set(I,new Bi(_,this.auth.name,b||{})),this.counter++,I}reset(_){var b;const I=_||Vi;null===(b=this._widgets.get(I))||void 0===b||b.delete(),this._widgets.delete(I)}getResponse(_){var b;return(null===(b=this._widgets.get(_||Vi))||void 0===b?void 0:b.getResponse())||""}execute(_){var b=this;return(0,h.Z)(function*(){var I;return null===(I=b._widgets.get(_||Vi))||void 0===I||I.execute(),""})()}}class Bi{constructor(_,b,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const H="string"==typeof _?document.getElementById(_):_;De(H,"argument-error",{appName:b}),this.container=H,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Cg(C){const _=[],b="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<C;I++)_.push(b.charAt(Math.floor(Math.random()*b.length)));return _.join("")}(50);const{callback:_,"expired-callback":b}=this.params;if(_)try{_(this.responseToken)}catch(I){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,b)try{b()}catch(I){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const bu=ur("rcb"),xr=new zt(3e4,6e4);class uh{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Ar().grecaptcha}load(_,b=""){return De(function Au(C){return C.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C)}(b),_,"argument-error"),this.shouldResolveImmediately(b)?Promise.resolve(Ar().grecaptcha):new Promise((I,H)=>{const K=Ar().setTimeout(()=>{H(We(_,"network-request-failed"))},xr.get());Ar()[bu]=()=>{Ar().clearTimeout(K),delete Ar()[bu];const dt=Ar().grecaptcha;if(!dt)return void H(We(_,"internal-error"));const qt=dt.render;dt.render=(nn,Ln)=>{const mr=qt(nn,Ln);return this.counter++,mr},this.hostLanguage=b,I(dt)},Ho(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:bu,render:"explicit",hl:b})}`).catch(()=>{clearTimeout(K),H(We(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){return!!Ar().grecaptcha&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ch{load(_){return(0,h.Z)(function*(){return new Ol(_)})()}clearedOneInstance(){}}const fo="recaptcha",Bd={theme:"light",type:"image"};class Eu{constructor(_,b=Object.assign({},Bd),I){this.parameters=b,this.type=fo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=_t(I),this.isInvisible="invisible"===this.parameters.size,De("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const H="string"==typeof _?document.getElementById(_):_;De(H,this.auth,"argument-error"),this.container=H,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ch:new uh,this.validateStartingState()}verify(){var _=this;return(0,h.Z)(function*(){_.assertNotDestroyed();const b=yield _.render(),I=_.getAssertedRecaptcha();return I.getResponse(b)||new Promise(K=>{const Pe=dt=>{!dt||(_.tokenChangeListeners.delete(Pe),K(dt))};_.tokenChangeListeners.add(Pe),_.isInvisible&&I.execute(b)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){De(!this.parameters.sitekey,this.auth,"argument-error"),De(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),De("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return b=>{if(this.tokenChangeListeners.forEach(I=>I(b)),"function"==typeof _)_(b);else if("string"==typeof _){const I=Ar()[_];"function"==typeof I&&I(b)}}}assertNotDestroyed(){De(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,h.Z)(function*(){if(yield _.init(),!_.widgetId){let b=_.container;if(!_.isInvisible){const I=document.createElement("div");b.appendChild(I),b=I}_.widgetId=_.getAssertedRecaptcha().render(b,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,h.Z)(function*(){De(Wt()&&!Sn(),_.auth,"internal-error"),yield function jo(){let C=null;return new Promise(_=>{"complete"!==document.readyState?(C=()=>_(),window.addEventListener("load",C)):_()}).catch(_=>{throw C&&window.removeEventListener("load",C),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const b=yield function Uo(C){return Li.apply(this,arguments)}(_.auth);De(b,_.auth,"internal-error"),_.parameters.sitekey=b})()}getAssertedRecaptcha(){return De(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class qa{constructor(_,b){this.verificationId=_,this.onConfirmation=b}confirm(_){const b=fs._fromVerification(this.verificationId,_);return this.onConfirmation(b)}}function Rr(C,_,b){return fa.apply(this,arguments)}function fa(){return(fa=(0,h.Z)(function*(C,_,b){const I=_t(C),H=yield ns(I,_,(0,k.m9)(b));return new qa(H,K=>Ps(I,K))})).apply(this,arguments)}function Ui(C,_,b){return ni.apply(this,arguments)}function ni(){return(ni=(0,h.Z)(function*(C,_,b){const I=(0,k.m9)(C);yield ps(!1,I,"phone");const H=yield ns(I.auth,_,(0,k.m9)(b));return new qa(H,K=>Z(I,K))})).apply(this,arguments)}function Mc(C,_,b){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,h.Z)(function*(C,_,b){const I=(0,k.m9)(C),H=yield ns(I.auth,_,(0,k.m9)(b));return new qa(H,K=>Ee(I,K))})).apply(this,arguments)}function ns(C,_,b){return ho.apply(this,arguments)}function ho(){return(ho=(0,h.Z)(function*(C,_,b){var I;const H=yield b.verify();try{let K;if(De("string"==typeof H,C,"argument-error"),De(b.type===fo,C,"argument-error"),K="string"==typeof _?{phoneNumber:_}:_,"session"in K){const Pe=K.session;if("phoneNumber"in K)return De("enroll"===Pe.type,C,"internal-error"),(yield Pd(C,{idToken:Pe.credential,phoneEnrollmentInfo:{phoneNumber:K.phoneNumber,recaptchaToken:H}})).phoneSessionInfo.sessionInfo;{De("signin"===Pe.type,C,"internal-error");const dt=(null===(I=K.multiFactorHint)||void 0===I?void 0:I.uid)||K.multiFactorUid;return De(dt,C,"missing-multi-factor-info"),(yield Sc(C,{mfaPendingCredential:Pe.credential,mfaEnrollmentId:dt,phoneSignInInfo:{recaptchaToken:H}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Pe}=yield Fa(C,{phoneNumber:K.phoneNumber,recaptchaToken:H});return Pe}}finally{b._reset()}})).apply(this,arguments)}function wu(C,_){return zs.apply(this,arguments)}function zs(){return(zs=(0,h.Z)(function*(C,_){yield pr((0,k.m9)(C),_)})).apply(this,arguments)}let Pl=(()=>{class C{constructor(b){this.providerId=C.PROVIDER_ID,this.auth=_t(b)}verifyPhoneNumber(b,I){return ns(this.auth,b,(0,k.m9)(I))}static credential(b,I){return fs._fromVerification(b,I)}static credentialFromResult(b){return C.credentialFromTaggedObject(b)}static credentialFromError(b){return C.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{phoneNumber:I,temporaryProof:H}=b;return I&&H?fs._fromTokenResponse(I,H):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function Go(C,_){return _?Oe(_):(De(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class Fl extends Cn{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return Mr(_,this._buildIdpRequest())}_linkToIdToken(_,b){return Mr(_,this._buildIdpRequest(b))}_getReauthenticationResolver(_){return Mr(_,this._buildIdpRequest())}_buildIdpRequest(_){const b={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(b.idToken=_),b}}function Dg(C){return io(C.auth,new Fl(C),C.bypassAuthState)}function Xv(C){const{auth:_,user:b}=C;return De(b,_,"internal-error"),aa(b,new Fl(C),C.bypassAuthState)}function dh(C){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,h.Z)(function*(C){const{auth:_,user:b}=C;return De(b,_,"internal-error"),pr(b,new Fl(C),C.bypassAuthState)})).apply(this,arguments)}class xc{constructor(_,b,I,H,K=!1){this.auth=_,this.resolver=I,this.user=H,this.bypassAuthState=K,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(b)?b:[b]}execute(){var _=this;return new Promise(function(){var b=(0,h.Z)(function*(I,H){_.pendingPromise={resolve:I,reject:H};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(K){_.reject(K)}});return function(I,H){return b.apply(this,arguments)}}())}onAuthEvent(_){var b=this;return(0,h.Z)(function*(){const{urlResponse:I,sessionId:H,postBody:K,tenantId:Pe,error:dt,type:qt}=_;if(dt)return void b.reject(dt);const nn={auth:b.auth,requestUri:I,sessionId:H,tenantId:Pe||void 0,postBody:K||void 0,user:b.user,bypassAuthState:b.bypassAuthState};try{b.resolve(yield b.getIdpTask(qt)(nn))}catch(Ln){b.reject(Ln)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return Dg;case"linkViaPopup":case"linkViaRedirect":return dh;case"reauthViaPopup":case"reauthViaRedirect":return Xv;default:Qe(this.auth,"internal-error")}}resolve(_){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Za=new zt(2e3,1e4);function Tg(C,_,b){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,h.Z)(function*(C,_,b){const I=_t(C);ze(C,_,Oi);const H=Go(I,b);return new Ka(I,"signInViaPopup",_,H).executeNotNull()})).apply(this,arguments)}function Rc(C,_,b){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,h.Z)(function*(C,_,b){const I=(0,k.m9)(C);ze(I.auth,_,Oi);const H=Go(I.auth,b);return new Ka(I.auth,"reauthViaPopup",_,H,I).executeNotNull()})).apply(this,arguments)}function kc(C,_,b){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,h.Z)(function*(C,_,b){const I=(0,k.m9)(C);ze(I.auth,_,Oi);const H=Go(I.auth,b);return new Ka(I.auth,"linkViaPopup",_,H,I).executeNotNull()})).apply(this,arguments)}let Ka=(()=>{class C extends xc{constructor(b,I,H,K,Pe){super(b,I,K,Pe),this.provider=H,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var b=this;return(0,h.Z)(function*(){const I=yield b.execute();return De(I,b.auth,"internal-error"),I})()}onExecution(){var b=this;return(0,h.Z)(function*(){ue(1===b.filter.length,"Popup operations only handle one event");const I=lo();b.authWindow=yield b.resolver._openPopup(b.auth,b.provider,b.filter[0],I),b.authWindow.associatedEvent=I,b.resolver._originValidation(b.auth).catch(H=>{b.reject(H)}),b.resolver._isIframeWebStorageSupported(b.auth,H=>{H||b.reject(We(b.auth,"web-storage-unsupported"))}),b.pollUserCancellation()})()}get eventId(){var b;return(null===(b=this.authWindow)||void 0===b?void 0:b.associatedEvent)||null}cancel(){this.reject(We(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const b=()=>{var I,H;this.pollId=(null===(H=null===(I=this.authWindow)||void 0===I?void 0:I.window)||void 0===H?void 0:H.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(We(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(b,Za.get())};b()}}return C.currentPopupAction=null,C})();const $s=new Map;class zo extends xc{constructor(_,b,I=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],b,void 0,I),this.eventId=null}execute(){var _=()=>super.execute,b=this;return(0,h.Z)(function*(){let I=$s.get(b.auth._key());if(!I){try{const K=(yield function Ig(C,_){return po.apply(this,arguments)}(b.resolver,b.auth))?yield _().call(b):null;I=()=>Promise.resolve(K)}catch(H){I=()=>Promise.reject(H)}$s.set(b.auth._key(),I)}return b.bypassAuthState||$s.set(b.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(_){var b=()=>super.onAuthEvent,I=this;return(0,h.Z)(function*(){if("signInViaRedirect"===_.type)return b().call(I,_);if("unknown"!==_.type){if(_.eventId){const H=yield I.auth._redirectUserForId(_.eventId);if(H)return I.user=H,b().call(I,_);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function po(){return(po=(0,h.Z)(function*(C,_){const b=Du(_),I=Fc(C);if(!(yield I._isAvailable()))return!1;const H="true"===(yield I._get(b));return yield I._remove(b),H})).apply(this,arguments)}function $o(C,_){return pa.apply(this,arguments)}function pa(){return(pa=(0,h.Z)(function*(C,_){return Fc(C)._set(Du(_),"true")})).apply(this,arguments)}function fh(){$s.clear()}function Pc(C,_){$s.set(C._key(),_)}function Fc(C){return Oe(C._redirectPersistence)}function Du(C){return lt("pendingRedirect",C.config.apiKey,C.name)}function hh(C,_,b){return function Tu(C,_,b){return Iu.apply(this,arguments)}(C,_,b)}function Iu(){return(Iu=(0,h.Z)(function*(C,_,b){const I=_t(C);ze(C,_,Oi);const H=Go(I,b);return yield $o(H,I),H._openRedirect(I,_,"signInViaRedirect")})).apply(this,arguments)}function Ud(C,_,b){return function ui(C,_,b){return ga.apply(this,arguments)}(C,_,b)}function ga(){return(ga=(0,h.Z)(function*(C,_,b){const I=(0,k.m9)(C);ze(I.auth,_,Oi);const H=Go(I.auth,b);yield $o(H,I.auth);const K=yield qs(I);return H._openRedirect(I.auth,_,"reauthViaRedirect",K)})).apply(this,arguments)}function ph(C,_,b){return function Su(C,_,b){return go.apply(this,arguments)}(C,_,b)}function go(){return(go=(0,h.Z)(function*(C,_,b){const I=(0,k.m9)(C);ze(I.auth,_,Oi);const H=Go(I.auth,b);yield ps(!1,I,_.providerId),yield $o(H,I.auth);const K=yield qs(I);return H._openRedirect(I.auth,_,"linkViaRedirect",K)})).apply(this,arguments)}function Lc(C,_){return Hd.apply(this,arguments)}function Hd(){return(Hd=(0,h.Z)(function*(C,_){return yield _t(C)._initializationPromise,Qa(C,_,!1)})).apply(this,arguments)}function Qa(C,_){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,h.Z)(function*(C,_,b=!1){const I=_t(C),H=Go(I,_),Pe=yield new zo(I,H,b).execute();return Pe&&!b&&(delete Pe.user._redirectEventId,yield I._persistUserIfCurrent(Pe.user),yield I._setRedirectUser(null,_)),Pe})).apply(this,arguments)}function qs(C){return mo.apply(this,arguments)}function mo(){return(mo=(0,h.Z)(function*(C){const _=lo(`${C.uid}:::`);return C._redirectEventId=_,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),_})).apply(this,arguments)}class jd{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let b=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(_,I)&&(b=!0,this.sendToConsumer(_,I),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function Ya(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vl(C);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,b||(this.queuedRedirectEvent=_,b=!0)),b}sendToConsumer(_,b){var I;if(_.error&&!Vl(_)){const H=(null===(I=_.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";b.onError(We(this.auth,H))}else b.onAuthEvent(_)}isEventForConsumer(_,b){const I=null===b.eventId||!!_.eventId&&_.eventId===b.eventId;return b.filter.includes(_.type)&&I}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ll(_))}saveEventToCache(_){this.cachedEventUids.add(Ll(_)),this.lastProcessedEventTime=Date.now()}}function Ll(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(_=>_).join("-")}function Vl({type:C,error:_}){return"unknown"===C&&"auth/no-auth-event"===(null==_?void 0:_.code)}function Mu(C){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,h.Z)(function*(C,_={}){return ye(C,"GET","/v1/projects",_)})).apply(this,arguments)}const Gd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yo=/^https?/;function xu(){return(xu=(0,h.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:_}=yield Mu(C);for(const b of _)try{if(zd(b))return}catch(I){}Qe(C,"unauthorized-domain")})).apply(this,arguments)}function zd(C){const _=Re(),{protocol:b,hostname:I}=new URL(_);if(C.startsWith("chrome-extension://")){const Pe=new URL(C);return""===Pe.hostname&&""===I?"chrome-extension:"===b&&C.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===b&&Pe.hostname===I}if(!yo.test(b))return!1;if(Gd.test(C))return I===C;const H=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+H+"|"+H+")$","i").test(I)}const Vc=new zt(3e4,6e4);function Ru(){const C=Ar().___jsl;if(null==C?void 0:C.H)for(const _ of Object.keys(C.H))if(C.H[_].r=C.H[_].r||[],C.H[_].L=C.H[_].L||[],C.H[_].r=[...C.H[_].L],C.CP)for(let b=0;b<C.CP.length;b++)C.CP[b]=null}let Xa=null;function gh(C){return Xa=Xa||function Bc(C){return new Promise((_,b)=>{var I,H,K;function Pe(){Ru(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{Ru(),b(We(C,"network-request-failed"))},timeout:Vc.get()})}if(null===(H=null===(I=Ar().gapi)||void 0===I?void 0:I.iframes)||void 0===H?void 0:H.Iframe)_(gapi.iframes.getContext());else{if(!(null===(K=Ar().gapi)||void 0===K?void 0:K.load)){const dt=ur("iframefcb");return Ar()[dt]=()=>{gapi.load?Pe():b(We(C,"network-request-failed"))},Ho(`https://apis.google.com/js/api.js?onload=${dt}`).catch(qt=>b(qt))}Pe()}}).catch(_=>{throw Xa=null,_})}(C),Xa}const mh=new zt(5e3,15e3),ma={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mg(C){const _=C.config;De(_.authDomain,C,"auth-domain-config-required");const b=_.emulator?Wn(_,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,I={apiKey:_.apiKey,appName:C.name,v:R.SDK_VERSION},H=Sg.get(C.config.apiHost);H&&(I.eid=H);const K=C._getFrameworks();return K.length&&(I.fw=K.join(",")),`${b}?${(0,k.xO)(I).slice(1)}`}function Hl(){return Hl=(0,h.Z)(function*(C){const _=yield gh(C),b=Ar().gapi;return De(b,C,"internal-error"),_.open({where:document.body,url:Mg(C),messageHandlersFilter:b.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ma,dontclear:!0},I=>new Promise(function(){var H=(0,h.Z)(function*(K,Pe){yield I.restyle({setHideOnLeave:!1});const dt=We(C,"network-request-failed"),qt=Ar().setTimeout(()=>{Pe(dt)},mh.get());function nn(){Ar().clearTimeout(qt),K(I)}I.ping(nn).then(nn,()=>{Pe(dt)})});return function(K,Pe){return H.apply(this,arguments)}}()))}),Hl.apply(this,arguments)}const Uc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Wd{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(_){}}}function rs(C,_,b,I,H,K){De(C.config.authDomain,C,"auth-domain-config-required"),De(C.config.apiKey,C,"invalid-api-key");const Pe={apiKey:C.config.apiKey,appName:C.name,authType:b,redirectUrl:I,v:R.SDK_VERSION,eventId:H};if(_ instanceof Oi){_.setDefaultLanguage(C.languageCode),Pe.providerId=_.providerId||"",(0,k.xb)(_.getCustomParameters())||(Pe.customParameters=JSON.stringify(_.getCustomParameters()));for(const[qt,nn]of Object.entries(K||{}))Pe[qt]=nn}if(_ instanceof Ci){const qt=_.getScopes().filter(nn=>""!==nn);qt.length>0&&(Pe.scopes=qt.join(","))}C.tenantId&&(Pe.tid=C.tenantId);const dt=Pe;for(const qt of Object.keys(dt))void 0===dt[qt]&&delete dt[qt];return`${function va({config:C}){return C.emulator?Wn(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,k.xO)(dt).slice(1)}`}const ya="webStorageSupport",Gl=class Gc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xl,this._completeRedirectFn=Qa,this._overrideRedirectResult=Pc}_openPopup(_,b,I,H){var K=this;return(0,h.Z)(function*(){var Pe;ue(null===(Pe=K.eventManagers[_._key()])||void 0===Pe?void 0:Pe.manager,"_initialize() not called before _openPopup()");const dt=rs(_,b,I,Re(),H);return function vh(C,_,b,I=500,H=600){const K=Math.max((window.screen.availHeight-H)/2,0).toString(),Pe=Math.max((window.screen.availWidth-I)/2,0).toString();let dt="";const qt=Object.assign(Object.assign({},Uc),{width:I.toString(),height:H.toString(),top:K,left:Pe}),nn=(0,k.z$)().toLowerCase();b&&(dt=et(nn)?"_blank":b),de(nn)&&(_=_||"http://localhost",qt.scrollbars="yes");const Ln=Object.entries(qt).reduce((Ii,[vs,$l])=>`${Ii}${vs}=${$l},`,"");if(function Fr(C=(0,k.z$)()){var _;return Ft(C)&&!!(null===(_=window.navigator)||void 0===_?void 0:_.standalone)}(nn)&&"_self"!==dt)return function Hc(C,_){const b=document.createElement("a");b.href=C,b.target=_;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),b.dispatchEvent(I)}(_||"",dt),new Wd(null);const mr=window.open(_||"",dt,Ln);De(mr,C,"popup-blocked");try{mr.focus()}catch(Ii){}return new Wd(mr)}(_,dt,lo())})()}_openRedirect(_,b,I,H){var K=this;return(0,h.Z)(function*(){return yield K._originValidation(_),function Gr(C){Ar().location.href=C}(rs(_,b,I,Re(),H)),new Promise(()=>{})})()}_initialize(_){const b=_._key();if(this.eventManagers[b]){const{manager:H,promise:K}=this.eventManagers[b];return H?Promise.resolve(H):(ue(K,"If manager is not set, promise should be"),K)}const I=this.initAndGetManager(_);return this.eventManagers[b]={promise:I},I.catch(()=>{delete this.eventManagers[b]}),I}initAndGetManager(_){var b=this;return(0,h.Z)(function*(){const I=yield function ey(C){return Hl.apply(this,arguments)}(_),H=new jd(_);return I.register("authEvent",K=>(De(null==K?void 0:K.authEvent,_,"invalid-auth-event"),{status:H.onEvent(K.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),b.eventManagers[_._key()]={manager:H},b.iframes[_._key()]=I,H})()}_isIframeWebStorageSupported(_,b){this.iframes[_._key()].send(ya,{type:ya},H=>{var K;const Pe=null===(K=null==H?void 0:H[0])||void 0===K?void 0:K[ya];void 0!==Pe&&b(!!Pe),Qe(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const b=_._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function Bl(C){return xu.apply(this,arguments)}(_)),this.originValidationPromises[b]}get _shouldInitProactively(){return Dr()||ce()||Ft()}};class zc extends class ku{constructor(_){this.factorId=_}_process(_,b,I){switch(b.type){case"enroll":return this._finalizeEnroll(_,b.credential,I);case"signin":return this._finalizeSignIn(_,b.credential);default:return Me("unexpected MultiFactorSessionType")}}}{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new zc(_)}_finalizeEnroll(_,b,I){return function Eg(C,_){return ye(C,"POST","/v2/accounts/mfaEnrollment:finalize",Ae(C,_))}(_,{idToken:b,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,b){return function Bo(C,_){return ye(C,"POST","/v2/accounts/mfaSignIn:finalize",Ae(C,_))}(_,{mfaPendingCredential:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Zd=(()=>{class C{constructor(){}static assertion(b){return zc._fromCredential(b)}}return C.FACTOR_ID="phone",C})();var zl="@firebase/auth";class yh{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var b=this;return(0,h.Z)(function*(){return b.assertAuthConfigured(),yield b.auth._initializationPromise,b.auth.currentUser?{accessToken:yield b.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const b=this.auth.onIdTokenChanged(I=>{var H;_((null===(H=I)||void 0===H?void 0:H.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,b),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const b=this.internalListeners.get(_);!b||(this.internalListeners.delete(_),b(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Kd(C=(0,R.getApp)()){const _=(0,R._getProvider)(C,"auth");return _.isInitialized()?_.getImmediate():function Le(C,_){const b=(0,R._getProvider)(C,"auth");if(b.isInitialized()){const H=b.getImmediate(),K=b.getOptions();if((0,k.vZ)(K,null!=_?_:{}))return H;Qe(H,"already-initialized")}return b.initialize({options:_})}(C,{popupRedirectResolver:Gl,persistence:[Ic,Ml,xl]})}!function _h(C){(0,R._registerComponent)(new we.wA("auth",(_,{options:b})=>{const I=_.getProvider("app").getImmediate(),H=_.getProvider("heartbeat"),{apiKey:K,authDomain:Pe}=I.options;return((dt,qt)=>{De(K&&!K.includes(":"),"invalid-api-key",{appName:dt.name}),De(!(null==Pe?void 0:Pe.includes(":")),"argument-error",{appName:dt.name});const nn={apiKey:K,authDomain:Pe,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kr(C)},Ln=new Yr(dt,qt,nn);return function Xe(C,_){const b=(null==_?void 0:_.persistence)||[],I=(Array.isArray(b)?b:[b]).map(Oe);(null==_?void 0:_.errorMap)&&C._updateErrorMap(_.errorMap),C._initializeWithPersistence(I,null==_?void 0:_.popupRedirectResolver)}(Ln,b),Ln})(I,H)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,b,I)=>{_.getProvider("auth-internal").initialize()})),(0,R._registerComponent)(new we.wA("auth-internal",_=>{const b=_t(_.getProvider("auth").getImmediate());return new yh(b)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,R.registerVersion)(zl,"0.20.1",function $c(C){switch(C){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(C)),(0,R.registerVersion)(zl,"0.20.1","esm2017")}("Browser")},2090:(Rt,$e,$)=>{"use strict";$.d($e,{$s:()=>gn,BH:()=>O,G6:()=>De,L:()=>Se,LL:()=>Re,Mn:()=>ze,Sg:()=>U,UG:()=>ae,US:()=>we,ZB:()=>le,ZR:()=>Xe,b$:()=>Qe,d:()=>We,eu:()=>ue,hl:()=>Me,jU:()=>ne,m9:()=>wn,ne:()=>Ze,pd:()=>hn,r3:()=>Ae,ru:()=>He,tV:()=>Ce,uI:()=>he,vZ:()=>At,w1:()=>Ye,xO:()=>Ot,xb:()=>Fe,z$:()=>te,zI:()=>Ie,zd:()=>on});const G=function(oe){const ge=[];let B=0;for(let Q=0;Q<oe.length;Q++){let W=oe.charCodeAt(Q);W<128?ge[B++]=W:W<2048?(ge[B++]=W>>6|192,ge[B++]=63&W|128):55296==(64512&W)&&Q+1<oe.length&&56320==(64512&oe.charCodeAt(Q+1))?(W=65536+((1023&W)<<10)+(1023&oe.charCodeAt(++Q)),ge[B++]=W>>18|240,ge[B++]=W>>12&63|128,ge[B++]=W>>6&63|128,ge[B++]=63&W|128):(ge[B++]=W>>12|224,ge[B++]=W>>6&63|128,ge[B++]=63&W|128)}return ge},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(oe,ge){if(!Array.isArray(oe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const B=ge?this.byteToCharMapWebSafe_:this.byteToCharMap_,Q=[];for(let W=0;W<oe.length;W+=3){const ie=oe[W],re=W+1<oe.length,fe=re?oe[W+1]:0,ke=W+2<oe.length,st=ke?oe[W+2]:0;let $t=(15&fe)<<2|st>>6,Te=63&st;ke||(Te=64,re||($t=64)),Q.push(B[ie>>2],B[(3&ie)<<4|fe>>4],B[$t],B[Te])}return Q.join("")},encodeString(oe,ge){return this.HAS_NATIVE_SUPPORT&&!ge?btoa(oe):this.encodeByteArray(G(oe),ge)},decodeString(oe,ge){return this.HAS_NATIVE_SUPPORT&&!ge?atob(oe):function(oe){const ge=[];let B=0,Q=0;for(;B<oe.length;){const W=oe[B++];if(W<128)ge[Q++]=String.fromCharCode(W);else if(W>191&&W<224){const ie=oe[B++];ge[Q++]=String.fromCharCode((31&W)<<6|63&ie)}else if(W>239&&W<365){const ke=((7&W)<<18|(63&oe[B++])<<12|(63&oe[B++])<<6|63&oe[B++])-65536;ge[Q++]=String.fromCharCode(55296+(ke>>10)),ge[Q++]=String.fromCharCode(56320+(1023&ke))}else{const ie=oe[B++],re=oe[B++];ge[Q++]=String.fromCharCode((15&W)<<12|(63&ie)<<6|63&re)}}return ge.join("")}(this.decodeStringToByteArray(oe,ge))},decodeStringToByteArray(oe,ge){this.init_();const B=ge?this.charToByteMapWebSafe_:this.charToByteMap_,Q=[];for(let W=0;W<oe.length;){const ie=B[oe.charAt(W++)],fe=W<oe.length?B[oe.charAt(W)]:0;++W;const st=W<oe.length?B[oe.charAt(W)]:64;++W;const lt=W<oe.length?B[oe.charAt(W)]:64;if(++W,null==ie||null==fe||null==st||null==lt)throw Error();Q.push(ie<<2|fe>>4),64!==st&&(Q.push(fe<<4&240|st>>2),64!==lt&&Q.push(st<<6&192|lt))}return Q},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let oe=0;oe<this.ENCODED_VALS.length;oe++)this.byteToCharMap_[oe]=this.ENCODED_VALS.charAt(oe),this.charToByteMap_[this.byteToCharMap_[oe]]=oe,this.byteToCharMapWebSafe_[oe]=this.ENCODED_VALS_WEBSAFE.charAt(oe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[oe]]=oe,oe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(oe)]=oe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(oe)]=oe)}}},Se=function(oe){return function(oe){const ge=G(oe);return we.encodeByteArray(ge,!0)}(oe).replace(/\./g,"")},Ce=function(oe){try{return we.decodeString(oe,!0)}catch(ge){console.error("base64Decode failed: ",ge)}return null};function le(oe,ge){if(!(ge instanceof Object))return ge;switch(ge.constructor){case Date:return new Date(ge.getTime());case Object:void 0===oe&&(oe={});break;case Array:oe=[];break;default:return ge}for(const B in ge)!ge.hasOwnProperty(B)||!D(B)||(oe[B]=le(oe[B],ge[B]));return oe}function D(oe){return"__proto__"!==oe}class O{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ge,B)=>{this.resolve=ge,this.reject=B})}wrapCallback(ge){return(B,Q)=>{B?this.reject(B):this.resolve(Q),"function"==typeof ge&&(this.promise.catch(()=>{}),1===ge.length?ge(B):ge(B,Q))}}}function U(oe,ge){if(oe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Q=ge||"demo-project",W=oe.iat||0,ie=oe.sub||oe.user_id;if(!ie)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const re=Object.assign({iss:`https://securetoken.google.com/${Q}`,aud:Q,iat:W,exp:W+3600,auth_time:W,sub:ie,user_id:ie,firebase:{sign_in_provider:"custom",identities:{}}},oe);return[Se(JSON.stringify({alg:"none",type:"JWT"})),Se(JSON.stringify(re)),""].join(".")}function te(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function he(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(te())}function ae(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(oe){return!1}}function ne(){return"object"==typeof self&&self.self===self}function He(){const oe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof oe&&void 0!==oe.id}function Qe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function We(){return te().indexOf("Electron/")>=0}function Ye(){const oe=te();return oe.indexOf("MSIE ")>=0||oe.indexOf("Trident/")>=0}function ze(){return te().indexOf("MSAppHost/")>=0}function De(){return!ae()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Me(){return"object"==typeof indexedDB}function ue(){return new Promise((oe,ge)=>{try{let B=!0;const Q="validate-browser-context-for-indexeddb-analytics-module",W=self.indexedDB.open(Q);W.onsuccess=()=>{W.result.close(),B||self.indexedDB.deleteDatabase(Q),oe(!0)},W.onupgradeneeded=()=>{B=!1},W.onerror=()=>{var ie;ge((null===(ie=W.error)||void 0===ie?void 0:ie.message)||"")}}catch(B){ge(B)}})}function Ie(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Xe extends Error{constructor(ge,B,Q){super(B),this.code=ge,this.customData=Q,this.name="FirebaseError",Object.setPrototypeOf(this,Xe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Re.prototype.create)}}class Re{constructor(ge,B,Q){this.service=ge,this.serviceName=B,this.errors=Q}create(ge,...B){const Q=B[0]||{},W=`${this.service}/${ge}`,ie=this.errors[ge],re=ie?function Wt(oe,ge){return oe.replace(Jt,(B,Q)=>{const W=ge[Q];return null!=W?String(W):`<${Q}?>`})}(ie,Q):"Error";return new Xe(W,`${this.serviceName}: ${re} (${W}).`,Q)}}const Jt=/\{\$([^}]+)}/g;function Ae(oe,ge){return Object.prototype.hasOwnProperty.call(oe,ge)}function Fe(oe){for(const ge in oe)if(Object.prototype.hasOwnProperty.call(oe,ge))return!1;return!0}function At(oe,ge){if(oe===ge)return!0;const B=Object.keys(oe),Q=Object.keys(ge);for(const W of B){if(!Q.includes(W))return!1;const ie=oe[W],re=ge[W];if(qe(ie)&&qe(re)){if(!At(ie,re))return!1}else if(ie!==re)return!1}for(const W of Q)if(!B.includes(W))return!1;return!0}function qe(oe){return null!==oe&&"object"==typeof oe}function Ot(oe){const ge=[];for(const[B,Q]of Object.entries(oe))Array.isArray(Q)?Q.forEach(W=>{ge.push(encodeURIComponent(B)+"="+encodeURIComponent(W))}):ge.push(encodeURIComponent(B)+"="+encodeURIComponent(Q));return ge.length?"&"+ge.join("&"):""}function on(oe){const ge={};return oe.replace(/^\?/,"").split("&").forEach(Q=>{if(Q){const[W,ie]=Q.split("=");ge[decodeURIComponent(W)]=decodeURIComponent(ie)}}),ge}function hn(oe){const ge=oe.indexOf("?");if(!ge)return"";const B=oe.indexOf("#",ge);return oe.substring(ge,B>0?B:void 0)}function Ze(oe,ge){const B=new Et(oe,ge);return B.subscribe.bind(B)}class Et{constructor(ge,B){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=B,this.task.then(()=>{ge(this)}).catch(Q=>{this.error(Q)})}next(ge){this.forEachObserver(B=>{B.next(ge)})}error(ge){this.forEachObserver(B=>{B.error(ge)}),this.close(ge)}complete(){this.forEachObserver(ge=>{ge.complete()}),this.close()}subscribe(ge,B,Q){let W;if(void 0===ge&&void 0===B&&void 0===Q)throw new Error("Missing Observer.");W=function vt(oe,ge){if("object"!=typeof oe||null===oe)return!1;for(const B of ge)if(B in oe&&"function"==typeof oe[B])return!0;return!1}(ge,["next","error","complete"])?ge:{next:ge,error:B,complete:Q},void 0===W.next&&(W.next=Pt),void 0===W.error&&(W.error=Pt),void 0===W.complete&&(W.complete=Pt);const ie=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?W.error(this.finalError):W.complete()}catch(re){}}),this.observers.push(W),ie}unsubscribeOne(ge){void 0===this.observers||void 0===this.observers[ge]||(delete this.observers[ge],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ge){if(!this.finalized)for(let B=0;B<this.observers.length;B++)this.sendOne(B,ge)}sendOne(ge,B){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ge])try{B(this.observers[ge])}catch(Q){"undefined"!=typeof console&&console.error&&console.error(Q)}})}close(ge){this.finalized||(this.finalized=!0,void 0!==ge&&(this.finalError=ge),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pt(){}function gn(oe,ge=1e3,B=2){const Q=ge*Math.pow(B,oe),W=Math.round(.5*Q*(Math.random()-.5)*2);return Math.min(144e5,Q+W)}function wn(oe){return oe&&oe._delegate?oe._delegate:oe}},9356:(Rt,$e,$)=>{"use strict";$.r($e),$.d($e,{BASE_OPTION_DEFAULTS:()=>Ns,BASE_OPTION_REFINERS:()=>du,BaseComponent:()=>ur,BgEvent:()=>Ug,CalendarApi:()=>za,CalendarContent:()=>H,CalendarDataManager:()=>_o,CalendarDataProvider:()=>ji,CalendarRoot:()=>dt,Component:()=>R,ContentHook:()=>Eu,CustomContentRenderContext:()=>Bd,DateComponent:()=>Ol,DateEnv:()=>br,DateProfileGenerator:()=>Go,DayCellContent:()=>Ch,DayCellRoot:()=>ay,DayHeader:()=>Wl,DaySeriesModel:()=>Yd,DayTableModel:()=>Pu,DelayedRunner:()=>Bc,ElementDragging:()=>Ou,ElementScrollController:()=>Ic,Emitter:()=>ca,EventApi:()=>ei,EventRoot:()=>rl,EventSourceApi:()=>D,Fragment:()=>be,Interaction:()=>ku,MoreLinkRoot:()=>ly,MountHook:()=>qa,NamedTimeZoneImpl:()=>vh,NowIndicatorRoot:()=>Vg,NowTimer:()=>$l,PositionCache:()=>yu,RefMap:()=>Ng,RenderHook:()=>fo,ScrollController:()=>kl,ScrollResponder:()=>Uo,Scroller:()=>Ah,SegHierarchy:()=>Hc,SimpleScrollGrid:()=>Fg,Slicer:()=>Jd,Splitter:()=>xl,StandardEvent:()=>wh,TableDateCell:()=>mr,TableDowCell:()=>vs,Theme:()=>Bo,ViewApi:()=>pu,ViewContextType:()=>Li,ViewRoot:()=>ni,WeekNumberRoot:()=>Zc,WindowScrollController:()=>Sc,addDays:()=>Ze,addDurations:()=>si,addMs:()=>Et,addWeeks:()=>dn,allowContextMenu:()=>wr,allowSelection:()=>Wn,applyMutationToEventStore:()=>Vs,applyStyle:()=>He,applyStyleProp:()=>Qe,asCleanDays:()=>Dr,asRoughMinutes:()=>Be,asRoughMs:()=>Bt,asRoughSeconds:()=>ct,binarySearch:()=>Gl,buildClassNameNormalizer:()=>Rr,buildEntryKey:()=>qd,buildEventApis:()=>Dl,buildEventRangeKey:()=>Fs,buildHashFromArray:()=>st,buildIsoString:()=>Cn,buildNavLinkAttrs:()=>Sn,buildSegCompareObj:()=>Pn,buildSegTimeText:()=>Ba,collectFromHash:()=>ce,combineEventUis:()=>Hr,compareByFieldSpec:()=>ye,compareByFieldSpecs:()=>Ae,compareNumbers:()=>qe,compareObjs:()=>Te,computeEarliestSegStart:()=>zg,computeEdges:()=>Di,computeFallbackHeaderFormat:()=>qt,computeHeightAndMargins:()=>Dc,computeInnerRect:()=>ua,computeRect:()=>Hs,computeSegDraggable:()=>es,computeSegEndResizable:()=>so,computeSegStartResizable:()=>ts,computeShrinkWidth:()=>ty,computeSmallestCellWidth:()=>on,computeVisibleDayRange:()=>ps,config:()=>yh,constrainPoint:()=>gu,createAriaClickAttrs:()=>Xe,createContext:()=>Se,createDuration:()=>Ft,createElement:()=>G,createEmptyEventStore:()=>li,createEventInstance:()=>Q,createEventUi:()=>Os,createFormatter:()=>Ir,createPlugin:()=>Bi,createPortal:()=>Ce,createRef:()=>we,diffDates:()=>aa,diffDayAndTime:()=>xn,diffDays:()=>vt,diffPoints:()=>wg,diffWeeks:()=>Xt,diffWholeDays:()=>zn,diffWholeWeeks:()=>En,disableCursor:()=>er,elementClosest:()=>U,elementMatches:()=>te,enableCursor:()=>St,eventTupleToStore:()=>Oi,filterEventStoreDefs:()=>ia,filterHash:()=>re,findDirectChildren:()=>ae,findElements:()=>he,flexibleCompare:()=>Fe,flushSync:()=>J,formatDate:()=>Sl,formatDayString:()=>hr,formatIsoTimeString:()=>Wr,formatRange:()=>bc,getAllowYScrolling:()=>ry,getCanVGrowWithinCell:()=>ao,getClippingParents:()=>ms,getDateMeta:()=>Rl,getDayClassNames:()=>lo,getDefaultEventEnd:()=>Ls,getElRoot:()=>Ye,getElSeg:()=>sr,getEntrySpanEnd:()=>jc,getEventClassNames:()=>Dn,getEventTargetViaRoot:()=>We,getIsRtlScrollbarOnLeft:()=>Ec,getRectCenter:()=>Ld,getRelevantEvents:()=>Ci,getScrollGridClassNames:()=>ci,getScrollbarWidths:()=>Cc,getSectionClassNames:()=>Lu,getSectionHasLiquidHeight:()=>ny,getSegAnchorAttrs:()=>gr,getSegMeta:()=>ot,getSlotClassNames:()=>uo,getStickyFooterScrollbar:()=>Pg,getStickyHeaderDates:()=>iy,getUnequalProps:()=>$t,getUniqueDomId:()=>mt,globalLocales:()=>oh,globalPlugins:()=>zd,greatestDurationDenominator:()=>On,groupIntersectingEntries:()=>rs,guid:()=>Jt,hasBgRendering:()=>Dt,hasShrinkWidth:()=>Og,identity:()=>tt,interactionSettingsStore:()=>zl,interactionSettingsToStore:()=>Zd,intersectRanges:()=>Ps,intersectRects:()=>lh,intersectSpans:()=>ya,isArraysEqual:()=>mi,isColPropsEqual:()=>Gi,isDateSelectionValid:()=>Wc,isDateSpansEqual:()=>pc,isInt:()=>Ot,isInteractionValid:()=>tl,isMultiDayRange:()=>qn,isPropsEqual:()=>lt,isPropsValid:()=>ql,isValidDate:()=>ge,joinSpans:()=>va,listenBySelector:()=>ue,mapHash:()=>fe,memoize:()=>Bn,memoizeArraylike:()=>Lr,memoizeHashlike:()=>cs,memoizeObjArg:()=>Qi,mergeEventStores:()=>no,multiplyDuration:()=>eo,padStart:()=>at,parseBusinessHours:()=>Lo,parseClassNames:()=>ks,parseDragMeta:()=>_h,parseEventDef:()=>ro,parseFieldSpecs:()=>An,parseMarker:()=>Bs,pointInsideRect:()=>Fd,preventContextMenu:()=>Un,preventDefault:()=>De,preventSelection:()=>zt,rangeContainsMarker:()=>Ee,rangeContainsRange:()=>q,rangesEqual:()=>la,rangesIntersect:()=>Z,refineEventDef:()=>Oo,refineProps:()=>ki,removeElement:()=>O,removeExact:()=>Rs,render:()=>ee,renderChunkContent:()=>Fu,renderFill:()=>Bg,renderMicroColGroup:()=>Eh,renderScrollShim:()=>bo,requestJson:()=>Qa,sanitizeShrinkWidth:()=>kg,setElSeg:()=>cn,setRef:()=>Vi,sliceEventStore:()=>yt,sliceEvents:()=>Wd,sortEventSegs:()=>or,startOfDay:()=>ln,translateRect:()=>oo,triggerDateSelect:()=>Xr,unmountComponentAtNode:()=>le,unpromisify:()=>js,version:()=>fy,whenTransitionDone:()=>Le,wholeDivideDurations:()=>In}),$(4602);var k=$(655);if("undefined"==typeof FullCalendarVDom)throw new Error("Please import the top-level fullcalendar lib before attempting to import a plugin.");var R=FullCalendarVDom.Component,G=FullCalendarVDom.createElement,ee=FullCalendarVDom.render,we=FullCalendarVDom.createRef,be=FullCalendarVDom.Fragment,Se=FullCalendarVDom.createContext,Ce=FullCalendarVDom.createPortal,J=FullCalendarVDom.flushSync,le=FullCalendarVDom.unmountComponentAtNode,D=function(){function d(c,p){this.context=c,this.internalEventSource=p}return d.prototype.remove=function(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})},d.prototype.refetch=function(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})},Object.defineProperty(d.prototype,"id",{get:function(){return this.internalEventSource.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"url",{get:function(){return this.internalEventSource.meta.url},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"format",{get:function(){return this.internalEventSource.meta.format},enumerable:!1,configurable:!0}),d}();function O(d){d.parentNode&&d.parentNode.removeChild(d)}function U(d,c){if(d.closest)return d.closest(c);if(!document.documentElement.contains(d))return null;do{if(te(d,c))return d;d=d.parentElement||d.parentNode}while(null!==d&&1===d.nodeType);return null}function te(d,c){return(d.matches||d.matchesSelector||d.msMatchesSelector).call(d,c)}function he(d,c){for(var p=d instanceof HTMLElement?[d]:d,v=[],w=0;w<p.length;w+=1)for(var S=p[w].querySelectorAll(c),N=0;N<S.length;N+=1)v.push(S[N]);return v}function ae(d,c){for(var p=d instanceof HTMLElement?[d]:d,v=[],w=0;w<p.length;w+=1)for(var S=p[w].children,N=0;N<S.length;N+=1){var L=S[N];(!c||te(L,c))&&v.push(L)}return v}var ne=/(top|left|right|bottom|width|height)$/i;function He(d,c){for(var p in c)Qe(d,p,c[p])}function Qe(d,c,p){d.style[c]=null==p?"":"number"==typeof p&&ne.test(c)?p+"px":p}function We(d){var c,p;return null!==(p=null===(c=d.composedPath)||void 0===c?void 0:c.call(d)[0])&&void 0!==p?p:d.target}function Ye(d){return d.getRootNode?d.getRootNode():document}var ze=0;function mt(){return"fc-dom-"+(ze+=1)}function De(d){d.preventDefault()}function ue(d,c,p,v){var w=function Me(d,c){return function(p){var v=U(p.target,d);v&&c.call(v,p,v)}}(p,v);return d.addEventListener(c,w),function(){d.removeEventListener(c,w)}}var Oe=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function Le(d,c){var p=function(v){c(v),Oe.forEach(function(w){d.removeEventListener(w,p)})};Oe.forEach(function(v){d.addEventListener(v,p)})}function Xe(d){return(0,k.__assign)({onClick:d},Re(d))}function Re(d){return{tabIndex:0,onKeyDown:function(c){("Enter"===c.key||" "===c.key)&&(d(c),c.preventDefault())}}}var Wt=0;function Jt(){return String(Wt+=1)}function er(){document.body.classList.add("fc-not-allowed")}function St(){document.body.classList.remove("fc-not-allowed")}function zt(d){d.classList.add("fc-unselectable"),d.addEventListener("selectstart",De)}function Wn(d){d.classList.remove("fc-unselectable"),d.removeEventListener("selectstart",De)}function Un(d){d.addEventListener("contextmenu",De)}function wr(d){d.removeEventListener("contextmenu",De)}function An(d){var v,w,c=[],p=[];for("string"==typeof d?p=d.split(/\s*,\s*/):"function"==typeof d?p=[d]:Array.isArray(d)&&(p=d),v=0;v<p.length;v+=1)"string"==typeof(w=p[v])?c.push("-"===w.charAt(0)?{field:w.substring(1),order:-1}:{field:w,order:1}):"function"==typeof w&&c.push({func:w});return c}function Ae(d,c,p){var v,w;for(v=0;v<p.length;v+=1)if(w=ye(d,c,p[v]))return w;return 0}function ye(d,c,p){return p.func?p.func(d,c):Fe(d[p.field],c[p.field])*(p.order||1)}function Fe(d,c){return d||c?null==c?-1:null==d?1:"string"==typeof d||"string"==typeof c?String(d).localeCompare(String(c)):d-c:0}function at(d,c){var p=String(d);return"000".substr(0,c-p.length)+p}function At(d,c,p){return"function"==typeof d?d.apply(void 0,c):"string"==typeof d?c.reduce(function(v,w,S){return v.replace("$"+S,w||"")},d):p}function qe(d,c){return d-c}function Ot(d){return d%1==0}function on(d){var c=d.querySelector(".fc-scrollgrid-shrink-frame"),p=d.querySelector(".fc-scrollgrid-shrink-cushion");if(!c)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!p)throw new Error("needs fc-scrollgrid-shrink-cushion className");return d.getBoundingClientRect().width-c.getBoundingClientRect().width+p.getBoundingClientRect().width}var hn=["sun","mon","tue","wed","thu","fri","sat"];function dn(d,c){var p=wn(d);return p[2]+=7*c,oe(p)}function Ze(d,c){var p=wn(d);return p[2]+=c,oe(p)}function Et(d,c){var p=wn(d);return p[6]+=c,oe(p)}function Xt(d,c){return vt(d,c)/7}function vt(d,c){return(c.valueOf()-d.valueOf())/864e5}function xn(d,c){var p=ln(d),v=ln(c);return{years:0,months:0,days:Math.round(vt(p,v)),milliseconds:c.valueOf()-v.valueOf()-(d.valueOf()-p.valueOf())}}function En(d,c){var p=zn(d,c);return null!==p&&p%7==0?p/7:null}function zn(d,c){return B(d)===B(c)?Math.round(vt(d,c)):null}function ln(d){return oe([d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()])}function Nr(d,c,p,v){var w=oe([c,0,1+gn(c,p,v)]),S=ln(d),N=Math.round(vt(w,S));return Math.floor(N/7)+1}function gn(d,c,p){var v=7+c-p;return-(7+oe([d,0,v]).getUTCDay()-c)%7+v-1}function Cr(d){return[d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),d.getMinutes(),d.getSeconds(),d.getMilliseconds()]}function rr(d){return new Date(d[0],d[1]||0,null==d[2]?1:d[2],d[3]||0,d[4]||0,d[5]||0)}function wn(d){return[d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()]}function oe(d){return 1===d.length&&(d=d.concat([0])),new Date(Date.UTC.apply(Date,d))}function ge(d){return!isNaN(d.valueOf())}function B(d){return 1e3*d.getUTCHours()*60*60+1e3*d.getUTCMinutes()*60+1e3*d.getUTCSeconds()+d.getUTCMilliseconds()}function Q(d,c,p,v){return{instanceId:Jt(),defId:d,range:c,forcedStartTzo:null==p?null:p,forcedEndTzo:null==v?null:v}}var W=Object.prototype.hasOwnProperty;function ie(d,c){var p={};if(c)for(var v in c){for(var w=[],S=d.length-1;S>=0;S-=1){var N=d[S][v];if("object"==typeof N&&N)w.unshift(N);else if(void 0!==N){p[v]=N;break}}w.length&&(p[v]=ie(w))}for(S=d.length-1;S>=0;S-=1){var L=d[S];for(var z in L)z in p||(p[z]=L[z])}return p}function re(d,c){var p={};for(var v in d)c(d[v],v)&&(p[v]=d[v]);return p}function fe(d,c){var p={};for(var v in d)p[v]=c(d[v],v);return p}function ke(d){for(var c={},p=0,v=d;p<v.length;p++)c[v[p]]=!0;return c}function st(d,c){for(var p={},v=0;v<d.length;v+=1){var w=c(d[v],v);p[w[0]]=w[1]}return p}function ht(d){var c=[];for(var p in d)c.push(d[p]);return c}function lt(d,c){if(d===c)return!0;for(var p in d)if(W.call(d,p)&&!(p in c))return!1;for(var p in c)if(W.call(c,p)&&d[p]!==c[p])return!1;return!0}function $t(d,c){var p=[];for(var v in d)W.call(d,v)&&(v in c||p.push(v));for(var v in c)W.call(c,v)&&d[v]!==c[v]&&p.push(v);return p}function Te(d,c,p){if(void 0===p&&(p={}),d===c)return!0;for(var v in c)if(!(v in d)||!de(d[v],c[v],p[v]))return!1;for(var v in d)if(!(v in c))return!1;return!0}function de(d,c,p){return d===c||!0===p||!!p&&p(d,c)}function ce(d,c,p,v){void 0===c&&(c=0),void 0===v&&(v=1);var w=[];null==p&&(p=Object.keys(d).length);for(var S=c;S<p;S+=v){var N=d[S];void 0!==N&&w.push(N)}return w}function bt(d,c,p){var v=p.dateEnv,w=p.pluginHooks,S=p.options,N=d.defs,L=d.instances;for(var z in L=re(L,function(an){return!N[an.defId].recurringDef}),N){var X=N[z];if(X.recurringDef){var xe=X.recurringDef.duration;xe||(xe=X.allDay?S.defaultAllDayEventDuration:S.defaultTimedEventDuration);for(var ut=0,gt=jt(X,xe,c,v,w.recurringTypes);ut<gt.length;ut++){var wt=gt[ut],Yt=Q(z,{start:wt,end:v.add(wt,xe)});L[Yt.instanceId]=Yt}}}return{defs:N,instances:L}}function jt(d,c,p,v,w){var N=w[d.recurringDef.typeId].expand(d.recurringDef.typeData,{start:v.subtract(p.start,c),end:p.end},v);return d.allDay&&(N=N.map(ln)),N}var rn=["years","months","days","milliseconds"],Fn=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Ft(d,c){var p;return"string"==typeof d?function yr(d){var c=Fn.exec(d);if(c){var p=c[1]?-1:1;return{years:0,months:0,days:p*(c[2]?parseInt(c[2],10):0),milliseconds:p*(60*(c[3]?parseInt(c[3],10):0)*60*1e3+60*(c[4]?parseInt(c[4],10):0)*1e3+1e3*(c[5]?parseInt(c[5],10):0)+(c[6]?parseInt(c[6],10):0))}}return null}(d):"object"==typeof d&&d?Fr(d):"number"==typeof d?Fr(((p={})[c||"milliseconds"]=d,p)):null}function Fr(d){var c={years:d.years||d.year||0,months:d.months||d.month||0,days:d.days||d.day||0,milliseconds:60*(d.hours||d.hour||0)*60*1e3+60*(d.minutes||d.minute||0)*1e3+1e3*(d.seconds||d.second||0)+(d.milliseconds||d.millisecond||d.ms||0)},p=d.weeks||d.week;return p&&(c.days+=7*p,c.specifiedWeeks=!0),c}function Dr(d){return d.years||d.months||d.milliseconds?0:d.days}function si(d,c){return{years:d.years+c.years,months:d.months+c.months,days:d.days+c.days,milliseconds:d.milliseconds+c.milliseconds}}function eo(d,c){return{years:d.years*c,months:d.months*c,days:d.days*c,milliseconds:d.milliseconds*c}}function me(d){return Bt(d)/864e5}function Be(d){return Bt(d)/6e4}function ct(d){return Bt(d)/1e3}function Bt(d){return 31536e6*d.years+2592e6*d.months+864e5*d.days+d.milliseconds}function In(d,c){for(var p=null,v=0;v<rn.length;v+=1){var w=rn[v];if(c[w]){var S=d[w]/c[w];if(!Ot(S)||null!==p&&p!==S)return null;p=S}else if(d[w])return null}return p}function On(d){var c=d.milliseconds;if(c){if(c%1e3!=0)return{unit:"millisecond",value:c};if(c%6e4!=0)return{unit:"second",value:c/1e3};if(c%36e5!=0)return{unit:"minute",value:c/6e4};if(c)return{unit:"hour",value:c/36e5}}return d.days?d.specifiedWeeks&&d.days%7==0?{unit:"week",value:d.days/7}:{unit:"day",value:d.days}:d.months?{unit:"month",value:d.months}:d.years?{unit:"year",value:d.years}:{unit:"millisecond",value:0}}function Cn(d,c,p){void 0===p&&(p=!1);var v=d.toISOString();return v=v.replace(".000",""),p&&(v=v.replace("T00:00:00Z","")),v.length>10&&(null==c?v=v.replace("Z",""):0!==c&&(v=v.replace("Z",tn(c,!0)))),v}function hr(d){return d.toISOString().replace(/T.*$/,"")}function Wr(d){return at(d.getUTCHours(),2)+":"+at(d.getUTCMinutes(),2)+":"+at(d.getUTCSeconds(),2)}function tn(d,c){void 0===c&&(c=!1);var p=d<0?"-":"+",v=Math.abs(d),w=Math.floor(v/60),S=Math.round(v%60);return c?p+at(w,2)+":"+at(S,2):"GMT"+p+w+(S?":"+at(S,2):"")}function Rs(d,c){for(var p=0,v=0;v<d.length;)d[v]===c?(d.splice(v,1),p+=1):v+=1;return p}function mi(d,c,p){if(d===c)return!0;var w,v=d.length;if(v!==c.length)return!1;for(w=0;w<v;w+=1)if(!(p?p(d[w],c[w]):d[w]===c[w]))return!1;return!0}function Bn(d,c,p){var v,w;return function(){for(var S=[],N=0;N<arguments.length;N++)S[N]=arguments[N];if(v){if(!mi(v,S)){p&&p(w);var L=d.apply(this,S);(!c||!c(L,w))&&(w=L)}}else w=d.apply(this,S);return v=S,w}}function Qi(d,c,p){var w,S,v=this;return function(N){if(w){if(!lt(w,N)){p&&p(S);var L=d.call(v,N);(!c||!c(L,S))&&(S=L)}}else S=d.call(v,N);return w=N,S}}function Lr(d,c,p){var v=this,w=[],S=[];return function(N){for(var L=w.length,z=N.length,X=0;X<L;X+=1)if(N[X]){if(!mi(w[X],N[X])){p&&p(S[X]);var xe=d.apply(v,N[X]);(!c||!c(xe,S[X]))&&(S[X]=xe)}}else p&&p(S[X]);for(;X<z;X+=1)S[X]=d.apply(v,N[X]);return w=N,S.splice(z),S}}function cs(d,c,p){var v=this,w={},S={};return function(N){var L={};for(var z in N)if(S[z])if(mi(w[z],N[z]))L[z]=S[z];else{p&&p(S[z]);var X=d.apply(v,N[z]);L[z]=c&&c(X,S[z])?S[z]:X}else L[z]=d.apply(v,N[z]);return w=N,S=L,L}}var ds={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},Tr={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Kn=/\s*([ap])\.?m\.?/i,Oa=/,/g,Xo=/\s+/g,oi=/\u200e/g,ai=/UTC|GMT/,ea=function(){function d(c){var p={},v={},w=0;for(var S in c)S in ds?(v[S]=c[S],w=Math.max(ds[S],w)):(p[S]=c[S],S in Tr&&(w=Math.max(Tr[S],w)));this.standardDateProps=p,this.extendedSettings=v,this.severity=w,this.buildFormattingFunc=Bn(No)}return d.prototype.format=function(c,p){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,p)(c)},d.prototype.formatRange=function(c,p,v,w){var N=this.standardDateProps,L=this.extendedSettings,z=function Mr(d,c,p){return p.getMarkerYear(d)!==p.getMarkerYear(c)?5:p.getMarkerMonth(d)!==p.getMarkerMonth(c)?4:p.getMarkerDay(d)!==p.getMarkerDay(c)?2:B(d)!==B(c)?1:0}(c.marker,p.marker,v.calendarSystem);if(!z)return this.format(c,v);var X=z;X>1&&("numeric"===N.year||"2-digit"===N.year)&&("numeric"===N.month||"2-digit"===N.month)&&("numeric"===N.day||"2-digit"===N.day)&&(X=1);var xe=this.format(c,v),Ue=this.format(p,v);if(xe===Ue)return xe;var ut=function cu(d,c){var p={};for(var v in d)(!(v in Tr)||Tr[v]<=c)&&(p[v]=d[v]);return p}(N,X),gt=No(ut,L,v),wt=gt(c),Yt=gt(p),an=function Td(d,c,p,v){for(var w=0;w<d.length;){var S=d.indexOf(c,w);if(-1===S)break;for(var N=d.substr(0,S),L=d.substr(w=S+c.length),z=0;z<p.length;){var X=p.indexOf(v,z);if(-1===X)break;var xe=p.substr(0,X),Ue=p.substr(z=X+v.length);if(N===xe&&L===Ue)return{before:N,after:L}}}return null}(xe,wt,Ue,Yt),xt=L.separator||w||v.defaultSeparator||"";return an?an.before+wt+xt+Yt+an.after:xe+xt+Ue},d.prototype.getLargestUnit=function(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}},d}();function No(d,c,p){var v=Object.keys(d).length;return 1===v&&"short"===d.timeZoneName?function(w){return tn(w.timeZoneOffset)}:0===v&&c.week?function(w){return function ta(d,c,p,v,w){var S=[];return"long"===w?S.push(p):("short"===w||"narrow"===w)&&S.push(c),("long"===w||"short"===w)&&S.push(" "),S.push(v.simpleNumberFormat.format(d)),"rtl"===v.options.direction&&S.reverse(),S.join("")}(p.computeWeekNumber(w.marker),p.weekText,p.weekTextLong,p.locale,c.week)}:function to(d,c,p){d=(0,k.__assign)({},d),c=(0,k.__assign)({},c),function vi(d,c){d.timeZoneName&&(d.hour||(d.hour="2-digit"),d.minute||(d.minute="2-digit")),"long"===d.timeZoneName&&(d.timeZoneName="short"),c.omitZeroMinute&&(d.second||d.millisecond)&&delete c.omitZeroMinute}(d,c),d.timeZone="UTC";var w,v=new Intl.DateTimeFormat(p.locale.codes,d);if(c.omitZeroMinute){var S=(0,k.__assign)({},d);delete S.minute,w=new Intl.DateTimeFormat(p.locale.codes,S)}return function(N){var L=N.marker;return function dc(d,c,p,v,w){return d=d.replace(oi,""),"short"===p.timeZoneName&&(d=function Pa(d,c){var p=!1;return d=d.replace(ai,function(){return p=!0,c}),p||(d+=" "+c),d}(d,"UTC"===w.timeZone||null==c.timeZoneOffset?"UTC":tn(c.timeZoneOffset))),v.omitCommas&&(d=d.replace(Oa,"").trim()),v.omitZeroMinute&&(d=d.replace(":00","")),!1===v.meridiem?d=d.replace(Kn,"").trim():"narrow"===v.meridiem?d=d.replace(Kn,function(S,N){return N.toLocaleLowerCase()}):"short"===v.meridiem?d=d.replace(Kn,function(S,N){return N.toLocaleLowerCase()+"m"}):"lowercase"===v.meridiem&&(d=d.replace(Kn,function(S){return S.toLocaleLowerCase()})),(d=d.replace(Xo," ")).trim()}((w&&!L.getUTCMinutes()?w:v).format(L),N,d,c,p)}}(d,c,p)}function Yi(d,c){var p=c.markerToArray(d.marker);return{marker:d.marker,timeZoneOffset:d.timeZoneOffset,array:p,year:p[0],month:p[1],day:p[2],hour:p[3],minute:p[4],second:p[5],millisecond:p[6]}}function Fa(d,c,p,v){var w=Yi(d,p.calendarSystem);return{date:w,start:w,end:c?Yi(c,p.calendarSystem):null,timeZone:p.timeZone,localeCodes:p.locale.codes,defaultSeparator:v||p.defaultSeparator}}var na=function(){function d(c){this.cmdStr=c}return d.prototype.format=function(c,p,v){return p.cmdFormatter(this.cmdStr,Fa(c,null,p,v))},d.prototype.formatRange=function(c,p,v,w){return v.cmdFormatter(this.cmdStr,Fa(c,p,v,w))},d}(),Id=function(){function d(c){this.func=c}return d.prototype.format=function(c,p,v){return this.func(Fa(c,null,p,v))},d.prototype.formatRange=function(c,p,v,w){return this.func(Fa(c,p,v,w))},d}();function Ir(d){return"object"==typeof d&&d?new ea(d):"string"==typeof d?new na(d):"function"==typeof d?new Id(d):null}var du={navLinkDayClick:tt,navLinkWeekClick:tt,duration:Ft,bootstrapFontAwesome:tt,buttonIcons:tt,customButtons:tt,defaultAllDayEventDuration:Ft,defaultTimedEventDuration:Ft,nextDayThreshold:Ft,scrollTime:Ft,scrollTimeReset:Boolean,slotMinTime:Ft,slotMaxTime:Ft,dayPopoverFormat:Ir,slotDuration:Ft,snapDuration:Ft,headerToolbar:tt,footerToolbar:tt,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Ir,dayHeaderClassNames:tt,dayHeaderContent:tt,dayHeaderDidMount:tt,dayHeaderWillUnmount:tt,dayCellClassNames:tt,dayCellContent:tt,dayCellDidMount:tt,dayCellWillUnmount:tt,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:tt,weekNumbers:Boolean,weekNumberClassNames:tt,weekNumberContent:tt,weekNumberDidMount:tt,weekNumberWillUnmount:tt,editable:Boolean,viewClassNames:tt,viewDidMount:tt,viewWillUnmount:tt,nowIndicator:Boolean,nowIndicatorClassNames:tt,nowIndicatorContent:tt,nowIndicatorDidMount:tt,nowIndicatorWillUnmount:tt,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:tt,locale:tt,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:tt,eventOrder:An,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:tt,contentHeight:tt,direction:String,weekNumberFormat:Ir,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:tt,initialDate:tt,now:tt,eventDataTransform:tt,stickyHeaderDates:tt,stickyFooterScrollbar:tt,viewHeight:tt,defaultAllDay:Boolean,eventSourceFailure:tt,eventSourceSuccess:tt,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:tt,eventConstraint:tt,eventAllow:tt,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:tt,eventContent:tt,eventDidMount:tt,eventWillUnmount:tt,selectConstraint:tt,selectOverlap:tt,selectAllow:tt,droppable:Boolean,unselectCancel:String,slotLabelFormat:tt,slotLaneClassNames:tt,slotLaneContent:tt,slotLaneDidMount:tt,slotLaneWillUnmount:tt,slotLabelClassNames:tt,slotLabelContent:tt,slotLabelDidMount:tt,slotLabelWillUnmount:tt,dayMaxEvents:tt,dayMaxEventRows:tt,dayMinWidth:Number,slotLabelInterval:Ft,allDayText:String,allDayClassNames:tt,allDayContent:tt,allDayDidMount:tt,allDayWillUnmount:tt,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Ir,rerenderDelay:Number,moreLinkText:tt,moreLinkHint:tt,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:tt,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Ft,hiddenDays:tt,monthMode:Boolean,fixedWeekCount:Boolean,validRange:tt,visibleRange:tt,titleFormat:tt,eventInteractive:Boolean,noEventsText:String,viewHint:tt,navLinkHint:tt,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:tt,moreLinkClassNames:tt,moreLinkContent:tt,moreLinkDidMount:tt,moreLinkWillUnmount:tt},Ns={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30},Sd={datesSet:tt,eventsSet:tt,eventAdd:tt,eventChange:tt,eventRemove:tt,windowResize:tt,eventClick:tt,eventMouseEnter:tt,eventMouseLeave:tt,select:tt,unselect:tt,loading:tt,_unmount:tt,_beforeprint:tt,_afterprint:tt,_noEventDrop:tt,_noEventResize:tt,_resize:tt,_scrollRequest:tt},_l={buttonText:tt,buttonHints:tt,views:tt,plugins:tt,initialEvents:tt,events:tt,eventSources:tt},bl={headerToolbar:fs,footerToolbar:fs,buttonText:fs,buttonHints:fs,buttonIcons:fs};function fs(d,c){return"object"==typeof d&&"object"==typeof c&&d&&c?lt(d,c):d===c}var Md={type:String,component:tt,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:tt,usesMinMaxTime:Boolean,classNames:tt,content:tt,didMount:tt,willUnmount:tt};function La(d){return ie(d,bl)}function ki(d,c){var p={},v={};for(var w in c)w in d&&(p[w]=c[w](d[w]));for(var w in d)w in c||(v[w]=d[w]);return{refined:p,extra:v}}function tt(d){return d}function ko(d,c,p,v){for(var w={defs:{},instances:{}},S=Xi(p),N=0,L=d;N<L.length;N++){var X=oa(L[N],c,p,v,S);X&&Oi(X,w)}return w}function Oi(d,c){return void 0===c&&(c={defs:{},instances:{}}),c.defs[d.def.defId]=d.def,d.instance&&(c.instances[d.instance.instanceId]=d.instance),c}function Ci(d,c){var p=d.instances[c];if(p){var v=d.defs[p.defId],w=ia(d,function(S){return function ra(d,c){return Boolean(d.groupId&&d.groupId===c.groupId)}(v,S)});return w.defs[v.defId]=v,w.instances[p.instanceId]=p,w}return{defs:{},instances:{}}}function li(){return{defs:{},instances:{}}}function no(d,c){return{defs:(0,k.__assign)((0,k.__assign)({},d.defs),c.defs),instances:(0,k.__assign)((0,k.__assign)({},d.instances),c.instances)}}function ia(d,c){var p=re(d.defs,c),v=re(d.instances,function(w){return p[w.defId]});return{defs:p,instances:v}}function ks(d){return Array.isArray(d)?d:"string"==typeof d?d.split(/\s+/):[]}var hs={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:tt,overlap:tt,allow:tt,className:ks,classNames:ks,color:String,backgroundColor:String,borderColor:String,textColor:String},sa={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Os(d,c){var p=function Ji(d,c){return Array.isArray(d)?ko(d,null,c,!0):"object"==typeof d&&d?ko([d],null,c,!0):null!=d?String(d):null}(d.constraint,c);return{display:d.display||null,startEditable:null!=d.startEditable?d.startEditable:d.editable,durationEditable:null!=d.durationEditable?d.durationEditable:d.editable,constraints:null!=p?[p]:[],overlap:null!=d.overlap?d.overlap:null,allows:null!=d.allow?[d.allow]:[],backgroundColor:d.backgroundColor||d.color||"",borderColor:d.borderColor||d.color||"",textColor:d.textColor||"",classNames:(d.className||[]).concat(d.classNames||[])}}function Hr(d){return d.reduce(jr,sa)}function jr(d,c){return{display:null!=c.display?c.display:d.display,startEditable:null!=c.startEditable?c.startEditable:d.startEditable,durationEditable:null!=c.durationEditable?c.durationEditable:d.durationEditable,constraints:d.constraints.concat(c.constraints),overlap:"boolean"==typeof c.overlap?c.overlap:d.overlap,allows:d.allows.concat(c.allows),backgroundColor:c.backgroundColor||d.backgroundColor,borderColor:c.borderColor||d.borderColor,textColor:c.textColor||d.textColor,classNames:d.classNames.concat(c.classNames)}}var Al={id:String,groupId:String,title:String,url:String,interactive:Boolean},fu={start:tt,end:tt,date:tt,allDay:Boolean},fc=(0,k.__assign)((0,k.__assign)((0,k.__assign)({},Al),fu),{extendedProps:tt});function oa(d,c,p,v,w){void 0===w&&(w=Xi(p));var S=Oo(d,p,w),N=S.refined,L=S.extra,z=function pr(d,c){var p=null;return d&&(p=d.defaultAllDay),null==p&&(p=c.options.defaultAllDay),p}(c,p),X=function et(d,c,p,v){for(var w=0;w<v.length;w+=1){var S=v[w].parse(d,p);if(S){var N=d.allDay;return null==N&&null==(N=c)&&null==(N=S.allDayGuess)&&(N=!1),{allDay:N,duration:S.duration,typeData:S.typeData,typeId:w}}}return null}(N,z,p.dateEnv,p.pluginHooks.recurringTypes);if(X)return(xe=ro(N,L,c?c.sourceId:"",X.allDay,Boolean(X.duration),p)).recurringDef={typeId:X.typeId,typeData:X.typeData,duration:X.duration},{def:xe,instance:null};var xe,Ue=function hc(d,c,p,v){var S,z,w=d.allDay,N=null,L=!1,X=null;if(S=p.dateEnv.createMarkerMeta(null!=d.start?d.start:d.date))N=S.marker;else if(!v)return null;return null!=d.end&&(z=p.dateEnv.createMarkerMeta(d.end)),null==w&&(w=null!=c?c:(!S||S.isTimeUnspecified)&&(!z||z.isTimeUnspecified)),w&&N&&(N=ln(N)),z&&(X=z.marker,w&&(X=ln(X)),N&&X<=N&&(X=null)),X?L=!0:v||(L=p.options.forceEventDuration||!1,X=p.dateEnv.add(N,w?p.options.defaultAllDayEventDuration:p.options.defaultTimedEventDuration)),{allDay:w,hasEnd:L,range:{start:N,end:X},forcedStartTzo:S?S.forcedTzo:null,forcedEndTzo:z?z.forcedTzo:null}}(N,z,p,v);return Ue?{def:xe=ro(N,L,c?c.sourceId:"",Ue.allDay,Ue.hasEnd,p),instance:Q(xe.defId,Ue.range,Ue.forcedStartTzo,Ue.forcedEndTzo)}:null}function Oo(d,c,p){return void 0===p&&(p=Xi(c)),ki(d,p)}function Xi(d){return(0,k.__assign)((0,k.__assign)((0,k.__assign)({},hs),fc),d.pluginHooks.eventRefiners)}function ro(d,c,p,v,w,S){for(var N={title:d.title||"",groupId:d.groupId||"",publicId:d.id||"",url:d.url||"",recurringDef:null,defId:Jt(),sourceId:p,allDay:v,hasEnd:w,interactive:d.interactive,ui:Os(d,S),extendedProps:(0,k.__assign)((0,k.__assign)({},d.extendedProps||{}),c)},L=0,z=S.pluginHooks.eventDefMemberAdders;L<z.length;L++)(0,k.__assign)(N,(0,z[L])(d));return Object.freeze(N.ui.classNames),Object.freeze(N.extendedProps),N}function Pi(d){var c=Math.floor(vt(d.start,d.end))||1,p=ln(d.start);return{start:p,end:Ze(p,c)}}function ps(d,c){void 0===c&&(c=Ft(0));var p=null,v=null;if(d.end){v=ln(d.end);var w=d.end.valueOf()-v.valueOf();w&&w>=Bt(c)&&(v=Ze(v,1))}return d.start&&(p=ln(d.start),v&&v<=p&&(v=Ze(p,1))),{start:p,end:v}}function qn(d){var c=ps(d);return vt(c.start,c.end)>1}function aa(d,c,p,v){return"year"===v?Ft(p.diffWholeYears(d,c),"year"):"month"===v?Ft(p.diffWholeMonths(d,c),"month"):xn(d,c)}function io(d,c){var w,S,p=[],v=c.start;for(d.sort(Jr),w=0;w<d.length;w+=1)(S=d[w]).start>v&&p.push({start:v,end:S.start}),S.end>v&&(v=S.end);return v<c.end&&p.push({start:v,end:c.end}),p}function Jr(d,c){return d.start.valueOf()-c.start.valueOf()}function Ps(d,c){var p=d.start,v=d.end,w=null;return null!==c.start&&(p=null===p?c.start:new Date(Math.max(p.valueOf(),c.start.valueOf()))),null!=c.end&&(v=null===v?c.end:new Date(Math.min(v.valueOf(),c.end.valueOf()))),(null===p||null===v||p<v)&&(w={start:p,end:v}),w}function la(d,c){return(null===d.start?null:d.start.valueOf())===(null===c.start?null:c.start.valueOf())&&(null===d.end?null:d.end.valueOf())===(null===c.end?null:c.end.valueOf())}function Z(d,c){return(null===d.end||null===c.start||d.end>c.start)&&(null===d.start||null===c.end||d.start<c.end)}function q(d,c){return(null===d.start||null!==c.start&&c.start>=d.start)&&(null===d.end||null!==c.end&&c.end<=d.end)}function Ee(d,c){return(null===d.start||c>=d.start)&&(null===d.end||c<d.end)}function yt(d,c,p,v){var w={},S={},N={},L=[],z=[],X=Vt(d.defs,c);for(var xe in d.defs)"inverse-background"===(ut=X[(Ue=d.defs[xe]).defId]).display&&(Ue.groupId?(w[Ue.groupId]=[],N[Ue.groupId]||(N[Ue.groupId]=Ue)):S[xe]=[]);for(var gt in d.instances){var wt=d.instances[gt],ut=X[(Ue=d.defs[wt.defId]).defId],Yt=wt.range,an=!Ue.allDay&&v?ps(Yt,v):Yt,xt=Ps(an,p);xt&&("inverse-background"===ut.display?Ue.groupId?w[Ue.groupId].push(xt):S[wt.defId].push(xt):"none"!==ut.display&&("background"===ut.display?L:z).push({def:Ue,ui:ut,instance:wt,range:xt,isStart:an.start&&an.start.valueOf()===xt.start.valueOf(),isEnd:an.end&&an.end.valueOf()===xt.end.valueOf()}))}for(var ir in w)for(var di=0,qr=io(w[ir],p);di<qr.length;di++){var Ue;L.push({def:Ue=N[ir],ui:ut=X[Ue.defId],instance:null,range:qr[di],isStart:!1,isEnd:!1})}for(var xe in S)for(var zi=0,Ao=io(S[xe],p);zi<Ao.length;zi++)L.push({def:d.defs[xe],ui:X[xe],instance:null,range:Ao[zi],isStart:!1,isEnd:!1});return{bg:L,fg:z}}function Dt(d){return"background"===d.ui.display||"inverse-background"===d.ui.display}function cn(d,c){d.fcSeg=c}function sr(d){return d.fcSeg||d.parentNode.fcSeg||null}function Vt(d,c){return fe(d,function(p){return dr(p,c)})}function dr(d,c){var p=[];return c[""]&&p.push(c[""]),c[d.defId]&&p.push(c[d.defId]),p.push(d.ui),Hr(p)}function or(d,c){var p=d.map(Pn);return p.sort(function(v,w){return Ae(v,w,c)}),p.map(function(v){return v._seg})}function Pn(d){var c=d.eventRange,p=c.def,v=c.instance?c.instance.range:c.range,w=v.start?v.start.valueOf():0,S=v.end?v.end.valueOf():0;return(0,k.__assign)((0,k.__assign)((0,k.__assign)({},p.extendedProps),p),{id:p.publicId,start:w,end:S,duration:S-w,allDay:Number(p.allDay),_seg:d})}function es(d,c){for(var w=d.eventRange,S=w.def,N=w.ui,L=N.startEditable,z=0,X=c.pluginHooks.isDraggableTransformers;z<X.length;z++)L=(0,X[z])(L,S,N,c);return L}function ts(d,c){return d.isStart&&d.eventRange.ui.durationEditable&&c.options.eventResizableFromStart}function so(d,c){return d.isEnd&&d.eventRange.ui.durationEditable}function Ba(d,c,p,v,w,S,N){var L=p.dateEnv,z=p.options,X=z.displayEventTime,xe=z.displayEventEnd,Ue=d.eventRange.def,ut=d.eventRange.instance;null==X&&(X=!1!==v),null==xe&&(xe=!1!==w);var gt=ut.range.start,wt=ut.range.end,Yt=S||d.start||d.eventRange.range.start,an=N||d.end||d.eventRange.range.end,xt=ln(gt).valueOf()===ln(Yt).valueOf(),ir=ln(Et(wt,-1)).valueOf()===ln(Et(an,-1)).valueOf();return X&&!Ue.allDay&&(xt||ir)?(Yt=xt?gt:Yt,an=ir?wt:an,xe&&Ue.hasEnd?L.formatRange(Yt,an,c,{forcedStartTzo:S?null:ut.forcedStartTzo,forcedEndTzo:N?null:ut.forcedEndTzo}):L.format(Yt,c,{forcedTzo:S?null:ut.forcedStartTzo})):""}function ot(d,c,p){var v=d.eventRange.range;return{isPast:v.end<(p||c.start),isFuture:v.start>=(p||c.end),isToday:c&&Ee(c,v.start)}}function Dn(d){var c=["fc-event"];return d.isMirror&&c.push("fc-event-mirror"),d.isDraggable&&c.push("fc-event-draggable"),(d.isStartResizable||d.isEndResizable)&&c.push("fc-event-resizable"),d.isDragging&&c.push("fc-event-dragging"),d.isResizing&&c.push("fc-event-resizing"),d.isSelected&&c.push("fc-event-selected"),d.isStart&&c.push("fc-event-start"),d.isEnd&&c.push("fc-event-end"),d.isPast&&c.push("fc-event-past"),d.isToday&&c.push("fc-event-today"),d.isFuture&&c.push("fc-event-future"),c}function Fs(d){return d.instance?d.instance.instanceId:d.def.defId+":"+d.range.start.toISOString()}function gr(d,c){var p=d.eventRange,v=p.def,w=p.instance,S=v.url;if(S)return{href:S};var N=c.emitter,z=c.options.eventInteractive;return null==z&&null==(z=v.interactive)&&(z=Boolean(N.hasHandlers("eventClick"))),z?Re(function(X){N.trigger("eventClick",{el:X.target,event:new ei(c,v,w),jsEvent:X,view:c.viewApi})}):{}}var Ua={start:tt,end:tt,allDay:Boolean};function pc(d,c){return la(d.range,c.range)&&d.allDay===c.allDay&&function gc(d,c){for(var p in c)if("range"!==p&&"allDay"!==p&&d[p]!==c[p])return!1;for(var p in d)if(!(p in c))return!1;return!0}(d,c)}function mc(d,c,p){return(0,k.__assign)((0,k.__assign)({},wl(d,c,p)),{timeZone:c.timeZone})}function wl(d,c,p){return{start:c.toDate(d.start),end:c.toDate(d.end),startStr:c.formatIso(d.start,{omitTime:p}),endStr:c.formatIso(d.end,{omitTime:p})}}function Ha(d,c,p){var v=Oo({editable:!1},p),w=ro(v.refined,v.extra,"",d.allDay,!0,p);return{def:w,ui:dr(w,c),instance:Q(w.defId,d.range),range:d.range,isStart:!0,isEnd:!0}}function Xr(d,c,p){p.emitter.trigger("select",(0,k.__assign)((0,k.__assign)({},hu(d,p)),{jsEvent:c?c.origEvent:null,view:p.viewApi||p.calendarApi.view}))}function hu(d,c){for(var p={},v=0,w=c.pluginHooks.dateSpanTransforms;v<w.length;v++)(0,k.__assign)(p,(0,w[v])(d,c));return(0,k.__assign)(p,function Rd(d,c){return(0,k.__assign)((0,k.__assign)({},wl(d.range,c,d.allDay)),{allDay:d.allDay})}(d,c.dateEnv)),p}function Ls(d,c,p){var v=p.dateEnv,w=p.options,S=c;return d?(S=ln(S),S=v.add(S,w.defaultAllDayEventDuration)):S=v.add(S,w.defaultTimedEventDuration),S}function Vs(d,c,p,v){var w=Vt(d.defs,c),S={defs:{},instances:{}};for(var N in d.defs)S.defs[N]=vc(d.defs[N],w[N],p,v);for(var z in d.instances){var X=d.instances[z];S.instances[z]=Nd(X,S.defs[X.defId],w[X.defId],p,v)}return S}function vc(d,c,p,v){var w=p.standardProps||{};null==w.hasEnd&&c.durationEditable&&(p.startDelta||p.endDelta)&&(w.hasEnd=!0);var S=(0,k.__assign)((0,k.__assign)((0,k.__assign)({},d),w),{ui:(0,k.__assign)((0,k.__assign)({},d.ui),w.ui)});p.extendedProps&&(S.extendedProps=(0,k.__assign)((0,k.__assign)({},S.extendedProps),p.extendedProps));for(var N=0,L=v.pluginHooks.eventDefMutationAppliers;N<L.length;N++)(0,L[N])(S,p,v);return!S.hasEnd&&v.options.forceEventDuration&&(S.hasEnd=!0),S}function Nd(d,c,p,v,w){var S=w.dateEnv,N=v.standardProps&&!0===v.standardProps.allDay,L=v.standardProps&&!1===v.standardProps.hasEnd,z=(0,k.__assign)({},d);return N&&(z.range=Pi(z.range)),v.datesDelta&&p.startEditable&&(z.range={start:S.add(z.range.start,v.datesDelta),end:S.add(z.range.end,v.datesDelta)}),v.startDelta&&p.durationEditable&&(z.range={start:S.add(z.range.start,v.startDelta),end:z.range.end}),v.endDelta&&p.durationEditable&&(z.range={start:z.range.start,end:S.add(z.range.end,v.endDelta)}),L&&(z.range={start:z.range.start,end:Ls(c.allDay,z.range.start,w)}),c.allDay&&(z.range={start:ln(z.range.start),end:ln(z.range.end)}),z.range.end<z.range.start&&(z.range.end=Ls(c.allDay,z.range.start,w)),z}var pu=function(){function d(c,p,v){this.type=c,this.getCurrentData=p,this.dateEnv=v}return Object.defineProperty(d.prototype,"calendar",{get:function(){return this.getCurrentData().calendarApi},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"title",{get:function(){return this.getCurrentData().viewTitle},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"activeStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"activeEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"currentStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"currentEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)},enumerable:!1,configurable:!0}),d.prototype.getOption=function(c){return this.getCurrentData().options[c]},d}(),ih={id:String,defaultAllDay:Boolean,url:String,format:String,events:tt,eventDataTransform:tt,success:tt,failure:tt};function ja(d,c,p){var v;if(void 0===p&&(p=Cl(c)),"string"==typeof d?v={url:d}:"function"==typeof d||Array.isArray(d)?v={events:d}:"object"==typeof d&&d&&(v=d),v){var w=ki(v,p),S=w.refined,N=w.extra,L=function yc(d,c){for(var p=c.pluginHooks.eventSourceDefs,v=p.length-1;v>=0;v-=1){var S=p[v].parseMeta(d);if(S)return{sourceDefId:v,meta:S}}return null}(S,c);if(L)return{_raw:d,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:S.defaultAllDay,eventDataTransform:S.eventDataTransform,success:S.success,failure:S.failure,publicId:S.id||"",sourceId:Jt(),sourceDefId:L.sourceDefId,meta:L.meta,ui:Os(S,c),extendedProps:N}}return null}function Cl(d){return(0,k.__assign)((0,k.__assign)((0,k.__assign)({},hs),ih),d.pluginHooks.eventSourceRefiners)}function Ga(d,c){return"function"==typeof d&&(d=d()),null==d?c.createNowMarker():c.createMarker(d)}var za=function(){function d(){}return d.prototype.getCurrentData=function(){return this.currentDataManager.getCurrentData()},d.prototype.dispatch=function(c){return this.currentDataManager.dispatch(c)},Object.defineProperty(d.prototype,"view",{get:function(){return this.getCurrentData().viewApi},enumerable:!1,configurable:!0}),d.prototype.batchRendering=function(c){c()},d.prototype.updateSize=function(){this.trigger("_resize",!0)},d.prototype.setOption=function(c,p){this.dispatch({type:"SET_OPTION",optionName:c,rawOptionValue:p})},d.prototype.getOption=function(c){return this.currentDataManager.currentCalendarOptionsInput[c]},d.prototype.getAvailableLocaleCodes=function(){return Object.keys(this.getCurrentData().availableRawLocales)},d.prototype.on=function(c,p){var v=this.currentDataManager;v.currentCalendarOptionsRefiners[c]?v.emitter.on(c,p):console.warn("Unknown listener name '"+c+"'")},d.prototype.off=function(c,p){this.currentDataManager.emitter.off(c,p)},d.prototype.trigger=function(c){for(var p,v=[],w=1;w<arguments.length;w++)v[w-1]=arguments[w];(p=this.currentDataManager.emitter).trigger.apply(p,(0,k.__spreadArray)([c],v))},d.prototype.changeView=function(c,p){var v=this;this.batchRendering(function(){if(v.unselect(),p)if(p.start&&p.end)v.dispatch({type:"CHANGE_VIEW_TYPE",viewType:c}),v.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:p});else{var w=v.getCurrentData().dateEnv;v.dispatch({type:"CHANGE_VIEW_TYPE",viewType:c,dateMarker:w.createMarker(p)})}else v.dispatch({type:"CHANGE_VIEW_TYPE",viewType:c})})},d.prototype.zoomTo=function(c,p){var w;w=this.getCurrentData().viewSpecs[p=p||"day"]||this.getUnitViewSpec(p),this.unselect(),this.dispatch(w?{type:"CHANGE_VIEW_TYPE",viewType:w.type,dateMarker:c}:{type:"CHANGE_DATE",dateMarker:c})},d.prototype.getUnitViewSpec=function(c){var N,L,p=this.getCurrentData(),v=p.viewSpecs,w=p.toolbarConfig,S=[].concat(w.header?w.header.viewsWithButtons:[],w.footer?w.footer.viewsWithButtons:[]);for(var z in v)S.push(z);for(N=0;N<S.length;N+=1)if((L=v[S[N]])&&L.singleUnit===c)return L;return null},d.prototype.prev=function(){this.unselect(),this.dispatch({type:"PREV"})},d.prototype.next=function(){this.unselect(),this.dispatch({type:"NEXT"})},d.prototype.prevYear=function(){var c=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:c.dateEnv.addYears(c.currentDate,-1)})},d.prototype.nextYear=function(){var c=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:c.dateEnv.addYears(c.currentDate,1)})},d.prototype.today=function(){var c=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:Ga(c.calendarOptions.now,c.dateEnv)})},d.prototype.gotoDate=function(c){var p=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:p.dateEnv.createMarker(c)})},d.prototype.incrementDate=function(c){var p=this.getCurrentData(),v=Ft(c);v&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:p.dateEnv.add(p.currentDate,v)}))},d.prototype.getDate=function(){var c=this.getCurrentData();return c.dateEnv.toDate(c.currentDate)},d.prototype.formatDate=function(c,p){var v=this.getCurrentData().dateEnv;return v.format(v.createMarker(c),Ir(p))},d.prototype.formatRange=function(c,p,v){var w=this.getCurrentData().dateEnv;return w.formatRange(w.createMarker(c),w.createMarker(p),Ir(v),v)},d.prototype.formatIso=function(c,p){var v=this.getCurrentData().dateEnv;return v.formatIso(v.createMarker(c),{omitTime:p})},d.prototype.select=function(c,p){var v;v=null==p?null!=c.start?c:{start:c,end:null}:{start:c,end:p};var w=this.getCurrentData(),S=function El(d,c,p){var v=function Fi(d,c){var p=ki(d,Ua),v=p.refined,w=p.extra,S=v.start?c.createMarkerMeta(v.start):null,N=v.end?c.createMarkerMeta(v.end):null,L=v.allDay;return null==L&&(L=S&&S.isTimeUnspecified&&(!N||N.isTimeUnspecified)),(0,k.__assign)({range:{start:S?S.marker:null,end:N?N.marker:null},allDay:L},w)}(d,c),w=v.range;if(!w.start)return null;if(!w.end){if(null==p)return null;w.end=c.add(w.start,p)}return v}(v,w.dateEnv,Ft({days:1}));S&&(this.dispatch({type:"SELECT_DATES",selection:S}),Xr(S,null,w))},d.prototype.unselect=function(c){var p=this.getCurrentData();p.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),function gs(d,c){c.emitter.trigger("unselect",{jsEvent:d?d.origEvent:null,view:c.viewApi||c.calendarApi.view})}(c,p))},d.prototype.addEvent=function(c,p){if(c instanceof ei){var v=c._def,w=c._instance;return this.getCurrentData().eventStore.defs[v.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Oi({def:v,instance:w})}),this.triggerEventAdd(c)),c}var L,N=this.getCurrentData();if(p instanceof D)L=p.internalEventSource;else if("boolean"==typeof p)p&&(L=ht(N.eventSources)[0]);else if(null!=p){var z=this.getEventSourceById(p);if(!z)return console.warn('Could not find an event source with ID "'+p+'"'),null;L=z.internalEventSource}var X=oa(c,L,N,!1);if(X){var xe=new ei(N,X.def,X.def.recurringDef?null:X.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Oi(X)}),this.triggerEventAdd(xe),xe}return null},d.prototype.triggerEventAdd=function(c){var p=this;this.getCurrentData().emitter.trigger("eventAdd",{event:c,relatedEvents:[],revert:function(){p.dispatch({type:"REMOVE_EVENTS",eventStore:Po(c)})}})},d.prototype.getEventById=function(c){var p=this.getCurrentData(),v=p.eventStore,w=v.defs,S=v.instances;for(var N in c=String(c),w){var L=w[N];if(L.publicId===c){if(L.recurringDef)return new ei(p,L,null);for(var z in S){var X=S[z];if(X.defId===L.defId)return new ei(p,L,X)}}}return null},d.prototype.getEvents=function(){var c=this.getCurrentData();return Dl(c.eventStore,c)},d.prototype.removeAllEvents=function(){this.dispatch({type:"REMOVE_ALL_EVENTS"})},d.prototype.getEventSources=function(){var c=this.getCurrentData(),p=c.eventSources,v=[];for(var w in p)v.push(new D(c,p[w]));return v},d.prototype.getEventSourceById=function(c){var p=this.getCurrentData(),v=p.eventSources;for(var w in c=String(c),v)if(v[w].publicId===c)return new D(p,v[w]);return null},d.prototype.addEventSource=function(c){var p=this.getCurrentData();if(c instanceof D)return p.eventSources[c.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[c.internalEventSource]}),c;var v=ja(c,p);return v?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[v]}),new D(p,v)):null},d.prototype.removeAllEventSources=function(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})},d.prototype.refetchEvents=function(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})},d.prototype.scrollToTime=function(c){var p=Ft(c);p&&this.trigger("_scrollRequest",{time:p})},d}(),ei=function(){function d(c,p,v){this._context=c,this._def=p,this._instance=v||null}return d.prototype.setProp=function(c,p){var v,w;if(c in fu)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if("id"===c)p=Al[c](p),this.mutate({standardProps:{publicId:p}});else if(c in Al)p=Al[c](p),this.mutate({standardProps:(v={},v[c]=p,v)});else if(c in hs){var S=hs[c](p);"color"===c?S={backgroundColor:p,borderColor:p}:"editable"===c?S={startEditable:p,durationEditable:p}:((w={})[c]=p,S=w),this.mutate({standardProps:{ui:S}})}else console.warn("Could not set prop '"+c+"'. Use setExtendedProp instead.")},d.prototype.setExtendedProp=function(c,p){var v;this.mutate({extendedProps:(v={},v[c]=p,v)})},d.prototype.setStart=function(c,p){void 0===p&&(p={});var v=this._context.dateEnv,w=v.createMarker(c);if(w&&this._instance){var N=aa(this._instance.range.start,w,v,p.granularity);this.mutate(p.maintainDuration?{datesDelta:N}:{startDelta:N})}},d.prototype.setEnd=function(c,p){void 0===p&&(p={});var w,v=this._context.dateEnv;if((null==c||(w=v.createMarker(c)))&&this._instance)if(w){var S=aa(this._instance.range.end,w,v,p.granularity);this.mutate({endDelta:S})}else this.mutate({standardProps:{hasEnd:!1}})},d.prototype.setDates=function(c,p,v){void 0===v&&(v={});var L,w=this._context.dateEnv,S={allDay:v.allDay},N=w.createMarker(c);if(N&&(null==p||(L=w.createMarker(p)))&&this._instance){var z=this._instance.range;!0===v.allDay&&(z=Pi(z));var X=aa(z.start,N,w,v.granularity);if(L){var xe=aa(z.end,L,w,v.granularity);!function Rn(d,c){return d.years===c.years&&d.months===c.months&&d.days===c.days&&d.milliseconds===c.milliseconds}(X,xe)?this.mutate({startDelta:X,endDelta:xe,standardProps:S}):this.mutate({datesDelta:X,standardProps:S})}else S.hasEnd=!1,this.mutate({datesDelta:X,standardProps:S})}},d.prototype.moveStart=function(c){var p=Ft(c);p&&this.mutate({startDelta:p})},d.prototype.moveEnd=function(c){var p=Ft(c);p&&this.mutate({endDelta:p})},d.prototype.moveDates=function(c){var p=Ft(c);p&&this.mutate({datesDelta:p})},d.prototype.setAllDay=function(c,p){void 0===p&&(p={});var v={allDay:c},w=p.maintainDuration;null==w&&(w=this._context.options.allDayMaintainDuration),this._def.allDay!==c&&(v.hasEnd=w),this.mutate({standardProps:v})},d.prototype.formatRange=function(c){var p=this._context.dateEnv,v=this._instance,w=Ir(c);return this._def.hasEnd?p.formatRange(v.range.start,v.range.end,w,{forcedStartTzo:v.forcedStartTzo,forcedEndTzo:v.forcedEndTzo}):p.format(v.range.start,w,{forcedTzo:v.forcedStartTzo})},d.prototype.mutate=function(c){var p=this._instance;if(p){var v=this._def,w=this._context,S=w.getCurrentData().eventStore,N=Ci(S,p.instanceId);N=Vs(N,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},c,w);var z=new d(w,v,p);this._def=N.defs[v.defId],this._instance=N.instances[p.instanceId],w.dispatch({type:"MERGE_EVENTS",eventStore:N}),w.emitter.trigger("eventChange",{oldEvent:z,event:this,relatedEvents:Dl(N,w,p),revert:function(){w.dispatch({type:"RESET_EVENTS",eventStore:S})}})}},d.prototype.remove=function(){var c=this._context,p=Po(this);c.dispatch({type:"REMOVE_EVENTS",eventStore:p}),c.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert:function(){c.dispatch({type:"MERGE_EVENTS",eventStore:p})}})},Object.defineProperty(d.prototype,"source",{get:function(){var c=this._def.sourceId;return c?new D(this._context,this._context.getCurrentData().eventSources[c]):null},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"start",{get:function(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"end",{get:function(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"startStr",{get:function(){var c=this._instance;return c?this._context.dateEnv.formatIso(c.range.start,{omitTime:this._def.allDay,forcedTzo:c.forcedStartTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"endStr",{get:function(){var c=this._instance;return c&&this._def.hasEnd?this._context.dateEnv.formatIso(c.range.end,{omitTime:this._def.allDay,forcedTzo:c.forcedEndTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"id",{get:function(){return this._def.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"groupId",{get:function(){return this._def.groupId},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"allDay",{get:function(){return this._def.allDay},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"title",{get:function(){return this._def.title},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"url",{get:function(){return this._def.url},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"display",{get:function(){return this._def.ui.display||"auto"},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"startEditable",{get:function(){return this._def.ui.startEditable},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"durationEditable",{get:function(){return this._def.ui.durationEditable},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"constraint",{get:function(){return this._def.ui.constraints[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"overlap",{get:function(){return this._def.ui.overlap},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"allow",{get:function(){return this._def.ui.allows[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"backgroundColor",{get:function(){return this._def.ui.backgroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"borderColor",{get:function(){return this._def.ui.borderColor},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"textColor",{get:function(){return this._def.ui.textColor},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"classNames",{get:function(){return this._def.ui.classNames},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"extendedProps",{get:function(){return this._def.extendedProps},enumerable:!1,configurable:!0}),d.prototype.toPlainObject=function(c){void 0===c&&(c={});var p=this._def,v=p.ui,S=this.startStr,N=this.endStr,L={};return p.title&&(L.title=p.title),S&&(L.start=S),N&&(L.end=N),p.publicId&&(L.id=p.publicId),p.groupId&&(L.groupId=p.groupId),p.url&&(L.url=p.url),v.display&&"auto"!==v.display&&(L.display=v.display),c.collapseColor&&v.backgroundColor&&v.backgroundColor===v.borderColor?L.color=v.backgroundColor:(v.backgroundColor&&(L.backgroundColor=v.backgroundColor),v.borderColor&&(L.borderColor=v.borderColor)),v.textColor&&(L.textColor=v.textColor),v.classNames.length&&(L.classNames=v.classNames),Object.keys(p.extendedProps).length&&(c.collapseExtendedProps?(0,k.__assign)(L,p.extendedProps):L.extendedProps=p.extendedProps),L},d.prototype.toJSON=function(){return this.toPlainObject()},d}();function Po(d){var c,p,v=d._def,w=d._instance;return{defs:(c={},c[v.defId]=v,c),instances:w?(p={},p[w.instanceId]=w,p):{}}}function Dl(d,c,p){var v=d.defs,w=d.instances,S=[],N=p?p.instanceId:"";for(var L in w){var z=w[L];z.instanceId!==N&&S.push(new ei(c,v[z.defId],z))}return S}var kd={};!function Tl(d,c){kd[d]=c}("gregory",function(){function d(){}return d.prototype.getMarkerYear=function(c){return c.getUTCFullYear()},d.prototype.getMarkerMonth=function(c){return c.getUTCMonth()},d.prototype.getMarkerDay=function(c){return c.getUTCDate()},d.prototype.arrayToMarker=function(c){return oe(c)},d.prototype.markerToArray=function(c){return wn(c)},d}());var yi=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function Bs(d){var c=yi.exec(d);if(c){var p=new Date(Date.UTC(Number(c[1]),c[3]?Number(c[3])-1:0,Number(c[5]||1),Number(c[7]||0),Number(c[8]||0),Number(c[10]||0),c[12]?1e3*Number("0."+c[12]):0));if(ge(p)){var v=null;return c[13]&&(v=("-"===c[15]?-1:1)*(60*Number(c[16]||0)+Number(c[18]||0))),{marker:p,isTimeUnspecified:!c[6],timeZoneOffset:v}}}return null}var br=function(){function d(c){var p=this.timeZone=c.timeZone,v="local"!==p&&"UTC"!==p;c.namedTimeZoneImpl&&v&&(this.namedTimeZoneImpl=new c.namedTimeZoneImpl(p)),this.canComputeOffset=Boolean(!v||this.namedTimeZoneImpl),this.calendarSystem=function Fo(d){return new kd[d]}(c.calendarSystem),this.locale=c.locale,this.weekDow=c.locale.week.dow,this.weekDoy=c.locale.week.doy,"ISO"===c.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof c.firstDay&&(this.weekDow=c.firstDay),"function"==typeof c.weekNumberCalculation&&(this.weekNumberFunc=c.weekNumberCalculation),this.weekText=null!=c.weekText?c.weekText:c.locale.options.weekText,this.weekTextLong=(null!=c.weekTextLong?c.weekTextLong:c.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=c.cmdFormatter,this.defaultSeparator=c.defaultSeparator}return d.prototype.createMarker=function(c){var p=this.createMarkerMeta(c);return null===p?null:p.marker},d.prototype.createNowMarker=function(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):oe(Cr(new Date))},d.prototype.createMarkerMeta=function(c){if("string"==typeof c)return this.parse(c);var p=null;return"number"==typeof c?p=this.timestampToMarker(c):c instanceof Date?(c=c.valueOf(),isNaN(c)||(p=this.timestampToMarker(c))):Array.isArray(c)&&(p=oe(c)),null!==p&&ge(p)?{marker:p,isTimeUnspecified:!1,forcedTzo:null}:null},d.prototype.parse=function(c){var p=Bs(c);if(null===p)return null;var v=p.marker,w=null;return null!==p.timeZoneOffset&&(this.canComputeOffset?v=this.timestampToMarker(v.valueOf()-60*p.timeZoneOffset*1e3):w=p.timeZoneOffset),{marker:v,isTimeUnspecified:p.isTimeUnspecified,forcedTzo:w}},d.prototype.getYear=function(c){return this.calendarSystem.getMarkerYear(c)},d.prototype.getMonth=function(c){return this.calendarSystem.getMarkerMonth(c)},d.prototype.add=function(c,p){var v=this.calendarSystem.markerToArray(c);return v[0]+=p.years,v[1]+=p.months,v[2]+=p.days,v[6]+=p.milliseconds,this.calendarSystem.arrayToMarker(v)},d.prototype.subtract=function(c,p){var v=this.calendarSystem.markerToArray(c);return v[0]-=p.years,v[1]-=p.months,v[2]-=p.days,v[6]-=p.milliseconds,this.calendarSystem.arrayToMarker(v)},d.prototype.addYears=function(c,p){var v=this.calendarSystem.markerToArray(c);return v[0]+=p,this.calendarSystem.arrayToMarker(v)},d.prototype.addMonths=function(c,p){var v=this.calendarSystem.markerToArray(c);return v[1]+=p,this.calendarSystem.arrayToMarker(v)},d.prototype.diffWholeYears=function(c,p){var v=this.calendarSystem;return B(c)===B(p)&&v.getMarkerDay(c)===v.getMarkerDay(p)&&v.getMarkerMonth(c)===v.getMarkerMonth(p)?v.getMarkerYear(p)-v.getMarkerYear(c):null},d.prototype.diffWholeMonths=function(c,p){var v=this.calendarSystem;return B(c)===B(p)&&v.getMarkerDay(c)===v.getMarkerDay(p)?v.getMarkerMonth(p)-v.getMarkerMonth(c)+12*(v.getMarkerYear(p)-v.getMarkerYear(c)):null},d.prototype.greatestWholeUnit=function(c,p){var v=this.diffWholeYears(c,p);return null!==v?{unit:"year",value:v}:null!==(v=this.diffWholeMonths(c,p))?{unit:"month",value:v}:null!==(v=En(c,p))?{unit:"week",value:v}:null!==(v=zn(c,p))?{unit:"day",value:v}:(v=function Pt(d,c){return(c.valueOf()-d.valueOf())/36e5}(c,p),Ot(v)?{unit:"hour",value:v}:(v=function tr(d,c){return(c.valueOf()-d.valueOf())/6e4}(c,p),Ot(v)?{unit:"minute",value:v}:(v=function yn(d,c){return(c.valueOf()-d.valueOf())/1e3}(c,p),Ot(v)?{unit:"second",value:v}:{unit:"millisecond",value:p.valueOf()-c.valueOf()})))},d.prototype.countDurationsBetween=function(c,p,v){var w;return v.years&&null!==(w=this.diffWholeYears(c,p))?w/function Yr(d){return me(d)/365}(v):v.months&&null!==(w=this.diffWholeMonths(c,p))?w/function _t(d){return me(d)/30}(v):v.days&&null!==(w=zn(c,p))?w/me(v):(p.valueOf()-c.valueOf())/Bt(v)},d.prototype.startOf=function(c,p){return"year"===p?this.startOfYear(c):"month"===p?this.startOfMonth(c):"week"===p?this.startOfWeek(c):"day"===p?ln(c):"hour"===p?function un(d){return oe([d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours()])}(c):"minute"===p?function Zt(d){return oe([d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes()])}(c):"second"===p?function Mt(d){return oe([d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds()])}(c):null},d.prototype.startOfYear=function(c){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(c)])},d.prototype.startOfMonth=function(c){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(c),this.calendarSystem.getMarkerMonth(c)])},d.prototype.startOfWeek=function(c){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(c),this.calendarSystem.getMarkerMonth(c),c.getUTCDate()-(c.getUTCDay()-this.weekDow+7)%7])},d.prototype.computeWeekNumber=function(c){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(c)):function nr(d,c,p){var v=d.getUTCFullYear(),w=Nr(d,v,c,p);if(w<1)return Nr(d,v-1,c,p);var S=Nr(d,v+1,c,p);return S>=1?Math.min(w,S):w}(c,this.weekDow,this.weekDoy)},d.prototype.format=function(c,p,v){return void 0===v&&(v={}),p.format({marker:c,timeZoneOffset:null!=v.forcedTzo?v.forcedTzo:this.offsetForMarker(c)},this)},d.prototype.formatRange=function(c,p,v,w){return void 0===w&&(w={}),w.isEndExclusive&&(p=Et(p,-1)),v.formatRange({marker:c,timeZoneOffset:null!=w.forcedStartTzo?w.forcedStartTzo:this.offsetForMarker(c)},{marker:p,timeZoneOffset:null!=w.forcedEndTzo?w.forcedEndTzo:this.offsetForMarker(p)},this,w.defaultSeparator)},d.prototype.formatIso=function(c,p){void 0===p&&(p={});var v=null;return p.omitTimeZoneOffset||(v=null!=p.forcedTzo?p.forcedTzo:this.offsetForMarker(c)),Cn(c,v,p.omitTime)},d.prototype.timestampToMarker=function(c){return"local"===this.timeZone?oe(Cr(new Date(c))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?oe(this.namedTimeZoneImpl.timestampToArray(c)):new Date(c)},d.prototype.offsetForMarker=function(c){return"local"===this.timeZone?-rr(wn(c)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(wn(c)):null},d.prototype.toDate=function(c,p){return"local"===this.timeZone?rr(wn(c)):"UTC"===this.timeZone?new Date(c.valueOf()):this.namedTimeZoneImpl?new Date(c.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(wn(c))*60):new Date(c.valueOf()-(p||0))},d}(),oh=[],_g={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},bg=(0,k.__assign)((0,k.__assign)({},_g),{buttonHints:{prev:"Previous $0",next:"Next $0",today:function(d,c){return"day"===c?"Today":"This "+d}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint:function(d){return"Show "+d+" more event"+(1===d?"":"s")}});function ah(d){for(var c=d.length>0?d[0].code:"en",p=oh.concat(d),v={en:bg},w=0,S=p;w<S.length;w++){var N=S[w];v[N.code]=N}return{map:v,defaultCode:c}}function Od(d,c){return"object"!=typeof d||Array.isArray(d)?function Ag(d,c){var p=[].concat(d||[]),v=function Il(d,c){for(var p=0;p<d.length;p+=1)for(var v=d[p].toLocaleLowerCase().split("-"),w=v.length;w>0;w-=1){var S=v.slice(0,w).join("-");if(c[S])return c[S]}return null}(p,c)||bg;return Us(d,p,v)}(d,c):Us(d.code,[d.code],d)}function Us(d,c,p){var v=ie([_g,p],["buttonText"]);delete v.code;var w=v.week;return delete v.week,{codeArg:d,codes:c,week:w,simpleNumberFormat:new Intl.NumberFormat(d),options:v}}function Sl(d,c){void 0===c&&(c={});var p=Pd(c),v=Ir(c),w=p.createMarkerMeta(d);return w?p.format(w.marker,v,{forcedTzo:w.forcedTzo}):""}function bc(d,c,p){var v=Pd("object"==typeof p&&p?p:{}),w=Ir(p),S=v.createMarkerMeta(d),N=v.createMarkerMeta(c);return S&&N?v.formatRange(S.marker,N.marker,w,{forcedStartTzo:S.forcedTzo,forcedEndTzo:N.forcedTzo,isEndExclusive:p.isEndExclusive,defaultSeparator:Ns.defaultRangeSeparator}):""}function Pd(d){var c=Od(d.locale||"en",ah([]).map);return new br((0,k.__assign)((0,k.__assign)({timeZone:Ns.timeZone,calendarSystem:"gregory"},d),{locale:c}))}var Sr,Eg={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function Lo(d,c){return ko(function $a(d){return(!0===d?[{}]:Array.isArray(d)?d.filter(function(p){return p.daysOfWeek}):"object"==typeof d&&d?[d]:[]).map(function(p){return(0,k.__assign)((0,k.__assign)({},Eg),p)})}(d),null,c)}function Fd(d,c){return d.left>=c.left&&d.left<c.right&&d.top>=c.top&&d.top<c.bottom}function lh(d,c){var p={left:Math.max(d.left,c.left),right:Math.min(d.right,c.right),top:Math.max(d.top,c.top),bottom:Math.min(d.bottom,c.bottom)};return p.left<p.right&&p.top<p.bottom&&p}function oo(d,c,p){return{left:d.left+c,right:d.right+c,top:d.top+p,bottom:d.bottom+p}}function gu(d,c){return{left:Math.min(Math.max(d.left,c.left),c.right),top:Math.min(Math.max(d.top,c.top),c.bottom)}}function Ld(d){return{left:(d.left+d.right)/2,top:(d.top+d.bottom)/2}}function wg(d,c){return{left:d.left-c.left,top:d.top-c.top}}function ao(){return null==Sr&&(Sr=function Ml(){if("undefined"==typeof document)return!0;var d=document.createElement("div");d.style.position="absolute",d.style.top="0px",d.style.left="0px",d.innerHTML="<table><tr><td><div></div></td></tr></table>",d.querySelector("table").style.height="100px",d.querySelector("div").style.height="100%",document.body.appendChild(d);var p=d.querySelector("div").offsetHeight>0;return document.body.removeChild(d),p}()),Sr}var Ac={defs:{},instances:{}},xl=function(){function d(){this.getKeysForEventDefs=Bn(this._getKeysForEventDefs),this.splitDateSelection=Bn(this._splitDateSpan),this.splitEventStore=Bn(this._splitEventStore),this.splitIndividualUi=Bn(this._splitIndividualUi),this.splitEventDrag=Bn(this._splitInteraction),this.splitEventResize=Bn(this._splitInteraction),this.eventUiBuilders={}}return d.prototype.splitProps=function(c){var p=this,v=this.getKeyInfo(c),w=this.getKeysForEventDefs(c.eventStore),S=this.splitDateSelection(c.dateSelection),N=this.splitIndividualUi(c.eventUiBases,w),L=this.splitEventStore(c.eventStore,w),z=this.splitEventDrag(c.eventDrag),X=this.splitEventResize(c.eventResize),xe={};for(var Ue in this.eventUiBuilders=fe(v,function(Yt,an){return p.eventUiBuilders[an]||Bn(mu)}),v){var ut=v[Ue],gt=L[Ue]||Ac;xe[Ue]={businessHours:ut.businessHours||c.businessHours,dateSelection:S[Ue]||null,eventStore:gt,eventUiBases:(0,this.eventUiBuilders[Ue])(c.eventUiBases[""],ut.ui,N[Ue]),eventSelection:gt.instances[c.eventSelection]?c.eventSelection:"",eventDrag:z[Ue]||null,eventResize:X[Ue]||null}}return xe},d.prototype._splitDateSpan=function(c){var p={};if(c)for(var w=0,S=this.getKeysForDateSpan(c);w<S.length;w++)p[S[w]]=c;return p},d.prototype._getKeysForEventDefs=function(c){var p=this;return fe(c.defs,function(v){return p.getKeysForEventDef(v)})},d.prototype._splitEventStore=function(c,p){var v=c.defs,w=c.instances,S={};for(var N in v)for(var L=0,z=p[N];L<z.length;L++)S[X=z[L]]||(S[X]={defs:{},instances:{}}),S[X].defs[N]=v[N];for(var xe in w)for(var Ue=w[xe],ut=0,gt=p[Ue.defId];ut<gt.length;ut++){var X;S[X=gt[ut]]&&(S[X].instances[xe]=Ue)}return S},d.prototype._splitIndividualUi=function(c,p){var v={};for(var w in c)if(w)for(var S=0,N=p[w];S<N.length;S++){var L=N[S];v[L]||(v[L]={}),v[L][w]=c[w]}return v},d.prototype._splitInteraction=function(c){var p={};if(c){var v=this._splitEventStore(c.affectedEvents,this._getKeysForEventDefs(c.affectedEvents)),w=this._getKeysForEventDefs(c.mutatedEvents),S=this._splitEventStore(c.mutatedEvents,w),N=function(z){p[z]||(p[z]={affectedEvents:v[z]||Ac,mutatedEvents:S[z]||Ac,isEvent:c.isEvent})};for(var L in v)N(L);for(var L in S)N(L)}return p},d}();function mu(d,c,p){var v=[];d&&v.push(d),c&&v.push(c);var w={"":Hr(v)};return p&&(0,k.__assign)(w,p),w}function Rl(d,c,p,v){return{dow:d.getUTCDay(),isDisabled:Boolean(v&&!Ee(v.activeRange,d)),isOther:Boolean(v&&!Ee(v.currentRange,d)),isToday:Boolean(c&&Ee(c,d)),isPast:Boolean(p?d<p:!!c&&d<c.start),isFuture:Boolean(p?d>p:!!c&&d>=c.end)}}function lo(d,c){var p=["fc-day","fc-day-"+hn[d.dow]];return d.isDisabled?p.push("fc-day-disabled"):(d.isToday&&(p.push("fc-day-today"),p.push(c.getClass("today"))),d.isPast&&p.push("fc-day-past"),d.isFuture&&p.push("fc-day-future"),d.isOther&&p.push("fc-day-other")),p}function uo(d,c){var p=["fc-slot","fc-slot-"+hn[d.dow]];return d.isDisabled?p.push("fc-slot-disabled"):(d.isToday&&(p.push("fc-slot-today"),p.push(c.getClass("today"))),d.isPast&&p.push("fc-slot-past"),d.isFuture&&p.push("fc-slot-future")),p}var Ar=Ir({year:"numeric",month:"long",day:"numeric"}),Gr=Ir({week:"long"});function Sn(d,c,p,v){void 0===p&&(p="day"),void 0===v&&(v=!0);var w=d.dateEnv,S=d.options,N=d.calendarApi,L=w.format(c,"week"===p?Gr:Ar);if(S.navLinks){var z=w.toDate(c),X=function(xe){var Ue="day"===p?S.navLinkDayClick:"week"===p?S.navLinkWeekClick:null;"function"==typeof Ue?Ue.call(N,w.toDate(c),xe):("string"==typeof Ue&&(p=Ue),N.zoomTo(c,p))};return(0,k.__assign)({title:At(S.navLinkHint,[L,z],L),"data-navlink":""},v?Xe(X):{onClick:X})}return{"aria-label":L}}var Nl,Wa=null;function Ec(){return null===Wa&&(Wa=function wc(){var d=document.createElement("div");He(d,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),d.innerHTML="<div></div>",document.body.appendChild(d);var p=d.firstChild.getBoundingClientRect().left>d.getBoundingClientRect().left;return O(d),p}()),Wa}function Cc(){return Nl||(Nl=function Vd(){var d=document.createElement("div");d.style.overflow="scroll",d.style.position="absolute",d.style.top="-9999px",d.style.left="-9999px",document.body.appendChild(d);var c=_i(d);return document.body.removeChild(d),c}()),Nl}function _i(d){return{x:d.offsetHeight-d.clientHeight,y:d.offsetWidth-d.clientWidth}}function Di(d,c){void 0===c&&(c=!1);var p=window.getComputedStyle(d),v=parseInt(p.borderLeftWidth,10)||0,w=parseInt(p.borderRightWidth,10)||0,S=parseInt(p.borderTopWidth,10)||0,N=parseInt(p.borderBottomWidth,10)||0,L=_i(d),z=L.y-v-w,xe={borderLeft:v,borderRight:w,borderTop:S,borderBottom:N,scrollbarBottom:L.x-S-N,scrollbarLeft:0,scrollbarRight:0};return Ec()&&"rtl"===p.direction?xe.scrollbarLeft=z:xe.scrollbarRight=z,c&&(xe.paddingLeft=parseInt(p.paddingLeft,10)||0,xe.paddingRight=parseInt(p.paddingRight,10)||0,xe.paddingTop=parseInt(p.paddingTop,10)||0,xe.paddingBottom=parseInt(p.paddingBottom,10)||0),xe}function ua(d,c,p){void 0===c&&(c=!1);var v=p?d.getBoundingClientRect():Hs(d),w=Di(d,c),S={left:v.left+w.borderLeft+w.scrollbarLeft,right:v.right-w.borderRight-w.scrollbarRight,top:v.top+w.borderTop,bottom:v.bottom-w.borderBottom-w.scrollbarBottom};return c&&(S.left+=w.paddingLeft,S.right-=w.paddingRight,S.top+=w.paddingTop,S.bottom-=w.paddingBottom),S}function Hs(d){var c=d.getBoundingClientRect();return{left:c.left+window.pageXOffset,top:c.top+window.pageYOffset,right:c.right+window.pageXOffset,bottom:c.bottom+window.pageYOffset}}function Dc(d){return d.getBoundingClientRect().height+function Tc(d){var c=window.getComputedStyle(d);return parseInt(c.marginTop,10)+parseInt(c.marginBottom,10)}(d)}function ms(d){for(var c=[];d instanceof HTMLElement;){var p=window.getComputedStyle(d);if("fixed"===p.position)break;/(auto|scroll)/.test(p.overflow+p.overflowY+p.overflowX)&&c.push(d),d=d.parentNode}return c}function js(d,c,p){var v=!1,w=function(){v||(v=!0,c.apply(this,arguments))},S=function(){v||(v=!0,p&&p.apply(this,arguments))},N=d(w,S);N&&"function"==typeof N.then&&N.then(w,S)}var ca=function(){function d(){this.handlers={},this.thisContext=null}return d.prototype.setThisContext=function(c){this.thisContext=c},d.prototype.setOptions=function(c){this.options=c},d.prototype.on=function(c,p){!function ti(d,c,p){(d[c]||(d[c]=[])).push(p)}(this.handlers,c,p)},d.prototype.off=function(c,p){!function Vo(d,c,p){p?d[c]&&(d[c]=d[c].filter(function(v){return v!==p})):delete d[c]}(this.handlers,c,p)},d.prototype.trigger=function(c){for(var p=[],v=1;v<arguments.length;v++)p[v-1]=arguments[v];for(var w=this.handlers[c]||[],S=this.options&&this.options[c],N=[].concat(S||[],w),L=0,z=N;L<z.length;L++){var X=z[L];X.apply(this.thisContext,p)}},d.prototype.hasHandlers=function(c){return Boolean(this.handlers[c]&&this.handlers[c].length||this.options&&this.options[c])},d}(),yu=function(){function d(c,p,v,w){this.els=p;var S=this.originClientRect=c.getBoundingClientRect();v&&this.buildElHorizontals(S.left),w&&this.buildElVerticals(S.top)}return d.prototype.buildElHorizontals=function(c){for(var p=[],v=[],w=0,S=this.els;w<S.length;w++){var L=S[w].getBoundingClientRect();p.push(L.left-c),v.push(L.right-c)}this.lefts=p,this.rights=v},d.prototype.buildElVerticals=function(c){for(var p=[],v=[],w=0,S=this.els;w<S.length;w++){var L=S[w].getBoundingClientRect();p.push(L.top-c),v.push(L.bottom-c)}this.tops=p,this.bottoms=v},d.prototype.leftToIndex=function(c){var N,v=this.lefts,w=this.rights,S=v.length;for(N=0;N<S;N+=1)if(c>=v[N]&&c<w[N])return N},d.prototype.topToIndex=function(c){var N,v=this.tops,w=this.bottoms,S=v.length;for(N=0;N<S;N+=1)if(c>=v[N]&&c<w[N])return N},d.prototype.getWidth=function(c){return this.rights[c]-this.lefts[c]},d.prototype.getHeight=function(c){return this.bottoms[c]-this.tops[c]},d}(),kl=function(){function d(){}return d.prototype.getMaxScrollTop=function(){return this.getScrollHeight()-this.getClientHeight()},d.prototype.getMaxScrollLeft=function(){return this.getScrollWidth()-this.getClientWidth()},d.prototype.canScrollVertically=function(){return this.getMaxScrollTop()>0},d.prototype.canScrollHorizontally=function(){return this.getMaxScrollLeft()>0},d.prototype.canScrollUp=function(){return this.getScrollTop()>0},d.prototype.canScrollDown=function(){return this.getScrollTop()<this.getMaxScrollTop()},d.prototype.canScrollLeft=function(){return this.getScrollLeft()>0},d.prototype.canScrollRight=function(){return this.getScrollLeft()<this.getMaxScrollLeft()},d}(),Ic=function(d){function c(p){var v=d.call(this)||this;return v.el=p,v}return(0,k.__extends)(c,d),c.prototype.getScrollTop=function(){return this.el.scrollTop},c.prototype.getScrollLeft=function(){return this.el.scrollLeft},c.prototype.setScrollTop=function(p){this.el.scrollTop=p},c.prototype.setScrollLeft=function(p){this.el.scrollLeft=p},c.prototype.getScrollWidth=function(){return this.el.scrollWidth},c.prototype.getScrollHeight=function(){return this.el.scrollHeight},c.prototype.getClientHeight=function(){return this.el.clientHeight},c.prototype.getClientWidth=function(){return this.el.clientWidth},c}(kl),Sc=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,k.__extends)(c,d),c.prototype.getScrollTop=function(){return window.pageYOffset},c.prototype.getScrollLeft=function(){return window.pageXOffset},c.prototype.setScrollTop=function(p){window.scroll(window.pageXOffset,p)},c.prototype.setScrollLeft=function(p){window.scroll(p,window.pageYOffset)},c.prototype.getScrollWidth=function(){return document.documentElement.scrollWidth},c.prototype.getScrollHeight=function(){return document.documentElement.scrollHeight},c.prototype.getClientHeight=function(){return document.documentElement.clientHeight},c.prototype.getClientWidth=function(){return document.documentElement.clientWidth},c}(kl),Bo=function(){function d(c){this.iconOverrideOption&&this.setIconOverride(c[this.iconOverrideOption])}return d.prototype.setIconOverride=function(c){var p,v;if("object"==typeof c&&c){for(v in p=(0,k.__assign)({},this.iconClasses),c)p[v]=this.applyIconOverridePrefix(c[v]);this.iconClasses=p}else!1===c&&(this.iconClasses={})},d.prototype.applyIconOverridePrefix=function(c){var p=this.iconOverridePrefix;return p&&0!==c.indexOf(p)&&(c=p+c),c},d.prototype.getClass=function(c){return this.classes[c]||""},d.prototype.getIconClass=function(c,p){var v;return(v=p&&this.rtlIconClasses&&this.rtlIconClasses[c]||this.iconClasses[c])?this.baseIconClass+" "+v:""},d.prototype.getCustomButtonIconClass=function(c){var p;return this.iconOverrideCustomButtonOption&&(p=c[this.iconOverrideCustomButtonOption])?this.baseIconClass+" "+this.applyIconOverridePrefix(p):""},d}();Bo.prototype.classes={},Bo.prototype.iconClasses={},Bo.prototype.baseIconClass="",Bo.prototype.iconOverridePrefix="";var Uo=function(){function d(c,p,v,w){var S=this;this.execFunc=c,this.emitter=p,this.scrollTime=v,this.scrollTimeReset=w,this.handleScrollRequest=function(N){S.queuedRequest=(0,k.__assign)({},S.queuedRequest||{},N),S.drain()},p.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}return d.prototype.detach=function(){this.emitter.off("_scrollRequest",this.handleScrollRequest)},d.prototype.update=function(c){c&&this.scrollTimeReset?this.fireInitialScroll():this.drain()},d.prototype.fireInitialScroll=function(){this.handleScrollRequest({time:this.scrollTime})},d.prototype.drain=function(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)},d}(),Li=Se({});function _u(d,c,p,v,w,S,N,L,z,X,xe,Ue,ut){return{dateEnv:w,options:p,pluginHooks:N,emitter:X,dispatch:L,getCurrentData:z,calendarApi:xe,viewSpec:d,viewApi:c,dateProfileGenerator:v,theme:S,isRtl:"rtl"===p.direction,addResizeHandler:function(gt){X.on("_resize",gt)},removeResizeHandler:function(gt){X.off("_resize",gt)},createScrollResponder:function(gt){return new Uo(gt,X,Ft(p.scrollTime),p.scrollTimeReset)},registerInteractiveComponent:Ue,unregisterInteractiveComponent:ut}}var Ho=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,k.__extends)(c,d),c.prototype.shouldComponentUpdate=function(p,v){return this.debug&&console.log($t(p,this.props),$t(v,this.state)),!Te(this.props,p,this.propEquality)||!Te(this.state,v,this.stateEquality)},c.addPropsEquality=co,c.addStateEquality=da,c.contextType=Li,c}(R);Ho.prototype.propEquality={},Ho.prototype.stateEquality={};var ur=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,k.__extends)(c,d),c.contextType=Li,c}(Ho);function co(d){var c=Object.create(this.prototype.propEquality);(0,k.__assign)(c,d),this.prototype.propEquality=c}function da(d){var c=Object.create(this.prototype.stateEquality);(0,k.__assign)(c,d),this.prototype.stateEquality=c}function Vi(d,c){"function"==typeof d?d(c):d&&(d.current=c)}var Ol=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.uid=Jt(),p}return(0,k.__extends)(c,d),c.prototype.prepareHits=function(){},c.prototype.queryHit=function(p,v,w,S){return null},c.prototype.isValidSegDownEl=function(p){return!this.props.eventDrag&&!this.props.eventResize&&!U(p,".fc-event-mirror")},c.prototype.isValidDateDownEl=function(p){return!(U(p,".fc-event:not(.fc-bg-event)")||U(p,".fc-more-link")||U(p,"a[data-navlink]")||U(p,".fc-popover"))},c}(ur);function Bi(d){return{id:Jt(),deps:d.deps||[],reducers:d.reducers||[],isLoadingFuncs:d.isLoadingFuncs||[],contextInit:[].concat(d.contextInit||[]),eventRefiners:d.eventRefiners||{},eventDefMemberAdders:d.eventDefMemberAdders||[],eventSourceRefiners:d.eventSourceRefiners||{},isDraggableTransformers:d.isDraggableTransformers||[],eventDragMutationMassagers:d.eventDragMutationMassagers||[],eventDefMutationAppliers:d.eventDefMutationAppliers||[],dateSelectionTransformers:d.dateSelectionTransformers||[],datePointTransforms:d.datePointTransforms||[],dateSpanTransforms:d.dateSpanTransforms||[],views:d.views||{},viewPropsTransformers:d.viewPropsTransformers||[],isPropsValid:d.isPropsValid||null,externalDefTransforms:d.externalDefTransforms||[],viewContainerAppends:d.viewContainerAppends||[],eventDropTransformers:d.eventDropTransformers||[],componentInteractions:d.componentInteractions||[],calendarInteractions:d.calendarInteractions||[],themeClasses:d.themeClasses||{},eventSourceDefs:d.eventSourceDefs||[],cmdFormatter:d.cmdFormatter,recurringTypes:d.recurringTypes||[],namedTimeZonedImpl:d.namedTimeZonedImpl,initialView:d.initialView||"",elementDraggingImpl:d.elementDraggingImpl,optionChangeHandlers:d.optionChangeHandlers||{},scrollGridImpl:d.scrollGridImpl||null,contentTypeHandlers:d.contentTypeHandlers||{},listenerRefiners:d.listenerRefiners||{},optionRefiners:d.optionRefiners||{},propSetHandlers:d.propSetHandlers||{}}}function xr(d,c){return{reducers:d.reducers.concat(c.reducers),isLoadingFuncs:d.isLoadingFuncs.concat(c.isLoadingFuncs),contextInit:d.contextInit.concat(c.contextInit),eventRefiners:(0,k.__assign)((0,k.__assign)({},d.eventRefiners),c.eventRefiners),eventDefMemberAdders:d.eventDefMemberAdders.concat(c.eventDefMemberAdders),eventSourceRefiners:(0,k.__assign)((0,k.__assign)({},d.eventSourceRefiners),c.eventSourceRefiners),isDraggableTransformers:d.isDraggableTransformers.concat(c.isDraggableTransformers),eventDragMutationMassagers:d.eventDragMutationMassagers.concat(c.eventDragMutationMassagers),eventDefMutationAppliers:d.eventDefMutationAppliers.concat(c.eventDefMutationAppliers),dateSelectionTransformers:d.dateSelectionTransformers.concat(c.dateSelectionTransformers),datePointTransforms:d.datePointTransforms.concat(c.datePointTransforms),dateSpanTransforms:d.dateSpanTransforms.concat(c.dateSpanTransforms),views:(0,k.__assign)((0,k.__assign)({},d.views),c.views),viewPropsTransformers:d.viewPropsTransformers.concat(c.viewPropsTransformers),isPropsValid:c.isPropsValid||d.isPropsValid,externalDefTransforms:d.externalDefTransforms.concat(c.externalDefTransforms),viewContainerAppends:d.viewContainerAppends.concat(c.viewContainerAppends),eventDropTransformers:d.eventDropTransformers.concat(c.eventDropTransformers),calendarInteractions:d.calendarInteractions.concat(c.calendarInteractions),componentInteractions:d.componentInteractions.concat(c.componentInteractions),themeClasses:(0,k.__assign)((0,k.__assign)({},d.themeClasses),c.themeClasses),eventSourceDefs:d.eventSourceDefs.concat(c.eventSourceDefs),cmdFormatter:c.cmdFormatter||d.cmdFormatter,recurringTypes:d.recurringTypes.concat(c.recurringTypes),namedTimeZonedImpl:c.namedTimeZonedImpl||d.namedTimeZonedImpl,initialView:d.initialView||c.initialView,elementDraggingImpl:d.elementDraggingImpl||c.elementDraggingImpl,optionChangeHandlers:(0,k.__assign)((0,k.__assign)({},d.optionChangeHandlers),c.optionChangeHandlers),scrollGridImpl:c.scrollGridImpl||d.scrollGridImpl,contentTypeHandlers:(0,k.__assign)((0,k.__assign)({},d.contentTypeHandlers),c.contentTypeHandlers),listenerRefiners:(0,k.__assign)((0,k.__assign)({},d.listenerRefiners),c.listenerRefiners),optionRefiners:(0,k.__assign)((0,k.__assign)({},d.optionRefiners),c.optionRefiners),propSetHandlers:(0,k.__assign)((0,k.__assign)({},d.propSetHandlers),c.propSetHandlers)}}var Gs=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,k.__extends)(c,d),c}(Bo);function Au(d,c,p,v){if(c[d])return c[d];var w=function ch(d,c,p,v){var w=p[d],S=v[d],N=function(xe){return w&&null!==w[xe]?w[xe]:S&&null!==S[xe]?S[xe]:null},L=N("component"),z=N("superType"),X=null;if(z){if(z===d)throw new Error("Can't have a custom view type that references itself");X=Au(z,c,p,v)}return!L&&X&&(L=X.component),L?{type:d,component:L,defaults:(0,k.__assign)((0,k.__assign)({},X?X.defaults:{}),w?w.rawOptions:{}),overrides:(0,k.__assign)((0,k.__assign)({},X?X.overrides:{}),S?S.rawOptions:{})}:null}(d,c,p,v);return w&&(c[d]=w),w}Gs.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"},Gs.prototype.baseIconClass="fc-icon",Gs.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},Gs.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"},Gs.prototype.iconOverrideOption="buttonIcons",Gs.prototype.iconOverrideCustomButtonOption="icon",Gs.prototype.iconOverridePrefix="fc-icon-";var fo=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.rootElRef=we(),p.handleRootEl=function(v){Vi(p.rootElRef,v),p.props.elRef&&Vi(p.props.elRef,v)},p}return(0,k.__extends)(c,d),c.prototype.render=function(){var p=this,v=this.props,w=v.hookProps;return G(qa,{hookProps:w,didMount:v.didMount,willUnmount:v.willUnmount,elRef:this.handleRootEl},function(S){return G(Eu,{hookProps:w,content:v.content,defaultContent:v.defaultContent,backupElRef:p.rootElRef},function(N,L){return v.children(S,fa(v.classNames,w),N,L)})})},c}(ur),Bd=Se(0);function Eu(d){return G(Bd.Consumer,null,function(c){return G(jo,(0,k.__assign)({renderId:c},d))})}var jo=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.innerElRef=we(),p}return(0,k.__extends)(c,d),c.prototype.render=function(){return this.props.children(this.innerElRef,this.renderInnerContent())},c.prototype.componentDidMount=function(){this.updateCustomContent()},c.prototype.componentDidUpdate=function(){this.updateCustomContent()},c.prototype.componentWillUnmount=function(){this.customContentInfo&&this.customContentInfo.destroy&&this.customContentInfo.destroy()},c.prototype.renderInnerContent=function(){var p=this.customContentInfo,v=this.getInnerContent(),w=this.getContentMeta(v);return p&&p.contentKey===w.contentKey?p&&(p.contentVal=v[w.contentKey]):(p&&(p.destroy&&p.destroy(),p=this.customContentInfo=null),w.contentKey&&(p=this.customContentInfo=(0,k.__assign)({contentKey:w.contentKey,contentVal:v[w.contentKey]},w.buildLifecycleFuncs()))),p?[]:v},c.prototype.getInnerContent=function(){var p=this.props,v=Ui(p.content,p.hookProps);return void 0===v&&(v=Ui(p.defaultContent,p.hookProps)),null==v?null:v},c.prototype.getContentMeta=function(p){var v=this.context.pluginHooks.contentTypeHandlers,w="",S=null;if(p)for(var N in v)if(void 0!==p[N]){w=N,S=v[N];break}return{contentKey:w,buildLifecycleFuncs:S}},c.prototype.updateCustomContent=function(){this.customContentInfo&&this.customContentInfo.render(this.innerElRef.current||this.props.backupElRef.current,this.customContentInfo.contentVal)},c}(ur),qa=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.handleRootEl=function(v){p.rootEl=v,p.props.elRef&&Vi(p.props.elRef,v)},p}return(0,k.__extends)(c,d),c.prototype.render=function(){return this.props.children(this.handleRootEl)},c.prototype.componentDidMount=function(){var p=this.props.didMount;p&&p((0,k.__assign)((0,k.__assign)({},this.props.hookProps),{el:this.rootEl}))},c.prototype.componentWillUnmount=function(){var p=this.props.willUnmount;p&&p((0,k.__assign)((0,k.__assign)({},this.props.hookProps),{el:this.rootEl}))},c}(ur);function Rr(){var d,c,p=[];return function(v,w){return(!c||!lt(c,w)||v!==d)&&(d=v,c=w,p=fa(v,w)),p}}function fa(d,c){return"function"==typeof d&&(d=d(c)),ks(d)}function Ui(d,c){return"function"==typeof d?d(c,G):d}var ni=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.normalizeClassNames=Rr(),p}return(0,k.__extends)(c,d),c.prototype.render=function(){var v=this.props,w=this.context,S=w.options,N={view:w.viewApi},L=this.normalizeClassNames(S.viewClassNames,N);return G(qa,{hookProps:N,didMount:S.viewDidMount,willUnmount:S.viewWillUnmount,elRef:v.elRef},function(z){return v.children(z,["fc-"+v.viewSpec.type+"-view","fc-view"].concat(L))})},c}(ur);function Mc(d){return fe(d,Hi)}function Hi(d){var c="function"==typeof d?{component:d}:d,p=c.component;return c.content&&(p=function ns(d){return function(c){return G(Li.Consumer,null,function(p){return G(ni,{viewSpec:p.viewSpec},function(v,w){var S=(0,k.__assign)((0,k.__assign)({},c),{nextDayThreshold:p.options.nextDayThreshold});return G(fo,{hookProps:S,classNames:d.classNames,content:d.content,didMount:d.didMount,willUnmount:d.willUnmount,elRef:v},function(N,L,z,X){return G("div",{className:w.concat(L).join(" "),ref:N},X)})})})}}(c)),{superType:c.type,component:p,rawOptions:c}}function ho(d,c,p,v){var w=Mc(d),S=Mc(c.views),N=function uh(d,c){var v,p={};for(v in d)Au(v,p,d,c);for(v in c)Au(v,p,d,c);return p}(w,S);return fe(N,function(L){return function wu(d,c,p,v,w){var S=d.overrides.duration||d.defaults.duration||v.duration||p.duration,N=null,L="",z="",X={};if(S&&(N=function Pl(d){var c=JSON.stringify(d),p=zs[c];return void 0===p&&(p=Ft(d),zs[c]=p),p}(S))){var xe=On(N);L=xe.unit,1===xe.value&&(z=L,X=c[L]?c[L].rawOptions:{})}var Ue=function(gt){var wt=gt.buttonText||{},Yt=d.defaults.buttonTextKey;return null!=Yt&&null!=wt[Yt]?wt[Yt]:null!=wt[d.type]?wt[d.type]:null!=wt[z]?wt[z]:null},ut=function(gt){var wt=gt.buttonHints||{},Yt=d.defaults.buttonTextKey;return null!=Yt&&null!=wt[Yt]?wt[Yt]:null!=wt[d.type]?wt[d.type]:null!=wt[z]?wt[z]:null};return{type:d.type,component:d.component,duration:N,durationUnit:L,singleUnit:z,optionDefaults:d.defaults,optionOverrides:(0,k.__assign)((0,k.__assign)({},X),d.overrides),buttonTextOverride:Ue(v)||Ue(p)||d.overrides.buttonText,buttonTextDefault:Ue(w)||d.defaults.buttonText||Ue(Ns)||d.type,buttonTitleOverride:ut(v)||ut(p)||d.overrides.buttonHint,buttonTitleDefault:ut(w)||d.defaults.buttonHint||ut(Ns)}}(L,S,c,p,v)})}var zs={},Go=function(){function d(c){this.props=c,this.nowDate=Ga(c.nowInput,c.dateEnv),this.initHiddenDays()}return d.prototype.buildPrev=function(c,p,v){var w=this.props.dateEnv,S=w.subtract(w.startOf(p,c.currentRangeUnit),c.dateIncrement);return this.build(S,-1,v)},d.prototype.buildNext=function(c,p,v){var w=this.props.dateEnv,S=w.add(w.startOf(p,c.currentRangeUnit),c.dateIncrement);return this.build(S,1,v)},d.prototype.build=function(c,p,v){void 0===v&&(v=!0);var S,N,L,z,X,xe,w=this.props;return S=this.buildValidRange(),S=this.trimHiddenDays(S),v&&(c=function Ge(d,c){return null!=c.start&&d<c.start?c.start:null!=c.end&&d>=c.end?new Date(c.end.valueOf()-1):d}(c,S)),N=this.buildCurrentRangeInfo(c,p),L=/^(year|month|week|day)$/.test(N.unit),z=this.buildRenderRange(this.trimHiddenDays(N.range),N.unit,L),X=z=this.trimHiddenDays(z),w.showNonCurrentDates||(X=Ps(X,N.range)),X=Ps(X=this.adjustActiveRange(X),S),xe=Z(N.range,S),{validRange:S,currentRange:N.range,currentRangeUnit:N.unit,isRangeAllDay:L,activeRange:X,renderRange:z,slotMinTime:w.slotMinTime,slotMaxTime:w.slotMaxTime,isValid:xe,dateIncrement:this.buildDateIncrement(N.duration)}},d.prototype.buildValidRange=function(){var c=this.props.validRangeInput,p="function"==typeof c?c.call(this.props.calendarApi,this.nowDate):c;return this.refineRange(p)||{start:null,end:null}},d.prototype.buildCurrentRangeInfo=function(c,p){var L,v=this.props,w=null,S=null,N=null;return v.duration?N=this.buildRangeFromDuration(c,p,w=v.duration,S=v.durationUnit):(L=this.props.dayCount)?(S="day",N=this.buildRangeFromDayCount(c,p,L)):(N=this.buildCustomVisibleRange(c))?S=v.dateEnv.greatestWholeUnit(N.start,N.end).unit:(S=On(w=this.getFallbackDuration()).unit,N=this.buildRangeFromDuration(c,p,w,S)),{duration:w,unit:S,range:N}},d.prototype.getFallbackDuration=function(){return Ft({day:1})},d.prototype.adjustActiveRange=function(c){var p=this.props,v=p.dateEnv,S=p.slotMinTime,N=p.slotMaxTime,L=c.start,z=c.end;return p.usesMinMaxTime&&(me(S)<0&&(L=ln(L),L=v.add(L,S)),me(N)>1&&(z=Ze(z=ln(z),-1),z=v.add(z,N))),{start:L,end:z}},d.prototype.buildRangeFromDuration=function(c,p,v,w){var z,X,xe,S=this.props,N=S.dateEnv,L=S.dateAlignment;if(!L){var Ue=this.props.dateIncrement;L=Ue&&Bt(Ue)<Bt(v)?On(Ue).unit:w}function ut(){z=N.startOf(c,L),X=N.add(z,v),xe={start:z,end:X}}return me(v)<=1&&this.isHiddenDay(z)&&(z=ln(z=this.skipHiddenDays(z,p))),ut(),this.trimHiddenDays(xe)||(c=this.skipHiddenDays(c,p),ut()),xe},d.prototype.buildRangeFromDayCount=function(c,p,v){var X,w=this.props,N=w.dateAlignment,L=0,z=c;N&&(z=w.dateEnv.startOf(z,N)),z=ln(z),X=z=this.skipHiddenDays(z,p);do{X=Ze(X,1),this.isHiddenDay(X)||(L+=1)}while(L<v);return{start:z,end:X}},d.prototype.buildCustomVisibleRange=function(c){var p=this.props,v=p.visibleRangeInput,w="function"==typeof v?v.call(p.calendarApi,p.dateEnv.toDate(c)):v,S=this.refineRange(w);return!S||null!=S.start&&null!=S.end?S:null},d.prototype.buildRenderRange=function(c,p,v){return c},d.prototype.buildDateIncrement=function(c){var v;return this.props.dateIncrement||((v=this.props.dateAlignment)?Ft(1,v):c||Ft({days:1}))},d.prototype.refineRange=function(c){if(c){var p=function Va(d,c){var p=null,v=null;return d.start&&(p=c.createMarker(d.start)),d.end&&(v=c.createMarker(d.end)),!p&&!v||p&&v&&v<p?null:{start:p,end:v}}(c,this.props.dateEnv);return p&&(p=ps(p)),p}return null},d.prototype.initHiddenDays=function(){var w,c=this.props.hiddenDays||[],p=[],v=0;for(!1===this.props.weekends&&c.push(0,6),w=0;w<7;w+=1)(p[w]=-1!==c.indexOf(w))||(v+=1);if(!v)throw new Error("invalid hiddenDays");this.isHiddenDayHash=p},d.prototype.trimHiddenDays=function(c){var p=c.start,v=c.end;return p&&(p=this.skipHiddenDays(p)),v&&(v=this.skipHiddenDays(v,-1,!0)),null==p||null==v||p<v?{start:p,end:v}:null},d.prototype.isHiddenDay=function(c){return c instanceof Date&&(c=c.getUTCDay()),this.isHiddenDayHash[c]},d.prototype.skipHiddenDays=function(c,p,v){for(void 0===p&&(p=1),void 0===v&&(v=!1);this.isHiddenDayHash[(c.getUTCDay()+(v?p:0)+7)%7];)c=Ze(c,p);return c},d}();function Za(d){for(var c in d)if(d[c].isFetching)return!0;return!1}function Tg(d,c,p,v){for(var w={},S=0,N=c;S<N.length;S++){var L=N[S];w[L.sourceId]=L}return p&&(w=Rc(w,p,v)),(0,k.__assign)((0,k.__assign)({},d),w)}function Rc(d,c,p){return kc(d,re(d,function(v){return function Nc(d,c,p){return zo(d,p)?!p.options.lazyFetching||!d.fetchRange||d.isFetching||c.start<d.fetchRange.start||c.end>d.fetchRange.end:!d.latestFetchId}(v,c,p)}),c,!1,p)}function kc(d,c,p,v,w){var S={};for(var N in d){var L=d[N];S[N]=c[N]?Oc(L,p,v,w):L}return S}function Oc(d,c,p,v){var w=v.options,S=v.calendarApi,N=v.pluginHooks.eventSourceDefs[d.sourceDefId],L=Jt();return N.fetch({eventSource:d,range:c,isRefetch:p,context:v},function(z){var X=z.rawEvents;w.eventSourceSuccess&&(X=w.eventSourceSuccess.call(S,X,z.xhr)||X),d.success&&(X=d.success.call(S,X,z.xhr)||X),v.dispatch({type:"RECEIVE_EVENTS",sourceId:d.sourceId,fetchId:L,fetchRange:c,rawEvents:X})},function(z){console.warn(z.message,z),w.eventSourceFailure&&w.eventSourceFailure.call(S,z),d.failure&&d.failure(z),v.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:d.sourceId,fetchId:L,fetchRange:c,error:z})}),(0,k.__assign)((0,k.__assign)({},d),{isFetching:!0,latestFetchId:L})}function ha(d,c){return re(d,function(p){return zo(p,c)})}function zo(d,c){return!c.pluginHooks.eventSourceDefs[d.sourceDefId].ignoreRange}function pa(d,c){var p;if(c){p=[];for(var v=0,w=d;v<w.length;v++){var S=w[v],N=c(S);N?p.push(N):null==N&&p.push(S)}}else p=d;return p}function Fc(d,c){return ia(d,function(p){return p.sourceId!==c})}function hh(d,c){switch(c.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return c.selection;default:return d}}function Tu(d,c){switch(c.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return c.eventInstanceId;default:return d}}function Iu(d,c){var p;switch(c.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return{affectedEvents:(p=c.state).affectedEvents,mutatedEvents:p.mutatedEvents,isEvent:p.isEvent};default:return d}}function Ud(d,c){var p;switch(c.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return{affectedEvents:(p=c.state).affectedEvents,mutatedEvents:p.mutatedEvents,isEvent:p.isEvent};default:return d}}function ui(d,c,p,v,w){return{header:d.headerToolbar?ga(d.headerToolbar,d,c,p,v,w):null,footer:d.footerToolbar?ga(d.footerToolbar,d,c,p,v,w):null}}function ga(d,c,p,v,w,S){var N={},L=[],z=!1;for(var X in d){var Ue=ph(d[X],c,p,v,w,S);N[X]=Ue.widgets,L.push.apply(L,Ue.viewsWithButtons),z=z||Ue.hasTitle}return{sectionWidgets:N,viewsWithButtons:L,hasTitle:z}}function ph(d,c,p,v,w,S){var N="rtl"===c.direction,L=c.customButtons||{},z=p.buttonText||{},X=c.buttonText||{},xe=p.buttonHints||{},Ue=c.buttonHints||{},ut=d?d.split(" "):[],gt=[],wt=!1;return{widgets:ut.map(function(an){return an.split(",").map(function(xt){if("title"===xt)return wt=!0,{buttonName:xt};var ir,Pr,_r,di,qr,ys;if(ir=L[xt])_r=function(Zs){ir.click&&ir.click.call(Zs.target,Zs,Zs.target)},(di=v.getCustomButtonIconClass(ir))||(di=v.getIconClass(xt,N))||(qr=ir.text),ys=ir.hint||ir.text;else if(Pr=w[xt]){gt.push(xt),_r=function(){S.changeView(xt)},(qr=Pr.buttonTextOverride)||(di=v.getIconClass(xt,N))||(qr=Pr.buttonTextDefault);var zi=Pr.buttonTextOverride||Pr.buttonTextDefault;ys=At(Pr.buttonTitleOverride||Pr.buttonTitleDefault||c.viewHint,[zi,xt],zi)}else if(S[xt])if(_r=function(){S[xt]()},(qr=z[xt])||(di=v.getIconClass(xt,N))||(qr=X[xt]),"prevYear"===xt||"nextYear"===xt){var Ao="prevYear"===xt?"prev":"next";ys=At(xe[Ao]||Ue[Ao],[X.year||"year","year"],X[xt])}else ys=function(Zs){return At(xe[xt]||Ue[xt],[X[Zs]||Zs,Zs],X[xt])};return{buttonName:xt,buttonClick:_r,buttonIcon:di,buttonText:qr,buttonHint:ys}})}),viewsWithButtons:gt,hasTitle:wt}}function Qa(d,c,p,v,w){var S=null;"GET"===(d=d.toUpperCase())?c=function Ws(d,c){return d+(-1===d.indexOf("?")?"?":"&")+qs(c)}(c,p):S=qs(p);var N=new XMLHttpRequest;N.open(d,c,!0),"GET"!==d&&N.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),N.onload=function(){if(N.status>=200&&N.status<400){var L=!1,z=void 0;try{z=JSON.parse(N.responseText),L=!0}catch(X){}L?v(z,N):w("Failure parsing JSON",N)}else w("Request failed",N)},N.onerror=function(){w("Request failed",N)},N.send(S)}function qs(d){var c=[];for(var p in d)c.push(encodeURIComponent(p)+"="+encodeURIComponent(d[p]));return c.join("&")}function yo(d,c){for(var p=ht(c.getCurrentData().eventSources),v=[],w=0,S=d;w<S.length;w++){for(var N=S[w],L=!1,z=0;z<p.length;z+=1)if(p[z]._raw===N){p.splice(z,1),L=!0;break}L||v.push(N)}for(var X=0,xe=p;X<xe.length;X++)c.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:xe[X].sourceId});for(var ut=0,gt=v;ut<gt.length;ut++)c.calendarApi.addEventSource(gt[ut])}var zd=[Bi({eventSourceDefs:[{ignoreRange:!0,parseMeta:function(d){return Array.isArray(d.events)?d.events:null},fetch:function(d,c){c({rawEvents:d.eventSource.meta})}}]}),Bi({eventSourceDefs:[{parseMeta:function(d){return"function"==typeof d.events?d.events:null},fetch:function(d,c,p){js(d.eventSource.meta.bind(null,mc(d.range,d.context.dateEnv)),function(S){c({rawEvents:S})},p)}}]}),Bi({eventSourceRefiners:{method:String,extraParams:tt,startParam:String,endParam:String,timeZoneParam:String},eventSourceDefs:[{parseMeta:function(d){return!d.url||"json"!==d.format&&d.format?null:{url:d.url,format:"json",method:(d.method||"GET").toUpperCase(),extraParams:d.extraParams,startParam:d.startParam,endParam:d.endParam,timeZoneParam:d.timeZoneParam}},fetch:function(d,c,p){var v=d.eventSource.meta,w=function Ll(d,c,p){var S,N,L,z,v=p.dateEnv,w=p.options,X={};return null==(S=d.startParam)&&(S=w.startParam),null==(N=d.endParam)&&(N=w.endParam),null==(L=d.timeZoneParam)&&(L=w.timeZoneParam),z="function"==typeof d.extraParams?d.extraParams():d.extraParams||{},(0,k.__assign)(X,z),X[S]=v.formatIso(c.start),X[N]=v.formatIso(c.end),"local"!==v.timeZone&&(X[L]=v.timeZone),X}(v,d.range,d.context);Qa(v.method,v.url,w,function(S,N){c({rawEvents:S,xhr:N})},function(S,N){p({message:S,xhr:N})})}}]}),Bi({recurringTypes:[{parse:function(d,c){if(d.daysOfWeek||d.startTime||d.endTime||d.startRecur||d.endRecur){var p={daysOfWeek:d.daysOfWeek||null,startTime:d.startTime||null,endTime:d.endTime||null,startRecur:d.startRecur?c.createMarker(d.startRecur):null,endRecur:d.endRecur?c.createMarker(d.endRecur):null},v=void 0;return d.duration&&(v=d.duration),!v&&d.startTime&&d.endTime&&(v=function kr(d,c){return{years:d.years-c.years,months:d.months-c.months,days:d.days-c.days,milliseconds:d.milliseconds-c.milliseconds}}(d.endTime,d.startTime)),{allDayGuess:Boolean(!d.startTime&&!d.endTime),duration:v,typeData:p}}return null},expand:function(d,c,p){var v=Ps(c,{start:d.startRecur,end:d.endRecur});return v?function Ja(d,c,p,v){for(var w=d?ke(d):null,S=ln(p.start),N=p.end,L=[];S<N;){var z=void 0;(!w||w[S.getUTCDay()])&&(z=c?v.add(S,c):S,L.push(z)),S=Ze(S,1)}return L}(d.daysOfWeek,d.startTime,v,p):[]}}],eventRefiners:{daysOfWeek:tt,startTime:Ft,endTime:Ft,duration:Ft,startRecur:tt,endRecur:tt}}),Bi({optionChangeHandlers:{events:function(d,c){yo([d],c)},eventSources:yo}}),Bi({isLoadingFuncs:[function(d){return Za(d.eventSources)}],contentTypeHandlers:{html:function Vc(){var d=null,c="";return{render:function p(w,S){(w!==d||S!==c)&&(w.innerHTML=S),d=w,c=S},destroy:function v(){d.innerHTML="",d=null,c=""}}},domNodes:function Ru(){var d=null,c=[];function v(){c.forEach(O),c=[],d=null}return{render:function p(w,S){var N=Array.prototype.slice.call(S);if(w!==d||!mi(c,N)){for(var L=0,z=N;L<z.length;L++)w.appendChild(z[L]);v()}d=w,c=N},destroy:v}}},propSetHandlers:{dateProfile:function Bl(d,c){c.emitter.trigger("datesSet",(0,k.__assign)((0,k.__assign)({},mc(d.activeRange,c.dateEnv)),{view:c.viewApi}))},eventStore:function xu(d,c){var p=c.emitter;p.hasHandlers("eventsSet")&&p.trigger("eventsSet",Dl(d,c))}}})],Bc=function(){function d(c){this.drainedOption=c,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}return d.prototype.request=function(c){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),null==c?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),c))},d.prototype.pause=function(c){void 0===c&&(c="");var p=this.pauseDepths;p[c]=(p[c]||0)+1,this.clearTimeout()},d.prototype.resume=function(c,p){void 0===c&&(c="");var v=this.pauseDepths;c in v&&(p?delete v[c]:(v[c]-=1,v[c]<=0&&delete v[c]),this.tryDrain())},d.prototype.isPaused=function(){return Object.keys(this.pauseDepths).length},d.prototype.tryDrain=function(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}},d.prototype.clear=function(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}},d.prototype.clearTimeout=function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)},d.prototype.drained=function(){this.drainedOption&&this.drainedOption()},d}(),Xa=function(){function d(c,p){this.runTaskOption=c,this.drainedOption=p,this.queue=[],this.delayedRunner=new Bc(this.drain.bind(this))}return d.prototype.request=function(c,p){this.queue.push(c),this.delayedRunner.request(p)},d.prototype.pause=function(c){this.delayedRunner.pause(c)},d.prototype.resume=function(c,p){this.delayedRunner.resume(c,p)},d.prototype.drain=function(){for(var c=this.queue;c.length;){for(var p=[],v=void 0;v=c.shift();)this.runTask(v),p.push(v);this.drained(p)}},d.prototype.runTask=function(c){this.runTaskOption&&this.runTaskOption(c)},d.prototype.drained=function(c){this.drainedOption&&this.drainedOption(c)},d}();function gh(d,c,p){var v;return v=/^(year|month)$/.test(d.currentRangeUnit)?d.currentRange:d.activeRange,p.formatRange(v.start,v.end,Ir(c.titleFormat||function mh(d){var c=d.currentRangeUnit;if("year"===c)return{year:"numeric"};if("month"===c)return{year:"numeric",month:"long"};var p=zn(d.currentRange.start,d.currentRange.end);return null!==p&&p>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}(d)),{isEndExclusive:d.isRangeAllDay,defaultSeparator:c.titleRangeSeparator})}var _o=function(){function d(c){var p=this;this.computeOptionsData=Bn(this._computeOptionsData),this.computeCurrentViewData=Bn(this._computeCurrentViewData),this.organizeRawLocales=Bn(ah),this.buildLocale=Bn(Od),this.buildPluginHooks=function bu(){var p,d=[],c=[];return function(v,w){return(!p||!mi(v,d)||!mi(w,c))&&(p=function Cg(d,c){var p={},v={reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,contentTypeHandlers:{},listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function w(S){for(var N=0,L=S;N<L.length;N++){var z=L[N];p[z.id]||(p[z.id]=!0,w(z.deps),v=xr(v,z))}}return d&&w(d),w(c),v}(v,w)),d=v,c=w,p}}(),this.buildDateEnv=Bn(Ul),this.buildTheme=Bn(ma),this.parseToolbars=Bn(ui),this.buildViewSpecs=Bn(ho),this.buildDateProfileGenerator=Qi(Sg),this.buildViewApi=Bn(Mg),this.buildViewUiProps=Qi(Uc),this.buildEventUiBySource=Bn(ey,lt),this.buildEventUiBases=Bn(Hl),this.parseContextBusinessHours=Qi($d),this.buildTitle=Bn(gh),this.emitter=new ca,this.actionRunner=new Xa(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.getCurrentData=function(){return p.data},this.dispatch=function(Pr){p.actionRunner.request(Pr)},this.props=c,this.actionRunner.pause();var v={},w=this.computeOptionsData(c.optionOverrides,v,c.calendarApi),S=w.calendarOptions.initialView||w.pluginHooks.initialView,N=this.computeCurrentViewData(S,w,c.optionOverrides,v);c.calendarApi.currentDataManager=this,this.emitter.setThisContext(c.calendarApi),this.emitter.setOptions(N.options);var L=function yg(d,c){var p=d.initialDate;return null!=p?c.createMarker(p):Ga(d.now,c)}(w.calendarOptions,w.dateEnv),z=N.dateProfileGenerator.build(L);Ee(z.activeRange,L)||(L=z.currentRange.start);for(var X={dateEnv:w.dateEnv,options:w.calendarOptions,pluginHooks:w.pluginHooks,calendarApi:c.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},xe=0,Ue=w.pluginHooks.contextInit;xe<Ue.length;xe++)(0,Ue[xe])(X);for(var gt=function dh(d,c,p){var v=c?c.activeRange:null;return Tg({},function $s(d,c){var p=Cl(c),v=[].concat(d.eventSources||[]),w=[];d.initialEvents&&v.unshift(d.initialEvents),d.events&&v.unshift(d.events);for(var S=0,N=v;S<N.length;S++){var z=ja(N[S],c,p);z&&w.push(z)}return w}(d,p),v,p)}(w.calendarOptions,z,X),wt={dynamicOptionOverrides:v,currentViewType:S,currentDate:L,dateProfile:z,businessHours:this.parseContextBusinessHours(X),eventSources:gt,eventUiBases:{},eventStore:{defs:{},instances:{}},renderableEventStore:{defs:{},instances:{}},dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(X).selectionConfig},Yt=(0,k.__assign)((0,k.__assign)({},X),wt),an=0,xt=w.pluginHooks.reducers;an<xt.length;an++)(0,k.__assign)(wt,(0,xt[an])(null,null,Yt));jl(wt,X)&&this.emitter.trigger("loading",!0),this.state=wt,this.updateData(),this.actionRunner.resume()}return d.prototype.resetOptions=function(c,p){var v=this.props;v.optionOverrides=p?(0,k.__assign)((0,k.__assign)({},v.optionOverrides),c):c,this.actionRunner.request({type:"NOTHING"})},d.prototype._handleAction=function(c){var p=this,v=p.props,w=p.state,S=p.emitter,N=function Dg(d,c){var p;return"SET_OPTION"===c.type?(0,k.__assign)((0,k.__assign)({},d),((p={})[c.optionName]=c.rawOptionValue,p)):d}(w.dynamicOptionOverrides,c),L=this.computeOptionsData(v.optionOverrides,N,v.calendarApi),z=function Fl(d,c){return"CHANGE_VIEW_TYPE"===c.type&&(d=c.viewType),d}(w.currentViewType,c),X=this.computeCurrentViewData(z,L,v.optionOverrides,N);v.calendarApi.currentDataManager=this,S.setThisContext(v.calendarApi),S.setOptions(X.options);var xe={dateEnv:L.dateEnv,options:L.calendarOptions,pluginHooks:L.pluginHooks,calendarApi:v.calendarApi,dispatch:this.dispatch,emitter:S,getCurrentData:this.getCurrentData},Ue=w.currentDate,ut=w.dateProfile;this.data&&this.data.dateProfileGenerator!==X.dateProfileGenerator&&(ut=X.dateProfileGenerator.build(Ue)),Ue=function _c(d,c){return"CHANGE_DATE"===c.type?c.dateMarker:d}(Ue,c),ut=function Xv(d,c,p,v){var w;switch(c.type){case"CHANGE_VIEW_TYPE":return v.build(c.dateMarker||p);case"CHANGE_DATE":return v.build(c.dateMarker);case"PREV":if((w=v.buildPrev(d,p)).isValid)return w;break;case"NEXT":if((w=v.buildNext(d,p)).isValid)return w}return d}(ut,c,Ue,X.dateProfileGenerator),("PREV"===c.type||"NEXT"===c.type||!Ee(ut.currentRange,Ue))&&(Ue=ut.currentRange.start);for(var gt=function Ti(d,c,p,v){var w=p?p.activeRange:null;switch(c.type){case"ADD_EVENT_SOURCES":return Tg(d,c.sources,w,v);case"REMOVE_EVENT_SOURCE":return function Cu(d,c){return re(d,function(p){return p.sourceId!==c})}(d,c.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return p?Rc(d,w,v):d;case"FETCH_EVENT_SOURCES":return kc(d,c.sourceIds?ke(c.sourceIds):ha(d,v),w,c.isRefetch||!1,v);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return function Ka(d,c,p,v){var w,S=d[c];return S&&p===S.latestFetchId?(0,k.__assign)((0,k.__assign)({},d),((w={})[c]=(0,k.__assign)((0,k.__assign)({},S),{isFetching:!1,fetchRange:v}),w)):d}(d,c.sourceId,c.fetchId,c.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return d}}(w.eventSources,c,ut,xe),wt=function Ig(d,c,p,v,w){switch(c.type){case"RECEIVE_EVENTS":return function po(d,c,p,v,w,S){if(c&&p===c.latestFetchId){var N=ko(function $o(d,c,p){var v=p.options.eventDataTransform,w=c?c.eventDataTransform:null;return w&&(d=pa(d,w)),v&&(d=pa(d,v)),d}(w,c,S),c,S);return v&&(N=bt(N,v,S)),no(Fc(d,c.sourceId),N)}return d}(d,p[c.sourceId],c.fetchId,c.fetchRange,c.rawEvents,w);case"ADD_EVENTS":return function fh(d,c,p,v){return p&&(c=bt(c,p,v)),no(d,c)}(d,c.eventStore,v?v.activeRange:null,w);case"RESET_EVENTS":return c.eventStore;case"MERGE_EVENTS":return no(d,c.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return v?bt(d,v.activeRange,w):d;case"REMOVE_EVENTS":return function xd(d,c){var p=d.defs,v=d.instances,w={},S={};for(var N in p)c.defs[N]||(w[N]=p[N]);for(var L in v)!c.instances[L]&&w[v[L].defId]&&(S[L]=v[L]);return{defs:w,instances:S}}(d,c.eventStore);case"REMOVE_EVENT_SOURCE":return Fc(d,c.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return ia(d,function(S){return!S.sourceId});case"REMOVE_ALL_EVENTS":return{defs:{},instances:{}};default:return d}}(w.eventStore,c,gt,ut,xe),an=Za(gt)&&!X.options.progressiveEventRendering&&w.renderableEventStore||wt,xt=this.buildViewUiProps(xe),ir=xt.eventUiSingleBase,Pr=xt.selectionConfig,_r=this.buildEventUiBySource(gt),qr={dynamicOptionOverrides:N,currentViewType:z,currentDate:Ue,dateProfile:ut,eventSources:gt,eventStore:wt,renderableEventStore:an,selectionConfig:Pr,eventUiBases:this.buildEventUiBases(an.defs,ir,_r),businessHours:this.parseContextBusinessHours(xe),dateSelection:hh(w.dateSelection,c),eventSelection:Tu(w.eventSelection,c),eventDrag:Iu(w.eventDrag,c),eventResize:Ud(w.eventResize,c)},ys=(0,k.__assign)((0,k.__assign)({},xe),qr),zi=0,Ao=L.pluginHooks.reducers;zi<Ao.length;zi++)(0,k.__assign)(qr,(0,Ao[zi])(w,c,ys));var rf=jl(w,xe),Vu=jl(qr,xe);!rf&&Vu?S.trigger("loading",!0):rf&&!Vu&&S.trigger("loading",!1),this.state=qr,v.onAction&&v.onAction(c)},d.prototype.updateData=function(){var p=this.props,v=this.state,w=this.data,S=this.computeOptionsData(p.optionOverrides,v.dynamicOptionOverrides,p.calendarApi),N=this.computeCurrentViewData(v.currentViewType,S,p.optionOverrides,v.dynamicOptionOverrides),L=this.data=(0,k.__assign)((0,k.__assign)((0,k.__assign)({viewTitle:this.buildTitle(v.dateProfile,N.options,S.dateEnv),calendarApi:p.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},S),N),v),z=S.pluginHooks.optionChangeHandlers,X=w&&w.calendarOptions,xe=S.calendarOptions;if(X&&X!==xe)for(var Ue in X.timeZone!==xe.timeZone&&(v.eventSources=L.eventSources=function xc(d,c,p){var v=c?c.activeRange:null;return kc(d,ha(d,p),v,!0,p)}(L.eventSources,v.dateProfile,L),v.eventStore=L.eventStore=function Pc(d,c,p){var v=d.defs,w=fe(d.instances,function(S){var N=v[S.defId];return N.allDay||N.recurringDef?S:(0,k.__assign)((0,k.__assign)({},S),{range:{start:p.createMarker(c.toDate(S.range.start,S.forcedStartTzo)),end:p.createMarker(c.toDate(S.range.end,S.forcedEndTzo))},forcedStartTzo:p.canComputeOffset?null:S.forcedStartTzo,forcedEndTzo:p.canComputeOffset?null:S.forcedEndTzo})});return{defs:v,instances:w}}(L.eventStore,w.dateEnv,L.dateEnv)),z)X[Ue]!==xe[Ue]&&z[Ue](xe[Ue],L);p.onData&&p.onData(L)},d.prototype._computeOptionsData=function(c,p,v){var w=this.processRawCalendarOptions(c,p),S=w.refinedOptions,N=w.pluginHooks,L=w.localeDefaults,z=w.availableLocaleData;Nu(w.extra);var xe=this.buildDateEnv(S.timeZone,S.locale,S.weekNumberCalculation,S.firstDay,S.weekText,N,z,S.defaultRangeSeparator),Ue=this.buildViewSpecs(N.views,c,p,L),ut=this.buildTheme(S,N);return{calendarOptions:S,pluginHooks:N,dateEnv:xe,viewSpecs:Ue,theme:ut,toolbarConfig:this.parseToolbars(S,c,ut,Ue,v),localeDefaults:L,availableRawLocales:z.map}},d.prototype.processRawCalendarOptions=function(c,p){var v=La([Ns,c,p]),S=v.locale,N=this.organizeRawLocales(v.locales),z=this.buildLocale(S||N.defaultCode,N.map).options,X=this.buildPluginHooks(c.plugins||[],zd),xe=this.currentCalendarOptionsRefiners=(0,k.__assign)((0,k.__assign)((0,k.__assign)((0,k.__assign)((0,k.__assign)({},du),Sd),_l),X.listenerRefiners),X.optionRefiners),Ue={},ut=La([Ns,z,c,p]),gt={},wt=this.currentCalendarOptionsInput,Yt=this.currentCalendarOptionsRefined,an=!1;for(var xt in ut)"plugins"!==xt&&(ut[xt]===wt[xt]||bl[xt]&&xt in wt&&bl[xt](wt[xt],ut[xt])?gt[xt]=Yt[xt]:xe[xt]?(gt[xt]=xe[xt](ut[xt]),an=!0):Ue[xt]=wt[xt]);return an&&(this.currentCalendarOptionsInput=ut,this.currentCalendarOptionsRefined=gt),{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:X,availableLocaleData:N,localeDefaults:z,extra:Ue}},d.prototype._computeCurrentViewData=function(c,p,v,w){var S=p.viewSpecs[c];if(!S)throw new Error('viewType "'+c+"\" is not available. Please make sure you've loaded all neccessary plugins");var N=this.processRawViewOptions(S,p.pluginHooks,p.localeDefaults,v,w),L=N.refinedOptions;return Nu(N.extra),{viewSpec:S,options:L,dateProfileGenerator:this.buildDateProfileGenerator({dateProfileGeneratorClass:S.optionDefaults.dateProfileGeneratorClass,duration:S.duration,durationUnit:S.durationUnit,usesMinMaxTime:S.optionDefaults.usesMinMaxTime,dateEnv:p.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:L.slotMinTime,slotMaxTime:L.slotMaxTime,showNonCurrentDates:L.showNonCurrentDates,dayCount:L.dayCount,dateAlignment:L.dateAlignment,dateIncrement:L.dateIncrement,hiddenDays:L.hiddenDays,weekends:L.weekends,nowInput:L.now,validRangeInput:L.validRange,visibleRangeInput:L.visibleRange,monthMode:L.monthMode,fixedWeekCount:L.fixedWeekCount}),viewApi:this.buildViewApi(c,this.getCurrentData,p.dateEnv)}},d.prototype.processRawViewOptions=function(c,p,v,w,S){var N=La([Ns,c.optionDefaults,v,w,c.optionOverrides,S]),L=(0,k.__assign)((0,k.__assign)((0,k.__assign)((0,k.__assign)((0,k.__assign)((0,k.__assign)({},du),Sd),_l),Md),p.listenerRefiners),p.optionRefiners),z={},X=this.currentViewOptionsInput,xe=this.currentViewOptionsRefined,Ue=!1,ut={};for(var gt in N)N[gt]===X[gt]?z[gt]=xe[gt]:(N[gt]===this.currentCalendarOptionsInput[gt]?gt in this.currentCalendarOptionsRefined&&(z[gt]=this.currentCalendarOptionsRefined[gt]):L[gt]?z[gt]=L[gt](N[gt]):ut[gt]=N[gt],Ue=!0);return Ue&&(this.currentViewOptionsInput=N,this.currentViewOptionsRefined=z),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:ut}},d}();function Ul(d,c,p,v,w,S,N,L){var z=Od(c||N.defaultCode,N.map);return new br({calendarSystem:"gregory",timeZone:d,namedTimeZoneImpl:S.namedTimeZonedImpl,locale:z,weekNumberCalculation:p,firstDay:v,weekText:w,cmdFormatter:S.cmdFormatter,defaultSeparator:L})}function ma(d,c){return new(c.themeClasses[d.themeSystem]||Gs)(d)}function Sg(d){return new(d.dateProfileGeneratorClass||Go)(d)}function Mg(d,c,p){return new pu(d,c,p)}function ey(d){return fe(d,function(c){return c.ui})}function Hl(d,c,p){var v={"":c};for(var w in d){var S=d[w];S.sourceId&&p[S.sourceId]&&(v[w]=p[S.sourceId])}return v}function Uc(d){var c=d.options;return{eventUiSingleBase:Os({display:c.eventDisplay,editable:c.editable,startEditable:c.eventStartEditable,durationEditable:c.eventDurationEditable,constraint:c.eventConstraint,overlap:"boolean"==typeof c.eventOverlap?c.eventOverlap:void 0,allow:c.eventAllow,backgroundColor:c.eventBackgroundColor,borderColor:c.eventBorderColor,textColor:c.eventTextColor,color:c.eventColor},d),selectionConfig:Os({constraint:c.selectConstraint,overlap:"boolean"==typeof c.selectOverlap?c.selectOverlap:void 0,allow:c.selectAllow},d)}}function jl(d,c){for(var p=0,v=c.pluginHooks.isLoadingFuncs;p<v.length;p++)if((0,v[p])(d))return!0;return!1}function $d(d){return Lo(d.options.businessHours,d)}function Nu(d,c){for(var p in d)console.warn("Unknown option '"+p+"'"+(c?" for view '"+c+"'":""))}var ji=function(d){function c(p){var v=d.call(this,p)||this;return v.handleData=function(w){v.dataManager?v.setState(w):v.state=w},v.dataManager=new _o({optionOverrides:p.optionOverrides,calendarApi:p.calendarApi,onData:v.handleData}),v}return(0,k.__extends)(c,d),c.prototype.render=function(){return this.props.children(this.state)},c.prototype.componentDidUpdate=function(p){var v=this.props.optionOverrides;v!==p.optionOverrides&&this.dataManager.resetOptions(v)},c}(R);function Wd(d,c){return yt(d.eventStore,d.eventUiBases,d.dateProfile.activeRange,c?d.nextDayThreshold:null).fg}var vh=function d(c){this.timeZoneName=c},Hc=function(){function d(){this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}return d.prototype.addSegs=function(c){for(var p=[],v=0,w=c;v<w.length;v++)this.insertEntry(w[v],p);return p},d.prototype.insertEntry=function(c,p){var v=this.findInsertion(c);return this.isInsertionValid(v,c)?(this.insertEntryAt(c,v),1):this.handleInvalidInsertion(v,c,p)},d.prototype.isInsertionValid=function(c,p){return(-1===this.maxCoord||c.levelCoord+p.thickness<=this.maxCoord)&&(-1===this.maxStackCnt||c.stackCnt<this.maxStackCnt)},d.prototype.handleInvalidInsertion=function(c,p,v){return this.allowReslicing&&c.touchingEntry?this.splitEntry(p,c.touchingEntry,v):(v.push(p),0)},d.prototype.splitEntry=function(c,p,v){var w=0,S=[],N=c.span,L=p.span;return N.start<L.start&&(w+=this.insertEntry({index:c.index,thickness:c.thickness,span:{start:N.start,end:L.start}},S)),N.end>L.end&&(w+=this.insertEntry({index:c.index,thickness:c.thickness,span:{start:L.end,end:N.end}},S)),w?(v.push.apply(v,(0,k.__spreadArray)([{index:c.index,thickness:c.thickness,span:ya(L,N)}],S)),w):(v.push(c),0)},d.prototype.insertEntryAt=function(c,p){var w=this.entriesByLevel;-1===p.lateral?(Gc(this.levelCoords,p.level,p.levelCoord),Gc(w,p.level,[c])):Gc(w[p.level],p.lateral,c),this.stackCnts[qd(c)]=p.stackCnt},d.prototype.findInsertion=function(c){for(var p=this,v=p.levelCoords,w=p.entriesByLevel,S=p.strictOrder,N=p.stackCnts,L=v.length,z=0,X=-1,xe=-1,Ue=null,ut=0,gt=0;gt<L;gt+=1){var wt=v[gt];if(!S&&wt>=z+c.thickness)break;for(var Yt=w[gt],an=void 0,xt=Gl(Yt,c.span.start,jc),ir=xt[0]+xt[1];(an=Yt[ir])&&an.span.start<c.span.end;){var Pr=wt+an.thickness;Pr>z&&(z=Pr,Ue=an,X=gt,xe=ir),Pr===z&&(ut=Math.max(ut,N[qd(an)]+1)),ir+=1}}var _r=0;if(Ue)for(_r=X+1;_r<L&&v[_r]<z;)_r+=1;var di=-1;return _r<L&&v[_r]===z&&(di=Gl(w[_r],c.span.end,jc)[0]),{touchingLevel:X,touchingLateral:xe,touchingEntry:Ue,stackCnt:ut,levelCoord:z,level:_r,lateral:di}},d.prototype.toRects=function(){for(var p=this.entriesByLevel,v=this.levelCoords,w=p.length,S=[],N=0;N<w;N+=1)for(var z=v[N],X=0,xe=p[N];X<xe.length;X++)S.push((0,k.__assign)((0,k.__assign)({},xe[X]),{levelCoord:z}));return S},d}();function jc(d){return d.span.end}function qd(d){return d.index+":"+d.span.start}function rs(d){for(var c=[],p=0,v=d;p<v.length;p++){for(var w=v[p],S=[],N={span:w.span,entries:[w]},L=0,z=c;L<z.length;L++){var X=z[L];ya(X.span,N.span)?N={entries:X.entries.concat(N.entries),span:va(X.span,N.span)}:S.push(X)}S.push(N),c=S}return c}function va(d,c){return{start:Math.min(d.start,c.start),end:Math.max(d.end,c.end)}}function ya(d,c){var p=Math.max(d.start,c.start),v=Math.min(d.end,c.end);return p<v?{start:p,end:v}:null}function Gc(d,c,p){d.splice(c,0,p)}function Gl(d,c,p){var v=0,w=d.length;if(!w||c<p(d[v]))return[0,0];if(c>p(d[w-1]))return[w,0];for(;v<w;){var S=Math.floor(v+(w-v)/2),N=p(d[S]);if(c<N)w=S;else{if(!(c>N))return[S,1];v=S+1}}return[v,0]}var ku=function(){function d(c){this.component=c.component,this.isHitComboAllowed=c.isHitComboAllowed||null}return d.prototype.destroy=function(){},d}();function zc(d,c){return{component:d,el:c.el,useEventCenter:null==c.useEventCenter||c.useEventCenter,isHitComboAllowed:c.isHitComboAllowed||null}}function Zd(d){var c;return(c={})[d.component.uid]=d,c}var zl={},Ou=function(){function d(c,p){this.emitter=new ca}return d.prototype.destroy=function(){},d.prototype.setMirrorIsVisible=function(c){},d.prototype.setMirrorNeedsRevert=function(c){},d.prototype.setAutoScrollEnabled=function(c){},d}(),yh={},$c={startTime:Ft,duration:Ft,create:Boolean,sourceId:String};function _h(d){var c=ki(d,$c),p=c.refined;return{startTime:p.startTime||null,duration:p.duration||null,create:null==p.create||p.create,sourceId:p.sourceId,leftoverProps:c.extra}}var Kd=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,k.__extends)(c,d),c.prototype.render=function(){var p=this,v=this.props.widgetGroups.map(function(w){return p.renderWidgetGroup(w)});return G.apply(void 0,(0,k.__spreadArray)(["div",{className:"fc-toolbar-chunk"}],v))},c.prototype.renderWidgetGroup=function(p){for(var v=this.props,w=this.context.theme,S=[],N=!0,L=0,z=p;L<z.length;L++){var X=z[L],xe=X.buttonName,Ue=X.buttonClick,ut=X.buttonText,gt=X.buttonIcon,wt=X.buttonHint;if("title"===xe)N=!1,S.push(G("h2",{className:"fc-toolbar-title",id:v.titleId},v.title));else{var Yt=xe===v.activeButton,an=!v.isTodayEnabled&&"today"===xe||!v.isPrevEnabled&&"prev"===xe||!v.isNextEnabled&&"next"===xe,xt=["fc-"+xe+"-button",w.getClass("button")];Yt&&xt.push(w.getClass("buttonActive")),S.push(G("button",{type:"button",title:"function"==typeof wt?wt(v.navUnit):wt,disabled:an,"aria-pressed":Yt,className:xt.join(" "),onClick:Ue},ut||(gt?G("span",{className:gt}):"")))}}if(S.length>1){var ir=N&&w.getClass("buttonGroup")||"";return G.apply(void 0,(0,k.__spreadArray)(["div",{className:ir}],S))}return S[0]},c}(ur),C=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,k.__extends)(c,d),c.prototype.render=function(){var N,L,p=this.props,S=!1,z=p.model.sectionWidgets,X=z.center;return z.left?(S=!0,N=z.left):N=z.start,z.right?(S=!0,L=z.right):L=z.end,G("div",{className:[p.extraClassName||"","fc-toolbar",S?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",N||[]),this.renderSection("center",X||[]),this.renderSection("end",L||[]))},c.prototype.renderSection=function(p,v){var w=this.props;return G(Kd,{key:p,widgetGroups:v,title:w.title,navUnit:w.navUnit,activeButton:w.activeButton,isTodayEnabled:w.isTodayEnabled,isPrevEnabled:w.isPrevEnabled,isNextEnabled:w.isNextEnabled,titleId:w.titleId})},c}(ur),_=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.state={availableWidth:null},p.handleEl=function(v){p.el=v,Vi(p.props.elRef,v),p.updateAvailableWidth()},p.handleResize=function(){p.updateAvailableWidth()},p}return(0,k.__extends)(c,d),c.prototype.render=function(){var v=this.props,w=this.state,S=v.aspectRatio,L="",z="";return S?null!==w.availableWidth?L=w.availableWidth/S:z=1/S*100+"%":L=v.height||"",G("div",{"aria-labelledby":v.labeledById,ref:this.handleEl,className:["fc-view-harness",S||v.liquid||v.height?"fc-view-harness-active":"fc-view-harness-passive"].join(" "),style:{height:L,paddingBottom:z}},v.children)},c.prototype.componentDidMount=function(){this.context.addResizeHandler(this.handleResize)},c.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleResize)},c.prototype.updateAvailableWidth=function(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})},c}(ur),b=function(d){function c(p){var v=d.call(this,p)||this;return v.handleSegClick=function(w,S){var N=v.component,L=N.context,z=sr(S);if(z&&N.isValidSegDownEl(w.target)){var X=U(w.target,".fc-event-forced-url"),xe=X?X.querySelector("a[href]").href:"";L.emitter.trigger("eventClick",{el:S,event:new ei(N.context,z.eventRange.def,z.eventRange.instance),jsEvent:w,view:L.viewApi}),xe&&!w.defaultPrevented&&(window.location.href=xe)}},v.destroy=ue(p.el,"click",".fc-event",v.handleSegClick),v}return(0,k.__extends)(c,d),c}(ku),I=function(d){function c(p){var v=d.call(this,p)||this;return v.handleEventElRemove=function(w){w===v.currentSegEl&&v.handleSegLeave(null,v.currentSegEl)},v.handleSegEnter=function(w,S){sr(S)&&(v.currentSegEl=S,v.triggerEvent("eventMouseEnter",w,S))},v.handleSegLeave=function(w,S){v.currentSegEl&&(v.currentSegEl=null,v.triggerEvent("eventMouseLeave",w,S))},v.removeHoverListeners=function Ie(d,c,p,v){var w;return ue(d,"mouseover",c,function(S,N){if(N!==w){w=N,p(S,N);var L=function(z){w=null,v(z,N),N.removeEventListener("mouseleave",L)};N.addEventListener("mouseleave",L)}})}(p.el,".fc-event",v.handleSegEnter,v.handleSegLeave),v}return(0,k.__extends)(c,d),c.prototype.destroy=function(){this.removeHoverListeners()},c.prototype.triggerEvent=function(p,v,w){var S=this.component,N=S.context,L=sr(w);(!v||S.isValidSegDownEl(v.target))&&N.emitter.trigger(p,{el:w,event:new ei(N,L.eventRange.def,L.eventRange.instance),jsEvent:v,view:N.viewApi})},c}(ku),H=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.buildViewContext=Bn(_u),p.buildViewPropTransformers=Bn(Pe),p.buildToolbarProps=Bn(K),p.headerRef=we(),p.footerRef=we(),p.interactionsStore={},p.state={viewLabelId:mt()},p.registerInteractiveComponent=function(v,w){var S=zc(v,w),z=[b,I].concat(p.props.pluginHooks.componentInteractions).map(function(X){return new X(S)});p.interactionsStore[v.uid]=z,zl[v.uid]=S},p.unregisterInteractiveComponent=function(v){var w=p.interactionsStore[v.uid];if(w){for(var S=0,N=w;S<N.length;S++)N[S].destroy();delete p.interactionsStore[v.uid]}delete zl[v.uid]},p.resizeRunner=new Bc(function(){p.props.emitter.trigger("_resize",!0),p.props.emitter.trigger("windowResize",{view:p.props.viewApi})}),p.handleWindowResize=function(v){var w=p.props.options;w.handleWindowResize&&v.target===window&&p.resizeRunner.request(w.windowResizeDelay)},p}return(0,k.__extends)(c,d),c.prototype.render=function(){var z,p=this.props,v=p.toolbarConfig,w=p.options,S=this.buildToolbarProps(p.viewSpec,p.dateProfile,p.dateProfileGenerator,p.currentDate,Ga(p.options.now,p.dateEnv),p.viewTitle),N=!1,L="";p.isHeightAuto||p.forPrint?L="":null!=w.height?N=!0:null!=w.contentHeight?L=w.contentHeight:z=Math.max(w.aspectRatio,.5);var X=this.buildViewContext(p.viewSpec,p.viewApi,p.options,p.dateProfileGenerator,p.dateEnv,p.theme,p.pluginHooks,p.dispatch,p.getCurrentData,p.emitter,p.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),xe=v.header&&v.header.hasTitle?this.state.viewLabelId:"";return G(Li.Provider,{value:X},v.header&&G(C,(0,k.__assign)({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:v.header,titleId:xe},S)),G(_,{liquid:N,height:L,aspectRatio:z,labeledById:xe},this.renderView(p),this.buildAppendContent()),v.footer&&G(C,(0,k.__assign)({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:v.footer,titleId:""},S)))},c.prototype.componentDidMount=function(){var p=this.props;this.calendarInteractions=p.pluginHooks.calendarInteractions.map(function(S){return new S(p)}),window.addEventListener("resize",this.handleWindowResize);var v=p.pluginHooks.propSetHandlers;for(var w in v)v[w](p[w],p)},c.prototype.componentDidUpdate=function(p){var v=this.props,w=v.pluginHooks.propSetHandlers;for(var S in w)v[S]!==p[S]&&w[S](v[S],v)},c.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(var p=0,v=this.calendarInteractions;p<v.length;p++)v[p].destroy();this.props.emitter.trigger("_unmount")},c.prototype.buildAppendContent=function(){var p=this.props,v=p.pluginHooks.viewContainerAppends.map(function(w){return w(p)});return G.apply(void 0,(0,k.__spreadArray)([be,{}],v))},c.prototype.renderView=function(p){for(var w=p.viewSpec,S={dateProfile:p.dateProfile,businessHours:p.businessHours,eventStore:p.renderableEventStore,eventUiBases:p.eventUiBases,dateSelection:p.dateSelection,eventSelection:p.eventSelection,eventDrag:p.eventDrag,eventResize:p.eventResize,isHeightAuto:p.isHeightAuto,forPrint:p.forPrint},L=0,z=this.buildViewPropTransformers(p.pluginHooks.viewPropsTransformers);L<z.length;L++)(0,k.__assign)(S,z[L].transform(S,p));return G(w.component,(0,k.__assign)({},S))},c}(Ho);function K(d,c,p,v,w,S){var N=p.build(w,void 0,!1),L=p.buildPrev(c,v,!1),z=p.buildNext(c,v,!1);return{title:S,activeButton:d.type,navUnit:d.singleUnit,isTodayEnabled:N.isValid&&!Ee(c.currentRange,w),isPrevEnabled:L.isValid,isNextEnabled:z.isValid}}function Pe(d){return d.map(function(c){return new c})}var dt=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.state={forPrint:!1},p.handleBeforePrint=function(){p.setState({forPrint:!0})},p.handleAfterPrint=function(){p.setState({forPrint:!1})},p}return(0,k.__extends)(c,d),c.prototype.render=function(){var p=this.props,v=p.options,w=this.state.forPrint,S=w||"auto"===v.height||"auto"===v.contentHeight,N=S||null==v.height?"":v.height,L=["fc",w?"fc-media-print":"fc-media-screen","fc-direction-"+v.direction,p.theme.getClass("root")];return ao()||L.push("fc-liquid-hack"),p.children(L,N,S,w)},c.prototype.componentDidMount=function(){var p=this.props.emitter;p.on("_beforeprint",this.handleBeforePrint),p.on("_afterprint",this.handleAfterPrint)},c.prototype.componentWillUnmount=function(){var p=this.props.emitter;p.off("_beforeprint",this.handleBeforePrint),p.off("_afterprint",this.handleAfterPrint)},c}(ur);function qt(d,c){return Ir(!d||c>10?{weekday:"short"}:c>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"})}var nn="fc-col-header-cell";function Ln(d){return d.text}var mr=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,k.__extends)(c,d),c.prototype.render=function(){var p=this.context,v=p.dateEnv,w=p.options,S=p.theme,N=p.viewApi,L=this.props,z=L.date,xe=Rl(z,L.todayRange,null,L.dateProfile),Ue=[nn].concat(lo(xe,S)),ut=v.format(z,L.dayHeaderFormat),gt=!xe.isDisabled&&L.colCnt>1?Sn(this.context,z):{},wt=(0,k.__assign)((0,k.__assign)((0,k.__assign)({date:v.toDate(z),view:N},L.extraHookProps),{text:ut}),xe);return G(fo,{hookProps:wt,classNames:w.dayHeaderClassNames,content:w.dayHeaderContent,defaultContent:Ln,didMount:w.dayHeaderDidMount,willUnmount:w.dayHeaderWillUnmount},function(Yt,an,xt,ir){return G("th",(0,k.__assign)({ref:Yt,role:"columnheader",className:Ue.concat(an).join(" "),"data-date":xe.isDisabled?void 0:hr(z),colSpan:L.colSpan},L.extraDataAttrs),G("div",{className:"fc-scrollgrid-sync-inner"},!xe.isDisabled&&G("a",(0,k.__assign)({ref:xt,className:["fc-col-header-cell-cushion",L.isSticky?"fc-sticky":""].join(" ")},gt),ir)))})},c}(ur),Ii=Ir({weekday:"long"}),vs=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,k.__extends)(c,d),c.prototype.render=function(){var p=this.props,v=this.context,w=v.dateEnv,S=v.theme,N=v.viewApi,L=v.options,z=Ze(new Date(2592e5),p.dow),X={dow:p.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},xe=[nn].concat(lo(X,S),p.extraClassNames||[]),Ue=w.format(z,p.dayHeaderFormat),ut=(0,k.__assign)((0,k.__assign)((0,k.__assign)((0,k.__assign)({date:z},X),{view:N}),p.extraHookProps),{text:Ue});return G(fo,{hookProps:ut,classNames:L.dayHeaderClassNames,content:L.dayHeaderContent,defaultContent:Ln,didMount:L.dayHeaderDidMount,willUnmount:L.dayHeaderWillUnmount},function(gt,wt,Yt,an){return G("th",(0,k.__assign)({ref:gt,role:"columnheader",className:xe.concat(wt).join(" "),colSpan:p.colSpan},p.extraDataAttrs),G("div",{className:"fc-scrollgrid-sync-inner"},G("a",{"aria-label":w.format(z,Ii),className:["fc-col-header-cell-cushion",p.isSticky?"fc-sticky":""].join(" "),ref:Yt},an)))})},c}(ur),$l=function(d){function c(p,v){var w=d.call(this,p,v)||this;return w.initialNowDate=Ga(v.options.now,v.dateEnv),w.initialNowQueriedMs=(new Date).valueOf(),w.state=w.computeTiming().currentState,w}return(0,k.__extends)(c,d),c.prototype.render=function(){var w=this.state;return this.props.children(w.nowDate,w.todayRange)},c.prototype.componentDidMount=function(){this.setTimeout()},c.prototype.componentDidUpdate=function(p){p.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())},c.prototype.componentWillUnmount=function(){this.clearTimeout()},c.prototype.computeTiming=function(){var v=this.props,w=this.context,S=Et(this.initialNowDate,(new Date).valueOf()-this.initialNowQueriedMs),N=w.dateEnv.startOf(S,v.unit),L=w.dateEnv.add(N,Ft(1,v.unit)),z=L.valueOf()-S.valueOf();return z=Math.min(864e5,z),{currentState:{nowDate:N,todayRange:Qd(N)},nextState:{nowDate:L,todayRange:Qd(L)},waitMs:z}},c.prototype.setTimeout=function(){var p=this,v=this.computeTiming(),w=v.nextState;this.timeoutId=setTimeout(function(){p.setState(w,function(){p.setTimeout()})},v.waitMs)},c.prototype.clearTimeout=function(){this.timeoutId&&clearTimeout(this.timeoutId)},c.contextType=Li,c}(R);function Qd(d){var c=ln(d);return{start:c,end:Ze(c,1)}}var Wl=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.createDayHeaderFormatter=Bn(Wo),p}return(0,k.__extends)(c,d),c.prototype.render=function(){var v=this.props,w=v.dates,S=v.dateProfile,N=v.datesRepDistinctDays,L=v.renderIntro,z=this.createDayHeaderFormatter(this.context.options.dayHeaderFormat,N,w.length);return G($l,{unit:"day"},function(X,xe){return G("tr",{role:"row"},L&&L("day"),w.map(function(Ue){return N?G(mr,{key:Ue.toISOString(),date:Ue,dateProfile:S,todayRange:xe,colCnt:w.length,dayHeaderFormat:z}):G(vs,{key:Ue.getUTCDay(),dow:Ue.getUTCDay(),dayHeaderFormat:z})}))})},c}(ur);function Wo(d,c,p){return d||qt(c,p)}var Yd=function(){function d(c,p){for(var v=c.start,w=c.end,S=[],N=[],L=-1;v<w;)p.isHiddenDay(v)?S.push(L+.5):(S.push(L+=1),N.push(v)),v=Ze(v,1);this.dates=N,this.indices=S,this.cnt=N.length}return d.prototype.sliceRange=function(c){var p=this.getDateDayIndex(c.start),v=this.getDateDayIndex(Ze(c.end,-1)),w=Math.max(0,p),S=Math.min(this.cnt-1,v);return(w=Math.ceil(w))<=(S=Math.floor(S))?{firstIndex:w,lastIndex:S,isStart:p===w,isEnd:v===S}:null},d.prototype.getDateDayIndex=function(c){var p=this.indices,v=Math.floor(vt(this.dates[0],c));return v<0?p[0]-1:v>=p.length?p[p.length-1]+1:p[v]},d}(),Pu=function(){function d(c,p){var w,S,N,v=c.dates;if(p){for(S=v[0].getUTCDay(),w=1;w<v.length&&v[w].getUTCDay()!==S;w+=1);N=Math.ceil(v.length/w)}else N=1,w=v.length;this.rowCnt=N,this.colCnt=w,this.daySeries=c,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}return d.prototype.buildCells=function(){for(var c=[],p=0;p<this.rowCnt;p+=1){for(var v=[],w=0;w<this.colCnt;w+=1)v.push(this.buildCell(p,w));c.push(v)}return c},d.prototype.buildCell=function(c,p){var v=this.daySeries.dates[c*this.colCnt+p];return{key:v.toISOString(),date:v}},d.prototype.buildHeaderDates=function(){for(var c=[],p=0;p<this.colCnt;p+=1)c.push(this.cells[0][p].date);return c},d.prototype.sliceRange=function(c){var p=this.colCnt,v=this.daySeries.sliceRange(c),w=[];if(v)for(var S=v.firstIndex,N=v.lastIndex,L=S;L<=N;){var z=Math.floor(L/p),X=Math.min((z+1)*p,N+1);w.push({row:z,firstCol:L%p,lastCol:(X-1)%p,isStart:v.isStart&&L===S,isEnd:v.isEnd&&X-1===N}),L=X}return w},d}(),Jd=function(){function d(){this.sliceBusinessHours=Bn(this._sliceBusinessHours),this.sliceDateSelection=Bn(this._sliceDateSpan),this.sliceEventStore=Bn(this._sliceEventStore),this.sliceEventDrag=Bn(this._sliceInteraction),this.sliceEventResize=Bn(this._sliceInteraction),this.forceDayIfListItem=!1}return d.prototype.sliceProps=function(c,p,v,w){for(var S=[],N=4;N<arguments.length;N++)S[N-4]=arguments[N];var L=c.eventUiBases,z=this.sliceEventStore.apply(this,(0,k.__spreadArray)([c.eventStore,L,p,v],S));return{dateSelectionSegs:this.sliceDateSelection.apply(this,(0,k.__spreadArray)([c.dateSelection,L,w],S)),businessHourSegs:this.sliceBusinessHours.apply(this,(0,k.__spreadArray)([c.businessHours,p,v,w],S)),fgEventSegs:z.fg,bgEventSegs:z.bg,eventDrag:this.sliceEventDrag.apply(this,(0,k.__spreadArray)([c.eventDrag,L,p,v],S)),eventResize:this.sliceEventResize.apply(this,(0,k.__spreadArray)([c.eventResize,L,p,v],S)),eventSelection:c.eventSelection}},d.prototype.sliceNowDate=function(c,p){for(var v=[],w=2;w<arguments.length;w++)v[w-2]=arguments[w];return this._sliceDateSpan.apply(this,(0,k.__spreadArray)([{range:{start:c,end:Et(c,1)},allDay:!1},{},p],v))},d.prototype._sliceBusinessHours=function(c,p,v,w){for(var S=[],N=4;N<arguments.length;N++)S[N-4]=arguments[N];return c?this._sliceEventStore.apply(this,(0,k.__spreadArray)([bt(c,el(p,Boolean(v)),w),{},p,v],S)).bg:[]},d.prototype._sliceEventStore=function(c,p,v,w){for(var S=[],N=4;N<arguments.length;N++)S[N-4]=arguments[N];if(c){var L=yt(c,p,el(v,Boolean(w)),w);return{bg:this.sliceEventRanges(L.bg,S),fg:this.sliceEventRanges(L.fg,S)}}return{bg:[],fg:[]}},d.prototype._sliceInteraction=function(c,p,v,w){for(var S=[],N=4;N<arguments.length;N++)S[N-4]=arguments[N];if(!c)return null;var L=yt(c.mutatedEvents,p,el(v,Boolean(w)),w);return{segs:this.sliceEventRanges(L.fg,S),affectedInstances:c.affectedEvents.instances,isEvent:c.isEvent}},d.prototype._sliceDateSpan=function(c,p,v){for(var w=[],S=3;S<arguments.length;S++)w[S-3]=arguments[S];if(!c)return[];for(var N=Ha(c,p,v),L=this.sliceRange.apply(this,(0,k.__spreadArray)([c.range],w)),z=0,X=L;z<X.length;z++){var xe=X[z];xe.eventRange=N}return L},d.prototype.sliceEventRanges=function(c,p){for(var v=[],w=0,S=c;w<S.length;w++)v.push.apply(v,this.sliceEventRange(S[w],p));return v},d.prototype.sliceEventRange=function(c,p){var v=c.range;this.forceDayIfListItem&&"list-item"===c.ui.display&&(v={start:v.start,end:Ze(v.start,1)});for(var w=this.sliceRange.apply(this,(0,k.__spreadArray)([v],p)),S=0,N=w;S<N.length;S++){var L=N[S];L.eventRange=c,L.isStart=c.isStart&&L.isStart,L.isEnd=c.isEnd&&L.isEnd}return w},d}();function el(d,c){var p=d.activeRange;return c?p:{start:Et(p.start,d.slotMinTime.milliseconds),end:Et(p.end,d.slotMaxTime.milliseconds-864e5)}}function tl(d,c,p){var v=d.mutatedEvents.instances;for(var w in v)if(!q(c.validRange,v[w].range))return!1;return nl({eventDrag:d},p)}function Wc(d,c,p){return!!q(c.validRange,d.range)&&nl({dateSelection:d},p)}function nl(d,c){var p=c.getCurrentData(),v=(0,k.__assign)({businessHours:p.businessHours,dateSelection:"",eventStore:p.eventStore,eventUiBases:p.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},d);return(c.pluginHooks.isPropsValid||ql)(v,c)}function ql(d,c,p,v){return void 0===p&&(p={}),!(d.eventDrag&&!function Or(d,c,p,v){var w=c.getCurrentData(),S=d.eventDrag,N=S.mutatedEvents,L=N.defs,z=N.instances,X=Vt(L,S.isEvent?d.eventUiBases:{"":w.selectionConfig});v&&(X=fe(X,v));var xe=function Du(d,c){return{defs:d.defs,instances:re(d.instances,function(p){return!c[p.instanceId]})}}(d.eventStore,S.affectedEvents.instances),Ue=xe.defs,ut=xe.instances,gt=Vt(Ue,d.eventUiBases);for(var wt in z){var Yt=z[wt],an=Yt.range,xt=X[Yt.defId],ir=L[Yt.defId];if(!xg(xt.constraints,an,xe,d.businessHours,c))return!1;var Pr=c.options.eventOverlap,_r="function"==typeof Pr?Pr:null;for(var di in ut){var qr=ut[di];if(Z(an,qr.range)&&(!1===gt[qr.defId].overlap&&S.isEvent||!1===xt.overlap||_r&&!_r(new ei(c,Ue[qr.defId],qr),new ei(c,ir,Yt))))return!1}for(var zi=w.eventStore,Ao=0,Zs=xt.allows;Ao<Zs.length;Ao++){var Bu,rf=Zs[Ao],Vu=(0,k.__assign)((0,k.__assign)({},p),{range:Yt.range,allDay:ir.allDay}),_a=zi.defs[ir.defId];if(Bu=_a?new ei(c,_a,zi.instances[wt]):new ei(c,ir),!rf(hu(Vu,c),Bu))return!1}}return!0}(d,c,p,v)||d.dateSelection&&!function bh(d,c,p,v){var w=d.eventStore,S=w.defs,N=w.instances,L=d.dateSelection,z=L.range,X=c.getCurrentData().selectionConfig;if(v&&(X=v(X)),!xg(X.constraints,z,w,d.businessHours,c))return!1;var xe=c.options.selectOverlap,Ue="function"==typeof xe?xe:null;for(var ut in N){var gt=N[ut];if(Z(z,gt.range)&&(!1===X.overlap||Ue&&!Ue(new ei(c,S[gt.defId],gt),null)))return!1}for(var wt=0,Yt=X.allows;wt<Yt.length;wt++)if(!(0,Yt[wt])(hu((0,k.__assign)((0,k.__assign)({},p),L),c),null))return!1;return!0}(d,c,p,v))}function xg(d,c,p,v,w){for(var S=0,N=d;S<N.length;S++)if(!Rg(Xd(N[S],c,p,v,w),c))return!1;return!0}function Xd(d,c,p,v,w){return"businessHours"===d?ef(bt(v,c,w)):"string"==typeof d?ef(ia(p,function(S){return S.groupId===d})):"object"==typeof d&&d?ef(bt(d,c,w)):[]}function ef(d){var c=d.instances,p=[];for(var v in c)p.push(c[v].range);return p}function Rg(d,c){for(var p=0,v=d;p<v.length;p++)if(q(v[p],c))return!0;return!1}var tf=/^(visible|hidden)$/,Ah=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.handleEl=function(v){p.el=v,Vi(p.props.elRef,v)},p}return(0,k.__extends)(c,d),c.prototype.render=function(){var p=this.props,v=p.liquid,w=p.liquidIsAbsolute,S=v&&w,N=["fc-scroller"];return v&&N.push(w?"fc-scroller-liquid-absolute":"fc-scroller-liquid"),G("div",{ref:this.handleEl,className:N.join(" "),style:{overflowX:p.overflowX,overflowY:p.overflowY,left:S&&-(p.overcomeLeft||0)||"",right:S&&-(p.overcomeRight||0)||"",bottom:S&&-(p.overcomeBottom||0)||"",marginLeft:!S&&-(p.overcomeLeft||0)||"",marginRight:!S&&-(p.overcomeRight||0)||"",marginBottom:!S&&-(p.overcomeBottom||0)||"",maxHeight:p.maxHeight||""}},p.children)},c.prototype.needsXScrolling=function(){if(tf.test(this.props.overflowX))return!1;for(var p=this.el,v=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),w=p.children,S=0;S<w.length;S+=1)if(w[S].getBoundingClientRect().width>v)return!0;return!1},c.prototype.needsYScrolling=function(){if(tf.test(this.props.overflowY))return!1;for(var p=this.el,v=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),w=p.children,S=0;S<w.length;S+=1)if(w[S].getBoundingClientRect().height>v)return!0;return!1},c.prototype.getXScrollbarWidth=function(){return tf.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight},c.prototype.getYScrollbarWidth=function(){return tf.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth},c}(ur),Ng=function(){function d(c){var p=this;this.masterCallback=c,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=function(v,w){var N=p.depths,L=p.currentMap,z=!1,X=!1;null!==v?(z=w in L,L[w]=v,N[w]=(N[w]||0)+1,X=!0):(N[w]-=1,N[w]||(delete L[w],delete p.callbackMap[w],z=!0)),p.masterCallback&&(z&&p.masterCallback(null,String(w)),X&&p.masterCallback(v,String(w)))}}return d.prototype.createRef=function(c){var p=this,v=this.callbackMap[c];return v||(v=this.callbackMap[c]=function(w){p.handleValue(w,String(c))}),v},d.prototype.collect=function(c,p,v){return ce(this.currentMap,c,p,v)},d.prototype.getAll=function(){return ht(this.currentMap)},d}();function ty(d){for(var p=0,v=0,w=he(d,".fc-scrollgrid-shrink");v<w.length;v++)p=Math.max(p,on(w[v]));return Math.ceil(p)}function ny(d,c){return d.liquid&&c.liquid}function ry(d,c){return null!=c.maxHeight||ny(d,c)}function Fu(d,c,p,v){var w=p.expandRows;return"function"==typeof c.content?c.content(p):G("table",{role:"presentation",className:[c.tableClassName,d.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:p.tableMinWidth,width:p.clientWidth,height:w?p.clientHeight:""}},p.tableColGroupNode,G(v?"thead":"tbody",{role:"presentation"},"function"==typeof c.rowContent?c.rowContent(p):c.rowContent))}function Gi(d,c){return mi(d,c,lt)}function Eh(d,c){for(var p=[],v=0,w=d;v<w.length;v++)for(var S=w[v],N=S.span||1,L=0;L<N;L+=1)p.push(G("col",{style:{width:"shrink"===S.width?kg(c):S.width||"",minWidth:S.minWidth||""}}));return G.apply(void 0,(0,k.__spreadArray)(["colgroup",{}],p))}function kg(d){return null==d?4:d}function Og(d){for(var c=0,p=d;c<p.length;c++)if("shrink"===p[c].width)return!0;return!1}function ci(d,c){var p=["fc-scrollgrid",c.theme.getClass("table")];return d&&p.push("fc-scrollgrid-liquid"),p}function Lu(d,c){var p=["fc-scrollgrid-section","fc-scrollgrid-section-"+d.type,d.className];return c&&d.liquid&&null==d.maxHeight&&p.push("fc-scrollgrid-section-liquid"),d.isSticky&&p.push("fc-scrollgrid-section-sticky"),p}function bo(d){return G("div",{className:"fc-scrollgrid-sticky-shim",style:{width:d.clientWidth,minWidth:d.tableMinWidth}})}function iy(d){var c=d.stickyHeaderDates;return(null==c||"auto"===c)&&(c="auto"===d.height||"auto"===d.viewHeight),c}function Pg(d){var c=d.stickyFooterScrollbar;return(null==c||"auto"===c)&&(c="auto"===d.height||"auto"===d.viewHeight),c}var Fg=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.processCols=Bn(function(v){return v},Gi),p.renderMicroColGroup=Bn(Eh),p.scrollerRefs=new Ng,p.scrollerElRefs=new Ng(p._handleScrollerEl.bind(p)),p.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},p.handleSizing=function(){p.setState((0,k.__assign)({shrinkWidth:p.computeShrinkWidth()},p.computeScrollerDims()))},p}return(0,k.__extends)(c,d),c.prototype.render=function(){var p=this,v=p.props,w=p.state,S=p.context,N=v.sections||[],L=this.processCols(v.cols),z=this.renderMicroColGroup(L,w.shrinkWidth),X=ci(v.liquid,S);v.collapsibleWidth&&X.push("fc-scrollgrid-collapsible");for(var ut,xe=N.length,Ue=0,gt=[],wt=[],Yt=[];Ue<xe&&"header"===(ut=N[Ue]).type;)gt.push(this.renderSection(ut,z,!0)),Ue+=1;for(;Ue<xe&&"body"===(ut=N[Ue]).type;)wt.push(this.renderSection(ut,z,!1)),Ue+=1;for(;Ue<xe&&"footer"===(ut=N[Ue]).type;)Yt.push(this.renderSection(ut,z,!0)),Ue+=1;var an=!ao(),xt={role:"rowgroup"};return G("table",{role:"grid",className:X.join(" "),style:{height:v.height}},Boolean(!an&&gt.length)&&G.apply(void 0,(0,k.__spreadArray)(["thead",xt],gt)),Boolean(!an&&wt.length)&&G.apply(void 0,(0,k.__spreadArray)(["tbody",xt],wt)),Boolean(!an&&Yt.length)&&G.apply(void 0,(0,k.__spreadArray)(["tfoot",xt],Yt)),an&&G.apply(void 0,(0,k.__spreadArray)((0,k.__spreadArray)((0,k.__spreadArray)(["tbody",xt],gt),wt),Yt)))},c.prototype.renderSection=function(p,v,w){return"outerContent"in p?G(be,{key:p.key},p.outerContent):G("tr",{key:p.key,role:"presentation",className:Lu(p,this.props.liquid).join(" ")},this.renderChunkTd(p,v,p.chunk,w))},c.prototype.renderChunkTd=function(p,v,w,S){if("outerContent"in w)return w.outerContent;var N=this.props,L=this.state,z=L.forceYScrollbars,X=L.scrollerClientWidths,xe=L.scrollerClientHeights,Ue=ry(N,p),ut=ny(N,p),gt=N.liquid?z?"scroll":Ue?"auto":"hidden":"visible",wt=p.key,Yt=Fu(p,w,{tableColGroupNode:v,tableMinWidth:"",clientWidth:N.collapsibleWidth||void 0===X[wt]?null:X[wt],clientHeight:void 0!==xe[wt]?xe[wt]:null,expandRows:p.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:function(){}},S);return G(S?"th":"td",{ref:w.elRef,role:"presentation"},G("div",{className:"fc-scroller-harness"+(ut?" fc-scroller-harness-liquid":"")},G(Ah,{ref:this.scrollerRefs.createRef(wt),elRef:this.scrollerElRefs.createRef(wt),overflowY:gt,overflowX:N.liquid?"hidden":"visible",maxHeight:p.maxHeight,liquid:ut,liquidIsAbsolute:!0},Yt)))},c.prototype._handleScrollerEl=function(p,v){var w=function Lg(d,c){for(var p=0,v=d;p<v.length;p++){var w=v[p];if(w.key===c)return w}return null}(this.props.sections,v);w&&Vi(w.chunk.scrollerElRef,p)},c.prototype.componentDidMount=function(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)},c.prototype.componentDidUpdate=function(){this.handleSizing()},c.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleSizing)},c.prototype.computeShrinkWidth=function(){return Og(this.props.cols)?ty(this.scrollerElRefs.getAll()):0},c.prototype.computeScrollerDims=function(){var p=Cc(),w=this.scrollerRefs,S=this.scrollerElRefs,N=!1,L={},z={};for(var X in w.currentMap){var xe=w.currentMap[X];if(xe&&xe.needsYScrolling()){N=!0;break}}for(var Ue=0,ut=this.props.sections;Ue<ut.length;Ue++){var wt=S.currentMap[X=ut[Ue].key];if(wt){var Yt=wt.parentNode;L[X]=Math.floor(Yt.getBoundingClientRect().width-(N?p.y:0)),z[X]=Math.floor(Yt.getBoundingClientRect().height)}}return{forceYScrollbars:N,scrollerClientWidths:L,scrollerClientHeights:z}},c}(ur);Fg.addStateEquality({scrollerClientWidths:lt,scrollerClientHeights:lt});var rl=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.elRef=we(),p}return(0,k.__extends)(c,d),c.prototype.render=function(){var v=this.props,w=this.context,S=w.options,N=v.seg,L=N.eventRange,z=L.ui,X={event:new ei(w,L.def,L.instance),view:w.viewApi,timeText:v.timeText,textColor:z.textColor,backgroundColor:z.backgroundColor,borderColor:z.borderColor,isDraggable:!v.disableDragging&&es(N,w),isStartResizable:!v.disableResizing&&ts(N,w),isEndResizable:!v.disableResizing&&so(N),isMirror:Boolean(v.isDragging||v.isResizing||v.isDateSelecting),isStart:Boolean(N.isStart),isEnd:Boolean(N.isEnd),isPast:Boolean(v.isPast),isFuture:Boolean(v.isFuture),isToday:Boolean(v.isToday),isSelected:Boolean(v.isSelected),isDragging:Boolean(v.isDragging),isResizing:Boolean(v.isResizing)},xe=Dn(X).concat(z.classNames);return G(fo,{hookProps:X,classNames:S.eventClassNames,content:S.eventContent,defaultContent:v.defaultContent,didMount:S.eventDidMount,willUnmount:S.eventWillUnmount,elRef:this.elRef},function(Ue,ut,gt,wt){return v.children(Ue,xe.concat(ut),gt,wt,X)})},c.prototype.componentDidMount=function(){cn(this.elRef.current,this.props.seg)},c.prototype.componentDidUpdate=function(p){var v=this.props.seg;v!==p.seg&&cn(this.elRef.current,v)},c}(ur),wh=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,k.__extends)(c,d),c.prototype.render=function(){var v=this.props,w=this.context,S=v.seg,L=Ba(S,w.options.eventTimeFormat||v.defaultTimeFormat,w,v.defaultDisplayEventTime,v.defaultDisplayEventEnd);return G(rl,{seg:S,timeText:L,disableDragging:v.disableDragging,disableResizing:v.disableResizing,defaultContent:v.defaultContent||sy,isDragging:v.isDragging,isResizing:v.isResizing,isDateSelecting:v.isDateSelecting,isSelected:v.isSelected,isPast:v.isPast,isFuture:v.isFuture,isToday:v.isToday},function(z,X,xe,Ue,ut){return G("a",(0,k.__assign)({className:v.extraClassNames.concat(X).join(" "),style:{borderColor:ut.borderColor,backgroundColor:ut.backgroundColor},ref:z},gr(S,w)),G("div",{className:"fc-event-main",ref:xe,style:{color:ut.textColor}},Ue),ut.isStartResizable&&G("div",{className:"fc-event-resizer fc-event-resizer-start"}),ut.isEndResizable&&G("div",{className:"fc-event-resizer fc-event-resizer-end"}))})},c}(ur);function sy(d){return G("div",{className:"fc-event-main-frame"},d.timeText&&G("div",{className:"fc-event-time"},d.timeText),G("div",{className:"fc-event-title-container"},G("div",{className:"fc-event-title fc-sticky"},d.event.title||G(be,null,"\xa0"))))}var Vg=function(d){return G(Li.Consumer,null,function(c){var p=c.options,v={isAxis:d.isAxis,date:c.dateEnv.toDate(d.date),view:c.viewApi};return G(fo,{hookProps:v,classNames:p.nowIndicatorClassNames,content:p.nowIndicatorContent,didMount:p.nowIndicatorDidMount,willUnmount:p.nowIndicatorWillUnmount},d.children)})},Db=Ir({day:"numeric"}),Ch=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,k.__extends)(c,d),c.prototype.render=function(){var v=this.props,w=this.context,S=w.options,N=oy({date:v.date,dateProfile:v.dateProfile,todayRange:v.todayRange,showDayNumber:v.showDayNumber,extraProps:v.extraHookProps,viewApi:w.viewApi,dateEnv:w.dateEnv});return G(Eu,{hookProps:N,content:S.dayCellContent,defaultContent:v.defaultContent},v.children)},c}(ur);function oy(d){var c=d.date,p=d.dateEnv,v=Rl(c,d.todayRange,null,d.dateProfile);return(0,k.__assign)((0,k.__assign)((0,k.__assign)({date:p.toDate(c),view:d.viewApi},v),{dayNumberText:d.showDayNumber?p.format(c,Db):""}),d.extraProps)}var ay=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.refineHookProps=Qi(oy),p.normalizeClassNames=Rr(),p}return(0,k.__extends)(c,d),c.prototype.render=function(){var v=this.props,w=this.context,S=w.options,N=this.refineHookProps({date:v.date,dateProfile:v.dateProfile,todayRange:v.todayRange,showDayNumber:v.showDayNumber,extraProps:v.extraHookProps,viewApi:w.viewApi,dateEnv:w.dateEnv}),L=lo(N,w.theme).concat(N.isDisabled?[]:this.normalizeClassNames(S.dayCellClassNames,N)),z=N.isDisabled?{}:{"data-date":hr(v.date)};return G(qa,{hookProps:N,didMount:S.dayCellDidMount,willUnmount:S.dayCellWillUnmount,elRef:v.elRef},function(X){return v.children(X,L,z,N.isDisabled)})},c}(ur);function Bg(d){return G("div",{className:"fc-"+d})}var Ug=function(d){return G(rl,{defaultContent:qc,seg:d.seg,timeText:"",disableDragging:!0,disableResizing:!0,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:d.isPast,isFuture:d.isFuture,isToday:d.isToday},function(c,p,v,w,S){return G("div",{ref:c,className:["fc-bg-event"].concat(p).join(" "),style:{backgroundColor:S.backgroundColor}},w)})};function qc(d){return d.event.title&&G("div",{className:"fc-event-title"},d.event.title)}var Zc=function(d){return G(Li.Consumer,null,function(c){var p=c.dateEnv,v=c.options,w=d.date,S=v.weekNumberFormat||d.defaultFormat,N=p.computeWeekNumber(w),L=p.format(w,S);return G(fo,{hookProps:{num:N,text:L,date:w},classNames:v.weekNumberClassNames,content:v.weekNumberContent,defaultContent:Dh,didMount:v.weekNumberDidMount,willUnmount:v.weekNumberWillUnmount},d.children)})};function Dh(d){return d.text}var nf=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.state={titleId:mt()},p.handleRootEl=function(v){p.rootEl=v,p.props.elRef&&Vi(p.props.elRef,v)},p.handleDocumentMouseDown=function(v){var w=We(v);p.rootEl.contains(w)||p.handleCloseClick()},p.handleDocumentKeyDown=function(v){"Escape"===v.key&&p.handleCloseClick()},p.handleCloseClick=function(){var v=p.props.onClose;v&&v()},p}return(0,k.__extends)(c,d),c.prototype.render=function(){var p=this.context,v=p.theme,w=p.options,N=this.props,L=this.state,z=["fc-popover",v.getClass("popover")].concat(N.extraClassNames||[]);return Ce(G("div",(0,k.__assign)({id:N.id,className:z.join(" "),"aria-labelledby":L.titleId},N.extraAttrs,{ref:this.handleRootEl}),G("div",{className:"fc-popover-header "+v.getClass("popoverHeader")},G("span",{className:"fc-popover-title",id:L.titleId},N.title),G("span",{className:"fc-popover-close "+v.getIconClass("close"),title:w.closeHint,onClick:this.handleCloseClick})),G("div",{className:"fc-popover-body "+v.getClass("popoverContent")},N.children)),N.parentEl)},c.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()},c.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)},c.prototype.updateSize=function(){var p=this.context.isRtl,v=this.props,w=v.alignmentEl,S=v.alignGridTop,N=this.rootEl,L=function vu(d){for(var c=ms(d),p=d.getBoundingClientRect(),v=0,w=c;v<w.length;v++){var N=lh(p,w[v].getBoundingClientRect());if(!N)return null;p=N}return p}(w);if(L){var z=N.getBoundingClientRect(),X=S?U(w,".fc-scrollgrid").getBoundingClientRect().top:L.top,xe=p?L.right-z.width:L.left;X=Math.max(X,10),xe=Math.min(xe,document.documentElement.clientWidth-10-z.width),xe=Math.max(xe,10);var Ue=N.offsetParent.getBoundingClientRect();He(N,{top:X-Ue.top,left:xe-Ue.left})}},c}(ur),Hg=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.handleRootEl=function(v){p.rootEl=v,v?p.context.registerInteractiveComponent(p,{el:v,useEventCenter:!1}):p.context.unregisterInteractiveComponent(p)},p}return(0,k.__extends)(c,d),c.prototype.render=function(){var p=this.context,S=this.props,N=S.startDate,L=S.todayRange,z=S.dateProfile,X=p.dateEnv.format(N,p.options.dayPopoverFormat);return G(ay,{date:N,dateProfile:z,todayRange:L,elRef:this.handleRootEl},function(xe,Ue,ut){return G(nf,{elRef:xe,id:S.id,title:X,extraClassNames:["fc-more-popover"].concat(Ue),extraAttrs:ut,parentEl:S.parentEl,alignmentEl:S.alignmentEl,alignGridTop:S.alignGridTop,onClose:S.onClose},G(Ch,{date:N,dateProfile:z,todayRange:L},function(gt,wt){return wt&&G("div",{className:"fc-more-popover-misc",ref:gt},wt)}),S.children)})},c.prototype.queryHit=function(p,v,w,S){var L=this.rootEl,z=this.props;return p>=0&&p<w&&v>=0&&v<S?{dateProfile:z.dateProfile,dateSpan:(0,k.__assign)({allDay:!0,range:{start:z.startDate,end:z.endDate}},z.extraDateSpan),dayEl:L,rect:{left:0,top:0,right:w,bottom:S},layer:1}:null},c}(Ol),ly=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.linkElRef=we(),p.state={isPopoverOpen:!1,popoverId:mt()},p.handleClick=function(v){var S=p.props,N=p.context,L=N.options.moreLinkClick,z=Gg(S).start;function X(xe){var Ue=xe.eventRange,wt=Ue.range;return{event:new ei(N,Ue.def,Ue.instance),start:N.dateEnv.toDate(wt.start),end:N.dateEnv.toDate(wt.end),isStart:xe.isStart,isEnd:xe.isEnd}}"function"==typeof L&&(L=L({date:z,allDay:Boolean(S.allDayDate),allSegs:S.allSegs.map(X),hiddenSegs:S.hiddenSegs.map(X),jsEvent:v,view:N.viewApi})),L&&"popover"!==L?"string"==typeof L&&N.calendarApi.zoomTo(z,L):p.setState({isPopoverOpen:!0})},p.handlePopoverClose=function(){p.setState({isPopoverOpen:!1})},p}return(0,k.__extends)(c,d),c.prototype.render=function(){var p=this,w=this.props,S=this.state;return G(Li.Consumer,null,function(N){var L=N.viewApi,z=N.options,X=N.calendarApi,xe=z.moreLinkText,Ue=w.moreCnt,ut=Gg(w),gt="function"==typeof xe?xe.call(X,Ue):"+"+Ue+" "+xe,wt=At(z.moreLinkHint,[Ue],gt),Yt={num:Ue,shortText:"+"+Ue,text:gt,view:L};return G(be,null,Boolean(w.moreCnt)&&G(fo,{elRef:p.linkElRef,hookProps:Yt,classNames:z.moreLinkClassNames,content:z.moreLinkContent,defaultContent:w.defaultContent||jg,didMount:z.moreLinkDidMount,willUnmount:z.moreLinkWillUnmount},function(an,xt,ir,Pr){return w.children(an,["fc-more-link"].concat(xt),ir,Pr,p.handleClick,wt,S.isPopoverOpen,S.isPopoverOpen?S.popoverId:"")}),S.isPopoverOpen&&G(Hg,{id:S.popoverId,startDate:ut.start,endDate:ut.end,dateProfile:w.dateProfile,todayRange:w.todayRange,extraDateSpan:w.extraDateSpan,parentEl:p.parentEl,alignmentEl:w.alignmentElRef.current,alignGridTop:w.alignGridTop,onClose:p.handlePopoverClose},w.popoverContent()))})},c.prototype.componentDidMount=function(){this.updateParentEl()},c.prototype.componentDidUpdate=function(){this.updateParentEl()},c.prototype.updateParentEl=function(){this.linkElRef.current&&(this.parentEl=U(this.linkElRef.current,".fc-view-harness"))},c}(ur);function jg(d){return d.text}function Gg(d){if(d.allDayDate)return{start:d.allDayDate,end:Ze(d.allDayDate,1)};var c=d.hiddenSegs;return{start:zg(c),end:cy(c)}}function zg(d){return d.reduce(uy).eventRange.range.start}function uy(d,c){return d.eventRange.range.start<c.eventRange.range.start?d:c}function cy(d){return d.reduce(dy).eventRange.range.end}function dy(d,c){return d.eventRange.range.end>c.eventRange.range.end?d:c}var fy="5.10.2"},6325:(Rt,$e,$)=>{"use strict";var h=$(5e3);let k=null;function R(){return k}const be=new h.OlP("DocumentToken");let Se=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function Ce(){return(0,h.LFG)(le)}()},providedIn:"platform"}),n})();const J=new h.OlP("Location Initialized");let le=(()=>{class n extends Se{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){D()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){D()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function O(){return new le((0,h.LFG)(be))}()},providedIn:"platform"}),n})();function D(){return!!window.history.pushState}function U(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function te(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function he(n){return n&&"?"!==n[0]?"?"+n:n}let ae=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function ne(n){const e=(0,h.LFG)(be).location;return new Qe((0,h.LFG)(Se),e&&e.origin||"")}()},providedIn:"root"}),n})();const He=new h.OlP("appBaseHref");let Qe=(()=>{class n extends ae{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return U(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+he(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,l){const f=this.prepareExternalUrl(i+he(l));this._platformLocation.pushState(t,r,f)}replaceState(t,r,i,l){const f=this.prepareExternalUrl(i+he(l));this._platformLocation.replaceState(t,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Se),h.LFG(He,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),We=(()=>{class n extends ae{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=U(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,l){let f=this.prepareExternalUrl(i+he(l));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(t,r,f)}replaceState(t,r,i,l){let f=this.prepareExternalUrl(i+he(l));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Se),h.LFG(He,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Ye=(()=>{class n{constructor(t,r){this._subject=new h.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=te(De(i)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+he(r))}normalize(t){return n.stripTrailingSlash(function mt(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,De(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+he(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+he(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=he,n.joinWithSlash=U,n.stripTrailingSlash=te,n.\u0275fac=function(t){return new(t||n)(h.LFG(ae),h.LFG(Se))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function ze(){return new Ye((0,h.LFG)(ae),(0,h.LFG)(Se))}()},providedIn:"root"}),n})();function De(n){return n.replace(/\/index.html$/,"")}let Tr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Kn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Oa("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Oa("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Kn{constructor(){this.$implicit=null,this.ngIf=null}}function Oa(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}class cu{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Td{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const Yi=new Td,Fa=new cu;let na=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,h.QGY)(t))return Yi;if((0,h.F4k)(t))return Fa;throw function Mr(n,e){return new h.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.sBO,16))},n.\u0275pipe=h.Yjl({name:"async",type:n,pure:!1}),n})(),Ji=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function jr(n){return"server"===n}let oa=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new Oo((0,h.LFG)(be),window)}),n})();class Oo{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ro(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const l=i.shadowRoot;if(l){const f=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(f)return f}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],i-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Xi(this.window.history)||Xi(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Xi(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ps extends class Pi extends class we{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ee(n){k||(k=n)}(new ps)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function aa(){return qn=qn||document.querySelector("base"),qn?qn.getAttribute("href"):null}();return null==t?null:function io(n){Va=Va||document.createElement("a"),Va.setAttribute("href",n);const e=Va.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){qn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Rs(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let Va,qn=null;const Jr=new h.OlP("TRANSITION_ID"),la=[{provide:h.ip1,useFactory:function Ps(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const r=R(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<i.length;l++)r.remove(i[l])})}},deps:[Jr,be,h.zs3],multi:!0}];class Z{static init(){(0,h.VLi)(new Z)}addToWindow(e){h.dqk.getAngularTestability=(r,i=!0)=>{const l=e.findTestabilityInTree(r,i);if(null==l)throw new Error("Could not find testability for element.");return l},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const i=h.dqk.getAllAngularTestabilities();let l=i.length,f=!1;const m=function(A){f=f||A,l--,0==l&&r(f)};i.forEach(function(A){A.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let q=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Ee=new h.OlP("EventManagerPlugins");let Ge=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let l=0;l<i.length;l++){const f=i[l];if(f.supports(t))return this._eventNameToPlugin.set(t,f),f}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ee),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class yt{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=R().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Dt=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),cn=(()=>{class n extends Dt{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(l=>{const f=this._doc.createElement("style");f.textContent=l,i.push(r.appendChild(f))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(sr),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(sr))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function sr(n){R().remove(n)}const Vt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},dr=/%COMP%/g;function ot(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ot(n,i,t):(i=i.replace(dr,n),t.push(i))}return t}function Dn(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let gr=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Ua(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case h.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new pc(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case h.ifc.ShadowDom:return new gc(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=ot(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ge),h.LFG(cn),h.LFG(h.AFp))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Ua{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Vt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const l=Vt[i];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Vt[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,i&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Dn(r)):this.eventManager.addEventListener(e,t,Dn(r))}}class pc extends Ua{constructor(e,t,r,i){super(e),this.component=r;const l=ot(i+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function so(n){return"_ngcontent-%COMP%".replace(dr,n)}(i+"-"+r.id),this.hostAttr=function Ba(n){return"_nghost-%COMP%".replace(dr,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class gc extends Ua{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=ot(i.id,i.styles,[]);for(let f=0;f<l.length;f++){const m=document.createElement("style");m.textContent=l[f],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Rd=(()=>{class n extends yt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const mc=["alt","control","meta","shift"],Ha={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Xr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},gs={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let hu=(()=>{class n extends yt{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const l=n.parseEventName(r),f=n.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,l.domEventName,f))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=n._normalizeKey(r.pop());let f="";if(mc.forEach(A=>{const M=r.indexOf(A);M>-1&&(r.splice(M,1),f+=A+".")}),f+=l,0!=r.length||0===l.length)return null;const m={};return m.domEventName=i,m.fullKey=f,m}static getEventFullKey(t){let r="",i=function Ls(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Xr.hasOwnProperty(e)&&(e=Xr[e]))}return Ha[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),mc.forEach(l=>{l!=i&&gs[l](t)&&(r+=l+".")}),r+=i,r}static eventCallback(t,r,i){return l=>{n.getEventFullKey(l)===t&&i.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const ih=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function Vs(){ps.makeCurrent(),Z.init()},multi:!0},{provide:be,useFactory:function Nd(){return(0,h.RDi)(document),document},deps:[]}]),ja=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function vc(){return new h.qLn},deps:[]},{provide:Ee,useClass:Rd,multi:!0,deps:[be,h.R0b,h.Lbi]},{provide:Ee,useClass:hu,multi:!0,deps:[be]},{provide:gr,useClass:gr,deps:[Ge,cn,h.AFp]},{provide:h.FYo,useExisting:gr},{provide:Dt,useExisting:cn},{provide:cn,useClass:cn,deps:[be]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b]},{provide:Ge,useClass:Ge,deps:[Ee,h.R0b]},{provide:class pr{},useClass:q,deps:[]}];let Cl=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:Jr,useExisting:h.AFp},la]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(n,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:ja,imports:[Ji,h.hGG]}),n})();"undefined"!=typeof window&&window;let oo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):h.LFG(Ld),r},providedIn:"root"}),n})(),Ld=(()=>{class n extends oo{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case h.q3G.NONE:return r;case h.q3G.HTML:return(0,h.qzn)(r,"HTML")?(0,h.z3N)(r):(0,h.EiD)(this._doc,String(r)).toString();case h.q3G.STYLE:return(0,h.qzn)(r,"Style")?(0,h.z3N)(r):r;case h.q3G.SCRIPT:if((0,h.qzn)(r,"Script"))return(0,h.z3N)(r);throw new Error("unsafe value used in a script context");case h.q3G.URL:return(0,h.yhl)(r),(0,h.qzn)(r,"URL")?(0,h.z3N)(r):(0,h.mCW)(String(r));case h.q3G.RESOURCE_URL:if((0,h.qzn)(r,"ResourceURL"))return(0,h.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,h.JVY)(t)}bypassSecurityTrustStyle(t){return(0,h.L6k)(t)}bypassSecurityTrustScript(t){return(0,h.eBb)(t)}bypassSecurityTrustUrl(t){return(0,h.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,h.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function gu(n){return new Ld(n.get(be))}(h.LFG(h.zs3)),r},providedIn:"root"}),n})();var Sr=$(8996),ao=$(8306);const{isArray:Ml}=Array,{getPrototypeOf:Ac,prototype:xl,keys:mu}=Object;function Rl(n){if(1===n.length){const e=n[0];if(Ml(e))return{args:e,keys:null};if(function lo(n){return n&&"object"==typeof n&&Ac(n)===xl}(e)){const t=mu(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var uo=$(8421),Ar=$(7669),Gr=$(5403),Sn=$(4004);const{isArray:Wa}=Array;function wc(n){return(0,Sn.U)(e=>function Ec(n,e){return Wa(e)?n(...e):n(e)}(n,e))}function Nl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let Vd=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),_i=(()=>{class n extends Vd{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const Di=new h.OlP("NgValueAccessor"),ua={provide:Di,useExisting:(0,h.Gpc)(()=>Hs),multi:!0};let Hs=(()=>{class n extends _i{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&h.NdJ("change",function(l){return r.onChange(l.target.checked)})("blur",function(){return r.onTouched()})},features:[h._Bn([ua]),h.qOj]}),n})();const vu={provide:Di,useExisting:(0,h.Gpc)(()=>ms),multi:!0},Tc=new h.OlP("CompositionEventMode");let ms=(()=>{class n extends Vd{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Dc(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Tc,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[h._Bn([vu]),h.qOj]}),n})();const ti=new h.OlP("NgValidators"),Vo=new h.OlP("NgAsyncValidators");function da(n){return null!=n}function Vi(n){const e=(0,h.QGY)(n)?(0,Sr.D)(n):n;return(0,h.CqO)(e),e}function Ol(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Bi(n,e){return e.map(t=>t(n))}function bu(n){return n.map(e=>function Cg(n){return!n.validate}(e)?e:t=>e.validate(t))}function Gs(n){return null!=n?function xr(n){if(!n)return null;const e=n.filter(da);return 0==e.length?null:function(t){return Ol(Bi(t,e))}}(bu(n)):null}function Au(n){return null!=n?function uh(n){if(!n)return null;const e=n.filter(da);return 0==e.length?null:function(t){return function Cc(...n){const e=(0,Ar.jO)(n),{args:t,keys:r}=Rl(n),i=new ao.y(l=>{const{length:f}=t;if(!f)return void l.complete();const m=new Array(f);let A=f,M=f;for(let P=0;P<f;P++){let V=!1;(0,uo.Xf)(t[P]).subscribe((0,Gr.x)(l,se=>{V||(V=!0,M--),m[P]=se},()=>A--,void 0,()=>{(!A||!V)&&(M||l.next(r?Nl(r,m):m),l.complete())}))}});return e?i.pipe(wc(e)):i}(Bi(t,e).map(Vi)).pipe((0,Sn.U)(Ol))}}(bu(n)):null}function ch(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Eu(n){return n?Array.isArray(n)?n:[n]:[]}function jo(n,e){return Array.isArray(n)?n.includes(e):n===e}function qa(n,e){const t=Eu(e);return Eu(n).forEach(i=>{jo(t,i)||t.push(i)}),t}function Rr(n,e){return Eu(e).filter(t=>!jo(n,t))}class fa{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Gs(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Au(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ui extends fa{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ni extends fa{get formDirective(){return null}get path(){return null}}let ho=(()=>{class n extends class Mc{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ui,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[h.qOj]}),n})();function ha(n,e){(function po(n,e){const t=function fo(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(ch(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Bd(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(ch(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();zo(e._rawValidators,i),zo(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),function pa(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Pc(n,e)})}(n,e),function Fc(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function fh(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Pc(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Ig(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function zo(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Pc(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Lc(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Ws="VALID",qs="INVALID",mo="PENDING",vo="DISABLED";function Ll(n){return(Ja(n)?n.validators:n)||null}function Vl(n){return Array.isArray(n)?Gs(n):n||null}function Ya(n,e){return(Ja(e)?e.asyncValidators:n)||null}function Mu(n){return Array.isArray(n)?Au(n):n||null}function Ja(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const yo=n=>n instanceof Xa;function xu(n){return(n=>n instanceof Bc)(n)?n.value:n.getRawValue()}function zd(n,e){const t=yo(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new h.vHH(1e3,"");if(!r[e])throw new h.vHH(1001,"")}function Vc(n,e){yo(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new h.vHH(1002,"")})}class Ru{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Vl(this._rawValidators),this._composedAsyncValidatorFn=Mu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ws}get invalid(){return this.status===qs}get pending(){return this.status==mo}get disabled(){return this.status===vo}get enabled(){return this.status!==vo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Vl(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Mu(e)}addValidators(e){this.setValidators(qa(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(qa(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Rr(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Rr(e,this._rawAsyncValidators))}hasValidator(e){return jo(this._rawValidators,e)}hasAsyncValidator(e){return jo(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=mo,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=vo,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ws,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ws||this.status===mo)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vo:Ws}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=mo,this._hasOwnPendingAsyncValidator=!0;const t=Vi(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function jd(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=yo(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof gh)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?vo:this.errors?qs:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mo)?mo:this._anyControlsHaveStatus(qs)?qs:Ws}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ja(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Bc extends Ru{constructor(e=null,t,r){super(Ll(t),Ya(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ja(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Lc(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Lc(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Xa extends Ru{constructor(e,t,r){super(Ll(t),Ya(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Vc(this,e),Object.keys(e).forEach(r=>{zd(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=xu(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,l)=>{r=t(r,i,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class gh extends Ru{constructor(e,t,r){super(Ll(t),Ya(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Vc(this,e),e.forEach((r,i)=>{zd(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>xu(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const $d={provide:Ui,useExisting:(0,h.Gpc)(()=>ji)},Nu=(()=>Promise.resolve(null))();let ji=(()=>{class n extends Ui{constructor(t,r,i,l,f){super(),this._changeDetectorRef=f,this.control=new Bc,this._registered=!1,this.update=new h.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function go(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(l=>{l.constructor===ms?t=l:function ph(n){return Object.getPrototypeOf(n.constructor)===_i}(l)?r=l:i=l}),i||r||t||null}(0,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function ga(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ha(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Nu.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;Nu.then(()=>{var l;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(l=this._changeDetectorRef)||void 0===l||l.markForCheck()})}_getPath(t){return this._parent?function Ka(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(ni,9),h.Y36(ti,10),h.Y36(Vo,10),h.Y36(Di,10),h.Y36(h.sBO,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([$d]),h.qOj,h.TTD]}),n})();const vh={provide:Di,useExisting:(0,h.Gpc)(()=>Hc),multi:!0};let Hc=(()=>{class n extends _i{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},features:[h._Bn([vh]),h.qOj]}),n})(),rs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})(),ry=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[rs]]}),n})(),Fu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[ry]}),n})();class ci{}const bo="*";function iy(n,e){return{type:7,name:n,definitions:e,options:{}}}function Pg(n,e=null){return{type:4,styles:e,timings:n}}function Lg(n,e=null){return{type:2,steps:n,options:e}}function rl(n){return{type:6,styles:n,offset:null}}function wh(n,e,t){return{type:0,name:n,styles:e,options:t}}function Vg(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Ug(n){Promise.resolve(null).then(n)}class qc{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ug(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Zc{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const l=this.players.length;0==l?Ug(()=>this._onFinish()):this.players.forEach(f=>{f.onDone(()=>{++t==l&&this._onFinish()}),f.onDestroy(()=>{++r==l&&this._onDestroy()}),f.onStart(()=>{++i==l&&this._onStart()})}),this.totalTime=this.players.reduce((f,m)=>Math.max(f,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const Gn=!1;function Hg(n){return new h.vHH(3e3,Gn)}function rf(){return"undefined"!=typeof window&&void 0!==window.document}function Vu(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function _a(n){switch(n.length){case 0:return new qc;case 1:return n[0];default:return new Zc(n)}}function $g(n,e,t,r,i={},l={}){const f=[],m=[];let A=-1,M=null;if(r.forEach(P=>{const V=P.offset,se=V==A,pe=se&&M||{};Object.keys(P).forEach(ve=>{let je=ve,ft=P[ve];if("offset"!==ve)switch(je=e.normalizePropertyName(je,f),ft){case"!":ft=i[ve];break;case bo:ft=l[ve];break;default:ft=e.normalizeStyleValue(ve,je,ft,f)}pe[je]=ft}),se||m.push(pe),M=pe,A=V}),f.length)throw function Yt(n){return new h.vHH(3502,Gn)}();return m}function Bu(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Th(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Th(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Th(t,"destroy",n)))}}function Th(n,e,t){const r=t.totalTime,l=Wg(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),f=n._data;return null!=f&&(l._data=f),l}function Wg(n,e,t,r,i="",l=0,f){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:l,disabled:!!f}}function _s(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function Tb(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let hy=(n,e)=>!1,py=(n,e,t)=>[],gy=null;function Zl(n){const e=n.parentNode||n.host;return e===gy?null:e}(Vu()||"undefined"!=typeof Element)&&(rf()?(gy=(()=>document.documentElement)(),hy=(n,e)=>{for(;e;){if(e===n)return!0;e=Zl(e)}return!1}):hy=(n,e)=>n.contains(e),py=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Kc=null,Ih=!1;function Sb(n){Kc||(Kc=function Mb(){return"undefined"!=typeof document?document.body:null}()||{},Ih=!!Kc.style&&"WebkitAppearance"in Kc.style);let e=!0;return Kc.style&&!function Ib(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Kc.style,!e&&Ih&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Kc.style)),e}const my=hy,vy=py;let yy=(()=>{class n{validateStyleProperty(t){return Sb(t)}matchesElement(t,r){return!1}containsElement(t,r){return my(t,r)}getParentElement(t){return Zl(t)}query(t,r,i){return vy(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,l,f,m=[],A){return new qc(i,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),sf=(()=>{class n{}return n.NOOP=new yy,n})();const Zg="ng-enter",of="ng-leave",Uu="ng-trigger",Kg=".ng-trigger",Ay="ng-animating",Ey=".ng-animating";function Qc(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Qg(parseFloat(e[1]),e[2])}function Qg(n,e){return"s"===e?1e3*n:n}function af(n,e,t){return n.hasOwnProperty("duration")?n:function Rb(n,e,t){let i,l=0,f="";if("string"==typeof n){const m=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return e.push(Hg()),{duration:0,delay:0,easing:""};i=Qg(parseFloat(m[1]),m[2]);const A=m[3];null!=A&&(l=Qg(parseFloat(A),m[4]));const M=m[5];M&&(f=M)}else i=n;if(!t){let m=!1,A=e.length;i<0&&(e.push(function ly(){return new h.vHH(3100,Gn)}()),m=!0),l<0&&(e.push(function jg(){return new h.vHH(3101,Gn)}()),m=!0),m&&e.splice(A,0,Hg())}return{duration:i,delay:l,easing:f}}(n,e,t)}function Sh(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Hu(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Sh(n,t);return t}function Cy(n,e,t){return t?e+":"+t+";":""}function Nb(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=Cy(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Cy(0,jC(t),n.style[t]));n.setAttribute("style",e)}function il(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=Ty(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),Vu()&&Nb(n))}function $i(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=Ty(t);n.style[r]=""}),Vu()&&Nb(n))}function Mh(n){return Array.isArray(n)?1==n.length?n[0]:Lg(n):n}const Dy=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ob(n){let e=[];if("string"==typeof n){let t;for(;t=Dy.exec(n);)e.push(t[1]);Dy.lastIndex=0}return e}function Yg(n,e,t){const r=n.toString(),i=r.replace(Dy,(l,f)=>{let m=e[f];return e.hasOwnProperty(f)||(t.push(function zg(n){return new h.vHH(3003,Gn)}()),m=""),m.toString()});return i==r?n:i}function Jg(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Pb=/-+([a-z0-9])/g;function Ty(n){return n.replace(Pb,(...e)=>e[1].toUpperCase())}function jC(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ks(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function uy(n){return new h.vHH(3004,Gn)}()}}function Iy(n,e){return window.getComputedStyle(n)[e]}function Vb(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Sy(n,e,t){if(":"==n[0]){const A=function FM(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Ue(n){return new h.vHH(3016,Gn)}()),"* => *"}}(n,t);if("function"==typeof A)return void e.push(A);n=A}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function xe(n){return new h.vHH(3015,Gn)}()),e;const i=r[1],l=r[2],f=r[3];e.push(Nh(i,f));"<"==l[0]&&!("*"==i&&"*"==f)&&e.push(Nh(f,i))}(r,t,e)):t.push(n),t}const Rh=new Set(["true","1"]),My=new Set(["false","0"]);function Nh(n,e){const t=Rh.has(n)||My.has(n),r=Rh.has(e)||My.has(e);return(i,l)=>{let f="*"==n||n==i,m="*"==e||e==l;return!f&&t&&"boolean"==typeof i&&(f=i?Rh.has(n):My.has(n)),!m&&r&&"boolean"==typeof l&&(m=l?Rh.has(e):My.has(e)),f&&m}}const xy=new RegExp("s*:selfs*,?","g");function Oh(n,e,t,r){return new LM(n).build(e,t,r)}class LM{constructor(e){this._driver=e}build(e,t,r){const i=new qC(t);this._resetContextStyleTimingState(i);const l=Ks(this,Mh(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),l}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const l=[],f=[];return"@"==e.name.charAt(0)&&t.errors.push(function dy(){return new h.vHH(3006,Gn)}()),e.definitions.forEach(m=>{if(this._resetContextStyleTimingState(t),0==m.type){const A=m,M=A.name;M.toString().split(/\s*,\s*/).forEach(P=>{A.name=P,l.push(this.visitState(A,t))}),A.name=M}else if(1==m.type){const A=this.visitTransition(m,t);r+=A.queryCount,i+=A.depCount,f.push(A)}else t.errors.push(function fy(){return new h.vHH(3007,Gn)}())}),{type:7,name:e.name,states:l,transitions:f,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const l=new Set,f=i||{};r.styles.forEach(m=>{if(Ph(m)){const A=m;Object.keys(A).forEach(M=>{Ob(A[M]).forEach(P=>{f.hasOwnProperty(P)||l.add(P)})})}}),l.size&&(Jg(l.values()),t.errors.push(function d(n,e){return new h.vHH(3008,Gn)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Ks(this,Mh(e.animation),t);return{type:1,matchers:Vb(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Jc(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Ks(this,r,t)),options:Jc(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const l=e.steps.map(f=>{t.currentTime=r;const m=Ks(this,f,t);return i=Math.max(i,t.currentTime),m});return t.currentTime=i,{type:3,steps:l,options:Jc(e.options)}}visitAnimate(e,t){const r=function VM(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Bb(af(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=Bb(0,0,"");return l.dynamic=!0,l.strValue=t,l}const i=af(t,e);return Bb(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,l=e.styles?e.styles:rl({});if(5==l.type)i=this.visitKeyframes(l,t);else{let f=e.styles,m=!1;if(!f){m=!0;const M={};r.easing&&(M.easing=r.easing),f=rl(M)}t.currentTime+=r.duration+r.delay;const A=this.visitStyle(f,t);A.isEmptyStep=m,i=A}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(f=>{"string"==typeof f?f==bo?r.push(f):t.errors.push(function c(n){return new h.vHH(3002,Gn)}()):r.push(f)}):r.push(e.styles);let i=!1,l=null;return r.forEach(f=>{if(Ph(f)){const m=f,A=m.easing;if(A&&(l=A,delete m.easing),!i)for(let M in m)if(m[M].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,l=t.currentTime;r&&l>0&&(l-=r.duration+r.delay),e.styles.forEach(f=>{"string"!=typeof f&&Object.keys(f).forEach(m=>{if(!this._driver.validateStyleProperty(m))return delete f[m],void t.unsupportedCSSPropertiesFound.add(m);const A=t.collectedStyles[t.currentQuerySelector],M=A[m];let P=!0;M&&(l!=i&&l>=M.startTime&&i<=M.endTime&&(t.errors.push(function v(n,e,t,r,i){return new h.vHH(3010,Gn)}()),P=!1),l=M.startTime),P&&(A[m]={startTime:l,endTime:i}),t.options&&function kb(n,e,t){const r=e.params||{},i=Ob(n);i.length&&i.forEach(l=>{r.hasOwnProperty(l)||t.push(function Gg(n){return new h.vHH(3001,Gn)}())})}(f[m],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function w(){return new h.vHH(3011,Gn)}()),r;let l=0;const f=[];let m=!1,A=!1,M=0;const P=e.steps.map(Ht=>{const Lt=this._makeStyleAst(Ht,t);let Gt=null!=Lt.offset?Lt.offset:function ZC(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Ph(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(Ph(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Lt.styles),It=0;return null!=Gt&&(l++,It=Lt.offset=Gt),A=A||It<0||It>1,m=m||It<M,M=It,f.push(It),Lt});A&&t.errors.push(function S(){return new h.vHH(3012,Gn)}()),m&&t.errors.push(function N(){return new h.vHH(3200,Gn)}());const V=e.steps.length;let se=0;l>0&&l<V?t.errors.push(function L(){return new h.vHH(3202,Gn)}()):0==l&&(se=1/(V-1));const pe=V-1,ve=t.currentTime,je=t.currentAnimateTimings,ft=je.duration;return P.forEach((Ht,Lt)=>{const Gt=se>0?Lt==pe?1:se*Lt:f[Lt],It=Gt*ft;t.currentTime=ve+je.delay+It,je.duration=It,this._validateStyleAst(Ht,t),Ht.offset=Gt,r.styles.push(Ht)}),r}visitReference(e,t){return{type:8,animation:Ks(this,Mh(e.animation),t),options:Jc(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Jc(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Jc(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[l,f]=function $C(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(xy,"")),n=n.replace(/@\*/g,Kg).replace(/@\w+/g,t=>Kg+"-"+t.substr(1)).replace(/:animating/g,Ey),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+l:l,_s(t.collectedStyles,t.currentQuerySelector,{});const m=Ks(this,Mh(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:l,limit:i.limit||0,optional:!!i.optional,includeSelf:f,animation:m,originalSelector:e.selector,options:Jc(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function z(){return new h.vHH(3013,Gn)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:af(e.timings,t.errors,!0);return{type:12,animation:Ks(this,Mh(e.animation),t),timings:r,options:null}}}class qC{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ph(n){return!Array.isArray(n)&&"object"==typeof n}function Jc(n){return n?(n=Sh(n)).params&&(n.params=function WC(n){return n?Sh(n):null}(n.params)):n={},n}function Bb(n,e,t){return{duration:n,delay:e,easing:t}}function em(n,e,t,r,i,l,f=null,m=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:l,totalTime:i+l,easing:f,subTimeline:m}}class Fh{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const BM=new RegExp(":enter","g"),HM=new RegExp(":leave","g");function Ub(n,e,t,r,i,l={},f={},m,A,M=[]){return(new jM).buildKeyframes(n,e,t,r,i,l,f,m,A,M)}class jM{buildKeyframes(e,t,r,i,l,f,m,A,M,P=[]){M=M||new Fh;const V=new Hb(e,t,M,i,l,P,[]);V.options=A,V.currentTimeline.setStyles([f],null,V.errors,A),Ks(this,r,V);const se=V.timelines.filter(pe=>pe.containsAnimation());if(Object.keys(m).length){let pe;for(let ve=se.length-1;ve>=0;ve--){const je=se[ve];if(je.element===t){pe=je;break}}pe&&!pe.allowOnlyTimelineStyles()&&pe.setStyles([m],null,V.errors,A)}return se.length?se.map(pe=>pe.buildKeyframes()):[em(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),l=t.currentTimeline.currentTime,f=this._visitSubInstructions(r,i,i.options);l!=f&&t.transformIntoNewTimeline(f)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let l=t.currentTimeline.currentTime;const f=null!=r.duration?Qc(r.duration):null,m=null!=r.delay?Qc(r.delay):null;return 0!==f&&e.forEach(A=>{const M=t.appendInstructionToTimeline(A,f,m);l=Math.max(l,M.duration+M.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),Ks(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const l=e.options;if(l&&(l.params||l.delay)&&(i=t.createSubContext(l),i.transformIntoNewTimeline(),null!=l.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Ny);const f=Qc(l.delay);i.delayNextStep(f)}e.steps.length&&(e.steps.forEach(f=>Ks(this,f,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?Qc(e.options.delay):0;e.steps.forEach(f=>{const m=t.createSubContext(e.options);l&&m.delayNextStep(l),Ks(this,f,m),i=Math.max(i,m.currentTimeline.currentTime),r.push(m.currentTimeline)}),r.forEach(f=>t.currentTimeline.mergeTimelineCollectedStyles(f)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return af(t.params?Yg(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(r.duration),this.visitStyle(l,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const l=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(l):r.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,l=r.duration,m=t.createSubContext().currentTimeline;m.easing=r.easing,e.styles.forEach(A=>{m.forwardTime((A.offset||0)*l),m.setStyles(A.styles,A.easing,t.errors,t.options),m.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(m),t.transformIntoNewTimeline(i+l),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},l=i.delay?Qc(i.delay):0;l&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ny);let f=r;const m=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=m.length;let A=null;m.forEach((M,P)=>{t.currentQueryIndex=P;const V=t.createSubContext(e.options,M);l&&V.delayNextStep(l),M===t.element&&(A=V.currentTimeline),Ks(this,e.animation,V),V.currentTimeline.applyStylesToKeyframe(),f=Math.max(f,V.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(f),A&&(t.currentTimeline.mergeTimelineCollectedStyles(A),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,l=e.timings,f=Math.abs(l.duration),m=f*(t.currentQueryTotal-1);let A=f*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":A=m-A;break;case"full":A=r.currentStaggerTime}const P=t.currentTimeline;A&&P.delayNextStep(A);const V=P.currentTime;Ks(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-V+(i.startTime-r.currentTimeline.startTime)}}const Ny={};class Hb{constructor(e,t,r,i,l,f,m,A){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=l,this.errors=f,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ny,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=A||new ky(this._driver,t,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Qc(r.duration)),null!=r.delay&&(i.delay=Qc(r.delay));const l=r.params;if(l){let f=i.params;f||(f=this.options.params={}),Object.keys(l).forEach(m=>{(!t||!f.hasOwnProperty(m))&&(f[m]=Yg(l[m],f,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,l=new Hb(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=Ny,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},l=new GM(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(l),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,l,f){let m=[];if(i&&m.push(this.element),e.length>0){e=(e=e.replace(BM,"."+this._enterClassName)).replace(HM,"."+this._leaveClassName);let M=this._driver.query(this.element,e,1!=r);0!==r&&(M=r<0?M.slice(M.length+r,M.length):M.slice(0,r)),m.push(...M)}return!l&&0==m.length&&f.push(function X(n){return new h.vHH(3014,Gn)}()),m}}class ky{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new ky(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||bo,this._currentKeyframe[t]=bo}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const l=i&&i.params||{},f=function Gu(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(l=>{t[l]=bo})):Hu(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(f).forEach(m=>{const A=Yg(f[m],l,r);this._pendingStyles[m]=A,this._localTimelineStyles.hasOwnProperty(m)||(this._backFill[m]=this._globalTimelineStyles.hasOwnProperty(m)?this._globalTimelineStyles[m]:bo),this._updateStyle(m,A)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((m,A)=>{const M=Hu(m,!0);Object.keys(M).forEach(P=>{const V=M[P];"!"==V?e.add(P):V==bo&&t.add(P)}),r||(M.offset=A/this.duration),i.push(M)});const l=e.size?Jg(e.values()):[],f=t.size?Jg(t.values()):[];if(r){const m=i[0],A=Sh(m);m.offset=0,A.offset=1,i=[m,A]}return em(this.element,i,l,f,this.duration,this.startTime,this.easing,!1)}}class GM extends ky{constructor(e,t,r,i,l,f,m=!1){super(e,t,f.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=l,this._stretchStartingKeyframe=m,this.timings={duration:f.duration,delay:f.delay,easing:f.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],f=r+t,m=t/f,A=Hu(e[0],!1);A.offset=0,l.push(A);const M=Hu(e[0],!1);M.offset=QC(m),l.push(M);const P=e.length-1;for(let V=1;V<=P;V++){let se=Hu(e[V],!1);se.offset=QC((t+se.offset*r)/f),l.push(se)}r=f,t=0,i="",e=l}return em(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function QC(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Oy{}class Py extends Oy{normalizePropertyName(e,t){return Ty(e)}normalizeStyleValue(e,t,r,i){let l="";const f=r.toString().trim();if(Gb[t]&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const m=r.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&i.push(function cy(n,e){return new h.vHH(3005,Gn)}())}return f+l}}const Gb=(()=>function Fy(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function zb(n,e,t,r,i,l,f,m,A,M,P,V,se){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:l,toState:r,toStyles:f,timelines:m,queriedElements:A,preStyleProps:M,postStyleProps:P,totalTime:V,errors:se}}const sl={};class Ly{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function JC(n,e,t,r,i){return n.some(l=>l(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],l=this._stateStyles[e],f=i?i.buildStyles(t,r):{};return l?l.buildStyles(t,r):f}build(e,t,r,i,l,f,m,A,M,P){const V=[],se=this.ast.options&&this.ast.options.params||sl,ve=this.buildStyles(r,m&&m.params||sl,V),je=A&&A.params||sl,ft=this.buildStyles(i,je,V),Ht=new Set,Lt=new Map,Gt=new Map,It="void"===i,bn={params:Object.assign(Object.assign({},se),je)},mn=P?[]:Ub(e,t,this.ast.animation,l,f,ve,ft,bn,M,V);let Jn=0;if(mn.forEach(Na=>{Jn=Math.max(Na.duration+Na.delay,Jn)}),V.length)return zb(t,this._triggerName,r,i,It,ve,ft,[],[],Lt,Gt,Jn,V);mn.forEach(Na=>{const yl=Na.element,Cb=_s(Lt,yl,{});Na.preStyleProps.forEach(gg=>Cb[gg]=!0);const uu=_s(Gt,yl,{});Na.postStyleProps.forEach(gg=>uu[gg]=!0),yl!==t&&Ht.add(yl)});const Xn=Jg(Ht.values());return zb(t,this._triggerName,r,i,It,ve,ft,mn,Xn,Lt,Gt,Jn)}}class Vy{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=Sh(this.defaultParams);return Object.keys(e).forEach(l=>{const f=e[l];null!=f&&(i[l]=f)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const f=l;Object.keys(f).forEach(m=>{let A=f[m];A.length>1&&(A=Yg(A,i,t));const M=this.normalizer.normalizePropertyName(m,t);A=this.normalizer.normalizeStyleValue(m,M,A,t),r[M]=A})}}),r}}class $b{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new Vy(i.style,i.options&&i.options.params||{},r)}),Wb(this.states,"true","1"),Wb(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Ly(e,i,this.states))}),this.fallbackTransition=function eD(n,e,t){return new Ly(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(f,m)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(f=>f.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function Wb(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const Lh=new Fh;class uf{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],l=Oh(this._driver,t,r,[]);if(r.length)throw function an(n){return new h.vHH(3503,Gn)}();this._animations[e]=l}_buildPlayer(e,t,r){const i=e.element,l=$g(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],l=this._animations[e];let f;const m=new Map;if(l?(f=Ub(this._driver,t,l,Zg,of,{},{},r,Lh,i),f.forEach(P=>{const V=_s(m,P.element,{});P.postStyleProps.forEach(se=>V[se]=null)})):(i.push(function xt(){return new h.vHH(3300,Gn)}()),f=[]),i.length)throw function ir(n){return new h.vHH(3504,Gn)}();m.forEach((P,V)=>{Object.keys(P).forEach(se=>{P[se]=this._driver.computeStyle(V,se,bo)})});const M=_a(f.map(P=>{const V=m.get(P.element);return this._buildPlayer(P,{},V)}));return this._playersById[e]=M,M.onDestroy(()=>this.destroy(e)),this.players.push(M),M}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function Pr(n){return new h.vHH(3301,Gn)}();return t}listen(e,t,r,i){const l=Wg(t,"","","");return Bu(this._getPlayer(e),r,l,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const l=this._getPlayer(e);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const tm="ng-animate-queued",Xc="ng-animate-disabled",Zb=[],nm={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},By={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Eo="__ng_removed";class ff{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Qb(n){return null!=n?n:null}(r?e.value:e),r){const l=Sh(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Vh="void",rm=new ff(Vh);class zM{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Aa(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function _r(n,e){return new h.vHH(3302,Gn)}();if(null==r||0==r.length)throw function di(n){return new h.vHH(3303,Gn)}();if(!function rD(n){return"start"==n||"done"==n}(r))throw function qr(n,e){return new h.vHH(3400,Gn)}();const l=_s(this._elementListeners,e,[]),f={name:t,phase:r,callback:i};l.push(f);const m=_s(this._engine.statesByElement,e,{});return m.hasOwnProperty(t)||(Aa(e,Uu),Aa(e,Uu+"-"+t),m[t]=rm),()=>{this._engine.afterFlush(()=>{const A=l.indexOf(f);A>=0&&l.splice(A,1),this._triggers[t]||delete m[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function ys(n){return new h.vHH(3401,Gn)}();return t}trigger(e,t,r,i=!0){const l=this._getTrigger(t),f=new im(this.id,t,e);let m=this._engine.statesByElement.get(e);m||(Aa(e,Uu),Aa(e,Uu+"-"+t),this._engine.statesByElement.set(e,m={}));let A=m[t];const M=new ff(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&A&&M.absorbOptions(A.options),m[t]=M,A||(A=rm),M.value!==Vh&&A.value===M.value){if(!function Uy(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const l=t[i];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(A.params,M.params)){const je=[],ft=l.matchStyles(A.value,A.params,je),Ht=l.matchStyles(M.value,M.params,je);je.length?this._engine.reportError(je):this._engine.afterFlush(()=>{$i(e,ft),il(e,Ht)})}return}const se=_s(this._engine.playersByElement,e,[]);se.forEach(je=>{je.namespaceId==this.id&&je.triggerName==t&&je.queued&&je.destroy()});let pe=l.matchTransition(A.value,M.value,e,M.params),ve=!1;if(!pe){if(!i)return;pe=l.fallbackTransition,ve=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:pe,fromState:A,toState:M,player:f,isFallbackTransition:ve}),ve||(Aa(e,tm),f.onStart(()=>{Bh(e,tm)})),f.onDone(()=>{let je=this.players.indexOf(f);je>=0&&this.players.splice(je,1);const ft=this._engine.playersByElement.get(e);if(ft){let Ht=ft.indexOf(f);Ht>=0&&ft.splice(Ht,1)}}),this.players.push(f),se.push(f),f}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Kg,!0);r.forEach(i=>{if(i[Eo])return;const l=this._engine.fetchNamespacesByElement(i);l.size?l.forEach(f=>f.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const l=this._engine.statesByElement.get(e),f=new Map;if(l){const m=[];if(Object.keys(l).forEach(A=>{if(f.set(A,l[A].value),this._triggers[A]){const M=this.trigger(e,A,Vh,i);M&&m.push(M)}}),m.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,f),r&&_a(m).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(l=>{const f=l.name;if(i.has(f))return;i.add(f);const A=this._triggers[f].fallbackTransition,M=r[f]||rm,P=new ff(Vh),V=new im(this.id,f,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:f,transition:A,fromState:M,toState:P,player:V,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(e):[];if(l&&l.length)i=!0;else{let f=e;for(;f=f.parentNode;)if(r.statesByElement.get(f)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const l=e[Eo];(!l||l===nm)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Aa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const l=r.element,f=this._elementListeners.get(l);f&&f.forEach(m=>{if(m.name==r.triggerName){const A=Wg(l,r.triggerName,r.fromState.value,r.toState.value);A._data=e,Bu(r.player,m.phase,A,m.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const l=r.transition.ast.depCount,f=i.transition.ast.depCount;return 0==l||0==f?l-f:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Kb{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new zM(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,l=r.length-1;if(l>=0){let f=!1;if(void 0!==this.driver.getParentElement){let m=this.driver.getParentElement(t);for(;m;){const A=i.get(m);if(A){const M=r.indexOf(A);r.splice(M+1,0,e),f=!0;break}m=this.driver.getParentElement(m)}}else for(let m=l;m>=0;m--)if(this.driver.containsElement(r[m].hostElement,t)){r.splice(m+1,0,e),f=!0;break}f||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let l=0;l<i.length;l++){const f=r[i[l]].namespaceId;if(f){const m=this._fetchNamespace(f);m&&t.add(m)}}}return t}trigger(e,t,r,i){if(sm(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!sm(t))return;const l=t[Eo];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const f=this.collectedLeaveElements.indexOf(t);f>=0&&this.collectedLeaveElements.splice(f,1)}if(e){const f=this._fetchNamespace(e);f&&f.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Aa(e,Xc)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Bh(e,Xc))}removeNode(e,t,r,i){if(sm(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const f=this.namespacesByHostElement.get(t);f&&f.id!==e&&f.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,l){this.collectedLeaveElements.push(t),t[Eo]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:l}}listen(e,t,r,i,l){return sm(t)?this._fetchNamespace(e).listen(t,r,i,l):()=>{}}_buildInstruction(e,t,r,i,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,Kg,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Ey,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return _a(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[Eo];if(r&&r.setForRemoval){if(e[Eo]=nm,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(Xc))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Aa(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?_a(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function zi(n){return new h.vHH(3402,Gn)}()}_flushAnimations(e,t){const r=new Fh,i=[],l=new Map,f=[],m=new Map,A=new Map,M=new Map,P=new Set;this.disabledNodes.forEach(sn=>{P.add(sn);const vn=this.driver.query(sn,".ng-animate-queued",!0);for(let kn=0;kn<vn.length;kn++)P.add(vn[kn])});const V=this.bodyNode,se=Array.from(this.statesByElement.keys()),pe=Jb(se,this.collectedEnterElements),ve=new Map;let je=0;pe.forEach((sn,vn)=>{const kn=Zg+je++;ve.set(vn,kn),sn.forEach(fr=>Aa(fr,kn))});const ft=[],Ht=new Set,Lt=new Set;for(let sn=0;sn<this.collectedLeaveElements.length;sn++){const vn=this.collectedLeaveElements[sn],kn=vn[Eo];kn&&kn.setForRemoval&&(ft.push(vn),Ht.add(vn),kn.hasAnimation?this.driver.query(vn,".ng-star-inserted",!0).forEach(fr=>Ht.add(fr)):Lt.add(vn))}const Gt=new Map,It=Jb(se,Array.from(Ht));It.forEach((sn,vn)=>{const kn=of+je++;Gt.set(vn,kn),sn.forEach(fr=>Aa(fr,kn))}),e.push(()=>{pe.forEach((sn,vn)=>{const kn=ve.get(vn);sn.forEach(fr=>Bh(fr,kn))}),It.forEach((sn,vn)=>{const kn=Gt.get(vn);sn.forEach(fr=>Bh(fr,kn))}),ft.forEach(sn=>{this.processLeaveNode(sn)})});const bn=[],mn=[];for(let sn=this._namespaceList.length-1;sn>=0;sn--)this._namespaceList[sn].drainQueuedTransitions(t).forEach(kn=>{const fr=kn.player,us=kn.element;if(bn.push(fr),this.collectedEnterElements.length){const Ro=us[Eo];if(Ro&&Ro.setForMove){if(Ro.previousTriggersValues&&Ro.previousTriggersValues.has(kn.triggerName)){const mg=Ro.previousTriggersValues.get(kn.triggerName),rh=this.statesByElement.get(kn.element);rh&&rh[kn.triggerName]&&(rh[kn.triggerName].value=mg)}return void fr.destroy()}}const cc=!V||!this.driver.containsElement(V,us),ka=Gt.get(us),nh=ve.get(us),ii=this._buildInstruction(kn,r,nh,ka,cc);if(ii.errors&&ii.errors.length)return void mn.push(ii);if(cc)return fr.onStart(()=>$i(us,ii.fromStyles)),fr.onDestroy(()=>il(us,ii.toStyles)),void i.push(fr);if(kn.isFallbackTransition)return fr.onStart(()=>$i(us,ii.fromStyles)),fr.onDestroy(()=>il(us,ii.toStyles)),void i.push(fr);const YN=[];ii.timelines.forEach(Ro=>{Ro.stretchStartingKeyframe=!0,this.disabledNodes.has(Ro.element)||YN.push(Ro)}),ii.timelines=YN,r.append(us,ii.timelines),f.push({instruction:ii,player:fr,element:us}),ii.queriedElements.forEach(Ro=>_s(m,Ro,[]).push(fr)),ii.preStyleProps.forEach((Ro,mg)=>{const rh=Object.keys(Ro);if(rh.length){let vg=A.get(mg);vg||A.set(mg,vg=new Set),rh.forEach(PM=>vg.add(PM))}}),ii.postStyleProps.forEach((Ro,mg)=>{const rh=Object.keys(Ro);let vg=M.get(mg);vg||M.set(mg,vg=new Set),rh.forEach(PM=>vg.add(PM))})});if(mn.length){const sn=[];mn.forEach(vn=>{sn.push(function Zs(n,e){return new h.vHH(3505,Gn)}())}),bn.forEach(vn=>vn.destroy()),this.reportError(sn)}const Jn=new Map,Xn=new Map;f.forEach(sn=>{const vn=sn.element;r.has(vn)&&(Xn.set(vn,vn),this._beforeAnimationBuild(sn.player.namespaceId,sn.instruction,Jn))}),i.forEach(sn=>{const vn=sn.element;this._getPreviousPlayers(vn,!1,sn.namespaceId,sn.triggerName,null).forEach(fr=>{_s(Jn,vn,[]).push(fr),fr.destroy()})});const Na=ft.filter(sn=>Hy(sn,A,M)),yl=new Map;Yb(yl,this.driver,Lt,M,bo).forEach(sn=>{Hy(sn,A,M)&&Na.push(sn)});const uu=new Map;pe.forEach((sn,vn)=>{Yb(uu,this.driver,new Set(sn),A,"!")}),Na.forEach(sn=>{const vn=yl.get(sn),kn=uu.get(sn);yl.set(sn,Object.assign(Object.assign({},vn),kn))});const gg=[],KN=[],QN={};f.forEach(sn=>{const{element:vn,player:kn,instruction:fr}=sn;if(r.has(vn)){if(P.has(vn))return kn.onDestroy(()=>il(vn,fr.toStyles)),kn.disabled=!0,kn.overrideTotalTime(fr.totalTime),void i.push(kn);let us=QN;if(Xn.size>1){let ka=vn;const nh=[];for(;ka=ka.parentNode;){const ii=Xn.get(ka);if(ii){us=ii;break}nh.push(ka)}nh.forEach(ii=>Xn.set(ii,us))}const cc=this._buildAnimation(kn.namespaceId,fr,Jn,l,uu,yl);if(kn.setRealPlayer(cc),us===QN)gg.push(kn);else{const ka=this.playersByElement.get(us);ka&&ka.length&&(kn.parentPlayer=_a(ka)),i.push(kn)}}else $i(vn,fr.fromStyles),kn.onDestroy(()=>il(vn,fr.toStyles)),KN.push(kn),P.has(vn)&&i.push(kn)}),KN.forEach(sn=>{const vn=l.get(sn.element);if(vn&&vn.length){const kn=_a(vn);sn.setRealPlayer(kn)}}),i.forEach(sn=>{sn.parentPlayer?sn.syncPlayerEvents(sn.parentPlayer):sn.destroy()});for(let sn=0;sn<ft.length;sn++){const vn=ft[sn],kn=vn[Eo];if(Bh(vn,of),kn&&kn.hasAnimation)continue;let fr=[];if(m.size){let cc=m.get(vn);cc&&cc.length&&fr.push(...cc);let ka=this.driver.query(vn,Ey,!0);for(let nh=0;nh<ka.length;nh++){let ii=m.get(ka[nh]);ii&&ii.length&&fr.push(...ii)}}const us=fr.filter(cc=>!cc.destroyed);us.length?Xb(this,vn,us):this.processLeaveNode(vn)}return ft.length=0,gg.forEach(sn=>{this.players.push(sn),sn.onDone(()=>{sn.destroy();const vn=this.players.indexOf(sn);this.players.splice(vn,1)}),sn.play()}),gg}elementContainsData(e,t){let r=!1;const i=t[Eo];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,l){let f=[];if(t){const m=this.playersByQueriedElement.get(e);m&&(f=m)}else{const m=this.playersByElement.get(e);if(m){const A=!l||l==Vh;m.forEach(M=>{M.queued||!A&&M.triggerName!=i||f.push(M)})}}return(r||i)&&(f=f.filter(m=>!(r&&r!=m.namespaceId||i&&i!=m.triggerName))),f}_beforeAnimationBuild(e,t,r){const l=t.element,f=t.isRemovalTransition?void 0:e,m=t.isRemovalTransition?void 0:t.triggerName;for(const A of t.timelines){const M=A.element,P=M!==l,V=_s(r,M,[]);this._getPreviousPlayers(M,P,f,m,t.toState).forEach(pe=>{const ve=pe.getRealPlayer();ve.beforeDestroy&&ve.beforeDestroy(),pe.destroy(),V.push(pe)})}$i(l,t.fromStyles)}_buildAnimation(e,t,r,i,l,f){const m=t.triggerName,A=t.element,M=[],P=new Set,V=new Set,se=t.timelines.map(ve=>{const je=ve.element;P.add(je);const ft=je[Eo];if(ft&&ft.removedBeforeQueried)return new qc(ve.duration,ve.delay);const Ht=je!==A,Lt=function $M(n){const e=[];return eA(n,e),e}((r.get(je)||Zb).map(Jn=>Jn.getRealPlayer())).filter(Jn=>!!Jn.element&&Jn.element===je),Gt=l.get(je),It=f.get(je),bn=$g(0,this._normalizer,0,ve.keyframes,Gt,It),mn=this._buildPlayer(ve,bn,Lt);if(ve.subTimeline&&i&&V.add(je),Ht){const Jn=new im(e,m,je);Jn.setRealPlayer(mn),M.push(Jn)}return mn});M.forEach(ve=>{_s(this.playersByQueriedElement,ve.element,[]).push(ve),ve.onDone(()=>function nD(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,ve.element,ve))}),P.forEach(ve=>Aa(ve,Ay));const pe=_a(se);return pe.onDestroy(()=>{P.forEach(ve=>Bh(ve,Ay)),il(A,t.toStyles)}),V.forEach(ve=>{_s(i,ve,[]).push(pe)}),pe}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new qc(e.duration,e.delay)}}class im{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new qc,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>Bu(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){_s(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function sm(n){return n&&1===n.nodeType}function Qs(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function Yb(n,e,t,r,i){const l=[];t.forEach(A=>l.push(Qs(A)));const f=[];r.forEach((A,M)=>{const P={};A.forEach(V=>{const se=P[V]=e.computeStyle(M,V,i);(!se||0==se.length)&&(M[Eo]=By,f.push(M))}),n.set(M,P)});let m=0;return t.forEach(A=>Qs(A,l[m++])),f}function Jb(n,e){const t=new Map;if(n.forEach(m=>t.set(m,[])),0==e.length)return t;const i=new Set(e),l=new Map;function f(m){if(!m)return 1;let A=l.get(m);if(A)return A;const M=m.parentNode;return A=t.has(M)?M:i.has(M)?1:f(M),l.set(m,A),A}return e.forEach(m=>{const A=f(m);1!==A&&t.get(A).push(m)}),t}function Aa(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Bh(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function Xb(n,e,t){_a(t).onDone(()=>n.processLeaveNode(e))}function eA(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Zc?eA(r.players,e):e.push(r)}}function Hy(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(l=>i.add(l)):e.set(n,r),t.delete(n),!0}class om{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,l)=>{},this._transitionEngine=new Kb(e,t,r),this._timelineEngine=new uf(e,t,r),this._transitionEngine.onRemovalComplete=(i,l)=>this.onRemovalComplete(i,l)}registerTrigger(e,t,r,i,l){const f=e+"-"+i;let m=this._triggerCache[f];if(!m){const A=[],P=Oh(this._driver,l,A,[]);if(A.length)throw function wt(n,e){return new h.vHH(3404,Gn)}();m=function XC(n,e,t){return new $b(n,e,t)}(i,P,this._normalizer),this._triggerCache[f]=m}this._transitionEngine.registerTrigger(t,i,m)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[l,f]=Tb(r);this._timelineEngine.command(l,t,f,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,l){if("@"==r.charAt(0)){const[f,m]=Tb(r);return this._timelineEngine.listen(f,t,m,l)}return this._transitionEngine.listen(e,t,r,i,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let sD=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&il(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(il(this._element,this._initialStyles),this._endStyles&&(il(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&($i(this._element,this._startStyles),this._endStyles=null),this._endStyles&&($i(this._element,this._endStyles),this._endStyles=null),il(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function am(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];oD(i)&&(e=e||{},e[i]=n[i])}return e}function oD(n){return"display"===n||"position"===n}class jy{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:Iy(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class aD{validateStyleProperty(e){return Sb(e)}matchesElement(e,t){return!1}containsElement(e,t){return my(e,t)}getParentElement(e){return Zl(e)}query(e,t,r){return vy(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,l,f=[]){const A={duration:r,delay:i,fill:0==i?"both":"forwards"};l&&(A.easing=l);const M={},P=f.filter(se=>se instanceof jy);(function GC(n,e){return 0===n||0===e})(r,i)&&P.forEach(se=>{let pe=se.currentSnapshot;Object.keys(pe).forEach(ve=>M[ve]=pe[ve])}),t=function Vn(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let l=e[0],f=[];if(r.forEach(m=>{l.hasOwnProperty(m)||f.push(m),l[m]=t[m]}),f.length)for(var i=1;i<e.length;i++){let m=e[i];f.forEach(function(A){m[A]=Iy(n,A)})}}return e}(e,t=t.map(se=>Hu(se,!1)),M);const V=function iD(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=am(e[0]),e.length>1&&(r=am(e[e.length-1]))):e&&(t=am(e)),t||r?new sD(n,t,r):null}(e,t);return new jy(e,t,A,V)}}let lD=(()=>{class n extends ci{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?Lg(t):t;return rA(this._renderer,null,r,"register",[i]),new tA(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class tA extends class Lu{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new nA(this._id,e,t||{},this._renderer)}}class nA{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return rA(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function rA(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const lm="@.disabled";let uD=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,f)=>{const m=null==f?void 0:f.parentNode(l);m&&f.removeChild(m,l)}}createRenderer(t,r){const l=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let P=this._rendererCache.get(l);return P||(P=new iA("",l,this.engine),this._rendererCache.set(l,P)),P}const f=r.id,m=r.id+"-"+this._currentId;this._currentId++,this.engine.register(m,t);const A=P=>{Array.isArray(P)?P.forEach(A):this.engine.registerTrigger(f,m,t,P.name,P)};return r.data.animation.forEach(A),new WM(this,m,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[f,m]=l;f(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(om),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class iA{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==lm?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class WM extends iA{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==lm?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function sA(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.substr(1),f="";return"@"!=l.charAt(0)&&([l,f]=function cD(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(l)),this.engine.listen(this.namespaceId,i,l,f,m=>{this.factory.scheduleListenerCallback(m._data||-1,r,m)})}return this.delegate.listen(e,t,r)}}let dD=(()=>{class n extends om{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be),h.LFG(sf),h.LFG(Oy))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const oA=new h.OlP("AnimationModuleType"),aA=[{provide:ci,useClass:lD},{provide:Oy,useFactory:function fD(){return new Py}},{provide:om,useClass:dD},{provide:h.FYo,useFactory:function Gy(n,e,t){return new uD(n,e,t)},deps:[gr,om,h.R0b]}],Uh=[{provide:sf,useFactory:()=>new aD},{provide:oA,useValue:"BrowserAnimations"},...aA],zy=[{provide:sf,useClass:yy},{provide:oA,useValue:"NoopAnimations"},...aA];let hD=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?zy:Uh}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:Uh,imports:[Cl]}),n})();function Tn(...n){const e=(0,Ar.yG)(n);return(0,Sr.D)(n,e)}var fi=$(7579);class Ea extends fi.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Hh=$(4671),$y=$(9672);function Wy(n,e,t){n?(0,$y.f)(t,n,e):e()}var um=$(576);function jh(n,e){const t=(0,um.m)(n)?n:()=>n,r=i=>i.error(t());return new ao.y(e?i=>e.schedule(r,0,i):r)}const Gh=(0,$(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var qo=$(8189);function qy(...n){return function cm(){return(0,qo.J)(1)}()((0,Sr.D)(n,(0,Ar.yG)(n)))}function cA(n){return new ao.y(e=>{(0,uo.Xf)(n()).subscribe(e)})}var zh=$(515),dm=$(727),Ys=$(4482);function fm(){return(0,Ys.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Gr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,l=t;t=null,i&&(!l||i===l)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class $h extends ao.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Ys.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new dm.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Gr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=dm.w0.EMPTY)}return e}refCount(){return fm()(this)}}function bs(n,e){return(0,Ys.e)((t,r)=>{let i=null,l=0,f=!1;const m=()=>f&&!i&&r.complete();t.subscribe((0,Gr.x)(r,A=>{null==i||i.unsubscribe();let M=0;const P=l++;(0,uo.Xf)(n(A,P)).subscribe(i=(0,Gr.x)(r,V=>r.next(e?e(A,V,P,M++):V),()=>{i=null,m()}))},()=>{f=!0,m()}))})}var Wh=$(5698);function qh(...n){const e=(0,Ar.yG)(n);return(0,Ys.e)((t,r)=>{(e?qy(n,t,e):qy(n,t)).subscribe(r)})}function dA(n,e,t,r,i){return(l,f)=>{let m=t,A=e,M=0;l.subscribe((0,Gr.x)(f,P=>{const V=M++;A=m?n(A,P,V):(m=!0,P),r&&f.next(A)},i&&(()=>{m&&f.next(A),f.complete()})))}}function hf(n,e){return(0,Ys.e)(dA(n,e,arguments.length>=2,!0))}function ol(n,e){return(0,Ys.e)((t,r)=>{let i=0;t.subscribe((0,Gr.x)(r,l=>n.call(e,l,i++)&&r.next(l)))})}function al(n){return(0,Ys.e)((e,t)=>{let l,r=null,i=!1;r=e.subscribe((0,Gr.x)(t,void 0,void 0,f=>{l=(0,uo.Xf)(n(f,al(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,l.subscribe(t))})}var is=$(5577);function Zh(n,e){return(0,um.m)(e)?(0,is.z)(n,e,1):(0,is.z)(n,1)}function hm(n){return n<=0?()=>zh.E:(0,Ys.e)((e,t)=>{let r=[];e.subscribe((0,Gr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function ed(n=fA){return(0,Ys.e)((e,t)=>{let r=!1;e.subscribe((0,Gr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function fA(){return new Gh}function hA(n){return(0,Ys.e)((e,t)=>{let r=!1;e.subscribe((0,Gr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Zo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ol((i,l)=>n(i,l,r)):Hh.y,(0,Wh.q)(1),t?hA(e):ed(()=>new Gh))}var Co=$(8505);class Kl{constructor(e,t){this.id=e,this.url=t}}class Zy extends Kl{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class As extends Kl{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pm extends Kl{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pA extends Kl{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class gA extends Kl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mA extends Kl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vA extends Kl{constructor(e,t,r,i,l){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class vD extends Kl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yD extends Kl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yA{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _A{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class bA{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZM{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AA{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _D{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class EA{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Qn="primary";class KM{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function zu(n){return new KM(n)}const wA="ngNavigationCancelingError";function gm(n){const e=Error("NavigationCancelingError: "+n);return e[wA]=!0,e}function QM(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let l=0;l<r.length;l++){const f=r[l],m=n[l];if(f.startsWith(":"))i[f.substring(1)]=m;else if(f!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ql(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let l=0;l<t.length;l++)if(i=t[l],!bD(n[i],e[i]))return!1;return!0}function bD(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,l)=>r[l]===i)}return n===e}function Ky(n){return Array.prototype.concat.apply([],n)}function Qy(n){return n.length>0?n[n.length-1]:null}function Wi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Yl(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,Sr.D)(Promise.resolve(n)):Tn(n)}const Yy={exact:function IA(n,e,t){if(!td(n.segments,e.segments)||!vm(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!IA(n.children[r],e.children[r],t))return!1;return!0},subset:SA},TA={exact:function ED(n,e){return Ql(n,e)},subset:function wD(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>bD(n[t],e[t]))},ignored:()=>!0};function mm(n,e,t){return Yy[t.paths](n.root,e.root,t.matrixParams)&&TA[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function SA(n,e,t){return MA(n,e,e.segments,t)}function MA(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!td(i,t)||e.hasChildren()||!vm(i,t,r))}if(n.segments.length===t.length){if(!td(n.segments,t)||!vm(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!SA(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(td(n.segments,i)&&vm(n.segments,i,r)&&n.children[Qn])&&MA(n.children[Qn],e,l,r)}}function vm(n,e,t){return e.every((r,i)=>TA[t](n[i].parameters,r.parameters))}class ll{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zu(this.queryParams)),this._queryParamMap}toString(){return Yh.serialize(this)}}class Hn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Wi(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bi(this)}}class Kh{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=zu(this.parameters)),this._parameterMap}toString(){return rd(this)}}function td(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class ym{}class Ca{parse(e){const t=new kA(e);return new ll(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Da(e.root,!0)}`,r=function gf(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Es(t)}=${Es(i)}`).join("&"):`${Es(t)}=${Es(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Jy(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Yh=new Ca;function bi(n){return n.segments.map(e=>rd(e)).join("/")}function Da(n,e){if(!n.hasChildren())return bi(n);if(e){const t=n.children[Qn]?Da(n.children[Qn],!1):"",r=[];return Wi(n.children,(i,l)=>{l!==Qn&&r.push(`${l}:${Da(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function CD(n,e){let t=[];return Wi(n.children,(r,i)=>{i===Qn&&(t=t.concat(e(r,i)))}),Wi(n.children,(r,i)=>{i!==Qn&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Qn?[Da(n.children[Qn],!1)]:[`${i}:${Da(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Qn]?`${bi(n)}/${t[0]}`:`${bi(n)}/(${t.join("//")})`}}function Jh(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Es(n){return Jh(n).replace(/%3B/gi,";")}function $u(n){return Jh(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Jl(n){return decodeURIComponent(n)}function nd(n){return Jl(n.replace(/\+/g,"%20"))}function rd(n){return`${$u(n.path)}${function pf(n){return Object.keys(n).map(e=>`;${$u(e)}=${$u(n[e])}`).join("")}(n.parameters)}`}const mf=/^[^\/()?;=#]+/;function Xl(n){const e=n.match(mf);return e?e[0]:""}const vf=/^[^=?&#]+/,RA=/^[^&#]+/;class kA{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Hn([],{}):new Hn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Qn]=new Hn(e,t)),r}parseSegment(){const e=Xl(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Kh(Jl(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Xl(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Xl(this.remaining);i&&(r=i,this.capture(r))}e[Jl(t)]=Jl(r)}parseQueryParam(e){const t=function xA(n){const e=n.match(vf);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const f=function NA(n){const e=n.match(RA);return e?e[0]:""}(this.remaining);f&&(r=f,this.capture(r))}const i=nd(t),l=nd(r);if(e.hasOwnProperty(i)){let f=e[i];Array.isArray(f)||(f=[f],e[i]=f),f.push(l)}else e[i]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Xl(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Qn);const f=this.parseChildren();t[l]=1===Object.keys(f).length?f[Qn]:new Hn([],f),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Xy{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=_m(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=_m(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=bm(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return bm(e,this._root).map(t=>t.value)}}function _m(n,e){if(n===e.value)return e;for(const t of e.children){const r=_m(n,t);if(r)return r}return null}function bm(n,e){if(n===e.value)return[e];for(const t of e.children){const r=bm(n,t);if(r.length)return r.unshift(e),r}return[]}class ul{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function id(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class OA extends Xy{constructor(e,t){super(e),this.snapshot=t,r_(this,e)}toString(){return this.snapshot.toString()}}function e_(n,e){const t=function DD(n,e){const f=new Am([],{},{},"",{},Qn,e,null,n.root,-1,{});return new n_("",new ul(f,[]))}(n,e),r=new Ea([new Kh("",{})]),i=new Ea({}),l=new Ea({}),f=new Ea({}),m=new Ea(""),A=new yf(r,i,f,m,l,Qn,e,t.root);return A.snapshot=t.root,new OA(new ul(A,[]),t)}class yf{constructor(e,t,r,i,l,f,m,A){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=f,this.component=m,this._futureSnapshot=A}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Sn.U)(e=>zu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Sn.U)(e=>zu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function t_(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],l=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(l.component)break;r--}}return function TD(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Am{constructor(e,t,r,i,l,f,m,A,M,P,V){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=f,this.component=m,this.routeConfig=A,this._urlSegment=M,this._lastPathIndex=P,this._resolve=V}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=zu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class n_ extends Xy{constructor(e,t){super(t),this.url=e,r_(this,t)}toString(){return i_(this._root)}}function r_(n,e){e.value._routerState=n,e.children.forEach(t=>r_(n,t))}function i_(n){const e=n.children.length>0?` { ${n.children.map(i_).join(", ")} } `:"";return`${n.value}${e}`}function s_(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ql(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ql(e.params,t.params)||n.params.next(t.params),function wa(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ql(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ql(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function o_(n,e){const t=Ql(n.params,e.params)&&function Qh(n,e){return td(n,e)&&n.every((t,r)=>Ql(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||o_(n.parent,e.parent))}function Xh(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function a_(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Xh(n,r,i);return Xh(n,r)})}(n,e,t);return new ul(r,i)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const f=l.route;return f.value._futureSnapshot=e.value,f.children=e.children.map(m=>Xh(n,m)),f}}const r=function l_(n){return new yf(new Ea(n.url),new Ea(n.params),new Ea(n.queryParams),new Ea(n.fragment),new Ea(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(l=>Xh(n,l));return new ul(r,i)}}function u_(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Em(n){return"object"==typeof n&&null!=n&&n.outlets}function PA(n,e,t,r,i){let l={};if(r&&Wi(r,(m,A)=>{l[A]=Array.isArray(m)?m.map(M=>`${M}`):`${m}`}),n===e)return new ll(t,l,i);const f=FA(n,e,t);return new ll(f,l,i)}function FA(n,e,t){const r={};return Wi(n.children,(i,l)=>{r[l]=i===e?t:FA(i,e,t)}),new Hn(n.segments,r)}class c_{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&u_(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Em);if(i&&i!==Qy(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class d_{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function VA(n,e,t){if(n||(n=new Hn([],{})),0===n.segments.length&&n.hasChildren())return ep(n,e,t);const r=function wm(n,e,t){let r=0,i=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return l;const f=n.segments[i],m=t[r];if(Em(m))break;const A=`${m}`,M=r<t.length-1?t[r+1]:null;if(i>0&&void 0===A)break;if(A&&M&&"object"==typeof M&&void 0===M.outlets){if(!HA(A,M,f))return l;r+=2}else{if(!HA(A,{},f))return l;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new Hn(n.segments.slice(0,r.pathIndex),{});return l.children[Qn]=new Hn(n.segments.slice(r.pathIndex),n.children),ep(l,0,i)}return r.match&&0===i.length?new Hn(n.segments,{}):r.match&&!n.hasChildren()?f_(n,e,t):r.match?ep(n,0,i):f_(n,e,t)}function ep(n,e,t){if(0===t.length)return new Hn(n.segments,{});{const r=function LA(n){return Em(n[0])?n[0].outlets:{[Qn]:n}}(t),i={};return Wi(r,(l,f)=>{"string"==typeof l&&(l=[l]),null!==l&&(i[f]=VA(n.children[f],e,l))}),Wi(n.children,(l,f)=>{void 0===r[f]&&(i[f]=l)}),new Hn(n.segments,i)}}function f_(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const l=t[i];if(Em(l)){const A=BA(l.outlets);return new Hn(r,A)}if(0===i&&u_(t[0])){r.push(new Kh(n.segments[e].path,UA(t[0]))),i++;continue}const f=Em(l)?l.outlets[Qn]:`${l}`,m=i<t.length-1?t[i+1]:null;f&&m&&u_(m)?(r.push(new Kh(f,UA(m))),i+=2):(r.push(new Kh(f,{})),i++)}return new Hn(r,{})}function BA(n){const e={};return Wi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=f_(new Hn([],{}),0,t))}),e}function UA(n){const e={};return Wi(n,(t,r)=>e[r]=`${t}`),e}function HA(n,e,t){return n==t.path&&Ql(e,t.parameters)}class xD{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),s_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=id(t);e.children.forEach(l=>{const f=l.value.outlet;this.deactivateRoutes(l,i[f],r),delete i[f]}),Wi(i,(l,f)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(i===l)if(i.component){const f=r.getContext(i.outlet);f&&this.deactivateChildRoutes(e,t,f.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=id(e);for(const f of Object.keys(l))this.deactivateRouteAndItsChildren(l[f],i);if(r&&r.outlet){const f=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:f,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=id(e);for(const f of Object.keys(l))this.deactivateRouteAndItsChildren(l[f],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=id(t);e.children.forEach(l=>{this.activateRoutes(l,i[l.value.outlet],r),this.forwardEvent(new _D(l.value.snapshot))}),e.children.length&&this.forwardEvent(new ZM(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(s_(i),i===l)if(i.component){const f=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,f.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const f=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const m=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),f.children.onOutletReAttached(m.contexts),f.attachRef=m.componentRef,f.route=m.route.value,f.outlet&&f.outlet.attach(m.componentRef,m.route.value),s_(m.route.value),this.activateChildRoutes(e,null,f.children)}else{const m=function RD(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),A=m?m.module.componentFactoryResolver:null;f.attachRef=null,f.route=i,f.resolver=A,f.outlet&&f.outlet.activateWith(i,A),this.activateChildRoutes(e,null,f.children)}}else this.activateChildRoutes(e,null,r)}}class Cm{constructor(e,t){this.routes=e,this.module=t}}function Wu(n){return"function"==typeof n}function qu(n){return n instanceof ll}const Dm=Symbol("INITIAL_VALUE");function eu(){return bs(n=>function qM(...n){const e=(0,Ar.yG)(n),t=(0,Ar.jO)(n),{args:r,keys:i}=Rl(n);if(0===r.length)return(0,Sr.D)([],e);const l=new ao.y(function pD(n,e,t=Hh.y){return r=>{Wy(e,()=>{const{length:i}=n,l=new Array(i);let f=i,m=i;for(let A=0;A<i;A++)Wy(e,()=>{const M=(0,Sr.D)(n[A],e);let P=!1;M.subscribe((0,Gr.x)(r,V=>{l[A]=V,P||(P=!0,m--),m||r.next(t(l.slice()))},()=>{--f||r.complete()}))},r)},r)}}(r,e,i?f=>Nl(i,f):Hh.y));return t?l.pipe(wc(t)):l}(n.map(e=>e.pipe((0,Wh.q)(1),qh(Dm)))).pipe(hf((e,t)=>{let r=!1;return t.reduce((i,l,f)=>i!==Dm?i:(l===Dm&&(r=!0),r||!1!==l&&f!==t.length-1&&!qu(l)?i:l),e)},Dm),ol(e=>e!==Dm),(0,Sn.U)(e=>qu(e)?e:!0===e),(0,Wh.q)(1)))}class GA{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new sd,this.attachRef=null}}class sd{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new GA,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let tp=(()=>{class n{constructor(t,r,i,l,f){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.name=l||Qn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const f=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,A=new kD(t,m,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,A),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(sd),h.Y36(h.s_b),h.Y36(h._Vd),h.$8M("name"),h.Y36(h.sBO))},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class kD{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===yf?this.route:e===sd?this.childContexts:this.parent.get(e,t)}}let np=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},directives:[tp],encapsulation:2}),n})();function rp(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];g_(r,ex(e,r))}}function g_(n,e){n.children&&rp(n.children,e)}function ex(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function m_(n){const e=n.children&&n.children.map(m_),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Qn&&(t.component=np),t}function ws(n){return n.outlet||Qn}function ip(n,e){const t=n.filter(r=>ws(r)===e);return t.push(...n.filter(r=>ws(r)!==e)),t}const v_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function sp(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},v_):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const l=(e.matcher||QM)(t,n,e);if(!l)return Object.assign({},v_);const f={};Wi(l.posParams,(A,M)=>{f[M]=A.path});const m=l.consumed.length>0?Object.assign(Object.assign({},f),l.consumed[l.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:l.consumed,remainingSegments:t.slice(l.consumed.length),parameters:m,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function bf(n,e,t,r,i="corrected"){if(t.length>0&&function y_(n,e,t){return t.some(r=>Tm(n,e,r)&&ws(r)!==Qn)}(n,t,r)){const f=new Hn(e,function $A(n,e,t,r){const i={};i[Qn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&ws(l)!==Qn){const f=new Hn([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,i[ws(l)]=f}return i}(n,e,r,new Hn(t,n.children)));return f._sourceSegment=n,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:[]}}if(0===t.length&&function WA(n,e,t){return t.some(r=>Tm(n,e,r))}(n,t,r)){const f=new Hn(n.segments,function zA(n,e,t,r,i,l){const f={};for(const m of r)if(Tm(n,t,m)&&!i[ws(m)]){const A=new Hn([],{});A._sourceSegment=n,A._segmentIndexShift="legacy"===l?n.segments.length:e.length,f[ws(m)]=A}return Object.assign(Object.assign({},i),f)}(n,e,t,r,n.children,i));return f._sourceSegment=n,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:t}}const l=new Hn(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function Tm(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function __(n,e,t,r){return!!(ws(n)===r||r!==Qn&&Tm(e,t,n))&&("**"===n.path||sp(e,n,t).matched)}function b_(n,e,t){return 0===e.length&&!n.children[t]}class Af{constructor(e){this.segmentGroup=e||null}}class A_{constructor(e){this.urlTree=e}}function op(n){return jh(new Af(n))}function qA(n){return jh(new A_(n))}class KA{constructor(e,t,r,i,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(h.h0i)}apply(){const e=bf(this.urlTree.root,[],[],this.config).segmentGroup,t=new Hn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Qn).pipe((0,Sn.U)(l=>this.createUrlTree(Im(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(al(l=>{if(l instanceof A_)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Af?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Qn).pipe((0,Sn.U)(i=>this.createUrlTree(Im(i),e.queryParams,e.fragment))).pipe(al(i=>{throw i instanceof Af?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Hn([],{[Qn]:e}):e;return new ll(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Sn.U)(l=>new Hn([],l))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const l of Object.keys(r.children))"primary"===l?i.unshift(l):i.push(l);return(0,Sr.D)(i).pipe(Zh(l=>{const f=r.children[l],m=ip(t,l);return this.expandSegmentGroup(e,m,f,l).pipe((0,Sn.U)(A=>({segment:A,outlet:l})))}),hf((l,f)=>(l[f.outlet]=f.segment,l),{}),function gD(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ol((i,l)=>n(i,l,r)):Hh.y,hm(1),t?hA(e):ed(()=>new Gh))}())}expandSegment(e,t,r,i,l,f){return(0,Sr.D)(r).pipe(Zh(m=>this.expandSegmentAgainstRoute(e,t,r,m,i,l,f).pipe(al(M=>{if(M instanceof Af)return Tn(null);throw M}))),Zo(m=>!!m),al((m,A)=>{if(m instanceof Gh||"EmptyError"===m.name)return b_(t,i,l)?Tn(new Hn([],{})):op(t);throw m}))}expandSegmentAgainstRoute(e,t,r,i,l,f,m){return __(i,t,l,f)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,l,f):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,f):op(t):op(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,f){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,f):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?qA(l):this.lineralizeSegments(r,l).pipe((0,is.z)(f=>{const m=new Hn(f,{});return this.expandSegment(e,m,t,f,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,f){const{matched:m,consumedSegments:A,remainingSegments:M,positionalParamSegments:P}=sp(t,i,l);if(!m)return op(t);const V=this.applyRedirectCommands(A,i.redirectTo,P);return i.redirectTo.startsWith("/")?qA(V):this.lineralizeSegments(i,V).pipe((0,is.z)(se=>this.expandSegment(e,t,r,se.concat(M),f,!1)))}matchSegmentAgainstRoute(e,t,r,i,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?Tn(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Sn.U)(V=>(r._loadedConfig=V,new Hn(i,{})))):Tn(new Hn(i,{}));const{matched:f,consumedSegments:m,remainingSegments:A}=sp(t,r,i);return f?this.getChildConfig(e,r,i).pipe((0,is.z)(P=>{const V=P.module,se=P.routes,{segmentGroup:pe,slicedSegments:ve}=bf(t,m,A,se),je=new Hn(pe.segments,pe.children);if(0===ve.length&&je.hasChildren())return this.expandChildren(V,se,je).pipe((0,Sn.U)(Gt=>new Hn(m,Gt)));if(0===se.length&&0===ve.length)return Tn(new Hn(m,{}));const ft=ws(r)===l;return this.expandSegment(V,je,se,ve,ft?Qn:l,!0).pipe((0,Sn.U)(Lt=>new Hn(m.concat(Lt.segments),Lt.children)))})):op(t)}getChildConfig(e,t,r){return t.children?Tn(new Cm(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Tn(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,is.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,Sn.U)(l=>(t._loadedConfig=l,l))):function ZA(n){return jh(gm(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):Tn(new Cm([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?Tn(i.map(f=>{const m=e.get(f);let A;if(function h_(n){return n&&Wu(n.canLoad)}(m))A=m.canLoad(t,r);else{if(!Wu(m))throw new Error("Invalid CanLoad guard");A=m(t,r)}return Yl(A)})).pipe(eu(),(0,Co.b)(f=>{if(!qu(f))return;const m=gm(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw m.url=f,m}),(0,Sn.U)(f=>!0===f)):Tn(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Tn(r);if(i.numberOfChildren>1||!i.children[Qn])return jh(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[Qn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const l=this.createSegmentGroup(e,t.root,r,i);return new ll(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Wi(e,(i,l)=>{if("string"==typeof i&&i.startsWith(":")){const m=i.substring(1);r[l]=t[m]}else r[l]=i}),r}createSegmentGroup(e,t,r,i){const l=this.createSegments(e,t.segments,r,i);let f={};return Wi(t.children,(m,A)=>{f[A]=this.createSegmentGroup(e,m,r,i)}),new Hn(l,f)}createSegments(e,t,r,i){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,i):this.findOrReturn(l,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function Im(n){const e={};for(const r of Object.keys(n.children)){const l=Im(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function QA(n){if(1===n.numberOfChildren&&n.children[Qn]){const e=n.children[Qn];return new Hn(n.segments.concat(e.segments),e.children)}return n}(new Hn(n.segments,e))}class w_{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ap{constructor(e,t){this.component=e,this.route=t}}function JA(n,e,t){const r=n._root;return lp(r,e?e._root:null,t,[r.value])}function C_(n,e,t){const r=function PD(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function lp(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=id(e);return n.children.forEach(f=>{(function eE(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,f=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(f&&l.routeConfig===f.routeConfig){const A=function FD(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!td(n.url,e.url);case"pathParamsOrQueryParamsChange":return!td(n.url,e.url)||!Ql(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!o_(n,e)||!Ql(n.queryParams,e.queryParams);default:return!o_(n,e)}}(f,l,l.routeConfig.runGuardsAndResolvers);A?i.canActivateChecks.push(new w_(r)):(l.data=f.data,l._resolvedData=f._resolvedData),lp(n,e,l.component?m?m.children:null:t,r,i),A&&m&&m.outlet&&m.outlet.isActivated&&i.canDeactivateChecks.push(new ap(m.outlet.component,f))}else f&&zr(e,m,i),i.canActivateChecks.push(new w_(r)),lp(n,null,l.component?m?m.children:null:t,r,i)})(f,l[f.value.outlet],t,r.concat([f.value]),i),delete l[f.value.outlet]}),Wi(l,(f,m)=>zr(f,t.getContext(m),i)),i}function zr(n,e,t){const r=id(n),i=n.value;Wi(r,(l,f)=>{zr(l,i.component?e?e.children.getContext(f):null:e,t)}),t.canDeactivateChecks.push(new ap(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class UD{}function sE(n){return new ao.y(e=>e.error(n))}class HD{constructor(e,t,r,i,l,f){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=f}recognize(){const e=bf(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Qn);if(null===t)return null;const r=new Am([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Qn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ul(r,t),l=new n_(this.url,i);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=t_(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const f=t.children[l],m=ip(e,l),A=this.processSegmentGroup(m,f,l);if(null===A)return null;r.push(...A)}const i=Sm(r);return function aE(n){n.sort((e,t)=>e.value.outlet===Qn?-1:t.value.outlet===Qn?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const l of e){const f=this.processSegmentAgainstRoute(l,t,r,i);if(null!==f)return f}return b_(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!__(e,t,r,i))return null;let l,f=[],m=[];if("**"===e.path){const pe=r.length>0?Qy(r).parameters:{};l=new Am(r,pe,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ta(e),ws(e),e.component,e,lE(t),T_(t)+r.length,Ko(e))}else{const pe=sp(t,e,r);if(!pe.matched)return null;f=pe.consumedSegments,m=pe.remainingSegments,l=new Am(f,pe.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ta(e),ws(e),e.component,e,lE(t),T_(t)+f.length,Ko(e))}const A=function tx(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:M,slicedSegments:P}=bf(t,f,m,A.filter(pe=>void 0===pe.redirectTo),this.relativeLinkResolution);if(0===P.length&&M.hasChildren()){const pe=this.processChildren(A,M);return null===pe?null:[new ul(l,pe)]}if(0===A.length&&0===P.length)return[new ul(l,[])];const V=ws(e)===i,se=this.processSegment(A,M,P,V?Qn:i);return null===se?null:[new ul(l,se)]}}function D_(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Sm(n){const e=[],t=new Set;for(const r of n){if(!D_(r)){e.push(r);continue}const i=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Sm(r.children);e.push(new ul(r.value,i))}return e.filter(r=>!t.has(r))}function lE(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function T_(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Ta(n){return n.data||{}}function Ko(n){return n.resolve||{}}function dE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function I_(n){return bs(e=>{const t=n(e);return t?(0,Sr.D)(t).pipe((0,Sn.U)(()=>e)):Tn(e)})}class zD extends class up{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Mm=new h.OlP("ROUTES");class fE{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,Sn.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const f=l.create(e);return new Cm(Ky(f.injector.get(Mm,void 0,h.XFs.Self|h.XFs.Optional)).map(m_),f)}),al(l=>{throw t._loader$=void 0,l}));return t._loader$=new $h(i,()=>new fi.x).pipe(fm()),t._loader$}loadModuleFactory(e){return Yl(e()).pipe((0,is.z)(t=>t instanceof h.YKP?Tn(t):(0,Sr.D)(this.compiler.compileModuleAsync(t))))}}class pE{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function xm(n){throw n}function $D(n,e,t){return e.parse("/")}function M_(n,e){return Tn(null)}const gE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qi=(()=>{class n{constructor(t,r,i,l,f,m,A){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=l,this.config=A,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new fi.x,this.errorHandler=xm,this.malformedUriErrorHandler=$D,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:M_,afterPreactivation:M_},this.urlHandlingStrategy=new pE,this.routeReuseStrategy=new zD,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(h.h0i),this.console=f.get(h.c2e);const V=f.get(h.R0b);this.isNgZoneEnabled=V instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(A),this.currentUrlTree=function DA(){return new ll(new Hn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new fE(f,m,se=>this.triggerEvent(new yA(se)),se=>this.triggerEvent(new _A(se))),this.routerState=e_(this.currentUrlTree,this.rootComponentType),this.transitions=new Ea({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(ol(i=>0!==i.id),(0,Sn.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),bs(i=>{let l=!1,f=!1;return Tn(i).pipe((0,Co.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),bs(m=>{const A=this.browserUrlTree.toString(),M=!this.navigated||m.extractedUrl.toString()!==A||A!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||M)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return x_(m.source)&&(this.browserUrlTree=m.extractedUrl),Tn(m).pipe(bs(V=>{const se=this.transitions.getValue();return r.next(new Zy(V.id,this.serializeUrl(V.extractedUrl),V.source,V.restoredState)),se!==this.transitions.getValue()?zh.E:Promise.resolve(V)}),function YA(n,e,t,r){return bs(i=>function E_(n,e,t,r,i){return new KA(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Sn.U)(l=>Object.assign(Object.assign({},i),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Co.b)(V=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:V.urlAfterRedirects})}),function Ia(n,e,t,r,i){return(0,is.z)(l=>function oE(n,e,t,r,i="emptyOnly",l="legacy"){try{const f=new HD(n,e,t,r,i,l).recognize();return null===f?sE(new UD):Tn(f)}catch(f){return sE(f)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,i).pipe((0,Sn.U)(f=>Object.assign(Object.assign({},l),{targetSnapshot:f}))))}(this.rootComponentType,this.config,V=>this.serializeUrl(V),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Co.b)(V=>{if("eager"===this.urlUpdateStrategy){if(!V.extras.skipLocationChange){const pe=this.urlHandlingStrategy.merge(V.urlAfterRedirects,V.rawUrl);this.setBrowserUrl(pe,V)}this.browserUrlTree=V.urlAfterRedirects}const se=new gA(V.id,this.serializeUrl(V.extractedUrl),this.serializeUrl(V.urlAfterRedirects),V.targetSnapshot);r.next(se)}));if(M&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:se,extractedUrl:pe,source:ve,restoredState:je,extras:ft}=m,Ht=new Zy(se,this.serializeUrl(pe),ve,je);r.next(Ht);const Lt=e_(pe,this.rootComponentType).snapshot;return Tn(Object.assign(Object.assign({},m),{targetSnapshot:Lt,urlAfterRedirects:pe,extras:Object.assign(Object.assign({},ft),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),zh.E}),I_(m=>{const{targetSnapshot:A,id:M,extractedUrl:P,rawUrl:V,extras:{skipLocationChange:se,replaceUrl:pe}}=m;return this.hooks.beforePreactivation(A,{navigationId:M,appliedUrlTree:P,rawUrlTree:V,skipLocationChange:!!se,replaceUrl:!!pe})}),(0,Co.b)(m=>{const A=new mA(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(A)}),(0,Sn.U)(m=>Object.assign(Object.assign({},m),{guards:JA(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function tE(n,e){return(0,is.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:l,canDeactivateChecks:f}}=t;return 0===f.length&&0===l.length?Tn(Object.assign(Object.assign({},t),{guardsResult:!0})):function LD(n,e,t,r){return(0,Sr.D)(n).pipe((0,is.z)(i=>function Ef(n,e,t,r,i){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?Tn(l.map(m=>{const A=C_(m,e,i);let M;if(function ND(n){return n&&Wu(n.canDeactivate)}(A))M=Yl(A.canDeactivate(n,e,t,r));else{if(!Wu(A))throw new Error("Invalid CanDeactivate guard");M=Yl(A(n,e,t,r))}return M.pipe(Zo())})).pipe(eu()):Tn(!0)}(i.component,i.route,t,e,r)),Zo(i=>!0!==i,!0))}(f,r,i,n).pipe((0,is.z)(m=>m&&function jA(n){return"boolean"==typeof n}(m)?function VD(n,e,t,r){return(0,Sr.D)(e).pipe(Zh(i=>qy(function BD(n,e){return null!==n&&e&&e(new bA(n)),Tn(!0)}(i.route.parent,r),function nE(n,e){return null!==n&&e&&e(new AA(n)),Tn(!0)}(i.route,r),function iE(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(f=>function XA(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(f)).filter(f=>null!==f).map(f=>cA(()=>Tn(f.guards.map(A=>{const M=C_(A,f.node,t);let P;if(function p_(n){return n&&Wu(n.canActivateChild)}(M))P=Yl(M.canActivateChild(r,n));else{if(!Wu(M))throw new Error("Invalid CanActivateChild guard");P=Yl(M(r,n))}return P.pipe(Zo())})).pipe(eu())));return Tn(l).pipe(eu())}(n,i.path,t),function rE(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Tn(!0);const i=r.map(l=>cA(()=>{const f=C_(l,e,t);let m;if(function XM(n){return n&&Wu(n.canActivate)}(f))m=Yl(f.canActivate(e,n));else{if(!Wu(f))throw new Error("Invalid CanActivate guard");m=Yl(f(e,n))}return m.pipe(Zo())}));return Tn(i).pipe(eu())}(n,i.route,t))),Zo(i=>!0!==i,!0))}(r,l,n,e):Tn(m)),(0,Sn.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Co.b)(m=>{if(qu(m.guardsResult)){const M=gm(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw M.url=m.guardsResult,M}const A=new vA(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(A)}),ol(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),I_(m=>{if(m.guards.canActivateChecks.length)return Tn(m).pipe((0,Co.b)(A=>{const M=new vD(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);this.triggerEvent(M)}),bs(A=>{let M=!1;return Tn(A).pipe(function uE(n,e){return(0,is.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Tn(t);let l=0;return(0,Sr.D)(i).pipe(Zh(f=>function cE(n,e,t,r){return function jD(n,e,t,r){const i=dE(n);if(0===i.length)return Tn({});const l={};return(0,Sr.D)(i).pipe((0,is.z)(f=>function GD(n,e,t,r){const i=C_(n,e,r);return Yl(i.resolve?i.resolve(e,t):i(e,t))}(n[f],e,t,r).pipe((0,Co.b)(m=>{l[f]=m}))),hm(1),(0,is.z)(()=>dE(l).length===i.length?Tn(l):zh.E))}(n._resolve,n,e,r).pipe((0,Sn.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),t_(n,t).resolve),null)))}(f.route,r,n,e)),(0,Co.b)(()=>l++),hm(1),(0,is.z)(f=>l===i.length?Tn(t):zh.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Co.b)({next:()=>M=!0,complete:()=>{M||(this.restoreHistory(A),this.cancelNavigationTransition(A,"At least one route resolver didn't emit any value."))}}))}),(0,Co.b)(A=>{const M=new yD(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);this.triggerEvent(M)}))}),I_(m=>{const{targetSnapshot:A,id:M,extractedUrl:P,rawUrl:V,extras:{skipLocationChange:se,replaceUrl:pe}}=m;return this.hooks.afterPreactivation(A,{navigationId:M,appliedUrlTree:P,rawUrlTree:V,skipLocationChange:!!se,replaceUrl:!!pe})}),(0,Sn.U)(m=>{const A=function YM(n,e,t){const r=Xh(n,e._root,t?t._root:void 0);return new OA(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:A})}),(0,Co.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,Sn.U)(r=>(new xD(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Co.b)({next(){l=!0},complete(){l=!0}}),function mD(n){return(0,Ys.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var m;l||f||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===i.id&&(this.currentNavigation=null)}),al(m=>{if(f=!0,function CA(n){return n&&n[wA]}(m)){const A=qu(m.url);A||(this.navigated=!0,this.restoreHistory(i,!0));const M=new pm(i.id,this.serializeUrl(i.extractedUrl),m.message);r.next(M),A?setTimeout(()=>{const P=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),V={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||x_(i.source)};this.scheduleNavigation(P,"imperative",null,V,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const A=new pA(i.id,this.serializeUrl(i.extractedUrl),m);r.next(A);try{i.resolve(this.errorHandler(m))}catch(M){i.reject(M)}}return zh.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const l={replaceUrl:!0},f=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(f){const A=Object.assign({},f);delete A.navigationId,delete A.\u0275routerPageId,0!==Object.keys(A).length&&(l.state=A)}const m=this.parseUrl(t.url);this.scheduleNavigation(m,r,f,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){rp(t),this.config=t.map(m_),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:l,fragment:f,queryParamsHandling:m,preserveFragment:A}=r,M=i||this.routerState.root,P=A?this.currentUrlTree.fragment:f;let V=null;switch(m){case"merge":V=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":V=this.currentUrlTree.queryParams;break;default:V=l||null}return null!==V&&(V=this.removeEmptyProps(V)),function ID(n,e,t,r,i){if(0===t.length)return PA(e.root,e.root,e.root,r,i);const l=function JM(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new c_(!0,0,n);let e=0,t=!1;const r=n.reduce((i,l,f)=>{if("object"==typeof l&&null!=l){if(l.outlets){const m={};return Wi(l.outlets,(A,M)=>{m[M]="string"==typeof A?A.split("/"):A}),[...i,{outlets:m}]}if(l.segmentPath)return[...i,l.segmentPath]}return"string"!=typeof l?[...i,l]:0===f?(l.split("/").forEach((m,A)=>{0==A&&"."===m||(0==A&&""===m?t=!0:".."===m?e++:""!=m&&i.push(m))}),i):[...i,l]},[]);return new c_(t,e,r)}(t);if(l.toRoot())return PA(e.root,e.root,new Hn([],{}),r,i);const f=function _f(n,e,t){if(n.isAbsolute)return new d_(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new d_(l,l===e.root,0)}const r=u_(n.commands[0])?0:1;return function SD(n,e,t){let r=n,i=e,l=t;for(;l>i;){if(l-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new d_(r,!1,i-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),m=f.processChildren?ep(f.segmentGroup,f.index,l.commands):VA(f.segmentGroup,f.index,l.commands);return PA(e.root,f.segmentGroup,m,r,i)}(M,this.currentUrlTree,t,V,null!=P?P:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=qu(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function vE(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},gE):!1===r?Object.assign({},mE):r,qu(t))return mm(this.currentUrlTree,t,i);const l=this.parseUrl(t);return mm(this.currentUrlTree,l,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const l=t[i];return null!=l&&(r[i]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new As(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,l,f){var m,A;if(this.disposed)return Promise.resolve(!1);let M,P,V;f?(M=f.resolve,P=f.reject,V=f.promise):V=new Promise((ve,je)=>{M=ve,P=je});const se=++this.navigationId;let pe;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),pe=i&&i.\u0275routerPageId?i.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(A=this.browserPageId)&&void 0!==A?A:0)+1):pe=0,this.setTransition({id:se,targetPageId:pe,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:M,reject:P,promise:V,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),V.catch(ve=>Promise.reject(ve))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",l):this.location.go(i,"",l)}restoreHistory(t,r=!1){var i,l;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===f?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===f&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new pm(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function x_(n){return"imperative"!==n}class R_{}class bE{preload(e,t){return Tn(null)}}let AE=(()=>{class n{constructor(t,r,i,l){this.router=t,this.injector=i,this.preloadingStrategy=l,this.loader=new fE(i,r,A=>t.triggerEvent(new yA(A)),A=>t.triggerEvent(new _A(A)))}setUpPreloading(){this.subscription=this.router.events.pipe(ol(t=>t instanceof As),Zh(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(h.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const f=l._loadedConfig;i.push(this.processRoutes(f.module,f.routes))}else l.loadChildren&&!l.canLoad?i.push(this.preloadConfig(t,l)):l.children&&i.push(this.processRoutes(t,l.children));return(0,Sr.D)(i).pipe((0,qo.J)(),(0,Sn.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?Tn(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,is.z)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(qi),h.LFG(h.Sil),h.LFG(h.zs3),h.LFG(R_))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),N_=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Zy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof As&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof EA&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new EA(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const ad=new h.OlP("ROUTER_CONFIGURATION"),EE=new h.OlP("ROUTER_FORROOT_GUARD"),qD=[Ye,{provide:ym,useClass:Ca},{provide:qi,useFactory:function JD(n,e,t,r,i,l,f={},m,A){const M=new qi(null,n,e,t,r,i,Ky(l));return m&&(M.urlHandlingStrategy=m),A&&(M.routeReuseStrategy=A),function XD(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(f,M),f.enableTracing&&M.events.subscribe(P=>{var V,se;null===(V=console.group)||void 0===V||V.call(console,`Router Event: ${P.constructor.name}`),console.log(P.toString()),console.log(P),null===(se=console.groupEnd)||void 0===se||se.call(console)}),M},deps:[ym,sd,Ye,h.zs3,h.Sil,Mm,ad,[class hE{},new h.FiY],[class S_{},new h.FiY]]},sd,{provide:yf,useFactory:function eT(n){return n.routerState.root},deps:[qi]},AE,bE,class WD{preload(e,t){return t().pipe(al(()=>Tn(null)))}},{provide:ad,useValue:{enableTracing:!1}}];function ZD(){return new h.PXZ("Router",qi)}let wE=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[qD,CE(t),{provide:EE,useFactory:YD,deps:[[qi,new h.FiY,new h.tp0]]},{provide:ad,useValue:r||{}},{provide:ae,useFactory:QD,deps:[Se,[new h.tBr(He),new h.FiY],ad]},{provide:N_,useFactory:KD,deps:[qi,oa,ad]},{provide:R_,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:bE},{provide:h.PXZ,multi:!0,useFactory:ZD},[k_,{provide:h.ip1,multi:!0,useFactory:DE,deps:[k_]},{provide:O_,useFactory:TE,deps:[k_]},{provide:h.tb,multi:!0,useExisting:O_}]]}}static forChild(t){return{ngModule:n,providers:[CE(t)]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(EE,8),h.LFG(qi,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function KD(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new N_(n,e,t)}function QD(n,e,t={}){return t.useHash?new We(n,e):new Qe(n,e)}function YD(n){return"guarded"}function CE(n){return[{provide:h.deG,multi:!0,useValue:n},{provide:Mm,multi:!0,useValue:n}]}let k_=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new fi.x}appInitializer(){return this.injector.get(J,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(m=>r=m),l=this.injector.get(qi),f=this.injector.get(ad);return"disabled"===f.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?Tn(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(ad),i=this.injector.get(AE),l=this.injector.get(N_),f=this.injector.get(qi),m=this.injector.get(h.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&f.initialNavigation(),i.setUpPreloading(),l.init(),f.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function DE(n){return n.appInitializer.bind(n)}function TE(n){return n.bootstrapListener.bind(n)}const O_=new h.OlP("Router Initializer");var SE=$(2559),ME=$.n(SE),$n=$(655),Cs=$(3580),xE=$(5599),km="undefined"!=typeof globalThis?globalThis:window;km.FullCalendarVDom?console.warn("FullCalendar VDOM already loaded"):km.FullCalendarVDom={Component:Cs.Component,createElement:Cs.createElement,render:Cs.render,createRef:Cs.createRef,Fragment:Cs.Fragment,createContext:function rT(n){var e=Cs.createContext(n),t=e.Provider;return e.Provider=function(){var r=this,i=!this.getChildContext,l=t.apply(this,arguments);if(i){var f=[];this.shouldComponentUpdate=function(m){r.props.value!==m.value&&f.forEach(function(A){A.context=m.value,A.forceUpdate()})},this.sub=function(m){f.push(m);var A=m.componentWillUnmount;m.componentWillUnmount=function(){f.splice(f.indexOf(m),1),A&&A.call(m)}}}return l},e},createPortal:xE.createPortal,flushSync:function ld(n){n();var e=Cs.options.debounceRendering,t=[];for(Cs.options.debounceRendering=function r(i){t.push(i)},Cs.render(Cs.createElement(nT,{}),document.createElement("div"));t.length;)t.shift()();Cs.options.debounceRendering=e},unmountComponentAtNode:function wf(n){Cs.render(null,n)}};var nT=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,$n.__extends)(e,n),e.prototype.render=function(){return Cs.createElement("div",{})},e.prototype.componentDidMount=function(){this.setState({})},e}(Cs.Component),Ve=$(9356),P_=function(n){function e(t,r){void 0===r&&(r={});var i=n.call(this)||this;return i.isRendering=!1,i.isRendered=!1,i.currentClassNames=[],i.customContentRenderId=0,i.handleAction=function(l){switch(l.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":i.renderRunner.tryDrain()}},i.handleData=function(l){i.currentData=l,i.renderRunner.request(l.calendarOptions.rerenderDelay)},i.handleRenderRequest=function(){if(i.isRendering){i.isRendered=!0;var l=i.currentData;(0,Ve.flushSync)(function(){(0,Ve.render)((0,Ve.createElement)(Ve.CalendarRoot,{options:l.calendarOptions,theme:l.theme,emitter:l.emitter},function(f,m,A,M){return i.setClassNames(f),i.setHeight(m),(0,Ve.createElement)(Ve.CustomContentRenderContext.Provider,{value:i.customContentRenderId},(0,Ve.createElement)(Ve.CalendarContent,(0,$n.__assign)({isHeightAuto:A,forPrint:M},l)))}),i.el)})}else i.isRendered&&(i.isRendered=!1,(0,Ve.unmountComponentAtNode)(i.el),i.setClassNames([]),i.setHeight(""))},i.el=t,i.renderRunner=new Ve.DelayedRunner(i.handleRenderRequest),new Ve.CalendarDataManager({optionOverrides:r,calendarApi:i,onAction:i.handleAction,onData:i.handleData}),i}return(0,$n.__extends)(e,n),Object.defineProperty(e.prototype,"view",{get:function(){return this.currentData.viewApi},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.isRendering;t?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),t&&this.updateSize()},e.prototype.destroy=function(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())},e.prototype.updateSize=function(){var t=this;(0,Ve.flushSync)(function(){n.prototype.updateSize.call(t)})},e.prototype.batchRendering=function(t){this.renderRunner.pause("batchRendering"),t(),this.renderRunner.resume("batchRendering")},e.prototype.pauseRendering=function(){this.renderRunner.pause("pauseRendering")},e.prototype.resumeRendering=function(){this.renderRunner.resume("pauseRendering",!0)},e.prototype.resetOptions=function(t,r){this.currentDataManager.resetOptions(t,r)},e.prototype.setClassNames=function(t){if(!(0,Ve.isArraysEqual)(t,this.currentClassNames)){for(var r=this.el.classList,i=0,l=this.currentClassNames;i<l.length;i++)r.remove(l[i]);for(var m=0,A=t;m<A.length;m++)r.add(A[m]);this.currentClassNames=t}},e.prototype.setHeight=function(t){(0,Ve.applyStyleProp)(this.el,"height",t)},e}(Ve.CalendarApi);const rx=Object.prototype.hasOwnProperty;function cp(n){return Array.isArray(n)?n.map(cp):n instanceof Date?new Date(n.valueOf()):"object"==typeof n&&n?iT(n,cp):n}function RE(n){return"object"==typeof n&&(Array.isArray(n)?n=Array.prototype.slice.call(n):n&&(n=Object.assign({},n))),n}function iT(n,e){const t={};for(const r in n)rx.call(n,r)&&(t[r]=e(n[r],r));return t}const pn={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0};let sT=(()=>{class n{constructor(t){this.element=t,this.optionSnapshot={}}ngAfterViewInit(){const{deepChangeDetection:t}=this,r=this.options||{};this.optionSnapshot=iT(r,(i,l)=>t&&pn[l]?cp(i):i),this.calendar=new P_(this.element.nativeElement,r),this.calendar.render()}ngDoCheck(){if(this.calendar){const{deepChangeDetection:t,optionSnapshot:r}=this,i=this.options||{},l={};let f=!1;for(const A in i)if(i.hasOwnProperty(A)){let M=i[A];t&&pn[A]?ME()(r[A],M)||(r[A]=cp(M),f=!0,M=RE(M)):r[A]!==M&&(r[A]=M,f=!0),l[A]=M}const m=Object.keys(r);for(const A of m)A in i||(delete r[A],f=!0);f&&(this.calendar.pauseRendering(),this.calendar.resetOptions(l))}}ngAfterContentChecked(){this.calendar&&this.calendar.resumeRendering()}ngOnDestroy(){this.calendar&&(this.calendar.destroy(),this.calendar=null)}getApi(){return this.calendar}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq))},n.\u0275cmp=h.Xpm({type:n,selectors:[["full-calendar"]],inputs:{options:"options",deepChangeDetection:"deepChangeDetection"},decls:0,vars:0,template:function(t,r){},styles:['@charset "UTF-8";.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{vertical-align:top;padding:0}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype");font-weight:400;font-style:normal}.fc-icon{display:inline-block;width:1em;height:1em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;font-family:fcicons!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;overflow:visible;text-transform:none;margin:0;font-family:inherit;font-size:inherit;line-height:inherit}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{padding:0;border-style:none}.fc .fc-button{display:inline-block;font-weight:400;text-align:center;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.4em .65em;font-size:1em;line-height:1.5;border-radius:.25em}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{outline:0;box-shadow:0 0 0 .2rem rgba(44,62,80,.25)}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50)}.fc .fc-button-primary:hover{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#1e2b37;background-color:var(--fc-button-hover-bg-color,#1e2b37);border-color:#1a252f;border-color:var(--fc-button-hover-border-color,#1a252f)}.fc .fc-button-primary:disabled{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#1a252f;background-color:var(--fc-button-active-bg-color,#1a252f);border-color:#151e27;border-color:var(--fc-button-active-border-color,#151e27)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{vertical-align:middle;font-size:1.5em}.fc .fc-button-group{position:relative;display:inline-flex;vertical-align:middle}.fc .fc-button-group>.fc-button{position:relative;flex:1 1 auto}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){margin-right:-1px;border-top-right-radius:0;border-bottom-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-top-left-radius:0;border-bottom-left-radius:0}.fc .fc-toolbar{display:flex;justify-content:space-between;align-items:center}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{position:absolute;top:0;right:0;left:0;bottom:0}.fc .fc-scroller-harness{position:relative;overflow:hidden;direction:ltr}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{width:100%;table-layout:fixed}.fc .fc-scrollgrid table{border-top-style:hidden;border-left-style:hidden;border-right-style:hidden}.fc .fc-scrollgrid{border-collapse:separate;border-right-width:0;border-bottom-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section>td,.fc .fc-scrollgrid-section table{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-top-width:0;border-left-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:-webkit-sticky;position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:-webkit-sticky;position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{position:absolute;top:0;left:0;right:0;bottom:0}.fc .fc-non-business{background:hsla(0,0%,84.3%,.3);background:var(--fc-non-business-color,hsla(0,0%,84.3%,.3))}.fc .fc-bg-event{background:#8fdf82;background:var(--fc-bg-event-color,#8fdf82);opacity:.3;opacity:var(--fc-bg-event-opacity,.3)}.fc .fc-bg-event .fc-event-title{margin:.5em;font-size:.85em;font-size:var(--fc-small-font-size,.85em);font-style:italic}.fc .fc-highlight{background:rgba(188,232,241,.3);background:var(--fc-highlight-color,rgba(188,232,241,.3))}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{border-radius:4px;border-radius:calc(var(--fc-event-resizer-dot-total-width, 8px) / 2);border-width:1px;width:8px;width:var(--fc-event-resizer-dot-total-width,8px);height:8px;height:var(--fc-event-resizer-dot-total-width,8px);border:var(--fc-event-resizer-dot-border-width,1px) solid;border-color:inherit;background:#fff;background:var(--fc-page-bg-color,#fff)}.fc-event-selected .fc-event-resizer:before{content:"";position:absolute;top:-20px;left:-20px;right:-20px;bottom:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{content:"";position:absolute;z-index:3;top:0;left:0;right:0;bottom:0}.fc-event-selected:after,.fc-event:focus:after{content:"";background:rgba(0,0,0,.25);background:var(--fc-event-selected-overlay-color,rgba(0,0,0,.25));position:absolute;z-index:1;top:-1px;left:-1px;right:-1px;bottom:-1px}.fc-h-event{display:block;border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8)}.fc-h-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;vertical-align:top;left:0;right:0;max-width:100%;overflow:hidden}.fc-h-event.fc-event-selected:before{top:-10px;bottom:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-top-left-radius:0;border-bottom-left-radius:0;border-left-width:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-top-right-radius:0;border-bottom-right-radius:0;border-right-width:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{top:0;bottom:0;width:8px;width:var(--fc-event-resizer-thickness,8px)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:-4px;left:calc(-.5 * var(--fc-event-resizer-thickness, 8px))}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:-4px;right:calc(-.5 * var(--fc-event-resizer-thickness, 8px))}.fc-h-event.fc-event-selected .fc-event-resizer{top:50%;margin-top:-4px;margin-top:calc(-.5 * var(--fc-event-resizer-dot-total-width, 8px))}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:-4px;left:calc(-.5 * var(--fc-event-resizer-dot-total-width, 8px))}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:-4px;right:calc(-.5 * var(--fc-event-resizer-dot-total-width, 8px))}.fc .fc-popover{position:absolute;z-index:9999;box-shadow:0 2px 6px rgba(0,0,0,.15)}.fc .fc-popover-header{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;opacity:.65;font-size:1.1em}.fc-theme-standard .fc-popover{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd);background:#fff;background:var(--fc-page-bg-color,#fff)}.fc-theme-standard .fc-popover-header{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}:root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{content:"";clear:both;display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-daygrid-day-frame{position:relative;min-height:100%}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{position:relative;z-index:4;padding:4px}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{position:absolute;left:0;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{position:relative;min-height:2em}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{position:absolute;top:0;left:0;right:0}.fc .fc-daygrid-bg-harness{position:absolute;top:0;bottom:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{z-index:6;margin-top:1px}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;padding:2px 3px 0}.fc .fc-daygrid-day-bottom:before{content:"";clear:both;display:table}.fc .fc-daygrid-more-link{position:relative;z-index:4;cursor:pointer}.fc .fc-daygrid-week-number{position:absolute;z-index:5;top:0;padding:2px;min-width:1.5em;text-align:center;background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));color:grey;color:var(--fc-neutral-text-color,grey)}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-week-number{left:0;border-radius:0 0 3px 0}.fc-direction-rtl .fc-daygrid-week-number{right:0;border-radius:0 0 0 3px}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{position:relative;white-space:nowrap;border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{display:flex;align-items:center;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;min-width:0;overflow:hidden;font-weight:700}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{top:-10px;bottom:-10px}.fc-daygrid-event-dot{margin:0 4px;box-sizing:content-box;width:0;height:0;border:4px solid #3788d8;border:calc(var(--fc-daygrid-event-dot-width, 8px) / 2) solid var(--fc-event-border-color,#3788d8);border-radius:4px;border-radius:calc(var(--fc-daygrid-event-dot-width, 8px) / 2)}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}.fc-v-event{display:block;border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8)}.fc-v-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff);height:100%}.fc-v-event .fc-event-main-frame{height:100%;display:flex;flex-direction:column}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{top:0;bottom:0;max-height:100%;overflow:hidden}.fc-v-event:not(.fc-event-start){border-top-width:0;border-top-left-radius:0;border-top-right-radius:0}.fc-v-event:not(.fc-event-end){border-bottom-width:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:8px;height:var(--fc-event-resizer-thickness,8px);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:-4px;margin-left:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{position:relative;z-index:1;min-height:100%}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{height:1.5em;border-bottom:0}.fc .fc-timegrid-slot:empty:before{content:"\xa0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{overflow:hidden;display:flex;align-items:center;justify-content:flex-end}.fc .fc-timegrid-axis-cushion{max-width:60px;flex-shrink:0}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-timegrid-col.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc-media-screen .fc-timegrid-cols{position:absolute;top:0;left:0;right:0;bottom:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{position:absolute;top:0;left:0;right:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{position:absolute;left:0;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{position:absolute;top:0;bottom:0;left:0;right:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px #fff;box-shadow:0 0 0 1px var(--fc-page-bg-color,#fff)}.fc-timegrid-event,.fc-timegrid-more-link{font-size:.85em;font-size:var(--fc-small-font-size,.85em);border-radius:3px}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{white-space:nowrap;font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\xa0-\xa0"}.fc-timegrid-event-short .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timegrid-more-link{position:absolute;z-index:9999;color:inherit;color:var(--fc-more-link-text-color,inherit);background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);cursor:pointer;margin-bottom:1px}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{position:absolute;z-index:4;left:0;right:0;border:0 solid red;border-color:var(--fc-now-indicator-color,red);border-top:1px solid var(--fc-now-indicator-color,red)}.fc .fc-timegrid-now-indicator-arrow{position:absolute;z-index:4;margin-top:-5px;border-style:solid;border-color:red;border-color:var(--fc-now-indicator-color,red)}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{left:0;border-width:5px 0 5px 6px;border-top-color:transparent;border-bottom-color:transparent}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{right:0;border-width:5px 6px 5px 0;border-top-color:transparent;border-bottom-color:transparent}:root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-list-empty{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));height:100%;display:flex;justify-content:center;align-items:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{width:100%;border-style:hidden}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{position:-webkit-sticky;position:sticky;top:0;background:#fff;background:var(--fc-page-bg-color,#fff)}.fc .fc-list-table thead{position:absolute;left:-10000px}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{content:"";clear:both;display:table}.fc-theme-standard .fc-list-day-cushion{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:#f5f5f5;background-color:var(--fc-list-event-hover-bg-color,#f5f5f5)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{display:inline-block;box-sizing:content-box;width:0;height:0;border:5px solid #3788d8;border:calc(var(--fc-list-event-dot-width, 10px) / 2) solid var(--fc-event-border-color,#3788d8);border-radius:5px;border-radius:calc(var(--fc-list-event-dot-width, 10px) / 2)}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}.fc-theme-bootstrap a:not([href]){color:inherit}.fc .fc-event,.fc .fc-scrollgrid table tr{-moz-column-break-inside:avoid;break-inside:avoid}.fc-media-print{display:block;max-width:100%}.fc-media-print .fc-bg-event,.fc-media-print .fc-non-business,.fc-media-print .fc-timegrid-axis-chunk,.fc-media-print .fc-timegrid-slots,.fc-media-print .fc-timeline-slots{display:none}.fc-media-print .fc-h-event,.fc-media-print .fc-toolbar button,.fc-media-print .fc-v-event{color:#000!important;background:#fff!important}.fc-media-print .fc-event,.fc-media-print .fc-event-main{color:#000!important}.fc-media-print .fc-timegrid-event{margin:.5em 0}.fc .fc-timeline-body{min-height:100%;position:relative;z-index:1}.fc .fc-timeline-slots{position:absolute;z-index:1;top:0;bottom:0}.fc .fc-timeline-slots>table{height:100%}.fc .fc-timeline-slot-minor{border-style:dotted}.fc .fc-timeline-slot-frame{display:flex;align-items:center;justify-content:center}.fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame{justify-content:flex-start}.fc .fc-timeline-header-row:last-child .fc-timeline-slot-frame{overflow:hidden}.fc .fc-timeline-slot-cushion{padding:4px 5px;white-space:nowrap}.fc-direction-ltr .fc-timeline-slot{border-right:0!important}.fc-direction-rtl .fc-timeline-slot{border-left:0!important}.fc .fc-timeline-now-indicator-container{position:absolute;z-index:4;top:0;bottom:0;left:0;right:0;width:0}.fc .fc-timeline-now-indicator-arrow,.fc .fc-timeline-now-indicator-line{position:absolute;top:0;border-style:solid;border-color:red;border-color:var(--fc-now-indicator-color,red)}.fc .fc-timeline-now-indicator-arrow{margin:0 -6px;border-width:6px 5px 0;border-left-color:transparent;border-right-color:transparent}.fc .fc-timeline-now-indicator-line{margin:0 -1px;bottom:0;border-width:0 0 0 1px}.fc .fc-timeline-events{position:relative;z-index:3;width:0}.fc .fc-timeline-event-harness,.fc .fc-timeline-more-link{position:absolute;top:0}.fc-timeline-event{z-index:1}.fc-timeline-event.fc-event-mirror{z-index:2}.fc-timeline-event{position:relative;display:flex;align-items:center;border-radius:0;padding:2px 1px;margin-bottom:1px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timeline-event .fc-event-main{flex-grow:1;flex-shrink:1;min-width:0}.fc-timeline-event .fc-event-time{font-weight:700}.fc-timeline-event .fc-event-time,.fc-timeline-event .fc-event-title{white-space:nowrap;padding:0 2px}.fc-direction-ltr .fc-timeline-event.fc-event-end,.fc-direction-ltr .fc-timeline-more-link{margin-right:1px}.fc-direction-rtl .fc-timeline-event.fc-event-end,.fc-direction-rtl .fc-timeline-more-link{margin-left:1px}.fc-timeline-overlap-disabled .fc-timeline-event{padding-top:5px;padding-bottom:5px;margin-bottom:0}.fc-timeline-event:not(.fc-event-end):after,.fc-timeline-event:not(.fc-event-start):before{content:"";flex-grow:0;flex-shrink:0;opacity:.5;width:0;height:0;margin:0 1px;border-color:transparent #000;border-style:solid;border-width:5px}.fc-direction-ltr .fc-timeline-event:not(.fc-event-start):before,.fc-direction-rtl .fc-timeline-event:not(.fc-event-end):after{border-left:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-end):after,.fc-direction-rtl .fc-timeline-event:not(.fc-event-start):before{border-right:0}.fc-timeline-more-link{font-size:.85em;font-size:var(--fc-small-font-size,.85em);color:inherit;color:var(--fc-more-link-text-color,inherit);background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);padding:1px;cursor:pointer}.fc-timeline-more-link-inner{display:inline-block;left:0;right:0;padding:2px}.fc .fc-timeline-bg{position:absolute;z-index:2;top:0;bottom:0;width:0;left:0;right:0}.fc .fc-timeline-bg .fc-non-business{z-index:1}.fc .fc-timeline-bg .fc-bg-event{z-index:2}.fc .fc-timeline-bg .fc-highlight{z-index:3}.fc .fc-timeline-bg-harness{position:absolute;top:0;bottom:0}.fc .fc-resource-timeline-divider{width:3px;cursor:col-resize}.fc .fc-resource-group{font-weight:inherit;text-align:inherit}.fc .fc-resource-timeline .fc-resource-group:not([rowspan]){background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc .fc-timeline-lane-frame{position:relative}.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events{box-sizing:content-box;padding-bottom:10px}.fc-timeline-body-expandrows td.fc-timeline-lane{position:relative}.fc-timeline-body-expandrows .fc-timeline-lane-frame{position:static}.fc-datagrid-cell-frame-liquid{height:100%}.fc-liquid-hack .fc-datagrid-cell-frame-liquid{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-datagrid-header .fc-datagrid-cell-frame{position:relative;display:flex;justify-content:flex-start;align-items:center}.fc .fc-datagrid-cell-resizer{position:absolute;z-index:1;top:0;bottom:0;width:5px;cursor:col-resize}.fc .fc-datagrid-cell-cushion{padding:8px;white-space:nowrap;overflow:hidden}.fc .fc-datagrid-expander{cursor:pointer;opacity:.65}.fc .fc-datagrid-expander .fc-icon{display:inline-block;width:1em}.fc .fc-datagrid-expander-placeholder{cursor:auto}.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder{display:none}.fc-direction-ltr .fc-datagrid-cell-resizer{right:-3px}.fc-direction-rtl .fc-datagrid-cell-resizer{left:-3px}.fc-direction-ltr .fc-datagrid-expander{margin-right:3px}.fc-direction-rtl .fc-datagrid-expander{margin-left:3px}'],encapsulation:2}),n})(),NE=(()=>{class n{static registerPlugins(t){Ve.globalPlugins.push(...t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[]]}),n})(),oT=(()=>{class n{constructor(){this.calendarOptions={initialView:"dayGridMonth"}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-calendar"]],decls:4,vars:1,consts:[[1,"container","formMain"],[1,"row"],[1,"col-12"],["id","calendar-main",3,"options"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2),h._UZ(3,"full-calendar",3),h.qZA()()()),2&t&&(h.xp6(3),h.Q6J("options",r.calendarOptions))},directives:[sT],styles:["#calendar-main[_ngcontent-%COMP%]{position:relative;scale:.01vh;max-width:70vw!important;max-height:70vh!important;padding:25px;color:#fff}"]}),n})();var rt=$(5861);const kE=["toast-component",""];function Om(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",5),h.NdJ("click",function(){return h.CHM(t),h.oxw().remove()}),h.TgZ(1,"span",6),h._uU(2,"\xd7"),h.qZA()()}}function Pm(n,e){if(1&n&&(h.ynx(0),h._uU(1),h.BQk()),2&n){const t=h.oxw(2);h.xp6(1),h.hij("[",t.duplicatesCount+1,"]")}}function Zr(n,e){if(1&n&&(h.TgZ(0,"div"),h._uU(1),h.YNc(2,Pm,2,1,"ng-container",4),h.qZA()),2&n){const t=h.oxw();h.Tol(t.options.titleClass),h.uIk("aria-label",t.title),h.xp6(1),h.hij(" ",t.title," "),h.xp6(1),h.Q6J("ngIf",t.duplicatesCount)}}function ix(n,e){if(1&n&&h._UZ(0,"div",7),2&n){const t=h.oxw();h.Tol(t.options.messageClass),h.Q6J("innerHTML",t.message,h.oJD)}}function OE(n,e){if(1&n&&(h.TgZ(0,"div",8),h._uU(1),h.qZA()),2&n){const t=h.oxw();h.Tol(t.options.messageClass),h.uIk("aria-label",t.message),h.xp6(1),h.hij(" ",t.message," ")}}function aT(n,e){if(1&n&&(h.TgZ(0,"div"),h._UZ(1,"div",9),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Udp("width",t.width+"%")}}function lT(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",5),h.NdJ("click",function(){return h.CHM(t),h.oxw().remove()}),h.TgZ(1,"span",6),h._uU(2,"\xd7"),h.qZA()()}}function PE(n,e){if(1&n&&(h.ynx(0),h._uU(1),h.BQk()),2&n){const t=h.oxw(2);h.xp6(1),h.hij("[",t.duplicatesCount+1,"]")}}function FE(n,e){if(1&n&&(h.TgZ(0,"div"),h._uU(1),h.YNc(2,PE,2,1,"ng-container",4),h.qZA()),2&n){const t=h.oxw();h.Tol(t.options.titleClass),h.uIk("aria-label",t.title),h.xp6(1),h.hij(" ",t.title," "),h.xp6(1),h.Q6J("ngIf",t.duplicatesCount)}}function LE(n,e){if(1&n&&h._UZ(0,"div",7),2&n){const t=h.oxw();h.Tol(t.options.messageClass),h.Q6J("innerHTML",t.message,h.oJD)}}function VE(n,e){if(1&n&&(h.TgZ(0,"div",8),h._uU(1),h.qZA()),2&n){const t=h.oxw();h.Tol(t.options.messageClass),h.uIk("aria-label",t.message),h.xp6(1),h.hij(" ",t.message," ")}}function uT(n,e){if(1&n&&(h.TgZ(0,"div"),h._UZ(1,"div",9),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Udp("width",t.width+"%")}}class dp{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Fm{constructor(e,t,r,i,l,f){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=l,this.toastRef=f,this._onTap=new fi.x,this._onAction=new fi.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const BE={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},fp=new h.OlP("ToastConfig");class UE{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new fi.x,this._activate=new fi.x,this._manualClose=new fi.x,this._resetTimeout=new fi.x,this._countDuplicate=new fi.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class HE{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,r){return e===Fm?this._toastPackage:this._parentInjector.get(e,t,r)}}class jE extends class cT{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class dT{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let hp=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pp=(()=>{class n{constructor(t,r,i,l){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=i,this._document=l,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new jE(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new dT(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(hp),h.LFG(h._Vd),h.LFG(h.z2F),h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gp=(()=>{class n{constructor(t,r,i,l,f){this.overlay=r,this._injector=i,this.sanitizer=l,this.ngZone=f,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,r,i={},l=""){return this._preBuildNotification(l,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,l){const{includeTitleDuplicates:f}=this.toastrConfig;for(const m of this.toasts){const A=f&&m.title===t;if((!f||A)&&m.message===r)return m.toastRef.onDuplicate(i,l),m}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,l){return l.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,l)):this._buildNotification(t,r,i,l)}_buildNotification(t,r,i,l){if(!l.toastComponent)throw new Error("toastComponent required");const f=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&l.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==f)return f;this.previousToastMessage=r;let m=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(m=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const A=this.overlay.create(l.positionClass,this.overlayContainer);this.index=this.index+1;let M=r;r&&l.enableHtml&&(M=this.sanitizer.sanitize(h.q3G.HTML,r));const P=new UE(A),V=new Fm(this.index,l,M,i,t,P),se=new HE(V,this._injector),pe=new dp(l.toastComponent,se),ve=A.attach(pe,this.toastrConfig.newestOnTop);P.componentInstance=ve.instance;const je={toastId:this.index,title:i||"",message:r||"",toastRef:P,onShown:P.afterActivate(),onHidden:P.afterClosed(),onTap:V.onTap(),onAction:V.onAction(),portal:ve};return m||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{je.toastRef.activate()})),this.toasts.push(je),je}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(fp),h.LFG(pp),h.LFG(h.zs3),h.LFG(oo),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fT=(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(l=>{this.duplicatesCount=l})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(gp),h.Y36(Fm),h.Y36(h.R0b))},n.\u0275cmp=h.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&h.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(h.d8E("@flyInOut",r.state),h.Tol(r.toastClasses),h.Udp("display",r.displayStyle))},attrs:kE,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(h.YNc(0,Om,3,0,"button",0),h.YNc(1,Zr,3,5,"div",1),h.YNc(2,ix,1,3,"div",2),h.YNc(3,OE,2,4,"div",3),h.YNc(4,aT,2,2,"div",4)),2&t&&(h.Q6J("ngIf",r.options.closeButton),h.xp6(1),h.Q6J("ngIf",r.title),h.xp6(1),h.Q6J("ngIf",r.message&&r.options.enableHtml),h.xp6(1),h.Q6J("ngIf",r.message&&!r.options.enableHtml),h.xp6(1),h.Q6J("ngIf",r.options.progressBar))},directives:[Tr],encapsulation:2,data:{animation:[iy("flyInOut",[wh("inactive",rl({opacity:0})),wh("active",rl({opacity:1})),wh("removed",rl({opacity:0})),Vg("inactive => active",Pg("{{ easeTime }}ms {{ easing }}")),Vg("active => removed",Pg("{{ easeTime }}ms {{ easing }}"))])]}}),n})();const hT=Object.assign(Object.assign({},BE),{toastComponent:fT});let GE=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:fp,useValue:{default:hT,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[Ji]]}),n})(),zE=(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.appRef=i,this.width=-1,this.toastClasses="",this.state="inactive",this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(l=>{this.duplicatesCount=l})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(gp),h.Y36(Fm),h.Y36(h.z2F))},n.\u0275cmp=h.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,r){1&t&&h.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(h.Tol(r.toastClasses),h.Udp("display",r.displayStyle))},attrs:kE,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(h.YNc(0,lT,3,0,"button",0),h.YNc(1,FE,3,5,"div",1),h.YNc(2,LE,1,3,"div",2),h.YNc(3,VE,2,4,"div",3),h.YNc(4,uT,2,2,"div",4)),2&t&&(h.Q6J("ngIf",r.options.closeButton),h.xp6(1),h.Q6J("ngIf",r.title),h.xp6(1),h.Q6J("ngIf",r.message&&r.options.enableHtml),h.xp6(1),h.Q6J("ngIf",r.message&&!r.options.enableHtml),h.xp6(1),h.Q6J("ngIf",r.options.progressBar))},directives:[Tr],encapsulation:2}),n})();Object.assign(Object.assign({},BE),{toastComponent:zE});var Lm=$(198),Zn=$(2090),ud=$(9681),cd=$(1877),F_=$(4859),lx=$(4986),Ai=$(1038);function Cf(){return(0,Ys.e)((n,e)=>{let t,r=!1;n.subscribe((0,Gr.x)(e,i=>{const l=t;t=i,r&&e.next([l,i]),r=!0}))})}function vT(n,e){return n===e}var Qt,Qo=$(2011),yT=($(5881),$(3942)),_T="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},nu={},L_=L_||{},Nn=_T||self;function Bm(){}function V_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function cl(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Um="closure_uid_"+(1e9*Math.random()>>>0),AT=0;function $E(n,e,t){return n.call.apply(n.bind,arguments)}function ET(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Si(n,e,t){return(Si=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?$E:ET).apply(null,arguments)}function Hm(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ei(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,l){for(var f=Array(arguments.length-2),m=2;m<arguments.length;m++)f[m-2]=arguments[m];return e.prototype[i].apply(r,f)}}function Zu(){this.s=this.s,this.o=this.o}var qE={};Zu.prototype.s=!1,Zu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function bT(n){return Object.prototype.hasOwnProperty.call(n,Um)&&n[Um]||(n[Um]=++AT)}(this);delete qE[n]}},Zu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ZE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},KE=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in i&&e.call(t,i[l],l,n)};function jm(n){return Array.prototype.concat.apply([],arguments)}function B_(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function mp(n){return/^[\s\xa0]*$/.test(n)}var Ts,QE=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ds(n,e){return-1!=n.indexOf(e)}function U_(n,e){return n<e?-1:n>e?1:0}e:{var YE=Nn.navigator;if(YE){var JE=YE.userAgent;if(JE){Ts=JE;break e}}Ts=""}function H_(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function XE(n){const e={};for(const t in n)e[t]=n[t];return e}var j_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G_(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let l=0;l<j_.length;l++)t=j_[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function z_(n){return z_[" "](n),n}z_[" "]=Bm;var Tf,n,ew=Ds(Ts,"Opera"),Df=Ds(Ts,"Trident")||Ds(Ts,"MSIE"),tw=Ds(Ts,"Edge"),$_=tw||Df,Gm=Ds(Ts,"Gecko")&&!(Ds(Ts.toLowerCase(),"webkit")&&!Ds(Ts,"Edge"))&&!(Ds(Ts,"Trident")||Ds(Ts,"MSIE"))&&!Ds(Ts,"Edge"),W_=Ds(Ts.toLowerCase(),"webkit")&&!Ds(Ts,"Edge");function q_(){var n=Nn.document;return n?n.documentMode:void 0}e:{var Z_="",K_=(n=Ts,Gm?/rv:([^\);]+)(\)|;)/.exec(n):tw?/Edge\/([\d\.]+)/.exec(n):Df?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):W_?/WebKit\/(\S+)/.exec(n):ew?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(K_&&(Z_=K_?K_[1]:""),Df){var vp=q_();if(null!=vp&&vp>parseFloat(Z_)){Tf=String(vp);break e}}Tf=Z_}var DT={};var TT=Nn.document&&Df&&(q_()||parseInt(Tf,10))||void 0,rw=function(){if(!Nn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Nn.addEventListener("test",Bm,e),Nn.removeEventListener("test",Bm,e)}catch(t){}return n}();function Is(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function yp(n,e){if(Is.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Gm){e:{try{z_(e.nodeName);var i=!0;break e}catch(l){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:zm[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&yp.Z.h.call(this)}}Is.prototype.h=function(){this.defaultPrevented=!0},Ei(yp,Is);var zm={2:"touch",3:"pen",4:"mouse"};yp.prototype.h=function(){yp.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var _p="closure_listenable_"+(1e6*Math.random()|0),If=0;function bp(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++If,this.ca=this.fa=!1}function $m(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function J_(n){this.src=n,this.g={},this.h=0}function Wm(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],i=ZE(r,e);(l=0<=i)&&Array.prototype.splice.call(r,i,1),l&&($m(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function X_(n,e,t,r){for(var i=0;i<n.length;++i){var l=n[i];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return i}return-1}J_.prototype.add=function(n,e,t,r,i){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var f=X_(n,e,r,i);return-1<f?(e=n[f],t||(e.fa=!1)):((e=new bp(e,this.src,l,!!r,i)).fa=t,n.push(e)),e};var e0="closure_lm_"+(1e6*Math.random()|0),t0={};function iw(n,e,t,r,i){if(r&&r.once)return qm(n,e,t,r,i);if(Array.isArray(e)){for(var l=0;l<e.length;l++)iw(n,e[l],t,r,i);return null}return t=s0(t),n&&n[_p]?n.N(e,t,cl(r)?!!r.capture:!!r,i):n0(n,e,t,!1,r,i)}function n0(n,e,t,r,i,l){if(!e)throw Error("Invalid event type");var f=cl(i)?!!i.capture:!!i,m=Zm(n);if(m||(n[e0]=m=new J_(n)),(t=m.add(e,t,r,f,l)).proxy)return t;if(r=function sw(){var e=aw;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)rw||(i=f),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(ow(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function qm(n,e,t,r,i){if(Array.isArray(e)){for(var l=0;l<e.length;l++)qm(n,e[l],t,r,i);return null}return t=s0(t),n&&n[_p]?n.O(e,t,cl(r)?!!r.capture:!!r,i):n0(n,e,t,!0,r,i)}function Ap(n,e,t,r,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)Ap(n,e[l],t,r,i);else r=cl(r)?!!r.capture:!!r,t=s0(t),n&&n[_p]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=X_(l=n.g[e],t,r,i))&&($m(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=Zm(n))&&(e=n.g[e.toString()],n=-1,e&&(n=X_(e,t,r,i)),(t=-1<n?e[n]:null)&&dd(t))}function dd(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[_p])Wm(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(ow(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Zm(e))?(Wm(t,n),0==t.h&&(t.src=null,e[e0]=null)):$m(n)}}}function ow(n){return n in t0?t0[n]:t0[n]="on"+n}function aw(n,e){if(n.ca)n=!0;else{e=new yp(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&dd(n),n=t.call(r,e)}return n}function Zm(n){return(n=n[e0])instanceof J_?n:null}var r0="__closure_events_fn_"+(1e9*Math.random()>>>0);function s0(n){return"function"==typeof n?n:(n[r0]||(n[r0]=function(e){return n.handleEvent(e)}),n[r0])}function hi(){Zu.call(this),this.i=new J_(this),this.P=this,this.I=null}function Zi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Is(e,n);else if(e instanceof Is)e.target=e.target||n;else{var i=e;G_(e=new Is(r,n),i)}if(i=!0,t)for(var l=t.length-1;0<=l;l--){var f=e.g=t[l];i=o0(f,r,!0,e)&&i}if(i=o0(f=e.g=n,r,!0,e)&&i,i=o0(f,r,!1,e)&&i,t)for(l=0;l<t.length;l++)i=o0(f=e.g=t[l],r,!1,e)&&i}function o0(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.ca&&f.capture==t){var m=f.listener,A=f.ia||f.src;f.fa&&Wm(n.i,f),i=!1!==m.call(A,r)&&i}}return i&&!r.defaultPrevented}Ei(hi,Zu),hi.prototype[_p]=!0,hi.prototype.removeEventListener=function(n,e,t,r){Ap(this,n,e,t,r)},hi.prototype.M=function(){if(hi.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)$m(t[r]);delete n.g[e],n.h--}}this.I=null},hi.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},hi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var a0=Nn.JSON.stringify;function IT(){var n=ST;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var u0,l0=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Mf,n=>n.reset());class Mf{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ux(n){Nn.setTimeout(()=>{throw n},0)}function Km(n,e){u0||function cx(){var n=Nn.Promise.resolve(void 0);u0=function(){n.then(lw)}}(),Qm||(u0(),Qm=!0),ST.add(n,e)}var Qm=!1,ST=new class Sf{constructor(){this.h=this.g=null}add(e,t){const r=l0.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function lw(){for(var n;n=IT();){try{n.h.call(n.g)}catch(t){ux(t)}var e=l0;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Qm=!1}function xf(n,e){hi.call(this),this.h=n||1,this.g=e||Nn,this.j=Si(this.kb,this),this.l=Date.now()}function c0(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function d0(n,e,t){if("function"==typeof n)t&&(n=Si(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Si(n.handleEvent,n)}return 2147483647<Number(e)?-1:Nn.setTimeout(n,e||0)}function uw(n){n.g=d0(()=>{n.g=null,n.i&&(n.i=!1,uw(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ei(xf,hi),(Qt=xf.prototype).da=!1,Qt.S=null,Qt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Zi(this,"tick"),this.da&&(c0(this),this.start()))}},Qt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Qt.M=function(){xf.Z.M.call(this),c0(this),delete this.g};class MT extends Zu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:uw(this)}M(){super.M(),this.g&&(Nn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ep(n){Zu.call(this),this.h=n,this.g={}}Ei(Ep,Zu);var cw=[];function dw(n,e,t,r){Array.isArray(t)||(t&&(cw[0]=t.toString()),t=cw);for(var i=0;i<t.length;i++){var l=iw(e,t[i],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function fw(n){H_(n.g,function(e,t){this.g.hasOwnProperty(t)&&dd(e)},n),n.g={}}function Ym(){this.g=!0}function fd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function pw(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var l=i[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<i.length;f++)i[f]=""}}}return a0(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}Ep.prototype.M=function(){Ep.Z.M.call(this),fw(this)},Ep.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ym.prototype.Aa=function(){this.g=!1},Ym.prototype.info=function(){};var Ku={},f0=null;function Cp(){return f0=f0||new hi}function gw(n){Is.call(this,Ku.Ma,n)}function Rf(n){const e=Cp();Zi(e,new gw(e,n))}function mw(n,e){Is.call(this,Ku.STAT_EVENT,n),this.stat=e}function Ss(n){const e=Cp();Zi(e,new mw(e,n))}function vw(n,e){Is.call(this,Ku.Na,n),this.size=e}function Dp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Nn.setTimeout(function(){n()},e)}Ku.Ma="serverreachability",Ei(gw,Is),Ku.STAT_EVENT="statevent",Ei(mw,Is),Ku.Na="timingevent",Ei(vw,Is);var Qu={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},yw={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Tp(){}function _w(){}Tp.prototype.h=null;var p0,hd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function pd(){Is.call(this,"d")}function h0(){Is.call(this,"c")}function Jm(){}function Yu(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Ep(this),this.P=RT,this.W=new xf(n=$_?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ip}function Ip(){this.i=null,this.g="",this.h=!1}Ei(pd,Is),Ei(h0,Is),Ei(Jm,Tp),Jm.prototype.g=function(){return new XMLHttpRequest},Jm.prototype.i=function(){return{}},p0=new Jm;var RT=45e3,g0={},Sp={};function Xm(n,e,t){n.K=1,n.v=Np(dl(e)),n.s=t,n.U=!0,ev(n,null)}function ev(n,e){n.F=Date.now(),tv(n),n.A=dl(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),A0(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Ip,n.g=Lw(n.l,t?e:null,!n.s),0<n.O&&(n.L=new MT(Si(n.Ia,n,n.g),n.O)),dw(n.V,n.g,"readystatechange",n.gb),e=n.H?XE(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Rf(1),function xT(n,e,t,r,i,l){n.info(function(){if(n.g)if(l)for(var f="",m=l.split("&"),A=0;A<m.length;A++){var M=m[A].split("=");if(1<M.length){var P=M[0];M=M[1];var V=P.split("_");f=2<=V.length&&"type"==V[1]?f+(P+"=")+M+"&":f+(P+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+f})}(n.j,n.u,n.A,n.m,n.X,n.s)}function m0(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function bw(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=NT(n,t),i==Sp){4==e&&(n.o=4,Ss(14),r=!1),fd(n.j,n.m,null,"[Incomplete Response]");break}if(i==g0){n.o=4,Ss(15),fd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}fd(n.j,n.m,i,null),Mp(n,i)}m0(n)&&i!=Sp&&i!=g0&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ss(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ow(e),e.L=!0,Ss(11))):(fd(n.j,n.m,t,"[Invalid Chunked Response]"),ru(n),kf(n))}function NT(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Sp:(t=Number(e.substring(t,r)),isNaN(t)?g0:(r+=1)+t>e.length?Sp:(e=e.substr(r,t),n.C=r+t,e))}function tv(n){n.Y=Date.now()+n.P,nv(n,n.P)}function nv(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Dp(Si(n.eb,n),e)}function Nf(n){n.B&&(Nn.clearTimeout(n.B),n.B=null)}function kf(n){0==n.l.G||n.I||pv(n.l,n)}function ru(n){Nf(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,c0(n.W),fw(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Mp(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Ff(t.i,n)))if(t.I=n.N,!n.J&&Ff(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(M){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Dp(Si(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;hv(t),S0(t)}fv(t),Ss(18)}if(1>=w0(t.i)&&t.ka){try{t.ka()}catch(M){}t.ka=void 0}}else Bf(t,11)}else if((n.J||t.g==n)&&hv(t),!mp(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let M=i[e];if(t.U=M[0],M=M[1],2==t.G)if("c"==M[0]){t.J=M[1],t.la=M[2];const P=M[3];null!=P&&(t.ma=P,t.h.info("VER="+t.ma));const V=M[4];null!=V&&(t.za=V,t.h.info("SVER="+t.za));const se=M[5];null!=se&&"number"==typeof se&&0<se&&(t.K=r=1.5*se,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const pe=n.g;if(pe){const ve=pe.g?pe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ve){var l=r.i;!l.g&&(Ds(ve,"spdy")||Ds(ve,"quic")||Ds(ve,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(av(l,l.h),l.h=null))}if(r.D){const je=pe.g?pe.g.getResponseHeader("X-HTTP-Session-Id"):null;je&&(r.sa=je,Vr(r.F,r.D,je))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var f=n;if((r=t).oa=KT(r,r.H?r.la:null,r.W),f.J){Dw(r.i,f);var m=f,A=r.K;A&&m.setTimeout(A),m.B&&(Nf(m),tv(m)),r.g=f}else kw(r);0<t.l.length&&Up(t)}else"stop"!=M[0]&&"close"!=M[0]||Bf(t,7);else 3==t.G&&("stop"==M[0]||"close"==M[0]?"stop"==M[0]?Bf(t,7):Vf(t):"noop"!=M[0]&&t.j&&t.j.wa(M),t.A=0)}Rf(4)}catch(M){}}function v0(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(V_(n)||"string"==typeof n)KE(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(V_(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function kT(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(V_(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var l=0;l<i;l++)e.call(void 0,r[l],t&&t[l],n)}}function Of(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Of)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function y0(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Ju(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Ju(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Ju(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Qt=Yu.prototype).setTimeout=function(n){this.P=n},Qt.gb=function(n){n=n.target;const e=this.L;e&&3==ec(n)?e.l():this.Ia(n)},Qt.Ia=function(n){try{if(n==this.g)e:{const P=ec(this.g);var e=this.g.Da();const V=this.g.ba();if(!(3>P)&&(3!=P||$_||this.g&&(this.h.h||this.g.ga()||$T(this.g)))){this.I||4!=P||7==e||Rf(8==e||0>=V?3:2),Nf(this);var t=this.g.ba();this.N=t;t:if(m0(this)){var r=$T(this.g);n="";var i=r.length,l=4==ec(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ru(this),kf(this);var f="";break t}this.h.i=new Nn.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=200==t,function wp(n,e,t,r,i,l,f){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.X,P,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,A=this.g;if((m=A.g?A.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mp(m)){var M=m;break t}}M=null}if(!(t=M)){this.i=!1,this.o=3,Ss(12),ru(this),kf(this);break e}fd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Mp(this,t)}this.U?(bw(this,P,f),$_&&this.i&&3==P&&(dw(this.V,this.W,"tick",this.fb),this.W.start())):(fd(this.j,this.m,f,null),Mp(this,f)),4==P&&ru(this),this.i&&!this.I&&(4==P?pv(this.l,this):(this.i=!1,tv(this)))}else 400==t&&0<f.indexOf("Unknown SID")?(this.o=3,Ss(12)):(this.o=0,Ss(13)),ru(this),kf(this)}}}catch(P){}},Qt.fb=function(){if(this.g){var n=ec(this.g),e=this.g.ga();this.C<e.length&&(Nf(this),bw(this,n,e),this.i&&4!=n&&tv(this))}},Qt.cancel=function(){this.I=!0,ru(this)},Qt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function hw(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Rf(3),Ss(17)),ru(this),this.o=2,kf(this)):nv(this,this.Y-n)},(Qt=Of.prototype).R=function(){y0(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Qt.T=function(){return y0(this),this.g.concat()},Qt.get=function(n,e){return Ju(this.h,n)?this.h[n]:e},Qt.set=function(n,e){Ju(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Qt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],l=this.get(i);n.call(e,l,i,this)}};var rv=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function gd(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof gd){this.g=void 0!==e?e:n.g,xp(this,n.j),this.s=n.s,iv(this,n.i),Rp(this,n.m),this.l=n.l,e=n.h;var t=new Pf;t.i=e.i,e.g&&(t.g=new Of(e.g),t.h=e.h),_0(this,t),this.o=n.o}else n&&(t=String(n).match(rv))?(this.g=!!e,xp(this,t[1]||"",!0),this.s=fl(t[2]||""),iv(this,t[3]||"",!0),Rp(this,t[4]),this.l=fl(t[5]||"",!0),_0(this,t[6]||"",!0),this.o=fl(t[7]||"")):(this.g=!!e,this.h=new Pf(null,this.g))}function dl(n){return new gd(n)}function xp(n,e,t){n.j=t?fl(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function iv(n,e,t){n.i=t?fl(e,!0):e}function Rp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function _0(n,e,t){e instanceof Pf?(n.h=e,function ov(n,e){e&&!n.j&&(Xu(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Ew(this,r),A0(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=kp(e,b0)),n.h=new Pf(e,n.g))}function Vr(n,e,t){n.h.set(e,t)}function Np(n){return Vr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function fl(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function kp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,PT),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function PT(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}gd.prototype.toString=function(){var n=[],e=this.j;e&&n.push(kp(e,FT,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(kp(e,FT,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(kp(t,"/"==t.charAt(0)?LT:Op,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",kp(t,VT)),n.join("")};var FT=/[#\/\?@]/g,Op=/[#\?:]/g,LT=/[#\?]/g,b0=/[#\?@]/g,VT=/#/g;function Pf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Xu(n){n.g||(n.g=new Of,n.h=0,n.i&&function Aw(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var l=n[t].substring(0,r);i=n[t].substring(r+1)}else l=n[t];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Ew(n,e){Xu(n),e=md(n,e),Ju(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Ju((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&y0(n)))}function sv(n,e){return Xu(n),e=md(n,e),Ju(n.g.h,e)}function A0(n,e,t){Ew(n,e),0<t.length&&(n.i=null,n.g.set(md(n,e),B_(t)),n.h+=t.length)}function md(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function BT(n){this.l=n||ww,n=Nn.PerformanceNavigationTiming?0<(n=Nn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Nn.g&&Nn.g.Ea&&Nn.g.Ea()&&Nn.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Qt=Pf.prototype).add=function(n,e){Xu(this),this.i=null,n=md(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Qt.forEach=function(n,e){Xu(this),this.g.forEach(function(t,r){KE(t,function(i){n.call(e,i,r,this)},this)},this)},Qt.T=function(){Xu(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],l=0;l<i.length;l++)t.push(e[r]);return t},Qt.R=function(n){Xu(this);var e=[];if("string"==typeof n)sv(this,n)&&(e=jm(e,this.g.get(md(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=jm(e,n[t])}return e},Qt.set=function(n,e){return Xu(this),this.i=null,sv(this,n=md(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Qt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Qt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var f=i;""!==r[l]&&(f+="="+encodeURIComponent(String(r[l]))),n.push(f)}}return this.i=n.join("&")};var ww=10;function Cw(n){return!!n.h||!!n.g&&n.g.size>=n.j}function w0(n){return n.h?1:n.g?n.g.size:0}function Ff(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function av(n,e){n.g?n.g.add(e):n.h=e}function Dw(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function lv(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return B_(n.i)}function Pp(){}function dx(){this.g=new Pp}function UT(n,e,t){const r=t||"";try{v0(n,function(i,l){let f=i;cl(i)&&(f=a0(i)),e.push(r+l+"="+encodeURIComponent(f))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Fp(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(l){}}function Lf(n){this.l=n.$b||null,this.j=n.ib||!1}function uv(n,e){hi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=cv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}BT.prototype.cancel=function(){if(this.i=lv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Pp.prototype.stringify=function(n){return Nn.JSON.stringify(n,void 0)},Pp.prototype.parse=function(n){return Nn.JSON.parse(n,void 0)},Ei(Lf,Tp),Lf.prototype.g=function(){return new uv(this.l,this.j)},Lf.prototype.i=function(n){return function(){return n}}({}),Ei(uv,hi);var cv=0;function C0(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Lp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Vp(n)}function Vp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Qt=uv.prototype).open=function(n,e){if(this.readyState!=cv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Vp(this)},Qt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Nn).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Qt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Lp(this)),this.readyState=cv},Qt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Vp(this)),this.g&&(this.readyState=3,Vp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Nn.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;C0(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Qt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Lp(this):Vp(this),3==this.readyState&&C0(this)}},Qt.Ua=function(n){this.g&&(this.response=this.responseText=n,Lp(this))},Qt.Ta=function(n){this.g&&(this.response=n,Lp(this))},Qt.ha=function(){this.g&&Lp(this)},Qt.setRequestHeader=function(n,e){this.v.append(n,e)},Qt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Qt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(uv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Tw=Nn.JSON.parse;function pi(n){hi.call(this),this.headers=new Of,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=D0,this.K=this.L=!1}Ei(pi,hi);var D0="",Iw=/^https?$/i,Sw=["POST","PUT"];function jT(n){return"content-type"==n.toLowerCase()}function xw(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,GT(n),I0(n)}function GT(n){n.D||(n.D=!0,Zi(n,"complete"),Zi(n,"error"))}function T0(n){if(n.h&&void 0!==L_&&(!n.C[1]||4!=ec(n)||2!=n.ba()))if(n.v&&4==ec(n))d0(n.Fa,0,n);else if(Zi(n,"readystatechange"),4==ec(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var i=String(n.H).match(rv)[1]||null;if(!i&&Nn.self&&Nn.self.location){var l=Nn.self.location.protocol;i=l.substr(0,l.length-1)}r=!Iw.test(i?i.toLowerCase():"")}t=r}if(t)Zi(n,"complete"),Zi(n,"success");else{n.m=6;try{var f=2<ec(n)?n.g.statusText:""}catch(A){f=""}n.j=f+" ["+n.ba()+"]",GT(n)}}finally{I0(n)}}}function I0(n,e){if(n.g){zT(n);const t=n.g,r=n.C[0]?Bm:null;n.g=null,n.C=null,e||Zi(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function zT(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Nn.clearTimeout(n.A),n.A=null)}function ec(n){return n.g?n.g.readyState:0}function $T(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case D0:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Rw(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function fx(n){let e="";return H_(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Vr(n,e,t))}function dv(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function WT(n){this.za=0,this.l=[],this.h=new Ym,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=dv("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=dv("baseRetryDelayMs",5e3,n),this.$a=dv("retryDelaySeedMs",1e4,n),this.Ya=dv("forwardChannelMaxRetries",2,n),this.ra=dv("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new BT(n&&n.concurrentRequestLimit),this.Ca=new dx,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Vf(n){if(M0(n),3==n.G){var e=n.V++,t=dl(n.F);Vr(t,"SID",n.J),Vr(t,"RID",e),Vr(t,"TYPE","terminate"),vd(n,t),(e=new Yu(n,n.h,e,void 0)).K=2,e.v=Np(dl(t)),t=!1,Nn.navigator&&Nn.navigator.sendBeacon&&(t=Nn.navigator.sendBeacon(e.v.toString(),"")),!t&&Nn.Image&&((new Image).src=e.v,t=!0),t||(e.g=Lw(e.l,null),e.g.ea(e.v)),e.F=Date.now(),tv(e)}ZT(n)}function S0(n){n.g&&(Ow(n),n.g.cancel(),n.g=null)}function M0(n){S0(n),n.u&&(Nn.clearTimeout(n.u),n.u=null),hv(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Nn.clearTimeout(n.m),n.m=null)}function Bp(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Up(n)}function Up(n){Cw(n.i)||n.m||(n.m=!0,Km(n.Ha,n),n.C=0)}function qT(n,e){var t;t=e?e.m:n.V++;const r=dl(n.F);Vr(r,"SID",n.J),Vr(r,"RID",t),Vr(r,"AID",n.U),vd(n,r),n.o&&n.s&&Rw(r,n.o,n.s),t=new Yu(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=x0(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),av(n.i,t),Xm(t,r,e)}function vd(n,e){n.j&&v0({},function(t,r){Vr(e,r,t)})}function x0(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Si(n.j.Oa,n.j,n):null;e:{var i=n.l;let l=-1;for(;;){const f=["count="+t];-1==l?0<t?(l=i[0].h,f.push("ofs="+l)):l=0:f.push("ofs="+l);let m=!0;for(let A=0;A<t;A++){let M=i[A].h;const P=i[A].g;if(M-=l,0>M)l=Math.max(0,i[A].h-100),m=!1;else try{UT(P,f,"req"+M+"_")}catch(V){r&&r(P)}}if(m){r=f.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function kw(n){n.g||n.u||(n.Y=1,Km(n.Ga,n),n.A=0)}function fv(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Dp(Si(n.Ga,n),Fw(n,n.A)),n.A++,0))}function Ow(n){null!=n.B&&(Nn.clearTimeout(n.B),n.B=null)}function Pw(n){n.g=new Yu(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=dl(n.oa);Vr(e,"RID","rpc"),Vr(e,"SID",n.J),Vr(e,"CI",n.N?"0":"1"),Vr(e,"AID",n.U),vd(n,e),Vr(e,"TYPE","xmlhttp"),n.o&&n.s&&Rw(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Np(dl(e)),t.s=null,t.U=!0,ev(t,n)}function hv(n){null!=n.v&&(Nn.clearTimeout(n.v),n.v=null)}function pv(n,e){var t=null;if(n.g==e){hv(n),Ow(n),n.g=null;var r=2}else{if(!Ff(n.i,e))return;t=e.D,Dw(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Zi(r=Cp(),new vw(r,t,e,i)),Up(n)}else kw(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function Nw(n,e){return!(w0(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Dp(Si(n.Ha,n,e),Fw(n,n.C)),n.C++,0)))}(n,e)||2==r&&fv(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Bf(n,5);break;case 4:Bf(n,10);break;case 3:Bf(n,6);break;default:Bf(n,2)}}function Fw(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Bf(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Si(n.jb,n);t||(t=new gd("//www.google.com/images/cleardot.gif"),Nn.location&&"http"==Nn.location.protocol||xp(t,"https"),Np(t)),function HT(n,e){const t=new Ym;if(Nn.Image){const r=new Image;r.onload=Hm(Fp,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Hm(Fp,t,r,"TestLoadImage: error",!1,e),r.onabort=Hm(Fp,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Hm(Fp,t,r,"TestLoadImage: timeout",!1,e),Nn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ss(2);n.G=0,n.j&&n.j.va(e),ZT(n),M0(n)}function ZT(n){n.G=0,n.I=-1,n.j&&((0!=lv(n.i).length||0!=n.l.length)&&(n.i.i.length=0,B_(n.l),n.l.length=0),n.j.ua())}function KT(n,e,t){let r=function OT(n){return n instanceof gd?dl(n):new gd(n,void 0)}(t);if(""!=r.i)e&&iv(r,e+"."+r.i),Rp(r,r.m);else{const i=Nn.location;r=function Ms(n,e,t,r){var i=new gd(null,void 0);return n&&xp(i,n),e&&iv(i,e),t&&Rp(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&H_(n.aa,function(i,l){Vr(r,l,i)}),t=n.sa,(e=n.D)&&t&&Vr(r,e,t),Vr(r,"VER",n.ma),vd(n,r),r}function Lw(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new pi(t&&n.Ba&&!n.qa?new Lf({ib:!0}):n.qa)).L=n.H,e}function Vw(){}function gv(){if(Df&&!(10<=Number(TT)))throw Error("Environmental error: no available transport.")}function Yo(n,e){hi.call(this),this.g=new WT(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!mp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!mp(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Uf(this)}function Bw(n){pd.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function mv(){h0.call(this),this.status=1}function Uf(n){this.g=n}(Qt=pi.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():p0.g(),this.C=function Sa(n){return n.h||(n.h=n.i())}(this.u?this.u:p0),this.g.onreadystatechange=Si(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void xw(this,l)}n=t||"";const i=new Of(this.headers);r&&v0(r,function(l,f){i.set(f,l)}),r=function wT(n){e:{var e=jT;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Nn.FormData&&n instanceof Nn.FormData,!(0<=ZE(Sw,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(l,f){this.g.setRequestHeader(f,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{zT(this),0<this.B&&((this.K=function Mw(n){return Df&&function nw(){return function CT(n){var e=DT;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=QE(String(Tf)).split("."),t=QE("9").split("."),r=Math.max(e.length,t.length);for(let f=0;0==n&&f<r;f++){var i=e[f]||"",l=t[f]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==i[0].length&&0==l[0].length)break;n=U_(0==i[1].length?0:parseInt(i[1],10),0==l[1].length?0:parseInt(l[1],10))||U_(0==i[2].length,0==l[2].length)||U_(i[2],l[2]),i=i[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Si(this.pa,this)):this.A=d0(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){xw(this,l)}},Qt.pa=function(){void 0!==L_&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zi(this,"timeout"),this.abort(8))},Qt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Zi(this,"complete"),Zi(this,"abort"),I0(this))},Qt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),I0(this,!0)),pi.Z.M.call(this)},Qt.Fa=function(){this.s||(this.F||this.v||this.l?T0(this):this.cb())},Qt.cb=function(){T0(this)},Qt.ba=function(){try{return 2<ec(this)?this.g.status:-1}catch(n){return-1}},Qt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Qt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Tw(e)}},Qt.Da=function(){return this.m},Qt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Qt=WT.prototype).ma=8,Qt.G=1,Qt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Qt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Yu(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=XE(l),G_(l,this.P)):l=this.P),null===this.o&&(i.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=x0(this,i,e),Vr(t=dl(this.F),"RID",n),Vr(t,"CVER",22),this.D&&Vr(t,"X-HTTP-Session-Id",this.D),vd(this,t),this.o&&l&&Rw(t,this.o,l),av(this.i,i),this.Ra&&Vr(t,"TYPE","init"),this.ja?(Vr(t,"$req",e),Vr(t,"SID","null"),i.$=!0,Xm(i,t,null)):Xm(i,t,e),this.G=2}}else 3==this.G&&(n?qT(this,n):0==this.l.length||Cw(this.i)||qT(this))},Qt.Ga=function(){if(this.u=null,Pw(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Dp(Si(this.bb,this),n)}},Qt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ss(10),S0(this),Pw(this))},Qt.ab=function(){null!=this.v&&(this.v=null,S0(this),fv(this),Ss(19))},Qt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ss(2)):(this.h.info("Failed to ping google.com"),Ss(1))},(Qt=Vw.prototype).xa=function(){},Qt.wa=function(){},Qt.va=function(){},Qt.ua=function(){},Qt.Oa=function(){},gv.prototype.g=function(n,e){return new Yo(n,e)},Ei(Yo,hi),Yo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Km(Si(n.hb,n,e))),Ss(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=KT(n,null,n.W),Up(n)},Yo.prototype.close=function(){Vf(this.g)},Yo.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Bp(this.g,e)}else this.v?((e={}).__data__=a0(n),Bp(this.g,e)):Bp(this.g,n)},Yo.prototype.M=function(){this.g.j=null,delete this.j,Vf(this.g),delete this.g,Yo.Z.M.call(this)},Ei(Bw,pd),Ei(mv,h0),Ei(Uf,Vw),Uf.prototype.xa=function(){Zi(this.g,"a")},Uf.prototype.wa=function(n){Zi(this.g,new Bw(n))},Uf.prototype.va=function(n){Zi(this.g,new mv(n))},Uf.prototype.ua=function(){Zi(this.g,"b")},gv.prototype.createWebChannel=gv.prototype.g,Yo.prototype.send=Yo.prototype.u,Yo.prototype.open=Yo.prototype.m,Yo.prototype.close=Yo.prototype.close,Qu.NO_ERROR=0,Qu.TIMEOUT=8,Qu.HTTP_ERROR=6,yw.COMPLETE="complete",_w.EventType=hd,hd.OPEN="a",hd.CLOSE="b",hd.ERROR="c",hd.MESSAGE="d",hi.prototype.listen=hi.prototype.N,pi.prototype.listenOnce=pi.prototype.O,pi.prototype.getLastError=pi.prototype.La,pi.prototype.getLastErrorCode=pi.prototype.Da,pi.prototype.getStatus=pi.prototype.ba,pi.prototype.getResponseJson=pi.prototype.Qa,pi.prototype.getResponseText=pi.prototype.ga,pi.prototype.send=pi.prototype.ea;var Ma=nu.createWebChannelTransport=function(){return new gv},QT=nu.getStatEventTarget=function(){return Cp()},Hp=nu.ErrorCode=Qu,YT=nu.EventType=yw,JT=nu.Event=Ku,vv=nu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Uw=nu.FetchXmlHttpFactory=Lf,jp=nu.WebChannel=_w,XT=nu.XhrIo=pi;const R0="@firebase/firestore";class Ki{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ki.UNAUTHENTICATED=new Ki(null),Ki.GOOGLE_CREDENTIALS=new Ki("google-credentials-uid"),Ki.FIRST_PARTY=new Ki("first-party-uid"),Ki.MOCK_USER=new Ki("mock-user");let Hf="9.8.0";const tc=new cd.Yd("@firebase/firestore");function Gp(){return tc.logLevel}function Tt(n,...e){if(tc.logLevel<=cd.in.DEBUG){const t=e.map(yv);tc.debug(`Firestore (${Hf}): ${n}`,...t)}}function wi(n,...e){if(tc.logLevel<=cd.in.ERROR){const t=e.map(yv);tc.error(`Firestore (${Hf}): ${n}`,...t)}}function zp(n,...e){if(tc.logLevel<=cd.in.WARN){const t=e.map(yv);tc.warn(`Firestore (${Hf}): ${n}`,...t)}}function yv(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function en(n="Unexpected state"){const e=`FIRESTORE (${Hf}) INTERNAL ASSERTION FAILED: `+n;throw wi(e),new Error(e)}function Mn(n,e){n||en()}function Ut(n,e){return n}const Ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pt extends Zn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class jw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ki.UNAUTHENTICATED))}shutdown(){}}class Gw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class N0{constructor(e){this.t=e,this.currentUser=Ki.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const l=M=>this.i!==i?(i=this.i,t(M)):Promise.resolve();let f=new Mi;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Mi,e.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const M=f;e.enqueueRetryable((0,rt.Z)(function*(){yield M.promise,yield l(r.currentUser)}))},A=M=>{Tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=M,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(M=>A(M)),setTimeout(()=>{if(!this.auth){const M=this.t.getImmediate({optional:!0});M?A(M):(Tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Mi)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Mn("string"==typeof r.accessToken),new jw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Mn(null===e||"string"==typeof e),new Ki(e)}}class k0{constructor(e,t,r){this.type="FirstParty",this.user=Ki.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class zw{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new k0(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ki.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $w{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ww{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=l=>{null!=l.error&&Tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.p;return this.p=l.token,Tt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const i=l=>{Tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>i(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?i(l):Tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Mn("string"==typeof t.token),this.p=t.token,new $w(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Do{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function nI(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Do.A=-1;class rI{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=nI(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<t&&(r+=e.charAt(i[l]%e.length))}return r}}function jn(n,e){return n<e?-1:n>e?1:0}function yd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function qw(n){return n+"\0"}class ri{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pt(Ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pt(Ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new pt(Ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pt(Ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ri.fromMillis(Date.now())}static fromDate(e){return ri.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ri(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jn(this.nanoseconds,e.nanoseconds):jn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class _n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _n(e)}static min(){return new _n(new ri(0,0))}static max(){return new _n(new ri(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function iI(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function jf(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function sI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class _v{constructor(e,t,r){void 0===t?t=0:t>e.length&&en(),void 0===r?r=e.length-t:r>e.length-t&&en(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===_v.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof _v?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=e.get(i),f=t.get(i);if(l<f)return-1;if(l>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ar extends _v{construct(e,t,r){return new ar(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new pt(Ke.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ar(t)}static emptyPath(){return new ar([])}}const oI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kr extends _v{construct(e,t,r){return new Kr(e,t,r)}static isValidIdentifier(e){return oI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Kr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(0===r.length)throw new pt(Ke.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let f=!1;for(;i<e.length;){const m=e[i];if("\\"===m){if(i+1===e.length)throw new pt(Ke.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const A=e[i+1];if("\\"!==A&&"."!==A&&"`"!==A)throw new pt(Ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=A,i+=2}else"`"===m?(f=!f,i++):"."!==m||f?(r+=m,i++):(l(),i++)}if(l(),f)throw new pt(Ke.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kr(t)}static emptyPath(){return new Kr([])}}class Gf{constructor(e){this.fields=e,e.sort(Kr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return yd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class gi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new gi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new gi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gi.EMPTY_BYTE_STRING=new gi("");const _d=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function iu(n){if(Mn(!!n),"string"==typeof n){let e=0;const t=_d.exec(n);if(Mn(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Br(n.seconds),nanos:Br(n.nanos)}}function Br(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function su(n){return"string"==typeof n?gi.fromBase64String(n):gi.fromUint8Array(n)}function O0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function bv(n){const e=n.mapValue.fields.__previous_value__;return O0(e)?bv(e):e}function bd(n){const e=iu(n.mapValue.fields.__local_write_time__.timestampValue);return new ri(e.seconds,e.nanos)}class Av{constructor(e,t,r,i,l,f,m,A){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.useFetchStreams=A}}class nc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new nc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof nc&&e.projectId===this.projectId&&e.database===this.database}}function Ev(n){return null==n}function wv(n){return 0===n&&1/n==-1/0}function lI(n){return"number"==typeof n&&Number.isInteger(n)&&!wv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class kt{constructor(e){this.path=e}static fromPath(e){return new kt(ar.fromString(e))}static fromName(e){return new kt(ar.fromString(e).popFirst(5))}static empty(){return new kt(ar.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ar.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ar.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new kt(new ar(e.slice()))}}const rc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Cv={nullValue:"NULL_VALUE"};function Ad(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?O0(n)?4:uI(n)?9007199254740991:10:en()}function hl(n,e){if(n===e)return!0;const t=Ad(n);if(t!==Ad(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return bd(n).isEqual(bd(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=iu(r.timestampValue),f=iu(i.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,su(n.bytesValue).isEqual(su(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Br(r.geoPointValue.latitude)===Br(i.geoPointValue.latitude)&&Br(r.geoPointValue.longitude)===Br(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Br(r.integerValue)===Br(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=Br(r.doubleValue),f=Br(i.doubleValue);return l===f?wv(l)===wv(f):isNaN(l)&&isNaN(f)}return!1}(n,e);case 9:return yd(n.arrayValue.values||[],e.arrayValue.values||[],hl);case 10:return function(r,i){const l=r.mapValue.fields||{},f=i.mapValue.fields||{};if(iI(l)!==iI(f))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===f[m]||!hl(l[m],f[m])))return!1;return!0}(n,e);default:return en()}var i}function zf(n,e){return void 0!==(n.values||[]).find(t=>hl(t,e))}function ou(n,e){if(n===e)return 0;const t=Ad(n),r=Ad(e);if(t!==r)return jn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return jn(n.booleanValue,e.booleanValue);case 2:return function(i,l){const f=Br(i.integerValue||i.doubleValue),m=Br(l.integerValue||l.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(n,e);case 3:return P0(n.timestampValue,e.timestampValue);case 4:return P0(bd(n),bd(e));case 5:return jn(n.stringValue,e.stringValue);case 6:return function(i,l){const f=su(i),m=su(l);return f.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(i,l){const f=i.split("/"),m=l.split("/");for(let A=0;A<f.length&&A<m.length;A++){const M=jn(f[A],m[A]);if(0!==M)return M}return jn(f.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,l){const f=jn(Br(i.latitude),Br(l.latitude));return 0!==f?f:jn(Br(i.longitude),Br(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,l){const f=i.values||[],m=l.values||[];for(let A=0;A<f.length&&A<m.length;++A){const M=ou(f[A],m[A]);if(M)return M}return jn(f.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,l){if(i===rc.mapValue&&l===rc.mapValue)return 0;if(i===rc.mapValue)return 1;if(l===rc.mapValue)return-1;const f=i.fields||{},m=Object.keys(f),A=l.fields||{},M=Object.keys(A);m.sort(),M.sort();for(let P=0;P<m.length&&P<M.length;++P){const V=jn(m[P],M[P]);if(0!==V)return V;const se=ou(f[m[P]],A[M[P]]);if(0!==se)return se}return jn(m.length,M.length)}(n.mapValue,e.mapValue);default:throw en()}}function P0(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return jn(n,e);const t=iu(n),r=iu(e),i=jn(t.seconds,r.seconds);return 0!==i?i:jn(t.nanos,r.nanos)}function $f(n){return F0(n)}function F0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=iu(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?su(n.bytesValue).toBase64():"referenceValue"in n?kt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",l=!0;for(const f of r.values||[])l?l=!1:i+=",",i+=F0(f);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let l="{",f=!0;for(const m of i)f?f=!1:l+=",",l+=`${m}:${F0(r.fields[m])}`;return l+"}"}(n.mapValue):en();var e}function ic(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function $p(n){return!!n&&"integerValue"in n}function Dv(n){return!!n&&"arrayValue"in n}function L0(n){return!!n&&"nullValue"in n}function Tv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Iv(n){return!!n&&"mapValue"in n}function Wp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return jf(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Wp(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Wp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function uI(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function hx(n){return"nullValue"in n?Cv:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?ic(nc.empty(),kt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:en()}function cI(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?ic(nc.empty(),kt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?rc:en()}function Zw(n,e){const t=ou(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function dI(n,e){const t=ou(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class xs{constructor(e){this.value=e}static empty(){return new xs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Iv(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wp(t)}setAll(e){let t=Kr.emptyPath(),r={},i=[];e.forEach((f,m)=>{if(!t.isImmediateParentOf(m)){const A=this.getFieldsMap(t);this.applyChanges(A,r,i),r={},i=[],t=m.popLast()}f?r[m.lastSegment()]=Wp(f):i.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());Iv(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return hl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Iv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){jf(t,(i,l)=>e[i]=l);for(const i of r)delete e[i]}clone(){return new xs(Wp(this.value))}}function fI(n){const e=[];return jf(n.fields,(t,r)=>{const i=new Kr([t]);if(Iv(r)){const l=fI(r.mapValue).fields;if(0===l.length)e.push(i);else for(const f of l)e.push(i.child(f))}else e.push(i)}),new Gf(e)}class Ur{constructor(e,t,r,i,l,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=l,this.documentState=f}static newInvalidDocument(e){return new Ur(e,0,_n.min(),_n.min(),xs.empty(),0)}static newFoundDocument(e,t,r){return new Ur(e,1,t,_n.min(),r,0)}static newNoDocument(e,t){return new Ur(e,2,t,_n.min(),xs.empty(),0)}static newUnknownDocument(e,t){return new Ur(e,3,t,_n.min(),xs.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ur&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ur(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class V0{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function B0(n){return n.fields.find(e=>2===e.kind)}function Wf(n){return n.fields.filter(e=>2!==e.kind)}V0.UNKNOWN_ID=-1;class U0{constructor(e,t){this.fieldPath=e,this.kind=t}}class Sv{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Sv(0,o.min())}}function hI(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=_n.fromTimestamp(1e9===r?new ri(t+1,0):new ri(t,r));return new o(i,kt.empty(),e)}function s(n){return new o(n.readTime,n.key,-1)}class o{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new o(_n.min(),kt.empty(),-1)}static max(){return new o(_n.max(),kt.empty(),-1)}}function a(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=kt.comparator(n.documentKey,e.documentKey),0!==t?t:jn(n.largestBatchId,e.largestBatchId))}class u{constructor(e,t){this.comparator=e,this.root=t||y.EMPTY}insert(e,t){return new u(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,y.BLACK,null,null))}remove(e){return new u(this.comparator,this.root.remove(e,this.comparator).copy(null,null,y.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new g(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new g(this.root,e,this.comparator,!1)}getReverseIterator(){return new g(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new g(this.root,e,this.comparator,!0)}}class g{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class y{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=null!=r?r:y.RED,this.left=null!=i?i:y.EMPTY,this.right=null!=l?l:y.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new y(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===l?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return y.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return y.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,y.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,y.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw en();const e=this.left.check();if(e!==this.right.check())throw en();return e+(this.isRed()?0:1)}}y.EMPTY=null,y.RED=!0,y.BLACK=!1,y.EMPTY=new class{constructor(){this.size=0}get key(){throw en()}get value(){throw en()}get color(){throw en()}get left(){throw en()}get right(){throw en()}copy(n,e,t,r,i){return this}insert(n,e,t){return new y(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class E{constructor(e){this.comparator=e,this.data=new u(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new T(this.data.getIterator())}getIteratorFrom(e){return new T(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof E)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(i,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new E(this.comparator);return t.data=e,t}}class T{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function x(n){return n.hasNext()?n.getNext():void 0}class F{constructor(e,t=null,r=[],i=[],l=null,f=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=f,this.endAt=m,this.P=null}}function j(n,e=null,t=[],r=[],i=null,l=null,f=null){return new F(n,e,t,r,i,l,f)}function Y(n){const e=Ut(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+$f(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Ev(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>$f(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>$f(r)).join(",")),e.P=t}return e.P}function Ne(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!z0(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!hl(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!xv(n.startAt,e.startAt)&&xv(n.endAt,e.endAt)}function nt(n){return kt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Ct(n,e){return n.filters.filter(t=>t instanceof it&&t.field.isEqual(e))}function Nt(n,e,t){let r=Cv,i=!0;for(const l of Ct(n,e)){let f=Cv,m=!0;switch(l.op){case"<":case"<=":f=hx(l.value);break;case"==":case"in":case">=":f=l.value;break;case">":f=l.value,m=!1;break;case"!=":case"not-in":f=Cv}Zw({value:r,inclusive:i},{value:f,inclusive:m})<0&&(r=f,i=m)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const f=t.position[l];Zw({value:r,inclusive:i},{value:f,inclusive:t.inclusive})<0&&(r=f,i=t.inclusive);break}return{value:r,inclusive:i}}function Kt(n,e,t){let r=rc,i=!0;for(const l of Ct(n,e)){let f=rc,m=!0;switch(l.op){case">=":case">":f=cI(l.value),m=!1;break;case"==":case"in":case"<=":f=l.value;break;case"<":f=l.value,m=!1;break;case"!=":case"not-in":f=rc}dI({value:r,inclusive:i},{value:f,inclusive:m})>0&&(r=f,i=m)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const f=t.position[l];dI({value:r,inclusive:i},{value:f,inclusive:t.inclusive})>0&&(r=f,i=t.inclusive);break}return{value:r,inclusive:i}}class it extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new fn(e,t,r):"array-contains"===t?new Ed(e,r):"in"===t?new H0(e,r):"not-in"===t?new j0(e,r):"array-contains-any"===t?new G0(e,r):new it(e,t,r)}static V(e,t,r){return"in"===t?new Yn(e,r):new vr(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(ou(t,this.value)):null!==t&&Ad(this.value)===Ad(t)&&this.v(ou(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return en()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class fn extends it{constructor(e,t,r){super(e,t,r),this.key=kt.fromName(r.referenceValue)}matches(e){const t=kt.comparator(e.key,this.key);return this.v(t)}}class Yn extends it{constructor(e,t){super(e,"in",t),this.keys=Js(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class vr extends it{constructor(e,t){super(e,"not-in",t),this.keys=Js(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Js(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>kt.fromName(r.referenceValue))}class Ed extends it{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Dv(t)&&zf(t.arrayValue,this.value)}}class H0 extends it{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&zf(this.value.arrayValue,t)}}class j0 extends it{constructor(e,t){super(e,"not-in",t)}matches(e){if(zf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!zf(this.value.arrayValue,t)}}class G0 extends it{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Dv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>zf(this.value.arrayValue,r))}}class pl{constructor(e,t){this.position=e,this.inclusive=t}}class sc{constructor(e,t="asc"){this.field=e,this.dir=t}}function z0(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Mv(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],f=n.position[i];if(r=l.field.isKeyField()?kt.comparator(kt.fromName(f.referenceValue),t.key):ou(f,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function xv(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!hl(n.position[t],e.position[t]))return!1;return!0}class Ra{constructor(e,t=null,r=[],i=[],l=null,f="F",m=null,A=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=f,this.startAt=m,this.endAt=A,this.D=null,this.C=null}}function px(n,e,t,r,i,l,f,m){return new Ra(n,e,t,r,i,l,f,m)}function Rv(n){return new Ra(n)}function pI(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function gI(n){for(const e of n.filters)if(e.S())return e.field;return null}function mI(n){return null!==n.collectionGroup}function Nv(n){const e=Ut(n);if(null===e.D){e.D=[];const t=gI(e),r=pI(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new sc(t)),e.D.push(new sc(Kr.keyField(),"asc"));else{let i=!1;for(const l of e.explicitOrderBy)e.D.push(l),l.field.isKeyField()&&(i=!0);if(!i){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new sc(Kr.keyField(),l))}}}return e.D}function gl(n){const e=Ut(n);if(!e.C)if("F"===e.limitType)e.C=j(e.path,e.collectionGroup,Nv(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Nv(e))t.push(new sc(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new pl(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new pl(e.startAt.position,e.startAt.inclusive):null;e.C=j(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function gx(n,e,t){return new Ra(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function $0(n,e){return Ne(gl(n),gl(e))&&n.limitType===e.limitType}function mx(n){return`${Y(gl(n))}|lt:${n.limitType}`}function vI(n){return`Query(target=${function _e(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${$f(r.value)}`;var r}).join(", ")}]`),Ev(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>$f(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>$f(t)).join(",")),`Target(${e})`}(gl(n))}; limitType=${n.limitType})`}function yI(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):kt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,l,f){const m=Mv(i,l,f);return i.inclusive?m<=0:m<0}(t.startAt,Nv(t),r)||t.endAt&&!function(i,l,f){const m=Mv(i,l,f);return i.inclusive?m>=0:m>0}(t.endAt,Nv(t),r)));var t,r}function vx(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function yx(n){return(e,t)=>{let r=!1;for(const i of Nv(n)){const l=rk(i,e,t);if(0!==l)return l;r=r||i.field.isKeyField()}return 0}}function rk(n,e,t){const r=n.field.isKeyField()?kt.comparator(e.key,t.key):function(i,l,f){const m=l.data.field(i),A=f.data.field(i);return null!==m&&null!==A?ou(m,A):en()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return en()}}function _x(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wv(e)?"-0":e}}function bx(n){return{integerValue:""+n}}function Ax(n,e){return lI(e)?bx(e):_x(n,e)}class Kw{constructor(){this._=void 0}}function ik(n,e,t){return n instanceof kv?function(r,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(l.fields.__previous_value__=i),{mapValue:l}}(t,e):n instanceof qp?wx(n,e):n instanceof Zp?Cx(n,e):function(r,i){const l=Ex(r,i),f=Dx(l)+Dx(r.k);return $p(l)&&$p(r.k)?bx(f):_x(r.M,f)}(n,e)}function sk(n,e,t){return n instanceof qp?wx(n,e):n instanceof Zp?Cx(n,e):t}function Ex(n,e){return n instanceof Ov?$p(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class kv extends Kw{}class qp extends Kw{constructor(e){super(),this.elements=e}}function wx(n,e){const t=Tx(e);for(const r of n.elements)t.some(i=>hl(i,r))||t.push(r);return{arrayValue:{values:t}}}class Zp extends Kw{constructor(e){super(),this.elements=e}}function Cx(n,e){let t=Tx(e);for(const r of n.elements)t=t.filter(i=>!hl(i,r));return{arrayValue:{values:t}}}class Ov extends Kw{constructor(e,t){super(),this.M=e,this.k=t}}function Dx(n){return Br(n.integerValue||n.doubleValue)}function Tx(n){return Dv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class W0{constructor(e,t){this.field=e,this.transform=t}}class ak{constructor(e,t){this.version=e,this.transformResults=t}}class xi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new xi}static exists(e){return new xi(void 0,e)}static updateTime(e){return new xi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qw(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Yw{}function lk(n,e,t){n instanceof q0?function(r,i,l){const f=r.value.clone(),m=xx(r.fieldTransforms,i,l.transformResults);f.setAll(m),i.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):n instanceof Kp?function(r,i,l){if(!Qw(r.precondition,i))return void i.convertToUnknownDocument(l.version);const f=xx(r.fieldTransforms,i,l.transformResults),m=i.data;m.setAll(Mx(r)),m.setAll(f),i.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function _I(n,e,t){var i;n instanceof q0?function(r,i,l){if(!Qw(r.precondition,i))return;const f=r.value.clone(),m=Rx(r.fieldTransforms,l,i);f.setAll(m),i.convertToFoundDocument(Sx(i),f).setHasLocalMutations()}(n,e,t):n instanceof Kp?function(r,i,l){if(!Qw(r.precondition,i))return;const f=Rx(r.fieldTransforms,l,i),m=i.data;m.setAll(Mx(r)),m.setAll(f),i.convertToFoundDocument(Sx(i),m).setHasLocalMutations()}(n,e,t):Qw(n.precondition,i=e)&&i.convertToNoDocument(_n.min())}function uk(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=Ex(r.transform,i||null);null!=l&&(null==t&&(t=xs.empty()),t.set(r.field,l))}return t||null}function Ix(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&yd(t,r,(i,l)=>function ok(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof qp&&r instanceof qp||t instanceof Zp&&r instanceof Zp?yd(t.elements,r.elements,hl):t instanceof Ov&&r instanceof Ov?hl(t.k,r.k):t instanceof kv&&r instanceof kv);var t,r}(i,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function Sx(n){return n.isFoundDocument()?n.version:_n.min()}class q0 extends Yw{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Kp extends Yw{constructor(e,t,r,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}}function Mx(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function xx(n,e,t){const r=new Map;Mn(n.length===t.length);for(let i=0;i<t.length;i++){const l=n[i],f=l.transform,m=e.data.field(l.field);r.set(l.field,sk(f,m,t[i]))}return r}function Rx(n,e,t){const r=new Map;for(const i of n){const l=i.transform,f=t.data.field(i.field);r.set(i.field,ik(l,f,e))}return r}class Z0 extends Yw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class bI extends Yw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class ck{constructor(e){this.count=e}}var Ri,cr;function Nx(n){switch(n){default:return en();case Ke.CANCELLED:case Ke.UNKNOWN:case Ke.DEADLINE_EXCEEDED:case Ke.RESOURCE_EXHAUSTED:case Ke.INTERNAL:case Ke.UNAVAILABLE:case Ke.UNAUTHENTICATED:return!1;case Ke.INVALID_ARGUMENT:case Ke.NOT_FOUND:case Ke.ALREADY_EXISTS:case Ke.PERMISSION_DENIED:case Ke.FAILED_PRECONDITION:case Ke.ABORTED:case Ke.OUT_OF_RANGE:case Ke.UNIMPLEMENTED:case Ke.DATA_LOSS:return!0}}function kx(n){if(void 0===n)return wi("GRPC error has no .code"),Ke.UNKNOWN;switch(n){case Ri.OK:return Ke.OK;case Ri.CANCELLED:return Ke.CANCELLED;case Ri.UNKNOWN:return Ke.UNKNOWN;case Ri.DEADLINE_EXCEEDED:return Ke.DEADLINE_EXCEEDED;case Ri.RESOURCE_EXHAUSTED:return Ke.RESOURCE_EXHAUSTED;case Ri.INTERNAL:return Ke.INTERNAL;case Ri.UNAVAILABLE:return Ke.UNAVAILABLE;case Ri.UNAUTHENTICATED:return Ke.UNAUTHENTICATED;case Ri.INVALID_ARGUMENT:return Ke.INVALID_ARGUMENT;case Ri.NOT_FOUND:return Ke.NOT_FOUND;case Ri.ALREADY_EXISTS:return Ke.ALREADY_EXISTS;case Ri.PERMISSION_DENIED:return Ke.PERMISSION_DENIED;case Ri.FAILED_PRECONDITION:return Ke.FAILED_PRECONDITION;case Ri.ABORTED:return Ke.ABORTED;case Ri.OUT_OF_RANGE:return Ke.OUT_OF_RANGE;case Ri.UNIMPLEMENTED:return Ke.UNIMPLEMENTED;case Ri.DATA_LOSS:return Ke.DATA_LOSS;default:return en()}}(cr=Ri||(Ri={}))[cr.OK=0]="OK",cr[cr.CANCELLED=1]="CANCELLED",cr[cr.UNKNOWN=2]="UNKNOWN",cr[cr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cr[cr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cr[cr.NOT_FOUND=5]="NOT_FOUND",cr[cr.ALREADY_EXISTS=6]="ALREADY_EXISTS",cr[cr.PERMISSION_DENIED=7]="PERMISSION_DENIED",cr[cr.UNAUTHENTICATED=16]="UNAUTHENTICATED",cr[cr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cr[cr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cr[cr.ABORTED=10]="ABORTED",cr[cr.OUT_OF_RANGE=11]="OUT_OF_RANGE",cr[cr.UNIMPLEMENTED=12]="UNIMPLEMENTED",cr[cr.INTERNAL=13]="INTERNAL",cr[cr.UNAVAILABLE=14]="UNAVAILABLE",cr[cr.DATA_LOSS=15]="DATA_LOSS";class qf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,l]of r)if(this.equalsFn(i,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){jf(this.inner,(t,r)=>{for(const[i,l]of r)e(i,l)})}isEmpty(){return sI(this.inner)}size(){return this.innerSize}}const dk=new u(kt.comparator);function ml(){return dk}const fk=new u(kt.comparator);function AI(...n){let e=fk;for(const t of n)e=e.insert(t.key,t);return e}function K0(){return new qf(n=>n.toString(),(n,e)=>n.isEqual(e))}const hk=new u(kt.comparator),pk=new E(kt.comparator);function Er(...n){let e=pk;for(const t of n)e=e.add(t);return e}const gk=new E(jn);function Jw(){return gk}class Q0{constructor(e,t,r,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Y0.createSynthesizedTargetChangeForCurrentChange(e,t)),new Q0(_n.min(),r,Jw(),ml(),Er())}}class Y0{constructor(e,t,r,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Y0(gi.EMPTY_BYTE_STRING,t,Er(),Er(),Er())}}class Xw{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class Ox{constructor(e,t){this.targetId=e,this.$=t}}class Px{constructor(e,t,r=gi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Fx{constructor(){this.B=0,this.L=Vx(),this.U=gi.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Er(),t=Er(),r=Er();return this.L.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:en()}}),new Y0(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=Vx()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class mk{constructor(e){this.nt=e,this.st=new Map,this.it=ml(),this.rt=Lx(),this.ot=new E(jn)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:en()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const l=i.target;if(nt(l))if(0===r){const f=new kt(l.path);this.ct(t,f,Ur.newNoDocument(f,_n.min()))}else Mn(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((l,f)=>{const m=this.wt(f);if(m){if(l.current&&nt(m.target)){const A=new kt(m.target.path);null!==this.it.get(A)||this.It(f,A)||this.ct(f,A,Ur.newNoDocument(A,e))}l.j&&(t.set(f,l.H()),l.J())}});let r=Er();this.rt.forEach((l,f)=>{let m=!0;f.forEachWhile(A=>{const M=this.wt(A);return!M||2===M.purpose||(m=!1,!1)}),m&&(r=r.add(l))}),this.it.forEach((l,f)=>f.setReadTime(e));const i=new Q0(e,t,this.ot,this.it,r);return this.it=ml(),this.rt=Lx(),this.ot=new E(jn),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new Fx,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new E(jn),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Tt("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new Fx),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function Lx(){return new u(kt.comparator)}function Vx(){return new u(kt.comparator)}const vk={asc:"ASCENDING",desc:"DESCENDING"},yk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class _k{constructor(e,t){this.databaseId=e,this.N=t}}function J0(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Bx(n,e){return n.N?e.toBase64():e.toUint8Array()}function bk(n,e){return J0(n,e.toTimestamp())}function ss(n){return Mn(!!n),_n.fromTimestamp(function(e){const t=iu(e);return new ri(t.seconds,t.nanos)}(n))}function EI(n,e){return(t=n,new ar(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Ux(n){const e=ar.fromString(n);return Mn(Kx(e)),e}function X0(n,e){return EI(n.databaseId,e.path)}function oc(n,e){const t=Ux(e);if(t.get(1)!==n.databaseId.projectId)throw new pt(Ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pt(Ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new kt(jx(t))}function wI(n,e){return EI(n.databaseId,e)}function Hx(n){const e=Ux(n);return 4===e.length?ar.emptyPath():jx(e)}function eb(n){return new ar(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function jx(n){return Mn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Gx(n,e,t){return{name:X0(n,e),fields:t.value.mapValue.fields}}function zx(n,e,t){const r=oc(n,e.name),i=ss(e.updateTime),l=new xs({mapValue:{fields:e.fields}}),f=Ur.newFoundDocument(r,i,l);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function tb(n,e){let t;if(e instanceof q0)t={update:Gx(n,e.key,e.value)};else if(e instanceof Z0)t={delete:X0(n,e.key)};else if(e instanceof Kp)t={update:Gx(n,e.key,e.data),updateMask:Mk(e.fieldMask)};else{if(!(e instanceof bI))return en();t={verify:X0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const f=l.transform;if(f instanceof kv)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof qp)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Zp)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Ov)return{fieldPath:l.field.canonicalString(),increment:f.k};throw en()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:bk(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:en()),t;var i}function CI(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?xi.updateTime(ss(i.updateTime)):void 0!==i.exists?xi.exists(i.exists):xi.none():xi.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,f){let m=null;"setToServerValue"in f?(Mn("REQUEST_TIME"===f.setToServerValue),m=new kv):"appendMissingElements"in f?m=new qp(f.appendMissingElements.values||[]):"removeAllFromArray"in f?m=new Zp(f.removeAllFromArray.values||[]):"increment"in f?m=new Ov(l,f.increment):en();const A=Kr.fromServerFormat(f.fieldPath);return new W0(A,m)}(n,i)):[];var i;if(e.update){const i=oc(n,e.update.name),l=new xs({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new Gf((e.updateMask.fieldPaths||[]).map(M=>Kr.fromServerFormat(M)));return new Kp(i,l,f,t,r)}return new q0(i,l,t,r)}if(e.delete){const i=oc(n,e.delete);return new Z0(i,t)}if(e.verify){const i=oc(n,e.verify);return new bI(i,t)}return en()}function $x(n,e){return{documents:[wI(n,e.path)]}}function Wx(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=wI(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=wI(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(A){if(0===A.length)return;const M=A.map(P=>function(V){if("=="===V.op){if(Tv(V.value))return{unaryFilter:{field:Pv(V.field),op:"IS_NAN"}};if(L0(V.value))return{unaryFilter:{field:Pv(V.field),op:"IS_NULL"}}}else if("!="===V.op){if(Tv(V.value))return{unaryFilter:{field:Pv(V.field),op:"IS_NOT_NAN"}};if(L0(V.value))return{unaryFilter:{field:Pv(V.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pv(V.field),op:Tk(V.op),value:V.value}}}(P));return 1===M.length?M[0]:{compositeFilter:{op:"AND",filters:M}}}(e.filters);i&&(t.structuredQuery.where=i);const l=function(A){if(0!==A.length)return A.map(M=>{return{field:Pv((P=M).field),direction:Dk(P.dir)};var P})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const f=(M=e.limit,n.N||Ev(M)?M:{value:M});var M,m,A;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(A=e.endAt).inclusive,values:A.position}),t}function qx(n){let e=Hx(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Mn(1===r);const P=t.from[0];P.allDescendants?i=P.collectionId:e=e.child(P.collectionId)}let l=[];t.where&&(l=Zx(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(P=>{return new sc(Fv((V=P).field),function(se){switch(se){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction));var V}));let m=null;t.limit&&(m=function(P){let V;return V="object"==typeof P?P.value:P,Ev(V)?null:V}(t.limit));let A=null;var P;t.startAt&&(A=new pl((P=t.startAt).values||[],!!P.before));let M=null;return t.endAt&&(M=function(P){return new pl(P.values||[],!P.before)}(t.endAt)),px(e,i,f,l,m,"F",A,M)}function Zx(n){return n?void 0!==n.unaryFilter?[Sk(n)]:void 0!==n.fieldFilter?[Ik(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Zx(e)).reduce((e,t)=>e.concat(t)):en():[]}function Dk(n){return vk[n]}function Tk(n){return yk[n]}function Pv(n){return{fieldPath:n.canonicalString()}}function Fv(n){return Kr.fromServerFormat(n.fieldPath)}function Ik(n){return it.create(Fv(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return en()}}(n.fieldFilter.op),n.fieldFilter.value)}function Sk(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Fv(n.unaryFilter.field);return it.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Fv(n.unaryFilter.field);return it.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Fv(n.unaryFilter.field);return it.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Fv(n.unaryFilter.field);return it.create(i,"!=",{nullValue:"NULL_VALUE"});default:return en()}}function Mk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Kx(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function To(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Qx(e)),e=xk(n.get(t),e);return Qx(e)}function xk(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function Qx(n){return n+"\x01\x01"}function ac(n){const e=n.length;if(Mn(e>=2),2===e)return Mn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),ar.emptyPath();const t=e-2,r=[];let i="";for(let l=0;l<e;){const f=n.indexOf("\x01",l);switch((f<0||f>t)&&en(),n.charAt(f+1)){case"\x01":const m=n.substring(l,f);let A;0===i.length?A=m:(i+=m,A=i,i=""),r.push(A);break;case"\x10":i+=n.substring(l,f),i+="\0";break;case"\x11":i+=n.substring(l,f+1);break;default:en()}l=f+2}return new ar(r)}const Yx=["userId","batchId"];function eC(n,e){return[n,To(e)]}function Jx(n,e,t){return[n,To(e),t]}const Rk={},Nk=["prefixPath","collectionGroup","readTime","documentId"],kk=["prefixPath","collectionGroup","documentId"],Ok=["collectionGroup","readTime","prefixPath","documentId"],Pk=["canonicalId","targetId"],Fk=["targetId","path"],Lk=["path","targetId"],Vk=["collectionId","parent"],Bk=["indexId","uid"],Uk=["uid","sequenceNumber"],Hk=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],jk=["indexId","uid","orderedDocumentKey"],Gk=["userId","collectionPath","documentId"],zk=["userId","collectionPath","largestBatchId"],$k=["userId","collectionGroup","largestBatchId"],Xx=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Wk=[...Xx,"documentOverlays"],eR=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],qk=[...eR,"indexConfiguration","indexState","indexEntries"],tR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&en(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Je((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Je?t:Je.resolve(t)}catch(t){return Je.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Je.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Je.reject(t)}static resolve(e){return new Je((t,r)=>{t(e)})}static reject(e){return new Je((t,r)=>{r(e)})}static waitFor(e){return new Je((t,r)=>{let i=0,l=0,f=!1;e.forEach(m=>{++i,m.next(()=>{++l,f&&l===i&&t()},A=>r(A))}),f=!0,l===i&&t()})}static or(e){let t=Je.resolve(!1);for(const r of e)t=t.next(i=>i?Je.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,l)=>{r.push(t.call(this,i,l))}),this.waitFor(r)}}class tC{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Mi,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new nb(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=DI(r.target.error);this.At.reject(new nb(e,i))}}static open(e,t,r,i){try{return new tC(t,e.transaction(i,r))}catch(l){throw new nb(t,l)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Tt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Kk(t)}}class au{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===au.Vt((0,Zn.z$)())&&wi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Tt("SimpleDb","Removing database:",e),Yp(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Zn.hl)())return!1;if(au.St())return!0;const e=(0,Zn.z$)(),t=au.Vt(e),r=0<t&&t<10,i=au.Dt(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,rt.Z)(function*(){return t.db||(Tt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=f=>{r(f.target.result)},l.onblocked=()=>{i(new nb(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=f=>{const m=f.target.error;i("VersionError"===m.name?new pt(Ke.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new pt(Ke.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new nb(e,m))},l.onupgradeneeded=f=>{Tt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',f.oldVersion),t.Pt.kt(f.target.result,l.transaction,f.oldVersion,t.version).next(()=>{Tt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var l=this;return(0,rt.Z)(function*(){const f="readonly"===t;let m=0;for(;;){++m;try{l.db=yield l.Nt(e);const A=tC.open(l.db,e,f?"readonly":"readwrite",r),M=i(A).next(P=>(A.bt(),P)).catch(P=>(A.abort(P),Je.reject(P))).toPromise();return M.catch(()=>{}),yield A.Rt,M}catch(A){const M="FirebaseError"!==A.name&&m<3;if(Tt("SimpleDb","Transaction failed with error:",A.message,"Retrying:",M),l.close(),!M)return Promise.reject(A)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Zk{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Yp(this.Ft.delete())}}class nb extends pt{constructor(e,t){super(Ke.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Qp(n){return"IndexedDbTransactionError"===n.name}class Kk{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Tt("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Tt("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Yp(r)}add(e){return Tt("SimpleDb","ADD",this.store.name,e,e),Yp(this.store.add(e))}get(e){return Yp(this.store.get(e)).next(t=>(void 0===t&&(t=null),Tt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Tt("SimpleDb","DELETE",this.store.name,e),Yp(this.store.delete(e))}count(){return Tt("SimpleDb","COUNT",this.store.name),Yp(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),l=[];return this.Kt(i,(f,m)=>{l.push(m)}).next(()=>l)}{const i=this.store.getAll(r.range);return new Je((l,f)=>{i.onerror=m=>{f(m.target.error)},i.onsuccess=m=>{l(m.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Je((i,l)=>{r.onerror=f=>{l(f.target.error)},r.onsuccess=f=>{i(f.target.result)}})}Qt(e,t){Tt("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Kt(i,(l,f,m)=>m.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Kt(i,t)}zt(e){const t=this.cursor({});return new Je((r,i)=>{t.onerror=l=>{const f=DI(l.target.error);i(f)},t.onsuccess=l=>{const f=l.target.result;f?e(f.primaryKey,f.value).next(m=>{m?f.continue():r()}):r()}})}Kt(e,t){const r=[];return new Je((i,l)=>{e.onerror=f=>{l(f.target.error)},e.onsuccess=f=>{const m=f.target.result;if(!m)return void i();const A=new Zk(m),M=t(m.primaryKey,m.value,A);if(M instanceof Je){const P=M.catch(V=>(A.done(),Je.reject(V)));r.push(P)}A.isDone?i():null===A.Lt?m.continue():m.continue(A.Lt)}}).next(()=>Je.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Yp(n){return new Je((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=DI(r.target.error);t(i)}})}let rR=!1;function DI(n){const e=au.Vt((0,Zn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new pt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return rR||(rR=!0,setTimeout(()=>{throw r},0)),r}}return n}class iR extends nR{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function os(n,e){const t=Ut(n);return au.xt(t.Ht,e)}class TI{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&lk(l,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&_I(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&_I(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(_n.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Er())}isEqual(e){return this.batchId===e.batchId&&yd(this.mutations,e.mutations,(t,r)=>Ix(t,r))&&yd(this.baseMutations,e.baseMutations,(t,r)=>Ix(t,r))}}class II{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Mn(e.mutations.length===r.length);let i=hk;const l=e.mutations;for(let f=0;f<l.length;f++)i=i.insert(l[f].key,r[f].version);return new II(e,t,r,i)}}class SI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Zf{constructor(e,t,r,i,l=_n.min(),f=_n.min(),m=gi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m}withSequenceNumber(e){return new Zf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Zf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Zf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class sR{constructor(e){this.Jt=e}}function oR(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:nC(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:X0(i=n.Jt,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:J0(i,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Jp(e.version)};else{if(!e.isUnknownDocument())return en();r.unknownDocument={path:t.path.toArray(),version:Jp(e.version)}}var i,l;return r}function nC(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Jp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Xp(n){const e=new ri(n.seconds,n.nanoseconds);return _n.fromTimestamp(e)}function Lv(n,e){const t=(e.baseMutations||[]).map(l=>CI(n.Jt,l));for(let l=0;l<e.mutations.length-1;++l){const f=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(f.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>CI(n.Jt,l)),i=ri.fromMillis(e.localWriteTimeMs);return new TI(e.batchId,i,t,r)}function rb(n){const e=Xp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Xp(n.lastLimboFreeSnapshotVersion):_n.min();let r;var i;return void 0!==n.query.documents?(Mn(1===(i=n.query).documents.length),r=gl(Rv(Hx(i.documents[0])))):r=gl(qx(n.query)),new Zf(r,n.targetId,0,n.lastListenSequenceNumber,e,t,gi.fromBase64String(n.resumeToken))}function aR(n,e){const t=Jp(e.snapshotVersion),r=Jp(e.lastLimboFreeSnapshotVersion);let i;i=nt(e.target)?$x(n.Jt,e.target):Wx(n.Jt,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Y(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function MI(n){const e=qx({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?gx(e,e.limit,"L"):e}function xI(n,e){return new SI(e.largestBatchId,CI(n.Jt,e.overlayMutation))}function lR(n,e){const t=e.path.lastSegment();return[n,To(e.path.popLast()),t]}class Yk{getBundleMetadata(e,t){return uR(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Xp(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return uR(e).put({bundleId:(r=t).id,createTime:Jp(ss(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return cR(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:MI(i.bundledQuery),readTime:Xp(i.readTime)};var i})}saveNamedQuery(e,t){return cR(e).put({name:(r=t).name,readTime:Jp(ss(r.readTime)),bundledQuery:r.bundledQuery});var r}}function uR(n){return os(n,"bundles")}function cR(n){return os(n,"namedQueries")}class RI{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new RI(e,t.uid||"")}getOverlay(e,t){return ib(e).get(lR(this.userId,t)).next(r=>r?xI(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((l,f)=>{const m=new SI(t,f);i.push(this.Xt(e,m))}),Je.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(f=>i.add(To(f.getCollectionPath())));const l=[];return i.forEach(f=>{const m=IDBKeyRange.bound([this.userId,f,r],[this.userId,f,r+1],!1,!0);l.push(ib(e).Qt("collectionPathOverlayIndex",m))}),Je.waitFor(l)}getOverlaysForCollection(e,t,r){const i=K0(),l=To(t),f=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return ib(e).qt("collectionPathOverlayIndex",f).next(m=>{for(const A of m){const M=xI(this.M,A);i.set(M.getKey(),M)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const l=K0();let f;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ib(e).Wt({index:"collectionGroupOverlayIndex",range:m},(A,M,P)=>{const V=xI(this.M,M);l.size()<i||V.largestBatchId===f?(l.set(V.getKey(),V),f=V.largestBatchId):P.done()}).next(()=>l)}Xt(e,t){return ib(e).put(function(r,i,l){const[f,m,A]=lR(i,l.mutation.key);return{userId:i,collectionPath:m,documentId:A,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:tb(r.Jt,l.mutation)}}(this.M,this.userId,t))}}function ib(n){return os(n,"documentOverlays")}class eg{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Br(e.integerValue));else if("doubleValue"in e){const r=Br(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),wv(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(su(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?uI(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):en()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),kt.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function Jk(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function dR(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const l=Jk(255&t[i]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}eg.fe=new eg;class Xk{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=dR(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=dR(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class eO{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class tO{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class sb{constructor(){this.De=new Xk,this.Ce=new eO(this.De),this.xe=new tO(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class tg{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new tg(this.indexId,this.documentKey,this.arrayValue,r)}}function ng(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=fR(n.arrayValue,e.arrayValue),0!==t?t:(t=fR(n.directionalValue,e.directionalValue),0!==t?t:kt.comparator(n.documentKey,e.documentKey)))}function fR(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class nO{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=B0(e);if(void 0!==t&&!this.Be(t))return!1;const r=Wf(e);let i=0,l=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const f=r[i];if(!this.Le(this.Fe,f)||!this.Ue(this.Me[l++],f))return!1;++i}for(;i<r.length;++i){const f=r[i];if(l>=this.Me.length||!this.Ue(this.Me[l++],f))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class rO{constructor(){this.qe=new NI}addToCollectionParentIndex(e,t){return this.qe.add(t),Je.resolve()}getCollectionParents(e,t){return Je.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return Je.resolve()}deleteFieldIndex(e,t){return Je.resolve()}getDocumentsMatchingTarget(e,t){return Je.resolve(null)}getIndexType(e,t){return Je.resolve(0)}getFieldIndexes(e,t){return Je.resolve([])}getNextCollectionGroupToUpdate(e){return Je.resolve(null)}getMinOffset(e,t){return Je.resolve(o.min())}updateCollectionGroup(e,t,r){return Je.resolve()}updateIndexEntries(e,t){return Je.resolve()}}class NI{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new E(ar.comparator),l=!i.has(r);return this.index[t]=i.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new E(ar.comparator)).toArray()}}const rC=new Uint8Array(0);class iO{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new NI,this.Ge=new qf(r=>Y(r),(r,i)=>Ne(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const l={collectionId:r,parent:To(i)};return hR(e).put(l)}return Je.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[qw(t),""],!1,!0);return hR(e).qt(i).next(l=>{for(const f of l){if(f.collectionId!==t)break;r.push(ac(f.parent))}return r})}addFieldIndex(e,t){const r=iC(e),i={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var l;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=iC(e),i=sC(e),l=ob(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=ob(e);let i=!0;const l=new Map;return Je.forEach(this.Qe(t),f=>this.je(e,f).next(m=>{i&&(i=!!m),l.set(f,m)})).next(()=>{if(i){let f=Er();const m=[];return Je.forEach(l,(A,M)=>{var P;Tt("IndexedDbIndexManager",`Using index ${P=A,`id=${P.indexId}|cg=${P.collectionGroup}|f=${P.fields.map(Gt=>`${Gt.fieldPath}:${Gt.kind}`).join(",")}`} to execute ${Y(t)}`);const V=function(Gt,It){const bn=B0(It);if(void 0===bn)return null;for(const mn of Ct(Gt,bn.fieldPath))switch(mn.op){case"array-contains-any":return mn.value.arrayValue.values||[];case"array-contains":return[mn.value]}return null}(M,A),se=function(Gt,It){const bn=new Map;for(const mn of Wf(It))for(const Jn of Ct(Gt,mn.fieldPath))switch(Jn.op){case"==":case"in":bn.set(mn.fieldPath.canonicalString(),Jn.value);break;case"not-in":case"!=":return bn.set(mn.fieldPath.canonicalString(),Jn.value),Array.from(bn.values())}return null}(M,A),pe=function(Gt,It){const bn=[];let mn=!0;for(const Jn of Wf(It)){const Xn=0===Jn.kind?Nt(Gt,Jn.fieldPath,Gt.startAt):Kt(Gt,Jn.fieldPath,Gt.startAt);bn.push(Xn.value),mn&&(mn=Xn.inclusive)}return new pl(bn,mn)}(M,A),ve=function(Gt,It){const bn=[];let mn=!0;for(const Jn of Wf(It)){const Xn=0===Jn.kind?Kt(Gt,Jn.fieldPath,Gt.endAt):Nt(Gt,Jn.fieldPath,Gt.endAt);bn.push(Xn.value),mn&&(mn=Xn.inclusive)}return new pl(bn,mn)}(M,A),je=this.We(A,M,pe),ft=this.We(A,M,ve),Ht=this.ze(A,M,se),Lt=this.He(A.indexId,V,je,pe.inclusive,ft,ve.inclusive,Ht);return Je.forEach(Lt,Gt=>r.Gt(Gt,t.limit).next(It=>{It.forEach(bn=>{const mn=kt.fromSegments(bn.documentKey);f.has(mn)||(f=f.add(mn),m.push(mn))})}))}).next(()=>m)}return Je.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,r,i,l,f,m){const A=(null!=t?t.length:1)*Math.max(r.length,l.length),M=A/(null!=t?t.length:1),P=[];for(let V=0;V<A;++V){const se=t?this.Je(t[V/M]):rC,pe=this.Ye(e,se,r[V%M],i),ve=this.Xe(e,se,l[V%M],f),je=m.map(ft=>this.Ye(e,se,ft,!0));P.push(...this.createRange(pe,ve,je))}return P}Ye(e,t,r,i){const l=new tg(e,kt.empty(),t,r);return i?l:l.ke()}Xe(e,t,r,i){const l=new tg(e,kt.empty(),t,r);return i?l.ke():l}je(e,t){const r=new nO(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(l=>{let f=null;for(const m of l)r.$e(m)&&(!f||m.fields.length>f.fields.length)&&(f=m);return f})}getIndexType(e,t){let r=2;return Je.forEach(this.Qe(t),i=>this.je(e,i).next(l=>{l?0!==r&&l.fields.length<function(f){let m=new E(Kr.comparator),A=!1;for(const M of f.filters){const P=M;P.field.isKeyField()||("array-contains"===P.op||"array-contains-any"===P.op?A=!0:m=m.add(P.field))}for(const M of f.orderBy)M.field.isKeyField()||(m=m.add(M.field));return m.size+(A?1:0)}(i)&&(r=1):r=0})).next(()=>r)}Ze(e,t){const r=new sb;for(const i of Wf(e)){const l=t.data.field(i.fieldPath);if(null==l)return null;const f=r.Ne(i.kind);eg.fe.Zt(l,f)}return r.Se()}Je(e){const t=new sb;return eg.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new sb;return eg.fe.Zt(ic(this.databaseId,t),r.Ne(function(i){const l=Wf(i);return 0===l.length?0:l[l.length-1].kind}(e))),r.Se()}ze(e,t,r){if(null===r)return[];let i=[];i.push(new sb);let l=0;for(const f of Wf(e)){const m=r[l++];for(const A of i)if(this.en(t,f.fieldPath)&&Dv(m))i=this.nn(i,f,m);else{const M=A.Ne(f.kind);eg.fe.Zt(m,M)}}return this.sn(i)}We(e,t,r){return this.ze(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const i=[...e],l=[];for(const f of r.arrayValue.values||[])for(const m of i){const A=new sb;A.seed(m.Se()),eg.fe.Zt(f,A.Ne(t.kind)),l.push(A)}return l}en(e,t){return!!e.filters.find(r=>r instanceof it&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=iC(e),i=sC(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(l=>{const f=[];return Je.forEach(l,m=>i.get([m.indexId,this.uid]).next(A=>{f.push(function(M,P){const V=P?new Sv(P.sequenceNumber,new o(Xp(P.readTime),new kt(ac(P.documentKey)),P.largestBatchId)):Sv.empty(),se=M.fields.map(([pe,ve])=>new U0(Kr.fromServerFormat(pe),ve));return new V0(M.indexId,M.collectionGroup,se,V)}(m,A))})).next(()=>f)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const l=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==l?l:jn(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=iC(e),l=sC(e);return this.rn(e).next(f=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>Je.forEach(m,A=>{return l.put({indexId:A.indexId,uid:this.user.uid||"",sequenceNumber:f,readTime:Jp((se=r).readTime),documentKey:To(se.documentKey.path),largestBatchId:se.largestBatchId});var se})))}updateIndexEntries(e,t){const r=new Map;return Je.forEach(t,(i,l)=>{const f=r.get(i.collectionGroup);return(f?Je.resolve(f):this.getFieldIndexes(e,i.collectionGroup)).next(m=>(r.set(i.collectionGroup,m),Je.forEach(m,A=>this.on(e,i,A).next(M=>{const P=this.un(l,A);return M.isEqual(P)?Je.resolve():this.an(e,l,A,M,P)}))))})}cn(e,t,r,i){return ob(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,i){return ob(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const i=ob(e);let l=new E(ng);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(f,m)=>{l=l.add(new tg(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>l)}un(e,t){let r=new E(ng);const i=this.Ze(t,e);if(null==i)return r;const l=B0(t);if(null!=l){const f=e.data.field(l.fieldPath);if(Dv(f))for(const m of f.arrayValue.values||[])r=r.add(new tg(t.indexId,e.key,this.Je(m),i))}else r=r.add(new tg(t.indexId,e.key,rC,i));return r}an(e,t,r,i,l){Tt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const f=[];return function(m,A,M,P,V){const se=m.getIterator(),pe=A.getIterator();let ve=x(se),je=x(pe);for(;ve||je;){let ft=!1,Ht=!1;if(ve&&je){const Lt=M(ve,je);Lt<0?Ht=!0:Lt>0&&(ft=!0)}else null!=ve?Ht=!0:ft=!0;ft?(P(je),je=x(pe)):Ht?(V(ve),ve=x(se)):(ve=x(se),je=x(pe))}}(i,l,ng,m=>{f.push(this.cn(e,t,r,m))},m=>{f.push(this.hn(e,t,r,m))}),Je.waitFor(f)}rn(e){let t=1;return sC(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,l)=>{l.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((f,m)=>ng(f,m)).filter((f,m,A)=>!m||0!==ng(f,A[m-1]));const i=[];i.push(e);for(const f of r){const m=ng(f,e),A=ng(f,t);if(0===m)i[0]=e.ke();else if(m>0&&A<0)i.push(f),i.push(f.ke());else if(A>0)break}i.push(t);const l=[];for(let f=0;f<i.length;f+=2)l.push(IDBKeyRange.bound([i[f].indexId,this.uid,i[f].arrayValue,i[f].directionalValue,rC,[]],[i[f+1].indexId,this.uid,i[f+1].arrayValue,i[f+1].directionalValue,rC,[]]));return l}getMinOffset(e,t){let r;return Je.forEach(this.Qe(t),i=>this.je(e,i).next(l=>{l?(!r||a(l.indexState.offset,r)<0)&&(r=l.indexState.offset):r=o.min()})).next(()=>r)}}function hR(n){return os(n,"collectionParents")}function ob(n){return os(n,"indexEntries")}function iC(n){return os(n,"indexConfiguration")}function sC(n){return os(n,"indexState")}const pR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Jo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Jo(e,Jo.DEFAULT_COLLECTION_PERCENTILE,Jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function gR(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),l=[],f=IDBKeyRange.only(t.batchId);let m=0;const A=r.Wt({range:f},(P,V,se)=>(m++,se.delete()));l.push(A.next(()=>{Mn(1===m)}));const M=[];for(const P of t.mutations){const V=Jx(e,P.key.path,t.batchId);l.push(i.delete(V)),M.push(P.key)}return Je.waitFor(l).next(()=>M)}function oC(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw en();e=n.noDocument}return JSON.stringify(e).length}Jo.DEFAULT_COLLECTION_PERCENTILE=10,Jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jo.DEFAULT=new Jo(41943040,Jo.DEFAULT_COLLECTION_PERCENTILE,Jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jo.DISABLED=new Jo(-1,0,0);class kI{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.ln={}}static Yt(e,t,r,i){Mn(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new kI(l,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Kf(e).Wt({index:"userMutationsIndex",range:r},(i,l,f)=>{t=!1,f.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const l=Vv(e),f=Kf(e);return f.add({}).next(m=>{Mn("number"==typeof m);const A=new TI(m,t,r,i),M=function(se,pe,ve){const je=ve.baseMutations.map(Ht=>tb(se.Jt,Ht)),ft=ve.mutations.map(Ht=>tb(se.Jt,Ht));return{userId:pe,batchId:ve.batchId,localWriteTimeMs:ve.localWriteTime.toMillis(),baseMutations:je,mutations:ft}}(this.M,this.userId,A),P=[];let V=new E((se,pe)=>jn(se.canonicalString(),pe.canonicalString()));for(const se of i){const pe=Jx(this.userId,se.key.path,m);V=V.add(se.key.path.popLast()),P.push(f.put(M)),P.push(l.put(pe,Rk))}return V.forEach(se=>{P.push(this.indexManager.addToCollectionParentIndex(e,se))}),e.addOnCommittedListener(()=>{this.ln[m]=A.keys()}),Je.waitFor(P).next(()=>A)})}lookupMutationBatch(e,t){return Kf(e).get(t).next(r=>r?(Mn(r.userId===this.userId),Lv(this.M,r)):null)}fn(e,t){return this.ln[t]?Je.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.ln[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Kf(e).Wt({index:"userMutationsIndex",range:i},(f,m,A)=>{m.userId===this.userId&&(Mn(m.batchId>=r),l=Lv(this.M,m)),A.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Kf(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,l,f)=>{r=l.batchId,f.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Kf(e).qt("userMutationsIndex",t).next(r=>r.map(i=>Lv(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=eC(this.userId,t.path),i=IDBKeyRange.lowerBound(r),l=[];return Vv(e).Wt({range:i},(f,m,A)=>{const[M,P,V]=f,se=ac(P);if(M===this.userId&&t.path.isEqual(se))return Kf(e).get(V).next(pe=>{if(!pe)throw en();Mn(pe.userId===this.userId),l.push(Lv(this.M,pe))});A.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new E(jn);const i=[];return t.forEach(l=>{const f=eC(this.userId,l.path),m=IDBKeyRange.lowerBound(f),A=Vv(e).Wt({range:m},(M,P,V)=>{const[se,pe,ve]=M,je=ac(pe);se===this.userId&&l.path.isEqual(je)?r=r.add(ve):V.done()});i.push(A)}),Je.waitFor(i).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,l=eC(this.userId,r),f=IDBKeyRange.lowerBound(l);let m=new E(jn);return Vv(e).Wt({range:f},(A,M,P)=>{const[V,se,pe]=A,ve=ac(se);V===this.userId&&r.isPrefixOf(ve)?ve.length===i&&(m=m.add(pe)):P.done()}).next(()=>this.dn(e,m))}dn(e,t){const r=[],i=[];return t.forEach(l=>{i.push(Kf(e).get(l).next(f=>{if(null===f)throw en();Mn(f.userId===this.userId),r.push(Lv(this.M,f))}))}),Je.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return gR(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),Je.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Je.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Vv(e).Wt({range:r},(l,f,m)=>{if(l[0]===this.userId){const A=ac(l[1]);i.push(A)}else m.done()}).next(()=>{Mn(0===i.length)})})}containsKey(e,t){return mR(e,this.userId,t)}wn(e){return vR(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function mR(n,e,t){const r=eC(e,t.path),i=r[1],l=IDBKeyRange.lowerBound(r);let f=!1;return Vv(n).Wt({range:l,jt:!0},(m,A,M)=>{const[P,V,se]=m;P===e&&V===i&&(f=!0),M.done()}).next(()=>f)}function Kf(n){return os(n,"mutations")}function Vv(n){return os(n,"documentMutations")}function vR(n){return os(n,"mutationQueues")}class rg{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new rg(0)}static yn(){return new rg(-1)}}class sO{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new rg(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>_n.fromTimestamp(new ri(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.In(e,i)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Bv(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(Mn(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let i=0;const l=[];return Bv(e).Wt((f,m)=>{const A=rb(m);A.sequenceNumber<=t&&null===r.get(A.targetId)&&(i++,l.push(this.removeTargetData(e,A)))}).next(()=>Je.waitFor(l)).next(()=>i)}forEachTarget(e,t){return Bv(e).Wt((r,i)=>{const l=rb(i);t(l)})}pn(e){return yR(e).get("targetGlobalKey").next(t=>(Mn(null!==t),t))}In(e,t){return yR(e).put("targetGlobalKey",t)}Tn(e,t){return Bv(e).put(aR(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Y(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Bv(e).Wt({range:i,index:"queryTargetsIndex"},(f,m,A)=>{const M=rb(m);Ne(t,M.target)&&(l=M,A.done())}).next(()=>l)}addMatchingKeys(e,t,r){const i=[],l=Qf(e);return t.forEach(f=>{const m=To(f.path);i.push(l.put({targetId:r,path:m})),i.push(this.referenceDelegate.addReference(e,r,f))}),Je.waitFor(i)}removeMatchingKeys(e,t,r){const i=Qf(e);return Je.forEach(t,l=>{const f=To(l.path);return Je.waitFor([i.delete([r,f]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Qf(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Qf(e);let l=Er();return i.Wt({range:r,jt:!0},(f,m,A)=>{const M=ac(f[1]),P=new kt(M);l=l.add(P)}).next(()=>l)}containsKey(e,t){const r=To(t.path),i=IDBKeyRange.bound([r],[qw(r)],!1,!0);let l=0;return Qf(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([f,m],A,M)=>{0!==f&&(l++,M.done())}).next(()=>l>0)}Et(e,t){return Bv(e).get(t).next(r=>r?rb(r):null)}}function Bv(n){return os(n,"targets")}function yR(n){return os(n,"targetGlobal")}function Qf(n){return os(n,"targetDocuments")}function ig(n){return OI.apply(this,arguments)}function OI(){return OI=(0,rt.Z)(function*(n){if(n.code!==Ke.FAILED_PRECONDITION||n.message!==tR)throw n;Tt("LocalStore","Unexpectedly lost primary lease")}),OI.apply(this,arguments)}function _R([n,e],[t,r]){const i=jn(n,t);return 0===i?jn(e,r):i}class oO{constructor(e){this.An=e,this.buffer=new E(_R),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();_R(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class aO{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;Tt("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,rt.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){Qp(i)?Tt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield ig(i)}yield t.Sn(e)}))}}class lO{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Je.resolve(Do.A);const r=new oO(t);return this.Dn.forEachTarget(e,i=>r.Pn(i.sequenceNumber)).next(()=>this.Dn.xn(e,i=>r.Pn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Tt("LruGarbageCollector","Garbage collection skipped; disabled"),Je.resolve(pR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Tt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pR):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,i,l,f,m,A,M;const P=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(V=>(V>this.params.maximumSequenceNumbersToCollect?(Tt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${V}`),i=this.params.maximumSequenceNumbersToCollect):i=V,f=Date.now(),this.nthSequenceNumber(e,i))).next(V=>(r=V,m=Date.now(),this.removeTargets(e,r,t))).next(V=>(l=V,A=Date.now(),this.removeOrphanedDocuments(e,r))).next(V=>(M=Date.now(),Gp()<=cd.in.DEBUG&&Tt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-P}ms\n\tDetermined least recently used ${i} in `+(m-f)+`ms\n\tRemoved ${l} targets in `+(A-m)+`ms\n\tRemoved ${V} documents in `+(M-A)+`ms\nTotal Duration: ${M-P}ms`),Je.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:V})))}}class uO{constructor(e,t){this.db=e,this.garbageCollector=new lO(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,i)=>t(i))}addReference(e,t,r){return aC(e,r)}removeReference(e,t,r){return aC(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return aC(e,t)}On(e,t){return function(r,i){let l=!1;return vR(r).zt(f=>mR(r,f,i).next(m=>(m&&(l=!0),Je.resolve(!m)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.Mn(e,(f,m)=>{if(m<=t){const A=this.On(e,f).next(M=>{if(!M)return l++,r.getEntry(e,f).next(()=>(r.removeEntry(f,_n.min()),Qf(e).delete([0,To(f.path)])))});i.push(A)}}).next(()=>Je.waitFor(i)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return aC(e,t)}Mn(e,t){const r=Qf(e);let i,l=Do.A;return r.Wt({index:"documentTargetsIndex"},([f,m],{path:A,sequenceNumber:M})=>{0===f?(l!==Do.A&&t(new kt(ac(i)),l),l=M,i=A):l=Do.A}).next(()=>{l!==Do.A&&t(new kt(ac(i)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function aC(n,e){return Qf(n).put((r=n.currentSequenceNumber,{targetId:0,path:To(e.path),sequenceNumber:r}));var r}class bR{constructor(){this.changes=new qf(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ur.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Je.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class cO{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return sg(e).put(r)}removeEntry(e,t,r){return sg(e).delete(function(i,l){const f=i.path.toArray();return[f.slice(0,f.length-2),f[f.length-2],nC(l),f[f.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=Ur.newInvalidDocument(t);return sg(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(ab(t))},(i,l)=>{r=this.$n(t,l)}).next(()=>r)}Bn(e,t){let r={size:0,document:Ur.newInvalidDocument(t)};return sg(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(ab(t))},(i,l)=>{r={document:this.$n(t,l),size:oC(l)}}).next(()=>r)}getEntries(e,t){let r=ml();return this.Ln(e,t,(i,l)=>{const f=this.$n(i,l);r=r.insert(i,f)}).next(()=>r)}Un(e,t){let r=ml(),i=new u(kt.comparator);return this.Ln(e,t,(l,f)=>{const m=this.$n(l,f);r=r.insert(l,m),i=i.insert(l,oC(f))}).next(()=>({documents:r,qn:i}))}Ln(e,t,r){if(t.isEmpty())return Je.resolve();let i=new E(wR);t.forEach(A=>i=i.add(A));const l=IDBKeyRange.bound(ab(i.first()),ab(i.last())),f=i.getIterator();let m=f.getNext();return sg(e).Wt({index:"documentKeyIndex",range:l},(A,M,P)=>{const V=kt.fromSegments([...M.prefixPath,M.collectionGroup,M.documentId]);for(;m&&wR(m,V)<0;)r(m,null),m=f.getNext();m&&m.isEqual(V)&&(r(m,M),m=f.hasNext()?f.getNext():null),m?P.Ut(ab(m)):P.done()}).next(()=>{for(;m;)r(m,null),m=f.hasNext()?f.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),nC(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return sg(e).qt(IDBKeyRange.bound(i,l,!0)).next(f=>{let m=ml();for(const A of f){const M=this.$n(kt.fromSegments(A.prefixPath.concat(A.collectionGroup,A.documentId)),A);m=m.insert(M.key,M)}return m})}getAllFromCollectionGroup(e,t,r,i){let l=ml();const f=ER(t,r),m=ER(t,o.max());return sg(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(f,m,!0)},(A,M,P)=>{const V=this.$n(kt.fromSegments(M.prefixPath.concat(M.collectionGroup,M.documentId)),M);l=l.insert(V.key,V),l.size===i&&P.done()}).next(()=>l)}newChangeBuffer(e){return new dO(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return AR(e).get("remoteDocumentGlobalKey").next(t=>(Mn(!!t),t))}Fn(e,t){return AR(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function Qk(n,e){let t;if(e.document)t=zx(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=kt.fromSegments(e.noDocument.path),i=Xp(e.noDocument.readTime);t=Ur.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return en();{const r=kt.fromSegments(e.unknownDocument.path),i=Xp(e.unknownDocument.version);t=Ur.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new ri(r[0],r[1]);return _n.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(_n.min()))return r}return Ur.newInvalidDocument(e)}}class dO extends bR{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new qf(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new E((l,f)=>jn(l.canonicalString(),f.canonicalString()));return this.changes.forEach((l,f)=>{const m=this.Gn.get(l);if(t.push(this.Kn.removeEntry(e,l,m.readTime)),f.isValidDocument()){const A=oR(this.Kn.M,f);i=i.add(l.path.popLast()),r+=oC(A)-m.size,t.push(this.Kn.addEntry(e,l,A))}else if(r-=m.size,this.trackRemovals){const A=oR(this.Kn.M,f.convertToNoDocument(_n.min()));t.push(this.Kn.addEntry(e,l,A))}}),i.forEach(l=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.Kn.updateMetadata(e,r)),Je.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:i})=>(i.forEach((l,f)=>{this.Gn.set(l,{size:f,readTime:r.get(l).readTime})}),r))}}function AR(n){return os(n,"remoteDocumentGlobal")}function sg(n){return os(n,"remoteDocumentsV14")}function ab(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ER(n,e){const t=e.documentKey.path.toArray();return[n,nC(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function wR(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(i=jn(t[l],r[l]),i)return i;return i=jn(t.length,r.length),i||(i=jn(t[t.length-2],r[r.length-2]),i||jn(t[t.length-1],r[r.length-1]))}class fO{constructor(e){this.M=e}kt(e,t,r,i){const l=new tC("createOrUpgrade",t);var m;r<1&&i>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Yx,{unique:!0}),m.createObjectStore("documentMutations"),CR(e),function(m){m.createObjectStore("remoteDocuments")}(e));let f=Je.resolve();return r<3&&i>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),CR(e)),f=f.next(()=>function(m){const A=m.store("targetGlobal"),M={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_n.min().toTimestamp(),targetCount:0};return A.put("targetGlobalKey",M)}(l))),r<4&&i>=4&&(0!==r&&(f=f.next(()=>function(m,A){return A.store("mutations").qt().next(M=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Yx,{unique:!0});const P=A.store("mutations"),V=M.map(se=>P.put(se));return Je.waitFor(V)})}(e,l))),f=f.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(f=f.next(()=>this.Qn(l))),r<6&&i>=6&&(f=f.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.jn(l)))),r<7&&i>=7&&(f=f.next(()=>this.Wn(l))),r<8&&i>=8&&(f=f.next(()=>this.zn(e,l))),r<9&&i>=9&&(f=f.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(f=f.next(()=>this.Hn(l))),r<11&&i>=11&&(f=f.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(f=f.next(()=>{!function(m){const A=m.createObjectStore("documentOverlays",{keyPath:Gk});A.createIndex("collectionPathOverlayIndex",zk,{unique:!1}),A.createIndex("collectionGroupOverlayIndex",$k,{unique:!1})}(e)})),r<13&&i>=13&&(f=f.next(()=>function(m){const A=m.createObjectStore("remoteDocumentsV14",{keyPath:Nk});A.createIndex("documentKeyIndex",kk),A.createIndex("collectionGroupIndex",Ok)}(e)).next(()=>this.Jn(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(f=f.next(()=>{!function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:Bk}).createIndex("sequenceNumberIndex",Uk,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:Hk}).createIndex("documentKeyIndex",jk,{unique:!1})}(e)})),f}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=oC(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>Je.forEach(i,l=>{const f=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",f).next(m=>Je.forEach(m,A=>{Mn(A.userId===l.userId);const M=Lv(this.M,A);return gR(e,l.userId,M).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const l=[];return r.Wt((f,m)=>{const A=new ar(f),M=[0,To(A)];l.push(t.get(M).next(P=>P?Je.resolve():t.put({targetId:0,path:To(A),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>Je.waitFor(l))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:Vk});const r=t.store("collectionParents"),i=new NI,l=f=>{if(i.add(f)){const m=f.lastSegment(),A=f.popLast();return r.put({collectionId:m,parent:To(A)})}};return t.store("remoteDocuments").Wt({jt:!0},(f,m)=>{const A=new ar(f);return l(A.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([f,m,A],M)=>{const P=ac(m);return l(P.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,i)=>{const l=rb(i),f=aR(this.M,l);return t.put(f)})}Jn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((l,f)=>{const m=t.store("remoteDocumentsV14"),A=(M=f,M.document?new kt(ar.fromString(M.document.name).popFirst(5)):M.noDocument?kt.fromSegments(M.noDocument.path):M.unknownDocument?kt.fromSegments(M.unknownDocument.path):en()).path.toArray();var M;const P={prefixPath:A.slice(0,A.length-2),collectionGroup:A[A.length-2],documentId:A[A.length-1],readTime:f.readTime||[0,0],unknownDocument:f.unknownDocument,noDocument:f.noDocument,document:f.document,hasCommittedMutations:!!f.hasCommittedMutations};i.push(m.put(P))}).next(()=>Je.waitFor(i))}}function CR(n){n.createObjectStore("targetDocuments",{keyPath:Fk}).createIndex("documentTargetsIndex",Lk,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Pk,{unique:!0}),n.createObjectStore("targetGlobal")}const PI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class FI{constructor(e,t,r,i,l,f,m,A,M,P,V=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=l,this.window=f,this.document=m,this.Xn=M,this.Zn=P,this.ts=V,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=se=>Promise.resolve(),!FI.vt())throw new pt(Ke.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new uO(this,i),this.hs=t+"main",this.M=new sR(A),this.ls=new au(this.hs,this.ts,new fO(this.M)),this.fs=new sO(this.referenceDelegate,this.M),this.ds=new cO(this.M),this._s=new Yk,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===P&&wi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new pt(Ke.FAILED_PRECONDITION,PI);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new Do(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,rt.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,rt.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,rt.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>lC(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if(Qp(e))return Tt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Tt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return lb(e).get("owner").next(t=>Je.resolve(this.Ps(t)))}Vs(e){return lC(e).delete(this.clientId)}vs(){var e=this;return(0,rt.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=os(r,"clientMetadata");return i.qt().next(l=>{const f=e.Ds(l,18e5),m=l.filter(A=>-1===f.indexOf(A));return Je.forEach(m,A=>i.delete(A.clientId)).next(()=>m)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?Je.resolve(!0):lb(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new pt(Ke.FAILED_PRECONDITION,PI);return!1}}return!(!this.networkEnabled||!this.inForeground)||lC(e).qt().next(r=>void 0===this.Ds(r,5e3).find(i=>{if(this.clientId!==i.clientId){const f=!this.inForeground&&i.inForeground,m=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||f&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Tt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,rt.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new iR(t,Do.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>lC(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return kI.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new iO(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return RI.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){Tt("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",l=14===(f=this.ts)?qk:13===f?eR:12===f?Wk:11===f?Xx:void en();var f;let m;return this.ls.runTransaction(e,i,l,A=>(m=new iR(A,this.es?this.es.next():Do.A),"readwrite-primary"===t?this.Es(m).next(M=>!!M||this.As(m)).next(M=>{if(!M)throw wi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new pt(Ke.FAILED_PRECONDITION,tR);return r(m)}).next(M=>this.bs(m).next(()=>M)):this.$s(m).next(()=>r(m)))).then(A=>(m.raiseOnCommittedEvent(),A))}$s(e){return lb(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.Ps(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new pt(Ke.FAILED_PRECONDITION,PI)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return lb(e).put("owner",t)}static vt(){return au.vt()}Rs(e){const t=lb(e);return t.get("owner").next(r=>this.Ps(r)?(Tt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Je.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(wi(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Zn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Tt("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return wi("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){wi("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function lb(n){return os(n,"owner")}function lC(n){return os(n,"clientMetadata")}function LI(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class hO{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(i=>{for(const l of r)l.applyToLocalView(i);return i})}qs(e,t){e.forEach((r,i)=>{for(const l of t)l.applyToLocalView(i)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return kt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,t.path):mI(t)?this.Ws(e,t,r):this.zs(e,t,r);var i}js(e,t){return this.Ls(e,new kt(t)).next(r=>{let i=AI();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,t,r){const i=t.collectionGroup;let l=AI();return this.indexManager.getCollectionParents(e,i).next(f=>Je.forEach(f,m=>{const A=(M=t,P=m.child(i),new Ra(P,null,M.explicitOrderBy.slice(),M.filters.slice(),M.limit,M.limitType,M.startAt,M.endAt));var M,P;return this.zs(e,A,r).next(M=>{M.forEach((P,V)=>{l=l.insert(P,V)})})}).next(()=>l))}zs(e,t,r){let i;return this.ds.getAllFromCollection(e,t.path,r).next(l=>(i=l,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(l=>{for(const f of l)for(const m of f.mutations){const A=m.key;let M=i.get(A);null==M&&(M=Ur.newInvalidDocument(A),i=i.insert(A,M)),_I(m,M,f.localWriteTime),M.isFoundDocument()||(i=i.remove(A))}}).next(()=>(i.forEach((l,f)=>{yI(t,f)||(i=i.remove(l))}),i))}}class VI{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=i}static Ys(e,t){let r=Er(),i=Er();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new VI(e,t.fromCache,r,i)}}class DR{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,r,i){return this.ti(e,t).next(l=>l||this.ei(e,t,i,r)).next(l=>l||this.ni(e,t))}ti(e,t){return Je.resolve(null)}ei(e,t,r,i){return function nk(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||i.isEqual(_n.min())?this.ni(e,t):this.Zs.Ks(e,r).next(l=>{const f=this.si(t,l);return this.ii(t,f,r,i)?this.ni(e,t):(Gp()<=cd.in.DEBUG&&Tt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),vI(t)),this.ri(e,f,t,hI(i,-1)))})}si(e,t){let r=new E(yx(e));return t.forEach((i,l)=>{yI(e,l)&&(r=r.add(l))}),r}ii(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}ni(e,t){return Gp()<=cd.in.DEBUG&&Tt("QueryEngine","Using full collection scan to execute query:",vI(t)),this.Zs.Qs(e,t,o.min())}ri(e,t,r,i){return this.Zs.Qs(e,r,i).next(l=>(t.forEach(f=>{l=l.insert(f.key,f)}),l))}}class pO{constructor(e,t,r,i){this.persistence=e,this.oi=t,this.M=i,this.ui=new u(jn),this.ai=new qf(l=>Y(l),Ne),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(r)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new hO(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function TR(n,e,t,r){return new pO(n,e,t,r)}function IR(n,e){return BI.apply(this,arguments)}function BI(){return BI=(0,rt.Z)(function*(n,e){const t=Ut(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.Bs.getAllMutationBatches(r).next(l=>(i=l,t.li(e),t.Bs.getAllMutationBatches(r))).next(l=>{const f=[],m=[];let A=Er();for(const M of i){f.push(M.batchId);for(const P of M.mutations)A=A.add(P.key)}for(const M of l){m.push(M.batchId);for(const P of M.mutations)A=A.add(P.key)}return t.fi.Ks(r,A).next(M=>({di:M,removedBatchIds:f,addedBatchIds:m}))})})}),BI.apply(this,arguments)}function gO(n,e){const t=Ut(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),l=t.hi.newChangeBuffer({trackRemovals:!0});return function(f,m,A,M){const P=A.batch,V=P.keys();let se=Je.resolve();return V.forEach(pe=>{se=se.next(()=>M.getEntry(m,pe)).next(ve=>{const je=A.docVersions.get(pe);Mn(null!==je),ve.version.compareTo(je)<0&&(P.applyToRemoteDocument(ve,A),ve.isValidDocument()&&(ve.setReadTime(A.commitVersion),M.addEntry(ve)))})}),se.next(()=>f.Bs.removeMutationBatch(m,P))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.fi.Ks(r,i))})}function SR(n){const e=Ut(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function mO(n,e){const t=Ut(n),r=e.snapshotVersion;let i=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=t.hi.newChangeBuffer({trackRemovals:!0});i=t.ui;const m=[];e.targetChanges.forEach((M,P)=>{const V=i.get(P);if(!V)return;m.push(t.fs.removeMatchingKeys(l,M.removedDocuments,P).next(()=>t.fs.addMatchingKeys(l,M.addedDocuments,P)));let se=V.withSequenceNumber(l.currentSequenceNumber);var pe,ve,je;e.targetMismatches.has(P)?se=se.withResumeToken(gi.EMPTY_BYTE_STRING,_n.min()).withLastLimboFreeSnapshotVersion(_n.min()):M.resumeToken.approximateByteSize()>0&&(se=se.withResumeToken(M.resumeToken,r)),i=i.insert(P,se),ve=se,je=M,(0===(pe=V).resumeToken.approximateByteSize()||ve.snapshotVersion.toMicroseconds()-pe.snapshotVersion.toMicroseconds()>=3e8||je.addedDocuments.size+je.modifiedDocuments.size+je.removedDocuments.size>0)&&m.push(t.fs.updateTargetData(l,se))});let A=ml();if(e.documentUpdates.forEach(M=>{e.resolvedLimboDocuments.has(M)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,M))}),m.push(MR(l,f,e.documentUpdates).next(M=>{A=M})),!r.isEqual(_n.min())){const M=t.fs.getLastRemoteSnapshotVersion(l).next(P=>t.fs.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(M)}return Je.waitFor(m).next(()=>f.apply(l)).next(()=>t.fi.Gs(l,A)).next(()=>A)}).then(l=>(t.ui=i,l))}function MR(n,e,t){let r=Er();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let l=ml();return t.forEach((f,m)=>{const A=i.get(f);m.isNoDocument()&&m.version.isEqual(_n.min())?(e.removeEntry(f,m.readTime),l=l.insert(f,m)):!A.isValidDocument()||m.version.compareTo(A.version)>0||0===m.version.compareTo(A.version)&&A.hasPendingWrites?(e.addEntry(m),l=l.insert(f,m)):Tt("LocalStore","Ignoring outdated watch update for ",f,". Current version:",A.version," Watch version:",m.version)}),l})}function vO(n,e){const t=Ut(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function Uv(n,e){const t=Ut(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.fs.getTargetData(r,e).next(l=>l?(i=l,Je.resolve(i)):t.fs.allocateTargetId(r).next(f=>(i=new Zf(e,f,0,r.currentSequenceNumber),t.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ui=t.ui.insert(r.targetId,r),t.ai.set(e,r.targetId)),r})}function Hv(n,e,t){return UI.apply(this,arguments)}function UI(){return UI=(0,rt.Z)(function*(n,e,t){const r=Ut(n),i=r.ui.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,f=>r.persistence.referenceDelegate.removeTarget(f,i)))}catch(f){if(!Qp(f))throw f;Tt("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}r.ui=r.ui.remove(e),r.ai.delete(i.target)}),UI.apply(this,arguments)}function uC(n,e,t){const r=Ut(n);let i=_n.min(),l=Er();return r.persistence.runTransaction("Execute query","readonly",f=>function(m,A,M){const P=Ut(m),V=P.ai.get(M);return void 0!==V?Je.resolve(P.ui.get(V)):P.fs.getTargetData(A,M)}(r,f,gl(e)).next(m=>{if(m)return i=m.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(f,m.targetId).next(A=>{l=A})}).next(()=>r.oi.Qs(f,e,t?i:_n.min(),t?l:Er())).next(m=>(NR(r,vx(e),m),{documents:m,_i:l})))}function xR(n,e){const t=Ut(n),r=Ut(t.fs),i=t.ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Et(l,e).next(f=>f?f.target:null))}function RR(n,e){const t=Ut(n),r=t.ci.get(e)||_n.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.hi.getAllFromCollectionGroup(i,e,hI(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(NR(t,e,i),i))}function NR(n,e,t){let r=_n.min();t.forEach((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.ci.set(e,r)}function HI(){return HI=(0,rt.Z)(function*(n,e,t,r){const i=Ut(n);let l=Er(),f=ml();for(const M of t){const P=e.wi(M.metadata.name);M.document&&(l=l.add(P));const V=e.mi(M);V.setReadTime(e.gi(M.metadata.readTime)),f=f.insert(P,V)}const m=i.hi.newChangeBuffer({trackRemovals:!0}),A=yield Uv(i,(M=r,gl(Rv(ar.fromString(`__bundle__/docs/${M}`)))));var M;return i.persistence.runTransaction("Apply bundle documents","readwrite",M=>MR(M,m,f).next(P=>(m.apply(M),P)).next(P=>i.fs.removeMatchingKeysForTargetId(M,A.targetId).next(()=>i.fs.addMatchingKeys(M,l,A.targetId)).next(()=>i.fi.Gs(M,P)).next(()=>P)))}),HI.apply(this,arguments)}function _O(n,e){return jI.apply(this,arguments)}function jI(){return jI=(0,rt.Z)(function*(n,e,t=Er()){const r=yield Uv(n,gl(MI(e.bundledQuery))),i=Ut(n);return i.persistence.runTransaction("Save named query","readwrite",l=>{const f=ss(e.readTime);if(r.snapshotVersion.compareTo(f)>=0)return i._s.saveNamedQuery(l,e);const m=r.withResumeToken(gi.EMPTY_BYTE_STRING,f);return i.ui=i.ui.insert(m.targetId,m),i.fs.updateTargetData(l,m).next(()=>i.fs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>i.fs.addMatchingKeys(l,t,r.targetId)).next(()=>i._s.saveNamedQuery(l,e))})}),jI.apply(this,arguments)}class bO{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return Je.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var r;return this.yi.set(t.id,{id:(r=t).id,version:r.version,createTime:ss(r.createTime)}),Je.resolve()}getNamedQuery(e,t){return Je.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(r=t).name,query:MI(r.bundledQuery),readTime:ss(r.readTime)}),Je.resolve();var r}}class AO{constructor(){this.overlays=new u(kt.comparator),this.Ii=new Map}getOverlay(e,t){return Je.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,l)=>{this.Xt(e,t,l)}),Je.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ii.get(r);return void 0!==i&&(i.forEach(l=>this.overlays=this.overlays.remove(l)),this.Ii.delete(r)),Je.resolve()}getOverlaysForCollection(e,t,r){const i=K0(),l=t.length+1,f=new kt(t.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const A=m.getNext().value,M=A.getKey();if(!t.isPrefixOf(M.path))break;M.path.length===l&&A.largestBatchId>r&&i.set(A.getKey(),A)}return Je.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let l=new u((M,P)=>M-P);const f=this.overlays.getIterator();for(;f.hasNext();){const M=f.getNext().value;if(M.getKey().getCollectionGroup()===t&&M.largestBatchId>r){let P=l.get(M.largestBatchId);null===P&&(P=K0(),l=l.insert(M.largestBatchId,P)),P.set(M.getKey(),M)}}const m=K0(),A=l.getIterator();for(;A.hasNext()&&(A.getNext().value.forEach((M,P)=>m.set(M,P)),!(m.size()>=i)););return Je.resolve(m)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const f=this.Ii.get(i.largestBatchId).delete(r.key);this.Ii.set(i.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new SI(t,r));let l=this.Ii.get(t);void 0===l&&(l=Er(),this.Ii.set(t,l)),this.Ii.set(t,l.add(r.key))}}class GI{constructor(){this.Ti=new E(as.Ei),this.Ai=new E(as.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const r=new as(e,t);this.Ti=this.Ti.add(r),this.Ai=this.Ai.add(r)}bi(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Pi(new as(e,t))}Vi(e,t){e.forEach(r=>this.removeReference(r,t))}vi(e){const t=new kt(new ar([])),r=new as(t,e),i=new as(t,e+1),l=[];return this.Ai.forEachInRange([r,i],f=>{this.Pi(f),l.push(f.key)}),l}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new kt(new ar([])),r=new as(t,e),i=new as(t,e+1);let l=Er();return this.Ai.forEachInRange([r,i],f=>{l=l.add(f.key)}),l}containsKey(e){const t=new as(e,0),r=this.Ti.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class as{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return kt.comparator(e.key,t.key)||jn(e.Ci,t.Ci)}static Ri(e,t){return jn(e.Ci,t.Ci)||kt.comparator(e.key,t.key)}}class EO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new E(as.Ei)}checkEmpty(e){return Je.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,i){const l=this.xi;this.xi++;const f=new TI(l,t,r,i);this.Bs.push(f);for(const m of i)this.Ni=this.Ni.add(new as(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Je.resolve(f)}lookupMutationBatch(e,t){return Je.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Mi(t+1),l=i<0?0:i;return Je.resolve(this.Bs.length>l?this.Bs[l]:null)}getHighestUnacknowledgedBatchId(){return Je.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return Je.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new as(t,0),i=new as(t,Number.POSITIVE_INFINITY),l=[];return this.Ni.forEachInRange([r,i],f=>{const m=this.ki(f.Ci);l.push(m)}),Je.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new E(jn);return t.forEach(i=>{const l=new as(i,0),f=new as(i,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([l,f],m=>{r=r.add(m.Ci)})}),Je.resolve(this.Oi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let l=r;kt.isDocumentKey(l)||(l=l.child(""));const f=new as(new kt(l),0);let m=new E(jn);return this.Ni.forEachWhile(A=>{const M=A.key.path;return!!r.isPrefixOf(M)&&(M.length===i&&(m=m.add(A.Ci)),!0)},f),Je.resolve(this.Oi(m))}Oi(e){const t=[];return e.forEach(r=>{const i=this.ki(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Mn(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let r=this.Ni;return Je.forEach(t.mutations,i=>{const l=new as(i.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Ni=r})}_n(e){}containsKey(e,t){const r=new as(t,0),i=this.Ni.firstAfterOrEqual(r);return Je.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Je.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class wO{constructor(e){this.$i=e,this.docs=new u(kt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),l=i?i.size:0,f=this.$i(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Je.resolve(r?r.document.mutableCopy():Ur.newInvalidDocument(t))}getEntries(e,t){let r=ml();return t.forEach(i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():Ur.newInvalidDocument(i))}),Je.resolve(r)}getAllFromCollection(e,t,r){let i=ml();const l=new kt(t.child("")),f=this.docs.getIteratorFrom(l);for(;f.hasNext();){const{key:m,value:{document:A}}=f.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||a(s(A),r)<=0||(i=i.insert(A.key,A.mutableCopy()))}return Je.resolve(i)}getAllFromCollectionGroup(e,t,r,i){en()}Bi(e,t){return Je.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new CO(this)}getSize(e){return Je.resolve(this.size)}}class CO extends bR{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),Je.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class DO{constructor(e){this.persistence=e,this.Li=new qf(t=>Y(t),Ne),this.lastRemoteSnapshotVersion=_n.min(),this.highestTargetId=0,this.Ui=0,this.qi=new GI,this.targetCount=0,this.Ki=rg.gn()}forEachTarget(e,t){return this.Li.forEach((r,i)=>t(i)),Je.resolve()}getLastRemoteSnapshotVersion(e){return Je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Je.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),Je.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ui&&(this.Ui=t),Je.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new rg(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,Je.resolve()}updateTargetData(e,t){return this.Tn(t),Je.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,Je.resolve()}removeTargets(e,t,r){let i=0;const l=[];return this.Li.forEach((f,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Li.delete(f),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),i++)}),Je.waitFor(l).next(()=>i)}getTargetCount(e){return Je.resolve(this.targetCount)}getTargetData(e,t){const r=this.Li.get(t)||null;return Je.resolve(r)}addMatchingKeys(e,t,r){return this.qi.bi(t,r),Je.resolve()}removeMatchingKeys(e,t,r){this.qi.Vi(t,r);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(f=>{l.push(i.markPotentiallyOrphaned(e,f))}),Je.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),Je.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qi.Di(t);return Je.resolve(r)}containsKey(e,t){return Je.resolve(this.qi.containsKey(t))}}class TO{constructor(e,t){this.Gi={},this.overlays={},this.es=new Do(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new DO(this),this.indexManager=new rO,this.ds=new wO(r=>this.referenceDelegate.Qi(r)),this.M=new sR(t),this._s=new bO(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new AO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Gi[e.toKey()];return r||(r=new EO(t,this.referenceDelegate),this.Gi[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){Tt("MemoryPersistence","Starting transaction:",e);const i=new IO(this.es.next());return this.referenceDelegate.ji(),r(i).next(l=>this.referenceDelegate.Wi(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}zi(e,t){return Je.or(Object.values(this.Gi).map(r=>()=>r.containsKey(e,t)))}}class IO extends nR{constructor(e){super(),this.currentSequenceNumber=e}}class zI{constructor(e){this.persistence=e,this.Hi=new GI,this.Ji=null}static Yi(e){return new zI(e)}get Xi(){if(this.Ji)return this.Ji;throw en()}addReference(e,t,r){return this.Hi.addReference(r,t),this.Xi.delete(r.toString()),Je.resolve()}removeReference(e,t,r){return this.Hi.removeReference(r,t),this.Xi.add(r.toString()),Je.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),Je.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(i=>this.Xi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.Xi.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Je.forEach(this.Xi,r=>{const i=kt.fromPath(r);return this.Zi(e,i).next(l=>{l||t.removeEntry(i,_n.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(r=>{r?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return Je.or([()=>Je.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function kR(n,e){return`firestore_clients_${n}_${e}`}function OR(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function $I(n,e){return`firestore_targets_${n}_${e}`}class cC{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static tr(e,t,r){const i=JSON.parse(r);let l,f="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return f&&i.error&&(f="string"==typeof i.error.message&&"string"==typeof i.error.code,f&&(l=new pt(i.error.code,i.error.message))),f?new cC(e,t,i.state,l):(wi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ub{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static tr(e,t){const r=JSON.parse(t);let i,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(i=new pt(r.error.code,r.error.message))),l?new ub(e,r.state,i):(wi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class dC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,l=Jw();for(let f=0;i&&f<r.activeTargetIds.length;++f)i=lI(r.activeTargetIds[f]),l=l.add(r.activeTargetIds[f]);return i?new dC(e,l):(wi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class WI{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new WI(t.clientId,t.onlineState):(wi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class qI{constructor(){this.activeTargetIds=Jw()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZI{constructor(e,t,r,i,l){this.window=e,this.Yn=t,this.persistenceKey=r,this.ir=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new u(jn),this.started=!1,this.cr=[];const f=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.hr=kR(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new qI),this.dr=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,rt.Z)(function*(){const t=yield e.syncEngine.Fs();for(const i of t){if(i===e.ir)continue;const l=e.getItem(kR(e.persistenceKey,i));if(l){const f=dC.tr(i,l);f&&(e.ar=e.ar.insert(f.clientId,f))}}e.yr();const r=e.storage.getItem(e.mr);if(r){const i=e.pr(r);i&&e.Ir(i)}for(const i of e.cr)e.ur(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,r){this.Er(e,t,r),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem($I(this.persistenceKey,e));if(r){const i=ub.tr(e,r);i&&(t=i.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem($I(this.persistenceKey,e))}updateQueryState(e,t,r){this.br(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Ar(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Tt("SharedClientState","READ",e,t),t}setItem(e,t){Tt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Tt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Tt("SharedClientState","EVENT",r.key,r.newValue),r.key===this.hr)return void wi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,rt.Z)(function*(){if(t.started){if(null!==r.key)if(t.dr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Sr(i,null)}{const i=t.Dr(r.key,r.newValue);if(i)return t.Sr(i.clientId,i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Cr(r.key,r.newValue);if(i)return t.Nr(i)}}else if(t.wr.test(r.key)){if(null!==r.newValue){const i=t.kr(r.key,r.newValue);if(i)return t.Mr(i)}}else if(r.key===t.mr){if(null!==r.newValue){const i=t.pr(r.newValue);if(i)return t.Ir(i)}}else if(r.key===t.lr){const i=function(l){let f=Do.A;if(null!=l)try{const m=JSON.parse(l);Mn("number"==typeof m),f=m}catch(m){wi("SharedClientState","Failed to read sequence number from WebStorage",m)}return f}(r.newValue);i!==Do.A&&t.sequenceNumberHandler(i)}else if(r.key===t.gr){const i=t.Or(r.newValue);yield Promise.all(i.map(l=>t.syncEngine.Fr(l)))}}else t.cr.push(r)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,r){const i=new cC(this.currentUser,e,t,r),l=OR(this.persistenceKey,this.currentUser,e);this.setItem(l,i.er())}Ar(e){const t=OR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,r){const i=$I(this.persistenceKey,e),l=new ub(e,t,r);this.setItem(i,l.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const r=this.vr(e);return dC.tr(r,t)}Cr(e,t){const r=this._r.exec(e),i=Number(r[1]);return cC.tr(new Ki(void 0!==r[2]?r[2]:null),i,t)}kr(e,t){const r=this.wr.exec(e),i=Number(r[1]);return ub.tr(i,t)}pr(e){return WI.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,rt.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);Tt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Tr(this.ar),l=this.Tr(r),f=[],m=[];return l.forEach(A=>{i.has(A)||f.push(A)}),i.forEach(A=>{l.has(A)||m.push(A)}),this.syncEngine.Lr(f,m).then(()=>{this.ar=r})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=Jw();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class PR{constructor(){this.Ur=new qI,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new qI,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class SO{Kr(e){}shutdown(){}}class FR{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){Tt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){Tt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const MO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class xO{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class RO extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,i,l){const f=this.ho(e,t);Tt("RestConnection","Sending: ",f,r);const m={};return this.lo(m,i,l),this.fo(e,f,m,r).then(A=>(Tt("RestConnection","Received: ",A),A),A=>{throw zp("RestConnection",`${e} failed with error: `,A,"url: ",f,"request:",r),A})}_o(e,t,r,i,l){return this.co(e,t,r,i,l)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Hf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),r&&r.headers.forEach((i,l)=>e[l]=i)}ho(e,t){return`${this.uo}/v1/${t}:${MO[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((l,f)=>{const m=new XT;m.listenOnce(YT.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Hp.NO_ERROR:const M=m.getResponseJson();Tt("Connection","XHR received:",JSON.stringify(M)),l(M);break;case Hp.TIMEOUT:Tt("Connection",'RPC "'+e+'" timed out'),f(new pt(Ke.DEADLINE_EXCEEDED,"Request time out"));break;case Hp.HTTP_ERROR:const P=m.getStatus();if(Tt("Connection",'RPC "'+e+'" failed with status:',P,"response text:",m.getResponseText()),P>0){const V=m.getResponseJson().error;if(V&&V.status&&V.message){const se=function(pe){const ve=pe.toLowerCase().replace(/_/g,"-");return Object.values(Ke).indexOf(ve)>=0?ve:Ke.UNKNOWN}(V.status);f(new pt(se,V.message))}else f(new pt(Ke.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new pt(Ke.UNAVAILABLE,"Connection failed."));break;default:en()}}finally{Tt("Connection",'RPC "'+e+'" completed.')}});const A=JSON.stringify(i);m.send(t,"POST",A,r,15)})}wo(e,t,r){const i=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Ma(),f=QT(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new Uw({})),this.lo(m.initMessageHeaders,t,r),(0,Zn.uI)()||(0,Zn.b$)()||(0,Zn.d)()||(0,Zn.w1)()||(0,Zn.Mn)()||(0,Zn.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const A=i.join("");Tt("Connection","Creating WebChannel: "+A,m);const M=l.createWebChannel(A,m);let P=!1,V=!1;const se=new xO({Jr:ve=>{V?Tt("Connection","Not sending because WebChannel is closed:",ve):(P||(Tt("Connection","Opening WebChannel transport."),M.open(),P=!0),Tt("Connection","WebChannel sending:",ve),M.send(ve))},Yr:()=>M.close()}),pe=(ve,je,ft)=>{ve.listen(je,Ht=>{try{ft(Ht)}catch(Lt){setTimeout(()=>{throw Lt},0)}})};return pe(M,jp.EventType.OPEN,()=>{V||Tt("Connection","WebChannel transport opened.")}),pe(M,jp.EventType.CLOSE,()=>{V||(V=!0,Tt("Connection","WebChannel transport closed"),se.ro())}),pe(M,jp.EventType.ERROR,ve=>{V||(V=!0,zp("Connection","WebChannel transport errored:",ve),se.ro(new pt(Ke.UNAVAILABLE,"The operation could not be completed")))}),pe(M,jp.EventType.MESSAGE,ve=>{var je;if(!V){const ft=ve.data[0];Mn(!!ft);const Ht=ft,Lt=Ht.error||(null===(je=Ht[0])||void 0===je?void 0:je.error);if(Lt){Tt("Connection","WebChannel received error:",Lt);const Gt=Lt.status;let It=function(mn){const Jn=Ri[mn];if(void 0!==Jn)return kx(Jn)}(Gt),bn=Lt.message;void 0===It&&(It=Ke.INTERNAL,bn="Unknown error status: "+Gt+" with message "+Lt.message),V=!0,se.ro(new pt(It,bn)),M.close()}else Tt("Connection","WebChannel received:",ft),se.oo(ft)}}),pe(f,JT.STAT_EVENT,ve=>{ve.stat===vv.PROXY?Tt("Connection","Detected buffering proxy"):ve.stat===vv.NOPROXY&&Tt("Connection","Detected no buffering proxy")}),setTimeout(()=>{se.io()},0),se}}function LR(){return"undefined"!=typeof window?window:null}function fC(){return"undefined"!=typeof document?document:null}function cb(n){return new _k(n,!0)}class KI{constructor(e,t,r=1e3,i=1.5,l=6e4){this.Yn=e,this.timerId=t,this.mo=r,this.yo=i,this.po=l,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Tt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class VR{constructor(e,t,r,i,l,f,m,A){this.Yn=e,this.Vo=r,this.vo=i,this.So=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=A,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new KI(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,rt.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,rt.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,rt.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===Ke.RESOURCE_EXHAUSTED?(wi(t.toString()),wi("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===Ke.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===t&&this.Qo(r,i)},r=>{e(()=>{const i=new pt(Ke.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.No.Ro((0,rt.Z)(function*(){e.state=0,e.start()}))}jo(e){return Tt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(Tt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class NO extends VR{constructor(e,t,r,i,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,f),this.M=l}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function Ek(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(A=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===A?1:"REMOVE"===A?2:"CURRENT"===A?3:"RESET"===A?4:en(),i=e.targetChange.targetIds||[],l=function(A,M){return A.N?(Mn(void 0===M||"string"==typeof M),gi.fromBase64String(M||"")):(Mn(void 0===M||M instanceof Uint8Array),gi.fromUint8Array(M||new Uint8Array))}(n,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(A){const M=void 0===A.code?Ke.UNKNOWN:kx(A.code);return new pt(M,A.message||"")}(f);t=new Px(r,i,l,m||null)}else if("documentChange"in e){const r=e.documentChange,i=oc(n,r.document.name),l=ss(r.document.updateTime),f=new xs({mapValue:{fields:r.document.fields}}),m=Ur.newFoundDocument(i,l,f);t=new Xw(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,i=oc(n,r.document),l=r.readTime?ss(r.readTime):_n.min(),f=Ur.newNoDocument(i,l);t=new Xw([],r.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const r=e.documentRemove,i=oc(n,r.document);t=new Xw([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return en();{const r=e.filter,l=new ck(r.count||0);t=new Ox(r.targetId,l)}}var A;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return _n.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?_n.min():l.readTime?ss(l.readTime):_n.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=eb(this.M),t.addTarget=function(i,l){let f;const m=l.target;return f=nt(m)?{documents:$x(i,m)}:{query:Wx(i,m)},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?f.resumeToken=Bx(i,l.resumeToken):l.snapshotVersion.compareTo(_n.min())>0&&(f.readTime=J0(i,l.snapshotVersion.toTimestamp())),f}(this.M,e);const r=function Ck(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return en()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=eb(this.M),t.removeTarget=e,this.Lo(t)}}class kO extends VR{constructor(e,t,r,i,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,f),this.M=l,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(Mn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function wk(n,e){return n&&n.length>0?(Mn(void 0!==e),n.map(t=>function(r,i){let l=ss(r.updateTime?r.updateTime:i);return l.isEqual(_n.min())&&(l=ss(i)),new ak(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ss(e.commitTime);return this.listener.tu(r,t)}return Mn(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=eb(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>tb(this.M,r))};this.Lo(t)}}class OO extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.M=i,this.su=!1}iu(){if(this.su)throw new pt(Ke.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.So.co(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new pt(Ke.UNKNOWN,i.toString())})}_o(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.So._o(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new pt(Ke.UNKNOWN,i.toString())})}terminate(){this.su=!0}}class PO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(wi(t),this.uu=!1):Tt("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class FO{constructor(e,t,r,i,l){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=l,this.gu.Kr(m=>{r.enqueueAndForget((0,rt.Z)(function*(){var A;Yf(f)&&(Tt("RemoteStore","Restarting streams for network reachability change."),yield(A=(0,rt.Z)(function*(M){const P=Ut(M);P.wu.add(4),yield jv(P),P.yu.set("Unknown"),P.wu.delete(4),yield db(P)}),function(M){return A.apply(this,arguments)})(f))}))}),this.yu=new PO(r,i)}}function db(n){return QI.apply(this,arguments)}function QI(){return QI=(0,rt.Z)(function*(n){if(Yf(n))for(const e of n.mu)yield e(!0)}),QI.apply(this,arguments)}function jv(n){return YI.apply(this,arguments)}function YI(){return YI=(0,rt.Z)(function*(n){for(const e of n.mu)yield e(!1)}),YI.apply(this,arguments)}function hC(n,e){const t=Ut(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),eS(t)?XI(t):zv(t).Mo()&&JI(t,e))}function fb(n,e){const t=Ut(n),r=zv(t);t._u.delete(e),r.Mo()&&BR(t,e),0===t._u.size&&(r.Mo()?r.$o():Yf(t)&&t.yu.set("Unknown"))}function JI(n,e){n.pu.Z(e.targetId),zv(n).Ho(e)}function BR(n,e){n.pu.Z(e),zv(n).Jo(e)}function XI(n){n.pu=new mk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n._u.get(e)||null}),zv(n).start(),n.yu.au()}function eS(n){return Yf(n)&&!zv(n).ko()&&n._u.size>0}function Yf(n){return 0===Ut(n).wu.size}function UR(n){n.pu=void 0}function LO(n){return tS.apply(this,arguments)}function tS(){return tS=(0,rt.Z)(function*(n){n._u.forEach((e,t)=>{JI(n,e)})}),tS.apply(this,arguments)}function VO(n,e){return nS.apply(this,arguments)}function nS(){return nS=(0,rt.Z)(function*(n,e){UR(n),eS(n)?(n.yu.lu(e),XI(n)):n.yu.set("Unknown")}),nS.apply(this,arguments)}function BO(n,e,t){return rS.apply(this,arguments)}function rS(){return rS=(0,rt.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof Px&&2===e.state&&e.cause)try{yield(r=(0,rt.Z)(function*(i,l){const f=l.cause;for(const m of l.targetIds)i._u.has(m)&&(yield i.remoteSyncer.rejectListen(m,f),i._u.delete(m),i.pu.removeTarget(m))}),function(i,l){return r.apply(this,arguments)})(n,e)}catch(r){Tt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield pC(n,r)}else if(e instanceof Xw?n.pu.ut(e):e instanceof Ox?n.pu._t(e):n.pu.ht(e),!t.isEqual(_n.min()))try{const r=yield SR(n.localStore);t.compareTo(r)>=0&&(yield function(i,l){const f=i.pu.yt(l);return f.targetChanges.forEach((m,A)=>{if(m.resumeToken.approximateByteSize()>0){const M=i._u.get(A);M&&i._u.set(A,M.withResumeToken(m.resumeToken,l))}}),f.targetMismatches.forEach(m=>{const A=i._u.get(m);if(!A)return;i._u.set(m,A.withResumeToken(gi.EMPTY_BYTE_STRING,A.snapshotVersion)),BR(i,m);const M=new Zf(A.target,m,1,A.sequenceNumber);JI(i,M)}),i.remoteSyncer.applyRemoteEvent(f)}(n,t))}catch(r){Tt("RemoteStore","Failed to raise snapshot:",r),yield pC(n,r)}var r}),rS.apply(this,arguments)}function pC(n,e,t){return iS.apply(this,arguments)}function iS(){return iS=(0,rt.Z)(function*(n,e,t){if(!Qp(e))throw e;n.wu.add(1),yield jv(n),n.yu.set("Offline"),t||(t=()=>SR(n.localStore)),n.asyncQueue.enqueueRetryable((0,rt.Z)(function*(){Tt("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield db(n)}))}),iS.apply(this,arguments)}function HR(n,e){return e().catch(t=>pC(n,t,e))}function Gv(n){return sS.apply(this,arguments)}function sS(){return sS=(0,rt.Z)(function*(n){const e=Ut(n),t=Jf(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;UO(e);)try{const i=yield vO(e.localStore,r);if(null===i){0===e.du.length&&t.$o();break}r=i.batchId,HO(e,i)}catch(i){yield pC(e,i)}jR(e)&&GR(e)}),sS.apply(this,arguments)}function UO(n){return Yf(n)&&n.du.length<10}function HO(n,e){n.du.push(e);const t=Jf(n);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function jR(n){return Yf(n)&&!Jf(n).ko()&&n.du.length>0}function GR(n){Jf(n).start()}function jO(n){return oS.apply(this,arguments)}function oS(){return oS=(0,rt.Z)(function*(n){Jf(n).nu()}),oS.apply(this,arguments)}function GO(n){return aS.apply(this,arguments)}function aS(){return aS=(0,rt.Z)(function*(n){const e=Jf(n);for(const t of n.du)e.Zo(t.mutations)}),aS.apply(this,arguments)}function zO(n,e,t){return lS.apply(this,arguments)}function lS(){return lS=(0,rt.Z)(function*(n,e,t){const r=n.du.shift(),i=II.from(r,e,t);yield HR(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Gv(n)}),lS.apply(this,arguments)}function $O(n,e){return uS.apply(this,arguments)}function uS(){return uS=(0,rt.Z)(function*(n,e){var t;e&&Jf(n).Xo&&(yield(t=(0,rt.Z)(function*(r,i){if(Nx(l=i.code)&&l!==Ke.ABORTED){const f=r.du.shift();Jf(r).Fo(),yield HR(r,()=>r.remoteSyncer.rejectFailedWrite(f.batchId,i)),yield Gv(r)}var l}),function(r,i){return t.apply(this,arguments)})(n,e)),jR(n)&&GR(n)}),uS.apply(this,arguments)}function zR(n,e){return cS.apply(this,arguments)}function cS(){return cS=(0,rt.Z)(function*(n,e){const t=Ut(n);t.asyncQueue.verifyOperationInProgress(),Tt("RemoteStore","RemoteStore received new credentials");const r=Yf(t);t.wu.add(3),yield jv(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield db(t)}),cS.apply(this,arguments)}function dS(n,e){return fS.apply(this,arguments)}function fS(){return fS=(0,rt.Z)(function*(n,e){const t=Ut(n);e?(t.wu.delete(2),yield db(t)):e||(t.wu.add(2),yield jv(t),t.yu.set("Unknown"))}),fS.apply(this,arguments)}function zv(n){return n.Iu||(n.Iu=function(e,t,r){const i=Ut(e);return i.iu(),new NO(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:LO.bind(null,n),eo:VO.bind(null,n),zo:BO.bind(null,n)}),n.mu.push(function(){var e=(0,rt.Z)(function*(t){t?(n.Iu.Fo(),eS(n)?XI(n):n.yu.set("Unknown")):(yield n.Iu.stop(),UR(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function Jf(n){return n.Tu||(n.Tu=function(e,t,r){const i=Ut(e);return i.iu(),new kO(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:jO.bind(null,n),eo:$O.bind(null,n),eu:GO.bind(null,n),tu:zO.bind(null,n)}),n.mu.push(function(){var e=(0,rt.Z)(function*(t){t?(n.Tu.Fo(),yield Gv(n)):(yield n.Tu.stop(),n.du.length>0&&(Tt("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class hS{constructor(e,t,r,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new Mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,r,i,l){const f=Date.now()+r,m=new hS(e,t,f,i,l);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new pt(Ke.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $v(n,e){if(wi("AsyncQueue",`${e}: ${n}`),Qp(n))return new pt(Ke.UNAVAILABLE,`${e}: ${n}`);throw n}class Wv{constructor(e){this.comparator=e?(t,r)=>e(t,r)||kt.comparator(t.key,r.key):(t,r)=>kt.comparator(t.key,r.key),this.keyedMap=AI(),this.sortedSet=new u(this.comparator)}static emptySet(e){return new Wv(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Wv)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Wv;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class $R{constructor(){this.Eu=new u(kt.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):en():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class qv{constructor(e,t,r,i,l,f,m,A){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=A}static fromInitialDocuments(e,t,r,i){const l=[];return t.forEach(f=>{l.push({type:0,doc:f})}),new qv(e,t,Wv.emptySet(t),l,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class WO{constructor(){this.Ru=void 0,this.listeners=[]}}class qO{constructor(){this.queries=new qf(e=>mx(e),$0),this.onlineState="Unknown",this.bu=new Set}}function pS(n,e){return gS.apply(this,arguments)}function gS(){return gS=(0,rt.Z)(function*(n,e){const t=Ut(n),r=e.query;let i=!1,l=t.queries.get(r);if(l||(i=!0,l=new WO),i)try{l.Ru=yield t.onListen(r)}catch(f){const m=$v(f,`Initialization of query '${vI(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,l),l.listeners.push(e),e.Pu(t.onlineState),l.Ru&&e.Vu(l.Ru)&&yS(t)}),gS.apply(this,arguments)}function mS(n,e){return vS.apply(this,arguments)}function vS(){return vS=(0,rt.Z)(function*(n,e){const t=Ut(n),r=e.query;let i=!1;const l=t.queries.get(r);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),i=0===l.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),vS.apply(this,arguments)}function ZO(n,e){const t=Ut(n);let r=!1;for(const i of e){const f=t.queries.get(i.query);if(f){for(const m of f.listeners)m.Vu(i)&&(r=!0);f.Ru=i}}r&&yS(t)}function KO(n,e,t){const r=Ut(n),i=r.queries.get(e);if(i)for(const l of i.listeners)l.onError(t);r.queries.delete(e)}function yS(n){n.bu.forEach(e=>{e.next()})}class _S{constructor(e,t,r){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new qv(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=qv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class QO{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class WR{constructor(e){this.M=e}wi(e){return oc(this.M,e)}mi(e){return e.metadata.exists?zx(this.M,e.document,!1):Ur.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return ss(e)}}class YO{constructor(e,t,r){this.Ou=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=qR(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=ar.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new WR(this.M);for(const i of e)if(i.metadata.queries){const l=r.wi(i.metadata.name);for(const f of i.metadata.queries){const m=(t.get(f)||Er()).add(l);t.set(f,m)}}return t}complete(){var e=this;return(0,rt.Z)(function*(){const t=yield function yO(n,e,t,r){return HI.apply(this,arguments)}(e.localStore,new WR(e.M),e.documents,e.Ou.id),r=e.$u(e.documents);for(const i of e.queries)yield _O(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function qR(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class ZR{constructor(e){this.key=e}}class KR{constructor(e){this.key=e}}class QR{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=Er(),this.mutatedKeys=Er(),this.Gu=yx(e),this.Qu=new Wv(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new $R,i=t?t.Qu:this.Qu;let l=t?t.mutatedKeys:this.mutatedKeys,f=i,m=!1;const A="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,M="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((P,V)=>{const se=i.get(P),pe=yI(this.query,V)?V:null,ve=!!se&&this.mutatedKeys.has(se.key),je=!!pe&&(pe.hasLocalMutations||this.mutatedKeys.has(pe.key)&&pe.hasCommittedMutations);let ft=!1;se&&pe?se.data.isEqual(pe.data)?ve!==je&&(r.track({type:3,doc:pe}),ft=!0):this.Hu(se,pe)||(r.track({type:2,doc:pe}),ft=!0,(A&&this.Gu(pe,A)>0||M&&this.Gu(pe,M)<0)&&(m=!0)):!se&&pe?(r.track({type:0,doc:pe}),ft=!0):se&&!pe&&(r.track({type:1,doc:se}),ft=!0,(A||M)&&(m=!0)),ft&&(pe?(f=f.add(pe),l=je?l.add(P):l.delete(P)):(f=f.delete(P),l=l.delete(P)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const P="F"===this.query.limitType?f.last():f.first();f=f.delete(P.key),l=l.delete(P.key),r.track({type:1,doc:P})}return{Qu:f,zu:r,ii:m,mutatedKeys:l}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const l=e.zu.Au();l.sort((M,P)=>function(V,se){const pe=ve=>{switch(ve){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return en()}};return pe(V)-pe(se)}(M.type,P.type)||this.Gu(M.doc,P.doc)),this.Ju(r);const f=t?this.Yu():[],m=0===this.Ku.size&&this.current?1:0,A=m!==this.qu;return this.qu=m,0!==l.length||A?{snapshot:new qv(this.query,e.Qu,i,l,e.mutatedKeys,0===m,A,!1),Xu:f}:{Xu:f}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new $R,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Er(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new KR(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new ZR(r))}),t}ta(e){this.Uu=e._i,this.Ku=Er();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return qv.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class JO{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class XO{constructor(e){this.key=e,this.na=!1}}class eP{constructor(e,t,r,i,l,f){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.sa={},this.ia=new qf(m=>mx(m),$0),this.ra=new Map,this.oa=new Set,this.ua=new u(kt.comparator),this.aa=new Map,this.ca=new GI,this.ha={},this.la=new Map,this.fa=rg.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function tP(n,e){return bS.apply(this,arguments)}function bS(){return bS=(0,rt.Z)(function*(n,e){const t=GS(n);let r,i;const l=t.ia.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),i=l.view.ea();else{const f=yield Uv(t.localStore,gl(e));t.isPrimaryClient&&hC(t.remoteStore,f);const m=t.sharedClientState.addLocalQueryTarget(f.targetId);r=f.targetId,i=yield AS(t,e,r,"current"===m)}return i}),bS.apply(this,arguments)}function AS(n,e,t,r){return ES.apply(this,arguments)}function ES(){return ES=(0,rt.Z)(function*(n,e,t,r){n._a=(P,V,se)=>{return(pe=(0,rt.Z)(function*(ve,je,ft,Ht){let Lt=je.view.Wu(ft);Lt.ii&&(Lt=yield uC(ve.localStore,je.query,!1).then(({documents:bn})=>je.view.Wu(bn,Lt)));const Gt=Ht&&Ht.targetChanges.get(je.targetId),It=je.view.applyChanges(Lt,ve.isPrimaryClient,Gt);return NS(ve,je.targetId,It.Xu),It.snapshot}),function(ve,je,ft,Ht){return pe.apply(this,arguments)})(n,P,V,se);var pe};const i=yield uC(n.localStore,e,!0),l=new QR(e,i._i),f=l.Wu(i.documents),m=Y0.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),A=l.applyChanges(f,n.isPrimaryClient,m);NS(n,t,A.Xu);const M=new JO(e,t,l);return n.ia.set(e,M),n.ra.has(t)?n.ra.get(t).push(e):n.ra.set(t,[e]),A.snapshot}),ES.apply(this,arguments)}function nP(n,e){return wS.apply(this,arguments)}function wS(){return wS=(0,rt.Z)(function*(n,e){const t=Ut(n),r=t.ia.get(e),i=t.ra.get(r.targetId);if(i.length>1)return t.ra.set(r.targetId,i.filter(l=>!$0(l,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Hv(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),fb(t.remoteStore,r.targetId),Zv(t,r.targetId)}).catch(ig))):(Zv(t,r.targetId),yield Hv(t.localStore,r.targetId,!0))}),wS.apply(this,arguments)}function CS(){return CS=(0,rt.Z)(function*(n,e,t){const r=zS(n);try{const i=yield function(l,f){const m=Ut(l),A=ri.now(),M=f.reduce((V,se)=>V.add(se.key),Er());let P;return m.persistence.runTransaction("Locally write mutations","readwrite",V=>m.fi.Ks(V,M).next(se=>{P=se;const pe=[];for(const ve of f){const je=uk(ve,P.get(ve.key));null!=je&&pe.push(new Kp(ve.key,je,fI(je.value.mapValue),xi.exists(!0)))}return m.Bs.addMutationBatch(V,A,pe,f)})).then(V=>(V.applyToLocalDocumentSet(P),{batchId:V.batchId,changes:P}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,f,m){let A=l.ha[l.currentUser.toKey()];A||(A=new u(jn)),A=A.insert(f,m),l.ha[l.currentUser.toKey()]=A}(r,i.batchId,t),yield wd(r,i.changes),yield Gv(r.remoteStore)}catch(i){const l=$v(i,"Failed to persist write");t.reject(l)}}),CS.apply(this,arguments)}function YR(n,e){return DS.apply(this,arguments)}function DS(){return DS=(0,rt.Z)(function*(n,e){const t=Ut(n);try{const r=yield mO(t.localStore,e);e.targetChanges.forEach((i,l)=>{const f=t.aa.get(l);f&&(Mn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?f.na=!0:i.modifiedDocuments.size>0?Mn(f.na):i.removedDocuments.size>0&&(Mn(f.na),f.na=!1))}),yield wd(t,r,e)}catch(r){yield ig(r)}}),DS.apply(this,arguments)}function JR(n,e,t){const r=Ut(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ia.forEach((l,f)=>{const m=f.view.Pu(e);m.snapshot&&i.push(m.snapshot)}),function(l,f){const m=Ut(l);m.onlineState=f;let A=!1;m.queries.forEach((M,P)=>{for(const V of P.listeners)V.Pu(f)&&(A=!0)}),A&&yS(m)}(r.eventManager,e),i.length&&r.sa.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function iP(n,e,t){return TS.apply(this,arguments)}function TS(){return TS=(0,rt.Z)(function*(n,e,t){const r=Ut(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.aa.get(e),l=i&&i.key;if(l){let f=new u(kt.comparator);f=f.insert(l,Ur.newNoDocument(l,_n.min()));const m=Er().add(l),A=new Q0(_n.min(),new Map,new E(jn),f,m);yield YR(r,A),r.ua=r.ua.remove(l),r.aa.delete(e),kS(r)}else yield Hv(r.localStore,e,!1).then(()=>Zv(r,e,t)).catch(ig)}),TS.apply(this,arguments)}function sP(n,e){return IS.apply(this,arguments)}function IS(){return IS=(0,rt.Z)(function*(n,e){const t=Ut(n),r=e.batch.batchId;try{const i=yield gO(t.localStore,e);RS(t,r,null),xS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield wd(t,i)}catch(i){yield ig(i)}}),IS.apply(this,arguments)}function oP(n,e,t){return SS.apply(this,arguments)}function SS(){return SS=(0,rt.Z)(function*(n,e,t){const r=Ut(n);try{const i=yield function(l,f){const m=Ut(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",A=>{let M;return m.Bs.lookupMutationBatch(A,f).next(P=>(Mn(null!==P),M=P.keys(),m.Bs.removeMutationBatch(A,P))).next(()=>m.Bs.performConsistencyCheck(A)).next(()=>m.fi.Ks(A,M))})}(r.localStore,e);RS(r,e,t),xS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield wd(r,i)}catch(i){yield ig(i)}}),SS.apply(this,arguments)}function MS(){return MS=(0,rt.Z)(function*(n,e){const t=Ut(n);Yf(t.remoteStore)||Tt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const f=Ut(l);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>f.Bs.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const i=t.la.get(r)||[];i.push(e),t.la.set(r,i)}catch(r){const i=$v(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),MS.apply(this,arguments)}function xS(n,e){(n.la.get(e)||[]).forEach(t=>{t.resolve()}),n.la.delete(e)}function RS(n,e,t){const r=Ut(n);let i=r.ha[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),r.ha[r.currentUser.toKey()]=i}}function Zv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ra.get(e))n.ia.delete(r),t&&n.sa.wa(r,t);n.ra.delete(e),n.isPrimaryClient&&n.ca.vi(e).forEach(r=>{n.ca.containsKey(r)||XR(n,r)})}function XR(n,e){n.oa.delete(e.path.canonicalString());const t=n.ua.get(e);null!==t&&(fb(n.remoteStore,t),n.ua=n.ua.remove(e),n.aa.delete(t),kS(n))}function NS(n,e,t){for(const r of t)r instanceof ZR?(n.ca.addReference(r.key,e),lP(n,r)):r instanceof KR?(Tt("SyncEngine","Document no longer in limbo: "+r.key),n.ca.removeReference(r.key,e),n.ca.containsKey(r.key)||XR(n,r.key)):en()}function lP(n,e){const t=e.key,r=t.path.canonicalString();n.ua.get(t)||n.oa.has(r)||(Tt("SyncEngine","New document in limbo: "+t),n.oa.add(r),kS(n))}function kS(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const e=n.oa.values().next().value;n.oa.delete(e);const t=new kt(ar.fromString(e)),r=n.fa.next();n.aa.set(r,new XO(t)),n.ua=n.ua.insert(t,r),hC(n.remoteStore,new Zf(gl(Rv(t.path)),r,2,Do.A))}}function wd(n,e,t){return OS.apply(this,arguments)}function OS(){return OS=(0,rt.Z)(function*(n,e,t){const r=Ut(n),i=[],l=[],f=[];var m;r.ia.isEmpty()||(r.ia.forEach((m,A)=>{f.push(r._a(A,e,t).then(M=>{if(M){r.isPrimaryClient&&r.sharedClientState.updateQueryState(A.targetId,M.fromCache?"not-current":"current"),i.push(M);const P=VI.Ys(A.targetId,M);l.push(P)}}))}),yield Promise.all(f),r.sa.zo(i),yield(m=(0,rt.Z)(function*(A,M){const P=Ut(A);try{yield P.persistence.runTransaction("notifyLocalViewChanges","readwrite",V=>Je.forEach(M,se=>Je.forEach(se.Hs,pe=>P.persistence.referenceDelegate.addReference(V,se.targetId,pe)).next(()=>Je.forEach(se.Js,pe=>P.persistence.referenceDelegate.removeReference(V,se.targetId,pe)))))}catch(V){if(!Qp(V))throw V;Tt("LocalStore","Failed to update sequence numbers: "+V)}for(const V of M){const se=V.targetId;if(!V.fromCache){const pe=P.ui.get(se),je=pe.withLastLimboFreeSnapshotVersion(pe.snapshotVersion);P.ui=P.ui.insert(se,je)}}}),function(A,M){return m.apply(this,arguments)})(r.localStore,l))}),OS.apply(this,arguments)}function uP(n,e){return PS.apply(this,arguments)}function PS(){return PS=(0,rt.Z)(function*(n,e){const t=Ut(n);if(!t.currentUser.isEqual(e)){Tt("SyncEngine","User change. New user:",e.toKey());const r=yield IR(t.localStore,e);t.currentUser=e,(i=t).la.forEach(f=>{f.forEach(m=>{m.reject(new pt(Ke.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.la.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield wd(t,r.di)}var i}),PS.apply(this,arguments)}function cP(n,e){const t=Ut(n),r=t.aa.get(e);if(r&&r.na)return Er().add(r.key);{let i=Er();const l=t.ra.get(e);if(!l)return i;for(const f of l){const m=t.ia.get(f);i=i.unionWith(m.view.ju)}return i}}function dP(n,e){return FS.apply(this,arguments)}function FS(){return FS=(0,rt.Z)(function*(n,e){const t=Ut(n),r=yield uC(t.localStore,e.query,!0),i=e.view.ta(r);return t.isPrimaryClient&&NS(t,e.targetId,i.Xu),i}),FS.apply(this,arguments)}function fP(n,e){return LS.apply(this,arguments)}function LS(){return LS=(0,rt.Z)(function*(n,e){const t=Ut(n);return RR(t.localStore,e).then(r=>wd(t,r))}),LS.apply(this,arguments)}function hP(n,e,t,r){return VS.apply(this,arguments)}function VS(){return VS=(0,rt.Z)(function*(n,e,t,r){const i=Ut(n),l=yield function(f,m){const A=Ut(f),M=Ut(A.Bs);return A.persistence.runTransaction("Lookup mutation documents","readonly",P=>M.fn(P,m).next(V=>V?A.fi.Ks(P,V):Je.resolve(null)))}(i.localStore,e);var m;null!==l?("pending"===t?yield Gv(i.remoteStore):"acknowledged"===t||"rejected"===t?(RS(i,e,r||null),xS(i,e),m=e,Ut(Ut(i.localStore).Bs)._n(m)):en(),yield wd(i,l)):Tt("SyncEngine","Cannot apply mutation batch with id: "+e)}),VS.apply(this,arguments)}function BS(){return BS=(0,rt.Z)(function*(n,e){const t=Ut(n);if(GS(t),zS(t),!0===e&&!0!==t.da){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield e1(t,r.toArray());t.da=!0,yield dS(t.remoteStore,!0);for(const l of i)hC(t.remoteStore,l)}else if(!1===e&&!1!==t.da){const r=[];let i=Promise.resolve();t.ra.forEach((l,f)=>{t.sharedClientState.isLocalQueryTarget(f)?r.push(f):i=i.then(()=>(Zv(t,f),Hv(t.localStore,f,!0))),fb(t.remoteStore,f)}),yield i,yield e1(t,r),function(l){const f=Ut(l);f.aa.forEach((m,A)=>{fb(f.remoteStore,A)}),f.ca.Si(),f.aa=new Map,f.ua=new u(kt.comparator)}(t),t.da=!1,yield dS(t.remoteStore,!1)}}),BS.apply(this,arguments)}function e1(n,e,t){return US.apply(this,arguments)}function US(){return US=(0,rt.Z)(function*(n,e,t){const r=Ut(n),i=[],l=[];for(const f of e){let m;const A=r.ra.get(f);if(A&&0!==A.length){m=yield Uv(r.localStore,gl(A[0]));for(const M of A){const P=r.ia.get(M),V=yield dP(r,P);V.snapshot&&l.push(V.snapshot)}}else{const M=yield xR(r.localStore,f);m=yield Uv(r.localStore,M),yield AS(r,t1(M),f,!1)}i.push(m)}return r.sa.zo(l),i}),US.apply(this,arguments)}function t1(n){return px(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function gP(n){const e=Ut(n);return Ut(Ut(e.localStore).persistence).Fs()}function mP(n,e,t,r){return HS.apply(this,arguments)}function HS(){return HS=(0,rt.Z)(function*(n,e,t,r){const i=Ut(n);if(i.da)return void Tt("SyncEngine","Ignoring unexpected query state notification.");const l=i.ra.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const f=yield RR(i.localStore,vx(l[0])),m=Q0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield wd(i,f,m);break}case"rejected":yield Hv(i.localStore,e,!0),Zv(i,e,r);break;default:en()}}),HS.apply(this,arguments)}function vP(n,e,t){return jS.apply(this,arguments)}function jS(){return jS=(0,rt.Z)(function*(n,e,t){const r=GS(n);if(r.da){for(const i of e){if(r.ra.has(i)){Tt("SyncEngine","Adding an already active target "+i);continue}const l=yield xR(r.localStore,i),f=yield Uv(r.localStore,l);yield AS(r,t1(l),f.targetId,!1),hC(r.remoteStore,f)}for(const i of t)r.ra.has(i)&&(yield Hv(r.localStore,i,!1).then(()=>{fb(r.remoteStore,i),Zv(r,i)}).catch(ig))}}),jS.apply(this,arguments)}function GS(n){const e=Ut(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=YR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iP.bind(null,e),e.sa.zo=ZO.bind(null,e.eventManager),e.sa.wa=KO.bind(null,e.eventManager),e}function zS(n){const e=Ut(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oP.bind(null,e),e}class n1{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,rt.Z)(function*(){t.M=cb(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return TR(this.persistence,new DR,e.initialUser,this.M)}ya(e){return new TO(zI.Yi,this.M)}ga(e){return new PR}terminate(){var e=this;return(0,rt.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class r1 extends n1{constructor(e,t,r){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,rt.Z)(function*(){yield t().call(r,e),yield r.Ta.initialize(r,e),yield zS(r.Ta.syncEngine),yield Gv(r.Ta.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Ia(e){return TR(this.persistence,new DR,e.initialUser,this.M)}pa(e){return new aO(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=LI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Jo.withCacheSize(this.cacheSizeBytes):Jo.DEFAULT;return new FI(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,LR(),fC(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new PR}}class _P extends r1{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,rt.Z)(function*(){yield t().call(r,e);const i=r.Ta.syncEngine;r.sharedClientState instanceof ZI&&(r.sharedClientState.syncEngine={$r:hP.bind(null,i),Br:mP.bind(null,i),Lr:vP.bind(null,i),Fs:gP.bind(null,i),Fr:fP.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var l=(0,rt.Z)(function*(f){yield function pP(n,e){return BS.apply(this,arguments)}(r.Ta.syncEngine,f),r.gcScheduler&&(f&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):f||r.gcScheduler.stop())});return function(f){return l.apply(this,arguments)}}())})()}ga(e){const t=LR();if(!ZI.vt(t))throw new pt(Ke.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=LI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ZI(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class $S{initialize(e,t){var r=this;return(0,rt.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>JR(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=uP.bind(null,r.syncEngine),yield dS(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new qO}createDatastore(e){const t=cb(e.databaseInfo.databaseId),r=new RO(e.databaseInfo);return new OO(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,l=m=>JR(this.syncEngine,m,0),f=FR.vt()?new FR:new SO,new FO(t,r,i,l,f);var t,r,i,l,f}createSyncEngine(e,t){return function(r,i,l,f,m,A,M){const P=new eP(r,i,l,f,m,A);return M&&(P.da=!0),P}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,rt.Z)(function*(t){const r=Ut(t);Tt("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield jv(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function i1(n,e=10240){let t=0;return{read:()=>(0,rt.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,rt.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class gC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class bP{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new Mi,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(r=>{r&&r.Mu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,rt.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,rt.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,rt.Z)(function*(){const t=yield e.Va();if(null===t)return null;const r=e.ba.decode(t),i=Number(r);isNaN(i)&&e.va(`length string (${r}) is not valid number`);const l=yield e.Sa(i);return new QO(JSON.parse(l),t.length+i)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,rt.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Sa(e){var t=this;return(0,rt.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const r=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,rt.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class AP{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,rt.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new pt(Ke.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,rt.Z)(function*(l,f){const m=Ut(l),A=eb(m.M)+"/documents",M={documents:f.map(pe=>X0(m.M,pe))},P=yield m._o("BatchGetDocuments",A,M),V=new Map;P.forEach(pe=>{const ve=function Ak(n,e){return"found"in e?function(t,r){Mn(!!r.found);const i=oc(t,r.found.name),l=ss(r.found.updateTime),f=new xs({mapValue:{fields:r.found.fields}});return Ur.newFoundDocument(i,l,f)}(n,e):"missing"in e?function(t,r){Mn(!!r.missing),Mn(!!r.readTime);const i=oc(t,r.missing),l=ss(r.readTime);return Ur.newNoDocument(i,l)}(n,e):en()}(m.M,pe);V.set(ve.key.toString(),ve)});const se=[];return f.forEach(pe=>{const ve=V.get(pe.toString());Mn(!!ve),se.push(ve)}),se}),function(l,f){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Z0(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,rt.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const l=kt.fromPath(i);e.mutations.push(new bI(l,e.precondition(l)))}),yield(r=(0,rt.Z)(function*(i,l){const f=Ut(i),m=eb(f.M)+"/documents",A={writes:l.map(M=>tb(f.M,M))};yield f.co("Commit",m,A)}),function(i,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw en();t=_n.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new pt(Ke.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?xi.updateTime(t):xi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(_n.min()))throw new pt(Ke.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xi.updateTime(t)}return xi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class EP{constructor(e,t,r,i,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=l,this.xa=r.maxAttempts,this.No=new KI(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,rt.Z)(function*(){const t=new AP(e.datastore),r=e.ka(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(l=>{e.Ma(l)}))}).catch(i=>{e.Ma(i)})}))}ka(e){try{const t=this.updateFunction(e);return!Ev(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Nx(t)}return!1}}class wP{constructor(e,t,r,i){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ki.UNAUTHENTICATED,this.clientId=rI.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var f=(0,rt.Z)(function*(m){Tt("FirestoreClient","Received user=",m.uid),yield l.authCredentialListener(m),l.user=m});return function(m){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(r,f=>(Tt("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,rt.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new pt(Ke.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,rt.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=$v(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function s1(n,e){return WS.apply(this,arguments)}function WS(){return WS=(0,rt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Tt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,rt.Z)(function*(l){r.isEqual(l)||(yield IR(e.localStore,l),r=l)});return function(l){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),WS.apply(this,arguments)}function o1(n,e){return qS.apply(this,arguments)}function qS(){return qS=(0,rt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield ZS(n);Tt("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>zR(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,l)=>zR(e.remoteStore,l)),n.onlineComponents=e}),qS.apply(this,arguments)}function ZS(n){return KS.apply(this,arguments)}function KS(){return KS=(0,rt.Z)(function*(n){return n.offlineComponents||(Tt("FirestoreClient","Using default OfflineComponentProvider"),yield s1(n,new n1)),n.offlineComponents}),KS.apply(this,arguments)}function mC(n){return QS.apply(this,arguments)}function QS(){return QS=(0,rt.Z)(function*(n){return n.onlineComponents||(Tt("FirestoreClient","Using default OnlineComponentProvider"),yield o1(n,new $S)),n.onlineComponents}),QS.apply(this,arguments)}function a1(n){return ZS(n).then(e=>e.persistence)}function YS(n){return ZS(n).then(e=>e.localStore)}function l1(n){return mC(n).then(e=>e.remoteStore)}function JS(n){return mC(n).then(e=>e.syncEngine)}function Kv(n){return XS.apply(this,arguments)}function XS(){return XS=(0,rt.Z)(function*(n){const e=yield mC(n),t=e.eventManager;return t.onListen=tP.bind(null,e.syncEngine),t.onUnlisten=nP.bind(null,e.syncEngine),t}),XS.apply(this,arguments)}function u1(n,e,t={}){const r=new Mi;return n.asyncQueue.enqueueAndForget((0,rt.Z)(function*(){return function(i,l,f,m,A){const M=new gC({next:V=>{l.enqueueAndForget(()=>mS(i,P));const se=V.docs.has(f);!se&&V.fromCache?A.reject(new pt(Ke.UNAVAILABLE,"Failed to get document because the client is offline.")):se&&V.fromCache&&m&&"server"===m.source?A.reject(new pt(Ke.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):A.resolve(V)},error:V=>A.reject(V)}),P=new _S(Rv(f.path),M,{includeMetadataChanges:!0,ku:!0});return pS(i,P)}(yield Kv(n),n.asyncQueue,e,t,r)})),r.promise}function c1(n,e,t={}){const r=new Mi;return n.asyncQueue.enqueueAndForget((0,rt.Z)(function*(){return function(i,l,f,m,A){const M=new gC({next:V=>{l.enqueueAndForget(()=>mS(i,P)),V.fromCache&&"server"===m.source?A.reject(new pt(Ke.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):A.resolve(V)},error:V=>A.reject(V)}),P=new _S(f,M,{includeMetadataChanges:!0,ku:!0});return pS(i,P)}(yield Kv(n),n.asyncQueue,e,t,r)})),r.promise}const d1=new Map;function eM(n,e,t){if(!t)throw new pt(Ke.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function f1(n,e,t,r){if(!0===e&&!0===r)throw new pt(Ke.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function h1(n){if(!kt.isDocumentKey(n))throw new pt(Ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function p1(n){if(kt.isDocumentKey(n))throw new pt(Ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":en()}function lr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pt(Ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=vC(n);throw new pt(Ke.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function g1(n,e){if(e<=0)throw new pt(Ke.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class m1{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new pt(Ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new pt(Ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,f1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hb{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new m1({}),this._settingsFrozen=!1,e instanceof nc?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new pt(Ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nc(i.options.projectId)}(e))}get app(){if(!this._app)throw new pt(Ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new pt(Ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new m1(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new eI;switch(t.type){case"gapi":const r=t.client;return Mn(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new zw(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new pt(Ke.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=d1.get(e);t&&(Tt("ComponentProvider","Removing Datastore"),d1.delete(e),t.terminate())}(this),Promise.resolve()}}class $r{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $r(this.firestore,e,this._key)}}class Xs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xs(this.firestore,e,this._query)}}class lc extends Xs{constructor(e,t,r){super(e,t,Rv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $r(this.firestore,null,new kt(e))}withConverter(e){return new lc(this.firestore,e,this._path)}}function v1(n,e,...t){if(n=(0,Zn.m9)(n),eM("collection","path",e),n instanceof hb){const r=ar.fromString(e,...t);return p1(r),new lc(n,null,r)}{if(!(n instanceof $r||n instanceof lc))throw new pt(Ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ar.fromString(e,...t));return p1(r),new lc(n.firestore,null,r)}}function yC(n,e,...t){if(n=(0,Zn.m9)(n),1===arguments.length&&(e=rI.R()),eM("doc","path",e),n instanceof hb){const r=ar.fromString(e,...t);return h1(r),new $r(n,null,new kt(r))}{if(!(n instanceof $r||n instanceof lc))throw new pt(Ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ar.fromString(e,...t));return h1(r),new $r(n.firestore,n instanceof lc?n.converter:null,new kt(r))}}function y1(n,e){return n=(0,Zn.m9)(n),e=(0,Zn.m9)(e),(n instanceof $r||n instanceof lc)&&(e instanceof $r||e instanceof lc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function _1(n,e){return n=(0,Zn.m9)(n),e=(0,Zn.m9)(e),n instanceof Xs&&e instanceof Xs&&n.firestore===e.firestore&&$0(n._query,e._query)&&n.converter===e.converter}class OP{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new KI(this,"async_queue_retry"),this.Qa=()=>{const t=fC();t&&Tt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=fC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=fC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new Mi;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,rt.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!Qp(t))throw t;Tt("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(r=>{throw this.Ua=r,this.qa=!1,wi("INTERNAL UNHANDLED ERROR: ",function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),f}(r)),r}).then(r=>(this.qa=!1,r))));return this.Fa=t,t}enqueueAfterDelay(e,t,r){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const i=hS.createAndSchedule(this,e,t,r,l=>this.Ha(l));return this.La.push(i),i}ja(){this.Ua&&en()}verifyOperationInProgress(){}Ja(){var e=this;return(0,rt.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function tM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class PP{constructor(){this._progressObserver={},this._taskCompletionResolver=new Mi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Qr extends hb{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new OP,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||b1(this),this._firestoreClient.terminate()}}function Ni(n){return n._firestoreClient||b1(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function b1(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Av(n._databaseId,l,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var l,m;n._firestoreClient=new wP(n._authCredentials,n._appCheckCredentials,n._queue,r)}function A1(n,e,t){const r=new Mi;return n.asyncQueue.enqueue((0,rt.Z)(function*(){try{yield s1(n,t),yield o1(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(l=i).name?l.code===Ke.FAILED_PRECONDITION||l.code===Ke.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var l})).then(()=>r.promise)}function E1(n){if(n._initialized||n._terminated)throw new pt(Ke.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Cd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new pt(Ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class uc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new uc(gi.fromBase64String(e))}catch(t){throw new pt(Ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new uc(gi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class og{constructor(e){this._methodName=e}}class _C{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pt(Ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pt(Ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jn(this._lat,e._lat)||jn(this._long,e._long)}}const $P=/^__.*__$/;class WP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Kp(e,this.data,this.fieldMask,t,this.fieldTransforms):new q0(e,this.data,t,this.fieldTransforms)}}class w1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Kp(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function C1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw en()}}class bC{constructor(e,t,r,i,l,f){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===l&&this.tc(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new bC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.rc(e),i}oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.tc(),i}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return wC(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(C1(this.ec)&&$P.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class qP{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||cb(e)}lc(e,t,r,i=!1){return new bC({ec:e,methodName:t,hc:r,path:Kr.emptyPath(),ic:!1,cc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function ag(n){const e=n._freezeSettings(),t=cb(n._databaseId);return new qP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function AC(n,e,t,r,i,l={}){const f=n.lc(l.merge||l.mergeFields?2:0,e,t,i);sM("Data must be an object, but it was:",f,r);const m=I1(r,f);let A,M;if(l.merge)A=new Gf(f.fieldMask),M=f.fieldTransforms;else if(l.mergeFields){const P=[];for(const V of l.mergeFields){const se=oM(e,V,t);if(!f.contains(se))throw new pt(Ke.INVALID_ARGUMENT,`Field '${se}' is specified in your field mask but missing from your input data.`);M1(P,se)||P.push(se)}A=new Gf(P),M=f.fieldTransforms.filter(V=>A.covers(V.field))}else A=null,M=f.fieldTransforms;return new WP(new xs(m),A,M)}class pb extends og{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pb}}function D1(n,e,t){return new bC({ec:3,hc:e.settings.hc,methodName:n._methodName,ic:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class nM extends og{_toFieldTransform(e){return new W0(e.path,new kv)}isEqual(e){return e instanceof nM}}class ZP extends og{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=D1(this,e,!0),r=this.fc.map(l=>lg(l,t)),i=new qp(r);return new W0(e.path,i)}isEqual(e){return this===e}}class KP extends og{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=D1(this,e,!0),r=this.fc.map(l=>lg(l,t)),i=new Zp(r);return new W0(e.path,i)}isEqual(e){return this===e}}class QP extends og{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new Ov(e.M,Ax(e.M,this.dc));return new W0(e.path,t)}isEqual(e){return this===e}}function rM(n,e,t,r){const i=n.lc(1,e,t);sM("Data must be an object, but it was:",i,r);const l=[],f=xs.empty();jf(r,(A,M)=>{const P=EC(e,A,t);M=(0,Zn.m9)(M);const V=i.oc(P);if(M instanceof pb)l.push(P);else{const se=lg(M,V);null!=se&&(l.push(P),f.set(P,se))}});const m=new Gf(l);return new w1(f,m,i.fieldTransforms)}function iM(n,e,t,r,i,l){const f=n.lc(1,e,t),m=[oM(e,r,t)],A=[i];if(l.length%2!=0)throw new pt(Ke.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let se=0;se<l.length;se+=2)m.push(oM(e,l[se])),A.push(l[se+1]);const M=[],P=xs.empty();for(let se=m.length-1;se>=0;--se)if(!M1(M,m[se])){const pe=m[se];let ve=A[se];ve=(0,Zn.m9)(ve);const je=f.oc(pe);if(ve instanceof pb)M.push(pe);else{const ft=lg(ve,je);null!=ft&&(M.push(pe),P.set(pe,ft))}}const V=new Gf(M);return new w1(P,V,f.fieldTransforms)}function T1(n,e,t,r=!1){return lg(t,n.lc(r?4:3,e))}function lg(n,e){if(S1(n=(0,Zn.m9)(n)))return sM("Unsupported field value:",e,n),I1(n,e);if(n instanceof og)return function(t,r){if(!C1(r.ec))throw r.ac(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ac(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,r){const i=[];let l=0;for(const f of t){let m=lg(f,r.uc(l));null==m&&(m={nullValue:"NULL_VALUE"}),i.push(m),l++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Zn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ax(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=ri.fromDate(t);return{timestampValue:J0(r.M,i)}}if(t instanceof ri){const i=new ri(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:J0(r.M,i)}}if(t instanceof _C)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof uc)return{bytesValue:Bx(r.M,t._byteString)};if(t instanceof $r){const i=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(i))throw r.ac(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:EI(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ac(`Unsupported field value: ${vC(t)}`)}(n,e)}function I1(n,e){const t={};return sI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jf(n,(r,i)=>{const l=lg(i,e.sc(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function S1(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ri||n instanceof _C||n instanceof uc||n instanceof $r||n instanceof og)}function sM(n,e,t){if(!S1(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=vC(t);throw e.ac("an object"===r?n+" a custom object":n+" "+r)}var r}function oM(n,e,t){if((e=(0,Zn.m9)(e))instanceof Cd)return e._internalPath;if("string"==typeof e)return EC(n,e);throw wC("Field path arguments must be of type string or ",n,!1,void 0,t)}const YP=new RegExp("[~\\*/\\[\\]]");function EC(n,e,t){if(e.search(YP)>=0)throw wC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Cd(...e.split("."))._internalPath}catch(r){throw wC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function wC(n,e,t,r,i){const l=r&&!r.isEmpty(),f=void 0!==i;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let A="";return(l||f)&&(A+=" (found",l&&(A+=` in field ${r}`),f&&(A+=` in document ${i}`),A+=")"),new pt(Ke.INVALID_ARGUMENT,m+n+A)}function M1(n,e){return n.some(t=>t.isEqual(e))}class gb{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new $r(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new JP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(CC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class JP extends gb{data(){return super.data()}}function CC(n,e){return"string"==typeof e?EC(n,e):e instanceof Cd?e._internalPath:e._delegate._internalPath}class ug{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dd extends gb{constructor(e,t,r,i,l,f){super(e,t,r,i,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new mb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(CC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class mb extends Dd{data(e={}){return super.data(e)}}class Xf{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ug(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new mb(this._firestore,this._userDataWriter,r.key,r,new ug(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pt(Ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(f=>({type:"added",doc:new mb(r._firestore,r._userDataWriter,f.doc.key,f.doc,new ug(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(f=>i||3!==f.type).map(f=>{const m=new mb(r._firestore,r._userDataWriter,f.doc.key,f.doc,new ug(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter);let A=-1,M=-1;return 0!==f.type&&(A=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),1!==f.type&&(l=l.add(f.doc),M=l.indexOf(f.doc.key)),{type:XP(f.type),doc:m,oldIndex:A,newIndex:M}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function XP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return en()}}function x1(n,e){return n instanceof Dd&&e instanceof Dd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Xf&&e instanceof Xf&&n._firestore===e._firestore&&_1(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function R1(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new pt(Ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vb{}function eh(n,...e){for(const t of e)n=t._apply(n);return n}class eF extends vb{constructor(e,t,r){super(),this._c=e,this.wc=t,this.mc=r,this.type="where"}_apply(e){const t=ag(e.firestore),r=function(i,l,f,m,A,M,P){let V;if(A.isKeyField()){if("array-contains"===M||"array-contains-any"===M)throw new pt(Ke.INVALID_ARGUMENT,`Invalid Query. You can't perform '${M}' queries on documentId().`);if("in"===M||"not-in"===M){L1(P,M);const pe=[];for(const ve of P)pe.push(F1(m,i,ve));V={arrayValue:{values:pe}}}else V=F1(m,i,P)}else"in"!==M&&"not-in"!==M&&"array-contains-any"!==M||L1(P,M),V=T1(f,"where",P,"in"===M||"not-in"===M);const se=it.create(A,M,V);return function(pe,ve){if(ve.S()){const ft=gI(pe);if(null!==ft&&!ft.isEqual(ve.field))throw new pt(Ke.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ft.toString()}' and '${ve.field.toString()}'`);const Ht=pI(pe);null!==Ht&&V1(0,ve.field,Ht)}const je=function(ft,Ht){for(const Lt of ft.filters)if(Ht.indexOf(Lt.op)>=0)return Lt.op;return null}(pe,function(ft){switch(ft){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ve.op));if(null!==je)throw new pt(Ke.INVALID_ARGUMENT,je===ve.op?`Invalid query. You cannot use more than one '${ve.op.toString()}' filter.`:`Invalid query. You cannot use '${ve.op.toString()}' filters with '${je.toString()}' filters.`)}(i,se),se}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new Xs(e.firestore,e.converter,function(i,l){const f=i.filters.concat([l]);return new Ra(i.path,i.collectionGroup,i.explicitOrderBy.slice(),f,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class nF extends vb{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(r,i,l){if(null!==r.startAt)throw new pt(Ke.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new pt(Ke.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new sc(i,l);return function(m,A){if(null===pI(m)){const M=gI(m);null!==M&&V1(0,M,A.field)}}(r,f),f}(e._query,this._c,this.gc);return new Xs(e.firestore,e.converter,function(r,i){const l=r.explicitOrderBy.concat([i]);return new Ra(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class N1 extends vb{constructor(e,t,r){super(),this.type=e,this.yc=t,this.Ic=r}_apply(e){return new Xs(e.firestore,e.converter,gx(e._query,this.yc,this.Ic))}}class k1 extends vb{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=P1(e,this.type,this.Tc,this.Ec);return new Xs(e.firestore,e.converter,(i=t,new Ra((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class O1 extends vb{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=P1(e,this.type,this.Tc,this.Ec);return new Xs(e.firestore,e.converter,(i=t,new Ra((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function P1(n,e,t,r){if(t[0]=(0,Zn.m9)(t[0]),t[0]instanceof gb)return function(i,l,f,m,A){if(!m)throw new pt(Ke.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const M=[];for(const P of Nv(i))if(P.field.isKeyField())M.push(ic(l,m.key));else{const V=m.data.field(P.field);if(O0(V))throw new pt(Ke.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+P.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===V){const se=P.field.canonicalString();throw new pt(Ke.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${se}' (used as the orderBy) does not exist.`)}M.push(V)}return new pl(M,A)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=ag(n.firestore);return function(l,f,m,A,M,P){const V=l.explicitOrderBy;if(M.length>V.length)throw new pt(Ke.INVALID_ARGUMENT,`Too many arguments provided to ${A}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const se=[];for(let pe=0;pe<M.length;pe++){const ve=M[pe];if(V[pe].field.isKeyField()){if("string"!=typeof ve)throw new pt(Ke.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${A}(), but got a ${typeof ve}`);if(!mI(l)&&-1!==ve.indexOf("/"))throw new pt(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${A}() must be a plain document ID, but '${ve}' contains a slash.`);const je=l.path.child(ar.fromString(ve));if(!kt.isDocumentKey(je))throw new pt(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${A}() must result in a valid document path, but '${je}' is not because it contains an odd number of segments.`);const ft=new kt(je);se.push(ic(f,ft))}else{const je=T1(m,A,ve);se.push(je)}}return new pl(se,P)}(n._query,n.firestore._databaseId,i,e,t,r)}}function F1(n,e,t){if("string"==typeof(t=(0,Zn.m9)(t))){if(""===t)throw new pt(Ke.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mI(e)&&-1!==t.indexOf("/"))throw new pt(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ar.fromString(t));if(!kt.isDocumentKey(r))throw new pt(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ic(n,new kt(r))}if(t instanceof $r)return ic(n,t._key);throw new pt(Ke.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vC(t)}.`)}function L1(n,e){if(!Array.isArray(n)||0===n.length)throw new pt(Ke.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new pt(Ke.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function V1(n,e,t){if(!t.isEqual(e))throw new pt(Ke.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const cF={maxAttempts:5};class aM{convertValue(e,t="none"){switch(Ad(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Br(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(su(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw en()}}convertObject(e,t){const r={};return jf(e.fields,(i,l)=>{r[i]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new _C(Br(e.latitude),Br(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=bv(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(bd(e));default:return null}}convertTimestamp(e){const t=iu(e);return new ri(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ar.fromString(e);Mn(Kx(r));const i=new nc(r.get(1),r.get(3)),l=new kt(r.popFirst(5));return i.isEqual(t)||wi(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function DC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class dF extends aM{constructor(e){super(),this.firestore=e}convertBytes(e){return new uc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $r(this.firestore,null,t)}}class B1{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ag(e)}set(e,t,r){this._verifyNotCommitted();const i=th(e,this._firestore),l=DC(i.converter,t,r),f=AC(this._dataReader,"WriteBatch.set",i._key,l,null!==i.converter,r);return this._mutations.push(f.toMutation(i._key,xi.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const l=th(e,this._firestore);let f;return f="string"==typeof(t=(0,Zn.m9)(t))||t instanceof Cd?iM(this._dataReader,"WriteBatch.update",l._key,t,r,i):rM(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(f.toMutation(l._key,xi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=th(e,this._firestore);return this._mutations=this._mutations.concat(new Z0(t._key,xi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new pt(Ke.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function th(n,e){if((n=(0,Zn.m9)(n)).firestore!==e)throw new pt(Ke.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class cg extends aM{constructor(e){super(),this.firestore=e}convertBytes(e){return new uc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $r(this.firestore,null,t)}}function U1(n,e,t){n=lr(n,$r);const r=lr(n.firestore,Qr),i=DC(n.converter,e,t);return Qv(r,[AC(ag(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,xi.none())])}function H1(n,e,t,...r){n=lr(n,$r);const i=lr(n.firestore,Qr),l=ag(i);let f;return f="string"==typeof(e=(0,Zn.m9)(e))||e instanceof Cd?iM(l,"updateDoc",n._key,e,t,r):rM(l,"updateDoc",n._key,e),Qv(i,[f.toMutation(n._key,xi.exists(!0))])}function j1(n,...e){var t,r,i;n=(0,Zn.m9)(n);let l={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||tM(e[f])||(l=e[f],f++);const m={includeMetadataChanges:l.includeMetadataChanges};if(tM(e[f])){const V=e[f];e[f]=null===(t=V.next)||void 0===t?void 0:t.bind(V),e[f+1]=null===(r=V.error)||void 0===r?void 0:r.bind(V),e[f+2]=null===(i=V.complete)||void 0===i?void 0:i.bind(V)}let A,M,P;if(n instanceof $r)M=lr(n.firestore,Qr),P=Rv(n._key.path),A={next:V=>{e[f]&&e[f](lM(M,n,V))},error:e[f+1],complete:e[f+2]};else{const V=lr(n,Xs);M=lr(V.firestore,Qr),P=V._query;const se=new cg(M);A={next:pe=>{e[f]&&e[f](new Xf(M,se,V,pe))},error:e[f+1],complete:e[f+2]},R1(n._query)}return function(V,se,pe,ve){const je=new gC(ve),ft=new _S(se,je,pe);return V.asyncQueue.enqueueAndForget((0,rt.Z)(function*(){return pS(yield Kv(V),ft)})),()=>{je.Aa(),V.asyncQueue.enqueueAndForget((0,rt.Z)(function*(){return mS(yield Kv(V),ft)}))}}(Ni(M),P,m,A)}function Qv(n,e){return function(t,r){const i=new Mi;return t.asyncQueue.enqueueAndForget((0,rt.Z)(function*(){return function rP(n,e,t){return CS.apply(this,arguments)}(yield JS(t),r,i)})),i.promise}(Ni(n),e)}function lM(n,e,t){const r=t.docs.get(e._key),i=new cg(n);return new Dd(n,i,e._key,r,new ug(t.hasPendingWrites,t.fromCache),e.converter)}class AF extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ag(e)}get(e){const t=th(e,this._firestore),r=new dF(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return en();const l=i[0];if(l.isFoundDocument())return new gb(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new gb(this._firestore,r,t._key,null,t.converter);throw en()})}set(e,t,r){const i=th(e,this._firestore),l=DC(i.converter,t,r),f=AC(this._dataReader,"Transaction.set",i._key,l,null!==i.converter,r);return this._transaction.set(i._key,f),this}update(e,t,r,...i){const l=th(e,this._firestore);let f;return f="string"==typeof(t=(0,Zn.m9)(t))||t instanceof Cd?iM(this._dataReader,"Transaction.update",l._key,t,r,i):rM(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,f),this}delete(e){const t=th(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=th(e,this._firestore),r=new cg(this._firestore);return super.get(e).then(i=>new Dd(this._firestore,r,t._key,i._document,new ug(!1,!1),t.converter))}}function uM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new pt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function z1(){if("undefined"==typeof Uint8Array)throw new pt("unimplemented","Uint8Arrays are not available in this environment.")}function $1(){if(!function aI(){return"undefined"!=typeof atob}())throw new pt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Hf=ud.SDK_VERSION,(0,ud._registerComponent)(new F_.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),l=new Qr(i,new N0(t.getProvider("auth-internal")),new Ww(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,ud.registerVersion)(R0,"3.4.9",n),(0,ud.registerVersion)(R0,"3.4.9","esm2017")}();class yb{constructor(e){this._delegate=e}static fromBase64String(e){return $1(),new yb(uc.fromBase64String(e))}static fromUint8Array(e){return z1(),new yb(uc.fromUint8Array(e))}toBase64(){return $1(),this._delegate.toBase64()}toUint8Array(){return z1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function cM(n){return function xF(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class RF{enableIndexedDbPersistence(e,t){return function LP(n,e){E1(n=lr(n,Qr));const t=Ni(n),r=n._freezeSettings(),i=new $S;return A1(t,i,new r1(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function VP(n){E1(n=lr(n,Qr));const e=Ni(n),t=n._freezeSettings(),r=new $S;return A1(e,r,new _P(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function BP(n){if(n._initialized&&!n._terminated)throw new pt(Ke.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Mi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,rt.Z)(function*(){try{yield(t=(0,rt.Z)(function*(r){if(!au.vt())return Promise.resolve();const i=r+"main";yield au.delete(i)}),function(r){return t.apply(this,arguments)})(LI(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class W1{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof nc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&zp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function NP(n,e,t,r={}){var i;const l=(n=lr(n,hb))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&zp("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let f,m;if("string"==typeof r.mockUserToken)f=r.mockUserToken,m=Ki.MOCK_USER;else{f=(0,Zn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new pt(Ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Ki(A)}n._authCredentials=new Gw(new jw(f,m))}}(this._delegate,e,t,r)}enableNetwork(){return function HP(n){return function CP(n){return n.asyncQueue.enqueue((0,rt.Z)(function*(){const e=yield a1(n),t=yield l1(n);return e.setNetworkEnabled(!0),function(r){const i=Ut(r);return i.wu.delete(0),db(i)}(t)}))}(Ni(n=lr(n,Qr)))}(this._delegate)}disableNetwork(){return function jP(n){return function DP(n){return n.asyncQueue.enqueue((0,rt.Z)(function*(){const e=yield a1(n),t=yield l1(n);return e.setNetworkEnabled(!1),(r=(0,rt.Z)(function*(i){const l=Ut(i);l.wu.add(0),yield jv(l),l.yu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Ni(n=lr(n,Qr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,f1("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function UP(n){return function(e){const t=new Mi;return e.asyncQueue.enqueueAndForget((0,rt.Z)(function*(){return function aP(n,e){return MS.apply(this,arguments)}(yield JS(e),t)})),t.promise}(Ni(n=lr(n,Qr)))}(this._delegate)}onSnapshotsInSync(e){return function bF(n,e){return function SP(n,e){const t=new gC(e);return n.asyncQueue.enqueueAndForget((0,rt.Z)(function*(){return r=yield Kv(n),i=t,Ut(r).bu.add(i),void i.next();var r,i})),()=>{t.Aa(),n.asyncQueue.enqueueAndForget((0,rt.Z)(function*(){return r=yield Kv(n),i=t,void Ut(r).bu.delete(i);var r,i}))}}(Ni(n=lr(n,Qr)),tM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new pt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Yv(this,v1(this._delegate,e))}catch(t){throw Io(t,"collection()","Firestore.collection()")}}doc(e){try{return new vl(this,yC(this._delegate,e))}catch(t){throw Io(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new So(this,function kP(n,e){if(n=lr(n,hb),eM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new pt(Ke.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xs(n,null,(t=e,new Ra(ar.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Io(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function EF(n,e,t){n=lr(n,Qr);const r=Object.assign(Object.assign({},cF),t);return function(i){if(i.maxAttempts<1)throw new pt(Ke.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function MP(n,e,t){const r=new Mi;return n.asyncQueue.enqueueAndForget((0,rt.Z)(function*(){const i=yield(l=n,mC(l).then(f=>f.datastore));var l;new EP(n.asyncQueue,i,t,e,r).run()})),r.promise}(Ni(n),i=>e(new AF(n,i)),r)}(this._delegate,t=>e(new q1(this,t)))}batch(){return Ni(this._delegate),new Z1(new B1(this._delegate,e=>Qv(this._delegate,e)))}loadBundle(e){return function GP(n,e){const t=Ni(n=lr(n,Qr)),r=new PP;return function xP(n,e,t,r){const i=function(l,f){let m;return m="string"==typeof l?(new TextEncoder).encode(l):l,A=function(A,M){if(A instanceof Uint8Array)return i1(A,M);if(A instanceof ArrayBuffer)return i1(new Uint8Array(A),M);if(A instanceof ReadableStream)return A.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new bP(A,f);var A}(t,cb(e));n.asyncQueue.enqueueAndForget((0,rt.Z)(function*(){!function yP(n,e,t){const r=Ut(n);var i;(i=(0,rt.Z)(function*(l,f,m){try{const A=yield f.getMetadata();if(yield function(se,pe){const ve=Ut(se),je=ss(pe.createTime);return ve.persistence.runTransaction("hasNewerBundle","readonly",ft=>ve._s.getBundleMetadata(ft,pe.id)).then(ft=>!!ft&&ft.createTime.compareTo(je)>=0)}(l.localStore,A))return yield f.close(),m._completeWith({taskState:"Success",documentsLoaded:(se=A).totalDocuments,bytesLoaded:se.totalBytes,totalDocuments:se.totalDocuments,totalBytes:se.totalBytes}),Promise.resolve(new Set);m._updateProgress(qR(A));const M=new YO(A,l.localStore,f.M);let P=yield f.ma();for(;P;){const se=yield M.Fu(P);se&&m._updateProgress(se),P=yield f.ma()}const V=yield M.complete();return yield wd(l,V.Lu,void 0),yield function(se,pe){const ve=Ut(se);return ve.persistence.runTransaction("Save bundle","readwrite",je=>ve._s.saveBundleMetadata(je,pe))}(l.localStore,A),m._completeWith(V.progress),Promise.resolve(V.Bu)}catch(A){return zp("SyncEngine",`Loading bundle failed with ${A}`),m._failWith(A),Promise.resolve(new Set)}var se}),function(l,f,m){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield JS(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function zP(n,e){return function RP(n,e){return n.asyncQueue.enqueue((0,rt.Z)(function*(){return function(t,r){const i=Ut(t);return i.persistence.runTransaction("Get named query","readonly",l=>i._s.getNamedQuery(l,r))}(yield YS(n),e)}))}(Ni(n=lr(n,Qr)),e).then(t=>t?new Xs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new So(this,t):null)}}class TC extends aM{constructor(e){super(),this.firestore=e}convertBytes(e){return new yb(new uc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return vl.forKey(t,this.firestore,null)}}class q1{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new TC(e)}get(e){const t=fg(e);return this._delegate.get(t).then(r=>new _b(this._firestore,new Dd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=fg(e);return r?(uM("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=fg(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=fg(e);return this._delegate.delete(t),this}}class Z1{constructor(e){this._delegate=e}set(e,t,r){const i=fg(e);return r?(uM("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=fg(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=fg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class dg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new mb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new bb(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=dg.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(t);return l||(l=new dg(e,new TC(e),t),i.set(t,l)),l}}dg.INSTANCES=new WeakMap;class vl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new TC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new pt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new vl(t,new $r(t._delegate,r,new kt(e)))}static forKey(e,t,r){return new vl(t,new $r(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Yv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Yv(this.firestore,v1(this._delegate,e))}catch(t){throw Io(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Zn.m9)(e))instanceof $r&&y1(this._delegate,e)}set(e,t){t=uM("DocumentReference.set",t);try{return t?U1(this._delegate,e,t):U1(this._delegate,e)}catch(r){throw Io(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?H1(this._delegate,e):H1(this._delegate,e,t,...r)}catch(i){throw Io(i,"updateDoc()","DocumentReference.update()")}}delete(){return function yF(n){return Qv(lr(n.firestore,Qr),[new Z0(n._key,xi.none())])}(this._delegate)}onSnapshot(...e){const t=K1(e),r=Q1(e,i=>new _b(this.firestore,new Dd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return j1(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function hF(n){n=lr(n,$r);const e=lr(n.firestore,Qr),t=Ni(e),r=new cg(e);return function TP(n,e){const t=new Mi;return n.asyncQueue.enqueueAndForget((0,rt.Z)(function*(){return(r=(0,rt.Z)(function*(i,l,f){try{const m=yield function(A,M){const P=Ut(A);return P.persistence.runTransaction("read document","readonly",V=>P.fi.Ls(V,M))}(i,l);m.isFoundDocument()?f.resolve(m):m.isNoDocument()?f.resolve(null):f.reject(new pt(Ke.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const A=$v(m,`Failed to get document '${l} from cache`);f.reject(A)}}),function(i,l,f){return r.apply(this,arguments)})(yield YS(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Dd(e,r,n._key,i,new ug(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function pF(n){n=lr(n,$r);const e=lr(n.firestore,Qr);return u1(Ni(e),n._key,{source:"server"}).then(t=>lM(e,n,t))}(this._delegate):function fF(n){n=lr(n,$r);const e=lr(n.firestore,Qr);return u1(Ni(e),n._key).then(t=>lM(e,n,t))}(this._delegate),t.then(r=>new _b(this.firestore,new Dd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new vl(this.firestore,this._delegate.withConverter(e?dg.getInstance(this.firestore,e):null))}}function Io(n,e,t){return n.message=n.message.replace(e,t),n}function K1(n){for(const e of n)if("object"==typeof e&&!cM(e))return e;return{}}function Q1(n,e){var t,r;let i;return i=cM(n[0])?n[0]:cM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{i.next&&i.next(e(l))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class _b{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new vl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return x1(this._delegate,e._delegate)}}class bb extends _b{data(e){const t=this._delegate.data(e);return function Hw(n,e){n||en()}(void 0!==t),t}}class So{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new TC(e)}where(e,t,r){try{return new So(this.firestore,eh(this._delegate,function tF(n,e,t){const r=e,i=CC("where",n);return new eF(i,r,t)}(e,t,r)))}catch(i){throw Io(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new So(this.firestore,eh(this._delegate,function rF(n,e="asc"){const t=e,r=CC("orderBy",n);return new nF(r,t)}(e,t)))}catch(r){throw Io(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new So(this.firestore,eh(this._delegate,function iF(n){return g1("limit",n),new N1("limit",n,"F")}(e)))}catch(t){throw Io(t,"limit()","Query.limit()")}}limitToLast(e){try{return new So(this.firestore,eh(this._delegate,function sF(n){return g1("limitToLast",n),new N1("limitToLast",n,"L")}(e)))}catch(t){throw Io(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new So(this.firestore,eh(this._delegate,function oF(...n){return new k1("startAt",n,!0)}(...e)))}catch(t){throw Io(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new So(this.firestore,eh(this._delegate,function aF(...n){return new k1("startAfter",n,!1)}(...e)))}catch(t){throw Io(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new So(this.firestore,eh(this._delegate,function lF(...n){return new O1("endBefore",n,!1)}(...e)))}catch(t){throw Io(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new So(this.firestore,eh(this._delegate,function uF(...n){return new O1("endAt",n,!0)}(...e)))}catch(t){throw Io(t,"endAt()","Query.endAt()")}}isEqual(e){return _1(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function mF(n){n=lr(n,Xs);const e=lr(n.firestore,Qr),t=Ni(e),r=new cg(e);return function IP(n,e){const t=new Mi;return n.asyncQueue.enqueueAndForget((0,rt.Z)(function*(){return(r=(0,rt.Z)(function*(i,l,f){try{const m=yield uC(i,l,!0),A=new QR(l,m._i),M=A.Wu(m.documents),P=A.applyChanges(M,!1);f.resolve(P.snapshot)}catch(m){const A=$v(m,`Failed to execute query '${l} against cache`);f.reject(A)}}),function(i,l,f){return r.apply(this,arguments)})(yield YS(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Xf(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function vF(n){n=lr(n,Xs);const e=lr(n.firestore,Qr),t=Ni(e),r=new cg(e);return c1(t,n._query,{source:"server"}).then(i=>new Xf(e,r,n,i))}(this._delegate):function gF(n){n=lr(n,Xs);const e=lr(n.firestore,Qr),t=Ni(e),r=new cg(e);return R1(n._query),c1(t,n._query).then(i=>new Xf(e,r,n,i))}(this._delegate),t.then(r=>new dM(this.firestore,new Xf(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=K1(e),r=Q1(e,i=>new dM(this.firestore,new Xf(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return j1(this._delegate,t,r)}withConverter(e){return new So(this.firestore,this._delegate.withConverter(e?dg.getInstance(this.firestore,e):null))}}class kF{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new bb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class dM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new So(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new bb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new kF(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new bb(this._firestore,r))})}isEqual(e){return x1(this._delegate,e._delegate)}}class Yv extends So{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new vl(this.firestore,e):null}doc(e){try{return new vl(this.firestore,void 0===e?yC(this._delegate):yC(this._delegate,e))}catch(t){throw Io(t,"doc()","CollectionReference.doc()")}}add(e){return function _F(n,e){const t=lr(n.firestore,Qr),r=yC(n),i=DC(n.converter,e);return Qv(t,[AC(ag(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,xi.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new vl(this.firestore,t))}isEqual(e){return y1(this._delegate,e._delegate)}withConverter(e){return new Yv(this.firestore,this._delegate.withConverter(e?dg.getInstance(this.firestore,e):null))}}function fg(n){return lr(n,$r)}class fM{constructor(...e){this._delegate=new Cd(...e)}static documentId(){return new fM(Kr.keyField().canonicalString())}isEqual(e){return(e=(0,Zn.m9)(e))instanceof Cd&&this._delegate._internalPath.isEqual(e._internalPath)}}class hg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function CF(){return new nM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new hg(e)}static delete(){const e=function wF(){return new pb("deleteField")}();return e._methodName="FieldValue.delete",new hg(e)}static arrayUnion(...e){const t=function DF(...n){return new ZP("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new hg(t)}static arrayRemove(...e){const t=function TF(...n){return new KP("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new hg(t)}static increment(e){const t=function IF(n){return new QP("increment",n)}(e);return t._methodName="FieldValue.increment",new hg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const OF={Firestore:W1,GeoPoint:_C,Timestamp:ri,Blob:yb,Transaction:q1,WriteBatch:Z1,DocumentReference:vl,DocumentSnapshot:_b,Query:So,QueryDocumentSnapshot:bb,QuerySnapshot:dM,CollectionReference:Yv,FieldPath:fM,FieldValue:hg,setLogLevel:function NF(n){!function xa(n){tc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function FF(n){(function PF(n,e){n.INTERNAL.registerComponent(new F_.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},OF)))})(n,(e,t)=>new W1(e,t,new RF)),n.registerVersion("@firebase/firestore-compat","0.1.18")}(yT.Z);var LF=$(6451),IC=$(5363),VF=$(6063);class BF extends fi.x{constructor(e=1/0,t=1/0,r=VF.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:l,_windowTime:f}=this;t||(r.push(e),!i&&r.push(l.now()+f)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,l=i.slice();for(let f=0;f<l.length&&!e.closed;f+=r?1:2)e.next(l[f]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,l=(i?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!i){const f=t.now();let m=0;for(let A=1;A<r.length&&r[A]<=f;A+=2)m=A;m&&r.splice(0,m+1)}}}var UF=$(3099);function Y1(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,UF.B)({connector:()=>new BF(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function J1(n,e){return(0,um.m)(e)?bs(()=>n,e):bs(()=>n)}var hM=$(9468);$(5867);const eN=new Map,$F={activated:!1,tokenObservers:[]},WF={initialized:!1,enabled:!1};function ls(n){return eN.get(n)||$F}function lu(n,e){eN.set(n,e)}function MC(){return WF}class YF{constructor(e,t,r,i,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=i,i>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,rt.Z)(function*(){t.stop();try{t.pending=new Zn.BH,yield function JF(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Zn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Mo=new Zn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function nN(n){if(!ls(n).activated)throw Mo.create("use-before-activation",{appName:n.name})}function vM(n,e){return yM.apply(this,arguments)}function yM(){return yM=(0,rt.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const V=yield i.getHeartbeatsHeader();V&&(r["X-Firebase-Client"]=V)}const l={method:"POST",body:JSON.stringify(e),headers:r};let f,m;try{f=yield fetch(n,l)}catch(V){throw Mo.create("fetch-network-error",{originalErrorMessage:V.message})}if(200!==f.status)throw Mo.create("fetch-status-error",{httpStatus:f.status});try{m=yield f.json()}catch(V){throw Mo.create("fetch-parse-error",{originalErrorMessage:V.message})}const A=m.ttl.match(/^([\d.]+)(s)$/);if(!A||!A[2]||isNaN(Number(A[1])))throw Mo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const M=1e3*Number(A[1]),P=Date.now();return{token:m.token,expireTimeMillis:P+M,issuedAtTimeMillis:P}}),yM.apply(this,arguments)}function rL(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Ab="firebase-app-check-store";let NC=null;function iN(){return NC||(NC=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Mo.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ab,{keyPath:"compositeKey"})}}catch(t){e(Mo.create("storage-open",{originalErrorMessage:t.message}))}}),NC)}function _M(){return _M=(0,rt.Z)(function*(n,e){const r=(yield iN()).transaction(Ab,"readwrite"),l=r.objectStore(Ab).put({compositeKey:n,value:e});return new Promise((f,m)=>{l.onsuccess=A=>{f()},r.onerror=A=>{var M;m(Mo.create("storage-set",{originalErrorMessage:null===(M=A.target.error)||void 0===M?void 0:M.message}))}})}),_M.apply(this,arguments)}const Eb=new cd.Yd("@firebase/app-check");function lN(n,e){return(0,Zn.hl)()?function aL(n,e){return function sN(n,e){return _M.apply(this,arguments)}(function aN(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Eb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function uN(){return MC().enabled}function cN(){return wM.apply(this,arguments)}function wM(){return wM=(0,rt.Z)(function*(){const n=MC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),wM.apply(this,arguments)}const hL={error:"UNKNOWN_ERROR"};function pL(n){return Zn.US.encodeString(JSON.stringify(n),!1)}function kC(n){return CM.apply(this,arguments)}function CM(){return CM=(0,rt.Z)(function*(n,e=!1){const t=n.app;nN(t);const r=ls(t);let l,i=r.token;if(!i){const A=yield r.cachedTokenPromise;A&&OC(A)&&(i=A)}if(!e&&i&&OC(i))return{token:i.token};let m,f=!1;if(uN()){r.exchangeTokenPromise||(r.exchangeTokenPromise=vM(rL(t,yield cN()),n.heartbeatServiceProvider).then(M=>(r.exchangeTokenPromise=void 0,M)),f=!0);const A=yield r.exchangeTokenPromise;return yield lN(t,A),lu(t,Object.assign(Object.assign({},r),{token:A})),{token:A.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(A=>(r.exchangeTokenPromise=void 0,A)),f=!0),i=yield r.exchangeTokenPromise}catch(A){"appCheck/throttled"===A.code?Eb.warn(A.message):Eb.error(A),l=A}return i?(m={token:i.token},lu(t,Object.assign(Object.assign({},r),{token:i})),yield lN(t,i)):m=mL(l),f&&fN(t,m),m}),CM.apply(this,arguments)}function TM(n,e){const t=ls(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),lu(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function dN(n){const{app:e}=n,t=ls(e);let r=t.tokenRefresher;r||(r=function gL(n){const{app:e}=n;return new YF((0,rt.Z)(function*(){let r;if(r=ls(e).token?yield kC(n,!0):yield kC(n),r.error)throw r.error}),()=>!0,()=>{const t=ls(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),lu(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function fN(n,e){const t=ls(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function OC(n){return n.expireTimeMillis-Date.now()>0}function mL(n){return{token:pL(hL),error:n}}class vL{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ls(this.app);for(const t of e)TM(this.app,t.next);return Promise.resolve()}}const bN="app-check-internal";!function RL(){(0,ud._registerComponent)(new F_.wA("app-check",n=>function yL(n,e){return new vL(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(bN).initialize()})),(0,ud._registerComponent)(new F_.wA(bN,n=>function _L(n){return{getToken:e=>kC(n,e),addTokenListener:e=>function DM(n,e,t,r){const{app:i}=n,l=ls(i),f={next:t,error:r,type:e};if(lu(i,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,f]})),l.token&&OC(l.token)){const m=l.token;Promise.resolve().then(()=>{t({token:m.token}),dN(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>dN(n))}(n,"INTERNAL",e),removeTokenListener:e=>TM(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ud.registerVersion)("@firebase/app-check","0.5.8")}();class xM{constructor(){return(0,Ai.vb)("app-check")}}"undefined"!=typeof window&&window;var EN=$(127);const wN=new h.OlP("angularfire2.auth.use-emulator"),CN=new h.OlP("angularfire2.auth.settings"),DN=new h.OlP("angularfire2.auth.tenant-id"),TN=new h.OlP("angularfire2.auth.langugage-code"),IN=new h.OlP("angularfire2.auth.use-device-language"),SN=new h.OlP("angularfire.auth.persistence"),MN=(n,e,t,r,i,l,f,m)=>(0,Qo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const A=e.runOutsideAngular(()=>n.auth());if(t&&A.useEmulator(...t),r&&(A.tenantId=r),A.languageCode=i,l&&A.useDeviceLanguage(),f)for(const[M,P]of Object.entries(f))A.settings[M]=P;return m&&A.setPersistence(m),A},[t,r,i,l,f,m]);let NM=(()=>{class n{constructor(t,r,i,l,f,m,A,M,P,V,se,pe){const ve=new fi.x,je=Tn(void 0).pipe((0,IC.Q)(f.outsideAngular),bs(()=>l.runOutsideAngular(()=>Promise.resolve().then($.bind($,5881)))),(0,Sn.U)(()=>(0,Qo.on)(t,l,r)),(0,Sn.U)(ft=>MN(ft,l,m,M,P,V,A,se)),Y1({bufferSize:1,refCount:!1}));if(jr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Tn(null);else{je.pipe(Zo()).subscribe();const Ht=je.pipe(bs(It=>It.getRedirectResult().then(bn=>bn,()=>null)),Ai.iC,Y1({bufferSize:1,refCount:!1})),Lt=je.pipe(bs(It=>new ao.y(bn=>({unsubscribe:l.runOutsideAngular(()=>It.onAuthStateChanged(mn=>bn.next(mn),mn=>bn.error(mn),()=>bn.complete()))})))),Gt=je.pipe(bs(It=>new ao.y(bn=>({unsubscribe:l.runOutsideAngular(()=>It.onIdTokenChanged(mn=>bn.next(mn),mn=>bn.error(mn),()=>bn.complete()))}))));this.authState=Ht.pipe(J1(Lt),(0,hM.R)(f.outsideAngular),(0,IC.Q)(f.insideAngular)),this.user=Ht.pipe(J1(Gt),(0,hM.R)(f.outsideAngular),(0,IC.Q)(f.insideAngular)),this.idToken=this.user.pipe(bs(It=>It?(0,Sr.D)(It.getIdToken()):Tn(null))),this.idTokenResult=this.user.pipe(bs(It=>It?(0,Sr.D)(It.getIdTokenResult()):Tn(null))),this.credential=(0,LF.T)(Ht,ve,this.authState.pipe(ol(It=>!It))).pipe((0,Sn.U)(It=>(null==It?void 0:It.user)?It:null),(0,hM.R)(f.outsideAngular),(0,IC.Q)(f.insideAngular))}return(0,Qo.pX)(this,je,l,{spy:{apply:(ft,Ht,Lt)=>{(ft.startsWith("signIn")||ft.startsWith("createUser"))&&Lt.then(Gt=>ve.next(Gt))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Qo.Dh),h.LFG(Qo.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Ai.HU),h.LFG(wN,8),h.LFG(CN,8),h.LFG(DN,8),h.LFG(TN,8),h.LFG(IN,8),h.LFG(SN,8),h.LFG(xM,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),LL=(()=>{class n{constructor(){EN.Z.registerVersion("angularfire",Ai.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[NM]}),n})();function xN(n,e){return function VL(n,e=lx.z){return new ao.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function kM(n,e){return xN(n,e).pipe((0,Sn.U)(t=>({payload:t,type:"query"})))}function FC(n,e){return kM(n,e).pipe(qh(void 0),Cf(),(0,Sn.U)(([t,r])=>{const i=r.payload.docChanges(),l=i.map(f=>({type:f.type,payload:f}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((f,m)=>{const A=i.find(P=>P.doc.ref.isEqual(f.ref)),M=null==t?void 0:t.payload.docs.find(P=>P.ref.isEqual(f.ref));A&&JSON.stringify(A.doc.metadata)===JSON.stringify(f.metadata)||!A&&M&&JSON.stringify(M.metadata)===JSON.stringify(f.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:f}})}),l}))}function RN(n,e,t){return FC(n,t).pipe(hf((r,i)=>function UL(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function HL(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return OM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return OM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return OM(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(l=>l.payload),e),[]),function mT(n,e=Hh.y){return n=null!=n?n:vT,(0,Ys.e)((t,r)=>{let i,l=!0;t.subscribe((0,Gr.x)(r,f=>{const m=e(f);(l||!n(i,m))&&(l=!1,i=m,r.next(f))}))})}(),(0,Sn.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function OM(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function NN(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class kN{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=FC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Sn.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(qh(void 0),Cf(),ol(([r,i])=>i.length>0||!r),(0,Sn.U)(([r,i])=>i),Ai.iC)}auditTrail(e){return this.stateChanges(e).pipe(hf((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=NN(e);return RN(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ai.iC)}valueChanges(e={}){return kM(this.query,this.afs.schedulers.outsideAngular).pipe((0,Sn.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Ai.iC)}get(e){return(0,Sr.D)(this.query.get(e)).pipe(Ai.iC)}add(e){return this.ref.add(e)}doc(e){return new ON(this.ref.doc(e),this.afs)}}class ON{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:l}=LN(r,t);return new kN(i,l,this.afs)}snapshotChanges(){return function BL(n,e){return xN(n,e).pipe(qh(void 0),Cf(),(0,Sn.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ai.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Sn.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Sr.D)(this.ref.get(e)).pipe(Ai.iC)}}class jL{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?FC(this.query,this.afs.schedulers.outsideAngular).pipe((0,Sn.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),ol(t=>t.length>0),Ai.iC):FC(this.query,this.afs.schedulers.outsideAngular).pipe(Ai.iC)}auditTrail(e){return this.stateChanges(e).pipe(hf((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=NN(e);return RN(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ai.iC)}valueChanges(e={}){return kM(this.query,this.afs.schedulers.outsideAngular).pipe((0,Sn.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Ai.iC)}get(e){return(0,Sr.D)(this.query.get(e)).pipe(Ai.iC)}}const PN=new h.OlP("angularfire2.enableFirestorePersistence"),FN=new h.OlP("angularfire2.firestore.persistenceSettings"),GL=new h.OlP("angularfire2.firestore.settings"),zL=new h.OlP("angularfire2.firestore.use-emulator");function LN(n,e=(t=>t)){return{query:e(n),ref:n}}let VN=(()=>{class n{constructor(t,r,i,l,f,m,A,M,P,V,se,pe,ve,je,ft,Ht,Lt){this.schedulers=A;const Gt=(0,Qo.on)(t,m,r),It=P;V&&MN(Gt,m,se,ve,je,ft,pe,Ht),[this.firestore,this.persistenceEnabled$]=(0,Qo.cc)(`${Gt.name}.firestore`,"AngularFirestore",Gt.name,()=>{const bn=m.runOutsideAngular(()=>Gt.firestore());if(l&&bn.settings(l),It&&bn.useEmulator(...It),i&&!jr(f)){const mn=()=>{try{return(0,Sr.D)(bn.enablePersistence(M||void 0).then(()=>!0,()=>!1))}catch(Jn){return"undefined"!=typeof console&&console.warn(Jn),Tn(!1)}};return[bn,m.runOutsideAngular(mn)]}return[bn,Tn(!1)]},[l,It,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:f}=LN(i,r),m=this.schedulers.ngZone.run(()=>l);return new kN(m,f,this)}collectionGroup(t,r){const i=r||(f=>f),l=this.firestore.collectionGroup(t);return new jL(i(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new ON(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Qo.Dh),h.LFG(Qo.xv,8),h.LFG(PN,8),h.LFG(GL,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Ai.HU),h.LFG(FN,8),h.LFG(zL,8),h.LFG(NM,8),h.LFG(wN,8),h.LFG(CN,8),h.LFG(DN,8),h.LFG(TN,8),h.LFG(IN,8),h.LFG(SN,8),h.LFG(xM,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),$L=(()=>{class n{constructor(){EN.Z.registerVersion("angularfire",Ai.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:PN,useValue:!0},{provide:FN,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[VN]}),n})();const BN={apiKey:"AIzaSyDFtijVvYfE6ttxGGIFosKDTe3x7spSTK4",authDomain:"mindful-c1d5e.firebaseapp.com",projectId:"mindful-c1d5e",storageBucket:"mindful-c1d5e.appspot.com",messagingSenderId:"1085302276666",appId:"1:1085302276666:web:0f2616c0cca84b21f6eb03",measurementId:"G-YZS4H10MCM"},wb={userName:"UserName",preferences:"Preferences"};let LC=(()=>{class n{constructor(){this.isUserAuthenticated$=new fi.x,this.setAuthenticatedUser=t=>{this.isUserAuthenticated$.next(!0),sessionStorage.setItem(wb.userName,t)},this.getAuthenticatedUser=()=>{var t;return null!==(t=sessionStorage.getItem(wb.userName))&&void 0!==t?t:""},this.setPreferences=t=>{sessionStorage.setItem(wb.preferences.toString(),JSON.stringify(t))},this.getPreferences=()=>{var t;const r=null!==(t=sessionStorage.getItem(wb.preferences.toString()))&&void 0!==t?t:"";return r.length>0?JSON.parse(r):{}},this.clear=()=>{this.isUserAuthenticated$.next(!1),sessionStorage.clear()}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pg=(()=>{class n{constructor(t){this.router=t,this.isLoginRoute$=new fi.x,this.isFocusRoute$=new fi.x,this.isPreferencesRoute$=new fi.x,this.navigateFromLogin=()=>{this.router.navigate(["calendar"])},this.navigate=r=>{this.router.navigate([r])},this.createRouteSubscriptions=()=>{this.router.events.pipe(ol(r=>r instanceof As)).subscribe(r=>{this.isLoginRoute$.next(r.url.includes("login")),this.isFocusRoute$.next(r.url.includes("focus")),this.isPreferencesRoute$.next(r.url.includes("preferences"))})},this.createRouteSubscriptions()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(qi))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VC=(()=>{class n{constructor(t,r,i){this.store=t,this.sessionStorage=r,this.routerService=i,this.createUserFirebase=(l,f)=>(0,Lm.a5)(this.auth,l,f).then(m=>(console.log("Added user successfully to database."),{success:!0})).catch(m=>(console.error("Failed to Create User."),{success:!1,error:{errorMessage:m.message}})),this.loginEmailFirebase=(l,f)=>(0,Lm.a6)(this.auth,l,f).then(m=>(console.log("User authenticated successfully with database."),{success:!0})).catch(m=>(console.error("Failed to Create User."),{success:!1,error:{errorMessage:m.message}})),this.logoutFirebaseUser=()=>{this.authUser&&((0,Lm.y)(this.auth),this.sessionStorage.clear())},this.auth=(0,Lm.n)(),this.auth.onAuthStateChanged(l=>{var f;l?(this.authUser=l,this.sessionStorage.setAuthenticatedUser(null!==(f=l.email)&&void 0!==f?f:""),this.routerService.navigateFromLogin()):this.authUser=void 0})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(VN),h.LFG(LC),h.LFG(pg))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WL=(()=>{class n{constructor(t,r){this.toastrService=t,this.fireStore=r,this.model={}}createAccount(){var t=this;return(0,rt.Z)(function*(){const r=yield t.fireStore.createUserFirebase(t.model.username,t.model.password);r.success?t.toastrService.success("Account Created Successfully"):t.toastrService.error(r.error.errorMessage),console.log("created clicked!")})()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(gp),h.Y36(VC))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-create-account"]],decls:36,vars:2,consts:[["id","main-terminal",1,"terminal","container","w-50","h-70"],[1,"row"],[1,"col-12","mx-auto"],[1,"d-flex","flex-row","mb-4","login-row"],[1,"col-2",2,"align-self","center"],["id","userNameTerminal"],[1,"blinking"],[1,"p-1","input-group","mx-auto","col-6"],["id","usernameInput","placeholder","","name","userInput","type","email",1,"form-control","p-1",2,"background-color","black","color","white",3,"ngModel","ngModelChange"],["id","passTerminal"],["id","passInput","placeholder","","name","userInput","type","password",1,"form-control","p-1",2,"background-color","black","color","white",3,"ngModel","ngModelChange"],[1,"d-flex","flex-row","mb-4","login-row","w-100"],["id","passInput","placeholder","","name","userInput","type","password",1,"form-control","p-1",2,"background-color","black","color","white"],["id","createAccountLink",1,"mx-auto","col-12"],[1,"w-100","btn","btn-block","btn-black","border-white",3,"click"],["id","meeting-info"],[1,"d-flex","flex-row"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div")(6,"p",5),h._uU(7,"Username"),h.TgZ(8,"span",6),h._uU(9,":"),h.qZA()()()(),h.TgZ(10,"div",7)(11,"input",8),h.NdJ("ngModelChange",function(l){return r.model.username=l}),h.qZA()()(),h.TgZ(12,"div",3)(13,"div",4)(14,"div")(15,"p",9),h._uU(16,"Password"),h.TgZ(17,"span",6),h._uU(18,":"),h.qZA()()()(),h.TgZ(19,"div",7)(20,"input",10),h.NdJ("ngModelChange",function(l){return r.model.password=l}),h.qZA()()(),h.TgZ(21,"div",11)(22,"div",4)(23,"div")(24,"p",9),h._uU(25,"Confirm Password"),h.TgZ(26,"span",6),h._uU(27,":"),h.qZA()()()(),h.TgZ(28,"div",7),h._UZ(29,"input",12),h.qZA()(),h.TgZ(30,"div",3)(31,"div",13)(32,"a",14),h.NdJ("click",function(){return r.createAccount()}),h._uU(33,"Create Account"),h.qZA()()(),h.TgZ(34,"div",15),h._UZ(35,"div",16),h.qZA()()()()),2&t&&(h.xp6(11),h.Q6J("ngModel",r.model.username),h.xp6(9),h.Q6J("ngModel",r.model.password))},directives:[ms,ho,ji],styles:[""]}),n})();var qL=$(6461);function ZL(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"input",6),h.NdJ("ngModelChange",function(i){return h.CHM(t),h.oxw().focusMinutes=i}),h.qZA()}if(2&n){const t=h.oxw();h.Q6J("ngModel",t.focusMinutes)}}function KL(n,e){if(1&n&&(h.TgZ(0,"label",11),h._uU(1),h.qZA()),2&n){const t=h.oxw(2);h.xp6(1),h.hij("",t.focusHours,":")}}function QL(n,e){if(1&n&&(h.TgZ(0,"div",7),h.YNc(1,KL,2,1,"label",8),h.TgZ(2,"label",9),h._uU(3),h.qZA(),h.TgZ(4,"label",10),h._uU(5),h.qZA()()),2&n){const t=h.oxw();h.xp6(1),h.Q6J("ngIf",t.focusHours>0),h.xp6(2),h.hij(" ",t.focusMinutes,":"),h.xp6(2),h.hij(" ",t.focusSeconds,"")}}function YL(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",12),h.NdJ("click",function(){return h.CHM(t),h.oxw().endFocus()}),h.qZA()}}function JL(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",13),h.NdJ("click",function(){return h.CHM(t),h.oxw().startFocus()}),h.qZA()}}let XL=(()=>{class n{constructor(){this.focusHours=0,this.focusMinutes=15,this.focusSeconds=0,this.focusStarted=!1,this.focusAnimationElement=null,this.startFocus=()=>{this.calculateFocusValues(),this.focusStarted=!0,this.playFocusSounds(),this.countdown=setInterval(()=>{var t;0===this.focusMinutes&&this.focusHours>0&&(this.focusHours-=1,this.focusMinutes=59),0===this.focusSeconds&&this.focusMinutes>0&&(this.focusMinutes-=1,this.focusSeconds=59),null==this.focusAnimationElement&&(this.focusAnimationElement=document.getElementsByClassName("circle-button center-page-button btn btn-danger")[0],null===(t=this.focusAnimationElement)||void 0===t||t.setAttribute("class","circle-button center-page-button btn btn-danger center-page-button-animation")),this.focusFinished()&&this.endFocus(),this.focusSeconds-=1},1e3),console.log("Focus Started!")},this.calculateFocusValues=()=>{const t=this.focusMinutes/60;if(t>1){const r=Math.floor(t);this.focusHours=r,this.focusMinutes=Math.round(Math.abs(60*(t-r)))}},this.focusFinished=()=>0===this.focusHours&&0===this.focusMinutes&&0===this.focusSeconds,this.endFocus=()=>{var t;clearInterval(this.countdown),this.focusHours=0,this.focusMinutes=0,this.focusSeconds=0,this.focusStarted=!1,null===(t=this.focusSounds)||void 0===t||t.stop()},this.playFocusSounds=()=>{this.focusSounds=new qL.Howl({src:["assets/focusNoises.wav"],autoplay:!0,html5:!0,loop:!0})}}ngOnDestroy(){var t;this.countdown=void 0,null===(t=this.focusSounds)||void 0===t||t.stop()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-focus-main"]],decls:6,vars:4,consts:[[1,"container","h-100","w-100"],[1,"row","h-25"],["name","focus-hours-input","class","center-page-button mb-5 w-25 focus-time-input","placeholder","Minutes","type","number",3,"ngModel","ngModelChange",4,"ngIf"],["id","countdownTimerLabel","class","focus-label-countdown ml-5 w-100 d-flex flex-row",4,"ngIf"],["class","circle-button center-page-button btn btn-danger",3,"click",4,"ngIf"],["id","startFocusButton","class","circle-button center-page-button btn btn-primary",3,"click",4,"ngIf"],["name","focus-hours-input","placeholder","Minutes","type","number",1,"center-page-button","mb-5","w-25","focus-time-input",3,"ngModel","ngModelChange"],["id","countdownTimerLabel",1,"focus-label-countdown","ml-5","w-100","d-flex","flex-row"],["for","focusHours","class","",4,"ngIf"],["for","focusMinutes",1,""],["for","focusSeconds",1,""],["for","focusHours",1,""],[1,"circle-button","center-page-button","btn","btn-danger",3,"click"],["id","startFocusButton",1,"circle-button","center-page-button","btn","btn-primary",3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0),h._UZ(1,"div",1),h.YNc(2,ZL,1,1,"input",2),h.YNc(3,QL,6,3,"div",3),h.YNc(4,YL,1,0,"button",4),h.YNc(5,JL,1,0,"button",5),h.qZA()),2&t&&(h.xp6(2),h.Q6J("ngIf",!r.focusStarted),h.xp6(1),h.Q6J("ngIf",r.focusStarted),h.xp6(1),h.Q6J("ngIf",r.focusStarted),h.xp6(1),h.Q6J("ngIf",!r.focusStarted))},directives:[Tr,Hc,ms,ho,ji],styles:[".circle-button[_ngcontent-%COMP%]{height:calc(100vh / 6);width:calc(100vh / 6);border-radius:50%}#countdownTimerLabel[_ngcontent-%COMP%]{position:absolute!important;left:0;top:0}.focus-label-countdown[_ngcontent-%COMP%]{font-size:5vw;color:#fff;opacity:75%}.focus-time-input[_ngcontent-%COMP%]{font-size:100%;scale:1000%;color:#fff;text-align:center;box-shadow:none!important;text-shadow:none!important;background-color:#333;border-bottom:1px solid white;overflow:hidden}.focus-date[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{color:#fff}.center-page-button[_ngcontent-%COMP%]{text-align:center;margin:auto;display:flex;display:grid}.center-page-button-animation[_ngcontent-%COMP%]{animation:pulse 10s ease-in-out 0s infinite alternate}@keyframes pulse{to{background-color:#7531f9}50%{transform:scale(1.25)}}"]}),n})(),eV=(()=>{class n{constructor(t,r,i){var l=this;this.toastrService=t,this.routerService=r,this.firestore=i,this.model={},this.login=(0,rt.Z)(function*(){const f=yield l.firestore.loginEmailFirebase(l.model.username,l.model.password);f.success?l.toastrService.success("Login Successful."):l.toastrService.error(f.error.errorMessage)}),this.createAccount=()=>{this.routerService.navigate("createAccount")}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(gp),h.Y36(pg),h.Y36(VC))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-login"]],decls:30,vars:2,consts:[["id","main-terminal",1,"terminal","container","w-25","h-70"],[1,"row"],[1,"col-12","mx-auto"],[1,"d-flex","flex-row","mb-4","login-row"],[1,"col-1",2,"align-self","center"],["id","userNameTerminal"],[1,"blinking"],[1,"p-1","input-group","mx-auto","col-6"],["id","usernameInput","placeholder","","name","userInput","type","email",1,"form-control","p-1",2,"background-color","black","color","white",3,"ngModel","ngModelChange"],["id","passTerminal"],["id","passInput","placeholder","","name","userInput","type","password",1,"form-control","p-1",2,"background-color","black","color","white",3,"ngModel","ngModelChange"],[1,"mx-auto","col-3"],[1,"btn","btn-block","btn-black",3,"click"],["id","createAccountLink",1,"mx-auto","col-6"],[1,"btn","btn-block","btn-black","border-white",3,"click"],["id","meeting-info"],[1,"d-flex","flex-row"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div")(6,"p",5),h._uU(7,"Username"),h.TgZ(8,"span",6),h._uU(9,":"),h.qZA()()()(),h.TgZ(10,"div",7)(11,"input",8),h.NdJ("ngModelChange",function(l){return r.model.username=l}),h.qZA()()(),h.TgZ(12,"div",3)(13,"div",4)(14,"div")(15,"p",9),h._uU(16,"Password"),h.TgZ(17,"span",6),h._uU(18,":"),h.qZA()()()(),h.TgZ(19,"div",7)(20,"input",10),h.NdJ("ngModelChange",function(l){return r.model.password=l}),h.qZA()()(),h.TgZ(21,"div",3)(22,"div",11)(23,"button",12),h.NdJ("click",function(){return r.login()}),h._uU(24,"./Login"),h.qZA()(),h.TgZ(25,"div",13)(26,"a",14),h.NdJ("click",function(){return r.createAccount()}),h._uU(27,"./Create Account"),h.qZA()()(),h.TgZ(28,"div",15),h._UZ(29,"div",16),h.qZA()()()()),2&t&&(h.xp6(11),h.Q6J("ngModel",r.model.username),h.xp6(9),h.Q6J("ngModel",r.model.password))},directives:[ms,ho,ji],styles:[""]}),n})();function tV(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div")(1,"div",5)(2,"label",6),h._uU(3,"Email address"),h.qZA(),h.TgZ(4,"input",7),h.NdJ("ngModelChange",function(i){return h.CHM(t),h.oxw().model.emailAddress=i}),h.qZA()()()}if(2&n){const t=h.oxw();h.xp6(4),h.Q6J("ngModel",t.model.emailAddress)}}let nV=(()=>{class n{constructor(t){this.sessionStorageService=t,this.model={},this.enablePushNotifications=()=>{},this.getPreferences=()=>{this.model=this.sessionStorageService.getPreferences()},this.getPreferences()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(LC))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-preferences-form"]],inputs:{model:"model"},decls:6,vars:2,consts:[["id","preferencesForm"],[1,"mb-3","form-check"],["id","enablePushNotifications","type","checkbox","id","exampleCheck1",1,"form-check-input",3,"ngModel","ngModelChange"],["for","exampleCheck1",1,"form-check-label"],[4,"ngIf"],[1,"mb-3"],["for","exampleInputEmail1",1,"form-label"],["id","emailAddress","name","emailAddress","type","email","id","exampleInputEmail1","aria-describedby","emailHelp",1,"form-control",3,"ngModel","ngModelChange"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"input",2),h.NdJ("ngModelChange",function(l){return r.model.enablePushNotifications=l}),h.qZA(),h.TgZ(3,"label",3),h._uU(4,"Push Notifications"),h.qZA()(),h.YNc(5,tV,5,1,"div",4),h.qZA()),2&t&&(h.xp6(2),h.Q6J("ngModel",r.model.enablePushNotifications),h.xp6(3),h.Q6J("ngIf",r.model.enablePushNotifications))},directives:[Hs,ho,ji,Tr,ms],styles:["#preferencesForm[_ngcontent-%COMP%]{color:#fff}"]}),n})(),rV=(()=>{class n{constructor(t,r,i){this.routerService=t,this.toastrService=r,this.sessionStorageService=i,this.model={},this.save=()=>{this.toastrService.success("Preferences Saved."),this.sessionStorageService.setPreferences(this.model),this.routerService.navigate("calendar"),console.log(JSON.stringify(this.model))}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(pg),h.Y36(gp),h.Y36(LC))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-preferences-main"]],decls:15,vars:1,consts:[["id","preferencesFormMain",1,"container","formMain","w-100","h-50"],[1,"row","h-75"],[1,"col-6","h-100","mx-auto"],[1,"container","mt-5","h-100","w-100"],[1,"row","h-100","mx-auto"],[1,"col-12","mx-auto"],[3,"ngModel"],[1,"row","h-25"],[1,"col-2","h-100"],[1,"d-flex","flex-column","bd-highlight","mb-3","h-100"],[1,"col-8"],[1,"btn","btn-primary","mt-auto","p-2","mb-3","bd-highlight",3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),h._UZ(6,"app-preferences-form",6),h.qZA()()()()(),h.TgZ(7,"div",7)(8,"div",8),h._UZ(9,"div",9),h.qZA(),h._UZ(10,"div",10),h.TgZ(11,"div",8)(12,"div",9)(13,"button",11),h.NdJ("click",function(){return r.save()}),h._uU(14,"Save"),h.qZA()()()()()),2&t&&(h.xp6(6),h.Q6J("ngModel",r.model))},directives:[nV,ho,ji],styles:[""]}),n})(),UN=(()=>{class n{canActivate(t,r){return null!=sessionStorage.getItem(wb.userName)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const iV=[{path:"login",component:eV},{path:"calendar",component:oT,canActivate:[UN]},{path:"createAccount",component:WL},{path:"preferences",component:rV,canActivate:[UN]},{path:"focus",component:XL},{path:"**",redirectTo:"login"},{path:"*",redirectTo:"login"}];let sV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[wE.forRoot(iV)],wE]}),n})();var oV=$(579);let HN=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aV=(()=>{class n{constructor(t){this.routerService=t,this.onClick=()=>{this.routerService.navigate("preferences")}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(pg))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-preferences-button"]],decls:4,vars:0,consts:[[3,"click"],["id","preferencesIcon","xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-gear"],["d","M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"],["d","M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"]],template:function(t,r){1&t&&(h.TgZ(0,"a",0),h.NdJ("click",function(){return r.onClick()}),h.O4$(),h.TgZ(1,"svg",1),h._UZ(2,"path",2)(3,"path",3),h.qZA()())},styles:["#preferencesIcon[_ngcontent-%COMP%]{color:#fff;transition:transform 1.5s ease 0s;transform:scale(2.5)}#preferencesIcon[_ngcontent-%COMP%]:hover{transform:rotate(180deg) scale(4.5)}#preferencesIcon[_ngcontent-%COMP%]:hover:after{transform:rotate(-180deg)}"]}),n})(),lV=(()=>{class n{constructor(t){this.routerService=t,this.onClick=()=>{this.routerService.navigate("focus")}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(pg))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-focus-button"]],decls:3,vars:0,consts:[[3,"click"],["id","meditateIcon","xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-flower1"],["d","M6.174 1.184a2 2 0 0 1 3.652 0A2 2 0 0 1 12.99 3.01a2 2 0 0 1 1.826 3.164 2 2 0 0 1 0 3.652 2 2 0 0 1-1.826 3.164 2 2 0 0 1-3.164 1.826 2 2 0 0 1-3.652 0A2 2 0 0 1 3.01 12.99a2 2 0 0 1-1.826-3.164 2 2 0 0 1 0-3.652A2 2 0 0 1 3.01 3.01a2 2 0 0 1 3.164-1.826zM8 1a1 1 0 0 0-.998 1.03l.01.091c.012.077.029.176.054.296.049.241.122.542.213.887.182.688.428 1.513.676 2.314L8 5.762l.045-.144c.248-.8.494-1.626.676-2.314.091-.345.164-.646.213-.887a4.997 4.997 0 0 0 .064-.386L9 2a1 1 0 0 0-1-1zM2 9l.03-.002.091-.01a4.99 4.99 0 0 0 .296-.054c.241-.049.542-.122.887-.213a60.59 60.59 0 0 0 2.314-.676L5.762 8l-.144-.045a60.59 60.59 0 0 0-2.314-.676 16.705 16.705 0 0 0-.887-.213 4.99 4.99 0 0 0-.386-.064L2 7a1 1 0 1 0 0 2zm7 5-.002-.03a5.005 5.005 0 0 0-.064-.386 16.398 16.398 0 0 0-.213-.888 60.582 60.582 0 0 0-.676-2.314L8 10.238l-.045.144c-.248.8-.494 1.626-.676 2.314-.091.345-.164.646-.213.887a4.996 4.996 0 0 0-.064.386L7 14a1 1 0 1 0 2 0zm-5.696-2.134.025-.017a5.001 5.001 0 0 0 .303-.248c.184-.164.408-.377.661-.629A60.614 60.614 0 0 0 5.96 9.23l.103-.111-.147.033a60.88 60.88 0 0 0-2.343.572c-.344.093-.64.18-.874.258a5.063 5.063 0 0 0-.367.138l-.027.014a1 1 0 1 0 1 1.732zM4.5 14.062a1 1 0 0 0 1.366-.366l.014-.027c.01-.02.021-.048.036-.084a5.09 5.09 0 0 0 .102-.283c.078-.233.165-.53.258-.874a60.6 60.6 0 0 0 .572-2.343l.033-.147-.11.102a60.848 60.848 0 0 0-1.743 1.667 17.07 17.07 0 0 0-.629.66 5.06 5.06 0 0 0-.248.304l-.017.025a1 1 0 0 0 .366 1.366zm9.196-8.196a1 1 0 0 0-1-1.732l-.025.017a4.951 4.951 0 0 0-.303.248 16.69 16.69 0 0 0-.661.629A60.72 60.72 0 0 0 10.04 6.77l-.102.111.147-.033a60.6 60.6 0 0 0 2.342-.572c.345-.093.642-.18.875-.258a4.993 4.993 0 0 0 .367-.138.53.53 0 0 0 .027-.014zM11.5 1.938a1 1 0 0 0-1.366.366l-.014.027c-.01.02-.021.048-.036.084a5.09 5.09 0 0 0-.102.283c-.078.233-.165.53-.258.875a60.62 60.62 0 0 0-.572 2.342l-.033.147.11-.102a60.848 60.848 0 0 0 1.743-1.667c.252-.253.465-.477.629-.66a5.001 5.001 0 0 0 .248-.304l.017-.025a1 1 0 0 0-.366-1.366zM14 9a1 1 0 0 0 0-2l-.03.002a4.996 4.996 0 0 0-.386.064c-.242.049-.543.122-.888.213-.688.182-1.513.428-2.314.676L10.238 8l.144.045c.8.248 1.626.494 2.314.676.345.091.646.164.887.213a4.996 4.996 0 0 0 .386.064L14 9zM1.938 4.5a1 1 0 0 0 .393 1.38l.084.035c.072.03.166.064.283.103.233.078.53.165.874.258a60.88 60.88 0 0 0 2.343.572l.147.033-.103-.111a60.584 60.584 0 0 0-1.666-1.742 16.705 16.705 0 0 0-.66-.629 4.996 4.996 0 0 0-.304-.248l-.025-.017a1 1 0 0 0-1.366.366zm2.196-1.196.017.025a4.996 4.996 0 0 0 .248.303c.164.184.377.408.629.661A60.597 60.597 0 0 0 6.77 5.96l.111.102-.033-.147a60.602 60.602 0 0 0-.572-2.342c-.093-.345-.18-.642-.258-.875a5.006 5.006 0 0 0-.138-.367l-.014-.027a1 1 0 1 0-1.732 1zm9.928 8.196a1 1 0 0 0-.366-1.366l-.027-.014a5 5 0 0 0-.367-.138c-.233-.078-.53-.165-.875-.258a60.619 60.619 0 0 0-2.342-.572l-.147-.033.102.111a60.73 60.73 0 0 0 1.667 1.742c.253.252.477.465.66.629a4.946 4.946 0 0 0 .304.248l.025.017a1 1 0 0 0 1.366-.366zm-3.928 2.196a1 1 0 0 0 1.732-1l-.017-.025a5.065 5.065 0 0 0-.248-.303 16.705 16.705 0 0 0-.629-.661A60.462 60.462 0 0 0 9.23 10.04l-.111-.102.033.147a60.6 60.6 0 0 0 .572 2.342c.093.345.18.642.258.875a4.985 4.985 0 0 0 .138.367.575.575 0 0 0 .014.027zM8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"]],template:function(t,r){1&t&&(h.TgZ(0,"a",0),h.NdJ("click",function(){return r.onClick()}),h.O4$(),h.TgZ(1,"svg",1),h._UZ(2,"path",2),h.qZA()())},styles:["#meditateIcon[_ngcontent-%COMP%]{color:#7531f9;transform:scale(2.5);transition:transform 1.5s ease 0s}#meditateIcon[_ngcontent-%COMP%]:hover{transform:rotate(180deg) scale(4.5)}#meditateIcon[_ngcontent-%COMP%]:hover:after{transform:rotate(-180deg)}"]}),n})(),uV=(()=>{class n{constructor(t,r){this.routerService=t,this.fireBaseService=r,this.onClick=()=>{this.fireBaseService.logoutFirebaseUser(),this.routerService.navigate("login")}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(pg),h.Y36(VC))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-logout-button"]],decls:4,vars:0,consts:[[3,"click"],["id","logoutIcon","xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-box-arrow-left"],["fill-rule","evenodd","d","M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5 1.5 0 0 1 6.5 2h8A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 5 12.5v-2a.5.5 0 0 1 1 0v2z"],["fill-rule","evenodd","d","M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"]],template:function(t,r){1&t&&(h.TgZ(0,"a",0),h.NdJ("click",function(){return r.onClick()}),h.O4$(),h.TgZ(1,"svg",1),h._UZ(2,"path",2)(3,"path",3),h.qZA()())},styles:["#logoutIcon[_ngcontent-%COMP%]{color:#f5f5f5;transform:scale(2.5);transition:transform 1.5s ease 0s}#logoutIcon[_ngcontent-%COMP%]:hover{transform:scale(4.5)}"]}),n})();function cV(n,e){1&n&&h._UZ(0,"app-preferences-button",3)}function dV(n,e){1&n&&h._UZ(0,"app-focus-button",4)}function fV(n,e){1&n&&h._UZ(0,"app-logout-button",5)}let hV=(()=>{class n{constructor(t,r){this.sessionStoreService=t,this.routerService=r,this.isUserAuthenticated$=this.sessionStoreService.isUserAuthenticated$,this.isLoginRoute$=this.routerService.isLoginRoute$,this.isFocusRoute$=this.routerService.isFocusRoute$,this.isPreferencesRoute$=this.routerService.isPreferencesRoute$}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(LC),h.Y36(pg))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-header-main"]],decls:7,vars:11,consts:[["class","mr-4",4,"ngIf"],["class","ml-4 mr-4",4,"ngIf"],["class","ml-4",4,"ngIf"],[1,"mr-4"],[1,"ml-4","mr-4"],[1,"ml-4"]],template:function(t,r){1&t&&(h.YNc(0,cV,1,0,"app-preferences-button",0),h.ALo(1,"async"),h.ALo(2,"async"),h.YNc(3,dV,1,0,"app-focus-button",1),h.ALo(4,"async"),h.YNc(5,fV,1,0,"app-logout-button",2),h.ALo(6,"async")),2&t&&(h.Q6J("ngIf",!1===h.lcZ(1,3,r.isLoginRoute$)&&h.lcZ(2,5,r.isUserAuthenticated$)),h.xp6(3),h.Q6J("ngIf",!1===h.lcZ(4,7,r.isFocusRoute$)),h.xp6(2),h.Q6J("ngIf",!1===h.lcZ(6,9,r.isLoginRoute$)))},directives:[Tr,aV,lV,uV],pipes:[na],styles:[""]}),n})(),pV=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-footer-main"]],decls:8,vars:0,consts:[["href","https://noises.online","title","Noises.Online","target","_blank"],["href","http://creativecommons.org/licenses/by/3.0/","title","Creative Commons BY 3.0","target","_blank"]],template:function(t,r){1&t&&(h.TgZ(0,"div"),h._uU(1,"Background audio track provided by "),h.TgZ(2,"a",0),h._uU(3,"Noises.Online"),h.qZA(),h._uU(4," under a "),h.TgZ(5,"a",1),h._uU(6,"CC 3.0 BY"),h.qZA(),h._uU(7," license."),h.qZA())},styles:[""]}),n})();const gV=(0,ud.initializeApp)(BN);(0,oV.IH)(gV);let mV=(()=>{class n{constructor(t){this.storage=t}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(HN))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:11,vars:0,consts:[["id","app-header",1,"container"],[1,"row","w-100","mt-4","d-flex","flex-row-reverse"],["id","main-content",1,"container","mt-4"],[1,"row","w-100"],[1,"col-12"],["id","main-center-content",1,"row","w-100"],[1,"col-12","mx-auto"],[1,""]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1),h._UZ(2,"app-header-main"),h.qZA()(),h.TgZ(3,"div",2)(4,"div",3),h._UZ(5,"div",4),h.qZA(),h.TgZ(6,"div",5)(7,"div",6),h._UZ(8,"router-outlet"),h.qZA()(),h.TgZ(9,"div",7),h._UZ(10,"app-footer-main"),h.qZA()())},directives:[hV,tp,pV],styles:["#main-content[_ngcontent-%COMP%]{min-height:90vh!important;min-width:98vw!important;height:90vh!important;width:98vw!important;z-index:3!important;position:fixed}#main-center-content[_ngcontent-%COMP%]{height:90vh!important;width:98vw!important}#app-header[_ngcontent-%COMP%]{height:2vh!important;min-width:100vw!important}"]}),n})();var vV=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.headerElRef=(0,Ve.createRef)(),t}return(0,$n.__extends)(e,n),e.prototype.renderSimpleLayout=function(t,r){var l=this.props,f=this.context,m=[],A=(0,Ve.getStickyHeaderDates)(f.options);return t&&m.push({type:"header",key:"header",isSticky:A,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}}),m.push({type:"body",key:"body",liquid:!0,chunk:{content:r}}),(0,Ve.createElement)(Ve.ViewRoot,{viewSpec:f.viewSpec},function(M,P){return(0,Ve.createElement)("div",{ref:M,className:["fc-daygrid"].concat(P).join(" ")},(0,Ve.createElement)(Ve.SimpleScrollGrid,{liquid:!l.isHeightAuto&&!l.forPrint,collapsibleWidth:l.forPrint,cols:[],sections:m}))})},e.prototype.renderHScrollLayout=function(t,r,i,l){var f=this.context.pluginHooks.scrollGridImpl;if(!f)throw new Error("No ScrollGrid implementation");var A=this.props,M=this.context,P=!A.forPrint&&(0,Ve.getStickyHeaderDates)(M.options),V=!A.forPrint&&(0,Ve.getStickyFooterScrollbar)(M.options),se=[];return t&&se.push({type:"header",key:"header",isSticky:P,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}]}),se.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:r}]}),V&&se.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Ve.renderScrollShim}]}),(0,Ve.createElement)(Ve.ViewRoot,{viewSpec:M.viewSpec},function(pe,ve){return(0,Ve.createElement)("div",{ref:pe,className:["fc-daygrid"].concat(ve).join(" ")},(0,Ve.createElement)(f,{liquid:!A.isHeightAuto&&!A.forPrint,collapsibleWidth:A.forPrint,colGroups:[{cols:[{span:i,minWidth:l}]}],sections:se}))})},e}(Ve.DateComponent);function BC(n,e){for(var t=[],r=0;r<e;r+=1)t[r]=[];for(var i=0,l=n;i<l.length;i++){var f=l[i];t[f.row].push(f)}return t}function UC(n,e){for(var t=[],r=0;r<e;r+=1)t[r]=[];for(var i=0,l=n;i<l.length;i++){var f=l[i];t[f.firstCol].push(f)}return t}function jN(n,e){var t=[];if(n){for(var r=0;r<e;r+=1)t[r]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(var i=0,l=n.segs;i<l.length;i++){var f=l[i];t[f.row].segs.push(f)}}else for(r=0;r<e;r+=1)t[r]=null;return t}var yV=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,$n.__extends)(e,n),e.prototype.render=function(){var t=this.props,r=(0,Ve.buildNavLinkAttrs)(this.context,t.date);return(0,Ve.createElement)(Ve.DayCellContent,{date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,showDayNumber:t.showDayNumber,extraHookProps:t.extraHookProps,defaultContent:_V},function(i,l){return(l||t.forceDayTop)&&(0,Ve.createElement)("div",{className:"fc-daygrid-day-top",ref:i},(0,Ve.createElement)("a",(0,$n.__assign)({id:t.dayNumberId,className:"fc-daygrid-day-number"},r),l||(0,Ve.createElement)(Ve.Fragment,null,"\xa0")))})},e}(Ve.BaseComponent);function _V(n){return n.dayNumberText}var GN=(0,Ve.createFormatter)({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function zN(n){var e=n.eventRange.ui.display;return"list-item"===e||"auto"===e&&!n.eventRange.def.allDay&&n.firstCol===n.lastCol&&n.isStart&&n.isEnd}var $N=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,$n.__extends)(e,n),e.prototype.render=function(){var t=this.props;return(0,Ve.createElement)(Ve.StandardEvent,(0,$n.__assign)({},t,{extraClassNames:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:GN,defaultDisplayEventEnd:t.defaultDisplayEventEnd,disableResizing:!t.seg.eventRange.def.allDay}))},e}(Ve.BaseComponent),WN=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,$n.__extends)(e,n),e.prototype.render=function(){var r=this.props,i=this.context,f=(0,Ve.buildSegTimeText)(r.seg,i.options.eventTimeFormat||GN,i,!0,r.defaultDisplayEventEnd);return(0,Ve.createElement)(Ve.EventRoot,{seg:r.seg,timeText:f,defaultContent:bV,isDragging:r.isDragging,isResizing:!1,isDateSelecting:!1,isSelected:r.isSelected,isPast:r.isPast,isFuture:r.isFuture,isToday:r.isToday},function(m,A,M,P){return(0,Ve.createElement)("a",(0,$n.__assign)({className:["fc-daygrid-event","fc-daygrid-dot-event"].concat(A).join(" "),ref:m},(0,Ve.getSegAnchorAttrs)(r.seg,i)),P)})},e}(Ve.BaseComponent);function bV(n){return(0,Ve.createElement)(Ve.Fragment,null,(0,Ve.createElement)("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&(0,Ve.createElement)("div",{className:"fc-event-time"},n.timeText),(0,Ve.createElement)("div",{className:"fc-event-title"},n.event.title||(0,Ve.createElement)(Ve.Fragment,null,"\xa0")))}var AV=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.compileSegs=(0,Ve.memoize)(EV),t}return(0,$n.__extends)(e,n),e.prototype.render=function(){var t=this.props,r=this.compileSegs(t.singlePlacements),i=r.allSegs;return(0,Ve.createElement)(Ve.MoreLinkRoot,{dateProfile:t.dateProfile,todayRange:t.todayRange,allDayDate:t.allDayDate,moreCnt:t.moreCnt,allSegs:i,hiddenSegs:r.invisibleSegs,alignmentElRef:t.alignmentElRef,alignGridTop:t.alignGridTop,extraDateSpan:t.extraDateSpan,popoverContent:function(){var f=(t.eventDrag?t.eventDrag.affectedInstances:null)||(t.eventResize?t.eventResize.affectedInstances:null)||{};return(0,Ve.createElement)(Ve.Fragment,null,i.map(function(m){var A=m.eventRange.instance.instanceId;return(0,Ve.createElement)("div",{className:"fc-daygrid-event-harness",key:A,style:{visibility:f[A]?"hidden":""}},zN(m)?(0,Ve.createElement)(WN,(0,$n.__assign)({seg:m,isDragging:!1,isSelected:A===t.eventSelection,defaultDisplayEventEnd:!1},(0,Ve.getSegMeta)(m,t.todayRange))):(0,Ve.createElement)($N,(0,$n.__assign)({seg:m,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:A===t.eventSelection,defaultDisplayEventEnd:!1},(0,Ve.getSegMeta)(m,t.todayRange))))}))}},function(f,m,A,M,P,V,se,pe){return(0,Ve.createElement)("a",(0,$n.__assign)({ref:f,className:["fc-daygrid-more-link"].concat(m).join(" "),title:V,"aria-expanded":se,"aria-controls":pe},(0,Ve.createAriaClickAttrs)(P)),M)})},e}(Ve.BaseComponent);function EV(n){for(var e=[],t=[],r=0,i=n;r<i.length;r++){var l=i[r];e.push(l.seg),l.isVisible||t.push(l.seg)}return{allSegs:e,invisibleSegs:t}}var wV=(0,Ve.createFormatter)({week:"narrow"}),CV=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.rootElRef=(0,Ve.createRef)(),t.state={dayNumberId:(0,Ve.getUniqueDomId)()},t.handleRootEl=function(r){(0,Ve.setRef)(t.rootElRef,r),(0,Ve.setRef)(t.props.elRef,r)},t}return(0,$n.__extends)(e,n),e.prototype.render=function(){var t=this,i=t.props,l=t.state,f=t.rootElRef,m=i.date,A=i.dateProfile,M=(0,Ve.buildNavLinkAttrs)(t.context,m,"week");return(0,Ve.createElement)(Ve.DayCellRoot,{date:m,dateProfile:A,todayRange:i.todayRange,showDayNumber:i.showDayNumber,extraHookProps:i.extraHookProps,elRef:this.handleRootEl},function(P,V,se,pe){return(0,Ve.createElement)("td",(0,$n.__assign)({ref:P,role:"gridcell",className:["fc-daygrid-day"].concat(V,i.extraClassNames||[]).join(" ")},se,i.extraDataAttrs,i.showDayNumber?{"aria-labelledby":l.dayNumberId}:{}),(0,Ve.createElement)("div",{className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",ref:i.innerElRef},i.showWeekNumber&&(0,Ve.createElement)(Ve.WeekNumberRoot,{date:m,defaultFormat:wV},function(ve,je,ft,Ht){return(0,Ve.createElement)("a",(0,$n.__assign)({ref:ve,className:["fc-daygrid-week-number"].concat(je).join(" ")},M),Ht)}),!pe&&(0,Ve.createElement)(yV,{date:m,dateProfile:A,showDayNumber:i.showDayNumber,dayNumberId:l.dayNumberId,forceDayTop:i.forceDayTop,todayRange:i.todayRange,extraHookProps:i.extraHookProps}),(0,Ve.createElement)("div",{className:"fc-daygrid-day-events",ref:i.fgContentElRef},i.fgContent,(0,Ve.createElement)("div",{className:"fc-daygrid-day-bottom",style:{marginTop:i.moreMarginTop}},(0,Ve.createElement)(AV,{allDayDate:m,singlePlacements:i.singlePlacements,moreCnt:i.moreCnt,alignmentElRef:f,alignGridTop:!i.showDayNumber,extraDateSpan:i.extraDateSpan,dateProfile:i.dateProfile,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,todayRange:i.todayRange}))),(0,Ve.createElement)("div",{className:"fc-daygrid-day-bg"},i.bgContent)))})},e}(Ve.DateComponent);function Jv(n,e,t,r){if(n.firstCol===e&&n.lastCol===t-1)return n;var i=n.eventRange,l=i.range,f=(0,Ve.intersectRanges)(l,{start:r[e].date,end:(0,Ve.addDays)(r[t-1].date,1)});return(0,$n.__assign)((0,$n.__assign)({},n),{firstCol:e,lastCol:t-1,eventRange:{def:i.def,ui:(0,$n.__assign)((0,$n.__assign)({},i.ui),{durationEditable:!1}),instance:i.instance,range:f},isStart:n.isStart&&f.start.valueOf()===l.start.valueOf(),isEnd:n.isEnd&&f.end.valueOf()===l.end.valueOf()})}var SV=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.hiddenConsumes=!1,t.forceHidden={},t}return(0,$n.__extends)(e,n),e.prototype.addSegs=function(t){for(var r=this,i=n.prototype.addSegs.call(this,t),l=this.entriesByLevel,f=function(A){return!r.forceHidden[(0,Ve.buildEntryKey)(A)]},m=0;m<l.length;m+=1)l[m]=l[m].filter(f);return i},e.prototype.handleInvalidInsertion=function(t,r,i){var f=this.entriesByLevel,m=this.forceHidden,A=t.touchingEntry,M=t.touchingLevel,P=t.touchingLateral;if(this.hiddenConsumes&&A){var V=(0,Ve.buildEntryKey)(A);if(!m[V])if(this.allowReslicing){var se=(0,$n.__assign)((0,$n.__assign)({},A),{span:(0,Ve.intersectSpans)(A.span,r.span)});m[(0,Ve.buildEntryKey)(se)]=!0,f[M][P]=se,this.splitEntry(A,r,i)}else m[V]=!0,i.push(A)}return n.prototype.handleInvalidInsertion.call(this,t,r,i)},e}(Ve.SegHierarchy),qN=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.cellElRefs=new Ve.RefMap,t.frameElRefs=new Ve.RefMap,t.fgElRefs=new Ve.RefMap,t.segHarnessRefs=new Ve.RefMap,t.rootElRef=(0,Ve.createRef)(),t.state={framePositions:null,maxContentHeight:null,eventInstanceHeights:{}},t}return(0,$n.__extends)(e,n),e.prototype.render=function(){var t=this,r=this,i=r.props,l=r.state,m=r.context.options,A=i.cells.length,M=UC(i.businessHourSegs,A),P=UC(i.bgEventSegs,A),V=UC(this.getHighlightSegs(),A),se=UC(this.getMirrorSegs(),A),pe=function DV(n,e,t,r,i,l,f){var m=new SV;m.allowReslicing=!0,m.strictOrder=r,!0===e||!0===t?(m.maxCoord=l,m.hiddenConsumes=!0):"number"==typeof e?m.maxStackCnt=e:"number"==typeof t&&(m.maxStackCnt=t,m.hiddenConsumes=!0);for(var A=[],M=[],P=0;P<n.length;P+=1){var pe=i[(V=n[P]).eventRange.instance.instanceId];null!=pe?A.push({index:P,thickness:pe,span:{start:V.firstCol,end:V.lastCol+1}}):M.push(V)}for(var ve=m.addSegs(A),ft=function TV(n,e,t){for(var r=function IV(n,e){for(var t=[],r=0;r<e;r+=1)t.push([]);for(var i=0,l=n;i<l.length;i++){var f=l[i];for(r=f.span.start;r<f.span.end;r+=1)t[r].push(f)}return t}(n,t.length),i=[],l=[],f=[],m=0;m<t.length;m+=1){for(var A=r[m],M=[],P=0,V=0,se=0,pe=A;se<pe.length;se++)M.push({seg:Jv(je=e[(ve=pe[se]).index],m,m+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:ve.levelCoord,marginTop:ve.levelCoord-P}),P=ve.levelCoord+ve.thickness;var ft=[];P=0,V=0;for(var Ht=0,Lt=A;Ht<Lt.length;Ht++){var ve,je=e[(ve=Lt[Ht]).index],It=ve.span.start===m;V+=ve.levelCoord-P,P=ve.levelCoord+ve.thickness,ve.span.end-ve.span.start>1?(V+=ve.thickness,It&&ft.push({seg:Jv(je,ve.span.start,ve.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:ve.levelCoord,marginTop:0})):It&&(ft.push({seg:Jv(je,ve.span.start,ve.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:ve.levelCoord,marginTop:V}),V=0)}i.push(M),l.push(ft),f.push(V)}return{singleColPlacements:i,multiColPlacements:l,leftoverMargins:f}}(m.toRects(),n,f),Ht=ft.singleColPlacements,Lt=ft.multiColPlacements,Gt=ft.leftoverMargins,It=[],bn=[],mn=0,Jn=M;mn<Jn.length;mn++){Lt[(V=Jn[mn]).firstCol].push({seg:V,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(var Xn=V.firstCol;Xn<=V.lastCol;Xn+=1)Ht[Xn].push({seg:Jv(V,Xn,Xn+1,f),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(Xn=0;Xn<f.length;Xn+=1)It.push(0);for(var Na=0,yl=ve;Na<yl.length;Na++){var V,Cb=yl[Na],uu=Cb.span;for(Lt[uu.start].push({seg:Jv(V=n[Cb.index],uu.start,uu.end,f),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0}),Xn=uu.start;Xn<uu.end;Xn+=1)It[Xn]+=1,Ht[Xn].push({seg:Jv(V,Xn,Xn+1,f),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(Xn=0;Xn<f.length;Xn+=1)bn.push(Gt[Xn]);return{singleColPlacements:Ht,multiColPlacements:Lt,moreCnts:It,moreMarginTops:bn}}((0,Ve.sortEventSegs)(i.fgEventSegs,m.eventOrder),i.dayMaxEvents,i.dayMaxEventRows,m.eventOrderStrict,l.eventInstanceHeights,l.maxContentHeight,i.cells),ve=pe.singleColPlacements,je=pe.multiColPlacements,ft=pe.moreCnts,Ht=pe.moreMarginTops,Lt=i.eventDrag&&i.eventDrag.affectedInstances||i.eventResize&&i.eventResize.affectedInstances||{};return(0,Ve.createElement)("tr",{ref:this.rootElRef,role:"row"},i.renderIntro&&i.renderIntro(),i.cells.map(function(Gt,It){var bn=t.renderFgSegs(It,i.forPrint?ve[It]:je[It],i.todayRange,Lt),mn=t.renderFgSegs(It,function MV(n,e){if(!n.length)return[];var t=function xV(n){for(var e={},t=0,r=n;t<r.length;t++)for(var l=0,f=r[t];l<f.length;l++){var m=f[l];e[m.seg.eventRange.instance.instanceId]=m.absoluteTop}return e}(e);return n.map(function(r){return{seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:t[r.eventRange.instance.instanceId],marginTop:0}})}(se[It],je),i.todayRange,{},Boolean(i.eventDrag),Boolean(i.eventResize),!1);return(0,Ve.createElement)(CV,{key:Gt.key,elRef:t.cellElRefs.createRef(Gt.key),innerElRef:t.frameElRefs.createRef(Gt.key),dateProfile:i.dateProfile,date:Gt.date,showDayNumber:i.showDayNumbers,showWeekNumber:i.showWeekNumbers&&0===It,forceDayTop:i.showWeekNumbers,todayRange:i.todayRange,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,extraHookProps:Gt.extraHookProps,extraDataAttrs:Gt.extraDataAttrs,extraClassNames:Gt.extraClassNames,extraDateSpan:Gt.extraDateSpan,moreCnt:ft[It],moreMarginTop:Ht[It],singlePlacements:ve[It],fgContentElRef:t.fgElRefs.createRef(Gt.key),fgContent:(0,Ve.createElement)(Ve.Fragment,null,(0,Ve.createElement)(Ve.Fragment,null,bn),(0,Ve.createElement)(Ve.Fragment,null,mn)),bgContent:(0,Ve.createElement)(Ve.Fragment,null,t.renderFillSegs(V[It],"highlight"),t.renderFillSegs(M[It],"non-business"),t.renderFillSegs(P[It],"bg-event"))})}))},e.prototype.componentDidMount=function(){this.updateSizing(!0)},e.prototype.componentDidUpdate=function(t,r){this.updateSizing(!(0,Ve.isPropsEqual)(t,this.props))},e.prototype.getHighlightSegs=function(){var t=this.props;return t.eventDrag&&t.eventDrag.segs.length?t.eventDrag.segs:t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:t.dateSelectionSegs},e.prototype.getMirrorSegs=function(){var t=this.props;return t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:[]},e.prototype.renderFgSegs=function(t,r,i,l,f,m,A){var M=this.context,P=this.props.eventSelection,V=this.state.framePositions,se=1===this.props.cells.length,pe=f||m||A,ve=[];if(V)for(var je=0,ft=r;je<ft.length;je++){var Ht=ft[je],Lt=Ht.seg,Gt=Lt.eventRange.instance.instanceId,It=Gt+":"+t,bn=Ht.isVisible&&!l[Gt],mn=Ht.isAbsolute,Jn="",Xn="";mn&&(M.isRtl?(Xn=0,Jn=V.lefts[Lt.lastCol]-V.lefts[Lt.firstCol]):(Jn=0,Xn=V.rights[Lt.firstCol]-V.rights[Lt.lastCol])),ve.push((0,Ve.createElement)("div",{className:"fc-daygrid-event-harness"+(mn?" fc-daygrid-event-harness-abs":""),key:It,ref:pe?null:this.segHarnessRefs.createRef(It),style:{visibility:bn?"":"hidden",marginTop:mn?"":Ht.marginTop,top:mn?Ht.absoluteTop:"",left:Jn,right:Xn}},zN(Lt)?(0,Ve.createElement)(WN,(0,$n.__assign)({seg:Lt,isDragging:f,isSelected:Gt===P,defaultDisplayEventEnd:se},(0,Ve.getSegMeta)(Lt,i))):(0,Ve.createElement)($N,(0,$n.__assign)({seg:Lt,isDragging:f,isResizing:m,isDateSelecting:A,isSelected:Gt===P,defaultDisplayEventEnd:se},(0,Ve.getSegMeta)(Lt,i)))))}return ve},e.prototype.renderFillSegs=function(t,r){var i=this.context.isRtl,l=this.props.todayRange,f=this.state.framePositions,m=[];if(f)for(var A=0,M=t;A<M.length;A++){var P=M[A],V=i?{right:0,left:f.lefts[P.lastCol]-f.lefts[P.firstCol]}:{left:0,right:f.rights[P.firstCol]-f.rights[P.lastCol]};m.push((0,Ve.createElement)("div",{key:(0,Ve.buildEventRangeKey)(P.eventRange),className:"fc-daygrid-bg-harness",style:V},"bg-event"===r?(0,Ve.createElement)(Ve.BgEvent,(0,$n.__assign)({seg:P},(0,Ve.getSegMeta)(P,l))):(0,Ve.renderFill)(r)))}return Ve.createElement.apply(void 0,(0,$n.__spreadArray)([Ve.Fragment,{}],m))},e.prototype.updateSizing=function(t){var i=this.props,l=this.frameElRefs;if(!i.forPrint&&null!==i.clientWidth){if(t){var f=i.cells.map(function(V){return l.currentMap[V.key]});f.length&&this.setState({framePositions:new Ve.PositionCache(this.rootElRef.current,f,!0,!1)})}var A=this.state.eventInstanceHeights,M=this.queryEventInstanceHeights(),P=!0===i.dayMaxEvents||!0===i.dayMaxEventRows;this.setState({eventInstanceHeights:(0,$n.__assign)((0,$n.__assign)({},A),M),maxContentHeight:P?this.computeMaxContentHeight():null})}},e.prototype.queryEventInstanceHeights=function(){var t=this.segHarnessRefs.currentMap,r={};for(var i in t){var l=Math.round(t[i].getBoundingClientRect().height),f=i.split(":")[0];r[f]=Math.max(r[f]||0,l)}return r},e.prototype.computeMaxContentHeight=function(){var t=this.props.cells[0].key,i=this.fgElRefs.currentMap[t];return this.cellElRefs.currentMap[t].getBoundingClientRect().bottom-i.getBoundingClientRect().top},e.prototype.getCellEls=function(){var t=this.cellElRefs.currentMap;return this.props.cells.map(function(r){return t[r.key]})},e}(Ve.DateComponent);qN.addStateEquality({eventInstanceHeights:Ve.isPropsEqual});var RV=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.splitBusinessHourSegs=(0,Ve.memoize)(BC),t.splitBgEventSegs=(0,Ve.memoize)(BC),t.splitFgEventSegs=(0,Ve.memoize)(BC),t.splitDateSelectionSegs=(0,Ve.memoize)(BC),t.splitEventDrag=(0,Ve.memoize)(jN),t.splitEventResize=(0,Ve.memoize)(jN),t.rowRefs=new Ve.RefMap,t.handleRootEl=function(r){t.rootEl=r,r?t.context.registerInteractiveComponent(t,{el:r,isHitComboAllowed:t.props.isHitComboAllowed}):t.context.unregisterInteractiveComponent(t)},t}return(0,$n.__extends)(e,n),e.prototype.render=function(){var t=this,r=this.props,i=r.dateProfile,l=r.dayMaxEventRows,f=r.dayMaxEvents,m=r.expandRows,A=r.cells.length,M=this.splitBusinessHourSegs(r.businessHourSegs,A),P=this.splitBgEventSegs(r.bgEventSegs,A),V=this.splitFgEventSegs(r.fgEventSegs,A),se=this.splitDateSelectionSegs(r.dateSelectionSegs,A),pe=this.splitEventDrag(r.eventDrag,A),ve=this.splitEventResize(r.eventResize,A),je=!0===f||!0===l;return je&&!m&&(je=!1,l=null,f=null),(0,Ve.createElement)("div",{className:["fc-daygrid-body",je?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",m?"":"fc-daygrid-body-natural"].join(" "),ref:this.handleRootEl,style:{width:r.clientWidth,minWidth:r.tableMinWidth}},(0,Ve.createElement)(Ve.NowTimer,{unit:"day"},function(Ht,Lt){return(0,Ve.createElement)(Ve.Fragment,null,(0,Ve.createElement)("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:r.clientWidth,minWidth:r.tableMinWidth,height:m?r.clientHeight:""}},r.colGroupNode,(0,Ve.createElement)("tbody",{role:"presentation"},r.cells.map(function(Gt,It){return(0,Ve.createElement)(qN,{ref:t.rowRefs.createRef(It),key:Gt.length?Gt[0].date.toISOString():It,showDayNumbers:A>1,showWeekNumbers:r.showWeekNumbers,todayRange:Lt,dateProfile:i,cells:Gt,renderIntro:r.renderRowIntro,businessHourSegs:M[It],eventSelection:r.eventSelection,bgEventSegs:P[It].filter(NV),fgEventSegs:V[It],dateSelectionSegs:se[It],eventDrag:pe[It],eventResize:ve[It],dayMaxEvents:f,dayMaxEventRows:l,clientWidth:r.clientWidth,clientHeight:r.clientHeight,forPrint:r.forPrint})}))))}))},e.prototype.prepareHits=function(){this.rowPositions=new Ve.PositionCache(this.rootEl,this.rowRefs.collect().map(function(t){return t.getCellEls()[0]}),!1,!0),this.colPositions=new Ve.PositionCache(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)},e.prototype.queryHit=function(t,r){var l=this.colPositions,f=this.rowPositions,m=l.leftToIndex(t),A=f.topToIndex(r);if(null!=A&&null!=m){var M=this.props.cells[A][m];return{dateProfile:this.props.dateProfile,dateSpan:(0,$n.__assign)({range:this.getCellRange(A,m),allDay:!0},M.extraDateSpan),dayEl:this.getCellEl(A,m),rect:{left:l.lefts[m],right:l.rights[m],top:f.tops[A],bottom:f.bottoms[A]},layer:0}}return null},e.prototype.getCellEl=function(t,r){return this.rowRefs.currentMap[t].getCellEls()[r]},e.prototype.getCellRange=function(t,r){var i=this.props.cells[t][r].date;return{start:i,end:(0,Ve.addDays)(i,1)}},e}(Ve.DateComponent);function NV(n){return n.eventRange.def.allDay}var kV=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.forceDayIfListItem=!0,t}return(0,$n.__extends)(e,n),e.prototype.sliceRange=function(t,r){return r.sliceRange(t)},e}(Ve.Slicer),OV=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.slicer=new kV,t.tableRef=(0,Ve.createRef)(),t}return(0,$n.__extends)(e,n),e.prototype.render=function(){var r=this.props;return(0,Ve.createElement)(RV,(0,$n.__assign)({ref:this.tableRef},this.slicer.sliceProps(r,r.dateProfile,r.nextDayThreshold,this.context,r.dayTableModel),{dateProfile:r.dateProfile,cells:r.dayTableModel.cells,colGroupNode:r.colGroupNode,tableMinWidth:r.tableMinWidth,renderRowIntro:r.renderRowIntro,dayMaxEvents:r.dayMaxEvents,dayMaxEventRows:r.dayMaxEventRows,showWeekNumbers:r.showWeekNumbers,expandRows:r.expandRows,headerAlignElRef:r.headerAlignElRef,clientWidth:r.clientWidth,clientHeight:r.clientHeight,forPrint:r.forPrint}))},e}(Ve.DateComponent),PV=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.buildDayTableModel=(0,Ve.memoize)(FV),t.headerRef=(0,Ve.createRef)(),t.tableRef=(0,Ve.createRef)(),t}return(0,$n.__extends)(e,n),e.prototype.render=function(){var t=this,r=this.context,i=r.options,f=this.props,m=this.buildDayTableModel(f.dateProfile,r.dateProfileGenerator),A=i.dayHeaders&&(0,Ve.createElement)(Ve.DayHeader,{ref:this.headerRef,dateProfile:f.dateProfile,dates:m.headerDates,datesRepDistinctDays:1===m.rowCnt}),M=function(P){return(0,Ve.createElement)(OV,{ref:t.tableRef,dateProfile:f.dateProfile,dayTableModel:m,businessHours:f.businessHours,dateSelection:f.dateSelection,eventStore:f.eventStore,eventUiBases:f.eventUiBases,eventSelection:f.eventSelection,eventDrag:f.eventDrag,eventResize:f.eventResize,nextDayThreshold:i.nextDayThreshold,colGroupNode:P.tableColGroupNode,tableMinWidth:P.tableMinWidth,dayMaxEvents:i.dayMaxEvents,dayMaxEventRows:i.dayMaxEventRows,showWeekNumbers:i.weekNumbers,expandRows:!f.isHeightAuto,headerAlignElRef:t.headerElRef,clientWidth:P.clientWidth,clientHeight:P.clientHeight,forPrint:f.forPrint})};return i.dayMinWidth?this.renderHScrollLayout(A,M,m.colCnt,i.dayMinWidth):this.renderSimpleLayout(A,M)},e}(vV);function FV(n,e){var t=new Ve.DaySeriesModel(n.renderRange,e);return new Ve.DayTableModel(t,/year|month|week/.test(n.currentRangeUnit))}var LV=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,$n.__extends)(e,n),e.prototype.buildRenderRange=function(t,r,i){var M,l=this.props.dateEnv,f=n.prototype.buildRenderRange.call(this,t,r,i),m=f.start,A=f.end;if(/^(year|month)$/.test(r)&&(m=l.startOfWeek(m),(M=l.startOfWeek(A)).valueOf()!==A.valueOf()&&(A=(0,Ve.addWeeks)(M,1))),this.props.monthMode&&this.props.fixedWeekCount){var P=Math.ceil((0,Ve.diffWeeks)(m,A));A=(0,Ve.addWeeks)(A,6-P)}return{start:m,end:A}},e}(Ve.DateProfileGenerator),VV=(0,Ve.createPlugin)({initialView:"dayGridMonth",views:{dayGrid:{component:PV,dateProfileGeneratorClass:LV},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}});const ZN_firebase=BN;NE.registerPlugins([VV]);let UV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[mV]}),n.\u0275inj=h.cJS({providers:[HN,Storage,VC],imports:[[Qo.hO.initializeApp(ZN_firebase),LL,$L,Cl,Fu,sV,hD,GE.forRoot(),NE]]}),n})();(0,h.G48)(),ih().bootstrapModule(UV).catch(n=>console.error(n))},2559:Rt=>{"use strict";Rt.exports=function $e($,h){if($===h)return!0;if($&&h&&"object"==typeof $&&"object"==typeof h){if($.constructor!==h.constructor)return!1;var k,R,G;if(Array.isArray($)){if((k=$.length)!=h.length)return!1;for(R=k;0!=R--;)if(!$e($[R],h[R]))return!1;return!0}if($.constructor===RegExp)return $.source===h.source&&$.flags===h.flags;if($.valueOf!==Object.prototype.valueOf)return $.valueOf()===h.valueOf();if($.toString!==Object.prototype.toString)return $.toString()===h.toString();if((k=(G=Object.keys($)).length)!==Object.keys(h).length)return!1;for(R=k;0!=R--;)if(!Object.prototype.hasOwnProperty.call(h,G[R]))return!1;for(R=k;0!=R--;){var ee=G[R];if(!$e($[ee],h[ee]))return!1}return!0}return $!=$&&h!=h}},5867:(Rt,$e,$)=>{"use strict";$.d($e,{C6:()=>h.getApps,Mq:()=>h.getApp});var h=$(9681);(0,h.registerVersion)("firebase","9.8.1","app")},127:(Rt,$e,$)=>{"use strict";$.d($e,{Z:()=>h.Z});var h=$(3942);h.Z.registerVersion("firebase","9.8.1","app-compat")},5881:(Rt,$e,$)=>{"use strict";$.r($e);var h=$(5861),k=$(3942),R=$(198),G=$(2090),be=($(9681),$(1877),$(4859));function Se(){return window}function le(){return(le=(0,h.Z)(function*(Te,de,ce){var et;const{BuildInfo:bt}=Se();(0,R.aq)(de.sessionId,"AuthEvent did not contain a session ID");const jt=yield ne(de.sessionId),rn={};return(0,R.ar)()?rn.ibi=bt.packageName:(0,R.as)()?rn.apn=bt.packageName:(0,R.at)(Te,"operation-not-supported-in-this-environment"),bt.displayName&&(rn.appDisplayName=bt.displayName),rn.sessionId=jt,(0,R.au)(Te,ce,de.type,void 0,null!==(et=de.eventId)&&void 0!==et?et:void 0,rn)})).apply(this,arguments)}function O(){return(O=(0,h.Z)(function*(Te){const{BuildInfo:de}=Se(),ce={};(0,R.ar)()?ce.iosBundleId=de.packageName:(0,R.as)()?ce.androidPackageName=de.packageName:(0,R.at)(Te,"operation-not-supported-in-this-environment"),yield(0,R.av)(Te,ce)})).apply(this,arguments)}function he(){return(he=(0,h.Z)(function*(Te,de,ce){const{cordova:et}=Se();let bt=()=>{};try{yield new Promise((jt,rn)=>{let Fn=null;function Ft(){var Rn;jt();const Dr=null===(Rn=et.plugins.browsertab)||void 0===Rn?void 0:Rn.close;"function"==typeof Dr&&Dr(),"function"==typeof(null==ce?void 0:ce.close)&&ce.close()}function yr(){Fn||(Fn=window.setTimeout(()=>{rn((0,R.aw)(Te,"redirect-cancelled-by-user"))},2e3))}function Fr(){"visible"===(null==document?void 0:document.visibilityState)&&yr()}de.addPassiveListener(Ft),document.addEventListener("resume",yr,!1),(0,R.as)()&&document.addEventListener("visibilitychange",Fr,!1),bt=()=>{de.removePassiveListener(Ft),document.removeEventListener("resume",yr,!1),document.removeEventListener("visibilitychange",Fr,!1),Fn&&window.clearTimeout(Fn)}})}finally{bt()}})).apply(this,arguments)}function ne(Te){return He.apply(this,arguments)}function He(){return(He=(0,h.Z)(function*(Te){const de=Qe(Te),ce=yield crypto.subtle.digest("SHA-256",de);return Array.from(new Uint8Array(ce)).map(bt=>bt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Qe(Te){if((0,R.aq)(/[0-9a-zA-Z]+/.test(Te),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(Te);const de=new ArrayBuffer(Te.length),ce=new Uint8Array(de);for(let et=0;et<Te.length;et++)ce[et]=Te.charCodeAt(et);return ce}class Ye extends R.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(de=>{this.resolveInialized=de})}addPassiveListener(de){this.passiveListeners.add(de)}removePassiveListener(de){this.passiveListeners.delete(de)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(de){return this.resolveInialized(),this.passiveListeners.forEach(ce=>ce(de)),super.onEvent(de)}initialized(){var de=this;return(0,h.Z)(function*(){yield de.initPromise})()}}function De(Te){return Me.apply(this,arguments)}function Me(){return(Me=(0,h.Z)(function*(Te){const de=yield Oe()._get(Le(Te));return de&&(yield Oe()._remove(Le(Te))),de})).apply(this,arguments)}function Ie(){const Te=[],de="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ce=0;ce<20;ce++){const et=Math.floor(Math.random()*de.length);Te.push(de.charAt(et))}return Te.join("")}function Oe(){return(0,R.ay)(R.b)}function Le(Te){return(0,R.az)("authEvent",Te.config.apiKey,Te.name)}function Wt(Te){if(!(null==Te?void 0:Te.includes("?")))return{};const[de,...ce]=Te.split("?");return(0,G.zd)(ce.join("?"))}function zt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,R.aw)("no-auth-event")}}function Ae(){var Te;return(null===(Te=null==self?void 0:self.location)||void 0===Te?void 0:Te.protocol)||null}function Fe(Te=(0,G.z$)()){return!("file:"!==Ae()&&"ionic:"!==Ae()||!Te.toLowerCase().match(/iphone|ipad|ipod|android/))}function on(){try{const Te=self.localStorage,de=R.aI();if(Te)return Te.setItem(de,"1"),Te.removeItem(de),!function Ot(Te=(0,G.z$)()){return function At(){return(0,G.w1)()&&11===(null==document?void 0:document.documentMode)}()||function qe(Te=(0,G.z$)()){return/Edge\/\d+/.test(Te)}(Te)}()||(0,G.hl)()}catch(Te){return hn()&&(0,G.hl)()}return!1}function hn(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function dn(){return(function ye(){return"http:"===Ae()||"https:"===Ae()}()||(0,G.ru)()||Fe())&&!function at(){return(0,G.b$)()||(0,G.UG)()}()&&on()&&!hn()}function Ze(){return Fe()&&"undefined"!=typeof document}function Xt(){return(Xt=(0,h.Z)(function*(){return!!Ze()&&new Promise(Te=>{const de=setTimeout(()=>{Te(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(de),Te(!0)})})})).apply(this,arguments)}const Pt={LOCAL:"local",NONE:"none",SESSION:"session"},tr=R.ax,yn="persistence";function En(Te){return zn.apply(this,arguments)}function zn(){return(zn=(0,h.Z)(function*(Te){yield Te._initializationPromise;const de=un(),ce=R.az(yn,Te.config.apiKey,Te.name);de&&de.setItem(ce,Te._getPersistence())})).apply(this,arguments)}function un(){var Te;try{return(null===(Te=function vt(){return"undefined"!=typeof window?window:null}())||void 0===Te?void 0:Te.sessionStorage)||null}catch(de){return null}}const Zt=R.ax;class Mt{constructor(){this.browserResolver=R.ay(R.k),this.cordovaResolver=R.ay(class er{constructor(){this._redirectPersistence=R.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=R.aB,this._overrideRedirectResult=R.aC}_initialize(de){var ce=this;return(0,h.Z)(function*(){const et=de._key();let bt=ce.eventManagers.get(et);return bt||(bt=new Ye(de),ce.eventManagers.set(et,bt),ce.attachCallbackListeners(de,bt)),bt})()}_openPopup(de){(0,R.at)(de,"operation-not-supported-in-this-environment")}_openRedirect(de,ce,et,bt){var jt=this;return(0,h.Z)(function*(){!function ae(Te){var de,ce,et,bt,jt,rn,Fn,Ft,yr,Fr;const Rn=Se();(0,R.ax)("function"==typeof(null===(de=null==Rn?void 0:Rn.universalLinks)||void 0===de?void 0:de.subscribe),Te,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,R.ax)(void 0!==(null===(ce=null==Rn?void 0:Rn.BuildInfo)||void 0===ce?void 0:ce.packageName),Te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,R.ax)("function"==typeof(null===(jt=null===(bt=null===(et=null==Rn?void 0:Rn.cordova)||void 0===et?void 0:et.plugins)||void 0===bt?void 0:bt.browsertab)||void 0===jt?void 0:jt.openUrl),Te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.ax)("function"==typeof(null===(Ft=null===(Fn=null===(rn=null==Rn?void 0:Rn.cordova)||void 0===rn?void 0:rn.plugins)||void 0===Fn?void 0:Fn.browsertab)||void 0===Ft?void 0:Ft.isAvailable),Te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.ax)("function"==typeof(null===(Fr=null===(yr=null==Rn?void 0:Rn.cordova)||void 0===yr?void 0:yr.InAppBrowser)||void 0===Fr?void 0:Fr.open),Te,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(de);const rn=yield jt._initialize(de);yield rn.initialized(),rn.resetRedirect(),(0,R.aD)(),yield jt._originValidation(de);const Fn=function ze(Te,de,ce=null){return{type:de,eventId:ce,urlResponse:null,sessionId:Ie(),postBody:null,tenantId:Te.tenantId,error:(0,R.aw)(Te,"no-auth-event")}}(de,et,bt);yield function mt(Te,de){return Oe()._set(Le(Te),de)}(de,Fn);const Ft=yield function J(Te,de,ce){return le.apply(this,arguments)}(de,Fn,ce),yr=yield function U(Te){const{cordova:de}=Se();return new Promise(ce=>{de.plugins.browsertab.isAvailable(et=>{let bt=null;et?de.plugins.browsertab.openUrl(Te):bt=de.InAppBrowser.open(Te,(0,R.ap)()?"_blank":"_system","location=yes"),ce(bt)})})}(Ft);return function te(Te,de,ce){return he.apply(this,arguments)}(de,rn,yr)})()}_isIframeWebStorageSupported(de,ce){throw new Error("Method not implemented.")}_originValidation(de){const ce=de._key();return this.originValidationPromises[ce]||(this.originValidationPromises[ce]=function D(Te){return O.apply(this,arguments)}(de)),this.originValidationPromises[ce]}attachCallbackListeners(de,ce){const{universalLinks:et,handleOpenURL:bt,BuildInfo:jt}=Se(),rn=setTimeout((0,h.Z)(function*(){yield De(de),ce.onEvent(zt())}),500),Fn=function(){var Fr=(0,h.Z)(function*(Rn){clearTimeout(rn);const Dr=yield De(de);let si=null;Dr&&(null==Rn?void 0:Rn.url)&&(si=function ue(Te,de){var ce,et;const bt=function Re(Te){const de=Wt(Te),ce=de.link?decodeURIComponent(de.link):void 0,et=Wt(ce).link,bt=de.deep_link_id?decodeURIComponent(de.deep_link_id):void 0;return Wt(bt).link||bt||et||ce||Te}(de);if(bt.includes("/__/auth/callback")){const jt=Wt(bt),rn=jt.firebaseError?function Xe(Te){try{return JSON.parse(Te)}catch(de){return null}}(decodeURIComponent(jt.firebaseError)):null,Fn=null===(et=null===(ce=null==rn?void 0:rn.code)||void 0===ce?void 0:ce.split("auth/"))||void 0===et?void 0:et[1],Ft=Fn?(0,R.aw)(Fn):null;return Ft?{type:Te.type,eventId:Te.eventId,tenantId:Te.tenantId,error:Ft,urlResponse:null,sessionId:null,postBody:null}:{type:Te.type,eventId:Te.eventId,tenantId:Te.tenantId,sessionId:Te.sessionId,urlResponse:bt,postBody:null}}return null}(Dr,Rn.url)),ce.onEvent(si||zt())});return function(Dr){return Fr.apply(this,arguments)}}();void 0!==et&&"function"==typeof et.subscribe&&et.subscribe(null,Fn);const Ft=bt,yr=`${jt.packageName.toLowerCase()}://`;Se().handleOpenURL=function(){var Fr=(0,h.Z)(function*(Rn){if(Rn.toLowerCase().startsWith(yr)&&Fn({url:Rn}),"function"==typeof Ft)try{Ft(Rn)}catch(Dr){console.error(Dr)}});return function(Rn){return Fr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=R.a,this._completeRedirectFn=R.aB,this._overrideRedirectResult=R.aC}_initialize(de){var ce=this;return(0,h.Z)(function*(){return yield ce.selectUnderlyingResolver(),ce.assertedUnderlyingResolver._initialize(de)})()}_openPopup(de,ce,et,bt){var jt=this;return(0,h.Z)(function*(){return yield jt.selectUnderlyingResolver(),jt.assertedUnderlyingResolver._openPopup(de,ce,et,bt)})()}_openRedirect(de,ce,et,bt){var jt=this;return(0,h.Z)(function*(){return yield jt.selectUnderlyingResolver(),jt.assertedUnderlyingResolver._openRedirect(de,ce,et,bt)})()}_isIframeWebStorageSupported(de,ce){this.assertedUnderlyingResolver._isIframeWebStorageSupported(de,ce)}_originValidation(de){return this.assertedUnderlyingResolver._originValidation(de)}get _shouldInitProactively(){return Ze()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Zt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var de=this;return(0,h.Z)(function*(){if(de.underlyingResolver)return;const ce=yield function Et(){return Xt.apply(this,arguments)}();de.underlyingResolver=ce?de.cordovaResolver:de.browserResolver})()}}function nr(Te){return Te.unwrap()}function gn(Te){return rr(Te)}function rr(Te){const{_tokenResponse:de}=Te instanceof G.ZR?Te.customData:Te;if(!de)return null;if(!(Te instanceof G.ZR)&&"temporaryProof"in de&&"phoneNumber"in de)return R.P.credentialFromResult(Te);const ce=de.providerId;if(!ce||ce===R.o.PASSWORD)return null;let et;switch(ce){case R.o.GOOGLE:et=R.Q;break;case R.o.FACEBOOK:et=R.N;break;case R.o.GITHUB:et=R.T;break;case R.o.TWITTER:et=R.W;break;default:const{oauthIdToken:bt,oauthAccessToken:jt,oauthTokenSecret:rn,pendingToken:Fn,nonce:Ft}=de;return jt||rn||bt||Fn?Fn?ce.startsWith("saml.")?R.aL._create(ce,Fn):R.J._fromParams({providerId:ce,signInMethod:ce,pendingToken:Fn,idToken:bt,accessToken:jt}):new R.U(ce).credential({idToken:bt,accessToken:jt,rawNonce:Ft}):null}return Te instanceof G.ZR?et.credentialFromError(Te):et.credentialFromResult(Te)}function wn(Te,de){return de.catch(ce=>{throw ce instanceof G.ZR&&function Cr(Te,de){var ce;const et=null===(ce=de.customData)||void 0===ce?void 0:ce._tokenResponse;if("auth/multi-factor-auth-required"===de.code)de.resolver=new B(Te,R.an(Te,de));else if(et){const bt=rr(de),jt=de;bt&&(jt.credential=bt,jt.tenantId=et.tenantId||void 0,jt.email=et.email||void 0,jt.phoneNumber=et.phoneNumber||void 0)}}(Te,ce),ce}).then(ce=>{const bt=ce.user;return{operationType:ce.operationType,credential:gn(ce),additionalUserInfo:R.al(ce),user:Q.getOrCreate(bt)}})}function oe(Te,de){return ge.apply(this,arguments)}function ge(){return(ge=(0,h.Z)(function*(Te,de){const ce=yield de;return{verificationId:ce.verificationId,confirm:et=>wn(Te,ce.confirm(et))}})).apply(this,arguments)}class B{constructor(de,ce){this.resolver=ce,this.auth=function Nr(Te){return Te.wrapped()}(de)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(de){return wn(nr(this.auth),this.resolver.resolveSignIn(de))}}class Q{constructor(de){this._delegate=de,this.multiFactor=R.ao(de)}static getOrCreate(de){return Q.USER_MAP.has(de)||Q.USER_MAP.set(de,new Q(de)),Q.USER_MAP.get(de)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(de){return this._delegate.getIdTokenResult(de)}getIdToken(de){return this._delegate.getIdToken(de)}linkAndRetrieveDataWithCredential(de){return this.linkWithCredential(de)}linkWithCredential(de){var ce=this;return(0,h.Z)(function*(){return wn(ce.auth,R.Z(ce._delegate,de))})()}linkWithPhoneNumber(de,ce){var et=this;return(0,h.Z)(function*(){return oe(et.auth,R.l(et._delegate,de,ce))})()}linkWithPopup(de){var ce=this;return(0,h.Z)(function*(){return wn(ce.auth,R.d(ce._delegate,de,Mt))})()}linkWithRedirect(de){var ce=this;return(0,h.Z)(function*(){return yield En(R.aE(ce.auth)),R.g(ce._delegate,de,Mt)})()}reauthenticateAndRetrieveDataWithCredential(de){return this.reauthenticateWithCredential(de)}reauthenticateWithCredential(de){var ce=this;return(0,h.Z)(function*(){return wn(ce.auth,R._(ce._delegate,de))})()}reauthenticateWithPhoneNumber(de,ce){return oe(this.auth,R.r(this._delegate,de,ce))}reauthenticateWithPopup(de){return wn(this.auth,R.e(this._delegate,de,Mt))}reauthenticateWithRedirect(de){var ce=this;return(0,h.Z)(function*(){return yield En(R.aE(ce.auth)),R.h(ce._delegate,de,Mt)})()}sendEmailVerification(de){return R.ab(this._delegate,de)}unlink(de){var ce=this;return(0,h.Z)(function*(){return yield R.ak(ce._delegate,de),ce})()}updateEmail(de){return R.ag(this._delegate,de)}updatePassword(de){return R.ah(this._delegate,de)}updatePhoneNumber(de){return R.u(this._delegate,de)}updateProfile(de){return R.af(this._delegate,de)}verifyBeforeUpdateEmail(de,ce){return R.ac(this._delegate,de,ce)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Q.USER_MAP=new WeakMap;const W=R.ax;let ie=(()=>{class Te{constructor(ce,et){if(this.app=ce,et.isInitialized())return this._delegate=et.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:bt}=ce.options;W(bt,"invalid-api-key",{appName:ce.name}),W(bt,"invalid-api-key",{appName:ce.name});const jt="undefined"!=typeof window?Mt:void 0;this._delegate=et.initialize({options:{persistence:fe(bt,ce.name),popupRedirectResolver:jt}}),this._delegate._updateErrorMap(R.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Q.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ce){this._delegate.languageCode=ce}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ce){this._delegate.tenantId=ce}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ce,et){R.G(this._delegate,ce,et)}applyActionCode(ce){return R.a2(this._delegate,ce)}checkActionCode(ce){return R.a3(this._delegate,ce)}confirmPasswordReset(ce,et){return R.a1(this._delegate,ce,et)}createUserWithEmailAndPassword(ce,et){var bt=this;return(0,h.Z)(function*(){return wn(bt._delegate,R.a5(bt._delegate,ce,et))})()}fetchProvidersForEmail(ce){return this.fetchSignInMethodsForEmail(ce)}fetchSignInMethodsForEmail(ce){return R.aa(this._delegate,ce)}isSignInWithEmailLink(ce){return R.a8(this._delegate,ce)}getRedirectResult(){var ce=this;return(0,h.Z)(function*(){W(dn(),ce._delegate,"operation-not-supported-in-this-environment");const et=yield R.j(ce._delegate,Mt);return et?wn(ce._delegate,Promise.resolve(et)):{credential:null,user:null}})()}addFrameworkForLogging(ce){!function Wn(Te,de){(0,R.aE)(Te)._logFramework(de)}(this._delegate,ce)}onAuthStateChanged(ce,et,bt){const{next:jt,error:rn,complete:Fn}=re(ce,et,bt);return this._delegate.onAuthStateChanged(jt,rn,Fn)}onIdTokenChanged(ce,et,bt){const{next:jt,error:rn,complete:Fn}=re(ce,et,bt);return this._delegate.onIdTokenChanged(jt,rn,Fn)}sendSignInLinkToEmail(ce,et){return R.a7(this._delegate,ce,et)}sendPasswordResetEmail(ce,et){return R.a0(this._delegate,ce,et||void 0)}setPersistence(ce){var et=this;return(0,h.Z)(function*(){let bt;switch(function xn(Te,de){tr(Object.values(Pt).includes(de),Te,"invalid-persistence-type"),(0,G.b$)()?tr(de!==Pt.SESSION,Te,"unsupported-persistence-type"):(0,G.UG)()?tr(de===Pt.NONE,Te,"unsupported-persistence-type"):hn()?tr(de===Pt.NONE||de===Pt.LOCAL&&(0,G.hl)(),Te,"unsupported-persistence-type"):tr(de===Pt.NONE||on(),Te,"unsupported-persistence-type")}(et._delegate,ce),ce){case Pt.SESSION:bt=R.a;break;case Pt.LOCAL:bt=(yield R.ay(R.i)._isAvailable())?R.i:R.b;break;case Pt.NONE:bt=R.L;break;default:return R.at("argument-error",{appName:et._delegate.name})}return et._delegate.setPersistence(bt)})()}signInAndRetrieveDataWithCredential(ce){return this.signInWithCredential(ce)}signInAnonymously(){return wn(this._delegate,R.X(this._delegate))}signInWithCredential(ce){return wn(this._delegate,R.Y(this._delegate,ce))}signInWithCustomToken(ce){return wn(this._delegate,R.$(this._delegate,ce))}signInWithEmailAndPassword(ce,et){return wn(this._delegate,R.a6(this._delegate,ce,et))}signInWithEmailLink(ce,et){return wn(this._delegate,R.a9(this._delegate,ce,et))}signInWithPhoneNumber(ce,et){return oe(this._delegate,R.s(this._delegate,ce,et))}signInWithPopup(ce){var et=this;return(0,h.Z)(function*(){return W(dn(),et._delegate,"operation-not-supported-in-this-environment"),wn(et._delegate,R.c(et._delegate,ce,Mt))})()}signInWithRedirect(ce){var et=this;return(0,h.Z)(function*(){return W(dn(),et._delegate,"operation-not-supported-in-this-environment"),yield En(et._delegate),R.f(et._delegate,ce,Mt)})()}updateCurrentUser(ce){return this._delegate.updateCurrentUser(ce)}verifyPasswordResetCode(ce){return R.a4(this._delegate,ce)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Te.Persistence=Pt,Te})();function re(Te,de,ce){let et=Te;"function"!=typeof Te&&({next:et,error:de,complete:ce}=Te);const bt=et;return{next:rn=>bt(rn&&Q.getOrCreate(rn)),error:de,complete:ce}}function fe(Te,de){const ce=function ln(Te,de){const ce=un();if(!ce)return[];const et=R.az(yn,Te,de);switch(ce.getItem(et)){case Pt.NONE:return[R.L];case Pt.LOCAL:return[R.i,R.a];case Pt.SESSION:return[R.a];default:return[]}}(Te,de);if("undefined"!=typeof self&&!ce.includes(R.i)&&ce.push(R.i),"undefined"!=typeof window)for(const et of[R.b,R.a])ce.includes(et)||ce.push(et);return ce.includes(R.L)||ce.push(R.L),ce}class ke{constructor(){this.providerId="phone",this._delegate=new R.P(nr(k.Z.auth()))}static credential(de,ce){return R.P.credential(de,ce)}verifyPhoneNumber(de,ce){return this._delegate.verifyPhoneNumber(de,ce)}unwrap(){return this._delegate}}ke.PHONE_SIGN_IN_METHOD=R.P.PHONE_SIGN_IN_METHOD,ke.PROVIDER_ID=R.P.PROVIDER_ID;const st=R.ax;class ht{constructor(de,ce,et=k.Z.app()){var bt;st(null===(bt=et.options)||void 0===bt?void 0:bt.apiKey,"invalid-api-key",{appName:et.name}),this._delegate=new R.R(de,ce,et.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function $t(Te){Te.INTERNAL.registerComponent(new be.wA("auth-compat",de=>{const ce=de.getProvider("app-compat").getImmediate(),et=de.getProvider("auth");return new ie(ce,et)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:R.A.EMAIL_SIGNIN,PASSWORD_RESET:R.A.PASSWORD_RESET,RECOVER_EMAIL:R.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:R.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:R.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:R.A.VERIFY_EMAIL}},EmailAuthProvider:R.M,FacebookAuthProvider:R.N,GithubAuthProvider:R.T,GoogleAuthProvider:R.Q,OAuthProvider:R.U,SAMLAuthProvider:R.V,PhoneAuthProvider:ke,PhoneMultiFactorGenerator:R.m,RecaptchaVerifier:ht,TwitterAuthProvider:R.W,Auth:ie,AuthCredential:R.H,Error:G.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Te.registerVersion("@firebase/auth-compat","0.2.14")}(k.Z)},6461:(Rt,$e)=>{var h;!function(){"use strict";var k=function(){this.init()};k.prototype={init:function(){var D=this||R;return D._counter=1e3,D._html5AudioPool=[],D.html5PoolSize=10,D._codecs={},D._howls=[],D._muted=!1,D._volume=1,D._canPlayEvent="canplaythrough",D._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,D.masterGain=null,D.noAudio=!1,D.usingWebAudio=!0,D.autoSuspend=!0,D.ctx=null,D.autoUnlock=!0,D._setup(),D},volume:function(D){var O=this||R;if(D=parseFloat(D),O.ctx||le(),void 0!==D&&D>=0&&D<=1){if(O._volume=D,O._muted)return O;O.usingWebAudio&&O.masterGain.gain.setValueAtTime(D,R.ctx.currentTime);for(var U=0;U<O._howls.length;U++)if(!O._howls[U]._webAudio)for(var te=O._howls[U]._getSoundIds(),he=0;he<te.length;he++){var ae=O._howls[U]._soundById(te[he]);ae&&ae._node&&(ae._node.volume=ae._volume*D)}return O}return O._volume},mute:function(D){var O=this||R;O.ctx||le(),O._muted=D,O.usingWebAudio&&O.masterGain.gain.setValueAtTime(D?0:O._volume,R.ctx.currentTime);for(var U=0;U<O._howls.length;U++)if(!O._howls[U]._webAudio)for(var te=O._howls[U]._getSoundIds(),he=0;he<te.length;he++){var ae=O._howls[U]._soundById(te[he]);ae&&ae._node&&(ae._node.muted=!!D||ae._muted)}return O},stop:function(){for(var D=this||R,O=0;O<D._howls.length;O++)D._howls[O].stop();return D},unload:function(){for(var D=this||R,O=D._howls.length-1;O>=0;O--)D._howls[O].unload();return D.usingWebAudio&&D.ctx&&void 0!==D.ctx.close&&(D.ctx.close(),D.ctx=null,le()),D},codecs:function(D){return(this||R)._codecs[D.replace(/^x-/,"")]},_setup:function(){var D=this||R;if(D.state=D.ctx&&D.ctx.state||"suspended",D._autoSuspend(),!D.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(D._canPlayEvent="canplay")}catch(U){D.noAudio=!0}else D.noAudio=!0;try{(new Audio).muted&&(D.noAudio=!0)}catch(U){}return D.noAudio||D._setupCodecs(),D},_setupCodecs:function(){var D=this||R,O=null;try{O="undefined"!=typeof Audio?new Audio:null}catch(We){return D}if(!O||"function"!=typeof O.canPlayType)return D;var U=O.canPlayType("audio/mpeg;").replace(/^no$/,""),te=D._navigator?D._navigator.userAgent:"",he=te.match(/OPR\/([0-6].)/g),ae=he&&parseInt(he[0].split("/")[1],10)<33,ne=-1!==te.indexOf("Safari")&&-1===te.indexOf("Chrome"),He=te.match(/Version\/(.*?) /),Qe=ne&&He&&parseInt(He[1],10)<15;return D._codecs={mp3:!(ae||!U&&!O.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!U,opus:!!O.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!O.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!O.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(O.canPlayType('audio/wav; codecs="1"')||O.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!O.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!O.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(O.canPlayType("audio/x-m4a;")||O.canPlayType("audio/m4a;")||O.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(O.canPlayType("audio/x-m4b;")||O.canPlayType("audio/m4b;")||O.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(O.canPlayType("audio/x-mp4;")||O.canPlayType("audio/mp4;")||O.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(Qe||!O.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(Qe||!O.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!O.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(O.canPlayType("audio/x-flac;")||O.canPlayType("audio/flac;")).replace(/^no$/,"")},D},_unlockAudio:function(){var D=this||R;if(!D._audioUnlocked&&D.ctx){D._audioUnlocked=!1,D.autoUnlock=!1,!D._mobileUnloaded&&44100!==D.ctx.sampleRate&&(D._mobileUnloaded=!0,D.unload()),D._scratchBuffer=D.ctx.createBuffer(1,1,22050);var O=function(U){for(;D._html5AudioPool.length<D.html5PoolSize;)try{var te=new Audio;te._unlocked=!0,D._releaseHtml5Audio(te)}catch(We){D.noAudio=!0;break}for(var he=0;he<D._howls.length;he++)if(!D._howls[he]._webAudio)for(var ae=D._howls[he]._getSoundIds(),ne=0;ne<ae.length;ne++){var He=D._howls[he]._soundById(ae[ne]);He&&He._node&&!He._node._unlocked&&(He._node._unlocked=!0,He._node.load())}D._autoResume();var Qe=D.ctx.createBufferSource();Qe.buffer=D._scratchBuffer,Qe.connect(D.ctx.destination),void 0===Qe.start?Qe.noteOn(0):Qe.start(0),"function"==typeof D.ctx.resume&&D.ctx.resume(),Qe.onended=function(){Qe.disconnect(0),D._audioUnlocked=!0,document.removeEventListener("touchstart",O,!0),document.removeEventListener("touchend",O,!0),document.removeEventListener("click",O,!0),document.removeEventListener("keydown",O,!0);for(var We=0;We<D._howls.length;We++)D._howls[We]._emit("unlock")}};return document.addEventListener("touchstart",O,!0),document.addEventListener("touchend",O,!0),document.addEventListener("click",O,!0),document.addEventListener("keydown",O,!0),D}},_obtainHtml5Audio:function(){var D=this||R;if(D._html5AudioPool.length)return D._html5AudioPool.pop();var O=(new Audio).play();return O&&"undefined"!=typeof Promise&&(O instanceof Promise||"function"==typeof O.then)&&O.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(D){var O=this||R;return D._unlocked&&O._html5AudioPool.push(D),O},_autoSuspend:function(){var D=this;if(D.autoSuspend&&D.ctx&&void 0!==D.ctx.suspend&&R.usingWebAudio){for(var O=0;O<D._howls.length;O++)if(D._howls[O]._webAudio)for(var U=0;U<D._howls[O]._sounds.length;U++)if(!D._howls[O]._sounds[U]._paused)return D;return D._suspendTimer&&clearTimeout(D._suspendTimer),D._suspendTimer=setTimeout(function(){if(D.autoSuspend){D._suspendTimer=null,D.state="suspending";var te=function(){D.state="suspended",D._resumeAfterSuspend&&(delete D._resumeAfterSuspend,D._autoResume())};D.ctx.suspend().then(te,te)}},3e4),D}},_autoResume:function(){var D=this;if(D.ctx&&void 0!==D.ctx.resume&&R.usingWebAudio)return"running"===D.state&&"interrupted"!==D.ctx.state&&D._suspendTimer?(clearTimeout(D._suspendTimer),D._suspendTimer=null):"suspended"===D.state||"running"===D.state&&"interrupted"===D.ctx.state?(D.ctx.resume().then(function(){D.state="running";for(var O=0;O<D._howls.length;O++)D._howls[O]._emit("resume")}),D._suspendTimer&&(clearTimeout(D._suspendTimer),D._suspendTimer=null)):"suspending"===D.state&&(D._resumeAfterSuspend=!0),D}};var R=new k,G=function(D){D.src&&0!==D.src.length?this.init(D):console.error("An array of source files must be passed with any new Howl.")};G.prototype={init:function(D){var O=this;return R.ctx||le(),O._autoplay=D.autoplay||!1,O._format="string"!=typeof D.format?D.format:[D.format],O._html5=D.html5||!1,O._muted=D.mute||!1,O._loop=D.loop||!1,O._pool=D.pool||5,O._preload="boolean"!=typeof D.preload&&"metadata"!==D.preload||D.preload,O._rate=D.rate||1,O._sprite=D.sprite||{},O._src="string"!=typeof D.src?D.src:[D.src],O._volume=void 0!==D.volume?D.volume:1,O._xhr={method:D.xhr&&D.xhr.method?D.xhr.method:"GET",headers:D.xhr&&D.xhr.headers?D.xhr.headers:null,withCredentials:!(!D.xhr||!D.xhr.withCredentials)&&D.xhr.withCredentials},O._duration=0,O._state="unloaded",O._sounds=[],O._endTimers={},O._queue=[],O._playLock=!1,O._onend=D.onend?[{fn:D.onend}]:[],O._onfade=D.onfade?[{fn:D.onfade}]:[],O._onload=D.onload?[{fn:D.onload}]:[],O._onloaderror=D.onloaderror?[{fn:D.onloaderror}]:[],O._onplayerror=D.onplayerror?[{fn:D.onplayerror}]:[],O._onpause=D.onpause?[{fn:D.onpause}]:[],O._onplay=D.onplay?[{fn:D.onplay}]:[],O._onstop=D.onstop?[{fn:D.onstop}]:[],O._onmute=D.onmute?[{fn:D.onmute}]:[],O._onvolume=D.onvolume?[{fn:D.onvolume}]:[],O._onrate=D.onrate?[{fn:D.onrate}]:[],O._onseek=D.onseek?[{fn:D.onseek}]:[],O._onunlock=D.onunlock?[{fn:D.onunlock}]:[],O._onresume=[],O._webAudio=R.usingWebAudio&&!O._html5,void 0!==R.ctx&&R.ctx&&R.autoUnlock&&R._unlockAudio(),R._howls.push(O),O._autoplay&&O._queue.push({event:"play",action:function(){O.play()}}),O._preload&&"none"!==O._preload&&O.load(),O},load:function(){var D=this,O=null;if(R.noAudio)D._emit("loaderror",null,"No audio support.");else{"string"==typeof D._src&&(D._src=[D._src]);for(var U=0;U<D._src.length;U++){var te,he;if(D._format&&D._format[U])te=D._format[U];else{if("string"!=typeof(he=D._src[U])){D._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(te=/^data:audio\/([^;,]+);/i.exec(he))||(te=/\.([^.]+)$/.exec(he.split("?",1)[0])),te&&(te=te[1].toLowerCase())}if(te||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),te&&R.codecs(te)){O=D._src[U];break}}if(O)return D._src=O,D._state="loading","https:"===window.location.protocol&&"http:"===O.slice(0,5)&&(D._html5=!0,D._webAudio=!1),new ee(D),D._webAudio&&be(D),D;D._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(D,O){var U=this,te=null;if("number"==typeof D)te=D,D=null;else{if("string"==typeof D&&"loaded"===U._state&&!U._sprite[D])return null;if(void 0===D&&(D="__default",!U._playLock)){for(var he=0,ae=0;ae<U._sounds.length;ae++)U._sounds[ae]._paused&&!U._sounds[ae]._ended&&(he++,te=U._sounds[ae]._id);1===he?D=null:te=null}}var ne=te?U._soundById(te):U._inactiveSound();if(!ne)return null;if(te&&!D&&(D=ne._sprite||"__default"),"loaded"!==U._state){ne._sprite=D,ne._ended=!1;var He=ne._id;return U._queue.push({event:"play",action:function(){U.play(He)}}),He}if(te&&!ne._paused)return O||U._loadQueue("play"),ne._id;U._webAudio&&R._autoResume();var Qe=Math.max(0,ne._seek>0?ne._seek:U._sprite[D][0]/1e3),We=Math.max(0,(U._sprite[D][0]+U._sprite[D][1])/1e3-Qe),Ye=1e3*We/Math.abs(ne._rate),ze=U._sprite[D][0]/1e3,mt=(U._sprite[D][0]+U._sprite[D][1])/1e3;ne._sprite=D,ne._ended=!1;var De=function(){ne._paused=!1,ne._seek=Qe,ne._start=ze,ne._stop=mt,ne._loop=!(!ne._loop&&!U._sprite[D][2])};if(!(Qe>=mt)){var Me=ne._node;if(U._webAudio){var ue=function(){U._playLock=!1,De(),U._refreshBuffer(ne),Me.gain.setValueAtTime(ne._muted||U._muted?0:ne._volume,R.ctx.currentTime),ne._playStart=R.ctx.currentTime,void 0===Me.bufferSource.start?Me.bufferSource.noteGrainOn(0,Qe,ne._loop?86400:We):Me.bufferSource.start(0,Qe,ne._loop?86400:We),Ye!==1/0&&(U._endTimers[ne._id]=setTimeout(U._ended.bind(U,ne),Ye)),O||setTimeout(function(){U._emit("play",ne._id),U._loadQueue()},0)};"running"===R.state&&"interrupted"!==R.ctx.state?ue():(U._playLock=!0,U.once("resume",ue),U._clearTimer(ne._id))}else{var Ie=function(){Me.currentTime=Qe,Me.muted=ne._muted||U._muted||R._muted||Me.muted,Me.volume=ne._volume*R.volume(),Me.playbackRate=ne._rate;try{var Xe=Me.play();if(Xe&&"undefined"!=typeof Promise&&(Xe instanceof Promise||"function"==typeof Xe.then)?(U._playLock=!0,De(),Xe.then(function(){U._playLock=!1,Me._unlocked=!0,O?U._loadQueue():U._emit("play",ne._id)}).catch(function(){U._playLock=!1,U._emit("playerror",ne._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),ne._ended=!0,ne._paused=!0})):O||(U._playLock=!1,De(),U._emit("play",ne._id)),Me.playbackRate=ne._rate,Me.paused)return void U._emit("playerror",ne._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==D||ne._loop?U._endTimers[ne._id]=setTimeout(U._ended.bind(U,ne),Ye):(U._endTimers[ne._id]=function(){U._ended(ne),Me.removeEventListener("ended",U._endTimers[ne._id],!1)},Me.addEventListener("ended",U._endTimers[ne._id],!1))}catch(Re){U._emit("playerror",ne._id,Re)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===Me.src&&(Me.src=U._src,Me.load());var Oe=window&&window.ejecta||!Me.readyState&&R._navigator.isCocoonJS;if(Me.readyState>=3||Oe)Ie();else{U._playLock=!0,U._state="loading";var Le=function(){U._state="loaded",Ie(),Me.removeEventListener(R._canPlayEvent,Le,!1)};Me.addEventListener(R._canPlayEvent,Le,!1),U._clearTimer(ne._id)}}return ne._id}U._ended(ne)},pause:function(D){var O=this;if("loaded"!==O._state||O._playLock)return O._queue.push({event:"pause",action:function(){O.pause(D)}}),O;for(var U=O._getSoundIds(D),te=0;te<U.length;te++){O._clearTimer(U[te]);var he=O._soundById(U[te]);if(he&&!he._paused&&(he._seek=O.seek(U[te]),he._rateSeek=0,he._paused=!0,O._stopFade(U[te]),he._node))if(O._webAudio){if(!he._node.bufferSource)continue;void 0===he._node.bufferSource.stop?he._node.bufferSource.noteOff(0):he._node.bufferSource.stop(0),O._cleanBuffer(he._node)}else(!isNaN(he._node.duration)||he._node.duration===1/0)&&he._node.pause();arguments[1]||O._emit("pause",he?he._id:null)}return O},stop:function(D,O){var U=this;if("loaded"!==U._state||U._playLock)return U._queue.push({event:"stop",action:function(){U.stop(D)}}),U;for(var te=U._getSoundIds(D),he=0;he<te.length;he++){U._clearTimer(te[he]);var ae=U._soundById(te[he]);ae&&(ae._seek=ae._start||0,ae._rateSeek=0,ae._paused=!0,ae._ended=!0,U._stopFade(te[he]),ae._node&&(U._webAudio?ae._node.bufferSource&&(void 0===ae._node.bufferSource.stop?ae._node.bufferSource.noteOff(0):ae._node.bufferSource.stop(0),U._cleanBuffer(ae._node)):(!isNaN(ae._node.duration)||ae._node.duration===1/0)&&(ae._node.currentTime=ae._start||0,ae._node.pause(),ae._node.duration===1/0&&U._clearSound(ae._node))),O||U._emit("stop",ae._id))}return U},mute:function(D,O){var U=this;if("loaded"!==U._state||U._playLock)return U._queue.push({event:"mute",action:function(){U.mute(D,O)}}),U;if(void 0===O){if("boolean"!=typeof D)return U._muted;U._muted=D}for(var te=U._getSoundIds(O),he=0;he<te.length;he++){var ae=U._soundById(te[he]);ae&&(ae._muted=D,ae._interval&&U._stopFade(ae._id),U._webAudio&&ae._node?ae._node.gain.setValueAtTime(D?0:ae._volume,R.ctx.currentTime):ae._node&&(ae._node.muted=!!R._muted||D),U._emit("mute",ae._id))}return U},volume:function(){var U,te,ne,D=this,O=arguments;if(0===O.length)return D._volume;if(1===O.length||2===O.length&&void 0===O[1]){var he=D._getSoundIds(),ae=he.indexOf(O[0]);ae>=0?te=parseInt(O[0],10):U=parseFloat(O[0])}else O.length>=2&&(U=parseFloat(O[0]),te=parseInt(O[1],10));if(!(void 0!==U&&U>=0&&U<=1))return(ne=te?D._soundById(te):D._sounds[0])?ne._volume:0;if("loaded"!==D._state||D._playLock)return D._queue.push({event:"volume",action:function(){D.volume.apply(D,O)}}),D;void 0===te&&(D._volume=U),te=D._getSoundIds(te);for(var He=0;He<te.length;He++)(ne=D._soundById(te[He]))&&(ne._volume=U,O[2]||D._stopFade(te[He]),D._webAudio&&ne._node&&!ne._muted?ne._node.gain.setValueAtTime(U,R.ctx.currentTime):ne._node&&!ne._muted&&(ne._node.volume=U*R.volume()),D._emit("volume",ne._id));return D},fade:function(D,O,U,te){var he=this;if("loaded"!==he._state||he._playLock)return he._queue.push({event:"fade",action:function(){he.fade(D,O,U,te)}}),he;D=Math.min(Math.max(0,parseFloat(D)),1),O=Math.min(Math.max(0,parseFloat(O)),1),U=parseFloat(U),he.volume(D,te);for(var ae=he._getSoundIds(te),ne=0;ne<ae.length;ne++){var He=he._soundById(ae[ne]);if(He){if(te||he._stopFade(ae[ne]),he._webAudio&&!He._muted){var Qe=R.ctx.currentTime,We=Qe+U/1e3;He._volume=D,He._node.gain.setValueAtTime(D,Qe),He._node.gain.linearRampToValueAtTime(O,We)}he._startFadeInterval(He,D,O,U,ae[ne],void 0===te)}}return he},_startFadeInterval:function(D,O,U,te,he,ae){var ne=this,He=O,Qe=U-O,We=Math.abs(Qe/.01),Ye=Math.max(4,We>0?te/We:te),ze=Date.now();D._fadeTo=U,D._interval=setInterval(function(){var mt=(Date.now()-ze)/te;ze=Date.now(),He+=Qe*mt,He=Math.round(100*He)/100,He=Qe<0?Math.max(U,He):Math.min(U,He),ne._webAudio?D._volume=He:ne.volume(He,D._id,!0),ae&&(ne._volume=He),(U<O&&He<=U||U>O&&He>=U)&&(clearInterval(D._interval),D._interval=null,D._fadeTo=null,ne.volume(U,D._id),ne._emit("fade",D._id))},Ye)},_stopFade:function(D){var O=this,U=O._soundById(D);return U&&U._interval&&(O._webAudio&&U._node.gain.cancelScheduledValues(R.ctx.currentTime),clearInterval(U._interval),U._interval=null,O.volume(U._fadeTo,D),U._fadeTo=null,O._emit("fade",D)),O},loop:function(){var U,te,he,D=this,O=arguments;if(0===O.length)return D._loop;if(1===O.length){if("boolean"!=typeof O[0])return!!(he=D._soundById(parseInt(O[0],10)))&&he._loop;D._loop=U=O[0]}else 2===O.length&&(U=O[0],te=parseInt(O[1],10));for(var ae=D._getSoundIds(te),ne=0;ne<ae.length;ne++)(he=D._soundById(ae[ne]))&&(he._loop=U,D._webAudio&&he._node&&he._node.bufferSource&&(he._node.bufferSource.loop=U,U&&(he._node.bufferSource.loopStart=he._start||0,he._node.bufferSource.loopEnd=he._stop,D.playing(ae[ne])&&(D.pause(ae[ne],!0),D.play(ae[ne],!0)))));return D},rate:function(){var U,te,ne,D=this,O=arguments;if(0===O.length)te=D._sounds[0]._id;else if(1===O.length){var he=D._getSoundIds(),ae=he.indexOf(O[0]);ae>=0?te=parseInt(O[0],10):U=parseFloat(O[0])}else 2===O.length&&(U=parseFloat(O[0]),te=parseInt(O[1],10));if("number"!=typeof U)return(ne=D._soundById(te))?ne._rate:D._rate;if("loaded"!==D._state||D._playLock)return D._queue.push({event:"rate",action:function(){D.rate.apply(D,O)}}),D;void 0===te&&(D._rate=U),te=D._getSoundIds(te);for(var He=0;He<te.length;He++)if(ne=D._soundById(te[He])){D.playing(te[He])&&(ne._rateSeek=D.seek(te[He]),ne._playStart=D._webAudio?R.ctx.currentTime:ne._playStart),ne._rate=U,D._webAudio&&ne._node&&ne._node.bufferSource?ne._node.bufferSource.playbackRate.setValueAtTime(U,R.ctx.currentTime):ne._node&&(ne._node.playbackRate=U);var Qe=D.seek(te[He]),We=(D._sprite[ne._sprite][0]+D._sprite[ne._sprite][1])/1e3-Qe,Ye=1e3*We/Math.abs(ne._rate);(D._endTimers[te[He]]||!ne._paused)&&(D._clearTimer(te[He]),D._endTimers[te[He]]=setTimeout(D._ended.bind(D,ne),Ye)),D._emit("rate",ne._id)}return D},seek:function(){var U,te,D=this,O=arguments;if(0===O.length)D._sounds.length&&(te=D._sounds[0]._id);else if(1===O.length){var he=D._getSoundIds(),ae=he.indexOf(O[0]);ae>=0?te=parseInt(O[0],10):D._sounds.length&&(te=D._sounds[0]._id,U=parseFloat(O[0]))}else 2===O.length&&(U=parseFloat(O[0]),te=parseInt(O[1],10));if(void 0===te)return 0;if("number"==typeof U&&("loaded"!==D._state||D._playLock))return D._queue.push({event:"seek",action:function(){D.seek.apply(D,O)}}),D;var ne=D._soundById(te);if(ne){if(!("number"==typeof U&&U>=0)){if(D._webAudio){var Ye=D.playing(te)?R.ctx.currentTime-ne._playStart:0,ze=ne._rateSeek?ne._rateSeek-ne._seek:0;return ne._seek+(ze+Ye*Math.abs(ne._rate))}return ne._node.currentTime}var He=D.playing(te);He&&D.pause(te,!0),ne._seek=U,ne._ended=!1,D._clearTimer(te),!D._webAudio&&ne._node&&!isNaN(ne._node.duration)&&(ne._node.currentTime=U);var Qe=function(){He&&D.play(te,!0),D._emit("seek",te)};if(He&&!D._webAudio){var We=function(){D._playLock?setTimeout(We,0):Qe()};setTimeout(We,0)}else Qe()}return D},playing:function(D){var O=this;if("number"==typeof D){var U=O._soundById(D);return!!U&&!U._paused}for(var te=0;te<O._sounds.length;te++)if(!O._sounds[te]._paused)return!0;return!1},duration:function(D){var O=this,U=O._duration,te=O._soundById(D);return te&&(U=O._sprite[te._sprite][1]/1e3),U},state:function(){return this._state},unload:function(){for(var D=this,O=D._sounds,U=0;U<O.length;U++)O[U]._paused||D.stop(O[U]._id),D._webAudio||(D._clearSound(O[U]._node),O[U]._node.removeEventListener("error",O[U]._errorFn,!1),O[U]._node.removeEventListener(R._canPlayEvent,O[U]._loadFn,!1),O[U]._node.removeEventListener("ended",O[U]._endFn,!1),R._releaseHtml5Audio(O[U]._node)),delete O[U]._node,D._clearTimer(O[U]._id);var te=R._howls.indexOf(D);te>=0&&R._howls.splice(te,1);var he=!0;for(U=0;U<R._howls.length;U++)if(R._howls[U]._src===D._src||D._src.indexOf(R._howls[U]._src)>=0){he=!1;break}return we&&he&&delete we[D._src],R.noAudio=!1,D._state="unloaded",D._sounds=[],D=null,null},on:function(D,O,U,te){return"function"==typeof O&&this["_on"+D].push(te?{id:U,fn:O,once:te}:{id:U,fn:O}),this},off:function(D,O,U){var te=this,he=te["_on"+D],ae=0;if("number"==typeof O&&(U=O,O=null),O||U)for(ae=0;ae<he.length;ae++){var ne=U===he[ae].id;if(O===he[ae].fn&&ne||!O&&ne){he.splice(ae,1);break}}else if(D)te["_on"+D]=[];else{var He=Object.keys(te);for(ae=0;ae<He.length;ae++)0===He[ae].indexOf("_on")&&Array.isArray(te[He[ae]])&&(te[He[ae]]=[])}return te},once:function(D,O,U){return this.on(D,O,U,1),this},_emit:function(D,O,U){for(var te=this,he=te["_on"+D],ae=he.length-1;ae>=0;ae--)(!he[ae].id||he[ae].id===O||"load"===D)&&(setTimeout(function(ne){ne.call(this,O,U)}.bind(te,he[ae].fn),0),he[ae].once&&te.off(D,he[ae].fn,he[ae].id));return te._loadQueue(D),te},_loadQueue:function(D){var O=this;if(O._queue.length>0){var U=O._queue[0];U.event===D&&(O._queue.shift(),O._loadQueue()),D||U.action()}return O},_ended:function(D){var O=this,U=D._sprite;if(!O._webAudio&&D._node&&!D._node.paused&&!D._node.ended&&D._node.currentTime<D._stop)return setTimeout(O._ended.bind(O,D),100),O;var te=!(!D._loop&&!O._sprite[U][2]);if(O._emit("end",D._id),!O._webAudio&&te&&O.stop(D._id,!0).play(D._id),O._webAudio&&te){O._emit("play",D._id),D._seek=D._start||0,D._rateSeek=0,D._playStart=R.ctx.currentTime;var he=1e3*(D._stop-D._start)/Math.abs(D._rate);O._endTimers[D._id]=setTimeout(O._ended.bind(O,D),he)}return O._webAudio&&!te&&(D._paused=!0,D._ended=!0,D._seek=D._start||0,D._rateSeek=0,O._clearTimer(D._id),O._cleanBuffer(D._node),R._autoSuspend()),!O._webAudio&&!te&&O.stop(D._id,!0),O},_clearTimer:function(D){var O=this;if(O._endTimers[D]){if("function"!=typeof O._endTimers[D])clearTimeout(O._endTimers[D]);else{var U=O._soundById(D);U&&U._node&&U._node.removeEventListener("ended",O._endTimers[D],!1)}delete O._endTimers[D]}return O},_soundById:function(D){for(var O=this,U=0;U<O._sounds.length;U++)if(D===O._sounds[U]._id)return O._sounds[U];return null},_inactiveSound:function(){var D=this;D._drain();for(var O=0;O<D._sounds.length;O++)if(D._sounds[O]._ended)return D._sounds[O].reset();return new ee(D)},_drain:function(){var D=this,O=D._pool,U=0,te=0;if(!(D._sounds.length<O)){for(te=0;te<D._sounds.length;te++)D._sounds[te]._ended&&U++;for(te=D._sounds.length-1;te>=0;te--){if(U<=O)return;D._sounds[te]._ended&&(D._webAudio&&D._sounds[te]._node&&D._sounds[te]._node.disconnect(0),D._sounds.splice(te,1),U--)}}},_getSoundIds:function(D){if(void 0===D){for(var U=[],te=0;te<this._sounds.length;te++)U.push(this._sounds[te]._id);return U}return[D]},_refreshBuffer:function(D){return D._node.bufferSource=R.ctx.createBufferSource(),D._node.bufferSource.buffer=we[this._src],D._node.bufferSource.connect(D._panner?D._panner:D._node),D._node.bufferSource.loop=D._loop,D._loop&&(D._node.bufferSource.loopStart=D._start||0,D._node.bufferSource.loopEnd=D._stop||0),D._node.bufferSource.playbackRate.setValueAtTime(D._rate,R.ctx.currentTime),this},_cleanBuffer:function(D){var U=R._navigator&&R._navigator.vendor.indexOf("Apple")>=0;if(R._scratchBuffer&&D.bufferSource&&(D.bufferSource.onended=null,D.bufferSource.disconnect(0),U))try{D.bufferSource.buffer=R._scratchBuffer}catch(te){}return D.bufferSource=null,this},_clearSound:function(D){/MSIE |Trident\//.test(R._navigator&&R._navigator.userAgent)||(D.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var ee=function(D){this._parent=D,this.init()};ee.prototype={init:function(){var D=this,O=D._parent;return D._muted=O._muted,D._loop=O._loop,D._volume=O._volume,D._rate=O._rate,D._seek=0,D._paused=!0,D._ended=!0,D._sprite="__default",D._id=++R._counter,O._sounds.push(D),D.create(),D},create:function(){var D=this,O=D._parent,U=R._muted||D._muted||D._parent._muted?0:D._volume;return O._webAudio?(D._node=void 0===R.ctx.createGain?R.ctx.createGainNode():R.ctx.createGain(),D._node.gain.setValueAtTime(U,R.ctx.currentTime),D._node.paused=!0,D._node.connect(R.masterGain)):R.noAudio||(D._node=R._obtainHtml5Audio(),D._errorFn=D._errorListener.bind(D),D._node.addEventListener("error",D._errorFn,!1),D._loadFn=D._loadListener.bind(D),D._node.addEventListener(R._canPlayEvent,D._loadFn,!1),D._endFn=D._endListener.bind(D),D._node.addEventListener("ended",D._endFn,!1),D._node.src=O._src,D._node.preload=!0===O._preload?"auto":O._preload,D._node.volume=U*R.volume(),D._node.load()),D},reset:function(){var D=this,O=D._parent;return D._muted=O._muted,D._loop=O._loop,D._volume=O._volume,D._rate=O._rate,D._seek=0,D._rateSeek=0,D._paused=!0,D._ended=!0,D._sprite="__default",D._id=++R._counter,D},_errorListener:function(){var D=this;D._parent._emit("loaderror",D._id,D._node.error?D._node.error.code:0),D._node.removeEventListener("error",D._errorFn,!1)},_loadListener:function(){var D=this,O=D._parent;O._duration=Math.ceil(10*D._node.duration)/10,0===Object.keys(O._sprite).length&&(O._sprite={__default:[0,1e3*O._duration]}),"loaded"!==O._state&&(O._state="loaded",O._emit("load"),O._loadQueue()),D._node.removeEventListener(R._canPlayEvent,D._loadFn,!1)},_endListener:function(){var D=this,O=D._parent;O._duration===1/0&&(O._duration=Math.ceil(10*D._node.duration)/10,O._sprite.__default[1]===1/0&&(O._sprite.__default[1]=1e3*O._duration),O._ended(D)),D._node.removeEventListener("ended",D._endFn,!1)}};var we={},be=function(D){var O=D._src;if(we[O])return D._duration=we[O].duration,void J(D);if(/^data:[^;]+;base64,/.test(O)){for(var U=atob(O.split(",")[1]),te=new Uint8Array(U.length),he=0;he<U.length;++he)te[he]=U.charCodeAt(he);Ce(te.buffer,D)}else{var ae=new XMLHttpRequest;ae.open(D._xhr.method,O,!0),ae.withCredentials=D._xhr.withCredentials,ae.responseType="arraybuffer",D._xhr.headers&&Object.keys(D._xhr.headers).forEach(function(ne){ae.setRequestHeader(ne,D._xhr.headers[ne])}),ae.onload=function(){var ne=(ae.status+"")[0];"0"===ne||"2"===ne||"3"===ne?Ce(ae.response,D):D._emit("loaderror",null,"Failed loading audio file with status: "+ae.status+".")},ae.onerror=function(){D._webAudio&&(D._html5=!0,D._webAudio=!1,D._sounds=[],delete we[O],D.load())},Se(ae)}},Se=function(D){try{D.send()}catch(O){D.onerror()}},Ce=function(D,O){var U=function(){O._emit("loaderror",null,"Decoding audio data failed.")},te=function(he){he&&O._sounds.length>0?(we[O._src]=he,J(O,he)):U()};"undefined"!=typeof Promise&&1===R.ctx.decodeAudioData.length?R.ctx.decodeAudioData(D).then(te).catch(U):R.ctx.decodeAudioData(D,te,U)},J=function(D,O){O&&!D._duration&&(D._duration=O.duration),0===Object.keys(D._sprite).length&&(D._sprite={__default:[0,1e3*D._duration]}),"loaded"!==D._state&&(D._state="loaded",D._emit("load"),D._loadQueue())},le=function(){if(R.usingWebAudio){try{"undefined"!=typeof AudioContext?R.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?R.ctx=new webkitAudioContext:R.usingWebAudio=!1}catch(he){R.usingWebAudio=!1}R.ctx||(R.usingWebAudio=!1);var D=/iP(hone|od|ad)/.test(R._navigator&&R._navigator.platform),O=R._navigator&&R._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),U=O?parseInt(O[1],10):null;if(D&&U&&U<9){var te=/safari/.test(R._navigator&&R._navigator.userAgent.toLowerCase());R._navigator&&!te&&(R.usingWebAudio=!1)}R.usingWebAudio&&(R.masterGain=void 0===R.ctx.createGain?R.ctx.createGainNode():R.ctx.createGain(),R.masterGain.gain.setValueAtTime(R._muted?0:R._volume,R.ctx.currentTime),R.masterGain.connect(R.ctx.destination)),R._setup()}};void 0!==(h=function(){return{Howler:R,Howl:G}}.apply($e,[]))&&(Rt.exports=h),$e.Howler=R,$e.Howl=G,"undefined"!=typeof global?(global.HowlerGlobal=k,global.Howler=R,global.Howl=G,global.Sound=ee):"undefined"!=typeof window&&(window.HowlerGlobal=k,window.Howler=R,window.Howl=G,window.Sound=ee)}(),function(){"use strict";var R;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(R){var G=this;if(!G.ctx||!G.ctx.listener)return G;for(var ee=G._howls.length-1;ee>=0;ee--)G._howls[ee].stereo(R);return G},HowlerGlobal.prototype.pos=function(R,G,ee){var we=this;return we.ctx&&we.ctx.listener?"number"!=typeof R?we._pos:(we._pos=[R,G="number"!=typeof G?we._pos[1]:G,ee="number"!=typeof ee?we._pos[2]:ee],void 0!==we.ctx.listener.positionX?(we.ctx.listener.positionX.setTargetAtTime(we._pos[0],Howler.ctx.currentTime,.1),we.ctx.listener.positionY.setTargetAtTime(we._pos[1],Howler.ctx.currentTime,.1),we.ctx.listener.positionZ.setTargetAtTime(we._pos[2],Howler.ctx.currentTime,.1)):we.ctx.listener.setPosition(we._pos[0],we._pos[1],we._pos[2]),we):we},HowlerGlobal.prototype.orientation=function(R,G,ee,we,be,Se){var Ce=this;if(!Ce.ctx||!Ce.ctx.listener)return Ce;var J=Ce._orientation;return"number"!=typeof R?J:(Ce._orientation=[R,G="number"!=typeof G?J[1]:G,ee="number"!=typeof ee?J[2]:ee,we="number"!=typeof we?J[3]:we,be="number"!=typeof be?J[4]:be,Se="number"!=typeof Se?J[5]:Se],void 0!==Ce.ctx.listener.forwardX?(Ce.ctx.listener.forwardX.setTargetAtTime(R,Howler.ctx.currentTime,.1),Ce.ctx.listener.forwardY.setTargetAtTime(G,Howler.ctx.currentTime,.1),Ce.ctx.listener.forwardZ.setTargetAtTime(ee,Howler.ctx.currentTime,.1),Ce.ctx.listener.upX.setTargetAtTime(we,Howler.ctx.currentTime,.1),Ce.ctx.listener.upY.setTargetAtTime(be,Howler.ctx.currentTime,.1),Ce.ctx.listener.upZ.setTargetAtTime(Se,Howler.ctx.currentTime,.1)):Ce.ctx.listener.setOrientation(R,G,ee,we,be,Se),Ce)},Howl.prototype.init=(R=Howl.prototype.init,function(G){var ee=this;return ee._orientation=G.orientation||[1,0,0],ee._stereo=G.stereo||null,ee._pos=G.pos||null,ee._pannerAttr={coneInnerAngle:void 0!==G.coneInnerAngle?G.coneInnerAngle:360,coneOuterAngle:void 0!==G.coneOuterAngle?G.coneOuterAngle:360,coneOuterGain:void 0!==G.coneOuterGain?G.coneOuterGain:0,distanceModel:void 0!==G.distanceModel?G.distanceModel:"inverse",maxDistance:void 0!==G.maxDistance?G.maxDistance:1e4,panningModel:void 0!==G.panningModel?G.panningModel:"HRTF",refDistance:void 0!==G.refDistance?G.refDistance:1,rolloffFactor:void 0!==G.rolloffFactor?G.rolloffFactor:1},ee._onstereo=G.onstereo?[{fn:G.onstereo}]:[],ee._onpos=G.onpos?[{fn:G.onpos}]:[],ee._onorientation=G.onorientation?[{fn:G.onorientation}]:[],R.call(this,G)}),Howl.prototype.stereo=function(R,G){var ee=this;if(!ee._webAudio)return ee;if("loaded"!==ee._state)return ee._queue.push({event:"stereo",action:function(){ee.stereo(R,G)}}),ee;var we=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===G){if("number"!=typeof R)return ee._stereo;ee._stereo=R,ee._pos=[R,0,0]}for(var be=ee._getSoundIds(G),Se=0;Se<be.length;Se++){var Ce=ee._soundById(be[Se]);if(Ce){if("number"!=typeof R)return Ce._stereo;Ce._stereo=R,Ce._pos=[R,0,0],Ce._node&&(Ce._pannerAttr.panningModel="equalpower",(!Ce._panner||!Ce._panner.pan)&&k(Ce,we),"spatial"===we?void 0!==Ce._panner.positionX?(Ce._panner.positionX.setValueAtTime(R,Howler.ctx.currentTime),Ce._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),Ce._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):Ce._panner.setPosition(R,0,0):Ce._panner.pan.setValueAtTime(R,Howler.ctx.currentTime)),ee._emit("stereo",Ce._id)}}return ee},Howl.prototype.pos=function(R,G,ee,we){var be=this;if(!be._webAudio)return be;if("loaded"!==be._state)return be._queue.push({event:"pos",action:function(){be.pos(R,G,ee,we)}}),be;if(G="number"!=typeof G?0:G,ee="number"!=typeof ee?-.5:ee,void 0===we){if("number"!=typeof R)return be._pos;be._pos=[R,G,ee]}for(var Se=be._getSoundIds(we),Ce=0;Ce<Se.length;Ce++){var J=be._soundById(Se[Ce]);if(J){if("number"!=typeof R)return J._pos;J._pos=[R,G,ee],J._node&&((!J._panner||J._panner.pan)&&k(J,"spatial"),void 0!==J._panner.positionX?(J._panner.positionX.setValueAtTime(R,Howler.ctx.currentTime),J._panner.positionY.setValueAtTime(G,Howler.ctx.currentTime),J._panner.positionZ.setValueAtTime(ee,Howler.ctx.currentTime)):J._panner.setPosition(R,G,ee)),be._emit("pos",J._id)}}return be},Howl.prototype.orientation=function(R,G,ee,we){var be=this;if(!be._webAudio)return be;if("loaded"!==be._state)return be._queue.push({event:"orientation",action:function(){be.orientation(R,G,ee,we)}}),be;if(G="number"!=typeof G?be._orientation[1]:G,ee="number"!=typeof ee?be._orientation[2]:ee,void 0===we){if("number"!=typeof R)return be._orientation;be._orientation=[R,G,ee]}for(var Se=be._getSoundIds(we),Ce=0;Ce<Se.length;Ce++){var J=be._soundById(Se[Ce]);if(J){if("number"!=typeof R)return J._orientation;J._orientation=[R,G,ee],J._node&&(J._panner||(J._pos||(J._pos=be._pos||[0,0,-.5]),k(J,"spatial")),void 0!==J._panner.orientationX?(J._panner.orientationX.setValueAtTime(R,Howler.ctx.currentTime),J._panner.orientationY.setValueAtTime(G,Howler.ctx.currentTime),J._panner.orientationZ.setValueAtTime(ee,Howler.ctx.currentTime)):J._panner.setOrientation(R,G,ee)),be._emit("orientation",J._id)}}return be},Howl.prototype.pannerAttr=function(){var ee,we,be,R=this,G=arguments;if(!R._webAudio)return R;if(0===G.length)return R._pannerAttr;if(1===G.length){if("object"!=typeof G[0])return(be=R._soundById(parseInt(G[0],10)))?be._pannerAttr:R._pannerAttr;ee=G[0],void 0===we&&(ee.pannerAttr||(ee.pannerAttr={coneInnerAngle:ee.coneInnerAngle,coneOuterAngle:ee.coneOuterAngle,coneOuterGain:ee.coneOuterGain,distanceModel:ee.distanceModel,maxDistance:ee.maxDistance,refDistance:ee.refDistance,rolloffFactor:ee.rolloffFactor,panningModel:ee.panningModel}),R._pannerAttr={coneInnerAngle:void 0!==ee.pannerAttr.coneInnerAngle?ee.pannerAttr.coneInnerAngle:R._coneInnerAngle,coneOuterAngle:void 0!==ee.pannerAttr.coneOuterAngle?ee.pannerAttr.coneOuterAngle:R._coneOuterAngle,coneOuterGain:void 0!==ee.pannerAttr.coneOuterGain?ee.pannerAttr.coneOuterGain:R._coneOuterGain,distanceModel:void 0!==ee.pannerAttr.distanceModel?ee.pannerAttr.distanceModel:R._distanceModel,maxDistance:void 0!==ee.pannerAttr.maxDistance?ee.pannerAttr.maxDistance:R._maxDistance,refDistance:void 0!==ee.pannerAttr.refDistance?ee.pannerAttr.refDistance:R._refDistance,rolloffFactor:void 0!==ee.pannerAttr.rolloffFactor?ee.pannerAttr.rolloffFactor:R._rolloffFactor,panningModel:void 0!==ee.pannerAttr.panningModel?ee.pannerAttr.panningModel:R._panningModel})}else 2===G.length&&(ee=G[0],we=parseInt(G[1],10));for(var Se=R._getSoundIds(we),Ce=0;Ce<Se.length;Ce++)if(be=R._soundById(Se[Ce])){var J=be._pannerAttr;J={coneInnerAngle:void 0!==ee.coneInnerAngle?ee.coneInnerAngle:J.coneInnerAngle,coneOuterAngle:void 0!==ee.coneOuterAngle?ee.coneOuterAngle:J.coneOuterAngle,coneOuterGain:void 0!==ee.coneOuterGain?ee.coneOuterGain:J.coneOuterGain,distanceModel:void 0!==ee.distanceModel?ee.distanceModel:J.distanceModel,maxDistance:void 0!==ee.maxDistance?ee.maxDistance:J.maxDistance,refDistance:void 0!==ee.refDistance?ee.refDistance:J.refDistance,rolloffFactor:void 0!==ee.rolloffFactor?ee.rolloffFactor:J.rolloffFactor,panningModel:void 0!==ee.panningModel?ee.panningModel:J.panningModel};var le=be._panner;le?(le.coneInnerAngle=J.coneInnerAngle,le.coneOuterAngle=J.coneOuterAngle,le.coneOuterGain=J.coneOuterGain,le.distanceModel=J.distanceModel,le.maxDistance=J.maxDistance,le.refDistance=J.refDistance,le.rolloffFactor=J.rolloffFactor,le.panningModel=J.panningModel):(be._pos||(be._pos=R._pos||[0,0,-.5]),k(be,"spatial"))}return R},Sound.prototype.init=function(R){return function(){var G=this,ee=G._parent;G._orientation=ee._orientation,G._stereo=ee._stereo,G._pos=ee._pos,G._pannerAttr=ee._pannerAttr,R.call(this),G._stereo?ee.stereo(G._stereo):G._pos&&ee.pos(G._pos[0],G._pos[1],G._pos[2],G._id)}}(Sound.prototype.init),Sound.prototype.reset=function(R){return function(){var G=this,ee=G._parent;return G._orientation=ee._orientation,G._stereo=ee._stereo,G._pos=ee._pos,G._pannerAttr=ee._pannerAttr,G._stereo?ee.stereo(G._stereo):G._pos?ee.pos(G._pos[0],G._pos[1],G._pos[2],G._id):G._panner&&(G._panner.disconnect(0),G._panner=void 0,ee._refreshBuffer(G)),R.call(this)}}(Sound.prototype.reset);var k=function(R,G){"spatial"===(G=G||"spatial")?(R._panner=Howler.ctx.createPanner(),R._panner.coneInnerAngle=R._pannerAttr.coneInnerAngle,R._panner.coneOuterAngle=R._pannerAttr.coneOuterAngle,R._panner.coneOuterGain=R._pannerAttr.coneOuterGain,R._panner.distanceModel=R._pannerAttr.distanceModel,R._panner.maxDistance=R._pannerAttr.maxDistance,R._panner.refDistance=R._pannerAttr.refDistance,R._panner.rolloffFactor=R._pannerAttr.rolloffFactor,R._panner.panningModel=R._pannerAttr.panningModel,void 0!==R._panner.positionX?(R._panner.positionX.setValueAtTime(R._pos[0],Howler.ctx.currentTime),R._panner.positionY.setValueAtTime(R._pos[1],Howler.ctx.currentTime),R._panner.positionZ.setValueAtTime(R._pos[2],Howler.ctx.currentTime)):R._panner.setPosition(R._pos[0],R._pos[1],R._pos[2]),void 0!==R._panner.orientationX?(R._panner.orientationX.setValueAtTime(R._orientation[0],Howler.ctx.currentTime),R._panner.orientationY.setValueAtTime(R._orientation[1],Howler.ctx.currentTime),R._panner.orientationZ.setValueAtTime(R._orientation[2],Howler.ctx.currentTime)):R._panner.setOrientation(R._orientation[0],R._orientation[1],R._orientation[2])):(R._panner=Howler.ctx.createStereoPanner(),R._panner.pan.setValueAtTime(R._stereo,Howler.ctx.currentTime)),R._panner.connect(R._node),R._paused||R._parent.pause(R._id,!0).play(R._id,!0)}}()},5599:(Rt,$e,$)=>{"use strict";$.r($e),$.d($e,{Children:()=>Wn,Component:()=>h.Component,Fragment:()=>h.Fragment,PureComponent:()=>Re,StrictMode:()=>oe,Suspense:()=>An,SuspenseList:()=>Fe,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:()=>un,cloneElement:()=>Nr,createContext:()=>h.createContext,createElement:()=>h.createElement,createFactory:()=>Mt,createPortal:()=>Ot,createRef:()=>h.createRef,default:()=>ge,findDOMNode:()=>Cr,flushSync:()=>wn,forwardRef:()=>St,hydrate:()=>Xt,isValidElement:()=>nr,lazy:()=>ye,memo:()=>Wt,render:()=>Et,unmountComponentAtNode:()=>gn,unstable_batchedUpdates:()=>rr,useCallback:()=>Qe,useContext:()=>We,useDebugValue:()=>Ye,useEffect:()=>te,useErrorBoundary:()=>ze,useImperativeHandle:()=>ne,useLayoutEffect:()=>he,useMemo:()=>He,useReducer:()=>U,useRef:()=>ae,useState:()=>O,version:()=>Zt});var k,R,G,h=$(3580),ee=0,we=[],be=h.options.__b,Se=h.options.__r,Ce=h.options.diffed,J=h.options.__c,le=h.options.unmount;function D(B,Q){h.options.__h&&h.options.__h(R,B,ee||Q),ee=0;var W=R.__H||(R.__H={__:[],__h:[]});return B>=W.__.length&&W.__.push({}),W.__[B]}function O(B){return ee=1,U(Oe,B)}function U(B,Q,W){var ie=D(k++,2);return ie.t=B,ie.__c||(ie.__=[W?W(Q):Oe(void 0,Q),function(re){var fe=ie.t(ie.__[0],re);ie.__[0]!==fe&&(ie.__=[fe,ie.__[1]],ie.__c.setState({}))}],ie.__c=R),ie.__}function te(B,Q){var W=D(k++,3);!h.options.__s&&Ie(W.__H,Q)&&(W.__=B,W.__H=Q,R.__H.__h.push(W))}function he(B,Q){var W=D(k++,4);!h.options.__s&&Ie(W.__H,Q)&&(W.__=B,W.__H=Q,R.__h.push(W))}function ae(B){return ee=5,He(function(){return{current:B}},[])}function ne(B,Q,W){ee=6,he(function(){return"function"==typeof B?(B(Q()),function(){return B(null)}):B?(B.current=Q(),function(){return B.current=null}):void 0},null==W?W:W.concat(B))}function He(B,Q){var W=D(k++,7);return Ie(W.__H,Q)&&(W.__=B(),W.__H=Q,W.__h=B),W.__}function Qe(B,Q){return ee=8,He(function(){return B},Q)}function We(B){var Q=R.context[B.__c],W=D(k++,9);return W.c=B,Q?(null==W.__&&(W.__=!0,Q.sub(R)),Q.props.value):B.__}function Ye(B,Q){h.options.useDebugValue&&h.options.useDebugValue(Q?Q(B):B)}function ze(B){var Q=D(k++,10),W=O();return Q.__=B,R.componentDidCatch||(R.componentDidCatch=function(ie){Q.__&&Q.__(ie),W[1](ie)}),[W[0],function(){W[1](void 0)}]}function mt(){for(var B;B=we.shift();)if(B.__P)try{B.__H.__h.forEach(Me),B.__H.__h.forEach(ue),B.__H.__h=[]}catch(Q){B.__H.__h=[],h.options.__e(Q,B.__v)}}h.options.__b=function(B){R=null,be&&be(B)},h.options.__r=function(B){Se&&Se(B),k=0;var Q=(R=B.__c).__H;Q&&(Q.__h.forEach(Me),Q.__h.forEach(ue),Q.__h=[])},h.options.diffed=function(B){Ce&&Ce(B);var Q=B.__c;Q&&Q.__H&&Q.__H.__h.length&&(1!==we.push(Q)&&G===h.options.requestAnimationFrame||((G=h.options.requestAnimationFrame)||function(W){var ie,re=function(){clearTimeout(fe),De&&cancelAnimationFrame(ie),setTimeout(W)},fe=setTimeout(re,100);De&&(ie=requestAnimationFrame(re))})(mt)),R=null},h.options.__c=function(B,Q){Q.some(function(W){try{W.__h.forEach(Me),W.__h=W.__h.filter(function(ie){return!ie.__||ue(ie)})}catch(ie){Q.some(function(re){re.__h&&(re.__h=[])}),Q=[],h.options.__e(ie,W.__v)}}),J&&J(B,Q)},h.options.unmount=function(B){le&&le(B);var Q,W=B.__c;W&&W.__H&&(W.__H.__.forEach(function(ie){try{Me(ie)}catch(re){Q=re}}),Q&&h.options.__e(Q,W.__v))};var De="function"==typeof requestAnimationFrame;function Me(B){var Q=R,W=B.__c;"function"==typeof W&&(B.__c=void 0,W()),R=Q}function ue(B){var Q=R;B.__c=B.__(),R=Q}function Ie(B,Q){return!B||B.length!==Q.length||Q.some(function(W,ie){return W!==B[ie]})}function Oe(B,Q){return"function"==typeof Q?Q(B):Q}function Le(B,Q){for(var W in Q)B[W]=Q[W];return B}function Xe(B,Q){for(var W in B)if("__source"!==W&&!(W in Q))return!0;for(var ie in Q)if("__source"!==ie&&B[ie]!==Q[ie])return!0;return!1}function Re(B){this.props=B}function Wt(B,Q){function W(re){var fe=this.props.ref,ke=fe==re.ref;return!ke&&fe&&(fe.call?fe(null):fe.current=null),Q?!Q(this.props,re)||!ke:Xe(this.props,re)}function ie(re){return this.shouldComponentUpdate=W,(0,h.createElement)(B,re)}return ie.displayName="Memo("+(B.displayName||B.name)+")",ie.prototype.isReactComponent=!0,ie.__f=!0,ie}(Re.prototype=new h.Component).isPureReactComponent=!0,Re.prototype.shouldComponentUpdate=function(B,Q){return Xe(this.props,B)||Xe(this.state,Q)};var Jt=h.options.__b;h.options.__b=function(B){B.type&&B.type.__f&&B.ref&&(B.props.ref=B.ref,B.ref=null),Jt&&Jt(B)};var er="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function St(B){function Q(W){var ie=Le({},W);return delete ie.ref,B(ie,W.ref||null)}return Q.$$typeof=er,Q.render=Q,Q.prototype.isReactComponent=Q.__f=!0,Q.displayName="ForwardRef("+(B.displayName||B.name)+")",Q}var zt=function(B,Q){return null==B?null:(0,h.toChildArray)((0,h.toChildArray)(B).map(Q))},Wn={map:zt,forEach:zt,count:function(B){return B?(0,h.toChildArray)(B).length:0},only:function(B){var Q=(0,h.toChildArray)(B);if(1!==Q.length)throw"Children.only";return Q[0]},toArray:h.toChildArray},Un=h.options.__e;h.options.__e=function(B,Q,W,ie){if(B.then)for(var re,fe=Q;fe=fe.__;)if((re=fe.__c)&&re.__c)return null==Q.__e&&(Q.__e=W.__e,Q.__k=W.__k),re.__c(B,Q);Un(B,Q,W,ie)};var wr=h.options.unmount;function An(){this.__u=0,this.t=null,this.__b=null}function Ae(B){var Q=B.__.__c;return Q&&Q.__e&&Q.__e(B)}function ye(B){var Q,W,ie;function re(fe){if(Q||(Q=B()).then(function(ke){W=ke.default||ke},function(ke){ie=ke}),ie)throw ie;if(!W)throw Q;return(0,h.createElement)(W,fe)}return re.displayName="Lazy",re.__f=!0,re}function Fe(){this.u=null,this.o=null}h.options.unmount=function(B){var Q=B.__c;Q&&Q.__R&&Q.__R(),Q&&!0===B.__h&&(B.type=null),wr&&wr(B)},(An.prototype=new h.Component).__c=function(B,Q){var W=Q.__c,ie=this;null==ie.t&&(ie.t=[]),ie.t.push(W);var re=Ae(ie.__v),fe=!1,ke=function(){fe||(fe=!0,W.__R=null,re?re(st):st())};W.__R=ke;var st=function(){if(!--ie.__u){if(ie.state.__e){var lt=ie.state.__e;ie.__v.__k[0]=function Te(de,ce,et){return de&&(de.__v=null,de.__k=de.__k&&de.__k.map(function(bt){return Te(bt,ce,et)}),de.__c&&de.__c.__P===ce&&(de.__e&&et.insertBefore(de.__e,de.__d),de.__c.__e=!0,de.__c.__P=et)),de}(lt,lt.__c.__P,lt.__c.__O)}var $t;for(ie.setState({__e:ie.__b=null});$t=ie.t.pop();)$t.forceUpdate()}},ht=!0===Q.__h;ie.__u++||ht||ie.setState({__e:ie.__b=ie.__v.__k[0]}),B.then(ke,ke)},An.prototype.componentWillUnmount=function(){this.t=[]},An.prototype.render=function(B,Q){if(this.__b){if(this.__v.__k){var W=document.createElement("div"),ie=this.__v.__k[0].__c;this.__v.__k[0]=function fe(ke,st,ht){return ke&&(ke.__c&&ke.__c.__H&&(ke.__c.__H.__.forEach(function(lt){"function"==typeof lt.__c&&lt.__c()}),ke.__c.__H=null),null!=(ke=Le({},ke)).__c&&(ke.__c.__P===ht&&(ke.__c.__P=st),ke.__c=null),ke.__k=ke.__k&&ke.__k.map(function(lt){return fe(lt,st,ht)})),ke}(this.__b,W,ie.__O=ie.__P)}this.__b=null}var re=Q.__e&&(0,h.createElement)(h.Fragment,null,B.fallback);return re&&(re.__h=null),[(0,h.createElement)(h.Fragment,null,Q.__e?null:B.children),re]};var at=function(B,Q,W){if(++W[1]===W[0]&&B.o.delete(Q),B.props.revealOrder&&("t"!==B.props.revealOrder[0]||!B.o.size))for(W=B.u;W;){for(;W.length>3;)W.pop()();if(W[1]<W[0])break;B.u=W=W[2]}};function At(B){return this.getChildContext=function(){return B.context},B.children}function qe(B){var Q=this,W=B.i;Q.componentWillUnmount=function(){(0,h.render)(null,Q.l),Q.l=null,Q.i=null},Q.i&&Q.i!==W&&Q.componentWillUnmount(),B.__v?(Q.l||(Q.i=W,Q.l={nodeType:1,parentNode:W,childNodes:[],appendChild:function(ie){this.childNodes.push(ie),Q.i.appendChild(ie)},insertBefore:function(ie,re){this.childNodes.push(ie),Q.i.appendChild(ie)},removeChild:function(ie){this.childNodes.splice(this.childNodes.indexOf(ie)>>>1,1),Q.i.removeChild(ie)}}),(0,h.render)((0,h.createElement)(At,{context:Q.context},B.__v),Q.l)):Q.l&&Q.componentWillUnmount()}function Ot(B,Q){var W=(0,h.createElement)(qe,{__v:B,i:Q});return W.containerInfo=Q,W}(Fe.prototype=new h.Component).__e=function(B){var Q=this,W=Ae(Q.__v),ie=Q.o.get(B);return ie[0]++,function(re){var fe=function(){Q.props.revealOrder?(ie.push(re),at(Q,B,ie)):re()};W?W(fe):fe()}},Fe.prototype.render=function(B){this.u=null,this.o=new Map;var Q=(0,h.toChildArray)(B.children);B.revealOrder&&"b"===B.revealOrder[0]&&Q.reverse();for(var W=Q.length;W--;)this.o.set(Q[W],this.u=[1,0,this.u]);return B.children},Fe.prototype.componentDidUpdate=Fe.prototype.componentDidMount=function(){var B=this;this.o.forEach(function(Q,W){at(B,W,Q)})};var on="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,hn=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,dn="undefined"!=typeof document,Ze=function(B){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(B)};function Et(B,Q,W){return null==Q.__k&&(Q.textContent=""),(0,h.render)(B,Q),"function"==typeof W&&W(),B?B.__c:null}function Xt(B,Q,W){return(0,h.hydrate)(B,Q),"function"==typeof W&&W(),B?B.__c:null}h.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(B){Object.defineProperty(h.Component.prototype,B,{configurable:!0,get:function(){return this["UNSAFE_"+B]},set:function(Q){Object.defineProperty(this,B,{configurable:!0,writable:!0,value:Q})}})});var vt=h.options.event;function Pt(){}function tr(){return this.cancelBubble}function yn(){return this.defaultPrevented}h.options.event=function(B){return vt&&(B=vt(B)),B.persist=Pt,B.isPropagationStopped=tr,B.isDefaultPrevented=yn,B.nativeEvent=B};var xn,En={configurable:!0,get:function(){return this.class}},zn=h.options.vnode;h.options.vnode=function(B){var Q=B.type,W=B.props,ie=W;if("string"==typeof Q){var re=-1===Q.indexOf("-");for(var fe in ie={},W){var ke=W[fe];dn&&"children"===fe&&"noscript"===Q||"value"===fe&&"defaultValue"in W&&null==ke||("defaultValue"===fe&&"value"in W&&null==W.value?fe="value":"download"===fe&&!0===ke?ke="":/ondoubleclick/i.test(fe)?fe="ondblclick":/^onchange(textarea|input)/i.test(fe+Q)&&!Ze(W.type)?fe="oninput":/^onfocus$/i.test(fe)?fe="onfocusin":/^onblur$/i.test(fe)?fe="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(fe)?fe=fe.toLowerCase():re&&hn.test(fe)?fe=fe.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===ke&&(ke=void 0),ie[fe]=ke)}"select"==Q&&ie.multiple&&Array.isArray(ie.value)&&(ie.value=(0,h.toChildArray)(W.children).forEach(function(st){st.props.selected=-1!=ie.value.indexOf(st.props.value)})),"select"==Q&&null!=ie.defaultValue&&(ie.value=(0,h.toChildArray)(W.children).forEach(function(st){st.props.selected=ie.multiple?-1!=ie.defaultValue.indexOf(st.props.value):ie.defaultValue==st.props.value})),B.props=ie,W.class!=W.className&&(En.enumerable="className"in W,null!=W.className&&(ie.class=W.className),Object.defineProperty(ie,"className",En))}B.$$typeof=on,zn&&zn(B)};var ln=h.options.__r;h.options.__r=function(B){ln&&ln(B),xn=B.__c};var un={ReactCurrentDispatcher:{current:{readContext:function(B){return xn.__n[B.__c].props.value}}}},Zt="17.0.2";function Mt(B){return h.createElement.bind(null,B)}function nr(B){return!!B&&B.$$typeof===on}function Nr(B){return nr(B)?h.cloneElement.apply(null,arguments):B}function gn(B){return!!B.__k&&((0,h.render)(null,B),!0)}function Cr(B){return B&&(B.base||1===B.nodeType&&B)||null}var rr=function(B,Q){return B(Q)},wn=function(B,Q){return B(Q)},oe=h.Fragment;const ge={useState:O,useReducer:U,useEffect:te,useLayoutEffect:he,useRef:ae,useImperativeHandle:ne,useMemo:He,useCallback:Qe,useContext:We,useDebugValue:Ye,version:"17.0.2",Children:Wn,render:Et,hydrate:Xt,unmountComponentAtNode:gn,createPortal:Ot,createElement:h.createElement,createContext:h.createContext,createFactory:Mt,cloneElement:Nr,createRef:h.createRef,Fragment:h.Fragment,isValidElement:nr,findDOMNode:Cr,Component:h.Component,PureComponent:Re,memo:Wt,forwardRef:St,flushSync:wn,unstable_batchedUpdates:rr,StrictMode:h.Fragment,Suspense:An,SuspenseList:Fe,lazy:ye,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:un}},3580:(Rt,$e,$)=>{"use strict";$.r($e),$.d($e,{Component:()=>ne,Fragment:()=>ae,cloneElement:()=>wr,createContext:()=>An,createElement:()=>U,createRef:()=>he,h:()=>U,hydrate:()=>Un,isValidElement:()=>G,options:()=>k,render:()=>Wn,toChildArray:()=>De});var h,k,R,G,ee,we,be,Se,Ce={},J=[],le=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function D(Ae,ye){for(var Fe in ye)Ae[Fe]=ye[Fe];return Ae}function O(Ae){var ye=Ae.parentNode;ye&&ye.removeChild(Ae)}function U(Ae,ye,Fe){var at,At,qe,Ot={};for(qe in ye)"key"==qe?at=ye[qe]:"ref"==qe?At=ye[qe]:Ot[qe]=ye[qe];if(arguments.length>2&&(Ot.children=arguments.length>3?h.call(arguments,2):Fe),"function"==typeof Ae&&null!=Ae.defaultProps)for(qe in Ae.defaultProps)void 0===Ot[qe]&&(Ot[qe]=Ae.defaultProps[qe]);return te(Ae,Ot,at,At,null)}function te(Ae,ye,Fe,at,At){var qe={type:Ae,props:ye,key:Fe,ref:at,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==At?++R:At};return null==At&&null!=k.vnode&&k.vnode(qe),qe}function he(){return{current:null}}function ae(Ae){return Ae.children}function ne(Ae,ye){this.props=Ae,this.context=ye}function He(Ae,ye){if(null==ye)return Ae.__?He(Ae.__,Ae.__.__k.indexOf(Ae)+1):null;for(var Fe;ye<Ae.__k.length;ye++)if(null!=(Fe=Ae.__k[ye])&&null!=Fe.__e)return Fe.__e;return"function"==typeof Ae.type?He(Ae):null}function Qe(Ae){var ye,Fe;if(null!=(Ae=Ae.__)&&null!=Ae.__c){for(Ae.__e=Ae.__c.base=null,ye=0;ye<Ae.__k.length;ye++)if(null!=(Fe=Ae.__k[ye])&&null!=Fe.__e){Ae.__e=Ae.__c.base=Fe.__e;break}return Qe(Ae)}}function We(Ae){(!Ae.__d&&(Ae.__d=!0)&&ee.push(Ae)&&!Ye.__r++||be!==k.debounceRendering)&&((be=k.debounceRendering)||we)(Ye)}function Ye(){for(var Ae;Ye.__r=ee.length;)Ae=ee.sort(function(ye,Fe){return ye.__v.__b-Fe.__v.__b}),ee=[],Ae.some(function(ye){var Fe,at,At,qe,Ot,on;ye.__d&&(Ot=(qe=(Fe=ye).__v).__e,(on=Fe.__P)&&(at=[],(At=D({},qe)).__v=qe.__v+1,Re(on,qe,At,Fe.__n,void 0!==on.ownerSVGElement,null!=qe.__h?[Ot]:null,at,null==Ot?He(qe):Ot,qe.__h),Wt(at,qe),qe.__e!=Ot&&Qe(qe)))})}function ze(Ae,ye,Fe,at,At,qe,Ot,on,hn,dn){var Ze,Et,Xt,vt,Pt,tr,yn,xn=at&&at.__k||J,En=xn.length;for(Fe.__k=[],Ze=0;Ze<ye.length;Ze++)if(null!=(vt=Fe.__k[Ze]=null==(vt=ye[Ze])||"boolean"==typeof vt?null:"string"==typeof vt||"number"==typeof vt||"bigint"==typeof vt?te(null,vt,null,null,vt):Array.isArray(vt)?te(ae,{children:vt},null,null,null):vt.__b>0?te(vt.type,vt.props,vt.key,null,vt.__v):vt)){if(vt.__=Fe,vt.__b=Fe.__b+1,null===(Xt=xn[Ze])||Xt&&vt.key==Xt.key&&vt.type===Xt.type)xn[Ze]=void 0;else for(Et=0;Et<En;Et++){if((Xt=xn[Et])&&vt.key==Xt.key&&vt.type===Xt.type){xn[Et]=void 0;break}Xt=null}Re(Ae,vt,Xt=Xt||Ce,At,qe,Ot,on,hn,dn),Pt=vt.__e,(Et=vt.ref)&&Xt.ref!=Et&&(yn||(yn=[]),Xt.ref&&yn.push(Xt.ref,null,vt),yn.push(Et,vt.__c||Pt,vt)),null!=Pt?(null==tr&&(tr=Pt),"function"==typeof vt.type&&vt.__k===Xt.__k?vt.__d=hn=mt(vt,hn,Ae):hn=Me(Ae,vt,Xt,xn,Pt,hn),"function"==typeof Fe.type&&(Fe.__d=hn)):hn&&Xt.__e==hn&&hn.parentNode!=Ae&&(hn=He(Xt))}for(Fe.__e=tr,Ze=En;Ze--;)null!=xn[Ze]&&("function"==typeof Fe.type&&null!=xn[Ze].__e&&xn[Ze].__e==Fe.__d&&(Fe.__d=He(at,Ze+1)),St(xn[Ze],xn[Ze]));if(yn)for(Ze=0;Ze<yn.length;Ze++)er(yn[Ze],yn[++Ze],yn[++Ze])}function mt(Ae,ye,Fe){for(var at,At=Ae.__k,qe=0;At&&qe<At.length;qe++)(at=At[qe])&&(at.__=Ae,ye="function"==typeof at.type?mt(at,ye,Fe):Me(Fe,at,at,At,at.__e,ye));return ye}function De(Ae,ye){return ye=ye||[],null==Ae||"boolean"==typeof Ae||(Array.isArray(Ae)?Ae.some(function(Fe){De(Fe,ye)}):ye.push(Ae)),ye}function Me(Ae,ye,Fe,at,At,qe){var Ot,on,hn;if(void 0!==ye.__d)Ot=ye.__d,ye.__d=void 0;else if(null==Fe||At!=qe||null==At.parentNode)e:if(null==qe||qe.parentNode!==Ae)Ae.appendChild(At),Ot=null;else{for(on=qe,hn=0;(on=on.nextSibling)&&hn<at.length;hn+=2)if(on==At)break e;Ae.insertBefore(At,qe),Ot=qe}return void 0!==Ot?Ot:At.nextSibling}function Ie(Ae,ye,Fe){"-"===ye[0]?Ae.setProperty(ye,Fe):Ae[ye]=null==Fe?"":"number"!=typeof Fe||le.test(ye)?Fe:Fe+"px"}function Oe(Ae,ye,Fe,at,At){var qe;e:if("style"===ye)if("string"==typeof Fe)Ae.style.cssText=Fe;else{if("string"==typeof at&&(Ae.style.cssText=at=""),at)for(ye in at)Fe&&ye in Fe||Ie(Ae.style,ye,"");if(Fe)for(ye in Fe)at&&Fe[ye]===at[ye]||Ie(Ae.style,ye,Fe[ye])}else if("o"===ye[0]&&"n"===ye[1])qe=ye!==(ye=ye.replace(/Capture$/,"")),ye=ye.toLowerCase()in Ae?ye.toLowerCase().slice(2):ye.slice(2),Ae.l||(Ae.l={}),Ae.l[ye+qe]=Fe,Fe?at||Ae.addEventListener(ye,qe?Xe:Le,qe):Ae.removeEventListener(ye,qe?Xe:Le,qe);else if("dangerouslySetInnerHTML"!==ye){if(At)ye=ye.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==ye&&"list"!==ye&&"form"!==ye&&"tabIndex"!==ye&&"download"!==ye&&ye in Ae)try{Ae[ye]=null==Fe?"":Fe;break e}catch(Ot){}"function"==typeof Fe||(null!=Fe&&(!1!==Fe||"a"===ye[0]&&"r"===ye[1])?Ae.setAttribute(ye,Fe):Ae.removeAttribute(ye))}}function Le(Ae){this.l[Ae.type+!1](k.event?k.event(Ae):Ae)}function Xe(Ae){this.l[Ae.type+!0](k.event?k.event(Ae):Ae)}function Re(Ae,ye,Fe,at,At,qe,Ot,on,hn){var dn,Ze,Et,Xt,vt,Pt,tr,yn,xn,En,zn,ln=ye.type;if(void 0!==ye.constructor)return null;null!=Fe.__h&&(hn=Fe.__h,on=ye.__e=Fe.__e,ye.__h=null,qe=[on]),(dn=k.__b)&&dn(ye);try{e:if("function"==typeof ln){if(yn=ye.props,xn=(dn=ln.contextType)&&at[dn.__c],En=dn?xn?xn.props.value:dn.__:at,Fe.__c?tr=(Ze=ye.__c=Fe.__c).__=Ze.__E:("prototype"in ln&&ln.prototype.render?ye.__c=Ze=new ln(yn,En):(ye.__c=Ze=new ne(yn,En),Ze.constructor=ln,Ze.render=zt),xn&&xn.sub(Ze),Ze.props=yn,Ze.state||(Ze.state={}),Ze.context=En,Ze.__n=at,Et=Ze.__d=!0,Ze.__h=[]),null==Ze.__s&&(Ze.__s=Ze.state),null!=ln.getDerivedStateFromProps&&(Ze.__s==Ze.state&&(Ze.__s=D({},Ze.__s)),D(Ze.__s,ln.getDerivedStateFromProps(yn,Ze.__s))),Xt=Ze.props,vt=Ze.state,Et)null==ln.getDerivedStateFromProps&&null!=Ze.componentWillMount&&Ze.componentWillMount(),null!=Ze.componentDidMount&&Ze.__h.push(Ze.componentDidMount);else{if(null==ln.getDerivedStateFromProps&&yn!==Xt&&null!=Ze.componentWillReceiveProps&&Ze.componentWillReceiveProps(yn,En),!Ze.__e&&null!=Ze.shouldComponentUpdate&&!1===Ze.shouldComponentUpdate(yn,Ze.__s,En)||ye.__v===Fe.__v){Ze.props=yn,Ze.state=Ze.__s,ye.__v!==Fe.__v&&(Ze.__d=!1),Ze.__v=ye,ye.__e=Fe.__e,ye.__k=Fe.__k,ye.__k.forEach(function(un){un&&(un.__=ye)}),Ze.__h.length&&Ot.push(Ze);break e}null!=Ze.componentWillUpdate&&Ze.componentWillUpdate(yn,Ze.__s,En),null!=Ze.componentDidUpdate&&Ze.__h.push(function(){Ze.componentDidUpdate(Xt,vt,Pt)})}Ze.context=En,Ze.props=yn,Ze.state=Ze.__s,(dn=k.__r)&&dn(ye),Ze.__d=!1,Ze.__v=ye,Ze.__P=Ae,dn=Ze.render(Ze.props,Ze.state,Ze.context),Ze.state=Ze.__s,null!=Ze.getChildContext&&(at=D(D({},at),Ze.getChildContext())),Et||null==Ze.getSnapshotBeforeUpdate||(Pt=Ze.getSnapshotBeforeUpdate(Xt,vt)),zn=null!=dn&&dn.type===ae&&null==dn.key?dn.props.children:dn,ze(Ae,Array.isArray(zn)?zn:[zn],ye,Fe,at,At,qe,Ot,on,hn),Ze.base=ye.__e,ye.__h=null,Ze.__h.length&&Ot.push(Ze),tr&&(Ze.__E=Ze.__=null),Ze.__e=!1}else null==qe&&ye.__v===Fe.__v?(ye.__k=Fe.__k,ye.__e=Fe.__e):ye.__e=function Jt(Ae,ye,Fe,at,At,qe,Ot,on){var hn,dn,Ze,Et=Fe.props,Xt=ye.props,vt=ye.type,Pt=0;if("svg"===vt&&(At=!0),null!=qe)for(;Pt<qe.length;Pt++)if((hn=qe[Pt])&&"setAttribute"in hn==!!vt&&(vt?hn.localName===vt:3===hn.nodeType)){Ae=hn,qe[Pt]=null;break}if(null==Ae){if(null===vt)return document.createTextNode(Xt);Ae=At?document.createElementNS("http://www.w3.org/2000/svg",vt):document.createElement(vt,Xt.is&&Xt),qe=null,on=!1}if(null===vt)Et===Xt||on&&Ae.data===Xt||(Ae.data=Xt);else{if(qe=qe&&h.call(Ae.childNodes),dn=(Et=Fe.props||Ce).dangerouslySetInnerHTML,Ze=Xt.dangerouslySetInnerHTML,!on){if(null!=qe)for(Et={},Pt=0;Pt<Ae.attributes.length;Pt++)Et[Ae.attributes[Pt].name]=Ae.attributes[Pt].value;(Ze||dn)&&(Ze&&(dn&&Ze.__html==dn.__html||Ze.__html===Ae.innerHTML)||(Ae.innerHTML=Ze&&Ze.__html||""))}if(function ue(Ae,ye,Fe,at,At){var qe;for(qe in Fe)"children"===qe||"key"===qe||qe in ye||Oe(Ae,qe,null,Fe[qe],at);for(qe in ye)At&&"function"!=typeof ye[qe]||"children"===qe||"key"===qe||"value"===qe||"checked"===qe||Fe[qe]===ye[qe]||Oe(Ae,qe,ye[qe],Fe[qe],at)}(Ae,Xt,Et,At,on),Ze)ye.__k=[];else if(Pt=ye.props.children,ze(Ae,Array.isArray(Pt)?Pt:[Pt],ye,Fe,at,At&&"foreignObject"!==vt,qe,Ot,qe?qe[0]:Fe.__k&&He(Fe,0),on),null!=qe)for(Pt=qe.length;Pt--;)null!=qe[Pt]&&O(qe[Pt]);on||("value"in Xt&&void 0!==(Pt=Xt.value)&&(Pt!==Ae.value||"progress"===vt&&!Pt||"option"===vt&&Pt!==Et.value)&&Oe(Ae,"value",Pt,Et.value,!1),"checked"in Xt&&void 0!==(Pt=Xt.checked)&&Pt!==Ae.checked&&Oe(Ae,"checked",Pt,Et.checked,!1))}return Ae}(Fe.__e,ye,Fe,at,At,qe,Ot,hn);(dn=k.diffed)&&dn(ye)}catch(un){ye.__v=null,(hn||null!=qe)&&(ye.__e=on,ye.__h=!!hn,qe[qe.indexOf(on)]=null),k.__e(un,ye,Fe)}}function Wt(Ae,ye){k.__c&&k.__c(ye,Ae),Ae.some(function(Fe){try{Ae=Fe.__h,Fe.__h=[],Ae.some(function(at){at.call(Fe)})}catch(at){k.__e(at,Fe.__v)}})}function er(Ae,ye,Fe){try{"function"==typeof Ae?Ae(ye):Ae.current=ye}catch(at){k.__e(at,Fe)}}function St(Ae,ye,Fe){var at,At;if(k.unmount&&k.unmount(Ae),(at=Ae.ref)&&(at.current&&at.current!==Ae.__e||er(at,null,ye)),null!=(at=Ae.__c)){if(at.componentWillUnmount)try{at.componentWillUnmount()}catch(qe){k.__e(qe,ye)}at.base=at.__P=null}if(at=Ae.__k)for(At=0;At<at.length;At++)at[At]&&St(at[At],ye,"function"!=typeof Ae.type);Fe||null==Ae.__e||O(Ae.__e),Ae.__e=Ae.__d=void 0}function zt(Ae,ye,Fe){return this.constructor(Ae,Fe)}function Wn(Ae,ye,Fe){var at,At,qe;k.__&&k.__(Ae,ye),At=(at="function"==typeof Fe)?null:Fe&&Fe.__k||ye.__k,qe=[],Re(ye,Ae=(!at&&Fe||ye).__k=U(ae,null,[Ae]),At||Ce,Ce,void 0!==ye.ownerSVGElement,!at&&Fe?[Fe]:At?null:ye.firstChild?h.call(ye.childNodes):null,qe,!at&&Fe?Fe:At?At.__e:ye.firstChild,at),Wt(qe,Ae)}function Un(Ae,ye){Wn(Ae,ye,Un)}function wr(Ae,ye,Fe){var at,At,qe,Ot=D({},Ae.props);for(qe in ye)"key"==qe?at=ye[qe]:"ref"==qe?At=ye[qe]:Ot[qe]=ye[qe];return arguments.length>2&&(Ot.children=arguments.length>3?h.call(arguments,2):Fe),te(Ae.type,Ot,at||Ae.key,At||Ae.ref,null)}function An(Ae,ye){var Fe={__c:ye="__cC"+Se++,__:Ae,Consumer:function(at,At){return at.children(At)},Provider:function(at){var At,qe;return this.getChildContext||(At=[],(qe={})[ye]=this,this.getChildContext=function(){return qe},this.shouldComponentUpdate=function(Ot){this.props.value!==Ot.value&&At.some(We)},this.sub=function(Ot){At.push(Ot);var on=Ot.componentWillUnmount;Ot.componentWillUnmount=function(){At.splice(At.indexOf(Ot),1),on&&on.call(Ot)}}),at.children}};return Fe.Provider.__=Fe.Consumer.contextType=Fe}h=J.slice,k={__e:function(Ae,ye,Fe,at){for(var At,qe,Ot;ye=ye.__;)if((At=ye.__c)&&!At.__)try{if((qe=At.constructor)&&null!=qe.getDerivedStateFromError&&(At.setState(qe.getDerivedStateFromError(Ae)),Ot=At.__d),null!=At.componentDidCatch&&(At.componentDidCatch(Ae,at||{}),Ot=At.__d),Ot)return At.__E=At}catch(on){Ae=on}throw Ae}},R=0,G=function(Ae){return null!=Ae&&void 0===Ae.constructor},ne.prototype.setState=function(Ae,ye){var Fe;Fe=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=D({},this.state),"function"==typeof Ae&&(Ae=Ae(D({},Fe),this.props)),Ae&&D(Fe,Ae),null!=Ae&&this.__v&&(ye&&this.__h.push(ye),We(this))},ne.prototype.forceUpdate=function(Ae){this.__v&&(this.__e=!0,Ae&&this.__h.push(Ae),We(this))},ne.prototype.render=ae,ee=[],we="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ye.__r=0,Se=0},8306:(Rt,$e,$)=>{"use strict";$.d($e,{y:()=>J});var h=$(2961),k=$(727),R=$(8822),G=$(4671);var be=$(2416),Se=$(576),Ce=$(2806);let J=(()=>{class U{constructor(he){he&&(this._subscribe=he)}lift(he){const ae=new U;return ae.source=this,ae.operator=he,ae}subscribe(he,ae,ne){const He=function O(U){return U&&U instanceof h.Lv||function D(U){return U&&(0,Se.m)(U.next)&&(0,Se.m)(U.error)&&(0,Se.m)(U.complete)}(U)&&(0,k.Nn)(U)}(he)?he:new h.Hp(he,ae,ne);return(0,Ce.x)(()=>{const{operator:Qe,source:We}=this;He.add(Qe?Qe.call(He,We):We?this._subscribe(He):this._trySubscribe(He))}),He}_trySubscribe(he){try{return this._subscribe(he)}catch(ae){he.error(ae)}}forEach(he,ae){return new(ae=le(ae))((ne,He)=>{const Qe=new h.Hp({next:We=>{try{he(We)}catch(Ye){He(Ye),Qe.unsubscribe()}},error:He,complete:ne});this.subscribe(Qe)})}_subscribe(he){var ae;return null===(ae=this.source)||void 0===ae?void 0:ae.subscribe(he)}[R.L](){return this}pipe(...he){return function we(U){return 0===U.length?G.y:1===U.length?U[0]:function(he){return U.reduce((ae,ne)=>ne(ae),he)}}(he)(this)}toPromise(he){return new(he=le(he))((ae,ne)=>{let He;this.subscribe(Qe=>He=Qe,Qe=>ne(Qe),()=>ae(He))})}}return U.create=te=>new U(te),U})();function le(U){var te;return null!==(te=null!=U?U:be.v.Promise)&&void 0!==te?te:Promise}},7579:(Rt,$e,$)=>{"use strict";$.d($e,{x:()=>be});var h=$(8306),k=$(727);const G=(0,$(3888).d)(Ce=>function(){Ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ee=$(8737),we=$(2806);let be=(()=>{class Ce extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(le){const D=new Se(this,this);return D.operator=le,D}_throwIfClosed(){if(this.closed)throw new G}next(le){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const D of this.currentObservers)D.next(le)}})}error(le){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=le;const{observers:D}=this;for(;D.length;)D.shift().error(le)}})}complete(){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:le}=this;for(;le.length;)le.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var le;return(null===(le=this.observers)||void 0===le?void 0:le.length)>0}_trySubscribe(le){return this._throwIfClosed(),super._trySubscribe(le)}_subscribe(le){return this._throwIfClosed(),this._checkFinalizedStatuses(le),this._innerSubscribe(le)}_innerSubscribe(le){const{hasError:D,isStopped:O,observers:U}=this;return D||O?k.Lc:(this.currentObservers=null,U.push(le),new k.w0(()=>{this.currentObservers=null,(0,ee.P)(U,le)}))}_checkFinalizedStatuses(le){const{hasError:D,thrownError:O,isStopped:U}=this;D?le.error(O):U&&le.complete()}asObservable(){const le=new h.y;return le.source=this,le}}return Ce.create=(J,le)=>new Se(J,le),Ce})();class Se extends be{constructor(J,le){super(),this.destination=J,this.source=le}next(J){var le,D;null===(D=null===(le=this.destination)||void 0===le?void 0:le.next)||void 0===D||D.call(le,J)}error(J){var le,D;null===(D=null===(le=this.destination)||void 0===le?void 0:le.error)||void 0===D||D.call(le,J)}complete(){var J,le;null===(le=null===(J=this.destination)||void 0===J?void 0:J.complete)||void 0===le||le.call(J)}_subscribe(J){var le,D;return null!==(D=null===(le=this.source)||void 0===le?void 0:le.subscribe(J))&&void 0!==D?D:k.Lc}}},2961:(Rt,$e,$)=>{"use strict";$.d($e,{Hp:()=>he,Lv:()=>D});var h=$(576),k=$(727),R=$(2416),G=$(7849);function ee(){}const we=Ce("C",void 0,void 0);function Ce(We,Ye,ze){return{kind:We,value:Ye,error:ze}}var J=$(3410),le=$(2806);class D extends k.w0{constructor(Ye){super(),this.isStopped=!1,Ye?(this.destination=Ye,(0,k.Nn)(Ye)&&Ye.add(this)):this.destination=Qe}static create(Ye,ze,mt){return new he(Ye,ze,mt)}next(Ye){this.isStopped?He(function Se(We){return Ce("N",We,void 0)}(Ye),this):this._next(Ye)}error(Ye){this.isStopped?He(function be(We){return Ce("E",void 0,We)}(Ye),this):(this.isStopped=!0,this._error(Ye))}complete(){this.isStopped?He(we,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ye){this.destination.next(Ye)}_error(Ye){try{this.destination.error(Ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const O=Function.prototype.bind;function U(We,Ye){return O.call(We,Ye)}class te{constructor(Ye){this.partialObserver=Ye}next(Ye){const{partialObserver:ze}=this;if(ze.next)try{ze.next(Ye)}catch(mt){ae(mt)}}error(Ye){const{partialObserver:ze}=this;if(ze.error)try{ze.error(Ye)}catch(mt){ae(mt)}else ae(Ye)}complete(){const{partialObserver:Ye}=this;if(Ye.complete)try{Ye.complete()}catch(ze){ae(ze)}}}class he extends D{constructor(Ye,ze,mt){let De;if(super(),(0,h.m)(Ye)||!Ye)De={next:null!=Ye?Ye:void 0,error:null!=ze?ze:void 0,complete:null!=mt?mt:void 0};else{let Me;this&&R.v.useDeprecatedNextContext?(Me=Object.create(Ye),Me.unsubscribe=()=>this.unsubscribe(),De={next:Ye.next&&U(Ye.next,Me),error:Ye.error&&U(Ye.error,Me),complete:Ye.complete&&U(Ye.complete,Me)}):De=Ye}this.destination=new te(De)}}function ae(We){R.v.useDeprecatedSynchronousErrorHandling?(0,le.O)(We):(0,G.h)(We)}function He(We,Ye){const{onStoppedNotification:ze}=R.v;ze&&J.z.setTimeout(()=>ze(We,Ye))}const Qe={closed:!0,next:ee,error:function ne(We){throw We},complete:ee}},727:(Rt,$e,$)=>{"use strict";$.d($e,{Lc:()=>we,w0:()=>ee,Nn:()=>be});var h=$(576);const R=(0,$(3888).d)(Ce=>function(le){Ce(this),this.message=le?`${le.length} errors occurred during unsubscription:\n${le.map((D,O)=>`${O+1}) ${D.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=le});var G=$(8737);class ee{constructor(J){this.initialTeardown=J,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let J;if(!this.closed){this.closed=!0;const{_parentage:le}=this;if(le)if(this._parentage=null,Array.isArray(le))for(const U of le)U.remove(this);else le.remove(this);const{initialTeardown:D}=this;if((0,h.m)(D))try{D()}catch(U){J=U instanceof R?U.errors:[U]}const{_finalizers:O}=this;if(O){this._finalizers=null;for(const U of O)try{Se(U)}catch(te){J=null!=J?J:[],te instanceof R?J=[...J,...te.errors]:J.push(te)}}if(J)throw new R(J)}}add(J){var le;if(J&&J!==this)if(this.closed)Se(J);else{if(J instanceof ee){if(J.closed||J._hasParent(this))return;J._addParent(this)}(this._finalizers=null!==(le=this._finalizers)&&void 0!==le?le:[]).push(J)}}_hasParent(J){const{_parentage:le}=this;return le===J||Array.isArray(le)&&le.includes(J)}_addParent(J){const{_parentage:le}=this;this._parentage=Array.isArray(le)?(le.push(J),le):le?[le,J]:J}_removeParent(J){const{_parentage:le}=this;le===J?this._parentage=null:Array.isArray(le)&&(0,G.P)(le,J)}remove(J){const{_finalizers:le}=this;le&&(0,G.P)(le,J),J instanceof ee&&J._removeParent(this)}}ee.EMPTY=(()=>{const Ce=new ee;return Ce.closed=!0,Ce})();const we=ee.EMPTY;function be(Ce){return Ce instanceof ee||Ce&&"closed"in Ce&&(0,h.m)(Ce.remove)&&(0,h.m)(Ce.add)&&(0,h.m)(Ce.unsubscribe)}function Se(Ce){(0,h.m)(Ce)?Ce():Ce.unsubscribe()}},2416:(Rt,$e,$)=>{"use strict";$.d($e,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Rt,$e,$)=>{"use strict";$.d($e,{E:()=>k});const k=new($(8306).y)(ee=>ee.complete())},8996:(Rt,$e,$)=>{"use strict";$.d($e,{D:()=>Ye});var h=$(8421),k=$(5363),R=$(9468),we=$(8306),Se=$(2202),Ce=$(576),J=$(9672);function D(ze,mt){if(!ze)throw new Error("Iterable cannot be null");return new we.y(De=>{(0,J.f)(De,mt,()=>{const Me=ze[Symbol.asyncIterator]();(0,J.f)(De,mt,()=>{Me.next().then(ue=>{ue.done?De.complete():De.next(ue.value)})},0,!0)})})}var O=$(3670),U=$(8239),te=$(1144),he=$(6495),ae=$(2206),ne=$(4532),He=$(3260);function Ye(ze,mt){return mt?function We(ze,mt){if(null!=ze){if((0,O.c)(ze))return function G(ze,mt){return(0,h.Xf)(ze).pipe((0,R.R)(mt),(0,k.Q)(mt))}(ze,mt);if((0,te.z)(ze))return function be(ze,mt){return new we.y(De=>{let Me=0;return mt.schedule(function(){Me===ze.length?De.complete():(De.next(ze[Me++]),De.closed||this.schedule())})})}(ze,mt);if((0,U.t)(ze))return function ee(ze,mt){return(0,h.Xf)(ze).pipe((0,R.R)(mt),(0,k.Q)(mt))}(ze,mt);if((0,ae.D)(ze))return D(ze,mt);if((0,he.T)(ze))return function le(ze,mt){return new we.y(De=>{let Me;return(0,J.f)(De,mt,()=>{Me=ze[Se.h](),(0,J.f)(De,mt,()=>{let ue,Ie;try{({value:ue,done:Ie}=Me.next())}catch(Oe){return void De.error(Oe)}Ie?De.complete():De.next(ue)},0,!0)}),()=>(0,Ce.m)(null==Me?void 0:Me.return)&&Me.return()})}(ze,mt);if((0,He.L)(ze))return function Qe(ze,mt){return D((0,He.Q)(ze),mt)}(ze,mt)}throw(0,ne.z)(ze)}(ze,mt):(0,h.Xf)(ze)}},8421:(Rt,$e,$)=>{"use strict";$.d($e,{Xf:()=>O});var h=$(655),k=$(1144),R=$(8239),G=$(8306),ee=$(3670),we=$(2206),be=$(4532),Se=$(6495),Ce=$(3260),J=$(576),le=$(7849),D=$(8822);function O(We){if(We instanceof G.y)return We;if(null!=We){if((0,ee.c)(We))return function U(We){return new G.y(Ye=>{const ze=We[D.L]();if((0,J.m)(ze.subscribe))return ze.subscribe(Ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(We);if((0,k.z)(We))return function te(We){return new G.y(Ye=>{for(let ze=0;ze<We.length&&!Ye.closed;ze++)Ye.next(We[ze]);Ye.complete()})}(We);if((0,R.t)(We))return function he(We){return new G.y(Ye=>{We.then(ze=>{Ye.closed||(Ye.next(ze),Ye.complete())},ze=>Ye.error(ze)).then(null,le.h)})}(We);if((0,we.D)(We))return ne(We);if((0,Se.T)(We))return function ae(We){return new G.y(Ye=>{for(const ze of We)if(Ye.next(ze),Ye.closed)return;Ye.complete()})}(We);if((0,Ce.L)(We))return function He(We){return ne((0,Ce.Q)(We))}(We)}throw(0,be.z)(We)}function ne(We){return new G.y(Ye=>{(function Qe(We,Ye){var ze,mt,De,Me;return(0,h.__awaiter)(this,void 0,void 0,function*(){try{for(ze=(0,h.__asyncValues)(We);!(mt=yield ze.next()).done;)if(Ye.next(mt.value),Ye.closed)return}catch(ue){De={error:ue}}finally{try{mt&&!mt.done&&(Me=ze.return)&&(yield Me.call(ze))}finally{if(De)throw De.error}}Ye.complete()})})(We,Ye).catch(ze=>Ye.error(ze))})}},6451:(Rt,$e,$)=>{"use strict";$.d($e,{T:()=>we});var h=$(8189),k=$(8421),R=$(515),G=$(7669),ee=$(8996);function we(...be){const Se=(0,G.yG)(be),Ce=(0,G._6)(be,1/0),J=be;return J.length?1===J.length?(0,k.Xf)(J[0]):(0,h.J)(Ce)((0,ee.D)(J,Se)):R.E}},5403:(Rt,$e,$)=>{"use strict";$.d($e,{x:()=>k});var h=$(2961);function k(G,ee,we,be,Se){return new R(G,ee,we,be,Se)}class R extends h.Lv{constructor(ee,we,be,Se,Ce,J){super(ee),this.onFinalize=Ce,this.shouldUnsubscribe=J,this._next=we?function(le){try{we(le)}catch(D){ee.error(D)}}:super._next,this._error=Se?function(le){try{Se(le)}catch(D){ee.error(D)}finally{this.unsubscribe()}}:super._error,this._complete=be?function(){try{be()}catch(le){ee.error(le)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ee;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:we}=this;super.unsubscribe(),!we&&(null===(ee=this.onFinalize)||void 0===ee||ee.call(this))}}}},4004:(Rt,$e,$)=>{"use strict";$.d($e,{U:()=>R});var h=$(4482),k=$(5403);function R(G,ee){return(0,h.e)((we,be)=>{let Se=0;we.subscribe((0,k.x)(be,Ce=>{be.next(G.call(ee,Ce,Se++))}))})}},8189:(Rt,$e,$)=>{"use strict";$.d($e,{J:()=>R});var h=$(5577),k=$(4671);function R(G=1/0){return(0,h.z)(k.y,G)}},5577:(Rt,$e,$)=>{"use strict";$.d($e,{z:()=>Se});var h=$(4004),k=$(8421),R=$(4482),G=$(9672),ee=$(5403),be=$(576);function Se(Ce,J,le=1/0){return(0,be.m)(J)?Se((D,O)=>(0,h.U)((U,te)=>J(D,U,O,te))((0,k.Xf)(Ce(D,O))),le):("number"==typeof J&&(le=J),(0,R.e)((D,O)=>function we(Ce,J,le,D,O,U,te,he){const ae=[];let ne=0,He=0,Qe=!1;const We=()=>{Qe&&!ae.length&&!ne&&J.complete()},Ye=mt=>ne<D?ze(mt):ae.push(mt),ze=mt=>{U&&J.next(mt),ne++;let De=!1;(0,k.Xf)(le(mt,He++)).subscribe((0,ee.x)(J,Me=>{null==O||O(Me),U?Ye(Me):J.next(Me)},()=>{De=!0},void 0,()=>{if(De)try{for(ne--;ae.length&&ne<D;){const Me=ae.shift();te?(0,G.f)(J,te,()=>ze(Me)):ze(Me)}We()}catch(Me){J.error(Me)}}))};return Ce.subscribe((0,ee.x)(J,Ye,()=>{Qe=!0,We()})),()=>{null==he||he()}}(D,O,Ce,le)))}},5363:(Rt,$e,$)=>{"use strict";$.d($e,{Q:()=>G});var h=$(9672),k=$(4482),R=$(5403);function G(ee,we=0){return(0,k.e)((be,Se)=>{be.subscribe((0,R.x)(Se,Ce=>(0,h.f)(Se,ee,()=>Se.next(Ce),we),()=>(0,h.f)(Se,ee,()=>Se.complete(),we),Ce=>(0,h.f)(Se,ee,()=>Se.error(Ce),we)))})}},3099:(Rt,$e,$)=>{"use strict";$.d($e,{B:()=>we});var h=$(8996),k=$(5698),R=$(7579),G=$(2961),ee=$(4482);function we(Se={}){const{connector:Ce=(()=>new R.x),resetOnError:J=!0,resetOnComplete:le=!0,resetOnRefCountZero:D=!0}=Se;return O=>{let U=null,te=null,he=null,ae=0,ne=!1,He=!1;const Qe=()=>{null==te||te.unsubscribe(),te=null},We=()=>{Qe(),U=he=null,ne=He=!1},Ye=()=>{const ze=U;We(),null==ze||ze.unsubscribe()};return(0,ee.e)((ze,mt)=>{ae++,!He&&!ne&&Qe();const De=he=null!=he?he:Ce();mt.add(()=>{ae--,0===ae&&!He&&!ne&&(te=be(Ye,D))}),De.subscribe(mt),U||(U=new G.Hp({next:Me=>De.next(Me),error:Me=>{He=!0,Qe(),te=be(We,J,Me),De.error(Me)},complete:()=>{ne=!0,Qe(),te=be(We,le),De.complete()}}),(0,h.D)(ze).subscribe(U))})(O)}}function be(Se,Ce,...J){return!0===Ce?(Se(),null):!1===Ce?null:Ce(...J).pipe((0,k.q)(1)).subscribe(()=>Se())}},9468:(Rt,$e,$)=>{"use strict";$.d($e,{R:()=>k});var h=$(4482);function k(R,G=0){return(0,h.e)((ee,we)=>{we.add(R.schedule(()=>ee.subscribe(we),G))})}},5698:(Rt,$e,$)=>{"use strict";$.d($e,{q:()=>G});var h=$(515),k=$(4482),R=$(5403);function G(ee){return ee<=0?()=>h.E:(0,k.e)((we,be)=>{let Se=0;we.subscribe((0,R.x)(be,Ce=>{++Se<=ee&&(be.next(Ce),ee<=Se&&be.complete())}))})}},8505:(Rt,$e,$)=>{"use strict";$.d($e,{b:()=>ee});var h=$(576),k=$(4482),R=$(5403),G=$(4671);function ee(we,be,Se){const Ce=(0,h.m)(we)||be||Se?{next:we,error:be,complete:Se}:we;return Ce?(0,k.e)((J,le)=>{var D;null===(D=Ce.subscribe)||void 0===D||D.call(Ce);let O=!0;J.subscribe((0,R.x)(le,U=>{var te;null===(te=Ce.next)||void 0===te||te.call(Ce,U),le.next(U)},()=>{var U;O=!1,null===(U=Ce.complete)||void 0===U||U.call(Ce),le.complete()},U=>{var te;O=!1,null===(te=Ce.error)||void 0===te||te.call(Ce,U),le.error(U)},()=>{var U,te;O&&(null===(U=Ce.unsubscribe)||void 0===U||U.call(Ce)),null===(te=Ce.finalize)||void 0===te||te.call(Ce)}))}):G.y}},4408:(Rt,$e,$)=>{"use strict";$.d($e,{o:()=>ee});var h=$(727);class k extends h.w0{constructor(be,Se){super()}schedule(be,Se=0){return this}}const R={setInterval(we,be,...Se){const{delegate:Ce}=R;return(null==Ce?void 0:Ce.setInterval)?Ce.setInterval(we,be,...Se):setInterval(we,be,...Se)},clearInterval(we){const{delegate:be}=R;return((null==be?void 0:be.clearInterval)||clearInterval)(we)},delegate:void 0};var G=$(8737);class ee extends k{constructor(be,Se){super(be,Se),this.scheduler=be,this.work=Se,this.pending=!1}schedule(be,Se=0){if(this.closed)return this;this.state=be;const Ce=this.id,J=this.scheduler;return null!=Ce&&(this.id=this.recycleAsyncId(J,Ce,Se)),this.pending=!0,this.delay=Se,this.id=this.id||this.requestAsyncId(J,this.id,Se),this}requestAsyncId(be,Se,Ce=0){return R.setInterval(be.flush.bind(be,this),Ce)}recycleAsyncId(be,Se,Ce=0){if(null!=Ce&&this.delay===Ce&&!1===this.pending)return Se;R.clearInterval(Se)}execute(be,Se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ce=this._execute(be,Se);if(Ce)return Ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(be,Se){let J,Ce=!1;try{this.work(be)}catch(le){Ce=!0,J=le||new Error("Scheduled action threw falsy error")}if(Ce)return this.unsubscribe(),J}unsubscribe(){if(!this.closed){const{id:be,scheduler:Se}=this,{actions:Ce}=Se;this.work=this.state=this.scheduler=null,this.pending=!1,(0,G.P)(Ce,this),null!=be&&(this.id=this.recycleAsyncId(Se,be,null)),this.delay=null,super.unsubscribe()}}}},7565:(Rt,$e,$)=>{"use strict";$.d($e,{v:()=>R});var h=$(6063);class k{constructor(ee,we=k.now){this.schedulerActionCtor=ee,this.now=we}schedule(ee,we=0,be){return new this.schedulerActionCtor(this,ee).schedule(be,we)}}k.now=h.l.now;class R extends k{constructor(ee,we=k.now){super(ee,we),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ee){const{actions:we}=this;if(this._active)return void we.push(ee);let be;this._active=!0;do{if(be=ee.execute(ee.state,ee.delay))break}while(ee=we.shift());if(this._active=!1,be){for(;ee=we.shift();)ee.unsubscribe();throw be}}}},4986:(Rt,$e,$)=>{"use strict";$.d($e,{z:()=>R});var h=$(4408);const R=new($(7565).v)(h.o)},6063:(Rt,$e,$)=>{"use strict";$.d($e,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(Rt,$e,$)=>{"use strict";$.d($e,{z:()=>h});const h={setTimeout(k,R,...G){const{delegate:ee}=h;return(null==ee?void 0:ee.setTimeout)?ee.setTimeout(k,R,...G):setTimeout(k,R,...G)},clearTimeout(k){const{delegate:R}=h;return((null==R?void 0:R.clearTimeout)||clearTimeout)(k)},delegate:void 0}},2202:(Rt,$e,$)=>{"use strict";$.d($e,{h:()=>k});const k=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Rt,$e,$)=>{"use strict";$.d($e,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Rt,$e,$)=>{"use strict";$.d($e,{_6:()=>we,jO:()=>G,yG:()=>ee});var h=$(576);function R(be){return be[be.length-1]}function G(be){return(0,h.m)(R(be))?be.pop():void 0}function ee(be){return function k(be){return be&&(0,h.m)(be.schedule)}(R(be))?be.pop():void 0}function we(be,Se){return"number"==typeof R(be)?be.pop():Se}},8737:(Rt,$e,$)=>{"use strict";function h(k,R){if(k){const G=k.indexOf(R);0<=G&&k.splice(G,1)}}$.d($e,{P:()=>h})},3888:(Rt,$e,$)=>{"use strict";function h(k){const G=k(ee=>{Error.call(ee),ee.stack=(new Error).stack});return G.prototype=Object.create(Error.prototype),G.prototype.constructor=G,G}$.d($e,{d:()=>h})},2806:(Rt,$e,$)=>{"use strict";$.d($e,{O:()=>G,x:()=>R});var h=$(2416);let k=null;function R(ee){if(h.v.useDeprecatedSynchronousErrorHandling){const we=!k;if(we&&(k={errorThrown:!1,error:null}),ee(),we){const{errorThrown:be,error:Se}=k;if(k=null,be)throw Se}}else ee()}function G(ee){h.v.useDeprecatedSynchronousErrorHandling&&k&&(k.errorThrown=!0,k.error=ee)}},9672:(Rt,$e,$)=>{"use strict";function h(k,R,G,ee=0,we=!1){const be=R.schedule(function(){G(),we?k.add(this.schedule(null,ee)):this.unsubscribe()},ee);if(k.add(be),!we)return be}$.d($e,{f:()=>h})},4671:(Rt,$e,$)=>{"use strict";function h(k){return k}$.d($e,{y:()=>h})},1144:(Rt,$e,$)=>{"use strict";$.d($e,{z:()=>h});const h=k=>k&&"number"==typeof k.length&&"function"!=typeof k},2206:(Rt,$e,$)=>{"use strict";$.d($e,{D:()=>k});var h=$(576);function k(R){return Symbol.asyncIterator&&(0,h.m)(null==R?void 0:R[Symbol.asyncIterator])}},576:(Rt,$e,$)=>{"use strict";function h(k){return"function"==typeof k}$.d($e,{m:()=>h})},3670:(Rt,$e,$)=>{"use strict";$.d($e,{c:()=>R});var h=$(8822),k=$(576);function R(G){return(0,k.m)(G[h.L])}},6495:(Rt,$e,$)=>{"use strict";$.d($e,{T:()=>R});var h=$(2202),k=$(576);function R(G){return(0,k.m)(null==G?void 0:G[h.h])}},8239:(Rt,$e,$)=>{"use strict";$.d($e,{t:()=>k});var h=$(576);function k(R){return(0,h.m)(null==R?void 0:R.then)}},3260:(Rt,$e,$)=>{"use strict";$.d($e,{L:()=>G,Q:()=>R});var h=$(655),k=$(576);function R(ee){return(0,h.__asyncGenerator)(this,arguments,function*(){const be=ee.getReader();try{for(;;){const{value:Se,done:Ce}=yield(0,h.__await)(be.read());if(Ce)return yield(0,h.__await)(void 0);yield yield(0,h.__await)(Se)}}finally{be.releaseLock()}})}function G(ee){return(0,k.m)(null==ee?void 0:ee.getReader)}},4482:(Rt,$e,$)=>{"use strict";$.d($e,{A:()=>k,e:()=>R});var h=$(576);function k(G){return(0,h.m)(null==G?void 0:G.lift)}function R(G){return ee=>{if(k(ee))return ee.lift(function(we){try{return G(we,this)}catch(be){this.error(be)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(Rt,$e,$)=>{"use strict";$.d($e,{h:()=>R});var h=$(2416),k=$(3410);function R(G){k.z.setTimeout(()=>{const{onUnhandledError:ee}=h.v;if(!ee)throw G;ee(G)})}},4532:(Rt,$e,$)=>{"use strict";function h(k){return new TypeError(`You provided ${null!==k&&"object"==typeof k?"an invalid object":`'${k}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}$.d($e,{z:()=>h})},655:(Rt,$e,$)=>{"use strict";$.r($e),$.d($e,{__assign:()=>R,__asyncDelegator:()=>He,__asyncGenerator:()=>ne,__asyncValues:()=>Qe,__await:()=>ae,__awaiter:()=>Se,__classPrivateFieldGet:()=>De,__classPrivateFieldSet:()=>Me,__createBinding:()=>J,__decorate:()=>ee,__exportStar:()=>le,__extends:()=>k,__generator:()=>Ce,__importDefault:()=>mt,__importStar:()=>ze,__makeTemplateObject:()=>We,__metadata:()=>be,__param:()=>we,__read:()=>O,__rest:()=>G,__spread:()=>U,__spreadArray:()=>he,__spreadArrays:()=>te,__values:()=>D});var h=function(ue,Ie){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Oe,Le){Oe.__proto__=Le}||function(Oe,Le){for(var Xe in Le)Object.prototype.hasOwnProperty.call(Le,Xe)&&(Oe[Xe]=Le[Xe])})(ue,Ie)};function k(ue,Ie){if("function"!=typeof Ie&&null!==Ie)throw new TypeError("Class extends value "+String(Ie)+" is not a constructor or null");function Oe(){this.constructor=ue}h(ue,Ie),ue.prototype=null===Ie?Object.create(Ie):(Oe.prototype=Ie.prototype,new Oe)}var R=function(){return R=Object.assign||function(Ie){for(var Oe,Le=1,Xe=arguments.length;Le<Xe;Le++)for(var Re in Oe=arguments[Le])Object.prototype.hasOwnProperty.call(Oe,Re)&&(Ie[Re]=Oe[Re]);return Ie},R.apply(this,arguments)};function G(ue,Ie){var Oe={};for(var Le in ue)Object.prototype.hasOwnProperty.call(ue,Le)&&Ie.indexOf(Le)<0&&(Oe[Le]=ue[Le]);if(null!=ue&&"function"==typeof Object.getOwnPropertySymbols){var Xe=0;for(Le=Object.getOwnPropertySymbols(ue);Xe<Le.length;Xe++)Ie.indexOf(Le[Xe])<0&&Object.prototype.propertyIsEnumerable.call(ue,Le[Xe])&&(Oe[Le[Xe]]=ue[Le[Xe]])}return Oe}function ee(ue,Ie,Oe,Le){var Wt,Xe=arguments.length,Re=Xe<3?Ie:null===Le?Le=Object.getOwnPropertyDescriptor(Ie,Oe):Le;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Re=Reflect.decorate(ue,Ie,Oe,Le);else for(var Jt=ue.length-1;Jt>=0;Jt--)(Wt=ue[Jt])&&(Re=(Xe<3?Wt(Re):Xe>3?Wt(Ie,Oe,Re):Wt(Ie,Oe))||Re);return Xe>3&&Re&&Object.defineProperty(Ie,Oe,Re),Re}function we(ue,Ie){return function(Oe,Le){Ie(Oe,Le,ue)}}function be(ue,Ie){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(ue,Ie)}function Se(ue,Ie,Oe,Le){return new(Oe||(Oe=Promise))(function(Re,Wt){function Jt(zt){try{St(Le.next(zt))}catch(Wn){Wt(Wn)}}function er(zt){try{St(Le.throw(zt))}catch(Wn){Wt(Wn)}}function St(zt){zt.done?Re(zt.value):function Xe(Re){return Re instanceof Oe?Re:new Oe(function(Wt){Wt(Re)})}(zt.value).then(Jt,er)}St((Le=Le.apply(ue,Ie||[])).next())})}function Ce(ue,Ie){var Le,Xe,Re,Wt,Oe={label:0,sent:function(){if(1&Re[0])throw Re[1];return Re[1]},trys:[],ops:[]};return Wt={next:Jt(0),throw:Jt(1),return:Jt(2)},"function"==typeof Symbol&&(Wt[Symbol.iterator]=function(){return this}),Wt;function Jt(St){return function(zt){return function er(St){if(Le)throw new TypeError("Generator is already executing.");for(;Oe;)try{if(Le=1,Xe&&(Re=2&St[0]?Xe.return:St[0]?Xe.throw||((Re=Xe.return)&&Re.call(Xe),0):Xe.next)&&!(Re=Re.call(Xe,St[1])).done)return Re;switch(Xe=0,Re&&(St=[2&St[0],Re.value]),St[0]){case 0:case 1:Re=St;break;case 4:return Oe.label++,{value:St[1],done:!1};case 5:Oe.label++,Xe=St[1],St=[0];continue;case 7:St=Oe.ops.pop(),Oe.trys.pop();continue;default:if(!(Re=(Re=Oe.trys).length>0&&Re[Re.length-1])&&(6===St[0]||2===St[0])){Oe=0;continue}if(3===St[0]&&(!Re||St[1]>Re[0]&&St[1]<Re[3])){Oe.label=St[1];break}if(6===St[0]&&Oe.label<Re[1]){Oe.label=Re[1],Re=St;break}if(Re&&Oe.label<Re[2]){Oe.label=Re[2],Oe.ops.push(St);break}Re[2]&&Oe.ops.pop(),Oe.trys.pop();continue}St=Ie.call(ue,Oe)}catch(zt){St=[6,zt],Xe=0}finally{Le=Re=0}if(5&St[0])throw St[1];return{value:St[0]?St[1]:void 0,done:!0}}([St,zt])}}}var J=Object.create?function(ue,Ie,Oe,Le){void 0===Le&&(Le=Oe),Object.defineProperty(ue,Le,{enumerable:!0,get:function(){return Ie[Oe]}})}:function(ue,Ie,Oe,Le){void 0===Le&&(Le=Oe),ue[Le]=Ie[Oe]};function le(ue,Ie){for(var Oe in ue)"default"!==Oe&&!Object.prototype.hasOwnProperty.call(Ie,Oe)&&J(Ie,ue,Oe)}function D(ue){var Ie="function"==typeof Symbol&&Symbol.iterator,Oe=Ie&&ue[Ie],Le=0;if(Oe)return Oe.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&Le>=ue.length&&(ue=void 0),{value:ue&&ue[Le++],done:!ue}}};throw new TypeError(Ie?"Object is not iterable.":"Symbol.iterator is not defined.")}function O(ue,Ie){var Oe="function"==typeof Symbol&&ue[Symbol.iterator];if(!Oe)return ue;var Xe,Wt,Le=Oe.call(ue),Re=[];try{for(;(void 0===Ie||Ie-- >0)&&!(Xe=Le.next()).done;)Re.push(Xe.value)}catch(Jt){Wt={error:Jt}}finally{try{Xe&&!Xe.done&&(Oe=Le.return)&&Oe.call(Le)}finally{if(Wt)throw Wt.error}}return Re}function U(){for(var ue=[],Ie=0;Ie<arguments.length;Ie++)ue=ue.concat(O(arguments[Ie]));return ue}function te(){for(var ue=0,Ie=0,Oe=arguments.length;Ie<Oe;Ie++)ue+=arguments[Ie].length;var Le=Array(ue),Xe=0;for(Ie=0;Ie<Oe;Ie++)for(var Re=arguments[Ie],Wt=0,Jt=Re.length;Wt<Jt;Wt++,Xe++)Le[Xe]=Re[Wt];return Le}function he(ue,Ie,Oe){if(Oe||2===arguments.length)for(var Re,Le=0,Xe=Ie.length;Le<Xe;Le++)(Re||!(Le in Ie))&&(Re||(Re=Array.prototype.slice.call(Ie,0,Le)),Re[Le]=Ie[Le]);return ue.concat(Re||Array.prototype.slice.call(Ie))}function ae(ue){return this instanceof ae?(this.v=ue,this):new ae(ue)}function ne(ue,Ie,Oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Xe,Le=Oe.apply(ue,Ie||[]),Re=[];return Xe={},Wt("next"),Wt("throw"),Wt("return"),Xe[Symbol.asyncIterator]=function(){return this},Xe;function Wt(Un){Le[Un]&&(Xe[Un]=function(wr){return new Promise(function(An,Ae){Re.push([Un,wr,An,Ae])>1||Jt(Un,wr)})})}function Jt(Un,wr){try{!function er(Un){Un.value instanceof ae?Promise.resolve(Un.value.v).then(St,zt):Wn(Re[0][2],Un)}(Le[Un](wr))}catch(An){Wn(Re[0][3],An)}}function St(Un){Jt("next",Un)}function zt(Un){Jt("throw",Un)}function Wn(Un,wr){Un(wr),Re.shift(),Re.length&&Jt(Re[0][0],Re[0][1])}}function He(ue){var Ie,Oe;return Ie={},Le("next"),Le("throw",function(Xe){throw Xe}),Le("return"),Ie[Symbol.iterator]=function(){return this},Ie;function Le(Xe,Re){Ie[Xe]=ue[Xe]?function(Wt){return(Oe=!Oe)?{value:ae(ue[Xe](Wt)),done:"return"===Xe}:Re?Re(Wt):Wt}:Re}}function Qe(ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,Ie=ue[Symbol.asyncIterator];return Ie?Ie.call(ue):(ue=D(ue),Oe={},Le("next"),Le("throw"),Le("return"),Oe[Symbol.asyncIterator]=function(){return this},Oe);function Le(Re){Oe[Re]=ue[Re]&&function(Wt){return new Promise(function(Jt,er){!function Xe(Re,Wt,Jt,er){Promise.resolve(er).then(function(St){Re({value:St,done:Jt})},Wt)}(Jt,er,(Wt=ue[Re](Wt)).done,Wt.value)})}}}function We(ue,Ie){return Object.defineProperty?Object.defineProperty(ue,"raw",{value:Ie}):ue.raw=Ie,ue}var Ye=Object.create?function(ue,Ie){Object.defineProperty(ue,"default",{enumerable:!0,value:Ie})}:function(ue,Ie){ue.default=Ie};function ze(ue){if(ue&&ue.__esModule)return ue;var Ie={};if(null!=ue)for(var Oe in ue)"default"!==Oe&&Object.prototype.hasOwnProperty.call(ue,Oe)&&J(Ie,ue,Oe);return Ye(Ie,ue),Ie}function mt(ue){return ue&&ue.__esModule?ue:{default:ue}}function De(ue,Ie,Oe,Le){if("a"===Oe&&!Le)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof Ie?ue!==Ie||!Le:!Ie.has(ue))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===Oe?Le:"a"===Oe?Le.call(ue):Le?Le.value:Ie.get(ue)}function Me(ue,Ie,Oe,Le,Xe){if("m"===Le)throw new TypeError("Private method is not writable");if("a"===Le&&!Xe)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof Ie?ue!==Ie||!Xe:!Ie.has(ue))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===Le?Xe.call(ue,Oe):Xe?Xe.value=Oe:Ie.set(ue,Oe),Oe}},4602:Rt=>{"use strict";Rt.exports='\n/* classes attached to <body> */\n/* TODO: make fc-event selector work when calender in shadow DOM */\n.fc-not-allowed,\n.fc-not-allowed .fc-event { /* override events\' custom cursors */\n  cursor: not-allowed;\n}\n/* TODO: not attached to body. attached to specific els. move */\n.fc-unselectable {\n  -webkit-user-select: none;\n          user-select: none;\n  -webkit-touch-callout: none;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.fc {\n  /* layout of immediate children */\n  display: flex;\n  flex-direction: column;\n\n  font-size: 1em\n}\n.fc,\n  .fc *,\n  .fc *:before,\n  .fc *:after {\n    box-sizing: border-box;\n  }\n.fc table {\n    border-collapse: collapse;\n    border-spacing: 0;\n    font-size: 1em; /* normalize cross-browser */\n  }\n.fc th {\n    text-align: center;\n  }\n.fc th,\n  .fc td {\n    vertical-align: top;\n    padding: 0;\n  }\n.fc a[data-navlink] {\n    cursor: pointer;\n  }\n.fc a[data-navlink]:hover {\n    text-decoration: underline;\n  }\n.fc-direction-ltr {\n  direction: ltr;\n  text-align: left;\n}\n.fc-direction-rtl {\n  direction: rtl;\n  text-align: right;\n}\n.fc-theme-standard td,\n  .fc-theme-standard th {\n    border: 1px solid #ddd;\n    border: 1px solid var(--fc-border-color, #ddd);\n  }\n/* for FF, which doesn\'t expand a 100% div within a table cell. use absolute positioning */\n/* inner-wrappers are responsible for being absolute */\n/* TODO: best place for this? */\n.fc-liquid-hack td,\n  .fc-liquid-hack th {\n    position: relative;\n  }\n@font-face {\n  font-family: \'fcicons\';\n  src: url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format(\'truetype\');\n  font-weight: normal;\n  font-style: normal;\n}\n.fc-icon {\n  /* added for fc */\n  display: inline-block;\n  width: 1em;\n  height: 1em;\n  text-align: center;\n  -webkit-user-select: none;\n          user-select: none;\n\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: \'fcicons\' !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-feature-settings: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.fc-icon-chevron-left:before {\n  content: "\\e900";\n}\n.fc-icon-chevron-right:before {\n  content: "\\e901";\n}\n.fc-icon-chevrons-left:before {\n  content: "\\e902";\n}\n.fc-icon-chevrons-right:before {\n  content: "\\e903";\n}\n.fc-icon-minus-square:before {\n  content: "\\e904";\n}\n.fc-icon-plus-square:before {\n  content: "\\e905";\n}\n.fc-icon-x:before {\n  content: "\\e906";\n}\n/*\nLots taken from Flatly (MIT): https://bootswatch.com/4/flatly/bootstrap.css\n\nThese styles only apply when the standard-theme is activated.\nWhen it\'s NOT activated, the fc-button classes won\'t even be in the DOM.\n*/\n.fc {\n\n  /* reset */\n\n}\n.fc .fc-button {\n    border-radius: 0;\n    overflow: visible;\n    text-transform: none;\n    margin: 0;\n    font-family: inherit;\n    font-size: inherit;\n    line-height: inherit;\n  }\n.fc .fc-button:focus {\n    outline: 1px dotted;\n    outline: 5px auto -webkit-focus-ring-color;\n  }\n.fc .fc-button {\n    -webkit-appearance: button;\n  }\n.fc .fc-button:not(:disabled) {\n    cursor: pointer;\n  }\n.fc .fc-button::-moz-focus-inner {\n    padding: 0;\n    border-style: none;\n  }\n.fc {\n\n  /* theme */\n\n}\n.fc .fc-button {\n    display: inline-block;\n    font-weight: 400;\n    text-align: center;\n    vertical-align: middle;\n    -webkit-user-select: none;\n            user-select: none;\n    background-color: transparent;\n    border: 1px solid transparent;\n    padding: 0.4em 0.65em;\n    font-size: 1em;\n    line-height: 1.5;\n    border-radius: 0.25em;\n  }\n.fc .fc-button:hover {\n    text-decoration: none;\n  }\n.fc .fc-button:focus {\n    outline: 0;\n    box-shadow: 0 0 0 0.2rem rgba(44, 62, 80, 0.25);\n  }\n.fc .fc-button:disabled {\n    opacity: 0.65;\n  }\n.fc {\n\n  /* "primary" coloring */\n\n}\n.fc .fc-button-primary {\n    color: #fff;\n    color: var(--fc-button-text-color, #fff);\n    background-color: #2C3E50;\n    background-color: var(--fc-button-bg-color, #2C3E50);\n    border-color: #2C3E50;\n    border-color: var(--fc-button-border-color, #2C3E50);\n  }\n.fc .fc-button-primary:hover {\n    color: #fff;\n    color: var(--fc-button-text-color, #fff);\n    background-color: #1e2b37;\n    background-color: var(--fc-button-hover-bg-color, #1e2b37);\n    border-color: #1a252f;\n    border-color: var(--fc-button-hover-border-color, #1a252f);\n  }\n.fc .fc-button-primary:disabled { /* not DRY */\n    color: #fff;\n    color: var(--fc-button-text-color, #fff);\n    background-color: #2C3E50;\n    background-color: var(--fc-button-bg-color, #2C3E50);\n    border-color: #2C3E50;\n    border-color: var(--fc-button-border-color, #2C3E50); /* overrides :hover */\n  }\n.fc .fc-button-primary:focus {\n    box-shadow: 0 0 0 0.2rem rgba(76, 91, 106, 0.5);\n  }\n.fc .fc-button-primary:not(:disabled):active,\n  .fc .fc-button-primary:not(:disabled).fc-button-active {\n    color: #fff;\n    color: var(--fc-button-text-color, #fff);\n    background-color: #1a252f;\n    background-color: var(--fc-button-active-bg-color, #1a252f);\n    border-color: #151e27;\n    border-color: var(--fc-button-active-border-color, #151e27);\n  }\n.fc .fc-button-primary:not(:disabled):active:focus,\n  .fc .fc-button-primary:not(:disabled).fc-button-active:focus {\n    box-shadow: 0 0 0 0.2rem rgba(76, 91, 106, 0.5);\n  }\n.fc {\n\n  /* icons within buttons */\n\n}\n.fc .fc-button .fc-icon {\n    vertical-align: middle;\n    font-size: 1.5em; /* bump up the size (but don\'t make it bigger than line-height of button, which is 1.5em also) */\n  }\n.fc .fc-button-group {\n    position: relative;\n    display: inline-flex;\n    vertical-align: middle;\n  }\n.fc .fc-button-group > .fc-button {\n    position: relative;\n    flex: 1 1 auto;\n  }\n.fc .fc-button-group > .fc-button:hover {\n    z-index: 1;\n  }\n.fc .fc-button-group > .fc-button:focus,\n  .fc .fc-button-group > .fc-button:active,\n  .fc .fc-button-group > .fc-button.fc-button-active {\n    z-index: 1;\n  }\n.fc-direction-ltr .fc-button-group > .fc-button:not(:first-child) {\n    margin-left: -1px;\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n.fc-direction-ltr .fc-button-group > .fc-button:not(:last-child) {\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n.fc-direction-rtl .fc-button-group > .fc-button:not(:first-child) {\n    margin-right: -1px;\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n.fc-direction-rtl .fc-button-group > .fc-button:not(:last-child) {\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n.fc .fc-toolbar {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n.fc .fc-toolbar.fc-header-toolbar {\n    margin-bottom: 1.5em;\n  }\n.fc .fc-toolbar.fc-footer-toolbar {\n    margin-top: 1.5em;\n  }\n.fc .fc-toolbar-title {\n    font-size: 1.75em;\n    margin: 0;\n  }\n.fc-direction-ltr .fc-toolbar > * > :not(:first-child) {\n    margin-left: .75em; /* space between */\n  }\n.fc-direction-rtl .fc-toolbar > * > :not(:first-child) {\n    margin-right: .75em; /* space between */\n  }\n.fc-direction-rtl .fc-toolbar-ltr { /* when the toolbar-chunk positioning system is explicitly left-to-right */\n    flex-direction: row-reverse;\n  }\n.fc .fc-scroller {\n    -webkit-overflow-scrolling: touch;\n    position: relative; /* for abs-positioned elements within */\n  }\n.fc .fc-scroller-liquid {\n    height: 100%;\n  }\n.fc .fc-scroller-liquid-absolute {\n    position: absolute;\n    top: 0;\n    right: 0;\n    left: 0;\n    bottom: 0;\n  }\n.fc .fc-scroller-harness {\n    position: relative;\n    overflow: hidden;\n    direction: ltr;\n      /* hack for chrome computing the scroller\'s right/left wrong for rtl. undone below... */\n      /* TODO: demonstrate in codepen */\n  }\n.fc .fc-scroller-harness-liquid {\n    height: 100%;\n  }\n.fc-direction-rtl .fc-scroller-harness > .fc-scroller { /* undo above hack */\n    direction: rtl;\n  }\n.fc-theme-standard .fc-scrollgrid {\n    border: 1px solid #ddd;\n    border: 1px solid var(--fc-border-color, #ddd); /* bootstrap does this. match */\n  }\n.fc .fc-scrollgrid,\n    .fc .fc-scrollgrid table { /* all tables (self included) */\n      width: 100%; /* because tables don\'t normally do this */\n      table-layout: fixed;\n    }\n.fc .fc-scrollgrid table { /* inner tables */\n      border-top-style: hidden;\n      border-left-style: hidden;\n      border-right-style: hidden;\n    }\n.fc .fc-scrollgrid {\n\n    border-collapse: separate;\n    border-right-width: 0;\n    border-bottom-width: 0;\n\n  }\n.fc .fc-scrollgrid-liquid {\n    height: 100%;\n  }\n.fc .fc-scrollgrid-section { /* a <tr> */\n    height: 1px /* better than 0, for firefox */\n\n  }\n.fc .fc-scrollgrid-section > td {\n      height: 1px; /* needs a height so inner div within grow. better than 0, for firefox */\n    }\n.fc .fc-scrollgrid-section table {\n      height: 1px;\n        /* for most browsers, if a height isn\'t set on the table, can\'t do liquid-height within cells */\n        /* serves as a min-height. harmless */\n    }\n.fc .fc-scrollgrid-section-liquid > td {\n      height: 100%; /* better than `auto`, for firefox */\n    }\n.fc .fc-scrollgrid-section > * {\n    border-top-width: 0;\n    border-left-width: 0;\n  }\n.fc .fc-scrollgrid-section-header > *,\n  .fc .fc-scrollgrid-section-footer > * {\n    border-bottom-width: 0;\n  }\n.fc .fc-scrollgrid-section-body table,\n  .fc .fc-scrollgrid-section-footer table {\n    border-bottom-style: hidden; /* head keeps its bottom border tho */\n  }\n.fc {\n\n  /* stickiness */\n\n}\n.fc .fc-scrollgrid-section-sticky > * {\n    background: #fff;\n    background: var(--fc-page-bg-color, #fff);\n    position: sticky;\n    z-index: 3; /* TODO: var */\n    /* TODO: box-shadow when sticking */\n  }\n.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky > * {\n    top: 0; /* because border-sharing causes a gap at the top */\n      /* TODO: give safari -1. has bug */\n  }\n.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky > * {\n    bottom: 0; /* known bug: bottom-stickiness doesn\'t work in safari */\n  }\n.fc .fc-scrollgrid-sticky-shim { /* for horizontal scrollbar */\n    height: 1px; /* needs height to create scrollbars */\n    margin-bottom: -1px;\n  }\n.fc-sticky { /* no .fc wrap because used as child of body */\n  position: sticky;\n}\n.fc .fc-view-harness {\n    flex-grow: 1; /* because this harness is WITHIN the .fc\'s flexbox */\n    position: relative;\n  }\n.fc {\n\n  /* when the harness controls the height, make the view liquid */\n\n}\n.fc .fc-view-harness-active > .fc-view {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n  }\n.fc .fc-col-header-cell-cushion {\n    display: inline-block; /* x-browser for when sticky (when multi-tier header) */\n    padding: 2px 4px;\n  }\n.fc .fc-bg-event,\n  .fc .fc-non-business,\n  .fc .fc-highlight {\n    /* will always have a harness with position:relative/absolute, so absolutely expand */\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n.fc .fc-non-business {\n    background: rgba(215, 215, 215, 0.3);\n    background: var(--fc-non-business-color, rgba(215, 215, 215, 0.3));\n  }\n.fc .fc-bg-event {\n    background: rgb(143, 223, 130);\n    background: var(--fc-bg-event-color, rgb(143, 223, 130));\n    opacity: 0.3;\n    opacity: var(--fc-bg-event-opacity, 0.3)\n  }\n.fc .fc-bg-event .fc-event-title {\n      margin: .5em;\n      font-size: .85em;\n      font-size: var(--fc-small-font-size, .85em);\n      font-style: italic;\n    }\n.fc .fc-highlight {\n    background: rgba(188, 232, 241, 0.3);\n    background: var(--fc-highlight-color, rgba(188, 232, 241, 0.3));\n  }\n.fc .fc-cell-shaded,\n  .fc .fc-day-disabled {\n    background: rgba(208, 208, 208, 0.3);\n    background: var(--fc-neutral-bg-color, rgba(208, 208, 208, 0.3));\n  }\n/* link resets */\n/* ---------------------------------------------------------------------------------------------------- */\na.fc-event,\na.fc-event:hover {\n  text-decoration: none;\n}\n/* cursor */\n.fc-event[href],\n.fc-event.fc-event-draggable {\n  cursor: pointer;\n}\n/* event text content */\n/* ---------------------------------------------------------------------------------------------------- */\n.fc-event .fc-event-main {\n    position: relative;\n    z-index: 2;\n  }\n/* dragging */\n/* ---------------------------------------------------------------------------------------------------- */\n.fc-event-dragging:not(.fc-event-selected) { /* MOUSE */\n    opacity: 0.75;\n  }\n.fc-event-dragging.fc-event-selected { /* TOUCH */\n    box-shadow: 0 2px 7px rgba(0, 0, 0, 0.3);\n  }\n/* resizing */\n/* ---------------------------------------------------------------------------------------------------- */\n/* (subclasses should hone positioning for touch and non-touch) */\n.fc-event .fc-event-resizer {\n    display: none;\n    position: absolute;\n    z-index: 4;\n  }\n.fc-event:hover, /* MOUSE */\n.fc-event-selected { /* TOUCH */\n\n}\n.fc-event:hover .fc-event-resizer, .fc-event-selected .fc-event-resizer {\n    display: block;\n  }\n.fc-event-selected .fc-event-resizer {\n    border-radius: 4px;\n    border-radius: calc(var(--fc-event-resizer-dot-total-width, 8px) / 2);\n    border-width: 1px;\n    border-width: var(--fc-event-resizer-dot-border-width, 1px);\n    width: 8px;\n    width: var(--fc-event-resizer-dot-total-width, 8px);\n    height: 8px;\n    height: var(--fc-event-resizer-dot-total-width, 8px);\n    border-style: solid;\n    border-color: inherit;\n    background: #fff;\n    background: var(--fc-page-bg-color, #fff)\n\n    /* expand hit area */\n\n  }\n.fc-event-selected .fc-event-resizer:before {\n      content: \'\';\n      position: absolute;\n      top: -20px;\n      left: -20px;\n      right: -20px;\n      bottom: -20px;\n    }\n/* selecting (always TOUCH) */\n/* OR, focused by tab-index */\n/* (TODO: maybe not the best focus-styling for .fc-daygrid-dot-event) */\n/* ---------------------------------------------------------------------------------------------------- */\n.fc-event-selected,\n.fc-event:focus {\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2)\n\n  /* expand hit area (subclasses should expand) */\n\n}\n.fc-event-selected:before, .fc-event:focus:before {\n    content: "";\n    position: absolute;\n    z-index: 3;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n.fc-event-selected,\n.fc-event:focus {\n\n  /* dimmer effect */\n\n}\n.fc-event-selected:after, .fc-event:focus:after {\n    content: "";\n    background: rgba(0, 0, 0, 0.25);\n    background: var(--fc-event-selected-overlay-color, rgba(0, 0, 0, 0.25));\n    position: absolute;\n    z-index: 1;\n\n    /* assume there\'s a border on all sides. overcome it. */\n    /* sometimes there\'s NOT a border, in which case the dimmer will go over */\n    /* an adjacent border, which looks fine. */\n    top: -1px;\n    left: -1px;\n    right: -1px;\n    bottom: -1px;\n  }\n/*\nA HORIZONTAL event\n*/\n.fc-h-event { /* allowed to be top-level */\n  display: block;\n  border: 1px solid #3788d8;\n  border: 1px solid var(--fc-event-border-color, #3788d8);\n  background-color: #3788d8;\n  background-color: var(--fc-event-bg-color, #3788d8)\n\n}\n.fc-h-event .fc-event-main {\n    color: #fff;\n    color: var(--fc-event-text-color, #fff);\n  }\n.fc-h-event .fc-event-main-frame {\n    display: flex; /* for make fc-event-title-container expand */\n  }\n.fc-h-event .fc-event-time {\n    max-width: 100%; /* clip overflow on this element */\n    overflow: hidden;\n  }\n.fc-h-event .fc-event-title-container { /* serves as a container for the sticky cushion */\n    flex-grow: 1;\n    flex-shrink: 1;\n    min-width: 0; /* important for allowing to shrink all the way */\n  }\n.fc-h-event .fc-event-title {\n    display: inline-block; /* need this to be sticky cross-browser */\n    vertical-align: top; /* for not messing up line-height */\n    left: 0;  /* for sticky */\n    right: 0; /* for sticky */\n    max-width: 100%; /* clip overflow on this element */\n    overflow: hidden;\n  }\n.fc-h-event.fc-event-selected:before {\n    /* expand hit area */\n    top: -10px;\n    bottom: -10px;\n  }\n/* adjust border and border-radius (if there is any) for non-start/end */\n.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),\n.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end) {\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  border-left-width: 0;\n}\n.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),\n.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start) {\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  border-right-width: 0;\n}\n/* resizers */\n.fc-h-event:not(.fc-event-selected) .fc-event-resizer {\n  top: 0;\n  bottom: 0;\n  width: 8px;\n  width: var(--fc-event-resizer-thickness, 8px);\n}\n.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,\n.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end {\n  cursor: w-resize;\n  left: -4px;\n  left: calc(-0.5 * var(--fc-event-resizer-thickness, 8px));\n}\n.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,\n.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start {\n  cursor: e-resize;\n  right: -4px;\n  right: calc(-0.5 * var(--fc-event-resizer-thickness, 8px));\n}\n/* resizers for TOUCH */\n.fc-h-event.fc-event-selected .fc-event-resizer {\n  top: 50%;\n  margin-top: -4px;\n  margin-top: calc(-0.5 * var(--fc-event-resizer-dot-total-width, 8px));\n}\n.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,\n.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end {\n  left: -4px;\n  left: calc(-0.5 * var(--fc-event-resizer-dot-total-width, 8px));\n}\n.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,\n.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start {\n  right: -4px;\n  right: calc(-0.5 * var(--fc-event-resizer-dot-total-width, 8px));\n}\n.fc .fc-popover {\n    position: absolute;\n    z-index: 9999;\n    box-shadow: 0 2px 6px rgba(0,0,0,.15);\n  }\n.fc .fc-popover-header {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    padding: 3px 4px;\n  }\n.fc .fc-popover-title {\n    margin: 0 2px;\n  }\n.fc .fc-popover-close {\n    cursor: pointer;\n    opacity: 0.65;\n    font-size: 1.1em;\n  }\n.fc-theme-standard .fc-popover {\n    border: 1px solid #ddd;\n    border: 1px solid var(--fc-border-color, #ddd);\n    background: #fff;\n    background: var(--fc-page-bg-color, #fff);\n  }\n.fc-theme-standard .fc-popover-header {\n    background: rgba(208, 208, 208, 0.3);\n    background: var(--fc-neutral-bg-color, rgba(208, 208, 208, 0.3));\n  }\n'},5e3:(Rt,$e,$)=>{"use strict";$.d($e,{$8M:()=>Ho,$Z:()=>GA,AFp:()=>Up,ALo:()=>Cp,AaK:()=>Se,BQk:()=>ip,CHM:()=>Fs,CRH:()=>xp,CZH:()=>Bp,CqO:()=>$A,EJc:()=>Fw,EiD:()=>Wc,EpF:()=>sp,F4k:()=>zA,FYo:()=>Wm,FiY:()=>qs,G48:()=>nI,GfV:()=>n0,Gpc:()=>le,JOm:()=>z,JVY:()=>Gc,L6k:()=>Gl,LAX:()=>zc,LFG:()=>ui,LSH:()=>Xd,Lbi:()=>kw,NdJ:()=>y_,O4$:()=>oh,OlP:()=>xr,PXZ:()=>en,Q6J:()=>sd,QGY:()=>bf,Qsj:()=>X_,R0b:()=>Ma,RDi:()=>Xi,Rgc:()=>pd,SBq:()=>bp,Sil:()=>Vw,Suo:()=>dl,TTD:()=>li,TgZ:()=>np,Tol:()=>T_,Udp:()=>D_,VLi:()=>tc,X6Q:()=>Do,XFs:()=>Et,Xpm:()=>ke,Y36:()=>eu,YKP:()=>l0,YNc:()=>e_,Yjl:()=>bt,Yz7:()=>An,ZZ4:()=>$p,_Bn:()=>nw,_UZ:()=>g_,_Vd:()=>zm,_c5:()=>cI,_uU:()=>gE,aQg:()=>Tv,c2e:()=>Pw,cJS:()=>ye,cg1:()=>P_,d8E:()=>km,dDg:()=>R0,deG:()=>Gs,dqk:()=>gn,eBb:()=>ku,eFA:()=>Hw,ekj:()=>Sm,g9A:()=>x0,h0i:()=>Sf,hGG:()=>Zw,hij:()=>qi,iGM:()=>Aw,ifc:()=>un,ip1:()=>M0,kL8:()=>cp,kYT:()=>de,lG2:()=>et,lcZ:()=>Rf,mCW:()=>_,n5z:()=>Li,oAB:()=>Te,oJD:()=>bh,oxw:()=>A_,pB0:()=>Zd,q3G:()=>Or,q4F:()=>sw,qLn:()=>Zc,qOj:()=>Yy,qZA:()=>rp,qzn:()=>va,sBO:()=>qw,sIi:()=>Qh,s_b:()=>Ip,soG:()=>pv,tBr:()=>Ws,tb:()=>fv,tp0:()=>vo,uIk:()=>Jy,vHH:()=>te,vpe:()=>Sa,wAp:()=>pn,xp6:()=>Ks,yhl:()=>ya,ynx:()=>ws,z2F:()=>N0,z3N:()=>rs,zSh:()=>fm,zs3:()=>As});var h=$(7579),k=$(727),R=$(8306),G=$(6451),ee=$(3099);function we(s){for(let o in s)if(s[o]===we)return o;throw Error("Could not find renamed property on target object.")}function be(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function Se(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Se).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function Ce(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const J=we({__forward_ref__:we});function le(s){return s.__forward_ref__=le,s.toString=function(){return Se(this())},s}function D(s){return O(s)?s():s}function O(s){return"function"==typeof s&&s.hasOwnProperty(J)&&s.__forward_ref__===le}class te extends Error{constructor(o,a){super(function he(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,a)),this.code=o}}function ae(s){return"string"==typeof s?s:null==s?"":String(s)}function ne(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ae(s)}function Ye(s,o){const a=o?` in ${o}`:"";throw new te(-201,`No provider for ${ne(s)} found${a}`)}function St(s,o){null==s&&function zt(s,o,a,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${a} ${u} ${o} <=Actual]`))}(o,s,null,"!=")}function An(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function ye(s){return{providers:s.providers||[],imports:s.imports||[]}}function Fe(s){return at(s,on)||at(s,dn)}function at(s,o){return s.hasOwnProperty(o)?s[o]:null}function Ot(s){return s&&(s.hasOwnProperty(hn)||s.hasOwnProperty(Ze))?s[hn]:null}const on=we({\u0275prov:we}),hn=we({\u0275inj:we}),dn=we({ngInjectableDef:we}),Ze=we({ngInjectorDef:we});var Et=(()=>((Et=Et||{})[Et.Default=0]="Default",Et[Et.Host=1]="Host",Et[Et.Self=2]="Self",Et[Et.SkipSelf=4]="SkipSelf",Et[Et.Optional=8]="Optional",Et))();let Xt;function Pt(s){const o=Xt;return Xt=s,o}function tr(s,o,a){const u=Fe(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&Et.Optional?null:void 0!==o?o:void Ye(Se(s),"Injector")}function xn(s){return{toString:s}.toString()}var En=(()=>((En=En||{})[En.OnPush=0]="OnPush",En[En.Default=1]="Default",En))(),un=(()=>{return(s=un||(un={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",un;var s})();const Zt="undefined"!=typeof globalThis&&globalThis,Mt="undefined"!=typeof window&&window,nr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,gn=Zt||"undefined"!=typeof global&&global||Mt||nr,wn={},oe=[],ge=we({\u0275cmp:we}),B=we({\u0275dir:we}),Q=we({\u0275pipe:we}),W=we({\u0275mod:we}),ie=we({\u0275fac:we}),re=we({__NG_ELEMENT_ID__:we});let fe=0;function ke(s){return xn(()=>{const a={},u={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===En.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||oe,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||un.Emulated,id:"c",styles:s.styles||oe,_:null,setInput:null,schemas:s.schemas||null,tView:null},g=s.directives,y=s.features,E=s.pipes;return u.id+=fe++,u.inputs=ce(s.inputs,a),u.outputs=ce(s.outputs),y&&y.forEach(T=>T(u)),u.directiveDefs=g?()=>("function"==typeof g?g():g).map(ht):null,u.pipeDefs=E?()=>("function"==typeof E?E():E).map(lt):null,u})}function ht(s){return jt(s)||function rn(s){return s[B]||null}(s)}function lt(s){return function Fn(s){return s[Q]||null}(s)}const $t={};function Te(s){return xn(()=>{const o={type:s.type,bootstrap:s.bootstrap||oe,declarations:s.declarations||oe,imports:s.imports||oe,exports:s.exports||oe,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&($t[s.id]=s.type),o})}function de(s,o){return xn(()=>{const a=Ft(s,!0);a.declarations=o.declarations||oe,a.imports=o.imports||oe,a.exports=o.exports||oe})}function ce(s,o){if(null==s)return wn;const a={};for(const u in s)if(s.hasOwnProperty(u)){let g=s[u],y=g;Array.isArray(g)&&(y=g[1],g=g[0]),a[g]=u,o&&(o[g]=y)}return a}const et=ke;function bt(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function jt(s){return s[ge]||null}function Ft(s,o){const a=s[W]||null;if(!a&&!0===o)throw new Error(`Type ${Se(s)} does not have '\u0275mod' property.`);return a}function oi(s){return Array.isArray(s)&&"object"==typeof s[1]}function ai(s){return Array.isArray(s)&&!0===s[1]}function ea(s){return 0!=(8&s.flags)}function No(s){return 2==(2&s.flags)}function to(s){return 1==(1&s.flags)}function vi(s){return null!==s.template}function dc(s){return 0!=(512&s[2])}function Ci(s,o){return s.hasOwnProperty(ie)?s[ie]:null}class ra{constructor(o,a,u){this.previousValue=o,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function li(){return no}function no(s){return s.type.prototype.ngOnChanges&&(s.setInput=xd),ia}function ia(){const s=ks(this),o=null==s?void 0:s.current;if(o){const a=s.previous;if(a===wn)s.previous=o;else for(let u in o)a[u]=o[u];s.current=null,this.ngOnChanges(o)}}function xd(s,o,a,u){const g=ks(s)||function hs(s,o){return s[Ji]=o}(s,{previous:wn,current:null}),y=g.current||(g.current={}),E=g.previous,T=this.declaredInputs[a],x=E[T];y[T]=new ra(x&&x.currentValue,o,E===wn),s[u]=o}li.ngInherit=!0;const Ji="__ngSimpleChanges__";function ks(s){return s[Ji]||null}let Oo;function Xi(s){Oo=s}function ro(){return void 0!==Oo?Oo:"undefined"!=typeof document?document:void 0}function pr(s){return!!s.listen}const Pi={createRenderer:(s,o)=>ro()};function qn(s){for(;Array.isArray(s);)s=s[0];return s}function io(s,o){return qn(o[s])}function Jr(s,o){return qn(o[s.index])}function la(s,o){return s.data[o]}function q(s,o){const a=o[s];return oi(a)?a:a[0]}function Ee(s){return 4==(4&s[2])}function Ge(s){return 128==(128&s[2])}function Dt(s,o){return null==o?null:s[o]}function cn(s){s[18]=0}function sr(s,o){s[5]+=o;let a=s,u=s[3];for(;null!==u&&(1===o&&1===a[5]||-1===o&&0===a[5]);)u[5]+=o,a=u,u=u[3]}const Vt={lFrame:Po(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ts(){return Vt.bindingsEnabled}function ot(){return Vt.lFrame.lView}function Dn(){return Vt.lFrame.tView}function Fs(s){return Vt.lFrame.contextLView=s,s[8]}function gr(){let s=Ua();for(;null!==s&&64===s.type;)s=s.parent;return s}function Ua(){return Vt.lFrame.currentTNode}function Fi(s,o){const a=Vt.lFrame;a.currentTNode=s,a.isParent=o}function pc(){return Vt.lFrame.isParent}function gc(){Vt.lFrame.isParent=!1}function wl(){return Vt.isInCheckNoChangesMode}function Ha(s){Vt.isInCheckNoChangesMode=s}function Ls(){return Vt.lFrame.bindingIndex++}function Vs(s){const o=Vt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function pu(s,o){const a=Vt.lFrame;a.bindingIndex=a.bindingRootIndex=s,ja(o)}function ja(s){Vt.lFrame.currentDirectiveIndex=s}function Cl(s){const o=Vt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function yc(){return Vt.lFrame.currentQueryIndex}function _c(s){Vt.lFrame.currentQueryIndex=s}function yg(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Ga(s,o,a){if(a&Et.SkipSelf){let g=o,y=s;for(;!(g=g.parent,null!==g||a&Et.Host||(g=yg(y),null===g||(y=y[15],10&g.type))););if(null===g)return!1;o=g,s=y}const u=Vt.lFrame=ei();return u.currentTNode=o,u.lView=s,!0}function za(s){const o=ei(),a=s[1];Vt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function ei(){const s=Vt.lFrame,o=null===s?null:s.child;return null===o?Po(s):o}function Po(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Dl(){const s=Vt.lFrame;return Vt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const kd=Dl;function Tl(){const s=Dl();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function yi(){return Vt.lFrame.selectedIndex}function Bs(s){Vt.lFrame.selectedIndex=s}function br(){const s=Vt.lFrame;return la(s.tView,s.selectedIndex)}function oh(){Vt.lFrame.currentNamespace="svg"}function Il(s,o){for(let a=o.directiveStart,u=o.directiveEnd;a<u;a++){const y=s.data[a].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:T,ngAfterViewInit:x,ngAfterViewChecked:F,ngOnDestroy:j}=y;E&&(s.contentHooks||(s.contentHooks=[])).push(-a,E),T&&((s.contentHooks||(s.contentHooks=[])).push(a,T),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,T)),x&&(s.viewHooks||(s.viewHooks=[])).push(-a,x),F&&((s.viewHooks||(s.viewHooks=[])).push(a,F),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,F)),null!=j&&(s.destroyHooks||(s.destroyHooks=[])).push(a,j)}}function Us(s,o,a){Pd(s,o,3,a)}function Sl(s,o,a,u){(3&s[2])===a&&Pd(s,o,a,u)}function bc(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function Pd(s,o,a,u){const y=null!=u?u:-1,E=o.length-1;let T=0;for(let x=void 0!==u?65535&s[18]:0;x<E;x++)if("number"==typeof o[x+1]){if(T=o[x],null!=u&&T>=u)break}else o[x]<0&&(s[18]+=65536),(T<y||-1==y)&&(Eg(s,a,o,x),s[18]=(4294901760&s[18])+x+2),x++}function Eg(s,o,a,u){const g=a[u]<0,y=a[u+1],T=s[g?-a[u]:a[u]];if(g){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{y.call(T)}finally{}}}else try{y.call(T)}finally{}}class $a{constructor(o,a,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function Ml(s,o,a){const u=pr(s);let g=0;for(;g<a.length;){const y=a[g];if("number"==typeof y){if(0!==y)break;g++;const E=a[g++],T=a[g++],x=a[g++];u?s.setAttribute(o,T,x,E):o.setAttributeNS(E,T,x)}else{const E=y,T=a[++g];xl(E)?u&&s.setProperty(o,E,T):u?s.setAttribute(o,E,T):o.setAttribute(E,T),g++}}return g}function Ac(s){return 3===s||4===s||6===s}function xl(s){return 64===s.charCodeAt(0)}function mu(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let u=0;u<o.length;u++){const g=o[u];"number"==typeof g?a=g:0===a||Rl(s,a,g,null,-1===a||2===a?o[++u]:null)}}return s}function Rl(s,o,a,u,g){let y=0,E=s.length;if(-1===o)E=-1;else for(;y<s.length;){const T=s[y++];if("number"==typeof T){if(T===o){E=-1;break}if(T>o){E=y-1;break}}}for(;y<s.length;){const T=s[y];if("number"==typeof T)break;if(T===a){if(null===u)return void(null!==g&&(s[y+1]=g));if(u===s[y+1])return void(s[y+2]=g)}y++,null!==u&&y++,null!==g&&y++}-1!==E&&(s.splice(E,0,o),y=E+1),s.splice(y++,0,a),null!==u&&s.splice(y++,0,u),null!==g&&s.splice(y++,0,g)}function lo(s){return-1!==s}function uo(s){return 32767&s}function Gr(s,o){let a=function Ar(s){return s>>16}(s),u=o;for(;a>0;)u=u[15],a--;return u}let Sn=!0;function Wa(s){const o=Sn;return Sn=s,o}let Cc=0;function _i(s,o){const a=ua(s,o);if(-1!==a)return a;const u=o[1];u.firstCreatePass&&(s.injectorIndex=o.length,Di(u.data,s),Di(o,null),Di(u.blueprint,null));const g=Hs(s,o),y=s.injectorIndex;if(lo(g)){const E=uo(g),T=Gr(g,o),x=T[1].data;for(let F=0;F<8;F++)o[y+F]=T[E+F]|x[E+F]}return o[y+8]=g,y}function Di(s,o){s.push(0,0,0,0,0,0,0,0,o)}function ua(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Hs(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,u=null,g=o;for(;null!==g;){const y=g[1],E=y.type;if(u=2===E?y.declTNode:1===E?g[6]:null,null===u)return-1;if(a++,g=g[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function vu(s,o,a){!function Vd(s,o,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(re)&&(u=a[re]),null==u&&(u=a[re]=Cc++);const g=255&u;o.data[s+(g>>5)]|=1<<g}(s,o,a)}function Tc(s,o,a){if(a&Et.Optional)return s;Ye(o,"NodeInjector")}function ms(s,o,a,u){if(a&Et.Optional&&void 0===u&&(u=null),0==(a&(Et.Self|Et.Host))){const g=s[9],y=Pt(void 0);try{return g?g.get(o,u,a&Et.Optional):tr(o,u,a&Et.Optional)}finally{Pt(y)}}return Tc(u,o,a)}function js(s,o,a,u=Et.Default,g){if(null!==s){const y=function Ic(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(re)?s[re]:void 0;return"number"==typeof o?o>=0?255&o:ti:o}(a);if("function"==typeof y){if(!Ga(o,s,u))return u&Et.Host?Tc(g,a,u):ms(o,a,u,g);try{const E=y(u);if(null!=E||u&Et.Optional)return E;Ye(a)}finally{kd()}}else if("number"==typeof y){let E=null,T=ua(s,o),x=-1,F=u&Et.Host?o[16][6]:null;for((-1===T||u&Et.SkipSelf)&&(x=-1===T?Hs(s,o):o[T+8],-1!==x&&Bo(u,!1)?(E=o[1],T=uo(x),o=Gr(x,o)):T=-1);-1!==T;){const j=o[1];if(Sc(y,T,j.data)){const Y=Vo(T,o,a,E,u,F);if(Y!==ca)return Y}x=o[T+8],-1!==x&&Bo(u,o[1].data[T+8]===F)&&Sc(y,T,o)?(E=j,T=uo(x),o=Gr(x,o)):T=-1}}}return ms(o,a,u,g)}const ca={};function ti(){return new Uo(gr(),ot())}function Vo(s,o,a,u,g,y){const E=o[1],T=E.data[s+8],j=yu(T,E,a,null==u?No(T)&&Sn:u!=E&&0!=(3&T.type),g&Et.Host&&y===T);return null!==j?kl(o,E,j,T):ca}function yu(s,o,a,u,g){const y=s.providerIndexes,E=o.data,T=1048575&y,x=s.directiveStart,j=y>>20,_e=g?T+j:s.directiveEnd;for(let Ne=u?T:T+j;Ne<_e;Ne++){const nt=E[Ne];if(Ne<x&&a===nt||Ne>=x&&nt.type===a)return Ne}if(g){const Ne=E[x];if(Ne&&vi(Ne)&&Ne.type===a)return x}return null}function kl(s,o,a,u){let g=s[a];const y=o.data;if(function Fd(s){return s instanceof $a}(g)){const E=g;E.resolving&&function He(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new te(-200,`Circular dependency in DI detected for ${s}${a}`)}(ne(y[a]));const T=Wa(E.canSeeViewProviders);E.resolving=!0;const x=E.injectImpl?Pt(E.injectImpl):null;Ga(s,u,Et.Default);try{g=s[a]=E.factory(void 0,y,s,u),o.firstCreatePass&&a>=u.directiveStart&&function Ag(s,o,a){const{ngOnChanges:u,ngOnInit:g,ngDoCheck:y}=o.type.prototype;if(u){const E=no(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,E),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,E)}g&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,g),y&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,y))}(a,y[a],o)}finally{null!==x&&Pt(x),Wa(T),E.resolving=!1,kd()}}return g}function Sc(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function Bo(s,o){return!(s&Et.Self||s&Et.Host&&o)}class Uo{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,u){return js(this._tNode,this._lView,o,u,a)}}function Li(s){return xn(()=>{const o=s.prototype.constructor,a=o[ie]||_u(o),u=Object.prototype;let g=Object.getPrototypeOf(s.prototype).constructor;for(;g&&g!==u;){const y=g[ie]||_u(g);if(y&&y!==a)return y;g=Object.getPrototypeOf(g)}return y=>new y})}function _u(s){return O(s)?()=>{const o=_u(D(s));return o&&o()}:Ci(s)}function Ho(s){return function Dc(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const u=a.length;let g=0;for(;g<u;){const y=a[g];if(Ac(y))break;if(0===y)g+=2;else if("number"==typeof y)for(g++;g<u&&"string"==typeof a[g];)g++;else{if(y===o)return a[g+1];g+=2}}}return null}(gr(),s)}const co="__parameters__";function Bi(s,o,a){return xn(()=>{const u=function Ol(s){return function(...a){if(s){const u=s(...a);for(const g in u)this[g]=u[g]}}}(o);function g(...y){if(this instanceof g)return u.apply(this,y),this;const E=new g(...y);return T.annotation=E,T;function T(x,F,j){const Y=x.hasOwnProperty(co)?x[co]:Object.defineProperty(x,co,{value:[]})[co];for(;Y.length<=j;)Y.push(null);return(Y[j]=Y[j]||[]).push(E),x}}return a&&(g.prototype=Object.create(a.prototype)),g.prototype.ngMetadataName=s,g.annotationCls=g,g})}class xr{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=An({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Gs=new xr("AnalyzeForEntryComponents");function Hi(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let u=s[a];Array.isArray(u)?(o===s&&(o=s.slice(0,a)),Hi(u,o)):o!==s&&o.push(u)}return o}function ns(s,o){s.forEach(a=>Array.isArray(a)?ns(a,o):o(a))}function ho(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function wu(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Ti(s,o,a){let u=Za(s,o);return u>=0?s[1|u]=a:(u=~u,function Fl(s,o,a,u){let g=s.length;if(g==o)s.push(a,u);else if(1===g)s.push(u,s[0]),s[0]=a;else{for(g--,s.push(s[g-1],s[g]);g>o;)s[g]=s[g-2],g--;s[o]=a,s[o+1]=u}}(s,u,o,a)),u}function xc(s,o){const a=Za(s,o);if(a>=0)return s[1|a]}function Za(s,o){return function Cu(s,o,a){let u=0,g=s.length>>a;for(;g!==u;){const y=u+(g-u>>1),E=s[y<<a];if(o===E)return y<<a;E>o?g=y:u=y+1}return~(g<<a)}(s,o,1)}const po={},$o="__NG_DI_FLAG__",pa="ngTempTokenPath",Pc=/\n/gm,Du="__source",hh=we({provide:String,useValue:we});let Tu;function Iu(s){const o=Tu;return Tu=s,o}function Ud(s,o=Et.Default){if(void 0===Tu)throw new te(203,"");return null===Tu?tr(s,void 0,o):Tu.get(s,o&Et.Optional?null:void 0,o)}function ui(s,o=Et.Default){return(function vt(){return Xt}()||Ud)(D(s),o)}const ph=ui;function Su(s){const o=[];for(let a=0;a<s.length;a++){const u=D(s[a]);if(Array.isArray(u)){if(0===u.length)throw new te(900,"");let g,y=Et.Default;for(let E=0;E<u.length;E++){const T=u[E],x=Lc(T);"number"==typeof x?-1===x?g=T.token:y|=x:g=T}o.push(ui(g,y))}else o.push(ui(u))}return o}function go(s,o){return s[$o]=o,s.prototype[$o]=o,s}function Lc(s){return s[$o]}const Ws=go(Bi("Inject",s=>({token:s})),-1),qs=go(Bi("Optional"),8),vo=go(Bi("SkipSelf"),4);let _o,Hl;function ma(s){var o;return(null===(o=function Ul(){if(void 0===_o&&(_o=null,gn.trustedTypes))try{_o=gn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return _o}())||void 0===o?void 0:o.createHTML(s))||s}function jl(s){var o;return(null===(o=function Uc(){if(void 0===Hl&&(Hl=null,gn.trustedTypes))try{Hl=gn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Hl}())||void 0===o?void 0:o.createHTML(s))||s}class ji{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Wd extends ji{getTypeName(){return"HTML"}}class vh extends ji{getTypeName(){return"Style"}}class Hc extends ji{getTypeName(){return"Script"}}class jc extends ji{getTypeName(){return"URL"}}class qd extends ji{getTypeName(){return"ResourceURL"}}function rs(s){return s instanceof ji?s.changingThisBreaksApplicationSecurity:s}function va(s,o){const a=ya(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}function ya(s){return s instanceof ji&&s.getTypeName()||null}function Gc(s){return new Wd(s)}function Gl(s){return new vh(s)}function ku(s){return new Hc(s)}function zc(s){return new jc(s)}function Zd(s){return new qd(s)}class Ou{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(ma(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class yh{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=ma(o),a;const u=this.inertDocument.createElement("body");return u.innerHTML=ma(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(o){const a=o.attributes;for(let g=a.length-1;0<g;g--){const E=a.item(g).name;("xmlns:ns1"===E||0===E.indexOf("ns1:"))&&o.removeAttribute(E)}let u=o.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const _h=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,C=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function _(s){return(s=String(s)).match(_h)||s.match(C)?s:"unsafe:"+s}function I(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function H(...s){const o={};for(const a of s)for(const u in a)a.hasOwnProperty(u)&&(o[u]=!0);return o}const K=I("area,br,col,hr,img,wbr"),Pe=I("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),dt=I("rp,rt"),mr=H(K,H(Pe,I("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),H(dt,I("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),H(dt,Pe)),Ii=I("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),vs=I("srcset"),Wl=H(Ii,vs,I("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),I("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Wo=I("script,style,template");class Yd{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let g=this.checkClobberedElement(a,a.nextSibling);if(g){a=g;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!mr.hasOwnProperty(a))return this.sanitizedSomething=!0,!Wo.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=o.attributes;for(let g=0;g<u.length;g++){const y=u.item(g),E=y.name,T=E.toLowerCase();if(!Wl.hasOwnProperty(T)){this.sanitizedSomething=!0;continue}let x=y.value;Ii[T]&&(x=_(x)),vs[T]&&(s=x,x=(s=String(s)).split(",").map(o=>_(o.trim())).join(", ")),this.buf.push(" ",E,'="',el(x),'"')}var s;return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();mr.hasOwnProperty(a)&&!K.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(el(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const Pu=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Jd=/([^\#-~ |!])/g;function el(s){return s.replace(/&/g,"&amp;").replace(Pu,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Jd,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let tl;function Wc(s,o){let a=null;try{tl=tl||function zl(s){const o=new yh(s);return function $c(){try{return!!(new window.DOMParser).parseFromString(ma(""),"text/html")}catch(s){return!1}}()?new Ou(o):o}(s);let u=o?String(o):"";a=tl.getInertBodyElement(u);let g=5,y=u;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,u=y,y=a.innerHTML,a=tl.getInertBodyElement(u)}while(u!==y);return ma((new Yd).sanitizeChildren(nl(a)||a))}finally{if(a){const u=nl(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function nl(s){return"content"in s&&function ql(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Or=(()=>((Or=Or||{})[Or.NONE=0]="NONE",Or[Or.HTML=1]="HTML",Or[Or.STYLE=2]="STYLE",Or[Or.SCRIPT=3]="SCRIPT",Or[Or.URL=4]="URL",Or[Or.RESOURCE_URL=5]="RESOURCE_URL",Or))();function bh(s){const o=Fu();return o?jl(o.sanitize(Or.HTML,s)||""):va(s,"HTML")?jl(rs(s)):Wc(ro(),ae(s))}function Xd(s){const o=Fu();return o?o.sanitize(Or.URL,s)||"":va(s,"URL")?rs(s):_(ae(s))}function Fu(){const s=ot();return s&&s[12]}const Og="__ngContext__";function ci(s,o){s[Og]=o}function bo(s){const o=function Lu(s){return s[Og]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Bg(s){return s.ngOriginalError}function qc(s,...o){s.error(...o)}class Zc{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),u=function Ug(s){return s&&s.ngErrorLogger||qc}(o);u(this._console,"ERROR",o),a&&u(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Bg(o);for(;a&&Bg(a);)a=Bg(a);return a||null}}const dy=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(gn))();function v(s){return s instanceof Function?s():s}var z=(()=>((z=z||{})[z.Important=1]="Important",z[z.DashCase=2]="DashCase",z))();function xe(s,o){return undefined(s,o)}function gt(s){const o=s[3];return ai(o)?o[3]:o}function an(s){return ir(s[13])}function xt(s){return ir(s[4])}function ir(s){for(;null!==s&&!ai(s);)s=s[4];return s}function _r(s,o,a,u,g){if(null!=u){let y,E=!1;ai(u)?y=u:oi(u)&&(E=!0,u=u[0]);const T=qn(u);0===s&&null!==a?null==g?HC(o,a,T):Zl(o,a,T,g||null,!0):1===s&&null!==a?Zl(o,a,T,g||null,!0):2===s?function Zg(s,o,a){const u=Ih(s,o);u&&function Kc(s,o,a,u){pr(s)?s.removeChild(o,a,u):o.removeChild(a)}(s,u,o,a)}(o,T,E):3===s&&o.destroyNode(T),null!=y&&function Ey(s,o,a,u,g){const y=a[7];y!==qn(a)&&_r(o,s,u,y,g);for(let T=10;T<a.length;T++){const x=a[T];Uu(x[1],x,s,o,u,y)}}(o,s,y,a,g)}}function zi(s,o,a){if(pr(s))return s.createElement(o,a);{const u=null!==a?function oa(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(a):null;return null===u?s.createElement(o):s.createElementNS(u,o)}}function Bu(s,o){const a=s[9],u=a.indexOf(o),g=o[3];1024&o[2]&&(o[2]&=-1025,sr(g,-1)),a.splice(u,1)}function Th(s,o){if(s.length<=10)return;const a=10+o,u=s[a];if(u){const g=u[17];null!==g&&g!==s&&Bu(g,u),o>0&&(s[a-1][4]=u[4]);const y=wu(s,10+o);!function Ao(s,o){Uu(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const E=y[19];null!==E&&E.detachView(y[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function Wg(s,o){if(!(256&o[2])){const a=o[11];pr(a)&&a.destroyNode&&Uu(s,o,a,3,null,null),function Vu(s){let o=s[13];if(!o)return _s(s[1],s);for(;o;){let a=null;if(oi(o))a=o[13];else{const u=o[10];u&&(a=u)}if(!a){for(;o&&!o[4]&&o!==s;)oi(o)&&_s(o[1],o),o=o[3];null===o&&(o=s),oi(o)&&_s(o[1],o),a=o&&o[4]}o=a}}(o)}}function _s(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function hy(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let u=0;u<a.length;u+=2){const g=o[a[u]];if(!(g instanceof $a)){const y=a[u+1];if(Array.isArray(y))for(let E=0;E<y.length;E+=2){const T=g[y[E]],x=y[E+1];try{x.call(T)}finally{}}else try{y.call(g)}finally{}}}}(s,o),function Tb(s,o){const a=s.cleanup,u=o[7];let g=-1;if(null!==a)for(let y=0;y<a.length-1;y+=2)if("string"==typeof a[y]){const E=a[y+1],T="function"==typeof E?E(o):qn(o[E]),x=u[g=a[y+2]],F=a[y+3];"boolean"==typeof F?T.removeEventListener(a[y],x,F):F>=0?u[g=F]():u[g=-F].unsubscribe(),y+=2}else{const E=u[g=a[y+1]];a[y].call(E)}if(null!==u){for(let y=g+1;y<u.length;y++)u[y]();o[7]=null}}(s,o),1===o[1].type&&pr(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&ai(o[3])){a!==o[3]&&Bu(a,o);const u=o[19];null!==u&&u.detachView(s)}}}function py(s,o,a){return function gy(s,o,a){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return a[0];if(2&u.flags){const g=s.data[u.directiveStart].encapsulation;if(g===un.None||g===un.Emulated)return null}return Jr(u,a)}(s,o.parent,a)}function Zl(s,o,a,u,g){pr(s)?s.insertBefore(o,a,u,g):o.insertBefore(a,u,g)}function HC(s,o,a){pr(s)?s.appendChild(o,a):o.appendChild(a)}function Ib(s,o,a,u,g){null!==u?Zl(s,o,a,u,g):HC(s,o,a)}function Ih(s,o){return pr(s)?s.parentNode(o):o.parentNode}let vy=function my(s,o,a){return 40&s.type?Jr(s,a):null};function sf(s,o,a,u){const g=py(s,u,o),y=o[11],T=function Mb(s,o,a){return vy(s,o,a)}(u.parent||o[6],u,o);if(null!=g)if(Array.isArray(a))for(let x=0;x<a.length;x++)Ib(y,g,a[x],T,!1);else Ib(y,g,a,T,!1)}function qg(s,o){if(null!==o){const a=o.type;if(3&a)return Jr(o,s);if(4&a)return by(-1,s[o.index]);if(8&a){const u=o.child;if(null!==u)return qg(s,u);{const g=s[o.index];return ai(g)?by(-1,g):qn(g)}}if(32&a)return xe(o,s)()||qn(s[o.index]);{const u=_y(s,o);return null!==u?Array.isArray(u)?u[0]:qg(gt(s[16]),u):qg(s,o.next)}}return null}function _y(s,o){return null!==o?s[16][6].projection[o.projection]:null}function by(s,o){const a=10+s+1;if(a<o.length){const u=o[a],g=u[1].firstChild;if(null!==g)return qg(u,g)}return o[7]}function of(s,o,a,u,g,y,E){for(;null!=a;){const T=u[a.index],x=a.type;if(E&&0===o&&(T&&ci(qn(T),u),a.flags|=4),64!=(64&a.flags))if(8&x)of(s,o,a.child,u,g,y,!1),_r(o,s,g,T,y);else if(32&x){const F=xe(a,u);let j;for(;j=F();)_r(o,s,g,j,y);_r(o,s,g,T,y)}else 16&x?Ay(s,o,u,a,g,y):_r(o,s,g,T,y);a=E?a.projectionNext:a.next}}function Uu(s,o,a,u,g,y){of(a,u,s.firstChild,o,g,y,!1)}function Ay(s,o,a,u,g,y){const E=a[16],x=E[6].projection[u.projection];if(Array.isArray(x))for(let F=0;F<x.length;F++)_r(o,s,g,x[F],y);else of(s,o,x,E[3],g,y,!0)}function Qg(s,o,a){pr(s)?s.setAttribute(o,"style",a):o.style.cssText=a}function af(s,o,a){pr(s)?""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a):o.className=a}function Rb(s,o,a){let u=s.length;for(;;){const g=s.indexOf(o,a);if(-1===g)return g;if(0===g||s.charCodeAt(g-1)<=32){const y=o.length;if(g+y===u||s.charCodeAt(g+y)<=32)return g}a=g+1}}const wy="ng-template";function Hu(s,o,a){let u=0;for(;u<s.length;){let g=s[u++];if(a&&"class"===g){if(g=s[u],-1!==Rb(g.toLowerCase(),o,0))return!0}else if(1===g){for(;u<s.length&&"string"==typeof(g=s[u++]);)if(g.toLowerCase()===o)return!0;return!1}}return!1}function Cy(s){return 4===s.type&&s.value!==wy}function Nb(s,o,a){return o===(4!==s.type||a?s.value:wy)}function il(s,o,a){let u=4;const g=s.attrs||[],y=function Ob(s){for(let o=0;o<s.length;o++)if(Ac(s[o]))return o;return s.length}(g);let E=!1;for(let T=0;T<o.length;T++){const x=o[T];if("number"!=typeof x){if(!E)if(4&u){if(u=2|1&u,""!==x&&!Nb(s,x,a)||""===x&&1===o.length){if($i(u))return!1;E=!0}}else{const F=8&u?x:o[++T];if(8&u&&null!==s.attrs){if(!Hu(s.attrs,F,a)){if($i(u))return!1;E=!0}continue}const Y=Mh(8&u?"class":x,g,Cy(s),a);if(-1===Y){if($i(u))return!1;E=!0;continue}if(""!==F){let _e;_e=Y>y?"":g[Y+1].toLowerCase();const Ne=8&u?_e:null;if(Ne&&-1!==Rb(Ne,F,0)||2&u&&F!==_e){if($i(u))return!1;E=!0}}}}else{if(!E&&!$i(u)&&!$i(x))return!1;if(E&&$i(x))continue;E=!1,u=x|1&u}}return $i(u)||E}function $i(s){return 0==(1&s)}function Mh(s,o,a,u){if(null===o)return-1;let g=0;if(u||!a){let y=!1;for(;g<o.length;){const E=o[g];if(E===s)return g;if(3===E||6===E)y=!0;else{if(1===E||2===E){let T=o[++g];for(;"string"==typeof T;)T=o[++g];continue}if(4===E)break;if(0===E){g+=4;continue}}g+=y?1:2}return-1}return function Yg(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const u=s[a];if("number"==typeof u)return-1;if(u===o)return a;a++}return-1}(o,s)}function kb(s,o,a=!1){for(let u=0;u<o.length;u++)if(il(s,o[u],a))return!0;return!1}function Pb(s,o){return s?":not("+o.trim()+")":o}function Ty(s){let o=s[0],a=1,u=2,g="",y=!1;for(;a<s.length;){let E=s[a];if("string"==typeof E)if(2&u){const T=s[++a];g+="["+E+(T.length>0?'="'+T+'"':"")+"]"}else 8&u?g+="."+E:4&u&&(g+=" "+E);else""!==g&&!$i(E)&&(o+=Pb(y,g),g=""),u=E,y=y||!$i(u);a++}return""!==g&&(o+=Pb(y,g)),o}const Vn={};function Ks(s){Iy(Dn(),ot(),yi()+s,wl())}function Iy(s,o,a,u){if(!u)if(3==(3&o[2])){const y=s.preOrderCheckHooks;null!==y&&Us(o,y,a)}else{const y=s.preOrderHooks;null!==y&&Sl(o,y,0,a)}Bs(a)}function Yc(s,o){return s<<17|o<<2}function ba(s){return s>>17&32767}function Lb(s){return 2|s}function ju(s){return(131068&s)>>2}function lf(s,o){return-131069&s|o<<2}function Sy(s){return 1|s}function $b(s,o){const a=s.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const g=a[u],y=a[u+1];if(-1!==y){const E=s.data[y];_c(g),E.contentQueries(2,o[y],y)}}}function Lh(s,o,a,u,g,y,E,T,x,F){const j=o.blueprint.slice();return j[0]=g,j[2]=140|u,cn(j),j[3]=j[15]=s,j[8]=a,j[10]=E||s&&s[10],j[11]=T||s&&s[11],j[12]=x||s&&s[12]||null,j[9]=F||s&&s[9]||null,j[6]=y,j[16]=2==o.type?s[16]:j,j}function uf(s,o,a,u,g){let y=s.data[o];if(null===y)y=function tm(s,o,a,u,g){const y=Ua(),E=pc(),x=s.data[o]=function nD(s,o,a,u,g,y){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?y:y&&y.parent,a,o,u,g);return null===s.firstChild&&(s.firstChild=x),null!==y&&(E?null==y.child&&null!==x.parent&&(y.child=x):null===y.next&&(y.next=x)),x}(s,o,a,u,g),function vc(){return Vt.lFrame.inI18n}()&&(y.flags|=64);else if(64&y.type){y.type=a,y.value=u,y.attrs=g;const E=function El(){const s=Vt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();y.injectorIndex=null===E?-1:E.injectorIndex}return Fi(y,!0),y}function cf(s,o,a,u){if(0===a)return-1;const g=o.length;for(let y=0;y<a;y++)o.push(u),s.blueprint.push(u),s.data.push(null);return g}function Xc(s,o,a){za(o);try{const u=s.viewQuery;null!==u&&$y(1,u,a);const g=s.template;null!==g&&qb(s,o,g,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&$b(s,o),s.staticViewQueries&&$y(2,s.viewQuery,a);const y=s.components;null!==y&&function Wb(s,o){for(let a=0;a<o.length;a++)oA(s,o[a])}(o,y)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[2]&=-5,Tl()}}function df(s,o,a,u){const g=o[2];if(256==(256&g))return;za(o);const y=wl();try{cn(o),function hu(s){return Vt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&qb(s,o,a,2,u);const E=3==(3&g);if(!y)if(E){const F=s.preOrderCheckHooks;null!==F&&Us(o,F,null)}else{const F=s.preOrderHooks;null!==F&&Sl(o,F,0,null),bc(o,0)}if(function dD(s){for(let o=an(s);null!==o;o=xt(o)){if(!o[2])continue;const a=o[9];for(let u=0;u<a.length;u++){const g=a[u],y=g[3];0==(1024&g[2])&&sr(y,1),g[2]|=1024}}}(o),function cD(s){for(let o=an(s);null!==o;o=xt(o))for(let a=10;a<o.length;a++){const u=o[a],g=u[1];Ge(u)&&df(g,u,g.template,u[8])}}(o),null!==s.contentQueries&&$b(s,o),!y)if(E){const F=s.contentCheckHooks;null!==F&&Us(o,F)}else{const F=s.contentHooks;null!==F&&Sl(o,F,1),bc(o,1)}!function XC(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const g=a[u];if(g<0)Bs(~g);else{const y=g,E=a[++u],T=a[++u];pu(E,y),T(2,o[y])}}}finally{Bs(-1)}}(s,o);const T=s.components;null!==T&&function eD(s,o){for(let a=0;a<o.length;a++)fD(s,o[a])}(o,T);const x=s.viewQuery;if(null!==x&&$y(2,x,u),!y)if(E){const F=s.viewCheckHooks;null!==F&&Us(o,F)}else{const F=s.viewHooks;null!==F&&Sl(o,F,2),bc(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),y||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,sr(o[3],-1))}finally{Tl()}}function tD(s,o,a,u){const g=o[10],y=!wl(),E=Ee(o);try{y&&!E&&g.begin&&g.begin(),E&&Xc(s,o,u),df(s,o,a,u)}finally{y&&!E&&g.end&&g.end()}}function qb(s,o,a,u,g){const y=yi(),E=2&u;try{Bs(-1),E&&o.length>20&&Iy(s,o,20,wl()),a(u,g)}finally{Bs(y)}}function Zb(s,o,a){if(ea(o)){const g=o.directiveEnd;for(let y=o.directiveStart;y<g;y++){const E=s.data[y];E.contentQueries&&E.contentQueries(1,a[y],y)}}}function nm(s,o,a){!ts()||(function iD(s,o,a,u){const g=a.directiveStart,y=a.directiveEnd;s.firstCreatePass||_i(a,o),ci(u,o);const E=a.initialInputs;for(let T=g;T<y;T++){const x=s.data[T],F=vi(x);F&&rA(o,a,x);const j=kl(o,s,T,a);ci(j,o),null!==E&&uD(0,T-g,j,x,0,E),F&&(q(a.index,o)[8]=j)}}(s,o,a,Jr(a,o)),128==(128&a.flags)&&function sD(s,o,a){const u=a.directiveStart,g=a.directiveEnd,E=a.index,T=function ih(){return Vt.lFrame.currentDirectiveIndex}();try{Bs(E);for(let x=u;x<g;x++){const F=s.data[x],j=o[x];ja(x),(null!==F.hostBindings||0!==F.hostVars||null!==F.hostAttrs)&&am(F,j)}}finally{Bs(-1),ja(T)}}(s,o,a))}function By(s,o,a=Jr){const u=o.localNames;if(null!==u){let g=o.index+1;for(let y=0;y<u.length;y+=2){const E=u[y+1],T=-1===E?a(o,s):s[E];s[g++]=T}}}function Eo(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=ff(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function ff(s,o,a,u,g,y,E,T,x,F){const j=20+u,Y=j+g,_e=function Vh(s,o){const a=[];for(let u=0;u<o;u++)a.push(u<s?null:Vn);return a}(j,Y),Ne="function"==typeof F?F():F;return _e[1]={type:s,blueprint:_e,template:a,queries:null,viewQuery:T,declTNode:o,data:_e.slice().fill(null,j),bindingStartIndex:j,expandoStartIndex:Y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:x,consts:Ne,incompleteFirstPass:!1}}function im(s,o,a,u){const g=Wy(o);null===a?g.push(u):(g.push(a),s.firstCreatePass&&um(s).push(u,g.length-1))}function Qb(s,o,a){for(let u in s)if(s.hasOwnProperty(u)){const g=s[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(o,g):a[u]=[o,g]}return a}function Qs(s,o,a,u,g,y,E,T){const x=Jr(o,a);let j,F=o.inputs;!T&&null!=F&&(j=F[u])?(Gh(s,a,j,u,g),No(o)&&function Yb(s,o){const a=q(o,s);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(u=function rD(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),g=null!=E?E(g,o.value||"",u):g,pr(y)?y.setProperty(x,u,g):xl(u)||(x.setProperty?x.setProperty(u,g):x[u]=g))}function Uy(s,o,a,u){let g=!1;if(ts()){const y=function oD(s,o,a){const u=s.directiveRegistry;let g=null;if(u)for(let y=0;y<u.length;y++){const E=u[y];kb(a,E.selectors,!1)&&(g||(g=[]),vu(_i(a,o),s,E.type),vi(E)?(jy(s,a),g.unshift(E)):g.push(E))}return g}(s,o,a),E=null===u?null:{"":-1};if(null!==y){g=!0,tA(a,s.data.length,y.length);for(let j=0;j<y.length;j++){const Y=y[j];Y.providersResolver&&Y.providersResolver(Y)}let T=!1,x=!1,F=cf(s,o,y.length,null);for(let j=0;j<y.length;j++){const Y=y[j];a.mergedAttrs=mu(a.mergedAttrs,Y.hostAttrs),nA(s,a,o,F,Y),lD(F,Y,E),null!==Y.contentQueries&&(a.flags|=8),(null!==Y.hostBindings||null!==Y.hostAttrs||0!==Y.hostVars)&&(a.flags|=128);const _e=Y.type.prototype;!T&&(_e.ngOnChanges||_e.ngOnInit||_e.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),T=!0),!x&&(_e.ngOnChanges||_e.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),x=!0),F++}!function sm(s,o){const u=o.directiveEnd,g=s.data,y=o.attrs,E=[];let T=null,x=null;for(let F=o.directiveStart;F<u;F++){const j=g[F],Y=j.inputs,_e=null===y||Cy(o)?null:iA(Y,y);E.push(_e),T=Qb(Y,F,T),x=Qb(j.outputs,F,x)}null!==T&&(T.hasOwnProperty("class")&&(o.flags|=16),T.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=E,o.inputs=T,o.outputs=x}(s,a)}E&&function aD(s,o,a){if(o){const u=s.localNames=[];for(let g=0;g<o.length;g+=2){const y=a[o[g+1]];if(null==y)throw new te(-301,!1);u.push(o[g],y)}}}(a,u,E)}return a.mergedAttrs=mu(a.mergedAttrs,a.attrs),g}function Hy(s,o,a,u,g,y){const E=y.hostBindings;if(E){let T=s.hostBindingOpCodes;null===T&&(T=s.hostBindingOpCodes=[]);const x=~o.index;(function om(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(T)!=x&&T.push(x),T.push(u,g,E)}}function am(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function jy(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function lD(s,o,a){if(a){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)a[o.exportAs[u]]=s;vi(o)&&(a[""]=s)}}function tA(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function nA(s,o,a,u,g){s.data[u]=g;const y=g.factory||(g.factory=Ci(g.type)),E=new $a(y,vi(g),null);s.blueprint[u]=E,a[u]=E,Hy(s,o,0,u,cf(s,a,g.hostVars,Vn),g)}function rA(s,o,a){const u=Jr(o,s),g=Eo(a),y=s[10],E=Uh(s,Lh(s,g,null,a.onPush?64:16,u,o,y,y.createRenderer(u,a),null,null));s[o.index]=E}function wo(s,o,a,u,g,y){const E=Jr(s,o);!function lm(s,o,a,u,g,y,E){if(null==y)pr(s)?s.removeAttribute(o,g,a):o.removeAttribute(g);else{const T=null==E?ae(y):E(y,u||"",g);pr(s)?s.setAttribute(o,g,T,a):a?o.setAttributeNS(a,g,T):o.setAttribute(g,T)}}(o[11],E,y,s.value,a,u,g)}function uD(s,o,a,u,g,y){const E=y[o];if(null!==E){const T=u.setInput;for(let x=0;x<E.length;){const F=E[x++],j=E[x++],Y=E[x++];null!==T?u.setInput(a,Y,F,j):a[j]=Y}}}function iA(s,o){let a=null,u=0;for(;u<o.length;){const g=o[u];if(0!==g)if(5!==g){if("number"==typeof g)break;s.hasOwnProperty(g)&&(null===a&&(a=[]),a.push(g,s[g],o[u+1])),u+=2}else u+=2;else u+=4}return a}function sA(s,o,a,u){return new Array(s,!0,!1,o,null,0,u,a,null,null)}function fD(s,o){const a=q(o,s);if(Ge(a)){const u=a[1];80&a[2]?df(u,a,u.template,a[8]):a[5]>0&&Gy(a)}}function Gy(s){for(let u=an(s);null!==u;u=xt(u))for(let g=10;g<u.length;g++){const y=u[g];if(1024&y[2]){const E=y[1];df(E,y,E.template,y[8])}else y[5]>0&&Gy(y)}const a=s[1].components;if(null!==a)for(let u=0;u<a.length;u++){const g=q(a[u],s);Ge(g)&&g[5]>0&&Gy(g)}}function oA(s,o){const a=q(o,s),u=a[1];(function aA(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(u,a),Xc(u,a,a[8])}function Uh(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function zy(s){for(;s;){s[2]|=64;const o=gt(s);if(dc(s)&&!o)return s;s=o}return null}function Tn(s,o,a){const u=o[10];u.begin&&u.begin();try{df(s,o,s.template,a)}catch(g){throw uA(o,g),g}finally{u.end&&u.end()}}function fi(s){!function lA(s){for(let o=0;o<s.components.length;o++){const a=s.components[o],u=bo(a),g=u[1];tD(g,u,g.template,a)}}(s[8])}function $y(s,o,a){_c(0),o(s,a)}const pD=(()=>Promise.resolve(null))();function Wy(s){return s[7]||(s[7]=[])}function um(s){return s.cleanup||(s.cleanup=[])}function uA(s,o){const a=s[9],u=a?a.get(Zc,null):null;u&&u.handleError(o)}function Gh(s,o,a,u,g){for(let y=0;y<a.length;){const E=a[y++],T=a[y++],x=o[E],F=s.data[E];null!==F.setInput?F.setInput(x,g,u,T):x[T]=g}}function qo(s,o,a){const u=io(o,s);!function qr(s,o,a){pr(s)?s.setValue(o,a):o.textContent=a}(s[11],u,a)}function cm(s,o,a){let u=a?s.styles:null,g=a?s.classes:null,y=0;if(null!==o)for(let E=0;E<o.length;E++){const T=o[E];"number"==typeof T?y=T:1==y?g=Ce(g,T):2==y&&(u=Ce(u,T+": "+o[++E]+";"))}a?s.styles=u:s.stylesWithoutHost=u,a?s.classes=g:s.classesWithoutHost=g}const dm=new xr("INJECTOR",-1);class Ys{get(o,a=po){if(a===po){const u=new Error(`NullInjectorError: No provider for ${Se(o)}!`);throw u.name="NullInjectorError",u}return a}}const fm=new xr("Set Injector scope."),$h={},bs={};let Wh;function qh(){return void 0===Wh&&(Wh=new Ys),Wh}function dA(s,o=null,a=null,u){const g=hf(s,o,a,u);return g._resolveInjectorDefTypes(),g}function hf(s,o=null,a=null,u){return new ol(s,a,o||qh(),u)}class ol{constructor(o,a,u,g=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const y=[];a&&ns(a,T=>this.processProvider(T,o,a)),ns([o],T=>this.processInjectorType(T,[],y)),this.records.set(dm,ed(void 0,this));const E=this.records.get(fm);this.scope=null!=E?E.value:null,this.source=g||("object"==typeof o?null:Se(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=po,u=Et.Default){this.assertNotDestroyed();const g=Iu(this),y=Pt(void 0);try{if(!(u&Et.SkipSelf)){let T=this.records.get(o);if(void 0===T){const x=function Zy(s){return"function"==typeof s||"object"==typeof s&&s instanceof xr}(o)&&Fe(o);T=x&&this.injectableDefInScope(x)?ed(al(o),$h):null,this.records.set(o,T)}if(null!=T)return this.hydrate(o,T)}return(u&Et.Self?qh():this.parent).get(o,a=u&Et.Optional&&a===po?null:a)}catch(E){if("NullInjectorError"===E.name){if((E[pa]=E[pa]||[]).unshift(Se(o)),g)throw E;return function Hd(s,o,a,u){const g=s[pa];throw o[Du]&&g.unshift(o[Du]),s.message=function Qa(s,o,a,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let g=Se(o);if(Array.isArray(o))g=o.map(Se).join(" -> ");else if("object"==typeof o){let y=[];for(let E in o)if(o.hasOwnProperty(E)){let T=o[E];y.push(E+":"+("string"==typeof T?JSON.stringify(T):Se(T)))}g=`{${y.join(", ")}}`}return`${a}${u?"("+u+")":""}[${g}]: ${s.replace(Pc,"\n  ")}`}("\n"+s.message,g,a,u),s.ngTokenPath=g,s[pa]=null,s}(E,o,"R3InjectorError",this.source)}throw E}finally{Pt(y),Iu(g)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((u,g)=>o.push(Se(g))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new te(205,!1)}processInjectorType(o,a,u){if(!(o=D(o)))return!1;let g=Ot(o);const y=null==g&&o.ngModule||void 0,E=void 0===y?o:y,T=-1!==u.indexOf(E);if(void 0!==y&&(g=Ot(y)),null==g)return!1;if(null!=g.imports&&!T){let j;u.push(E);try{ns(g.imports,Y=>{this.processInjectorType(Y,a,u)&&(void 0===j&&(j=[]),j.push(Y))})}finally{}if(void 0!==j)for(let Y=0;Y<j.length;Y++){const{ngModule:_e,providers:Ne}=j[Y];ns(Ne,nt=>this.processProvider(nt,_e,Ne||oe))}}this.injectorDefTypes.add(E);const x=Ci(E)||(()=>new E);this.records.set(E,ed(x,$h));const F=g.providers;if(null!=F&&!T){const j=o;ns(F,Y=>this.processProvider(Y,j,F))}return void 0!==y&&void 0!==o.providers}processProvider(o,a,u){let g=Zo(o=D(o))?o:D(o&&o.provide);const y=function Zh(s,o,a){return fA(s)?ed(void 0,s.useValue):ed(hm(s),$h)}(o);if(Zo(o)||!0!==o.multi)this.records.get(g);else{let E=this.records.get(g);E||(E=ed(void 0,$h,!0),E.factory=()=>Su(E.multi),this.records.set(g,E)),g=o,E.multi.push(o)}this.records.set(g,y)}hydrate(o,a){return a.value===$h&&(a.value=bs,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Kl(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=D(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function al(s){const o=Fe(s),a=null!==o?o.factory:Ci(s);if(null!==a)return a;if(s instanceof xr)throw new te(204,!1);if(s instanceof Function)return function is(s){const o=s.length;if(o>0)throw function zs(s,o){const a=[];for(let u=0;u<s;u++)a.push(o);return a}(o,"?"),new te(204,!1);const a=function At(s){const o=s&&(s[on]||s[dn]);if(o){const a=function qe(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new te(204,!1)}function hm(s,o,a){let u;if(Zo(s)){const g=D(s);return Ci(g)||al(g)}if(fA(s))u=()=>D(s.useValue);else if(function gD(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...Su(s.deps||[]));else if(function hA(s){return!(!s||!s.useExisting)}(s))u=()=>ui(D(s.useExisting));else{const g=D(s&&(s.useClass||s.provide));if(!function mD(s){return!!s.deps}(s))return Ci(g)||al(g);u=()=>new g(...Su(s.deps))}return u}function ed(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function fA(s){return null!==s&&"object"==typeof s&&hh in s}function Zo(s){return"function"==typeof s}let As=(()=>{class s{static create(a,u){var g;if(Array.isArray(a))return dA({name:""},u,a,"");{const y=null!==(g=a.name)&&void 0!==g?g:"";return dA({name:y},a.parent,a.providers,y)}}}return s.THROW_IF_NOT_FOUND=po,s.NULL=new Ys,s.\u0275prov=An({token:s,providedIn:"any",factory:()=>ui(dm)}),s.__NG_ELEMENT_ID__=-1,s})();function Wi(s,o){Il(bo(s)[1],gr())}function Yy(s){let o=function DA(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const u=[s];for(;o;){let g;if(vi(s))g=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new te(903,"");g=o.\u0275dir}if(g){if(a){u.push(g);const E=s;E.inputs=mm(s.inputs),E.declaredInputs=mm(s.declaredInputs),E.outputs=mm(s.outputs);const T=g.hostBindings;T&&wD(s,T);const x=g.viewQuery,F=g.contentQueries;if(x&&ED(s,x),F&&IA(s,F),be(s.inputs,g.inputs),be(s.declaredInputs,g.declaredInputs),be(s.outputs,g.outputs),vi(g)&&g.data.animation){const j=s.data;j.animation=(j.animation||[]).concat(g.data.animation)}}const y=g.features;if(y)for(let E=0;E<y.length;E++){const T=y[E];T&&T.ngInherit&&T(s),T===Yy&&(a=!1)}}o=Object.getPrototypeOf(o)}!function TA(s){let o=0,a=null;for(let u=s.length-1;u>=0;u--){const g=s[u];g.hostVars=o+=g.hostVars,g.hostAttrs=mu(g.hostAttrs,a=mu(a,g.hostAttrs))}}(u)}function mm(s){return s===wn?{}:s===oe?[]:s}function ED(s,o){const a=s.viewQuery;s.viewQuery=a?(u,g)=>{o(u,g),a(u,g)}:o}function IA(s,o){const a=s.contentQueries;s.contentQueries=a?(u,g,y)=>{o(u,g,y),a(u,g,y)}:o}function wD(s,o){const a=s.hostBindings;s.hostBindings=a?(u,g)=>{o(u,g),a(u,g)}:o}let ll=null;function Hn(){if(!ll){const s=gn.Symbol;if(s&&s.iterator)ll=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const u=o[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(ll=u)}}}return ll}function Qh(s){return!!ym(s)&&(Array.isArray(s)||!(s instanceof Map)&&Hn()in s)}function ym(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function bi(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function Jy(s,o,a,u){const g=ot();return bi(g,Ls(),o)&&(Dn(),wo(br(),g,s,o,a,u)),Jy}function e_(s,o,a,u,g,y,E,T){const x=ot(),F=Dn(),j=s+20,Y=F.firstCreatePass?function OA(s,o,a,u,g,y,E,T,x){const F=o.consts,j=uf(o,s,4,E||null,Dt(F,T));Uy(o,a,j,Dt(F,x)),Il(o,j);const Y=j.tViews=ff(2,j,u,g,y,o.directiveRegistry,o.pipeRegistry,null,o.schemas,F);return null!==o.queries&&(o.queries.template(o,j),Y.queries=o.queries.embeddedTView(j)),j}(j,F,x,o,a,u,g,y,E):F.data[j];Fi(Y,!1);const _e=x[11].createComment("");sf(F,x,_e,Y),ci(_e,x),Uh(x,x[j]=sA(_e,x,_e,Y)),to(Y)&&nm(F,x,Y),null!=E&&By(x,Y,T)}function eu(s,o=Et.Default){const a=ot();return null===a?ui(s,o):js(gr(),a,D(s),o)}function GA(){throw new Error("invalid")}function sd(s,o,a){const u=ot();return bi(u,Ls(),o)&&Qs(Dn(),br(),u,s,o,u[11],a,!1),sd}function tp(s,o,a,u,g){const E=g?"class":"style";Gh(s,a,o.inputs[E],E,u)}function np(s,o,a,u){const g=ot(),y=Dn(),E=20+s,T=g[11],x=g[E]=zi(T,o,function Od(){return Vt.lFrame.currentNamespace}()),F=y.firstCreatePass?function kD(s,o,a,u,g,y,E){const T=o.consts,F=uf(o,s,2,g,Dt(T,y));return Uy(o,a,F,Dt(T,E)),null!==F.attrs&&cm(F,F.attrs,!1),null!==F.mergedAttrs&&cm(F,F.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,F),F}(E,y,g,0,o,a,u):y.data[E];Fi(F,!0);const j=F.mergedAttrs;null!==j&&Ml(T,x,j);const Y=F.classes;null!==Y&&af(T,x,Y);const _e=F.styles;return null!==_e&&Qg(T,x,_e),64!=(64&F.flags)&&sf(y,g,x,F),0===function or(){return Vt.lFrame.elementDepthCount}()&&ci(x,g),function Pn(){Vt.lFrame.elementDepthCount++}(),to(F)&&(nm(y,g,F),Zb(y,F,g)),null!==u&&By(g,F),np}function rp(){let s=gr();pc()?gc():(s=s.parent,Fi(s,!1));const o=s;!function es(){Vt.lFrame.elementDepthCount--}();const a=Dn();return a.firstCreatePass&&(Il(a,s),ea(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Ld(s){return 0!=(16&s.flags)}(o)&&tp(a,o,ot(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function wg(s){return 0!=(32&s.flags)}(o)&&tp(a,o,ot(),o.stylesWithoutHost,!1),rp}function g_(s,o,a,u){return np(s,o,a,u),rp(),g_}function ws(s,o,a){const u=ot(),g=Dn(),y=s+20,E=g.firstCreatePass?function m_(s,o,a,u,g){const y=o.consts,E=Dt(y,u),T=uf(o,s,8,"ng-container",E);return null!==E&&cm(T,E,!0),Uy(o,a,T,Dt(y,g)),null!==o.queries&&o.queries.elementStart(o,T),T}(y,g,u,o,a):g.data[y];Fi(E,!0);const T=u[y]=u[11].createComment("");return sf(g,u,T,E),ci(T,u),to(E)&&(nm(g,u,E),Zb(g,E,u)),null!=a&&By(u,E),ws}function ip(){let s=gr();const o=Dn();return pc()?gc():(s=s.parent,Fi(s,!1)),o.firstCreatePass&&(Il(o,s),ea(s)&&o.queries.elementEnd(s)),ip}function sp(){return ot()}function bf(s){return!!s&&"function"==typeof s.then}function zA(s){return!!s&&"function"==typeof s.subscribe}const $A=zA;function y_(s,o,a,u){const g=ot(),y=Dn(),E=gr();return function __(s,o,a,u,g,y,E,T){const x=to(u),j=s.firstCreatePass&&um(s),Y=o[8],_e=Wy(o);let Ne=!0;if(3&u.type||T){const Nt=Jr(u,o),Kt=T?T(Nt):Nt,it=_e.length,fn=T?Yn=>T(qn(Yn[u.index])):u.index;if(pr(a)){let Yn=null;if(!T&&x&&(Yn=function Tm(s,o,a,u){const g=s.cleanup;if(null!=g)for(let y=0;y<g.length-1;y+=2){const E=g[y];if(E===a&&g[y+1]===u){const T=o[7],x=g[y+2];return T.length>x?T[x]:null}"string"==typeof E&&(y+=2)}return null}(s,o,g,u.index)),null!==Yn)(Yn.__ngLastListenerFn__||Yn).__ngNextListenerFn__=y,Yn.__ngLastListenerFn__=y,Ne=!1;else{y=Af(u,o,Y,y,!1);const vr=a.listen(Kt,g,y);_e.push(y,vr),j&&j.push(g,fn,it,it+1)}}else y=Af(u,o,Y,y,!0),Kt.addEventListener(g,y,E),_e.push(y),j&&j.push(g,fn,it,E)}else y=Af(u,o,Y,y,!1);const nt=u.outputs;let Ct;if(Ne&&null!==nt&&(Ct=nt[g])){const Nt=Ct.length;if(Nt)for(let Kt=0;Kt<Nt;Kt+=2){const Js=o[Ct[Kt]][Ct[Kt+1]].subscribe(y),Ed=_e.length;_e.push(y,Js),j&&j.push(g,u.index,Ed,-(Ed+1))}}}(y,g,g[11],E,s,o,!!a,u),y_}function b_(s,o,a,u){try{return!1!==a(u)}catch(g){return uA(s,g),!1}}function Af(s,o,a,u,g){return function y(E){if(E===Function)return u;const T=2&s.flags?q(s.index,o):o;0==(32&o[2])&&zy(T);let x=b_(o,0,u,E),F=y.__ngNextListenerFn__;for(;F;)x=b_(o,0,F,E)&&x,F=F.__ngNextListenerFn__;return g&&!1===x&&(E.preventDefault(),E.returnValue=!1),x}}function A_(s=1){return function Fo(s){return(Vt.lFrame.contextLView=function sh(s,o){for(;s>0;)o=o[15],s--;return o}(s,Vt.lFrame.contextLView))[8]}(s)}function eE(s,o,a,u,g){const y=s[a+1],E=null===o;let T=u?ba(y):ju(y),x=!1;for(;0!==T&&(!1===x||E);){const j=s[T+1];FD(s[T],o)&&(x=!0,s[T+1]=u?Sy(j):Lb(j)),T=u?ba(j):ju(j)}x&&(s[a+1]=u?Lb(y):Sy(y))}function FD(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Za(s,o)>=0}const zr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function tE(s){return s.substring(zr.key,zr.keyEnd)}function nE(s,o){const a=zr.textEnd;return a===o?-1:(o=zr.keyEnd=function UD(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,zr.key=o,a),Ef(s,o,a))}function Ef(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function D_(s,o,a){return Ko(s,o,a,!1),D_}function Sm(s,o){return Ko(s,o,null,!0),Sm}function T_(s){!function Ia(s,o,a,u){const g=Dn(),y=Vs(2);g.firstUpdatePass&&cE(g,null,y,u);const E=ot();if(a!==Vn&&bi(E,y,a)){const T=g.data[yi()];if(M_(T,u)&&!uE(g,y)){let x=u?T.classesWithoutHost:T.stylesWithoutHost;null!==x&&(a=Ce(x,a||"")),tp(g,T,E,a,u)}else!function fE(s,o,a,u,g,y,E,T){g===Vn&&(g=oe);let x=0,F=0,j=0<g.length?g[0]:null,Y=0<y.length?y[0]:null;for(;null!==j||null!==Y;){const _e=x<g.length?g[x+1]:void 0,Ne=F<y.length?y[F+1]:void 0;let Ct,nt=null;j===Y?(x+=2,F+=2,_e!==Ne&&(nt=Y,Ct=Ne)):null===Y||null!==j&&j<Y?(x+=2,nt=j):(F+=2,nt=Y,Ct=Ne),null!==nt&&hE(s,o,a,u,nt,Ct,E,T),j=x<g.length?g[x]:null,Y=F<y.length?y[F]:null}}(g,T,E,E[11],E[y+1],E[y+1]=function zD(s,o,a){if(null==a||""===a)return oe;const u=[],g=rs(a);if(Array.isArray(g))for(let y=0;y<g.length;y++)s(u,g[y],!0);else if("object"==typeof g)for(const y in g)g.hasOwnProperty(y)&&s(u,y,g[y]);else"string"==typeof g&&o(u,g);return u}(s,o,a),u,y)}}(Ti,Ta,s,!0)}function Ta(s,o){for(let a=function VD(s){return function iE(s){zr.key=0,zr.keyEnd=0,zr.value=0,zr.valueEnd=0,zr.textEnd=s.length}(s),nE(s,Ef(s,0,zr.textEnd))}(o);a>=0;a=nE(o,a))Ti(s,tE(o),!0)}function Ko(s,o,a,u){const g=ot(),y=Dn(),E=Vs(2);y.firstUpdatePass&&cE(y,s,E,u),o!==Vn&&bi(g,E,o)&&hE(y,y.data[yi()],g,g[11],s,g[E+1]=function $D(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=Se(rs(s)))),s}(o,a),u,E)}function uE(s,o){return o>=s.expandoStartIndex}function cE(s,o,a,u){const g=s.data;if(null===g[a+1]){const y=g[yi()],E=uE(s,a);M_(y,u)&&null===o&&!E&&(o=!1),o=function jD(s,o,a,u){const g=Cl(s);let y=u?o.residualClasses:o.residualStyles;if(null===g)0===(u?o.classBindings:o.styleBindings)&&(a=up(a=S_(null,s,o,a,u),o.attrs,u),y=null);else{const E=o.directiveStylingLast;if(-1===E||s[E]!==g)if(a=S_(g,s,o,a,u),null===y){let x=function dE(s,o,a){const u=a?o.classBindings:o.styleBindings;if(0!==ju(u))return s[ba(u)]}(s,o,u);void 0!==x&&Array.isArray(x)&&(x=S_(null,s,o,x[1],u),x=up(x,o.attrs,u),function GD(s,o,a,u){s[ba(a?o.classBindings:o.styleBindings)]=u}(s,o,u,x))}else y=function I_(s,o,a){let u;const g=o.directiveEnd;for(let y=1+o.directiveStylingLast;y<g;y++)u=up(u,s[y].hostAttrs,a);return up(u,o.attrs,a)}(s,o,u)}return void 0!==y&&(u?o.residualClasses=y:o.residualStyles=y),a}(g,y,o,u),function PD(s,o,a,u,g,y){let E=y?o.classBindings:o.styleBindings,T=ba(E),x=ju(E);s[u]=a;let j,F=!1;if(Array.isArray(a)){const Y=a;j=Y[1],(null===j||Za(Y,j)>0)&&(F=!0)}else j=a;if(g)if(0!==x){const _e=ba(s[T+1]);s[u+1]=Yc(_e,T),0!==_e&&(s[_e+1]=lf(s[_e+1],u)),s[T+1]=function zC(s,o){return 131071&s|o<<17}(s[T+1],u)}else s[u+1]=Yc(T,0),0!==T&&(s[T+1]=lf(s[T+1],u)),T=u;else s[u+1]=Yc(x,0),0===T?T=u:s[x+1]=lf(s[x+1],u),x=u;F&&(s[u+1]=Lb(s[u+1])),eE(s,j,u,!0),eE(s,j,u,!1),function lp(s,o,a,u,g){const y=g?s.residualClasses:s.residualStyles;null!=y&&"string"==typeof o&&Za(y,o)>=0&&(a[u+1]=Sy(a[u+1]))}(o,j,s,u,y),E=Yc(T,x),y?o.classBindings=E:o.styleBindings=E}(g,y,o,a,E,u)}}function S_(s,o,a,u,g){let y=null;const E=a.directiveEnd;let T=a.directiveStylingLast;for(-1===T?T=a.directiveStart:T++;T<E&&(y=o[T],u=up(u,y.hostAttrs,g),y!==s);)T++;return null!==s&&(a.directiveStylingLast=T),u}function up(s,o,a){const u=a?1:2;let g=-1;if(null!==o)for(let y=0;y<o.length;y++){const E=o[y];"number"==typeof E?g=E:g===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Ti(s,E,!!a||o[++y]))}return void 0===s?null:s}function hE(s,o,a,u,g,y,E,T){if(!(3&o.type))return;const x=s.data,F=x[T+1];xm(function Vb(s){return 1==(1&s)}(F)?pE(x,o,a,g,ju(F),E):void 0)||(xm(y)||function Fb(s){return 2==(2&s)}(F)&&(y=pE(x,null,a,g,T,E)),function Qc(s,o,a,u,g){const y=pr(s);if(o)g?y?s.addClass(a,u):a.classList.add(u):y?s.removeClass(a,u):a.classList.remove(u);else{let E=-1===u.indexOf("-")?void 0:z.DashCase;if(null==g)y?s.removeStyle(a,u,E):a.style.removeProperty(u);else{const T="string"==typeof g&&g.endsWith("!important");T&&(g=g.slice(0,-10),E|=z.Important),y?s.setStyle(a,u,g,E):a.style.setProperty(u,g,T?"important":"")}}}(u,E,io(yi(),a),g,y))}function pE(s,o,a,u,g,y){const E=null===o;let T;for(;g>0;){const x=s[g],F=Array.isArray(x),j=F?x[1]:x,Y=null===j;let _e=a[g+1];_e===Vn&&(_e=Y?oe:void 0);let Ne=Y?xc(_e,u):j===u?_e:void 0;if(F&&!xm(Ne)&&(Ne=xc(x,u)),xm(Ne)&&(T=Ne,E))return T;const nt=s[g+1];g=E?ba(nt):ju(nt)}if(null!==o){let x=y?o.residualClasses:o.residualStyles;null!=x&&(T=xc(x,u))}return T}function xm(s){return void 0!==s}function M_(s,o){return 0!=(s.flags&(o?16:32))}function gE(s,o=""){const a=ot(),u=Dn(),g=s+20,y=u.firstCreatePass?uf(u,g,1,o,null):u.data[g],E=a[g]=function di(s,o){return pr(s)?s.createText(o):s.createTextNode(o)}(a[11],o);sf(u,a,E,y),Fi(y,!1)}function qi(s,o,a){const u=ot(),g=function Jl(s,o,a,u){return bi(s,Ls(),a)?o+ae(a)+u:Vn}(u,s,o,a);return g!==Vn&&qo(u,yi(),g),qi}function km(s,o,a){const u=ot();if(bi(u,Ls(),o)){const y=Dn(),E=br();Qs(y,E,u,s,o,function jh(s,o,a){return(null===s||vi(s))&&(a=function aa(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(a[o.index])),a[11]}(Cl(y.data),E,u),a,!0)}return km}const ld=void 0;var rT=["en",[["a","p"],["AM","PM"],ld],[["AM","PM"],ld,ld],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ld,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ld,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ld,"{1} 'at' {0}",ld],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function nT(s){const a=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let wf={};function P_(s){const o=function sT(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=RE(o);if(a)return a;const u=o.split("-")[0];if(a=RE(u),a)return a;if("en"===u)return rT;throw new Error(`Missing locale data for the locale "${s}".`)}function cp(s){return P_(s)[pn.PluralCase]}function RE(s){return s in wf||(wf[s]=gn.ng&&gn.ng.common&&gn.ng.common.locales&&gn.ng.common.locales[s]),wf[s]}var pn=(()=>((pn=pn||{})[pn.LocaleId=0]="LocaleId",pn[pn.DayPeriodsFormat=1]="DayPeriodsFormat",pn[pn.DayPeriodsStandalone=2]="DayPeriodsStandalone",pn[pn.DaysFormat=3]="DaysFormat",pn[pn.DaysStandalone=4]="DaysStandalone",pn[pn.MonthsFormat=5]="MonthsFormat",pn[pn.MonthsStandalone=6]="MonthsStandalone",pn[pn.Eras=7]="Eras",pn[pn.FirstDayOfWeek=8]="FirstDayOfWeek",pn[pn.WeekendRange=9]="WeekendRange",pn[pn.DateFormat=10]="DateFormat",pn[pn.TimeFormat=11]="TimeFormat",pn[pn.DateTimeFormat=12]="DateTimeFormat",pn[pn.NumberSymbols=13]="NumberSymbols",pn[pn.NumberFormats=14]="NumberFormats",pn[pn.CurrencyCode=15]="CurrencyCode",pn[pn.CurrencySymbol=16]="CurrencySymbol",pn[pn.CurrencyName=17]="CurrencyName",pn[pn.Currencies=18]="Currencies",pn[pn.Directionality=19]="Directionality",pn[pn.PluralCase=20]="PluralCase",pn[pn.ExtraData=21]="ExtraData",pn))();const rt="en-US";let OE=rt;function Gm(s,o,a,u,g){if(s=D(s),Array.isArray(s))for(let y=0;y<s.length;y++)Gm(s[y],o,a,u,g);else{const y=Dn(),E=ot();let T=Zo(s)?s:D(s.provide),x=hm(s);const F=gr(),j=1048575&F.providerIndexes,Y=F.directiveStart,_e=F.providerIndexes>>20;if(Zo(s)||!s.multi){const Ne=new $a(x,g,eu),nt=Tf(T,o,g?j:j+_e,Y);-1===nt?(vu(_i(F,E),y,T),W_(y,s,o.length),o.push(T),F.directiveStart++,F.directiveEnd++,g&&(F.providerIndexes+=1048576),a.push(Ne),E.push(Ne)):(a[nt]=Ne,E[nt]=Ne)}else{const Ne=Tf(T,o,j+_e,Y),nt=Tf(T,o,j,j+_e),Ct=Ne>=0&&a[Ne],Nt=nt>=0&&a[nt];if(g&&!Nt||!g&&!Ct){vu(_i(F,E),y,T);const Kt=function DT(s,o,a,u,g){const y=new $a(s,a,eu);return y.multi=[],y.index=o,y.componentProviders=0,q_(y,g,u&&!a),y}(g?K_:Z_,a.length,g,u,x);!g&&Nt&&(a[nt].providerFactory=Kt),W_(y,s,o.length,0),o.push(T),F.directiveStart++,F.directiveEnd++,g&&(F.providerIndexes+=1048576),a.push(Kt),E.push(Kt)}else W_(y,s,Ne>-1?Ne:nt,q_(a[g?nt:Ne],x,!g&&u));!g&&u&&Nt&&a[nt].componentProviders++}}}function W_(s,o,a,u){const g=Zo(o),y=function Co(s){return!!s.useClass}(o);if(g||y){const x=(y?D(o.useClass):o).prototype.ngOnDestroy;if(x){const F=s.destroyHooks||(s.destroyHooks=[]);if(!g&&o.multi){const j=F.indexOf(a);-1===j?F.push(a,[u,x]):F[j+1].push(u,x)}else F.push(a,x)}}}function q_(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function Tf(s,o,a,u){for(let g=a;g<u;g++)if(o[g]===s)return g;return-1}function Z_(s,o,a,u){return vp(this.multi,[])}function K_(s,o,a,u){const g=this.multi;let y;if(this.providerFactory){const E=this.providerFactory.componentProviders,T=kl(a,a[1],this.providerFactory.index,u);y=T.slice(0,E),vp(g,y);for(let x=E;x<T.length;x++)y.push(T[x])}else y=[],vp(g,y);return y}function vp(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function nw(s,o=[]){return a=>{a.providersResolver=(u,g)=>function $_(s,o,a){const u=Dn();if(u.firstCreatePass){const g=vi(s);Gm(a,u.data,u.blueprint,g,!0),Gm(o,u.data,u.blueprint,g,!1)}}(u,g?g(s):s,o)}}class Y_{}class yp{resolveComponentFactory(o){throw function TT(s){const o=Error(`No component factory found for ${Se(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let zm=(()=>{class s{}return s.NULL=new yp,s})();function _p(){return If(gr(),ot())}function If(s,o){return new bp(Jr(s,o))}let bp=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=_p,s})();function $m(s){return s instanceof bp?s.nativeElement:s}class Wm{}let X_=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function t0(){const s=ot(),a=q(gr().index,s);return function e0(s){return s[11]}(oi(a)?a:s)}(),s})(),iw=(()=>{class s{}return s.\u0275prov=An({token:s,providedIn:"root",factory:()=>null}),s})();class n0{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const sw=new n0("13.3.3"),qm={};function Ap(s,o,a,u,g=!1){for(;null!==a;){const y=o[a.index];if(null!==y&&u.push(qn(y)),ai(y))for(let T=10;T<y.length;T++){const x=y[T],F=x[1].firstChild;null!==F&&Ap(x[1],x,F,u)}const E=a.type;if(8&E)Ap(s,o,a.child,u);else if(32&E){const T=xe(a,o);let x;for(;x=T();)u.push(x)}else if(16&E){const T=_y(o,a);if(Array.isArray(T))u.push(...T);else{const x=gt(o[16]);Ap(x[1],x,T,u,!0)}}a=g?a.projectionNext:a.next}return u}class dd{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return Ap(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(ai(o)){const a=o[8],u=a?a.indexOf(this):-1;u>-1&&(Th(o,u),wu(a,u))}this._attachedToViewContainer=!1}Wg(this._lView[1],this._lView)}onDestroy(o){im(this._lView[1],this._lView,null,o)}markForCheck(){zy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Tn(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Ea(s,o,a){Ha(!0);try{Tn(s,o,a)}finally{Ha(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new te(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function rf(s,o){Uu(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new te(902,"");this._appRef=o}}class ow extends dd{constructor(o){super(o),this._view=o}detectChanges(){fi(this._view)}checkNoChanges(){!function Hh(s){Ha(!0);try{fi(s)}finally{Ha(!1)}}(this._view)}get context(){return null}}class aw extends zm{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=jt(o);return new hi(a,this.ngModule)}}function Zm(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class hi extends Y_{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function jC(s){return s.map(Ty).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return Zm(this.componentDef.inputs)}get outputs(){return Zm(this.componentDef.outputs)}create(o,a,u,g){const y=(g=g||this.ngModule)?function s0(s,o){return{get:(a,u,g)=>{const y=s.get(a,qm,g);return y!==qm||u===qm?y:o.get(a,u,g)}}}(o,g.injector):o,E=y.get(Wm,Pi),T=y.get(iw,null),x=E.createRenderer(null,this.componentDef),F=this.componentDef.selectors[0][0]||"div",j=u?function Kb(s,o,a){if(pr(s))return s.selectRootElement(o,a===un.ShadowDom);let u="string"==typeof o?s.querySelector(o):o;return u.textContent="",u}(x,u,this.componentDef.encapsulation):zi(E.createRenderer(null,this.componentDef),F,function r0(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(F)),Y=this.componentDef.onPush?576:528,_e=function AD(s,o){return{components:[],scheduler:s||dy,clean:pD,playerHandler:o||null,flags:0}}(),Ne=ff(0,null,null,1,0,null,null,null,null,null),nt=Lh(null,Ne,_e,Y,null,null,E,x,T,y);let Ct,Nt;za(nt);try{const Kt=function Ky(s,o,a,u,g,y){const E=a[1];a[20]=s;const x=uf(E,20,2,"#host",null),F=x.mergedAttrs=o.hostAttrs;null!==F&&(cm(x,F,!0),null!==s&&(Ml(g,s,F),null!==x.classes&&af(g,s,x.classes),null!==x.styles&&Qg(g,s,x.styles)));const j=u.createRenderer(s,o),Y=Lh(a,Eo(o),null,o.onPush?64:16,a[20],x,u,j,y||null,null);return E.firstCreatePass&&(vu(_i(x,a),E,o.type),jy(E,x),tA(x,a.length,1)),Uh(a,Y),a[20]=Y}(j,this.componentDef,nt,E,x);if(j)if(u)Ml(x,j,["ng-version",sw.full]);else{const{attrs:it,classes:fn}=function GC(s){const o=[],a=[];let u=1,g=2;for(;u<s.length;){let y=s[u];if("string"==typeof y)2===g?""!==y&&o.push(y,s[++u]):8===g&&a.push(y);else{if(!$i(g))break;g=y}u++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);it&&Ml(x,j,it),fn&&fn.length>0&&af(x,j,fn.join(" "))}if(Nt=la(Ne,20),void 0!==a){const it=Nt.projection=[];for(let fn=0;fn<this.ngContentSelectors.length;fn++){const Yn=a[fn];it.push(null!=Yn?Array.from(Yn):null)}}Ct=function Qy(s,o,a,u,g){const y=a[1],E=function eA(s,o,a){const u=gr();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),nA(s,u,o,cf(s,o,1,null),a));const g=kl(o,s,u.directiveStart,u);ci(g,o);const y=Jr(u,o);return y&&ci(y,o),g}(y,a,o);if(u.components.push(E),s[8]=E,g&&g.forEach(x=>x(E,o)),o.contentQueries){const x=gr();o.contentQueries(1,E,x.directiveStart)}const T=gr();return!y.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Bs(T.index),Hy(a[1],T,0,T.directiveStart,T.directiveEnd,o),am(o,E)),E}(Kt,this.componentDef,nt,_e,[Wi]),Xc(Ne,nt,null)}finally{Tl()}return new a0(this.componentType,Ct,If(Nt,nt),nt,Nt)}}class a0 extends class Q_{}{constructor(o,a,u,g,y){super(),this.location=u,this._rootLView=g,this._tNode=y,this.instance=a,this.hostView=this.changeDetectorRef=new ow(g),this.componentType=o}get injector(){return new Uo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class Sf{}class l0{}const Mf=new Map;class lw extends Sf{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new aw(this);const u=Ft(o);this._bootstrapComponents=v(u.bootstrap),this._r3Injector=hf(o,a,[{provide:Sf,useValue:this},{provide:zm,useValue:this.componentFactoryResolver}],Se(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=As.THROW_IF_NOT_FOUND,u=Et.Default){return o===As||o===Sf||o===dm?this:this._r3Injector.get(o,a,u)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class xf extends l0{constructor(o){super(),this.moduleType=o,null!==Ft(o)&&function u0(s){const o=new Set;!function a(u){const g=Ft(u,!0),y=g.id;null!==y&&(function Km(s,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${s} - ${Se(o)} vs ${Se(o.name)}`)}(y,Mf.get(y),u),Mf.set(y,u));const E=v(g.imports);for(const T of E)o.has(T)||(o.add(T),a(T))}(s)}(o)}create(o){return new lw(this.moduleType,o)}}function fd(s,o,a,u,g,y){const E=o+a;return bi(s,E,g)?function Ca(s,o,a){return s[o]=a}(s,E+1,y?u.call(y,g):u(g)):function wp(s,o){const a=s[o];return a===Vn?void 0:a}(s,E+1)}function Cp(s,o){const a=Dn();let u;const g=s+20;a.firstCreatePass?(u=function gw(s,o){if(o)for(let a=o.length-1;a>=0;a--){const u=o[a];if(s===u.name)return u}}(o,a.pipeRegistry),a.data[g]=u,u.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(g,u.onDestroy)):u=a.data[g];const y=u.factory||(u.factory=Ci(u.type)),E=Pt(eu);try{const T=Wa(!1),x=y();return Wa(T),function DD(s,o,a,u){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=u}(a,ot(),g,x),x}finally{Pt(E)}}function Rf(s,o,a){const u=s+20,g=ot(),y=function Z(s,o){return s[o]}(g,u);return function Qu(s,o){return s[1].data[o].pure}(g,u)?fd(g,function Xr(){const s=Vt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}(),o,y.transform,a,y):y.transform(a)}function Tp(s){return o=>{setTimeout(s,void 0,o)}}const Sa=class yw extends h.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,u){var g,y,E;let T=o,x=a||(()=>null),F=u;if(o&&"object"==typeof o){const Y=o;T=null===(g=Y.next)||void 0===g?void 0:g.bind(Y),x=null===(y=Y.error)||void 0===y?void 0:y.bind(Y),F=null===(E=Y.complete)||void 0===E?void 0:E.bind(Y)}this.__isAsync&&(x=Tp(x),T&&(T=Tp(T)),F&&(F=Tp(F)));const j=super.subscribe({next:T,error:x,complete:F});return o instanceof k.w0&&o.add(j),j}};function _w(){return this._results[Hn()]()}class hd{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Hn(),u=hd.prototype;u[a]||(u[a]=_w)}get changes(){return this._changes||(this._changes=new Sa)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const u=this;u.dirty=!1;const g=Hi(o);(this._changesDetected=!function Mc(s,o,a){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let g=s[u],y=o[u];if(a&&(g=a(g),y=a(y)),y!==g)return!1}return!0}(u._results,g,a))&&(u._results=g,u.length=g.length,u.last=g[this.length-1],u.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let pd=(()=>{class s{}return s.__NG_ELEMENT_ID__=Jm,s})();const h0=pd,p0=class extends h0{constructor(o,a,u){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(o){const a=this._declarationTContainer.tViews,u=Lh(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(u[19]=y.createEmbeddedView(a)),Xc(a,u,o),new dd(u)}};function Jm(){return Yu(gr(),ot())}function Yu(s,o){return 4&s.type?new p0(o,s,If(s,o)):null}let Ip=(()=>{class s{}return s.__NG_ELEMENT_ID__=RT,s})();function RT(){return m0(gr(),ot())}const g0=Ip,Sp=class extends g0{constructor(o,a,u){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=u}get element(){return If(this._hostTNode,this._hostLView)}get injector(){return new Uo(this._hostTNode,this._hostLView)}get parentInjector(){const o=Hs(this._hostTNode,this._hostLView);if(lo(o)){const a=Gr(o,this._hostLView),u=uo(o);return new Uo(a[1].data[u+8],a)}return new Uo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Xm(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,u){const g=o.createEmbeddedView(a||{});return this.insert(g,u),g}createComponent(o,a,u,g,y){const E=o&&!function Ui(s){return"function"==typeof s}(o);let T;if(E)T=a;else{const Y=a||{};T=Y.index,u=Y.injector,g=Y.projectableNodes,y=Y.ngModuleRef}const x=E?o:new hi(jt(o)),F=u||this.parentInjector;if(!y&&null==x.ngModule){const _e=(E?F:this.parentInjector).get(Sf,null);_e&&(y=_e)}const j=x.create(F,g,void 0,y);return this.insert(j.hostView,T),j}insert(o,a){const u=o._lView,g=u[1];if(function yt(s){return ai(s[3])}(u)){const j=this.indexOf(o);if(-1!==j)this.detach(j);else{const Y=u[3],_e=new Sp(Y,Y[6],Y[3]);_e.detach(_e.indexOf(o))}}const y=this._adjustIndex(a),E=this._lContainer;!function _a(s,o,a,u){const g=10+u,y=a.length;u>0&&(a[g-1][4]=o),u<y-10?(o[4]=a[g],ho(a,10+u,o)):(a.push(o),o[4]=null),o[3]=a;const E=o[17];null!==E&&a!==E&&function $g(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(E,o);const T=o[19];null!==T&&T.insertView(s),o[2]|=128}(g,u,E,y);const T=by(y,E),x=u[11],F=Ih(x,E[7]);return null!==F&&function Zs(s,o,a,u,g,y){u[0]=g,u[6]=o,Uu(s,u,a,1,g,y)}(g,E[6],x,u,F,T),o.attachToViewContainerRef(),ho(ev(E),y,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Xm(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),u=Th(this._lContainer,a);u&&(wu(ev(this._lContainer),a),Wg(u[1],u))}detach(o){const a=this._adjustIndex(o,-1),u=Th(this._lContainer,a);return u&&null!=wu(ev(this._lContainer),a)?new dd(u):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function Xm(s){return s[8]}function ev(s){return s[8]||(s[8]=[])}function m0(s,o){let a;const u=o[s.index];if(ai(u))a=u;else{let g;if(8&s.type)g=qn(u);else{const y=o[11];g=y.createComment("");const E=Jr(s,o);Zl(y,Ih(y,E),g,function Sb(s,o){return pr(s)?s.nextSibling(o):o.nextSibling}(y,E),!1)}o[s.index]=a=sA(u,o,g,s),Uh(o,a)}return new Sp(a,s,o)}class nv{constructor(o){this.queryList=o,this.matches=null}clone(){return new nv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Nf{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const u=null!==o.contentQueries?o.contentQueries[0]:a.length,g=[];for(let y=0;y<u;y++){const E=a.getByIndex(y);g.push(this.queries[E.indexInDeclarationView].clone())}return new Nf(g)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Np(o,a).matches&&this.queries[a].setDirty()}}class kf{constructor(o,a,u=null){this.predicate=o,this.flags=a,this.read=u}}class ru{constructor(o=[]){this.queries=o}elementStart(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let u=0;u<this.length;u++){const g=null!==a?a.length:0,y=this.getByIndex(u).embeddedTView(o,g);y&&(y.indexInDeclarationView=u,null!==a?a.push(y):a=[y])}return null!==a?new ru(a):null}template(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Mp{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Mp(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let g=0;g<u.length;g++){const y=u[g];this.matchTNodeWithReadOption(o,a,kT(a,y)),this.matchTNodeWithReadOption(o,a,yu(a,o,y,!1,!1))}else u===pd?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,yu(a,o,u,!1,!1))}matchTNodeWithReadOption(o,a,u){if(null!==u){const g=this.metadata.read;if(null!==g)if(g===bp||g===Ip||g===pd&&4&a.type)this.addMatch(a.index,-2);else{const y=yu(a,o,g,!1,!1);null!==y&&this.addMatch(a.index,y)}else this.addMatch(a.index,u)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function kT(s,o){const a=s.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===o)return a[u+1];return null}function Of(s,o,a,u){return-1===a?function v0(s,o){return 11&s.type?If(s,o):4&s.type?Yu(s,o):null}(o,s):-2===a?function y0(s,o,a){return a===bp?If(o,s):a===pd?Yu(o,s):a===Ip?m0(o,s):void 0}(s,o,u):kl(s,s[1],a,o)}function Ju(s,o,a,u){const g=o[19].queries[u];if(null===g.matches){const y=s.data,E=a.matches,T=[];for(let x=0;x<E.length;x+=2){const F=E[x];T.push(F<0?null:Of(o,y[F],E[x+1],a.metadata.read))}g.matches=T}return g.matches}function rv(s,o,a,u){const g=s.queries.getByIndex(a),y=g.matches;if(null!==y){const E=Ju(s,o,g,a);for(let T=0;T<y.length;T+=2){const x=y[T];if(x>0)u.push(E[T/2]);else{const F=y[T+1],j=o[-x];for(let Y=10;Y<j.length;Y++){const _e=j[Y];_e[17]===_e[3]&&rv(_e[1],_e,F,u)}if(null!==j[9]){const Y=j[9];for(let _e=0;_e<Y.length;_e++){const Ne=Y[_e];rv(Ne[1],Ne,F,u)}}}}}return u}function Aw(s){const o=ot(),a=Dn(),u=yc();_c(u+1);const g=Np(a,u);if(s.dirty&&Ee(o)===(2==(2&g.metadata.flags))){if(null===g.matches)s.reset([]);else{const y=g.crossesNgTemplate?rv(a,o,u,[]):Ju(a,o,g,u);s.reset(y,$m),s.notifyOnChanges()}return!0}return!1}function dl(s,o,a,u){const g=Dn();if(g.firstCreatePass){const y=gr();(function _0(s,o,a){null===s.queries&&(s.queries=new ru),s.queries.track(new Mp(o,a))})(g,new kf(o,a,u),y.index),function Vr(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(g,s),2==(2&a)&&(g.staticContentQueries=!0)}!function Rp(s,o,a){const u=new hd(4==(4&a));im(s,o,u,u.destroy),null===o[19]&&(o[19]=new Nf),o[19].queries.push(new nv(u))}(g,ot(),a)}function xp(){return function iv(s,o){return s[19].queries[o].queryList}(ot(),yc())}function Np(s,o){return s.queries.getByIndex(o)}function Vf(...s){}const M0=new xr("Application Initializer");let Bp=(()=>{class s{constructor(a){this.appInits=a,this.resolve=Vf,this.reject=Vf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,g)=>{this.resolve=u,this.reject=g})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let g=0;g<this.appInits.length;g++){const y=this.appInits[g]();if(bf(y))a.push(y);else if($A(y)){const E=new Promise((T,x)=>{y.subscribe({complete:T,error:x})});a.push(E)}}Promise.all(a).then(()=>{u()}).catch(g=>{this.reject(g)}),0===a.length&&u(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(ui(M0,8))},s.\u0275prov=An({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Up=new xr("AppId",{providedIn:"root",factory:function Nw(){return`${vd()}${vd()}${vd()}`}});function vd(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const x0=new xr("Platform Initializer"),kw=new xr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),fv=new xr("appBootstrapListener");let Pw=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=An({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const pv=new xr("LocaleId",{providedIn:"root",factory:()=>ph(pv,Et.Optional|Et.SkipSelf)||function hv(){return"undefined"!=typeof $localize&&$localize.locale||rt}()}),Fw=new xr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Lw{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let Vw=(()=>{class s{compileModuleSync(a){return new xf(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),y=v(Ft(a).declarations).reduce((E,T)=>{const x=jt(T);return x&&E.push(new hi(x)),E},[]);return new Lw(u,y)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=An({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Bw=(()=>Promise.resolve(0))();function mv(s){"undefined"==typeof Zone?Bw.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Ma{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Sa(!1),this.onMicrotaskEmpty=new Sa(!1),this.onStable=new Sa(!1),this.onError=new Sa(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!u&&a,g.shouldCoalesceRunChangeDetection=u,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function Uf(){let s=gn.requestAnimationFrame,o=gn.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function JT(s){const o=()=>{!function YT(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(gn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,vv(s),s.isCheckStableRunning=!0,Hp(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),vv(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,g,y,E,T)=>{try{return Uw(s),a.invokeTask(g,y,E,T)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||s.shouldCoalesceRunChangeDetection)&&o(),jp(s)}},onInvoke:(a,u,g,y,E,T,x)=>{try{return Uw(s),a.invoke(g,y,E,T,x)}finally{s.shouldCoalesceRunChangeDetection&&o(),jp(s)}},onHasTask:(a,u,g,y)=>{a.hasTask(g,y),u===g&&("microTask"==y.change?(s._hasPendingMicrotasks=y.microTask,vv(s),Hp(s)):"macroTask"==y.change&&(s.hasPendingMacrotasks=y.macroTask))},onHandleError:(a,u,g,y)=>(a.handleError(g,y),s.runOutsideAngular(()=>s.onError.emit(y)),!1)})}(g)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ma.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ma.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,u){return this._inner.run(o,a,u)}runTask(o,a,u,g){const y=this._inner,E=y.scheduleEventTask("NgZoneEvent: "+g,o,QT,Vf,Vf);try{return y.runTask(E,a,u)}finally{y.cancelTask(E)}}runGuarded(o,a,u){return this._inner.runGuarded(o,a,u)}runOutsideAngular(o){return this._outer.run(o)}}const QT={};function Hp(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function vv(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Uw(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function jp(s){s._nesting--,Hp(s)}class XT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Sa,this.onMicrotaskEmpty=new Sa,this.onStable=new Sa,this.onError=new Sa}run(o,a,u){return o.apply(a,u)}runGuarded(o,a,u){return o.apply(a,u)}runOutsideAngular(o){return o()}runTask(o,a,u,g){return o.apply(a,u)}}let R0=(()=>{class s{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ma.assertNotInAngularZone(),mv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())mv(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,g){let y=-1;u&&u>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==y),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:y,updateCb:g})}whenStable(a,u,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,u,g){return[]}}return s.\u0275fac=function(a){return new(a||s)(ui(Ma))},s.\u0275prov=An({token:s,factory:s.\u0275fac}),s})(),Ki=(()=>{class s{constructor(){this._applications=new Map,Gp.addToWindow(this)}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return Gp.findTestabilityInTree(this,a,u)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=An({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();class Hf{addToWindow(o){}findTestabilityInTree(o,a,u){return null}}function tc(s){Gp=s}let xa,Gp=new Hf;const yv=new xr("AllowMultipleToken");class en{constructor(o,a){this.name=o,this.token=a}}function Hw(s,o,a=[]){const u=`Platform: ${o}`,g=new xr(u);return(y=[])=>{let E=pt();if(!E||E.injector.get(yv,!1))if(s)s(a.concat(y).concat({provide:g,useValue:!0}));else{const T=a.concat(y).concat({provide:g,useValue:!0},{provide:fm,useValue:"platform"});!function Mn(s){if(xa&&!xa.destroyed&&!xa.injector.get(yv,!1))throw new te(400,"");xa=s.get(Mi);const o=s.get(x0,null);o&&o.forEach(a=>a())}(As.create({providers:T,name:u}))}return function Ut(s){const o=pt();if(!o)throw new te(401,"");return o}()}}function pt(){return xa&&!xa.destroyed?xa:null}let Mi=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const T=function jw(s,o){let a;return a="noop"===s?new XT:("zone.js"===s?void 0:s)||new Ma({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),x=[{provide:Ma,useValue:T}];return T.run(()=>{const F=As.create({providers:x,parent:this.injector,name:a.moduleType.name}),j=a.create(F),Y=j.injector.get(Zc,null);if(!Y)throw new te(402,"");return T.runOutsideAngular(()=>{const _e=T.onError.subscribe({next:Ne=>{Y.handleError(Ne)}});j.onDestroy(()=>{k0(this._modules,j),_e.unsubscribe()})}),function eI(s,o,a){try{const u=a();return bf(u)?u.catch(g=>{throw o.runOutsideAngular(()=>s.handleError(g)),g}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(Y,T,()=>{const _e=j.injector.get(Bp);return _e.runInitializers(),_e.donePromise.then(()=>(function aT(s){St(s,"Expected localeId to be defined"),"string"==typeof s&&(OE=s.toLowerCase().replace(/_/g,"-"))}(j.injector.get(pv,rt)||rt),this._moduleDoBootstrap(j),j))})})}bootstrapModule(a,u=[]){const g=Gw({},u);return function Tt(s,o,a){const u=new xf(a);return Promise.resolve(u)}(0,0,a).then(y=>this.bootstrapModuleFactory(y,g))}_moduleDoBootstrap(a){const u=a.injector.get(N0);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(g=>u.bootstrap(g));else{if(!a.instance.ngDoBootstrap)throw new te(403,"");a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new te(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(ui(As))},s.\u0275prov=An({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Gw(s,o){return Array.isArray(o)?o.reduce(Gw,s):Object.assign(Object.assign({},s),o)}let N0=(()=>{class s{constructor(a,u,g,y){this._zone=a,this._injector=u,this._exceptionHandler=g,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new R.y(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),T=new R.y(x=>{let F;this._zone.runOutsideAngular(()=>{F=this._zone.onStable.subscribe(()=>{Ma.assertNotInAngularZone(),mv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const j=this._zone.onUnstable.subscribe(()=>{Ma.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{F.unsubscribe(),j.unsubscribe()}});this.isStable=(0,G.T)(E,T.pipe((0,ee.B)()))}bootstrap(a,u){if(!this._initStatus.done)throw new te(405,"");let g;g=a instanceof Y_?a:this._injector.get(zm).resolveComponentFactory(a),this.componentTypes.push(g.componentType);const y=function zp(s){return s.isBoundToModule}(g)?void 0:this._injector.get(Sf),T=g.create(As.NULL,[],u||g.selector,y),x=T.location.nativeElement,F=T.injector.get(R0,null),j=F&&T.injector.get(Ki);return F&&j&&j.registerApplication(x,F),T.onDestroy(()=>{this.detachView(T.hostView),k0(this.components,T),j&&j.unregisterApplication(x)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new te(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;k0(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(fv,[]).concat(this._bootstrapListeners).forEach(g=>g(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(a){return new(a||s)(ui(Ma),ui(As),ui(Zc),ui(Bp))},s.\u0275prov=An({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function k0(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let Ww=!0,tI=!1;function Do(){return tI=!0,Ww}function nI(){if(tI)throw new Error("Cannot enable prod mode after platform setup.");Ww=!1}let qw=(()=>{class s{}return s.__NG_ELEMENT_ID__=ri,s})();function ri(s){return function _n(s,o,a){if(No(s)&&!a){const u=q(s.index,o);return new dd(u,u)}return 47&s.type?new dd(o[16],o):null}(gr(),ot(),16==(16&s))}class kt{constructor(){}supports(o){return Qh(o)}create(o){return new Cv(o)}}const rc=(s,o)=>o;class Cv{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||rc}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,u=this._removalsHead,g=0,y=null;for(;a||u;){const E=!u||a&&a.currentIndex<ou(u,g,y)?a:u,T=ou(E,g,y),x=E.currentIndex;if(E===u)g--,u=u._nextRemoved;else if(a=a._next,null==E.previousIndex)g++;else{y||(y=[]);const F=T-g,j=x-g;if(F!=j){for(let _e=0;_e<F;_e++){const Ne=_e<y.length?y[_e]:y[_e]=0,nt=Ne+_e;j<=nt&&nt<F&&(y[_e]=Ne+1)}y[E.previousIndex]=j-F}}T!==x&&o(E,T,x)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Qh(o))throw new te(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let g,y,E,a=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let T=0;T<this.length;T++)y=o[T],E=this._trackByFn(T,y),null!==a&&Object.is(a.trackById,E)?(u&&(a=this._verifyReinsertion(a,y,E,T)),Object.is(a.item,y)||this._addIdentityChange(a,y)):(a=this._mismatch(a,y,E,T),u=!0),a=a._next}else g=0,function CD(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[Hn()]();let u;for(;!(u=a.next()).done;)o(u.value)}}(o,T=>{E=this._trackByFn(g,T),null!==a&&Object.is(a.trackById,E)?(u&&(a=this._verifyReinsertion(a,T,E,g)),Object.is(a.item,T)||this._addIdentityChange(a,T)):(a=this._mismatch(a,T,E,g),u=!0),a=a._next,g++}),this.length=g;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,u,g){let y;return null===o?y=this._itTail:(y=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,y,g)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,g))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,y,g)):o=this._addAfter(new Ad(a,u),y,g),o}_verifyReinsertion(o,a,u,g){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==y?o=this._reinsertAfter(y,o._prev,g):o.currentIndex!=g&&(o.currentIndex=g,this._addToMoves(o,g)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const g=o._prevRemoved,y=o._nextRemoved;return null===g?this._removalsHead=y:g._nextRemoved=y,null===y?this._removalsTail=g:y._prevRemoved=g,this._insertAfter(o,a,u),this._addToMoves(o,u),o}_moveAfter(o,a,u){return this._unlink(o),this._insertAfter(o,a,u),this._addToMoves(o,u),o}_addAfter(o,a,u){return this._insertAfter(o,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,u){const g=null===a?this._itHead:a._next;return o._next=g,o._prev=a,null===g?this._itTail=o:g._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new zf),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,u=o._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new zf),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Ad{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class hl{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const a=o._prevDup,u=o._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class zf{constructor(){this.map=new Map}put(o){const a=o.trackById;let u=this.map.get(a);u||(u=new hl,this.map.set(a,u)),u.add(o)}get(o,a){const g=this.map.get(o);return g?g.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ou(s,o,a){const u=s.previousIndex;if(null===u)return u;let g=0;return a&&u<a.length&&(g=a[u]),u+o+g}class P0{constructor(){}supports(o){return o instanceof Map||ym(o)}create(){return new $f}}class $f{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||ym(o)))throw new te(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,g)=>{if(a&&a.key===g)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const y=this._getOrCreateRecordForKey(g,u);a=this._insertBeforeOrAppend(a,y)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const u=o._prev;return a._next=o,a._prev=u,o._prev=a,u&&(u._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const g=this._records.get(o);this._maybeAddToChanges(g,a);const y=g._prev,E=g._next;return y&&(y._next=E),E&&(E._prev=y),g._next=null,g._prev=null,g}const u=new F0(o);return this._records.set(o,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(u=>a(o[u],u))}}class F0{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ic(){return new $p([new kt])}let $p=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(null!=u){const g=u.factories.slice();a=a.concat(g)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||ic()),deps:[[s,new vo,new qs]]}}find(a){const u=this.factories.find(g=>g.supports(a));if(null!=u)return u;throw new te(901,"")}}return s.\u0275prov=An({token:s,providedIn:"root",factory:ic}),s})();function L0(){return new Tv([new P0])}let Tv=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(u){const g=u.factories.slice();a=a.concat(g)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||L0()),deps:[[s,new vo,new qs]]}}find(a){const u=this.factories.find(y=>y.supports(a));if(u)return u;throw new te(901,"")}}return s.\u0275prov=An({token:s,providedIn:"root",factory:L0}),s})();const cI=Hw(null,"core",[]);let Zw=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(ui(N0))},s.\u0275mod=Te({type:s}),s.\u0275inj=ye({}),s})()},579:(Rt,$e,$)=>{"use strict";$.d($e,{Gb:()=>gn,IH:()=>nr});var h=$(5861),k=$(9681),R=$(1877),G=$(2090),ee=$(4859);$(2833);const be="analytics",Se="firebase_id",le="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",D="https://www.googletagmanager.com/gtag/js",O=new R.Yd("@firebase/analytics");function U(re){return Promise.all(re.map(fe=>fe.catch(ke=>ke)))}function te(re,fe){const ke=document.createElement("script");ke.src=`${D}?l=${re}&id=${fe}`,ke.async=!0,document.head.appendChild(ke)}function ae(re,fe,ke,st,ht,lt){return ne.apply(this,arguments)}function ne(){return(ne=(0,h.Z)(function*(re,fe,ke,st,ht,lt){const $t=st[ht];try{if($t)yield fe[$t];else{const de=(yield U(ke)).find(ce=>ce.measurementId===ht);de&&(yield fe[de.appId])}}catch(Te){O.error(Te)}re("config",ht,lt)})).apply(this,arguments)}function He(re,fe,ke,st,ht){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,h.Z)(function*(re,fe,ke,st,ht){try{let lt=[];if(ht&&ht.send_to){let $t=ht.send_to;Array.isArray($t)||($t=[$t]);const Te=yield U(ke);for(const de of $t){const ce=Te.find(bt=>bt.measurementId===de),et=ce&&fe[ce.appId];if(!et){lt=[];break}lt.push(et)}}0===lt.length&&(lt=Object.values(fe)),yield Promise.all(lt),re("event",st,ht||{})}catch(lt){O.error(lt)}})).apply(this,arguments)}function ze(){const re=window.document.getElementsByTagName("script");for(const fe of Object.values(re))if(fe.src&&fe.src.includes(D))return fe;return null}const De=new G.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Oe=new class Ie{constructor(fe={},ke=1e3){this.throttleMetadata=fe,this.intervalMillis=ke}getThrottleMetadata(fe){return this.throttleMetadata[fe]}setThrottleMetadata(fe,ke){this.throttleMetadata[fe]=ke}deleteThrottleMetadata(fe){delete this.throttleMetadata[fe]}};function Le(re){return new Headers({Accept:"application/json","x-goog-api-key":re})}function Xe(re){return Re.apply(this,arguments)}function Re(){return(Re=(0,h.Z)(function*(re){var fe;const{appId:ke,apiKey:st}=re,ht={method:"GET",headers:Le(st)},lt=le.replace("{app-id}",ke),$t=yield fetch(lt,ht);if(200!==$t.status&&304!==$t.status){let Te="";try{const de=yield $t.json();(null===(fe=de.error)||void 0===fe?void 0:fe.message)&&(Te=de.error.message)}catch(de){}throw De.create("config-fetch-failed",{httpStatus:$t.status,responseMessage:Te})}return $t.json()})).apply(this,arguments)}function Wt(re){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,h.Z)(function*(re,fe=Oe,ke){const{appId:st,apiKey:ht,measurementId:lt}=re.options;if(!st)throw De.create("no-app-id");if(!ht){if(lt)return{measurementId:lt,appId:st};throw De.create("no-api-key")}const $t=fe.getThrottleMetadata(st)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Te=new Un;return setTimeout((0,h.Z)(function*(){Te.abort()}),void 0!==ke?ke:6e4),er({appId:st,apiKey:ht,measurementId:lt},$t,Te,fe)})).apply(this,arguments)}function er(re,fe,ke){return St.apply(this,arguments)}function St(){return(St=(0,h.Z)(function*(re,{throttleEndTimeMillis:fe,backoffCount:ke},st,ht=Oe){const{appId:lt,measurementId:$t}=re;try{yield zt(st,fe)}catch(Te){if($t)return O.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${$t} provided in the "measurementId" field in the local Firebase config. [${Te.message}]`),{appId:lt,measurementId:$t};throw Te}try{const Te=yield Xe(re);return ht.deleteThrottleMetadata(lt),Te}catch(Te){if(!Wn(Te)){if(ht.deleteThrottleMetadata(lt),$t)return O.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${$t} provided in the "measurementId" field in the local Firebase config. [${Te.message}]`),{appId:lt,measurementId:$t};throw Te}const de=503===Number(Te.customData.httpStatus)?(0,G.$s)(ke,ht.intervalMillis,30):(0,G.$s)(ke,ht.intervalMillis),ce={throttleEndTimeMillis:Date.now()+de,backoffCount:ke+1};return ht.setThrottleMetadata(lt,ce),O.debug(`Calling attemptFetch again in ${de} millis`),er(re,ce,st,ht)}})).apply(this,arguments)}function zt(re,fe){return new Promise((ke,st)=>{const ht=Math.max(fe-Date.now(),0),lt=setTimeout(ke,ht);re.addEventListener(()=>{clearTimeout(lt),st(De.create("fetch-throttle",{throttleEndTimeMillis:fe}))})})}function Wn(re){if(!(re instanceof G.ZR&&re.customData))return!1;const fe=Number(re.customData.httpStatus);return 429===fe||500===fe||503===fe||504===fe}class Un{constructor(){this.listeners=[]}addEventListener(fe){this.listeners.push(fe)}abort(){this.listeners.forEach(fe=>fe())}}function wr(){return An.apply(this,arguments)}function An(){return(An=(0,h.Z)(function*(){if(!(0,G.hl)())return O.warn(De.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,G.eu)()}catch(re){return O.warn(De.create("indexeddb-unavailable",{errorInfo:re}).message),!1}return!0})).apply(this,arguments)}function ye(){return(ye=(0,h.Z)(function*(re,fe,ke,st,ht,lt,$t){var Te;const de=Wt(re);de.then(rn=>{ke[rn.measurementId]=rn.appId,re.options.measurementId&&rn.measurementId!==re.options.measurementId&&O.warn(`The measurement ID in the local Firebase config (${re.options.measurementId}) does not match the measurement ID fetched from the server (${rn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(rn=>O.error(rn)),fe.push(de);const ce=wr().then(rn=>{if(rn)return st.getId()}),[et,bt]=yield Promise.all([de,ce]);ze()||te(lt,et.measurementId),ht("js",new Date);const jt=null!==(Te=null==$t?void 0:$t.config)&&void 0!==Te?Te:{};return jt.origin="firebase",jt.update=!0,null!=bt&&(jt[Se]=bt),ht("config",et.measurementId,jt),et.measurementId})).apply(this,arguments)}class Fe{constructor(fe){this.app=fe}_delete(){return delete at[this.app.options.appId],Promise.resolve()}}let at={},At=[];const qe={};let hn,dn,Ot="dataLayer",Ze=!1;function vt(re,fe,ke){!function Xt(){const re=[];if((0,G.ru)()&&re.push("This is a browser extension environment."),(0,G.zI)()||re.push("Cookies are not available."),re.length>0){const fe=re.map((st,ht)=>`(${ht+1}) ${st}`).join(" "),ke=De.create("invalid-analytics-context",{errorInfo:fe});O.warn(ke.message)}}();const st=re.options.appId;if(!st)throw De.create("no-app-id");if(!re.options.apiKey){if(!re.options.measurementId)throw De.create("no-api-key");O.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${re.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=at[st])throw De.create("already-exists",{id:st});if(!Ze){!function he(re){let fe=[];Array.isArray(window[re])?fe=window[re]:window[re]=fe}(Ot);const{wrappedGtag:lt,gtagCore:$t}=function Ye(re,fe,ke,st,ht){let lt=function(...$t){window[st].push(arguments)};return window[ht]&&"function"==typeof window[ht]&&(lt=window[ht]),window[ht]=function We(re,fe,ke,st){function lt(){return(lt=(0,h.Z)(function*($t,Te,de){try{"event"===$t?yield He(re,fe,ke,Te,de):"config"===$t?yield ae(re,fe,ke,st,Te,de):re("set",Te)}catch(ce){O.error(ce)}})).apply(this,arguments)}return function ht($t,Te,de){return lt.apply(this,arguments)}}(lt,re,fe,ke),{gtagCore:lt,wrappedGtag:window[ht]}}(at,At,qe,Ot,"gtag");dn=lt,hn=$t,Ze=!0}return at[st]=function Ae(re,fe,ke,st,ht,lt,$t){return ye.apply(this,arguments)}(re,At,qe,fe,hn,Ot,ke),new Fe(re)}function tr(){return(tr=(0,h.Z)(function*(re,fe,ke,st,ht){if(ht&&ht.global)re("event",ke,st);else{const lt=yield fe;re("event",ke,Object.assign(Object.assign({},st),{send_to:lt}))}})).apply(this,arguments)}function nr(re=(0,k.getApp)()){re=(0,G.m9)(re);const fe=(0,k._getProvider)(re,be);return fe.isInitialized()?fe.getImmediate():function Nr(re,fe={}){const ke=(0,k._getProvider)(re,be);if(ke.isInitialized()){const ht=ke.getImmediate();if((0,G.vZ)(fe,ke.getOptions()))return ht;throw De.create("already-initialized")}return ke.initialize({options:fe})}(re)}function gn(){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,h.Z)(function*(){if((0,G.ru)()||!(0,G.zI)()||!(0,G.hl)())return!1;try{return yield(0,G.eu)()}catch(re){return!1}})).apply(this,arguments)}const Q="@firebase/analytics",W="0.7.9";!function ie(){(0,k._registerComponent)(new ee.wA(be,(fe,{options:ke})=>vt(fe.getProvider("app").getImmediate(),fe.getProvider("installations-internal").getImmediate(),ke),"PUBLIC")),(0,k._registerComponent)(new ee.wA("analytics-internal",function re(fe){try{const ke=fe.getProvider(be).getImmediate();return{logEvent:(st,ht,lt)=>function B(re,fe,ke,st){re=(0,G.m9)(re),function Pt(re,fe,ke,st,ht){return tr.apply(this,arguments)}(dn,at[re.app.options.appId],fe,ke,st).catch(ht=>O.error(ht))}(ke,st,ht,lt)}}catch(ke){throw De.create("interop-component-reg-failed",{reason:ke})}},"PRIVATE")),(0,k.registerVersion)(Q,W),(0,k.registerVersion)(Q,W,"esm2017")}()},3942:(Rt,$e,$)=>{"use strict";$.d($e,{Z:()=>te});var h=$(2090),k=$(4859),R=$(9681),G=$(1877);class ee{constructor(ae,ne){this._delegate=ae,this.firebase=ne,(0,R._addComponent)(ae,new k.wA("app-compat",()=>this,"PUBLIC")),this.container=ae.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ae){this._delegate.automaticDataCollectionEnabled=ae}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ae=>{this._delegate.checkDestroyed(),ae()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(ae,ne=R._DEFAULT_ENTRY_NAME){var He;this._delegate.checkDestroyed();const Qe=this._delegate.container.getProvider(ae);return!Qe.isInitialized()&&"EXPLICIT"===(null===(He=Qe.getComponent())||void 0===He?void 0:He.instantiationMode)&&Qe.initialize(),Qe.getImmediate({identifier:ne})}_removeServiceInstance(ae,ne=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ae).clearInstance(ne)}_addComponent(ae){(0,R._addComponent)(this._delegate,ae)}_addOrOverwriteComponent(ae){(0,R._addOrOverwriteComponent)(this._delegate,ae)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const be=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),J=function Ce(){const he=function Se(he){const ae={},ne={__esModule:!0,initializeApp:function We(De,Me={}){const ue=R.initializeApp(De,Me);if((0,h.r3)(ae,ue.name))return ae[ue.name];const Ie=new he(ue,ne);return ae[ue.name]=Ie,Ie},app:Qe,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function ze(De){const Me=De.name,ue=Me.replace("-compat","");if(R._registerComponent(De)&&"PUBLIC"===De.type){const Ie=(Oe=Qe())=>{if("function"!=typeof Oe[ue])throw be.create("invalid-app-argument",{appName:Me});return Oe[ue]()};void 0!==De.serviceProps&&(0,h.ZB)(Ie,De.serviceProps),ne[ue]=Ie,he.prototype[ue]=function(...Oe){return this._getService.bind(this,Me).apply(this,De.multipleInstances?Oe:[])}}return"PUBLIC"===De.type?ne[ue]:null},removeApp:function He(De){delete ae[De]},useAsService:function mt(De,Me){return"serverAuth"===Me?null:Me},modularAPIs:R}};function Qe(De){if(!(0,h.r3)(ae,De=De||R._DEFAULT_ENTRY_NAME))throw be.create("no-app",{appName:De});return ae[De]}return ne.default=ne,Object.defineProperty(ne,"apps",{get:function Ye(){return Object.keys(ae).map(De=>ae[De])}}),Qe.App=he,ne}(ee);return he.INTERNAL=Object.assign(Object.assign({},he.INTERNAL),{createFirebaseNamespace:Ce,extendNamespace:function ae(ne){(0,h.ZB)(he,ne)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),he}(),le=new G.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){le.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const he=self.firebase.SDK_VERSION;he&&he.indexOf("LITE")>=0&&le.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const te=J;!function U(he){(0,R.registerVersion)("@firebase/app-compat","0.1.25",he)}()},9681:(Rt,$e,$)=>{"use strict";$.r($e),$.d($e,{FirebaseError:()=>G.ZR,SDK_VERSION:()=>on,_DEFAULT_ENTRY_NAME:()=>St,_addComponent:()=>wr,_addOrOverwriteComponent:()=>An,_apps:()=>Wn,_clearComponents:()=>at,_components:()=>Un,_getProvider:()=>ye,_registerComponent:()=>Ae,_removeServiceInstance:()=>Fe,deleteApp:()=>Et,getApp:()=>dn,getApps:()=>Ze,initializeApp:()=>hn,onLog:()=>Pt,registerVersion:()=>vt,setLogLevel:()=>tr});var h=$(5861),k=$(4859),R=$(1877),G=$(2090),ee=$(8766);class we{constructor(ie){this.container=ie}getPlatformInfoString(){return this.container.getProviders().map(re=>{if(function be(W){const ie=W.getComponent();return"VERSION"===(null==ie?void 0:ie.type)}(re)){const fe=re.getImmediate();return`${fe.library}/${fe.version}`}return null}).filter(re=>re).join(" ")}}const Se="@firebase/app",J=new R.Yd("@firebase/app"),St="[DEFAULT]",zt={[Se]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Wn=new Map,Un=new Map;function wr(W,ie){try{W.container.addComponent(ie)}catch(re){J.debug(`Component ${ie.name} failed to register with FirebaseApp ${W.name}`,re)}}function An(W,ie){W.container.addOrOverwriteComponent(ie)}function Ae(W){const ie=W.name;if(Un.has(ie))return J.debug(`There were multiple attempts to register component ${ie}.`),!1;Un.set(ie,W);for(const re of Wn.values())wr(re,W);return!0}function ye(W,ie){const re=W.container.getProvider("heartbeat").getImmediate({optional:!0});return re&&re.triggerHeartbeat(),W.container.getProvider(ie)}function Fe(W,ie,re=St){ye(W,ie).clearInstance(re)}function at(){Un.clear()}const qe=new G.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ot{constructor(ie,re,fe){this._isDeleted=!1,this._options=Object.assign({},ie),this._config=Object.assign({},re),this._name=re.name,this._automaticDataCollectionEnabled=re.automaticDataCollectionEnabled,this._container=fe,this.container.addComponent(new k.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ie){this._isDeleted=ie}checkDestroyed(){if(this.isDeleted)throw qe.create("app-deleted",{appName:this._name})}}const on="9.8.1";function hn(W,ie={}){"object"!=typeof ie&&(ie={name:ie});const re=Object.assign({name:St,automaticDataCollectionEnabled:!1},ie),fe=re.name;if("string"!=typeof fe||!fe)throw qe.create("bad-app-name",{appName:String(fe)});const ke=Wn.get(fe);if(ke){if((0,G.vZ)(W,ke.options)&&(0,G.vZ)(re,ke.config))return ke;throw qe.create("duplicate-app",{appName:fe})}const st=new k.H0(fe);for(const lt of Un.values())st.addComponent(lt);const ht=new Ot(W,re,st);return Wn.set(fe,ht),ht}function dn(W=St){const ie=Wn.get(W);if(!ie)throw qe.create("no-app",{appName:W});return ie}function Ze(){return Array.from(Wn.values())}function Et(W){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,h.Z)(function*(W){const ie=W.name;Wn.has(ie)&&(Wn.delete(ie),yield Promise.all(W.container.getProviders().map(re=>re.delete())),W.isDeleted=!0)})).apply(this,arguments)}function vt(W,ie,re){var fe;let ke=null!==(fe=zt[W])&&void 0!==fe?fe:W;re&&(ke+=`-${re}`);const st=ke.match(/\s|\//),ht=ie.match(/\s|\//);if(st||ht){const lt=[`Unable to register library "${ke}" with version "${ie}":`];return st&&lt.push(`library name "${ke}" contains illegal characters (whitespace or "/")`),st&&ht&&lt.push("and"),ht&&lt.push(`version name "${ie}" contains illegal characters (whitespace or "/")`),void J.warn(lt.join(" "))}Ae(new k.wA(`${ke}-version`,()=>({library:ke,version:ie}),"VERSION"))}function Pt(W,ie){if(null!==W&&"function"!=typeof W)throw qe.create("invalid-log-argument");(0,R.Am)(W,ie)}function tr(W){(0,R.Ub)(W)}const En="firebase-heartbeat-store";let zn=null;function ln(){return zn||(zn=(0,ee.X3)("firebase-heartbeat-database",1,{upgrade:(W,ie)=>{0===ie&&W.createObjectStore(En)}}).catch(W=>{throw qe.create("storage-open",{originalErrorMessage:W.message})})),zn}function Zt(){return(Zt=(0,h.Z)(function*(W){try{return(yield ln()).transaction(En).objectStore(En).get(Nr(W))}catch(ie){throw qe.create("storage-get",{originalErrorMessage:ie.message})}})).apply(this,arguments)}function Mt(W,ie){return nr.apply(this,arguments)}function nr(){return(nr=(0,h.Z)(function*(W,ie){try{const fe=(yield ln()).transaction(En,"readwrite");return yield fe.objectStore(En).put(ie,Nr(W)),fe.done}catch(re){throw qe.create("storage-set",{originalErrorMessage:re.message})}})).apply(this,arguments)}function Nr(W){return`${W.name}!${W.options.appId}`}class rr{constructor(ie){this.container=ie,this._heartbeatsCache=null;const re=this.container.getProvider("app").getImmediate();this._storage=new ge(re),this._heartbeatsCachePromise=this._storage.read().then(fe=>(this._heartbeatsCache=fe,fe))}triggerHeartbeat(){var ie=this;return(0,h.Z)(function*(){const fe=ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ke=wn();if(null===ie._heartbeatsCache&&(ie._heartbeatsCache=yield ie._heartbeatsCachePromise),ie._heartbeatsCache.lastSentHeartbeatDate!==ke&&!ie._heartbeatsCache.heartbeats.some(st=>st.date===ke))return ie._heartbeatsCache.heartbeats.push({date:ke,agent:fe}),ie._heartbeatsCache.heartbeats=ie._heartbeatsCache.heartbeats.filter(st=>{const ht=new Date(st.date).valueOf();return Date.now()-ht<=2592e6}),ie._storage.overwrite(ie._heartbeatsCache)})()}getHeartbeatsHeader(){var ie=this;return(0,h.Z)(function*(){if(null===ie._heartbeatsCache&&(yield ie._heartbeatsCachePromise),null===ie._heartbeatsCache||0===ie._heartbeatsCache.heartbeats.length)return"";const re=wn(),{heartbeatsToSend:fe,unsentEntries:ke}=function oe(W,ie=1024){const re=[];let fe=W.slice();for(const ke of W){const st=re.find(ht=>ht.agent===ke.agent);if(st){if(st.dates.push(ke.date),B(re)>ie){st.dates.pop();break}}else if(re.push({agent:ke.agent,dates:[ke.date]}),B(re)>ie){re.pop();break}fe=fe.slice(1)}return{heartbeatsToSend:re,unsentEntries:fe}}(ie._heartbeatsCache.heartbeats),st=(0,G.L)(JSON.stringify({version:2,heartbeats:fe}));return ie._heartbeatsCache.lastSentHeartbeatDate=re,ke.length>0?(ie._heartbeatsCache.heartbeats=ke,yield ie._storage.overwrite(ie._heartbeatsCache)):(ie._heartbeatsCache.heartbeats=[],ie._storage.overwrite(ie._heartbeatsCache)),st})()}}function wn(){return(new Date).toISOString().substring(0,10)}class ge{constructor(ie){this.app=ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,G.hl)()&&(0,G.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ie=this;return(0,h.Z)(function*(){return(yield ie._canUseIndexedDBPromise)&&(yield function un(W){return Zt.apply(this,arguments)}(ie.app))||{heartbeats:[]}})()}overwrite(ie){var re=this;return(0,h.Z)(function*(){var fe;if(yield re._canUseIndexedDBPromise){const st=yield re.read();return Mt(re.app,{lastSentHeartbeatDate:null!==(fe=ie.lastSentHeartbeatDate)&&void 0!==fe?fe:st.lastSentHeartbeatDate,heartbeats:ie.heartbeats})}})()}add(ie){var re=this;return(0,h.Z)(function*(){var fe;if(yield re._canUseIndexedDBPromise){const st=yield re.read();return Mt(re.app,{lastSentHeartbeatDate:null!==(fe=ie.lastSentHeartbeatDate)&&void 0!==fe?fe:st.lastSentHeartbeatDate,heartbeats:[...st.heartbeats,...ie.heartbeats]})}})()}}function B(W){return(0,G.L)(JSON.stringify({version:2,heartbeats:W})).length}!function Q(W){Ae(new k.wA("platform-logger",ie=>new we(ie),"PRIVATE")),Ae(new k.wA("heartbeat",ie=>new rr(ie),"PRIVATE")),vt(Se,"0.7.24",W),vt(Se,"0.7.24","esm2017"),vt("fire-js","")}("")},4859:(Rt,$e,$)=>{"use strict";$.d($e,{H0:()=>Se,wA:()=>R});var h=$(5861),k=$(2090);class R{constructor(J,le,D){this.name=J,this.instanceFactory=le,this.type=D,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(J){return this.instantiationMode=J,this}setMultipleInstances(J){return this.multipleInstances=J,this}setServiceProps(J){return this.serviceProps=J,this}setInstanceCreatedCallback(J){return this.onInstanceCreated=J,this}}const G="[DEFAULT]";class ee{constructor(J,le){this.name=J,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(J){const le=this.normalizeInstanceIdentifier(J);if(!this.instancesDeferred.has(le)){const D=new k.BH;if(this.instancesDeferred.set(le,D),this.isInitialized(le)||this.shouldAutoInitialize())try{const O=this.getOrInitializeService({instanceIdentifier:le});O&&D.resolve(O)}catch(O){}}return this.instancesDeferred.get(le).promise}getImmediate(J){var le;const D=this.normalizeInstanceIdentifier(null==J?void 0:J.identifier),O=null!==(le=null==J?void 0:J.optional)&&void 0!==le&&le;if(!this.isInitialized(D)&&!this.shouldAutoInitialize()){if(O)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:D})}catch(U){if(O)return null;throw U}}getComponent(){return this.component}setComponent(J){if(J.name!==this.name)throw Error(`Mismatching Component ${J.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=J,this.shouldAutoInitialize()){if(function be(Ce){return"EAGER"===Ce.instantiationMode}(J))try{this.getOrInitializeService({instanceIdentifier:G})}catch(le){}for(const[le,D]of this.instancesDeferred.entries()){const O=this.normalizeInstanceIdentifier(le);try{const U=this.getOrInitializeService({instanceIdentifier:O});D.resolve(U)}catch(U){}}}}clearInstance(J=G){this.instancesDeferred.delete(J),this.instancesOptions.delete(J),this.instances.delete(J)}delete(){var J=this;return(0,h.Z)(function*(){const le=Array.from(J.instances.values());yield Promise.all([...le.filter(D=>"INTERNAL"in D).map(D=>D.INTERNAL.delete()),...le.filter(D=>"_delete"in D).map(D=>D._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(J=G){return this.instances.has(J)}getOptions(J=G){return this.instancesOptions.get(J)||{}}initialize(J={}){const{options:le={}}=J,D=this.normalizeInstanceIdentifier(J.instanceIdentifier);if(this.isInitialized(D))throw Error(`${this.name}(${D}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const O=this.getOrInitializeService({instanceIdentifier:D,options:le});for(const[U,te]of this.instancesDeferred.entries())D===this.normalizeInstanceIdentifier(U)&&te.resolve(O);return O}onInit(J,le){var D;const O=this.normalizeInstanceIdentifier(le),U=null!==(D=this.onInitCallbacks.get(O))&&void 0!==D?D:new Set;U.add(J),this.onInitCallbacks.set(O,U);const te=this.instances.get(O);return te&&J(te,O),()=>{U.delete(J)}}invokeOnInitCallbacks(J,le){const D=this.onInitCallbacks.get(le);if(D)for(const O of D)try{O(J,le)}catch(U){}}getOrInitializeService({instanceIdentifier:J,options:le={}}){let D=this.instances.get(J);if(!D&&this.component&&(D=this.component.instanceFactory(this.container,{instanceIdentifier:(Ce=J,Ce===G?void 0:Ce),options:le}),this.instances.set(J,D),this.instancesOptions.set(J,le),this.invokeOnInitCallbacks(D,J),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,J,D)}catch(O){}var Ce;return D||null}normalizeInstanceIdentifier(J=G){return this.component?this.component.multipleInstances?J:G:J}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Se{constructor(J){this.name=J,this.providers=new Map}addComponent(J){const le=this.getProvider(J.name);if(le.isComponentSet())throw new Error(`Component ${J.name} has already been registered with ${this.name}`);le.setComponent(J)}addOrOverwriteComponent(J){this.getProvider(J.name).isComponentSet()&&this.providers.delete(J.name),this.addComponent(J)}getProvider(J){if(this.providers.has(J))return this.providers.get(J);const le=new ee(J,this);return this.providers.set(J,le),le}getProviders(){return Array.from(this.providers.values())}}},2833:(Rt,$e,$)=>{"use strict";var h=$(5861),k=$(9681),R=$(4859),G=$(2090),ee=$(8766);const we="@firebase/installations",Ce="w:0.5.9",J="FIS_v2",he=new G.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ae(me){return me instanceof G.ZR&&me.code.includes("request-failed")}function ne({projectId:me}){return`https://firebaseinstallations.googleapis.com/v1/projects/${me}/installations`}function He(me){return{token:me.token,requestStatus:2,expiresIn:Me(me.expiresIn),creationTime:Date.now()}}function Qe(me,Be){return We.apply(this,arguments)}function We(){return(We=(0,h.Z)(function*(me,Be){const Bt=(yield Be.json()).error;return he.create("request-failed",{requestName:me,serverCode:Bt.code,serverMessage:Bt.message,serverStatus:Bt.status})})).apply(this,arguments)}function Ye({apiKey:me}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":me})}function ze(me,{refreshToken:Be}){const ct=Ye(me);return ct.append("Authorization",function ue(me){return`${J} ${me}`}(Be)),ct}function mt(me){return De.apply(this,arguments)}function De(){return(De=(0,h.Z)(function*(me){const Be=yield me();return Be.status>=500&&Be.status<600?me():Be})).apply(this,arguments)}function Me(me){return Number(me.replace("s","000"))}function Ie(me,Be){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,h.Z)(function*({appConfig:me,heartbeatServiceProvider:Be},{fid:ct}){const Bt=ne(me),In=Ye(me),On=Be.getImmediate({optional:!0});if(On){const tn=yield On.getHeartbeatsHeader();tn&&In.append("x-firebase-client",tn)}const hr={method:"POST",headers:In,body:JSON.stringify({fid:ct,authVersion:J,appId:me.appId,sdkVersion:Ce})},Wr=yield mt(()=>fetch(Bt,hr));if(Wr.ok){const tn=yield Wr.json();return{fid:tn.fid||ct,registrationStatus:2,refreshToken:tn.refreshToken,authToken:He(tn.authToken)}}throw yield Qe("Create Installation",Wr)})).apply(this,arguments)}function Le(me){return new Promise(Be=>{setTimeout(Be,me)})}const Re=/^[cdef][\w-]{21}$/;function Jt(){try{const me=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(me),me[0]=112+me[0]%16;const ct=function er(me){return function Xe(me){return btoa(String.fromCharCode(...me)).replace(/\+/g,"-").replace(/\//g,"_")}(me).substr(0,22)}(me);return Re.test(ct)?ct:""}catch(me){return""}}function St(me){return`${me.appName}!${me.appId}`}const zt=new Map;function Wn(me,Be){const ct=St(me);An(ct,Be),function Ae(me,Be){const ct=function Fe(){return!ye&&"BroadcastChannel"in self&&(ye=new BroadcastChannel("[Firebase] FID Change"),ye.onmessage=me=>{An(me.data.key,me.data.fid)}),ye}();ct&&ct.postMessage({key:me,fid:Be}),function at(){0===zt.size&&ye&&(ye.close(),ye=null)}()}(ct,Be)}function An(me,Be){const ct=zt.get(me);if(ct)for(const Bt of ct)Bt(Be)}let ye=null;const Ot="firebase-installations-store";let on=null;function hn(){return on||(on=(0,ee.X3)("firebase-installations-database",1,{upgrade:(me,Be)=>{0===Be&&me.createObjectStore(Ot)}})),on}function dn(me,Be){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,h.Z)(function*(me,Be){const ct=St(me),In=(yield hn()).transaction(Ot,"readwrite"),On=In.objectStore(Ot),Cn=yield On.get(ct);return yield On.put(Be,ct),yield In.done,(!Cn||Cn.fid!==Be.fid)&&Wn(me,Be.fid),Be})).apply(this,arguments)}function Et(me){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,h.Z)(function*(me){const Be=St(me),Bt=(yield hn()).transaction(Ot,"readwrite");yield Bt.objectStore(Ot).delete(Be),yield Bt.done})).apply(this,arguments)}function vt(me,Be){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,h.Z)(function*(me,Be){const ct=St(me),In=(yield hn()).transaction(Ot,"readwrite"),On=In.objectStore(Ot),Cn=yield On.get(ct),hr=Be(Cn);return void 0===hr?yield On.delete(ct):yield On.put(hr,ct),yield In.done,hr&&(!Cn||Cn.fid!==hr.fid)&&Wn(me,hr.fid),hr})).apply(this,arguments)}function tr(me){return yn.apply(this,arguments)}function yn(){return(yn=(0,h.Z)(function*(me){let Be;const ct=yield vt(me.appConfig,Bt=>{const In=xn(Bt),On=En(me,In);return Be=On.registrationPromise,On.installationEntry});return""===ct.fid?{installationEntry:yield Be}:{installationEntry:ct,registrationPromise:Be}})).apply(this,arguments)}function xn(me){return nr(me||{fid:Jt(),registrationStatus:0})}function En(me,Be){if(0===Be.registrationStatus){if(!navigator.onLine)return{installationEntry:Be,registrationPromise:Promise.reject(he.create("app-offline"))};const ct={fid:Be.fid,registrationStatus:1,registrationTime:Date.now()},Bt=function zn(me,Be){return ln.apply(this,arguments)}(me,ct);return{installationEntry:ct,registrationPromise:Bt}}return 1===Be.registrationStatus?{installationEntry:Be,registrationPromise:un(me)}:{installationEntry:Be}}function ln(){return(ln=(0,h.Z)(function*(me,Be){try{const ct=yield Ie(me,Be);return dn(me.appConfig,ct)}catch(ct){throw ae(ct)&&409===ct.customData.serverCode?yield Et(me.appConfig):yield dn(me.appConfig,{fid:Be.fid,registrationStatus:0}),ct}})).apply(this,arguments)}function un(me){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,h.Z)(function*(me){let Be=yield Mt(me.appConfig);for(;1===Be.registrationStatus;)yield Le(100),Be=yield Mt(me.appConfig);if(0===Be.registrationStatus){const{installationEntry:ct,registrationPromise:Bt}=yield tr(me);return Bt||ct}return Be})).apply(this,arguments)}function Mt(me){return vt(me,Be=>{if(!Be)throw he.create("installation-not-found");return nr(Be)})}function nr(me){return function Nr(me){return 1===me.registrationStatus&&me.registrationTime+1e4<Date.now()}(me)?{fid:me.fid,registrationStatus:0}:me}function gn(me,Be){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,h.Z)(function*({appConfig:me,heartbeatServiceProvider:Be},ct){const Bt=rr(me,ct),In=ze(me,ct),On=Be.getImmediate({optional:!0});if(On){const tn=yield On.getHeartbeatsHeader();tn&&In.append("x-firebase-client",tn)}const hr={method:"POST",headers:In,body:JSON.stringify({installation:{sdkVersion:Ce,appId:me.appId}})},Wr=yield mt(()=>fetch(Bt,hr));if(Wr.ok)return He(yield Wr.json());throw yield Qe("Generate Auth Token",Wr)})).apply(this,arguments)}function rr(me,{fid:Be}){return`${ne(me)}/${Be}/authTokens:generate`}function wn(me){return oe.apply(this,arguments)}function oe(){return(oe=(0,h.Z)(function*(me,Be=!1){let ct;const Bt=yield vt(me.appConfig,On=>{if(!re(On))throw he.create("not-registered");const Cn=On.authToken;if(!Be&&fe(Cn))return On;if(1===Cn.requestStatus)return ct=ge(me,Be),On;{if(!navigator.onLine)throw he.create("app-offline");const hr=st(On);return ct=W(me,hr),hr}});return ct?yield ct:Bt.authToken})).apply(this,arguments)}function ge(me,Be){return B.apply(this,arguments)}function B(){return(B=(0,h.Z)(function*(me,Be){let ct=yield Q(me.appConfig);for(;1===ct.authToken.requestStatus;)yield Le(100),ct=yield Q(me.appConfig);const Bt=ct.authToken;return 0===Bt.requestStatus?wn(me,Be):Bt})).apply(this,arguments)}function Q(me){return vt(me,Be=>{if(!re(Be))throw he.create("not-registered");return function ht(me){return 1===me.requestStatus&&me.requestTime+1e4<Date.now()}(Be.authToken)?Object.assign(Object.assign({},Be),{authToken:{requestStatus:0}}):Be})}function W(me,Be){return ie.apply(this,arguments)}function ie(){return(ie=(0,h.Z)(function*(me,Be){try{const ct=yield gn(me,Be),Bt=Object.assign(Object.assign({},Be),{authToken:ct});return yield dn(me.appConfig,Bt),ct}catch(ct){if(!ae(ct)||401!==ct.customData.serverCode&&404!==ct.customData.serverCode){const Bt=Object.assign(Object.assign({},Be),{authToken:{requestStatus:0}});yield dn(me.appConfig,Bt)}else yield Et(me.appConfig);throw ct}})).apply(this,arguments)}function re(me){return void 0!==me&&2===me.registrationStatus}function fe(me){return 2===me.requestStatus&&!function ke(me){const Be=Date.now();return Be<me.creationTime||me.creationTime+me.expiresIn<Be+36e5}(me)}function st(me){const Be={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},me),{authToken:Be})}function $t(){return($t=(0,h.Z)(function*(me){const Be=me,{installationEntry:ct,registrationPromise:Bt}=yield tr(Be);return Bt?Bt.catch(console.error):wn(Be).catch(console.error),ct.fid})).apply(this,arguments)}function de(){return(de=(0,h.Z)(function*(me,Be=!1){const ct=me;return yield ce(ct),(yield wn(ct,Be)).token})).apply(this,arguments)}function ce(me){return et.apply(this,arguments)}function et(){return(et=(0,h.Z)(function*(me){const{registrationPromise:Be}=yield tr(me);Be&&(yield Be)})).apply(this,arguments)}function Dr(me){return he.create("missing-app-config-values",{valueName:me})}const si="installations",eo=me=>{const Be=me.getProvider("app").getImmediate(),ct=function Rn(me){if(!me||!me.options)throw Dr("App Configuration");if(!me.name)throw Dr("App Name");const Be=["projectId","apiKey","appId"];for(const ct of Be)if(!me.options[ct])throw Dr(ct);return{appName:me.name,projectId:me.options.projectId,apiKey:me.options.apiKey,appId:me.options.appId}}(Be);return{app:Be,appConfig:ct,heartbeatServiceProvider:(0,k._getProvider)(Be,"heartbeat"),_delete:()=>Promise.resolve()}},Yr=me=>{const Be=me.getProvider("app").getImmediate(),ct=(0,k._getProvider)(Be,si).getImmediate();return{getId:()=>function lt(me){return $t.apply(this,arguments)}(ct),getToken:In=>function Te(me){return de.apply(this,arguments)}(ct,In)}};(function _t(){(0,k._registerComponent)(new R.wA(si,eo,"PUBLIC")),(0,k._registerComponent)(new R.wA("installations-internal",Yr,"PRIVATE"))})(),(0,k.registerVersion)(we,"0.5.9"),(0,k.registerVersion)(we,"0.5.9","esm2017")},1877:(Rt,$e,$)=>{"use strict";$.d($e,{Am:()=>Ce,Ub:()=>Se,Yd:()=>be,in:()=>k});const h=[];var k=(()=>{return(J=k||(k={}))[J.DEBUG=0]="DEBUG",J[J.VERBOSE=1]="VERBOSE",J[J.INFO=2]="INFO",J[J.WARN=3]="WARN",J[J.ERROR=4]="ERROR",J[J.SILENT=5]="SILENT",k;var J})();const R={debug:k.DEBUG,verbose:k.VERBOSE,info:k.INFO,warn:k.WARN,error:k.ERROR,silent:k.SILENT},G=k.INFO,ee={[k.DEBUG]:"log",[k.VERBOSE]:"log",[k.INFO]:"info",[k.WARN]:"warn",[k.ERROR]:"error"},we=(J,le,...D)=>{if(le<J.logLevel)return;const O=(new Date).toISOString(),U=ee[le];if(!U)throw new Error(`Attempted to log a message with an invalid logType (value: ${le})`);console[U](`[${O}]  ${J.name}:`,...D)};class be{constructor(le){this.name=le,this._logLevel=G,this._logHandler=we,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(le){if(!(le in k))throw new TypeError(`Invalid value "${le}" assigned to \`logLevel\``);this._logLevel=le}setLogLevel(le){this._logLevel="string"==typeof le?R[le]:le}get logHandler(){return this._logHandler}set logHandler(le){if("function"!=typeof le)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=le}get userLogHandler(){return this._userLogHandler}set userLogHandler(le){this._userLogHandler=le}debug(...le){this._userLogHandler&&this._userLogHandler(this,k.DEBUG,...le),this._logHandler(this,k.DEBUG,...le)}log(...le){this._userLogHandler&&this._userLogHandler(this,k.VERBOSE,...le),this._logHandler(this,k.VERBOSE,...le)}info(...le){this._userLogHandler&&this._userLogHandler(this,k.INFO,...le),this._logHandler(this,k.INFO,...le)}warn(...le){this._userLogHandler&&this._userLogHandler(this,k.WARN,...le),this._logHandler(this,k.WARN,...le)}error(...le){this._userLogHandler&&this._userLogHandler(this,k.ERROR,...le),this._logHandler(this,k.ERROR,...le)}}function Se(J){h.forEach(le=>{le.setLogLevel(J)})}function Ce(J,le){for(const D of h){let O=null;le&&le.level&&(O=R[le.level]),D.userLogHandler=null===J?null:(U,te,...he)=>{const ae=he.map(ne=>{if(null==ne)return null;if("string"==typeof ne)return ne;if("number"==typeof ne||"boolean"==typeof ne)return ne.toString();if(ne instanceof Error)return ne.message;try{return JSON.stringify(ne)}catch(He){return null}}).filter(ne=>ne).join(" ");te>=(null!=O?O:U.logLevel)&&J({level:k[te].toLowerCase(),message:ae,args:he,type:U.name})}}}},8766:(Rt,$e,$)=>{"use strict";$.d($e,{Lj:()=>We,X3:()=>Qe});var h=$(5861);let R,G;const be=new WeakMap,Se=new WeakMap,Ce=new WeakMap,J=new WeakMap,le=new WeakMap;let U={get(Me,ue,Ie){if(Me instanceof IDBTransaction){if("done"===ue)return Se.get(Me);if("objectStoreNames"===ue)return Me.objectStoreNames||Ce.get(Me);if("store"===ue)return Ie.objectStoreNames[1]?void 0:Ie.objectStore(Ie.objectStoreNames[0])}return ne(Me[ue])},set:(Me,ue,Ie)=>(Me[ue]=Ie,!0),has:(Me,ue)=>Me instanceof IDBTransaction&&("done"===ue||"store"===ue)||ue in Me};function ae(Me){return"function"==typeof Me?function he(Me){return Me!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function we(){return G||(G=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Me)?function(...ue){return Me.apply(He(this),ue),ne(be.get(this))}:function(...ue){return ne(Me.apply(He(this),ue))}:function(ue,...Ie){const Oe=Me.call(He(this),ue,...Ie);return Ce.set(Oe,ue.sort?ue.sort():[ue]),ne(Oe)}}(Me):(Me instanceof IDBTransaction&&function O(Me){if(Se.has(Me))return;const ue=new Promise((Ie,Oe)=>{const Le=()=>{Me.removeEventListener("complete",Xe),Me.removeEventListener("error",Re),Me.removeEventListener("abort",Re)},Xe=()=>{Ie(),Le()},Re=()=>{Oe(Me.error||new DOMException("AbortError","AbortError")),Le()};Me.addEventListener("complete",Xe),Me.addEventListener("error",Re),Me.addEventListener("abort",Re)});Se.set(Me,ue)}(Me),((Me,ue)=>ue.some(Ie=>Me instanceof Ie))(Me,function ee(){return R||(R=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Me,U):Me)}function ne(Me){if(Me instanceof IDBRequest)return function D(Me){const ue=new Promise((Ie,Oe)=>{const Le=()=>{Me.removeEventListener("success",Xe),Me.removeEventListener("error",Re)},Xe=()=>{Ie(ne(Me.result)),Le()},Re=()=>{Oe(Me.error),Le()};Me.addEventListener("success",Xe),Me.addEventListener("error",Re)});return ue.then(Ie=>{Ie instanceof IDBCursor&&be.set(Ie,Me)}).catch(()=>{}),le.set(ue,Me),ue}(Me);if(J.has(Me))return J.get(Me);const ue=ae(Me);return ue!==Me&&(J.set(Me,ue),le.set(ue,Me)),ue}const He=Me=>le.get(Me);function Qe(Me,ue,{blocked:Ie,upgrade:Oe,blocking:Le,terminated:Xe}={}){const Re=indexedDB.open(Me,ue),Wt=ne(Re);return Oe&&Re.addEventListener("upgradeneeded",Jt=>{Oe(ne(Re.result),Jt.oldVersion,Jt.newVersion,ne(Re.transaction))}),Ie&&Re.addEventListener("blocked",()=>Ie()),Wt.then(Jt=>{Xe&&Jt.addEventListener("close",()=>Xe()),Le&&Jt.addEventListener("versionchange",()=>Le())}).catch(()=>{}),Wt}function We(Me,{blocked:ue}={}){const Ie=indexedDB.deleteDatabase(Me);return ue&&Ie.addEventListener("blocked",()=>ue()),ne(Ie).then(()=>{})}const Ye=["get","getKey","getAll","getAllKeys","count"],ze=["put","add","delete","clear"],mt=new Map;function De(Me,ue){if(!(Me instanceof IDBDatabase)||ue in Me||"string"!=typeof ue)return;if(mt.get(ue))return mt.get(ue);const Ie=ue.replace(/FromIndex$/,""),Oe=ue!==Ie,Le=ze.includes(Ie);if(!(Ie in(Oe?IDBIndex:IDBObjectStore).prototype)||!Le&&!Ye.includes(Ie))return;const Xe=function(){var Re=(0,h.Z)(function*(Wt,...Jt){const er=this.transaction(Wt,Le?"readwrite":"readonly");let St=er.store;return Oe&&(St=St.index(Jt.shift())),(yield Promise.all([St[Ie](...Jt),Le&&er.done]))[0]});return function(Jt){return Re.apply(this,arguments)}}();return mt.set(ue,Xe),Xe}!function te(Me){U=Me(U)}(Me=>tk(ek({},Me),{get:(ue,Ie,Oe)=>De(ue,Ie)||Me.get(ue,Ie,Oe),has:(ue,Ie)=>!!De(ue,Ie)||Me.has(ue,Ie)}))},5861:(Rt,$e,$)=>{"use strict";function h(R,G,ee,we,be,Se,Ce){try{var J=R[Se](Ce),le=J.value}catch(D){return void ee(D)}J.done?G(le):Promise.resolve(le).then(we,be)}function k(R){return function(){var G=this,ee=arguments;return new Promise(function(we,be){var Se=R.apply(G,ee);function Ce(le){h(Se,we,be,Ce,J,"next",le)}function J(le){h(Se,we,be,Ce,J,"throw",le)}Ce(void 0)})}}$.d($e,{Z:()=>k})}},Rt=>{Rt(Rt.s=6325)}]);
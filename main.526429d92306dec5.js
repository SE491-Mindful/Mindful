var g2=Object.defineProperty,m2=Object.defineProperties,v2=Object.getOwnPropertyDescriptors,Kk=Object.getOwnPropertySymbols,y2=Object.prototype.hasOwnProperty,_2=Object.prototype.propertyIsEnumerable,Qk=(Ot,$e,$)=>$e in Ot?g2(Ot,$e,{enumerable:!0,configurable:!0,writable:!0,value:$}):Ot[$e]=$,Yk=(Ot,$e)=>{for(var $ in $e||($e={}))y2.call($e,$)&&Qk(Ot,$,$e[$]);if(Kk)for(var $ of Kk($e))_2.call($e,$)&&Qk(Ot,$,$e[$]);return Ot},Jk=(Ot,$e)=>m2(Ot,v2($e));(self.webpackChunkClientApp=self.webpackChunkClientApp||[]).push([[179],{2011:(Ot,$e,$)=>{"use strict";$.d($e,{Dh:()=>xe,GT:()=>Ce,cc:()=>H,hO:()=>F,on:()=>ee,pX:()=>ne,xv:()=>De});var h=$(5e3),P=$(127),R=$(1038);Ot=$.hmd(Ot);const G=["ngOnDestroy"],ne=(se,je,Qe,We={})=>new Proxy(se,{get:(Ye,ze)=>Qe.runOutsideAngular(()=>{var mt;if(se[ze])return(null===(mt=null==We?void 0:We.spy)||void 0===mt?void 0:mt.get)&&We.spy.get(ze,se[ze]),se[ze];if(G.indexOf(ze)>-1)return()=>{};const Te=je.toPromise().then(Re=>{const fe=Re&&Re[ze];return"function"==typeof fe?fe.bind(Re):fe&&fe.then?fe.then(Ie=>Qe.run(()=>Ie)):Qe.run(()=>fe)});return new Proxy(()=>{},{get:(Re,fe)=>Te[fe],apply:(Re,fe,Ie)=>Te.then(Oe=>{var Be;const Xe=Oe&&Oe(...Ie);return(null===(Be=null==We?void 0:We.spy)||void 0===Be?void 0:Be.apply)&&We.spy.apply(ze,Ie,Xe),Xe})})})}),Ce=(se,je)=>{je.forEach(Qe=>{Object.getOwnPropertyNames(Qe.prototype||Qe).forEach(We=>{Object.defineProperty(se.prototype,We,Object.getOwnPropertyDescriptor(Qe.prototype||Qe,We))})})};class be{constructor(je){return je}}const xe=new h.OlP("angularfire2.app.options"),De=new h.OlP("angularfire2.app.name");function ee(se,je,Qe){const Ye="object"==typeof Qe&&Qe||{};Ye.name=Ye.name||"string"==typeof Qe&&Qe||"[DEFAULT]";const mt=P.Z.apps.filter(Te=>Te&&Te.name===Ye.name)[0]||je.runOutsideAngular(()=>P.Z.initializeApp(se,Ye));try{JSON.stringify(se)!==JSON.stringify(mt.options)&&de("error",`${mt.name} Firebase App already initialized with different options${Ot.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Te){}return new be(mt)}const de=(se,...je)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[se](...je)},T={provide:be,useFactory:ee,deps:[xe,h.R0b,[new h.FiY,De]]};let F=(()=>{class se{constructor(Qe){P.Z.registerVersion("angularfire",R.q4.full,"core"),P.Z.registerVersion("angularfire",R.q4.full,"app-compat"),P.Z.registerVersion("angular",h.q4F.full,Qe.toString())}static initializeApp(Qe,We){return{ngModule:se,providers:[{provide:xe,useValue:Qe},{provide:De,useValue:We}]}}}return se.\u0275fac=function(Qe){return new(Qe||se)(h.LFG(h.Lbi))},se.\u0275mod=h.oAB({type:se}),se.\u0275inj=h.cJS({providers:[T]}),se})();function H(se,je,Qe,We,Ye){const[,ze,mt]=globalThis.\u0275AngularfireInstanceCache.find(Te=>Te[0]===se)||[];if(ze)return function ie(se,je){try{return se.toString()===je.toString()}catch(Qe){return se===je}}(Ye,mt)||(ce("error",`${je} was already initialized on the ${Qe} Firebase App with different settings.${me?" You may need to reload as Firebase is not HMR aware.":""}`),ce("warn",{is:Ye,was:mt})),ze;{const Te=We();return globalThis.\u0275AngularfireInstanceCache.push([se,Te,Ye]),Te}}const me=!!Ot.hot,ce=(se,...je)=>{(0,h.X6Q)()&&"undefined"!=typeof console&&console[se](...je)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1038:(Ot,$e,$)=>{"use strict";$.d($e,{q4:()=>Ed,iC:()=>lo,HU:()=>fr,vb:()=>Po,JM:()=>aa});var h=$(5e3),P=$(5867),R=$(5861),G=$(9681),ne=$(2090),Ce=$(4859),be=$(1877);$(2833);const De="@firebase/remote-config",H=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Jt{constructor(Z,we,Ge,_t){this.client=Z,this.storage=we,this.storageCache=Ge,this.logger=_t}isCachedDataFresh(Z,we){if(!we)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ge=Date.now()-we,_t=Ge<=Z;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ge}. Cache max age millis (minimumFetchIntervalMillis setting): ${Z}. Is cache hit: ${_t}.`),_t}fetch(Z){var we=this;return(0,R.Z)(function*(){const[Ge,_t]=yield Promise.all([we.storage.getLastSuccessfulFetchTimestampMillis(),we.storage.getLastSuccessfulFetchResponse()]);if(_t&&we.isCachedDataFresh(Z.cacheMaxAgeMillis,Ge))return _t;Z.eTag=_t&&_t.eTag;const It=yield we.client.fetch(Z),cn=[we.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===It.status&&cn.push(we.storage.setLastSuccessfulFetchResponse(It)),yield Promise.all(cn),It})()}}function Xn(K=navigator){return K.languages&&K.languages[0]||K.language}class xt{constructor(Z,we,Ge,_t,It,cn){this.firebaseInstallations=Z,this.sdkVersion=we,this.namespace=Ge,this.projectId=_t,this.apiKey=It,this.appId=cn}fetch(Z){var we=this;return(0,R.Z)(function*(){const[Ge,_t]=yield Promise.all([we.firebaseInstallations.getId(),we.firebaseInstallations.getToken()]),cn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${we.projectId}/namespaces/${we.namespace}:fetch?key=${we.apiKey}`,or={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":Z.eTag||"*"},Gt={sdk_version:we.sdkVersion,app_instance_id:Ge,app_instance_id_token:_t,app_id:we.appId,language_code:Xn()},ar={method:"POST",headers:or,body:JSON.stringify(Gt)},cr=fetch(cn,ar),Fn=new Promise((ot,Nn)=>{Z.signal.addEventListener(()=>{const uo=new Error("The operation was aborted.");uo.name="AbortError",Nn(uo)})});let ns;try{yield Promise.race([cr,Fn]),ns=yield cr}catch(ot){let Nn="fetch-client-network";throw"AbortError"===ot.name&&(Nn="fetch-timeout"),H.create(Nn,{originalErrorMessage:ot.message})}let _s=ns.status;const Hs=ns.headers.get("ETag")||void 0;let ja,rs;if(200===ns.status){let ot;try{ot=yield ns.json()}catch(Nn){throw H.create("fetch-client-parse",{originalErrorMessage:Nn.message})}ja=ot.entries,rs=ot.state}if("INSTANCE_STATE_UNSPECIFIED"===rs?_s=500:"NO_CHANGE"===rs?_s=304:("NO_TEMPLATE"===rs||"EMPTY_CONFIG"===rs)&&(ja={}),304!==_s&&200!==_s)throw H.create("fetch-status",{httpStatus:_s});return{status:_s,eTag:Hs,config:ja}})()}}class Hn{constructor(Z,we){this.client=Z,this.storage=we}fetch(Z){var we=this;return(0,R.Z)(function*(){const Ge=(yield we.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return we.attemptFetch(Z,Ge)})()}attemptFetch(Z,{throttleEndTimeMillis:we,backoffCount:Ge}){var _t=this;return(0,R.Z)(function*(){yield function Ut(K,Z){return new Promise((we,Ge)=>{const _t=Math.max(Z-Date.now(),0),It=setTimeout(we,_t);K.addEventListener(()=>{clearTimeout(It),Ge(H.create("fetch-throttle",{throttleEndTimeMillis:Z}))})})}(Z.signal,we);try{const It=yield _t.client.fetch(Z);return yield _t.storage.deleteThrottleMetadata(),It}catch(It){if(!function qn(K){if(!(K instanceof ne.ZR&&K.customData))return!1;const Z=Number(K.customData.httpStatus);return 429===Z||500===Z||503===Z||504===Z}(It))throw It;const cn={throttleEndTimeMillis:Date.now()+(0,ne.$s)(Ge),backoffCount:Ge+1};return yield _t.storage.setThrottleMetadata(cn),_t.attemptFetch(Z,cn)}})()}}class Ae{constructor(Z,we,Ge,_t,It){this.app=Z,this._client=we,this._storageCache=Ge,this._storage=_t,this._logger=It,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ee(K,Z){const we=K.target.error||void 0;return H.create(Z,{originalErrorMessage:we&&we.message})}const Ve="app_namespace_store";class Lt{constructor(Z,we,Ge,_t=function qe(){return new Promise((K,Z)=>{try{const we=indexedDB.open("firebase_remote_config",1);we.onerror=Ge=>{Z(Ee(Ge,"storage-open"))},we.onsuccess=Ge=>{K(Ge.target.result)},we.onupgradeneeded=Ge=>{0===Ge.oldVersion&&Ge.target.result.createObjectStore(Ve,{keyPath:"compositeKey"})}}catch(we){Z(H.create("storage-open",{originalErrorMessage:we}))}})}()){this.appId=Z,this.appName=we,this.namespace=Ge,this.openDbPromise=_t}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(Z){return this.set("last_fetch_status",Z)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(Z){return this.set("last_successful_fetch_timestamp_millis",Z)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(Z){return this.set("last_successful_fetch_response",Z)}getActiveConfig(){return this.get("active_config")}setActiveConfig(Z){return this.set("active_config",Z)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(Z){return this.set("active_config_etag",Z)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(Z){return this.set("throttle_metadata",Z)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(Z){var we=this;return(0,R.Z)(function*(){const Ge=yield we.openDbPromise;return new Promise((_t,It)=>{const or=Ge.transaction([Ve],"readonly").objectStore(Ve),Gt=we.createCompositeKey(Z);try{const ar=or.get(Gt);ar.onerror=cr=>{It(Ee(cr,"storage-get"))},ar.onsuccess=cr=>{const Fn=cr.target.result;_t(Fn?Fn.value:void 0)}}catch(ar){It(H.create("storage-get",{originalErrorMessage:ar&&ar.message}))}})})()}set(Z,we){var Ge=this;return(0,R.Z)(function*(){const _t=yield Ge.openDbPromise;return new Promise((It,cn)=>{const Gt=_t.transaction([Ve],"readwrite").objectStore(Ve),ar=Ge.createCompositeKey(Z);try{const cr=Gt.put({compositeKey:ar,value:we});cr.onerror=Fn=>{cn(Ee(Fn,"storage-set"))},cr.onsuccess=()=>{It()}}catch(cr){cn(H.create("storage-set",{originalErrorMessage:cr&&cr.message}))}})})()}delete(Z){var we=this;return(0,R.Z)(function*(){const Ge=yield we.openDbPromise;return new Promise((_t,It)=>{const or=Ge.transaction([Ve],"readwrite").objectStore(Ve),Gt=we.createCompositeKey(Z);try{const ar=or.delete(Gt);ar.onerror=cr=>{It(Ee(cr,"storage-delete"))},ar.onsuccess=()=>{_t()}}catch(ar){It(H.create("storage-delete",{originalErrorMessage:ar&&ar.message}))}})})()}createCompositeKey(Z){return[this.appId,this.appName,this.namespace,Z].join()}}class on{constructor(Z){this.storage=Z}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var Z=this;return(0,R.Z)(function*(){const we=Z.storage.getLastFetchStatus(),Ge=Z.storage.getLastSuccessfulFetchTimestampMillis(),_t=Z.storage.getActiveConfig(),It=yield we;It&&(Z.lastFetchStatus=It);const cn=yield Ge;cn&&(Z.lastSuccessfulFetchTimestampMillis=cn);const or=yield _t;or&&(Z.activeConfig=or)})()}setLastFetchStatus(Z){return this.lastFetchStatus=Z,this.storage.setLastFetchStatus(Z)}setLastSuccessfulFetchTimestampMillis(Z){return this.lastSuccessfulFetchTimestampMillis=Z,this.storage.setLastSuccessfulFetchTimestampMillis(Z)}setActiveConfig(Z){return this.activeConfig=Z,this.storage.setActiveConfig(Z)}}function Dt(){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,R.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch(K){return!1}})).apply(this,arguments)}!function pn(){(0,G._registerComponent)(new Ce.wA("remote-config",function K(Z,{instanceIdentifier:we}){const Ge=Z.getProvider("app").getImmediate(),_t=Z.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw H.create("registration-window");if(!(0,ne.hl)())throw H.create("indexed-db-unavailable");const{projectId:It,apiKey:cn,appId:or}=Ge.options;if(!It)throw H.create("registration-project-id");if(!cn)throw H.create("registration-api-key");if(!or)throw H.create("registration-app-id");const Gt=new Lt(or,Ge.name,we=we||"firebase"),ar=new on(Gt),cr=new be.Yd(De);cr.logLevel=be.in.ERROR;const Fn=new xt(_t,G.SDK_VERSION,we,It,cn,or),ns=new Hn(Fn,Gt),_s=new Jt(ns,Gt,ar,cr),Hs=new Ae(Ge,_s,ar,Gt,cr);return function mt(K){const Z=(0,ne.m9)(K);Z._initializePromise||(Z._initializePromise=Z._storageCache.loadFromStorage().then(()=>{Z._isInitializationComplete=!0}))}(Hs),Hs},"PUBLIC").setMultipleInstances(!0)),(0,G.registerVersion)(De,"0.3.8"),(0,G.registerVersion)(De,"0.3.8","esm2017")}();var vt=$(8766);const Vt="/firebase-messaging-sw.js",er="/firebase-cloud-messaging-push-scope",bn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Dn="google.c.a.c_id",$n="google.c.a.c_l",an="google.c.a.ts",un="google.c.a.e";var Rt=(()=>{return(K=Rt||(Rt={})).PUSH_RECEIVED="push-received",K.NOTIFICATION_CLICKED="notification-clicked",Rt;var K})();function tr(K){const Z=new Uint8Array(K);return btoa(String.fromCharCode(...Z)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Pr(K){const we=(K+"=".repeat((4-K.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ge=atob(we),_t=new Uint8Array(Ge.length);for(let It=0;It<Ge.length;++It)_t[It]=Ge.charCodeAt(It);return _t}const _n="fcm_token_details_db",rr="fcm_token_object_Store";function Tn(K){return ue.apply(this,arguments)}function ue(){return ue=(0,R.Z)(function*(K){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(It=>It.name).includes(_n))return null;let Z=null;return(yield(0,vt.X3)(_n,5,{upgrade:(Ge=(0,R.Z)(function*(_t,It,cn,or){var Gt;if(It<2||!_t.objectStoreNames.contains(rr))return;const ar=or.objectStore(rr),cr=yield ar.index("fcmSenderId").get(K);if(yield ar.clear(),cr)if(2===It){const Fn=cr;if(!Fn.auth||!Fn.p256dh||!Fn.endpoint)return;Z={token:Fn.fcmToken,createTime:null!==(Gt=Fn.createTime)&&void 0!==Gt?Gt:Date.now(),subscriptionOptions:{auth:Fn.auth,p256dh:Fn.p256dh,endpoint:Fn.endpoint,swScope:Fn.swScope,vapidKey:"string"==typeof Fn.vapidKey?Fn.vapidKey:tr(Fn.vapidKey)}}}else if(3===It){const Fn=cr;Z={token:Fn.fcmToken,createTime:Fn.createTime,subscriptionOptions:{auth:tr(Fn.auth),p256dh:tr(Fn.p256dh),endpoint:Fn.endpoint,swScope:Fn.swScope,vapidKey:tr(Fn.vapidKey)}}}else if(4===It){const Fn=cr;Z={token:Fn.fcmToken,createTime:Fn.createTime,subscriptionOptions:{auth:tr(Fn.auth),p256dh:tr(Fn.p256dh),endpoint:Fn.endpoint,swScope:Fn.swScope,vapidKey:tr(Fn.vapidKey)}}}}),function(It,cn,or,Gt){return Ge.apply(this,arguments)})})).close(),yield(0,vt.Lj)(_n),yield(0,vt.Lj)("fcm_vapid_details_db"),yield(0,vt.Lj)("undefined"),ve(Z)?Z:null;var Ge}),ue.apply(this,arguments)}function ve(K){if(!K||!K.subscriptionOptions)return!1;const{subscriptionOptions:Z}=K;return"number"==typeof K.createTime&&K.createTime>0&&"string"==typeof K.token&&K.token.length>0&&"string"==typeof Z.auth&&Z.auth.length>0&&"string"==typeof Z.p256dh&&Z.p256dh.length>0&&"string"==typeof Z.endpoint&&Z.endpoint.length>0&&"string"==typeof Z.swScope&&Z.swScope.length>0&&"string"==typeof Z.vapidKey&&Z.vapidKey.length>0}const W="firebase-messaging-store";let le=null;function ae(){return le||(le=(0,vt.X3)("firebase-messaging-database",1,{upgrade:(K,Z)=>{0===Z&&K.createObjectStore(W)}})),le}function ge(K){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,R.Z)(function*(K){const Z=Se(K),Ge=yield(yield ae()).transaction(W).objectStore(W).get(Z);if(Ge)return Ge;{const _t=yield Tn(K.appConfig.senderId);if(_t)return yield st(K,_t),_t}})).apply(this,arguments)}function st(K,Z){return pt.apply(this,arguments)}function pt(){return(pt=(0,R.Z)(function*(K,Z){const we=Se(K),_t=(yield ae()).transaction(W,"readwrite");return yield _t.objectStore(W).put(Z,we),yield _t.done,Z})).apply(this,arguments)}function ut(K){return $t.apply(this,arguments)}function $t(){return($t=(0,R.Z)(function*(K){const Z=Se(K),Ge=(yield ae()).transaction(W,"readwrite");yield Ge.objectStore(W).delete(Z),yield Ge.done})).apply(this,arguments)}function Se({appConfig:K}){return K.appId}const he=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function et(K,Z){return bt.apply(this,arguments)}function bt(){return(bt=(0,R.Z)(function*(K,Z){const we=yield Vr(K),Ge=Cr(Z),_t={method:"POST",headers:we,body:JSON.stringify(Ge)};let It;try{It=yield(yield fetch(mr(K.appConfig),_t)).json()}catch(cn){throw he.create("token-subscribe-failed",{errorInfo:cn})}if(It.error)throw he.create("token-subscribe-failed",{errorInfo:It.error.message});if(!It.token)throw he.create("token-subscribe-no-token");return It.token})).apply(this,arguments)}function jt(K,Z){return rn.apply(this,arguments)}function rn(){return(rn=(0,R.Z)(function*(K,Z){const we=yield Vr(K),Ge=Cr(Z.subscriptionOptions),_t={method:"PATCH",headers:we,body:JSON.stringify(Ge)};let It;try{It=yield(yield fetch(`${mr(K.appConfig)}/${Z.token}`,_t)).json()}catch(cn){throw he.create("token-update-failed",{errorInfo:cn})}if(It.error)throw he.create("token-update-failed",{errorInfo:It.error.message});if(!It.token)throw he.create("token-update-no-token");return It.token})).apply(this,arguments)}function Ln(K,Z){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,R.Z)(function*(K,Z){const Ge={method:"DELETE",headers:yield Vr(K)};try{const It=yield(yield fetch(`${mr(K.appConfig)}/${Z}`,Ge)).json();if(It.error)throw he.create("token-unsubscribe-failed",{errorInfo:It.error.message})}catch(_t){throw he.create("token-unsubscribe-failed",{errorInfo:_t})}})).apply(this,arguments)}function mr({projectId:K}){return`https://fcmregistrations.googleapis.com/v1/projects/${K}/registrations`}function Vr(K){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,R.Z)(function*({appConfig:K,installations:Z}){const we=yield Z.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":K.apiKey,"x-goog-firebase-installations-auth":`FIS ${we}`})})).apply(this,arguments)}function Cr({p256dh:K,auth:Z,endpoint:we,vapidKey:Ge}){const _t={web:{endpoint:we,auth:Z,p256dh:K}};return Ge!==bn&&(_t.web.applicationPubKey=Ge),_t}const ci=6048e5;function Or(K){return io.apply(this,arguments)}function io(){return(io=(0,R.Z)(function*(K){const Z=yield In(K.swRegistration,K.vapidKey),we={vapidKey:K.vapidKey,swScope:K.swRegistration.scope,endpoint:Z.endpoint,auth:tr(Z.getKey("auth")),p256dh:tr(Z.getKey("p256dh"))},Ge=yield ge(K.firebaseDependencies);if(Ge){if(Sn(Ge.subscriptionOptions,we))return Date.now()>=Ge.createTime+ci?_e(K,{token:Ge.token,createTime:Date.now(),subscriptionOptions:we}):Ge.token;try{yield Ln(K.firebaseDependencies,Ge.token)}catch(_t){console.warn(_t)}return ct(K.firebaseDependencies,we)}return ct(K.firebaseDependencies,we)})).apply(this,arguments)}function ei(K){return At.apply(this,arguments)}function At(){return(At=(0,R.Z)(function*(K){const Z=yield ge(K.firebaseDependencies);Z&&(yield Ln(K.firebaseDependencies,Z.token),yield ut(K.firebaseDependencies));const we=yield K.swRegistration.pushManager.getSubscription();return!we||we.unsubscribe()})).apply(this,arguments)}function _e(K,Z){return He.apply(this,arguments)}function He(){return(He=(0,R.Z)(function*(K,Z){try{const we=yield jt(K.firebaseDependencies,Z),Ge=Object.assign(Object.assign({},Z),{token:we,createTime:Date.now()});return yield st(K.firebaseDependencies,Ge),we}catch(we){throw yield ei(K),we}})).apply(this,arguments)}function ct(K,Z){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,R.Z)(function*(K,Z){const Ge={token:yield et(K,Z),createTime:Date.now(),subscriptionOptions:Z};return yield st(K,Ge),Ge.token})).apply(this,arguments)}function In(K,Z){return On.apply(this,arguments)}function On(){return(On=(0,R.Z)(function*(K,Z){return(yield K.pushManager.getSubscription())||K.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Pr(Z)})})).apply(this,arguments)}function Sn(K,Z){return Z.vapidKey===K.vapidKey&&Z.endpoint===K.endpoint&&Z.auth===K.auth&&Z.p256dh===K.p256dh}function gr(K){const Z={from:K.from,collapseKey:K.collapse_key,messageId:K.fcmMessageId};return function Kr(K,Z){if(!Z.notification)return;K.notification={};const we=Z.notification.title;we&&(K.notification.title=we);const Ge=Z.notification.body;Ge&&(K.notification.body=Ge);const _t=Z.notification.image;_t&&(K.notification.image=_t)}(Z,K),function tn(K,Z){!Z.data||(K.data=Z.data)}(Z,K),function hs(K,Z){if(!Z.fcmOptions)return;K.fcmOptions={};const we=Z.fcmOptions.link;we&&(K.fcmOptions.link=we);const Ge=Z.fcmOptions.analytics_label;Ge&&(K.fcmOptions.analyticsLabel=Ge)}(Z,K),Z}function yi(K){return"object"==typeof K&&!!K&&Dn in K}function Bn(K,Z){const we=[];for(let Ge=0;Ge<K.length;Ge++)we.push(K.charAt(Ge)),Ge<Z.length&&we.push(Z.charAt(Ge));return we.join("")}function Br(K){return he.create("missing-app-config-values",{valueName:K})}Bn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Bn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ps{constructor(Z,we,Ge){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const _t=function Ji(K){if(!K||!K.options)throw Br("App Configuration Object");if(!K.name)throw Br("App Name");const Z=["projectId","apiKey","appId","messagingSenderId"],{options:we}=K;for(const Ge of Z)if(!we[Ge])throw Br(Ge);return{appName:K.name,projectId:we.projectId,apiKey:we.apiKey,appId:we.appId,senderId:we.messagingSenderId}}(Z);this.firebaseDependencies={app:Z,appConfig:_t,installations:we,analyticsProvider:Ge}}_delete(){return Promise.resolve()}}function gs(K){return yr.apply(this,arguments)}function yr(){return(yr=(0,R.Z)(function*(K){try{K.swRegistration=yield navigator.serviceWorker.register(Vt,{scope:er}),K.swRegistration.update().catch(()=>{})}catch(Z){throw he.create("failed-service-worker-registration",{browserErrorMessage:Z.message})}})).apply(this,arguments)}function Jn(K,Z){return La.apply(this,arguments)}function La(){return(La=(0,R.Z)(function*(K,Z){if(!Z&&!K.swRegistration&&(yield gs(K)),Z||!K.swRegistration){if(!(Z instanceof ServiceWorkerRegistration))throw he.create("invalid-sw-registration");K.swRegistration=Z}})).apply(this,arguments)}function ta(K,Z){return di.apply(this,arguments)}function di(){return(di=(0,R.Z)(function*(K,Z){Z?K.vapidKey=Z:K.vapidKey||(K.vapidKey=bn)})).apply(this,arguments)}function na(){return(na=(0,R.Z)(function*(K,Z){if(!navigator)throw he.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw he.create("permission-blocked");return yield ta(K,null==Z?void 0:Z.vapidKey),yield Jn(K,null==Z?void 0:Z.serviceWorkerRegistration),Or(K)})).apply(this,arguments)}function Ro(K,Z,we){return so.apply(this,arguments)}function so(){return(so=(0,R.Z)(function*(K,Z,we){const Ge=_i(Z);(yield K.firebaseDependencies.analyticsProvider.get()).logEvent(Ge,{message_id:we[Dn],message_name:we[$n],message_time:we[an],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function _i(K){switch(K){case Rt.NOTIFICATION_CLICKED:return"notification_open";case Rt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Va(){return(Va=(0,R.Z)(function*(K,Z){const we=Z.data;if(!we.isFirebaseMessaging)return;K.onMessageHandler&&we.messageType===Rt.PUSH_RECEIVED&&("function"==typeof K.onMessageHandler?K.onMessageHandler(gr(we)):K.onMessageHandler.next(gr(we)));const Ge=we.data;yi(Ge)&&"1"===Ge[un]&&(yield Ro(K,we.messageType,Ge))})).apply(this,arguments)}const ra="@firebase/messaging",ou=K=>{const Z=new ps(K.getProvider("app").getImmediate(),K.getProvider("installations-internal").getImmediate(),K.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",we=>function uc(K,Z){return Va.apply(this,arguments)}(Z,we)),Z},md=K=>{const Z=K.getProvider("messaging").getImmediate();return{getToken:Ge=>function fi(K,Z){return na.apply(this,arguments)}(Z,Ge)}};function Ba(){return No.apply(this,arguments)}function No(){return(No=(0,R.Z)(function*(){try{yield(0,ne.eu)()}catch(K){return!1}return"undefined"!=typeof window&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Xi(){(0,G._registerComponent)(new Ce.wA("messaging",ou,"PUBLIC")),(0,G._registerComponent)(new Ce.wA("messaging-internal",md,"PRIVATE")),(0,G.registerVersion)(ra,"0.9.13"),(0,G.registerVersion)(ra,"0.9.13","esm2017")}();var _d=$(579),Ua=$(4408),tt=$(7565);const $i=new class ko extends tt.v{}(class zi extends Ua.o{constructor(Z,we){super(Z,we),this.scheduler=Z,this.work=we}schedule(Z,we=0){return we>0?super.schedule(Z,we):(this.delay=we,this.state=Z,this.scheduler.flush(this),this)}execute(Z,we){return we>0||this.closed?super.execute(Z,we):this._execute(Z,we)}requestAsyncId(Z,we,Ge=0){return null!=Ge&&Ge>0||null==Ge&&this.delay>0?super.requestAsyncId(Z,we,Ge):Z.flush(this)}});var ia=$(4986),hi=$(8505),oo=$(9468),sa=$(5363);const Ed=new h.GfV("7.3.0"),es="__angularfire_symbol__analyticsIsSupportedValue",Vs="__angularfire_symbol__analyticsIsSupported",vs="__angularfire_symbol__remoteConfigIsSupportedValue",oa="__angularfire_symbol__remoteConfigIsSupported",Bs="__angularfire_symbol__messagingIsSupportedValue",jr="__angularfire_symbol__messagingIsSupported";function aa(K,Z,we){if(Z){if(1===Z.length)return Z[0];const It=Z.filter(cn=>cn.app===we);if(1===It.length)return It[0]}return we.container.getProvider(K).getImmediate({optional:!0})}globalThis[Vs]||(globalThis[Vs]=(0,_d.Gb)().then(K=>globalThis[es]=K).catch(()=>globalThis[es]=!1)),globalThis[jr]||(globalThis[jr]=Ba().then(K=>globalThis[Bs]=K).catch(()=>globalThis[Bs]=!1)),globalThis[oa]||(globalThis[oa]=Dt().then(K=>globalThis[vs]=K).catch(()=>globalThis[vs]=!1));const Po=(K,Z)=>{const we=Z?[Z]:(0,P.C6)(),Ge=[];return we.forEach(_t=>{_t.container.getProvider(K).instances.forEach(cn=>{Ge.includes(cn)||Ge.push(cn)})}),Ge};function ts(){}class ao{constructor(Z,we=$i){this.zone=Z,this.delegate=we}now(){return this.delegate.now()}schedule(Z,we,Ge){const _t=this.zone;return this.delegate.schedule(function(cn){_t.runGuarded(()=>{Z.apply(this,[cn])})},we,Ge)}}class dc{constructor(Z){this.zone=Z,this.task=null}call(Z,we){const Ge=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ts,{},ts,ts)),we.pipe((0,hi.b)({next:Ge,complete:Ge,error:Ge})).subscribe(Z).add(Ge)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let fr=(()=>{class K{constructor(we){this.ngZone=we,this.outsideAngular=we.runOutsideAngular(()=>new ao(Zone.current)),this.insideAngular=we.run(()=>new ao(Zone.current,ia.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return K.\u0275fac=function(we){return new(we||K)(h.LFG(h.R0b))},K.\u0275prov=h.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})();function Wi(){const K=globalThis.\u0275AngularFireScheduler;if(!K)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return K}function lo(K){return Wi(),function ti(K){return function(we){return(we=we.lift(new dc(K.ngZone))).pipe((0,oo.R)(K.outsideAngular),(0,sa.Q)(K.insideAngular))}}(Wi())(K)}},198:(Ot,$e,$)=>{"use strict";$.d($e,{$:()=>cn,A:()=>de,B:()=>H,G:()=>He,H:()=>Sn,J:()=>Xi,L:()=>pt,M:()=>ko,N:()=>hi,P:()=>Uo,Q:()=>oo,R:()=>bu,T:()=>sa,U:()=>ia,V:()=>vs,W:()=>oa,X:()=>lu,Y:()=>Us,Z:()=>K,_:()=>we,a:()=>pu,a0:()=>Fn,a1:()=>_s,a2:()=>ja,a3:()=>ot,a4:()=>uo,a5:()=>bd,a6:()=>js,a7:()=>fc,a8:()=>Ad,a9:()=>wd,aA:()=>tl,aB:()=>Xa,aC:()=>Dc,aD:()=>Du,aE:()=>At,aI:()=>fo,aL:()=>es,aa:()=>Es,ab:()=>ca,ac:()=>ch,af:()=>Tl,ag:()=>Dd,ah:()=>Td,ak:()=>ao,al:()=>hh,an:()=>fu,ao:()=>yh,ap:()=>mr,aq:()=>fe,ar:()=>Bt,as:()=>jt,at:()=>Qe,au:()=>ku,av:()=>nl,aw:()=>We,ax:()=>Te,ay:()=>Oe,az:()=>ut,b:()=>_h,c:()=>Ka,d:()=>wc,e:()=>Au,f:()=>Ud,g:()=>Hd,h:()=>Ic,i:()=>ga,j:()=>Ea,k:()=>Ul,l:()=>Ts,m:()=>qd,n:()=>Pc,o:()=>xe,r:()=>Fd,s:()=>_c,u:()=>Vd,y:()=>Id});var h=$(5861),P=$(2090),R=$(9681),G=$(655),ne=$(1877),Ce=$(4859);const xe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},de={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const H=function T(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ie=function F(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},me=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),se=new ne.Yd("@firebase/auth");function je(D,..._){se.logLevel<=ne.in.ERROR&&se.error(`Auth (${R.SDK_VERSION}): ${D}`,..._)}function Qe(D,..._){throw mt(D,..._)}function We(D,..._){return mt(D,..._)}function Ye(D,_,b){const M=Object.assign(Object.assign({},ie()),{[_]:b});return new P.LL("auth","Firebase",M).create(_,{appName:D.name})}function ze(D,_,b){if(!(_ instanceof b))throw b.name!==_.constructor.name&&Qe(D,"argument-error"),Ye(D,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mt(D,..._){if("string"!=typeof D){const b=_[0],M=[..._.slice(1)];return M[0]&&(M[0].appName=D.name),D._errorFactory.create(b,...M)}return me.create(D,..._)}function Te(D,_,...b){if(!D)throw mt(_,...b)}function Re(D){const _="INTERNAL ASSERTION FAILED: "+D;throw je(_),new Error(_)}function fe(D,_){D||Re(_)}const Ie=new Map;function Oe(D){fe(D instanceof Function,"Expected a class definition");let _=Ie.get(D);return _?(fe(_ instanceof D,"Instance stored in cache mismatched with class"),_):(_=new D,Ie.set(D,_),_)}function ke(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function Wt(){return"http:"===Jt()||"https:"===Jt()}function Jt(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class Ut{constructor(_,b){this.shortDelay=_,this.longDelay=b,fe(b>_,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function Xn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Wt()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qn(D,_){fe(D.emulator,"Emulator should always be set here");const{url:b}=D.emulator;return _?`${b}${_.startsWith("/")?_.slice(1):_}`:b}class Hn{static initialize(_,b,M){this.fetchImpl=_,b&&(this.headersImpl=b),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Re("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Re("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Re("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ar={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Cn=new Ut(3e4,6e4);function Ae(D,_){return D.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:D.tenantId}):_}function Ee(D,_,b,M){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,h.Z)(function*(D,_,b,M,U={}){return lt(D,U,(0,h.Z)(function*(){let Q={},Le={};M&&("GET"===_?Le=M:Q={body:JSON.stringify(M)});const ft=(0,P.xO)(Object.assign({key:D.config.apiKey},Le)).slice(1),zt=yield D._getAdditionalHeaders();return zt["Content-Type"]="application/json",D.languageCode&&(zt["X-Firebase-Locale"]=D.languageCode),Hn.fetch()(on(D,D.config.apiHost,b,ft),Object.assign({method:_,headers:zt,referrerPolicy:"no-referrer"},Q))}))})).apply(this,arguments)}function lt(D,_,b){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,h.Z)(function*(D,_,b){D._canInitEmulator=!1;const M=Object.assign(Object.assign({},Ar),_);try{const U=new pn(D),Q=yield Promise.race([b(),U.promise]);U.clearNetworkTimeout();const Le=yield Q.json();if("needConfirmation"in Le)throw fn(D,"account-exists-with-different-credential",Le);if(Q.ok&&!("errorMessage"in Le))return Le;{const ft=Q.ok?Le.errorMessage:Le.error.message,[zt,nn]=ft.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===zt)throw fn(D,"credential-already-in-use",Le);if("EMAIL_EXISTS"===zt)throw fn(D,"email-already-in-use",Le);const Vn=M[zt]||zt.toLowerCase().replace(/[_\s]+/g,"-");if(nn)throw Ye(D,Vn,nn);Qe(D,Vn)}}catch(U){if(U instanceof P.ZR)throw U;Qe(D,"network-request-failed")}})).apply(this,arguments)}function qe(D,_,b,M){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,h.Z)(function*(D,_,b,M,U={}){const Q=yield Ee(D,_,b,M,U);return"mfaPendingCredential"in Q&&Qe(D,"multi-factor-auth-required",{_serverResponse:Q}),Q})).apply(this,arguments)}function on(D,_,b,M){const U=`${_}${b}?${M}`;return D.config.emulator?qn(D.config,U):`${D.config.apiScheme}://${U}`}class pn{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((b,M)=>{this.timer=setTimeout(()=>M(We(this.auth,"network-request-failed")),Cn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fn(D,_,b){const M={appName:D.name};b.email&&(M.email=b.email),b.phoneNumber&&(M.phoneNumber=b.phoneNumber);const U=We(D,_,M);return U.customData._tokenResponse=b,U}function Dt(){return(Dt=(0,h.Z)(function*(D,_){return Ee(D,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function Xt(D,_){return vt.apply(this,arguments)}function vt(){return(vt=(0,h.Z)(function*(D,_){return Ee(D,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Vt(D,_){return er.apply(this,arguments)}function er(){return(er=(0,h.Z)(function*(D,_){return Ee(D,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function bn(D){if(D)try{const _=new Date(Number(D));if(!isNaN(_.getTime()))return _.toUTCString()}catch(_){}}function $n(){return($n=(0,h.Z)(function*(D,_=!1){const b=(0,P.m9)(D),M=yield b.getIdToken(_),U=un(M);Te(U&&U.exp&&U.auth_time&&U.iat,b.auth,"internal-error");const Q="object"==typeof U.firebase?U.firebase:void 0,Le=null==Q?void 0:Q.sign_in_provider;return{claims:U,token:M,authTime:bn(an(U.auth_time)),issuedAtTime:bn(an(U.iat)),expirationTime:bn(an(U.exp)),signInProvider:Le||null,signInSecondFactor:(null==Q?void 0:Q.sign_in_second_factor)||null}})).apply(this,arguments)}function an(D){return 1e3*Number(D)}function un(D){const[_,b,M]=D.split(".");if(void 0===_||void 0===b||void 0===M)return je("JWT malformed, contained fewer than 3 sections"),null;try{const U=(0,P.tV)(b);return U?JSON.parse(U):(je("Failed to decode base64 JWT payload"),null)}catch(U){return je("Caught error parsing JWT payload as JSON",U),null}}function Rt(D,_){return tr.apply(this,arguments)}function tr(){return(tr=(0,h.Z)(function*(D,_,b=!1){if(b)return _;try{return yield _}catch(M){throw M instanceof P.ZR&&Pr(M)&&D.auth.currentUser===D&&(yield D.auth.signOut()),M}})).apply(this,arguments)}function Pr({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}class _n{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var b;if(_){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const U=(null!==(b=this.user.stsTokenManager.expirationTime)&&void 0!==b?b:0)-Date.now()-3e5;return Math.max(0,U)}}schedule(_=!1){var b=this;if(!this.isRunning)return;const M=this.getInterval(_);this.timerId=setTimeout((0,h.Z)(function*(){yield b.iteration()}),M)}iteration(){var _=this;return(0,h.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(b){return void("auth/network-request-failed"===b.code&&_.schedule(!0))}_.schedule()})()}}class wr{constructor(_,b){this.createdAt=_,this.lastLoginAt=b,this._initializeTime()}_initializeTime(){this.lastSignInTime=bn(this.lastLoginAt),this.creationTime=bn(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function rr(D){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,h.Z)(function*(D){var _;const b=D.auth,M=yield D.getIdToken(),U=yield Rt(D,Vt(b,{idToken:M}));Te(null==U?void 0:U.users.length,b,"internal-error");const Q=U.users[0];D._notifyReloadListener(Q);const Le=(null===(_=Q.providerUserInfo)||void 0===_?void 0:_.length)?Y(Q.providerUserInfo):[],ft=B(D.providerData,Le),Vn=!!D.isAnonymous&&!(D.email&&Q.passwordHash||(null==ft?void 0:ft.length)),Ir={uid:Q.localId,displayName:Q.displayName||null,photoURL:Q.photoUrl||null,email:Q.email||null,emailVerified:Q.emailVerified||!1,phoneNumber:Q.phoneNumber||null,tenantId:Q.tenantId||null,providerData:ft,metadata:new wr(Q.createdAt,Q.lastLoginAt),isAnonymous:Vn};Object.assign(D,Ir)})).apply(this,arguments)}function ve(){return(ve=(0,h.Z)(function*(D){const _=(0,P.m9)(D);yield rr(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function B(D,_){return[...D.filter(M=>!_.some(U=>U.providerId===M.providerId)),..._]}function Y(D){return D.map(_=>{var{providerId:b}=_,M=(0,G.__rest)(_,["providerId"]);return{providerId:b,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}function le(){return(le=(0,h.Z)(function*(D,_){const b=yield lt(D,{},(0,h.Z)(function*(){const M=(0,P.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:U,apiKey:Q}=D.config,Le=on(D,U,"/v1/token",`key=${Q}`),ft=yield D._getAdditionalHeaders();return ft["Content-Type"]="application/x-www-form-urlencoded",Hn.fetch()(Le,{method:"POST",headers:ft,body:M})}));return{accessToken:b.access_token,expiresIn:b.expires_in,refreshToken:b.refresh_token}})).apply(this,arguments)}class ae{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){Te(_.idToken,"internal-error"),Te(void 0!==_.idToken,"internal-error"),Te(void 0!==_.refreshToken,"internal-error");const b="expiresIn"in _&&void 0!==_.expiresIn?Number(_.expiresIn):function qt(D){const _=un(D);return Te(_,"internal-error"),Te(void 0!==_.exp,"internal-error"),Te(void 0!==_.iat,"internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,b)}getToken(_,b=!1){var M=this;return(0,h.Z)(function*(){return Te(!M.accessToken||M.refreshToken,_,"user-token-expired"),b||!M.accessToken||M.isExpired?M.refreshToken?(yield M.refresh(_,M.refreshToken),M.accessToken):null:M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,b){var M=this;return(0,h.Z)(function*(){const{accessToken:U,refreshToken:Q,expiresIn:Le}=yield function W(D,_){return le.apply(this,arguments)}(_,b);M.updateTokensAndExpiration(U,Q,Number(Le))})()}updateTokensAndExpiration(_,b,M){this.refreshToken=b||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(_,b){const{refreshToken:M,accessToken:U,expirationTime:Q}=b,Le=new ae;return M&&(Te("string"==typeof M,"internal-error",{appName:_}),Le.refreshToken=M),U&&(Te("string"==typeof U,"internal-error",{appName:_}),Le.accessToken=U),Q&&(Te("number"==typeof Q,"internal-error",{appName:_}),Le.expirationTime=Q),Le}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new ae,this.toJSON())}_performRefresh(){return Re("not implemented")}}function ge(D,_){Te("string"==typeof D||void 0===D,"internal-error",{appName:_})}class Pe{constructor(_){var{uid:b,auth:M,stsTokenManager:U}=_,Q=(0,G.__rest)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new _n(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=b,this.auth=M,this.stsTokenManager=U,this.accessToken=U.accessToken,this.displayName=Q.displayName||null,this.email=Q.email||null,this.emailVerified=Q.emailVerified||!1,this.phoneNumber=Q.phoneNumber||null,this.photoURL=Q.photoURL||null,this.isAnonymous=Q.isAnonymous||!1,this.tenantId=Q.tenantId||null,this.providerData=Q.providerData?[...Q.providerData]:[],this.metadata=new wr(Q.createdAt||void 0,Q.lastLoginAt||void 0)}getIdToken(_){var b=this;return(0,h.Z)(function*(){const M=yield Rt(b,b.stsTokenManager.getToken(b.auth,_));return Te(M,b.auth,"internal-error"),b.accessToken!==M&&(b.accessToken=M,yield b.auth._persistUserIfCurrent(b),b.auth._notifyListenersIfCurrent(b)),M})()}getIdTokenResult(_){return function Dn(D){return $n.apply(this,arguments)}(this,_)}reload(){return function ue(D){return ve.apply(this,arguments)}(this)}_assign(_){this!==_&&(Te(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(b=>Object.assign({},b)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){return new Pe(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(_){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,b=!1){var M=this;return(0,h.Z)(function*(){let U=!1;_.idToken&&_.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(_),U=!0),b&&(yield rr(M)),yield M.auth._persistUserIfCurrent(M),U&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var _=this;return(0,h.Z)(function*(){const b=yield _.getIdToken();return yield Rt(_,function Ze(D,_){return Dt.apply(this,arguments)}(_.auth,{idToken:b})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,b){var M,U,Q,Le,ft,zt,nn,Vn;const Ir=null!==(M=b.displayName)&&void 0!==M?M:void 0,Ri=null!==(U=b.email)&&void 0!==U?U:void 0,Is=null!==(Q=b.phoneNumber)&&void 0!==Q?Q:void 0,zo=null!==(Le=b.photoURL)&&void 0!==Le?Le:void 0,Zd=null!==(ft=b.tenantId)&&void 0!==ft?ft:void 0,Oc=null!==(zt=b._redirectEventId)&&void 0!==zt?zt:void 0,Eo=null!==(nn=b.createdAt)&&void 0!==nn?nn:void 0,Kd=null!==(Vn=b.lastLoginAt)&&void 0!==Vn?Vn:void 0,{uid:Lu,emailVerified:Qd,isAnonymous:jl,providerData:Vu,stsTokenManager:Gl}=b;Te(Lu&&Gl,_,"internal-error");const zl=ae.fromJSON(this.name,Gl);Te("string"==typeof Lu,_,"internal-error"),ge(Ir,_.name),ge(Ri,_.name),Te("boolean"==typeof Qd,_,"internal-error"),Te("boolean"==typeof jl,_,"internal-error"),ge(Is,_.name),ge(zo,_.name),ge(Zd,_.name),ge(Oc,_.name),ge(Eo,_.name),ge(Kd,_.name);const wa=new Pe({uid:Lu,auth:_,email:Ri,emailVerified:Qd,displayName:Ir,isAnonymous:jl,photoURL:zo,phoneNumber:Is,tenantId:Zd,stsTokenManager:zl,createdAt:Eo,lastLoginAt:Kd});return Vu&&Array.isArray(Vu)&&(wa.providerData=Vu.map(Rh=>Object.assign({},Rh))),Oc&&(wa._redirectEventId=Oc),wa}static _fromIdTokenResponse(_,b,M=!1){return(0,h.Z)(function*(){const U=new ae;U.updateFromServerResponse(b);const Q=new Pe({uid:b.localId,auth:_,stsTokenManager:U,isAnonymous:M});return yield rr(Q),Q})()}}const pt=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(b,M){var U=this;return(0,h.Z)(function*(){U.storage[b]=M})()}_get(b){var M=this;return(0,h.Z)(function*(){const U=M.storage[b];return void 0===U?null:U})()}_remove(b){var M=this;return(0,h.Z)(function*(){delete M.storage[b]})()}_addListener(b,M){}_removeListener(b,M){}}return D.type="NONE",D})();function ut(D,_,b){return`firebase:${D}:${_}:${b}`}class $t{constructor(_,b,M){this.persistence=_,this.auth=b,this.userKey=M;const{config:U,name:Q}=this.auth;this.fullUserKey=ut(this.userKey,U.apiKey,Q),this.fullPersistenceKey=ut("persistence",U.apiKey,Q),this.boundEventHandler=b._onStorageEvent.bind(b),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,h.Z)(function*(){const b=yield _.persistence._get(_.fullUserKey);return b?Pe._fromJSON(_.auth,b):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var b=this;return(0,h.Z)(function*(){if(b.persistence===_)return;const M=yield b.getCurrentUser();return yield b.removeCurrentUser(),b.persistence=_,M?b.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,b,M="authUser"){return(0,h.Z)(function*(){if(!b.length)return new $t(Oe(pt),_,M);const U=(yield Promise.all(b.map(function(){var nn=(0,h.Z)(function*(Vn){if(yield Vn._isAvailable())return Vn});return function(Vn){return nn.apply(this,arguments)}}()))).filter(nn=>nn);let Q=U[0]||Oe(pt);const Le=ut(M,_.config.apiKey,_.name);let ft=null;for(const nn of b)try{const Vn=yield nn._get(Le);if(Vn){const Ir=Pe._fromJSON(_,Vn);nn!==Q&&(ft=Ir),Q=nn;break}}catch(Vn){}const zt=U.filter(nn=>nn._shouldAllowMigration);return Q._shouldAllowMigration&&zt.length?(Q=zt[0],ft&&(yield Q._set(Le,ft.toJSON())),yield Promise.all(b.map(function(){var nn=(0,h.Z)(function*(Vn){if(Vn!==Q)try{yield Vn._remove(Le)}catch(Ir){}});return function(Vn){return nn.apply(this,arguments)}}())),new $t(Q,_,M)):new $t(Q,_,M)})()}}function Se(D){const _=D.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(bt(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(pe(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(rn(_))return"Blackberry";if(Ln(_))return"Webos";if(he(_))return"Safari";if((_.includes("chrome/")||et(_))&&!_.includes("edge/"))return"Chrome";if(jt(_))return"Android";{const M=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==M?void 0:M.length))return M[1]}return"Other"}function pe(D=(0,P.z$)()){return/firefox\//i.test(D)}function he(D=(0,P.z$)()){const _=D.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function et(D=(0,P.z$)()){return/crios\//i.test(D)}function bt(D=(0,P.z$)()){return/iemobile/i.test(D)}function jt(D=(0,P.z$)()){return/android/i.test(D)}function rn(D=(0,P.z$)()){return/blackberry/i.test(D)}function Ln(D=(0,P.z$)()){return/webos/i.test(D)}function Bt(D=(0,P.z$)()){return/iphone|ipad|ipod/i.test(D)}function mr(D=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}function Cr(D=(0,P.z$)()){return Bt(D)||jt(D)||Ln(D)||rn(D)||/windows phone/i.test(D)||bt(D)}function Or(D,_=[]){let b;switch(D){case"Browser":b=Se((0,P.z$)());break;case"Worker":b=`${Se((0,P.z$)())}-${D}`;break;default:b=D}const M=_.length?_.join(","):"FirebaseCore-web";return`${b}/JsCore/${R.SDK_VERSION}/${M}`}class io{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,b){const M=Q=>new Promise((Le,ft)=>{try{Le(_(Q))}catch(zt){ft(zt)}});M.onAbort=b,this.queue.push(M);const U=this.queue.length-1;return()=>{this.queue[U]=()=>Promise.resolve()}}runMiddleware(_){var b=this;return(0,h.Z)(function*(){if(b.auth.currentUser===_)return;const M=[];try{for(const U of b.queue)yield U(_),U.onAbort&&M.push(U.onAbort)}catch(U){M.reverse();for(const Q of M)try{Q()}catch(Le){}throw b.auth._errorFactory.create("login-blocked",{originalMessage:U.message})}})()}}class ei{constructor(_,b,M){this.app=_,this.heartbeatServiceProvider=b,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _e(this),this.idTokenSubscription=new _e(this),this.beforeStateQueue=new io(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=me,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(_,b){var M=this;return b&&(this._popupRedirectResolver=Oe(b)),this._initializationPromise=this.queue((0,h.Z)(function*(){var U,Q;if(!M._deleted&&(M.persistenceManager=yield $t.create(M,_),!M._deleted)){if(null===(U=M._popupRedirectResolver)||void 0===U?void 0:U._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch(Le){}yield M.initializeCurrentUser(b),M.lastNotifiedUid=(null===(Q=M.currentUser)||void 0===Q?void 0:Q.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,h.Z)(function*(){if(_._deleted)return;const b=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||b){if(_.currentUser&&b&&_.currentUser.uid===b.uid)return _._currentUser._assign(b),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(b,!0)}})()}initializeCurrentUser(_){var b=this;return(0,h.Z)(function*(){var M;const U=yield b.assertedPersistence.getCurrentUser();let Q=U,Le=!1;if(_&&b.config.authDomain){yield b.getOrInitRedirectPersistenceManager();const ft=null===(M=b.redirectUser)||void 0===M?void 0:M._redirectEventId,zt=null==Q?void 0:Q._redirectEventId,nn=yield b.tryRedirectSignIn(_);(!ft||ft===zt)&&(null==nn?void 0:nn.user)&&(Q=nn.user,Le=!0)}if(!Q)return b.directlySetCurrentUser(null);if(!Q._redirectEventId){if(Le)try{yield b.beforeStateQueue.runMiddleware(Q)}catch(ft){Q=U,b._popupRedirectResolver._overrideRedirectResult(b,()=>Promise.reject(ft))}return Q?b.reloadAndSetCurrentUserOrClear(Q):b.directlySetCurrentUser(null)}return Te(b._popupRedirectResolver,b,"argument-error"),yield b.getOrInitRedirectPersistenceManager(),b.redirectUser&&b.redirectUser._redirectEventId===Q._redirectEventId?b.directlySetCurrentUser(Q):b.reloadAndSetCurrentUserOrClear(Q)})()}tryRedirectSignIn(_){var b=this;return(0,h.Z)(function*(){let M=null;try{M=yield b._popupRedirectResolver._completeRedirectFn(b,_,!0)}catch(U){yield b._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(_){var b=this;return(0,h.Z)(function*(){try{yield rr(_)}catch(M){if("auth/network-request-failed"!==M.code)return b.directlySetCurrentUser(null)}return b.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function xt(){if("undefined"==typeof navigator)return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var _=this;return(0,h.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var b=this;return(0,h.Z)(function*(){const M=_?(0,P.m9)(_):null;return M&&Te(M.auth.config.apiKey===b.config.apiKey,b,"invalid-user-token"),b._updateCurrentUser(M&&M._clone(b))})()}_updateCurrentUser(_,b=!1){var M=this;return(0,h.Z)(function*(){if(!M._deleted)return _&&Te(M.tenantId===_.tenantId,M,"tenant-id-mismatch"),b||(yield M.beforeStateQueue.runMiddleware(_)),M.queue((0,h.Z)(function*(){yield M.directlySetCurrentUser(_),M.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,h.Z)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var b=this;return this.queue((0,h.Z)(function*(){yield b.assertedPersistence.setPersistence(Oe(_))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new P.LL("auth","Firebase",_())}onAuthStateChanged(_,b,M){return this.registerStateListener(this.authStateSubscription,_,b,M)}beforeAuthStateChanged(_,b){return this.beforeStateQueue.pushCallback(_,b)}onIdTokenChanged(_,b,M){return this.registerStateListener(this.idTokenSubscription,_,b,M)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,b){var M=this;return(0,h.Z)(function*(){const U=yield M.getOrInitRedirectPersistenceManager(b);return null===_?U.removeCurrentUser():U.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var b=this;return(0,h.Z)(function*(){if(!b.redirectPersistenceManager){const M=_&&Oe(_)||b._popupRedirectResolver;Te(M,b,"argument-error"),b.redirectPersistenceManager=yield $t.create(b,[Oe(M._redirectPersistence)],"redirectUser"),b.redirectUser=yield b.redirectPersistenceManager.getCurrentUser()}return b.redirectPersistenceManager})()}_redirectUserForId(_){var b=this;return(0,h.Z)(function*(){var M,U;return b._isInitialized&&(yield b.queue((0,h.Z)(function*(){}))),(null===(M=b._currentUser)||void 0===M?void 0:M._redirectEventId)===_?b._currentUser:(null===(U=b.redirectUser)||void 0===U?void 0:U._redirectEventId)===_?b.redirectUser:null})()}_persistUserIfCurrent(_){var b=this;return(0,h.Z)(function*(){if(_===b.currentUser)return b.queue((0,h.Z)(function*(){return b.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,b;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(b=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==b?b:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,b,M,U){if(this._deleted)return()=>{};const Q="function"==typeof b?b:b.next.bind(b),Le=this._isInitialized?Promise.resolve():this._initializationPromise;return Te(Le,this,"internal-error"),Le.then(()=>Q(this.currentUser)),"function"==typeof b?_.addObserver(b,M,U):_.addObserver(b)}directlySetCurrentUser(_){var b=this;return(0,h.Z)(function*(){b.currentUser&&b.currentUser!==_&&(b._currentUser._stopProactiveRefresh(),_&&b.isProactiveRefreshEnabled&&_._startProactiveRefresh()),b.currentUser=_,_?yield b.assertedPersistence.setCurrentUser(_):yield b.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=Or(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,h.Z)(function*(){var b;const M={"X-Client-Version":_.clientVersion};_.app.options.appId&&(M["X-Firebase-gmpid"]=_.app.options.appId);const U=yield null===(b=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===b?void 0:b.getHeartbeatsHeader();return U&&(M["X-Firebase-Client"]=U),M})()}}function At(D){return(0,P.m9)(D)}class _e{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,P.ne)(b=>this.observer=b)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function He(D,_,b){const M=At(D);Te(M._canInitEmulator,M,"emulator-config-failed"),Te(/^https?:\/\//.test(_),M,"invalid-emulator-scheme");const U=!!(null==b?void 0:b.disableWarnings),Q=ct(_),{host:Le,port:ft}=function Ht(D){const _=ct(D),b=/(\/\/)?([^?#/]+)/.exec(D.substr(_.length));if(!b)return{host:"",port:null};const M=b[2].split("@").pop()||"",U=/^(\[[^\]]+\])(:|$)/.exec(M);if(U){const Q=U[1];return{host:Q,port:In(M.substr(Q.length+1))}}{const[Q,Le]=M.split(":");return{host:Q,port:In(Le)}}}(_);M.config.emulator={url:`${Q}//${Le}${null===ft?"":`:${ft}`}/`},M.settings.appVerificationDisabledForTesting=!0,M.emulatorConfig=Object.freeze({host:Le,port:ft,protocol:Q.replace(":",""),options:Object.freeze({disableWarnings:U})}),U||function On(){function D(){const _=document.createElement("p"),b=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",b.position="fixed",b.width="100%",b.backgroundColor="#ffffff",b.border=".1em solid #000000",b.color="#b50000",b.bottom="0px",b.left="0px",b.margin="0px",b.zIndex="10000",b.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}function ct(D){const _=D.indexOf(":");return _<0?"":D.substr(0,_+1)}function In(D){if(!D)return null;const _=Number(D);return isNaN(_)?null:_}class Sn{constructor(_,b){this.providerId=_,this.signInMethod=b}toJSON(){return Re("not implemented")}_getIdTokenResponse(_){return Re("not implemented")}_linkToIdToken(_,b){return Re("not implemented")}_getReauthenticationResolver(_){return Re("not implemented")}}function gr(D,_){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,h.Z)(function*(D,_){return Ee(D,"POST","/v1/accounts:resetPassword",Ae(D,_))})).apply(this,arguments)}function tn(D,_){return hs.apply(this,arguments)}function hs(){return(hs=(0,h.Z)(function*(D,_){return Ee(D,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function yi(D,_){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,h.Z)(function*(D,_){return Ee(D,"POST","/v1/accounts:update",Ae(D,_))})).apply(this,arguments)}function Br(){return(Br=(0,h.Z)(function*(D,_){return qe(D,"POST","/v1/accounts:signInWithPassword",Ae(D,_))})).apply(this,arguments)}function ps(D,_){return gs.apply(this,arguments)}function gs(){return(gs=(0,h.Z)(function*(D,_){return Ee(D,"POST","/v1/accounts:sendOobCode",Ae(D,_))})).apply(this,arguments)}function yr(D,_){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,h.Z)(function*(D,_){return ps(D,_)})).apply(this,arguments)}function La(D,_){return ta.apply(this,arguments)}function ta(){return(ta=(0,h.Z)(function*(D,_){return ps(D,_)})).apply(this,arguments)}function di(D,_){return fi.apply(this,arguments)}function fi(){return(fi=(0,h.Z)(function*(D,_){return ps(D,_)})).apply(this,arguments)}function na(D,_){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,h.Z)(function*(D,_){return ps(D,_)})).apply(this,arguments)}function _i(){return(_i=(0,h.Z)(function*(D,_){return qe(D,"POST","/v1/accounts:signInWithEmailLink",Ae(D,_))})).apply(this,arguments)}function Va(){return(Va=(0,h.Z)(function*(D,_){return qe(D,"POST","/v1/accounts:signInWithEmailLink",Ae(D,_))})).apply(this,arguments)}class ra extends Sn{constructor(_,b,M,U=null){super("password",M),this._email=_,this._password=b,this._tenantId=U}static _fromEmailAndPassword(_,b){return new ra(_,b,"password")}static _fromEmailAndCode(_,b,M=null){return new ra(_,b,"emailLink",M)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const b="string"==typeof _?JSON.parse(_):_;if((null==b?void 0:b.email)&&(null==b?void 0:b.password)){if("password"===b.signInMethod)return this._fromEmailAndPassword(b.email,b.password);if("emailLink"===b.signInMethod)return this._fromEmailAndCode(b.email,b.password,b.tenantId)}return null}_getIdTokenResponse(_){var b=this;return(0,h.Z)(function*(){switch(b.signInMethod){case"password":return function Ji(D,_){return Br.apply(this,arguments)}(_,{returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function so(D,_){return _i.apply(this,arguments)}(_,{email:b._email,oobCode:b._password});default:Qe(_,"internal-error")}})()}_linkToIdToken(_,b){var M=this;return(0,h.Z)(function*(){switch(M.signInMethod){case"password":return tn(_,{idToken:b,returnSecureToken:!0,email:M._email,password:M._password});case"emailLink":return function uc(D,_){return Va.apply(this,arguments)}(_,{idToken:b,email:M._email,oobCode:M._password});default:Qe(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function Rr(D,_){return ou.apply(this,arguments)}function ou(){return(ou=(0,h.Z)(function*(D,_){return qe(D,"POST","/v1/accounts:signInWithIdp",Ae(D,_))})).apply(this,arguments)}class Xi extends Sn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const b=new Xi(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(b.idToken=_.idToken),_.accessToken&&(b.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(b.nonce=_.nonce),_.pendingToken&&(b.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(b.accessToken=_.oauthToken,b.secret=_.oauthTokenSecret):Qe("argument-error"),b}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const b="string"==typeof _?JSON.parse(_):_,{providerId:M,signInMethod:U}=b,Q=(0,G.__rest)(b,["providerId","signInMethod"]);if(!M||!U)return null;const Le=new Xi(M,U);return Le.idToken=Q.idToken||void 0,Le.accessToken=Q.accessToken||void 0,Le.secret=Q.secret,Le.nonce=Q.nonce,Le.pendingToken=Q.pendingToken||null,Le}_getIdTokenResponse(_){return Rr(_,this.buildRequest())}_linkToIdToken(_,b){const M=this.buildRequest();return M.idToken=b,Rr(_,M)}_getReauthenticationResolver(_){const b=this.buildRequest();return b.autoCreate=!1,Rr(_,b)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const b={};this.idToken&&(b.id_token=this.idToken),this.accessToken&&(b.access_token=this.accessToken),this.secret&&(b.oauth_token_secret=this.secret),b.providerId=this.providerId,this.nonce&&!this.pendingToken&&(b.nonce=this.nonce),_.postBody=(0,P.xO)(b)}return _}}function Ba(D,_){return No.apply(this,arguments)}function No(){return(No=(0,h.Z)(function*(D,_){return Ee(D,"POST","/v1/accounts:sendVerificationCode",Ae(D,_))})).apply(this,arguments)}function Dr(){return(Dr=(0,h.Z)(function*(D,_){return qe(D,"POST","/v1/accounts:signInWithPhoneNumber",Ae(D,_))})).apply(this,arguments)}function Ls(){return(Ls=(0,h.Z)(function*(D,_){const b=yield qe(D,"POST","/v1/accounts:signInWithPhoneNumber",Ae(D,_));if(b.temporaryProof)throw fn(D,"account-exists-with-different-credential",b);return b})).apply(this,arguments)}const yd={USER_NOT_FOUND:"user-not-found"};function Al(){return(Al=(0,h.Z)(function*(D,_){return qe(D,"POST","/v1/accounts:signInWithPhoneNumber",Ae(D,Object.assign(Object.assign({},_),{operation:"REAUTH"})),yd)})).apply(this,arguments)}class ms extends Sn{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,b){return new ms({verificationId:_,verificationCode:b})}static _fromTokenResponse(_,b){return new ms({phoneNumber:_,temporaryProof:b})}_getIdTokenResponse(_){return function vd(D,_){return Dr.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,b){return function au(D,_){return Ls.apply(this,arguments)}(_,Object.assign({idToken:b},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function bl(D,_){return Al.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:b,verificationId:M,verificationCode:U}=this.params;return _&&b?{temporaryProof:_,phoneNumber:b}:{sessionInfo:M,code:U}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:b,verificationCode:M,phoneNumber:U,temporaryProof:Q}=_;return M||b||U||Q?new ms({verificationId:b,verificationCode:M,phoneNumber:U,temporaryProof:Q}):null}}class zi{constructor(_){var b,M,U,Q,Le,ft;const zt=(0,P.zd)((0,P.pd)(_)),nn=null!==(b=zt.apiKey)&&void 0!==b?b:null,Vn=null!==(M=zt.oobCode)&&void 0!==M?M:null,Ir=function _d(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(U=zt.mode)&&void 0!==U?U:null);Te(nn&&Vn&&Ir,"argument-error"),this.apiKey=nn,this.operation=Ir,this.code=Vn,this.continueUrl=null!==(Q=zt.continueUrl)&&void 0!==Q?Q:null,this.languageCode=null!==(Le=zt.languageCode)&&void 0!==Le?Le:null,this.tenantId=null!==(ft=zt.tenantId)&&void 0!==ft?ft:null}static parseLink(_){const b=function Ua(D){const _=(0,P.zd)((0,P.pd)(D)).link,b=_?(0,P.zd)((0,P.pd)(_)).deep_link_id:null,M=(0,P.zd)((0,P.pd)(D)).deep_link_id;return(M?(0,P.zd)((0,P.pd)(M)).link:null)||M||b||_||D}(_);try{return new zi(b)}catch(M){return null}}}let ko=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(b,M){return ra._fromEmailAndPassword(b,M)}static credentialWithLink(b,M){const U=zi.parseLink(M);return Te(U,"argument-error"),ra._fromEmailAndCode(b,U.code,U.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class $i{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class Ii extends $i{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class ia extends Ii{static credentialFromJSON(_){const b="string"==typeof _?JSON.parse(_):_;return Te("providerId"in b&&"signInMethod"in b,"argument-error"),Xi._fromParams(b)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return Te(_.idToken||_.accessToken,"argument-error"),Xi._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return ia.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return ia.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:b,oauthAccessToken:M,oauthTokenSecret:U,pendingToken:Q,nonce:Le,providerId:ft}=_;if(!M&&!U&&!b&&!Q||!ft)return null;try{return new ia(ft)._credential({idToken:b,accessToken:M,nonce:Le,pendingToken:Q})}catch(zt){return null}}}let hi=(()=>{class D extends Ii{constructor(){super("facebook.com")}static credential(b){return Xi._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return D.credentialFromTaggedObject(b)}static credentialFromError(b){return D.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return D.credential(b.oauthAccessToken)}catch(M){return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),oo=(()=>{class D extends Ii{constructor(){super("google.com"),this.addScope("profile")}static credential(b,M){return Xi._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:b,accessToken:M})}static credentialFromResult(b){return D.credentialFromTaggedObject(b)}static credentialFromError(b){return D.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthIdToken:M,oauthAccessToken:U}=b;if(!M&&!U)return null;try{return D.credential(M,U)}catch(Q){return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),sa=(()=>{class D extends Ii{constructor(){super("github.com")}static credential(b){return Xi._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:b})}static credentialFromResult(b){return D.credentialFromTaggedObject(b)}static credentialFromError(b){return D.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b||!("oauthAccessToken"in b)||!b.oauthAccessToken)return null;try{return D.credential(b.oauthAccessToken)}catch(M){return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class es extends Sn{constructor(_,b){super(_,_),this.pendingToken=b}_getIdTokenResponse(_){return Rr(_,this.buildRequest())}_linkToIdToken(_,b){const M=this.buildRequest();return M.idToken=b,Rr(_,M)}_getReauthenticationResolver(_){const b=this.buildRequest();return b.autoCreate=!1,Rr(_,b)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const b="string"==typeof _?JSON.parse(_):_,{providerId:M,signInMethod:U,pendingToken:Q}=b;return M&&U&&Q&&M===U?new es(M,Q):null}static _create(_,b){return new es(_,b)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class vs extends $i{constructor(_){Te(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return vs.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return vs.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const b=es.fromJSON(_);return Te(b,"argument-error"),b}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:b,providerId:M}=_;if(!b||!M)return null;try{return es._create(M,b)}catch(U){return null}}}let oa=(()=>{class D extends Ii{constructor(){super("twitter.com")}static credential(b,M){return Xi._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:b,oauthTokenSecret:M})}static credentialFromResult(b){return D.credentialFromTaggedObject(b)}static credentialFromError(b){return D.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{oauthAccessToken:M,oauthTokenSecret:U}=b;if(!M||!U)return null;try{return D.credential(M,U)}catch(Q){return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function Bs(D,_){return jr.apply(this,arguments)}function jr(){return(jr=(0,h.Z)(function*(D,_){return qe(D,"POST","/v1/accounts:signUp",Ae(D,_))})).apply(this,arguments)}class Gr{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,b,M,U=!1){return(0,h.Z)(function*(){const Q=yield Pe._fromIdTokenResponse(_,M,U),Le=wl(M);return new Gr({user:Q,providerId:Le,_tokenResponse:M,operationType:b})})()}static _forOperation(_,b,M){return(0,h.Z)(function*(){yield _._updateTokensIfNecessary(M,!0);const U=wl(M);return new Gr({user:_,providerId:U,_tokenResponse:M,operationType:b})})()}}function wl(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function lu(D){return cc.apply(this,arguments)}function cc(){return(cc=(0,h.Z)(function*(D){var _;const b=At(D);if(yield b._initializationPromise,null===(_=b.currentUser)||void 0===_?void 0:_.isAnonymous)return new Gr({user:b.currentUser,providerId:null,operationType:"signIn"});const M=yield Bs(b,{returnSecureToken:!0}),U=yield Gr._fromIdTokenResponse(b,"signIn",M,!0);return yield b._updateCurrentUser(U.user),U})).apply(this,arguments)}class aa extends P.ZR{constructor(_,b,M,U){var Q;super(b.code,b.message),this.operationType=M,this.user=U,Object.setPrototypeOf(this,aa.prototype),this.customData={appName:_.name,tenantId:null!==(Q=_.tenantId)&&void 0!==Q?Q:void 0,_serverResponse:b.customData._serverResponse,operationType:M}}static _fromErrorAndOperation(_,b,M,U){return new aa(_,b,M,U)}}function Po(D,_,b,M){return("reauthenticate"===_?b._getReauthenticationResolver(D):b._getIdTokenResponse(D)).catch(Q=>{throw"auth/multi-factor-auth-required"===Q.code?aa._fromErrorAndOperation(D,Q,_,M):Q})}function ts(D){return new Set(D.map(({providerId:_})=>_).filter(_=>!!_))}function ao(D,_){return dc.apply(this,arguments)}function dc(){return(dc=(0,h.Z)(function*(D,_){const b=(0,P.m9)(D);yield ys(!0,b,_);const{providerUserInfo:M}=yield Xt(b.auth,{idToken:yield b.getIdToken(),deleteProvider:[_]}),U=ts(M||[]);return b.providerData=b.providerData.filter(Q=>U.has(Q.providerId)),U.has("phone")||(b.phoneNumber=null),yield b.auth._persistUserIfCurrent(b),b})).apply(this,arguments)}function fr(D,_){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,h.Z)(function*(D,_,b=!1){const M=yield Rt(D,_._linkToIdToken(D.auth,yield D.getIdToken()),b);return Gr._forOperation(D,"link",M)})).apply(this,arguments)}function ys(D,_,b){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,h.Z)(function*(D,_,b){yield rr(_);const U=!1===D?"provider-already-linked":"no-such-provider";Te(ts(_.providerData).has(b)===D,_.auth,U)})).apply(this,arguments)}function la(D,_){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,h.Z)(function*(D,_,b=!1){const{auth:M}=D,U="reauthenticate";try{const Q=yield Rt(D,Po(M,U,_,D),b);Te(Q.idToken,M,"internal-error");const Le=un(Q.idToken);Te(Le,M,"internal-error");const{sub:ft}=Le;return Te(D.uid===ft,M,"user-mismatch"),Gr._forOperation(D,U,Q)}catch(Q){throw"auth/user-not-found"===(null==Q?void 0:Q.code)&&Qe(M,"user-mismatch"),Q}})).apply(this,arguments)}function lo(D,_){return ti.apply(this,arguments)}function ti(){return(ti=(0,h.Z)(function*(D,_,b=!1){const M="signIn",U=yield Po(D,M,_),Q=yield Gr._fromIdTokenResponse(D,M,U);return b||(yield D._updateCurrentUser(Q.user)),Q})).apply(this,arguments)}function Us(D,_){return ua.apply(this,arguments)}function ua(){return(ua=(0,h.Z)(function*(D,_){return lo(At(D),_)})).apply(this,arguments)}function K(D,_){return Z.apply(this,arguments)}function Z(){return(Z=(0,h.Z)(function*(D,_){const b=(0,P.m9)(D);return yield ys(!1,b,_.providerId),fr(b,_)})).apply(this,arguments)}function we(D,_){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,h.Z)(function*(D,_){return la((0,P.m9)(D),_)})).apply(this,arguments)}function _t(D,_){return It.apply(this,arguments)}function It(){return(It=(0,h.Z)(function*(D,_){return qe(D,"POST","/v1/accounts:signInWithCustomToken",Ae(D,_))})).apply(this,arguments)}function cn(D,_){return or.apply(this,arguments)}function or(){return(or=(0,h.Z)(function*(D,_){const b=At(D),M=yield _t(b,{token:_,returnSecureToken:!0}),U=yield Gr._fromIdTokenResponse(b,"signIn",M);return yield b._updateCurrentUser(U.user),U})).apply(this,arguments)}class Gt{constructor(_,b){this.factorId=_,this.uid=b.mfaEnrollmentId,this.enrollmentTime=new Date(b.enrolledAt).toUTCString(),this.displayName=b.displayName}static _fromServerResponse(_,b){return"phoneInfo"in b?ar._fromServerResponse(_,b):Qe(_,"internal-error")}}class ar extends Gt{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,b){return new ar(b)}}function cr(D,_,b){var M;Te((null===(M=b.url)||void 0===M?void 0:M.length)>0,D,"invalid-continue-uri"),Te(void 0===b.dynamicLinkDomain||b.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),_.continueUrl=b.url,_.dynamicLinkDomain=b.dynamicLinkDomain,_.canHandleCodeInApp=b.handleCodeInApp,b.iOS&&(Te(b.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),_.iOSBundleId=b.iOS.bundleId),b.android&&(Te(b.android.packageName.length>0,D,"missing-android-pkg-name"),_.androidInstallApp=b.android.installApp,_.androidMinimumVersionCode=b.android.minimumVersion,_.androidPackageName=b.android.packageName)}function Fn(D,_,b){return ns.apply(this,arguments)}function ns(){return(ns=(0,h.Z)(function*(D,_,b){const M=(0,P.m9)(D),U={requestType:"PASSWORD_RESET",email:_};b&&cr(M,U,b),yield La(M,U)})).apply(this,arguments)}function _s(D,_,b){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,h.Z)(function*(D,_,b){yield gr((0,P.m9)(D),{oobCode:_,newPassword:b})})).apply(this,arguments)}function ja(D,_){return rs.apply(this,arguments)}function rs(){return(rs=(0,h.Z)(function*(D,_){yield yi((0,P.m9)(D),{oobCode:_})})).apply(this,arguments)}function ot(D,_){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,h.Z)(function*(D,_){const b=(0,P.m9)(D),M=yield gr(b,{oobCode:_}),U=M.requestType;switch(Te(U,b,"internal-error"),U){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Te(M.newEmail,b,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Te(M.mfaInfo,b,"internal-error");default:Te(M.email,b,"internal-error")}let Q=null;return M.mfaInfo&&(Q=Gt._fromServerResponse(At(b),M.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.newEmail:M.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===M.requestType?M.email:M.newEmail)||null,multiFactorInfo:Q},operation:U}})).apply(this,arguments)}function uo(D,_){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,h.Z)(function*(D,_){const{data:b}=yield ot((0,P.m9)(D),_);return b.email})).apply(this,arguments)}function bd(D,_,b){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,h.Z)(function*(D,_,b){const M=At(D),U=yield Bs(M,{returnSecureToken:!0,email:_,password:b}),Q=yield Gr._fromIdTokenResponse(M,"signIn",U);return yield M._updateCurrentUser(Q.user),Q})).apply(this,arguments)}function js(D,_,b){return Us((0,P.m9)(D),ko.credential(_,b))}function fc(D,_,b){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,h.Z)(function*(D,_,b){const M=(0,P.m9)(D),U={requestType:"EMAIL_SIGNIN",email:_};Te(b.handleCodeInApp,M,"argument-error"),b&&cr(M,U,b),yield di(M,U)})).apply(this,arguments)}function Ad(D,_){const b=zi.parseLink(_);return"EMAIL_SIGNIN"===(null==b?void 0:b.operation)}function wd(D,_,b){return Cd.apply(this,arguments)}function Cd(){return(Cd=(0,h.Z)(function*(D,_,b){const M=(0,P.m9)(D),U=ko.credentialWithLink(_,b||ke());return Te(U._tenantId===(M.tenantId||null),M,"tenant-id-mismatch"),Us(M,U)})).apply(this,arguments)}function Ga(D,_){return ni.apply(this,arguments)}function ni(){return(ni=(0,h.Z)(function*(D,_){return Ee(D,"POST","/v1/accounts:createAuthUri",Ae(D,_))})).apply(this,arguments)}function Es(D,_){return za.apply(this,arguments)}function za(){return(za=(0,h.Z)(function*(D,_){const M={identifier:_,continueUri:Wt()?ke():"http://localhost"},{signinMethods:U}=yield Ga((0,P.m9)(D),M);return U||[]})).apply(this,arguments)}function ca(D,_){return bs.apply(this,arguments)}function bs(){return(bs=(0,h.Z)(function*(D,_){const b=(0,P.m9)(D),U={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};_&&cr(b.auth,U,_);const{email:Q}=yield yr(b.auth,U);Q!==D.email&&(yield D.reload())})).apply(this,arguments)}function ch(D,_,b){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,h.Z)(function*(D,_,b){const M=(0,P.m9)(D),Q={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:_};b&&cr(M.auth,Q,b);const{email:Le}=yield na(M.auth,Q);Le!==D.email&&(yield D.reload())})).apply(this,arguments)}function dh(D,_){return uu.apply(this,arguments)}function uu(){return(uu=(0,h.Z)(function*(D,_){return Ee(D,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Tl(D,_){return cu.apply(this,arguments)}function cu(){return(cu=(0,h.Z)(function*(D,{displayName:_,photoURL:b}){if(void 0===_&&void 0===b)return;const M=(0,P.m9)(D),Q={idToken:yield M.getIdToken(),displayName:_,photoUrl:b,returnSecureToken:!0},Le=yield Rt(M,dh(M.auth,Q));M.displayName=Le.displayName||null,M.photoURL=Le.photoUrl||null;const ft=M.providerData.find(({providerId:zt})=>"password"===zt);ft&&(ft.displayName=M.displayName,ft.photoURL=M.photoURL),yield M._updateTokensIfNecessary(Le)})).apply(this,arguments)}function Dd(D,_){return Sl((0,P.m9)(D),_,null)}function Td(D,_){return Sl((0,P.m9)(D),null,_)}function Sl(D,_,b){return du.apply(this,arguments)}function du(){return(du=(0,h.Z)(function*(D,_,b){const{auth:M}=D,Q={idToken:yield D.getIdToken(),returnSecureToken:!0};_&&(Q.email=_),b&&(Q.password=b);const Le=yield Rt(D,tn(M,Q));yield D._updateTokensIfNecessary(Le,!0)})).apply(this,arguments)}class Fo{constructor(_,b,M={}){this.isNewUser=_,this.providerId=b,this.profile=M}}class Il extends Fo{constructor(_,b,M,U){super(_,b,M),this.username=U}}class Sd extends Fo{constructor(_,b){super(_,"facebook.com",b)}}class hc extends Il{constructor(_,b){super(_,"github.com",b,"string"==typeof(null==b?void 0:b.login)?null==b?void 0:b.login:null)}}class As extends Fo{constructor(_,b){super(_,"google.com",b)}}class fh extends Il{constructor(_,b,M){super(_,"twitter.com",b,M)}}function hh(D){const{user:_,_tokenResponse:b}=D;return _.isAnonymous&&!b?{providerId:null,isNewUser:!1,profile:null}:function zr(D){var _,b;if(!D)return null;const{providerId:M}=D,U=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},Q=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!M&&(null==D?void 0:D.idToken)){const Le=null===(b=null===(_=un(D.idToken))||void 0===_?void 0:_.firebase)||void 0===b?void 0:b.sign_in_provider;if(Le)return new Fo(Q,"anonymous"!==Le&&"custom"!==Le?Le:null)}if(!M)return null;switch(M){case"facebook.com":return new Sd(Q,U);case"github.com":return new hc(Q,U);case"google.com":return new As(Q,U);case"twitter.com":return new fh(Q,U,D.screenName||null);case"custom":case"anonymous":return new Fo(Q,null);default:return new Fo(Q,M,U)}}(b)}function Id(D){return(0,P.m9)(D).signOut()}class zs{constructor(_,b){this.type=_,this.credential=b}static _fromIdtoken(_){return new zs("enroll",_)}static _fromMfaPendingCredential(_){return new zs("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var b,M;if(null==_?void 0:_.multiFactorSession){if(null===(b=_.multiFactorSession)||void 0===b?void 0:b.pendingCredential)return zs._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null===(M=_.multiFactorSession)||void 0===M?void 0:M.idToken)return zs._fromIdtoken(_.multiFactorSession.idToken)}return null}}class Ml{constructor(_,b,M){this.session=_,this.hints=b,this.signInResolver=M}static _fromError(_,b){const M=At(_),U=b.customData._serverResponse,Q=(U.mfaInfo||[]).map(ft=>Gt._fromServerResponse(M,ft));Te(U.mfaPendingCredential,M,"internal-error");const Le=zs._fromMfaPendingCredential(U.mfaPendingCredential);return new Ml(Le,Q,function(){var ft=(0,h.Z)(function*(zt){const nn=yield zt._process(M,Le);delete U.mfaInfo,delete U.mfaPendingCredential;const Vn=Object.assign(Object.assign({},U),{idToken:nn.idToken,refreshToken:nn.refreshToken});switch(b.operationType){case"signIn":const Ir=yield Gr._fromIdTokenResponse(M,b.operationType,Vn);return yield M._updateCurrentUser(Ir.user),Ir;case"reauthenticate":return Te(b.user,M,"internal-error"),Gr._forOperation(b.user,b.operationType,Vn);default:Qe(M,"internal-error")}});return function(zt){return ft.apply(this,arguments)}}())}resolveSignIn(_){var b=this;return(0,h.Z)(function*(){return b.signInResolver(_)})()}}function fu(D,_){var b;const M=(0,P.m9)(D),U=_;return Te(_.customData.operationType,M,"argument-error"),Te(null===(b=U.customData._serverResponse)||void 0===b?void 0:b.mfaPendingCredential,M,"argument-error"),Ml._fromError(M,U)}function pc(D,_){return Ee(D,"POST","/v2/accounts/mfaEnrollment:start",Ae(D,_))}class co{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(b=>{b.mfaInfo&&(this.enrolledFactors=b.mfaInfo.map(M=>Gt._fromServerResponse(_.auth,M)))})}static _fromUser(_){return new co(_)}getSession(){var _=this;return(0,h.Z)(function*(){return zs._fromIdtoken(yield _.user.getIdToken())})()}enroll(_,b){var M=this;return(0,h.Z)(function*(){const U=_,Q=yield M.getSession(),Le=yield Rt(M.user,U._process(M.user.auth,Q,b));return yield M.user._updateTokensIfNecessary(Le),M.user.reload()})()}unenroll(_){var b=this;return(0,h.Z)(function*(){const M="string"==typeof _?_:_.uid,U=yield b.user.getIdToken(),Q=yield Rt(b.user,function vh(D,_){return Ee(D,"POST","/v2/accounts/mfaEnrollment:withdraw",Ae(D,_))}(b.user.auth,{idToken:U,mfaEnrollmentId:M}));b.enrolledFactors=b.enrolledFactors.filter(({uid:Le})=>Le!==M),yield b.user._updateTokensIfNecessary(Q);try{yield b.user.reload()}catch(Le){if("auth/user-token-expired"!==Le.code)throw Le}})()}}const $a=new WeakMap;function yh(D){const _=(0,P.m9)(D);return $a.has(_)||$a.set(_,co._fromUser(_)),$a.get(_)}const xl="__sak";class Wa{constructor(_,b){this.storageRetriever=_,this.type=b}_isAvailable(){try{return this.storage?(this.storage.setItem(xl,"1"),this.storage.removeItem(xl),Promise.resolve(!0)):Promise.resolve(!1)}catch(_){return Promise.resolve(!1)}}_set(_,b){return this.storage.setItem(_,JSON.stringify(b)),Promise.resolve()}_get(_){const b=this.storage.getItem(_);return Promise.resolve(b?JSON.parse(b):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const _h=(()=>{class D extends Wa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(b,M)=>this.onStorageEvent(b,M),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function hu(){const D=(0,P.z$)();return he(D)||Bt(D)}()&&function ci(){try{return!(!window||window===window.top)}catch(D){return!1}}(),this.fallbackToPolling=Cr(),this._shouldAllowMigration=!0}forAllChangedKeys(b){for(const M of Object.keys(this.listeners)){const U=this.storage.getItem(M),Q=this.localCache[M];U!==Q&&b(M,Q,U)}}onStorageEvent(b,M=!1){if(!b.key)return void this.forAllChangedKeys((ft,zt,nn)=>{this.notifyListeners(ft,nn)});const U=b.key;if(M?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ft=this.storage.getItem(U);if(b.newValue!==ft)null!==b.newValue?this.storage.setItem(U,b.newValue):this.storage.removeItem(U);else if(this.localCache[U]===b.newValue&&!M)return}const Q=()=>{const ft=this.storage.getItem(U);!M&&this.localCache[U]===ft||this.notifyListeners(U,ft)},Le=this.storage.getItem(U);!function Rn(){return(0,P.w1)()&&10===document.documentMode}()||Le===b.newValue||b.newValue===b.oldValue?Q():setTimeout(Q,10)}notifyListeners(b,M){this.localCache[b]=M;const U=this.listeners[b];if(U)for(const Q of Array.from(U))Q(M&&JSON.parse(M))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((b,M,U)=>{this.onStorageEvent(new StorageEvent("storage",{key:b,oldValue:M,newValue:U}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(b,M){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[b]||(this.listeners[b]=new Set,this.localCache[b]=this.storage.getItem(b)),this.listeners[b].add(M)}_removeListener(b,M){this.listeners[b]&&(this.listeners[b].delete(M),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(b,M){var U=()=>super._set,Q=this;return(0,h.Z)(function*(){yield U().call(Q,b,M),Q.localCache[b]=JSON.stringify(M)})()}_get(b){var M=()=>super._get,U=this;return(0,h.Z)(function*(){const Q=yield M().call(U,b);return U.localCache[b]=JSON.stringify(Q),Q})()}_remove(b){var M=()=>super._remove,U=this;return(0,h.Z)(function*(){yield M().call(U,b),delete U.localCache[b]})()}}return D.type="LOCAL",D})(),pu=(()=>{class D extends Wa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(b,M){}_removeListener(b,M){}}return D.type="SESSION",D})();let da=(()=>{class D{constructor(b){this.eventTarget=b,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(b){const M=this.receivers.find(Q=>Q.isListeningto(b));if(M)return M;const U=new D(b);return this.receivers.push(U),U}isListeningto(b){return this.eventTarget===b}handleEvent(b){var M=this;return(0,h.Z)(function*(){const U=b,{eventId:Q,eventType:Le,data:ft}=U.data,zt=M.handlersMap[Le];if(!(null==zt?void 0:zt.size))return;U.ports[0].postMessage({status:"ack",eventId:Q,eventType:Le});const nn=Array.from(zt).map(function(){var Ir=(0,h.Z)(function*(Ri){return Ri(U.origin,ft)});return function(Ri){return Ir.apply(this,arguments)}}()),Vn=yield function gc(D){return Promise.all(D.map(function(){var _=(0,h.Z)(function*(b){try{return{fulfilled:!0,value:yield b}}catch(M){return{fulfilled:!1,reason:M}}});return function(b){return _.apply(this,arguments)}}()))}(nn);U.ports[0].postMessage({status:"done",eventId:Q,eventType:Le,response:Vn})})()}_subscribe(b,M){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[b]||(this.handlersMap[b]=new Set),this.handlersMap[b].add(M)}_unsubscribe(b,M){this.handlersMap[b]&&M&&this.handlersMap[b].delete(M),(!M||0===this.handlersMap[b].size)&&delete this.handlersMap[b],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function fo(D="",_=10){let b="";for(let M=0;M<_;M++)b+=Math.floor(10*Math.random());return D+b}class Nl{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,b,M=50){var U=this;return(0,h.Z)(function*(){const Q="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!Q)throw new Error("connection_unavailable");let Le,ft;return new Promise((zt,nn)=>{const Vn=fo("",20);Q.port1.start();const Ir=setTimeout(()=>{nn(new Error("unsupported_event"))},M);ft={messageChannel:Q,onMessage(Ri){const Is=Ri;if(Is.data.eventId===Vn)switch(Is.data.status){case"ack":clearTimeout(Ir),Le=setTimeout(()=>{nn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Le),zt(Is.data.response);break;default:clearTimeout(Ir),clearTimeout(Le),nn(new Error("invalid_response"))}}},U.handlers.add(ft),Q.port1.addEventListener("message",ft.onMessage),U.target.postMessage({eventType:_,eventId:Vn,data:b},[Q.port2])}).finally(()=>{ft&&U.removeMessageHandler(ft)})})()}}function lr(){return window}function gn(){return void 0!==lr().WorkerGlobalScope&&"function"==typeof lr().importScripts}function fa(){return(fa=(0,h.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(D){return null}})).apply(this,arguments)}const gu="firebaseLocalStorageDb",ws="firebaseLocalStorage",pi="fbase_key";class ha{constructor(_){this.request=_}toPromise(){return new Promise((_,b)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{b(this.request.error)})})}}function ho(D,_){return D.transaction([ws],_?"readwrite":"readonly").objectStore(ws)}function qa(){const D=indexedDB.open(gu,1);return new Promise((_,b)=>{D.addEventListener("error",()=>{b(D.error)}),D.addEventListener("upgradeneeded",()=>{const M=D.result;try{M.createObjectStore(ws,{keyPath:pi})}catch(U){b(U)}}),D.addEventListener("success",(0,h.Z)(function*(){const M=D.result;M.objectStoreNames.contains(ws)?_(M):(M.close(),yield function mu(){const D=indexedDB.deleteDatabase(gu);return new ha(D).toPromise()}(),_(yield qa()))}))})}function Rd(D,_,b){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,h.Z)(function*(D,_,b){const M=ho(D,!0).put({[pi]:_,value:b});return new ha(M).toPromise()})).apply(this,arguments)}function pa(){return(pa=(0,h.Z)(function*(D,_){const b=ho(D,!1).get(_),M=yield new ha(b).toPromise();return void 0===M?null:M.value})).apply(this,arguments)}function Qr(D,_){const b=ho(D,!0).delete(_);return new ha(b).toPromise()}const ga=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var b=this;return(0,h.Z)(function*(){return b.db||(b.db=yield qa()),b.db})()}_withRetries(b){var M=this;return(0,h.Z)(function*(){let U=0;for(;;)try{const Q=yield M._openDb();return yield b(Q)}catch(Q){if(U++>3)throw Q;M.db&&(M.db.close(),M.db=void 0)}})()}initializeServiceWorkerMessaging(){var b=this;return(0,h.Z)(function*(){return gn()?b.initializeReceiver():b.initializeSender()})()}initializeReceiver(){var b=this;return(0,h.Z)(function*(){b.receiver=da._getInstance(function Pl(){return gn()?self:null}()),b.receiver._subscribe("keyChanged",function(){var M=(0,h.Z)(function*(U,Q){return{keyProcessed:(yield b._poll()).includes(Q.key)}});return function(U,Q){return M.apply(this,arguments)}}()),b.receiver._subscribe("ping",function(){var M=(0,h.Z)(function*(U,Q){return["keyChanged"]});return function(U,Q){return M.apply(this,arguments)}}())})()}initializeSender(){var b=this;return(0,h.Z)(function*(){var M,U;if(b.activeServiceWorker=yield function kl(){return fa.apply(this,arguments)}(),!b.activeServiceWorker)return;b.sender=new Nl(b.activeServiceWorker);const Q=yield b.sender._send("ping",{},800);!Q||(null===(M=Q[0])||void 0===M?void 0:M.fulfilled)&&(null===(U=Q[0])||void 0===U?void 0:U.value.includes("keyChanged"))&&(b.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(b){var M=this;return(0,h.Z)(function*(){if(M.sender&&M.activeServiceWorker&&function Eh(){var D;return(null===(D=null==navigator?void 0:navigator.serviceWorker)||void 0===D?void 0:D.controller)||null}()===M.activeServiceWorker)try{yield M.sender._send("keyChanged",{key:b},M.serviceWorkerReceiverAvailable?800:50)}catch(U){}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const b=yield qa();return yield Rd(b,xl,"1"),yield Qr(b,xl),!0}catch(b){}return!1})()}_withPendingWrite(b){var M=this;return(0,h.Z)(function*(){M.pendingWrites++;try{yield b()}finally{M.pendingWrites--}})()}_set(b,M){var U=this;return(0,h.Z)(function*(){return U._withPendingWrite((0,h.Z)(function*(){return yield U._withRetries(Q=>Rd(Q,b,M)),U.localCache[b]=M,U.notifyServiceWorker(b)}))})()}_get(b){var M=this;return(0,h.Z)(function*(){const U=yield M._withRetries(Q=>function Ws(D,_){return pa.apply(this,arguments)}(Q,b));return M.localCache[b]=U,U})()}_remove(b){var M=this;return(0,h.Z)(function*(){return M._withPendingWrite((0,h.Z)(function*(){return yield M._withRetries(U=>Qr(U,b)),delete M.localCache[b],M.notifyServiceWorker(b)}))})()}_poll(){var b=this;return(0,h.Z)(function*(){const M=yield b._withRetries(Le=>{const ft=ho(Le,!1).getAll();return new ha(ft).toPromise()});if(!M)return[];if(0!==b.pendingWrites)return[];const U=[],Q=new Set;for(const{fbase_key:Le,value:ft}of M)Q.add(Le),JSON.stringify(b.localCache[Le])!==JSON.stringify(ft)&&(b.notifyListeners(Le,ft),U.push(Le));for(const Le of Object.keys(b.localCache))b.localCache[Le]&&!Q.has(Le)&&(b.notifyListeners(Le,null),U.push(Le));return U})()}notifyListeners(b,M){this.localCache[b]=M;const U=this.listeners[b];if(U)for(const Q of Array.from(U))Q(M)}startPolling(){var b=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return b._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(b,M){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[b]||(this.listeners[b]=new Set,this._get(b)),this.listeners[b].add(M)}_removeListener(b,M){this.listeners[b]&&(this.listeners[b].delete(M),0===this.listeners[b].size&&delete this.listeners[b]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();function Nd(D,_){return Ee(D,"POST","/v2/accounts/mfaSignIn:start",Ae(D,_))}function ii(){return(ii=(0,h.Z)(function*(D){return(yield Ee(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Bo(D){return new Promise((_,b)=>{const M=document.createElement("script");M.setAttribute("src",D),M.onload=_,M.onerror=U=>{const Q=We("internal-error");Q.customData=U,b(Q)},M.type="text/javascript",M.charset="UTF-8",function mc(){var D,_;return null!==(_=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==_?_:document}().appendChild(M)})}function vr(D){return`__${D}${Math.floor(1e6*Math.random())}`}const si=1e12;class _u{constructor(_){this.auth=_,this.counter=si,this._widgets=new Map}render(_,b){const M=this.counter;return this._widgets.set(M,new qs(_,this.auth.name,b||{})),this.counter++,M}reset(_){var b;const M=_||si;null===(b=this._widgets.get(M))||void 0===b||b.delete(),this._widgets.delete(M)}getResponse(_){var b;return(null===(b=this._widgets.get(_||si))||void 0===b?void 0:b.getResponse())||""}execute(_){var b=this;return(0,h.Z)(function*(){var M;return null===(M=b._widgets.get(_||si))||void 0===M||M.execute(),""})()}}class qs{constructor(_,b,M){this.params=M,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const U="string"==typeof _?document.getElementById(_):_;Te(U,"argument-error",{appName:b}),this.container=U,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Za(D){const _=[],b="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let M=0;M<D;M++)_.push(b.charAt(Math.floor(Math.random()*b.length)));return _.join("")}(50);const{callback:_,"expired-callback":b}=this.params;if(_)try{_(this.responseToken)}catch(M){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,b)try{b()}catch(M){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const vc=vr("rcb"),kd=new Ut(3e4,6e4);class Pd{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!lr().grecaptcha}load(_,b=""){return Te(function Eu(D){return D.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D)}(b),_,"argument-error"),this.shouldResolveImmediately(b)?Promise.resolve(lr().grecaptcha):new Promise((M,U)=>{const Q=lr().setTimeout(()=>{U(We(_,"network-request-failed"))},kd.get());lr()[vc]=()=>{lr().clearTimeout(Q),delete lr()[vc];const ft=lr().grecaptcha;if(!ft)return void U(We(_,"internal-error"));const zt=ft.render;ft.render=(nn,Vn)=>{const Ir=zt(nn,Vn);return this.counter++,Ir},this.hostLanguage=b,M(ft)},Bo(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:vc,render:"explicit",hl:b})}`).catch(()=>{clearTimeout(Q),U(We(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){return!!lr().grecaptcha&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ah{load(_){return(0,h.Z)(function*(){return new _u(_)})()}clearedOneInstance(){}}const go="recaptcha",Od={theme:"light",type:"image"};class bu{constructor(_,b=Object.assign({},Od),M){this.parameters=b,this.type=go,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=At(M),this.isInvisible="invisible"===this.parameters.size,Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const U="string"==typeof _?document.getElementById(_):_;Te(U,this.auth,"argument-error"),this.container=U,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ah:new Pd,this.validateStartingState()}verify(){var _=this;return(0,h.Z)(function*(){_.assertNotDestroyed();const b=yield _.render(),M=_.getAssertedRecaptcha();return M.getResponse(b)||new Promise(Q=>{const Le=ft=>{!ft||(_.tokenChangeListeners.delete(Le),Q(ft))};_.tokenChangeListeners.add(Le),_.isInvisible&&M.execute(b)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){Te(!this.parameters.sitekey,this.auth,"argument-error"),Te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return b=>{if(this.tokenChangeListeners.forEach(M=>M(b)),"function"==typeof _)_(b);else if("string"==typeof _){const M=lr()[_];"function"==typeof M&&M(b)}}}assertNotDestroyed(){Te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,h.Z)(function*(){if(yield _.init(),!_.widgetId){let b=_.container;if(!_.isInvisible){const M=document.createElement("div");b.appendChild(M),b=M}_.widgetId=_.getAssertedRecaptcha().render(b,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,h.Z)(function*(){Te(Wt()&&!gn(),_.auth,"internal-error"),yield function yc(){let D=null;return new Promise(_=>{"complete"!==document.readyState?(D=()=>_(),window.addEventListener("load",D)):_()}).catch(_=>{throw D&&window.removeEventListener("load",D),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const b=yield function yu(D){return ii.apply(this,arguments)}(_.auth);Te(b,_.auth,"internal-error"),_.parameters.sitekey=b})()}getAssertedRecaptcha(){return Te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ds{constructor(_,b){this.verificationId=_,this.onConfirmation=b}confirm(_){const b=ms._fromVerification(this.verificationId,_);return this.onConfirmation(b)}}function _c(D,_,b){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,h.Z)(function*(D,_,b){const M=At(D),U=yield xi(M,_,(0,P.m9)(b));return new Ds(U,Q=>Us(M,Q))})).apply(this,arguments)}function Ts(D,_,b){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,h.Z)(function*(D,_,b){const M=(0,P.m9)(D);yield ys(!1,M,"phone");const U=yield xi(M.auth,_,(0,P.m9)(b));return new Ds(U,Q=>K(M,Q))})).apply(this,arguments)}function Fd(D,_,b){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,h.Z)(function*(D,_,b){const M=(0,P.m9)(D),U=yield xi(M.auth,_,(0,P.m9)(b));return new Ds(U,Q=>we(M,Q))})).apply(this,arguments)}function xi(D,_,b){return oi.apply(this,arguments)}function oi(){return(oi=(0,h.Z)(function*(D,_,b){var M;const U=yield b.verify();try{let Q;if(Te("string"==typeof U,D,"argument-error"),Te(b.type===go,D,"argument-error"),Q="string"==typeof _?{phoneNumber:_}:_,"session"in Q){const Le=Q.session;if("phoneNumber"in Q)return Te("enroll"===Le.type,D,"internal-error"),(yield pc(D,{idToken:Le.credential,phoneEnrollmentInfo:{phoneNumber:Q.phoneNumber,recaptchaToken:U}})).phoneSessionInfo.sessionInfo;{Te("signin"===Le.type,D,"internal-error");const ft=(null===(M=Q.multiFactorHint)||void 0===M?void 0:M.uid)||Q.multiFactorUid;return Te(ft,D,"missing-multi-factor-info"),(yield Nd(D,{mfaPendingCredential:Le.credential,mfaEnrollmentId:ft,phoneSignInInfo:{recaptchaToken:U}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Le}=yield Ba(D,{phoneNumber:Q.phoneNumber,recaptchaToken:U});return Le}}finally{b._reset()}})).apply(this,arguments)}function Vd(D,_){return mo.apply(this,arguments)}function mo(){return(mo=(0,h.Z)(function*(D,_){yield fr((0,P.m9)(D),_)})).apply(this,arguments)}let Uo=(()=>{class D{constructor(b){this.providerId=D.PROVIDER_ID,this.auth=At(b)}verifyPhoneNumber(b,M){return xi(this.auth,b,(0,P.m9)(M))}static credential(b,M){return ms._fromVerification(b,M)}static credentialFromResult(b){return D.credentialFromTaggedObject(b)}static credentialFromError(b){return D.credentialFromTaggedObject(b.customData||{})}static credentialFromTaggedObject({_tokenResponse:b}){if(!b)return null;const{phoneNumber:M,temporaryProof:U}=b;return M&&U?ms._fromTokenResponse(M,U):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function vo(D,_){return _?Oe(_):(Te(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class Ol extends Sn{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return Rr(_,this._buildIdpRequest())}_linkToIdToken(_,b){return Rr(_,this._buildIdpRequest(b))}_getReauthenticationResolver(_){return Rr(_,this._buildIdpRequest())}_buildIdpRequest(_){const b={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(b.idToken=_),b}}function wh(D){return lo(D.auth,new Ol(D),D.bypassAuthState)}function ry(D){const{auth:_,user:b}=D;return Te(b,_,"internal-error"),la(b,new Ol(D),D.bypassAuthState)}function iy(D){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,h.Z)(function*(D){const{auth:_,user:b}=D;return Te(b,_,"internal-error"),fr(b,new Ol(D),D.bypassAuthState)})).apply(this,arguments)}class qi{constructor(_,b,M,U,Q=!1){this.auth=_,this.resolver=M,this.user=U,this.bypassAuthState=Q,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(b)?b:[b]}execute(){var _=this;return new Promise(function(){var b=(0,h.Z)(function*(M,U){_.pendingPromise={resolve:M,reject:U};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(Q){_.reject(Q)}});return function(M,U){return b.apply(this,arguments)}}())}onAuthEvent(_){var b=this;return(0,h.Z)(function*(){const{urlResponse:M,sessionId:U,postBody:Q,tenantId:Le,error:ft,type:zt}=_;if(ft)return void b.reject(ft);const nn={auth:b.auth,requestUri:M,sessionId:U,tenantId:Le||void 0,postBody:Q||void 0,user:b.user,bypassAuthState:b.bypassAuthState};try{b.resolve(yield b.getIdpTask(zt)(nn))}catch(Vn){b.reject(Vn)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return wh;case"linkViaPopup":case"linkViaRedirect":return iy;case"reauthViaPopup":case"reauthViaRedirect":return ry;default:Qe(this.auth,"internal-error")}}resolve(_){fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const bc=new Ut(2e3,1e4);function Ka(D,_,b){return Bd.apply(this,arguments)}function Bd(){return(Bd=(0,h.Z)(function*(D,_,b){const M=At(D);ze(D,_,$i);const U=vo(M,b);return new Qa(M,"signInViaPopup",_,U).executeNotNull()})).apply(this,arguments)}function Au(D,_,b){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,h.Z)(function*(D,_,b){const M=(0,P.m9)(D);ze(M.auth,_,$i);const U=vo(M.auth,b);return new Qa(M.auth,"reauthViaPopup",_,U,M).executeNotNull()})).apply(this,arguments)}function wc(D,_,b){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,h.Z)(function*(D,_,b){const M=(0,P.m9)(D);ze(M.auth,_,$i);const U=vo(M.auth,b);return new Qa(M.auth,"linkViaPopup",_,U,M).executeNotNull()})).apply(this,arguments)}let Qa=(()=>{class D extends qi{constructor(b,M,U,Q,Le){super(b,M,Q,Le),this.provider=U,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var b=this;return(0,h.Z)(function*(){const M=yield b.execute();return Te(M,b.auth,"internal-error"),M})()}onExecution(){var b=this;return(0,h.Z)(function*(){fe(1===b.filter.length,"Popup operations only handle one event");const M=fo();b.authWindow=yield b.resolver._openPopup(b.auth,b.provider,b.filter[0],M),b.authWindow.associatedEvent=M,b.resolver._originValidation(b.auth).catch(U=>{b.reject(U)}),b.resolver._isIframeWebStorageSupported(b.auth,U=>{U||b.reject(We(b.auth,"web-storage-unsupported"))}),b.pollUserCancellation()})()}get eventId(){var b;return(null===(b=this.authWindow)||void 0===b?void 0:b.associatedEvent)||null}cancel(){this.reject(We(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const b=()=>{var M,U;this.pollId=(null===(U=null===(M=this.authWindow)||void 0===M?void 0:M.window)||void 0===U?void 0:U.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(We(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(b,bc.get())};b()}}return D.currentPopupAction=null,D})();const yo=new Map;class va extends qi{constructor(_,b,M=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],b,void 0,M),this.eventId=null}execute(){var _=()=>super.execute,b=this;return(0,h.Z)(function*(){let M=yo.get(b.auth._key());if(!M){try{const Q=(yield function wu(D,_){return Cu.apply(this,arguments)}(b.resolver,b.auth))?yield _().call(b):null;M=()=>Promise.resolve(Q)}catch(U){M=()=>Promise.reject(U)}yo.set(b.auth._key(),M)}return b.bypassAuthState||yo.set(b.auth._key(),()=>Promise.resolve(null)),M()})()}onAuthEvent(_){var b=()=>super.onAuthEvent,M=this;return(0,h.Z)(function*(){if("signInViaRedirect"===_.type)return b().call(M,_);if("unknown"!==_.type){if(_.eventId){const U=yield M.auth._redirectUserForId(_.eventId);if(U)return M.user=U,b().call(M,_);M.resolve(null)}}else M.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function Cu(){return(Cu=(0,h.Z)(function*(D,_){const b=Sc(_),M=Tc(D);if(!(yield M._isAvailable()))return!1;const U="true"===(yield M._get(b));return yield M._remove(b),U})).apply(this,arguments)}function Zs(D,_){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,h.Z)(function*(D,_){return Tc(D)._set(Sc(_),"true")})).apply(this,arguments)}function Du(){yo.clear()}function Dc(D,_){yo.set(D._key(),_)}function Tc(D){return Oe(D._redirectPersistence)}function Sc(D){return ut("pendingRedirect",D.config.apiKey,D.name)}function Ud(D,_,b){return function Eg(D,_,b){return ya.apply(this,arguments)}(D,_,b)}function ya(){return(ya=(0,h.Z)(function*(D,_,b){const M=At(D);ze(D,_,$i);const U=vo(M,b);return yield Zs(U,M),U._openRedirect(M,_,"signInViaRedirect")})).apply(this,arguments)}function Ic(D,_,b){return function bg(D,_,b){return kr.apply(this,arguments)}(D,_,b)}function kr(){return(kr=(0,h.Z)(function*(D,_,b){const M=(0,P.m9)(D);ze(M.auth,_,$i);const U=vo(M.auth,b);yield Zs(U,M.auth);const Q=yield _o(M);return U._openRedirect(M.auth,_,"reauthViaRedirect",Q)})).apply(this,arguments)}function Hd(D,_,b){return function jd(D,_,b){return _a.apply(this,arguments)}(D,_,b)}function _a(){return(_a=(0,h.Z)(function*(D,_,b){const M=(0,P.m9)(D);ze(M.auth,_,$i);const U=vo(M.auth,b);yield ys(!1,M,_.providerId),yield Zs(U,M.auth);const Q=yield _o(M);return U._openRedirect(M.auth,_,"linkViaRedirect",Q)})).apply(this,arguments)}function Ea(D,_){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,h.Z)(function*(D,_){return yield At(D)._initializationPromise,Xa(D,_,!1)})).apply(this,arguments)}function Xa(D,_){return ba.apply(this,arguments)}function ba(){return(ba=(0,h.Z)(function*(D,_,b=!1){const M=At(D),U=vo(M,_),Le=yield new va(M,U,b).execute();return Le&&!b&&(delete Le.user._redirectEventId,yield M._persistUserIfCurrent(Le.user),yield M._setRedirectUser(null,_)),Le})).apply(this,arguments)}function _o(D){return is.apply(this,arguments)}function is(){return(is=(0,h.Z)(function*(D){const _=fo(`${D.uid}:::`);return D._redirectEventId=_,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),_})).apply(this,arguments)}class tl{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let b=!1;return this.consumers.forEach(M=>{this.isEventForConsumer(_,M)&&(b=!0,this.sendToConsumer(_,M),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function Fl(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Su(D);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,b||(this.queuedRedirectEvent=_,b=!0)),b}sendToConsumer(_,b){var M;if(_.error&&!Su(_)){const U=(null===(M=_.error.code)||void 0===M?void 0:M.split("auth/")[1])||"internal-error";b.onError(We(this.auth,U))}else b.onAuthEvent(_)}isEventForConsumer(_,b){const M=null===b.eventId||!!_.eventId&&_.eventId===b.eventId;return b.filter.includes(_.type)&&M}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tu(_))}saveEventToCache(_){this.cachedEventUids.add(Tu(_)),this.lastProcessedEventTime=Date.now()}}function Tu(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(_=>_).join("-")}function Su({type:D,error:_}){return"unknown"===D&&"auth/no-auth-event"===(null==_?void 0:_.code)}function nl(D){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,h.Z)(function*(D,_={}){return Ee(D,"GET","/v1/projects",_)})).apply(this,arguments)}const zd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Iu=/^https?/;function Ho(){return(Ho=(0,h.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:_}=yield nl(D);for(const b of _)try{if(Mc(b))return}catch(M){}Qe(D,"unauthorized-domain")})).apply(this,arguments)}function Mc(D){const _=ke(),{protocol:b,hostname:M}=new URL(_);if(D.startsWith("chrome-extension://")){const Le=new URL(D);return""===Le.hostname&&""===M?"chrome-extension:"===b&&D.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===b&&Le.hostname===M}if(!Iu.test(b))return!1;if(zd.test(D))return M===D;const U=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+U+"|"+U+")$","i").test(M)}const Ch=new Ut(3e4,6e4);function Ll(){const D=lr().___jsl;if(null==D?void 0:D.H)for(const _ of Object.keys(D.H))if(D.H[_].r=D.H[_].r||[],D.H[_].L=D.H[_].L||[],D.H[_].r=[...D.H[_].L],D.CP)for(let b=0;b<D.CP.length;b++)D.CP[b]=null}let Vl=null;function Dh(D){return Vl=Vl||function Mu(D){return new Promise((_,b)=>{var M,U,Q;function Le(){Ll(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{Ll(),b(We(D,"network-request-failed"))},timeout:Ch.get()})}if(null===(U=null===(M=lr().gapi)||void 0===M?void 0:M.iframes)||void 0===U?void 0:U.Iframe)_(gapi.iframes.getContext());else{if(!(null===(Q=lr().gapi)||void 0===Q?void 0:Q.load)){const ft=vr("iframefcb");return lr()[ft]=()=>{gapi.load?Le():b(We(D,"network-request-failed"))},Bo(`https://apis.google.com/js/api.js?onload=${ft}`).catch(zt=>b(zt))}Le()}}).catch(_=>{throw Vl=null,_})}(D),Vl}const Th=new Ut(5e3,15e3),xu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ag(D){const _=D.config;Te(_.authDomain,D,"auth-domain-config-required");const b=_.emulator?qn(_,"emulator/auth/iframe"):`https://${D.config.authDomain}/__/auth/iframe`,M={apiKey:_.apiKey,appName:D.name,v:R.SDK_VERSION},U=Bl.get(D.config.apiHost);U&&(M.eid=U);const Q=D._getFrameworks();return Q.length&&(M.fw=Q.join(",")),`${b}?${(0,P.xO)(M).slice(1)}`}function Sh(){return Sh=(0,h.Z)(function*(D){const _=yield Dh(D),b=lr().gapi;return Te(b,D,"internal-error"),_.open({where:document.body,url:Ag(D),messageHandlersFilter:b.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xu,dontclear:!0},M=>new Promise(function(){var U=(0,h.Z)(function*(Q,Le){yield M.restyle({setHideOnLeave:!1});const ft=We(D,"network-request-failed"),zt=lr().setTimeout(()=>{Le(ft)},Th.get());function nn(){lr().clearTimeout(zt),Q(M)}M.ping(nn).then(nn,()=>{Le(ft)})});return function(Q,Le){return U.apply(this,arguments)}}()))}),Sh.apply(this,arguments)}const Ru={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Go{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(_){}}}function ku(D,_,b,M,U,Q){Te(D.config.authDomain,D,"auth-domain-config-required"),Te(D.config.apiKey,D,"invalid-api-key");const Le={apiKey:D.config.apiKey,appName:D.name,authType:b,redirectUrl:M,v:R.SDK_VERSION,eventId:U};if(_ instanceof $i){_.setDefaultLanguage(D.languageCode),Le.providerId=_.providerId||"",(0,P.xb)(_.getCustomParameters())||(Le.customParameters=JSON.stringify(_.getCustomParameters()));for(const[zt,nn]of Object.entries(Q||{}))Le[zt]=nn}if(_ instanceof Ii){const zt=_.getScopes().filter(nn=>""!==nn);zt.length>0&&(Le.scopes=zt.join(","))}D.tenantId&&(Le.tid=D.tenantId);const ft=Le;for(const zt of Object.keys(ft))void 0===ft[zt]&&delete ft[zt];return`${function Ks({config:D}){return D.emulator?qn(D,"emulator/auth/handler"):`https://${D.authDomain}/__/auth/handler`}(D)}?${(0,P.xO)(ft).slice(1)}`}const Ss="webStorageSupport",Ul=class Pu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pu,this._completeRedirectFn=Xa,this._overrideRedirectResult=Dc}_openPopup(_,b,M,U){var Q=this;return(0,h.Z)(function*(){var Le;fe(null===(Le=Q.eventManagers[_._key()])||void 0===Le?void 0:Le.manager,"_initialize() not called before _openPopup()");const ft=ku(_,b,M,ke(),U);return function Ih(D,_,b,M=500,U=600){const Q=Math.max((window.screen.availHeight-U)/2,0).toString(),Le=Math.max((window.screen.availWidth-M)/2,0).toString();let ft="";const zt=Object.assign(Object.assign({},Ru),{width:M.toString(),height:U.toString(),top:Q,left:Le}),nn=(0,P.z$)().toLowerCase();b&&(ft=et(nn)?"_blank":b),pe(nn)&&(_=_||"http://localhost",zt.scrollbars="yes");const Vn=Object.entries(zt).reduce((Ri,[Is,zo])=>`${Ri}${Is}=${zo},`,"");if(function Vr(D=(0,P.z$)()){var _;return Bt(D)&&!!(null===(_=window.navigator)||void 0===_?void 0:_.standalone)}(nn)&&"_self"!==ft)return function xc(D,_){const b=document.createElement("a");b.href=D,b.target=_;const M=document.createEvent("MouseEvent");M.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),b.dispatchEvent(M)}(_||"",ft),new Go(null);const Ir=window.open(_||"",ft,Vn);Te(Ir,D,"popup-blocked");try{Ir.focus()}catch(Ri){}return new Go(Ir)}(_,ft,fo())})()}_openRedirect(_,b,M,U){var Q=this;return(0,h.Z)(function*(){return yield Q._originValidation(_),function Mi(D){lr().location.href=D}(ku(_,b,M,ke(),U)),new Promise(()=>{})})()}_initialize(_){const b=_._key();if(this.eventManagers[b]){const{manager:U,promise:Q}=this.eventManagers[b];return U?Promise.resolve(U):(fe(Q,"If manager is not set, promise should be"),Q)}const M=this.initAndGetManager(_);return this.eventManagers[b]={promise:M},M.catch(()=>{delete this.eventManagers[b]}),M}initAndGetManager(_){var b=this;return(0,h.Z)(function*(){const M=yield function wg(D){return Sh.apply(this,arguments)}(_),U=new tl(_);return M.register("authEvent",Q=>(Te(null==Q?void 0:Q.authEvent,_,"invalid-auth-event"),{status:U.onEvent(Q.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),b.eventManagers[_._key()]={manager:U},b.iframes[_._key()]=M,U})()}_isIframeWebStorageSupported(_,b){this.iframes[_._key()].send(Ss,{type:Ss},U=>{var Q;const Le=null===(Q=null==U?void 0:U[0])||void 0===Q?void 0:Q[Ss];void 0!==Le&&b(!!Le),Qe(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const b=_._key();return this.originValidationPromises[b]||(this.originValidationPromises[b]=function rl(D){return Ho.apply(this,arguments)}(_)),this.originValidationPromises[b]}get _shouldInitProactively(){return Cr()||he()||Bt()}};class Nc extends class Ou{constructor(_){this.factorId=_}_process(_,b,M){switch(b.type){case"enroll":return this._finalizeEnroll(_,b.credential,M);case"signin":return this._finalizeSignIn(_,b.credential);default:return Re("unexpected MultiFactorSessionType")}}}{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new Nc(_)}_finalizeEnroll(_,b,M){return function mh(D,_){return Ee(D,"POST","/v2/accounts/mfaEnrollment:finalize",Ae(D,_))}(_,{idToken:b,displayName:M,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,b){return function Vo(D,_){return Ee(D,"POST","/v2/accounts/mfaSignIn:finalize",Ae(D,_))}(_,{mfaPendingCredential:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let qd=(()=>{class D{constructor(){}static assertion(b){return Nc._fromCredential(b)}}return D.FACTOR_ID="phone",D})();var Fu="@firebase/auth";class Mh{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var b=this;return(0,h.Z)(function*(){return b.assertAuthConfigured(),yield b.auth._initializationPromise,b.auth.currentUser?{accessToken:yield b.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const b=this.auth.onIdTokenChanged(M=>{var U;_((null===(U=M)||void 0===U?void 0:U.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,b),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const b=this.internalListeners.get(_);!b||(this.internalListeners.delete(_),b(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Pc(D=(0,R.getApp)()){const _=(0,R._getProvider)(D,"auth");return _.isInitialized()?_.getImmediate():function Be(D,_){const b=(0,R._getProvider)(D,"auth");if(b.isInitialized()){const U=b.getImmediate(),Q=b.getOptions();if((0,P.vZ)(Q,null!=_?_:{}))return U;Qe(U,"already-initialized")}return b.initialize({options:_})}(D,{popupRedirectResolver:Ul,persistence:[ga,_h,pu]})}!function xh(D){(0,R._registerComponent)(new Ce.wA("auth",(_,{options:b})=>{const M=_.getProvider("app").getImmediate(),U=_.getProvider("heartbeat"),{apiKey:Q,authDomain:Le}=M.options;return((ft,zt)=>{Te(Q&&!Q.includes(":"),"invalid-api-key",{appName:ft.name}),Te(!(null==Le?void 0:Le.includes(":")),"argument-error",{appName:ft.name});const nn={apiKey:Q,authDomain:Le,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Or(D)},Vn=new ei(ft,zt,nn);return function Xe(D,_){const b=(null==_?void 0:_.persistence)||[],M=(Array.isArray(b)?b:[b]).map(Oe);(null==_?void 0:_.errorMap)&&D._updateErrorMap(_.errorMap),D._initializeWithPersistence(M,null==_?void 0:_.popupRedirectResolver)}(Vn,b),Vn})(M,U)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,b,M)=>{_.getProvider("auth-internal").initialize()})),(0,R._registerComponent)(new Ce.wA("auth-internal",_=>{const b=At(_.getProvider("auth").getImmediate());return new Mh(b)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,R.registerVersion)(Fu,"0.20.1",function kc(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,R.registerVersion)(Fu,"0.20.1","esm2017")}("Browser")},2090:(Ot,$e,$)=>{"use strict";$.d($e,{$s:()=>_n,BH:()=>F,G6:()=>Te,L:()=>xe,LL:()=>ke,Mn:()=>ze,Sg:()=>H,UG:()=>ce,US:()=>Ce,ZB:()=>de,ZR:()=>Xe,b$:()=>Qe,d:()=>We,eu:()=>fe,hl:()=>Re,jU:()=>se,m9:()=>Tn,ne:()=>Ze,pd:()=>pn,r3:()=>Ae,ru:()=>je,tV:()=>De,uI:()=>me,vZ:()=>Ct,w1:()=>Ye,xO:()=>Lt,xb:()=>Ve,z$:()=>ie,zI:()=>Ie,zd:()=>on});const G=function(ue){const ve=[];let B=0;for(let Y=0;Y<ue.length;Y++){let W=ue.charCodeAt(Y);W<128?ve[B++]=W:W<2048?(ve[B++]=W>>6|192,ve[B++]=63&W|128):55296==(64512&W)&&Y+1<ue.length&&56320==(64512&ue.charCodeAt(Y+1))?(W=65536+((1023&W)<<10)+(1023&ue.charCodeAt(++Y)),ve[B++]=W>>18|240,ve[B++]=W>>12&63|128,ve[B++]=W>>6&63|128,ve[B++]=63&W|128):(ve[B++]=W>>12|224,ve[B++]=W>>6&63|128,ve[B++]=63&W|128)}return ve},Ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ue,ve){if(!Array.isArray(ue))throw Error("encodeByteArray takes an array as a parameter");this.init_();const B=ve?this.byteToCharMapWebSafe_:this.byteToCharMap_,Y=[];for(let W=0;W<ue.length;W+=3){const le=ue[W],ae=W+1<ue.length,ge=ae?ue[W+1]:0,Pe=W+2<ue.length,st=Pe?ue[W+2]:0;let $t=(15&ge)<<2|st>>6,Se=63&st;Pe||(Se=64,ae||($t=64)),Y.push(B[le>>2],B[(3&le)<<4|ge>>4],B[$t],B[Se])}return Y.join("")},encodeString(ue,ve){return this.HAS_NATIVE_SUPPORT&&!ve?btoa(ue):this.encodeByteArray(G(ue),ve)},decodeString(ue,ve){return this.HAS_NATIVE_SUPPORT&&!ve?atob(ue):function(ue){const ve=[];let B=0,Y=0;for(;B<ue.length;){const W=ue[B++];if(W<128)ve[Y++]=String.fromCharCode(W);else if(W>191&&W<224){const le=ue[B++];ve[Y++]=String.fromCharCode((31&W)<<6|63&le)}else if(W>239&&W<365){const Pe=((7&W)<<18|(63&ue[B++])<<12|(63&ue[B++])<<6|63&ue[B++])-65536;ve[Y++]=String.fromCharCode(55296+(Pe>>10)),ve[Y++]=String.fromCharCode(56320+(1023&Pe))}else{const le=ue[B++],ae=ue[B++];ve[Y++]=String.fromCharCode((15&W)<<12|(63&le)<<6|63&ae)}}return ve.join("")}(this.decodeStringToByteArray(ue,ve))},decodeStringToByteArray(ue,ve){this.init_();const B=ve?this.charToByteMapWebSafe_:this.charToByteMap_,Y=[];for(let W=0;W<ue.length;){const le=B[ue.charAt(W++)],ge=W<ue.length?B[ue.charAt(W)]:0;++W;const st=W<ue.length?B[ue.charAt(W)]:64;++W;const ut=W<ue.length?B[ue.charAt(W)]:64;if(++W,null==le||null==ge||null==st||null==ut)throw Error();Y.push(le<<2|ge>>4),64!==st&&(Y.push(ge<<4&240|st>>2),64!==ut&&Y.push(st<<6&192|ut))}return Y},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ue=0;ue<this.ENCODED_VALS.length;ue++)this.byteToCharMap_[ue]=this.ENCODED_VALS.charAt(ue),this.charToByteMap_[this.byteToCharMap_[ue]]=ue,this.byteToCharMapWebSafe_[ue]=this.ENCODED_VALS_WEBSAFE.charAt(ue),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ue]]=ue,ue>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ue)]=ue,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ue)]=ue)}}},xe=function(ue){return function(ue){const ve=G(ue);return Ce.encodeByteArray(ve,!0)}(ue).replace(/\./g,"")},De=function(ue){try{return Ce.decodeString(ue,!0)}catch(ve){console.error("base64Decode failed: ",ve)}return null};function de(ue,ve){if(!(ve instanceof Object))return ve;switch(ve.constructor){case Date:return new Date(ve.getTime());case Object:void 0===ue&&(ue={});break;case Array:ue=[];break;default:return ve}for(const B in ve)!ve.hasOwnProperty(B)||!T(B)||(ue[B]=de(ue[B],ve[B]));return ue}function T(ue){return"__proto__"!==ue}class F{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ve,B)=>{this.resolve=ve,this.reject=B})}wrapCallback(ve){return(B,Y)=>{B?this.reject(B):this.resolve(Y),"function"==typeof ve&&(this.promise.catch(()=>{}),1===ve.length?ve(B):ve(B,Y))}}}function H(ue,ve){if(ue.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Y=ve||"demo-project",W=ue.iat||0,le=ue.sub||ue.user_id;if(!le)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ae=Object.assign({iss:`https://securetoken.google.com/${Y}`,aud:Y,iat:W,exp:W+3600,auth_time:W,sub:le,user_id:le,firebase:{sign_in_provider:"custom",identities:{}}},ue);return[xe(JSON.stringify({alg:"none",type:"JWT"})),xe(JSON.stringify(ae)),""].join(".")}function ie(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function me(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ie())}function ce(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ue){return!1}}function se(){return"object"==typeof self&&self.self===self}function je(){const ue="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ue&&void 0!==ue.id}function Qe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function We(){return ie().indexOf("Electron/")>=0}function Ye(){const ue=ie();return ue.indexOf("MSIE ")>=0||ue.indexOf("Trident/")>=0}function ze(){return ie().indexOf("MSAppHost/")>=0}function Te(){return!ce()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Re(){return"object"==typeof indexedDB}function fe(){return new Promise((ue,ve)=>{try{let B=!0;const Y="validate-browser-context-for-indexeddb-analytics-module",W=self.indexedDB.open(Y);W.onsuccess=()=>{W.result.close(),B||self.indexedDB.deleteDatabase(Y),ue(!0)},W.onupgradeneeded=()=>{B=!1},W.onerror=()=>{var le;ve((null===(le=W.error)||void 0===le?void 0:le.message)||"")}}catch(B){ve(B)}})}function Ie(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Xe extends Error{constructor(ve,B,Y){super(B),this.code=ve,this.customData=Y,this.name="FirebaseError",Object.setPrototypeOf(this,Xe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ke.prototype.create)}}class ke{constructor(ve,B,Y){this.service=ve,this.serviceName=B,this.errors=Y}create(ve,...B){const Y=B[0]||{},W=`${this.service}/${ve}`,le=this.errors[ve],ae=le?function Wt(ue,ve){return ue.replace(Jt,(B,Y)=>{const W=ve[Y];return null!=W?String(W):`<${Y}?>`})}(le,Y):"Error";return new Xe(W,`${this.serviceName}: ${ae} (${W}).`,Y)}}const Jt=/\{\$([^}]+)}/g;function Ae(ue,ve){return Object.prototype.hasOwnProperty.call(ue,ve)}function Ve(ue){for(const ve in ue)if(Object.prototype.hasOwnProperty.call(ue,ve))return!1;return!0}function Ct(ue,ve){if(ue===ve)return!0;const B=Object.keys(ue),Y=Object.keys(ve);for(const W of B){if(!Y.includes(W))return!1;const le=ue[W],ae=ve[W];if(qe(le)&&qe(ae)){if(!Ct(le,ae))return!1}else if(le!==ae)return!1}for(const W of Y)if(!B.includes(W))return!1;return!0}function qe(ue){return null!==ue&&"object"==typeof ue}function Lt(ue){const ve=[];for(const[B,Y]of Object.entries(ue))Array.isArray(Y)?Y.forEach(W=>{ve.push(encodeURIComponent(B)+"="+encodeURIComponent(W))}):ve.push(encodeURIComponent(B)+"="+encodeURIComponent(Y));return ve.length?"&"+ve.join("&"):""}function on(ue){const ve={};return ue.replace(/^\?/,"").split("&").forEach(Y=>{if(Y){const[W,le]=Y.split("=");ve[decodeURIComponent(W)]=decodeURIComponent(le)}}),ve}function pn(ue){const ve=ue.indexOf("?");if(!ve)return"";const B=ue.indexOf("#",ve);return ue.substring(ve,B>0?B:void 0)}function Ze(ue,ve){const B=new Dt(ue,ve);return B.subscribe.bind(B)}class Dt{constructor(ve,B){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=B,this.task.then(()=>{ve(this)}).catch(Y=>{this.error(Y)})}next(ve){this.forEachObserver(B=>{B.next(ve)})}error(ve){this.forEachObserver(B=>{B.error(ve)}),this.close(ve)}complete(){this.forEachObserver(ve=>{ve.complete()}),this.close()}subscribe(ve,B,Y){let W;if(void 0===ve&&void 0===B&&void 0===Y)throw new Error("Missing Observer.");W=function vt(ue,ve){if("object"!=typeof ue||null===ue)return!1;for(const B of ve)if(B in ue&&"function"==typeof ue[B])return!0;return!1}(ve,["next","error","complete"])?ve:{next:ve,error:B,complete:Y},void 0===W.next&&(W.next=Vt),void 0===W.error&&(W.error=Vt),void 0===W.complete&&(W.complete=Vt);const le=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?W.error(this.finalError):W.complete()}catch(ae){}}),this.observers.push(W),le}unsubscribeOne(ve){void 0===this.observers||void 0===this.observers[ve]||(delete this.observers[ve],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ve){if(!this.finalized)for(let B=0;B<this.observers.length;B++)this.sendOne(B,ve)}sendOne(ve,B){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ve])try{B(this.observers[ve])}catch(Y){"undefined"!=typeof console&&console.error&&console.error(Y)}})}close(ve){this.finalized||(this.finalized=!0,void 0!==ve&&(this.finalError=ve),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vt(){}function _n(ue,ve=1e3,B=2){const Y=ve*Math.pow(B,ue),W=Math.round(.5*Y*(Math.random()-.5)*2);return Math.min(144e5,Y+W)}function Tn(ue){return ue&&ue._delegate?ue._delegate:ue}},9356:(Ot,$e,$)=>{"use strict";$.r($e),$.d($e,{BASE_OPTION_DEFAULTS:()=>Ls,BASE_OPTION_REFINERS:()=>au,BaseComponent:()=>vr,BgEvent:()=>ef,CalendarApi:()=>du,CalendarContent:()=>U,CalendarDataManager:()=>il,CalendarDataProvider:()=>jo,CalendarRoot:()=>ft,Component:()=>R,ContentHook:()=>bu,CustomContentRenderContext:()=>Od,DateComponent:()=>_u,DateEnv:()=>Gs,DateProfileGenerator:()=>vo,DayCellContent:()=>uy,DayCellRoot:()=>cy,DayHeader:()=>Oc,DaySeriesModel:()=>Kd,DayTableModel:()=>Lu,DelayedRunner:()=>Mu,ElementDragging:()=>Hl,ElementScrollController:()=>ga,Emitter:()=>pa,EventApi:()=>zr,EventRoot:()=>$l,EventSourceApi:()=>T,Fragment:()=>be,Interaction:()=>Ou,MoreLinkRoot:()=>dy,MountHook:()=>Ds,NamedTimeZoneImpl:()=>Ih,NowIndicatorRoot:()=>Vh,NowTimer:()=>zo,PositionCache:()=>bh,RefMap:()=>Dg,RenderHook:()=>go,ScrollController:()=>vu,ScrollResponder:()=>yu,Scroller:()=>Ph,SegHierarchy:()=>xc,SimpleScrollGrid:()=>ly,Slicer:()=>Qd,Splitter:()=>pu,StandardEvent:()=>Xd,TableDateCell:()=>Ir,TableDowCell:()=>Is,Theme:()=>Vo,ViewApi:()=>Dl,ViewContextType:()=>ii,ViewRoot:()=>Nr,WeekNumberRoot:()=>Mg,WindowScrollController:()=>Nd,addDays:()=>Ze,addDurations:()=>ci,addMs:()=>Dt,addWeeks:()=>fn,allowContextMenu:()=>Ar,allowSelection:()=>qn,applyMutationToEventStore:()=>ca,applyStyle:()=>je,applyStyleProp:()=>Qe,asCleanDays:()=>Cr,asRoughMinutes:()=>He,asRoughMs:()=>Ht,asRoughSeconds:()=>ct,binarySearch:()=>Ul,buildClassNameNormalizer:()=>_c,buildEntryKey:()=>Wd,buildEventApis:()=>Il,buildEventRangeKey:()=>Nn,buildHashFromArray:()=>st,buildIsoString:()=>Sn,buildNavLinkAttrs:()=>gn,buildSegCompareObj:()=>Fn,buildSegTimeText:()=>ja,collectFromHash:()=>he,combineEventUis:()=>jr,compareByFieldSpec:()=>Ee,compareByFieldSpecs:()=>Ae,compareNumbers:()=>qe,compareObjs:()=>Se,computeEarliestSegStart:()=>Rg,computeEdges:()=>pi,computeFallbackHeaderFormat:()=>zt,computeHeightAndMargins:()=>qa,computeInnerRect:()=>ha,computeRect:()=>ho,computeSegDraggable:()=>ns,computeSegEndResizable:()=>Hs,computeSegStartResizable:()=>_s,computeShrinkWidth:()=>sy,computeSmallestCellWidth:()=>on,computeVisibleDayRange:()=>ys,config:()=>Mh,constrainPoint:()=>Wa,createAriaClickAttrs:()=>Xe,createContext:()=>xe,createDuration:()=>Bt,createElement:()=>G,createEmptyEventStore:()=>hi,createEventInstance:()=>Y,createEventUi:()=>Bs,createFormatter:()=>Dr,createPlugin:()=>qs,createPortal:()=>De,createRef:()=>Ce,diffDates:()=>la,diffDayAndTime:()=>xn,diffDays:()=>vt,diffPoints:()=>_g,diffWeeks:()=>Xt,diffWholeDays:()=>$n,diffWholeWeeks:()=>Dn,disableCursor:()=>Xn,elementClosest:()=>H,elementMatches:()=>ie,enableCursor:()=>xt,eventTupleToStore:()=>$i,filterEventStoreDefs:()=>sa,filterHash:()=>ae,findDirectChildren:()=>ce,findElements:()=>me,flexibleCompare:()=>Ve,flushSync:()=>ee,formatDate:()=>Ml,formatDayString:()=>gr,formatIsoTimeString:()=>Kr,formatRange:()=>fu,getAllowYScrolling:()=>oy,getCanVGrowWithinCell:()=>$s,getClippingParents:()=>Cs,getDateMeta:()=>da,getDayClassNames:()=>fo,getDefaultEventEnd:()=>za,getElRoot:()=>Ye,getElSeg:()=>or,getEntrySpanEnd:()=>Rc,getEventClassNames:()=>ot,getEventTargetViaRoot:()=>We,getIsRtlScrollbarOnLeft:()=>fa,getRectCenter:()=>hu,getRelevantEvents:()=>Ii,getScrollGridClassNames:()=>Jd,getScrollbarWidths:()=>gu,getSectionClassNames:()=>Ei,getSectionHasLiquidHeight:()=>Tg,getSegAnchorAttrs:()=>uo,getSegMeta:()=>rs,getSlotClassNames:()=>Nl,getStickyFooterScrollbar:()=>Ig,getStickyHeaderDates:()=>Fh,getUnequalProps:()=>$t,getUniqueDomId:()=>mt,globalLocales:()=>Fr,globalPlugins:()=>Mc,greatestDurationDenominator:()=>On,groupIntersectingEntries:()=>ku,guid:()=>Jt,hasBgRendering:()=>It,hasShrinkWidth:()=>Sg,identity:()=>tt,interactionSettingsStore:()=>Fu,interactionSettingsToStore:()=>qd,intersectRanges:()=>Us,intersectRects:()=>yh,intersectSpans:()=>Ss,isArraysEqual:()=>yi,isColPropsEqual:()=>Lc,isDateSelectionValid:()=>Gl,isDateSpansEqual:()=>js,isInt:()=>Lt,isInteractionValid:()=>Vu,isMultiDayRange:()=>Zn,isPropsEqual:()=>ut,isPropsValid:()=>wa,isValidDate:()=>ve,joinSpans:()=>Ks,listenBySelector:()=>fe,mapHash:()=>ge,memoize:()=>Bn,memoizeArraylike:()=>Br,memoizeHashlike:()=>ps,memoizeObjArg:()=>Ji,mergeEventStores:()=>oo,multiplyDuration:()=>io,padStart:()=>lt,parseBusinessHours:()=>vh,parseClassNames:()=>Vs,parseDragMeta:()=>xh,parseEventDef:()=>ao,parseFieldSpecs:()=>Cn,parseMarker:()=>ri,pointInsideRect:()=>$a,preventContextMenu:()=>Hn,preventDefault:()=>Te,preventSelection:()=>Ut,rangeContainsMarker:()=>we,rangeContainsRange:()=>Z,rangesEqual:()=>ua,rangesIntersect:()=>K,refineEventDef:()=>Po,refineProps:()=>zi,removeElement:()=>F,removeExact:()=>hs,render:()=>ne,renderChunkContent:()=>ay,renderFill:()=>AE,renderMicroColGroup:()=>Zi,renderScrollShim:()=>Ms,requestJson:()=>Xa,sanitizeShrinkWidth:()=>Oh,setElSeg:()=>cn,setRef:()=>si,sliceEventStore:()=>_t,sliceEvents:()=>Go,sortEventSegs:()=>cr,startOfDay:()=>an,translateRect:()=>xl,triggerDateSelect:()=>Ga,unmountComponentAtNode:()=>de,unpromisify:()=>Ws,version:()=>my,whenTransitionDone:()=>Be,wholeDivideDurations:()=>In}),$(4602);var P=$(655);if("undefined"==typeof FullCalendarVDom)throw new Error("Please import the top-level fullcalendar lib before attempting to import a plugin.");var R=FullCalendarVDom.Component,G=FullCalendarVDom.createElement,ne=FullCalendarVDom.render,Ce=FullCalendarVDom.createRef,be=FullCalendarVDom.Fragment,xe=FullCalendarVDom.createContext,De=FullCalendarVDom.createPortal,ee=FullCalendarVDom.flushSync,de=FullCalendarVDom.unmountComponentAtNode,T=function(){function d(c,p){this.context=c,this.internalEventSource=p}return d.prototype.remove=function(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})},d.prototype.refetch=function(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})},Object.defineProperty(d.prototype,"id",{get:function(){return this.internalEventSource.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"url",{get:function(){return this.internalEventSource.meta.url},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"format",{get:function(){return this.internalEventSource.meta.format},enumerable:!1,configurable:!0}),d}();function F(d){d.parentNode&&d.parentNode.removeChild(d)}function H(d,c){if(d.closest)return d.closest(c);if(!document.documentElement.contains(d))return null;do{if(ie(d,c))return d;d=d.parentElement||d.parentNode}while(null!==d&&1===d.nodeType);return null}function ie(d,c){return(d.matches||d.matchesSelector||d.msMatchesSelector).call(d,c)}function me(d,c){for(var p=d instanceof HTMLElement?[d]:d,v=[],A=0;A<p.length;A+=1)for(var I=p[A].querySelectorAll(c),N=0;N<I.length;N+=1)v.push(I[N]);return v}function ce(d,c){for(var p=d instanceof HTMLElement?[d]:d,v=[],A=0;A<p.length;A+=1)for(var I=p[A].children,N=0;N<I.length;N+=1){var V=I[N];(!c||ie(V,c))&&v.push(V)}return v}var se=/(top|left|right|bottom|width|height)$/i;function je(d,c){for(var p in c)Qe(d,p,c[p])}function Qe(d,c,p){d.style[c]=null==p?"":"number"==typeof p&&se.test(c)?p+"px":p}function We(d){var c,p;return null!==(p=null===(c=d.composedPath)||void 0===c?void 0:c.call(d)[0])&&void 0!==p?p:d.target}function Ye(d){return d.getRootNode?d.getRootNode():document}var ze=0;function mt(){return"fc-dom-"+(ze+=1)}function Te(d){d.preventDefault()}function fe(d,c,p,v){var A=function Re(d,c){return function(p){var v=H(p.target,d);v&&c.call(v,p,v)}}(p,v);return d.addEventListener(c,A),function(){d.removeEventListener(c,A)}}var Oe=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function Be(d,c){var p=function(v){c(v),Oe.forEach(function(A){d.removeEventListener(A,p)})};Oe.forEach(function(v){d.addEventListener(v,p)})}function Xe(d){return(0,P.__assign)({onClick:d},ke(d))}function ke(d){return{tabIndex:0,onKeyDown:function(c){("Enter"===c.key||" "===c.key)&&(d(c),c.preventDefault())}}}var Wt=0;function Jt(){return String(Wt+=1)}function Xn(){document.body.classList.add("fc-not-allowed")}function xt(){document.body.classList.remove("fc-not-allowed")}function Ut(d){d.classList.add("fc-unselectable"),d.addEventListener("selectstart",Te)}function qn(d){d.classList.remove("fc-unselectable"),d.removeEventListener("selectstart",Te)}function Hn(d){d.addEventListener("contextmenu",Te)}function Ar(d){d.removeEventListener("contextmenu",Te)}function Cn(d){var v,A,c=[],p=[];for("string"==typeof d?p=d.split(/\s*,\s*/):"function"==typeof d?p=[d]:Array.isArray(d)&&(p=d),v=0;v<p.length;v+=1)"string"==typeof(A=p[v])?c.push("-"===A.charAt(0)?{field:A.substring(1),order:-1}:{field:A,order:1}):"function"==typeof A&&c.push({func:A});return c}function Ae(d,c,p){var v,A;for(v=0;v<p.length;v+=1)if(A=Ee(d,c,p[v]))return A;return 0}function Ee(d,c,p){return p.func?p.func(d,c):Ve(d[p.field],c[p.field])*(p.order||1)}function Ve(d,c){return d||c?null==c?-1:null==d?1:"string"==typeof d||"string"==typeof c?String(d).localeCompare(String(c)):d-c:0}function lt(d,c){var p=String(d);return"000".substr(0,c-p.length)+p}function Ct(d,c,p){return"function"==typeof d?d.apply(void 0,c):"string"==typeof d?c.reduce(function(v,A,I){return v.replace("$"+I,A||"")},d):p}function qe(d,c){return d-c}function Lt(d){return d%1==0}function on(d){var c=d.querySelector(".fc-scrollgrid-shrink-frame"),p=d.querySelector(".fc-scrollgrid-shrink-cushion");if(!c)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!p)throw new Error("needs fc-scrollgrid-shrink-cushion className");return d.getBoundingClientRect().width-c.getBoundingClientRect().width+p.getBoundingClientRect().width}var pn=["sun","mon","tue","wed","thu","fri","sat"];function fn(d,c){var p=Tn(d);return p[2]+=7*c,ue(p)}function Ze(d,c){var p=Tn(d);return p[2]+=c,ue(p)}function Dt(d,c){var p=Tn(d);return p[6]+=c,ue(p)}function Xt(d,c){return vt(d,c)/7}function vt(d,c){return(c.valueOf()-d.valueOf())/864e5}function xn(d,c){var p=an(d),v=an(c);return{years:0,months:0,days:Math.round(vt(p,v)),milliseconds:c.valueOf()-v.valueOf()-(d.valueOf()-p.valueOf())}}function Dn(d,c){var p=$n(d,c);return null!==p&&p%7==0?p/7:null}function $n(d,c){return B(d)===B(c)?Math.round(vt(d,c)):null}function an(d){return ue([d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()])}function Pr(d,c,p,v){var A=ue([c,0,1+_n(c,p,v)]),I=an(d),N=Math.round(vt(A,I));return Math.floor(N/7)+1}function _n(d,c,p){var v=7+c-p;return-(7+ue([d,0,v]).getUTCDay()-c)%7+v-1}function wr(d){return[d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),d.getMinutes(),d.getSeconds(),d.getMilliseconds()]}function rr(d){return new Date(d[0],d[1]||0,null==d[2]?1:d[2],d[3]||0,d[4]||0,d[5]||0)}function Tn(d){return[d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()]}function ue(d){return 1===d.length&&(d=d.concat([0])),new Date(Date.UTC.apply(Date,d))}function ve(d){return!isNaN(d.valueOf())}function B(d){return 1e3*d.getUTCHours()*60*60+1e3*d.getUTCMinutes()*60+1e3*d.getUTCSeconds()+d.getUTCMilliseconds()}function Y(d,c,p,v){return{instanceId:Jt(),defId:d,range:c,forcedStartTzo:null==p?null:p,forcedEndTzo:null==v?null:v}}var W=Object.prototype.hasOwnProperty;function le(d,c){var p={};if(c)for(var v in c){for(var A=[],I=d.length-1;I>=0;I-=1){var N=d[I][v];if("object"==typeof N&&N)A.unshift(N);else if(void 0!==N){p[v]=N;break}}A.length&&(p[v]=le(A))}for(I=d.length-1;I>=0;I-=1){var V=d[I];for(var z in V)z in p||(p[z]=V[z])}return p}function ae(d,c){var p={};for(var v in d)c(d[v],v)&&(p[v]=d[v]);return p}function ge(d,c){var p={};for(var v in d)p[v]=c(d[v],v);return p}function Pe(d){for(var c={},p=0,v=d;p<v.length;p++)c[v[p]]=!0;return c}function st(d,c){for(var p={},v=0;v<d.length;v+=1){var A=c(d[v],v);p[A[0]]=A[1]}return p}function pt(d){var c=[];for(var p in d)c.push(d[p]);return c}function ut(d,c){if(d===c)return!0;for(var p in d)if(W.call(d,p)&&!(p in c))return!1;for(var p in c)if(W.call(c,p)&&d[p]!==c[p])return!1;return!0}function $t(d,c){var p=[];for(var v in d)W.call(d,v)&&(v in c||p.push(v));for(var v in c)W.call(c,v)&&d[v]!==c[v]&&p.push(v);return p}function Se(d,c,p){if(void 0===p&&(p={}),d===c)return!0;for(var v in c)if(!(v in d)||!pe(d[v],c[v],p[v]))return!1;for(var v in d)if(!(v in c))return!1;return!0}function pe(d,c,p){return d===c||!0===p||!!p&&p(d,c)}function he(d,c,p,v){void 0===c&&(c=0),void 0===v&&(v=1);var A=[];null==p&&(p=Object.keys(d).length);for(var I=c;I<p;I+=v){var N=d[I];void 0!==N&&A.push(N)}return A}function bt(d,c,p){var v=p.dateEnv,A=p.pluginHooks,I=p.options,N=d.defs,V=d.instances;for(var z in V=ae(V,function(ln){return!N[ln.defId].recurringDef}),N){var X=N[z];if(X.recurringDef){var Ne=X.recurringDef.duration;Ne||(Ne=X.allDay?I.defaultAllDayEventDuration:I.defaultTimedEventDuration);for(var dt=0,yt=jt(X,Ne,c,v,A.recurringTypes);dt<yt.length;dt++){var wt=yt[dt],Yt=Y(z,{start:wt,end:v.add(wt,Ne)});V[Yt.instanceId]=Yt}}}return{defs:N,instances:V}}function jt(d,c,p,v,A){var N=A[d.recurringDef.typeId].expand(d.recurringDef.typeData,{start:v.subtract(p.start,c),end:p.end},v);return d.allDay&&(N=N.map(an)),N}var rn=["years","months","days","milliseconds"],Ln=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Bt(d,c){var p;return"string"==typeof d?function mr(d){var c=Ln.exec(d);if(c){var p=c[1]?-1:1;return{years:0,months:0,days:p*(c[2]?parseInt(c[2],10):0),milliseconds:p*(60*(c[3]?parseInt(c[3],10):0)*60*1e3+60*(c[4]?parseInt(c[4],10):0)*1e3+1e3*(c[5]?parseInt(c[5],10):0)+(c[6]?parseInt(c[6],10):0))}}return null}(d):"object"==typeof d&&d?Vr(d):"number"==typeof d?Vr(((p={})[c||"milliseconds"]=d,p)):null}function Vr(d){var c={years:d.years||d.year||0,months:d.months||d.month||0,days:d.days||d.day||0,milliseconds:60*(d.hours||d.hour||0)*60*1e3+60*(d.minutes||d.minute||0)*1e3+1e3*(d.seconds||d.second||0)+(d.milliseconds||d.millisecond||d.ms||0)},p=d.weeks||d.week;return p&&(c.days+=7*p,c.specifiedWeeks=!0),c}function Cr(d){return d.years||d.months||d.milliseconds?0:d.days}function ci(d,c){return{years:d.years+c.years,months:d.months+c.months,days:d.days+c.days,milliseconds:d.milliseconds+c.milliseconds}}function io(d,c){return{years:d.years*c,months:d.months*c,days:d.days*c,milliseconds:d.milliseconds*c}}function _e(d){return Ht(d)/864e5}function He(d){return Ht(d)/6e4}function ct(d){return Ht(d)/1e3}function Ht(d){return 31536e6*d.years+2592e6*d.months+864e5*d.days+d.milliseconds}function In(d,c){for(var p=null,v=0;v<rn.length;v+=1){var A=rn[v];if(c[A]){var I=d[A]/c[A];if(!Lt(I)||null!==p&&p!==I)return null;p=I}else if(d[A])return null}return p}function On(d){var c=d.milliseconds;if(c){if(c%1e3!=0)return{unit:"millisecond",value:c};if(c%6e4!=0)return{unit:"second",value:c/1e3};if(c%36e5!=0)return{unit:"minute",value:c/6e4};if(c)return{unit:"hour",value:c/36e5}}return d.days?d.specifiedWeeks&&d.days%7==0?{unit:"week",value:d.days/7}:{unit:"day",value:d.days}:d.months?{unit:"month",value:d.months}:d.years?{unit:"year",value:d.years}:{unit:"millisecond",value:0}}function Sn(d,c,p){void 0===p&&(p=!1);var v=d.toISOString();return v=v.replace(".000",""),p&&(v=v.replace("T00:00:00Z","")),v.length>10&&(null==c?v=v.replace("Z",""):0!==c&&(v=v.replace("Z",tn(c,!0)))),v}function gr(d){return d.toISOString().replace(/T.*$/,"")}function Kr(d){return lt(d.getUTCHours(),2)+":"+lt(d.getUTCMinutes(),2)+":"+lt(d.getUTCSeconds(),2)}function tn(d,c){void 0===c&&(c=!1);var p=d<0?"-":"+",v=Math.abs(d),A=Math.floor(v/60),I=Math.round(v%60);return c?p+lt(A,2)+":"+lt(I,2):"GMT"+p+A+(I?":"+lt(I,2):"")}function hs(d,c){for(var p=0,v=0;v<d.length;)d[v]===c?(d.splice(v,1),p+=1):v+=1;return p}function yi(d,c,p){if(d===c)return!0;var A,v=d.length;if(v!==c.length)return!1;for(A=0;A<v;A+=1)if(!(p?p(d[A],c[A]):d[A]===c[A]))return!1;return!0}function Bn(d,c,p){var v,A;return function(){for(var I=[],N=0;N<arguments.length;N++)I[N]=arguments[N];if(v){if(!yi(v,I)){p&&p(A);var V=d.apply(this,I);(!c||!c(V,A))&&(A=V)}}else A=d.apply(this,I);return v=I,A}}function Ji(d,c,p){var A,I,v=this;return function(N){if(A){if(!ut(A,N)){p&&p(I);var V=d.call(v,N);(!c||!c(V,I))&&(I=V)}}else I=d.call(v,N);return A=N,I}}function Br(d,c,p){var v=this,A=[],I=[];return function(N){for(var V=A.length,z=N.length,X=0;X<V;X+=1)if(N[X]){if(!yi(A[X],N[X])){p&&p(I[X]);var Ne=d.apply(v,N[X]);(!c||!c(Ne,I[X]))&&(I[X]=Ne)}}else p&&p(I[X]);for(;X<z;X+=1)I[X]=d.apply(v,N[X]);return A=N,I.splice(z),I}}function ps(d,c,p){var v=this,A={},I={};return function(N){var V={};for(var z in N)if(I[z])if(yi(A[z],N[z]))V[z]=I[z];else{p&&p(I[z]);var X=d.apply(v,N[z]);V[z]=c&&c(X,I[z])?I[z]:X}else V[z]=d.apply(v,N[z]);return A=N,I=V,V}}var gs={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},yr={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},Jn=/\s*([ap])\.?m\.?/i,La=/,/g,ta=/\s+/g,di=/\u200e/g,fi=/UTC|GMT/,na=function(){function d(c){var p={},v={},A=0;for(var I in c)I in gs?(v[I]=c[I],A=Math.max(gs[I],A)):(p[I]=c[I],I in yr&&(A=Math.max(yr[I],A)));this.standardDateProps=p,this.extendedSettings=v,this.severity=A,this.buildFormattingFunc=Bn(Ro)}return d.prototype.format=function(c,p){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,p)(c)},d.prototype.formatRange=function(c,p,v,A){var N=this.standardDateProps,V=this.extendedSettings,z=function Rr(d,c,p){return p.getMarkerYear(d)!==p.getMarkerYear(c)?5:p.getMarkerMonth(d)!==p.getMarkerMonth(c)?4:p.getMarkerDay(d)!==p.getMarkerDay(c)?2:B(d)!==B(c)?1:0}(c.marker,p.marker,v.calendarSystem);if(!z)return this.format(c,v);var X=z;X>1&&("numeric"===N.year||"2-digit"===N.year)&&("numeric"===N.month||"2-digit"===N.month)&&("numeric"===N.day||"2-digit"===N.day)&&(X=1);var Ne=this.format(c,v),Ue=this.format(p,v);if(Ne===Ue)return Ne;var dt=function ou(d,c){var p={};for(var v in d)(!(v in yr)||yr[v]<=c)&&(p[v]=d[v]);return p}(N,X),yt=Ro(dt,V,v),wt=yt(c),Yt=yt(p),ln=function md(d,c,p,v){for(var A=0;A<d.length;){var I=d.indexOf(c,A);if(-1===I)break;for(var N=d.substr(0,I),V=d.substr(A=I+c.length),z=0;z<p.length;){var X=p.indexOf(v,z);if(-1===X)break;var Ne=p.substr(0,X),Ue=p.substr(z=X+v.length);if(N===Ne&&V===Ue)return{before:N,after:V}}}return null}(Ne,wt,Ue,Yt),kt=V.separator||A||v.defaultSeparator||"";return ln?ln.before+wt+kt+Yt+ln.after:Ne+kt+Ue},d.prototype.getLargestUnit=function(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}},d}();function Ro(d,c,p){var v=Object.keys(d).length;return 1===v&&"short"===d.timeZoneName?function(A){return tn(A.timeZoneOffset)}:0===v&&c.week?function(A){return function ra(d,c,p,v,A){var I=[];return"long"===A?I.push(p):("short"===A||"narrow"===A)&&I.push(c),("long"===A||"short"===A)&&I.push(" "),I.push(v.simpleNumberFormat.format(d)),"rtl"===v.options.direction&&I.reverse(),I.join("")}(p.computeWeekNumber(A.marker),p.weekText,p.weekTextLong,p.locale,c.week)}:function so(d,c,p){d=(0,P.__assign)({},d),c=(0,P.__assign)({},c),function _i(d,c){d.timeZoneName&&(d.hour||(d.hour="2-digit"),d.minute||(d.minute="2-digit")),"long"===d.timeZoneName&&(d.timeZoneName="short"),c.omitZeroMinute&&(d.second||d.millisecond)&&delete c.omitZeroMinute}(d,c),d.timeZone="UTC";var A,v=new Intl.DateTimeFormat(p.locale.codes,d);if(c.omitZeroMinute){var I=(0,P.__assign)({},d);delete I.minute,A=new Intl.DateTimeFormat(p.locale.codes,I)}return function(N){var V=N.marker;return function uc(d,c,p,v,A){return d=d.replace(di,""),"short"===p.timeZoneName&&(d=function Va(d,c){var p=!1;return d=d.replace(fi,function(){return p=!0,c}),p||(d+=" "+c),d}(d,"UTC"===A.timeZone||null==c.timeZoneOffset?"UTC":tn(c.timeZoneOffset))),v.omitCommas&&(d=d.replace(La,"").trim()),v.omitZeroMinute&&(d=d.replace(":00","")),!1===v.meridiem?d=d.replace(Jn,"").trim():"narrow"===v.meridiem?d=d.replace(Jn,function(I,N){return N.toLocaleLowerCase()}):"short"===v.meridiem?d=d.replace(Jn,function(I,N){return N.toLocaleLowerCase()+"m"}):"lowercase"===v.meridiem&&(d=d.replace(Jn,function(I){return I.toLocaleLowerCase()})),(d=d.replace(ta," ")).trim()}((A&&!V.getUTCMinutes()?A:v).format(V),N,d,c,p)}}(d,c,p)}function Xi(d,c){var p=c.markerToArray(d.marker);return{marker:d.marker,timeZoneOffset:d.timeZoneOffset,array:p,year:p[0],month:p[1],day:p[2],hour:p[3],minute:p[4],second:p[5],millisecond:p[6]}}function Ba(d,c,p,v){var A=Xi(d,p.calendarSystem);return{date:A,start:A,end:c?Xi(c,p.calendarSystem):null,timeZone:p.timeZone,localeCodes:p.locale.codes,defaultSeparator:v||p.defaultSeparator}}var No=function(){function d(c){this.cmdStr=c}return d.prototype.format=function(c,p,v){return p.cmdFormatter(this.cmdStr,Ba(c,null,p,v))},d.prototype.formatRange=function(c,p,v,A){return v.cmdFormatter(this.cmdStr,Ba(c,p,v,A))},d}(),vd=function(){function d(c){this.func=c}return d.prototype.format=function(c,p,v){return this.func(Ba(c,null,p,v))},d.prototype.formatRange=function(c,p,v,A){return this.func(Ba(c,p,v,A))},d}();function Dr(d){return"object"==typeof d&&d?new na(d):"string"==typeof d?new No(d):"function"==typeof d?new vd(d):null}var au={navLinkDayClick:tt,navLinkWeekClick:tt,duration:Bt,bootstrapFontAwesome:tt,buttonIcons:tt,customButtons:tt,defaultAllDayEventDuration:Bt,defaultTimedEventDuration:Bt,nextDayThreshold:Bt,scrollTime:Bt,scrollTimeReset:Boolean,slotMinTime:Bt,slotMaxTime:Bt,dayPopoverFormat:Dr,slotDuration:Bt,snapDuration:Bt,headerToolbar:tt,footerToolbar:tt,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Dr,dayHeaderClassNames:tt,dayHeaderContent:tt,dayHeaderDidMount:tt,dayHeaderWillUnmount:tt,dayCellClassNames:tt,dayCellContent:tt,dayCellDidMount:tt,dayCellWillUnmount:tt,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:tt,weekNumbers:Boolean,weekNumberClassNames:tt,weekNumberContent:tt,weekNumberDidMount:tt,weekNumberWillUnmount:tt,editable:Boolean,viewClassNames:tt,viewDidMount:tt,viewWillUnmount:tt,nowIndicator:Boolean,nowIndicatorClassNames:tt,nowIndicatorContent:tt,nowIndicatorDidMount:tt,nowIndicatorWillUnmount:tt,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:tt,locale:tt,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:tt,eventOrder:Cn,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:tt,contentHeight:tt,direction:String,weekNumberFormat:Dr,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:tt,initialDate:tt,now:tt,eventDataTransform:tt,stickyHeaderDates:tt,stickyFooterScrollbar:tt,viewHeight:tt,defaultAllDay:Boolean,eventSourceFailure:tt,eventSourceSuccess:tt,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:tt,eventConstraint:tt,eventAllow:tt,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:tt,eventContent:tt,eventDidMount:tt,eventWillUnmount:tt,selectConstraint:tt,selectOverlap:tt,selectAllow:tt,droppable:Boolean,unselectCancel:String,slotLabelFormat:tt,slotLaneClassNames:tt,slotLaneContent:tt,slotLaneDidMount:tt,slotLaneWillUnmount:tt,slotLabelClassNames:tt,slotLabelContent:tt,slotLabelDidMount:tt,slotLabelWillUnmount:tt,dayMaxEvents:tt,dayMaxEventRows:tt,dayMinWidth:Number,slotLabelInterval:Bt,allDayText:String,allDayClassNames:tt,allDayContent:tt,allDayDidMount:tt,allDayWillUnmount:tt,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Dr,rerenderDelay:Number,moreLinkText:tt,moreLinkHint:tt,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:tt,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Bt,hiddenDays:tt,monthMode:Boolean,fixedWeekCount:Boolean,validRange:tt,visibleRange:tt,titleFormat:tt,eventInteractive:Boolean,noEventsText:String,viewHint:tt,navLinkHint:tt,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:tt,moreLinkClassNames:tt,moreLinkContent:tt,moreLinkDidMount:tt,moreLinkWillUnmount:tt},Ls={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30},yd={datesSet:tt,eventsSet:tt,eventAdd:tt,eventChange:tt,eventRemove:tt,windowResize:tt,eventClick:tt,eventMouseEnter:tt,eventMouseLeave:tt,select:tt,unselect:tt,loading:tt,_unmount:tt,_beforeprint:tt,_afterprint:tt,_noEventDrop:tt,_noEventResize:tt,_resize:tt,_scrollRequest:tt},bl={buttonText:tt,buttonHints:tt,views:tt,plugins:tt,initialEvents:tt,events:tt,eventSources:tt},Al={headerToolbar:ms,footerToolbar:ms,buttonText:ms,buttonHints:ms,buttonIcons:ms};function ms(d,c){return"object"==typeof d&&"object"==typeof c&&d&&c?ut(d,c):d===c}var _d={type:String,component:tt,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:tt,usesMinMaxTime:Boolean,classNames:tt,content:tt,didMount:tt,willUnmount:tt};function Ua(d){return le(d,Al)}function zi(d,c){var p={},v={};for(var A in c)A in d&&(p[A]=c[A](d[A]));for(var A in d)A in c||(v[A]=d[A]);return{refined:p,extra:v}}function tt(d){return d}function ko(d,c,p,v){for(var A={defs:{},instances:{}},I=ts(p),N=0,V=d;N<V.length;N++){var X=aa(V[N],c,p,v,I);X&&$i(X,A)}return A}function $i(d,c){return void 0===c&&(c={defs:{},instances:{}}),c.defs[d.def.defId]=d.def,d.instance&&(c.instances[d.instance.instanceId]=d.instance),c}function Ii(d,c){var p=d.instances[c];if(p){var v=d.defs[p.defId],A=sa(d,function(I){return function ia(d,c){return Boolean(d.groupId&&d.groupId===c.groupId)}(v,I)});return A.defs[v.defId]=v,A.instances[p.instanceId]=p,A}return{defs:{},instances:{}}}function hi(){return{defs:{},instances:{}}}function oo(d,c){return{defs:(0,P.__assign)((0,P.__assign)({},d.defs),c.defs),instances:(0,P.__assign)((0,P.__assign)({},d.instances),c.instances)}}function sa(d,c){var p=ae(d.defs,c),v=ae(d.instances,function(A){return p[A.defId]});return{defs:p,instances:v}}function Vs(d){return Array.isArray(d)?d:"string"==typeof d?d.split(/\s+/):[]}var vs={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:tt,overlap:tt,allow:tt,className:Vs,classNames:Vs,color:String,backgroundColor:String,borderColor:String,textColor:String},oa={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Bs(d,c){var p=function es(d,c){return Array.isArray(d)?ko(d,null,c,!0):"object"==typeof d&&d?ko([d],null,c,!0):null!=d?String(d):null}(d.constraint,c);return{display:d.display||null,startEditable:null!=d.startEditable?d.startEditable:d.editable,durationEditable:null!=d.durationEditable?d.durationEditable:d.editable,constraints:null!=p?[p]:[],overlap:null!=d.overlap?d.overlap:null,allows:null!=d.allow?[d.allow]:[],backgroundColor:d.backgroundColor||d.color||"",borderColor:d.borderColor||d.color||"",textColor:d.textColor||"",classNames:(d.className||[]).concat(d.classNames||[])}}function jr(d){return d.reduce(Gr,oa)}function Gr(d,c){return{display:null!=c.display?c.display:d.display,startEditable:null!=c.startEditable?c.startEditable:d.startEditable,durationEditable:null!=c.durationEditable?c.durationEditable:d.durationEditable,constraints:d.constraints.concat(c.constraints),overlap:"boolean"==typeof c.overlap?c.overlap:d.overlap,allows:d.allows.concat(c.allows),backgroundColor:c.backgroundColor||d.backgroundColor,borderColor:c.borderColor||d.borderColor,textColor:c.textColor||d.textColor,classNames:d.classNames.concat(c.classNames)}}var wl={id:String,groupId:String,title:String,url:String,interactive:Boolean},lu={start:tt,end:tt,date:tt,allDay:Boolean},cc=(0,P.__assign)((0,P.__assign)((0,P.__assign)({},wl),lu),{extendedProps:tt});function aa(d,c,p,v,A){void 0===A&&(A=ts(p));var I=Po(d,p,A),N=I.refined,V=I.extra,z=function fr(d,c){var p=null;return d&&(p=d.defaultAllDay),null==p&&(p=c.options.defaultAllDay),p}(c,p),X=function et(d,c,p,v){for(var A=0;A<v.length;A+=1){var I=v[A].parse(d,p);if(I){var N=d.allDay;return null==N&&null==(N=c)&&null==(N=I.allDayGuess)&&(N=!1),{allDay:N,duration:I.duration,typeData:I.typeData,typeId:A}}}return null}(N,z,p.dateEnv,p.pluginHooks.recurringTypes);if(X)return(Ne=ao(N,V,c?c.sourceId:"",X.allDay,Boolean(X.duration),p)).recurringDef={typeId:X.typeId,typeData:X.typeData,duration:X.duration},{def:Ne,instance:null};var Ne,Ue=function dc(d,c,p,v){var I,z,A=d.allDay,N=null,V=!1,X=null;if(I=p.dateEnv.createMarkerMeta(null!=d.start?d.start:d.date))N=I.marker;else if(!v)return null;return null!=d.end&&(z=p.dateEnv.createMarkerMeta(d.end)),null==A&&(A=null!=c?c:(!I||I.isTimeUnspecified)&&(!z||z.isTimeUnspecified)),A&&N&&(N=an(N)),z&&(X=z.marker,A&&(X=an(X)),N&&X<=N&&(X=null)),X?V=!0:v||(V=p.options.forceEventDuration||!1,X=p.dateEnv.add(N,A?p.options.defaultAllDayEventDuration:p.options.defaultTimedEventDuration)),{allDay:A,hasEnd:V,range:{start:N,end:X},forcedStartTzo:I?I.forcedTzo:null,forcedEndTzo:z?z.forcedTzo:null}}(N,z,p,v);return Ue?{def:Ne=ao(N,V,c?c.sourceId:"",Ue.allDay,Ue.hasEnd,p),instance:Y(Ne.defId,Ue.range,Ue.forcedStartTzo,Ue.forcedEndTzo)}:null}function Po(d,c,p){return void 0===p&&(p=ts(c)),zi(d,p)}function ts(d){return(0,P.__assign)((0,P.__assign)((0,P.__assign)({},vs),cc),d.pluginHooks.eventRefiners)}function ao(d,c,p,v,A,I){for(var N={title:d.title||"",groupId:d.groupId||"",publicId:d.id||"",url:d.url||"",recurringDef:null,defId:Jt(),sourceId:p,allDay:v,hasEnd:A,interactive:d.interactive,ui:Bs(d,I),extendedProps:(0,P.__assign)((0,P.__assign)({},d.extendedProps||{}),c)},V=0,z=I.pluginHooks.eventDefMemberAdders;V<z.length;V++)(0,P.__assign)(N,(0,z[V])(d));return Object.freeze(N.ui.classNames),Object.freeze(N.extendedProps),N}function Wi(d){var c=Math.floor(vt(d.start,d.end))||1,p=an(d.start);return{start:p,end:Ze(p,c)}}function ys(d,c){void 0===c&&(c=Bt(0));var p=null,v=null;if(d.end){v=an(d.end);var A=d.end.valueOf()-v.valueOf();A&&A>=Ht(c)&&(v=Ze(v,1))}return d.start&&(p=an(d.start),v&&v<=p&&(v=Ze(p,1))),{start:p,end:v}}function Zn(d){var c=ys(d);return vt(c.start,c.end)>1}function la(d,c,p,v){return"year"===v?Bt(p.diffWholeYears(d,c),"year"):"month"===v?Bt(p.diffWholeMonths(d,c),"month"):xn(d,c)}function lo(d,c){var A,I,p=[],v=c.start;for(d.sort(ti),A=0;A<d.length;A+=1)(I=d[A]).start>v&&p.push({start:v,end:I.start}),I.end>v&&(v=I.end);return v<c.end&&p.push({start:v,end:c.end}),p}function ti(d,c){return d.start.valueOf()-c.start.valueOf()}function Us(d,c){var p=d.start,v=d.end,A=null;return null!==c.start&&(p=null===p?c.start:new Date(Math.max(p.valueOf(),c.start.valueOf()))),null!=c.end&&(v=null===v?c.end:new Date(Math.min(v.valueOf(),c.end.valueOf()))),(null===p||null===v||p<v)&&(A={start:p,end:v}),A}function ua(d,c){return(null===d.start?null:d.start.valueOf())===(null===c.start?null:c.start.valueOf())&&(null===d.end?null:d.end.valueOf())===(null===c.end?null:c.end.valueOf())}function K(d,c){return(null===d.end||null===c.start||d.end>c.start)&&(null===d.start||null===c.end||d.start<c.end)}function Z(d,c){return(null===d.start||null!==c.start&&c.start>=d.start)&&(null===d.end||null!==c.end&&c.end<=d.end)}function we(d,c){return(null===d.start||c>=d.start)&&(null===d.end||c<d.end)}function _t(d,c,p,v){var A={},I={},N={},V=[],z=[],X=Gt(d.defs,c);for(var Ne in d.defs)"inverse-background"===(dt=X[(Ue=d.defs[Ne]).defId]).display&&(Ue.groupId?(A[Ue.groupId]=[],N[Ue.groupId]||(N[Ue.groupId]=Ue)):I[Ne]=[]);for(var yt in d.instances){var wt=d.instances[yt],dt=X[(Ue=d.defs[wt.defId]).defId],Yt=wt.range,ln=!Ue.allDay&&v?ys(Yt,v):Yt,kt=Us(ln,p);kt&&("inverse-background"===dt.display?Ue.groupId?A[Ue.groupId].push(kt):I[wt.defId].push(kt):"none"!==dt.display&&("background"===dt.display?V:z).push({def:Ue,ui:dt,instance:wt,range:kt,isStart:ln.start&&ln.start.valueOf()===kt.start.valueOf(),isEnd:ln.end&&ln.end.valueOf()===kt.end.valueOf()}))}for(var nr in A)for(var Wr=0,qr=lo(A[nr],p);Wr<qr.length;Wr++){var Ue;V.push({def:Ue=N[nr],ui:dt=X[Ue.defId],instance:null,range:qr[Wr],isStart:!1,isEnd:!1})}for(var Ne in I)for(var xs=0,Rs=lo(I[Ne],p);xs<Rs.length;xs++)V.push({def:d.defs[Ne],ui:X[Ne],instance:null,range:Rs[xs],isStart:!1,isEnd:!1});return{bg:V,fg:z}}function It(d){return"background"===d.ui.display||"inverse-background"===d.ui.display}function cn(d,c){d.fcSeg=c}function or(d){return d.fcSeg||d.parentNode.fcSeg||null}function Gt(d,c){return ge(d,function(p){return ar(p,c)})}function ar(d,c){var p=[];return c[""]&&p.push(c[""]),c[d.defId]&&p.push(c[d.defId]),p.push(d.ui),jr(p)}function cr(d,c){var p=d.map(Fn);return p.sort(function(v,A){return Ae(v,A,c)}),p.map(function(v){return v._seg})}function Fn(d){var c=d.eventRange,p=c.def,v=c.instance?c.instance.range:c.range,A=v.start?v.start.valueOf():0,I=v.end?v.end.valueOf():0;return(0,P.__assign)((0,P.__assign)((0,P.__assign)({},p.extendedProps),p),{id:p.publicId,start:A,end:I,duration:I-A,allDay:Number(p.allDay),_seg:d})}function ns(d,c){for(var A=d.eventRange,I=A.def,N=A.ui,V=N.startEditable,z=0,X=c.pluginHooks.isDraggableTransformers;z<X.length;z++)V=(0,X[z])(V,I,N,c);return V}function _s(d,c){return d.isStart&&d.eventRange.ui.durationEditable&&c.options.eventResizableFromStart}function Hs(d,c){return d.isEnd&&d.eventRange.ui.durationEditable}function ja(d,c,p,v,A,I,N){var V=p.dateEnv,z=p.options,X=z.displayEventTime,Ne=z.displayEventEnd,Ue=d.eventRange.def,dt=d.eventRange.instance;null==X&&(X=!1!==v),null==Ne&&(Ne=!1!==A);var yt=dt.range.start,wt=dt.range.end,Yt=I||d.start||d.eventRange.range.start,ln=N||d.end||d.eventRange.range.end,kt=an(yt).valueOf()===an(Yt).valueOf(),nr=an(Dt(wt,-1)).valueOf()===an(Dt(ln,-1)).valueOf();return X&&!Ue.allDay&&(kt||nr)?(Yt=kt?yt:Yt,ln=nr?wt:ln,Ne&&Ue.hasEnd?V.formatRange(Yt,ln,c,{forcedStartTzo:I?null:dt.forcedStartTzo,forcedEndTzo:N?null:dt.forcedEndTzo}):V.format(Yt,c,{forcedTzo:I?null:dt.forcedStartTzo})):""}function rs(d,c,p){var v=d.eventRange.range;return{isPast:v.end<(p||c.start),isFuture:v.start>=(p||c.end),isToday:c&&we(c,v.start)}}function ot(d){var c=["fc-event"];return d.isMirror&&c.push("fc-event-mirror"),d.isDraggable&&c.push("fc-event-draggable"),(d.isStartResizable||d.isEndResizable)&&c.push("fc-event-resizable"),d.isDragging&&c.push("fc-event-dragging"),d.isResizing&&c.push("fc-event-resizing"),d.isSelected&&c.push("fc-event-selected"),d.isStart&&c.push("fc-event-start"),d.isEnd&&c.push("fc-event-end"),d.isPast&&c.push("fc-event-past"),d.isToday&&c.push("fc-event-today"),d.isFuture&&c.push("fc-event-future"),c}function Nn(d){return d.instance?d.instance.instanceId:d.def.defId+":"+d.range.start.toISOString()}function uo(d,c){var p=d.eventRange,v=p.def,A=p.instance,I=v.url;if(I)return{href:I};var N=c.emitter,z=c.options.eventInteractive;return null==z&&null==(z=v.interactive)&&(z=Boolean(N.hasHandlers("eventClick"))),z?ke(function(X){N.trigger("eventClick",{el:X.target,event:new zr(c,v,A),jsEvent:X,view:c.viewApi})}):{}}var Tr={start:tt,end:tt,allDay:Boolean};function js(d,c){return ua(d.range,c.range)&&d.allDay===c.allDay&&function fc(d,c){for(var p in c)if("range"!==p&&"allDay"!==p&&d[p]!==c[p])return!1;for(var p in d)if(!(p in c))return!1;return!0}(d,c)}function Ad(d,c,p){return(0,P.__assign)((0,P.__assign)({},wd(d,c,p)),{timeZone:c.timeZone})}function wd(d,c,p){return{start:c.toDate(d.start),end:c.toDate(d.end),startStr:c.formatIso(d.start,{omitTime:p}),endStr:c.formatIso(d.end,{omitTime:p})}}function Cd(d,c,p){var v=Po({editable:!1},p),A=ao(v.refined,v.extra,"",d.allDay,!0,p);return{def:A,ui:ar(A,c),instance:Y(A.defId,d.range),range:d.range,isStart:!0,isEnd:!0}}function Ga(d,c,p){p.emitter.trigger("select",(0,P.__assign)((0,P.__assign)({},Es(d,p)),{jsEvent:c?c.origEvent:null,view:p.viewApi||p.calendarApi.view}))}function Es(d,c){for(var p={},v=0,A=c.pluginHooks.dateSpanTransforms;v<A.length;v++)(0,P.__assign)(p,(0,A[v])(d,c));return(0,P.__assign)(p,function Cl(d,c){return(0,P.__assign)((0,P.__assign)({},wd(d.range,c,d.allDay)),{allDay:d.allDay})}(d,c.dateEnv)),p}function za(d,c,p){var v=p.dateEnv,A=p.options,I=c;return d?(I=an(I),I=v.add(I,A.defaultAllDayEventDuration)):I=v.add(I,A.defaultTimedEventDuration),I}function ca(d,c,p,v){var A=Gt(d.defs,c),I={defs:{},instances:{}};for(var N in d.defs)I.defs[N]=bs(d.defs[N],A[N],p,v);for(var z in d.instances){var X=d.instances[z];I.instances[z]=ch(X,I.defs[X.defId],A[X.defId],p,v)}return I}function bs(d,c,p,v){var A=p.standardProps||{};null==A.hasEnd&&c.durationEditable&&(p.startDelta||p.endDelta)&&(A.hasEnd=!0);var I=(0,P.__assign)((0,P.__assign)((0,P.__assign)({},d),A),{ui:(0,P.__assign)((0,P.__assign)({},d.ui),A.ui)});p.extendedProps&&(I.extendedProps=(0,P.__assign)((0,P.__assign)({},I.extendedProps),p.extendedProps));for(var N=0,V=v.pluginHooks.eventDefMutationAppliers;N<V.length;N++)(0,V[N])(I,p,v);return!I.hasEnd&&v.options.forceEventDuration&&(I.hasEnd=!0),I}function ch(d,c,p,v,A){var I=A.dateEnv,N=v.standardProps&&!0===v.standardProps.allDay,V=v.standardProps&&!1===v.standardProps.hasEnd,z=(0,P.__assign)({},d);return N&&(z.range=Wi(z.range)),v.datesDelta&&p.startEditable&&(z.range={start:I.add(z.range.start,v.datesDelta),end:I.add(z.range.end,v.datesDelta)}),v.startDelta&&p.durationEditable&&(z.range={start:I.add(z.range.start,v.startDelta),end:z.range.end}),v.endDelta&&p.durationEditable&&(z.range={start:z.range.start,end:I.add(z.range.end,v.endDelta)}),V&&(z.range={start:z.range.start,end:za(c.allDay,z.range.start,A)}),c.allDay&&(z.range={start:an(z.range.start),end:an(z.range.end)}),z.range.end<z.range.start&&(z.range.end=za(c.allDay,z.range.start,A)),z}var Dl=function(){function d(c,p,v){this.type=c,this.getCurrentData=p,this.dateEnv=v}return Object.defineProperty(d.prototype,"calendar",{get:function(){return this.getCurrentData().calendarApi},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"title",{get:function(){return this.getCurrentData().viewTitle},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"activeStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"activeEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"currentStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"currentEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)},enumerable:!1,configurable:!0}),d.prototype.getOption=function(c){return this.getCurrentData().options[c]},d}(),dh={id:String,defaultAllDay:Boolean,url:String,format:String,events:tt,eventDataTransform:tt,success:tt,failure:tt};function uu(d,c,p){var v;if(void 0===p&&(p=Tl(c)),"string"==typeof d?v={url:d}:"function"==typeof d||Array.isArray(d)?v={events:d}:"object"==typeof d&&d&&(v=d),v){var A=zi(v,p),I=A.refined,N=A.extra,V=function cu(d,c){for(var p=c.pluginHooks.eventSourceDefs,v=p.length-1;v>=0;v-=1){var I=p[v].parseMeta(d);if(I)return{sourceDefId:v,meta:I}}return null}(I,c);if(V)return{_raw:d,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:I.defaultAllDay,eventDataTransform:I.eventDataTransform,success:I.success,failure:I.failure,publicId:I.id||"",sourceId:Jt(),sourceDefId:V.sourceDefId,meta:V.meta,ui:Bs(I,c),extendedProps:N}}return null}function Tl(d){return(0,P.__assign)((0,P.__assign)((0,P.__assign)({},vs),dh),d.pluginHooks.eventSourceRefiners)}function Sl(d,c){return"function"==typeof d&&(d=d()),null==d?c.createNowMarker():c.createMarker(d)}var du=function(){function d(){}return d.prototype.getCurrentData=function(){return this.currentDataManager.getCurrentData()},d.prototype.dispatch=function(c){return this.currentDataManager.dispatch(c)},Object.defineProperty(d.prototype,"view",{get:function(){return this.getCurrentData().viewApi},enumerable:!1,configurable:!0}),d.prototype.batchRendering=function(c){c()},d.prototype.updateSize=function(){this.trigger("_resize",!0)},d.prototype.setOption=function(c,p){this.dispatch({type:"SET_OPTION",optionName:c,rawOptionValue:p})},d.prototype.getOption=function(c){return this.currentDataManager.currentCalendarOptionsInput[c]},d.prototype.getAvailableLocaleCodes=function(){return Object.keys(this.getCurrentData().availableRawLocales)},d.prototype.on=function(c,p){var v=this.currentDataManager;v.currentCalendarOptionsRefiners[c]?v.emitter.on(c,p):console.warn("Unknown listener name '"+c+"'")},d.prototype.off=function(c,p){this.currentDataManager.emitter.off(c,p)},d.prototype.trigger=function(c){for(var p,v=[],A=1;A<arguments.length;A++)v[A-1]=arguments[A];(p=this.currentDataManager.emitter).trigger.apply(p,(0,P.__spreadArray)([c],v))},d.prototype.changeView=function(c,p){var v=this;this.batchRendering(function(){if(v.unselect(),p)if(p.start&&p.end)v.dispatch({type:"CHANGE_VIEW_TYPE",viewType:c}),v.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:p});else{var A=v.getCurrentData().dateEnv;v.dispatch({type:"CHANGE_VIEW_TYPE",viewType:c,dateMarker:A.createMarker(p)})}else v.dispatch({type:"CHANGE_VIEW_TYPE",viewType:c})})},d.prototype.zoomTo=function(c,p){var A;A=this.getCurrentData().viewSpecs[p=p||"day"]||this.getUnitViewSpec(p),this.unselect(),this.dispatch(A?{type:"CHANGE_VIEW_TYPE",viewType:A.type,dateMarker:c}:{type:"CHANGE_DATE",dateMarker:c})},d.prototype.getUnitViewSpec=function(c){var N,V,p=this.getCurrentData(),v=p.viewSpecs,A=p.toolbarConfig,I=[].concat(A.header?A.header.viewsWithButtons:[],A.footer?A.footer.viewsWithButtons:[]);for(var z in v)I.push(z);for(N=0;N<I.length;N+=1)if((V=v[I[N]])&&V.singleUnit===c)return V;return null},d.prototype.prev=function(){this.unselect(),this.dispatch({type:"PREV"})},d.prototype.next=function(){this.unselect(),this.dispatch({type:"NEXT"})},d.prototype.prevYear=function(){var c=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:c.dateEnv.addYears(c.currentDate,-1)})},d.prototype.nextYear=function(){var c=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:c.dateEnv.addYears(c.currentDate,1)})},d.prototype.today=function(){var c=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:Sl(c.calendarOptions.now,c.dateEnv)})},d.prototype.gotoDate=function(c){var p=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:p.dateEnv.createMarker(c)})},d.prototype.incrementDate=function(c){var p=this.getCurrentData(),v=Bt(c);v&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:p.dateEnv.add(p.currentDate,v)}))},d.prototype.getDate=function(){var c=this.getCurrentData();return c.dateEnv.toDate(c.currentDate)},d.prototype.formatDate=function(c,p){var v=this.getCurrentData().dateEnv;return v.format(v.createMarker(c),Dr(p))},d.prototype.formatRange=function(c,p,v){var A=this.getCurrentData().dateEnv;return A.formatRange(A.createMarker(c),A.createMarker(p),Dr(v),v)},d.prototype.formatIso=function(c,p){var v=this.getCurrentData().dateEnv;return v.formatIso(v.createMarker(c),{omitTime:p})},d.prototype.select=function(c,p){var v;v=null==p?null!=c.start?c:{start:c,end:null}:{start:c,end:p};var A=this.getCurrentData(),I=function bd(d,c,p){var v=function Oo(d,c){var p=zi(d,Tr),v=p.refined,A=p.extra,I=v.start?c.createMarkerMeta(v.start):null,N=v.end?c.createMarkerMeta(v.end):null,V=v.allDay;return null==V&&(V=I&&I.isTimeUnspecified&&(!N||N.isTimeUnspecified)),(0,P.__assign)({range:{start:I?I.marker:null,end:N?N.marker:null},allDay:V},A)}(d,c),A=v.range;if(!A.start)return null;if(!A.end){if(null==p)return null;A.end=c.add(A.start,p)}return v}(v,A.dateEnv,Bt({days:1}));I&&(this.dispatch({type:"SELECT_DATES",selection:I}),Ga(I,null,A))},d.prototype.unselect=function(c){var p=this.getCurrentData();p.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),function ni(d,c){c.emitter.trigger("unselect",{jsEvent:d?d.origEvent:null,view:c.viewApi||c.calendarApi.view})}(c,p))},d.prototype.addEvent=function(c,p){if(c instanceof zr){var v=c._def,A=c._instance;return this.getCurrentData().eventStore.defs[v.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:$i({def:v,instance:A})}),this.triggerEventAdd(c)),c}var V,N=this.getCurrentData();if(p instanceof T)V=p.internalEventSource;else if("boolean"==typeof p)p&&(V=pt(N.eventSources)[0]);else if(null!=p){var z=this.getEventSourceById(p);if(!z)return console.warn('Could not find an event source with ID "'+p+'"'),null;V=z.internalEventSource}var X=aa(c,V,N,!1);if(X){var Ne=new zr(N,X.def,X.def.recurringDef?null:X.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:$i(X)}),this.triggerEventAdd(Ne),Ne}return null},d.prototype.triggerEventAdd=function(c){var p=this;this.getCurrentData().emitter.trigger("eventAdd",{event:c,relatedEvents:[],revert:function(){p.dispatch({type:"REMOVE_EVENTS",eventStore:Fo(c)})}})},d.prototype.getEventById=function(c){var p=this.getCurrentData(),v=p.eventStore,A=v.defs,I=v.instances;for(var N in c=String(c),A){var V=A[N];if(V.publicId===c){if(V.recurringDef)return new zr(p,V,null);for(var z in I){var X=I[z];if(X.defId===V.defId)return new zr(p,V,X)}}}return null},d.prototype.getEvents=function(){var c=this.getCurrentData();return Il(c.eventStore,c)},d.prototype.removeAllEvents=function(){this.dispatch({type:"REMOVE_ALL_EVENTS"})},d.prototype.getEventSources=function(){var c=this.getCurrentData(),p=c.eventSources,v=[];for(var A in p)v.push(new T(c,p[A]));return v},d.prototype.getEventSourceById=function(c){var p=this.getCurrentData(),v=p.eventSources;for(var A in c=String(c),v)if(v[A].publicId===c)return new T(p,v[A]);return null},d.prototype.addEventSource=function(c){var p=this.getCurrentData();if(c instanceof T)return p.eventSources[c.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[c.internalEventSource]}),c;var v=uu(c,p);return v?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[v]}),new T(p,v)):null},d.prototype.removeAllEventSources=function(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})},d.prototype.refetchEvents=function(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})},d.prototype.scrollToTime=function(c){var p=Bt(c);p&&this.trigger("_scrollRequest",{time:p})},d}(),zr=function(){function d(c,p,v){this._context=c,this._def=p,this._instance=v||null}return d.prototype.setProp=function(c,p){var v,A;if(c in lu)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if("id"===c)p=wl[c](p),this.mutate({standardProps:{publicId:p}});else if(c in wl)p=wl[c](p),this.mutate({standardProps:(v={},v[c]=p,v)});else if(c in vs){var I=vs[c](p);"color"===c?I={backgroundColor:p,borderColor:p}:"editable"===c?I={startEditable:p,durationEditable:p}:((A={})[c]=p,I=A),this.mutate({standardProps:{ui:I}})}else console.warn("Could not set prop '"+c+"'. Use setExtendedProp instead.")},d.prototype.setExtendedProp=function(c,p){var v;this.mutate({extendedProps:(v={},v[c]=p,v)})},d.prototype.setStart=function(c,p){void 0===p&&(p={});var v=this._context.dateEnv,A=v.createMarker(c);if(A&&this._instance){var N=la(this._instance.range.start,A,v,p.granularity);this.mutate(p.maintainDuration?{datesDelta:N}:{startDelta:N})}},d.prototype.setEnd=function(c,p){void 0===p&&(p={});var A,v=this._context.dateEnv;if((null==c||(A=v.createMarker(c)))&&this._instance)if(A){var I=la(this._instance.range.end,A,v,p.granularity);this.mutate({endDelta:I})}else this.mutate({standardProps:{hasEnd:!1}})},d.prototype.setDates=function(c,p,v){void 0===v&&(v={});var V,A=this._context.dateEnv,I={allDay:v.allDay},N=A.createMarker(c);if(N&&(null==p||(V=A.createMarker(p)))&&this._instance){var z=this._instance.range;!0===v.allDay&&(z=Wi(z));var X=la(z.start,N,A,v.granularity);if(V){var Ne=la(z.end,V,A,v.granularity);!function Rn(d,c){return d.years===c.years&&d.months===c.months&&d.days===c.days&&d.milliseconds===c.milliseconds}(X,Ne)?this.mutate({startDelta:X,endDelta:Ne,standardProps:I}):this.mutate({datesDelta:X,standardProps:I})}else I.hasEnd=!1,this.mutate({datesDelta:X,standardProps:I})}},d.prototype.moveStart=function(c){var p=Bt(c);p&&this.mutate({startDelta:p})},d.prototype.moveEnd=function(c){var p=Bt(c);p&&this.mutate({endDelta:p})},d.prototype.moveDates=function(c){var p=Bt(c);p&&this.mutate({datesDelta:p})},d.prototype.setAllDay=function(c,p){void 0===p&&(p={});var v={allDay:c},A=p.maintainDuration;null==A&&(A=this._context.options.allDayMaintainDuration),this._def.allDay!==c&&(v.hasEnd=A),this.mutate({standardProps:v})},d.prototype.formatRange=function(c){var p=this._context.dateEnv,v=this._instance,A=Dr(c);return this._def.hasEnd?p.formatRange(v.range.start,v.range.end,A,{forcedStartTzo:v.forcedStartTzo,forcedEndTzo:v.forcedEndTzo}):p.format(v.range.start,A,{forcedTzo:v.forcedStartTzo})},d.prototype.mutate=function(c){var p=this._instance;if(p){var v=this._def,A=this._context,I=A.getCurrentData().eventStore,N=Ii(I,p.instanceId);N=ca(N,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},c,A);var z=new d(A,v,p);this._def=N.defs[v.defId],this._instance=N.instances[p.instanceId],A.dispatch({type:"MERGE_EVENTS",eventStore:N}),A.emitter.trigger("eventChange",{oldEvent:z,event:this,relatedEvents:Il(N,A,p),revert:function(){A.dispatch({type:"RESET_EVENTS",eventStore:I})}})}},d.prototype.remove=function(){var c=this._context,p=Fo(this);c.dispatch({type:"REMOVE_EVENTS",eventStore:p}),c.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert:function(){c.dispatch({type:"MERGE_EVENTS",eventStore:p})}})},Object.defineProperty(d.prototype,"source",{get:function(){var c=this._def.sourceId;return c?new T(this._context,this._context.getCurrentData().eventSources[c]):null},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"start",{get:function(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"end",{get:function(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"startStr",{get:function(){var c=this._instance;return c?this._context.dateEnv.formatIso(c.range.start,{omitTime:this._def.allDay,forcedTzo:c.forcedStartTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"endStr",{get:function(){var c=this._instance;return c&&this._def.hasEnd?this._context.dateEnv.formatIso(c.range.end,{omitTime:this._def.allDay,forcedTzo:c.forcedEndTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"id",{get:function(){return this._def.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"groupId",{get:function(){return this._def.groupId},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"allDay",{get:function(){return this._def.allDay},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"title",{get:function(){return this._def.title},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"url",{get:function(){return this._def.url},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"display",{get:function(){return this._def.ui.display||"auto"},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"startEditable",{get:function(){return this._def.ui.startEditable},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"durationEditable",{get:function(){return this._def.ui.durationEditable},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"constraint",{get:function(){return this._def.ui.constraints[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"overlap",{get:function(){return this._def.ui.overlap},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"allow",{get:function(){return this._def.ui.allows[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"backgroundColor",{get:function(){return this._def.ui.backgroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"borderColor",{get:function(){return this._def.ui.borderColor},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"textColor",{get:function(){return this._def.ui.textColor},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"classNames",{get:function(){return this._def.ui.classNames},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"extendedProps",{get:function(){return this._def.extendedProps},enumerable:!1,configurable:!0}),d.prototype.toPlainObject=function(c){void 0===c&&(c={});var p=this._def,v=p.ui,I=this.startStr,N=this.endStr,V={};return p.title&&(V.title=p.title),I&&(V.start=I),N&&(V.end=N),p.publicId&&(V.id=p.publicId),p.groupId&&(V.groupId=p.groupId),p.url&&(V.url=p.url),v.display&&"auto"!==v.display&&(V.display=v.display),c.collapseColor&&v.backgroundColor&&v.backgroundColor===v.borderColor?V.color=v.backgroundColor:(v.backgroundColor&&(V.backgroundColor=v.backgroundColor),v.borderColor&&(V.borderColor=v.borderColor)),v.textColor&&(V.textColor=v.textColor),v.classNames.length&&(V.classNames=v.classNames),Object.keys(p.extendedProps).length&&(c.collapseExtendedProps?(0,P.__assign)(V,p.extendedProps):V.extendedProps=p.extendedProps),V},d.prototype.toJSON=function(){return this.toPlainObject()},d}();function Fo(d){var c,p,v=d._def,A=d._instance;return{defs:(c={},c[v.defId]=v,c),instances:A?(p={},p[A.instanceId]=A,p):{}}}function Il(d,c,p){var v=d.defs,A=d.instances,I=[],N=p?p.instanceId:"";for(var V in A){var z=A[V];z.instanceId!==N&&I.push(new zr(c,v[z.defId],z))}return I}var Sd={};!function hc(d,c){Sd[d]=c}("gregory",function(){function d(){}return d.prototype.getMarkerYear=function(c){return c.getUTCFullYear()},d.prototype.getMarkerMonth=function(c){return c.getUTCMonth()},d.prototype.getMarkerDay=function(c){return c.getUTCDate()},d.prototype.arrayToMarker=function(c){return ue(c)},d.prototype.markerToArray=function(c){return Tn(c)},d}());var hh=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function ri(d){var c=hh.exec(d);if(c){var p=new Date(Date.UTC(Number(c[1]),c[3]?Number(c[3])-1:0,Number(c[5]||1),Number(c[7]||0),Number(c[8]||0),Number(c[10]||0),c[12]?1e3*Number("0."+c[12]):0));if(ve(p)){var v=null;return c[13]&&(v=("-"===c[15]?-1:1)*(60*Number(c[16]||0)+Number(c[18]||0))),{marker:p,isTimeUnspecified:!c[6],timeZoneOffset:v}}}return null}var Gs=function(){function d(c){var p=this.timeZone=c.timeZone,v="local"!==p&&"UTC"!==p;c.namedTimeZoneImpl&&v&&(this.namedTimeZoneImpl=new c.namedTimeZoneImpl(p)),this.canComputeOffset=Boolean(!v||this.namedTimeZoneImpl),this.calendarSystem=function As(d){return new Sd[d]}(c.calendarSystem),this.locale=c.locale,this.weekDow=c.locale.week.dow,this.weekDoy=c.locale.week.doy,"ISO"===c.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof c.firstDay&&(this.weekDow=c.firstDay),"function"==typeof c.weekNumberCalculation&&(this.weekNumberFunc=c.weekNumberCalculation),this.weekText=null!=c.weekText?c.weekText:c.locale.options.weekText,this.weekTextLong=(null!=c.weekTextLong?c.weekTextLong:c.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=c.cmdFormatter,this.defaultSeparator=c.defaultSeparator}return d.prototype.createMarker=function(c){var p=this.createMarkerMeta(c);return null===p?null:p.marker},d.prototype.createNowMarker=function(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):ue(wr(new Date))},d.prototype.createMarkerMeta=function(c){if("string"==typeof c)return this.parse(c);var p=null;return"number"==typeof c?p=this.timestampToMarker(c):c instanceof Date?(c=c.valueOf(),isNaN(c)||(p=this.timestampToMarker(c))):Array.isArray(c)&&(p=ue(c)),null!==p&&ve(p)?{marker:p,isTimeUnspecified:!1,forcedTzo:null}:null},d.prototype.parse=function(c){var p=ri(c);if(null===p)return null;var v=p.marker,A=null;return null!==p.timeZoneOffset&&(this.canComputeOffset?v=this.timestampToMarker(v.valueOf()-60*p.timeZoneOffset*1e3):A=p.timeZoneOffset),{marker:v,isTimeUnspecified:p.isTimeUnspecified,forcedTzo:A}},d.prototype.getYear=function(c){return this.calendarSystem.getMarkerYear(c)},d.prototype.getMonth=function(c){return this.calendarSystem.getMarkerMonth(c)},d.prototype.add=function(c,p){var v=this.calendarSystem.markerToArray(c);return v[0]+=p.years,v[1]+=p.months,v[2]+=p.days,v[6]+=p.milliseconds,this.calendarSystem.arrayToMarker(v)},d.prototype.subtract=function(c,p){var v=this.calendarSystem.markerToArray(c);return v[0]-=p.years,v[1]-=p.months,v[2]-=p.days,v[6]-=p.milliseconds,this.calendarSystem.arrayToMarker(v)},d.prototype.addYears=function(c,p){var v=this.calendarSystem.markerToArray(c);return v[0]+=p,this.calendarSystem.arrayToMarker(v)},d.prototype.addMonths=function(c,p){var v=this.calendarSystem.markerToArray(c);return v[1]+=p,this.calendarSystem.arrayToMarker(v)},d.prototype.diffWholeYears=function(c,p){var v=this.calendarSystem;return B(c)===B(p)&&v.getMarkerDay(c)===v.getMarkerDay(p)&&v.getMarkerMonth(c)===v.getMarkerMonth(p)?v.getMarkerYear(p)-v.getMarkerYear(c):null},d.prototype.diffWholeMonths=function(c,p){var v=this.calendarSystem;return B(c)===B(p)&&v.getMarkerDay(c)===v.getMarkerDay(p)?v.getMarkerMonth(p)-v.getMarkerMonth(c)+12*(v.getMarkerYear(p)-v.getMarkerYear(c)):null},d.prototype.greatestWholeUnit=function(c,p){var v=this.diffWholeYears(c,p);return null!==v?{unit:"year",value:v}:null!==(v=this.diffWholeMonths(c,p))?{unit:"month",value:v}:null!==(v=Dn(c,p))?{unit:"week",value:v}:null!==(v=$n(c,p))?{unit:"day",value:v}:(v=function Vt(d,c){return(c.valueOf()-d.valueOf())/36e5}(c,p),Lt(v)?{unit:"hour",value:v}:(v=function er(d,c){return(c.valueOf()-d.valueOf())/6e4}(c,p),Lt(v)?{unit:"minute",value:v}:(v=function bn(d,c){return(c.valueOf()-d.valueOf())/1e3}(c,p),Lt(v)?{unit:"second",value:v}:{unit:"millisecond",value:p.valueOf()-c.valueOf()})))},d.prototype.countDurationsBetween=function(c,p,v){var A;return v.years&&null!==(A=this.diffWholeYears(c,p))?A/function ei(d){return _e(d)/365}(v):v.months&&null!==(A=this.diffWholeMonths(c,p))?A/function At(d){return _e(d)/30}(v):v.days&&null!==(A=$n(c,p))?A/_e(v):(p.valueOf()-c.valueOf())/Ht(v)},d.prototype.startOf=function(c,p){return"year"===p?this.startOfYear(c):"month"===p?this.startOfMonth(c):"week"===p?this.startOfWeek(c):"day"===p?an(c):"hour"===p?function un(d){return ue([d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours()])}(c):"minute"===p?function qt(d){return ue([d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes()])}(c):"second"===p?function Rt(d){return ue([d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds()])}(c):null},d.prototype.startOfYear=function(c){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(c)])},d.prototype.startOfMonth=function(c){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(c),this.calendarSystem.getMarkerMonth(c)])},d.prototype.startOfWeek=function(c){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(c),this.calendarSystem.getMarkerMonth(c),c.getUTCDate()-(c.getUTCDay()-this.weekDow+7)%7])},d.prototype.computeWeekNumber=function(c){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(c)):function tr(d,c,p){var v=d.getUTCFullYear(),A=Pr(d,v,c,p);if(A<1)return Pr(d,v-1,c,p);var I=Pr(d,v+1,c,p);return I>=1?Math.min(A,I):A}(c,this.weekDow,this.weekDoy)},d.prototype.format=function(c,p,v){return void 0===v&&(v={}),p.format({marker:c,timeZoneOffset:null!=v.forcedTzo?v.forcedTzo:this.offsetForMarker(c)},this)},d.prototype.formatRange=function(c,p,v,A){return void 0===A&&(A={}),A.isEndExclusive&&(p=Dt(p,-1)),v.formatRange({marker:c,timeZoneOffset:null!=A.forcedStartTzo?A.forcedStartTzo:this.offsetForMarker(c)},{marker:p,timeZoneOffset:null!=A.forcedEndTzo?A.forcedEndTzo:this.offsetForMarker(p)},this,A.defaultSeparator)},d.prototype.formatIso=function(c,p){void 0===p&&(p={});var v=null;return p.omitTimeZoneOffset||(v=null!=p.forcedTzo?p.forcedTzo:this.offsetForMarker(c)),Sn(c,v,p.omitTime)},d.prototype.timestampToMarker=function(c){return"local"===this.timeZone?ue(wr(new Date(c))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?ue(this.namedTimeZoneImpl.timestampToArray(c)):new Date(c)},d.prototype.offsetForMarker=function(c){return"local"===this.timeZone?-rr(Tn(c)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Tn(c)):null},d.prototype.toDate=function(c,p){return"local"===this.timeZone?rr(Tn(c)):"UTC"===this.timeZone?new Date(c.valueOf()):this.namedTimeZoneImpl?new Date(c.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(Tn(c))*60):new Date(c.valueOf()-(p||0))},d}(),Fr=[],ph={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},vg=(0,P.__assign)((0,P.__assign)({},ph),{buttonHints:{prev:"Previous $0",next:"Next $0",today:function(d,c){return"day"===c?"Today":"This "+d}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint:function(d){return"Show "+d+" more event"+(1===d?"":"s")}});function gh(d){for(var c=d.length>0?d[0].code:"en",p=Fr.concat(d),v={en:vg},A=0,I=p;A<I.length;A++){var N=I[A];v[N.code]=N}return{map:v,defaultCode:c}}function Id(d,c){return"object"!=typeof d||Array.isArray(d)?function yg(d,c){var p=[].concat(d||[]),v=function Md(d,c){for(var p=0;p<d.length;p+=1)for(var v=d[p].toLocaleLowerCase().split("-"),A=v.length;A>0;A-=1){var I=v.slice(0,A).join("-");if(c[I])return c[I]}return null}(p,c)||vg;return zs(d,p,v)}(d,c):zs(d.code,[d.code],d)}function zs(d,c,p){var v=le([ph,p],["buttonText"]);delete v.code;var A=v.week;return delete v.week,{codeArg:d,codes:c,week:A,simpleNumberFormat:new Intl.NumberFormat(d),options:v}}function Ml(d,c){void 0===c&&(c={});var p=pc(c),v=Dr(c),A=p.createMarkerMeta(d);return A?p.format(A.marker,v,{forcedTzo:A.forcedTzo}):""}function fu(d,c,p){var v=pc("object"==typeof p&&p?p:{}),A=Dr(p),I=v.createMarkerMeta(d),N=v.createMarkerMeta(c);return I&&N?v.formatRange(I.marker,N.marker,A,{forcedStartTzo:I.forcedTzo,forcedEndTzo:N.forcedTzo,isEndExclusive:p.isEndExclusive,defaultSeparator:Ls.defaultRangeSeparator}):""}function pc(d){var c=Id(d.locale||"en",gh([]).map);return new Gs((0,P.__assign)((0,P.__assign)({timeZone:Ls.timeZone,calendarSystem:"gregory"},d),{locale:c}))}var _r,mh={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function vh(d,c){return ko(function co(d){return(!0===d?[{}]:Array.isArray(d)?d.filter(function(p){return p.daysOfWeek}):"object"==typeof d&&d?[d]:[]).map(function(p){return(0,P.__assign)((0,P.__assign)({},mh),p)})}(d),null,c)}function $a(d,c){return d.left>=c.left&&d.left<c.right&&d.top>=c.top&&d.top<c.bottom}function yh(d,c){var p={left:Math.max(d.left,c.left),right:Math.min(d.right,c.right),top:Math.max(d.top,c.top),bottom:Math.min(d.bottom,c.bottom)};return p.left<p.right&&p.top<p.bottom&&p}function xl(d,c,p){return{left:d.left+c,right:d.right+c,top:d.top+p,bottom:d.bottom+p}}function Wa(d,c){return{left:Math.min(Math.max(d.left,c.left),c.right),top:Math.min(Math.max(d.top,c.top),c.bottom)}}function hu(d){return{left:(d.left+d.right)/2,top:(d.top+d.bottom)/2}}function _g(d,c){return{left:d.left-c.left,top:d.top-c.top}}function $s(){return null==_r&&(_r=function _h(){if("undefined"==typeof document)return!0;var d=document.createElement("div");d.style.position="absolute",d.style.top="0px",d.style.left="0px",d.innerHTML="<table><tr><td><div></div></td></tr></table>",d.querySelector("table").style.height="100px",d.querySelector("div").style.height="100%",document.body.appendChild(d);var p=d.querySelector("div").offsetHeight>0;return document.body.removeChild(d),p}()),_r}var Rl={defs:{},instances:{}},pu=function(){function d(){this.getKeysForEventDefs=Bn(this._getKeysForEventDefs),this.splitDateSelection=Bn(this._splitDateSpan),this.splitEventStore=Bn(this._splitEventStore),this.splitIndividualUi=Bn(this._splitIndividualUi),this.splitEventDrag=Bn(this._splitInteraction),this.splitEventResize=Bn(this._splitInteraction),this.eventUiBuilders={}}return d.prototype.splitProps=function(c){var p=this,v=this.getKeyInfo(c),A=this.getKeysForEventDefs(c.eventStore),I=this.splitDateSelection(c.dateSelection),N=this.splitIndividualUi(c.eventUiBases,A),V=this.splitEventStore(c.eventStore,A),z=this.splitEventDrag(c.eventDrag),X=this.splitEventResize(c.eventResize),Ne={};for(var Ue in this.eventUiBuilders=ge(v,function(Yt,ln){return p.eventUiBuilders[ln]||Bn(gc)}),v){var dt=v[Ue],yt=V[Ue]||Rl;Ne[Ue]={businessHours:dt.businessHours||c.businessHours,dateSelection:I[Ue]||null,eventStore:yt,eventUiBases:(0,this.eventUiBuilders[Ue])(c.eventUiBases[""],dt.ui,N[Ue]),eventSelection:yt.instances[c.eventSelection]?c.eventSelection:"",eventDrag:z[Ue]||null,eventResize:X[Ue]||null}}return Ne},d.prototype._splitDateSpan=function(c){var p={};if(c)for(var A=0,I=this.getKeysForDateSpan(c);A<I.length;A++)p[I[A]]=c;return p},d.prototype._getKeysForEventDefs=function(c){var p=this;return ge(c.defs,function(v){return p.getKeysForEventDef(v)})},d.prototype._splitEventStore=function(c,p){var v=c.defs,A=c.instances,I={};for(var N in v)for(var V=0,z=p[N];V<z.length;V++)I[X=z[V]]||(I[X]={defs:{},instances:{}}),I[X].defs[N]=v[N];for(var Ne in A)for(var Ue=A[Ne],dt=0,yt=p[Ue.defId];dt<yt.length;dt++){var X;I[X=yt[dt]]&&(I[X].instances[Ne]=Ue)}return I},d.prototype._splitIndividualUi=function(c,p){var v={};for(var A in c)if(A)for(var I=0,N=p[A];I<N.length;I++){var V=N[I];v[V]||(v[V]={}),v[V][A]=c[A]}return v},d.prototype._splitInteraction=function(c){var p={};if(c){var v=this._splitEventStore(c.affectedEvents,this._getKeysForEventDefs(c.affectedEvents)),A=this._getKeysForEventDefs(c.mutatedEvents),I=this._splitEventStore(c.mutatedEvents,A),N=function(z){p[z]||(p[z]={affectedEvents:v[z]||Rl,mutatedEvents:I[z]||Rl,isEvent:c.isEvent})};for(var V in v)N(V);for(var V in I)N(V)}return p},d}();function gc(d,c,p){var v=[];d&&v.push(d),c&&v.push(c);var A={"":jr(v)};return p&&(0,P.__assign)(A,p),A}function da(d,c,p,v){return{dow:d.getUTCDay(),isDisabled:Boolean(v&&!we(v.activeRange,d)),isOther:Boolean(v&&!we(v.currentRange,d)),isToday:Boolean(c&&we(c,d)),isPast:Boolean(p?d<p:!!c&&d<c.start),isFuture:Boolean(p?d>p:!!c&&d>=c.end)}}function fo(d,c){var p=["fc-day","fc-day-"+pn[d.dow]];return d.isDisabled?p.push("fc-day-disabled"):(d.isToday&&(p.push("fc-day-today"),p.push(c.getClass("today"))),d.isPast&&p.push("fc-day-past"),d.isFuture&&p.push("fc-day-future"),d.isOther&&p.push("fc-day-other")),p}function Nl(d,c){var p=["fc-slot","fc-slot-"+pn[d.dow]];return d.isDisabled?p.push("fc-slot-disabled"):(d.isToday&&(p.push("fc-slot-today"),p.push(c.getClass("today"))),d.isPast&&p.push("fc-slot-past"),d.isFuture&&p.push("fc-slot-future")),p}var lr=Dr({year:"numeric",month:"long",day:"numeric"}),Mi=Dr({week:"long"});function gn(d,c,p,v){void 0===p&&(p="day"),void 0===v&&(v=!0);var A=d.dateEnv,I=d.options,N=d.calendarApi,V=A.format(c,"week"===p?Mi:lr);if(I.navLinks){var z=A.toDate(c),X=function(Ne){var Ue="day"===p?I.navLinkDayClick:"week"===p?I.navLinkWeekClick:null;"function"==typeof Ue?Ue.call(N,A.toDate(c),Ne):("string"==typeof Ue&&(p=Ue),N.zoomTo(c,p))};return(0,P.__assign)({title:Ct(I.navLinkHint,[V,z],V),"data-navlink":""},v?Xe(X):{onClick:X})}return{"aria-label":V}}var Pl,kl=null;function fa(){return null===kl&&(kl=function Eh(){var d=document.createElement("div");je(d,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),d.innerHTML="<div></div>",document.body.appendChild(d);var p=d.firstChild.getBoundingClientRect().left>d.getBoundingClientRect().left;return F(d),p}()),kl}function gu(){return Pl||(Pl=function xd(){var d=document.createElement("div");d.style.overflow="scroll",d.style.position="absolute",d.style.top="-9999px",d.style.left="-9999px",document.body.appendChild(d);var c=ws(d);return document.body.removeChild(d),c}()),Pl}function ws(d){return{x:d.offsetHeight-d.clientHeight,y:d.offsetWidth-d.clientWidth}}function pi(d,c){void 0===c&&(c=!1);var p=window.getComputedStyle(d),v=parseInt(p.borderLeftWidth,10)||0,A=parseInt(p.borderRightWidth,10)||0,I=parseInt(p.borderTopWidth,10)||0,N=parseInt(p.borderBottomWidth,10)||0,V=ws(d),z=V.y-v-A,Ne={borderLeft:v,borderRight:A,borderTop:I,borderBottom:N,scrollbarBottom:V.x-I-N,scrollbarLeft:0,scrollbarRight:0};return fa()&&"rtl"===p.direction?Ne.scrollbarLeft=z:Ne.scrollbarRight=z,c&&(Ne.paddingLeft=parseInt(p.paddingLeft,10)||0,Ne.paddingRight=parseInt(p.paddingRight,10)||0,Ne.paddingTop=parseInt(p.paddingTop,10)||0,Ne.paddingBottom=parseInt(p.paddingBottom,10)||0),Ne}function ha(d,c,p){void 0===c&&(c=!1);var v=p?d.getBoundingClientRect():ho(d),A=pi(d,c),I={left:v.left+A.borderLeft+A.scrollbarLeft,right:v.right-A.borderRight-A.scrollbarRight,top:v.top+A.borderTop,bottom:v.bottom-A.borderBottom-A.scrollbarBottom};return c&&(I.left+=A.paddingLeft,I.right-=A.paddingRight,I.top+=A.paddingTop,I.bottom-=A.paddingBottom),I}function ho(d){var c=d.getBoundingClientRect();return{left:c.left+window.pageXOffset,top:c.top+window.pageYOffset,right:c.right+window.pageXOffset,bottom:c.bottom+window.pageYOffset}}function qa(d){return d.getBoundingClientRect().height+function Rd(d){var c=window.getComputedStyle(d);return parseInt(c.marginTop,10)+parseInt(c.marginBottom,10)}(d)}function Cs(d){for(var c=[];d instanceof HTMLElement;){var p=window.getComputedStyle(d);if("fixed"===p.position)break;/(auto|scroll)/.test(p.overflow+p.overflowY+p.overflowX)&&c.push(d),d=d.parentNode}return c}function Ws(d,c,p){var v=!1,A=function(){v||(v=!0,c.apply(this,arguments))},I=function(){v||(v=!0,p&&p.apply(this,arguments))},N=d(A,I);N&&"function"==typeof N.then&&N.then(A,I)}var pa=function(){function d(){this.handlers={},this.thisContext=null}return d.prototype.setThisContext=function(c){this.thisContext=c},d.prototype.setOptions=function(c){this.options=c},d.prototype.on=function(c,p){!function Qr(d,c,p){(d[c]||(d[c]=[])).push(p)}(this.handlers,c,p)},d.prototype.off=function(c,p){!function Lo(d,c,p){p?d[c]&&(d[c]=d[c].filter(function(v){return v!==p})):delete d[c]}(this.handlers,c,p)},d.prototype.trigger=function(c){for(var p=[],v=1;v<arguments.length;v++)p[v-1]=arguments[v];for(var A=this.handlers[c]||[],I=this.options&&this.options[c],N=[].concat(I||[],A),V=0,z=N;V<z.length;V++){var X=z[V];X.apply(this.thisContext,p)}},d.prototype.hasHandlers=function(c){return Boolean(this.handlers[c]&&this.handlers[c].length||this.options&&this.options[c])},d}(),bh=function(){function d(c,p,v,A){this.els=p;var I=this.originClientRect=c.getBoundingClientRect();v&&this.buildElHorizontals(I.left),A&&this.buildElVerticals(I.top)}return d.prototype.buildElHorizontals=function(c){for(var p=[],v=[],A=0,I=this.els;A<I.length;A++){var V=I[A].getBoundingClientRect();p.push(V.left-c),v.push(V.right-c)}this.lefts=p,this.rights=v},d.prototype.buildElVerticals=function(c){for(var p=[],v=[],A=0,I=this.els;A<I.length;A++){var V=I[A].getBoundingClientRect();p.push(V.top-c),v.push(V.bottom-c)}this.tops=p,this.bottoms=v},d.prototype.leftToIndex=function(c){var N,v=this.lefts,A=this.rights,I=v.length;for(N=0;N<I;N+=1)if(c>=v[N]&&c<A[N])return N},d.prototype.topToIndex=function(c){var N,v=this.tops,A=this.bottoms,I=v.length;for(N=0;N<I;N+=1)if(c>=v[N]&&c<A[N])return N},d.prototype.getWidth=function(c){return this.rights[c]-this.lefts[c]},d.prototype.getHeight=function(c){return this.bottoms[c]-this.tops[c]},d}(),vu=function(){function d(){}return d.prototype.getMaxScrollTop=function(){return this.getScrollHeight()-this.getClientHeight()},d.prototype.getMaxScrollLeft=function(){return this.getScrollWidth()-this.getClientWidth()},d.prototype.canScrollVertically=function(){return this.getMaxScrollTop()>0},d.prototype.canScrollHorizontally=function(){return this.getMaxScrollLeft()>0},d.prototype.canScrollUp=function(){return this.getScrollTop()>0},d.prototype.canScrollDown=function(){return this.getScrollTop()<this.getMaxScrollTop()},d.prototype.canScrollLeft=function(){return this.getScrollLeft()>0},d.prototype.canScrollRight=function(){return this.getScrollLeft()<this.getMaxScrollLeft()},d}(),ga=function(d){function c(p){var v=d.call(this)||this;return v.el=p,v}return(0,P.__extends)(c,d),c.prototype.getScrollTop=function(){return this.el.scrollTop},c.prototype.getScrollLeft=function(){return this.el.scrollLeft},c.prototype.setScrollTop=function(p){this.el.scrollTop=p},c.prototype.setScrollLeft=function(p){this.el.scrollLeft=p},c.prototype.getScrollWidth=function(){return this.el.scrollWidth},c.prototype.getScrollHeight=function(){return this.el.scrollHeight},c.prototype.getClientHeight=function(){return this.el.clientHeight},c.prototype.getClientWidth=function(){return this.el.clientWidth},c}(vu),Nd=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,P.__extends)(c,d),c.prototype.getScrollTop=function(){return window.pageYOffset},c.prototype.getScrollLeft=function(){return window.pageXOffset},c.prototype.setScrollTop=function(p){window.scroll(window.pageXOffset,p)},c.prototype.setScrollLeft=function(p){window.scroll(p,window.pageYOffset)},c.prototype.getScrollWidth=function(){return document.documentElement.scrollWidth},c.prototype.getScrollHeight=function(){return document.documentElement.scrollHeight},c.prototype.getClientHeight=function(){return document.documentElement.clientHeight},c.prototype.getClientWidth=function(){return document.documentElement.clientWidth},c}(vu),Vo=function(){function d(c){this.iconOverrideOption&&this.setIconOverride(c[this.iconOverrideOption])}return d.prototype.setIconOverride=function(c){var p,v;if("object"==typeof c&&c){for(v in p=(0,P.__assign)({},this.iconClasses),c)p[v]=this.applyIconOverridePrefix(c[v]);this.iconClasses=p}else!1===c&&(this.iconClasses={})},d.prototype.applyIconOverridePrefix=function(c){var p=this.iconOverridePrefix;return p&&0!==c.indexOf(p)&&(c=p+c),c},d.prototype.getClass=function(c){return this.classes[c]||""},d.prototype.getIconClass=function(c,p){var v;return(v=p&&this.rtlIconClasses&&this.rtlIconClasses[c]||this.iconClasses[c])?this.baseIconClass+" "+v:""},d.prototype.getCustomButtonIconClass=function(c){var p;return this.iconOverrideCustomButtonOption&&(p=c[this.iconOverrideCustomButtonOption])?this.baseIconClass+" "+this.applyIconOverridePrefix(p):""},d}();Vo.prototype.classes={},Vo.prototype.iconClasses={},Vo.prototype.baseIconClass="",Vo.prototype.iconOverridePrefix="";var yu=function(){function d(c,p,v,A){var I=this;this.execFunc=c,this.emitter=p,this.scrollTime=v,this.scrollTimeReset=A,this.handleScrollRequest=function(N){I.queuedRequest=(0,P.__assign)({},I.queuedRequest||{},N),I.drain()},p.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}return d.prototype.detach=function(){this.emitter.off("_scrollRequest",this.handleScrollRequest)},d.prototype.update=function(c){c&&this.scrollTimeReset?this.fireInitialScroll():this.drain()},d.prototype.fireInitialScroll=function(){this.handleScrollRequest({time:this.scrollTime})},d.prototype.drain=function(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)},d}(),ii=xe({});function mc(d,c,p,v,A,I,N,V,z,X,Ne,Ue,dt){return{dateEnv:A,options:p,pluginHooks:N,emitter:X,dispatch:V,getCurrentData:z,calendarApi:Ne,viewSpec:d,viewApi:c,dateProfileGenerator:v,theme:I,isRtl:"rtl"===p.direction,addResizeHandler:function(yt){X.on("_resize",yt)},removeResizeHandler:function(yt){X.off("_resize",yt)},createScrollResponder:function(yt){return new yu(yt,X,Bt(p.scrollTime),p.scrollTimeReset)},registerInteractiveComponent:Ue,unregisterInteractiveComponent:dt}}var Bo=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,P.__extends)(c,d),c.prototype.shouldComponentUpdate=function(p,v){return this.debug&&console.log($t(p,this.props),$t(v,this.state)),!Se(this.props,p,this.propEquality)||!Se(this.state,v,this.stateEquality)},c.addPropsEquality=po,c.addStateEquality=ma,c.contextType=ii,c}(R);Bo.prototype.propEquality={},Bo.prototype.stateEquality={};var vr=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,P.__extends)(c,d),c.contextType=ii,c}(Bo);function po(d){var c=Object.create(this.prototype.propEquality);(0,P.__assign)(c,d),this.prototype.propEquality=c}function ma(d){var c=Object.create(this.prototype.stateEquality);(0,P.__assign)(c,d),this.prototype.stateEquality=c}function si(d,c){"function"==typeof d?d(c):d&&(d.current=c)}var _u=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.uid=Jt(),p}return(0,P.__extends)(c,d),c.prototype.prepareHits=function(){},c.prototype.queryHit=function(p,v,A,I){return null},c.prototype.isValidSegDownEl=function(p){return!this.props.eventDrag&&!this.props.eventResize&&!H(p,".fc-event-mirror")},c.prototype.isValidDateDownEl=function(p){return!(H(p,".fc-event:not(.fc-bg-event)")||H(p,".fc-more-link")||H(p,"a[data-navlink]")||H(p,".fc-popover"))},c}(vr);function qs(d){return{id:Jt(),deps:d.deps||[],reducers:d.reducers||[],isLoadingFuncs:d.isLoadingFuncs||[],contextInit:[].concat(d.contextInit||[]),eventRefiners:d.eventRefiners||{},eventDefMemberAdders:d.eventDefMemberAdders||[],eventSourceRefiners:d.eventSourceRefiners||{},isDraggableTransformers:d.isDraggableTransformers||[],eventDragMutationMassagers:d.eventDragMutationMassagers||[],eventDefMutationAppliers:d.eventDefMutationAppliers||[],dateSelectionTransformers:d.dateSelectionTransformers||[],datePointTransforms:d.datePointTransforms||[],dateSpanTransforms:d.dateSpanTransforms||[],views:d.views||{},viewPropsTransformers:d.viewPropsTransformers||[],isPropsValid:d.isPropsValid||null,externalDefTransforms:d.externalDefTransforms||[],viewContainerAppends:d.viewContainerAppends||[],eventDropTransformers:d.eventDropTransformers||[],componentInteractions:d.componentInteractions||[],calendarInteractions:d.calendarInteractions||[],themeClasses:d.themeClasses||{},eventSourceDefs:d.eventSourceDefs||[],cmdFormatter:d.cmdFormatter,recurringTypes:d.recurringTypes||[],namedTimeZonedImpl:d.namedTimeZonedImpl,initialView:d.initialView||"",elementDraggingImpl:d.elementDraggingImpl,optionChangeHandlers:d.optionChangeHandlers||{},scrollGridImpl:d.scrollGridImpl||null,contentTypeHandlers:d.contentTypeHandlers||{},listenerRefiners:d.listenerRefiners||{},optionRefiners:d.optionRefiners||{},propSetHandlers:d.propSetHandlers||{}}}function kd(d,c){return{reducers:d.reducers.concat(c.reducers),isLoadingFuncs:d.isLoadingFuncs.concat(c.isLoadingFuncs),contextInit:d.contextInit.concat(c.contextInit),eventRefiners:(0,P.__assign)((0,P.__assign)({},d.eventRefiners),c.eventRefiners),eventDefMemberAdders:d.eventDefMemberAdders.concat(c.eventDefMemberAdders),eventSourceRefiners:(0,P.__assign)((0,P.__assign)({},d.eventSourceRefiners),c.eventSourceRefiners),isDraggableTransformers:d.isDraggableTransformers.concat(c.isDraggableTransformers),eventDragMutationMassagers:d.eventDragMutationMassagers.concat(c.eventDragMutationMassagers),eventDefMutationAppliers:d.eventDefMutationAppliers.concat(c.eventDefMutationAppliers),dateSelectionTransformers:d.dateSelectionTransformers.concat(c.dateSelectionTransformers),datePointTransforms:d.datePointTransforms.concat(c.datePointTransforms),dateSpanTransforms:d.dateSpanTransforms.concat(c.dateSpanTransforms),views:(0,P.__assign)((0,P.__assign)({},d.views),c.views),viewPropsTransformers:d.viewPropsTransformers.concat(c.viewPropsTransformers),isPropsValid:c.isPropsValid||d.isPropsValid,externalDefTransforms:d.externalDefTransforms.concat(c.externalDefTransforms),viewContainerAppends:d.viewContainerAppends.concat(c.viewContainerAppends),eventDropTransformers:d.eventDropTransformers.concat(c.eventDropTransformers),calendarInteractions:d.calendarInteractions.concat(c.calendarInteractions),componentInteractions:d.componentInteractions.concat(c.componentInteractions),themeClasses:(0,P.__assign)((0,P.__assign)({},d.themeClasses),c.themeClasses),eventSourceDefs:d.eventSourceDefs.concat(c.eventSourceDefs),cmdFormatter:c.cmdFormatter||d.cmdFormatter,recurringTypes:d.recurringTypes.concat(c.recurringTypes),namedTimeZonedImpl:c.namedTimeZonedImpl||d.namedTimeZonedImpl,initialView:d.initialView||c.initialView,elementDraggingImpl:d.elementDraggingImpl||c.elementDraggingImpl,optionChangeHandlers:(0,P.__assign)((0,P.__assign)({},d.optionChangeHandlers),c.optionChangeHandlers),scrollGridImpl:c.scrollGridImpl||d.scrollGridImpl,contentTypeHandlers:(0,P.__assign)((0,P.__assign)({},d.contentTypeHandlers),c.contentTypeHandlers),listenerRefiners:(0,P.__assign)((0,P.__assign)({},d.listenerRefiners),c.listenerRefiners),optionRefiners:(0,P.__assign)((0,P.__assign)({},d.optionRefiners),c.optionRefiners),propSetHandlers:(0,P.__assign)((0,P.__assign)({},d.propSetHandlers),c.propSetHandlers)}}var ir=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,P.__extends)(c,d),c}(Vo);function Eu(d,c,p,v){if(c[d])return c[d];var A=function Ah(d,c,p,v){var A=p[d],I=v[d],N=function(Ne){return A&&null!==A[Ne]?A[Ne]:I&&null!==I[Ne]?I[Ne]:null},V=N("component"),z=N("superType"),X=null;if(z){if(z===d)throw new Error("Can't have a custom view type that references itself");X=Eu(z,c,p,v)}return!V&&X&&(V=X.component),V?{type:d,component:V,defaults:(0,P.__assign)((0,P.__assign)({},X?X.defaults:{}),A?A.rawOptions:{}),overrides:(0,P.__assign)((0,P.__assign)({},X?X.overrides:{}),I?I.rawOptions:{})}:null}(d,c,p,v);return A&&(c[d]=A),A}ir.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"},ir.prototype.baseIconClass="fc-icon",ir.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},ir.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"},ir.prototype.iconOverrideOption="buttonIcons",ir.prototype.iconOverrideCustomButtonOption="icon",ir.prototype.iconOverridePrefix="fc-icon-";var go=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.rootElRef=Ce(),p.handleRootEl=function(v){si(p.rootElRef,v),p.props.elRef&&si(p.props.elRef,v)},p}return(0,P.__extends)(c,d),c.prototype.render=function(){var p=this,v=this.props,A=v.hookProps;return G(Ds,{hookProps:A,didMount:v.didMount,willUnmount:v.willUnmount,elRef:this.handleRootEl},function(I){return G(bu,{hookProps:A,content:v.content,defaultContent:v.defaultContent,backupElRef:p.rootElRef},function(N,V){return v.children(I,Sr(v.classNames,A),N,V)})})},c}(vr),Od=xe(0);function bu(d){return G(Od.Consumer,null,function(c){return G(yc,(0,P.__assign)({renderId:c},d))})}var yc=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.innerElRef=Ce(),p}return(0,P.__extends)(c,d),c.prototype.render=function(){return this.props.children(this.innerElRef,this.renderInnerContent())},c.prototype.componentDidMount=function(){this.updateCustomContent()},c.prototype.componentDidUpdate=function(){this.updateCustomContent()},c.prototype.componentWillUnmount=function(){this.customContentInfo&&this.customContentInfo.destroy&&this.customContentInfo.destroy()},c.prototype.renderInnerContent=function(){var p=this.customContentInfo,v=this.getInnerContent(),A=this.getContentMeta(v);return p&&p.contentKey===A.contentKey?p&&(p.contentVal=v[A.contentKey]):(p&&(p.destroy&&p.destroy(),p=this.customContentInfo=null),A.contentKey&&(p=this.customContentInfo=(0,P.__assign)({contentKey:A.contentKey,contentVal:v[A.contentKey]},A.buildLifecycleFuncs()))),p?[]:v},c.prototype.getInnerContent=function(){var p=this.props,v=Ts(p.content,p.hookProps);return void 0===v&&(v=Ts(p.defaultContent,p.hookProps)),null==v?null:v},c.prototype.getContentMeta=function(p){var v=this.context.pluginHooks.contentTypeHandlers,A="",I=null;if(p)for(var N in v)if(void 0!==p[N]){A=N,I=v[N];break}return{contentKey:A,buildLifecycleFuncs:I}},c.prototype.updateCustomContent=function(){this.customContentInfo&&this.customContentInfo.render(this.innerElRef.current||this.props.backupElRef.current,this.customContentInfo.contentVal)},c}(vr),Ds=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.handleRootEl=function(v){p.rootEl=v,p.props.elRef&&si(p.props.elRef,v)},p}return(0,P.__extends)(c,d),c.prototype.render=function(){return this.props.children(this.handleRootEl)},c.prototype.componentDidMount=function(){var p=this.props.didMount;p&&p((0,P.__assign)((0,P.__assign)({},this.props.hookProps),{el:this.rootEl}))},c.prototype.componentWillUnmount=function(){var p=this.props.willUnmount;p&&p((0,P.__assign)((0,P.__assign)({},this.props.hookProps),{el:this.rootEl}))},c}(vr);function _c(){var d,c,p=[];return function(v,A){return(!c||!ut(c,A)||v!==d)&&(d=v,c=A,p=Sr(v,A)),p}}function Sr(d,c){return"function"==typeof d&&(d=d(c)),Vs(d)}function Ts(d,c){return"function"==typeof d?d(c,G):d}var Nr=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.normalizeClassNames=_c(),p}return(0,P.__extends)(c,d),c.prototype.render=function(){var v=this.props,A=this.context,I=A.options,N={view:A.viewApi},V=this.normalizeClassNames(I.viewClassNames,N);return G(Ds,{hookProps:N,didMount:I.viewDidMount,willUnmount:I.viewWillUnmount,elRef:v.elRef},function(z){return v.children(z,["fc-"+v.viewSpec.type+"-view","fc-view"].concat(V))})},c}(vr);function Fd(d){return ge(d,Ld)}function Ld(d){var c="function"==typeof d?{component:d}:d,p=c.component;return c.content&&(p=function xi(d){return function(c){return G(ii.Consumer,null,function(p){return G(Nr,{viewSpec:p.viewSpec},function(v,A){var I=(0,P.__assign)((0,P.__assign)({},c),{nextDayThreshold:p.options.nextDayThreshold});return G(go,{hookProps:I,classNames:d.classNames,content:d.content,didMount:d.didMount,willUnmount:d.willUnmount,elRef:v},function(N,V,z,X){return G("div",{className:A.concat(V).join(" "),ref:N},X)})})})}}(c)),{superType:c.type,component:p,rawOptions:c}}function oi(d,c,p,v){var A=Fd(d),I=Fd(c.views),N=function Pd(d,c){var v,p={};for(v in d)Eu(v,p,d,c);for(v in c)Eu(v,p,d,c);return p}(A,I);return ge(N,function(V){return function Vd(d,c,p,v,A){var I=d.overrides.duration||d.defaults.duration||v.duration||p.duration,N=null,V="",z="",X={};if(I&&(N=function Uo(d){var c=JSON.stringify(d),p=mo[c];return void 0===p&&(p=Bt(d),mo[c]=p),p}(I))){var Ne=On(N);V=Ne.unit,1===Ne.value&&(z=V,X=c[V]?c[V].rawOptions:{})}var Ue=function(yt){var wt=yt.buttonText||{},Yt=d.defaults.buttonTextKey;return null!=Yt&&null!=wt[Yt]?wt[Yt]:null!=wt[d.type]?wt[d.type]:null!=wt[z]?wt[z]:null},dt=function(yt){var wt=yt.buttonHints||{},Yt=d.defaults.buttonTextKey;return null!=Yt&&null!=wt[Yt]?wt[Yt]:null!=wt[d.type]?wt[d.type]:null!=wt[z]?wt[z]:null};return{type:d.type,component:d.component,duration:N,durationUnit:V,singleUnit:z,optionDefaults:d.defaults,optionOverrides:(0,P.__assign)((0,P.__assign)({},X),d.overrides),buttonTextOverride:Ue(v)||Ue(p)||d.overrides.buttonText,buttonTextDefault:Ue(A)||d.defaults.buttonText||Ue(Ls)||d.type,buttonTitleOverride:dt(v)||dt(p)||d.overrides.buttonHint,buttonTitleDefault:dt(A)||d.defaults.buttonHint||dt(Ls)}}(V,I,c,p,v)})}var mo={},vo=function(){function d(c){this.props=c,this.nowDate=Sl(c.nowInput,c.dateEnv),this.initHiddenDays()}return d.prototype.buildPrev=function(c,p,v){var A=this.props.dateEnv,I=A.subtract(A.startOf(p,c.currentRangeUnit),c.dateIncrement);return this.build(I,-1,v)},d.prototype.buildNext=function(c,p,v){var A=this.props.dateEnv,I=A.add(A.startOf(p,c.currentRangeUnit),c.dateIncrement);return this.build(I,1,v)},d.prototype.build=function(c,p,v){void 0===v&&(v=!0);var I,N,V,z,X,Ne,A=this.props;return I=this.buildValidRange(),I=this.trimHiddenDays(I),v&&(c=function Ge(d,c){return null!=c.start&&d<c.start?c.start:null!=c.end&&d>=c.end?new Date(c.end.valueOf()-1):d}(c,I)),N=this.buildCurrentRangeInfo(c,p),V=/^(year|month|week|day)$/.test(N.unit),z=this.buildRenderRange(this.trimHiddenDays(N.range),N.unit,V),X=z=this.trimHiddenDays(z),A.showNonCurrentDates||(X=Us(X,N.range)),X=Us(X=this.adjustActiveRange(X),I),Ne=K(N.range,I),{validRange:I,currentRange:N.range,currentRangeUnit:N.unit,isRangeAllDay:V,activeRange:X,renderRange:z,slotMinTime:A.slotMinTime,slotMaxTime:A.slotMaxTime,isValid:Ne,dateIncrement:this.buildDateIncrement(N.duration)}},d.prototype.buildValidRange=function(){var c=this.props.validRangeInput,p="function"==typeof c?c.call(this.props.calendarApi,this.nowDate):c;return this.refineRange(p)||{start:null,end:null}},d.prototype.buildCurrentRangeInfo=function(c,p){var V,v=this.props,A=null,I=null,N=null;return v.duration?N=this.buildRangeFromDuration(c,p,A=v.duration,I=v.durationUnit):(V=this.props.dayCount)?(I="day",N=this.buildRangeFromDayCount(c,p,V)):(N=this.buildCustomVisibleRange(c))?I=v.dateEnv.greatestWholeUnit(N.start,N.end).unit:(I=On(A=this.getFallbackDuration()).unit,N=this.buildRangeFromDuration(c,p,A,I)),{duration:A,unit:I,range:N}},d.prototype.getFallbackDuration=function(){return Bt({day:1})},d.prototype.adjustActiveRange=function(c){var p=this.props,v=p.dateEnv,I=p.slotMinTime,N=p.slotMaxTime,V=c.start,z=c.end;return p.usesMinMaxTime&&(_e(I)<0&&(V=an(V),V=v.add(V,I)),_e(N)>1&&(z=Ze(z=an(z),-1),z=v.add(z,N))),{start:V,end:z}},d.prototype.buildRangeFromDuration=function(c,p,v,A){var z,X,Ne,I=this.props,N=I.dateEnv,V=I.dateAlignment;if(!V){var Ue=this.props.dateIncrement;V=Ue&&Ht(Ue)<Ht(v)?On(Ue).unit:A}function dt(){z=N.startOf(c,V),X=N.add(z,v),Ne={start:z,end:X}}return _e(v)<=1&&this.isHiddenDay(z)&&(z=an(z=this.skipHiddenDays(z,p))),dt(),this.trimHiddenDays(Ne)||(c=this.skipHiddenDays(c,p),dt()),Ne},d.prototype.buildRangeFromDayCount=function(c,p,v){var X,A=this.props,N=A.dateAlignment,V=0,z=c;N&&(z=A.dateEnv.startOf(z,N)),z=an(z),X=z=this.skipHiddenDays(z,p);do{X=Ze(X,1),this.isHiddenDay(X)||(V+=1)}while(V<v);return{start:z,end:X}},d.prototype.buildCustomVisibleRange=function(c){var p=this.props,v=p.visibleRangeInput,A="function"==typeof v?v.call(p.calendarApi,p.dateEnv.toDate(c)):v,I=this.refineRange(A);return!I||null!=I.start&&null!=I.end?I:null},d.prototype.buildRenderRange=function(c,p,v){return c},d.prototype.buildDateIncrement=function(c){var v;return this.props.dateIncrement||((v=this.props.dateAlignment)?Bt(1,v):c||Bt({days:1}))},d.prototype.refineRange=function(c){if(c){var p=function Ha(d,c){var p=null,v=null;return d.start&&(p=c.createMarker(d.start)),d.end&&(v=c.createMarker(d.end)),!p&&!v||p&&v&&v<p?null:{start:p,end:v}}(c,this.props.dateEnv);return p&&(p=ys(p)),p}return null},d.prototype.initHiddenDays=function(){var A,c=this.props.hiddenDays||[],p=[],v=0;for(!1===this.props.weekends&&c.push(0,6),A=0;A<7;A+=1)(p[A]=-1!==c.indexOf(A))||(v+=1);if(!v)throw new Error("invalid hiddenDays");this.isHiddenDayHash=p},d.prototype.trimHiddenDays=function(c){var p=c.start,v=c.end;return p&&(p=this.skipHiddenDays(p)),v&&(v=this.skipHiddenDays(v,-1,!0)),null==p||null==v||p<v?{start:p,end:v}:null},d.prototype.isHiddenDay=function(c){return c instanceof Date&&(c=c.getUTCDay()),this.isHiddenDayHash[c]},d.prototype.skipHiddenDays=function(c,p,v){for(void 0===p&&(p=1),void 0===v&&(v=!1);this.isHiddenDayHash[(c.getUTCDay()+(v?p:0)+7)%7];)c=Ze(c,p);return c},d}();function bc(d){for(var c in d)if(d[c].isFetching)return!0;return!1}function Ka(d,c,p,v){for(var A={},I=0,N=c;I<N.length;I++){var V=N[I];A[V.sourceId]=V}return p&&(A=Au(A,p,v)),(0,P.__assign)((0,P.__assign)({},d),A)}function Au(d,c,p){return wc(d,ae(d,function(v){return function Ac(d,c,p){return va(d,p)?!p.options.lazyFetching||!d.fetchRange||d.isFetching||c.start<d.fetchRange.start||c.end>d.fetchRange.end:!d.latestFetchId}(v,c,p)}),c,!1,p)}function wc(d,c,p,v,A){var I={};for(var N in d){var V=d[N];I[N]=c[N]?Cc(V,p,v,A):V}return I}function Cc(d,c,p,v){var A=v.options,I=v.calendarApi,N=v.pluginHooks.eventSourceDefs[d.sourceDefId],V=Jt();return N.fetch({eventSource:d,range:c,isRefetch:p,context:v},function(z){var X=z.rawEvents;A.eventSourceSuccess&&(X=A.eventSourceSuccess.call(I,X,z.xhr)||X),d.success&&(X=d.success.call(I,X,z.xhr)||X),v.dispatch({type:"RECEIVE_EVENTS",sourceId:d.sourceId,fetchId:V,fetchRange:c,rawEvents:X})},function(z){console.warn(z.message,z),A.eventSourceFailure&&A.eventSourceFailure.call(I,z),d.failure&&d.failure(z),v.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:d.sourceId,fetchId:V,fetchRange:c,error:z})}),(0,P.__assign)((0,P.__assign)({},d),{isFetching:!0,latestFetchId:V})}function Ya(d,c){return ae(d,function(p){return va(p,c)})}function va(d,c){return!c.pluginHooks.eventSourceDefs[d.sourceDefId].ignoreRange}function Ja(d,c){var p;if(c){p=[];for(var v=0,A=d;v<A.length;v++){var I=A[v],N=c(I);N?p.push(N):null==N&&p.push(I)}}else p=d;return p}function Tc(d,c){return sa(d,function(p){return p.sourceId!==c})}function Ud(d,c){switch(c.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return c.selection;default:return d}}function Eg(d,c){switch(c.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return c.eventInstanceId;default:return d}}function ya(d,c){var p;switch(c.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return{affectedEvents:(p=c.state).affectedEvents,mutatedEvents:p.mutatedEvents,isEvent:p.isEvent};default:return d}}function Ic(d,c){var p;switch(c.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return{affectedEvents:(p=c.state).affectedEvents,mutatedEvents:p.mutatedEvents,isEvent:p.isEvent};default:return d}}function bg(d,c,p,v,A){return{header:d.headerToolbar?kr(d.headerToolbar,d,c,p,v,A):null,footer:d.footerToolbar?kr(d.footerToolbar,d,c,p,v,A):null}}function kr(d,c,p,v,A,I){var N={},V=[],z=!1;for(var X in d){var Ue=Hd(d[X],c,p,v,A,I);N[X]=Ue.widgets,V.push.apply(V,Ue.viewsWithButtons),z=z||Ue.hasTitle}return{sectionWidgets:N,viewsWithButtons:V,hasTitle:z}}function Hd(d,c,p,v,A,I){var N="rtl"===c.direction,V=c.customButtons||{},z=p.buttonText||{},X=c.buttonText||{},Ne=p.buttonHints||{},Ue=c.buttonHints||{},dt=d?d.split(" "):[],yt=[],wt=!1;return{widgets:dt.map(function(ln){return ln.split(",").map(function(kt){if("title"===kt)return wt=!0,{buttonName:kt};var nr,Mr,$r,Wr,qr,ss;if(nr=V[kt])$r=function(Qs){nr.click&&nr.click.call(Qs.target,Qs,Qs.target)},(Wr=v.getCustomButtonIconClass(nr))||(Wr=v.getIconClass(kt,N))||(qr=nr.text),ss=nr.hint||nr.text;else if(Mr=A[kt]){yt.push(kt),$r=function(){I.changeView(kt)},(qr=Mr.buttonTextOverride)||(Wr=v.getIconClass(kt,N))||(qr=Mr.buttonTextDefault);var xs=Mr.buttonTextOverride||Mr.buttonTextDefault;ss=Ct(Mr.buttonTitleOverride||Mr.buttonTitleDefault||c.viewHint,[xs,kt],xs)}else if(I[kt])if($r=function(){I[kt]()},(qr=z[kt])||(Wr=v.getIconClass(kt,N))||(qr=X[kt]),"prevYear"===kt||"nextYear"===kt){var Rs="prevYear"===kt?"prev":"next";ss=Ct(Ne[Rs]||Ue[Rs],[X.year||"year","year"],X[kt])}else ss=function(Qs){return Ct(Ne[kt]||Ue[kt],[X[Qs]||Qs,Qs],X[kt])};return{buttonName:kt,buttonClick:$r,buttonIcon:Wr,buttonText:qr,buttonHint:ss}})}),viewsWithButtons:yt,hasTitle:wt}}function Xa(d,c,p,v,A){var I=null;"GET"===(d=d.toUpperCase())?c=function ba(d,c){return d+(-1===d.indexOf("?")?"?":"&")+_o(c)}(c,p):I=_o(p);var N=new XMLHttpRequest;N.open(d,c,!0),"GET"!==d&&N.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),N.onload=function(){if(N.status>=200&&N.status<400){var V=!1,z=void 0;try{z=JSON.parse(N.responseText),V=!0}catch(X){}V?v(z,N):A("Failure parsing JSON",N)}else A("Request failed",N)},N.onerror=function(){A("Request failed",N)},N.send(I)}function _o(d){var c=[];for(var p in d)c.push(encodeURIComponent(p)+"="+encodeURIComponent(d[p]));return c.join("&")}function Iu(d,c){for(var p=pt(c.getCurrentData().eventSources),v=[],A=0,I=d;A<I.length;A++){for(var N=I[A],V=!1,z=0;z<p.length;z+=1)if(p[z]._raw===N){p.splice(z,1),V=!0;break}V||v.push(N)}for(var X=0,Ne=p;X<Ne.length;X++)c.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:Ne[X].sourceId});for(var dt=0,yt=v;dt<yt.length;dt++)c.calendarApi.addEventSource(yt[dt])}var Mc=[qs({eventSourceDefs:[{ignoreRange:!0,parseMeta:function(d){return Array.isArray(d.events)?d.events:null},fetch:function(d,c){c({rawEvents:d.eventSource.meta})}}]}),qs({eventSourceDefs:[{parseMeta:function(d){return"function"==typeof d.events?d.events:null},fetch:function(d,c,p){Ws(d.eventSource.meta.bind(null,Ad(d.range,d.context.dateEnv)),function(I){c({rawEvents:I})},p)}}]}),qs({eventSourceRefiners:{method:String,extraParams:tt,startParam:String,endParam:String,timeZoneParam:String},eventSourceDefs:[{parseMeta:function(d){return!d.url||"json"!==d.format&&d.format?null:{url:d.url,format:"json",method:(d.method||"GET").toUpperCase(),extraParams:d.extraParams,startParam:d.startParam,endParam:d.endParam,timeZoneParam:d.timeZoneParam}},fetch:function(d,c,p){var v=d.eventSource.meta,A=function Tu(d,c,p){var I,N,V,z,v=p.dateEnv,A=p.options,X={};return null==(I=d.startParam)&&(I=A.startParam),null==(N=d.endParam)&&(N=A.endParam),null==(V=d.timeZoneParam)&&(V=A.timeZoneParam),z="function"==typeof d.extraParams?d.extraParams():d.extraParams||{},(0,P.__assign)(X,z),X[I]=v.formatIso(c.start),X[N]=v.formatIso(c.end),"local"!==v.timeZone&&(X[V]=v.timeZone),X}(v,d.range,d.context);Xa(v.method,v.url,A,function(I,N){c({rawEvents:I,xhr:N})},function(I,N){p({message:I,xhr:N})})}}]}),qs({recurringTypes:[{parse:function(d,c){if(d.daysOfWeek||d.startTime||d.endTime||d.startRecur||d.endRecur){var p={daysOfWeek:d.daysOfWeek||null,startTime:d.startTime||null,endTime:d.endTime||null,startRecur:d.startRecur?c.createMarker(d.startRecur):null,endRecur:d.endRecur?c.createMarker(d.endRecur):null},v=void 0;return d.duration&&(v=d.duration),!v&&d.startTime&&d.endTime&&(v=function Or(d,c){return{years:d.years-c.years,months:d.months-c.months,days:d.days-c.days,milliseconds:d.milliseconds-c.milliseconds}}(d.endTime,d.startTime)),{allDayGuess:Boolean(!d.startTime&&!d.endTime),duration:v,typeData:p}}return null},expand:function(d,c,p){var v=Us(c,{start:d.startRecur,end:d.endRecur});return v?function Aa(d,c,p,v){for(var A=d?Pe(d):null,I=an(p.start),N=p.end,V=[];I<N;){var z=void 0;(!A||A[I.getUTCDay()])&&(z=c?v.add(I,c):I,V.push(z)),I=Ze(I,1)}return V}(d.daysOfWeek,d.startTime,v,p):[]}}],eventRefiners:{daysOfWeek:tt,startTime:Bt,endTime:Bt,duration:Bt,startRecur:tt,endRecur:tt}}),qs({optionChangeHandlers:{events:function(d,c){Iu([d],c)},eventSources:Iu}}),qs({isLoadingFuncs:[function(d){return bc(d.eventSources)}],contentTypeHandlers:{html:function Ch(){var d=null,c="";return{render:function p(A,I){(A!==d||I!==c)&&(A.innerHTML=I),d=A,c=I},destroy:function v(){d.innerHTML="",d=null,c=""}}},domNodes:function Ll(){var d=null,c=[];function v(){c.forEach(F),c=[],d=null}return{render:function p(A,I){var N=Array.prototype.slice.call(I);if(A!==d||!yi(c,N)){for(var V=0,z=N;V<z.length;V++)A.appendChild(z[V]);v()}d=A,c=N},destroy:v}}},propSetHandlers:{dateProfile:function rl(d,c){c.emitter.trigger("datesSet",(0,P.__assign)((0,P.__assign)({},Ad(d.activeRange,c.dateEnv)),{view:c.viewApi}))},eventStore:function Ho(d,c){var p=c.emitter;p.hasHandlers("eventsSet")&&p.trigger("eventsSet",Il(d,c))}}})],Mu=function(){function d(c){this.drainedOption=c,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}return d.prototype.request=function(c){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),null==c?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),c))},d.prototype.pause=function(c){void 0===c&&(c="");var p=this.pauseDepths;p[c]=(p[c]||0)+1,this.clearTimeout()},d.prototype.resume=function(c,p){void 0===c&&(c="");var v=this.pauseDepths;c in v&&(p?delete v[c]:(v[c]-=1,v[c]<=0&&delete v[c]),this.tryDrain())},d.prototype.isPaused=function(){return Object.keys(this.pauseDepths).length},d.prototype.tryDrain=function(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}},d.prototype.clear=function(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}},d.prototype.clearTimeout=function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)},d.prototype.drained=function(){this.drainedOption&&this.drainedOption()},d}(),Vl=function(){function d(c,p){this.runTaskOption=c,this.drainedOption=p,this.queue=[],this.delayedRunner=new Mu(this.drain.bind(this))}return d.prototype.request=function(c,p){this.queue.push(c),this.delayedRunner.request(p)},d.prototype.pause=function(c){this.delayedRunner.pause(c)},d.prototype.resume=function(c,p){this.delayedRunner.resume(c,p)},d.prototype.drain=function(){for(var c=this.queue;c.length;){for(var p=[],v=void 0;v=c.shift();)this.runTask(v),p.push(v);this.drained(p)}},d.prototype.runTask=function(c){this.runTaskOption&&this.runTaskOption(c)},d.prototype.drained=function(c){this.drainedOption&&this.drainedOption(c)},d}();function Dh(d,c,p){var v;return v=/^(year|month)$/.test(d.currentRangeUnit)?d.currentRange:d.activeRange,p.formatRange(v.start,v.end,Dr(c.titleFormat||function Th(d){var c=d.currentRangeUnit;if("year"===c)return{year:"numeric"};if("month"===c)return{year:"numeric",month:"long"};var p=$n(d.currentRange.start,d.currentRange.end);return null!==p&&p>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}(d)),{isEndExclusive:d.isRangeAllDay,defaultSeparator:c.titleRangeSeparator})}var il=function(){function d(c){var p=this;this.computeOptionsData=Bn(this._computeOptionsData),this.computeCurrentViewData=Bn(this._computeCurrentViewData),this.organizeRawLocales=Bn(gh),this.buildLocale=Bn(Id),this.buildPluginHooks=function vc(){var p,d=[],c=[];return function(v,A){return(!p||!yi(v,d)||!yi(A,c))&&(p=function Za(d,c){var p={},v={reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,contentTypeHandlers:{},listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function A(I){for(var N=0,V=I;N<V.length;N++){var z=V[N];p[z.id]||(p[z.id]=!0,A(z.deps),v=kd(v,z))}}return d&&A(d),A(c),v}(v,A)),d=v,c=A,p}}(),this.buildDateEnv=Bn(sl),this.buildTheme=Bn(xu),this.parseToolbars=Bn(bg),this.buildViewSpecs=Bn(oi),this.buildDateProfileGenerator=Ji(Bl),this.buildViewApi=Bn(Ag),this.buildViewUiProps=Ji(Ru),this.buildEventUiBySource=Bn(wg,ut),this.buildEventUiBases=Bn(Sh),this.parseContextBusinessHours=Ji($d),this.buildTitle=Bn(Dh),this.emitter=new pa,this.actionRunner=new Vl(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.getCurrentData=function(){return p.data},this.dispatch=function(Mr){p.actionRunner.request(Mr)},this.props=c,this.actionRunner.pause();var v={},A=this.computeOptionsData(c.optionOverrides,v,c.calendarApi),I=A.calendarOptions.initialView||A.pluginHooks.initialView,N=this.computeCurrentViewData(I,A,c.optionOverrides,v);c.calendarApi.currentDataManager=this,this.emitter.setThisContext(c.calendarApi),this.emitter.setOptions(N.options);var V=function Td(d,c){var p=d.initialDate;return null!=p?c.createMarker(p):Sl(d.now,c)}(A.calendarOptions,A.dateEnv),z=N.dateProfileGenerator.build(V);we(z.activeRange,V)||(V=z.currentRange.start);for(var X={dateEnv:A.dateEnv,options:A.calendarOptions,pluginHooks:A.pluginHooks,calendarApi:c.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},Ne=0,Ue=A.pluginHooks.contextInit;Ne<Ue.length;Ne++)(0,Ue[Ne])(X);for(var yt=function iy(d,c,p){var v=c?c.activeRange:null;return Ka({},function yo(d,c){var p=Tl(c),v=[].concat(d.eventSources||[]),A=[];d.initialEvents&&v.unshift(d.initialEvents),d.events&&v.unshift(d.events);for(var I=0,N=v;I<N.length;I++){var z=uu(N[I],c,p);z&&A.push(z)}return A}(d,p),v,p)}(A.calendarOptions,z,X),wt={dynamicOptionOverrides:v,currentViewType:I,currentDate:V,dateProfile:z,businessHours:this.parseContextBusinessHours(X),eventSources:yt,eventUiBases:{},eventStore:{defs:{},instances:{}},renderableEventStore:{defs:{},instances:{}},dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(X).selectionConfig},Yt=(0,P.__assign)((0,P.__assign)({},X),wt),ln=0,kt=A.pluginHooks.reducers;ln<kt.length;ln++)(0,P.__assign)(wt,(0,kt[ln])(null,null,Yt));ol(wt,X)&&this.emitter.trigger("loading",!0),this.state=wt,this.updateData(),this.actionRunner.resume()}return d.prototype.resetOptions=function(c,p){var v=this.props;v.optionOverrides=p?(0,P.__assign)((0,P.__assign)({},v.optionOverrides),c):c,this.actionRunner.request({type:"NOTHING"})},d.prototype._handleAction=function(c){var p=this,v=p.props,A=p.state,I=p.emitter,N=function wh(d,c){var p;return"SET_OPTION"===c.type?(0,P.__assign)((0,P.__assign)({},d),((p={})[c.optionName]=c.rawOptionValue,p)):d}(A.dynamicOptionOverrides,c),V=this.computeOptionsData(v.optionOverrides,N,v.calendarApi),z=function Ol(d,c){return"CHANGE_VIEW_TYPE"===c.type&&(d=c.viewType),d}(A.currentViewType,c),X=this.computeCurrentViewData(z,V,v.optionOverrides,N);v.calendarApi.currentDataManager=this,I.setThisContext(v.calendarApi),I.setOptions(X.options);var Ne={dateEnv:V.dateEnv,options:V.calendarOptions,pluginHooks:V.pluginHooks,calendarApi:v.calendarApi,dispatch:this.dispatch,emitter:I,getCurrentData:this.getCurrentData},Ue=A.currentDate,dt=A.dateProfile;this.data&&this.data.dateProfileGenerator!==X.dateProfileGenerator&&(dt=X.dateProfileGenerator.build(Ue)),Ue=function Dd(d,c){return"CHANGE_DATE"===c.type?c.dateMarker:d}(Ue,c),dt=function ry(d,c,p,v){var A;switch(c.type){case"CHANGE_VIEW_TYPE":return v.build(c.dateMarker||p);case"CHANGE_DATE":return v.build(c.dateMarker);case"PREV":if((A=v.buildPrev(d,p)).isValid)return A;break;case"NEXT":if((A=v.buildNext(d,p)).isValid)return A}return d}(dt,c,Ue,X.dateProfileGenerator),("PREV"===c.type||"NEXT"===c.type||!we(dt.currentRange,Ue))&&(Ue=dt.currentRange.start);for(var yt=function Ec(d,c,p,v){var A=p?p.activeRange:null;switch(c.type){case"ADD_EVENT_SOURCES":return Ka(d,c.sources,A,v);case"REMOVE_EVENT_SOURCE":return function Bd(d,c){return ae(d,function(p){return p.sourceId!==c})}(d,c.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return p?Au(d,A,v):d;case"FETCH_EVENT_SOURCES":return wc(d,c.sourceIds?Pe(c.sourceIds):Ya(d,v),A,c.isRefetch||!1,v);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return function Qa(d,c,p,v){var A,I=d[c];return I&&p===I.latestFetchId?(0,P.__assign)((0,P.__assign)({},d),((A={})[c]=(0,P.__assign)((0,P.__assign)({},I),{isFetching:!1,fetchRange:v}),A)):d}(d,c.sourceId,c.fetchId,c.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return d}}(A.eventSources,c,dt,Ne),wt=function wu(d,c,p,v,A){switch(c.type){case"RECEIVE_EVENTS":return function Cu(d,c,p,v,A,I){if(c&&p===c.latestFetchId){var N=ko(function Zs(d,c,p){var v=p.options.eventDataTransform,A=c?c.eventDataTransform:null;return A&&(d=Ja(d,A)),v&&(d=Ja(d,v)),d}(A,c,I),c,I);return v&&(N=bt(N,v,I)),oo(Tc(d,c.sourceId),N)}return d}(d,p[c.sourceId],c.fetchId,c.fetchRange,c.rawEvents,A);case"ADD_EVENTS":return function Du(d,c,p,v){return p&&(c=bt(c,p,v)),oo(d,c)}(d,c.eventStore,v?v.activeRange:null,A);case"RESET_EVENTS":return c.eventStore;case"MERGE_EVENTS":return oo(d,c.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return v?bt(d,v.activeRange,A):d;case"REMOVE_EVENTS":return function Ed(d,c){var p=d.defs,v=d.instances,A={},I={};for(var N in p)c.defs[N]||(A[N]=p[N]);for(var V in v)!c.instances[V]&&A[v[V].defId]&&(I[V]=v[V]);return{defs:A,instances:I}}(d,c.eventStore);case"REMOVE_EVENT_SOURCE":return Tc(d,c.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return sa(d,function(I){return!I.sourceId});case"REMOVE_ALL_EVENTS":return{defs:{},instances:{}};default:return d}}(A.eventStore,c,yt,dt,Ne),ln=bc(yt)&&!X.options.progressiveEventRendering&&A.renderableEventStore||wt,kt=this.buildViewUiProps(Ne),nr=kt.eventUiSingleBase,Mr=kt.selectionConfig,$r=this.buildEventUiBySource(yt),qr={dynamicOptionOverrides:N,currentViewType:z,currentDate:Ue,dateProfile:dt,eventSources:yt,eventStore:wt,renderableEventStore:ln,selectionConfig:Mr,eventUiBases:this.buildEventUiBases(ln.defs,nr,$r),businessHours:this.parseContextBusinessHours(Ne),dateSelection:Ud(A.dateSelection,c),eventSelection:Eg(A.eventSelection,c),eventDrag:ya(A.eventDrag,c),eventResize:Ic(A.eventResize,c)},ss=(0,P.__assign)((0,P.__assign)({},Ne),qr),xs=0,Rs=V.pluginHooks.reducers;xs<Rs.length;xs++)(0,P.__assign)(qr,(0,Rs[xs])(A,c,ss));var nf=ol(A,Ne),Uu=ol(qr,Ne);!nf&&Uu?I.trigger("loading",!0):nf&&!Uu&&I.trigger("loading",!1),this.state=qr,v.onAction&&v.onAction(c)},d.prototype.updateData=function(){var p=this.props,v=this.state,A=this.data,I=this.computeOptionsData(p.optionOverrides,v.dynamicOptionOverrides,p.calendarApi),N=this.computeCurrentViewData(v.currentViewType,I,p.optionOverrides,v.dynamicOptionOverrides),V=this.data=(0,P.__assign)((0,P.__assign)((0,P.__assign)({viewTitle:this.buildTitle(v.dateProfile,N.options,I.dateEnv),calendarApi:p.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},I),N),v),z=I.pluginHooks.optionChangeHandlers,X=A&&A.calendarOptions,Ne=I.calendarOptions;if(X&&X!==Ne)for(var Ue in X.timeZone!==Ne.timeZone&&(v.eventSources=V.eventSources=function qi(d,c,p){var v=c?c.activeRange:null;return wc(d,Ya(d,p),v,!0,p)}(V.eventSources,v.dateProfile,V),v.eventStore=V.eventStore=function Dc(d,c,p){var v=d.defs,A=ge(d.instances,function(I){var N=v[I.defId];return N.allDay||N.recurringDef?I:(0,P.__assign)((0,P.__assign)({},I),{range:{start:p.createMarker(c.toDate(I.range.start,I.forcedStartTzo)),end:p.createMarker(c.toDate(I.range.end,I.forcedEndTzo))},forcedStartTzo:p.canComputeOffset?null:I.forcedStartTzo,forcedEndTzo:p.canComputeOffset?null:I.forcedEndTzo})});return{defs:v,instances:A}}(V.eventStore,A.dateEnv,V.dateEnv)),z)X[Ue]!==Ne[Ue]&&z[Ue](Ne[Ue],V);p.onData&&p.onData(V)},d.prototype._computeOptionsData=function(c,p,v){var A=this.processRawCalendarOptions(c,p),I=A.refinedOptions,N=A.pluginHooks,V=A.localeDefaults,z=A.availableLocaleData;Nu(A.extra);var Ne=this.buildDateEnv(I.timeZone,I.locale,I.weekNumberCalculation,I.firstDay,I.weekText,N,z,I.defaultRangeSeparator),Ue=this.buildViewSpecs(N.views,c,p,V),dt=this.buildTheme(I,N);return{calendarOptions:I,pluginHooks:N,dateEnv:Ne,viewSpecs:Ue,theme:dt,toolbarConfig:this.parseToolbars(I,c,dt,Ue,v),localeDefaults:V,availableRawLocales:z.map}},d.prototype.processRawCalendarOptions=function(c,p){var v=Ua([Ls,c,p]),I=v.locale,N=this.organizeRawLocales(v.locales),z=this.buildLocale(I||N.defaultCode,N.map).options,X=this.buildPluginHooks(c.plugins||[],Mc),Ne=this.currentCalendarOptionsRefiners=(0,P.__assign)((0,P.__assign)((0,P.__assign)((0,P.__assign)((0,P.__assign)({},au),yd),bl),X.listenerRefiners),X.optionRefiners),Ue={},dt=Ua([Ls,z,c,p]),yt={},wt=this.currentCalendarOptionsInput,Yt=this.currentCalendarOptionsRefined,ln=!1;for(var kt in dt)"plugins"!==kt&&(dt[kt]===wt[kt]||Al[kt]&&kt in wt&&Al[kt](wt[kt],dt[kt])?yt[kt]=Yt[kt]:Ne[kt]?(yt[kt]=Ne[kt](dt[kt]),ln=!0):Ue[kt]=wt[kt]);return ln&&(this.currentCalendarOptionsInput=dt,this.currentCalendarOptionsRefined=yt),{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:X,availableLocaleData:N,localeDefaults:z,extra:Ue}},d.prototype._computeCurrentViewData=function(c,p,v,A){var I=p.viewSpecs[c];if(!I)throw new Error('viewType "'+c+"\" is not available. Please make sure you've loaded all neccessary plugins");var N=this.processRawViewOptions(I,p.pluginHooks,p.localeDefaults,v,A),V=N.refinedOptions;return Nu(N.extra),{viewSpec:I,options:V,dateProfileGenerator:this.buildDateProfileGenerator({dateProfileGeneratorClass:I.optionDefaults.dateProfileGeneratorClass,duration:I.duration,durationUnit:I.durationUnit,usesMinMaxTime:I.optionDefaults.usesMinMaxTime,dateEnv:p.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:V.slotMinTime,slotMaxTime:V.slotMaxTime,showNonCurrentDates:V.showNonCurrentDates,dayCount:V.dayCount,dateAlignment:V.dateAlignment,dateIncrement:V.dateIncrement,hiddenDays:V.hiddenDays,weekends:V.weekends,nowInput:V.now,validRangeInput:V.validRange,visibleRangeInput:V.visibleRange,monthMode:V.monthMode,fixedWeekCount:V.fixedWeekCount}),viewApi:this.buildViewApi(c,this.getCurrentData,p.dateEnv)}},d.prototype.processRawViewOptions=function(c,p,v,A,I){var N=Ua([Ls,c.optionDefaults,v,A,c.optionOverrides,I]),V=(0,P.__assign)((0,P.__assign)((0,P.__assign)((0,P.__assign)((0,P.__assign)((0,P.__assign)({},au),yd),bl),_d),p.listenerRefiners),p.optionRefiners),z={},X=this.currentViewOptionsInput,Ne=this.currentViewOptionsRefined,Ue=!1,dt={};for(var yt in N)N[yt]===X[yt]?z[yt]=Ne[yt]:(N[yt]===this.currentCalendarOptionsInput[yt]?yt in this.currentCalendarOptionsRefined&&(z[yt]=this.currentCalendarOptionsRefined[yt]):V[yt]?z[yt]=V[yt](N[yt]):dt[yt]=N[yt],Ue=!0);return Ue&&(this.currentViewOptionsInput=N,this.currentViewOptionsRefined=z),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:dt}},d}();function sl(d,c,p,v,A,I,N,V){var z=Id(c||N.defaultCode,N.map);return new Gs({calendarSystem:"gregory",timeZone:d,namedTimeZoneImpl:I.namedTimeZonedImpl,locale:z,weekNumberCalculation:p,firstDay:v,weekText:A,cmdFormatter:I.cmdFormatter,defaultSeparator:V})}function xu(d,c){return new(c.themeClasses[d.themeSystem]||ir)(d)}function Bl(d){return new(d.dateProfileGeneratorClass||vo)(d)}function Ag(d,c,p){return new Dl(d,c,p)}function wg(d){return ge(d,function(c){return c.ui})}function Sh(d,c,p){var v={"":c};for(var A in d){var I=d[A];I.sourceId&&p[I.sourceId]&&(v[A]=p[I.sourceId])}return v}function Ru(d){var c=d.options;return{eventUiSingleBase:Bs({display:c.eventDisplay,editable:c.editable,startEditable:c.eventStartEditable,durationEditable:c.eventDurationEditable,constraint:c.eventConstraint,overlap:"boolean"==typeof c.eventOverlap?c.eventOverlap:void 0,allow:c.eventAllow,backgroundColor:c.eventBackgroundColor,borderColor:c.eventBorderColor,textColor:c.eventTextColor,color:c.eventColor},d),selectionConfig:Bs({constraint:c.selectConstraint,overlap:"boolean"==typeof c.selectOverlap?c.selectOverlap:void 0,allow:c.selectAllow},d)}}function ol(d,c){for(var p=0,v=c.pluginHooks.isLoadingFuncs;p<v.length;p++)if((0,v[p])(d))return!0;return!1}function $d(d){return vh(d.options.businessHours,d)}function Nu(d,c){for(var p in d)console.warn("Unknown option '"+p+"'"+(c?" for view '"+c+"'":""))}var jo=function(d){function c(p){var v=d.call(this,p)||this;return v.handleData=function(A){v.dataManager?v.setState(A):v.state=A},v.dataManager=new il({optionOverrides:p.optionOverrides,calendarApi:p.calendarApi,onData:v.handleData}),v}return(0,P.__extends)(c,d),c.prototype.render=function(){return this.props.children(this.state)},c.prototype.componentDidUpdate=function(p){var v=this.props.optionOverrides;v!==p.optionOverrides&&this.dataManager.resetOptions(v)},c}(R);function Go(d,c){return _t(d.eventStore,d.eventUiBases,d.dateProfile.activeRange,c?d.nextDayThreshold:null).fg}var Ih=function d(c){this.timeZoneName=c},xc=function(){function d(){this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}return d.prototype.addSegs=function(c){for(var p=[],v=0,A=c;v<A.length;v++)this.insertEntry(A[v],p);return p},d.prototype.insertEntry=function(c,p){var v=this.findInsertion(c);return this.isInsertionValid(v,c)?(this.insertEntryAt(c,v),1):this.handleInvalidInsertion(v,c,p)},d.prototype.isInsertionValid=function(c,p){return(-1===this.maxCoord||c.levelCoord+p.thickness<=this.maxCoord)&&(-1===this.maxStackCnt||c.stackCnt<this.maxStackCnt)},d.prototype.handleInvalidInsertion=function(c,p,v){return this.allowReslicing&&c.touchingEntry?this.splitEntry(p,c.touchingEntry,v):(v.push(p),0)},d.prototype.splitEntry=function(c,p,v){var A=0,I=[],N=c.span,V=p.span;return N.start<V.start&&(A+=this.insertEntry({index:c.index,thickness:c.thickness,span:{start:N.start,end:V.start}},I)),N.end>V.end&&(A+=this.insertEntry({index:c.index,thickness:c.thickness,span:{start:V.end,end:N.end}},I)),A?(v.push.apply(v,(0,P.__spreadArray)([{index:c.index,thickness:c.thickness,span:Ss(V,N)}],I)),A):(v.push(c),0)},d.prototype.insertEntryAt=function(c,p){var A=this.entriesByLevel;-1===p.lateral?(Pu(this.levelCoords,p.level,p.levelCoord),Pu(A,p.level,[c])):Pu(A[p.level],p.lateral,c),this.stackCnts[Wd(c)]=p.stackCnt},d.prototype.findInsertion=function(c){for(var p=this,v=p.levelCoords,A=p.entriesByLevel,I=p.strictOrder,N=p.stackCnts,V=v.length,z=0,X=-1,Ne=-1,Ue=null,dt=0,yt=0;yt<V;yt+=1){var wt=v[yt];if(!I&&wt>=z+c.thickness)break;for(var Yt=A[yt],ln=void 0,kt=Ul(Yt,c.span.start,Rc),nr=kt[0]+kt[1];(ln=Yt[nr])&&ln.span.start<c.span.end;){var Mr=wt+ln.thickness;Mr>z&&(z=Mr,Ue=ln,X=yt,Ne=nr),Mr===z&&(dt=Math.max(dt,N[Wd(ln)]+1)),nr+=1}}var $r=0;if(Ue)for($r=X+1;$r<V&&v[$r]<z;)$r+=1;var Wr=-1;return $r<V&&v[$r]===z&&(Wr=Ul(A[$r],c.span.end,Rc)[0]),{touchingLevel:X,touchingLateral:Ne,touchingEntry:Ue,stackCnt:dt,levelCoord:z,level:$r,lateral:Wr}},d.prototype.toRects=function(){for(var p=this.entriesByLevel,v=this.levelCoords,A=p.length,I=[],N=0;N<A;N+=1)for(var z=v[N],X=0,Ne=p[N];X<Ne.length;X++)I.push((0,P.__assign)((0,P.__assign)({},Ne[X]),{levelCoord:z}));return I},d}();function Rc(d){return d.span.end}function Wd(d){return d.index+":"+d.span.start}function ku(d){for(var c=[],p=0,v=d;p<v.length;p++){for(var A=v[p],I=[],N={span:A.span,entries:[A]},V=0,z=c;V<z.length;V++){var X=z[V];Ss(X.span,N.span)?N={entries:X.entries.concat(N.entries),span:Ks(X.span,N.span)}:I.push(X)}I.push(N),c=I}return c}function Ks(d,c){return{start:Math.min(d.start,c.start),end:Math.max(d.end,c.end)}}function Ss(d,c){var p=Math.max(d.start,c.start),v=Math.min(d.end,c.end);return p<v?{start:p,end:v}:null}function Pu(d,c,p){d.splice(c,0,p)}function Ul(d,c,p){var v=0,A=d.length;if(!A||c<p(d[v]))return[0,0];if(c>p(d[A-1]))return[A,0];for(;v<A;){var I=Math.floor(v+(A-v)/2),N=p(d[I]);if(c<N)A=I;else{if(!(c>N))return[I,1];v=I+1}}return[v,0]}var Ou=function(){function d(c){this.component=c.component,this.isHitComboAllowed=c.isHitComboAllowed||null}return d.prototype.destroy=function(){},d}();function Nc(d,c){return{component:d,el:c.el,useEventCenter:null==c.useEventCenter||c.useEventCenter,isHitComboAllowed:c.isHitComboAllowed||null}}function qd(d){var c;return(c={})[d.component.uid]=d,c}var Fu={},Hl=function(){function d(c,p){this.emitter=new pa}return d.prototype.destroy=function(){},d.prototype.setMirrorIsVisible=function(c){},d.prototype.setMirrorNeedsRevert=function(c){},d.prototype.setAutoScrollEnabled=function(c){},d}(),Mh={},kc={startTime:Bt,duration:Bt,create:Boolean,sourceId:String};function xh(d){var c=zi(d,kc),p=c.refined;return{startTime:p.startTime||null,duration:p.duration||null,create:null==p.create||p.create,sourceId:p.sourceId,leftoverProps:c.extra}}var Pc=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,P.__extends)(c,d),c.prototype.render=function(){var p=this,v=this.props.widgetGroups.map(function(A){return p.renderWidgetGroup(A)});return G.apply(void 0,(0,P.__spreadArray)(["div",{className:"fc-toolbar-chunk"}],v))},c.prototype.renderWidgetGroup=function(p){for(var v=this.props,A=this.context.theme,I=[],N=!0,V=0,z=p;V<z.length;V++){var X=z[V],Ne=X.buttonName,Ue=X.buttonClick,dt=X.buttonText,yt=X.buttonIcon,wt=X.buttonHint;if("title"===Ne)N=!1,I.push(G("h2",{className:"fc-toolbar-title",id:v.titleId},v.title));else{var Yt=Ne===v.activeButton,ln=!v.isTodayEnabled&&"today"===Ne||!v.isPrevEnabled&&"prev"===Ne||!v.isNextEnabled&&"next"===Ne,kt=["fc-"+Ne+"-button",A.getClass("button")];Yt&&kt.push(A.getClass("buttonActive")),I.push(G("button",{type:"button",title:"function"==typeof wt?wt(v.navUnit):wt,disabled:ln,"aria-pressed":Yt,className:kt.join(" "),onClick:Ue},dt||(yt?G("span",{className:yt}):"")))}}if(I.length>1){var nr=N&&A.getClass("buttonGroup")||"";return G.apply(void 0,(0,P.__spreadArray)(["div",{className:nr}],I))}return I[0]},c}(vr),D=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,P.__extends)(c,d),c.prototype.render=function(){var N,V,p=this.props,I=!1,z=p.model.sectionWidgets,X=z.center;return z.left?(I=!0,N=z.left):N=z.start,z.right?(I=!0,V=z.right):V=z.end,G("div",{className:[p.extraClassName||"","fc-toolbar",I?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",N||[]),this.renderSection("center",X||[]),this.renderSection("end",V||[]))},c.prototype.renderSection=function(p,v){var A=this.props;return G(Pc,{key:p,widgetGroups:v,title:A.title,navUnit:A.navUnit,activeButton:A.activeButton,isTodayEnabled:A.isTodayEnabled,isPrevEnabled:A.isPrevEnabled,isNextEnabled:A.isNextEnabled,titleId:A.titleId})},c}(vr),_=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.state={availableWidth:null},p.handleEl=function(v){p.el=v,si(p.props.elRef,v),p.updateAvailableWidth()},p.handleResize=function(){p.updateAvailableWidth()},p}return(0,P.__extends)(c,d),c.prototype.render=function(){var v=this.props,A=this.state,I=v.aspectRatio,V="",z="";return I?null!==A.availableWidth?V=A.availableWidth/I:z=1/I*100+"%":V=v.height||"",G("div",{"aria-labelledby":v.labeledById,ref:this.handleEl,className:["fc-view-harness",I||v.liquid||v.height?"fc-view-harness-active":"fc-view-harness-passive"].join(" "),style:{height:V,paddingBottom:z}},v.children)},c.prototype.componentDidMount=function(){this.context.addResizeHandler(this.handleResize)},c.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleResize)},c.prototype.updateAvailableWidth=function(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})},c}(vr),b=function(d){function c(p){var v=d.call(this,p)||this;return v.handleSegClick=function(A,I){var N=v.component,V=N.context,z=or(I);if(z&&N.isValidSegDownEl(A.target)){var X=H(A.target,".fc-event-forced-url"),Ne=X?X.querySelector("a[href]").href:"";V.emitter.trigger("eventClick",{el:I,event:new zr(N.context,z.eventRange.def,z.eventRange.instance),jsEvent:A,view:V.viewApi}),Ne&&!A.defaultPrevented&&(window.location.href=Ne)}},v.destroy=fe(p.el,"click",".fc-event",v.handleSegClick),v}return(0,P.__extends)(c,d),c}(Ou),M=function(d){function c(p){var v=d.call(this,p)||this;return v.handleEventElRemove=function(A){A===v.currentSegEl&&v.handleSegLeave(null,v.currentSegEl)},v.handleSegEnter=function(A,I){or(I)&&(v.currentSegEl=I,v.triggerEvent("eventMouseEnter",A,I))},v.handleSegLeave=function(A,I){v.currentSegEl&&(v.currentSegEl=null,v.triggerEvent("eventMouseLeave",A,I))},v.removeHoverListeners=function Ie(d,c,p,v){var A;return fe(d,"mouseover",c,function(I,N){if(N!==A){A=N,p(I,N);var V=function(z){A=null,v(z,N),N.removeEventListener("mouseleave",V)};N.addEventListener("mouseleave",V)}})}(p.el,".fc-event",v.handleSegEnter,v.handleSegLeave),v}return(0,P.__extends)(c,d),c.prototype.destroy=function(){this.removeHoverListeners()},c.prototype.triggerEvent=function(p,v,A){var I=this.component,N=I.context,V=or(A);(!v||I.isValidSegDownEl(v.target))&&N.emitter.trigger(p,{el:A,event:new zr(N,V.eventRange.def,V.eventRange.instance),jsEvent:v,view:N.viewApi})},c}(Ou),U=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.buildViewContext=Bn(mc),p.buildViewPropTransformers=Bn(Le),p.buildToolbarProps=Bn(Q),p.headerRef=Ce(),p.footerRef=Ce(),p.interactionsStore={},p.state={viewLabelId:mt()},p.registerInteractiveComponent=function(v,A){var I=Nc(v,A),z=[b,M].concat(p.props.pluginHooks.componentInteractions).map(function(X){return new X(I)});p.interactionsStore[v.uid]=z,Fu[v.uid]=I},p.unregisterInteractiveComponent=function(v){var A=p.interactionsStore[v.uid];if(A){for(var I=0,N=A;I<N.length;I++)N[I].destroy();delete p.interactionsStore[v.uid]}delete Fu[v.uid]},p.resizeRunner=new Mu(function(){p.props.emitter.trigger("_resize",!0),p.props.emitter.trigger("windowResize",{view:p.props.viewApi})}),p.handleWindowResize=function(v){var A=p.props.options;A.handleWindowResize&&v.target===window&&p.resizeRunner.request(A.windowResizeDelay)},p}return(0,P.__extends)(c,d),c.prototype.render=function(){var z,p=this.props,v=p.toolbarConfig,A=p.options,I=this.buildToolbarProps(p.viewSpec,p.dateProfile,p.dateProfileGenerator,p.currentDate,Sl(p.options.now,p.dateEnv),p.viewTitle),N=!1,V="";p.isHeightAuto||p.forPrint?V="":null!=A.height?N=!0:null!=A.contentHeight?V=A.contentHeight:z=Math.max(A.aspectRatio,.5);var X=this.buildViewContext(p.viewSpec,p.viewApi,p.options,p.dateProfileGenerator,p.dateEnv,p.theme,p.pluginHooks,p.dispatch,p.getCurrentData,p.emitter,p.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),Ne=v.header&&v.header.hasTitle?this.state.viewLabelId:"";return G(ii.Provider,{value:X},v.header&&G(D,(0,P.__assign)({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:v.header,titleId:Ne},I)),G(_,{liquid:N,height:V,aspectRatio:z,labeledById:Ne},this.renderView(p),this.buildAppendContent()),v.footer&&G(D,(0,P.__assign)({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:v.footer,titleId:""},I)))},c.prototype.componentDidMount=function(){var p=this.props;this.calendarInteractions=p.pluginHooks.calendarInteractions.map(function(I){return new I(p)}),window.addEventListener("resize",this.handleWindowResize);var v=p.pluginHooks.propSetHandlers;for(var A in v)v[A](p[A],p)},c.prototype.componentDidUpdate=function(p){var v=this.props,A=v.pluginHooks.propSetHandlers;for(var I in A)v[I]!==p[I]&&A[I](v[I],v)},c.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(var p=0,v=this.calendarInteractions;p<v.length;p++)v[p].destroy();this.props.emitter.trigger("_unmount")},c.prototype.buildAppendContent=function(){var p=this.props,v=p.pluginHooks.viewContainerAppends.map(function(A){return A(p)});return G.apply(void 0,(0,P.__spreadArray)([be,{}],v))},c.prototype.renderView=function(p){for(var A=p.viewSpec,I={dateProfile:p.dateProfile,businessHours:p.businessHours,eventStore:p.renderableEventStore,eventUiBases:p.eventUiBases,dateSelection:p.dateSelection,eventSelection:p.eventSelection,eventDrag:p.eventDrag,eventResize:p.eventResize,isHeightAuto:p.isHeightAuto,forPrint:p.forPrint},V=0,z=this.buildViewPropTransformers(p.pluginHooks.viewPropsTransformers);V<z.length;V++)(0,P.__assign)(I,z[V].transform(I,p));return G(A.component,(0,P.__assign)({},I))},c}(Bo);function Q(d,c,p,v,A,I){var N=p.build(A,void 0,!1),V=p.buildPrev(c,v,!1),z=p.buildNext(c,v,!1);return{title:I,activeButton:d.type,navUnit:d.singleUnit,isTodayEnabled:N.isValid&&!we(c.currentRange,A),isPrevEnabled:V.isValid,isNextEnabled:z.isValid}}function Le(d){return d.map(function(c){return new c})}var ft=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.state={forPrint:!1},p.handleBeforePrint=function(){p.setState({forPrint:!0})},p.handleAfterPrint=function(){p.setState({forPrint:!1})},p}return(0,P.__extends)(c,d),c.prototype.render=function(){var p=this.props,v=p.options,A=this.state.forPrint,I=A||"auto"===v.height||"auto"===v.contentHeight,N=I||null==v.height?"":v.height,V=["fc",A?"fc-media-print":"fc-media-screen","fc-direction-"+v.direction,p.theme.getClass("root")];return $s()||V.push("fc-liquid-hack"),p.children(V,N,I,A)},c.prototype.componentDidMount=function(){var p=this.props.emitter;p.on("_beforeprint",this.handleBeforePrint),p.on("_afterprint",this.handleAfterPrint)},c.prototype.componentWillUnmount=function(){var p=this.props.emitter;p.off("_beforeprint",this.handleBeforePrint),p.off("_afterprint",this.handleAfterPrint)},c}(vr);function zt(d,c){return Dr(!d||c>10?{weekday:"short"}:c>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"})}var nn="fc-col-header-cell";function Vn(d){return d.text}var Ir=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,P.__extends)(c,d),c.prototype.render=function(){var p=this.context,v=p.dateEnv,A=p.options,I=p.theme,N=p.viewApi,V=this.props,z=V.date,Ne=da(z,V.todayRange,null,V.dateProfile),Ue=[nn].concat(fo(Ne,I)),dt=v.format(z,V.dayHeaderFormat),yt=!Ne.isDisabled&&V.colCnt>1?gn(this.context,z):{},wt=(0,P.__assign)((0,P.__assign)((0,P.__assign)({date:v.toDate(z),view:N},V.extraHookProps),{text:dt}),Ne);return G(go,{hookProps:wt,classNames:A.dayHeaderClassNames,content:A.dayHeaderContent,defaultContent:Vn,didMount:A.dayHeaderDidMount,willUnmount:A.dayHeaderWillUnmount},function(Yt,ln,kt,nr){return G("th",(0,P.__assign)({ref:Yt,role:"columnheader",className:Ue.concat(ln).join(" "),"data-date":Ne.isDisabled?void 0:gr(z),colSpan:V.colSpan},V.extraDataAttrs),G("div",{className:"fc-scrollgrid-sync-inner"},!Ne.isDisabled&&G("a",(0,P.__assign)({ref:kt,className:["fc-col-header-cell-cushion",V.isSticky?"fc-sticky":""].join(" ")},yt),nr)))})},c}(vr),Ri=Dr({weekday:"long"}),Is=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,P.__extends)(c,d),c.prototype.render=function(){var p=this.props,v=this.context,A=v.dateEnv,I=v.theme,N=v.viewApi,V=v.options,z=Ze(new Date(2592e5),p.dow),X={dow:p.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},Ne=[nn].concat(fo(X,I),p.extraClassNames||[]),Ue=A.format(z,p.dayHeaderFormat),dt=(0,P.__assign)((0,P.__assign)((0,P.__assign)((0,P.__assign)({date:z},X),{view:N}),p.extraHookProps),{text:Ue});return G(go,{hookProps:dt,classNames:V.dayHeaderClassNames,content:V.dayHeaderContent,defaultContent:Vn,didMount:V.dayHeaderDidMount,willUnmount:V.dayHeaderWillUnmount},function(yt,wt,Yt,ln){return G("th",(0,P.__assign)({ref:yt,role:"columnheader",className:Ne.concat(wt).join(" "),colSpan:p.colSpan},p.extraDataAttrs),G("div",{className:"fc-scrollgrid-sync-inner"},G("a",{"aria-label":A.format(z,Ri),className:["fc-col-header-cell-cushion",p.isSticky?"fc-sticky":""].join(" "),ref:Yt},ln)))})},c}(vr),zo=function(d){function c(p,v){var A=d.call(this,p,v)||this;return A.initialNowDate=Sl(v.options.now,v.dateEnv),A.initialNowQueriedMs=(new Date).valueOf(),A.state=A.computeTiming().currentState,A}return(0,P.__extends)(c,d),c.prototype.render=function(){var A=this.state;return this.props.children(A.nowDate,A.todayRange)},c.prototype.componentDidMount=function(){this.setTimeout()},c.prototype.componentDidUpdate=function(p){p.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())},c.prototype.componentWillUnmount=function(){this.clearTimeout()},c.prototype.computeTiming=function(){var v=this.props,A=this.context,I=Dt(this.initialNowDate,(new Date).valueOf()-this.initialNowQueriedMs),N=A.dateEnv.startOf(I,v.unit),V=A.dateEnv.add(N,Bt(1,v.unit)),z=V.valueOf()-I.valueOf();return z=Math.min(864e5,z),{currentState:{nowDate:N,todayRange:Zd(N)},nextState:{nowDate:V,todayRange:Zd(V)},waitMs:z}},c.prototype.setTimeout=function(){var p=this,v=this.computeTiming(),A=v.nextState;this.timeoutId=setTimeout(function(){p.setState(A,function(){p.setTimeout()})},v.waitMs)},c.prototype.clearTimeout=function(){this.timeoutId&&clearTimeout(this.timeoutId)},c.contextType=ii,c}(R);function Zd(d){var c=an(d);return{start:c,end:Ze(c,1)}}var Oc=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.createDayHeaderFormatter=Bn(Eo),p}return(0,P.__extends)(c,d),c.prototype.render=function(){var v=this.props,A=v.dates,I=v.dateProfile,N=v.datesRepDistinctDays,V=v.renderIntro,z=this.createDayHeaderFormatter(this.context.options.dayHeaderFormat,N,A.length);return G(zo,{unit:"day"},function(X,Ne){return G("tr",{role:"row"},V&&V("day"),A.map(function(Ue){return N?G(Ir,{key:Ue.toISOString(),date:Ue,dateProfile:I,todayRange:Ne,colCnt:A.length,dayHeaderFormat:z}):G(Is,{key:Ue.getUTCDay(),dow:Ue.getUTCDay(),dayHeaderFormat:z})}))})},c}(vr);function Eo(d,c,p){return d||zt(c,p)}var Kd=function(){function d(c,p){for(var v=c.start,A=c.end,I=[],N=[],V=-1;v<A;)p.isHiddenDay(v)?I.push(V+.5):(I.push(V+=1),N.push(v)),v=Ze(v,1);this.dates=N,this.indices=I,this.cnt=N.length}return d.prototype.sliceRange=function(c){var p=this.getDateDayIndex(c.start),v=this.getDateDayIndex(Ze(c.end,-1)),A=Math.max(0,p),I=Math.min(this.cnt-1,v);return(A=Math.ceil(A))<=(I=Math.floor(I))?{firstIndex:A,lastIndex:I,isStart:p===A,isEnd:v===I}:null},d.prototype.getDateDayIndex=function(c){var p=this.indices,v=Math.floor(vt(this.dates[0],c));return v<0?p[0]-1:v>=p.length?p[p.length-1]+1:p[v]},d}(),Lu=function(){function d(c,p){var A,I,N,v=c.dates;if(p){for(I=v[0].getUTCDay(),A=1;A<v.length&&v[A].getUTCDay()!==I;A+=1);N=Math.ceil(v.length/A)}else N=1,A=v.length;this.rowCnt=N,this.colCnt=A,this.daySeries=c,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}return d.prototype.buildCells=function(){for(var c=[],p=0;p<this.rowCnt;p+=1){for(var v=[],A=0;A<this.colCnt;A+=1)v.push(this.buildCell(p,A));c.push(v)}return c},d.prototype.buildCell=function(c,p){var v=this.daySeries.dates[c*this.colCnt+p];return{key:v.toISOString(),date:v}},d.prototype.buildHeaderDates=function(){for(var c=[],p=0;p<this.colCnt;p+=1)c.push(this.cells[0][p].date);return c},d.prototype.sliceRange=function(c){var p=this.colCnt,v=this.daySeries.sliceRange(c),A=[];if(v)for(var I=v.firstIndex,N=v.lastIndex,V=I;V<=N;){var z=Math.floor(V/p),X=Math.min((z+1)*p,N+1);A.push({row:z,firstCol:V%p,lastCol:(X-1)%p,isStart:v.isStart&&V===I,isEnd:v.isEnd&&X-1===N}),V=X}return A},d}(),Qd=function(){function d(){this.sliceBusinessHours=Bn(this._sliceBusinessHours),this.sliceDateSelection=Bn(this._sliceDateSpan),this.sliceEventStore=Bn(this._sliceEventStore),this.sliceEventDrag=Bn(this._sliceInteraction),this.sliceEventResize=Bn(this._sliceInteraction),this.forceDayIfListItem=!1}return d.prototype.sliceProps=function(c,p,v,A){for(var I=[],N=4;N<arguments.length;N++)I[N-4]=arguments[N];var V=c.eventUiBases,z=this.sliceEventStore.apply(this,(0,P.__spreadArray)([c.eventStore,V,p,v],I));return{dateSelectionSegs:this.sliceDateSelection.apply(this,(0,P.__spreadArray)([c.dateSelection,V,A],I)),businessHourSegs:this.sliceBusinessHours.apply(this,(0,P.__spreadArray)([c.businessHours,p,v,A],I)),fgEventSegs:z.fg,bgEventSegs:z.bg,eventDrag:this.sliceEventDrag.apply(this,(0,P.__spreadArray)([c.eventDrag,V,p,v],I)),eventResize:this.sliceEventResize.apply(this,(0,P.__spreadArray)([c.eventResize,V,p,v],I)),eventSelection:c.eventSelection}},d.prototype.sliceNowDate=function(c,p){for(var v=[],A=2;A<arguments.length;A++)v[A-2]=arguments[A];return this._sliceDateSpan.apply(this,(0,P.__spreadArray)([{range:{start:c,end:Dt(c,1)},allDay:!1},{},p],v))},d.prototype._sliceBusinessHours=function(c,p,v,A){for(var I=[],N=4;N<arguments.length;N++)I[N-4]=arguments[N];return c?this._sliceEventStore.apply(this,(0,P.__spreadArray)([bt(c,jl(p,Boolean(v)),A),{},p,v],I)).bg:[]},d.prototype._sliceEventStore=function(c,p,v,A){for(var I=[],N=4;N<arguments.length;N++)I[N-4]=arguments[N];if(c){var V=_t(c,p,jl(v,Boolean(A)),A);return{bg:this.sliceEventRanges(V.bg,I),fg:this.sliceEventRanges(V.fg,I)}}return{bg:[],fg:[]}},d.prototype._sliceInteraction=function(c,p,v,A){for(var I=[],N=4;N<arguments.length;N++)I[N-4]=arguments[N];if(!c)return null;var V=_t(c.mutatedEvents,p,jl(v,Boolean(A)),A);return{segs:this.sliceEventRanges(V.fg,I),affectedInstances:c.affectedEvents.instances,isEvent:c.isEvent}},d.prototype._sliceDateSpan=function(c,p,v){for(var A=[],I=3;I<arguments.length;I++)A[I-3]=arguments[I];if(!c)return[];for(var N=Cd(c,p,v),V=this.sliceRange.apply(this,(0,P.__spreadArray)([c.range],A)),z=0,X=V;z<X.length;z++){var Ne=X[z];Ne.eventRange=N}return V},d.prototype.sliceEventRanges=function(c,p){for(var v=[],A=0,I=c;A<I.length;A++)v.push.apply(v,this.sliceEventRange(I[A],p));return v},d.prototype.sliceEventRange=function(c,p){var v=c.range;this.forceDayIfListItem&&"list-item"===c.ui.display&&(v={start:v.start,end:Ze(v.start,1)});for(var A=this.sliceRange.apply(this,(0,P.__spreadArray)([v],p)),I=0,N=A;I<N.length;I++){var V=N[I];V.eventRange=c,V.isStart=c.isStart&&V.isStart,V.isEnd=c.isEnd&&V.isEnd}return A},d}();function jl(d,c){var p=d.activeRange;return c?p:{start:Dt(p.start,d.slotMinTime.milliseconds),end:Dt(p.end,d.slotMaxTime.milliseconds-864e5)}}function Vu(d,c,p){var v=d.mutatedEvents.instances;for(var A in v)if(!Z(c.validRange,v[A].range))return!1;return zl({eventDrag:d},p)}function Gl(d,c,p){return!!Z(c.validRange,d.range)&&zl({dateSelection:d},p)}function zl(d,c){var p=c.getCurrentData(),v=(0,P.__assign)({businessHours:p.businessHours,dateSelection:"",eventStore:p.eventStore,eventUiBases:p.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},d);return(c.pluginHooks.isPropsValid||wa)(v,c)}function wa(d,c,p,v){return void 0===p&&(p={}),!(d.eventDrag&&!function Rh(d,c,p,v){var A=c.getCurrentData(),I=d.eventDrag,N=I.mutatedEvents,V=N.defs,z=N.instances,X=Gt(V,I.isEvent?d.eventUiBases:{"":A.selectionConfig});v&&(X=ge(X,v));var Ne=function Sc(d,c){return{defs:d.defs,instances:ae(d.instances,function(p){return!c[p.instanceId]})}}(d.eventStore,I.affectedEvents.instances),Ue=Ne.defs,dt=Ne.instances,yt=Gt(Ue,d.eventUiBases);for(var wt in z){var Yt=z[wt],ln=Yt.range,kt=X[Yt.defId],nr=V[Yt.defId];if(!Nh(kt.constraints,ln,Ne,d.businessHours,c))return!1;var Mr=c.options.eventOverlap,$r="function"==typeof Mr?Mr:null;for(var Wr in dt){var qr=dt[Wr];if(K(ln,qr.range)&&(!1===yt[qr.defId].overlap&&I.isEvent||!1===kt.overlap||$r&&!$r(new zr(c,Ue[qr.defId],qr),new zr(c,nr,Yt))))return!1}for(var xs=A.eventStore,Rs=0,Qs=kt.allows;Rs<Qs.length;Rs++){var Bc,nf=Qs[Rs],Uu=(0,P.__assign)((0,P.__assign)({},p),{range:Yt.range,allDay:nr.allDay}),Ca=xs.defs[nr.defId];if(Bc=Ca?new zr(c,Ca,xs.instances[wt]):new zr(c,nr),!nf(Es(Uu,c),Bc))return!1}}return!0}(d,c,p,v)||d.dateSelection&&!function Ur(d,c,p,v){var A=d.eventStore,I=A.defs,N=A.instances,V=d.dateSelection,z=V.range,X=c.getCurrentData().selectionConfig;if(v&&(X=v(X)),!Nh(X.constraints,z,A,d.businessHours,c))return!1;var Ne=c.options.selectOverlap,Ue="function"==typeof Ne?Ne:null;for(var dt in N){var yt=N[dt];if(K(z,yt.range)&&(!1===X.overlap||Ue&&!Ue(new zr(c,I[yt.defId],yt),null)))return!1}for(var wt=0,Yt=X.allows;wt<Yt.length;wt++)if(!(0,Yt[wt])(Es((0,P.__assign)((0,P.__assign)({},p),V),c),null))return!1;return!0}(d,c,p,v))}function Nh(d,c,p,v,A){for(var I=0,N=d;I<N.length;I++)if(!kh(Cg(N[I],c,p,v,A),c))return!1;return!0}function Cg(d,c,p,v,A){return"businessHours"===d?Fc(bt(v,c,A)):"string"==typeof d?Fc(sa(p,function(I){return I.groupId===d})):"object"==typeof d&&d?Fc(bt(d,c,A)):[]}function Fc(d){var c=d.instances,p=[];for(var v in c)p.push(c[v].range);return p}function kh(d,c){for(var p=0,v=d;p<v.length;p++)if(Z(v[p],c))return!0;return!1}var Yd=/^(visible|hidden)$/,Ph=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.handleEl=function(v){p.el=v,si(p.props.elRef,v)},p}return(0,P.__extends)(c,d),c.prototype.render=function(){var p=this.props,v=p.liquid,A=p.liquidIsAbsolute,I=v&&A,N=["fc-scroller"];return v&&N.push(A?"fc-scroller-liquid-absolute":"fc-scroller-liquid"),G("div",{ref:this.handleEl,className:N.join(" "),style:{overflowX:p.overflowX,overflowY:p.overflowY,left:I&&-(p.overcomeLeft||0)||"",right:I&&-(p.overcomeRight||0)||"",bottom:I&&-(p.overcomeBottom||0)||"",marginLeft:!I&&-(p.overcomeLeft||0)||"",marginRight:!I&&-(p.overcomeRight||0)||"",marginBottom:!I&&-(p.overcomeBottom||0)||"",maxHeight:p.maxHeight||""}},p.children)},c.prototype.needsXScrolling=function(){if(Yd.test(this.props.overflowX))return!1;for(var p=this.el,v=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),A=p.children,I=0;I<A.length;I+=1)if(A[I].getBoundingClientRect().width>v)return!0;return!1},c.prototype.needsYScrolling=function(){if(Yd.test(this.props.overflowY))return!1;for(var p=this.el,v=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),A=p.children,I=0;I<A.length;I+=1)if(A[I].getBoundingClientRect().height>v)return!0;return!1},c.prototype.getXScrollbarWidth=function(){return Yd.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight},c.prototype.getYScrollbarWidth=function(){return Yd.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth},c}(vr),Dg=function(){function d(c){var p=this;this.masterCallback=c,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=function(v,A){var N=p.depths,V=p.currentMap,z=!1,X=!1;null!==v?(z=A in V,V[A]=v,N[A]=(N[A]||0)+1,X=!0):(N[A]-=1,N[A]||(delete V[A],delete p.callbackMap[A],z=!0)),p.masterCallback&&(z&&p.masterCallback(null,String(A)),X&&p.masterCallback(v,String(A)))}}return d.prototype.createRef=function(c){var p=this,v=this.callbackMap[c];return v||(v=this.callbackMap[c]=function(A){p.handleValue(A,String(c))}),v},d.prototype.collect=function(c,p,v){return he(this.currentMap,c,p,v)},d.prototype.getAll=function(){return pt(this.currentMap)},d}();function sy(d){for(var p=0,v=0,A=me(d,".fc-scrollgrid-shrink");v<A.length;v++)p=Math.max(p,on(A[v]));return Math.ceil(p)}function Tg(d,c){return d.liquid&&c.liquid}function oy(d,c){return null!=c.maxHeight||Tg(d,c)}function ay(d,c,p,v){var A=p.expandRows;return"function"==typeof c.content?c.content(p):G("table",{role:"presentation",className:[c.tableClassName,d.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:p.tableMinWidth,width:p.clientWidth,height:A?p.clientHeight:""}},p.tableColGroupNode,G(v?"thead":"tbody",{role:"presentation"},"function"==typeof c.rowContent?c.rowContent(p):c.rowContent))}function Lc(d,c){return yi(d,c,ut)}function Zi(d,c){for(var p=[],v=0,A=d;v<A.length;v++)for(var I=A[v],N=I.span||1,V=0;V<N;V+=1)p.push(G("col",{style:{width:"shrink"===I.width?Oh(c):I.width||"",minWidth:I.minWidth||""}}));return G.apply(void 0,(0,P.__spreadArray)(["colgroup",{}],p))}function Oh(d){return null==d?4:d}function Sg(d){for(var c=0,p=d;c<p.length;c++)if("shrink"===p[c].width)return!0;return!1}function Jd(d,c){var p=["fc-scrollgrid",c.theme.getClass("table")];return d&&p.push("fc-scrollgrid-liquid"),p}function Ei(d,c){var p=["fc-scrollgrid-section","fc-scrollgrid-section-"+d.type,d.className];return c&&d.liquid&&null==d.maxHeight&&p.push("fc-scrollgrid-section-liquid"),d.isSticky&&p.push("fc-scrollgrid-section-sticky"),p}function Ms(d){return G("div",{className:"fc-scrollgrid-sticky-shim",style:{width:d.clientWidth,minWidth:d.tableMinWidth}})}function Fh(d){var c=d.stickyHeaderDates;return(null==c||"auto"===c)&&(c="auto"===d.height||"auto"===d.viewHeight),c}function Ig(d){var c=d.stickyFooterScrollbar;return(null==c||"auto"===c)&&(c="auto"===d.height||"auto"===d.viewHeight),c}var ly=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.processCols=Bn(function(v){return v},Lc),p.renderMicroColGroup=Bn(Zi),p.scrollerRefs=new Dg,p.scrollerElRefs=new Dg(p._handleScrollerEl.bind(p)),p.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},p.handleSizing=function(){p.setState((0,P.__assign)({shrinkWidth:p.computeShrinkWidth()},p.computeScrollerDims()))},p}return(0,P.__extends)(c,d),c.prototype.render=function(){var p=this,v=p.props,A=p.state,I=p.context,N=v.sections||[],V=this.processCols(v.cols),z=this.renderMicroColGroup(V,A.shrinkWidth),X=Jd(v.liquid,I);v.collapsibleWidth&&X.push("fc-scrollgrid-collapsible");for(var dt,Ne=N.length,Ue=0,yt=[],wt=[],Yt=[];Ue<Ne&&"header"===(dt=N[Ue]).type;)yt.push(this.renderSection(dt,z,!0)),Ue+=1;for(;Ue<Ne&&"body"===(dt=N[Ue]).type;)wt.push(this.renderSection(dt,z,!1)),Ue+=1;for(;Ue<Ne&&"footer"===(dt=N[Ue]).type;)Yt.push(this.renderSection(dt,z,!0)),Ue+=1;var ln=!$s(),kt={role:"rowgroup"};return G("table",{role:"grid",className:X.join(" "),style:{height:v.height}},Boolean(!ln&&yt.length)&&G.apply(void 0,(0,P.__spreadArray)(["thead",kt],yt)),Boolean(!ln&&wt.length)&&G.apply(void 0,(0,P.__spreadArray)(["tbody",kt],wt)),Boolean(!ln&&Yt.length)&&G.apply(void 0,(0,P.__spreadArray)(["tfoot",kt],Yt)),ln&&G.apply(void 0,(0,P.__spreadArray)((0,P.__spreadArray)((0,P.__spreadArray)(["tbody",kt],yt),wt),Yt)))},c.prototype.renderSection=function(p,v,A){return"outerContent"in p?G(be,{key:p.key},p.outerContent):G("tr",{key:p.key,role:"presentation",className:Ei(p,this.props.liquid).join(" ")},this.renderChunkTd(p,v,p.chunk,A))},c.prototype.renderChunkTd=function(p,v,A,I){if("outerContent"in A)return A.outerContent;var N=this.props,V=this.state,z=V.forceYScrollbars,X=V.scrollerClientWidths,Ne=V.scrollerClientHeights,Ue=oy(N,p),dt=Tg(N,p),yt=N.liquid?z?"scroll":Ue?"auto":"hidden":"visible",wt=p.key,Yt=ay(p,A,{tableColGroupNode:v,tableMinWidth:"",clientWidth:N.collapsibleWidth||void 0===X[wt]?null:X[wt],clientHeight:void 0!==Ne[wt]?Ne[wt]:null,expandRows:p.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:function(){}},I);return G(I?"th":"td",{ref:A.elRef,role:"presentation"},G("div",{className:"fc-scroller-harness"+(dt?" fc-scroller-harness-liquid":"")},G(Ph,{ref:this.scrollerRefs.createRef(wt),elRef:this.scrollerElRefs.createRef(wt),overflowY:yt,overflowX:N.liquid?"hidden":"visible",maxHeight:p.maxHeight,liquid:dt,liquidIsAbsolute:!0},Yt)))},c.prototype._handleScrollerEl=function(p,v){var A=function Lh(d,c){for(var p=0,v=d;p<v.length;p++){var A=v[p];if(A.key===c)return A}return null}(this.props.sections,v);A&&si(A.chunk.scrollerElRef,p)},c.prototype.componentDidMount=function(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)},c.prototype.componentDidUpdate=function(){this.handleSizing()},c.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleSizing)},c.prototype.computeShrinkWidth=function(){return Sg(this.props.cols)?sy(this.scrollerElRefs.getAll()):0},c.prototype.computeScrollerDims=function(){var p=gu(),A=this.scrollerRefs,I=this.scrollerElRefs,N=!1,V={},z={};for(var X in A.currentMap){var Ne=A.currentMap[X];if(Ne&&Ne.needsYScrolling()){N=!0;break}}for(var Ue=0,dt=this.props.sections;Ue<dt.length;Ue++){var wt=I.currentMap[X=dt[Ue].key];if(wt){var Yt=wt.parentNode;V[X]=Math.floor(Yt.getBoundingClientRect().width-(N?p.y:0)),z[X]=Math.floor(Yt.getBoundingClientRect().height)}}return{forceYScrollbars:N,scrollerClientWidths:V,scrollerClientHeights:z}},c}(vr);ly.addStateEquality({scrollerClientWidths:ut,scrollerClientHeights:ut});var $l=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.elRef=Ce(),p}return(0,P.__extends)(c,d),c.prototype.render=function(){var v=this.props,A=this.context,I=A.options,N=v.seg,V=N.eventRange,z=V.ui,X={event:new zr(A,V.def,V.instance),view:A.viewApi,timeText:v.timeText,textColor:z.textColor,backgroundColor:z.backgroundColor,borderColor:z.borderColor,isDraggable:!v.disableDragging&&ns(N,A),isStartResizable:!v.disableResizing&&_s(N,A),isEndResizable:!v.disableResizing&&Hs(N),isMirror:Boolean(v.isDragging||v.isResizing||v.isDateSelecting),isStart:Boolean(N.isStart),isEnd:Boolean(N.isEnd),isPast:Boolean(v.isPast),isFuture:Boolean(v.isFuture),isToday:Boolean(v.isToday),isSelected:Boolean(v.isSelected),isDragging:Boolean(v.isDragging),isResizing:Boolean(v.isResizing)},Ne=ot(X).concat(z.classNames);return G(go,{hookProps:X,classNames:I.eventClassNames,content:I.eventContent,defaultContent:v.defaultContent,didMount:I.eventDidMount,willUnmount:I.eventWillUnmount,elRef:this.elRef},function(Ue,dt,yt,wt){return v.children(Ue,Ne.concat(dt),yt,wt,X)})},c.prototype.componentDidMount=function(){cn(this.elRef.current,this.props.seg)},c.prototype.componentDidUpdate=function(p){var v=this.props.seg;v!==p.seg&&cn(this.elRef.current,v)},c}(vr),Xd=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,P.__extends)(c,d),c.prototype.render=function(){var v=this.props,A=this.context,I=v.seg,V=ja(I,A.options.eventTimeFormat||v.defaultTimeFormat,A,v.defaultDisplayEventTime,v.defaultDisplayEventEnd);return G($l,{seg:I,timeText:V,disableDragging:v.disableDragging,disableResizing:v.disableResizing,defaultContent:v.defaultContent||EE,isDragging:v.isDragging,isResizing:v.isResizing,isDateSelecting:v.isDateSelecting,isSelected:v.isSelected,isPast:v.isPast,isFuture:v.isFuture,isToday:v.isToday},function(z,X,Ne,Ue,dt){return G("a",(0,P.__assign)({className:v.extraClassNames.concat(X).join(" "),style:{borderColor:dt.borderColor,backgroundColor:dt.backgroundColor},ref:z},uo(I,A)),G("div",{className:"fc-event-main",ref:Ne,style:{color:dt.textColor}},Ue),dt.isStartResizable&&G("div",{className:"fc-event-resizer fc-event-resizer-start"}),dt.isEndResizable&&G("div",{className:"fc-event-resizer fc-event-resizer-end"}))})},c}(vr);function EE(d){return G("div",{className:"fc-event-main-frame"},d.timeText&&G("div",{className:"fc-event-time"},d.timeText),G("div",{className:"fc-event-title-container"},G("div",{className:"fc-event-title fc-sticky"},d.event.title||G(be,null,"\xa0"))))}var Vh=function(d){return G(ii.Consumer,null,function(c){var p=c.options,v={isAxis:d.isAxis,date:c.dateEnv.toDate(d.date),view:c.viewApi};return G(go,{hookProps:v,classNames:p.nowIndicatorClassNames,content:p.nowIndicatorContent,didMount:p.nowIndicatorDidMount,willUnmount:p.nowIndicatorWillUnmount},d.children)})},bE=Dr({day:"numeric"}),uy=function(d){function c(){return null!==d&&d.apply(this,arguments)||this}return(0,P.__extends)(c,d),c.prototype.render=function(){var v=this.props,A=this.context,I=A.options,N=Bh({date:v.date,dateProfile:v.dateProfile,todayRange:v.todayRange,showDayNumber:v.showDayNumber,extraProps:v.extraHookProps,viewApi:A.viewApi,dateEnv:A.dateEnv});return G(bu,{hookProps:N,content:I.dayCellContent,defaultContent:v.defaultContent},v.children)},c}(vr);function Bh(d){var c=d.date,p=d.dateEnv,v=da(c,d.todayRange,null,d.dateProfile);return(0,P.__assign)((0,P.__assign)((0,P.__assign)({date:p.toDate(c),view:d.viewApi},v),{dayNumberText:d.showDayNumber?p.format(c,bE):""}),d.extraProps)}var cy=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.refineHookProps=Ji(Bh),p.normalizeClassNames=_c(),p}return(0,P.__extends)(c,d),c.prototype.render=function(){var v=this.props,A=this.context,I=A.options,N=this.refineHookProps({date:v.date,dateProfile:v.dateProfile,todayRange:v.todayRange,showDayNumber:v.showDayNumber,extraProps:v.extraHookProps,viewApi:A.viewApi,dateEnv:A.dateEnv}),V=fo(N,A.theme).concat(N.isDisabled?[]:this.normalizeClassNames(I.dayCellClassNames,N)),z=N.isDisabled?{}:{"data-date":gr(v.date)};return G(Ds,{hookProps:N,didMount:I.dayCellDidMount,willUnmount:I.dayCellWillUnmount,elRef:v.elRef},function(X){return v.children(X,V,z,N.isDisabled)})},c}(vr);function AE(d){return G("div",{className:"fc-"+d})}var ef=function(d){return G($l,{defaultContent:Vc,seg:d.seg,timeText:"",disableDragging:!0,disableResizing:!0,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:d.isPast,isFuture:d.isFuture,isToday:d.isToday},function(c,p,v,A,I){return G("div",{ref:c,className:["fc-bg-event"].concat(p).join(" "),style:{backgroundColor:I.backgroundColor}},A)})};function Vc(d){return d.event.title&&G("div",{className:"fc-event-title"},d.event.title)}var Mg=function(d){return G(ii.Consumer,null,function(c){var p=c.dateEnv,v=c.options,A=d.date,I=v.weekNumberFormat||d.defaultFormat,N=p.computeWeekNumber(A),V=p.format(A,I);return G(go,{hookProps:{num:N,text:V,date:A},classNames:v.weekNumberClassNames,content:v.weekNumberContent,defaultContent:Bu,didMount:v.weekNumberDidMount,willUnmount:v.weekNumberWillUnmount},d.children)})};function Bu(d){return d.text}var tf=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.state={titleId:mt()},p.handleRootEl=function(v){p.rootEl=v,p.props.elRef&&si(p.props.elRef,v)},p.handleDocumentMouseDown=function(v){var A=We(v);p.rootEl.contains(A)||p.handleCloseClick()},p.handleDocumentKeyDown=function(v){"Escape"===v.key&&p.handleCloseClick()},p.handleCloseClick=function(){var v=p.props.onClose;v&&v()},p}return(0,P.__extends)(c,d),c.prototype.render=function(){var p=this.context,v=p.theme,A=p.options,N=this.props,V=this.state,z=["fc-popover",v.getClass("popover")].concat(N.extraClassNames||[]);return De(G("div",(0,P.__assign)({id:N.id,className:z.join(" "),"aria-labelledby":V.titleId},N.extraAttrs,{ref:this.handleRootEl}),G("div",{className:"fc-popover-header "+v.getClass("popoverHeader")},G("span",{className:"fc-popover-title",id:V.titleId},N.title),G("span",{className:"fc-popover-close "+v.getIconClass("close"),title:A.closeHint,onClick:this.handleCloseClick})),G("div",{className:"fc-popover-body "+v.getClass("popoverContent")},N.children)),N.parentEl)},c.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()},c.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)},c.prototype.updateSize=function(){var p=this.context.isRtl,v=this.props,A=v.alignmentEl,I=v.alignGridTop,N=this.rootEl,V=function mu(d){for(var c=Cs(d),p=d.getBoundingClientRect(),v=0,A=c;v<A.length;v++){var N=yh(p,A[v].getBoundingClientRect());if(!N)return null;p=N}return p}(A);if(V){var z=N.getBoundingClientRect(),X=I?H(A,".fc-scrollgrid").getBoundingClientRect().top:V.top,Ne=p?V.right-z.width:V.left;X=Math.max(X,10),Ne=Math.min(Ne,document.documentElement.clientWidth-10-z.width),Ne=Math.max(Ne,10);var Ue=N.offsetParent.getBoundingClientRect();je(N,{top:X-Ue.top,left:Ne-Ue.left})}},c}(vr),xg=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.handleRootEl=function(v){p.rootEl=v,v?p.context.registerInteractiveComponent(p,{el:v,useEventCenter:!1}):p.context.unregisterInteractiveComponent(p)},p}return(0,P.__extends)(c,d),c.prototype.render=function(){var p=this.context,I=this.props,N=I.startDate,V=I.todayRange,z=I.dateProfile,X=p.dateEnv.format(N,p.options.dayPopoverFormat);return G(cy,{date:N,dateProfile:z,todayRange:V,elRef:this.handleRootEl},function(Ne,Ue,dt){return G(tf,{elRef:Ne,id:I.id,title:X,extraClassNames:["fc-more-popover"].concat(Ue),extraAttrs:dt,parentEl:I.parentEl,alignmentEl:I.alignmentEl,alignGridTop:I.alignGridTop,onClose:I.onClose},G(uy,{date:N,dateProfile:z,todayRange:V},function(yt,wt){return wt&&G("div",{className:"fc-more-popover-misc",ref:yt},wt)}),I.children)})},c.prototype.queryHit=function(p,v,A,I){var V=this.rootEl,z=this.props;return p>=0&&p<A&&v>=0&&v<I?{dateProfile:z.dateProfile,dateSpan:(0,P.__assign)({allDay:!0,range:{start:z.startDate,end:z.endDate}},z.extraDateSpan),dayEl:V,rect:{left:0,top:0,right:A,bottom:I},layer:1}:null},c}(_u),dy=function(d){function c(){var p=null!==d&&d.apply(this,arguments)||this;return p.linkElRef=Ce(),p.state={isPopoverOpen:!1,popoverId:mt()},p.handleClick=function(v){var I=p.props,N=p.context,V=N.options.moreLinkClick,z=Uh(I).start;function X(Ne){var Ue=Ne.eventRange,wt=Ue.range;return{event:new zr(N,Ue.def,Ue.instance),start:N.dateEnv.toDate(wt.start),end:N.dateEnv.toDate(wt.end),isStart:Ne.isStart,isEnd:Ne.isEnd}}"function"==typeof V&&(V=V({date:z,allDay:Boolean(I.allDayDate),allSegs:I.allSegs.map(X),hiddenSegs:I.hiddenSegs.map(X),jsEvent:v,view:N.viewApi})),V&&"popover"!==V?"string"==typeof V&&N.calendarApi.zoomTo(z,V):p.setState({isPopoverOpen:!0})},p.handlePopoverClose=function(){p.setState({isPopoverOpen:!1})},p}return(0,P.__extends)(c,d),c.prototype.render=function(){var p=this,A=this.props,I=this.state;return G(ii.Consumer,null,function(N){var V=N.viewApi,z=N.options,X=N.calendarApi,Ne=z.moreLinkText,Ue=A.moreCnt,dt=Uh(A),yt="function"==typeof Ne?Ne.call(X,Ue):"+"+Ue+" "+Ne,wt=Ct(z.moreLinkHint,[Ue],yt),Yt={num:Ue,shortText:"+"+Ue,text:yt,view:V};return G(be,null,Boolean(A.moreCnt)&&G(go,{elRef:p.linkElRef,hookProps:Yt,classNames:z.moreLinkClassNames,content:z.moreLinkContent,defaultContent:A.defaultContent||fy,didMount:z.moreLinkDidMount,willUnmount:z.moreLinkWillUnmount},function(ln,kt,nr,Mr){return A.children(ln,["fc-more-link"].concat(kt),nr,Mr,p.handleClick,wt,I.isPopoverOpen,I.isPopoverOpen?I.popoverId:"")}),I.isPopoverOpen&&G(xg,{id:I.popoverId,startDate:dt.start,endDate:dt.end,dateProfile:A.dateProfile,todayRange:A.todayRange,extraDateSpan:A.extraDateSpan,parentEl:p.parentEl,alignmentEl:A.alignmentElRef.current,alignGridTop:A.alignGridTop,onClose:p.handlePopoverClose},A.popoverContent()))})},c.prototype.componentDidMount=function(){this.updateParentEl()},c.prototype.componentDidUpdate=function(){this.updateParentEl()},c.prototype.updateParentEl=function(){this.linkElRef.current&&(this.parentEl=H(this.linkElRef.current,".fc-view-harness"))},c}(vr);function fy(d){return d.text}function Uh(d){if(d.allDayDate)return{start:d.allDayDate,end:Ze(d.allDayDate,1)};var c=d.hiddenSegs;return{start:Rg(c),end:py(c)}}function Rg(d){return d.reduce(hy).eventRange.range.start}function hy(d,c){return d.eventRange.range.start<c.eventRange.range.start?d:c}function py(d){return d.reduce(gy).eventRange.range.end}function gy(d,c){return d.eventRange.range.end>c.eventRange.range.end?d:c}var my="5.10.2"},688:(Ot,$e,$)=>{"use strict";var h=$(5e3);let P=null;function R(){return P}const be=new h.OlP("DocumentToken");let xe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function De(){return(0,h.LFG)(de)}()},providedIn:"platform"}),n})();const ee=new h.OlP("Location Initialized");let de=(()=>{class n extends xe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return R().getBaseHref(this._doc)}onPopState(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=R().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){T()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){T()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function F(){return new de((0,h.LFG)(be))}()},providedIn:"platform"}),n})();function T(){return!!window.history.pushState}function H(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ie(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function me(n){return n&&"?"!==n[0]?"?"+n:n}let ce=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function se(n){const e=(0,h.LFG)(be).location;return new Qe((0,h.LFG)(xe),e&&e.origin||"")}()},providedIn:"root"}),n})();const je=new h.OlP("appBaseHref");let Qe=(()=>{class n extends ce{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return H(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+me(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,l){const f=this.prepareExternalUrl(i+me(l));this._platformLocation.pushState(t,r,f)}replaceState(t,r,i,l){const f=this.prepareExternalUrl(i+me(l));this._platformLocation.replaceState(t,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(xe),h.LFG(je,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),We=(()=>{class n extends ce{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=H(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,l){let f=this.prepareExternalUrl(i+me(l));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(t,r,f)}replaceState(t,r,i,l){let f=this.prepareExternalUrl(i+me(l));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(xe),h.LFG(je,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Ye=(()=>{class n{constructor(t,r){this._subject=new h.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=ie(Te(i)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+me(r))}normalize(t){return n.stripTrailingSlash(function mt(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Te(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+me(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+me(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=me,n.joinWithSlash=H,n.stripTrailingSlash=ie,n.\u0275fac=function(t){return new(t||n)(h.LFG(ce),h.LFG(xe))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function ze(){return new Ye((0,h.LFG)(ce),(0,h.LFG)(xe))}()},providedIn:"root"}),n})();function Te(n){return n.replace(/\/index.html$/,"")}var Oe=(()=>((Oe=Oe||{})[Oe.Format=0]="Format",Oe[Oe.Standalone=1]="Standalone",Oe))(),Be=(()=>((Be=Be||{})[Be.Narrow=0]="Narrow",Be[Be.Abbreviated=1]="Abbreviated",Be[Be.Wide=2]="Wide",Be[Be.Short=3]="Short",Be))(),Xe=(()=>((Xe=Xe||{})[Xe.Short=0]="Short",Xe[Xe.Medium=1]="Medium",Xe[Xe.Long=2]="Long",Xe[Xe.Full=3]="Full",Xe))(),ke=(()=>((ke=ke||{})[ke.Decimal=0]="Decimal",ke[ke.Group=1]="Group",ke[ke.List=2]="List",ke[ke.PercentSign=3]="PercentSign",ke[ke.PlusSign=4]="PlusSign",ke[ke.MinusSign=5]="MinusSign",ke[ke.Exponential=6]="Exponential",ke[ke.SuperscriptingExponent=7]="SuperscriptingExponent",ke[ke.PerMille=8]="PerMille",ke[ke.Infinity=9]="Infinity",ke[ke.NaN=10]="NaN",ke[ke.TimeSeparator=11]="TimeSeparator",ke[ke.CurrencyDecimal=12]="CurrencyDecimal",ke[ke.CurrencyGroup=13]="CurrencyGroup",ke))();function Cn(n,e){return vt((0,h.cg1)(n)[h.wAp.DateFormat],e)}function Ae(n,e){return vt((0,h.cg1)(n)[h.wAp.TimeFormat],e)}function Ee(n,e){return vt((0,h.cg1)(n)[h.wAp.DateTimeFormat],e)}function Ve(n,e){const t=(0,h.cg1)(n),r=t[h.wAp.NumberSymbols][e];if(void 0===r){if(e===ke.CurrencyDecimal)return t[h.wAp.NumberSymbols][ke.Decimal];if(e===ke.CurrencyGroup)return t[h.wAp.NumberSymbols][ke.Group]}return r}function fn(n){if(!n[h.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[h.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function vt(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function Vt(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Dn=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,$n={},an=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var un=(()=>((un=un||{})[un.Short=0]="Short",un[un.ShortGMT=1]="ShortGMT",un[un.Long=2]="Long",un[un.Extended=3]="Extended",un))(),qt=(()=>((qt=qt||{})[qt.FullYear=0]="FullYear",qt[qt.Month=1]="Month",qt[qt.Date=2]="Date",qt[qt.Hours=3]="Hours",qt[qt.Minutes=4]="Minutes",qt[qt.Seconds=5]="Seconds",qt[qt.FractionalSeconds=6]="FractionalSeconds",qt[qt.Day=7]="Day",qt))(),Rt=(()=>((Rt=Rt||{})[Rt.DayPeriods=0]="DayPeriods",Rt[Rt.Days=1]="Days",Rt[Rt.Months=2]="Months",Rt[Rt.Eras=3]="Eras",Rt))();function tr(n,e,t,r){let i=function et(n){if(jt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,l=1,f=1]=n.split("-").map(m=>+m);return Pr(i,l-1,f)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Dn))return function bt(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,l=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const f=Number(n[4]||0)-t,m=Number(n[5]||0)-r,E=Number(n[6]||0),C=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return l.call(e,f,m,E,C),e}(r)}const e=new Date(n);if(!jt(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=_n(t,e)||e;let m,f=[];for(;e;){if(m=an.exec(e),!m){f.push(e);break}{f=f.concat(m.slice(1));const k=f.pop();if(!k)break;e=k}}let E=i.getTimezoneOffset();r&&(E=Se(r,E),i=function he(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function pe(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(Se(e,i)-i))}(i,r,!0));let C="";return f.forEach(k=>{const O=function $t(n){if(ut[n])return ut[n];let e;switch(n){case"G":case"GG":case"GGG":e=B(Rt.Eras,Be.Abbreviated);break;case"GGGG":e=B(Rt.Eras,Be.Wide);break;case"GGGGG":e=B(Rt.Eras,Be.Narrow);break;case"y":e=ue(qt.FullYear,1,0,!1,!0);break;case"yy":e=ue(qt.FullYear,2,0,!0,!0);break;case"yyy":e=ue(qt.FullYear,3,0,!1,!0);break;case"yyyy":e=ue(qt.FullYear,4,0,!1,!0);break;case"Y":e=pt(1);break;case"YY":e=pt(2,!0);break;case"YYY":e=pt(3);break;case"YYYY":e=pt(4);break;case"M":case"L":e=ue(qt.Month,1,1);break;case"MM":case"LL":e=ue(qt.Month,2,1);break;case"MMM":e=B(Rt.Months,Be.Abbreviated);break;case"MMMM":e=B(Rt.Months,Be.Wide);break;case"MMMMM":e=B(Rt.Months,Be.Narrow);break;case"LLL":e=B(Rt.Months,Be.Abbreviated,Oe.Standalone);break;case"LLLL":e=B(Rt.Months,Be.Wide,Oe.Standalone);break;case"LLLLL":e=B(Rt.Months,Be.Narrow,Oe.Standalone);break;case"w":e=st(1);break;case"ww":e=st(2);break;case"W":e=st(1,!0);break;case"d":e=ue(qt.Date,1);break;case"dd":e=ue(qt.Date,2);break;case"c":case"cc":e=ue(qt.Day,1);break;case"ccc":e=B(Rt.Days,Be.Abbreviated,Oe.Standalone);break;case"cccc":e=B(Rt.Days,Be.Wide,Oe.Standalone);break;case"ccccc":e=B(Rt.Days,Be.Narrow,Oe.Standalone);break;case"cccccc":e=B(Rt.Days,Be.Short,Oe.Standalone);break;case"E":case"EE":case"EEE":e=B(Rt.Days,Be.Abbreviated);break;case"EEEE":e=B(Rt.Days,Be.Wide);break;case"EEEEE":e=B(Rt.Days,Be.Narrow);break;case"EEEEEE":e=B(Rt.Days,Be.Short);break;case"a":case"aa":case"aaa":e=B(Rt.DayPeriods,Be.Abbreviated);break;case"aaaa":e=B(Rt.DayPeriods,Be.Wide);break;case"aaaaa":e=B(Rt.DayPeriods,Be.Narrow);break;case"b":case"bb":case"bbb":e=B(Rt.DayPeriods,Be.Abbreviated,Oe.Standalone,!0);break;case"bbbb":e=B(Rt.DayPeriods,Be.Wide,Oe.Standalone,!0);break;case"bbbbb":e=B(Rt.DayPeriods,Be.Narrow,Oe.Standalone,!0);break;case"B":case"BB":case"BBB":e=B(Rt.DayPeriods,Be.Abbreviated,Oe.Format,!0);break;case"BBBB":e=B(Rt.DayPeriods,Be.Wide,Oe.Format,!0);break;case"BBBBB":e=B(Rt.DayPeriods,Be.Narrow,Oe.Format,!0);break;case"h":e=ue(qt.Hours,1,-12);break;case"hh":e=ue(qt.Hours,2,-12);break;case"H":e=ue(qt.Hours,1);break;case"HH":e=ue(qt.Hours,2);break;case"m":e=ue(qt.Minutes,1);break;case"mm":e=ue(qt.Minutes,2);break;case"s":e=ue(qt.Seconds,1);break;case"ss":e=ue(qt.Seconds,2);break;case"S":e=ue(qt.FractionalSeconds,1);break;case"SS":e=ue(qt.FractionalSeconds,2);break;case"SSS":e=ue(qt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=W(un.Short);break;case"ZZZZZ":e=W(un.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=W(un.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=W(un.Long);break;default:return null}return ut[n]=e,e}(k);C+=O?O(i,t,E):"''"===k?"'":k.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),C}function Pr(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function _n(n,e){const t=function Jt(n){return(0,h.cg1)(n)[h.wAp.LocaleId]}(n);if($n[t]=$n[t]||{},$n[t][e])return $n[t][e];let r="";switch(e){case"shortDate":r=Cn(n,Xe.Short);break;case"mediumDate":r=Cn(n,Xe.Medium);break;case"longDate":r=Cn(n,Xe.Long);break;case"fullDate":r=Cn(n,Xe.Full);break;case"shortTime":r=Ae(n,Xe.Short);break;case"mediumTime":r=Ae(n,Xe.Medium);break;case"longTime":r=Ae(n,Xe.Long);break;case"fullTime":r=Ae(n,Xe.Full);break;case"short":const i=_n(n,"shortTime"),l=_n(n,"shortDate");r=wr(Ee(n,Xe.Short),[i,l]);break;case"medium":const f=_n(n,"mediumTime"),m=_n(n,"mediumDate");r=wr(Ee(n,Xe.Medium),[f,m]);break;case"long":const E=_n(n,"longTime"),C=_n(n,"longDate");r=wr(Ee(n,Xe.Long),[E,C]);break;case"full":const k=_n(n,"fullTime"),O=_n(n,"fullDate");r=wr(Ee(n,Xe.Full),[k,O])}return r&&($n[t][e]=r),r}function wr(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function rr(n,e,t="-",r,i){let l="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,l=t));let f=String(n);for(;f.length<e;)f="0"+f;return r&&(f=f.substr(f.length-e)),l+f}function ue(n,e,t=0,r=!1,i=!1){return function(l,f){let m=function ve(n,e){switch(n){case qt.FullYear:return e.getFullYear();case qt.Month:return e.getMonth();case qt.Date:return e.getDate();case qt.Hours:return e.getHours();case qt.Minutes:return e.getMinutes();case qt.Seconds:return e.getSeconds();case qt.FractionalSeconds:return e.getMilliseconds();case qt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,l);if((t>0||m>-t)&&(m+=t),n===qt.Hours)0===m&&-12===t&&(m=12);else if(n===qt.FractionalSeconds)return function Tn(n,e){return rr(n,3).substr(0,e)}(m,e);const E=Ve(f,ke.MinusSign);return rr(m,e,E,r,i)}}function B(n,e,t=Oe.Format,r=!1){return function(i,l){return function Y(n,e,t,r,i,l){switch(t){case Rt.Months:return function Ut(n,e,t){const r=(0,h.cg1)(n),l=vt([r[h.wAp.MonthsFormat],r[h.wAp.MonthsStandalone]],e);return vt(l,t)}(e,i,r)[n.getMonth()];case Rt.Days:return function xt(n,e,t){const r=(0,h.cg1)(n),l=vt([r[h.wAp.DaysFormat],r[h.wAp.DaysStandalone]],e);return vt(l,t)}(e,i,r)[n.getDay()];case Rt.DayPeriods:const f=n.getHours(),m=n.getMinutes();if(l){const C=function Ze(n){const e=(0,h.cg1)(n);return fn(e),(e[h.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?Vt(r):[Vt(r[0]),Vt(r[1])])}(e),k=function Dt(n,e,t){const r=(0,h.cg1)(n);fn(r);const l=vt([r[h.wAp.ExtraData][0],r[h.wAp.ExtraData][1]],e)||[];return vt(l,t)||[]}(e,i,r),O=C.findIndex(q=>{if(Array.isArray(q)){const[J,oe]=q,Me=f>=J.hours&&m>=J.minutes,it=f<oe.hours||f===oe.hours&&m<oe.minutes;if(J.hours<oe.hours){if(Me&&it)return!0}else if(Me||it)return!0}else if(q.hours===f&&q.minutes===m)return!0;return!1});if(-1!==O)return k[O]}return function Xn(n,e,t){const r=(0,h.cg1)(n),l=vt([r[h.wAp.DayPeriodsFormat],r[h.wAp.DayPeriodsStandalone]],e);return vt(l,t)}(e,i,r)[f<12?0:1];case Rt.Eras:return function qn(n,e){return vt((0,h.cg1)(n)[h.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,l,n,e,t,r)}}function W(n){return function(e,t,r){const i=-1*r,l=Ve(t,ke.MinusSign),f=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case un.Short:return(i>=0?"+":"")+rr(f,2,l)+rr(Math.abs(i%60),2,l);case un.ShortGMT:return"GMT"+(i>=0?"+":"")+rr(f,1,l);case un.Long:return"GMT"+(i>=0?"+":"")+rr(f,2,l)+":"+rr(Math.abs(i%60),2,l);case un.Extended:return 0===r?"Z":(i>=0?"+":"")+rr(f,2,l)+":"+rr(Math.abs(i%60),2,l);default:throw new Error(`Unknown zone width "${n}"`)}}}function Pe(n){return Pr(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function st(n,e=!1){return function(t,r){let i;if(e){const l=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,f=t.getDate();i=1+Math.floor((f+l)/7)}else{const l=Pe(t),f=function ge(n){const e=Pr(n,0,1).getDay();return Pr(n,0,1+(e<=4?4:11)-e)}(l.getFullYear()),m=l.getTime()-f.getTime();i=1+Math.round(m/6048e5)}return rr(i,n,Ve(r,ke.MinusSign))}}function pt(n,e=!1){return function(t,r){return rr(Pe(t).getFullYear(),n,Ve(r,ke.MinusSign),e)}}const ut={};function Se(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function jt(n){return n instanceof Date&&!isNaN(n.valueOf())}function hs(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(l)}return null}let yr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Jn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){La("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){La("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Jn{constructor(){this.$implicit=null,this.ngIf=null}}function La(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}class ou{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class md{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const Xi=new md,Ba=new ou;let No=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,h.QGY)(t))return Xi;if((0,h.F4k)(t))return Ba;throw function Rr(n,e){return new h.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.sBO,16))},n.\u0275pipe=h.Yjl({name:"async",type:n,pure:!1}),n})(),es=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function Gr(n){return"server"===n}let aa=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new Po((0,h.LFG)(be),window)}),n})();class Po{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ao(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const l=i.shadowRoot;if(l){const f=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(f)return f}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],i-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ts(this.window.history)||ts(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function ts(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class fr{}class ys extends class Wi extends class Ce{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ne(n){P||(P=n)}(new ys)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function la(){return Zn=Zn||document.querySelector("base"),Zn?Zn.getAttribute("href"):null}();return null==t?null:function lo(n){Ha=Ha||document.createElement("a"),Ha.setAttribute("href",n);const e=Ha.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Zn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return hs(document.cookie,e)}}let Ha,Zn=null;const ti=new h.OlP("TRANSITION_ID"),ua=[{provide:h.ip1,useFactory:function Us(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const r=R(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<i.length;l++)r.remove(i[l])})}},deps:[ti,be,h.zs3],multi:!0}];class K{static init(){(0,h.VLi)(new K)}addToWindow(e){h.dqk.getAngularTestability=(r,i=!0)=>{const l=e.findTestabilityInTree(r,i);if(null==l)throw new Error("Could not find testability for element.");return l},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const i=h.dqk.getAllAngularTestabilities();let l=i.length,f=!1;const m=function(E){f=f||E,l--,0==l&&r(f)};i.forEach(function(E){E.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?R().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Z=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const we=new h.OlP("EventManagerPlugins");let Ge=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let l=0;l<i.length;l++){const f=i[l];if(f.supports(t))return this._eventNameToPlugin.set(t,f),f}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(we),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class _t{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=R().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let It=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),cn=(()=>{class n extends It{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(l=>{const f=this._doc.createElement("style");f.textContent=l,i.push(r.appendChild(f))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(or),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(or))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function or(n){R().remove(n)}const Gt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ar=/%COMP%/g;function rs(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?rs(n,i,t):(i=i.replace(ar,n),t.push(i))}return t}function ot(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let uo=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Tr(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case h.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new js(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case h.ifc.ShadowDom:return new fc(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=rs(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ge),h.LFG(cn),h.LFG(h.AFp))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Tr{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Gt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const l=Gt[i];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Gt[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,i&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ot(r)):this.eventManager.addEventListener(e,t,ot(r))}}class js extends Tr{constructor(e,t,r,i){super(e),this.component=r;const l=rs(i+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function Hs(n){return"_ngcontent-%COMP%".replace(ar,n)}(i+"-"+r.id),this.hostAttr=function ja(n){return"_nghost-%COMP%".replace(ar,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class fc extends Tr{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=rs(i.id,i.styles,[]);for(let f=0;f<l.length;f++){const m=document.createElement("style");m.textContent=l[f],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Cl=(()=>{class n extends _t{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Ad=["alt","control","meta","shift"],Cd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ga={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ni={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Es=(()=>{class n extends _t{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const l=n.parseEventName(r),f=n.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>R().onAndCancel(t,l.domEventName,f))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=n._normalizeKey(r.pop());let f="";if(Ad.forEach(E=>{const C=r.indexOf(E);C>-1&&(r.splice(C,1),f+=E+".")}),f+=l,0!=r.length||0===l.length)return null;const m={};return m.domEventName=i,m.fullKey=f,m}static getEventFullKey(t){let r="",i=function za(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Ga.hasOwnProperty(e)&&(e=Ga[e]))}return Cd[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Ad.forEach(l=>{l!=i&&ni[l](t)&&(r+=l+".")}),r+=i,r}static eventCallback(t,r,i){return l=>{n.getEventFullKey(l)===t&&i.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const dh=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function ca(){ys.makeCurrent(),K.init()},multi:!0},{provide:be,useFactory:function ch(){return(0,h.RDi)(document),document},deps:[]}]),uu=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function bs(){return new h.qLn},deps:[]},{provide:we,useClass:Cl,multi:!0,deps:[be,h.R0b,h.Lbi]},{provide:we,useClass:Es,multi:!0,deps:[be]},{provide:uo,useClass:uo,deps:[Ge,cn,h.AFp]},{provide:h.FYo,useExisting:uo},{provide:It,useExisting:cn},{provide:cn,useClass:cn,deps:[be]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b]},{provide:Ge,useClass:Ge,deps:[we,h.R0b]},{provide:fr,useClass:Z,deps:[]}];let Tl=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:ti,useExisting:h.AFp},ua]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(n,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:uu,imports:[es,h.hGG]}),n})();"undefined"!=typeof window&&window;let xl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):h.LFG(hu),r},providedIn:"root"}),n})(),hu=(()=>{class n extends xl{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case h.q3G.NONE:return r;case h.q3G.HTML:return(0,h.qzn)(r,"HTML")?(0,h.z3N)(r):(0,h.EiD)(this._doc,String(r)).toString();case h.q3G.STYLE:return(0,h.qzn)(r,"Style")?(0,h.z3N)(r):r;case h.q3G.SCRIPT:if((0,h.qzn)(r,"Script"))return(0,h.z3N)(r);throw new Error("unsafe value used in a script context");case h.q3G.URL:return(0,h.yhl)(r),(0,h.qzn)(r,"URL")?(0,h.z3N)(r):(0,h.mCW)(String(r));case h.q3G.RESOURCE_URL:if((0,h.qzn)(r,"ResourceURL"))return(0,h.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,h.JVY)(t)}bypassSecurityTrustStyle(t){return(0,h.L6k)(t)}bypassSecurityTrustScript(t){return(0,h.eBb)(t)}bypassSecurityTrustUrl(t){return(0,h.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,h.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Wa(n){return new hu(n.get(be))}(h.LFG(h.zs3)),r},providedIn:"root"}),n})();var _r=$(8996),$s=$(8306);const{isArray:_h}=Array,{getPrototypeOf:Rl,prototype:pu,keys:gc}=Object;function da(n){if(1===n.length){const e=n[0];if(_h(e))return{args:e,keys:null};if(function fo(n){return n&&"object"==typeof n&&Rl(n)===pu}(e)){const t=gc(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Nl=$(8421),lr=$(7669),Mi=$(5403),gn=$(4004);const{isArray:kl}=Array;function Eh(n){return(0,gn.U)(e=>function fa(n,e){return kl(e)?n(...e):n(e)}(n,e))}function Pl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let xd=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),ws=(()=>{class n extends xd{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const pi=new h.OlP("NgValueAccessor"),ha={provide:pi,useExisting:(0,h.Gpc)(()=>ho),multi:!0};let ho=(()=>{class n extends ws{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&h.NdJ("change",function(l){return r.onChange(l.target.checked)})("blur",function(){return r.onTouched()})},features:[h._Bn([ha]),h.qOj]}),n})();const mu={provide:pi,useExisting:(0,h.Gpc)(()=>Cs),multi:!0},Rd=new h.OlP("CompositionEventMode");let Cs=(()=>{class n extends xd{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function qa(){const n=R()?R().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Rd,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[h._Bn([mu]),h.qOj]}),n})();const Qr=new h.OlP("NgValidators"),Lo=new h.OlP("NgAsyncValidators");function ma(n){return null!=n}function si(n){const e=(0,h.QGY)(n)?(0,_r.D)(n):n;return(0,h.CqO)(e),e}function _u(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function qs(n,e){return e.map(t=>t(n))}function vc(n){return n.map(e=>function Za(n){return!n.validate}(e)?e:t=>e.validate(t))}function ir(n){return null!=n?function kd(n){if(!n)return null;const e=n.filter(ma);return 0==e.length?null:function(t){return _u(qs(t,e))}}(vc(n)):null}function Eu(n){return null!=n?function Pd(n){if(!n)return null;const e=n.filter(ma);return 0==e.length?null:function(t){return function gu(...n){const e=(0,lr.jO)(n),{args:t,keys:r}=da(n),i=new $s.y(l=>{const{length:f}=t;if(!f)return void l.complete();const m=new Array(f);let E=f,C=f;for(let k=0;k<f;k++){let O=!1;(0,Nl.Xf)(t[k]).subscribe((0,Mi.x)(l,q=>{O||(O=!0,C--),m[k]=q},()=>E--,void 0,()=>{(!E||!O)&&(C||l.next(r?Pl(r,m):m),l.complete())}))}});return e?i.pipe(Eh(e)):i}(qs(t,e).map(si)).pipe((0,gn.U)(_u))}}(vc(n)):null}function Ah(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function bu(n){return n?Array.isArray(n)?n:[n]:[]}function yc(n,e){return Array.isArray(n)?n.includes(e):n===e}function Ds(n,e){const t=bu(e);return bu(n).forEach(i=>{yc(t,i)||t.push(i)}),t}function _c(n,e){return bu(e).filter(t=>!yc(n,t))}class Sr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ir(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Eu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ts extends Sr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Nr extends Sr{get formDirective(){return null}get path(){return null}}let oi=(()=>{class n extends class Fd{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Ts,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[h.qOj]}),n})();function Ya(n,e){(function Cu(n,e){const t=function go(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(Ah(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Od(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(Ah(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();va(e._rawValidators,i),va(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),function Ja(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Dc(n,e)})}(n,e),function Tc(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Du(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Dc(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function wu(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function va(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Dc(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Ea(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const ba="VALID",_o="INVALID",is="PENDING",el="DISABLED";function Tu(n){return(Aa(n)?n.validators:n)||null}function Su(n){return Array.isArray(n)?ir(n):n||null}function Fl(n,e){return(Aa(e)?e.asyncValidators:n)||null}function nl(n){return Array.isArray(n)?Eu(n):n||null}function Aa(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Iu=n=>n instanceof Vl;function Ho(n){return(n=>n instanceof Mu)(n)?n.value:n.getRawValue()}function Mc(n,e){const t=Iu(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new h.vHH(1e3,"");if(!r[e])throw new h.vHH(1001,"")}function Ch(n,e){Iu(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new h.vHH(1002,"")})}class Ll{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Su(this._rawValidators),this._composedAsyncValidatorFn=nl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ba}get invalid(){return this.status===_o}get pending(){return this.status==is}get disabled(){return this.status===el}get enabled(){return this.status!==el}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Su(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=nl(e)}addValidators(e){this.setValidators(Ds(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ds(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(_c(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(_c(e,this._rawAsyncValidators))}hasValidator(e){return yc(this._rawValidators,e)}hasAsyncValidator(e){return yc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=is,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=el,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ba,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ba||this.status===is)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?el:ba}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=is,this._hasOwnPendingAsyncValidator=!0;const t=si(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function tl(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=Iu(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof Dh)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?el:this.errors?_o:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(is)?is:this._anyControlsHaveStatus(_o)?_o:ba}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Aa(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Mu extends Ll{constructor(e=null,t,r){super(Tu(t),Fl(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Aa(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Ea(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Ea(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Vl extends Ll{constructor(e,t,r){super(Tu(t),Fl(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Ch(this,e),Object.keys(e).forEach(r=>{Mc(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=Ho(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,l)=>{r=t(r,i,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Dh extends Ll{constructor(e,t,r){super(Tu(t),Fl(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Ch(this,e),e.forEach((r,i)=>{Mc(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Ho(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const $d={provide:Ts,useExisting:(0,h.Gpc)(()=>jo)},Nu=(()=>Promise.resolve(null))();let jo=(()=>{class n extends Ts{constructor(t,r,i,l,f){super(),this._changeDetectorRef=f,this.control=new Mu,this._registered=!1,this.update=new h.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function _a(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(l=>{l.constructor===Cs?t=l:function Hd(n){return Object.getPrototypeOf(n.constructor)===ws}(l)?r=l:i=l}),i||r||t||null}(0,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function kr(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ya(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Nu.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;Nu.then(()=>{var l;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(l=this._changeDetectorRef)||void 0===l||l.markForCheck()})}_getPath(t){return this._parent?function Qa(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Nr,9),h.Y36(Qr,10),h.Y36(Lo,10),h.Y36(pi,10),h.Y36(h.sBO,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([$d]),h.qOj,h.TTD]}),n})();const Ih={provide:pi,useExisting:(0,h.Gpc)(()=>xc),multi:!0};let xc=(()=>{class n extends ws{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},features:[h._Bn([Ih]),h.qOj]}),n})(),ku=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})(),oy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[ku]]}),n})(),ay=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[oy]}),n})();class Jd{}const Ms="*";function Fh(n,e){return{type:7,name:n,definitions:e,options:{}}}function Ig(n,e=null){return{type:4,styles:e,timings:n}}function Lh(n,e=null){return{type:2,steps:n,options:e}}function $l(n){return{type:6,styles:n,offset:null}}function Xd(n,e,t){return{type:0,name:n,styles:e,options:t}}function Vh(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function ef(n){Promise.resolve(null).then(n)}class Vc{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){ef(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Mg{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const l=this.players.length;0==l?ef(()=>this._onFinish()):this.players.forEach(f=>{f.onDone(()=>{++t==l&&this._onFinish()}),f.onDestroy(()=>{++r==l&&this._onDestroy()}),f.onStart(()=>{++i==l&&this._onStart()})}),this.totalTime=this.players.reduce((f,m)=>Math.max(f,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const Gn=!1;function xg(n){return new h.vHH(3e3,Gn)}function nf(){return"undefined"!=typeof window&&void 0!==window.document}function Uu(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ca(n){switch(n.length){case 0:return new Vc;case 1:return n[0];default:return new Mg(n)}}function Ng(n,e,t,r,i={},l={}){const f=[],m=[];let E=-1,C=null;if(r.forEach(k=>{const O=k.offset,q=O==E,J=q&&C||{};Object.keys(k).forEach(oe=>{let Me=oe,it=k[oe];if("offset"!==oe)switch(Me=e.normalizePropertyName(Me,f),it){case"!":it=i[oe];break;case Ms:it=l[oe];break;default:it=e.normalizeStyleValue(oe,Me,it,f)}J[Me]=it}),q||m.push(J),C=J,E=O}),f.length)throw function Yt(n){return new h.vHH(3502,Gn)}();return m}function Bc(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&kg(t,"start",n)));break;case"done":n.onDone(()=>r(t&&kg(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&kg(t,"destroy",n)))}}function kg(n,e,t){const r=t.totalTime,l=Hh(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),f=n._data;return null!=f&&(l._data=f),l}function Hh(n,e,t,r,i="",l=0,f){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:l,disabled:!!f}}function Ys(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function Pg(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let vy=(n,e)=>!1,wE=(n,e,t)=>[],yy=null;function Og(n){const e=n.parentNode||n.host;return e===yy?null:e}(Uu()||"undefined"!=typeof Element)&&(nf()?(yy=(()=>document.documentElement)(),vy=(n,e)=>{for(;e;){if(e===n)return!0;e=Og(e)}return!1}):vy=(n,e)=>n.contains(e),wE=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Hu=null,DE=!1;function jh(n){Hu||(Hu=function ZC(){return"undefined"!=typeof document?document.body:null}()||{},DE=!!Hu.style&&"WebkitAppearance"in Hu.style);let e=!0;return Hu.style&&!function CE(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Hu.style,!e&&DE&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Hu.style)),e}const _y=vy,Ey=wE;let Fg=(()=>{class n{validateStyleProperty(t){return jh(t)}matchesElement(t,r){return!1}containsElement(t,r){return _y(t,r)}getParentElement(t){return Og(t)}query(t,r,i){return Ey(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,l,f,m=[],E){return new Vc(i,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Lg=(()=>{class n{}return n.NOOP=new Fg,n})();const zh="ng-enter",$h="ng-leave",sf="ng-trigger",ju=".ng-trigger",SE="ng-animating",Bg=".ng-animating";function Uc(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:by(parseFloat(e[1]),e[2])}function by(n,e){return"s"===e?1e3*n:n}function Wh(n,e,t){return n.hasOwnProperty("duration")?n:function Ay(n,e,t){let i,l=0,f="";if("string"==typeof n){const m=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return e.push(xg()),{duration:0,delay:0,easing:""};i=by(parseFloat(m[1]),m[2]);const E=m[3];null!=E&&(l=by(parseFloat(E),m[4]));const C=m[5];C&&(f=C)}else i=n;if(!t){let m=!1,E=e.length;i<0&&(e.push(function dy(){return new h.vHH(3100,Gn)}()),m=!0),l<0&&(e.push(function fy(){return new h.vHH(3101,Gn)}()),m=!0),m&&e.splice(E,0,xg())}return{duration:i,delay:l,easing:f}}(n,e,t)}function Hc(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Wl(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Hc(n,t);return t}function IE(n,e,t){return t?e+":"+t+";":""}function wy(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=IE(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=IE(0,XC(t),n.style[t]));n.setAttribute("style",e)}function al(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=Gg(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),Uu()&&wy(n))}function jc(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=Gg(t);n.style[r]=""}),Uu()&&wy(n))}function Ns(n){return Array.isArray(n)?1==n.length?n[0]:Lh(n):n}const Ug=new RegExp("{{\\s*(.+?)\\s*}}","g");function ME(n){let e=[];if("string"==typeof n){let t;for(;t=Ug.exec(n);)e.push(t[1]);Ug.lastIndex=0}return e}function Hg(n,e,t){const r=n.toString(),i=r.replace(Ug,(l,f)=>{let m=e[f];return e.hasOwnProperty(f)||(t.push(function Rg(n){return new h.vHH(3003,Gn)}()),m=""),m.toString()});return i==r?n:i}function jg(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const JC=/-+([a-z0-9])/g;function Gg(n){return n.replace(JC,(...e)=>e[1].toUpperCase())}function XC(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function dn(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function hy(n){return new h.vHH(3004,Gn)}()}}function Cy(n,e){return window.getComputedStyle(n)[e]}function Dy(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function NE(n,e,t){if(":"==n[0]){const E=function Ty(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Ue(n){return new h.vHH(3016,Gn)}()),"* => *"}}(n,t);if("function"==typeof E)return void e.push(E);n=E}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Ne(n){return new h.vHH(3015,Gn)}()),e;const i=r[1],l=r[2],f=r[3];e.push(nD(i,f));"<"==l[0]&&!("*"==i&&"*"==f)&&e.push(nD(f,i))}(r,t,e)):t.push(n),t}const Sy=new Set(["true","1"]),Kh=new Set(["false","0"]);function nD(n,e){const t=Sy.has(n)||Kh.has(n),r=Sy.has(e)||Kh.has(e);return(i,l)=>{let f="*"==n||n==i,m="*"==e||e==l;return!f&&t&&"boolean"==typeof i&&(f=i?Sy.has(n):Kh.has(n)),!m&&r&&"boolean"==typeof l&&(m=l?Sy.has(e):Kh.has(e)),f&&m}}const $g=new RegExp("s*:selfs*,?","g");function Yh(n,e,t,r){return new Iy(n).build(e,t,r)}class Iy{constructor(e){this._driver=e}build(e,t,r){const i=new iD(t);this._resetContextStyleTimingState(i);const l=dn(this,Ns(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),l}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const l=[],f=[];return"@"==e.name.charAt(0)&&t.errors.push(function gy(){return new h.vHH(3006,Gn)}()),e.definitions.forEach(m=>{if(this._resetContextStyleTimingState(t),0==m.type){const E=m,C=E.name;C.toString().split(/\s*,\s*/).forEach(k=>{E.name=k,l.push(this.visitState(E,t))}),E.name=C}else if(1==m.type){const E=this.visitTransition(m,t);r+=E.queryCount,i+=E.depCount,f.push(E)}else t.errors.push(function my(){return new h.vHH(3007,Gn)}())}),{type:7,name:e.name,states:l,transitions:f,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const l=new Set,f=i||{};r.styles.forEach(m=>{if(qg(m)){const E=m;Object.keys(E).forEach(C=>{ME(E[C]).forEach(k=>{f.hasOwnProperty(k)||l.add(k)})})}}),l.size&&(jg(l.values()),t.errors.push(function d(n,e){return new h.vHH(3008,Gn)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=dn(this,Ns(e.animation),t);return{type:1,matchers:Dy(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:of(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>dn(this,r,t)),options:of(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const l=e.steps.map(f=>{t.currentTime=r;const m=dn(this,f,t);return i=Math.max(i,t.currentTime),m});return t.currentTime=i,{type:3,steps:l,options:of(e.options)}}visitAnimate(e,t){const r=function kE(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return My(Wh(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=My(0,0,"");return l.dynamic=!0,l.strValue=t,l}const i=Wh(t,e);return My(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,l=e.styles?e.styles:$l({});if(5==l.type)i=this.visitKeyframes(l,t);else{let f=e.styles,m=!1;if(!f){m=!0;const C={};r.easing&&(C.easing=r.easing),f=$l(C)}t.currentTime+=r.duration+r.delay;const E=this.visitStyle(f,t);E.isEmptyStep=m,i=E}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(f=>{"string"==typeof f?f==Ms?r.push(f):t.errors.push(function c(n){return new h.vHH(3002,Gn)}()):r.push(f)}):r.push(e.styles);let i=!1,l=null;return r.forEach(f=>{if(qg(f)){const m=f,E=m.easing;if(E&&(l=E,delete m.easing),!i)for(let C in m)if(m[C].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,l=t.currentTime;r&&l>0&&(l-=r.duration+r.delay),e.styles.forEach(f=>{"string"!=typeof f&&Object.keys(f).forEach(m=>{if(!this._driver.validateStyleProperty(m))return delete f[m],void t.unsupportedCSSPropertiesFound.add(m);const E=t.collectedStyles[t.currentQuerySelector],C=E[m];let k=!0;C&&(l!=i&&l>=C.startTime&&i<=C.endTime&&(t.errors.push(function v(n,e,t,r,i){return new h.vHH(3010,Gn)}()),k=!1),l=C.startTime),k&&(E[m]={startTime:l,endTime:i}),t.options&&function YC(n,e,t){const r=e.params||{},i=ME(n);i.length&&i.forEach(l=>{r.hasOwnProperty(l)||t.push(function Uh(n){return new h.vHH(3001,Gn)}())})}(f[m],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function A(){return new h.vHH(3011,Gn)}()),r;let l=0;const f=[];let m=!1,E=!1,C=0;const k=e.steps.map(at=>{const Et=this._makeStyleAst(at,t);let Pt=null!=Et.offset?Et.offset:function sD(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(qg(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(qg(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Et.styles),Tt=0;return null!=Pt&&(l++,Tt=Et.offset=Pt),E=E||Tt<0||Tt>1,m=m||Tt<C,C=Tt,f.push(Tt),Et});E&&t.errors.push(function I(){return new h.vHH(3012,Gn)}()),m&&t.errors.push(function N(){return new h.vHH(3200,Gn)}());const O=e.steps.length;let q=0;l>0&&l<O?t.errors.push(function V(){return new h.vHH(3202,Gn)}()):0==l&&(q=1/(O-1));const J=O-1,oe=t.currentTime,Me=t.currentAnimateTimings,it=Me.duration;return k.forEach((at,Et)=>{const Pt=q>0?Et==J?1:q*Et:f[Et],Tt=Pt*it;t.currentTime=oe+Me.delay+Tt,Me.duration=Tt,this._validateStyleAst(at,t),at.offset=Pt,r.styles.push(at)}),r}visitReference(e,t){return{type:8,animation:dn(this,Ns(e.animation),t),options:of(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:of(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:of(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[l,f]=function nx(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace($g,"")),n=n.replace(/@\*/g,ju).replace(/@\w+/g,t=>ju+"-"+t.substr(1)).replace(/:animating/g,Bg),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+l:l,Ys(t.collectedStyles,t.currentQuerySelector,{});const m=dn(this,Ns(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:l,limit:i.limit||0,optional:!!i.optional,includeSelf:f,animation:m,originalSelector:e.selector,options:of(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function z(){return new h.vHH(3013,Gn)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Wh(e.timings,t.errors,!0);return{type:12,animation:dn(this,Ns(e.animation),t),timings:r,options:null}}}class iD{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function qg(n){return!Array.isArray(n)&&"object"==typeof n}function of(n){return n?(n=Hc(n)).params&&(n.params=function rD(n){return n?Hc(n):null}(n.params)):n={},n}function My(n,e,t){return{duration:n,delay:e,easing:t}}function PE(n,e,t,r,i,l,f=null,m=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:l,totalTime:i+l,easing:f,subTimeline:m}}class Jh{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const xy=new RegExp(":enter","g"),ix=new RegExp(":leave","g");function FE(n,e,t,r,i,l={},f={},m,E,C=[]){return(new sx).buildKeyframes(n,e,t,r,i,l,f,m,E,C)}class sx{buildKeyframes(e,t,r,i,l,f,m,E,C,k=[]){C=C||new Jh;const O=new LE(e,t,C,i,l,k,[]);O.options=E,O.currentTimeline.setStyles([f],null,O.errors,E),dn(this,r,O);const q=O.timelines.filter(J=>J.containsAnimation());if(Object.keys(m).length){let J;for(let oe=q.length-1;oe>=0;oe--){const Me=q[oe];if(Me.element===t){J=Me;break}}J&&!J.allowOnlyTimelineStyles()&&J.setStyles([m],null,O.errors,E)}return q.length?q.map(J=>J.buildKeyframes()):[PE(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),l=t.currentTimeline.currentTime,f=this._visitSubInstructions(r,i,i.options);l!=f&&t.transformIntoNewTimeline(f)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let l=t.currentTimeline.currentTime;const f=null!=r.duration?Uc(r.duration):null,m=null!=r.delay?Uc(r.delay):null;return 0!==f&&e.forEach(E=>{const C=t.appendInstructionToTimeline(E,f,m);l=Math.max(l,C.duration+C.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),dn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const l=e.options;if(l&&(l.params||l.delay)&&(i=t.createSubContext(l),i.transformIntoNewTimeline(),null!=l.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Ry);const f=Uc(l.delay);i.delayNextStep(f)}e.steps.length&&(e.steps.forEach(f=>dn(this,f,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?Uc(e.options.delay):0;e.steps.forEach(f=>{const m=t.createSubContext(e.options);l&&m.delayNextStep(l),dn(this,f,m),i=Math.max(i,m.currentTimeline.currentTime),r.push(m.currentTimeline)}),r.forEach(f=>t.currentTimeline.mergeTimelineCollectedStyles(f)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Wh(t.params?Hg(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(r.duration),this.visitStyle(l,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const l=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(l):r.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,l=r.duration,m=t.createSubContext().currentTimeline;m.easing=r.easing,e.styles.forEach(E=>{m.forwardTime((E.offset||0)*l),m.setStyles(E.styles,E.easing,t.errors,t.options),m.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(m),t.transformIntoNewTimeline(i+l),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},l=i.delay?Uc(i.delay):0;l&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ry);let f=r;const m=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=m.length;let E=null;m.forEach((C,k)=>{t.currentQueryIndex=k;const O=t.createSubContext(e.options,C);l&&O.delayNextStep(l),C===t.element&&(E=O.currentTimeline),dn(this,e.animation,O),O.currentTimeline.applyStylesToKeyframe(),f=Math.max(f,O.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(f),E&&(t.currentTimeline.mergeTimelineCollectedStyles(E),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,l=e.timings,f=Math.abs(l.duration),m=f*(t.currentQueryTotal-1);let E=f*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":E=m-E;break;case"full":E=r.currentStaggerTime}const k=t.currentTimeline;E&&k.delayNextStep(E);const O=k.currentTime;dn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-O+(i.startTime-r.currentTimeline.startTime)}}const Ry={};class LE{constructor(e,t,r,i,l,f,m,E){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=l,this.errors=f,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ry,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=E||new Ny(this._driver,t,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Uc(r.duration)),null!=r.delay&&(i.delay=Uc(r.delay));const l=r.params;if(l){let f=i.params;f||(f=this.options.params={}),Object.keys(l).forEach(m=>{(!t||!f.hasOwnProperty(m))&&(f[m]=Hg(l[m],f,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,l=new LE(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=Ry,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},l=new ox(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(l),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,l,f){let m=[];if(i&&m.push(this.element),e.length>0){e=(e=e.replace(xy,"."+this._enterClassName)).replace(ix,"."+this._leaveClassName);let C=this._driver.query(this.element,e,1!=r);0!==r&&(C=r<0?C.slice(C.length+r,C.length):C.slice(0,r)),m.push(...C)}return!l&&0==m.length&&f.push(function X(n){return new h.vHH(3014,Gn)}()),m}}class Ny{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Ny(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Ms,this._currentKeyframe[t]=Ms}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const l=i&&i.params||{},f=function ax(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(l=>{t[l]=Ms})):Wl(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(f).forEach(m=>{const E=Hg(f[m],l,r);this._pendingStyles[m]=E,this._localTimelineStyles.hasOwnProperty(m)||(this._backFill[m]=this._globalTimelineStyles.hasOwnProperty(m)?this._globalTimelineStyles[m]:Ms),this._updateStyle(m,E)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((m,E)=>{const C=Wl(m,!0);Object.keys(C).forEach(k=>{const O=C[k];"!"==O?e.add(k):O==Ms&&t.add(k)}),r||(C.offset=E/this.duration),i.push(C)});const l=e.size?jg(e.values()):[],f=t.size?jg(t.values()):[];if(r){const m=i[0],E=Hc(m);m.offset=0,E.offset=1,i=[m,E]}return PE(this.element,i,l,f,this.duration,this.startTime,this.easing,!1)}}class ox extends Ny{constructor(e,t,r,i,l,f,m=!1){super(e,t,f.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=l,this._stretchStartingKeyframe=m,this.timings={duration:f.duration,delay:f.delay,easing:f.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],f=r+t,m=t/f,E=Wl(e[0],!1);E.offset=0,l.push(E);const C=Wl(e[0],!1);C.offset=aD(m),l.push(C);const k=e.length-1;for(let O=1;O<=k;O++){let q=Wl(e[O],!1);q.offset=aD((t+q.offset*r)/f),l.push(q)}r=f,t=0,i="",e=l}return PE(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function aD(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Xh{}class VE extends Xh{normalizePropertyName(e,t){return Gg(e)}normalizeStyleValue(e,t,r,i){let l="";const f=r.toString().trim();if(ky[t]&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const m=r.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&i.push(function py(n,e){return new h.vHH(3005,Gn)}())}return f+l}}const ky=(()=>function BE(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Zg(n,e,t,r,i,l,f,m,E,C,k,O,q){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:l,toState:r,toStyles:f,timelines:m,queriedElements:E,preStyleProps:C,postStyleProps:k,totalTime:O,errors:q}}const Py={};class ql{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function UE(n,e,t,r,i){return n.some(l=>l(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],l=this._stateStyles[e],f=i?i.buildStyles(t,r):{};return l?l.buildStyles(t,r):f}build(e,t,r,i,l,f,m,E,C,k){const O=[],q=this.ast.options&&this.ast.options.params||Py,oe=this.buildStyles(r,m&&m.params||Py,O),Me=E&&E.params||Py,it=this.buildStyles(i,Me,O),at=new Set,Et=new Map,Pt=new Map,Tt="void"===i,vn={params:Object.assign(Object.assign({},q),Me)},mn=k?[]:FE(e,t,this.ast.animation,l,f,oe,it,vn,C,O);let jn=0;if(mn.forEach(Io=>{jn=Math.max(Io.duration+Io.delay,jn)}),O.length)return Zg(t,this._triggerName,r,i,Tt,oe,it,[],[],Et,Pt,jn,O);mn.forEach(Io=>{const Mo=Io.element,pg=Ys(Et,Mo,{});Io.preStyleProps.forEach(gd=>pg[gd]=!0);const ea=Ys(Pt,Mo,{});Io.postStyleProps.forEach(gd=>ea[gd]=!0),Mo!==t&&at.add(Mo)});const zn=jg(at.values());return Zg(t,this._triggerName,r,i,Tt,oe,it,mn,zn,Et,Pt,jn)}}class lD{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=Hc(this.defaultParams);return Object.keys(e).forEach(l=>{const f=e[l];null!=f&&(i[l]=f)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const f=l;Object.keys(f).forEach(m=>{let E=f[m];E.length>1&&(E=Hg(E,i,t));const C=this.normalizer.normalizePropertyName(m,t);E=this.normalizer.normalizeStyleValue(m,C,E,t),r[C]=E})}}),r}}class uD{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new lD(i.style,i.options&&i.options.params||{},r)}),jE(this.states,"true","1"),jE(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new ql(e,i,this.states))}),this.fallbackTransition=function HE(n,e,t){return new ql(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(f,m)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(f=>f.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function jE(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const cD=new Jh;class ep{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],l=Yh(this._driver,t,r,[]);if(r.length)throw function ln(n){return new h.vHH(3503,Gn)}();this._animations[e]=l}_buildPlayer(e,t,r){const i=e.element,l=Ng(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],l=this._animations[e];let f;const m=new Map;if(l?(f=FE(this._driver,t,l,zh,$h,{},{},r,cD,i),f.forEach(k=>{const O=Ys(m,k.element,{});k.postStyleProps.forEach(q=>O[q]=null)})):(i.push(function kt(){return new h.vHH(3300,Gn)}()),f=[]),i.length)throw function nr(n){return new h.vHH(3504,Gn)}();m.forEach((k,O)=>{Object.keys(k).forEach(q=>{k[q]=this._driver.computeStyle(O,q,Ms)})});const C=Ca(f.map(k=>{const O=m.get(k.element);return this._buildPlayer(k,{},O)}));return this._playersById[e]=C,C.onDestroy(()=>this.destroy(e)),this.players.push(C),C}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function Mr(n){return new h.vHH(3301,Gn)}();return t}listen(e,t,r,i){const l=Hh(t,"","","");return Bc(this._getPlayer(e),r,l,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const l=this._getPlayer(e);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const zc="ng-animate-queued",Gu="ng-animate-disabled",GE=[],Ly={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Vy={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Js="__ng_removed";class Kg{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function fD(n){return null!=n?n:null}(r?e.value:e),r){const l=Hc(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const zu="void",By=new Kg(zu);class zE{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Wo(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function $r(n,e){return new h.vHH(3302,Gn)}();if(null==r||0==r.length)throw function Wr(n){return new h.vHH(3303,Gn)}();if(!function hD(n){return"start"==n||"done"==n}(r))throw function qr(n,e){return new h.vHH(3400,Gn)}();const l=Ys(this._elementListeners,e,[]),f={name:t,phase:r,callback:i};l.push(f);const m=Ys(this._engine.statesByElement,e,{});return m.hasOwnProperty(t)||(Wo(e,sf),Wo(e,sf+"-"+t),m[t]=By),()=>{this._engine.afterFlush(()=>{const E=l.indexOf(f);E>=0&&l.splice(E,1),this._triggers[t]||delete m[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function ss(n){return new h.vHH(3401,Gn)}();return t}trigger(e,t,r,i=!0){const l=this._getTrigger(t),f=new Qg(this.id,t,e);let m=this._engine.statesByElement.get(e);m||(Wo(e,sf),Wo(e,sf+"-"+t),this._engine.statesByElement.set(e,m={}));let E=m[t];const C=new Kg(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&E&&C.absorbOptions(E.options),m[t]=C,E||(E=By),C.value!==zu&&E.value===C.value){if(!function gD(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const l=t[i];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(E.params,C.params)){const Me=[],it=l.matchStyles(E.value,E.params,Me),at=l.matchStyles(C.value,C.params,Me);Me.length?this._engine.reportError(Me):this._engine.afterFlush(()=>{jc(e,it),al(e,at)})}return}const q=Ys(this._engine.playersByElement,e,[]);q.forEach(Me=>{Me.namespaceId==this.id&&Me.triggerName==t&&Me.queued&&Me.destroy()});let J=l.matchTransition(E.value,C.value,e,C.params),oe=!1;if(!J){if(!i)return;J=l.fallbackTransition,oe=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:J,fromState:E,toState:C,player:f,isFallbackTransition:oe}),oe||(Wo(e,zc),f.onStart(()=>{rp(e,zc)})),f.onDone(()=>{let Me=this.players.indexOf(f);Me>=0&&this.players.splice(Me,1);const it=this._engine.playersByElement.get(e);if(it){let at=it.indexOf(f);at>=0&&it.splice(at,1)}}),this.players.push(f),q.push(f),f}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,ju,!0);r.forEach(i=>{if(i[Js])return;const l=this._engine.fetchNamespacesByElement(i);l.size?l.forEach(f=>f.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const l=this._engine.statesByElement.get(e),f=new Map;if(l){const m=[];if(Object.keys(l).forEach(E=>{if(f.set(E,l[E].value),this._triggers[E]){const C=this.trigger(e,E,zu,i);C&&m.push(C)}}),m.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,f),r&&Ca(m).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(l=>{const f=l.name;if(i.has(f))return;i.add(f);const E=this._triggers[f].fallbackTransition,C=r[f]||By,k=new Kg(zu),O=new Qg(this.id,f,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:f,transition:E,fromState:C,toState:k,player:O,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(e):[];if(l&&l.length)i=!0;else{let f=e;for(;f=f.parentNode;)if(r.statesByElement.get(f)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const l=e[Js];(!l||l===Ly)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Wo(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const l=r.element,f=this._elementListeners.get(l);f&&f.forEach(m=>{if(m.name==r.triggerName){const E=Hh(l,r.triggerName,r.fromState.value,r.toState.value);E._data=e,Bc(r.player,m.phase,E,m.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const l=r.transition.ast.depCount,f=i.transition.ast.depCount;return 0==l||0==f?l-f:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class ux{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new zE(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,l=r.length-1;if(l>=0){let f=!1;if(void 0!==this.driver.getParentElement){let m=this.driver.getParentElement(t);for(;m;){const E=i.get(m);if(E){const C=r.indexOf(E);r.splice(C+1,0,e),f=!0;break}m=this.driver.getParentElement(m)}}else for(let m=l;m>=0;m--)if(this.driver.containsElement(r[m].hostElement,t)){r.splice(m+1,0,e),f=!0;break}f||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let l=0;l<i.length;l++){const f=r[i[l]].namespaceId;if(f){const m=this._fetchNamespace(f);m&&t.add(m)}}}return t}trigger(e,t,r,i){if(np(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!np(t))return;const l=t[Js];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const f=this.collectedLeaveElements.indexOf(t);f>=0&&this.collectedLeaveElements.splice(f,1)}if(e){const f=this._fetchNamespace(e);f&&f.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Wo(e,Gu)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),rp(e,Gu))}removeNode(e,t,r,i){if(np(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const f=this.namespacesByHostElement.get(t);f&&f.id!==e&&f.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,l){this.collectedLeaveElements.push(t),t[Js]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:l}}listen(e,t,r,i,l){return np(t)?this._fetchNamespace(e).listen(t,r,i,l):()=>{}}_buildInstruction(e,t,r,i,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,ju,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Bg,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ca(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[Js];if(r&&r.setForRemoval){if(e[Js]=Ly,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(Gu))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Wo(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Ca(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function xs(n){return new h.vHH(3402,Gn)}()}_flushAnimations(e,t){const r=new Jh,i=[],l=new Map,f=[],m=new Map,E=new Map,C=new Map,k=new Set;this.disabledNodes.forEach(sn=>{k.add(sn);const En=this.driver.query(sn,".ng-animate-queued",!0);for(let Pn=0;Pn<En.length;Pn++)k.add(En[Pn])});const O=this.bodyNode,q=Array.from(this.statesByElement.keys()),J=qE(q,this.collectedEnterElements),oe=new Map;let Me=0;J.forEach((sn,En)=>{const Pn=zh+Me++;oe.set(En,Pn),sn.forEach(pr=>Wo(pr,Pn))});const it=[],at=new Set,Et=new Set;for(let sn=0;sn<this.collectedLeaveElements.length;sn++){const En=this.collectedLeaveElements[sn],Pn=En[Js];Pn&&Pn.setForRemoval&&(it.push(En),at.add(En),Pn.hasAnimation?this.driver.query(En,".ng-star-inserted",!0).forEach(pr=>at.add(pr)):Et.add(En))}const Pt=new Map,Tt=qE(q,Array.from(at));Tt.forEach((sn,En)=>{const Pn=$h+Me++;Pt.set(En,Pn),sn.forEach(pr=>Wo(pr,Pn))}),e.push(()=>{J.forEach((sn,En)=>{const Pn=oe.get(En);sn.forEach(pr=>rp(pr,Pn))}),Tt.forEach((sn,En)=>{const Pn=Pt.get(En);sn.forEach(pr=>rp(pr,Pn))}),it.forEach(sn=>{this.processLeaveNode(sn)})});const vn=[],mn=[];for(let sn=this._namespaceList.length-1;sn>=0;sn--)this._namespaceList[sn].drainQueuedTransitions(t).forEach(Pn=>{const pr=Pn.player,fs=Pn.element;if(vn.push(pr),this.collectedEnterElements.length){const xo=fs[Js];if(xo&&xo.setForMove){if(xo.previousTriggersValues&&xo.previousTriggersValues.has(Pn.triggerName)){const gg=xo.previousTriggersValues.get(Pn.triggerName),uh=this.statesByElement.get(Pn.element);uh&&uh[Pn.triggerName]&&(uh[Pn.triggerName].value=gg)}return void pr.destroy()}}const lc=!O||!this.driver.containsElement(O,fs),Fa=Pt.get(fs),lh=oe.get(fs),ui=this._buildInstruction(Pn,r,lh,Fa,lc);if(ui.errors&&ui.errors.length)return void mn.push(ui);if(lc)return pr.onStart(()=>jc(fs,ui.fromStyles)),pr.onDestroy(()=>al(fs,ui.toStyles)),void i.push(pr);if(Pn.isFallbackTransition)return pr.onStart(()=>jc(fs,ui.fromStyles)),pr.onDestroy(()=>al(fs,ui.toStyles)),void i.push(pr);const Zk=[];ui.timelines.forEach(xo=>{xo.stretchStartingKeyframe=!0,this.disabledNodes.has(xo.element)||Zk.push(xo)}),ui.timelines=Zk,r.append(fs,ui.timelines),f.push({instruction:ui,player:pr,element:fs}),ui.queriedElements.forEach(xo=>Ys(m,xo,[]).push(pr)),ui.preStyleProps.forEach((xo,gg)=>{const uh=Object.keys(xo);if(uh.length){let mg=E.get(gg);mg||E.set(gg,mg=new Set),uh.forEach(ex=>mg.add(ex))}}),ui.postStyleProps.forEach((xo,gg)=>{const uh=Object.keys(xo);let mg=C.get(gg);mg||C.set(gg,mg=new Set),uh.forEach(ex=>mg.add(ex))})});if(mn.length){const sn=[];mn.forEach(En=>{sn.push(function Qs(n,e){return new h.vHH(3505,Gn)}())}),vn.forEach(En=>En.destroy()),this.reportError(sn)}const jn=new Map,zn=new Map;f.forEach(sn=>{const En=sn.element;r.has(En)&&(zn.set(En,En),this._beforeAnimationBuild(sn.player.namespaceId,sn.instruction,jn))}),i.forEach(sn=>{const En=sn.element;this._getPreviousPlayers(En,!1,sn.namespaceId,sn.triggerName,null).forEach(pr=>{Ys(jn,En,[]).push(pr),pr.destroy()})});const Io=it.filter(sn=>Yg(sn,E,C)),Mo=new Map;Xs(Mo,this.driver,Et,C,Ms).forEach(sn=>{Yg(sn,E,C)&&Io.push(sn)});const ea=new Map;J.forEach((sn,En)=>{Xs(ea,this.driver,new Set(sn),E,"!")}),Io.forEach(sn=>{const En=Mo.get(sn),Pn=ea.get(sn);Mo.set(sn,Object.assign(Object.assign({},En),Pn))});const gd=[],_E=[],qk={};f.forEach(sn=>{const{element:En,player:Pn,instruction:pr}=sn;if(r.has(En)){if(k.has(En))return Pn.onDestroy(()=>al(En,pr.toStyles)),Pn.disabled=!0,Pn.overrideTotalTime(pr.totalTime),void i.push(Pn);let fs=qk;if(zn.size>1){let Fa=En;const lh=[];for(;Fa=Fa.parentNode;){const ui=zn.get(Fa);if(ui){fs=ui;break}lh.push(Fa)}lh.forEach(ui=>zn.set(ui,fs))}const lc=this._buildAnimation(Pn.namespaceId,pr,jn,l,ea,Mo);if(Pn.setRealPlayer(lc),fs===qk)gd.push(Pn);else{const Fa=this.playersByElement.get(fs);Fa&&Fa.length&&(Pn.parentPlayer=Ca(Fa)),i.push(Pn)}}else jc(En,pr.fromStyles),Pn.onDestroy(()=>al(En,pr.toStyles)),_E.push(Pn),k.has(En)&&i.push(Pn)}),_E.forEach(sn=>{const En=l.get(sn.element);if(En&&En.length){const Pn=Ca(En);sn.setRealPlayer(Pn)}}),i.forEach(sn=>{sn.parentPlayer?sn.syncPlayerEvents(sn.parentPlayer):sn.destroy()});for(let sn=0;sn<it.length;sn++){const En=it[sn],Pn=En[Js];if(rp(En,$h),Pn&&Pn.hasAnimation)continue;let pr=[];if(m.size){let lc=m.get(En);lc&&lc.length&&pr.push(...lc);let Fa=this.driver.query(En,Bg,!0);for(let lh=0;lh<Fa.length;lh++){let ui=m.get(Fa[lh]);ui&&ui.length&&pr.push(...ui)}}const fs=pr.filter(lc=>!lc.destroyed);fs.length?cx(this,En,fs):this.processLeaveNode(En)}return it.length=0,gd.forEach(sn=>{this.players.push(sn),sn.onDone(()=>{sn.destroy();const En=this.players.indexOf(sn);this.players.splice(En,1)}),sn.play()}),gd}elementContainsData(e,t){let r=!1;const i=t[Js];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,l){let f=[];if(t){const m=this.playersByQueriedElement.get(e);m&&(f=m)}else{const m=this.playersByElement.get(e);if(m){const E=!l||l==zu;m.forEach(C=>{C.queued||!E&&C.triggerName!=i||f.push(C)})}}return(r||i)&&(f=f.filter(m=>!(r&&r!=m.namespaceId||i&&i!=m.triggerName))),f}_beforeAnimationBuild(e,t,r){const l=t.element,f=t.isRemovalTransition?void 0:e,m=t.isRemovalTransition?void 0:t.triggerName;for(const E of t.timelines){const C=E.element,k=C!==l,O=Ys(r,C,[]);this._getPreviousPlayers(C,k,f,m,t.toState).forEach(J=>{const oe=J.getRealPlayer();oe.beforeDestroy&&oe.beforeDestroy(),J.destroy(),O.push(J)})}jc(l,t.fromStyles)}_buildAnimation(e,t,r,i,l,f){const m=t.triggerName,E=t.element,C=[],k=new Set,O=new Set,q=t.timelines.map(oe=>{const Me=oe.element;k.add(Me);const it=Me[Js];if(it&&it.removedBeforeQueried)return new Vc(oe.duration,oe.delay);const at=Me!==E,Et=function ZE(n){const e=[];return pD(n,e),e}((r.get(Me)||GE).map(jn=>jn.getRealPlayer())).filter(jn=>!!jn.element&&jn.element===Me),Pt=l.get(Me),Tt=f.get(Me),vn=Ng(0,this._normalizer,0,oe.keyframes,Pt,Tt),mn=this._buildPlayer(oe,vn,Et);if(oe.subTimeline&&i&&O.add(Me),at){const jn=new Qg(e,m,Me);jn.setRealPlayer(mn),C.push(jn)}return mn});C.forEach(oe=>{Ys(this.playersByQueriedElement,oe.element,[]).push(oe),oe.onDone(()=>function $E(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,oe.element,oe))}),k.forEach(oe=>Wo(oe,SE));const J=Ca(q);return J.onDestroy(()=>{k.forEach(oe=>rp(oe,SE)),al(E,t.toStyles)}),O.forEach(oe=>{Ys(i,oe,[]).push(J)}),J}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Vc(e.duration,e.delay)}}class Qg{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Vc,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>Bc(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ys(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function np(n){return n&&1===n.nodeType}function WE(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function Xs(n,e,t,r,i){const l=[];t.forEach(E=>l.push(WE(E)));const f=[];r.forEach((E,C)=>{const k={};E.forEach(O=>{const q=k[O]=e.computeStyle(C,O,i);(!q||0==q.length)&&(C[Js]=Vy,f.push(C))}),n.set(C,k)});let m=0;return t.forEach(E=>WE(E,l[m++])),f}function qE(n,e){const t=new Map;if(n.forEach(m=>t.set(m,[])),0==e.length)return t;const i=new Set(e),l=new Map;function f(m){if(!m)return 1;let E=l.get(m);if(E)return E;const C=m.parentNode;return E=t.has(C)?C:i.has(C)?1:f(C),l.set(m,E),E}return e.forEach(m=>{const E=f(m);1!==E&&t.get(E).push(m)}),t}function Wo(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function rp(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function cx(n,e,t){Ca(t).onDone(()=>n.processLeaveNode(e))}function pD(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Mg?pD(r.players,e):e.push(r)}}function Yg(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(l=>i.add(l)):e.set(n,r),t.delete(n),!0}class ip{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,l)=>{},this._transitionEngine=new ux(e,t,r),this._timelineEngine=new ep(e,t,r),this._transitionEngine.onRemovalComplete=(i,l)=>this.onRemovalComplete(i,l)}registerTrigger(e,t,r,i,l){const f=e+"-"+i;let m=this._triggerCache[f];if(!m){const E=[],k=Yh(this._driver,l,E,[]);if(E.length)throw function wt(n,e){return new h.vHH(3404,Gn)}();m=function Oy(n,e,t){return new uD(n,e,t)}(i,k,this._normalizer),this._triggerCache[f]=m}this._transitionEngine.registerTrigger(t,i,m)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[l,f]=Pg(r);this._timelineEngine.command(l,t,f,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,l){if("@"==r.charAt(0)){const[f,m]=Pg(r);return this._timelineEngine.listen(f,t,m,l)}return this._transitionEngine.listen(e,t,r,i,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let vD=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&al(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(al(this._element,this._initialStyles),this._endStyles&&(al(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(jc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(jc(this._element,this._endStyles),this._endStyles=null),al(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Uy(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];KE(i)&&(e=e||{},e[i]=n[i])}return e}function KE(n){return"display"===n||"position"===n}class QE{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:Cy(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class YE{validateStyleProperty(e){return jh(e)}matchesElement(e,t){return!1}containsElement(e,t){return _y(e,t)}getParentElement(e){return Og(e)}query(e,t,r){return Ey(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,l,f=[]){const E={duration:r,delay:i,fill:0==i?"both":"forwards"};l&&(E.easing=l);const C={},k=f.filter(q=>q instanceof QE);(function eD(n,e){return 0===n||0===e})(r,i)&&k.forEach(q=>{let J=q.currentSnapshot;Object.keys(J).forEach(oe=>C[oe]=J[oe])}),t=function tD(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let l=e[0],f=[];if(r.forEach(m=>{l.hasOwnProperty(m)||f.push(m),l[m]=t[m]}),f.length)for(var i=1;i<e.length;i++){let m=e[i];f.forEach(function(E){m[E]=Cy(n,E)})}}return e}(e,t=t.map(q=>Wl(q,!1)),C);const O=function mD(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Uy(e[0]),e.length>1&&(r=Uy(e[e.length-1]))):e&&(t=Uy(e)),t||r?new vD(n,t,r):null}(e,t);return new QE(e,t,E,O)}}let yD=(()=>{class n extends Jd{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?Lh(t):t;return Hy(this._renderer,null,r,"register",[i]),new _D(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class _D extends class Ei{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new JE(this._id,e,t||{},this._renderer)}}class JE{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Hy(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function Hy(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const Ta="@.disabled";let jy=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,f)=>{const m=null==f?void 0:f.parentNode(l);m&&f.removeChild(m,l)}}createRenderer(t,r){const l=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let k=this._rendererCache.get(l);return k||(k=new XE("",l,this.engine),this._rendererCache.set(l,k)),k}const f=r.id,m=r.id+"-"+this._currentId;this._currentId++,this.engine.register(m,t);const E=k=>{Array.isArray(k)?k.forEach(E):this.engine.registerTrigger(f,m,t,k.name,k)};return r.data.animation.forEach(E),new ED(this,m,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[f,m]=l;f(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.FYo),h.LFG(ip),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class XE{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==Ta?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class ED extends XE{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Ta?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function dx(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.substr(1),f="";return"@"!=l.charAt(0)&&([l,f]=function eb(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(l)),this.engine.listen(this.namespaceId,i,l,f,m=>{this.factory.scheduleListenerCallback(m._data||-1,r,m)})}return this.delegate.listen(e,t,r)}}let bD=(()=>{class n extends ip{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be),h.LFG(Lg),h.LFG(Xh))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Xg=new h.OlP("AnimationModuleType"),tb=[{provide:Jd,useClass:yD},{provide:Xh,useFactory:function AD(){return new VE}},{provide:ip,useClass:bD},{provide:h.FYo,useFactory:function wD(n,e,t){return new jy(n,e,t)},deps:[uo,ip,h.R0b]}],nb=[{provide:Lg,useFactory:()=>new YE},{provide:Xg,useValue:"BrowserAnimations"},...tb],em=[{provide:Lg,useClass:Fg},{provide:Xg,useValue:"NoopAnimations"},...tb];let Gy=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?em:nb}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:nb,imports:[Tl]}),n})();function An(...n){const e=(0,lr.yG)(n);return(0,_r.D)(n,e)}var ai=$(7579);class qo extends ai.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var tm=$(4671),hx=$(9672);function rb(n,e,t){n?(0,hx.f)(t,n,e):e()}var nm=$(576);function sp(n,e){const t=(0,nm.m)(n)?n:()=>n,r=i=>i.error(t());return new $s.y(e?i=>e.schedule(r,0,i):r)}const op=(0,$(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ap=$(8189);function lf(...n){return function Zl(){return(0,ap.J)(1)}()((0,_r.D)(n,(0,lr.yG)(n)))}function sb(n){return new $s.y(e=>{(0,Nl.Xf)(n()).subscribe(e)})}var uf=$(515),CD=$(727),ks=$(4482);function $y(){return(0,ks.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Mi.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,l=t;t=null,i&&(!l||i===l)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Wy extends $s.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ks.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new CD.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Mi.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=CD.w0.EMPTY)}return e}refCount(){return $y()(this)}}function bi(n,e){return(0,ks.e)((t,r)=>{let i=null,l=0,f=!1;const m=()=>f&&!i&&r.complete();t.subscribe((0,Mi.x)(r,E=>{null==i||i.unsubscribe();let C=0;const k=l++;(0,Nl.Xf)(n(E,k)).subscribe(i=(0,Mi.x)(r,O=>r.next(e?e(E,O,k,C++):O),()=>{i=null,m()}))},()=>{f=!0,m()}))})}var qy=$(5698);function cf(...n){const e=(0,lr.yG)(n);return(0,ks.e)((t,r)=>{(e?lf(n,t,e):lf(n,t)).subscribe(r)})}function ob(n,e,t,r,i){return(l,f)=>{let m=t,E=e,C=0;l.subscribe((0,Mi.x)(f,k=>{const O=C++;E=m?n(E,k,O):(m=!0,k),r&&f.next(E)},i&&(()=>{m&&f.next(E),f.complete()})))}}function df(n,e){return(0,ks.e)(ob(n,e,arguments.length>=2,!0))}function Zo(n,e){return(0,ks.e)((t,r)=>{let i=0;t.subscribe((0,Mi.x)(r,l=>n.call(e,l,i++)&&r.next(l)))})}function $u(n){return(0,ks.e)((e,t)=>{let l,r=null,i=!1;r=e.subscribe((0,Mi.x)(t,void 0,void 0,f=>{l=(0,Nl.Xf)(n(f,$u(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,l.subscribe(t))})}var Ni=$(5577);function ff(n,e){return(0,nm.m)(e)?(0,Ni.z)(n,e,1):(0,Ni.z)(n,1)}function Zy(n){return n<=0?()=>uf.E:(0,ks.e)((e,t)=>{let r=[];e.subscribe((0,Mi.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Ky(n=hf){return(0,ks.e)((e,t)=>{let r=!1;e.subscribe((0,Mi.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function hf(){return new op}function Qy(n){return(0,ks.e)((e,t)=>{let r=!1;e.subscribe((0,Mi.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function $c(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Zo((i,l)=>n(i,l,r)):tm.y,(0,qy.q)(1),t?Qy(e):Ky(()=>new op))}var ki=$(8505);class Kl{constructor(e,t){this.id=e,this.url=t}}class Yy extends Kl{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class pf extends Kl{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Sa extends Kl{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jy extends Kl{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ab extends Kl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lb extends Kl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ub extends Kl{constructor(e,t,r,i,l){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class cb extends Kl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class SD extends Kl{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class db{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fb{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ID{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hb{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gx{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pb{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gb{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Kn="primary";class mx{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function lp(n){return new mx(n)}const rm="ngNavigationCancelingError";function Xy(n){const e=Error("NavigationCancelingError: "+n);return e[rm]=!0,e}function vb(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let l=0;l<r.length;l++){const f=r[l],m=n[l];if(f.startsWith(":"))i[f.substring(1)]=m;else if(f!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function gi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let l=0;l<t.length;l++)if(i=t[l],!MD(n[i],e[i]))return!1;return!0}function MD(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,l)=>r[l]===i)}return n===e}function xD(n){return Array.prototype.concat.apply([],n)}function e_(n){return n.length>0?n[n.length-1]:null}function Pi(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ll(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,_r.D)(Promise.resolve(n)):An(n)}const yb={exact:function Eb(n,e,t){if(!Ia(n.segments,e.segments)||!sm(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Eb(n.children[r],e.children[r],t))return!1;return!0},subset:bb},im={exact:function t_(n,e){return gi(n,e)},subset:function ND(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>MD(n[t],e[t]))},ignored:()=>!0};function _b(n,e,t){return yb[t.paths](n.root,e.root,t.matrixParams)&&im[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function bb(n,e,t){return Ab(n,e,e.segments,t)}function Ab(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Ia(i,t)||e.hasChildren()||!sm(i,t,r))}if(n.segments.length===t.length){if(!Ia(n.segments,t)||!sm(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!bb(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(Ia(n.segments,i)&&sm(n.segments,i,r)&&n.children[Kn])&&Ab(n.children[Kn],e,l,r)}}function sm(n,e,t){return e.every((r,i)=>im[t](n[i].parameters,r.parameters))}class Wc{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lp(this.queryParams)),this._queryParamMap}toString(){return cl.serialize(this)}}class Wn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Pi(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wu(this)}}class ul{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=lp(this.parameters)),this._parameterMap}toString(){return Kc(this)}}function Ia(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class wb{}class om{parse(e){const t=new Tb(e);return new Wc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${mi(e.root,!0)}`,r=function mf(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${qc(t)}=${qc(i)}`).join("&"):`${qc(t)}=${qc(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Ko(n){return encodeURI(n)}(e.fragment)}`:""}`}}const cl=new om;function Wu(n){return n.segments.map(e=>Kc(e)).join("/")}function mi(n,e){if(!n.hasChildren())return Wu(n);if(e){const t=n.children[Kn]?mi(n.children[Kn],!1):"",r=[];return Pi(n.children,(i,l)=>{l!==Kn&&r.push(`${l}:${mi(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function PD(n,e){let t=[];return Pi(n.children,(r,i)=>{i===Kn&&(t=t.concat(e(r,i)))}),Pi(n.children,(r,i)=>{i!==Kn&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Kn?[mi(n.children[Kn],!1)]:[`${i}:${mi(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Kn]?`${Wu(n)}/${t[0]}`:`${Wu(n)}/(${t.join("//")})`}}function qu(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qc(n){return qu(n).replace(/%3B/gi,";")}function up(n){return qu(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ql(n){return decodeURIComponent(n)}function Zc(n){return Ql(n.replace(/\+/g,"%20"))}function Kc(n){return`${up(n.path)}${function gf(n){return Object.keys(n).map(e=>`;${up(e)}=${up(n[e])}`).join("")}(n.parameters)}`}const vf=/^[^\/()?;=#]+/;function Yl(n){const e=n.match(vf);return e?e[0]:""}const yf=/^[^=?&#]+/,Cb=/^[^&#]+/;class Tb{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Wn([],{}):new Wn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Kn]=new Wn(e,t)),r}parseSegment(){const e=Yl(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new ul(Ql(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Yl(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Yl(this.remaining);i&&(r=i,this.capture(r))}e[Ql(t)]=Ql(r)}parseQueryParam(e){const t=function _f(n){const e=n.match(yf);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const f=function Db(n){const e=n.match(Cb);return e?e[0]:""}(this.remaining);f&&(r=f,this.capture(r))}const i=Zc(t),l=Zc(r);if(e.hasOwnProperty(i)){let f=e[i];Array.isArray(f)||(f=[f],e[i]=f),f.push(l)}else e[i]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Yl(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Kn);const f=this.parseChildren();t[l]=1===Object.keys(f).length?f[Kn]:new Wn([],f),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class n_{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=am(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=am(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=lm(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return lm(e,this._root).map(t=>t.value)}}function am(n,e){if(n===e.value)return e;for(const t of e.children){const r=am(n,t);if(r)return r}return null}function lm(n,e){if(n===e.value)return[e];for(const t of e.children){const r=lm(n,t);if(r.length)return r.unshift(e),r}return[]}class dl{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Qc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class r_ extends n_{constructor(e,t){super(e),this.snapshot=t,cm(this,e)}toString(){return this.snapshot.toString()}}function Sb(n,e){const t=function Ib(n,e){const f=new um([],{},{},"",{},Kn,e,null,n.root,-1,{});return new Rb("",new dl(f,[]))}(n,e),r=new qo([new ul("",{})]),i=new qo({}),l=new qo({}),f=new qo({}),m=new qo(""),E=new Ef(r,i,f,m,l,Kn,e,t.root);return E.snapshot=t.root,new r_(new dl(E,[]),t)}class Ef{constructor(e,t,r,i,l,f,m,E){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=f,this.component=m,this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,gn.U)(e=>lp(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,gn.U)(e=>lp(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Mb(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],l=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(l.component)break;r--}}return function xb(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class um{constructor(e,t,r,i,l,f,m,E,C,k,O){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=f,this.component=m,this.routeConfig=E,this._urlSegment=C,this._lastPathIndex=k,this._resolve=O}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=lp(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=lp(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Rb extends n_{constructor(e,t){super(t),this.url=e,cm(this,t)}toString(){return Nb(this._root)}}function cm(n,e){e.value._routerState=n,e.children.forEach(t=>cm(n,t))}function Nb(n){const e=n.children.length>0?` { ${n.children.map(Nb).join(", ")} } `:"";return`${n.value}${e}`}function dm(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,gi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),gi(e.params,t.params)||n.params.next(t.params),function vx(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!gi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),gi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function i_(n,e){const t=gi(n.params,e.params)&&function kD(n,e){return Ia(n,e)&&n.every((t,r)=>gi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||i_(n.parent,e.parent))}function fm(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function FD(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return fm(n,r,i);return fm(n,r)})}(n,e,t);return new dl(r,i)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const f=l.route;return f.value._futureSnapshot=e.value,f.children=e.children.map(m=>fm(n,m)),f}}const r=function s_(n){return new Ef(new qo(n.url),new qo(n.params),new qo(n.queryParams),new qo(n.fragment),new qo(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(l=>fm(n,l));return new dl(r,i)}}function hm(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function pm(n){return"object"==typeof n&&null!=n&&n.outlets}function kb(n,e,t,r,i){let l={};if(r&&Pi(r,(m,E)=>{l[E]=Array.isArray(m)?m.map(C=>`${C}`):`${m}`}),n===e)return new Wc(t,l,i);const f=LD(n,e,t);return new Wc(f,l,i)}function LD(n,e,t){const r={};return Pi(n.children,(i,l)=>{r[l]=i===e?t:LD(i,e,t)}),new Wn(n.segments,r)}class Pb{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&hm(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(pm);if(i&&i!==e_(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fb{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function a_(n,e,t){if(n||(n=new Wn([],{})),0===n.segments.length&&n.hasChildren())return gm(n,e,t);const r=function Lb(n,e,t){let r=0,i=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return l;const f=n.segments[i],m=t[r];if(pm(m))break;const E=`${m}`,C=r<t.length-1?t[r+1]:null;if(i>0&&void 0===E)break;if(E&&C&&"object"==typeof C&&void 0===C.outlets){if(!Vb(E,C,f))return l;r+=2}else{if(!Vb(E,{},f))return l;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new Wn(n.segments.slice(0,r.pathIndex),{});return l.children[Kn]=new Wn(n.segments.slice(r.pathIndex),n.children),gm(l,0,i)}return r.match&&0===i.length?new Wn(n.segments,{}):r.match&&!n.hasChildren()?Af(n,e,t):r.match?gm(n,0,i):Af(n,e,t)}function gm(n,e,t){if(0===t.length)return new Wn(n.segments,{});{const r=function BD(n){return pm(n[0])?n[0].outlets:{[Kn]:n}}(t),i={};return Pi(r,(l,f)=>{"string"==typeof l&&(l=[l]),null!==l&&(i[f]=a_(n.children[f],e,l))}),Pi(n.children,(l,f)=>{void 0===r[f]&&(i[f]=l)}),new Wn(n.segments,i)}}function Af(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const l=t[i];if(pm(l)){const E=UD(l.outlets);return new Wn(r,E)}if(0===i&&hm(t[0])){r.push(new ul(n.segments[e].path,l_(t[0]))),i++;continue}const f=pm(l)?l.outlets[Kn]:`${l}`,m=i<t.length-1?t[i+1]:null;f&&m&&hm(m)?(r.push(new ul(f,l_(m))),i+=2):(r.push(new ul(f,{})),i++)}return new Wn(r,{})}function UD(n){const e={};return Pi(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Af(new Wn([],{}),0,t))}),e}function l_(n){const e={};return Pi(n,(t,r)=>e[r]=`${t}`),e}function Vb(n,e,t){return n==t.path&&gi(e,t.parameters)}class jD{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),dm(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Qc(t);e.children.forEach(l=>{const f=l.value.outlet;this.deactivateRoutes(l,i[f],r),delete i[f]}),Pi(i,(l,f)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(i===l)if(i.component){const f=r.getContext(i.outlet);f&&this.deactivateChildRoutes(e,t,f.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=Qc(e);for(const f of Object.keys(l))this.deactivateRouteAndItsChildren(l[f],i);if(r&&r.outlet){const f=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:f,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=Qc(e);for(const f of Object.keys(l))this.deactivateRouteAndItsChildren(l[f],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Qc(t);e.children.forEach(l=>{this.activateRoutes(l,i[l.value.outlet],r),this.forwardEvent(new pb(l.value.snapshot))}),e.children.length&&this.forwardEvent(new hb(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(dm(i),i===l)if(i.component){const f=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,f.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const f=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const m=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),f.children.onOutletReAttached(m.contexts),f.attachRef=m.componentRef,f.route=m.route.value,f.outlet&&f.outlet.attach(m.componentRef,m.route.value),dm(m.route.value),this.activateChildRoutes(e,null,f.children)}else{const m=function GD(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),E=m?m.module.componentFactoryResolver:null;f.attachRef=null,f.route=i,f.resolver=E,f.outlet&&f.outlet.activateWith(i,E),this.activateChildRoutes(e,null,f.children)}}else this.activateChildRoutes(e,null,r)}}class u_{constructor(e,t){this.routes=e,this.module=t}}function Jl(n){return"function"==typeof n}function Zu(n){return n instanceof Wc}const cp=Symbol("INITIAL_VALUE");function mm(){return bi(n=>function zy(...n){const e=(0,lr.yG)(n),t=(0,lr.jO)(n),{args:r,keys:i}=da(n);if(0===r.length)return(0,_r.D)([],e);const l=new $s.y(function px(n,e,t=tm.y){return r=>{rb(e,()=>{const{length:i}=n,l=new Array(i);let f=i,m=i;for(let E=0;E<i;E++)rb(e,()=>{const C=(0,_r.D)(n[E],e);let k=!1;C.subscribe((0,Mi.x)(r,O=>{l[E]=O,k||(k=!0,m--),m||r.next(t(l.slice()))},()=>{--f||r.complete()}))},r)},r)}}(r,e,i?f=>Pl(i,f):tm.y));return t?l.pipe(Eh(t)):l}(n.map(e=>e.pipe((0,qy.q)(1),cf(cp)))).pipe(df((e,t)=>{let r=!1;return t.reduce((i,l,f)=>i!==cp?i:(l===cp&&(r=!0),r||!1!==l&&f!==t.length-1&&!Zu(l)?i:l),e)},cp),Zo(e=>e!==cp),(0,gn.U)(e=>Zu(e)?e:!0===e),(0,qy.q)(1)))}class dp{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new wf,this.attachRef=null}}class wf{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new dp,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let fp=(()=>{class n{constructor(t,r,i,l,f){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.name=l||Kn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const f=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,E=new f_(t,m,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,E),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(wf),h.Y36(h.s_b),h.Y36(h._Vd),h.$8M("name"),h.Y36(h.sBO))},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class f_{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ef?this.route:e===wf?this.childContexts:this.parent.get(e,t)}}let Ub=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},directives:[fp],encapsulation:2}),n})();function hp(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];vm(r,h_(e,r))}}function vm(n,e){n.children&&hp(n.children,e)}function h_(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Hb(n){const e=n.children&&n.children.map(Hb),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Kn&&(t.component=Ub),t}function Qo(n){return n.outlet||Kn}function pp(n,e){const t=n.filter(r=>Qo(r)===e);return t.push(...n.filter(r=>Qo(r)!==e)),t}const gp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function mp(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},gp):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const l=(e.matcher||vb)(t,n,e);if(!l)return Object.assign({},gp);const f={};Pi(l.posParams,(E,C)=>{f[C]=E.path});const m=l.consumed.length>0?Object.assign(Object.assign({},f),l.consumed[l.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:l.consumed,remainingSegments:t.slice(l.consumed.length),parameters:m,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function vp(n,e,t,r,i="corrected"){if(t.length>0&&function Gb(n,e,t){return t.some(r=>yp(n,e,r)&&Qo(r)!==Kn)}(n,t,r)){const f=new Wn(e,function jb(n,e,t,r){const i={};i[Kn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&Qo(l)!==Kn){const f=new Wn([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,i[Qo(l)]=f}return i}(n,e,r,new Wn(t,n.children)));return f._sourceSegment=n,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:[]}}if(0===t.length&&function g_(n,e,t){return t.some(r=>yp(n,e,r))}(n,t,r)){const f=new Wn(n.segments,function p_(n,e,t,r,i,l){const f={};for(const m of r)if(yp(n,t,m)&&!i[Qo(m)]){const E=new Wn([],{});E._sourceSegment=n,E._segmentIndexShift="legacy"===l?n.segments.length:e.length,f[Qo(m)]=E}return Object.assign(Object.assign({},i),f)}(n,e,t,r,n.children,i));return f._sourceSegment=n,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:t}}const l=new Wn(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function yp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function zb(n,e,t,r){return!!(Qo(n)===r||r!==Kn&&yp(e,t,n))&&("**"===n.path||mp(e,n,t).matched)}function m_(n,e,t){return 0===e.length&&!n.children[t]}class _p{constructor(e){this.segmentGroup=e||null}}class ym{constructor(e){this.urlTree=e}}function Cf(n){return sp(new _p(n))}function $b(n){return sp(new ym(n))}class v_{constructor(e,t,r,i,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(h.h0i)}apply(){const e=vp(this.urlTree.root,[],[],this.config).segmentGroup,t=new Wn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Kn).pipe((0,gn.U)(l=>this.createUrlTree(_m(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe($u(l=>{if(l instanceof ym)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof _p?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Kn).pipe((0,gn.U)(i=>this.createUrlTree(_m(i),e.queryParams,e.fragment))).pipe($u(i=>{throw i instanceof _p?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Wn([],{[Kn]:e}):e;return new Wc(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,gn.U)(l=>new Wn([],l))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const l of Object.keys(r.children))"primary"===l?i.unshift(l):i.push(l);return(0,_r.D)(i).pipe(ff(l=>{const f=r.children[l],m=pp(t,l);return this.expandSegmentGroup(e,m,f,l).pipe((0,gn.U)(E=>({segment:E,outlet:l})))}),df((l,f)=>(l[f.outlet]=f.segment,l),{}),function DD(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Zo((i,l)=>n(i,l,r)):tm.y,Zy(1),t?Qy(e):Ky(()=>new op))}())}expandSegment(e,t,r,i,l,f){return(0,_r.D)(r).pipe(ff(m=>this.expandSegmentAgainstRoute(e,t,r,m,i,l,f).pipe($u(C=>{if(C instanceof _p)return An(null);throw C}))),$c(m=>!!m),$u((m,E)=>{if(m instanceof op||"EmptyError"===m.name)return m_(t,i,l)?An(new Wn([],{})):Cf(t);throw m}))}expandSegmentAgainstRoute(e,t,r,i,l,f,m){return zb(i,t,l,f)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,l,f):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,f):Cf(t):Cf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,f){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,f):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?$b(l):this.lineralizeSegments(r,l).pipe((0,Ni.z)(f=>{const m=new Wn(f,{});return this.expandSegment(e,m,t,f,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,f){const{matched:m,consumedSegments:E,remainingSegments:C,positionalParamSegments:k}=mp(t,i,l);if(!m)return Cf(t);const O=this.applyRedirectCommands(E,i.redirectTo,k);return i.redirectTo.startsWith("/")?$b(O):this.lineralizeSegments(i,O).pipe((0,Ni.z)(q=>this.expandSegment(e,t,r,q.concat(C),f,!1)))}matchSegmentAgainstRoute(e,t,r,i,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?An(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,gn.U)(O=>(r._loadedConfig=O,new Wn(i,{})))):An(new Wn(i,{}));const{matched:f,consumedSegments:m,remainingSegments:E}=mp(t,r,i);return f?this.getChildConfig(e,r,i).pipe((0,Ni.z)(k=>{const O=k.module,q=k.routes,{segmentGroup:J,slicedSegments:oe}=vp(t,m,E,q),Me=new Wn(J.segments,J.children);if(0===oe.length&&Me.hasChildren())return this.expandChildren(O,q,Me).pipe((0,gn.U)(Pt=>new Wn(m,Pt)));if(0===q.length&&0===oe.length)return An(new Wn(m,{}));const it=Qo(r)===l;return this.expandSegment(O,Me,q,oe,it?Kn:l,!0).pipe((0,gn.U)(Et=>new Wn(m.concat(Et.segments),Et.children)))})):Cf(t)}getChildConfig(e,t,r){return t.children?An(new u_(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?An(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Ni.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,gn.U)(l=>(t._loadedConfig=l,l))):function WD(n){return sp(Xy(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):An(new u_([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?An(i.map(f=>{const m=e.get(f);let E;if(function Bb(n){return n&&Jl(n.canLoad)}(m))E=m.canLoad(t,r);else{if(!Jl(m))throw new Error("Invalid CanLoad guard");E=m(t,r)}return ll(E)})).pipe(mm(),(0,ki.b)(f=>{if(!Zu(f))return;const m=Xy(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw m.url=f,m}),(0,gn.U)(f=>!0===f)):An(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return An(r);if(i.numberOfChildren>1||!i.children[Kn])return sp(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[Kn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const l=this.createSegmentGroup(e,t.root,r,i);return new Wc(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Pi(e,(i,l)=>{if("string"==typeof i&&i.startsWith(":")){const m=i.substring(1);r[l]=t[m]}else r[l]=i}),r}createSegmentGroup(e,t,r,i){const l=this.createSegments(e,t.segments,r,i);let f={};return Pi(t.children,(m,E)=>{f[E]=this.createSegmentGroup(e,m,r,i)}),new Wn(l,f)}createSegments(e,t,r,i){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,i):this.findOrReturn(l,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function _m(n){const e={};for(const r of Object.keys(n.children)){const l=_m(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function qb(n){if(1===n.numberOfChildren&&n.children[Kn]){const e=n.children[Kn];return new Wn(n.segments.concat(e.segments),e.children)}return n}(new Wn(n.segments,e))}class y_{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ep{constructor(e,t){this.component=e,this.route=t}}function Kb(n,e,t){const r=n._root;return Ap(r,e?e._root:null,t,[r.value])}function bp(n,e,t){const r=function Ex(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Ap(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=Qc(e);return n.children.forEach(f=>{(function qD(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,f=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(f&&l.routeConfig===f.routeConfig){const E=function Yb(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ia(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ia(n.url,e.url)||!gi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!i_(n,e)||!gi(n.queryParams,e.queryParams);default:return!i_(n,e)}}(f,l,l.routeConfig.runGuardsAndResolvers);E?i.canActivateChecks.push(new y_(r)):(l.data=f.data,l._resolvedData=f._resolvedData),Ap(n,e,l.component?m?m.children:null:t,r,i),E&&m&&m.outlet&&m.outlet.isActivated&&i.canDeactivateChecks.push(new Ep(m.outlet.component,f))}else f&&wp(e,m,i),i.canActivateChecks.push(new y_(r)),Ap(n,null,l.component?m?m.children:null:t,r,i)})(f,l[f.value.outlet],t,r.concat([f.value]),i),delete l[f.value.outlet]}),Pi(l,(f,m)=>wp(f,t.getContext(m),i)),i}function wp(n,e,t){const r=Qc(n),i=n.value;Pi(r,(l,f)=>{wp(l,i.component?e?e.children.getContext(f):null:e,t)}),t.canDeactivateChecks.push(new Ep(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Df{}function nA(n){return new $s.y(e=>e.error(n))}class rA{constructor(e,t,r,i,l,f){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=f}recognize(){const e=vp(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Kn);if(null===t)return null;const r=new um([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Kn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new dl(r,t),l=new Rb(this.url,i);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=Mb(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const f=t.children[l],m=pp(e,l),E=this.processSegmentGroup(m,f,l);if(null===E)return null;r.push(...E)}const i=Em(r);return function JD(n){n.sort((e,t)=>e.value.outlet===Kn?-1:t.value.outlet===Kn?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const l of e){const f=this.processSegmentAgainstRoute(l,t,r,i);if(null!==f)return f}return m_(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!zb(e,t,r,i))return null;let l,f=[],m=[];if("**"===e.path){const J=r.length>0?e_(r).parameters:{};l=new um(r,J,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,__(e),Qo(e),e.component,e,Ma(t),oA(t)+r.length,xa(e))}else{const J=mp(t,e,r);if(!J.matched)return null;f=J.consumedSegments,m=J.remainingSegments,l=new um(f,J.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,__(e),Qo(e),e.component,e,Ma(t),oA(t)+f.length,xa(e))}const E=function iA(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:C,slicedSegments:k}=vp(t,f,m,E.filter(J=>void 0===J.redirectTo),this.relativeLinkResolution);if(0===k.length&&C.hasChildren()){const J=this.processChildren(E,C);return null===J?null:[new dl(l,J)]}if(0===E.length&&0===k.length)return[new dl(l,[])];const O=Qo(e)===i,q=this.processSegment(E,C,k,O?Kn:i);return null===q?null:[new dl(l,q)]}}function bx(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Em(n){const e=[],t=new Set;for(const r of n){if(!bx(r)){e.push(r);continue}const i=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Em(r.children);e.push(new dl(r.value,i))}return e.filter(r=>!t.has(r))}function Ma(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function oA(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function __(n){return n.data||{}}function xa(n){return n.resolve||{}}function uA(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function E_(n){return bi(e=>{const t=n(e);return t?(0,_r.D)(t).pipe((0,gn.U)(()=>e)):An(e)})}class Cp extends class b_{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const A_=new h.OlP("ROUTES");class w_{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,gn.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const f=l.create(e);return new u_(xD(f.injector.get(A_,void 0,h.XFs.Self|h.XFs.Optional)).map(Hb),f)}),$u(l=>{throw t._loader$=void 0,l}));return t._loader$=new Wy(i,()=>new ai.x).pipe($y()),t._loader$}loadModuleFactory(e){return ll(e()).pipe((0,Ni.z)(t=>t instanceof h.YKP?An(t):(0,_r.D)(this.compiler.compileModuleAsync(t))))}}class cA{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function dA(n){throw n}function bm(n,e,t){return e.parse("/")}function fA(n,e){return An(null)}const hA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ps=(()=>{class n{constructor(t,r,i,l,f,m,E){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=l,this.config=E,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ai.x,this.errorHandler=dA,this.malformedUriErrorHandler=bm,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:fA,afterPreactivation:fA},this.urlHandlingStrategy=new cA,this.routeReuseStrategy=new Cp,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(h.h0i),this.console=f.get(h.c2e);const O=f.get(h.R0b);this.isNgZoneEnabled=O instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(E),this.currentUrlTree=function yx(){return new Wc(new Wn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new w_(f,m,q=>this.triggerEvent(new db(q)),q=>this.triggerEvent(new fb(q))),this.routerState=Sb(this.currentUrlTree,this.rootComponentType),this.transitions=new qo({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Zo(i=>0!==i.id),(0,gn.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),bi(i=>{let l=!1,f=!1;return An(i).pipe((0,ki.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),bi(m=>{const E=this.browserUrlTree.toString(),C=!this.navigated||m.extractedUrl.toString()!==E||E!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return C_(m.source)&&(this.browserUrlTree=m.extractedUrl),An(m).pipe(bi(O=>{const q=this.transitions.getValue();return r.next(new Yy(O.id,this.serializeUrl(O.extractedUrl),O.source,O.restoredState)),q!==this.transitions.getValue()?uf.E:Promise.resolve(O)}),function Zb(n,e,t,r){return bi(i=>function Wb(n,e,t,r,i){return new v_(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,gn.U)(l=>Object.assign(Object.assign({},i),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ki.b)(O=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:O.urlAfterRedirects})}),function Ra(n,e,t,r,i){return(0,Ni.z)(l=>function YD(n,e,t,r,i="emptyOnly",l="legacy"){try{const f=new rA(n,e,t,r,i,l).recognize();return null===f?nA(new Df):An(f)}catch(f){return nA(f)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,i).pipe((0,gn.U)(f=>Object.assign(Object.assign({},l),{targetSnapshot:f}))))}(this.rootComponentType,this.config,O=>this.serializeUrl(O),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ki.b)(O=>{if("eager"===this.urlUpdateStrategy){if(!O.extras.skipLocationChange){const J=this.urlHandlingStrategy.merge(O.urlAfterRedirects,O.rawUrl);this.setBrowserUrl(J,O)}this.browserUrlTree=O.urlAfterRedirects}const q=new ab(O.id,this.serializeUrl(O.extractedUrl),this.serializeUrl(O.urlAfterRedirects),O.targetSnapshot);r.next(q)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:q,extractedUrl:J,source:oe,restoredState:Me,extras:it}=m,at=new Yy(q,this.serializeUrl(J),oe,Me);r.next(at);const Et=Sb(J,this.rootComponentType).snapshot;return An(Object.assign(Object.assign({},m),{targetSnapshot:Et,urlAfterRedirects:J,extras:Object.assign(Object.assign({},it),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),uf.E}),E_(m=>{const{targetSnapshot:E,id:C,extractedUrl:k,rawUrl:O,extras:{skipLocationChange:q,replaceUrl:J}}=m;return this.hooks.beforePreactivation(E,{navigationId:C,appliedUrlTree:k,rawUrlTree:O,skipLocationChange:!!q,replaceUrl:!!J})}),(0,ki.b)(m=>{const E=new lb(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(E)}),(0,gn.U)(m=>Object.assign(Object.assign({},m),{guards:Kb(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function Ai(n,e){return(0,Ni.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:l,canDeactivateChecks:f}}=t;return 0===f.length&&0===l.length?An(Object.assign(Object.assign({},t),{guardsResult:!0})):function Jb(n,e,t,r){return(0,_r.D)(n).pipe((0,Ni.z)(i=>function tA(n,e,t,r,i){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?An(l.map(m=>{const E=bp(m,e,i);let C;if(function d_(n){return n&&Jl(n.canDeactivate)}(E))C=ll(E.canDeactivate(n,e,t,r));else{if(!Jl(E))throw new Error("Invalid CanDeactivate guard");C=ll(E(n,e,t,r))}return C.pipe($c())})).pipe(mm()):An(!0)}(i.component,i.route,t,e,r)),$c(i=>!0!==i,!0))}(f,r,i,n).pipe((0,Ni.z)(m=>m&&function zD(n){return"boolean"==typeof n}(m)?function ZD(n,e,t,r){return(0,_r.D)(e).pipe(ff(i=>lf(function Xb(n,e){return null!==n&&e&&e(new ID(n)),An(!0)}(i.route.parent,r),function KD(n,e){return null!==n&&e&&e(new gx(n)),An(!0)}(i.route,r),function eA(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(f=>function Qb(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(f)).filter(f=>null!==f).map(f=>sb(()=>An(f.guards.map(E=>{const C=bp(E,f.node,t);let k;if(function _x(n){return n&&Jl(n.canActivateChild)}(C))k=ll(C.canActivateChild(r,n));else{if(!Jl(C))throw new Error("Invalid CanActivateChild guard");k=ll(C(r,n))}return k.pipe($c())})).pipe(mm())));return An(l).pipe(mm())}(n,i.path,t),function QD(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return An(!0);const i=r.map(l=>sb(()=>{const f=bp(l,e,t);let m;if(function c_(n){return n&&Jl(n.canActivate)}(f))m=ll(f.canActivate(e,n));else{if(!Jl(f))throw new Error("Invalid CanActivate guard");m=ll(f(e,n))}return m.pipe($c())}));return An(i).pipe(mm())}(n,i.route,t))),$c(i=>!0!==i,!0))}(r,l,n,e):An(m)),(0,gn.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,ki.b)(m=>{if(Zu(m.guardsResult)){const C=Xy(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw C.url=m.guardsResult,C}const E=new ub(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(E)}),Zo(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),E_(m=>{if(m.guards.canActivateChecks.length)return An(m).pipe((0,ki.b)(E=>{const C=new cb(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(C)}),bi(E=>{let C=!1;return An(E).pipe(function Na(n,e){return(0,Ni.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return An(t);let l=0;return(0,_r.D)(i).pipe(ff(f=>function aA(n,e,t,r){return function lA(n,e,t,r){const i=uA(n);if(0===i.length)return An({});const l={};return(0,_r.D)(i).pipe((0,Ni.z)(f=>function XD(n,e,t,r){const i=bp(n,e,r);return ll(i.resolve?i.resolve(e,t):i(e,t))}(n[f],e,t,r).pipe((0,ki.b)(m=>{l[f]=m}))),Zy(1),(0,Ni.z)(()=>uA(l).length===i.length?An(l):uf.E))}(n._resolve,n,e,r).pipe((0,gn.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),Mb(n,t).resolve),null)))}(f.route,r,n,e)),(0,ki.b)(()=>l++),Zy(1),(0,Ni.z)(f=>l===i.length?An(t):uf.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ki.b)({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(E),this.cancelNavigationTransition(E,"At least one route resolver didn't emit any value."))}}))}),(0,ki.b)(E=>{const C=new SD(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(C)}))}),E_(m=>{const{targetSnapshot:E,id:C,extractedUrl:k,rawUrl:O,extras:{skipLocationChange:q,replaceUrl:J}}=m;return this.hooks.afterPreactivation(E,{navigationId:C,appliedUrlTree:k,rawUrlTree:O,skipLocationChange:!!q,replaceUrl:!!J})}),(0,gn.U)(m=>{const E=function OD(n,e,t){const r=fm(n,e._root,t?t._root:void 0);return new r_(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:E})}),(0,ki.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,gn.U)(r=>(new jD(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,ki.b)({next(){l=!0},complete(){l=!0}}),function TD(n){return(0,ks.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var m;l||f||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===i.id&&(this.currentNavigation=null)}),$u(m=>{if(f=!0,function mb(n){return n&&n[rm]}(m)){const E=Zu(m.url);E||(this.navigated=!0,this.restoreHistory(i,!0));const C=new Sa(i.id,this.serializeUrl(i.extractedUrl),m.message);r.next(C),E?setTimeout(()=>{const k=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),O={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||C_(i.source)};this.scheduleNavigation(k,"imperative",null,O,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const E=new Jy(i.id,this.serializeUrl(i.extractedUrl),m);r.next(E);try{i.resolve(this.errorHandler(m))}catch(C){i.reject(C)}}return uf.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const l={replaceUrl:!0},f=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(f){const E=Object.assign({},f);delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(l.state=E)}const m=this.parseUrl(t.url);this.scheduleNavigation(m,r,f,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){hp(t),this.config=t.map(Hb),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:l,fragment:f,queryParamsHandling:m,preserveFragment:E}=r,C=i||this.routerState.root,k=E?this.currentUrlTree.fragment:f;let O=null;switch(m){case"merge":O=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":O=this.currentUrlTree.queryParams;break;default:O=l||null}return null!==O&&(O=this.removeEmptyProps(O)),function o_(n,e,t,r,i){if(0===t.length)return kb(e.root,e.root,e.root,r,i);const l=function Ob(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Pb(!0,0,n);let e=0,t=!1;const r=n.reduce((i,l,f)=>{if("object"==typeof l&&null!=l){if(l.outlets){const m={};return Pi(l.outlets,(E,C)=>{m[C]="string"==typeof E?E.split("/"):E}),[...i,{outlets:m}]}if(l.segmentPath)return[...i,l.segmentPath]}return"string"!=typeof l?[...i,l]:0===f?(l.split("/").forEach((m,E)=>{0==E&&"."===m||(0==E&&""===m?t=!0:".."===m?e++:""!=m&&i.push(m))}),i):[...i,l]},[]);return new Pb(t,e,r)}(t);if(l.toRoot())return kb(e.root,e.root,new Wn([],{}),r,i);const f=function VD(n,e,t){if(n.isAbsolute)return new Fb(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new Fb(l,l===e.root,0)}const r=hm(n.commands[0])?0:1;return function bf(n,e,t){let r=n,i=e,l=t;for(;l>i;){if(l-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Fb(r,!1,i-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),m=f.processChildren?gm(f.segmentGroup,f.index,l.commands):a_(f.segmentGroup,f.index,l.commands);return kb(e.root,f.segmentGroup,m,r,i)}(C,this.currentUrlTree,t,O,null!=k?k:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Zu(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Am(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},hA):!1===r?Object.assign({},pA):r,Zu(t))return _b(this.currentUrlTree,t,i);const l=this.parseUrl(t);return _b(this.currentUrlTree,l,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const l=t[i];return null!=l&&(r[i]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new pf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,l,f){var m,E;if(this.disposed)return Promise.resolve(!1);let C,k,O;f?(C=f.resolve,k=f.reject,O=f.promise):O=new Promise((oe,Me)=>{C=oe,k=Me});const q=++this.navigationId;let J;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),J=i&&i.\u0275routerPageId?i.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(E=this.browserPageId)&&void 0!==E?E:0)+1):J=0,this.setTransition({id:q,targetPageId:J,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:C,reject:k,promise:O,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),O.catch(oe=>Promise.reject(oe))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",l):this.location.go(i,"",l)}restoreHistory(t,r=!1){var i,l;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===f?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===f&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new Sa(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function C_(n){return"imperative"!==n}class D_{}class yA{preload(e,t){return An(null)}}let _A=(()=>{class n{constructor(t,r,i,l){this.router=t,this.injector=i,this.preloadingStrategy=l,this.loader=new w_(i,r,E=>t.triggerEvent(new db(E)),E=>t.triggerEvent(new fb(E)))}setUpPreloading(){this.subscription=this.router.events.pipe(Zo(t=>t instanceof pf),ff(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(h.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const f=l._loadedConfig;i.push(this.processRoutes(f.module,f.routes))}else l.loadChildren&&!l.canLoad?i.push(this.preloadConfig(t,l)):l.children&&i.push(this.processRoutes(t,l.children));return(0,_r.D)(i).pipe((0,ap.J)(),(0,gn.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?An(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Ni.z)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ps),h.LFG(h.Sil),h.LFG(h.zs3),h.LFG(D_))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),T_=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Yy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof pf&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof gb&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new gb(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const Jc=new h.OlP("ROUTER_CONFIGURATION"),EA=new h.OlP("ROUTER_FORROOT_GUARD"),nT=[Ye,{provide:wb,useClass:om},{provide:Ps,useFactory:function aT(n,e,t,r,i,l,f={},m,E){const C=new Ps(null,n,e,t,r,i,xD(l));return m&&(C.urlHandlingStrategy=m),E&&(C.routeReuseStrategy=E),function lT(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(f,C),f.enableTracing&&C.events.subscribe(k=>{var O,q;null===(O=console.group)||void 0===O||O.call(console,`Router Event: ${k.constructor.name}`),console.log(k.toString()),console.log(k),null===(q=console.groupEnd)||void 0===q||q.call(console)}),C},deps:[wb,wf,Ye,h.zs3,h.Sil,A_,Jc,[class tT{},new h.FiY],[class eT{},new h.FiY]]},wf,{provide:Ef,useFactory:function uT(n){return n.routerState.root},deps:[Ps]},_A,yA,class vA{preload(e,t){return t().pipe($u(()=>An(null)))}},{provide:Jc,useValue:{enableTracing:!1}}];function rT(){return new h.PXZ("Router",Ps)}let bA=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[nT,AA(t),{provide:EA,useFactory:oT,deps:[[Ps,new h.FiY,new h.tp0]]},{provide:Jc,useValue:r||{}},{provide:ce,useFactory:sT,deps:[xe,[new h.tBr(je),new h.FiY],Jc]},{provide:T_,useFactory:iT,deps:[Ps,aa,Jc]},{provide:D_,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:yA},{provide:h.PXZ,multi:!0,useFactory:rT},[S_,{provide:h.ip1,multi:!0,useFactory:cT,deps:[S_]},{provide:I_,useFactory:wA,deps:[S_]},{provide:h.tb,multi:!0,useExisting:I_}]]}}static forChild(t){return{ngModule:n,providers:[AA(t)]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(EA,8),h.LFG(Ps,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();function iT(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new T_(n,e,t)}function sT(n,e,t={}){return t.useHash?new We(n,e):new Qe(n,e)}function oT(n){return"guarded"}function AA(n){return[{provide:h.deG,multi:!0,useValue:n},{provide:A_,multi:!0,useValue:n}]}let S_=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ai.x}appInitializer(){return this.injector.get(ee,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(m=>r=m),l=this.injector.get(Ps),f=this.injector.get(Jc);return"disabled"===f.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?An(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Jc),i=this.injector.get(_A),l=this.injector.get(T_),f=this.injector.get(Ps),m=this.injector.get(h.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&f.initialNavigation(),i.setUpPreloading(),l.init(),f.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function cT(n){return n.appInitializer.bind(n)}function wA(n){return n.bootstrapListener.bind(n)}const I_=new h.OlP("Router Initializer");var re=$(9356),Zt=$(655),DA=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.headerElRef=(0,re.createRef)(),t}return(0,Zt.__extends)(e,n),e.prototype.renderSimpleLayout=function(t,r){var l=this.props,f=this.context,m=[],E=(0,re.getStickyHeaderDates)(f.options);return t&&m.push({type:"header",key:"header",isSticky:E,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}}),m.push({type:"body",key:"body",liquid:!0,chunk:{content:r}}),(0,re.createElement)(re.ViewRoot,{viewSpec:f.viewSpec},function(C,k){return(0,re.createElement)("div",{ref:C,className:["fc-daygrid"].concat(k).join(" ")},(0,re.createElement)(re.SimpleScrollGrid,{liquid:!l.isHeightAuto&&!l.forPrint,collapsibleWidth:l.forPrint,cols:[],sections:m}))})},e.prototype.renderHScrollLayout=function(t,r,i,l){var f=this.context.pluginHooks.scrollGridImpl;if(!f)throw new Error("No ScrollGrid implementation");var E=this.props,C=this.context,k=!E.forPrint&&(0,re.getStickyHeaderDates)(C.options),O=!E.forPrint&&(0,re.getStickyFooterScrollbar)(C.options),q=[];return t&&q.push({type:"header",key:"header",isSticky:k,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}]}),q.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:r}]}),O&&q.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:re.renderScrollShim}]}),(0,re.createElement)(re.ViewRoot,{viewSpec:C.viewSpec},function(J,oe){return(0,re.createElement)("div",{ref:J,className:["fc-daygrid"].concat(oe).join(" ")},(0,re.createElement)(f,{liquid:!E.isHeightAuto&&!E.forPrint,collapsibleWidth:E.forPrint,colGroups:[{cols:[{span:i,minWidth:l}]}],sections:q}))})},e}(re.DateComponent);function Dp(n,e){for(var t=[],r=0;r<e;r+=1)t[r]=[];for(var i=0,l=n;i<l.length;i++){var f=l[i];t[f.row].push(f)}return t}function Tp(n,e){for(var t=[],r=0;r<e;r+=1)t[r]=[];for(var i=0,l=n;i<l.length;i++){var f=l[i];t[f.firstCol].push(f)}return t}function M_(n,e){var t=[];if(n){for(var r=0;r<e;r+=1)t[r]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(var i=0,l=n.segs;i<l.length;i++){var f=l[i];t[f.row].segs.push(f)}}else for(r=0;r<e;r+=1)t[r]=null;return t}var x_=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,Zt.__extends)(e,n),e.prototype.render=function(){var t=this.props,r=(0,re.buildNavLinkAttrs)(this.context,t.date);return(0,re.createElement)(re.DayCellContent,{date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,showDayNumber:t.showDayNumber,extraHookProps:t.extraHookProps,defaultContent:Xc},function(i,l){return(l||t.forceDayTop)&&(0,re.createElement)("div",{className:"fc-daygrid-day-top",ref:i},(0,re.createElement)("a",(0,Zt.__assign)({id:t.dayNumberId,className:"fc-daygrid-day-number"},r),l||(0,re.createElement)(re.Fragment,null,"\xa0")))})},e}(re.BaseComponent);function Xc(n){return n.dayNumberText}var TA=(0,re.createFormatter)({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function SA(n){var e=n.eventRange.ui.display;return"list-item"===e||"auto"===e&&!n.eventRange.def.allDay&&n.firstCol===n.lastCol&&n.isStart&&n.isEnd}var ed=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,Zt.__extends)(e,n),e.prototype.render=function(){var t=this.props;return(0,re.createElement)(re.StandardEvent,(0,Zt.__assign)({},t,{extraClassNames:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:TA,defaultDisplayEventEnd:t.defaultDisplayEventEnd,disableResizing:!t.seg.eventRange.def.allDay}))},e}(re.BaseComponent),fT=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,Zt.__extends)(e,n),e.prototype.render=function(){var r=this.props,i=this.context,f=(0,re.buildSegTimeText)(r.seg,i.options.eventTimeFormat||TA,i,!0,r.defaultDisplayEventEnd);return(0,re.createElement)(re.EventRoot,{seg:r.seg,timeText:f,defaultContent:R_,isDragging:r.isDragging,isResizing:!1,isDateSelecting:!1,isSelected:r.isSelected,isPast:r.isPast,isFuture:r.isFuture,isToday:r.isToday},function(m,E,C,k){return(0,re.createElement)("a",(0,Zt.__assign)({className:["fc-daygrid-event","fc-daygrid-dot-event"].concat(E).join(" "),ref:m},(0,re.getSegAnchorAttrs)(r.seg,i)),k)})},e}(re.BaseComponent);function R_(n){return(0,re.createElement)(re.Fragment,null,(0,re.createElement)("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&(0,re.createElement)("div",{className:"fc-event-time"},n.timeText),(0,re.createElement)("div",{className:"fc-event-title"},n.event.title||(0,re.createElement)(re.Fragment,null,"\xa0")))}var wx=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.compileSegs=(0,re.memoize)(IA),t}return(0,Zt.__extends)(e,n),e.prototype.render=function(){var t=this.props,r=this.compileSegs(t.singlePlacements),i=r.allSegs;return(0,re.createElement)(re.MoreLinkRoot,{dateProfile:t.dateProfile,todayRange:t.todayRange,allDayDate:t.allDayDate,moreCnt:t.moreCnt,allSegs:i,hiddenSegs:r.invisibleSegs,alignmentElRef:t.alignmentElRef,alignGridTop:t.alignGridTop,extraDateSpan:t.extraDateSpan,popoverContent:function(){var f=(t.eventDrag?t.eventDrag.affectedInstances:null)||(t.eventResize?t.eventResize.affectedInstances:null)||{};return(0,re.createElement)(re.Fragment,null,i.map(function(m){var E=m.eventRange.instance.instanceId;return(0,re.createElement)("div",{className:"fc-daygrid-event-harness",key:E,style:{visibility:f[E]?"hidden":""}},SA(m)?(0,re.createElement)(fT,(0,Zt.__assign)({seg:m,isDragging:!1,isSelected:E===t.eventSelection,defaultDisplayEventEnd:!1},(0,re.getSegMeta)(m,t.todayRange))):(0,re.createElement)(ed,(0,Zt.__assign)({seg:m,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:E===t.eventSelection,defaultDisplayEventEnd:!1},(0,re.getSegMeta)(m,t.todayRange))))}))}},function(f,m,E,C,k,O,q,J){return(0,re.createElement)("a",(0,Zt.__assign)({ref:f,className:["fc-daygrid-more-link"].concat(m).join(" "),title:O,"aria-expanded":q,"aria-controls":J},(0,re.createAriaClickAttrs)(k)),C)})},e}(re.BaseComponent);function IA(n){for(var e=[],t=[],r=0,i=n;r<i.length;r++){var l=i[r];e.push(l.seg),l.isVisible||t.push(l.seg)}return{allSegs:e,invisibleSegs:t}}var MA=(0,re.createFormatter)({week:"narrow"}),Cx=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.rootElRef=(0,re.createRef)(),t.state={dayNumberId:(0,re.getUniqueDomId)()},t.handleRootEl=function(r){(0,re.setRef)(t.rootElRef,r),(0,re.setRef)(t.props.elRef,r)},t}return(0,Zt.__extends)(e,n),e.prototype.render=function(){var t=this,i=t.props,l=t.state,f=t.rootElRef,m=i.date,E=i.dateProfile,C=(0,re.buildNavLinkAttrs)(t.context,m,"week");return(0,re.createElement)(re.DayCellRoot,{date:m,dateProfile:E,todayRange:i.todayRange,showDayNumber:i.showDayNumber,extraHookProps:i.extraHookProps,elRef:this.handleRootEl},function(k,O,q,J){return(0,re.createElement)("td",(0,Zt.__assign)({ref:k,role:"gridcell",className:["fc-daygrid-day"].concat(O,i.extraClassNames||[]).join(" ")},q,i.extraDataAttrs,i.showDayNumber?{"aria-labelledby":l.dayNumberId}:{}),(0,re.createElement)("div",{className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",ref:i.innerElRef},i.showWeekNumber&&(0,re.createElement)(re.WeekNumberRoot,{date:m,defaultFormat:MA},function(oe,Me,it,at){return(0,re.createElement)("a",(0,Zt.__assign)({ref:oe,className:["fc-daygrid-week-number"].concat(Me).join(" ")},C),at)}),!J&&(0,re.createElement)(x_,{date:m,dateProfile:E,showDayNumber:i.showDayNumber,dayNumberId:l.dayNumberId,forceDayTop:i.forceDayTop,todayRange:i.todayRange,extraHookProps:i.extraHookProps}),(0,re.createElement)("div",{className:"fc-daygrid-day-events",ref:i.fgContentElRef},i.fgContent,(0,re.createElement)("div",{className:"fc-daygrid-day-bottom",style:{marginTop:i.moreMarginTop}},(0,re.createElement)(wx,{allDayDate:m,singlePlacements:i.singlePlacements,moreCnt:i.moreCnt,alignmentElRef:f,alignGridTop:!i.showDayNumber,extraDateSpan:i.extraDateSpan,dateProfile:i.dateProfile,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,todayRange:i.todayRange}))),(0,re.createElement)("div",{className:"fc-daygrid-day-bg"},i.bgContent)))})},e}(re.DateComponent);function Tf(n,e,t,r){if(n.firstCol===e&&n.lastCol===t-1)return n;var i=n.eventRange,l=i.range,f=(0,re.intersectRanges)(l,{start:r[e].date,end:(0,re.addDays)(r[t-1].date,1)});return(0,Zt.__assign)((0,Zt.__assign)({},n),{firstCol:e,lastCol:t-1,eventRange:{def:i.def,ui:(0,Zt.__assign)((0,Zt.__assign)({},i.ui),{durationEditable:!1}),instance:i.instance,range:f},isStart:n.isStart&&f.start.valueOf()===l.start.valueOf(),isEnd:n.isEnd&&f.end.valueOf()===l.end.valueOf()})}var Dm=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.hiddenConsumes=!1,t.forceHidden={},t}return(0,Zt.__extends)(e,n),e.prototype.addSegs=function(t){for(var r=this,i=n.prototype.addSegs.call(this,t),l=this.entriesByLevel,f=function(E){return!r.forceHidden[(0,re.buildEntryKey)(E)]},m=0;m<l.length;m+=1)l[m]=l[m].filter(f);return i},e.prototype.handleInvalidInsertion=function(t,r,i){var f=this.entriesByLevel,m=this.forceHidden,E=t.touchingEntry,C=t.touchingLevel,k=t.touchingLateral;if(this.hiddenConsumes&&E){var O=(0,re.buildEntryKey)(E);if(!m[O])if(this.allowReslicing){var q=(0,Zt.__assign)((0,Zt.__assign)({},E),{span:(0,re.intersectSpans)(E.span,r.span)});m[(0,re.buildEntryKey)(q)]=!0,f[C][k]=q,this.splitEntry(E,r,i)}else m[O]=!0,i.push(E)}return n.prototype.handleInvalidInsertion.call(this,t,r,i)},e}(re.SegHierarchy),xA=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.cellElRefs=new re.RefMap,t.frameElRefs=new re.RefMap,t.fgElRefs=new re.RefMap,t.segHarnessRefs=new re.RefMap,t.rootElRef=(0,re.createRef)(),t.state={framePositions:null,maxContentHeight:null,eventInstanceHeights:{}},t}return(0,Zt.__extends)(e,n),e.prototype.render=function(){var t=this,r=this,i=r.props,l=r.state,m=r.context.options,E=i.cells.length,C=Tp(i.businessHourSegs,E),k=Tp(i.bgEventSegs,E),O=Tp(this.getHighlightSegs(),E),q=Tp(this.getMirrorSegs(),E),J=function yn(n,e,t,r,i,l,f){var m=new Dm;m.allowReslicing=!0,m.strictOrder=r,!0===e||!0===t?(m.maxCoord=l,m.hiddenConsumes=!0):"number"==typeof e?m.maxStackCnt=e:"number"==typeof t&&(m.maxStackCnt=t,m.hiddenConsumes=!0);for(var E=[],C=[],k=0;k<n.length;k+=1){var J=i[(O=n[k]).eventRange.instance.instanceId];null!=J?E.push({index:k,thickness:J,span:{start:O.firstCol,end:O.lastCol+1}}):C.push(O)}for(var oe=m.addSegs(E),it=function hT(n,e,t){for(var r=function pT(n,e){for(var t=[],r=0;r<e;r+=1)t.push([]);for(var i=0,l=n;i<l.length;i++){var f=l[i];for(r=f.span.start;r<f.span.end;r+=1)t[r].push(f)}return t}(n,t.length),i=[],l=[],f=[],m=0;m<t.length;m+=1){for(var E=r[m],C=[],k=0,O=0,q=0,J=E;q<J.length;q++)C.push({seg:Tf(Me=e[(oe=J[q]).index],m,m+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:oe.levelCoord,marginTop:oe.levelCoord-k}),k=oe.levelCoord+oe.thickness;var it=[];k=0,O=0;for(var at=0,Et=E;at<Et.length;at++){var oe,Me=e[(oe=Et[at]).index],Tt=oe.span.start===m;O+=oe.levelCoord-k,k=oe.levelCoord+oe.thickness,oe.span.end-oe.span.start>1?(O+=oe.thickness,Tt&&it.push({seg:Tf(Me,oe.span.start,oe.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:oe.levelCoord,marginTop:0})):Tt&&(it.push({seg:Tf(Me,oe.span.start,oe.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:oe.levelCoord,marginTop:O}),O=0)}i.push(C),l.push(it),f.push(O)}return{singleColPlacements:i,multiColPlacements:l,leftoverMargins:f}}(m.toRects(),n,f),at=it.singleColPlacements,Et=it.multiColPlacements,Pt=it.leftoverMargins,Tt=[],vn=[],mn=0,jn=C;mn<jn.length;mn++){Et[(O=jn[mn]).firstCol].push({seg:O,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(var zn=O.firstCol;zn<=O.lastCol;zn+=1)at[zn].push({seg:Tf(O,zn,zn+1,f),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(zn=0;zn<f.length;zn+=1)Tt.push(0);for(var Io=0,Mo=oe;Io<Mo.length;Io++){var O,pg=Mo[Io],ea=pg.span;for(Et[ea.start].push({seg:Tf(O=n[pg.index],ea.start,ea.end,f),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0}),zn=ea.start;zn<ea.end;zn+=1)Tt[zn]+=1,at[zn].push({seg:Tf(O,zn,zn+1,f),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(zn=0;zn<f.length;zn+=1)vn.push(Pt[zn]);return{singleColPlacements:at,multiColPlacements:Et,moreCnts:Tt,moreMarginTops:vn}}((0,re.sortEventSegs)(i.fgEventSegs,m.eventOrder),i.dayMaxEvents,i.dayMaxEventRows,m.eventOrderStrict,l.eventInstanceHeights,l.maxContentHeight,i.cells),oe=J.singleColPlacements,Me=J.multiColPlacements,it=J.moreCnts,at=J.moreMarginTops,Et=i.eventDrag&&i.eventDrag.affectedInstances||i.eventResize&&i.eventResize.affectedInstances||{};return(0,re.createElement)("tr",{ref:this.rootElRef,role:"row"},i.renderIntro&&i.renderIntro(),i.cells.map(function(Pt,Tt){var vn=t.renderFgSegs(Tt,i.forPrint?oe[Tt]:Me[Tt],i.todayRange,Et),mn=t.renderFgSegs(Tt,function Tm(n,e){if(!n.length)return[];var t=function Sm(n){for(var e={},t=0,r=n;t<r.length;t++)for(var l=0,f=r[t];l<f.length;l++){var m=f[l];e[m.seg.eventRange.instance.instanceId]=m.absoluteTop}return e}(e);return n.map(function(r){return{seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:t[r.eventRange.instance.instanceId],marginTop:0}})}(q[Tt],Me),i.todayRange,{},Boolean(i.eventDrag),Boolean(i.eventResize),!1);return(0,re.createElement)(Cx,{key:Pt.key,elRef:t.cellElRefs.createRef(Pt.key),innerElRef:t.frameElRefs.createRef(Pt.key),dateProfile:i.dateProfile,date:Pt.date,showDayNumber:i.showDayNumbers,showWeekNumber:i.showWeekNumbers&&0===Tt,forceDayTop:i.showWeekNumbers,todayRange:i.todayRange,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,extraHookProps:Pt.extraHookProps,extraDataAttrs:Pt.extraDataAttrs,extraClassNames:Pt.extraClassNames,extraDateSpan:Pt.extraDateSpan,moreCnt:it[Tt],moreMarginTop:at[Tt],singlePlacements:oe[Tt],fgContentElRef:t.fgElRefs.createRef(Pt.key),fgContent:(0,re.createElement)(re.Fragment,null,(0,re.createElement)(re.Fragment,null,vn),(0,re.createElement)(re.Fragment,null,mn)),bgContent:(0,re.createElement)(re.Fragment,null,t.renderFillSegs(O[Tt],"highlight"),t.renderFillSegs(C[Tt],"non-business"),t.renderFillSegs(k[Tt],"bg-event"))})}))},e.prototype.componentDidMount=function(){this.updateSizing(!0)},e.prototype.componentDidUpdate=function(t,r){this.updateSizing(!(0,re.isPropsEqual)(t,this.props))},e.prototype.getHighlightSegs=function(){var t=this.props;return t.eventDrag&&t.eventDrag.segs.length?t.eventDrag.segs:t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:t.dateSelectionSegs},e.prototype.getMirrorSegs=function(){var t=this.props;return t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:[]},e.prototype.renderFgSegs=function(t,r,i,l,f,m,E){var C=this.context,k=this.props.eventSelection,O=this.state.framePositions,q=1===this.props.cells.length,J=f||m||E,oe=[];if(O)for(var Me=0,it=r;Me<it.length;Me++){var at=it[Me],Et=at.seg,Pt=Et.eventRange.instance.instanceId,Tt=Pt+":"+t,vn=at.isVisible&&!l[Pt],mn=at.isAbsolute,jn="",zn="";mn&&(C.isRtl?(zn=0,jn=O.lefts[Et.lastCol]-O.lefts[Et.firstCol]):(jn=0,zn=O.rights[Et.firstCol]-O.rights[Et.lastCol])),oe.push((0,re.createElement)("div",{className:"fc-daygrid-event-harness"+(mn?" fc-daygrid-event-harness-abs":""),key:Tt,ref:J?null:this.segHarnessRefs.createRef(Tt),style:{visibility:vn?"":"hidden",marginTop:mn?"":at.marginTop,top:mn?at.absoluteTop:"",left:jn,right:zn}},SA(Et)?(0,re.createElement)(fT,(0,Zt.__assign)({seg:Et,isDragging:f,isSelected:Pt===k,defaultDisplayEventEnd:q},(0,re.getSegMeta)(Et,i))):(0,re.createElement)(ed,(0,Zt.__assign)({seg:Et,isDragging:f,isResizing:m,isDateSelecting:E,isSelected:Pt===k,defaultDisplayEventEnd:q},(0,re.getSegMeta)(Et,i)))))}return oe},e.prototype.renderFillSegs=function(t,r){var i=this.context.isRtl,l=this.props.todayRange,f=this.state.framePositions,m=[];if(f)for(var E=0,C=t;E<C.length;E++){var k=C[E],O=i?{right:0,left:f.lefts[k.lastCol]-f.lefts[k.firstCol]}:{left:0,right:f.rights[k.firstCol]-f.rights[k.lastCol]};m.push((0,re.createElement)("div",{key:(0,re.buildEventRangeKey)(k.eventRange),className:"fc-daygrid-bg-harness",style:O},"bg-event"===r?(0,re.createElement)(re.BgEvent,(0,Zt.__assign)({seg:k},(0,re.getSegMeta)(k,l))):(0,re.renderFill)(r)))}return re.createElement.apply(void 0,(0,Zt.__spreadArray)([re.Fragment,{}],m))},e.prototype.updateSizing=function(t){var i=this.props,l=this.frameElRefs;if(!i.forPrint&&null!==i.clientWidth){if(t){var f=i.cells.map(function(O){return l.currentMap[O.key]});f.length&&this.setState({framePositions:new re.PositionCache(this.rootElRef.current,f,!0,!1)})}var E=this.state.eventInstanceHeights,C=this.queryEventInstanceHeights(),k=!0===i.dayMaxEvents||!0===i.dayMaxEventRows;this.setState({eventInstanceHeights:(0,Zt.__assign)((0,Zt.__assign)({},E),C),maxContentHeight:k?this.computeMaxContentHeight():null})}},e.prototype.queryEventInstanceHeights=function(){var t=this.segHarnessRefs.currentMap,r={};for(var i in t){var l=Math.round(t[i].getBoundingClientRect().height),f=i.split(":")[0];r[f]=Math.max(r[f]||0,l)}return r},e.prototype.computeMaxContentHeight=function(){var t=this.props.cells[0].key,i=this.fgElRefs.currentMap[t];return this.cellElRefs.currentMap[t].getBoundingClientRect().bottom-i.getBoundingClientRect().top},e.prototype.getCellEls=function(){var t=this.cellElRefs.currentMap;return this.props.cells.map(function(r){return t[r.key]})},e}(re.DateComponent);xA.addStateEquality({eventInstanceHeights:re.isPropsEqual});var Yr=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.splitBusinessHourSegs=(0,re.memoize)(Dp),t.splitBgEventSegs=(0,re.memoize)(Dp),t.splitFgEventSegs=(0,re.memoize)(Dp),t.splitDateSelectionSegs=(0,re.memoize)(Dp),t.splitEventDrag=(0,re.memoize)(M_),t.splitEventResize=(0,re.memoize)(M_),t.rowRefs=new re.RefMap,t.handleRootEl=function(r){t.rootEl=r,r?t.context.registerInteractiveComponent(t,{el:r,isHitComboAllowed:t.props.isHitComboAllowed}):t.context.unregisterInteractiveComponent(t)},t}return(0,Zt.__extends)(e,n),e.prototype.render=function(){var t=this,r=this.props,i=r.dateProfile,l=r.dayMaxEventRows,f=r.dayMaxEvents,m=r.expandRows,E=r.cells.length,C=this.splitBusinessHourSegs(r.businessHourSegs,E),k=this.splitBgEventSegs(r.bgEventSegs,E),O=this.splitFgEventSegs(r.fgEventSegs,E),q=this.splitDateSelectionSegs(r.dateSelectionSegs,E),J=this.splitEventDrag(r.eventDrag,E),oe=this.splitEventResize(r.eventResize,E),Me=!0===f||!0===l;return Me&&!m&&(Me=!1,l=null,f=null),(0,re.createElement)("div",{className:["fc-daygrid-body",Me?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",m?"":"fc-daygrid-body-natural"].join(" "),ref:this.handleRootEl,style:{width:r.clientWidth,minWidth:r.tableMinWidth}},(0,re.createElement)(re.NowTimer,{unit:"day"},function(at,Et){return(0,re.createElement)(re.Fragment,null,(0,re.createElement)("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:r.clientWidth,minWidth:r.tableMinWidth,height:m?r.clientHeight:""}},r.colGroupNode,(0,re.createElement)("tbody",{role:"presentation"},r.cells.map(function(Pt,Tt){return(0,re.createElement)(xA,{ref:t.rowRefs.createRef(Tt),key:Pt.length?Pt[0].date.toISOString():Tt,showDayNumbers:E>1,showWeekNumbers:r.showWeekNumbers,todayRange:Et,dateProfile:i,cells:Pt,renderIntro:r.renderRowIntro,businessHourSegs:C[Tt],eventSelection:r.eventSelection,bgEventSegs:k[Tt].filter(Dx),fgEventSegs:O[Tt],dateSelectionSegs:q[Tt],eventDrag:J[Tt],eventResize:oe[Tt],dayMaxEvents:f,dayMaxEventRows:l,clientWidth:r.clientWidth,clientHeight:r.clientHeight,forPrint:r.forPrint})}))))}))},e.prototype.prepareHits=function(){this.rowPositions=new re.PositionCache(this.rootEl,this.rowRefs.collect().map(function(t){return t.getCellEls()[0]}),!1,!0),this.colPositions=new re.PositionCache(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)},e.prototype.queryHit=function(t,r){var l=this.colPositions,f=this.rowPositions,m=l.leftToIndex(t),E=f.topToIndex(r);if(null!=E&&null!=m){var C=this.props.cells[E][m];return{dateProfile:this.props.dateProfile,dateSpan:(0,Zt.__assign)({range:this.getCellRange(E,m),allDay:!0},C.extraDateSpan),dayEl:this.getCellEl(E,m),rect:{left:l.lefts[m],right:l.rights[m],top:f.tops[E],bottom:f.bottoms[E]},layer:0}}return null},e.prototype.getCellEl=function(t,r){return this.rowRefs.currentMap[t].getCellEls()[r]},e.prototype.getCellRange=function(t,r){var i=this.props.cells[t][r].date;return{start:i,end:(0,re.addDays)(i,1)}},e}(re.DateComponent);function Dx(n){return n.eventRange.def.allDay}var RA=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.forceDayIfListItem=!0,t}return(0,Zt.__extends)(e,n),e.prototype.sliceRange=function(t,r){return r.sliceRange(t)},e}(re.Slicer),gT=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.slicer=new RA,t.tableRef=(0,re.createRef)(),t}return(0,Zt.__extends)(e,n),e.prototype.render=function(){var r=this.props;return(0,re.createElement)(Yr,(0,Zt.__assign)({ref:this.tableRef},this.slicer.sliceProps(r,r.dateProfile,r.nextDayThreshold,this.context,r.dayTableModel),{dateProfile:r.dateProfile,cells:r.dayTableModel.cells,colGroupNode:r.colGroupNode,tableMinWidth:r.tableMinWidth,renderRowIntro:r.renderRowIntro,dayMaxEvents:r.dayMaxEvents,dayMaxEventRows:r.dayMaxEventRows,showWeekNumbers:r.showWeekNumbers,expandRows:r.expandRows,headerAlignElRef:r.headerAlignElRef,clientWidth:r.clientWidth,clientHeight:r.clientHeight,forPrint:r.forPrint}))},e}(re.DateComponent),mT=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.buildDayTableModel=(0,re.memoize)(NA),t.headerRef=(0,re.createRef)(),t.tableRef=(0,re.createRef)(),t}return(0,Zt.__extends)(e,n),e.prototype.render=function(){var t=this,r=this.context,i=r.options,f=this.props,m=this.buildDayTableModel(f.dateProfile,r.dateProfileGenerator),E=i.dayHeaders&&(0,re.createElement)(re.DayHeader,{ref:this.headerRef,dateProfile:f.dateProfile,dates:m.headerDates,datesRepDistinctDays:1===m.rowCnt}),C=function(k){return(0,re.createElement)(gT,{ref:t.tableRef,dateProfile:f.dateProfile,dayTableModel:m,businessHours:f.businessHours,dateSelection:f.dateSelection,eventStore:f.eventStore,eventUiBases:f.eventUiBases,eventSelection:f.eventSelection,eventDrag:f.eventDrag,eventResize:f.eventResize,nextDayThreshold:i.nextDayThreshold,colGroupNode:k.tableColGroupNode,tableMinWidth:k.tableMinWidth,dayMaxEvents:i.dayMaxEvents,dayMaxEventRows:i.dayMaxEventRows,showWeekNumbers:i.weekNumbers,expandRows:!f.isHeightAuto,headerAlignElRef:t.headerElRef,clientWidth:k.clientWidth,clientHeight:k.clientHeight,forPrint:f.forPrint})};return i.dayMinWidth?this.renderHScrollLayout(E,C,m.colCnt,i.dayMinWidth):this.renderSimpleLayout(E,C)},e}(DA);function NA(n,e){var t=new re.DaySeriesModel(n.renderRange,e);return new re.DayTableModel(t,/year|month|week/.test(n.currentRangeUnit))}var kA=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,Zt.__extends)(e,n),e.prototype.buildRenderRange=function(t,r,i){var C,l=this.props.dateEnv,f=n.prototype.buildRenderRange.call(this,t,r,i),m=f.start,E=f.end;if(/^(year|month)$/.test(r)&&(m=l.startOfWeek(m),(C=l.startOfWeek(E)).valueOf()!==E.valueOf()&&(E=(0,re.addWeeks)(C,1))),this.props.monthMode&&this.props.fixedWeekCount){var k=Math.ceil((0,re.diffWeeks)(m,E));E=(0,re.addWeeks)(E,6-k)}return{start:m,end:E}},e}(re.DateProfileGenerator);const N_=(0,re.createPlugin)({initialView:"dayGridMonth",views:{dayGrid:{component:mT,dateProfileGeneratorClass:kA},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}});var vT=$(2559),yT=$.n(vT),eo=$(3580),Sp=$(5599),OA="undefined"!=typeof globalThis?globalThis:window;OA.FullCalendarVDom?console.warn("FullCalendar VDOM already loaded"):OA.FullCalendarVDom={Component:eo.Component,createElement:eo.createElement,render:eo.render,createRef:eo.createRef,Fragment:eo.Fragment,createContext:function Im(n){var e=eo.createContext(n),t=e.Provider;return e.Provider=function(){var r=this,i=!this.getChildContext,l=t.apply(this,arguments);if(i){var f=[];this.shouldComponentUpdate=function(m){r.props.value!==m.value&&f.forEach(function(E){E.context=m.value,E.forceUpdate()})},this.sub=function(m){f.push(m);var E=m.componentWillUnmount;m.componentWillUnmount=function(){f.splice(f.indexOf(m),1),E&&E.call(m)}}}return l},e},createPortal:Sp.createPortal,flushSync:function _T(n){n();var e=eo.options.debounceRendering,t=[];for(eo.options.debounceRendering=function r(i){t.push(i)},eo.render(eo.createElement(ET,{}),document.createElement("div"));t.length;)t.shift()();eo.options.debounceRendering=e},unmountComponentAtNode:function FA(n){eo.render(null,n)}};var ET=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,Zt.__extends)(e,n),e.prototype.render=function(){return eo.createElement("div",{})},e.prototype.componentDidMount=function(){this.setState({})},e}(eo.Component),LA=function(n){function e(t,r){void 0===r&&(r={});var i=n.call(this)||this;return i.isRendering=!1,i.isRendered=!1,i.currentClassNames=[],i.customContentRenderId=0,i.handleAction=function(l){switch(l.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":i.renderRunner.tryDrain()}},i.handleData=function(l){i.currentData=l,i.renderRunner.request(l.calendarOptions.rerenderDelay)},i.handleRenderRequest=function(){if(i.isRendering){i.isRendered=!0;var l=i.currentData;(0,re.flushSync)(function(){(0,re.render)((0,re.createElement)(re.CalendarRoot,{options:l.calendarOptions,theme:l.theme,emitter:l.emitter},function(f,m,E,C){return i.setClassNames(f),i.setHeight(m),(0,re.createElement)(re.CustomContentRenderContext.Provider,{value:i.customContentRenderId},(0,re.createElement)(re.CalendarContent,(0,Zt.__assign)({isHeightAuto:E,forPrint:C},l)))}),i.el)})}else i.isRendered&&(i.isRendered=!1,(0,re.unmountComponentAtNode)(i.el),i.setClassNames([]),i.setHeight(""))},i.el=t,i.renderRunner=new re.DelayedRunner(i.handleRenderRequest),new re.CalendarDataManager({optionOverrides:r,calendarApi:i,onAction:i.handleAction,onData:i.handleData}),i}return(0,Zt.__extends)(e,n),Object.defineProperty(e.prototype,"view",{get:function(){return this.currentData.viewApi},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.isRendering;t?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),t&&this.updateSize()},e.prototype.destroy=function(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())},e.prototype.updateSize=function(){var t=this;(0,re.flushSync)(function(){n.prototype.updateSize.call(t)})},e.prototype.batchRendering=function(t){this.renderRunner.pause("batchRendering"),t(),this.renderRunner.resume("batchRendering")},e.prototype.pauseRendering=function(){this.renderRunner.pause("pauseRendering")},e.prototype.resumeRendering=function(){this.renderRunner.resume("pauseRendering",!0)},e.prototype.resetOptions=function(t,r){this.currentDataManager.resetOptions(t,r)},e.prototype.setClassNames=function(t){if(!(0,re.isArraysEqual)(t,this.currentClassNames)){for(var r=this.el.classList,i=0,l=this.currentClassNames;i<l.length;i++)r.remove(l[i]);for(var m=0,E=t;m<E.length;m++)r.add(E[m]);this.currentClassNames=t}},e.prototype.setHeight=function(t){(0,re.applyStyleProp)(this.el,"height",t)},e}(re.CalendarApi);const VA=Object.prototype.hasOwnProperty;function Mm(n){return Array.isArray(n)?n.map(Mm):n instanceof Date?new Date(n.valueOf()):"object"==typeof n&&n?Sf(n,Mm):n}function Ip(n){return"object"==typeof n&&(Array.isArray(n)?n=Array.prototype.slice.call(n):n&&(n=Object.assign({},n))),n}function Sf(n,e){const t={};for(const r in n)VA.call(n,r)&&(t[r]=e(n[r],r));return t}const BA={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0};let bT=(()=>{class n{constructor(t){this.element=t,this.optionSnapshot={}}ngAfterViewInit(){const{deepChangeDetection:t}=this,r=this.options||{};this.optionSnapshot=Sf(r,(i,l)=>t&&BA[l]?Mm(i):i),this.calendar=new LA(this.element.nativeElement,r),this.calendar.render()}ngDoCheck(){if(this.calendar){const{deepChangeDetection:t,optionSnapshot:r}=this,i=this.options||{},l={};let f=!1;for(const E in i)if(i.hasOwnProperty(E)){let C=i[E];t&&BA[E]?yT()(r[E],C)||(r[E]=Mm(C),f=!0,C=Ip(C)):r[E]!==C&&(r[E]=C,f=!0),l[E]=C}const m=Object.keys(r);for(const E of m)E in i||(delete r[E],f=!0);f&&(this.calendar.pauseRendering(),this.calendar.resetOptions(l))}}ngAfterContentChecked(){this.calendar&&this.calendar.resumeRendering()}ngOnDestroy(){this.calendar&&(this.calendar.destroy(),this.calendar=null)}getApi(){return this.calendar}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq))},n.\u0275cmp=h.Xpm({type:n,selectors:[["full-calendar"]],inputs:{options:"options",deepChangeDetection:"deepChangeDetection"},decls:0,vars:0,template:function(t,r){},styles:['@charset "UTF-8";.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{vertical-align:top;padding:0}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype");font-weight:400;font-style:normal}.fc-icon{display:inline-block;width:1em;height:1em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;font-family:fcicons!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;overflow:visible;text-transform:none;margin:0;font-family:inherit;font-size:inherit;line-height:inherit}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{padding:0;border-style:none}.fc .fc-button{display:inline-block;font-weight:400;text-align:center;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.4em .65em;font-size:1em;line-height:1.5;border-radius:.25em}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{outline:0;box-shadow:0 0 0 .2rem rgba(44,62,80,.25)}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50)}.fc .fc-button-primary:hover{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#1e2b37;background-color:var(--fc-button-hover-bg-color,#1e2b37);border-color:#1a252f;border-color:var(--fc-button-hover-border-color,#1a252f)}.fc .fc-button-primary:disabled{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#1a252f;background-color:var(--fc-button-active-bg-color,#1a252f);border-color:#151e27;border-color:var(--fc-button-active-border-color,#151e27)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{vertical-align:middle;font-size:1.5em}.fc .fc-button-group{position:relative;display:inline-flex;vertical-align:middle}.fc .fc-button-group>.fc-button{position:relative;flex:1 1 auto}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){margin-right:-1px;border-top-right-radius:0;border-bottom-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-top-left-radius:0;border-bottom-left-radius:0}.fc .fc-toolbar{display:flex;justify-content:space-between;align-items:center}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{position:absolute;top:0;right:0;left:0;bottom:0}.fc .fc-scroller-harness{position:relative;overflow:hidden;direction:ltr}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{width:100%;table-layout:fixed}.fc .fc-scrollgrid table{border-top-style:hidden;border-left-style:hidden;border-right-style:hidden}.fc .fc-scrollgrid{border-collapse:separate;border-right-width:0;border-bottom-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section>td,.fc .fc-scrollgrid-section table{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-top-width:0;border-left-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:-webkit-sticky;position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:-webkit-sticky;position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{position:absolute;top:0;left:0;right:0;bottom:0}.fc .fc-non-business{background:hsla(0,0%,84.3%,.3);background:var(--fc-non-business-color,hsla(0,0%,84.3%,.3))}.fc .fc-bg-event{background:#8fdf82;background:var(--fc-bg-event-color,#8fdf82);opacity:.3;opacity:var(--fc-bg-event-opacity,.3)}.fc .fc-bg-event .fc-event-title{margin:.5em;font-size:.85em;font-size:var(--fc-small-font-size,.85em);font-style:italic}.fc .fc-highlight{background:rgba(188,232,241,.3);background:var(--fc-highlight-color,rgba(188,232,241,.3))}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{border-radius:4px;border-radius:calc(var(--fc-event-resizer-dot-total-width, 8px) / 2);border-width:1px;width:8px;width:var(--fc-event-resizer-dot-total-width,8px);height:8px;height:var(--fc-event-resizer-dot-total-width,8px);border:var(--fc-event-resizer-dot-border-width,1px) solid;border-color:inherit;background:#fff;background:var(--fc-page-bg-color,#fff)}.fc-event-selected .fc-event-resizer:before{content:"";position:absolute;top:-20px;left:-20px;right:-20px;bottom:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{content:"";position:absolute;z-index:3;top:0;left:0;right:0;bottom:0}.fc-event-selected:after,.fc-event:focus:after{content:"";background:rgba(0,0,0,.25);background:var(--fc-event-selected-overlay-color,rgba(0,0,0,.25));position:absolute;z-index:1;top:-1px;left:-1px;right:-1px;bottom:-1px}.fc-h-event{display:block;border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8)}.fc-h-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;vertical-align:top;left:0;right:0;max-width:100%;overflow:hidden}.fc-h-event.fc-event-selected:before{top:-10px;bottom:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-top-left-radius:0;border-bottom-left-radius:0;border-left-width:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-top-right-radius:0;border-bottom-right-radius:0;border-right-width:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{top:0;bottom:0;width:8px;width:var(--fc-event-resizer-thickness,8px)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:-4px;left:calc(-.5 * var(--fc-event-resizer-thickness, 8px))}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:-4px;right:calc(-.5 * var(--fc-event-resizer-thickness, 8px))}.fc-h-event.fc-event-selected .fc-event-resizer{top:50%;margin-top:-4px;margin-top:calc(-.5 * var(--fc-event-resizer-dot-total-width, 8px))}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:-4px;left:calc(-.5 * var(--fc-event-resizer-dot-total-width, 8px))}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:-4px;right:calc(-.5 * var(--fc-event-resizer-dot-total-width, 8px))}.fc .fc-popover{position:absolute;z-index:9999;box-shadow:0 2px 6px rgba(0,0,0,.15)}.fc .fc-popover-header{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;opacity:.65;font-size:1.1em}.fc-theme-standard .fc-popover{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd);background:#fff;background:var(--fc-page-bg-color,#fff)}.fc-theme-standard .fc-popover-header{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}:root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{content:"";clear:both;display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-daygrid-day-frame{position:relative;min-height:100%}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{position:relative;z-index:4;padding:4px}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{position:absolute;left:0;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{position:relative;min-height:2em}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{position:absolute;top:0;left:0;right:0}.fc .fc-daygrid-bg-harness{position:absolute;top:0;bottom:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{z-index:6;margin-top:1px}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;padding:2px 3px 0}.fc .fc-daygrid-day-bottom:before{content:"";clear:both;display:table}.fc .fc-daygrid-more-link{position:relative;z-index:4;cursor:pointer}.fc .fc-daygrid-week-number{position:absolute;z-index:5;top:0;padding:2px;min-width:1.5em;text-align:center;background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));color:grey;color:var(--fc-neutral-text-color,grey)}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-week-number{left:0;border-radius:0 0 3px 0}.fc-direction-rtl .fc-daygrid-week-number{right:0;border-radius:0 0 0 3px}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{position:relative;white-space:nowrap;border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{display:flex;align-items:center;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;min-width:0;overflow:hidden;font-weight:700}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{top:-10px;bottom:-10px}.fc-daygrid-event-dot{margin:0 4px;box-sizing:content-box;width:0;height:0;border:4px solid #3788d8;border:calc(var(--fc-daygrid-event-dot-width, 8px) / 2) solid var(--fc-event-border-color,#3788d8);border-radius:4px;border-radius:calc(var(--fc-daygrid-event-dot-width, 8px) / 2)}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}.fc-v-event{display:block;border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8)}.fc-v-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff);height:100%}.fc-v-event .fc-event-main-frame{height:100%;display:flex;flex-direction:column}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{top:0;bottom:0;max-height:100%;overflow:hidden}.fc-v-event:not(.fc-event-start){border-top-width:0;border-top-left-radius:0;border-top-right-radius:0}.fc-v-event:not(.fc-event-end){border-bottom-width:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:8px;height:var(--fc-event-resizer-thickness,8px);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:-4px;margin-left:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{position:relative;z-index:1;min-height:100%}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{height:1.5em;border-bottom:0}.fc .fc-timegrid-slot:empty:before{content:"\xa0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{overflow:hidden;display:flex;align-items:center;justify-content:flex-end}.fc .fc-timegrid-axis-cushion{max-width:60px;flex-shrink:0}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-timegrid-col.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc-media-screen .fc-timegrid-cols{position:absolute;top:0;left:0;right:0;bottom:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{position:absolute;top:0;left:0;right:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{position:absolute;left:0;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{position:absolute;top:0;bottom:0;left:0;right:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px #fff;box-shadow:0 0 0 1px var(--fc-page-bg-color,#fff)}.fc-timegrid-event,.fc-timegrid-more-link{font-size:.85em;font-size:var(--fc-small-font-size,.85em);border-radius:3px}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{white-space:nowrap;font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\xa0-\xa0"}.fc-timegrid-event-short .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timegrid-more-link{position:absolute;z-index:9999;color:inherit;color:var(--fc-more-link-text-color,inherit);background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);cursor:pointer;margin-bottom:1px}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{position:absolute;z-index:4;left:0;right:0;border:0 solid red;border-color:var(--fc-now-indicator-color,red);border-top:1px solid var(--fc-now-indicator-color,red)}.fc .fc-timegrid-now-indicator-arrow{position:absolute;z-index:4;margin-top:-5px;border-style:solid;border-color:red;border-color:var(--fc-now-indicator-color,red)}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{left:0;border-width:5px 0 5px 6px;border-top-color:transparent;border-bottom-color:transparent}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{right:0;border-width:5px 6px 5px 0;border-top-color:transparent;border-bottom-color:transparent}:root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-list-empty{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));height:100%;display:flex;justify-content:center;align-items:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{width:100%;border-style:hidden}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{position:-webkit-sticky;position:sticky;top:0;background:#fff;background:var(--fc-page-bg-color,#fff)}.fc .fc-list-table thead{position:absolute;left:-10000px}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{content:"";clear:both;display:table}.fc-theme-standard .fc-list-day-cushion{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:#f5f5f5;background-color:var(--fc-list-event-hover-bg-color,#f5f5f5)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{display:inline-block;box-sizing:content-box;width:0;height:0;border:5px solid #3788d8;border:calc(var(--fc-list-event-dot-width, 10px) / 2) solid var(--fc-event-border-color,#3788d8);border-radius:5px;border-radius:calc(var(--fc-list-event-dot-width, 10px) / 2)}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}.fc-theme-bootstrap a:not([href]){color:inherit}.fc .fc-event,.fc .fc-scrollgrid table tr{-moz-column-break-inside:avoid;break-inside:avoid}.fc-media-print{display:block;max-width:100%}.fc-media-print .fc-bg-event,.fc-media-print .fc-non-business,.fc-media-print .fc-timegrid-axis-chunk,.fc-media-print .fc-timegrid-slots,.fc-media-print .fc-timeline-slots{display:none}.fc-media-print .fc-h-event,.fc-media-print .fc-toolbar button,.fc-media-print .fc-v-event{color:#000!important;background:#fff!important}.fc-media-print .fc-event,.fc-media-print .fc-event-main{color:#000!important}.fc-media-print .fc-timegrid-event{margin:.5em 0}.fc .fc-timeline-body{min-height:100%;position:relative;z-index:1}.fc .fc-timeline-slots{position:absolute;z-index:1;top:0;bottom:0}.fc .fc-timeline-slots>table{height:100%}.fc .fc-timeline-slot-minor{border-style:dotted}.fc .fc-timeline-slot-frame{display:flex;align-items:center;justify-content:center}.fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame{justify-content:flex-start}.fc .fc-timeline-header-row:last-child .fc-timeline-slot-frame{overflow:hidden}.fc .fc-timeline-slot-cushion{padding:4px 5px;white-space:nowrap}.fc-direction-ltr .fc-timeline-slot{border-right:0!important}.fc-direction-rtl .fc-timeline-slot{border-left:0!important}.fc .fc-timeline-now-indicator-container{position:absolute;z-index:4;top:0;bottom:0;left:0;right:0;width:0}.fc .fc-timeline-now-indicator-arrow,.fc .fc-timeline-now-indicator-line{position:absolute;top:0;border-style:solid;border-color:red;border-color:var(--fc-now-indicator-color,red)}.fc .fc-timeline-now-indicator-arrow{margin:0 -6px;border-width:6px 5px 0;border-left-color:transparent;border-right-color:transparent}.fc .fc-timeline-now-indicator-line{margin:0 -1px;bottom:0;border-width:0 0 0 1px}.fc .fc-timeline-events{position:relative;z-index:3;width:0}.fc .fc-timeline-event-harness,.fc .fc-timeline-more-link{position:absolute;top:0}.fc-timeline-event{z-index:1}.fc-timeline-event.fc-event-mirror{z-index:2}.fc-timeline-event{position:relative;display:flex;align-items:center;border-radius:0;padding:2px 1px;margin-bottom:1px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timeline-event .fc-event-main{flex-grow:1;flex-shrink:1;min-width:0}.fc-timeline-event .fc-event-time{font-weight:700}.fc-timeline-event .fc-event-time,.fc-timeline-event .fc-event-title{white-space:nowrap;padding:0 2px}.fc-direction-ltr .fc-timeline-event.fc-event-end,.fc-direction-ltr .fc-timeline-more-link{margin-right:1px}.fc-direction-rtl .fc-timeline-event.fc-event-end,.fc-direction-rtl .fc-timeline-more-link{margin-left:1px}.fc-timeline-overlap-disabled .fc-timeline-event{padding-top:5px;padding-bottom:5px;margin-bottom:0}.fc-timeline-event:not(.fc-event-end):after,.fc-timeline-event:not(.fc-event-start):before{content:"";flex-grow:0;flex-shrink:0;opacity:.5;width:0;height:0;margin:0 1px;border-color:transparent #000;border-style:solid;border-width:5px}.fc-direction-ltr .fc-timeline-event:not(.fc-event-start):before,.fc-direction-rtl .fc-timeline-event:not(.fc-event-end):after{border-left:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-end):after,.fc-direction-rtl .fc-timeline-event:not(.fc-event-start):before{border-right:0}.fc-timeline-more-link{font-size:.85em;font-size:var(--fc-small-font-size,.85em);color:inherit;color:var(--fc-more-link-text-color,inherit);background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);padding:1px;cursor:pointer}.fc-timeline-more-link-inner{display:inline-block;left:0;right:0;padding:2px}.fc .fc-timeline-bg{position:absolute;z-index:2;top:0;bottom:0;width:0;left:0;right:0}.fc .fc-timeline-bg .fc-non-business{z-index:1}.fc .fc-timeline-bg .fc-bg-event{z-index:2}.fc .fc-timeline-bg .fc-highlight{z-index:3}.fc .fc-timeline-bg-harness{position:absolute;top:0;bottom:0}.fc .fc-resource-timeline-divider{width:3px;cursor:col-resize}.fc .fc-resource-group{font-weight:inherit;text-align:inherit}.fc .fc-resource-timeline .fc-resource-group:not([rowspan]){background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc .fc-timeline-lane-frame{position:relative}.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events{box-sizing:content-box;padding-bottom:10px}.fc-timeline-body-expandrows td.fc-timeline-lane{position:relative}.fc-timeline-body-expandrows .fc-timeline-lane-frame{position:static}.fc-datagrid-cell-frame-liquid{height:100%}.fc-liquid-hack .fc-datagrid-cell-frame-liquid{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-datagrid-header .fc-datagrid-cell-frame{position:relative;display:flex;justify-content:flex-start;align-items:center}.fc .fc-datagrid-cell-resizer{position:absolute;z-index:1;top:0;bottom:0;width:5px;cursor:col-resize}.fc .fc-datagrid-cell-cushion{padding:8px;white-space:nowrap;overflow:hidden}.fc .fc-datagrid-expander{cursor:pointer;opacity:.65}.fc .fc-datagrid-expander .fc-icon{display:inline-block;width:1em}.fc .fc-datagrid-expander-placeholder{cursor:auto}.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder{display:none}.fc-direction-ltr .fc-datagrid-cell-resizer{right:-3px}.fc-direction-rtl .fc-datagrid-cell-resizer{left:-3px}.fc-direction-ltr .fc-datagrid-expander{margin-right:3px}.fc-direction-rtl .fc-datagrid-expander{margin-left:3px}'],encapsulation:2}),n})(),UA=(()=>{class n{static registerPlugins(t){re.globalPlugins.push(...t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[]]}),n})();const HA=["fullcalendar"];let jA=(()=>{class n{constructor(){this.addEventClick=()=>{var t,r;const i=tr(Date.now(),"YYYY-MM-dd","en_US"),l=prompt("Enter a date in YYYY-MM-DD format",i),f=new Date(l+"T00:00:00"),m=prompt("Enter the number of minutes you were Mindful today");isNaN(f.valueOf())?alert("Invalid date."):(null===(t=this.calendarComponent)||void 0===t||t.getApi().addEvent({title:"Mindful for "+m+" minutes.",start:f,allDay:!0}),console.log(null===(r=this.calendarComponent)||void 0===r?void 0:r.getApi().getEvents()))},this.dateClick=t=>{alert("Date: "+t.dateStr),alert("Resource ID: "+t.resource.id)},this.eventClick=t=>{alert("Event: "+t.event.title)},this.calendarOptions={plugins:[N_],eventDisplay:"",defaultRangeSeparator:"",titleRangeSeparator:"",defaultTimedEventDuration:"",defaultAllDayEventDuration:{day:1},forceEventDuration:!0,nextDayThreshold:"",dayHeaders:!0,initialView:"dayGridMonth",aspectRatio:1,headerToolbar:{start:"addEventButton",center:"",end:"dayGridMonth today prev next"},weekends:!0,weekNumbers:!0,editable:!0,nowIndicator:!0,themeSystem:"bootstrap",dragRevertDuration:1,dayPopoverFormat:{month:"2-digit",day:"2-digit",year:"2-digit"},handleWindowResize:!0,windowResizeDelay:0,longPressDelay:0,eventDragMinDistance:0,expandRows:!0,navLinks:!0,selectable:!0,eventMinHeight:0,eventMinWidth:0,eventShortHeight:0,customButtons:{addEventButton:{text:"Log New Meditation",click:this.addEventClick}},eventClick:this.addEventClick.bind(this)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-calendar"]],viewQuery:function(t,r){if(1&t&&h.Gf(HA,5),2&t){let i;h.iGM(i=h.CRH())&&(r.calendarComponent=i.first)}},decls:5,vars:1,consts:[[1,"container","formMain"],[1,"row"],[1,"col-12"],["id","calendar-main",3,"options"],["fullcalendar",""]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2),h._UZ(3,"full-calendar",3,4),h.qZA()()()),2&t&&(h.xp6(3),h.Q6J("options",r.calendarOptions))},directives:[bT],styles:[".form-group[_ngcontent-%COMP%]{padding:1rem}#calendar-main[_ngcontent-%COMP%]{position:relative;scale:.01vh;max-width:70vw!important;max-height:70vh!important;padding:25px;color:#fff}"]}),n})();var rt=$(5861);const GA=["toast-component",""];function zA(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",5),h.NdJ("click",function(){return h.CHM(t),h.oxw().remove()}),h.TgZ(1,"span",6),h._uU(2,"\xd7"),h.qZA()()}}function AT(n,e){if(1&n&&(h.ynx(0),h._uU(1),h.BQk()),2&n){const t=h.oxw(2);h.xp6(1),h.hij("[",t.duplicatesCount+1,"]")}}function wT(n,e){if(1&n&&(h.TgZ(0,"div"),h._uU(1),h.YNc(2,AT,2,1,"ng-container",4),h.qZA()),2&n){const t=h.oxw();h.Tol(t.options.titleClass),h.uIk("aria-label",t.title),h.xp6(1),h.hij(" ",t.title," "),h.xp6(1),h.Q6J("ngIf",t.duplicatesCount)}}function Tx(n,e){if(1&n&&h._UZ(0,"div",7),2&n){const t=h.oxw();h.Tol(t.options.messageClass),h.Q6J("innerHTML",t.message,h.oJD)}}function Sx(n,e){if(1&n&&(h.TgZ(0,"div",8),h._uU(1),h.qZA()),2&n){const t=h.oxw();h.Tol(t.options.messageClass),h.uIk("aria-label",t.message),h.xp6(1),h.hij(" ",t.message," ")}}function Ix(n,e){if(1&n&&(h.TgZ(0,"div"),h._UZ(1,"div",9),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Udp("width",t.width+"%")}}function Mx(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",5),h.NdJ("click",function(){return h.CHM(t),h.oxw().remove()}),h.TgZ(1,"span",6),h._uU(2,"\xd7"),h.qZA()()}}function $A(n,e){if(1&n&&(h.ynx(0),h._uU(1),h.BQk()),2&n){const t=h.oxw(2);h.xp6(1),h.hij("[",t.duplicatesCount+1,"]")}}function xm(n,e){if(1&n&&(h.TgZ(0,"div"),h._uU(1),h.YNc(2,$A,2,1,"ng-container",4),h.qZA()),2&n){const t=h.oxw();h.Tol(t.options.titleClass),h.uIk("aria-label",t.title),h.xp6(1),h.hij(" ",t.title," "),h.xp6(1),h.Q6J("ngIf",t.duplicatesCount)}}function CT(n,e){if(1&n&&h._UZ(0,"div",7),2&n){const t=h.oxw();h.Tol(t.options.messageClass),h.Q6J("innerHTML",t.message,h.oJD)}}function DT(n,e){if(1&n&&(h.TgZ(0,"div",8),h._uU(1),h.qZA()),2&n){const t=h.oxw();h.Tol(t.options.messageClass),h.uIk("aria-label",t.message),h.xp6(1),h.hij(" ",t.message," ")}}function WA(n,e){if(1&n&&(h.TgZ(0,"div"),h._UZ(1,"div",9),h.qZA()),2&n){const t=h.oxw();h.xp6(1),h.Udp("width",t.width+"%")}}class TT{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Nm{constructor(e,t,r,i,l,f){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=l,this.toastRef=f,this._onTap=new ai.x,this._onAction=new ai.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const qA={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},k_=new h.OlP("ToastConfig");class IT{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new ai.x,this._activate=new ai.x,this._manualClose=new ai.x,this._resetTimeout=new ai.x,this._countDuplicate=new ai.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class MT{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,r){return e===Nm?this._toastPackage:this._parentInjector.get(e,t,r)}}class If extends class ST{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class xT{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let ZA=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RT=(()=>{class n{constructor(t,r,i,l){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=i,this._document=l,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new If(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new xT(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ZA),h.LFG(h._Vd),h.LFG(h.z2F),h.LFG(be))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mf=(()=>{class n{constructor(t,r,i,l,f){this.overlay=r,this._injector=i,this.sanitizer=l,this.ngZone=f,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,r,i={},l=""){return this._preBuildNotification(l,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,l){const{includeTitleDuplicates:f}=this.toastrConfig;for(const m of this.toasts){const E=f&&m.title===t;if((!f||E)&&m.message===r)return m.toastRef.onDuplicate(i,l),m}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,l){return l.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,l)):this._buildNotification(t,r,i,l)}_buildNotification(t,r,i,l){if(!l.toastComponent)throw new Error("toastComponent required");const f=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&l.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==f)return f;this.previousToastMessage=r;let m=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(m=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const E=this.overlay.create(l.positionClass,this.overlayContainer);this.index=this.index+1;let C=r;r&&l.enableHtml&&(C=this.sanitizer.sanitize(h.q3G.HTML,r));const k=new IT(E),O=new Nm(this.index,l,C,i,t,k),q=new MT(O,this._injector),J=new TT(l.toastComponent,q),oe=E.attach(J,this.toastrConfig.newestOnTop);k.componentInstance=oe.instance;const Me={toastId:this.index,title:i||"",message:r||"",toastRef:k,onShown:k.afterActivate(),onHidden:k.afterClosed(),onTap:O.onTap(),onAction:O.onAction(),portal:oe};return m||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Me.toastRef.activate()})),this.toasts.push(Me),Me}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(k_),h.LFG(RT),h.LFG(h.zs3),h.LFG(xl),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NT=(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(l=>{this.duplicatesCount=l})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Mf),h.Y36(Nm),h.Y36(h.R0b))},n.\u0275cmp=h.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&h.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(h.d8E("@flyInOut",r.state),h.Tol(r.toastClasses),h.Udp("display",r.displayStyle))},attrs:GA,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(h.YNc(0,zA,3,0,"button",0),h.YNc(1,wT,3,5,"div",1),h.YNc(2,Tx,1,3,"div",2),h.YNc(3,Sx,2,4,"div",3),h.YNc(4,Ix,2,2,"div",4)),2&t&&(h.Q6J("ngIf",r.options.closeButton),h.xp6(1),h.Q6J("ngIf",r.title),h.xp6(1),h.Q6J("ngIf",r.message&&r.options.enableHtml),h.xp6(1),h.Q6J("ngIf",r.message&&!r.options.enableHtml),h.xp6(1),h.Q6J("ngIf",r.options.progressBar))},directives:[yr],encapsulation:2,data:{animation:[Fh("flyInOut",[Xd("inactive",$l({opacity:0})),Xd("active",$l({opacity:1})),Xd("removed",$l({opacity:0})),Vh("inactive => active",Ig("{{ easeTime }}ms {{ easing }}")),Vh("active => removed",Ig("{{ easeTime }}ms {{ easing }}"))])]}}),n})();const KA=Object.assign(Object.assign({},qA),{toastComponent:NT});let kT=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:k_,useValue:{default:KA,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[es]]}),n})(),PT=(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.appRef=i,this.width=-1,this.toastClasses="",this.state="inactive",this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(l=>{this.duplicatesCount=l})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Mf),h.Y36(Nm),h.Y36(h.z2F))},n.\u0275cmp=h.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,r){1&t&&h.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(h.Tol(r.toastClasses),h.Udp("display",r.displayStyle))},attrs:GA,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(h.YNc(0,Mx,3,0,"button",0),h.YNc(1,xm,3,5,"div",1),h.YNc(2,CT,1,3,"div",2),h.YNc(3,DT,2,4,"div",3),h.YNc(4,WA,2,2,"div",4)),2&t&&(h.Q6J("ngIf",r.options.closeButton),h.xp6(1),h.Q6J("ngIf",r.title),h.xp6(1),h.Q6J("ngIf",r.message&&r.options.enableHtml),h.xp6(1),h.Q6J("ngIf",r.message&&!r.options.enableHtml),h.xp6(1),h.Q6J("ngIf",r.options.progressBar))},directives:[yr],encapsulation:2}),n})();Object.assign(Object.assign({},qA),{toastComponent:PT});var km=$(198),Qn=$(2090),Ku=$(9681),fl=$(1877),Pm=$(4859),Om=$(127),LT=$(4986),Oi=$(1038);function P_(){return(0,ks.e)((n,e)=>{let t,r=!1;n.subscribe((0,Mi.x)(e,i=>{const l=t;t=i,r&&e.next([l,i]),r=!0}))})}function BT(n,e){return n===e}var Qt,ka=$(2011),UT=($(5881),$(3942)),YA="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},hl={},O_=O_||{},kn=YA||self;function Fm(){}function F_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Mp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var xp="closure_uid_"+(1e9*Math.random()>>>0),JA=0;function V_(n,e,t){return n.call.apply(n.bind,arguments)}function HT(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Ki(n,e,t){return(Ki=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?V_:HT).apply(null,arguments)}function xf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Qi(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,l){for(var f=Array(arguments.length-2),m=2;m<arguments.length;m++)f[m-2]=arguments[m];return e.prototype[i].apply(r,f)}}function Xl(){this.s=this.s,this.o=this.o}var XA={};Xl.prototype.s=!1,Xl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function L_(n){return Object.prototype.hasOwnProperty.call(n,xp)&&n[xp]||(n[xp]=++JA)}(this);delete XA[n]}},Xl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ew=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},B_=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in i&&e.call(t,i[l],l,n)};function tw(n){return Array.prototype.concat.apply([],arguments)}function Rf(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Lm(n){return/^[\s\xa0]*$/.test(n)}var to,td=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function wi(n,e){return-1!=n.indexOf(e)}function U_(n,e){return n<e?-1:n>e?1:0}e:{var H_=kn.navigator;if(H_){var nw=H_.userAgent;if(nw){to=nw;break e}}to=""}function j_(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function rw(n){const e={};for(const t in n)e[t]=n[t];return e}var iw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G_(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let l=0;l<iw.length;l++)t=iw[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Vm(n){return Vm[" "](n),n}Vm[" "]=Fm;var Nf,n,Bm=wi(to,"Opera"),pl=wi(to,"Trident")||wi(to,"MSIE"),sw=wi(to,"Edge"),Um=sw||pl,$_=wi(to,"Gecko")&&!(wi(to.toLowerCase(),"webkit")&&!wi(to,"Edge"))&&!(wi(to,"Trident")||wi(to,"MSIE"))&&!wi(to,"Edge"),GT=wi(to.toLowerCase(),"webkit")&&!wi(to,"Edge");function ow(){var n=kn.document;return n?n.documentMode:void 0}e:{var W_="",aw=(n=to,$_?/rv:([^\);]+)(\)|;)/.exec(n):sw?/Edge\/([\d\.]+)/.exec(n):pl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):GT?/WebKit\/(\S+)/.exec(n):Bm?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(aw&&(W_=aw?aw[1]:""),pl){var q_=ow();if(null!=q_&&q_>parseFloat(W_)){Nf=String(q_);break e}}Nf=W_}var zT={};var kx=kn.document&&pl&&(ow()||parseInt(Nf,10))||void 0,lw=function(){if(!kn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{kn.addEventListener("test",Fm,e),kn.removeEventListener("test",Fm,e)}catch(t){}return n}();function os(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function jm(n,e){if(os.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if($_){e:{try{Vm(e.nodeName);var i=!0;break e}catch(l){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:uw[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&jm.Z.h.call(this)}}os.prototype.h=function(){this.defaultPrevented=!0},Qi(jm,os);var uw={2:"touch",3:"pen",4:"mouse"};jm.prototype.h=function(){jm.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Gm="closure_listenable_"+(1e6*Math.random()|0),cw=0;function Z_(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++cw,this.ca=this.fa=!1}function zm(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function $m(n){this.src=n,this.g={},this.h=0}function K_(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],i=ew(r,e);(l=0<=i)&&Array.prototype.splice.call(r,i,1),l&&(zm(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Q_(n,e,t,r){for(var i=0;i<n.length;++i){var l=n[i];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return i}return-1}$m.prototype.add=function(n,e,t,r,i){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var f=Q_(n,e,r,i);return-1<f?(e=n[f],t||(e.fa=!1)):((e=new Z_(e,this.src,l,!!r,i)).fa=t,n.push(e)),e};var Y_="closure_lm_"+(1e6*Math.random()|0),J_={};function dw(n,e,t,r,i){if(r&&r.once)return hw(n,e,t,r,i);if(Array.isArray(e)){for(var l=0;l<e.length;l++)dw(n,e[l],t,r,i);return null}return t=Km(t),n&&n[Gm]?n.N(e,t,Mp(r)?!!r.capture:!!r,i):fw(n,e,t,!1,r,i)}function fw(n,e,t,r,i,l){if(!e)throw Error("Invalid event type");var f=Mp(i)?!!i.capture:!!i,m=qm(n);if(m||(n[Y_]=m=new $m(n)),(t=m.add(e,t,r,f,l)).proxy)return t;if(r=function $T(){var e=pw;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)lw||(i=f),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(X_(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function hw(n,e,t,r,i){if(Array.isArray(e)){for(var l=0;l<e.length;l++)hw(n,e[l],t,r,i);return null}return t=Km(t),n&&n[Gm]?n.O(e,t,Mp(r)?!!r.capture:!!r,i):fw(n,e,t,!0,r,i)}function Pf(n,e,t,r,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)Pf(n,e[l],t,r,i);else r=Mp(r)?!!r.capture:!!r,t=Km(t),n&&n[Gm]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Q_(l=n.g[e],t,r,i))&&(zm(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=qm(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Q_(e,t,r,i)),(t=-1<n?e[n]:null)&&Wm(t))}function Wm(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Gm])K_(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(X_(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=qm(e))?(K_(t,n),0==t.h&&(t.src=null,e[Y_]=null)):zm(n)}}}function X_(n){return n in J_?J_[n]:J_[n]="on"+n}function pw(n,e){if(n.ca)n=!0;else{e=new jm(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Wm(n),n=t.call(r,e)}return n}function qm(n){return(n=n[Y_])instanceof $m?n:null}var Zm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Km(n){return"function"==typeof n?n:(n[Zm]||(n[Zm]=function(e){return n.handleEvent(e)}),n[Zm])}function Fi(){Xl.call(this),this.i=new $m(this),this.P=this,this.I=null}function Li(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new os(e,n);else if(e instanceof os)e.target=e.target||n;else{var i=e;G_(e=new os(r,n),i)}if(i=!0,t)for(var l=t.length-1;0<=l;l--){var f=e.g=t[l];i=Qm(f,r,!0,e)&&i}if(i=Qm(f=e.g=n,r,!0,e)&&i,i=Qm(f,r,!1,e)&&i,t)for(l=0;l<t.length;l++)i=Qm(f=e.g=t[l],r,!1,e)&&i}function Qm(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var f=e[l];if(f&&!f.ca&&f.capture==t){var m=f.listener,E=f.ia||f.src;f.fa&&K_(n.i,f),i=!1!==m.call(E,r)&&i}}return i&&!r.defaultPrevented}Qi(Fi,Xl),Fi.prototype[Gm]=!0,Fi.prototype.removeEventListener=function(n,e,t,r){Pf(this,n,e,t,r)},Fi.prototype.M=function(){if(Fi.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)zm(t[r]);delete n.g[e],n.h--}}this.I=null},Fi.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Fi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var e0=kn.JSON.stringify;function WT(){var n=gw;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var n0,Of=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new ZT,n=>n.reset());class ZT{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function t0(n){kn.setTimeout(()=>{throw n},0)}function Yo(n,e){n0||function r0(){var n=kn.Promise.resolve(void 0);n0=function(){n.then(KT)}}(),rd||(n0(),rd=!0),gw.add(n,e)}var rd=!1,gw=new class qT{constructor(){this.h=this.g=null}add(e,t){const r=Of.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function KT(){for(var n;n=WT();){try{n.h.call(n.g)}catch(t){t0(t)}var e=Of;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}rd=!1}function Ym(n,e){Fi.call(this),this.h=n||1,this.g=e||kn,this.j=Ki(this.kb,this),this.l=Date.now()}function Ff(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Lf(n,e,t){if("function"==typeof n)t&&(n=Ki(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ki(n.handleEvent,n)}return 2147483647<Number(e)?-1:kn.setTimeout(n,e||0)}function mw(n){n.g=Lf(()=>{n.g=null,n.i&&(n.i=!1,mw(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Qi(Ym,Fi),(Qt=Ym.prototype).da=!1,Qt.S=null,Qt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Li(this,"tick"),this.da&&(Ff(this),this.start()))}},Qt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Qt.M=function(){Ym.Z.M.call(this),Ff(this),delete this.g};class QT extends Xl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:mw(this)}M(){super.M(),this.g&&(kn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vf(n){Xl.call(this),this.h=n,this.g={}}Qi(Vf,Xl);var s0=[];function Jm(n,e,t,r){Array.isArray(t)||(t&&(s0[0]=t.toString()),t=s0);for(var i=0;i<t.length;i++){var l=dw(e,t[i],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function o0(n){j_(n.g,function(e,t){this.g.hasOwnProperty(t)&&Wm(e)},n),n.g={}}function Xm(){this.g=!0}function Qu(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function vw(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var l=i[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var f=1;f<i.length;f++)i[f]=""}}}return e0(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}Vf.prototype.M=function(){Vf.Z.M.call(this),o0(this)},Vf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xm.prototype.Aa=function(){this.g=!1},Xm.prototype.info=function(){};var eu={},ev=null;function tv(){return ev=ev||new Fi}function yw(n){os.call(this,eu.Ma,n)}function Rp(n){const e=tv();Li(e,new yw(e,n))}function _w(n,e){os.call(this,eu.STAT_EVENT,n),this.stat=e}function as(n){const e=tv();Li(e,new _w(e,n))}function nv(n,e){os.call(this,eu.Na,n),this.size=e}function Bf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return kn.setTimeout(function(){n()},e)}eu.Ma="serverreachability",Qi(yw,os),eu.STAT_EVENT="statevent",Qi(_w,os),eu.Na="timingevent",Qi(nv,os);var Np={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},l0={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function rv(){}function u0(){}rv.prototype.h=null;var d0,Uf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function c0(){os.call(this,"d")}function iv(){os.call(this,"c")}function Vi(){}function gl(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Vf(this),this.P=JT,this.W=new Ym(n=Um?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new bw}function bw(){this.i=null,this.g="",this.h=!1}Qi(c0,os),Qi(iv,os),Qi(Vi,rv),Vi.prototype.g=function(){return new XMLHttpRequest},Vi.prototype.i=function(){return{}},d0=new Vi;var JT=45e3,Aw={},Yu={};function f0(n,e,t){n.K=1,n.v=dv(Pa(e)),n.s=t,n.U=!0,sv(n,null)}function sv(n,e){n.F=Date.now(),kp(n),n.A=Pa(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),nS(t.h,"t",r),n.C=0,t=n.l.H,n.h=new bw,n.g=Av(n.l,t?e:null,!n.s),0<n.O&&(n.L=new QT(Ki(n.Ia,n,n.g),n.O)),Jm(n.V,n.g,"readystatechange",n.gb),e=n.H?rw(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Rp(1),function YT(n,e,t,r,i,l){n.info(function(){if(n.g)if(l)for(var f="",m=l.split("&"),E=0;E<m.length;E++){var C=m[E].split("=");if(1<C.length){var k=C[0];C=C[1];var O=k.split("_");f=2<=O.length&&"type"==O[1]?f+(k+"=")+C+"&":f+(k+"=redacted&")}}else f=null;else f=l;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+f})}(n.j,n.u,n.A,n.m,n.X,n.s)}function ww(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function h0(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=XT(n,t),i==Yu){4==e&&(n.o=4,as(14),r=!1),Qu(n.j,n.m,null,"[Incomplete Response]");break}if(i==Aw){n.o=4,as(15),Qu(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Qu(n.j,n.m,i,null),Op(n,i)}ww(n)&&i!=Yu&&i!=Aw&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,as(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Lw(e),e.L=!0,as(11))):(Qu(n.j,n.m,t,"[Invalid Chunked Response]"),ml(n),Hf(n))}function XT(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Yu:(t=Number(e.substring(t,r)),isNaN(t)?Aw:(r+=1)+t>e.length?Yu:(e=e.substr(r,t),n.C=r+t,e))}function kp(n){n.Y=Date.now()+n.P,ov(n,n.P)}function ov(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Bf(Ki(n.eb,n),e)}function Pp(n){n.B&&(kn.clearTimeout(n.B),n.B=null)}function Hf(n){0==n.l.G||n.I||Bw(n.l,n)}function ml(n){Pp(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Ff(n.W),o0(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Op(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Gf(t.i,n)))if(t.I=n.N,!n.J&&Gf(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(C){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Bf(Ki(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;bv(t),yv(t)}T0(t),as(18)}if(1>=sS(t.i)&&t.ka){try{t.ka()}catch(C){}t.ka=void 0}}else od(t,11)}else if((n.J||t.g==n)&&bv(t),!Lm(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let C=i[e];if(t.U=C[0],C=C[1],2==t.G)if("c"==C[0]){t.J=C[1],t.la=C[2];const k=C[3];null!=k&&(t.ma=k,t.h.info("VER="+t.ma));const O=C[4];null!=O&&(t.za=O,t.h.info("SVER="+t.za));const q=C[5];null!=q&&"number"==typeof q&&0<q&&(t.K=r=1.5*q,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const J=n.g;if(J){const oe=J.g?J.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oe){var l=r.i;!l.g&&(wi(oe,"spdy")||wi(oe,"quic")||wi(oe,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(Nw(l,l.h),l.h=null))}if(r.D){const Me=J.g?J.g.getResponseHeader("X-HTTP-Session-Id"):null;Me&&(r.sa=Me,Lr(r.F,r.D,Me))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var f=n;if((r=t).oa=pS(r,r.H?r.la:null,r.W),f.J){y0(r.i,f);var m=f,E=r.K;E&&m.setTimeout(E),m.B&&(Pp(m),kp(m)),r.g=f}else D0(r);0<t.l.length&&_v(t)}else"stop"!=C[0]&&"close"!=C[0]||od(t,7);else 3==t.G&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?od(t,7):vv(t):"noop"!=C[0]&&t.j&&t.j.wa(C),t.A=0)}Rp(4)}catch(C){}}function av(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(F_(n)||"string"==typeof n)B_(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(F_(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function Ox(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(F_(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var l=0;l<i;l++)e.call(void 0,r[l],t&&t[l],n)}}function jf(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof jf)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function lv(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];vl(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)vl(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function vl(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Qt=gl.prototype).setTimeout=function(n){this.P=n},Qt.gb=function(n){n=n.target;const e=this.L;e&&3==nu(n)?e.l():this.Ia(n)},Qt.Ia=function(n){try{if(n==this.g)e:{const k=nu(this.g);var e=this.g.Da();const O=this.g.ba();if(!(3>k)&&(3!=k||Um||this.g&&(this.h.h||this.g.ga()||mv(this.g)))){this.I||4!=k||7==e||Rp(8==e||0>=O?3:2),Pp(this);var t=this.g.ba();this.N=t;t:if(ww(this)){var r=mv(this.g);n="";var i=r.length,l=4==nu(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ml(this),Hf(this);var f="";break t}this.h.i=new kn.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,f=this.h.g}else f=this.g.ga();if(this.i=200==t,function Px(n,e,t,r,i,l,f){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+l+" "+f})}(this.j,this.u,this.A,this.m,this.X,k,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,E=this.g;if((m=E.g?E.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Lm(m)){var C=m;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,as(12),ml(this),Hf(this);break e}Qu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Op(this,t)}this.U?(h0(this,k,f),Um&&this.i&&3==k&&(Jm(this.V,this.W,"tick",this.fb),this.W.start())):(Qu(this.j,this.m,f,null),Op(this,f)),4==k&&ml(this),this.i&&!this.I&&(4==k?Bw(this.l,this):(this.i=!1,kp(this)))}else 400==t&&0<f.indexOf("Unknown SID")?(this.o=3,as(12)):(this.o=0,as(13)),ml(this),Hf(this)}}}catch(k){}},Qt.fb=function(){if(this.g){var n=nu(this.g),e=this.g.ga();this.C<e.length&&(Pp(this),h0(this,n,e),this.i&&4!=n&&kp(this))}},Qt.cancel=function(){this.I=!0,ml(this)},Qt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function a0(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Rp(3),as(17)),ml(this),this.o=2,Hf(this)):ov(this,this.Y-n)},(Qt=jf.prototype).R=function(){lv(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Qt.T=function(){return lv(this),this.g.concat()},Qt.get=function(n,e){return vl(this.h,n)?this.h[n]:e},Qt.set=function(n,e){vl(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Qt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],l=this.get(i);n.call(e,l,i,this)}};var p0=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function tu(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof tu){this.g=void 0!==e?e:n.g,g0(this,n.j),this.s=n.s,uv(this,n.i),cv(this,n.m),this.l=n.l,e=n.h;var t=new Vp;t.i=e.i,e.g&&(t.g=new jf(e.g),t.h=e.h),m0(this,t),this.o=n.o}else n&&(t=String(n).match(p0))?(this.g=!!e,g0(this,t[1]||"",!0),this.s=Fp(t[2]||""),uv(this,t[3]||"",!0),cv(this,t[4]),this.l=Fp(t[5]||"",!0),m0(this,t[6]||"",!0),this.o=Fp(t[7]||"")):(this.g=!!e,this.h=new Vp(null,this.g))}function Pa(n){return new tu(n)}function g0(n,e,t){n.j=t?Fp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function uv(n,e,t){n.i=t?Fp(e,!0):e}function cv(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function m0(n,e,t){e instanceof Vp?(n.h=e,function Fx(n,e){e&&!n.j&&(Ju(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(tS(this,r),nS(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Lp(e,xw)),n.h=new Vp(e,n.g))}function Lr(n,e,t){n.h.set(e,t)}function dv(n){return Lr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Fp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Lp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Tw),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Tw(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}tu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Lp(e,Sw,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Lp(e,Sw,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Lp(t,"/"==t.charAt(0)?Mw:Iw,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Lp(t,Rw)),n.join("")};var Sw=/[#\/\?@]/g,Iw=/[#\?:]/g,Mw=/[#\?]/g,xw=/[#\?@]/g,Rw=/#/g;function Vp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ju(n){n.g||(n.g=new jf,n.h=0,n.i&&function eS(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var l=n[t].substring(0,r);i=n[t].substring(r+1)}else l=n[t];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function tS(n,e){Ju(n),e=Bp(n,e),vl(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,vl((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&lv(n)))}function v0(n,e){return Ju(n),e=Bp(n,e),vl(n.g.h,e)}function nS(n,e,t){tS(n,e),0<t.length&&(n.i=null,n.g.set(Bp(n,e),Rf(t)),n.h+=t.length)}function Bp(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function rS(n){this.l=n||Vx,n=kn.PerformanceNavigationTiming?0<(n=kn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(kn.g&&kn.g.Ea&&kn.g.Ea()&&kn.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Qt=Vp.prototype).add=function(n,e){Ju(this),this.i=null,n=Bp(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Qt.forEach=function(n,e){Ju(this),this.g.forEach(function(t,r){B_(t,function(i){n.call(e,i,r,this)},this)},this)},Qt.T=function(){Ju(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],l=0;l<i.length;l++)t.push(e[r]);return t},Qt.R=function(n){Ju(this);var e=[];if("string"==typeof n)v0(this,n)&&(e=tw(e,this.g.get(Bp(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=tw(e,n[t])}return e},Qt.set=function(n,e){return Ju(this),this.i=null,v0(this,n=Bp(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Qt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Qt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var f=i;""!==r[l]&&(f+="="+encodeURIComponent(String(r[l]))),n.push(f)}}return this.i=n.join("&")};var Vx=10;function iS(n){return!!n.h||!!n.g&&n.g.size>=n.j}function sS(n){return n.h?1:n.g?n.g.size:0}function Gf(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Nw(n,e){n.g?n.g.add(e):n.h=e}function y0(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function fv(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Rf(n.i)}function hv(){}function kw(){this.g=new hv}function Bx(n,e,t){const r=t||"";try{av(n,function(i,l){let f=i;Mp(i)&&(f=e0(i)),e.push(r+l+"="+encodeURIComponent(f))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Up(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(l){}}function Hp(n){this.l=n.$b||null,this.j=n.ib||!1}function jp(n,e){Fi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Pw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rS.prototype.cancel=function(){if(this.i=fv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},hv.prototype.stringify=function(n){return kn.JSON.stringify(n,void 0)},hv.prototype.parse=function(n){return kn.JSON.parse(n,void 0)},Qi(Hp,rv),Hp.prototype.g=function(){return new jp(this.l,this.j)},Hp.prototype.i=function(n){return function(){return n}}({}),Qi(jp,Fi);var Pw=0;function Ow(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Gp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,id(n)}function id(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Qt=jp.prototype).open=function(n,e){if(this.readyState!=Pw)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,id(this)},Qt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||kn).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Qt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Gp(this)),this.readyState=Pw},Qt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,id(this)),this.g&&(this.readyState=3,id(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==kn.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ow(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Qt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Gp(this):id(this),3==this.readyState&&Ow(this)}},Qt.Ua=function(n){this.g&&(this.response=this.responseText=n,Gp(this))},Qt.Ta=function(n){this.g&&(this.response=n,Gp(this))},Qt.ha=function(){this.g&&Gp(this)},Qt.setRequestHeader=function(n,e){this.v.append(n,e)},Qt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Qt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(jp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var oS=kn.JSON.parse;function Ci(n){Fi.call(this),this.headers=new jf,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=aS,this.K=this.L=!1}Qi(Ci,Fi);var aS="",Ux=/^https?$/i,lS=["POST","PUT"];function cS(n){return"content-type"==n.toLowerCase()}function dS(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Fw(n),gv(n)}function Fw(n){n.D||(n.D=!0,Li(n,"complete"),Li(n,"error"))}function pv(n){if(n.h&&void 0!==O_&&(!n.C[1]||4!=nu(n)||2!=n.ba()))if(n.v&&4==nu(n))Lf(n.Fa,0,n);else if(Li(n,"readystatechange"),4==nu(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var i=String(n.H).match(p0)[1]||null;if(!i&&kn.self&&kn.self.location){var l=kn.self.location.protocol;i=l.substr(0,l.length-1)}r=!Ux.test(i?i.toLowerCase():"")}t=r}if(t)Li(n,"complete"),Li(n,"success");else{n.m=6;try{var f=2<nu(n)?n.g.statusText:""}catch(E){f=""}n.j=f+" ["+n.ba()+"]",Fw(n)}}finally{gv(n)}}}function gv(n,e){if(n.g){Jo(n);const t=n.g,r=n.C[0]?Fm:null;n.g=null,n.C=null,e||Li(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function Jo(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(kn.clearTimeout(n.A),n.A=null)}function nu(n){return n.g?n.g.readyState:0}function mv(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case aS:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function E0(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function fS(n){let e="";return j_(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Lr(n,e,t))}function sd(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function b0(n){this.za=0,this.l=[],this.h=new Xm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=sd("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=sd("baseRetryDelayMs",5e3,n),this.$a=sd("retryDelaySeedMs",1e4,n),this.Ya=sd("forwardChannelMaxRetries",2,n),this.ra=sd("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new rS(n&&n.concurrentRequestLimit),this.Ca=new kw,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function vv(n){if(A0(n),3==n.G){var e=n.V++,t=Pa(n.F);Lr(t,"SID",n.J),Lr(t,"RID",e),Lr(t,"TYPE","terminate"),Oa(n,t),(e=new gl(n,n.h,e,void 0)).K=2,e.v=dv(Pa(t)),t=!1,kn.navigator&&kn.navigator.sendBeacon&&(t=kn.navigator.sendBeacon(e.v.toString(),"")),!t&&kn.Image&&((new Image).src=e.v,t=!0),t||(e.g=Av(e.l,null),e.g.ea(e.v)),e.F=Date.now(),kp(e)}Uw(n)}function yv(n){n.g&&(Lw(n),n.g.cancel(),n.g=null)}function A0(n){yv(n),n.u&&(kn.clearTimeout(n.u),n.u=null),bv(n),n.i.cancel(),n.m&&("number"==typeof n.m&&kn.clearTimeout(n.m),n.m=null)}function w0(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&_v(n)}function _v(n){iS(n.i)||n.m||(n.m=!0,Yo(n.Ha,n),n.C=0)}function Ev(n,e){var t;t=e?e.m:n.V++;const r=Pa(n.F);Lr(r,"SID",n.J),Lr(r,"RID",t),Lr(r,"AID",n.U),Oa(n,r),n.o&&n.s&&E0(r,n.o,n.s),t=new gl(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=C0(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Nw(n.i,t),f0(t,r,e)}function Oa(n,e){n.j&&av({},function(t,r){Lr(e,r,t)})}function C0(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Ki(n.j.Oa,n.j,n):null;e:{var i=n.l;let l=-1;for(;;){const f=["count="+t];-1==l?0<t?(l=i[0].h,f.push("ofs="+l)):l=0:f.push("ofs="+l);let m=!0;for(let E=0;E<t;E++){let C=i[E].h;const k=i[E].g;if(C-=l,0>C)l=Math.max(0,i[E].h-100),m=!1;else try{Bx(k,f,"req"+C+"_")}catch(O){r&&r(k)}}if(m){r=f.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function D0(n){n.g||n.u||(n.Y=1,Yo(n.Ga,n),n.A=0)}function T0(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Bf(Ki(n.Ga,n),S0(n,n.A)),n.A++,0))}function Lw(n){null!=n.B&&(kn.clearTimeout(n.B),n.B=null)}function Vw(n){n.g=new gl(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Pa(n.oa);Lr(e,"RID","rpc"),Lr(e,"SID",n.J),Lr(e,"CI",n.N?"0":"1"),Lr(e,"AID",n.U),Oa(n,e),Lr(e,"TYPE","xmlhttp"),n.o&&n.s&&E0(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=dv(Pa(e)),t.s=null,t.U=!0,sv(t,n)}function bv(n){null!=n.v&&(kn.clearTimeout(n.v),n.v=null)}function Bw(n,e){var t=null;if(n.g==e){bv(n),Lw(n),n.g=null;var r=2}else{if(!Gf(n.i,e))return;t=e.D,y0(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Li(r=tv(),new nv(r,t,e,i)),_v(n)}else D0(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function hS(n,e){return!(sS(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Bf(Ki(n.Ha,n,e),S0(n,n.C)),n.C++,0)))}(n,e)||2==r&&T0(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:od(n,5);break;case 4:od(n,10);break;case 3:od(n,6);break;default:od(n,2)}}function S0(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function od(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Ki(n.jb,n);t||(t=new tu("//www.google.com/images/cleardot.gif"),kn.location&&"http"==kn.location.protocol||g0(t,"https"),dv(t)),function _0(n,e){const t=new Xm;if(kn.Image){const r=new Image;r.onload=xf(Up,t,r,"TestLoadImage: loaded",!0,e),r.onerror=xf(Up,t,r,"TestLoadImage: error",!1,e),r.onabort=xf(Up,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=xf(Up,t,r,"TestLoadImage: timeout",!1,e),kn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else as(2);n.G=0,n.j&&n.j.va(e),Uw(n),A0(n)}function Uw(n){n.G=0,n.I=-1,n.j&&((0!=fv(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Rf(n.l),n.l.length=0),n.j.ua())}function pS(n,e,t){let r=function Cw(n){return n instanceof tu?Pa(n):new tu(n,void 0)}(t);if(""!=r.i)e&&uv(r,e+"."+r.i),cv(r,r.m);else{const i=kn.location;r=function Dw(n,e,t,r){var i=new tu(null,void 0);return n&&g0(i,n),e&&uv(i,e),t&&cv(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&j_(n.aa,function(i,l){Lr(r,l,i)}),t=n.sa,(e=n.D)&&t&&Lr(r,e,t),Lr(r,"VER",n.ma),Oa(n,r),r}function Av(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ci(t&&n.Ba&&!n.qa?new Hp({ib:!0}):n.qa)).L=n.H,e}function I0(){}function wv(){if(pl&&!(10<=Number(kx)))throw Error("Environmental error: no available transport.")}function bo(n,e){Fi.call(this),this.g=new b0(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Lm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Lm(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Xu(this)}function M0(n){c0.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Cv(){iv.call(this),this.status=1}function Xu(n){this.g=n}(Qt=Ci.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():d0.g(),this.C=function Ew(n){return n.h||(n.h=n.i())}(this.u?this.u:d0),this.g.onreadystatechange=Ki(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void dS(this,l)}n=t||"";const i=new jf(this.headers);r&&av(r,function(l,f){i.set(f,l)}),r=function Nx(n){e:{var e=cS;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=kn.FormData&&n instanceof kn.FormData,!(0<=ew(lS,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(l,f){this.g.setRequestHeader(f,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Jo(this),0<this.B&&((this.K=function uS(n){return pl&&function kf(){return function z_(n){var e=zT;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=td(String(Nf)).split("."),t=td("9").split("."),r=Math.max(e.length,t.length);for(let f=0;0==n&&f<r;f++){var i=e[f]||"",l=t[f]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==i[0].length&&0==l[0].length)break;n=U_(0==i[1].length?0:parseInt(i[1],10),0==l[1].length?0:parseInt(l[1],10))||U_(0==i[2].length,0==l[2].length)||U_(i[2],l[2]),i=i[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ki(this.pa,this)):this.A=Lf(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){dS(this,l)}},Qt.pa=function(){void 0!==O_&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Li(this,"timeout"),this.abort(8))},Qt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Li(this,"complete"),Li(this,"abort"),gv(this))},Qt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gv(this,!0)),Ci.Z.M.call(this)},Qt.Fa=function(){this.s||(this.F||this.v||this.l?pv(this):this.cb())},Qt.cb=function(){pv(this)},Qt.ba=function(){try{return 2<nu(this)?this.g.status:-1}catch(n){return-1}},Qt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Qt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),oS(e)}},Qt.Da=function(){return this.m},Qt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Qt=b0.prototype).ma=8,Qt.G=1,Qt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Qt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new gl(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=rw(l),G_(l,this.P)):l=this.P),null===this.o&&(i.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=C0(this,i,e),Lr(t=Pa(this.F),"RID",n),Lr(t,"CVER",22),this.D&&Lr(t,"X-HTTP-Session-Id",this.D),Oa(this,t),this.o&&l&&E0(t,this.o,l),Nw(this.i,i),this.Ra&&Lr(t,"TYPE","init"),this.ja?(Lr(t,"$req",e),Lr(t,"SID","null"),i.$=!0,f0(i,t,null)):f0(i,t,e),this.G=2}}else 3==this.G&&(n?Ev(this,n):0==this.l.length||iS(this.i)||Ev(this))},Qt.Ga=function(){if(this.u=null,Vw(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Bf(Ki(this.bb,this),n)}},Qt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,as(10),yv(this),Vw(this))},Qt.ab=function(){null!=this.v&&(this.v=null,yv(this),T0(this),as(19))},Qt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),as(2)):(this.h.info("Failed to ping google.com"),as(1))},(Qt=I0.prototype).xa=function(){},Qt.wa=function(){},Qt.va=function(){},Qt.ua=function(){},Qt.Oa=function(){},wv.prototype.g=function(n,e){return new bo(n,e)},Qi(bo,Fi),bo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Yo(Ki(n.hb,n,e))),as(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=pS(n,null,n.W),_v(n)},bo.prototype.close=function(){vv(this.g)},bo.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,w0(this.g,e)}else this.v?((e={}).__data__=e0(n),w0(this.g,e)):w0(this.g,n)},bo.prototype.M=function(){this.g.j=null,delete this.j,vv(this.g),delete this.g,bo.Z.M.call(this)},Qi(M0,c0),Qi(Cv,iv),Qi(Xu,I0),Xu.prototype.xa=function(){Li(this.g,"a")},Xu.prototype.wa=function(n){Li(this.g,new M0(n))},Xu.prototype.va=function(n){Li(this.g,new Cv(n))},Xu.prototype.ua=function(){Li(this.g,"b")},wv.prototype.createWebChannel=wv.prototype.g,bo.prototype.send=bo.prototype.u,bo.prototype.open=bo.prototype.m,bo.prototype.close=bo.prototype.close,Np.NO_ERROR=0,Np.TIMEOUT=8,Np.HTTP_ERROR=6,l0.COMPLETE="complete",u0.EventType=Uf,Uf.OPEN="a",Uf.CLOSE="b",Uf.ERROR="c",Uf.MESSAGE="d",Fi.prototype.listen=Fi.prototype.N,Ci.prototype.listenOnce=Ci.prototype.O,Ci.prototype.getLastError=Ci.prototype.La,Ci.prototype.getLastErrorCode=Ci.prototype.Da,Ci.prototype.getStatus=Ci.prototype.ba,Ci.prototype.getResponseJson=Ci.prototype.Qa,Ci.prototype.getResponseText=Ci.prototype.ga,Ci.prototype.send=Ci.prototype.ea;var Hw=hl.createWebChannelTransport=function(){return new wv},gS=hl.getStatEventTarget=function(){return tv()},Dv=hl.ErrorCode=Np,jw=hl.EventType=l0,mS=hl.Event=eu,Gw=hl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Hx=hl.FetchXmlHttpFactory=Hp,x0=hl.WebChannel=u0,zw=hl.XhrIo=Ci;const $w="@firebase/firestore";class Yi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yi.UNAUTHENTICATED=new Yi(null),Yi.GOOGLE_CREDENTIALS=new Yi("google-credentials-uid"),Yi.FIRST_PARTY=new Yi("first-party-uid"),Yi.MOCK_USER=new Yi("mock-user");let zf="9.8.0";const ad=new fl.Yd("@firebase/firestore");function Ww(){return ad.logLevel}function Mt(n,...e){if(ad.logLevel<=fl.in.DEBUG){const t=e.map($f);ad.debug(`Firestore (${zf}): ${n}`,...t)}}function Di(n,...e){if(ad.logLevel<=fl.in.ERROR){const t=e.map($f);ad.error(`Firestore (${zf}): ${n}`,...t)}}function zp(n,...e){if(ad.logLevel<=fl.in.WARN){const t=e.map($f);ad.warn(`Firestore (${zf}): ${n}`,...t)}}function $f(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function en(n="Unexpected state"){const e=`FIRESTORE (${zf}) INTERNAL ASSERTION FAILED: `+n;throw Di(e),new Error(e)}function Mn(n,e){n||en()}function Ft(n,e){return n}const Ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends Qn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class vi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Zw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class R0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Yi.UNAUTHENTICATED))}shutdown(){}}class N0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Tv{constructor(e){this.t=e,this.currentUser=Yi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const l=C=>this.i!==i?(i=this.i,t(C)):Promise.resolve();let f=new vi;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new vi,e.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const C=f;e.enqueueRetryable((0,rt.Z)(function*(){yield C.promise,yield l(r.currentUser)}))},E=C=>{Mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(C=>E(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?E(C):(Mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new vi)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Mn("string"==typeof r.accessToken),new Zw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Mn(null===e||"string"==typeof e),new Yi(e)}}class Gx{constructor(e,t,r){this.type="FirstParty",this.user=Yi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class zx{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Gx(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Yi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $x{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=l=>{null!=l.error&&Mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const f=l.token!==this.p;return this.p=l.token,Mt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const i=l=>{Mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.g.onInit(l=>i(l)),setTimeout(()=>{if(!this.appCheck){const l=this.g.getImmediate({optional:!0});l?i(l):Mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Mn("string"==typeof t.token),this.p=t.token,new vS(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Ao{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function _S(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Ao.A=-1;class Kw{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=_S(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<t&&(r+=e.charAt(i[l]%e.length))}return r}}function Un(n,e){return n<e?-1:n>e?1:0}function ld(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function k0(n){return n+"\0"}class Jr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new gt(Ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new gt(Ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new gt(Ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new gt(Ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Jr.fromMillis(Date.now())}static fromDate(e){return Jr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Jr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Un(this.nanoseconds,e.nanoseconds):Un(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class wn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new wn(e)}static min(){return new wn(new Jr(0,0))}static max(){return new wn(new Jr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Qw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ec(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Sv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Iv{constructor(e,t,r){void 0===t?t=0:t>e.length&&en(),void 0===r?r=e.length-t:r>e.length-t&&en(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Iv.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Iv?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=e.get(i),f=t.get(i);if(l<f)return-1;if(l>f)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class sr extends Iv{construct(e,t,r){return new sr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new gt(Ke.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new sr(t)}static emptyPath(){return new sr([])}}const P0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ti extends Iv{construct(e,t,r){return new Ti(e,t,r)}static isValidIdentifier(e){return P0.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ti.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ti(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(0===r.length)throw new gt(Ke.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let f=!1;for(;i<e.length;){const m=e[i];if("\\"===m){if(i+1===e.length)throw new gt(Ke.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[i+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new gt(Ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=E,i+=2}else"`"===m?(f=!f,i++):"."!==m||f?(r+=m,i++):(l(),i++)}if(l(),f)throw new gt(Ke.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ti(t)}static emptyPath(){return new Ti([])}}class Wf{constructor(e){this.fields=e,e.sort(Ti.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ld(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Bi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Bi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new Bi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Un(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bi.EMPTY_BYTE_STRING=new Bi("");const ES=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tc(n){if(Mn(!!n),"string"==typeof n){let e=0;const t=ES.exec(n);if(Mn(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:li(n.seconds),nanos:li(n.nanos)}}function li(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function qf(n){return"string"==typeof n?Bi.fromBase64String(n):Bi.fromUint8Array(n)}function Yw(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function bS(n){const e=n.mapValue.fields.__previous_value__;return Yw(e)?bS(e):e}function Mv(n){const e=tc(n.mapValue.fields.__local_write_time__.timestampValue);return new Jr(e.seconds,e.nanos)}class AS{constructor(e,t,r,i,l,f,m,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.useFetchStreams=E}}class nc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new nc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof nc&&e.projectId===this.projectId&&e.database===this.database}}function xv(n){return null==n}function Rv(n){return 0===n&&1/n==-1/0}function wS(n){return"number"==typeof n&&Number.isInteger(n)&&!Rv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class s{constructor(e){this.path=e}static fromPath(e){return new s(sr.fromString(e))}static fromName(e){return new s(sr.fromString(e).popFirst(5))}static empty(){return new s(sr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===sr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return sr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new s(new sr(e.slice()))}}const o={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},a={nullValue:"NULL_VALUE"};function u(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Yw(n)?4:Kt(n)?9007199254740991:10:en()}function g(n,e){if(n===e)return!0;const t=u(n);if(t!==u(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Mv(n).isEqual(Mv(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=tc(r.timestampValue),f=tc(i.timestampValue);return l.seconds===f.seconds&&l.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,qf(n.bytesValue).isEqual(qf(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return li(r.geoPointValue.latitude)===li(i.geoPointValue.latitude)&&li(r.geoPointValue.longitude)===li(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return li(r.integerValue)===li(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=li(r.doubleValue),f=li(i.doubleValue);return l===f?Rv(l)===Rv(f):isNaN(l)&&isNaN(f)}return!1}(n,e);case 9:return ld(n.arrayValue.values||[],e.arrayValue.values||[],g);case 10:return function(r,i){const l=r.mapValue.fields||{},f=i.mapValue.fields||{};if(Qw(l)!==Qw(f))return!1;for(const m in l)if(l.hasOwnProperty(m)&&(void 0===f[m]||!g(l[m],f[m])))return!1;return!0}(n,e);default:return en()}var i}function y(n,e){return void 0!==(n.values||[]).find(t=>g(t,e))}function w(n,e){if(n===e)return 0;const t=u(n),r=u(e);if(t!==r)return Un(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Un(n.booleanValue,e.booleanValue);case 2:return function(i,l){const f=li(i.integerValue||i.doubleValue),m=li(l.integerValue||l.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(n,e);case 3:return S(n.timestampValue,e.timestampValue);case 4:return S(Mv(n),Mv(e));case 5:return Un(n.stringValue,e.stringValue);case 6:return function(i,l){const f=qf(i),m=qf(l);return f.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(i,l){const f=i.split("/"),m=l.split("/");for(let E=0;E<f.length&&E<m.length;E++){const C=Un(f[E],m[E]);if(0!==C)return C}return Un(f.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,l){const f=Un(li(i.latitude),li(l.latitude));return 0!==f?f:Un(li(i.longitude),li(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,l){const f=i.values||[],m=l.values||[];for(let E=0;E<f.length&&E<m.length;++E){const C=w(f[E],m[E]);if(C)return C}return Un(f.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,l){if(i===o.mapValue&&l===o.mapValue)return 0;if(i===o.mapValue)return 1;if(l===o.mapValue)return-1;const f=i.fields||{},m=Object.keys(f),E=l.fields||{},C=Object.keys(E);m.sort(),C.sort();for(let k=0;k<m.length&&k<C.length;++k){const O=Un(m[k],C[k]);if(0!==O)return O;const q=w(f[m[k]],E[C[k]]);if(0!==q)return q}return Un(m.length,C.length)}(n.mapValue,e.mapValue);default:throw en()}}function S(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Un(n,e);const t=tc(n),r=tc(e),i=Un(t.seconds,r.seconds);return 0!==i?i:Un(t.nanos,r.nanos)}function x(n){return L(n)}function L(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=tc(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?qf(n.bytesValue).toBase64():"referenceValue"in n?s.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",l=!0;for(const f of r.values||[])l?l=!1:i+=",",i+=L(f);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let l="{",f=!0;for(const m of i)f?f=!1:l+=",",l+=`${m}:${L(r.fields[m])}`;return l+"}"}(n.mapValue):en();var e}function j(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function te(n){return!!n&&"integerValue"in n}function ye(n){return!!n&&"arrayValue"in n}function Fe(n){return!!n&&"nullValue"in n}function nt(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function St(n){return!!n&&"mapValue"in n}function Nt(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ec(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Nt(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Nt(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Kt(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function ht(n){return"nullValue"in n?a:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?j(nc.empty(),s.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:en()}function hn(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?j(nc.empty(),s.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?o:en()}function Yn(n,e){const t=w(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function hr(n,e){const t=w(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Er{constructor(e){this.value=e}static empty(){return new Er({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!St(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nt(t)}setAll(e){let t=Ti.emptyPath(),r={},i=[];e.forEach((f,m)=>{if(!t.isImmediateParentOf(m)){const E=this.getFieldsMap(t);this.applyChanges(E,r,i),r={},i=[],t=m.popLast()}f?r[m.lastSegment()]=Nt(f):i.push(m.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());St(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return g(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];St(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ec(t,(i,l)=>e[i]=l);for(const i of r)delete e[i]}clone(){return new Er(Nt(this.value))}}function rc(n){const e=[];return ec(n.fields,(t,r)=>{const i=new Ti([t]);if(St(r)){const l=rc(r.mapValue).fields;if(0===l.length)e.push(i);else for(const f of l)e.push(i.child(f))}else e.push(i)}),new Wf(e)}class xr{constructor(e,t,r,i,l,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=l,this.documentState=f}static newInvalidDocument(e){return new xr(e,0,wn.min(),wn.min(),Er.empty(),0)}static newFoundDocument(e,t,r){return new xr(e,1,t,wn.min(),r,0)}static newNoDocument(e,t){return new xr(e,2,t,wn.min(),Er.empty(),0)}static newUnknownDocument(e,t){return new xr(e,3,t,wn.min(),Er.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Er.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Er.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof xr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zf{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function $p(n){return n.fields.find(e=>2===e.kind)}function ru(n){return n.fields.filter(e=>2!==e.kind)}Zf.UNKNOWN_ID=-1;class Kf{constructor(e,t){this.fieldPath=e,this.kind=t}}class ud{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new ud(0,wo.min())}}function Nv(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=wn.fromTimestamp(1e9===r?new Jr(t+1,0):new Jr(t,r));return new wo(i,s.empty(),e)}function O0(n){return new wo(n.readTime,n.key,-1)}class wo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new wo(wn.min(),s.empty(),-1)}static max(){return new wo(wn.max(),s.empty(),-1)}}function qx(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=s.comparator(n.documentKey,e.documentKey),0!==t?t:Un(n.largestBatchId,e.largestBatchId))}class Si{constructor(e,t){this.comparator=e,this.root=t||Os.EMPTY}insert(e,t){return new Si(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Os.BLACK,null,null))}remove(e){return new Si(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Os.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Jw(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Jw(this.root,e,this.comparator,!1)}getReverseIterator(){return new Jw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Jw(this.root,e,this.comparator,!0)}}class Jw{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Os{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=null!=r?r:Os.RED,this.left=null!=i?i:Os.EMPTY,this.right=null!=l?l:Os.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new Os(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===l?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Os.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Os.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Os.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Os.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw en();const e=this.left.check();if(e!==this.right.check())throw en();return e+(this.isRed()?0:1)}}Os.EMPTY=null,Os.RED=!0,Os.BLACK=!1,Os.EMPTY=new class{constructor(){this.size=0}get key(){throw en()}get value(){throw en()}get color(){throw en()}get left(){throw en()}get right(){throw en()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Os(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Hr{constructor(e){this.comparator=e,this.data=new Si(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Zx(this.data.getIterator())}getIteratorFrom(e){return new Zx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Hr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(i,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Hr(this.comparator);return t.data=e,t}}class Zx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function kv(n){return n.hasNext()?n.getNext():void 0}class Xk{constructor(e,t=null,r=[],i=[],l=null,f=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=f,this.endAt=m,this.P=null}}function Kx(n,e=null,t=[],r=[],i=null,l=null,f=null){return new Xk(n,e,t,r,i,l,f)}function Wp(n){const e=Ft(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+x(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),xv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>x(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>x(r)).join(",")),e.P=t}return e.P}function F0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!lP(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!g(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!eR(n.startAt,e.startAt)&&eR(n.endAt,e.endAt)}function Xw(n){return s.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function eC(n,e){return n.filters.filter(t=>t instanceof Fs&&t.field.isEqual(e))}function Qx(n,e,t){let r=a,i=!0;for(const l of eC(n,e)){let f=a,m=!0;switch(l.op){case"<":case"<=":f=ht(l.value);break;case"==":case"in":case">=":f=l.value;break;case">":f=l.value,m=!1;break;case"!=":case"not-in":f=a}Yn({value:r,inclusive:i},{value:f,inclusive:m})<0&&(r=f,i=m)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const f=t.position[l];Yn({value:r,inclusive:i},{value:f,inclusive:t.inclusive})<0&&(r=f,i=t.inclusive);break}return{value:r,inclusive:i}}function Yx(n,e,t){let r=o,i=!0;for(const l of eC(n,e)){let f=o,m=!0;switch(l.op){case">=":case">":f=hn(l.value),m=!1;break;case"==":case"in":case"<=":f=l.value;break;case"<":f=l.value,m=!1;break;case"!=":case"not-in":f=o}hr({value:r,inclusive:i},{value:f,inclusive:m})>0&&(r=f,i=m)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const f=t.position[l];hr({value:r,inclusive:i},{value:f,inclusive:t.inclusive})>0&&(r=f,i=t.inclusive);break}return{value:r,inclusive:i}}class Fs extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new tP(e,t,r):"array-contains"===t?new iP(e,r):"in"===t?new sP(e,r):"not-in"===t?new oP(e,r):"array-contains-any"===t?new aP(e,r):new Fs(e,t,r)}static V(e,t,r){return"in"===t?new nP(e,r):new rP(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(w(t,this.value)):null!==t&&u(this.value)===u(t)&&this.v(w(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return en()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class tP extends Fs{constructor(e,t,r){super(e,t,r),this.key=s.fromName(r.referenceValue)}matches(e){const t=s.comparator(e.key,this.key);return this.v(t)}}class nP extends Fs{constructor(e,t){super(e,"in",t),this.keys=Jx(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class rP extends Fs{constructor(e,t){super(e,"not-in",t),this.keys=Jx(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Jx(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>s.fromName(r.referenceValue))}class iP extends Fs{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ye(t)&&y(t.arrayValue,this.value)}}class sP extends Fs{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&y(this.value.arrayValue,t)}}class oP extends Fs{constructor(e,t){super(e,"not-in",t)}matches(e){if(y(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!y(this.value.arrayValue,t)}}class aP extends Fs{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ye(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>y(this.value.arrayValue,r))}}class Qf{constructor(e,t){this.position=e,this.inclusive=t}}class Pv{constructor(e,t="asc"){this.field=e,this.dir=t}}function lP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Xx(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],f=n.position[i];if(r=l.field.isKeyField()?s.comparator(s.fromName(f.referenceValue),t.key):w(f,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function eR(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!g(n.position[t],e.position[t]))return!1;return!0}class cd{constructor(e,t=null,r=[],i=[],l=null,f="F",m=null,E=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=f,this.startAt=m,this.endAt=E,this.D=null,this.C=null}}function tR(n,e,t,r,i,l,f,m){return new cd(n,e,t,r,i,l,f,m)}function Ov(n){return new cd(n)}function CS(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function DS(n){for(const e of n.filters)if(e.S())return e.field;return null}function TS(n){return null!==n.collectionGroup}function Fv(n){const e=Ft(n);if(null===e.D){e.D=[];const t=DS(e),r=CS(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new Pv(t)),e.D.push(new Pv(Ti.keyField(),"asc"));else{let i=!1;for(const l of e.explicitOrderBy)e.D.push(l),l.field.isKeyField()&&(i=!0);if(!i){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Pv(Ti.keyField(),l))}}}return e.D}function yl(n){const e=Ft(n);if(!e.C)if("F"===e.limitType)e.C=Kx(e.path,e.collectionGroup,Fv(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Fv(e))t.push(new Pv(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Qf(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Qf(e.startAt.position,e.startAt.inclusive):null;e.C=Kx(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function nR(n,e,t){return new cd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function L0(n,e){return F0(yl(n),yl(e))&&n.limitType===e.limitType}function rR(n){return`${Wp(yl(n))}|lt:${n.limitType}`}function SS(n){return`Query(target=${function eP(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${x(r.value)}`;var r}).join(", ")}]`),xv(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>x(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>x(t)).join(",")),`Target(${e})`}(yl(n))}; limitType=${n.limitType})`}function IS(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):s.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,l,f){const m=Xx(i,l,f);return i.inclusive?m<=0:m<0}(t.startAt,Fv(t),r)||t.endAt&&!function(i,l,f){const m=Xx(i,l,f);return i.inclusive?m>=0:m>0}(t.endAt,Fv(t),r)));var t,r}function iR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function sR(n){return(e,t)=>{let r=!1;for(const i of Fv(n)){const l=cP(i,e,t);if(0!==l)return l;r=r||i.field.isKeyField()}return 0}}function cP(n,e,t){const r=n.field.isKeyField()?s.comparator(e.key,t.key):function(i,l,f){const m=l.data.field(i),E=f.data.field(i);return null!==m&&null!==E?w(m,E):en()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return en()}}function oR(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rv(e)?"-0":e}}function aR(n){return{integerValue:""+n}}function lR(n,e){return wS(e)?aR(e):oR(n,e)}class tC{constructor(){this._=void 0}}function dP(n,e,t){return n instanceof Lv?function(r,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(l.fields.__previous_value__=i),{mapValue:l}}(t,e):n instanceof qp?cR(n,e):n instanceof Zp?dR(n,e):function(r,i){const l=uR(r,i),f=fR(l)+fR(r.k);return te(l)&&te(r.k)?aR(f):oR(r.M,f)}(n,e)}function fP(n,e,t){return n instanceof qp?cR(n,e):n instanceof Zp?dR(n,e):t}function uR(n,e){return n instanceof Vv?te(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Lv extends tC{}class qp extends tC{constructor(e){super(),this.elements=e}}function cR(n,e){const t=hR(e);for(const r of n.elements)t.some(i=>g(i,r))||t.push(r);return{arrayValue:{values:t}}}class Zp extends tC{constructor(e){super(),this.elements=e}}function dR(n,e){let t=hR(e);for(const r of n.elements)t=t.filter(i=>!g(i,r));return{arrayValue:{values:t}}}class Vv extends tC{constructor(e,t){super(),this.M=e,this.k=t}}function fR(n){return li(n.integerValue||n.doubleValue)}function hR(n){return ye(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class V0{constructor(e,t){this.field=e,this.transform=t}}class pP{constructor(e,t){this.version=e,this.transformResults=t}}class Ui{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ui}static exists(e){return new Ui(void 0,e)}static updateTime(e){return new Ui(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nC(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class rC{}function gP(n,e,t){n instanceof B0?function(r,i,l){const f=r.value.clone(),m=vR(r.fieldTransforms,i,l.transformResults);f.setAll(m),i.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):n instanceof Kp?function(r,i,l){if(!nC(r.precondition,i))return void i.convertToUnknownDocument(l.version);const f=vR(r.fieldTransforms,i,l.transformResults),m=i.data;m.setAll(mR(r)),m.setAll(f),i.convertToFoundDocument(l.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function MS(n,e,t){var i;n instanceof B0?function(r,i,l){if(!nC(r.precondition,i))return;const f=r.value.clone(),m=yR(r.fieldTransforms,l,i);f.setAll(m),i.convertToFoundDocument(gR(i),f).setHasLocalMutations()}(n,e,t):n instanceof Kp?function(r,i,l){if(!nC(r.precondition,i))return;const f=yR(r.fieldTransforms,l,i),m=i.data;m.setAll(mR(r)),m.setAll(f),i.convertToFoundDocument(gR(i),m).setHasLocalMutations()}(n,e,t):nC(n.precondition,i=e)&&i.convertToNoDocument(wn.min())}function mP(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=uR(r.transform,i||null);null!=l&&(null==t&&(t=Er.empty()),t.set(r.field,l))}return t||null}function pR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&ld(t,r,(i,l)=>function hP(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof qp&&r instanceof qp||t instanceof Zp&&r instanceof Zp?ld(t.elements,r.elements,g):t instanceof Vv&&r instanceof Vv?g(t.k,r.k):t instanceof Lv&&r instanceof Lv);var t,r}(i,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function gR(n){return n.isFoundDocument()?n.version:wn.min()}class B0 extends rC{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class Kp extends rC{constructor(e,t,r,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}}function mR(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function vR(n,e,t){const r=new Map;Mn(n.length===t.length);for(let i=0;i<t.length;i++){const l=n[i],f=l.transform,m=e.data.field(l.field);r.set(l.field,fP(f,m,t[i]))}return r}function yR(n,e,t){const r=new Map;for(const i of n){const l=i.transform,f=t.data.field(i.field);r.set(i.field,dP(l,f,e))}return r}class U0 extends rC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class xS extends rC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class vP{constructor(e){this.count=e}}var Hi,dr;function _R(n){switch(n){default:return en();case Ke.CANCELLED:case Ke.UNKNOWN:case Ke.DEADLINE_EXCEEDED:case Ke.RESOURCE_EXHAUSTED:case Ke.INTERNAL:case Ke.UNAVAILABLE:case Ke.UNAUTHENTICATED:return!1;case Ke.INVALID_ARGUMENT:case Ke.NOT_FOUND:case Ke.ALREADY_EXISTS:case Ke.PERMISSION_DENIED:case Ke.FAILED_PRECONDITION:case Ke.ABORTED:case Ke.OUT_OF_RANGE:case Ke.UNIMPLEMENTED:case Ke.DATA_LOSS:return!0}}function ER(n){if(void 0===n)return Di("GRPC error has no .code"),Ke.UNKNOWN;switch(n){case Hi.OK:return Ke.OK;case Hi.CANCELLED:return Ke.CANCELLED;case Hi.UNKNOWN:return Ke.UNKNOWN;case Hi.DEADLINE_EXCEEDED:return Ke.DEADLINE_EXCEEDED;case Hi.RESOURCE_EXHAUSTED:return Ke.RESOURCE_EXHAUSTED;case Hi.INTERNAL:return Ke.INTERNAL;case Hi.UNAVAILABLE:return Ke.UNAVAILABLE;case Hi.UNAUTHENTICATED:return Ke.UNAUTHENTICATED;case Hi.INVALID_ARGUMENT:return Ke.INVALID_ARGUMENT;case Hi.NOT_FOUND:return Ke.NOT_FOUND;case Hi.ALREADY_EXISTS:return Ke.ALREADY_EXISTS;case Hi.PERMISSION_DENIED:return Ke.PERMISSION_DENIED;case Hi.FAILED_PRECONDITION:return Ke.FAILED_PRECONDITION;case Hi.ABORTED:return Ke.ABORTED;case Hi.OUT_OF_RANGE:return Ke.OUT_OF_RANGE;case Hi.UNIMPLEMENTED:return Ke.UNIMPLEMENTED;case Hi.DATA_LOSS:return Ke.DATA_LOSS;default:return en()}}(dr=Hi||(Hi={}))[dr.OK=0]="OK",dr[dr.CANCELLED=1]="CANCELLED",dr[dr.UNKNOWN=2]="UNKNOWN",dr[dr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dr[dr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dr[dr.NOT_FOUND=5]="NOT_FOUND",dr[dr.ALREADY_EXISTS=6]="ALREADY_EXISTS",dr[dr.PERMISSION_DENIED=7]="PERMISSION_DENIED",dr[dr.UNAUTHENTICATED=16]="UNAUTHENTICATED",dr[dr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dr[dr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dr[dr.ABORTED=10]="ABORTED",dr[dr.OUT_OF_RANGE=11]="OUT_OF_RANGE",dr[dr.UNIMPLEMENTED=12]="UNIMPLEMENTED",dr[dr.INTERNAL=13]="INTERNAL",dr[dr.UNAVAILABLE=14]="UNAVAILABLE",dr[dr.DATA_LOSS=15]="DATA_LOSS";class Yf{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,l]of r)if(this.equalsFn(i,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ec(this.inner,(t,r)=>{for(const[i,l]of r)e(i,l)})}isEmpty(){return Sv(this.inner)}size(){return this.innerSize}}const yP=new Si(s.comparator);function _l(){return yP}const _P=new Si(s.comparator);function RS(...n){let e=_P;for(const t of n)e=e.insert(t.key,t);return e}function H0(){return new Yf(n=>n.toString(),(n,e)=>n.isEqual(e))}const EP=new Si(s.comparator),bP=new Hr(s.comparator);function br(...n){let e=bP;for(const t of n)e=e.add(t);return e}const AP=new Hr(Un);function iC(){return AP}class j0{constructor(e,t,r,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,G0.createSynthesizedTargetChangeForCurrentChange(e,t)),new j0(wn.min(),r,iC(),_l(),br())}}class G0{constructor(e,t,r,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new G0(Bi.EMPTY_BYTE_STRING,t,br(),br(),br())}}class sC{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class bR{constructor(e,t){this.targetId=e,this.$=t}}class AR{constructor(e,t,r=Bi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class wR{constructor(){this.B=0,this.L=DR(),this.U=Bi.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=br(),t=br(),r=br();return this.L.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:en()}}),new G0(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=DR()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class wP{constructor(e){this.nt=e,this.st=new Map,this.it=_l(),this.rt=CR(),this.ot=new Hr(Un)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:en()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const l=i.target;if(Xw(l))if(0===r){const f=new s(l.path);this.ct(t,f,xr.newNoDocument(f,wn.min()))}else Mn(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((l,f)=>{const m=this.wt(f);if(m){if(l.current&&Xw(m.target)){const E=new s(m.target.path);null!==this.it.get(E)||this.It(f,E)||this.ct(f,E,xr.newNoDocument(E,e))}l.j&&(t.set(f,l.H()),l.J())}});let r=br();this.rt.forEach((l,f)=>{let m=!0;f.forEachWhile(E=>{const C=this.wt(E);return!C||2===C.purpose||(m=!1,!1)}),m&&(r=r.add(l))}),this.it.forEach((l,f)=>f.setReadTime(e));const i=new j0(e,t,this.ot,this.it,r);return this.it=_l(),this.rt=CR(),this.ot=new Hr(Un),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new wR,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Hr(Un),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Mt("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new wR),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function CR(){return new Si(s.comparator)}function DR(){return new Si(s.comparator)}const CP={asc:"ASCENDING",desc:"DESCENDING"},DP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class TP{constructor(e,t){this.databaseId=e,this.N=t}}function z0(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function TR(n,e){return n.N?e.toBase64():e.toUint8Array()}function SP(n,e){return z0(n,e.toTimestamp())}function ls(n){return Mn(!!n),wn.fromTimestamp(function(e){const t=tc(e);return new Jr(t.seconds,t.nanos)}(n))}function NS(n,e){return(t=n,new sr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function SR(n){const e=sr.fromString(n);return Mn(FR(e)),e}function $0(n,e){return NS(n.databaseId,e.path)}function ic(n,e){const t=SR(e);if(t.get(1)!==n.databaseId.projectId)throw new gt(Ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new gt(Ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new s(MR(t))}function kS(n,e){return NS(n.databaseId,e)}function IR(n){const e=SR(n);return 4===e.length?sr.emptyPath():MR(e)}function W0(n){return new sr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function MR(n){return Mn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function xR(n,e,t){return{name:$0(n,e),fields:t.value.mapValue.fields}}function RR(n,e,t){const r=ic(n,e.name),i=ls(e.updateTime),l=new Er({mapValue:{fields:e.fields}}),f=xr.newFoundDocument(r,i,l);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function q0(n,e){let t;if(e instanceof B0)t={update:xR(n,e.key,e.value)};else if(e instanceof U0)t={delete:$0(n,e.key)};else if(e instanceof Kp)t={update:xR(n,e.key,e.data),updateMask:FP(e.fieldMask)};else{if(!(e instanceof xS))return en();t={verify:$0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const f=l.transform;if(f instanceof Lv)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof qp)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Zp)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Vv)return{fieldPath:l.field.canonicalString(),increment:f.k};throw en()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:SP(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:en()),t;var i}function PS(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Ui.updateTime(ls(i.updateTime)):void 0!==i.exists?Ui.exists(i.exists):Ui.none():Ui.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,f){let m=null;"setToServerValue"in f?(Mn("REQUEST_TIME"===f.setToServerValue),m=new Lv):"appendMissingElements"in f?m=new qp(f.appendMissingElements.values||[]):"removeAllFromArray"in f?m=new Zp(f.removeAllFromArray.values||[]):"increment"in f?m=new Vv(l,f.increment):en();const E=Ti.fromServerFormat(f.fieldPath);return new V0(E,m)}(n,i)):[];var i;if(e.update){const i=ic(n,e.update.name),l=new Er({mapValue:{fields:e.update.fields}});if(e.updateMask){const f=new Wf((e.updateMask.fieldPaths||[]).map(C=>Ti.fromServerFormat(C)));return new Kp(i,l,f,t,r)}return new B0(i,l,t,r)}if(e.delete){const i=ic(n,e.delete);return new U0(i,t)}if(e.verify){const i=ic(n,e.verify);return new xS(i,t)}return en()}function NR(n,e){return{documents:[kS(n,e.path)]}}function kR(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=kS(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=kS(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(E){if(0===E.length)return;const C=E.map(k=>function(O){if("=="===O.op){if(nt(O.value))return{unaryFilter:{field:Bv(O.field),op:"IS_NAN"}};if(Fe(O.value))return{unaryFilter:{field:Bv(O.field),op:"IS_NULL"}}}else if("!="===O.op){if(nt(O.value))return{unaryFilter:{field:Bv(O.field),op:"IS_NOT_NAN"}};if(Fe(O.value))return{unaryFilter:{field:Bv(O.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bv(O.field),op:kP(O.op),value:O.value}}}(k));return 1===C.length?C[0]:{compositeFilter:{op:"AND",filters:C}}}(e.filters);i&&(t.structuredQuery.where=i);const l=function(E){if(0!==E.length)return E.map(C=>{return{field:Bv((k=C).field),direction:NP(k.dir)};var k})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const f=(C=e.limit,n.N||xv(C)?C:{value:C});var C,m,E;return null!==f&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(E=e.endAt).inclusive,values:E.position}),t}function PR(n){let e=IR(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Mn(1===r);const k=t.from[0];k.allDescendants?i=k.collectionId:e=e.child(k.collectionId)}let l=[];t.where&&(l=OR(t.where));let f=[];t.orderBy&&(f=t.orderBy.map(k=>{return new Pv(Uv((O=k).field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction));var O}));let m=null;t.limit&&(m=function(k){let O;return O="object"==typeof k?k.value:k,xv(O)?null:O}(t.limit));let E=null;var k;t.startAt&&(E=new Qf((k=t.startAt).values||[],!!k.before));let C=null;return t.endAt&&(C=function(k){return new Qf(k.values||[],!k.before)}(t.endAt)),tR(e,i,f,l,m,"F",E,C)}function OR(n){return n?void 0!==n.unaryFilter?[OP(n)]:void 0!==n.fieldFilter?[PP(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>OR(e)).reduce((e,t)=>e.concat(t)):en():[]}function NP(n){return CP[n]}function kP(n){return DP[n]}function Bv(n){return{fieldPath:n.canonicalString()}}function Uv(n){return Ti.fromServerFormat(n.fieldPath)}function PP(n){return Fs.create(Uv(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return en()}}(n.fieldFilter.op),n.fieldFilter.value)}function OP(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Uv(n.unaryFilter.field);return Fs.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Uv(n.unaryFilter.field);return Fs.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Uv(n.unaryFilter.field);return Fs.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Uv(n.unaryFilter.field);return Fs.create(i,"!=",{nullValue:"NULL_VALUE"});default:return en()}}function FP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function FR(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Co(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=LR(e)),e=LP(n.get(t),e);return LR(e)}function LP(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function LR(n){return n+"\x01\x01"}function sc(n){const e=n.length;if(Mn(e>=2),2===e)return Mn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),sr.emptyPath();const t=e-2,r=[];let i="";for(let l=0;l<e;){const f=n.indexOf("\x01",l);switch((f<0||f>t)&&en(),n.charAt(f+1)){case"\x01":const m=n.substring(l,f);let E;0===i.length?E=m:(i+=m,E=i,i=""),r.push(E);break;case"\x10":i+=n.substring(l,f),i+="\0";break;case"\x11":i+=n.substring(l,f+1);break;default:en()}l=f+2}return new sr(r)}const VR=["userId","batchId"];function oC(n,e){return[n,Co(e)]}function BR(n,e,t){return[n,Co(e),t]}const VP={},BP=["prefixPath","collectionGroup","readTime","documentId"],UP=["prefixPath","collectionGroup","documentId"],HP=["collectionGroup","readTime","prefixPath","documentId"],jP=["canonicalId","targetId"],GP=["targetId","path"],zP=["path","targetId"],$P=["collectionId","parent"],WP=["indexId","uid"],qP=["uid","sequenceNumber"],ZP=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],KP=["indexId","uid","orderedDocumentKey"],QP=["userId","collectionPath","documentId"],YP=["userId","collectionPath","largestBatchId"],JP=["userId","collectionGroup","largestBatchId"],UR=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],XP=[...UR,"documentOverlays"],HR=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],eO=[...HR,"indexConfiguration","indexState","indexEntries"],jR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&en(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Je((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Je?t:Je.resolve(t)}catch(t){return Je.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Je.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Je.reject(t)}static resolve(e){return new Je((t,r)=>{t(e)})}static reject(e){return new Je((t,r)=>{r(e)})}static waitFor(e){return new Je((t,r)=>{let i=0,l=0,f=!1;e.forEach(m=>{++i,m.next(()=>{++l,f&&l===i&&t()},E=>r(E))}),f=!0,l===i&&t()})}static or(e){let t=Je.resolve(!1);for(const r of e)t=t.next(i=>i?Je.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,l)=>{r.push(t.call(this,i,l))}),this.waitFor(r)}}class aC{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new vi,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Z0(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=OS(r.target.error);this.At.reject(new Z0(e,i))}}static open(e,t,r,i){try{return new aC(t,e.transaction(i,r))}catch(l){throw new Z0(t,l)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Mt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new nO(t)}}class iu{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===iu.Vt((0,Qn.z$)())&&Di("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Mt("SimpleDb","Removing database:",e),Yp(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Qn.hl)())return!1;if(iu.St())return!0;const e=(0,Qn.z$)(),t=iu.Vt(e),r=0<t&&t<10,i=iu.Dt(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,rt.Z)(function*(){return t.db||(Mt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=f=>{r(f.target.result)},l.onblocked=()=>{i(new Z0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=f=>{const m=f.target.error;i("VersionError"===m.name?new gt(Ke.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new gt(Ke.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new Z0(e,m))},l.onupgradeneeded=f=>{Mt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',f.oldVersion),t.Pt.kt(f.target.result,l.transaction,f.oldVersion,t.version).next(()=>{Mt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var l=this;return(0,rt.Z)(function*(){const f="readonly"===t;let m=0;for(;;){++m;try{l.db=yield l.Nt(e);const E=aC.open(l.db,e,f?"readonly":"readwrite",r),C=i(E).next(k=>(E.bt(),k)).catch(k=>(E.abort(k),Je.reject(k))).toPromise();return C.catch(()=>{}),yield E.Rt,C}catch(E){const C="FirebaseError"!==E.name&&m<3;if(Mt("SimpleDb","Transaction failed with error:",E.message,"Retrying:",C),l.close(),!C)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class tO{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Yp(this.Ft.delete())}}class Z0 extends gt{constructor(e,t){super(Ke.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Qp(n){return"IndexedDbTransactionError"===n.name}class nO{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Mt("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Mt("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Yp(r)}add(e){return Mt("SimpleDb","ADD",this.store.name,e,e),Yp(this.store.add(e))}get(e){return Yp(this.store.get(e)).next(t=>(void 0===t&&(t=null),Mt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Mt("SimpleDb","DELETE",this.store.name,e),Yp(this.store.delete(e))}count(){return Mt("SimpleDb","COUNT",this.store.name),Yp(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),l=[];return this.Kt(i,(f,m)=>{l.push(m)}).next(()=>l)}{const i=this.store.getAll(r.range);return new Je((l,f)=>{i.onerror=m=>{f(m.target.error)},i.onsuccess=m=>{l(m.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Je((i,l)=>{r.onerror=f=>{l(f.target.error)},r.onsuccess=f=>{i(f.target.result)}})}Qt(e,t){Mt("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Kt(i,(l,f,m)=>m.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Kt(i,t)}zt(e){const t=this.cursor({});return new Je((r,i)=>{t.onerror=l=>{const f=OS(l.target.error);i(f)},t.onsuccess=l=>{const f=l.target.result;f?e(f.primaryKey,f.value).next(m=>{m?f.continue():r()}):r()}})}Kt(e,t){const r=[];return new Je((i,l)=>{e.onerror=f=>{l(f.target.error)},e.onsuccess=f=>{const m=f.target.result;if(!m)return void i();const E=new tO(m),C=t(m.primaryKey,m.value,E);if(C instanceof Je){const k=C.catch(O=>(E.done(),Je.reject(O)));r.push(k)}E.isDone?i():null===E.Lt?m.continue():m.continue(E.Lt)}}).next(()=>Je.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Yp(n){return new Je((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=OS(r.target.error);t(i)}})}let zR=!1;function OS(n){const e=iu.Vt((0,Qn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new gt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return zR||(zR=!0,setTimeout(()=>{throw r},0)),r}}return n}class $R extends GR{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function us(n,e){const t=Ft(n);return iu.xt(t.Ht,e)}class FS{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&gP(l,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&MS(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&MS(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(wn.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),br())}isEqual(e){return this.batchId===e.batchId&&ld(this.mutations,e.mutations,(t,r)=>pR(t,r))&&ld(this.baseMutations,e.baseMutations,(t,r)=>pR(t,r))}}class LS{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Mn(e.mutations.length===r.length);let i=EP;const l=e.mutations;for(let f=0;f<l.length;f++)i=i.insert(l[f].key,r[f].version);return new LS(e,t,r,i)}}class VS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Jf{constructor(e,t,r,i,l=wn.min(),f=wn.min(),m=Bi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m}withSequenceNumber(e){return new Jf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Jf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Jf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class WR{constructor(e){this.Jt=e}}function qR(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:lC(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:$0(i=n.Jt,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:z0(i,l.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Jp(e.version)};else{if(!e.isUnknownDocument())return en();r.unknownDocument={path:t.path.toArray(),version:Jp(e.version)}}var i,l;return r}function lC(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Jp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Xp(n){const e=new Jr(n.seconds,n.nanoseconds);return wn.fromTimestamp(e)}function Hv(n,e){const t=(e.baseMutations||[]).map(l=>PS(n.Jt,l));for(let l=0;l<e.mutations.length-1;++l){const f=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(f.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>PS(n.Jt,l)),i=Jr.fromMillis(e.localWriteTimeMs);return new FS(e.batchId,i,t,r)}function K0(n){const e=Xp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Xp(n.lastLimboFreeSnapshotVersion):wn.min();let r;var i;return void 0!==n.query.documents?(Mn(1===(i=n.query).documents.length),r=yl(Ov(IR(i.documents[0])))):r=yl(PR(n.query)),new Jf(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Bi.fromBase64String(n.resumeToken))}function ZR(n,e){const t=Jp(e.snapshotVersion),r=Jp(e.lastLimboFreeSnapshotVersion);let i;i=Xw(e.target)?NR(n.Jt,e.target):kR(n.Jt,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Wp(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function BS(n){const e=PR({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?nR(e,e.limit,"L"):e}function US(n,e){return new VS(e.largestBatchId,PS(n.Jt,e.overlayMutation))}function KR(n,e){const t=e.path.lastSegment();return[n,Co(e.path.popLast()),t]}class iO{getBundleMetadata(e,t){return QR(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Xp(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return QR(e).put({bundleId:(r=t).id,createTime:Jp(ls(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return YR(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:BS(i.bundledQuery),readTime:Xp(i.readTime)};var i})}saveNamedQuery(e,t){return YR(e).put({name:(r=t).name,readTime:Jp(ls(r.readTime)),bundledQuery:r.bundledQuery});var r}}function QR(n){return us(n,"bundles")}function YR(n){return us(n,"namedQueries")}class HS{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new HS(e,t.uid||"")}getOverlay(e,t){return Q0(e).get(KR(this.userId,t)).next(r=>r?US(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((l,f)=>{const m=new VS(t,f);i.push(this.Xt(e,m))}),Je.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(f=>i.add(Co(f.getCollectionPath())));const l=[];return i.forEach(f=>{const m=IDBKeyRange.bound([this.userId,f,r],[this.userId,f,r+1],!1,!0);l.push(Q0(e).Qt("collectionPathOverlayIndex",m))}),Je.waitFor(l)}getOverlaysForCollection(e,t,r){const i=H0(),l=Co(t),f=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Q0(e).qt("collectionPathOverlayIndex",f).next(m=>{for(const E of m){const C=US(this.M,E);i.set(C.getKey(),C)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const l=H0();let f;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Q0(e).Wt({index:"collectionGroupOverlayIndex",range:m},(E,C,k)=>{const O=US(this.M,C);l.size()<i||O.largestBatchId===f?(l.set(O.getKey(),O),f=O.largestBatchId):k.done()}).next(()=>l)}Xt(e,t){return Q0(e).put(function(r,i,l){const[f,m,E]=KR(i,l.mutation.key);return{userId:i,collectionPath:m,documentId:E,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:q0(r.Jt,l.mutation)}}(this.M,this.userId,t))}}function Q0(n){return us(n,"documentOverlays")}class eg{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(li(e.integerValue));else if("doubleValue"in e){const r=li(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),Rv(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(qf(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?Kt(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):en()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),s.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function sO(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function JR(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const l=sO(255&t[i]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}eg.fe=new eg;class oO{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=JR(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=JR(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class aO{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class lO{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class Y0{constructor(){this.De=new oO,this.Ce=new aO(this.De),this.xe=new lO(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class tg{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new tg(this.indexId,this.documentKey,this.arrayValue,r)}}function ng(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=XR(n.arrayValue,e.arrayValue),0!==t?t:(t=XR(n.directionalValue,e.directionalValue),0!==t?t:s.comparator(n.documentKey,e.documentKey)))}function XR(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class uO{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=$p(e);if(void 0!==t&&!this.Be(t))return!1;const r=ru(e);let i=0,l=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const f=r[i];if(!this.Le(this.Fe,f)||!this.Ue(this.Me[l++],f))return!1;++i}for(;i<r.length;++i){const f=r[i];if(l>=this.Me.length||!this.Ue(this.Me[l++],f))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class cO{constructor(){this.qe=new jS}addToCollectionParentIndex(e,t){return this.qe.add(t),Je.resolve()}getCollectionParents(e,t){return Je.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return Je.resolve()}deleteFieldIndex(e,t){return Je.resolve()}getDocumentsMatchingTarget(e,t){return Je.resolve(null)}getIndexType(e,t){return Je.resolve(0)}getFieldIndexes(e,t){return Je.resolve([])}getNextCollectionGroupToUpdate(e){return Je.resolve(null)}getMinOffset(e,t){return Je.resolve(wo.min())}updateCollectionGroup(e,t,r){return Je.resolve()}updateIndexEntries(e,t){return Je.resolve()}}class jS{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Hr(sr.comparator),l=!i.has(r);return this.index[t]=i.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Hr(sr.comparator)).toArray()}}const uC=new Uint8Array(0);class dO{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new jS,this.Ge=new Yf(r=>Wp(r),(r,i)=>F0(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const l={collectionId:r,parent:Co(i)};return e1(e).put(l)}return Je.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[k0(t),""],!1,!0);return e1(e).qt(i).next(l=>{for(const f of l){if(f.collectionId!==t)break;r.push(sc(f.parent))}return r})}addFieldIndex(e,t){const r=cC(e),i={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var l;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=cC(e),i=dC(e),l=J0(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=J0(e);let i=!0;const l=new Map;return Je.forEach(this.Qe(t),f=>this.je(e,f).next(m=>{i&&(i=!!m),l.set(f,m)})).next(()=>{if(i){let f=br();const m=[];return Je.forEach(l,(E,C)=>{var k;Mt("IndexedDbIndexManager",`Using index ${k=E,`id=${k.indexId}|cg=${k.collectionGroup}|f=${k.fields.map(Pt=>`${Pt.fieldPath}:${Pt.kind}`).join(",")}`} to execute ${Wp(t)}`);const O=function(Pt,Tt){const vn=$p(Tt);if(void 0===vn)return null;for(const mn of eC(Pt,vn.fieldPath))switch(mn.op){case"array-contains-any":return mn.value.arrayValue.values||[];case"array-contains":return[mn.value]}return null}(C,E),q=function(Pt,Tt){const vn=new Map;for(const mn of ru(Tt))for(const jn of eC(Pt,mn.fieldPath))switch(jn.op){case"==":case"in":vn.set(mn.fieldPath.canonicalString(),jn.value);break;case"not-in":case"!=":return vn.set(mn.fieldPath.canonicalString(),jn.value),Array.from(vn.values())}return null}(C,E),J=function(Pt,Tt){const vn=[];let mn=!0;for(const jn of ru(Tt)){const zn=0===jn.kind?Qx(Pt,jn.fieldPath,Pt.startAt):Yx(Pt,jn.fieldPath,Pt.startAt);vn.push(zn.value),mn&&(mn=zn.inclusive)}return new Qf(vn,mn)}(C,E),oe=function(Pt,Tt){const vn=[];let mn=!0;for(const jn of ru(Tt)){const zn=0===jn.kind?Yx(Pt,jn.fieldPath,Pt.endAt):Qx(Pt,jn.fieldPath,Pt.endAt);vn.push(zn.value),mn&&(mn=zn.inclusive)}return new Qf(vn,mn)}(C,E),Me=this.We(E,C,J),it=this.We(E,C,oe),at=this.ze(E,C,q),Et=this.He(E.indexId,O,Me,J.inclusive,it,oe.inclusive,at);return Je.forEach(Et,Pt=>r.Gt(Pt,t.limit).next(Tt=>{Tt.forEach(vn=>{const mn=s.fromSegments(vn.documentKey);f.has(mn)||(f=f.add(mn),m.push(mn))})}))}).next(()=>m)}return Je.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,r,i,l,f,m){const E=(null!=t?t.length:1)*Math.max(r.length,l.length),C=E/(null!=t?t.length:1),k=[];for(let O=0;O<E;++O){const q=t?this.Je(t[O/C]):uC,J=this.Ye(e,q,r[O%C],i),oe=this.Xe(e,q,l[O%C],f),Me=m.map(it=>this.Ye(e,q,it,!0));k.push(...this.createRange(J,oe,Me))}return k}Ye(e,t,r,i){const l=new tg(e,s.empty(),t,r);return i?l:l.ke()}Xe(e,t,r,i){const l=new tg(e,s.empty(),t,r);return i?l.ke():l}je(e,t){const r=new uO(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(l=>{let f=null;for(const m of l)r.$e(m)&&(!f||m.fields.length>f.fields.length)&&(f=m);return f})}getIndexType(e,t){let r=2;return Je.forEach(this.Qe(t),i=>this.je(e,i).next(l=>{l?0!==r&&l.fields.length<function(f){let m=new Hr(Ti.comparator),E=!1;for(const C of f.filters){const k=C;k.field.isKeyField()||("array-contains"===k.op||"array-contains-any"===k.op?E=!0:m=m.add(k.field))}for(const C of f.orderBy)C.field.isKeyField()||(m=m.add(C.field));return m.size+(E?1:0)}(i)&&(r=1):r=0})).next(()=>r)}Ze(e,t){const r=new Y0;for(const i of ru(e)){const l=t.data.field(i.fieldPath);if(null==l)return null;const f=r.Ne(i.kind);eg.fe.Zt(l,f)}return r.Se()}Je(e){const t=new Y0;return eg.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new Y0;return eg.fe.Zt(j(this.databaseId,t),r.Ne(function(i){const l=ru(i);return 0===l.length?0:l[l.length-1].kind}(e))),r.Se()}ze(e,t,r){if(null===r)return[];let i=[];i.push(new Y0);let l=0;for(const f of ru(e)){const m=r[l++];for(const E of i)if(this.en(t,f.fieldPath)&&ye(m))i=this.nn(i,f,m);else{const C=E.Ne(f.kind);eg.fe.Zt(m,C)}}return this.sn(i)}We(e,t,r){return this.ze(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const i=[...e],l=[];for(const f of r.arrayValue.values||[])for(const m of i){const E=new Y0;E.seed(m.Se()),eg.fe.Zt(f,E.Ne(t.kind)),l.push(E)}return l}en(e,t){return!!e.filters.find(r=>r instanceof Fs&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=cC(e),i=dC(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(l=>{const f=[];return Je.forEach(l,m=>i.get([m.indexId,this.uid]).next(E=>{f.push(function(C,k){const O=k?new ud(k.sequenceNumber,new wo(Xp(k.readTime),new s(sc(k.documentKey)),k.largestBatchId)):ud.empty(),q=C.fields.map(([J,oe])=>new Kf(Ti.fromServerFormat(J),oe));return new Zf(C.indexId,C.collectionGroup,q,O)}(m,E))})).next(()=>f)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const l=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==l?l:Un(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=cC(e),l=dC(e);return this.rn(e).next(f=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>Je.forEach(m,E=>{return l.put({indexId:E.indexId,uid:this.user.uid||"",sequenceNumber:f,readTime:Jp((q=r).readTime),documentKey:Co(q.documentKey.path),largestBatchId:q.largestBatchId});var q})))}updateIndexEntries(e,t){const r=new Map;return Je.forEach(t,(i,l)=>{const f=r.get(i.collectionGroup);return(f?Je.resolve(f):this.getFieldIndexes(e,i.collectionGroup)).next(m=>(r.set(i.collectionGroup,m),Je.forEach(m,E=>this.on(e,i,E).next(C=>{const k=this.un(l,E);return C.isEqual(k)?Je.resolve():this.an(e,l,E,C,k)}))))})}cn(e,t,r,i){return J0(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,i){return J0(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const i=J0(e);let l=new Hr(ng);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(f,m)=>{l=l.add(new tg(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>l)}un(e,t){let r=new Hr(ng);const i=this.Ze(t,e);if(null==i)return r;const l=$p(t);if(null!=l){const f=e.data.field(l.fieldPath);if(ye(f))for(const m of f.arrayValue.values||[])r=r.add(new tg(t.indexId,e.key,this.Je(m),i))}else r=r.add(new tg(t.indexId,e.key,uC,i));return r}an(e,t,r,i,l){Mt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const f=[];return function(m,E,C,k,O){const q=m.getIterator(),J=E.getIterator();let oe=kv(q),Me=kv(J);for(;oe||Me;){let it=!1,at=!1;if(oe&&Me){const Et=C(oe,Me);Et<0?at=!0:Et>0&&(it=!0)}else null!=oe?at=!0:it=!0;it?(k(Me),Me=kv(J)):at?(O(oe),oe=kv(q)):(oe=kv(q),Me=kv(J))}}(i,l,ng,m=>{f.push(this.cn(e,t,r,m))},m=>{f.push(this.hn(e,t,r,m))}),Je.waitFor(f)}rn(e){let t=1;return dC(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,l)=>{l.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((f,m)=>ng(f,m)).filter((f,m,E)=>!m||0!==ng(f,E[m-1]));const i=[];i.push(e);for(const f of r){const m=ng(f,e),E=ng(f,t);if(0===m)i[0]=e.ke();else if(m>0&&E<0)i.push(f),i.push(f.ke());else if(E>0)break}i.push(t);const l=[];for(let f=0;f<i.length;f+=2)l.push(IDBKeyRange.bound([i[f].indexId,this.uid,i[f].arrayValue,i[f].directionalValue,uC,[]],[i[f+1].indexId,this.uid,i[f+1].arrayValue,i[f+1].directionalValue,uC,[]]));return l}getMinOffset(e,t){let r;return Je.forEach(this.Qe(t),i=>this.je(e,i).next(l=>{l?(!r||qx(l.indexState.offset,r)<0)&&(r=l.indexState.offset):r=wo.min()})).next(()=>r)}}function e1(n){return us(n,"collectionParents")}function J0(n){return us(n,"indexEntries")}function cC(n){return us(n,"indexConfiguration")}function dC(n){return us(n,"indexState")}const t1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Xo(e,Xo.DEFAULT_COLLECTION_PERCENTILE,Xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function n1(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),l=[],f=IDBKeyRange.only(t.batchId);let m=0;const E=r.Wt({range:f},(k,O,q)=>(m++,q.delete()));l.push(E.next(()=>{Mn(1===m)}));const C=[];for(const k of t.mutations){const O=BR(e,k.key.path,t.batchId);l.push(i.delete(O)),C.push(k.key)}return Je.waitFor(l).next(()=>C)}function fC(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw en();e=n.noDocument}return JSON.stringify(e).length}Xo.DEFAULT_COLLECTION_PERCENTILE=10,Xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xo.DEFAULT=new Xo(41943040,Xo.DEFAULT_COLLECTION_PERCENTILE,Xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xo.DISABLED=new Xo(-1,0,0);class GS{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.ln={}}static Yt(e,t,r,i){Mn(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new GS(l,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xf(e).Wt({index:"userMutationsIndex",range:r},(i,l,f)=>{t=!1,f.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const l=jv(e),f=Xf(e);return f.add({}).next(m=>{Mn("number"==typeof m);const E=new FS(m,t,r,i),C=function(q,J,oe){const Me=oe.baseMutations.map(at=>q0(q.Jt,at)),it=oe.mutations.map(at=>q0(q.Jt,at));return{userId:J,batchId:oe.batchId,localWriteTimeMs:oe.localWriteTime.toMillis(),baseMutations:Me,mutations:it}}(this.M,this.userId,E),k=[];let O=new Hr((q,J)=>Un(q.canonicalString(),J.canonicalString()));for(const q of i){const J=BR(this.userId,q.key.path,m);O=O.add(q.key.path.popLast()),k.push(f.put(C)),k.push(l.put(J,VP))}return O.forEach(q=>{k.push(this.indexManager.addToCollectionParentIndex(e,q))}),e.addOnCommittedListener(()=>{this.ln[m]=E.keys()}),Je.waitFor(k).next(()=>E)})}lookupMutationBatch(e,t){return Xf(e).get(t).next(r=>r?(Mn(r.userId===this.userId),Hv(this.M,r)):null)}fn(e,t){return this.ln[t]?Je.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.ln[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Xf(e).Wt({index:"userMutationsIndex",range:i},(f,m,E)=>{m.userId===this.userId&&(Mn(m.batchId>=r),l=Hv(this.M,m)),E.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Xf(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,l,f)=>{r=l.batchId,f.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xf(e).qt("userMutationsIndex",t).next(r=>r.map(i=>Hv(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=oC(this.userId,t.path),i=IDBKeyRange.lowerBound(r),l=[];return jv(e).Wt({range:i},(f,m,E)=>{const[C,k,O]=f,q=sc(k);if(C===this.userId&&t.path.isEqual(q))return Xf(e).get(O).next(J=>{if(!J)throw en();Mn(J.userId===this.userId),l.push(Hv(this.M,J))});E.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Hr(Un);const i=[];return t.forEach(l=>{const f=oC(this.userId,l.path),m=IDBKeyRange.lowerBound(f),E=jv(e).Wt({range:m},(C,k,O)=>{const[q,J,oe]=C,Me=sc(J);q===this.userId&&l.path.isEqual(Me)?r=r.add(oe):O.done()});i.push(E)}),Je.waitFor(i).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,l=oC(this.userId,r),f=IDBKeyRange.lowerBound(l);let m=new Hr(Un);return jv(e).Wt({range:f},(E,C,k)=>{const[O,q,J]=E,oe=sc(q);O===this.userId&&r.isPrefixOf(oe)?oe.length===i&&(m=m.add(J)):k.done()}).next(()=>this.dn(e,m))}dn(e,t){const r=[],i=[];return t.forEach(l=>{i.push(Xf(e).get(l).next(f=>{if(null===f)throw en();Mn(f.userId===this.userId),r.push(Hv(this.M,f))}))}),Je.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return n1(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),Je.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Je.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return jv(e).Wt({range:r},(l,f,m)=>{if(l[0]===this.userId){const E=sc(l[1]);i.push(E)}else m.done()}).next(()=>{Mn(0===i.length)})})}containsKey(e,t){return r1(e,this.userId,t)}wn(e){return i1(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function r1(n,e,t){const r=oC(e,t.path),i=r[1],l=IDBKeyRange.lowerBound(r);let f=!1;return jv(n).Wt({range:l,jt:!0},(m,E,C)=>{const[k,O,q]=m;k===e&&O===i&&(f=!0),C.done()}).next(()=>f)}function Xf(n){return us(n,"mutations")}function jv(n){return us(n,"documentMutations")}function i1(n){return us(n,"mutationQueues")}class rg{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new rg(0)}static yn(){return new rg(-1)}}class fO{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new rg(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>wn.fromTimestamp(new Jr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.In(e,i)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Gv(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(Mn(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let i=0;const l=[];return Gv(e).Wt((f,m)=>{const E=K0(m);E.sequenceNumber<=t&&null===r.get(E.targetId)&&(i++,l.push(this.removeTargetData(e,E)))}).next(()=>Je.waitFor(l)).next(()=>i)}forEachTarget(e,t){return Gv(e).Wt((r,i)=>{const l=K0(i);t(l)})}pn(e){return s1(e).get("targetGlobalKey").next(t=>(Mn(null!==t),t))}In(e,t){return s1(e).put("targetGlobalKey",t)}Tn(e,t){return Gv(e).put(ZR(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Wp(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Gv(e).Wt({range:i,index:"queryTargetsIndex"},(f,m,E)=>{const C=K0(m);F0(t,C.target)&&(l=C,E.done())}).next(()=>l)}addMatchingKeys(e,t,r){const i=[],l=eh(e);return t.forEach(f=>{const m=Co(f.path);i.push(l.put({targetId:r,path:m})),i.push(this.referenceDelegate.addReference(e,r,f))}),Je.waitFor(i)}removeMatchingKeys(e,t,r){const i=eh(e);return Je.forEach(t,l=>{const f=Co(l.path);return Je.waitFor([i.delete([r,f]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=eh(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=eh(e);let l=br();return i.Wt({range:r,jt:!0},(f,m,E)=>{const C=sc(f[1]),k=new s(C);l=l.add(k)}).next(()=>l)}containsKey(e,t){const r=Co(t.path),i=IDBKeyRange.bound([r],[k0(r)],!1,!0);let l=0;return eh(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([f,m],E,C)=>{0!==f&&(l++,C.done())}).next(()=>l>0)}Et(e,t){return Gv(e).get(t).next(r=>r?K0(r):null)}}function Gv(n){return us(n,"targets")}function s1(n){return us(n,"targetGlobal")}function eh(n){return us(n,"targetDocuments")}function ig(n){return zS.apply(this,arguments)}function zS(){return zS=(0,rt.Z)(function*(n){if(n.code!==Ke.FAILED_PRECONDITION||n.message!==jR)throw n;Mt("LocalStore","Unexpectedly lost primary lease")}),zS.apply(this,arguments)}function o1([n,e],[t,r]){const i=Un(n,t);return 0===i?Un(e,r):i}class hO{constructor(e){this.An=e,this.buffer=new Hr(o1),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();o1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class pO{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;Mt("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,rt.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){Qp(i)?Mt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield ig(i)}yield t.Sn(e)}))}}class gO{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Je.resolve(Ao.A);const r=new hO(t);return this.Dn.forEachTarget(e,i=>r.Pn(i.sequenceNumber)).next(()=>this.Dn.xn(e,i=>r.Pn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Mt("LruGarbageCollector","Garbage collection skipped; disabled"),Je.resolve(t1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),t1):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,i,l,f,m,E,C;const k=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(Mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),i=this.params.maximumSequenceNumbersToCollect):i=O,f=Date.now(),this.nthSequenceNumber(e,i))).next(O=>(r=O,m=Date.now(),this.removeTargets(e,r,t))).next(O=>(l=O,E=Date.now(),this.removeOrphanedDocuments(e,r))).next(O=>(C=Date.now(),Ww()<=fl.in.DEBUG&&Mt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${f-k}ms\n\tDetermined least recently used ${i} in `+(m-f)+`ms\n\tRemoved ${l} targets in `+(E-m)+`ms\n\tRemoved ${O} documents in `+(C-E)+`ms\nTotal Duration: ${C-k}ms`),Je.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:O})))}}class mO{constructor(e,t){this.db=e,this.garbageCollector=new gO(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,i)=>t(i))}addReference(e,t,r){return hC(e,r)}removeReference(e,t,r){return hC(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return hC(e,t)}On(e,t){return function(r,i){let l=!1;return i1(r).zt(f=>r1(r,f,i).next(m=>(m&&(l=!0),Je.resolve(!m)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.Mn(e,(f,m)=>{if(m<=t){const E=this.On(e,f).next(C=>{if(!C)return l++,r.getEntry(e,f).next(()=>(r.removeEntry(f,wn.min()),eh(e).delete([0,Co(f.path)])))});i.push(E)}}).next(()=>Je.waitFor(i)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return hC(e,t)}Mn(e,t){const r=eh(e);let i,l=Ao.A;return r.Wt({index:"documentTargetsIndex"},([f,m],{path:E,sequenceNumber:C})=>{0===f?(l!==Ao.A&&t(new s(sc(i)),l),l=C,i=E):l=Ao.A}).next(()=>{l!==Ao.A&&t(new s(sc(i)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function hC(n,e){return eh(n).put((r=n.currentSequenceNumber,{targetId:0,path:Co(e.path),sequenceNumber:r}));var r}class a1{constructor(){this.changes=new Yf(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,xr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Je.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vO{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return sg(e).put(r)}removeEntry(e,t,r){return sg(e).delete(function(i,l){const f=i.path.toArray();return[f.slice(0,f.length-2),f[f.length-2],lC(l),f[f.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=xr.newInvalidDocument(t);return sg(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(X0(t))},(i,l)=>{r=this.$n(t,l)}).next(()=>r)}Bn(e,t){let r={size:0,document:xr.newInvalidDocument(t)};return sg(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(X0(t))},(i,l)=>{r={document:this.$n(t,l),size:fC(l)}}).next(()=>r)}getEntries(e,t){let r=_l();return this.Ln(e,t,(i,l)=>{const f=this.$n(i,l);r=r.insert(i,f)}).next(()=>r)}Un(e,t){let r=_l(),i=new Si(s.comparator);return this.Ln(e,t,(l,f)=>{const m=this.$n(l,f);r=r.insert(l,m),i=i.insert(l,fC(f))}).next(()=>({documents:r,qn:i}))}Ln(e,t,r){if(t.isEmpty())return Je.resolve();let i=new Hr(c1);t.forEach(E=>i=i.add(E));const l=IDBKeyRange.bound(X0(i.first()),X0(i.last())),f=i.getIterator();let m=f.getNext();return sg(e).Wt({index:"documentKeyIndex",range:l},(E,C,k)=>{const O=s.fromSegments([...C.prefixPath,C.collectionGroup,C.documentId]);for(;m&&c1(m,O)<0;)r(m,null),m=f.getNext();m&&m.isEqual(O)&&(r(m,C),m=f.hasNext()?f.getNext():null),m?k.Ut(X0(m)):k.done()}).next(()=>{for(;m;)r(m,null),m=f.hasNext()?f.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),lC(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return sg(e).qt(IDBKeyRange.bound(i,l,!0)).next(f=>{let m=_l();for(const E of f){const C=this.$n(s.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);m=m.insert(C.key,C)}return m})}getAllFromCollectionGroup(e,t,r,i){let l=_l();const f=u1(t,r),m=u1(t,wo.max());return sg(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(f,m,!0)},(E,C,k)=>{const O=this.$n(s.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);l=l.insert(O.key,O),l.size===i&&k.done()}).next(()=>l)}newChangeBuffer(e){return new yO(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return l1(e).get("remoteDocumentGlobalKey").next(t=>(Mn(!!t),t))}Fn(e,t){return l1(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function rO(n,e){let t;if(e.document)t=RR(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=s.fromSegments(e.noDocument.path),i=Xp(e.noDocument.readTime);t=xr.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return en();{const r=s.fromSegments(e.unknownDocument.path),i=Xp(e.unknownDocument.version);t=xr.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Jr(r[0],r[1]);return wn.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(wn.min()))return r}return xr.newInvalidDocument(e)}}class yO extends a1{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new Yf(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Hr((l,f)=>Un(l.canonicalString(),f.canonicalString()));return this.changes.forEach((l,f)=>{const m=this.Gn.get(l);if(t.push(this.Kn.removeEntry(e,l,m.readTime)),f.isValidDocument()){const E=qR(this.Kn.M,f);i=i.add(l.path.popLast()),r+=fC(E)-m.size,t.push(this.Kn.addEntry(e,l,E))}else if(r-=m.size,this.trackRemovals){const E=qR(this.Kn.M,f.convertToNoDocument(wn.min()));t.push(this.Kn.addEntry(e,l,E))}}),i.forEach(l=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.Kn.updateMetadata(e,r)),Je.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:i})=>(i.forEach((l,f)=>{this.Gn.set(l,{size:f,readTime:r.get(l).readTime})}),r))}}function l1(n){return us(n,"remoteDocumentGlobal")}function sg(n){return us(n,"remoteDocumentsV14")}function X0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function u1(n,e){const t=e.documentKey.path.toArray();return[n,lC(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function c1(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(i=Un(t[l],r[l]),i)return i;return i=Un(t.length,r.length),i||(i=Un(t[t.length-2],r[r.length-2]),i||Un(t[t.length-1],r[r.length-1]))}class _O{constructor(e){this.M=e}kt(e,t,r,i){const l=new aC("createOrUpgrade",t);var m;r<1&&i>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",VR,{unique:!0}),m.createObjectStore("documentMutations"),d1(e),function(m){m.createObjectStore("remoteDocuments")}(e));let f=Je.resolve();return r<3&&i>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),d1(e)),f=f.next(()=>function(m){const E=m.store("targetGlobal"),C={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:wn.min().toTimestamp(),targetCount:0};return E.put("targetGlobalKey",C)}(l))),r<4&&i>=4&&(0!==r&&(f=f.next(()=>function(m,E){return E.store("mutations").qt().next(C=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",VR,{unique:!0});const k=E.store("mutations"),O=C.map(q=>k.put(q));return Je.waitFor(O)})}(e,l))),f=f.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(f=f.next(()=>this.Qn(l))),r<6&&i>=6&&(f=f.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.jn(l)))),r<7&&i>=7&&(f=f.next(()=>this.Wn(l))),r<8&&i>=8&&(f=f.next(()=>this.zn(e,l))),r<9&&i>=9&&(f=f.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(f=f.next(()=>this.Hn(l))),r<11&&i>=11&&(f=f.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(f=f.next(()=>{!function(m){const E=m.createObjectStore("documentOverlays",{keyPath:QP});E.createIndex("collectionPathOverlayIndex",YP,{unique:!1}),E.createIndex("collectionGroupOverlayIndex",JP,{unique:!1})}(e)})),r<13&&i>=13&&(f=f.next(()=>function(m){const E=m.createObjectStore("remoteDocumentsV14",{keyPath:BP});E.createIndex("documentKeyIndex",UP),E.createIndex("collectionGroupIndex",HP)}(e)).next(()=>this.Jn(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(f=f.next(()=>{!function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:WP}).createIndex("sequenceNumberIndex",qP,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:ZP}).createIndex("documentKeyIndex",KP,{unique:!1})}(e)})),f}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=fC(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>Je.forEach(i,l=>{const f=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",f).next(m=>Je.forEach(m,E=>{Mn(E.userId===l.userId);const C=Hv(this.M,E);return n1(e,l.userId,C).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const l=[];return r.Wt((f,m)=>{const E=new sr(f),C=[0,Co(E)];l.push(t.get(C).next(k=>k?Je.resolve():t.put({targetId:0,path:Co(E),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>Je.waitFor(l))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:$P});const r=t.store("collectionParents"),i=new jS,l=f=>{if(i.add(f)){const m=f.lastSegment(),E=f.popLast();return r.put({collectionId:m,parent:Co(E)})}};return t.store("remoteDocuments").Wt({jt:!0},(f,m)=>{const E=new sr(f);return l(E.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([f,m,E],C)=>{const k=sc(m);return l(k.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,i)=>{const l=K0(i),f=ZR(this.M,l);return t.put(f)})}Jn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((l,f)=>{const m=t.store("remoteDocumentsV14"),E=(C=f,C.document?new s(sr.fromString(C.document.name).popFirst(5)):C.noDocument?s.fromSegments(C.noDocument.path):C.unknownDocument?s.fromSegments(C.unknownDocument.path):en()).path.toArray();var C;const k={prefixPath:E.slice(0,E.length-2),collectionGroup:E[E.length-2],documentId:E[E.length-1],readTime:f.readTime||[0,0],unknownDocument:f.unknownDocument,noDocument:f.noDocument,document:f.document,hasCommittedMutations:!!f.hasCommittedMutations};i.push(m.put(k))}).next(()=>Je.waitFor(i))}}function d1(n){n.createObjectStore("targetDocuments",{keyPath:GP}).createIndex("documentTargetsIndex",zP,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",jP,{unique:!0}),n.createObjectStore("targetGlobal")}const $S="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class WS{constructor(e,t,r,i,l,f,m,E,C,k,O=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=l,this.window=f,this.document=m,this.Xn=C,this.Zn=k,this.ts=O,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=q=>Promise.resolve(),!WS.vt())throw new gt(Ke.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new mO(this,i),this.hs=t+"main",this.M=new WR(E),this.ls=new iu(this.hs,this.ts,new _O(this.M)),this.fs=new fO(this.referenceDelegate,this.M),this.ds=new vO(this.M),this._s=new iO,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===k&&Di("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new gt(Ke.FAILED_PRECONDITION,$S);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new Ao(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,rt.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,rt.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,rt.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>pC(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if(Qp(e))return Mt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Mt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return eE(e).get("owner").next(t=>Je.resolve(this.Ps(t)))}Vs(e){return pC(e).delete(this.clientId)}vs(){var e=this;return(0,rt.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=us(r,"clientMetadata");return i.qt().next(l=>{const f=e.Ds(l,18e5),m=l.filter(E=>-1===f.indexOf(E));return Je.forEach(m,E=>i.delete(E.clientId)).next(()=>m)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?Je.resolve(!0):eE(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new gt(Ke.FAILED_PRECONDITION,$S);return!1}}return!(!this.networkEnabled||!this.inForeground)||pC(e).qt().next(r=>void 0===this.Ds(r,5e3).find(i=>{if(this.clientId!==i.clientId){const f=!this.inForeground&&i.inForeground,m=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||f&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Mt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,rt.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new $R(t,Ao.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>pC(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return GS.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new dO(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return HS.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){Mt("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",l=14===(f=this.ts)?eO:13===f?HR:12===f?XP:11===f?UR:void en();var f;let m;return this.ls.runTransaction(e,i,l,E=>(m=new $R(E,this.es?this.es.next():Ao.A),"readwrite-primary"===t?this.Es(m).next(C=>!!C||this.As(m)).next(C=>{if(!C)throw Di(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new gt(Ke.FAILED_PRECONDITION,jR);return r(m)}).next(C=>this.bs(m).next(()=>C)):this.$s(m).next(()=>r(m)))).then(E=>(m.raiseOnCommittedEvent(),E))}$s(e){return eE(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.Ps(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new gt(Ke.FAILED_PRECONDITION,$S)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return eE(e).put("owner",t)}static vt(){return iu.vt()}Rs(e){const t=eE(e);return t.get("owner").next(r=>this.Ps(r)?(Mt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Je.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(Di(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Qn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Mt("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Di("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){Di("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function eE(n){return us(n,"owner")}function pC(n){return us(n,"clientMetadata")}function qS(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class EO{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(i=>{for(const l of r)l.applyToLocalView(i);return i})}qs(e,t){e.forEach((r,i)=>{for(const l of t)l.applyToLocalView(i)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return s.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,t.path):TS(t)?this.Ws(e,t,r):this.zs(e,t,r);var i}js(e,t){return this.Ls(e,new s(t)).next(r=>{let i=RS();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,t,r){const i=t.collectionGroup;let l=RS();return this.indexManager.getCollectionParents(e,i).next(f=>Je.forEach(f,m=>{const E=(C=t,k=m.child(i),new cd(k,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,k;return this.zs(e,E,r).next(C=>{C.forEach((k,O)=>{l=l.insert(k,O)})})}).next(()=>l))}zs(e,t,r){let i;return this.ds.getAllFromCollection(e,t.path,r).next(l=>(i=l,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(l=>{for(const f of l)for(const m of f.mutations){const E=m.key;let C=i.get(E);null==C&&(C=xr.newInvalidDocument(E),i=i.insert(E,C)),MS(m,C,f.localWriteTime),C.isFoundDocument()||(i=i.remove(E))}}).next(()=>(i.forEach((l,f)=>{IS(t,f)||(i=i.remove(l))}),i))}}class ZS{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=i}static Ys(e,t){let r=br(),i=br();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new ZS(e,t.fromCache,r,i)}}class f1{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,r,i){return this.ti(e,t).next(l=>l||this.ei(e,t,i,r)).next(l=>l||this.ni(e,t))}ti(e,t){return Je.resolve(null)}ei(e,t,r,i){return function uP(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||i.isEqual(wn.min())?this.ni(e,t):this.Zs.Ks(e,r).next(l=>{const f=this.si(t,l);return this.ii(t,f,r,i)?this.ni(e,t):(Ww()<=fl.in.DEBUG&&Mt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),SS(t)),this.ri(e,f,t,Nv(i,-1)))})}si(e,t){let r=new Hr(sR(e));return t.forEach((i,l)=>{IS(e,l)&&(r=r.add(l))}),r}ii(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}ni(e,t){return Ww()<=fl.in.DEBUG&&Mt("QueryEngine","Using full collection scan to execute query:",SS(t)),this.Zs.Qs(e,t,wo.min())}ri(e,t,r,i){return this.Zs.Qs(e,r,i).next(l=>(t.forEach(f=>{l=l.insert(f.key,f)}),l))}}class bO{constructor(e,t,r,i){this.persistence=e,this.oi=t,this.M=i,this.ui=new Si(Un),this.ai=new Yf(l=>Wp(l),F0),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(r)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new EO(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function h1(n,e,t,r){return new bO(n,e,t,r)}function p1(n,e){return KS.apply(this,arguments)}function KS(){return KS=(0,rt.Z)(function*(n,e){const t=Ft(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.Bs.getAllMutationBatches(r).next(l=>(i=l,t.li(e),t.Bs.getAllMutationBatches(r))).next(l=>{const f=[],m=[];let E=br();for(const C of i){f.push(C.batchId);for(const k of C.mutations)E=E.add(k.key)}for(const C of l){m.push(C.batchId);for(const k of C.mutations)E=E.add(k.key)}return t.fi.Ks(r,E).next(C=>({di:C,removedBatchIds:f,addedBatchIds:m}))})})}),KS.apply(this,arguments)}function AO(n,e){const t=Ft(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),l=t.hi.newChangeBuffer({trackRemovals:!0});return function(f,m,E,C){const k=E.batch,O=k.keys();let q=Je.resolve();return O.forEach(J=>{q=q.next(()=>C.getEntry(m,J)).next(oe=>{const Me=E.docVersions.get(J);Mn(null!==Me),oe.version.compareTo(Me)<0&&(k.applyToRemoteDocument(oe,E),oe.isValidDocument()&&(oe.setReadTime(E.commitVersion),C.addEntry(oe)))})}),q.next(()=>f.Bs.removeMutationBatch(m,k))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.fi.Ks(r,i))})}function g1(n){const e=Ft(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function wO(n,e){const t=Ft(n),r=e.snapshotVersion;let i=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const f=t.hi.newChangeBuffer({trackRemovals:!0});i=t.ui;const m=[];e.targetChanges.forEach((C,k)=>{const O=i.get(k);if(!O)return;m.push(t.fs.removeMatchingKeys(l,C.removedDocuments,k).next(()=>t.fs.addMatchingKeys(l,C.addedDocuments,k)));let q=O.withSequenceNumber(l.currentSequenceNumber);var J,oe,Me;e.targetMismatches.has(k)?q=q.withResumeToken(Bi.EMPTY_BYTE_STRING,wn.min()).withLastLimboFreeSnapshotVersion(wn.min()):C.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(C.resumeToken,r)),i=i.insert(k,q),oe=q,Me=C,(0===(J=O).resumeToken.approximateByteSize()||oe.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=3e8||Me.addedDocuments.size+Me.modifiedDocuments.size+Me.removedDocuments.size>0)&&m.push(t.fs.updateTargetData(l,q))});let E=_l();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,C))}),m.push(m1(l,f,e.documentUpdates).next(C=>{E=C})),!r.isEqual(wn.min())){const C=t.fs.getLastRemoteSnapshotVersion(l).next(k=>t.fs.setTargetsMetadata(l,l.currentSequenceNumber,r));m.push(C)}return Je.waitFor(m).next(()=>f.apply(l)).next(()=>t.fi.Gs(l,E)).next(()=>E)}).then(l=>(t.ui=i,l))}function m1(n,e,t){let r=br();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let l=_l();return t.forEach((f,m)=>{const E=i.get(f);m.isNoDocument()&&m.version.isEqual(wn.min())?(e.removeEntry(f,m.readTime),l=l.insert(f,m)):!E.isValidDocument()||m.version.compareTo(E.version)>0||0===m.version.compareTo(E.version)&&E.hasPendingWrites?(e.addEntry(m),l=l.insert(f,m)):Mt("LocalStore","Ignoring outdated watch update for ",f,". Current version:",E.version," Watch version:",m.version)}),l})}function CO(n,e){const t=Ft(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function zv(n,e){const t=Ft(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.fs.getTargetData(r,e).next(l=>l?(i=l,Je.resolve(i)):t.fs.allocateTargetId(r).next(f=>(i=new Jf(e,f,0,r.currentSequenceNumber),t.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ui=t.ui.insert(r.targetId,r),t.ai.set(e,r.targetId)),r})}function $v(n,e,t){return QS.apply(this,arguments)}function QS(){return QS=(0,rt.Z)(function*(n,e,t){const r=Ft(n),i=r.ui.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,f=>r.persistence.referenceDelegate.removeTarget(f,i)))}catch(f){if(!Qp(f))throw f;Mt("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}r.ui=r.ui.remove(e),r.ai.delete(i.target)}),QS.apply(this,arguments)}function gC(n,e,t){const r=Ft(n);let i=wn.min(),l=br();return r.persistence.runTransaction("Execute query","readonly",f=>function(m,E,C){const k=Ft(m),O=k.ai.get(C);return void 0!==O?Je.resolve(k.ui.get(O)):k.fs.getTargetData(E,C)}(r,f,yl(e)).next(m=>{if(m)return i=m.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(f,m.targetId).next(E=>{l=E})}).next(()=>r.oi.Qs(f,e,t?i:wn.min(),t?l:br())).next(m=>(_1(r,iR(e),m),{documents:m,_i:l})))}function v1(n,e){const t=Ft(n),r=Ft(t.fs),i=t.ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Et(l,e).next(f=>f?f.target:null))}function y1(n,e){const t=Ft(n),r=t.ci.get(e)||wn.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.hi.getAllFromCollectionGroup(i,e,Nv(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(_1(t,e,i),i))}function _1(n,e,t){let r=wn.min();t.forEach((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.ci.set(e,r)}function YS(){return YS=(0,rt.Z)(function*(n,e,t,r){const i=Ft(n);let l=br(),f=_l();for(const C of t){const k=e.wi(C.metadata.name);C.document&&(l=l.add(k));const O=e.mi(C);O.setReadTime(e.gi(C.metadata.readTime)),f=f.insert(k,O)}const m=i.hi.newChangeBuffer({trackRemovals:!0}),E=yield zv(i,(C=r,yl(Ov(sr.fromString(`__bundle__/docs/${C}`)))));var C;return i.persistence.runTransaction("Apply bundle documents","readwrite",C=>m1(C,m,f).next(k=>(m.apply(C),k)).next(k=>i.fs.removeMatchingKeysForTargetId(C,E.targetId).next(()=>i.fs.addMatchingKeys(C,l,E.targetId)).next(()=>i.fi.Gs(C,k)).next(()=>k)))}),YS.apply(this,arguments)}function TO(n,e){return JS.apply(this,arguments)}function JS(){return JS=(0,rt.Z)(function*(n,e,t=br()){const r=yield zv(n,yl(BS(e.bundledQuery))),i=Ft(n);return i.persistence.runTransaction("Save named query","readwrite",l=>{const f=ls(e.readTime);if(r.snapshotVersion.compareTo(f)>=0)return i._s.saveNamedQuery(l,e);const m=r.withResumeToken(Bi.EMPTY_BYTE_STRING,f);return i.ui=i.ui.insert(m.targetId,m),i.fs.updateTargetData(l,m).next(()=>i.fs.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>i.fs.addMatchingKeys(l,t,r.targetId)).next(()=>i._s.saveNamedQuery(l,e))})}),JS.apply(this,arguments)}class SO{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return Je.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var r;return this.yi.set(t.id,{id:(r=t).id,version:r.version,createTime:ls(r.createTime)}),Je.resolve()}getNamedQuery(e,t){return Je.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(r=t).name,query:BS(r.bundledQuery),readTime:ls(r.readTime)}),Je.resolve();var r}}class IO{constructor(){this.overlays=new Si(s.comparator),this.Ii=new Map}getOverlay(e,t){return Je.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,l)=>{this.Xt(e,t,l)}),Je.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ii.get(r);return void 0!==i&&(i.forEach(l=>this.overlays=this.overlays.remove(l)),this.Ii.delete(r)),Je.resolve()}getOverlaysForCollection(e,t,r){const i=H0(),l=t.length+1,f=new s(t.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const E=m.getNext().value,C=E.getKey();if(!t.isPrefixOf(C.path))break;C.path.length===l&&E.largestBatchId>r&&i.set(E.getKey(),E)}return Je.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let l=new Si((C,k)=>C-k);const f=this.overlays.getIterator();for(;f.hasNext();){const C=f.getNext().value;if(C.getKey().getCollectionGroup()===t&&C.largestBatchId>r){let k=l.get(C.largestBatchId);null===k&&(k=H0(),l=l.insert(C.largestBatchId,k)),k.set(C.getKey(),C)}}const m=H0(),E=l.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach((C,k)=>m.set(C,k)),!(m.size()>=i)););return Je.resolve(m)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const f=this.Ii.get(i.largestBatchId).delete(r.key);this.Ii.set(i.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new VS(t,r));let l=this.Ii.get(t);void 0===l&&(l=br(),this.Ii.set(t,l)),this.Ii.set(t,l.add(r.key))}}class XS{constructor(){this.Ti=new Hr(cs.Ei),this.Ai=new Hr(cs.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const r=new cs(e,t);this.Ti=this.Ti.add(r),this.Ai=this.Ai.add(r)}bi(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Pi(new cs(e,t))}Vi(e,t){e.forEach(r=>this.removeReference(r,t))}vi(e){const t=new s(new sr([])),r=new cs(t,e),i=new cs(t,e+1),l=[];return this.Ai.forEachInRange([r,i],f=>{this.Pi(f),l.push(f.key)}),l}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new s(new sr([])),r=new cs(t,e),i=new cs(t,e+1);let l=br();return this.Ai.forEachInRange([r,i],f=>{l=l.add(f.key)}),l}containsKey(e){const t=new cs(e,0),r=this.Ti.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class cs{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return s.comparator(e.key,t.key)||Un(e.Ci,t.Ci)}static Ri(e,t){return Un(e.Ci,t.Ci)||s.comparator(e.key,t.key)}}class MO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new Hr(cs.Ei)}checkEmpty(e){return Je.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,i){const l=this.xi;this.xi++;const f=new FS(l,t,r,i);this.Bs.push(f);for(const m of i)this.Ni=this.Ni.add(new cs(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Je.resolve(f)}lookupMutationBatch(e,t){return Je.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Mi(t+1),l=i<0?0:i;return Je.resolve(this.Bs.length>l?this.Bs[l]:null)}getHighestUnacknowledgedBatchId(){return Je.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return Je.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new cs(t,0),i=new cs(t,Number.POSITIVE_INFINITY),l=[];return this.Ni.forEachInRange([r,i],f=>{const m=this.ki(f.Ci);l.push(m)}),Je.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Hr(Un);return t.forEach(i=>{const l=new cs(i,0),f=new cs(i,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([l,f],m=>{r=r.add(m.Ci)})}),Je.resolve(this.Oi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let l=r;s.isDocumentKey(l)||(l=l.child(""));const f=new cs(new s(l),0);let m=new Hr(Un);return this.Ni.forEachWhile(E=>{const C=E.key.path;return!!r.isPrefixOf(C)&&(C.length===i&&(m=m.add(E.Ci)),!0)},f),Je.resolve(this.Oi(m))}Oi(e){const t=[];return e.forEach(r=>{const i=this.ki(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Mn(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let r=this.Ni;return Je.forEach(t.mutations,i=>{const l=new cs(i.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Ni=r})}_n(e){}containsKey(e,t){const r=new cs(t,0),i=this.Ni.firstAfterOrEqual(r);return Je.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Je.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class xO{constructor(e){this.$i=e,this.docs=new Si(s.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),l=i?i.size:0,f=this.$i(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:f}),this.size+=f-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Je.resolve(r?r.document.mutableCopy():xr.newInvalidDocument(t))}getEntries(e,t){let r=_l();return t.forEach(i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():xr.newInvalidDocument(i))}),Je.resolve(r)}getAllFromCollection(e,t,r){let i=_l();const l=new s(t.child("")),f=this.docs.getIteratorFrom(l);for(;f.hasNext();){const{key:m,value:{document:E}}=f.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||qx(O0(E),r)<=0||(i=i.insert(E.key,E.mutableCopy()))}return Je.resolve(i)}getAllFromCollectionGroup(e,t,r,i){en()}Bi(e,t){return Je.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new RO(this)}getSize(e){return Je.resolve(this.size)}}class RO extends a1{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),Je.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class NO{constructor(e){this.persistence=e,this.Li=new Yf(t=>Wp(t),F0),this.lastRemoteSnapshotVersion=wn.min(),this.highestTargetId=0,this.Ui=0,this.qi=new XS,this.targetCount=0,this.Ki=rg.gn()}forEachTarget(e,t){return this.Li.forEach((r,i)=>t(i)),Je.resolve()}getLastRemoteSnapshotVersion(e){return Je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Je.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),Je.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ui&&(this.Ui=t),Je.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new rg(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,Je.resolve()}updateTargetData(e,t){return this.Tn(t),Je.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,Je.resolve()}removeTargets(e,t,r){let i=0;const l=[];return this.Li.forEach((f,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Li.delete(f),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),i++)}),Je.waitFor(l).next(()=>i)}getTargetCount(e){return Je.resolve(this.targetCount)}getTargetData(e,t){const r=this.Li.get(t)||null;return Je.resolve(r)}addMatchingKeys(e,t,r){return this.qi.bi(t,r),Je.resolve()}removeMatchingKeys(e,t,r){this.qi.Vi(t,r);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(f=>{l.push(i.markPotentiallyOrphaned(e,f))}),Je.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),Je.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qi.Di(t);return Je.resolve(r)}containsKey(e,t){return Je.resolve(this.qi.containsKey(t))}}class kO{constructor(e,t){this.Gi={},this.overlays={},this.es=new Ao(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new NO(this),this.indexManager=new cO,this.ds=new xO(r=>this.referenceDelegate.Qi(r)),this.M=new WR(t),this._s=new SO(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new IO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Gi[e.toKey()];return r||(r=new MO(t,this.referenceDelegate),this.Gi[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){Mt("MemoryPersistence","Starting transaction:",e);const i=new PO(this.es.next());return this.referenceDelegate.ji(),r(i).next(l=>this.referenceDelegate.Wi(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}zi(e,t){return Je.or(Object.values(this.Gi).map(r=>()=>r.containsKey(e,t)))}}class PO extends GR{constructor(e){super(),this.currentSequenceNumber=e}}class eI{constructor(e){this.persistence=e,this.Hi=new XS,this.Ji=null}static Yi(e){return new eI(e)}get Xi(){if(this.Ji)return this.Ji;throw en()}addReference(e,t,r){return this.Hi.addReference(r,t),this.Xi.delete(r.toString()),Je.resolve()}removeReference(e,t,r){return this.Hi.removeReference(r,t),this.Xi.add(r.toString()),Je.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),Je.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(i=>this.Xi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.Xi.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Je.forEach(this.Xi,r=>{const i=s.fromPath(r);return this.Zi(e,i).next(l=>{l||t.removeEntry(i,wn.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(r=>{r?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return Je.or([()=>Je.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function E1(n,e){return`firestore_clients_${n}_${e}`}function b1(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function tI(n,e){return`firestore_targets_${n}_${e}`}class mC{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static tr(e,t,r){const i=JSON.parse(r);let l,f="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return f&&i.error&&(f="string"==typeof i.error.message&&"string"==typeof i.error.code,f&&(l=new gt(i.error.code,i.error.message))),f?new mC(e,t,i.state,l):(Di("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class tE{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static tr(e,t){const r=JSON.parse(t);let i,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(i=new gt(r.error.code,r.error.message))),l?new tE(e,r.state,i):(Di("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,l=iC();for(let f=0;i&&f<r.activeTargetIds.length;++f)i=wS(r.activeTargetIds[f]),l=l.add(r.activeTargetIds[f]);return i?new vC(e,l):(Di("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class nI{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new nI(t.clientId,t.onlineState):(Di("SharedClientState",`Failed to parse online state: ${e}`),null)}}class rI{constructor(){this.activeTargetIds=iC()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iI{constructor(e,t,r,i,l){this.window=e,this.Yn=t,this.persistenceKey=r,this.ir=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new Si(Un),this.started=!1,this.cr=[];const f=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.hr=E1(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new rI),this.dr=new RegExp(`^firestore_clients_${f}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${f}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${f}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,rt.Z)(function*(){const t=yield e.syncEngine.Fs();for(const i of t){if(i===e.ir)continue;const l=e.getItem(E1(e.persistenceKey,i));if(l){const f=vC.tr(i,l);f&&(e.ar=e.ar.insert(f.clientId,f))}}e.yr();const r=e.storage.getItem(e.mr);if(r){const i=e.pr(r);i&&e.Ir(i)}for(const i of e.cr)e.ur(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,r){this.Er(e,t,r),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(tI(this.persistenceKey,e));if(r){const i=tE.tr(e,r);i&&(t=i.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(tI(this.persistenceKey,e))}updateQueryState(e,t,r){this.br(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Ar(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Mt("SharedClientState","READ",e,t),t}setItem(e,t){Mt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Mt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Mt("SharedClientState","EVENT",r.key,r.newValue),r.key===this.hr)return void Di("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,rt.Z)(function*(){if(t.started){if(null!==r.key)if(t.dr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Sr(i,null)}{const i=t.Dr(r.key,r.newValue);if(i)return t.Sr(i.clientId,i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Cr(r.key,r.newValue);if(i)return t.Nr(i)}}else if(t.wr.test(r.key)){if(null!==r.newValue){const i=t.kr(r.key,r.newValue);if(i)return t.Mr(i)}}else if(r.key===t.mr){if(null!==r.newValue){const i=t.pr(r.newValue);if(i)return t.Ir(i)}}else if(r.key===t.lr){const i=function(l){let f=Ao.A;if(null!=l)try{const m=JSON.parse(l);Mn("number"==typeof m),f=m}catch(m){Di("SharedClientState","Failed to read sequence number from WebStorage",m)}return f}(r.newValue);i!==Ao.A&&t.sequenceNumberHandler(i)}else if(r.key===t.gr){const i=t.Or(r.newValue);yield Promise.all(i.map(l=>t.syncEngine.Fr(l)))}}else t.cr.push(r)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,r){const i=new mC(this.currentUser,e,t,r),l=b1(this.persistenceKey,this.currentUser,e);this.setItem(l,i.er())}Ar(e){const t=b1(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,r){const i=tI(this.persistenceKey,e),l=new tE(e,t,r);this.setItem(i,l.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const r=this.vr(e);return vC.tr(r,t)}Cr(e,t){const r=this._r.exec(e),i=Number(r[1]);return mC.tr(new Yi(void 0!==r[2]?r[2]:null),i,t)}kr(e,t){const r=this.wr.exec(e),i=Number(r[1]);return tE.tr(i,t)}pr(e){return nI.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,rt.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);Mt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Tr(this.ar),l=this.Tr(r),f=[],m=[];return l.forEach(E=>{i.has(E)||f.push(E)}),i.forEach(E=>{l.has(E)||m.push(E)}),this.syncEngine.Lr(f,m).then(()=>{this.ar=r})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=iC();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class A1{constructor(){this.Ur=new rI,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new rI,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class OO{Kr(e){}shutdown(){}}class w1{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){Mt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){Mt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const FO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class LO{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class VO extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,i,l){const f=this.ho(e,t);Mt("RestConnection","Sending: ",f,r);const m={};return this.lo(m,i,l),this.fo(e,f,m,r).then(E=>(Mt("RestConnection","Received: ",E),E),E=>{throw zp("RestConnection",`${e} failed with error: `,E,"url: ",f,"request:",r),E})}_o(e,t,r,i,l){return this.co(e,t,r,i,l)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+zf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),r&&r.headers.forEach((i,l)=>e[l]=i)}ho(e,t){return`${this.uo}/v1/${t}:${FO[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((l,f)=>{const m=new zw;m.listenOnce(jw.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Dv.NO_ERROR:const C=m.getResponseJson();Mt("Connection","XHR received:",JSON.stringify(C)),l(C);break;case Dv.TIMEOUT:Mt("Connection",'RPC "'+e+'" timed out'),f(new gt(Ke.DEADLINE_EXCEEDED,"Request time out"));break;case Dv.HTTP_ERROR:const k=m.getStatus();if(Mt("Connection",'RPC "'+e+'" failed with status:',k,"response text:",m.getResponseText()),k>0){const O=m.getResponseJson().error;if(O&&O.status&&O.message){const q=function(J){const oe=J.toLowerCase().replace(/_/g,"-");return Object.values(Ke).indexOf(oe)>=0?oe:Ke.UNKNOWN}(O.status);f(new gt(q,O.message))}else f(new gt(Ke.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new gt(Ke.UNAVAILABLE,"Connection failed."));break;default:en()}}finally{Mt("Connection",'RPC "'+e+'" completed.')}});const E=JSON.stringify(i);m.send(t,"POST",E,r,15)})}wo(e,t,r){const i=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Hw(),f=gS(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new Hx({})),this.lo(m.initMessageHeaders,t,r),(0,Qn.uI)()||(0,Qn.b$)()||(0,Qn.d)()||(0,Qn.w1)()||(0,Qn.Mn)()||(0,Qn.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const E=i.join("");Mt("Connection","Creating WebChannel: "+E,m);const C=l.createWebChannel(E,m);let k=!1,O=!1;const q=new LO({Jr:oe=>{O?Mt("Connection","Not sending because WebChannel is closed:",oe):(k||(Mt("Connection","Opening WebChannel transport."),C.open(),k=!0),Mt("Connection","WebChannel sending:",oe),C.send(oe))},Yr:()=>C.close()}),J=(oe,Me,it)=>{oe.listen(Me,at=>{try{it(at)}catch(Et){setTimeout(()=>{throw Et},0)}})};return J(C,x0.EventType.OPEN,()=>{O||Mt("Connection","WebChannel transport opened.")}),J(C,x0.EventType.CLOSE,()=>{O||(O=!0,Mt("Connection","WebChannel transport closed"),q.ro())}),J(C,x0.EventType.ERROR,oe=>{O||(O=!0,zp("Connection","WebChannel transport errored:",oe),q.ro(new gt(Ke.UNAVAILABLE,"The operation could not be completed")))}),J(C,x0.EventType.MESSAGE,oe=>{var Me;if(!O){const it=oe.data[0];Mn(!!it);const at=it,Et=at.error||(null===(Me=at[0])||void 0===Me?void 0:Me.error);if(Et){Mt("Connection","WebChannel received error:",Et);const Pt=Et.status;let Tt=function(mn){const jn=Hi[mn];if(void 0!==jn)return ER(jn)}(Pt),vn=Et.message;void 0===Tt&&(Tt=Ke.INTERNAL,vn="Unknown error status: "+Pt+" with message "+Et.message),O=!0,q.ro(new gt(Tt,vn)),C.close()}else Mt("Connection","WebChannel received:",it),q.oo(it)}}),J(f,mS.STAT_EVENT,oe=>{oe.stat===Gw.PROXY?Mt("Connection","Detected buffering proxy"):oe.stat===Gw.NOPROXY&&Mt("Connection","Detected no buffering proxy")}),setTimeout(()=>{q.io()},0),q}}function C1(){return"undefined"!=typeof window?window:null}function yC(){return"undefined"!=typeof document?document:null}function nE(n){return new TP(n,!0)}class sI{constructor(e,t,r=1e3,i=1.5,l=6e4){this.Yn=e,this.timerId=t,this.mo=r,this.yo=i,this.po=l,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&Mt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class D1{constructor(e,t,r,i,l,f,m,E){this.Yn=e,this.Vo=r,this.vo=i,this.So=l,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=E,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new sI(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,rt.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,rt.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,rt.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===Ke.RESOURCE_EXHAUSTED?(Di(t.toString()),Di("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===Ke.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===t&&this.Qo(r,i)},r=>{e(()=>{const i=new gt(Ke.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.No.Ro((0,rt.Z)(function*(){e.state=0,e.start()}))}jo(e){return Mt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(Mt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BO extends D1{constructor(e,t,r,i,l,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,f),this.M=l}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function MP(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(E=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:en(),i=e.targetChange.targetIds||[],l=function(E,C){return E.N?(Mn(void 0===C||"string"==typeof C),Bi.fromBase64String(C||"")):(Mn(void 0===C||C instanceof Uint8Array),Bi.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(E){const C=void 0===E.code?Ke.UNKNOWN:ER(E.code);return new gt(C,E.message||"")}(f);t=new AR(r,i,l,m||null)}else if("documentChange"in e){const r=e.documentChange,i=ic(n,r.document.name),l=ls(r.document.updateTime),f=new Er({mapValue:{fields:r.document.fields}}),m=xr.newFoundDocument(i,l,f);t=new sC(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,i=ic(n,r.document),l=r.readTime?ls(r.readTime):wn.min(),f=xr.newNoDocument(i,l);t=new sC([],r.removedTargetIds||[],f.key,f)}else if("documentRemove"in e){const r=e.documentRemove,i=ic(n,r.document);t=new sC([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return en();{const r=e.filter,l=new vP(r.count||0);t=new bR(r.targetId,l)}}var E;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return wn.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?wn.min():l.readTime?ls(l.readTime):wn.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=W0(this.M),t.addTarget=function(i,l){let f;const m=l.target;return f=Xw(m)?{documents:NR(i,m)}:{query:kR(i,m)},f.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?f.resumeToken=TR(i,l.resumeToken):l.snapshotVersion.compareTo(wn.min())>0&&(f.readTime=z0(i,l.snapshotVersion.toTimestamp())),f}(this.M,e);const r=function RP(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return en()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=W0(this.M),t.removeTarget=e,this.Lo(t)}}class UO extends D1{constructor(e,t,r,i,l,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,f),this.M=l,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(Mn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function xP(n,e){return n&&n.length>0?(Mn(void 0!==e),n.map(t=>function(r,i){let l=ls(r.updateTime?r.updateTime:i);return l.isEqual(wn.min())&&(l=ls(i)),new pP(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ls(e.commitTime);return this.listener.tu(r,t)}return Mn(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=W0(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>q0(this.M,r))};this.Lo(t)}}class HO extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.M=i,this.su=!1}iu(){if(this.su)throw new gt(Ke.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.So.co(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new gt(Ke.UNKNOWN,i.toString())})}_o(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.So._o(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new gt(Ke.UNKNOWN,i.toString())})}terminate(){this.su=!0}}class jO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Di(t),this.uu=!1):Mt("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class GO{constructor(e,t,r,i,l){var f=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=l,this.gu.Kr(m=>{r.enqueueAndForget((0,rt.Z)(function*(){var E;th(f)&&(Mt("RemoteStore","Restarting streams for network reachability change."),yield(E=(0,rt.Z)(function*(C){const k=Ft(C);k.wu.add(4),yield Wv(k),k.yu.set("Unknown"),k.wu.delete(4),yield rE(k)}),function(C){return E.apply(this,arguments)})(f))}))}),this.yu=new jO(r,i)}}function rE(n){return oI.apply(this,arguments)}function oI(){return oI=(0,rt.Z)(function*(n){if(th(n))for(const e of n.mu)yield e(!0)}),oI.apply(this,arguments)}function Wv(n){return aI.apply(this,arguments)}function aI(){return aI=(0,rt.Z)(function*(n){for(const e of n.mu)yield e(!1)}),aI.apply(this,arguments)}function _C(n,e){const t=Ft(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),cI(t)?uI(t):Zv(t).Mo()&&lI(t,e))}function iE(n,e){const t=Ft(n),r=Zv(t);t._u.delete(e),r.Mo()&&T1(t,e),0===t._u.size&&(r.Mo()?r.$o():th(t)&&t.yu.set("Unknown"))}function lI(n,e){n.pu.Z(e.targetId),Zv(n).Ho(e)}function T1(n,e){n.pu.Z(e),Zv(n).Jo(e)}function uI(n){n.pu=new wP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n._u.get(e)||null}),Zv(n).start(),n.yu.au()}function cI(n){return th(n)&&!Zv(n).ko()&&n._u.size>0}function th(n){return 0===Ft(n).wu.size}function S1(n){n.pu=void 0}function zO(n){return dI.apply(this,arguments)}function dI(){return dI=(0,rt.Z)(function*(n){n._u.forEach((e,t)=>{lI(n,e)})}),dI.apply(this,arguments)}function $O(n,e){return fI.apply(this,arguments)}function fI(){return fI=(0,rt.Z)(function*(n,e){S1(n),cI(n)?(n.yu.lu(e),uI(n)):n.yu.set("Unknown")}),fI.apply(this,arguments)}function WO(n,e,t){return hI.apply(this,arguments)}function hI(){return hI=(0,rt.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof AR&&2===e.state&&e.cause)try{yield(r=(0,rt.Z)(function*(i,l){const f=l.cause;for(const m of l.targetIds)i._u.has(m)&&(yield i.remoteSyncer.rejectListen(m,f),i._u.delete(m),i.pu.removeTarget(m))}),function(i,l){return r.apply(this,arguments)})(n,e)}catch(r){Mt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield EC(n,r)}else if(e instanceof sC?n.pu.ut(e):e instanceof bR?n.pu._t(e):n.pu.ht(e),!t.isEqual(wn.min()))try{const r=yield g1(n.localStore);t.compareTo(r)>=0&&(yield function(i,l){const f=i.pu.yt(l);return f.targetChanges.forEach((m,E)=>{if(m.resumeToken.approximateByteSize()>0){const C=i._u.get(E);C&&i._u.set(E,C.withResumeToken(m.resumeToken,l))}}),f.targetMismatches.forEach(m=>{const E=i._u.get(m);if(!E)return;i._u.set(m,E.withResumeToken(Bi.EMPTY_BYTE_STRING,E.snapshotVersion)),T1(i,m);const C=new Jf(E.target,m,1,E.sequenceNumber);lI(i,C)}),i.remoteSyncer.applyRemoteEvent(f)}(n,t))}catch(r){Mt("RemoteStore","Failed to raise snapshot:",r),yield EC(n,r)}var r}),hI.apply(this,arguments)}function EC(n,e,t){return pI.apply(this,arguments)}function pI(){return pI=(0,rt.Z)(function*(n,e,t){if(!Qp(e))throw e;n.wu.add(1),yield Wv(n),n.yu.set("Offline"),t||(t=()=>g1(n.localStore)),n.asyncQueue.enqueueRetryable((0,rt.Z)(function*(){Mt("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield rE(n)}))}),pI.apply(this,arguments)}function I1(n,e){return e().catch(t=>EC(n,t,e))}function qv(n){return gI.apply(this,arguments)}function gI(){return gI=(0,rt.Z)(function*(n){const e=Ft(n),t=nh(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;qO(e);)try{const i=yield CO(e.localStore,r);if(null===i){0===e.du.length&&t.$o();break}r=i.batchId,ZO(e,i)}catch(i){yield EC(e,i)}M1(e)&&x1(e)}),gI.apply(this,arguments)}function qO(n){return th(n)&&n.du.length<10}function ZO(n,e){n.du.push(e);const t=nh(n);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function M1(n){return th(n)&&!nh(n).ko()&&n.du.length>0}function x1(n){nh(n).start()}function KO(n){return mI.apply(this,arguments)}function mI(){return mI=(0,rt.Z)(function*(n){nh(n).nu()}),mI.apply(this,arguments)}function QO(n){return vI.apply(this,arguments)}function vI(){return vI=(0,rt.Z)(function*(n){const e=nh(n);for(const t of n.du)e.Zo(t.mutations)}),vI.apply(this,arguments)}function YO(n,e,t){return yI.apply(this,arguments)}function yI(){return yI=(0,rt.Z)(function*(n,e,t){const r=n.du.shift(),i=LS.from(r,e,t);yield I1(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield qv(n)}),yI.apply(this,arguments)}function JO(n,e){return _I.apply(this,arguments)}function _I(){return _I=(0,rt.Z)(function*(n,e){var t;e&&nh(n).Xo&&(yield(t=(0,rt.Z)(function*(r,i){if(_R(l=i.code)&&l!==Ke.ABORTED){const f=r.du.shift();nh(r).Fo(),yield I1(r,()=>r.remoteSyncer.rejectFailedWrite(f.batchId,i)),yield qv(r)}var l}),function(r,i){return t.apply(this,arguments)})(n,e)),M1(n)&&x1(n)}),_I.apply(this,arguments)}function R1(n,e){return EI.apply(this,arguments)}function EI(){return EI=(0,rt.Z)(function*(n,e){const t=Ft(n);t.asyncQueue.verifyOperationInProgress(),Mt("RemoteStore","RemoteStore received new credentials");const r=th(t);t.wu.add(3),yield Wv(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield rE(t)}),EI.apply(this,arguments)}function bI(n,e){return AI.apply(this,arguments)}function AI(){return AI=(0,rt.Z)(function*(n,e){const t=Ft(n);e?(t.wu.delete(2),yield rE(t)):e||(t.wu.add(2),yield Wv(t),t.yu.set("Unknown"))}),AI.apply(this,arguments)}function Zv(n){return n.Iu||(n.Iu=function(e,t,r){const i=Ft(e);return i.iu(),new BO(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:zO.bind(null,n),eo:$O.bind(null,n),zo:WO.bind(null,n)}),n.mu.push(function(){var e=(0,rt.Z)(function*(t){t?(n.Iu.Fo(),cI(n)?uI(n):n.yu.set("Unknown")):(yield n.Iu.stop(),S1(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function nh(n){return n.Tu||(n.Tu=function(e,t,r){const i=Ft(e);return i.iu(),new UO(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:KO.bind(null,n),eo:JO.bind(null,n),eu:QO.bind(null,n),tu:YO.bind(null,n)}),n.mu.push(function(){var e=(0,rt.Z)(function*(t){t?(n.Tu.Fo(),yield qv(n)):(yield n.Tu.stop(),n.du.length>0&&(Mt("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class wI{constructor(e,t,r,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}static createAndSchedule(e,t,r,i,l){const f=Date.now()+r,m=new wI(e,t,f,i,l);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new gt(Ke.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kv(n,e){if(Di("AsyncQueue",`${e}: ${n}`),Qp(n))return new gt(Ke.UNAVAILABLE,`${e}: ${n}`);throw n}class Qv{constructor(e){this.comparator=e?(t,r)=>e(t,r)||s.comparator(t.key,r.key):(t,r)=>s.comparator(t.key,r.key),this.keyedMap=RS(),this.sortedSet=new Si(this.comparator)}static emptySet(e){return new Qv(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Qv)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Qv;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class N1{constructor(){this.Eu=new Si(s.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):en():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Yv{constructor(e,t,r,i,l,f,m,E){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=E}static fromInitialDocuments(e,t,r,i){const l=[];return t.forEach(f=>{l.push({type:0,doc:f})}),new Yv(e,t,Qv.emptySet(t),l,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&L0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class XO{constructor(){this.Ru=void 0,this.listeners=[]}}class eF{constructor(){this.queries=new Yf(e=>rR(e),L0),this.onlineState="Unknown",this.bu=new Set}}function CI(n,e){return DI.apply(this,arguments)}function DI(){return DI=(0,rt.Z)(function*(n,e){const t=Ft(n),r=e.query;let i=!1,l=t.queries.get(r);if(l||(i=!0,l=new XO),i)try{l.Ru=yield t.onListen(r)}catch(f){const m=Kv(f,`Initialization of query '${SS(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,l),l.listeners.push(e),e.Pu(t.onlineState),l.Ru&&e.Vu(l.Ru)&&II(t)}),DI.apply(this,arguments)}function TI(n,e){return SI.apply(this,arguments)}function SI(){return SI=(0,rt.Z)(function*(n,e){const t=Ft(n),r=e.query;let i=!1;const l=t.queries.get(r);if(l){const f=l.listeners.indexOf(e);f>=0&&(l.listeners.splice(f,1),i=0===l.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),SI.apply(this,arguments)}function tF(n,e){const t=Ft(n);let r=!1;for(const i of e){const f=t.queries.get(i.query);if(f){for(const m of f.listeners)m.Vu(i)&&(r=!0);f.Ru=i}}r&&II(t)}function nF(n,e,t){const r=Ft(n),i=r.queries.get(e);if(i)for(const l of i.listeners)l.onError(t);r.queries.delete(e)}function II(n){n.bu.forEach(e=>{e.next()})}class MI{constructor(e,t,r){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Yv(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Yv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class rF{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class k1{constructor(e){this.M=e}wi(e){return ic(this.M,e)}mi(e){return e.metadata.exists?RR(this.M,e.document,!1):xr.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return ls(e)}}class iF{constructor(e,t,r){this.Ou=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=P1(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=sr.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new k1(this.M);for(const i of e)if(i.metadata.queries){const l=r.wi(i.metadata.name);for(const f of i.metadata.queries){const m=(t.get(f)||br()).add(l);t.set(f,m)}}return t}complete(){var e=this;return(0,rt.Z)(function*(){const t=yield function DO(n,e,t,r){return YS.apply(this,arguments)}(e.localStore,new k1(e.M),e.documents,e.Ou.id),r=e.$u(e.documents);for(const i of e.queries)yield TO(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function P1(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class O1{constructor(e){this.key=e}}class F1{constructor(e){this.key=e}}class L1{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=br(),this.mutatedKeys=br(),this.Gu=sR(e),this.Qu=new Qv(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new N1,i=t?t.Qu:this.Qu;let l=t?t.mutatedKeys:this.mutatedKeys,f=i,m=!1;const E="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,C="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((k,O)=>{const q=i.get(k),J=IS(this.query,O)?O:null,oe=!!q&&this.mutatedKeys.has(q.key),Me=!!J&&(J.hasLocalMutations||this.mutatedKeys.has(J.key)&&J.hasCommittedMutations);let it=!1;q&&J?q.data.isEqual(J.data)?oe!==Me&&(r.track({type:3,doc:J}),it=!0):this.Hu(q,J)||(r.track({type:2,doc:J}),it=!0,(E&&this.Gu(J,E)>0||C&&this.Gu(J,C)<0)&&(m=!0)):!q&&J?(r.track({type:0,doc:J}),it=!0):q&&!J&&(r.track({type:1,doc:q}),it=!0,(E||C)&&(m=!0)),it&&(J?(f=f.add(J),l=Me?l.add(k):l.delete(k)):(f=f.delete(k),l=l.delete(k)))}),null!==this.query.limit)for(;f.size>this.query.limit;){const k="F"===this.query.limitType?f.last():f.first();f=f.delete(k.key),l=l.delete(k.key),r.track({type:1,doc:k})}return{Qu:f,zu:r,ii:m,mutatedKeys:l}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const l=e.zu.Au();l.sort((C,k)=>function(O,q){const J=oe=>{switch(oe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return en()}};return J(O)-J(q)}(C.type,k.type)||this.Gu(C.doc,k.doc)),this.Ju(r);const f=t?this.Yu():[],m=0===this.Ku.size&&this.current?1:0,E=m!==this.qu;return this.qu=m,0!==l.length||E?{snapshot:new Yv(this.query,e.Qu,i,l,e.mutatedKeys,0===m,E,!1),Xu:f}:{Xu:f}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new N1,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=br(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new F1(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new O1(r))}),t}ta(e){this.Uu=e._i,this.Ku=br();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return Yv.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class sF{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class oF{constructor(e){this.key=e,this.na=!1}}class aF{constructor(e,t,r,i,l,f){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=f,this.sa={},this.ia=new Yf(m=>rR(m),L0),this.ra=new Map,this.oa=new Set,this.ua=new Si(s.comparator),this.aa=new Map,this.ca=new XS,this.ha={},this.la=new Map,this.fa=rg.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function lF(n,e){return xI.apply(this,arguments)}function xI(){return xI=(0,rt.Z)(function*(n,e){const t=XI(n);let r,i;const l=t.ia.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),i=l.view.ea();else{const f=yield zv(t.localStore,yl(e));t.isPrimaryClient&&_C(t.remoteStore,f);const m=t.sharedClientState.addLocalQueryTarget(f.targetId);r=f.targetId,i=yield RI(t,e,r,"current"===m)}return i}),xI.apply(this,arguments)}function RI(n,e,t,r){return NI.apply(this,arguments)}function NI(){return NI=(0,rt.Z)(function*(n,e,t,r){n._a=(k,O,q)=>{return(J=(0,rt.Z)(function*(oe,Me,it,at){let Et=Me.view.Wu(it);Et.ii&&(Et=yield gC(oe.localStore,Me.query,!1).then(({documents:vn})=>Me.view.Wu(vn,Et)));const Pt=at&&at.targetChanges.get(Me.targetId),Tt=Me.view.applyChanges(Et,oe.isPrimaryClient,Pt);return jI(oe,Me.targetId,Tt.Xu),Tt.snapshot}),function(oe,Me,it,at){return J.apply(this,arguments)})(n,k,O,q);var J};const i=yield gC(n.localStore,e,!0),l=new L1(e,i._i),f=l.Wu(i.documents),m=G0.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),E=l.applyChanges(f,n.isPrimaryClient,m);jI(n,t,E.Xu);const C=new sF(e,t,l);return n.ia.set(e,C),n.ra.has(t)?n.ra.get(t).push(e):n.ra.set(t,[e]),E.snapshot}),NI.apply(this,arguments)}function uF(n,e){return kI.apply(this,arguments)}function kI(){return kI=(0,rt.Z)(function*(n,e){const t=Ft(n),r=t.ia.get(e),i=t.ra.get(r.targetId);if(i.length>1)return t.ra.set(r.targetId,i.filter(l=>!L0(l,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield $v(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),iE(t.remoteStore,r.targetId),Jv(t,r.targetId)}).catch(ig))):(Jv(t,r.targetId),yield $v(t.localStore,r.targetId,!0))}),kI.apply(this,arguments)}function PI(){return PI=(0,rt.Z)(function*(n,e,t){const r=eM(n);try{const i=yield function(l,f){const m=Ft(l),E=Jr.now(),C=f.reduce((O,q)=>O.add(q.key),br());let k;return m.persistence.runTransaction("Locally write mutations","readwrite",O=>m.fi.Ks(O,C).next(q=>{k=q;const J=[];for(const oe of f){const Me=mP(oe,k.get(oe.key));null!=Me&&J.push(new Kp(oe.key,Me,rc(Me.value.mapValue),Ui.exists(!0)))}return m.Bs.addMutationBatch(O,E,J,f)})).then(O=>(O.applyToLocalDocumentSet(k),{batchId:O.batchId,changes:k}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,f,m){let E=l.ha[l.currentUser.toKey()];E||(E=new Si(Un)),E=E.insert(f,m),l.ha[l.currentUser.toKey()]=E}(r,i.batchId,t),yield dd(r,i.changes),yield qv(r.remoteStore)}catch(i){const l=Kv(i,"Failed to persist write");t.reject(l)}}),PI.apply(this,arguments)}function V1(n,e){return OI.apply(this,arguments)}function OI(){return OI=(0,rt.Z)(function*(n,e){const t=Ft(n);try{const r=yield wO(t.localStore,e);e.targetChanges.forEach((i,l)=>{const f=t.aa.get(l);f&&(Mn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?f.na=!0:i.modifiedDocuments.size>0?Mn(f.na):i.removedDocuments.size>0&&(Mn(f.na),f.na=!1))}),yield dd(t,r,e)}catch(r){yield ig(r)}}),OI.apply(this,arguments)}function B1(n,e,t){const r=Ft(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ia.forEach((l,f)=>{const m=f.view.Pu(e);m.snapshot&&i.push(m.snapshot)}),function(l,f){const m=Ft(l);m.onlineState=f;let E=!1;m.queries.forEach((C,k)=>{for(const O of k.listeners)O.Pu(f)&&(E=!0)}),E&&II(m)}(r.eventManager,e),i.length&&r.sa.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function dF(n,e,t){return FI.apply(this,arguments)}function FI(){return FI=(0,rt.Z)(function*(n,e,t){const r=Ft(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.aa.get(e),l=i&&i.key;if(l){let f=new Si(s.comparator);f=f.insert(l,xr.newNoDocument(l,wn.min()));const m=br().add(l),E=new j0(wn.min(),new Map,new Hr(Un),f,m);yield V1(r,E),r.ua=r.ua.remove(l),r.aa.delete(e),GI(r)}else yield $v(r.localStore,e,!1).then(()=>Jv(r,e,t)).catch(ig)}),FI.apply(this,arguments)}function fF(n,e){return LI.apply(this,arguments)}function LI(){return LI=(0,rt.Z)(function*(n,e){const t=Ft(n),r=e.batch.batchId;try{const i=yield AO(t.localStore,e);HI(t,r,null),UI(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield dd(t,i)}catch(i){yield ig(i)}}),LI.apply(this,arguments)}function hF(n,e,t){return VI.apply(this,arguments)}function VI(){return VI=(0,rt.Z)(function*(n,e,t){const r=Ft(n);try{const i=yield function(l,f){const m=Ft(l);return m.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let C;return m.Bs.lookupMutationBatch(E,f).next(k=>(Mn(null!==k),C=k.keys(),m.Bs.removeMutationBatch(E,k))).next(()=>m.Bs.performConsistencyCheck(E)).next(()=>m.fi.Ks(E,C))})}(r.localStore,e);HI(r,e,t),UI(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield dd(r,i)}catch(i){yield ig(i)}}),VI.apply(this,arguments)}function BI(){return BI=(0,rt.Z)(function*(n,e){const t=Ft(n);th(t.remoteStore)||Mt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const f=Ft(l);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>f.Bs.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const i=t.la.get(r)||[];i.push(e),t.la.set(r,i)}catch(r){const i=Kv(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),BI.apply(this,arguments)}function UI(n,e){(n.la.get(e)||[]).forEach(t=>{t.resolve()}),n.la.delete(e)}function HI(n,e,t){const r=Ft(n);let i=r.ha[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),r.ha[r.currentUser.toKey()]=i}}function Jv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ra.get(e))n.ia.delete(r),t&&n.sa.wa(r,t);n.ra.delete(e),n.isPrimaryClient&&n.ca.vi(e).forEach(r=>{n.ca.containsKey(r)||U1(n,r)})}function U1(n,e){n.oa.delete(e.path.canonicalString());const t=n.ua.get(e);null!==t&&(iE(n.remoteStore,t),n.ua=n.ua.remove(e),n.aa.delete(t),GI(n))}function jI(n,e,t){for(const r of t)r instanceof O1?(n.ca.addReference(r.key,e),gF(n,r)):r instanceof F1?(Mt("SyncEngine","Document no longer in limbo: "+r.key),n.ca.removeReference(r.key,e),n.ca.containsKey(r.key)||U1(n,r.key)):en()}function gF(n,e){const t=e.key,r=t.path.canonicalString();n.ua.get(t)||n.oa.has(r)||(Mt("SyncEngine","New document in limbo: "+t),n.oa.add(r),GI(n))}function GI(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const e=n.oa.values().next().value;n.oa.delete(e);const t=new s(sr.fromString(e)),r=n.fa.next();n.aa.set(r,new oF(t)),n.ua=n.ua.insert(t,r),_C(n.remoteStore,new Jf(yl(Ov(t.path)),r,2,Ao.A))}}function dd(n,e,t){return zI.apply(this,arguments)}function zI(){return zI=(0,rt.Z)(function*(n,e,t){const r=Ft(n),i=[],l=[],f=[];var m;r.ia.isEmpty()||(r.ia.forEach((m,E)=>{f.push(r._a(E,e,t).then(C=>{if(C){r.isPrimaryClient&&r.sharedClientState.updateQueryState(E.targetId,C.fromCache?"not-current":"current"),i.push(C);const k=ZS.Ys(E.targetId,C);l.push(k)}}))}),yield Promise.all(f),r.sa.zo(i),yield(m=(0,rt.Z)(function*(E,C){const k=Ft(E);try{yield k.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>Je.forEach(C,q=>Je.forEach(q.Hs,J=>k.persistence.referenceDelegate.addReference(O,q.targetId,J)).next(()=>Je.forEach(q.Js,J=>k.persistence.referenceDelegate.removeReference(O,q.targetId,J)))))}catch(O){if(!Qp(O))throw O;Mt("LocalStore","Failed to update sequence numbers: "+O)}for(const O of C){const q=O.targetId;if(!O.fromCache){const J=k.ui.get(q),Me=J.withLastLimboFreeSnapshotVersion(J.snapshotVersion);k.ui=k.ui.insert(q,Me)}}}),function(E,C){return m.apply(this,arguments)})(r.localStore,l))}),zI.apply(this,arguments)}function mF(n,e){return $I.apply(this,arguments)}function $I(){return $I=(0,rt.Z)(function*(n,e){const t=Ft(n);if(!t.currentUser.isEqual(e)){Mt("SyncEngine","User change. New user:",e.toKey());const r=yield p1(t.localStore,e);t.currentUser=e,(i=t).la.forEach(f=>{f.forEach(m=>{m.reject(new gt(Ke.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.la.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield dd(t,r.di)}var i}),$I.apply(this,arguments)}function vF(n,e){const t=Ft(n),r=t.aa.get(e);if(r&&r.na)return br().add(r.key);{let i=br();const l=t.ra.get(e);if(!l)return i;for(const f of l){const m=t.ia.get(f);i=i.unionWith(m.view.ju)}return i}}function yF(n,e){return WI.apply(this,arguments)}function WI(){return WI=(0,rt.Z)(function*(n,e){const t=Ft(n),r=yield gC(t.localStore,e.query,!0),i=e.view.ta(r);return t.isPrimaryClient&&jI(t,e.targetId,i.Xu),i}),WI.apply(this,arguments)}function _F(n,e){return qI.apply(this,arguments)}function qI(){return qI=(0,rt.Z)(function*(n,e){const t=Ft(n);return y1(t.localStore,e).then(r=>dd(t,r))}),qI.apply(this,arguments)}function EF(n,e,t,r){return ZI.apply(this,arguments)}function ZI(){return ZI=(0,rt.Z)(function*(n,e,t,r){const i=Ft(n),l=yield function(f,m){const E=Ft(f),C=Ft(E.Bs);return E.persistence.runTransaction("Lookup mutation documents","readonly",k=>C.fn(k,m).next(O=>O?E.fi.Ks(k,O):Je.resolve(null)))}(i.localStore,e);var m;null!==l?("pending"===t?yield qv(i.remoteStore):"acknowledged"===t||"rejected"===t?(HI(i,e,r||null),UI(i,e),m=e,Ft(Ft(i.localStore).Bs)._n(m)):en(),yield dd(i,l)):Mt("SyncEngine","Cannot apply mutation batch with id: "+e)}),ZI.apply(this,arguments)}function KI(){return KI=(0,rt.Z)(function*(n,e){const t=Ft(n);if(XI(t),eM(t),!0===e&&!0!==t.da){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield H1(t,r.toArray());t.da=!0,yield bI(t.remoteStore,!0);for(const l of i)_C(t.remoteStore,l)}else if(!1===e&&!1!==t.da){const r=[];let i=Promise.resolve();t.ra.forEach((l,f)=>{t.sharedClientState.isLocalQueryTarget(f)?r.push(f):i=i.then(()=>(Jv(t,f),$v(t.localStore,f,!0))),iE(t.remoteStore,f)}),yield i,yield H1(t,r),function(l){const f=Ft(l);f.aa.forEach((m,E)=>{iE(f.remoteStore,E)}),f.ca.Si(),f.aa=new Map,f.ua=new Si(s.comparator)}(t),t.da=!1,yield bI(t.remoteStore,!1)}}),KI.apply(this,arguments)}function H1(n,e,t){return QI.apply(this,arguments)}function QI(){return QI=(0,rt.Z)(function*(n,e,t){const r=Ft(n),i=[],l=[];for(const f of e){let m;const E=r.ra.get(f);if(E&&0!==E.length){m=yield zv(r.localStore,yl(E[0]));for(const C of E){const k=r.ia.get(C),O=yield yF(r,k);O.snapshot&&l.push(O.snapshot)}}else{const C=yield v1(r.localStore,f);m=yield zv(r.localStore,C),yield RI(r,j1(C),f,!1)}i.push(m)}return r.sa.zo(l),i}),QI.apply(this,arguments)}function j1(n){return tR(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function AF(n){const e=Ft(n);return Ft(Ft(e.localStore).persistence).Fs()}function wF(n,e,t,r){return YI.apply(this,arguments)}function YI(){return YI=(0,rt.Z)(function*(n,e,t,r){const i=Ft(n);if(i.da)return void Mt("SyncEngine","Ignoring unexpected query state notification.");const l=i.ra.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const f=yield y1(i.localStore,iR(l[0])),m=j0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield dd(i,f,m);break}case"rejected":yield $v(i.localStore,e,!0),Jv(i,e,r);break;default:en()}}),YI.apply(this,arguments)}function CF(n,e,t){return JI.apply(this,arguments)}function JI(){return JI=(0,rt.Z)(function*(n,e,t){const r=XI(n);if(r.da){for(const i of e){if(r.ra.has(i)){Mt("SyncEngine","Adding an already active target "+i);continue}const l=yield v1(r.localStore,i),f=yield zv(r.localStore,l);yield RI(r,j1(l),f.targetId,!1),_C(r.remoteStore,f)}for(const i of t)r.ra.has(i)&&(yield $v(r.localStore,i,!1).then(()=>{iE(r.remoteStore,i),Jv(r,i)}).catch(ig))}}),JI.apply(this,arguments)}function XI(n){const e=Ft(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=V1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dF.bind(null,e),e.sa.zo=tF.bind(null,e.eventManager),e.sa.wa=nF.bind(null,e.eventManager),e}function eM(n){const e=Ft(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hF.bind(null,e),e}class G1{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,rt.Z)(function*(){t.M=nE(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return h1(this.persistence,new f1,e.initialUser,this.M)}ya(e){return new kO(eI.Yi,this.M)}ga(e){return new A1}terminate(){var e=this;return(0,rt.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class z1 extends G1{constructor(e,t,r){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,rt.Z)(function*(){yield t().call(r,e),yield r.Ta.initialize(r,e),yield eM(r.Ta.syncEngine),yield qv(r.Ta.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Ia(e){return h1(this.persistence,new f1,e.initialUser,this.M)}pa(e){return new pO(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=qS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Xo.withCacheSize(this.cacheSizeBytes):Xo.DEFAULT;return new WS(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,C1(),yC(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new A1}}class TF extends z1{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,rt.Z)(function*(){yield t().call(r,e);const i=r.Ta.syncEngine;r.sharedClientState instanceof iI&&(r.sharedClientState.syncEngine={$r:EF.bind(null,i),Br:wF.bind(null,i),Lr:CF.bind(null,i),Fs:AF.bind(null,i),Fr:_F.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var l=(0,rt.Z)(function*(f){yield function bF(n,e){return KI.apply(this,arguments)}(r.Ta.syncEngine,f),r.gcScheduler&&(f&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):f||r.gcScheduler.stop())});return function(f){return l.apply(this,arguments)}}())})()}ga(e){const t=C1();if(!iI.vt(t))throw new gt(Ke.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=qS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new iI(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class tM{initialize(e,t){var r=this;return(0,rt.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>B1(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=mF.bind(null,r.syncEngine),yield bI(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new eF}createDatastore(e){const t=nE(e.databaseInfo.databaseId),r=new VO(e.databaseInfo);return new HO(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,l=m=>B1(this.syncEngine,m,0),f=w1.vt()?new w1:new OO,new GO(t,r,i,l,f);var t,r,i,l,f}createSyncEngine(e,t){return function(r,i,l,f,m,E,C){const k=new aF(r,i,l,f,m,E);return C&&(k.da=!0),k}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,rt.Z)(function*(t){const r=Ft(t);Mt("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield Wv(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function $1(n,e=10240){let t=0;return{read:()=>(0,rt.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,rt.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class bC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class SF{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new vi,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(r=>{r&&r.Mu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,rt.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,rt.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,rt.Z)(function*(){const t=yield e.Va();if(null===t)return null;const r=e.ba.decode(t),i=Number(r);isNaN(i)&&e.va(`length string (${r}) is not valid number`);const l=yield e.Sa(i);return new rF(JSON.parse(l),t.length+i)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,rt.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Sa(e){var t=this;return(0,rt.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const r=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,rt.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class IF{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,rt.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new gt(Ke.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,rt.Z)(function*(l,f){const m=Ft(l),E=W0(m.M)+"/documents",C={documents:f.map(J=>$0(m.M,J))},k=yield m._o("BatchGetDocuments",E,C),O=new Map;k.forEach(J=>{const oe=function IP(n,e){return"found"in e?function(t,r){Mn(!!r.found);const i=ic(t,r.found.name),l=ls(r.found.updateTime),f=new Er({mapValue:{fields:r.found.fields}});return xr.newFoundDocument(i,l,f)}(n,e):"missing"in e?function(t,r){Mn(!!r.missing),Mn(!!r.readTime);const i=ic(t,r.missing),l=ls(r.readTime);return xr.newNoDocument(i,l)}(n,e):en()}(m.M,J);O.set(oe.key.toString(),oe)});const q=[];return f.forEach(J=>{const oe=O.get(J.toString());Mn(!!oe),q.push(oe)}),q}),function(l,f){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new U0(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,rt.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const l=s.fromPath(i);e.mutations.push(new xS(l,e.precondition(l)))}),yield(r=(0,rt.Z)(function*(i,l){const f=Ft(i),m=W0(f.M)+"/documents",E={writes:l.map(C=>q0(f.M,C))};yield f.co("Commit",m,E)}),function(i,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw en();t=wn.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new gt(Ke.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Ui.updateTime(t):Ui.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(wn.min()))throw new gt(Ke.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ui.updateTime(t)}return Ui.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class MF{constructor(e,t,r,i,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=l,this.xa=r.maxAttempts,this.No=new sI(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,rt.Z)(function*(){const t=new IF(e.datastore),r=e.ka(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(l=>{e.Ma(l)}))}).catch(i=>{e.Ma(i)})}))}ka(e){try{const t=this.updateFunction(e);return!xv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!_R(t)}return!1}}class xF{constructor(e,t,r,i){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Yi.UNAUTHENTICATED,this.clientId=Kw.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var f=(0,rt.Z)(function*(m){Mt("FirestoreClient","Received user=",m.uid),yield l.authCredentialListener(m),l.user=m});return function(m){return f.apply(this,arguments)}}()),this.appCheckCredentials.start(r,f=>(Mt("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}getConfiguration(){var e=this;return(0,rt.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new gt(Ke.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,rt.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Kv(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function W1(n,e){return nM.apply(this,arguments)}function nM(){return nM=(0,rt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Mt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,rt.Z)(function*(l){r.isEqual(l)||(yield p1(e.localStore,l),r=l)});return function(l){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),nM.apply(this,arguments)}function q1(n,e){return rM.apply(this,arguments)}function rM(){return rM=(0,rt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield iM(n);Mt("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>R1(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,l)=>R1(e.remoteStore,l)),n.onlineComponents=e}),rM.apply(this,arguments)}function iM(n){return sM.apply(this,arguments)}function sM(){return sM=(0,rt.Z)(function*(n){return n.offlineComponents||(Mt("FirestoreClient","Using default OfflineComponentProvider"),yield W1(n,new G1)),n.offlineComponents}),sM.apply(this,arguments)}function AC(n){return oM.apply(this,arguments)}function oM(){return oM=(0,rt.Z)(function*(n){return n.onlineComponents||(Mt("FirestoreClient","Using default OnlineComponentProvider"),yield q1(n,new tM)),n.onlineComponents}),oM.apply(this,arguments)}function Z1(n){return iM(n).then(e=>e.persistence)}function aM(n){return iM(n).then(e=>e.localStore)}function K1(n){return AC(n).then(e=>e.remoteStore)}function lM(n){return AC(n).then(e=>e.syncEngine)}function Xv(n){return uM.apply(this,arguments)}function uM(){return uM=(0,rt.Z)(function*(n){const e=yield AC(n),t=e.eventManager;return t.onListen=lF.bind(null,e.syncEngine),t.onUnlisten=uF.bind(null,e.syncEngine),t}),uM.apply(this,arguments)}function Q1(n,e,t={}){const r=new vi;return n.asyncQueue.enqueueAndForget((0,rt.Z)(function*(){return function(i,l,f,m,E){const C=new bC({next:O=>{l.enqueueAndForget(()=>TI(i,k));const q=O.docs.has(f);!q&&O.fromCache?E.reject(new gt(Ke.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&O.fromCache&&m&&"server"===m.source?E.reject(new gt(Ke.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(O)},error:O=>E.reject(O)}),k=new MI(Ov(f.path),C,{includeMetadataChanges:!0,ku:!0});return CI(i,k)}(yield Xv(n),n.asyncQueue,e,t,r)})),r.promise}function Y1(n,e,t={}){const r=new vi;return n.asyncQueue.enqueueAndForget((0,rt.Z)(function*(){return function(i,l,f,m,E){const C=new bC({next:O=>{l.enqueueAndForget(()=>TI(i,k)),O.fromCache&&"server"===m.source?E.reject(new gt(Ke.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(O)},error:O=>E.reject(O)}),k=new MI(f,C,{includeMetadataChanges:!0,ku:!0});return CI(i,k)}(yield Xv(n),n.asyncQueue,e,t,r)})),r.promise}const J1=new Map;function cM(n,e,t){if(!t)throw new gt(Ke.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function X1(n,e,t,r){if(!0===e&&!0===r)throw new gt(Ke.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function eN(n){if(!s.isDocumentKey(n))throw new gt(Ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function tN(n){if(s.isDocumentKey(n))throw new gt(Ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function wC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":en()}function ur(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new gt(Ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=wC(n);throw new gt(Ke.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function nN(n,e){if(e<=0)throw new gt(Ke.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class rN{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new gt(Ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new gt(Ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,X1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sE{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rN({}),this._settingsFrozen=!1,e instanceof nc?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new gt(Ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nc(i.options.projectId)}(e))}get app(){if(!this._app)throw new gt(Ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new gt(Ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rN(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new R0;switch(t.type){case"gapi":const r=t.client;return Mn(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new zx(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new gt(Ke.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=J1.get(e);t&&(Mt("ComponentProvider","Removing Datastore"),J1.delete(e),t.terminate())}(this),Promise.resolve()}}class Zr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zr(this.firestore,e,this._key)}}class no{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new no(this.firestore,e,this._query)}}class oc extends no{constructor(e,t,r){super(e,t,Ov(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zr(this.firestore,null,new s(e))}withConverter(e){return new oc(this.firestore,e,this._path)}}function iN(n,e,...t){if(n=(0,Qn.m9)(n),cM("collection","path",e),n instanceof sE){const r=sr.fromString(e,...t);return tN(r),new oc(n,null,r)}{if(!(n instanceof Zr||n instanceof oc))throw new gt(Ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(sr.fromString(e,...t));return tN(r),new oc(n.firestore,null,r)}}function CC(n,e,...t){if(n=(0,Qn.m9)(n),1===arguments.length&&(e=Kw.R()),cM("doc","path",e),n instanceof sE){const r=sr.fromString(e,...t);return eN(r),new Zr(n,null,new s(r))}{if(!(n instanceof Zr||n instanceof oc))throw new gt(Ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(sr.fromString(e,...t));return eN(r),new Zr(n.firestore,n instanceof oc?n.converter:null,new s(r))}}function sN(n,e){return n=(0,Qn.m9)(n),e=(0,Qn.m9)(e),(n instanceof Zr||n instanceof oc)&&(e instanceof Zr||e instanceof oc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function oN(n,e){return n=(0,Qn.m9)(n),e=(0,Qn.m9)(e),n instanceof no&&e instanceof no&&n.firestore===e.firestore&&L0(n._query,e._query)&&n.converter===e.converter}class HF{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new sI(this,"async_queue_retry"),this.Qa=()=>{const t=yC();t&&Mt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=yC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=yC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new vi;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,rt.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!Qp(t))throw t;Mt("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(r=>{throw this.Ua=r,this.qa=!1,Di("INTERNAL UNHANDLED ERROR: ",function(l){let f=l.message||"";return l.stack&&(f=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),f}(r)),r}).then(r=>(this.qa=!1,r))));return this.Fa=t,t}enqueueAfterDelay(e,t,r){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const i=wI.createAndSchedule(this,e,t,r,l=>this.Ha(l));return this.La.push(i),i}ja(){this.Ua&&en()}verifyOperationInProgress(){}Ja(){var e=this;return(0,rt.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function dM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class jF{constructor(){this._progressObserver={},this._taskCompletionResolver=new vi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Xr extends sE{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new HF,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||aN(this),this._firestoreClient.terminate()}}function ji(n){return n._firestoreClient||aN(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function aN(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new AS(n._databaseId,l,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var l,m;n._firestoreClient=new xF(n._authCredentials,n._appCheckCredentials,n._queue,r)}function lN(n,e,t){const r=new vi;return n.asyncQueue.enqueue((0,rt.Z)(function*(){try{yield W1(n,t),yield q1(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(l=i).name?l.code===Ke.FAILED_PRECONDITION||l.code===Ke.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var l})).then(()=>r.promise)}function uN(n){if(n._initialized||n._terminated)throw new gt(Ke.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class fd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new gt(Ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ti(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ac{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ac(Bi.fromBase64String(e))}catch(t){throw new gt(Ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ac(Bi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class og{constructor(e){this._methodName=e}}class DC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new gt(Ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new gt(Ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Un(this._lat,e._lat)||Un(this._long,e._long)}}const JF=/^__.*__$/;class XF{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Kp(e,this.data,this.fieldMask,t,this.fieldTransforms):new B0(e,this.data,t,this.fieldTransforms)}}class cN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Kp(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function dN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw en()}}class TC{constructor(e,t,r,i,l,f){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===l&&this.tc(),this.fieldTransforms=l||[],this.fieldMask=f||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new TC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.rc(e),i}oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.tc(),i}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return MC(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(dN(this.ec)&&JF.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class eL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||nE(e)}lc(e,t,r,i=!1){return new TC({ec:e,methodName:t,hc:r,path:Ti.emptyPath(),ic:!1,cc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function ag(n){const e=n._freezeSettings(),t=nE(n._databaseId);return new eL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function SC(n,e,t,r,i,l={}){const f=n.lc(l.merge||l.mergeFields?2:0,e,t,i);gM("Data must be an object, but it was:",f,r);const m=pN(r,f);let E,C;if(l.merge)E=new Wf(f.fieldMask),C=f.fieldTransforms;else if(l.mergeFields){const k=[];for(const O of l.mergeFields){const q=mM(e,O,t);if(!f.contains(q))throw new gt(Ke.INVALID_ARGUMENT,`Field '${q}' is specified in your field mask but missing from your input data.`);mN(k,q)||k.push(q)}E=new Wf(k),C=f.fieldTransforms.filter(O=>E.covers(O.field))}else E=null,C=f.fieldTransforms;return new XF(new Er(m),E,C)}class oE extends og{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof oE}}function fN(n,e,t){return new TC({ec:3,hc:e.settings.hc,methodName:n._methodName,ic:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class fM extends og{_toFieldTransform(e){return new V0(e.path,new Lv)}isEqual(e){return e instanceof fM}}class tL extends og{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=fN(this,e,!0),r=this.fc.map(l=>lg(l,t)),i=new qp(r);return new V0(e.path,i)}isEqual(e){return this===e}}class nL extends og{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=fN(this,e,!0),r=this.fc.map(l=>lg(l,t)),i=new Zp(r);return new V0(e.path,i)}isEqual(e){return this===e}}class rL extends og{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new Vv(e.M,lR(e.M,this.dc));return new V0(e.path,t)}isEqual(e){return this===e}}function hM(n,e,t,r){const i=n.lc(1,e,t);gM("Data must be an object, but it was:",i,r);const l=[],f=Er.empty();ec(r,(E,C)=>{const k=IC(e,E,t);C=(0,Qn.m9)(C);const O=i.oc(k);if(C instanceof oE)l.push(k);else{const q=lg(C,O);null!=q&&(l.push(k),f.set(k,q))}});const m=new Wf(l);return new cN(f,m,i.fieldTransforms)}function pM(n,e,t,r,i,l){const f=n.lc(1,e,t),m=[mM(e,r,t)],E=[i];if(l.length%2!=0)throw new gt(Ke.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let q=0;q<l.length;q+=2)m.push(mM(e,l[q])),E.push(l[q+1]);const C=[],k=Er.empty();for(let q=m.length-1;q>=0;--q)if(!mN(C,m[q])){const J=m[q];let oe=E[q];oe=(0,Qn.m9)(oe);const Me=f.oc(J);if(oe instanceof oE)C.push(J);else{const it=lg(oe,Me);null!=it&&(C.push(J),k.set(J,it))}}const O=new Wf(C);return new cN(k,O,f.fieldTransforms)}function hN(n,e,t,r=!1){return lg(t,n.lc(r?4:3,e))}function lg(n,e){if(gN(n=(0,Qn.m9)(n)))return gM("Unsupported field value:",e,n),pN(n,e);if(n instanceof og)return function(t,r){if(!dN(r.ec))throw r.ac(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ac(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,r){const i=[];let l=0;for(const f of t){let m=lg(f,r.uc(l));null==m&&(m={nullValue:"NULL_VALUE"}),i.push(m),l++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Qn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return lR(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Jr.fromDate(t);return{timestampValue:z0(r.M,i)}}if(t instanceof Jr){const i=new Jr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:z0(r.M,i)}}if(t instanceof DC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ac)return{bytesValue:TR(r.M,t._byteString)};if(t instanceof Zr){const i=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(i))throw r.ac(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:NS(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ac(`Unsupported field value: ${wC(t)}`)}(n,e)}function pN(n,e){const t={};return Sv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ec(n,(r,i)=>{const l=lg(i,e.sc(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function gN(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Jr||n instanceof DC||n instanceof ac||n instanceof Zr||n instanceof og)}function gM(n,e,t){if(!gN(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=wC(t);throw e.ac("an object"===r?n+" a custom object":n+" "+r)}var r}function mM(n,e,t){if((e=(0,Qn.m9)(e))instanceof fd)return e._internalPath;if("string"==typeof e)return IC(n,e);throw MC("Field path arguments must be of type string or ",n,!1,void 0,t)}const iL=new RegExp("[~\\*/\\[\\]]");function IC(n,e,t){if(e.search(iL)>=0)throw MC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new fd(...e.split("."))._internalPath}catch(r){throw MC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function MC(n,e,t,r,i){const l=r&&!r.isEmpty(),f=void 0!==i;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let E="";return(l||f)&&(E+=" (found",l&&(E+=` in field ${r}`),f&&(E+=` in document ${i}`),E+=")"),new gt(Ke.INVALID_ARGUMENT,m+n+E)}function mN(n,e){return n.some(t=>t.isEqual(e))}class aE{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Zr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new sL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(xC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class sL extends aE{data(){return super.data()}}function xC(n,e){return"string"==typeof e?IC(n,e):e instanceof fd?e._internalPath:e._delegate._internalPath}class ug{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hd extends aE{constructor(e,t,r,i,l,f){super(e,t,r,i,f),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new lE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(xC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class lE extends hd{data(e={}){return super.data(e)}}class rh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ug(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new lE(this._firestore,this._userDataWriter,r.key,r,new ug(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new gt(Ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(f=>({type:"added",doc:new lE(r._firestore,r._userDataWriter,f.doc.key,f.doc,new ug(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(f=>i||3!==f.type).map(f=>{const m=new lE(r._firestore,r._userDataWriter,f.doc.key,f.doc,new ug(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter);let E=-1,C=-1;return 0!==f.type&&(E=l.indexOf(f.doc.key),l=l.delete(f.doc.key)),1!==f.type&&(l=l.add(f.doc),C=l.indexOf(f.doc.key)),{type:oL(f.type),doc:m,oldIndex:E,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function oL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return en()}}function vN(n,e){return n instanceof hd&&e instanceof hd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof rh&&e instanceof rh&&n._firestore===e._firestore&&oN(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function yN(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new gt(Ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uE{}function ih(n,...e){for(const t of e)n=t._apply(n);return n}class aL extends uE{constructor(e,t,r){super(),this._c=e,this.wc=t,this.mc=r,this.type="where"}_apply(e){const t=ag(e.firestore),r=function(i,l,f,m,E,C,k){let O;if(E.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new gt(Ke.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){CN(k,C);const J=[];for(const oe of k)J.push(wN(m,i,oe));O={arrayValue:{values:J}}}else O=wN(m,i,k)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||CN(k,C),O=hN(f,"where",k,"in"===C||"not-in"===C);const q=Fs.create(E,C,O);return function(J,oe){if(oe.S()){const it=DS(J);if(null!==it&&!it.isEqual(oe.field))throw new gt(Ke.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${it.toString()}' and '${oe.field.toString()}'`);const at=CS(J);null!==at&&DN(0,oe.field,at)}const Me=function(it,at){for(const Et of it.filters)if(at.indexOf(Et.op)>=0)return Et.op;return null}(J,function(it){switch(it){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(oe.op));if(null!==Me)throw new gt(Ke.INVALID_ARGUMENT,Me===oe.op?`Invalid query. You cannot use more than one '${oe.op.toString()}' filter.`:`Invalid query. You cannot use '${oe.op.toString()}' filters with '${Me.toString()}' filters.`)}(i,q),q}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new no(e.firestore,e.converter,function(i,l){const f=i.filters.concat([l]);return new cd(i.path,i.collectionGroup,i.explicitOrderBy.slice(),f,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class uL extends uE{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(r,i,l){if(null!==r.startAt)throw new gt(Ke.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new gt(Ke.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const f=new Pv(i,l);return function(m,E){if(null===CS(m)){const C=DS(m);null!==C&&DN(0,C,E.field)}}(r,f),f}(e._query,this._c,this.gc);return new no(e.firestore,e.converter,function(r,i){const l=r.explicitOrderBy.concat([i]);return new cd(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class _N extends uE{constructor(e,t,r){super(),this.type=e,this.yc=t,this.Ic=r}_apply(e){return new no(e.firestore,e.converter,nR(e._query,this.yc,this.Ic))}}class EN extends uE{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=AN(e,this.type,this.Tc,this.Ec);return new no(e.firestore,e.converter,(i=t,new cd((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class bN extends uE{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=AN(e,this.type,this.Tc,this.Ec);return new no(e.firestore,e.converter,(i=t,new cd((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function AN(n,e,t,r){if(t[0]=(0,Qn.m9)(t[0]),t[0]instanceof aE)return function(i,l,f,m,E){if(!m)throw new gt(Ke.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${f}().`);const C=[];for(const k of Fv(i))if(k.field.isKeyField())C.push(j(l,m.key));else{const O=m.data.field(k.field);if(Yw(O))throw new gt(Ke.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+k.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===O){const q=k.field.canonicalString();throw new gt(Ke.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${q}' (used as the orderBy) does not exist.`)}C.push(O)}return new Qf(C,E)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=ag(n.firestore);return function(l,f,m,E,C,k){const O=l.explicitOrderBy;if(C.length>O.length)throw new gt(Ke.INVALID_ARGUMENT,`Too many arguments provided to ${E}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const q=[];for(let J=0;J<C.length;J++){const oe=C[J];if(O[J].field.isKeyField()){if("string"!=typeof oe)throw new gt(Ke.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${E}(), but got a ${typeof oe}`);if(!TS(l)&&-1!==oe.indexOf("/"))throw new gt(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${E}() must be a plain document ID, but '${oe}' contains a slash.`);const Me=l.path.child(sr.fromString(oe));if(!s.isDocumentKey(Me))throw new gt(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${E}() must result in a valid document path, but '${Me}' is not because it contains an odd number of segments.`);const it=new s(Me);q.push(j(f,it))}else{const Me=hN(m,E,oe);q.push(Me)}}return new Qf(q,k)}(n._query,n.firestore._databaseId,i,e,t,r)}}function wN(n,e,t){if("string"==typeof(t=(0,Qn.m9)(t))){if(""===t)throw new gt(Ke.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TS(e)&&-1!==t.indexOf("/"))throw new gt(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(sr.fromString(t));if(!s.isDocumentKey(r))throw new gt(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return j(n,new s(r))}if(t instanceof Zr)return j(n,t._key);throw new gt(Ke.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wC(t)}.`)}function CN(n,e){if(!Array.isArray(n)||0===n.length)throw new gt(Ke.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new gt(Ke.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function DN(n,e,t){if(!t.isEqual(e))throw new gt(Ke.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const vL={maxAttempts:5};class vM{convertValue(e,t="none"){switch(u(e)){case 0:return null;case 1:return e.booleanValue;case 2:return li(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw en()}}convertObject(e,t){const r={};return ec(e.fields,(i,l)=>{r[i]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new DC(li(e.latitude),li(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=bS(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Mv(e));default:return null}}convertTimestamp(e){const t=tc(e);return new Jr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=sr.fromString(e);Mn(FR(r));const i=new nc(r.get(1),r.get(3)),l=new s(r.popFirst(5));return i.isEqual(t)||Di(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function RC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class yL extends vM{constructor(e){super(),this.firestore=e}convertBytes(e){return new ac(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zr(this.firestore,null,t)}}class TN{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ag(e)}set(e,t,r){this._verifyNotCommitted();const i=sh(e,this._firestore),l=RC(i.converter,t,r),f=SC(this._dataReader,"WriteBatch.set",i._key,l,null!==i.converter,r);return this._mutations.push(f.toMutation(i._key,Ui.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const l=sh(e,this._firestore);let f;return f="string"==typeof(t=(0,Qn.m9)(t))||t instanceof fd?pM(this._dataReader,"WriteBatch.update",l._key,t,r,i):hM(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(f.toMutation(l._key,Ui.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=sh(e,this._firestore);return this._mutations=this._mutations.concat(new U0(t._key,Ui.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new gt(Ke.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function sh(n,e){if((n=(0,Qn.m9)(n)).firestore!==e)throw new gt(Ke.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class cg extends vM{constructor(e){super(),this.firestore=e}convertBytes(e){return new ac(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zr(this.firestore,null,t)}}function SN(n,e,t){n=ur(n,Zr);const r=ur(n.firestore,Xr),i=RC(n.converter,e,t);return ey(r,[SC(ag(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Ui.none())])}function IN(n,e,t,...r){n=ur(n,Zr);const i=ur(n.firestore,Xr),l=ag(i);let f;return f="string"==typeof(e=(0,Qn.m9)(e))||e instanceof fd?pM(l,"updateDoc",n._key,e,t,r):hM(l,"updateDoc",n._key,e),ey(i,[f.toMutation(n._key,Ui.exists(!0))])}function MN(n,...e){var t,r,i;n=(0,Qn.m9)(n);let l={includeMetadataChanges:!1},f=0;"object"!=typeof e[f]||dM(e[f])||(l=e[f],f++);const m={includeMetadataChanges:l.includeMetadataChanges};if(dM(e[f])){const O=e[f];e[f]=null===(t=O.next)||void 0===t?void 0:t.bind(O),e[f+1]=null===(r=O.error)||void 0===r?void 0:r.bind(O),e[f+2]=null===(i=O.complete)||void 0===i?void 0:i.bind(O)}let E,C,k;if(n instanceof Zr)C=ur(n.firestore,Xr),k=Ov(n._key.path),E={next:O=>{e[f]&&e[f](yM(C,n,O))},error:e[f+1],complete:e[f+2]};else{const O=ur(n,no);C=ur(O.firestore,Xr),k=O._query;const q=new cg(C);E={next:J=>{e[f]&&e[f](new rh(C,q,O,J))},error:e[f+1],complete:e[f+2]},yN(n._query)}return function(O,q,J,oe){const Me=new bC(oe),it=new MI(q,Me,J);return O.asyncQueue.enqueueAndForget((0,rt.Z)(function*(){return CI(yield Xv(O),it)})),()=>{Me.Aa(),O.asyncQueue.enqueueAndForget((0,rt.Z)(function*(){return TI(yield Xv(O),it)}))}}(ji(C),k,m,E)}function ey(n,e){return function(t,r){const i=new vi;return t.asyncQueue.enqueueAndForget((0,rt.Z)(function*(){return function cF(n,e,t){return PI.apply(this,arguments)}(yield lM(t),r,i)})),i.promise}(ji(n),e)}function yM(n,e,t){const r=t.docs.get(e._key),i=new cg(n);return new hd(n,i,e._key,r,new ug(t.hasPendingWrites,t.fromCache),e.converter)}class IL extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ag(e)}get(e){const t=sh(e,this._firestore),r=new yL(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return en();const l=i[0];if(l.isFoundDocument())return new aE(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new aE(this._firestore,r,t._key,null,t.converter);throw en()})}set(e,t,r){const i=sh(e,this._firestore),l=RC(i.converter,t,r),f=SC(this._dataReader,"Transaction.set",i._key,l,null!==i.converter,r);return this._transaction.set(i._key,f),this}update(e,t,r,...i){const l=sh(e,this._firestore);let f;return f="string"==typeof(t=(0,Qn.m9)(t))||t instanceof fd?pM(this._dataReader,"Transaction.update",l._key,t,r,i):hM(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,f),this}delete(e){const t=sh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=sh(e,this._firestore),r=new cg(this._firestore);return super.get(e).then(i=>new hd(this._firestore,r,t._key,i._document,new ug(!1,!1),t.converter))}}function _M(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new gt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function RN(){if("undefined"==typeof Uint8Array)throw new gt("unimplemented","Uint8Arrays are not available in this environment.")}function NN(){if(!function Wx(){return"undefined"!=typeof atob}())throw new gt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){zf=Ku.SDK_VERSION,(0,Ku._registerComponent)(new Pm.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),l=new Xr(i,new Tv(t.getProvider("auth-internal")),new $x(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,Ku.registerVersion)($w,"3.4.9",n),(0,Ku.registerVersion)($w,"3.4.9","esm2017")}();class cE{constructor(e){this._delegate=e}static fromBase64String(e){return NN(),new cE(ac.fromBase64String(e))}static fromUint8Array(e){return RN(),new cE(ac.fromUint8Array(e))}toBase64(){return NN(),this._delegate.toBase64()}toUint8Array(){return RN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function EM(n){return function LL(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class VL{enableIndexedDbPersistence(e,t){return function zF(n,e){uN(n=ur(n,Xr));const t=ji(n),r=n._freezeSettings(),i=new tM;return lN(t,i,new z1(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function $F(n){uN(n=ur(n,Xr));const e=ji(n),t=n._freezeSettings(),r=new tM;return lN(e,r,new TF(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function WF(n){if(n._initialized&&!n._terminated)throw new gt(Ke.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new vi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,rt.Z)(function*(){try{yield(t=(0,rt.Z)(function*(r){if(!iu.vt())return Promise.resolve();const i=r+"main";yield iu.delete(i)}),function(r){return t.apply(this,arguments)})(qS(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class kN{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof nc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&zp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function BF(n,e,t,r={}){var i;const l=(n=ur(n,sE))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&zp("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let f,m;if("string"==typeof r.mockUserToken)f=r.mockUserToken,m=Yi.MOCK_USER;else{f=(0,Qn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new gt(Ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Yi(E)}n._authCredentials=new N0(new Zw(f,m))}}(this._delegate,e,t,r)}enableNetwork(){return function ZF(n){return function RF(n){return n.asyncQueue.enqueue((0,rt.Z)(function*(){const e=yield Z1(n),t=yield K1(n);return e.setNetworkEnabled(!0),function(r){const i=Ft(r);return i.wu.delete(0),rE(i)}(t)}))}(ji(n=ur(n,Xr)))}(this._delegate)}disableNetwork(){return function KF(n){return function NF(n){return n.asyncQueue.enqueue((0,rt.Z)(function*(){const e=yield Z1(n),t=yield K1(n);return e.setNetworkEnabled(!1),(r=(0,rt.Z)(function*(i){const l=Ft(i);l.wu.add(0),yield Wv(l),l.yu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(ji(n=ur(n,Xr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,X1("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function qF(n){return function(e){const t=new vi;return e.asyncQueue.enqueueAndForget((0,rt.Z)(function*(){return function pF(n,e){return BI.apply(this,arguments)}(yield lM(e),t)})),t.promise}(ji(n=ur(n,Xr)))}(this._delegate)}onSnapshotsInSync(e){return function SL(n,e){return function OF(n,e){const t=new bC(e);return n.asyncQueue.enqueueAndForget((0,rt.Z)(function*(){return r=yield Xv(n),i=t,Ft(r).bu.add(i),void i.next();var r,i})),()=>{t.Aa(),n.asyncQueue.enqueueAndForget((0,rt.Z)(function*(){return r=yield Xv(n),i=t,void Ft(r).bu.delete(i);var r,i}))}}(ji(n=ur(n,Xr)),dM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new gt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ty(this,iN(this._delegate,e))}catch(t){throw Do(t,"collection()","Firestore.collection()")}}doc(e){try{return new El(this,CC(this._delegate,e))}catch(t){throw Do(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new To(this,function UF(n,e){if(n=ur(n,sE),cM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new gt(Ke.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new no(n,null,(t=e,new cd(sr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Do(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function ML(n,e,t){n=ur(n,Xr);const r=Object.assign(Object.assign({},vL),t);return function(i){if(i.maxAttempts<1)throw new gt(Ke.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function FF(n,e,t){const r=new vi;return n.asyncQueue.enqueueAndForget((0,rt.Z)(function*(){const i=yield(l=n,AC(l).then(f=>f.datastore));var l;new MF(n.asyncQueue,i,t,e,r).run()})),r.promise}(ji(n),i=>e(new IL(n,i)),r)}(this._delegate,t=>e(new PN(this,t)))}batch(){return ji(this._delegate),new ON(new TN(this._delegate,e=>ey(this._delegate,e)))}loadBundle(e){return function QF(n,e){const t=ji(n=ur(n,Xr)),r=new jF;return function LF(n,e,t,r){const i=function(l,f){let m;return m="string"==typeof l?(new TextEncoder).encode(l):l,E=function(E,C){if(E instanceof Uint8Array)return $1(E,C);if(E instanceof ArrayBuffer)return $1(new Uint8Array(E),C);if(E instanceof ReadableStream)return E.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new SF(E,f);var E}(t,nE(e));n.asyncQueue.enqueueAndForget((0,rt.Z)(function*(){!function DF(n,e,t){const r=Ft(n);var i;(i=(0,rt.Z)(function*(l,f,m){try{const E=yield f.getMetadata();if(yield function(q,J){const oe=Ft(q),Me=ls(J.createTime);return oe.persistence.runTransaction("hasNewerBundle","readonly",it=>oe._s.getBundleMetadata(it,J.id)).then(it=>!!it&&it.createTime.compareTo(Me)>=0)}(l.localStore,E))return yield f.close(),m._completeWith({taskState:"Success",documentsLoaded:(q=E).totalDocuments,bytesLoaded:q.totalBytes,totalDocuments:q.totalDocuments,totalBytes:q.totalBytes}),Promise.resolve(new Set);m._updateProgress(P1(E));const C=new iF(E,l.localStore,f.M);let k=yield f.ma();for(;k;){const q=yield C.Fu(k);q&&m._updateProgress(q),k=yield f.ma()}const O=yield C.complete();return yield dd(l,O.Lu,void 0),yield function(q,J){const oe=Ft(q);return oe.persistence.runTransaction("Save bundle","readwrite",Me=>oe._s.saveBundleMetadata(Me,J))}(l.localStore,E),m._completeWith(O.progress),Promise.resolve(O.Bu)}catch(E){return zp("SyncEngine",`Loading bundle failed with ${E}`),m._failWith(E),Promise.resolve(new Set)}var q}),function(l,f,m){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield lM(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function YF(n,e){return function VF(n,e){return n.asyncQueue.enqueue((0,rt.Z)(function*(){return function(t,r){const i=Ft(t);return i.persistence.runTransaction("Get named query","readonly",l=>i._s.getNamedQuery(l,r))}(yield aM(n),e)}))}(ji(n=ur(n,Xr)),e).then(t=>t?new no(n,null,t.query):null)}(this._delegate,e).then(t=>t?new To(this,t):null)}}class NC extends vM{constructor(e){super(),this.firestore=e}convertBytes(e){return new cE(new ac(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return El.forKey(t,this.firestore,null)}}class PN{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new NC(e)}get(e){const t=fg(e);return this._delegate.get(t).then(r=>new dE(this._firestore,new hd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=fg(e);return r?(_M("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=fg(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=fg(e);return this._delegate.delete(t),this}}class ON{constructor(e){this._delegate=e}set(e,t,r){const i=fg(e);return r?(_M("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=fg(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=fg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class dg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new lE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new fE(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=dg.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(t);return l||(l=new dg(e,new NC(e),t),i.set(t,l)),l}}dg.INSTANCES=new WeakMap;class El{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new NC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new gt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new El(t,new Zr(t._delegate,r,new s(e)))}static forKey(e,t,r){return new El(t,new Zr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new ty(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ty(this.firestore,iN(this._delegate,e))}catch(t){throw Do(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Qn.m9)(e))instanceof Zr&&sN(this._delegate,e)}set(e,t){t=_M("DocumentReference.set",t);try{return t?SN(this._delegate,e,t):SN(this._delegate,e)}catch(r){throw Do(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?IN(this._delegate,e):IN(this._delegate,e,t,...r)}catch(i){throw Do(i,"updateDoc()","DocumentReference.update()")}}delete(){return function DL(n){return ey(ur(n.firestore,Xr),[new U0(n._key,Ui.none())])}(this._delegate)}onSnapshot(...e){const t=FN(e),r=LN(e,i=>new dE(this.firestore,new hd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return MN(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function EL(n){n=ur(n,Zr);const e=ur(n.firestore,Xr),t=ji(e),r=new cg(e);return function kF(n,e){const t=new vi;return n.asyncQueue.enqueueAndForget((0,rt.Z)(function*(){return(r=(0,rt.Z)(function*(i,l,f){try{const m=yield function(E,C){const k=Ft(E);return k.persistence.runTransaction("read document","readonly",O=>k.fi.Ls(O,C))}(i,l);m.isFoundDocument()?f.resolve(m):m.isNoDocument()?f.resolve(null):f.reject(new gt(Ke.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const E=Kv(m,`Failed to get document '${l} from cache`);f.reject(E)}}),function(i,l,f){return r.apply(this,arguments)})(yield aM(n),e,t);var r})),t.promise}(t,n._key).then(i=>new hd(e,r,n._key,i,new ug(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function bL(n){n=ur(n,Zr);const e=ur(n.firestore,Xr);return Q1(ji(e),n._key,{source:"server"}).then(t=>yM(e,n,t))}(this._delegate):function _L(n){n=ur(n,Zr);const e=ur(n.firestore,Xr);return Q1(ji(e),n._key).then(t=>yM(e,n,t))}(this._delegate),t.then(r=>new dE(this.firestore,new hd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new El(this.firestore,this._delegate.withConverter(e?dg.getInstance(this.firestore,e):null))}}function Do(n,e,t){return n.message=n.message.replace(e,t),n}function FN(n){for(const e of n)if("object"==typeof e&&!EM(e))return e;return{}}function LN(n,e){var t,r;let i;return i=EM(n[0])?n[0]:EM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{i.next&&i.next(e(l))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class dE{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new El(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return vN(this._delegate,e._delegate)}}class fE extends dE{data(e){const t=this._delegate.data(e);return function qw(n,e){n||en()}(void 0!==t),t}}class To{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new NC(e)}where(e,t,r){try{return new To(this.firestore,ih(this._delegate,function lL(n,e,t){const r=e,i=xC("where",n);return new aL(i,r,t)}(e,t,r)))}catch(i){throw Do(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new To(this.firestore,ih(this._delegate,function cL(n,e="asc"){const t=e,r=xC("orderBy",n);return new uL(r,t)}(e,t)))}catch(r){throw Do(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new To(this.firestore,ih(this._delegate,function dL(n){return nN("limit",n),new _N("limit",n,"F")}(e)))}catch(t){throw Do(t,"limit()","Query.limit()")}}limitToLast(e){try{return new To(this.firestore,ih(this._delegate,function fL(n){return nN("limitToLast",n),new _N("limitToLast",n,"L")}(e)))}catch(t){throw Do(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new To(this.firestore,ih(this._delegate,function hL(...n){return new EN("startAt",n,!0)}(...e)))}catch(t){throw Do(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new To(this.firestore,ih(this._delegate,function pL(...n){return new EN("startAfter",n,!1)}(...e)))}catch(t){throw Do(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new To(this.firestore,ih(this._delegate,function gL(...n){return new bN("endBefore",n,!1)}(...e)))}catch(t){throw Do(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new To(this.firestore,ih(this._delegate,function mL(...n){return new bN("endAt",n,!0)}(...e)))}catch(t){throw Do(t,"endAt()","Query.endAt()")}}isEqual(e){return oN(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function wL(n){n=ur(n,no);const e=ur(n.firestore,Xr),t=ji(e),r=new cg(e);return function PF(n,e){const t=new vi;return n.asyncQueue.enqueueAndForget((0,rt.Z)(function*(){return(r=(0,rt.Z)(function*(i,l,f){try{const m=yield gC(i,l,!0),E=new L1(l,m._i),C=E.Wu(m.documents),k=E.applyChanges(C,!1);f.resolve(k.snapshot)}catch(m){const E=Kv(m,`Failed to execute query '${l} against cache`);f.reject(E)}}),function(i,l,f){return r.apply(this,arguments)})(yield aM(n),e,t);var r})),t.promise}(t,n._query).then(i=>new rh(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function CL(n){n=ur(n,no);const e=ur(n.firestore,Xr),t=ji(e),r=new cg(e);return Y1(t,n._query,{source:"server"}).then(i=>new rh(e,r,n,i))}(this._delegate):function AL(n){n=ur(n,no);const e=ur(n.firestore,Xr),t=ji(e),r=new cg(e);return yN(n._query),Y1(t,n._query).then(i=>new rh(e,r,n,i))}(this._delegate),t.then(r=>new bM(this.firestore,new rh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=FN(e),r=LN(e,i=>new bM(this.firestore,new rh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return MN(this._delegate,t,r)}withConverter(e){return new To(this.firestore,this._delegate.withConverter(e?dg.getInstance(this.firestore,e):null))}}class UL{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new fE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class bM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new To(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new fE(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new UL(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new fE(this._firestore,r))})}isEqual(e){return vN(this._delegate,e._delegate)}}class ty extends To{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new El(this.firestore,e):null}doc(e){try{return new El(this.firestore,void 0===e?CC(this._delegate):CC(this._delegate,e))}catch(t){throw Do(t,"doc()","CollectionReference.doc()")}}add(e){return function TL(n,e){const t=ur(n.firestore,Xr),r=CC(n),i=RC(n.converter,e);return ey(t,[SC(ag(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Ui.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new El(this.firestore,t))}isEqual(e){return sN(this._delegate,e._delegate)}withConverter(e){return new ty(this.firestore,this._delegate.withConverter(e?dg.getInstance(this.firestore,e):null))}}function fg(n){return ur(n,Zr)}class AM{constructor(...e){this._delegate=new fd(...e)}static documentId(){return new AM(Ti.keyField().canonicalString())}isEqual(e){return(e=(0,Qn.m9)(e))instanceof fd&&this._delegate._internalPath.isEqual(e._internalPath)}}class hg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function RL(){return new fM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new hg(e)}static delete(){const e=function xL(){return new oE("deleteField")}();return e._methodName="FieldValue.delete",new hg(e)}static arrayUnion(...e){const t=function NL(...n){return new tL("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new hg(t)}static arrayRemove(...e){const t=function kL(...n){return new nL("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new hg(t)}static increment(e){const t=function PL(n){return new rL("increment",n)}(e);return t._methodName="FieldValue.increment",new hg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const HL={Firestore:kN,GeoPoint:DC,Timestamp:Jr,Blob:cE,Transaction:PN,WriteBatch:ON,DocumentReference:El,DocumentSnapshot:dE,Query:To,QueryDocumentSnapshot:fE,QuerySnapshot:bM,CollectionReference:ty,FieldPath:AM,FieldValue:hg,setLogLevel:function BL(n){!function jx(n){ad.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function GL(n){(function jL(n,e){n.INTERNAL.registerComponent(new Pm.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},HL)))})(n,(e,t)=>new kN(e,t,new VL)),n.registerVersion("@firebase/firestore-compat","0.1.18")}(UT.Z);var zL=$(6451),kC=$(5363),$L=$(6063);class WL extends ai.x{constructor(e=1/0,t=1/0,r=$L.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:l,_windowTime:f}=this;t||(r.push(e),!i&&r.push(l.now()+f)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,l=i.slice();for(let f=0;f<l.length&&!e.closed;f+=r?1:2)e.next(l[f]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,l=(i?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!i){const f=t.now();let m=0;for(let E=1;E<r.length&&r[E]<=f;E+=2)m=E;m&&r.splice(0,m+1)}}}var qL=$(3099);function VN(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,qL.B)({connector:()=>new WL(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function BN(n,e){return(0,nm.m)(e)?bi(()=>n,e):bi(()=>n)}var wM=$(9468);$(5867);const HN=new Map,JL={activated:!1,tokenObservers:[]},XL={initialized:!1,enabled:!1};function ds(n){return HN.get(n)||JL}function su(n,e){HN.set(n,e)}function OC(){return XL}class iV{constructor(e,t,r,i,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=i,i>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,rt.Z)(function*(){t.stop();try{t.pending=new Qn.BH,yield function sV(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Qn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const So=new Qn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function GN(n){if(!ds(n).activated)throw So.create("use-before-activation",{appName:n.name})}function SM(n,e){return IM.apply(this,arguments)}function IM(){return IM=(0,rt.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const O=yield i.getHeartbeatsHeader();O&&(r["X-Firebase-Client"]=O)}const l={method:"POST",body:JSON.stringify(e),headers:r};let f,m;try{f=yield fetch(n,l)}catch(O){throw So.create("fetch-network-error",{originalErrorMessage:O.message})}if(200!==f.status)throw So.create("fetch-status-error",{httpStatus:f.status});try{m=yield f.json()}catch(O){throw So.create("fetch-parse-error",{originalErrorMessage:O.message})}const E=m.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw So.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const C=1e3*Number(E[1]),k=Date.now();return{token:m.token,expireTimeMillis:k+C,issuedAtTimeMillis:k}}),IM.apply(this,arguments)}function cV(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const hE="firebase-app-check-store";let VC=null;function $N(){return VC||(VC=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(So.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(hE,{keyPath:"compositeKey"})}}catch(t){e(So.create("storage-open",{originalErrorMessage:t.message}))}}),VC)}function MM(){return MM=(0,rt.Z)(function*(n,e){const r=(yield $N()).transaction(hE,"readwrite"),l=r.objectStore(hE).put({compositeKey:n,value:e});return new Promise((f,m)=>{l.onsuccess=E=>{f()},r.onerror=E=>{var C;m(So.create("storage-set",{originalErrorMessage:null===(C=E.target.error)||void 0===C?void 0:C.message}))}})}),MM.apply(this,arguments)}const pE=new fl.Yd("@firebase/app-check");function KN(n,e){return(0,Qn.hl)()?function pV(n,e){return function WN(n,e){return MM.apply(this,arguments)}(function ZN(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{pE.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function QN(){return OC().enabled}function YN(){return kM.apply(this,arguments)}function kM(){return kM=(0,rt.Z)(function*(){const n=OC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),kM.apply(this,arguments)}const EV={error:"UNKNOWN_ERROR"};function bV(n){return Qn.US.encodeString(JSON.stringify(n),!1)}function BC(n){return PM.apply(this,arguments)}function PM(){return PM=(0,rt.Z)(function*(n,e=!1){const t=n.app;GN(t);const r=ds(t);let l,i=r.token;if(!i){const E=yield r.cachedTokenPromise;E&&UC(E)&&(i=E)}if(!e&&i&&UC(i))return{token:i.token};let m,f=!1;if(QN()){r.exchangeTokenPromise||(r.exchangeTokenPromise=SM(cV(t,yield YN()),n.heartbeatServiceProvider).then(C=>(r.exchangeTokenPromise=void 0,C)),f=!0);const E=yield r.exchangeTokenPromise;return yield KN(t,E),su(t,Object.assign(Object.assign({},r),{token:E})),{token:E.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(E=>(r.exchangeTokenPromise=void 0,E)),f=!0),i=yield r.exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?pE.warn(E.message):pE.error(E),l=E}return i?(m={token:i.token},su(t,Object.assign(Object.assign({},r),{token:i})),yield KN(t,i)):m=wV(l),f&&XN(t,m),m}),PM.apply(this,arguments)}function FM(n,e){const t=ds(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),su(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function JN(n){const{app:e}=n,t=ds(e);let r=t.tokenRefresher;r||(r=function AV(n){const{app:e}=n;return new iV((0,rt.Z)(function*(){let r;if(r=ds(e).token?yield BC(n,!0):yield BC(n),r.error)throw r.error}),()=>!0,()=>{const t=ds(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),su(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function XN(n,e){const t=ds(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function UC(n){return n.expireTimeMillis-Date.now()>0}function wV(n){return{token:bV(EV),error:n}}class CV{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ds(this.app);for(const t of e)FM(this.app,t.next);return Promise.resolve()}}const ak="app-check-internal";!function VV(){(0,Ku._registerComponent)(new Pm.wA("app-check",n=>function DV(n,e){return new CV(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(ak).initialize()})),(0,Ku._registerComponent)(new Pm.wA(ak,n=>function TV(n){return{getToken:e=>BC(n,e),addTokenListener:e=>function OM(n,e,t,r){const{app:i}=n,l=ds(i),f={next:t,error:r,type:e};if(su(i,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,f]})),l.token&&UC(l.token)){const m=l.token;Promise.resolve().then(()=>{t({token:m.token}),JN(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>JN(n))}(n,"INTERNAL",e),removeTokenListener:e=>FM(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ku.registerVersion)("@firebase/app-check","0.5.8")}();class UM{constructor(){return(0,Oi.vb)("app-check")}}"undefined"!=typeof window&&window;const uk=new h.OlP("angularfire2.auth.use-emulator"),ck=new h.OlP("angularfire2.auth.settings"),dk=new h.OlP("angularfire2.auth.tenant-id"),fk=new h.OlP("angularfire2.auth.langugage-code"),hk=new h.OlP("angularfire2.auth.use-device-language"),pk=new h.OlP("angularfire.auth.persistence"),gk=(n,e,t,r,i,l,f,m)=>(0,ka.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=e.runOutsideAngular(()=>n.auth());if(t&&E.useEmulator(...t),r&&(E.tenantId=r),E.languageCode=i,l&&E.useDeviceLanguage(),f)for(const[C,k]of Object.entries(f))E.settings[C]=k;return m&&E.setPersistence(m),E},[t,r,i,l,f,m]);let gE=(()=>{class n{constructor(t,r,i,l,f,m,E,C,k,O,q,J){const oe=new ai.x,Me=An(void 0).pipe((0,kC.Q)(f.outsideAngular),bi(()=>l.runOutsideAngular(()=>Promise.resolve().then($.bind($,5881)))),(0,gn.U)(()=>(0,ka.on)(t,l,r)),(0,gn.U)(it=>gk(it,l,m,C,k,O,E,q)),VN({bufferSize:1,refCount:!1}));if(Gr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=An(null);else{Me.pipe($c()).subscribe();const at=Me.pipe(bi(Tt=>Tt.getRedirectResult().then(vn=>vn,()=>null)),Oi.iC,VN({bufferSize:1,refCount:!1})),Et=Me.pipe(bi(Tt=>new $s.y(vn=>({unsubscribe:l.runOutsideAngular(()=>Tt.onAuthStateChanged(mn=>vn.next(mn),mn=>vn.error(mn),()=>vn.complete()))})))),Pt=Me.pipe(bi(Tt=>new $s.y(vn=>({unsubscribe:l.runOutsideAngular(()=>Tt.onIdTokenChanged(mn=>vn.next(mn),mn=>vn.error(mn),()=>vn.complete()))}))));this.authState=at.pipe(BN(Et),(0,wM.R)(f.outsideAngular),(0,kC.Q)(f.insideAngular)),this.user=at.pipe(BN(Pt),(0,wM.R)(f.outsideAngular),(0,kC.Q)(f.insideAngular)),this.idToken=this.user.pipe(bi(Tt=>Tt?(0,_r.D)(Tt.getIdToken()):An(null))),this.idTokenResult=this.user.pipe(bi(Tt=>Tt?(0,_r.D)(Tt.getIdTokenResult()):An(null))),this.credential=(0,zL.T)(at,oe,this.authState.pipe(Zo(Tt=>!Tt))).pipe((0,gn.U)(Tt=>(null==Tt?void 0:Tt.user)?Tt:null),(0,wM.R)(f.outsideAngular),(0,kC.Q)(f.insideAngular))}return(0,ka.pX)(this,Me,l,{spy:{apply:(it,at,Et)=>{(it.startsWith("signIn")||it.startsWith("createUser"))&&Et.then(Pt=>oe.next(Pt))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ka.Dh),h.LFG(ka.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Oi.HU),h.LFG(uk,8),h.LFG(ck,8),h.LFG(dk,8),h.LFG(fk,8),h.LFG(hk,8),h.LFG(pk,8),h.LFG(UM,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),zV=(()=>{class n{constructor(){Om.Z.registerVersion("angularfire",Oi.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[gE]}),n})();function mk(n,e){return function $V(n,e=LT.z){return new $s.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function jM(n,e){return mk(n,e).pipe((0,gn.U)(t=>({payload:t,type:"query"})))}function jC(n,e){return jM(n,e).pipe(cf(void 0),P_(),(0,gn.U)(([t,r])=>{const i=r.payload.docChanges(),l=i.map(f=>({type:f.type,payload:f}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((f,m)=>{const E=i.find(k=>k.doc.ref.isEqual(f.ref)),C=null==t?void 0:t.payload.docs.find(k=>k.ref.isEqual(f.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(f.metadata)||!E&&C&&JSON.stringify(C.metadata)===JSON.stringify(f.metadata)||l.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:f}})}),l}))}function vk(n,e,t){return jC(n,t).pipe(df((r,i)=>function qV(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function ZV(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return GM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return GM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return GM(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(l=>l.payload),e),[]),function VT(n,e=tm.y){return n=null!=n?n:BT,(0,ks.e)((t,r)=>{let i,l=!0;t.subscribe((0,Mi.x)(r,f=>{const m=e(f);(l||!n(i,m))&&(l=!1,i=m,r.next(f))}))})}(),(0,gn.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function GM(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function yk(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class _k{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=jC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,gn.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(cf(void 0),P_(),Zo(([r,i])=>i.length>0||!r),(0,gn.U)(([r,i])=>i),Oi.iC)}auditTrail(e){return this.stateChanges(e).pipe(df((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=yk(e);return vk(this.query,t,this.afs.schedulers.outsideAngular).pipe(Oi.iC)}valueChanges(e={}){return jM(this.query,this.afs.schedulers.outsideAngular).pipe((0,gn.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Oi.iC)}get(e){return(0,_r.D)(this.query.get(e)).pipe(Oi.iC)}add(e){return this.ref.add(e)}doc(e){return new Ek(this.ref.doc(e),this.afs)}}class Ek{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:l}=wk(r,t);return new _k(i,l,this.afs)}snapshotChanges(){return function WV(n,e){return mk(n,e).pipe(cf(void 0),P_(),(0,gn.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Oi.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,gn.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,_r.D)(this.ref.get(e)).pipe(Oi.iC)}}class KV{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?jC(this.query,this.afs.schedulers.outsideAngular).pipe((0,gn.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Zo(t=>t.length>0),Oi.iC):jC(this.query,this.afs.schedulers.outsideAngular).pipe(Oi.iC)}auditTrail(e){return this.stateChanges(e).pipe(df((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=yk(e);return vk(this.query,t,this.afs.schedulers.outsideAngular).pipe(Oi.iC)}valueChanges(e={}){return jM(this.query,this.afs.schedulers.outsideAngular).pipe((0,gn.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Oi.iC)}get(e){return(0,_r.D)(this.query.get(e)).pipe(Oi.iC)}}const bk=new h.OlP("angularfire2.enableFirestorePersistence"),Ak=new h.OlP("angularfire2.firestore.persistenceSettings"),QV=new h.OlP("angularfire2.firestore.settings"),YV=new h.OlP("angularfire2.firestore.use-emulator");function wk(n,e=(t=>t)){return{query:e(n),ref:n}}let Ck=(()=>{class n{constructor(t,r,i,l,f,m,E,C,k,O,q,J,oe,Me,it,at,Et){this.schedulers=E;const Pt=(0,ka.on)(t,m,r),Tt=k;O&&gk(Pt,m,q,oe,Me,it,J,at),[this.firestore,this.persistenceEnabled$]=(0,ka.cc)(`${Pt.name}.firestore`,"AngularFirestore",Pt.name,()=>{const vn=m.runOutsideAngular(()=>Pt.firestore());if(l&&vn.settings(l),Tt&&vn.useEmulator(...Tt),i&&!Gr(f)){const mn=()=>{try{return(0,_r.D)(vn.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(jn){return"undefined"!=typeof console&&console.warn(jn),An(!1)}};return[vn,m.runOutsideAngular(mn)]}return[vn,An(!1)]},[l,Tt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:f}=wk(i,r),m=this.schedulers.ngZone.run(()=>l);return new _k(m,f,this)}collectionGroup(t,r){const i=r||(f=>f),l=this.firestore.collectionGroup(t);return new KV(i(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new Ek(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ka.Dh),h.LFG(ka.xv,8),h.LFG(bk,8),h.LFG(QV,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Oi.HU),h.LFG(Ak,8),h.LFG(YV,8),h.LFG(gE,8),h.LFG(uk,8),h.LFG(ck,8),h.LFG(dk,8),h.LFG(fk,8),h.LFG(hk,8),h.LFG(pk,8),h.LFG(UM,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),JV=(()=>{class n{constructor(){Om.Z.registerVersion("angularfire",Oi.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:bk,useValue:!0},{provide:Ak,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[Ck]}),n})();const Dk={apiKey:"AIzaSyDFtijVvYfE6ttxGGIFosKDTe3x7spSTK4",authDomain:"mindful-c1d5e.firebaseapp.com",projectId:"mindful-c1d5e",storageBucket:"mindful-c1d5e.appspot.com",messagingSenderId:"1085302276666",appId:"1:1085302276666:web:0f2616c0cca84b21f6eb03",measurementId:"G-YZS4H10MCM"},mE={userName:"UserName",preferences:"Preferences"};let GC=(()=>{class n{constructor(){this.isUserAuthenticated$=new ai.x,this.setAuthenticatedUser=t=>{this.isUserAuthenticated$.next(!0),sessionStorage.setItem(mE.userName,t)},this.getAuthenticatedUser=()=>{var t;return null!==(t=sessionStorage.getItem(mE.userName))&&void 0!==t?t:""},this.setPreferences=t=>{sessionStorage.setItem(mE.preferences.toString(),JSON.stringify(t))},this.getPreferences=()=>{var t;const r=null!==(t=sessionStorage.getItem(mE.preferences.toString()))&&void 0!==t?t:"";return r.length>0?JSON.parse(r):{}},this.clear=()=>{this.isUserAuthenticated$.next(!1),sessionStorage.clear()}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oh=(()=>{class n{constructor(t){this.router=t,this.isLoginRoute$=new ai.x,this.isFocusRoute$=new ai.x,this.isPreferencesRoute$=new ai.x,this.navigateFromLogin=()=>{this.router.navigate(["calendar"])},this.navigate=r=>{this.router.navigate([r])},this.createRouteSubscriptions=()=>{this.router.events.pipe(Zo(r=>r instanceof pf)).subscribe(r=>{this.isLoginRoute$.next(r.url.includes("login")),this.isFocusRoute$.next(r.url.includes("focus")),this.isPreferencesRoute$.next(r.url.includes("preferences"))})},this.createRouteSubscriptions()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ps))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zC=(()=>{class n{constructor(t,r,i,l){this.store=t,this.angularFireAuth=r,this.sessionStorage=i,this.routerService=l,this.createUserFirebase=(f,m)=>(0,km.a5)(this.auth,f,m).then(E=>(console.log("Added user successfully to database."),{success:!0})).catch(E=>(console.error("Failed to Create User."),{success:!1,error:{errorMessage:E.message}})),this.loginEmailFirebase=(f,m)=>(0,km.a6)(this.auth,f,m).then(E=>(console.log("User authenticated successfully with database."),{success:!0})).catch(E=>(console.error("Failed to Create User."),{success:!1,error:{errorMessage:E.message}})),this.loginGoogleFirebase=()=>this.angularFireAuth.signInWithPopup(new Om.Z.auth.GoogleAuthProvider).then(f=>(console.log("User authenticated successfully with google."),{success:!0})).catch(f=>(console.error("Failed to authenticate with Google."),{success:!1,error:{errorMessage:f.message}})),this.logoutFirebaseUser=()=>{this.authUser&&((0,km.y)(this.auth),this.sessionStorage.clear())},this.auth=(0,km.n)(),this.auth.onAuthStateChanged(f=>{var m;f?(this.authUser=f,this.sessionStorage.setAuthenticatedUser(null!==(m=f.email)&&void 0!==m?m:""),this.routerService.navigateFromLogin()):this.authUser=void 0})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ck),h.LFG(gE),h.LFG(GC),h.LFG(oh))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XV=(()=>{class n{constructor(t,r){this.toastrService=t,this.fireStore=r,this.model={}}createAccount(){var t=this;return(0,rt.Z)(function*(){const r=yield t.fireStore.createUserFirebase(t.model.username,t.model.password);r.success?t.toastrService.success("Account Created Successfully"):t.toastrService.error(r.error.errorMessage),console.log("created clicked!")})()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Mf),h.Y36(zC))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-create-account"]],decls:36,vars:2,consts:[["id","main-terminal",1,"terminal","container","w-50","h-70"],[1,"row"],[1,"col-12","mx-auto"],[1,"d-flex","flex-row","mb-4","login-row"],[1,"col-2",2,"align-self","center"],["id","userNameTerminal"],[1,"blinking"],[1,"p-1","input-group","mx-auto","col-6"],["id","usernameInput","placeholder","","name","userInput","type","email",1,"form-control","p-1",2,"background-color","black","color","white",3,"ngModel","ngModelChange"],["id","passTerminal"],["id","passInput","placeholder","","name","userInput","type","password",1,"form-control","p-1",2,"background-color","black","color","white",3,"ngModel","ngModelChange"],[1,"d-flex","flex-row","mb-4","login-row","w-100"],["id","passInput","placeholder","","name","userInput","type","password",1,"form-control","p-1",2,"background-color","black","color","white"],["id","createAccountLink",1,"mx-auto","col-12"],[1,"w-100","btn","btn-block","btn-black","border-white",3,"click"],["id","meeting-info"],[1,"d-flex","flex-row"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div")(6,"p",5),h._uU(7,"Username"),h.TgZ(8,"span",6),h._uU(9,":"),h.qZA()()()(),h.TgZ(10,"div",7)(11,"input",8),h.NdJ("ngModelChange",function(l){return r.model.username=l}),h.qZA()()(),h.TgZ(12,"div",3)(13,"div",4)(14,"div")(15,"p",9),h._uU(16,"Password"),h.TgZ(17,"span",6),h._uU(18,":"),h.qZA()()()(),h.TgZ(19,"div",7)(20,"input",10),h.NdJ("ngModelChange",function(l){return r.model.password=l}),h.qZA()()(),h.TgZ(21,"div",11)(22,"div",4)(23,"div")(24,"p",9),h._uU(25,"Confirm Password"),h.TgZ(26,"span",6),h._uU(27,":"),h.qZA()()()(),h.TgZ(28,"div",7),h._UZ(29,"input",12),h.qZA()(),h.TgZ(30,"div",3)(31,"div",13)(32,"a",14),h.NdJ("click",function(){return r.createAccount()}),h._uU(33,"Create Account"),h.qZA()()(),h.TgZ(34,"div",15),h._UZ(35,"div",16),h.qZA()()()()),2&t&&(h.xp6(11),h.Q6J("ngModel",r.model.username),h.xp6(9),h.Q6J("ngModel",r.model.password))},directives:[Cs,oi,jo],styles:[""]}),n})();var eB=$(6461);function tB(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"input",6),h.NdJ("ngModelChange",function(i){return h.CHM(t),h.oxw().focusMinutes=i}),h.qZA()}if(2&n){const t=h.oxw();h.Q6J("ngModel",t.focusMinutes)}}function nB(n,e){if(1&n&&(h.TgZ(0,"label",11),h._uU(1),h.qZA()),2&n){const t=h.oxw(2);h.xp6(1),h.hij("",t.focusHours,":")}}function rB(n,e){if(1&n&&(h.TgZ(0,"div",7),h.YNc(1,nB,2,1,"label",8),h.TgZ(2,"label",9),h._uU(3),h.qZA(),h.TgZ(4,"label",10),h._uU(5),h.qZA()()),2&n){const t=h.oxw();h.xp6(1),h.Q6J("ngIf",t.focusHours>0),h.xp6(2),h.hij(" ",t.focusMinutes,":"),h.xp6(2),h.hij(" ",t.focusSeconds,"")}}function iB(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",12),h.NdJ("click",function(){return h.CHM(t),h.oxw().endFocus()}),h.qZA()}}function sB(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"button",13),h.NdJ("click",function(){return h.CHM(t),h.oxw().startFocus()}),h.qZA()}}let oB=(()=>{class n{constructor(){this.focusHours=0,this.focusMinutes=15,this.focusSeconds=0,this.focusStarted=!1,this.focusAnimationElement=null,this.startFocus=()=>{this.calculateFocusValues(),this.focusStarted=!0,this.playFocusSounds(),this.countdown=setInterval(()=>{var t;0===this.focusMinutes&&this.focusHours>0&&(this.focusHours-=1,this.focusMinutes=59),0===this.focusSeconds&&this.focusMinutes>0&&(this.focusMinutes-=1,this.focusSeconds=59),null==this.focusAnimationElement&&(this.focusAnimationElement=document.getElementsByClassName("circle-button center-page-button btn btn-danger")[0],null===(t=this.focusAnimationElement)||void 0===t||t.setAttribute("class","circle-button center-page-button btn btn-danger center-page-button-animation")),this.focusFinished()&&this.endFocus(),this.focusSeconds-=1},1e3),console.log("Focus Started!")},this.calculateFocusValues=()=>{const t=this.focusMinutes/60;if(t>1){const r=Math.floor(t);this.focusHours=r,this.focusMinutes=Math.round(Math.abs(60*(t-r)))}},this.focusFinished=()=>0===this.focusHours&&0===this.focusMinutes&&0===this.focusSeconds,this.endFocus=()=>{var t;clearInterval(this.countdown),this.focusHours=0,this.focusMinutes=0,this.focusSeconds=0,this.focusStarted=!1,null===(t=this.focusSounds)||void 0===t||t.stop()},this.playFocusSounds=()=>{this.focusSounds=new eB.Howl({src:["assets/focusNoises.wav"],autoplay:!0,html5:!0,loop:!0})}}ngOnDestroy(){var t;this.countdown=void 0,null===(t=this.focusSounds)||void 0===t||t.stop()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-focus-main"]],decls:6,vars:4,consts:[[1,"container","h-100","w-100"],[1,"row","h-25"],["name","focus-hours-input","class","center-page-button mb-5 w-25 focus-time-input","placeholder","Minutes","type","number",3,"ngModel","ngModelChange",4,"ngIf"],["id","countdownTimerLabel","class","focus-label-countdown ml-5 w-100 d-flex flex-row",4,"ngIf"],["class","circle-button center-page-button btn btn-danger",3,"click",4,"ngIf"],["id","startFocusButton","class","circle-button center-page-button btn btn-primary",3,"click",4,"ngIf"],["name","focus-hours-input","placeholder","Minutes","type","number",1,"center-page-button","mb-5","w-25","focus-time-input",3,"ngModel","ngModelChange"],["id","countdownTimerLabel",1,"focus-label-countdown","ml-5","w-100","d-flex","flex-row"],["for","focusHours","class","",4,"ngIf"],["for","focusMinutes",1,""],["for","focusSeconds",1,""],["for","focusHours",1,""],[1,"circle-button","center-page-button","btn","btn-danger",3,"click"],["id","startFocusButton",1,"circle-button","center-page-button","btn","btn-primary",3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0),h._UZ(1,"div",1),h.YNc(2,tB,1,1,"input",2),h.YNc(3,rB,6,3,"div",3),h.YNc(4,iB,1,0,"button",4),h.YNc(5,sB,1,0,"button",5),h.qZA()),2&t&&(h.xp6(2),h.Q6J("ngIf",!r.focusStarted),h.xp6(1),h.Q6J("ngIf",r.focusStarted),h.xp6(1),h.Q6J("ngIf",r.focusStarted),h.xp6(1),h.Q6J("ngIf",!r.focusStarted))},directives:[yr,xc,Cs,oi,jo],styles:[".circle-button[_ngcontent-%COMP%]{height:calc(100vh / 6);width:calc(100vh / 6);border-radius:50%}#countdownTimerLabel[_ngcontent-%COMP%]{position:absolute!important;left:0;top:0}.focus-label-countdown[_ngcontent-%COMP%]{font-size:5vw;color:#fff;opacity:75%}.focus-time-input[_ngcontent-%COMP%]{font-size:100%;scale:1000%;color:#fff;text-align:center;box-shadow:none!important;text-shadow:none!important;background-color:#333;border-bottom:1px solid white;overflow:hidden}.focus-date[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{color:#fff}.center-page-button[_ngcontent-%COMP%]{text-align:center;margin:auto;display:flex;display:grid}.center-page-button-animation[_ngcontent-%COMP%]{animation:pulse 10s ease-in-out 0s infinite alternate}@keyframes pulse{to{background-color:#7531f9}50%{transform:scale(1.25)}}"]}),n})(),aB=(()=>{class n{constructor(t,r,i){var l=this;this.toastrService=t,this.routerService=r,this.firestore=i,this.model={},this.login=(0,rt.Z)(function*(){const f=yield l.firestore.loginEmailFirebase(l.model.username,l.model.password);f.success?l.toastrService.success("Email Login Successful."):l.toastrService.error(f.error.errorMessage)}),this.loginGoogle=(0,rt.Z)(function*(){const f=yield l.firestore.loginGoogleFirebase();f.success?l.toastrService.success("Google Login Successful."):l.toastrService.error(f.error.errorMessage)}),this.createAccount=()=>{this.routerService.navigate("createAccount")}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Mf),h.Y36(oh),h.Y36(zC))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-login"]],decls:37,vars:2,consts:[["id","main-terminal",1,"terminal","container","w-25","h-70"],[1,"row"],[1,"col-12","mx-auto"],[1,"d-flex","flex-row","mb-4","login-row"],[1,"col-1",2,"align-self","center"],["id","userNameTerminal"],[1,"blinking"],[1,"p-1","input-group","mx-auto","col-6"],["id","usernameInput","placeholder","","name","userInput","type","email",1,"form-control","p-1",2,"background-color","black","color","white",3,"ngModel","ngModelChange"],["id","passTerminal"],["id","passInput","placeholder","","name","userInput","type","password",1,"form-control","p-1",2,"background-color","black","color","white",3,"ngModel","ngModelChange"],[1,"d-flex","flex-row","mb-2","login-row"],[1,"mx-auto","col-10"],[1,"w-100","btn","btn-block","btn-black","border-white",3,"click"],[1,"col-10","mx-auto"],["role","button",1,"w-100","btn","btn-block","btn-black","border-white",3,"click"],["width","20px","alt","Google sign-in","src","https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/512px-Google_%22G%22_Logo.svg.png",2,"margin-bottom","3px","margin-right","5px"],[2,"color","white"],[1,"d-flex","flex-row-reverse","mb-3","login-row"],["id","createAccountLink",1,"col-6","float-right"],[1,"w-100",3,"click"],["id","meeting-info"],[1,"d-flex","flex-row"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div")(6,"p",5),h._uU(7,"Username"),h.TgZ(8,"span",6),h._uU(9,":"),h.qZA()()()(),h.TgZ(10,"div",7)(11,"input",8),h.NdJ("ngModelChange",function(l){return r.model.username=l}),h.qZA()()(),h.TgZ(12,"div",3)(13,"div",4)(14,"div")(15,"p",9),h._uU(16,"Password"),h.TgZ(17,"span",6),h._uU(18,":"),h.qZA()()()(),h.TgZ(19,"div",7)(20,"input",10),h.NdJ("ngModelChange",function(l){return r.model.password=l}),h.qZA()()(),h.TgZ(21,"div",11)(22,"div",12)(23,"button",13),h.NdJ("click",function(){return r.login()}),h._uU(24,"./Login"),h.qZA()()(),h.TgZ(25,"div",11)(26,"div",14)(27,"a",15),h.NdJ("click",function(){return r.loginGoogle()}),h._UZ(28,"img",16),h.TgZ(29,"span",17),h._uU(30,"Sign in with Google"),h.qZA()()()(),h.TgZ(31,"div",18)(32,"div",19)(33,"a",20),h.NdJ("click",function(){return r.createAccount()}),h._uU(34,"./Create Account"),h.qZA()()(),h.TgZ(35,"div",21),h._UZ(36,"div",22),h.qZA()()()()),2&t&&(h.xp6(11),h.Q6J("ngModel",r.model.username),h.xp6(9),h.Q6J("ngModel",r.model.password))},directives:[Cs,oi,jo],styles:[""]}),n})();function lB(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"div")(1,"div",5)(2,"label",6),h._uU(3,"Email address"),h.qZA(),h.TgZ(4,"input",7),h.NdJ("ngModelChange",function(i){return h.CHM(t),h.oxw().model.emailAddress=i}),h.qZA()()()}if(2&n){const t=h.oxw();h.xp6(4),h.Q6J("ngModel",t.model.emailAddress)}}let uB=(()=>{class n{constructor(t){this.sessionStorageService=t,this.model={},this.enablePushNotifications=()=>{},this.getPreferences=()=>{this.model=this.sessionStorageService.getPreferences()},this.getPreferences()}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(GC))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-preferences-form"]],inputs:{model:"model"},decls:6,vars:2,consts:[["id","preferencesForm"],[1,"mb-3","form-check"],["id","enablePushNotifications","type","checkbox","id","exampleCheck1",1,"form-check-input",3,"ngModel","ngModelChange"],["for","exampleCheck1",1,"form-check-label"],[4,"ngIf"],[1,"mb-3"],["for","exampleInputEmail1",1,"form-label"],["id","emailAddress","name","emailAddress","type","email","id","exampleInputEmail1","aria-describedby","emailHelp",1,"form-control",3,"ngModel","ngModelChange"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"input",2),h.NdJ("ngModelChange",function(l){return r.model.enablePushNotifications=l}),h.qZA(),h.TgZ(3,"label",3),h._uU(4,"Push Notifications"),h.qZA()(),h.YNc(5,lB,5,1,"div",4),h.qZA()),2&t&&(h.xp6(2),h.Q6J("ngModel",r.model.enablePushNotifications),h.xp6(3),h.Q6J("ngIf",r.model.enablePushNotifications))},directives:[ho,oi,jo,yr,Cs],styles:["#preferencesForm[_ngcontent-%COMP%]{color:#fff}"]}),n})(),cB=(()=>{class n{constructor(t,r,i){this.routerService=t,this.toastrService=r,this.sessionStorageService=i,this.model={},this.save=()=>{this.toastrService.success("Preferences Saved."),this.sessionStorageService.setPreferences(this.model),this.routerService.navigate("calendar"),console.log(JSON.stringify(this.model))}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(oh),h.Y36(Mf),h.Y36(GC))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-preferences-main"]],decls:15,vars:1,consts:[["id","preferencesFormMain",1,"container","formMain","w-100","h-50"],[1,"row","h-75"],[1,"col-6","h-100","mx-auto"],[1,"container","mt-5","h-100","w-100"],[1,"row","h-100","mx-auto"],[1,"col-12","mx-auto"],[3,"ngModel"],[1,"row","h-25"],[1,"col-2","h-100"],[1,"d-flex","flex-column","bd-highlight","mb-3","h-100"],[1,"col-8"],[1,"btn","btn-primary","mt-auto","p-2","mb-3","bd-highlight",3,"click"]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),h._UZ(6,"app-preferences-form",6),h.qZA()()()()(),h.TgZ(7,"div",7)(8,"div",8),h._UZ(9,"div",9),h.qZA(),h._UZ(10,"div",10),h.TgZ(11,"div",8)(12,"div",9)(13,"button",11),h.NdJ("click",function(){return r.save()}),h._uU(14,"Save"),h.qZA()()()()()),2&t&&(h.xp6(6),h.Q6J("ngModel",r.model))},directives:[uB,oi,jo],styles:[""]}),n})(),Tk=(()=>{class n{canActivate(t,r){return null!=sessionStorage.getItem(mE.userName)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dB=[{path:"login",component:aB},{path:"calendar",component:jA,canActivate:[Tk]},{path:"createAccount",component:XV},{path:"preferences",component:cB,canActivate:[Tk]},{path:"focus",component:oB},{path:"**",redirectTo:"login"},{path:"*",redirectTo:"login"}];let fB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[[bA.forRoot(dB)],bA]}),n})();var hB=$(579);let Sk=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pB=(()=>{class n{constructor(t){this.routerService=t,this.onClick=()=>{this.routerService.navigate("preferences")}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(oh))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-preferences-button"]],decls:4,vars:0,consts:[[3,"click"],["id","preferencesIcon","xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-gear"],["d","M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"],["d","M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"]],template:function(t,r){1&t&&(h.TgZ(0,"a",0),h.NdJ("click",function(){return r.onClick()}),h.O4$(),h.TgZ(1,"svg",1),h._UZ(2,"path",2)(3,"path",3),h.qZA()())},styles:["#preferencesIcon[_ngcontent-%COMP%]{color:#fff;transition:transform 1.5s ease 0s;transform:scale(2.5)}#preferencesIcon[_ngcontent-%COMP%]:hover{transform:rotate(180deg) scale(4.5)}#preferencesIcon[_ngcontent-%COMP%]:hover:after{transform:rotate(-180deg)}"]}),n})(),gB=(()=>{class n{constructor(t){this.routerService=t,this.onClick=()=>{this.routerService.navigate("focus")}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(oh))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-focus-button"]],decls:3,vars:0,consts:[[3,"click"],["id","meditateIcon","xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-flower1"],["d","M6.174 1.184a2 2 0 0 1 3.652 0A2 2 0 0 1 12.99 3.01a2 2 0 0 1 1.826 3.164 2 2 0 0 1 0 3.652 2 2 0 0 1-1.826 3.164 2 2 0 0 1-3.164 1.826 2 2 0 0 1-3.652 0A2 2 0 0 1 3.01 12.99a2 2 0 0 1-1.826-3.164 2 2 0 0 1 0-3.652A2 2 0 0 1 3.01 3.01a2 2 0 0 1 3.164-1.826zM8 1a1 1 0 0 0-.998 1.03l.01.091c.012.077.029.176.054.296.049.241.122.542.213.887.182.688.428 1.513.676 2.314L8 5.762l.045-.144c.248-.8.494-1.626.676-2.314.091-.345.164-.646.213-.887a4.997 4.997 0 0 0 .064-.386L9 2a1 1 0 0 0-1-1zM2 9l.03-.002.091-.01a4.99 4.99 0 0 0 .296-.054c.241-.049.542-.122.887-.213a60.59 60.59 0 0 0 2.314-.676L5.762 8l-.144-.045a60.59 60.59 0 0 0-2.314-.676 16.705 16.705 0 0 0-.887-.213 4.99 4.99 0 0 0-.386-.064L2 7a1 1 0 1 0 0 2zm7 5-.002-.03a5.005 5.005 0 0 0-.064-.386 16.398 16.398 0 0 0-.213-.888 60.582 60.582 0 0 0-.676-2.314L8 10.238l-.045.144c-.248.8-.494 1.626-.676 2.314-.091.345-.164.646-.213.887a4.996 4.996 0 0 0-.064.386L7 14a1 1 0 1 0 2 0zm-5.696-2.134.025-.017a5.001 5.001 0 0 0 .303-.248c.184-.164.408-.377.661-.629A60.614 60.614 0 0 0 5.96 9.23l.103-.111-.147.033a60.88 60.88 0 0 0-2.343.572c-.344.093-.64.18-.874.258a5.063 5.063 0 0 0-.367.138l-.027.014a1 1 0 1 0 1 1.732zM4.5 14.062a1 1 0 0 0 1.366-.366l.014-.027c.01-.02.021-.048.036-.084a5.09 5.09 0 0 0 .102-.283c.078-.233.165-.53.258-.874a60.6 60.6 0 0 0 .572-2.343l.033-.147-.11.102a60.848 60.848 0 0 0-1.743 1.667 17.07 17.07 0 0 0-.629.66 5.06 5.06 0 0 0-.248.304l-.017.025a1 1 0 0 0 .366 1.366zm9.196-8.196a1 1 0 0 0-1-1.732l-.025.017a4.951 4.951 0 0 0-.303.248 16.69 16.69 0 0 0-.661.629A60.72 60.72 0 0 0 10.04 6.77l-.102.111.147-.033a60.6 60.6 0 0 0 2.342-.572c.345-.093.642-.18.875-.258a4.993 4.993 0 0 0 .367-.138.53.53 0 0 0 .027-.014zM11.5 1.938a1 1 0 0 0-1.366.366l-.014.027c-.01.02-.021.048-.036.084a5.09 5.09 0 0 0-.102.283c-.078.233-.165.53-.258.875a60.62 60.62 0 0 0-.572 2.342l-.033.147.11-.102a60.848 60.848 0 0 0 1.743-1.667c.252-.253.465-.477.629-.66a5.001 5.001 0 0 0 .248-.304l.017-.025a1 1 0 0 0-.366-1.366zM14 9a1 1 0 0 0 0-2l-.03.002a4.996 4.996 0 0 0-.386.064c-.242.049-.543.122-.888.213-.688.182-1.513.428-2.314.676L10.238 8l.144.045c.8.248 1.626.494 2.314.676.345.091.646.164.887.213a4.996 4.996 0 0 0 .386.064L14 9zM1.938 4.5a1 1 0 0 0 .393 1.38l.084.035c.072.03.166.064.283.103.233.078.53.165.874.258a60.88 60.88 0 0 0 2.343.572l.147.033-.103-.111a60.584 60.584 0 0 0-1.666-1.742 16.705 16.705 0 0 0-.66-.629 4.996 4.996 0 0 0-.304-.248l-.025-.017a1 1 0 0 0-1.366.366zm2.196-1.196.017.025a4.996 4.996 0 0 0 .248.303c.164.184.377.408.629.661A60.597 60.597 0 0 0 6.77 5.96l.111.102-.033-.147a60.602 60.602 0 0 0-.572-2.342c-.093-.345-.18-.642-.258-.875a5.006 5.006 0 0 0-.138-.367l-.014-.027a1 1 0 1 0-1.732 1zm9.928 8.196a1 1 0 0 0-.366-1.366l-.027-.014a5 5 0 0 0-.367-.138c-.233-.078-.53-.165-.875-.258a60.619 60.619 0 0 0-2.342-.572l-.147-.033.102.111a60.73 60.73 0 0 0 1.667 1.742c.253.252.477.465.66.629a4.946 4.946 0 0 0 .304.248l.025.017a1 1 0 0 0 1.366-.366zm-3.928 2.196a1 1 0 0 0 1.732-1l-.017-.025a5.065 5.065 0 0 0-.248-.303 16.705 16.705 0 0 0-.629-.661A60.462 60.462 0 0 0 9.23 10.04l-.111-.102.033.147a60.6 60.6 0 0 0 .572 2.342c.093.345.18.642.258.875a4.985 4.985 0 0 0 .138.367.575.575 0 0 0 .014.027zM8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"]],template:function(t,r){1&t&&(h.TgZ(0,"a",0),h.NdJ("click",function(){return r.onClick()}),h.O4$(),h.TgZ(1,"svg",1),h._UZ(2,"path",2),h.qZA()())},styles:["#meditateIcon[_ngcontent-%COMP%]{color:#7531f9;transform:scale(2.5);transition:transform 1.5s ease 0s}#meditateIcon[_ngcontent-%COMP%]:hover{transform:rotate(180deg) scale(4.5)}#meditateIcon[_ngcontent-%COMP%]:hover:after{transform:rotate(-180deg)}"]}),n})(),mB=(()=>{class n{constructor(t,r){this.routerService=t,this.fireBaseService=r,this.onClick=()=>{this.fireBaseService.logoutFirebaseUser(),this.routerService.navigate("login")}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(oh),h.Y36(zC))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-logout-button"]],decls:4,vars:0,consts:[[3,"click"],["id","logoutIcon","xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-box-arrow-left"],["fill-rule","evenodd","d","M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5 1.5 0 0 1 6.5 2h8A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 5 12.5v-2a.5.5 0 0 1 1 0v2z"],["fill-rule","evenodd","d","M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"]],template:function(t,r){1&t&&(h.TgZ(0,"a",0),h.NdJ("click",function(){return r.onClick()}),h.O4$(),h.TgZ(1,"svg",1),h._UZ(2,"path",2)(3,"path",3),h.qZA()())},styles:["#logoutIcon[_ngcontent-%COMP%]{color:#f5f5f5;transform:scale(2.5);transition:transform 1.5s ease 0s}#logoutIcon[_ngcontent-%COMP%]:hover{transform:scale(4.5)}"]}),n})();function vB(n,e){1&n&&h._UZ(0,"app-preferences-button",3)}function yB(n,e){1&n&&h._UZ(0,"app-focus-button",4)}function _B(n,e){1&n&&h._UZ(0,"app-logout-button",5)}let EB=(()=>{class n{constructor(t,r){this.sessionStoreService=t,this.routerService=r,this.isUserAuthenticated$=this.sessionStoreService.isUserAuthenticated$,this.isLoginRoute$=this.routerService.isLoginRoute$,this.isFocusRoute$=this.routerService.isFocusRoute$,this.isPreferencesRoute$=this.routerService.isPreferencesRoute$}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(GC),h.Y36(oh))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-header-main"]],decls:7,vars:11,consts:[["class","mr-4",4,"ngIf"],["class","ml-4 mr-4",4,"ngIf"],["class","ml-4",4,"ngIf"],[1,"mr-4"],[1,"ml-4","mr-4"],[1,"ml-4"]],template:function(t,r){1&t&&(h.YNc(0,vB,1,0,"app-preferences-button",0),h.ALo(1,"async"),h.ALo(2,"async"),h.YNc(3,yB,1,0,"app-focus-button",1),h.ALo(4,"async"),h.YNc(5,_B,1,0,"app-logout-button",2),h.ALo(6,"async")),2&t&&(h.Q6J("ngIf",!1===h.lcZ(1,3,r.isLoginRoute$)&&h.lcZ(2,5,r.isUserAuthenticated$)),h.xp6(3),h.Q6J("ngIf",!1===h.lcZ(4,7,r.isFocusRoute$)),h.xp6(2),h.Q6J("ngIf",!1===h.lcZ(6,9,r.isLoginRoute$)))},directives:[yr,pB,gB,mB],pipes:[No],styles:[""]}),n})();function bB(n,e){1&n&&(h.TgZ(0,"div"),h._uU(1,"Background audio track provided by "),h.TgZ(2,"a",1),h._uU(3,"Noises.Online"),h.qZA(),h._uU(4," under a "),h.TgZ(5,"a",2),h._uU(6,"CC 3.0 BY"),h.qZA(),h._uU(7," license."),h.qZA())}let AB=(()=>{class n{constructor(t){this.routerService=t,this.isFocusRoute$=this.routerService.isFocusRoute$}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(oh))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-footer-main"]],decls:2,vars:3,consts:[[4,"ngIf"],["href","https://noises.online","title","Noises.Online","target","_blank"],["href","http://creativecommons.org/licenses/by/3.0/","title","Creative Commons BY 3.0","target","_blank"]],template:function(t,r){1&t&&(h.YNc(0,bB,8,0,"div",0),h.ALo(1,"async")),2&t&&h.Q6J("ngIf",h.lcZ(1,1,r.isFocusRoute$))},directives:[yr],pipes:[No],styles:[""]}),n})();const wB=(0,Ku.initializeApp)(Dk);(0,hB.IH)(wB);let CB=(()=>{class n{constructor(t){this.storage=t}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Sk))},n.\u0275cmp=h.Xpm({type:n,selectors:[["app-root"]],decls:11,vars:0,consts:[["id","app-header",1,"container"],[1,"row","w-100","mt-4","d-flex","flex-row-reverse"],["id","main-content",1,"container","mt-4"],[1,"row","w-100"],[1,"col-12"],["id","main-center-content",1,"row","w-100"],[1,"col-12","mx-auto"],[1,""]],template:function(t,r){1&t&&(h.TgZ(0,"div",0)(1,"div",1),h._UZ(2,"app-header-main"),h.qZA()(),h.TgZ(3,"div",2)(4,"div",3),h._UZ(5,"div",4),h.qZA(),h.TgZ(6,"div",5)(7,"div",6),h._UZ(8,"router-outlet"),h.qZA()(),h.TgZ(9,"div",7),h._UZ(10,"app-footer-main"),h.qZA()())},directives:[EB,fp,AB],styles:["#main-content[_ngcontent-%COMP%]{min-height:90vh!important;min-width:98vw!important;height:90vh!important;width:98vw!important;z-index:3!important;position:fixed}#main-center-content[_ngcontent-%COMP%]{height:90vh!important;width:98vw!important}#app-header[_ngcontent-%COMP%]{z-index:3!important;height:2vh!important;min-width:100vw!important}"]}),n})();class Ik{}class Mk{}class pd{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),l=i.toLowerCase(),f=t.slice(r+1).trim();this.maybeSetNormalizedName(i,l),this.headers.has(l)?this.headers.get(l).push(f):this.headers.set(l,[f])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof pd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new pd;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof pd?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const l=e.value;if(l){let f=this.headers.get(t);if(!f)return;f=f.filter(m=>-1===l.indexOf(m)),0===f.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,f)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class DB{encodeKey(e){return xk(e)}encodeValue(e){return xk(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const SB=/%(\d[a-f0-9])/gi,IB={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function xk(n){return encodeURIComponent(n).replace(SB,(e,t)=>{var r;return null!==(r=IB[t])&&void 0!==r?r:e})}function Rk(n){return`${n}`}class ah{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new DB,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function TB(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const l=i.indexOf("="),[f,m]=-1==l?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,l)),e.decodeValue(i.slice(l+1))],E=t.get(f)||[];E.push(m),t.set(f,E)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(l=>{t.push({param:r,value:l,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new ah({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Rk(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Rk(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class MB{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Nk(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function kk(n){return"undefined"!=typeof Blob&&n instanceof Blob}function Pk(n){return"undefined"!=typeof FormData&&n instanceof FormData}class vE{constructor(e,t,r,i){let l;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function xB(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,l=i):l=r,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new pd),this.context||(this.context=new MB),this.params){const f=this.params.toString();if(0===f.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+f}}else this.params=new ah,this.urlWithParams=t}serializeBody(){return null===this.body?null:Nk(this.body)||kk(this.body)||Pk(this.body)||function RB(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ah?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Pk(this.body)?null:kk(this.body)?this.body.type||null:Nk(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ah?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,l=e.responseType||this.responseType,f=void 0!==e.body?e.body:this.body,m=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,E=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let C=e.headers||this.headers,k=e.params||this.params;const O=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(C=Object.keys(e.setHeaders).reduce((q,J)=>q.set(J,e.setHeaders[J]),C)),e.setParams&&(k=Object.keys(e.setParams).reduce((q,J)=>q.set(J,e.setParams[J]),k)),new vE(r,i,f,{params:k,headers:C,context:O,reportProgress:E,responseType:l,withCredentials:m})}}var Gi=(()=>((Gi=Gi||{})[Gi.Sent=0]="Sent",Gi[Gi.UploadProgress=1]="UploadProgress",Gi[Gi.ResponseHeader=2]="ResponseHeader",Gi[Gi.DownloadProgress=3]="DownloadProgress",Gi[Gi.Response=4]="Response",Gi[Gi.User=5]="User",Gi))();class zM{constructor(e,t=200,r="OK"){this.headers=e.headers||new pd,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class $M extends zM{constructor(e={}){super(e),this.type=Gi.ResponseHeader}clone(e={}){return new $M({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class $C extends zM{constructor(e={}){super(e),this.type=Gi.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new $C({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Ok extends zM{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function WM(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let NB=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let l;if(t instanceof vE)l=t;else{let E,C;E=i.headers instanceof pd?i.headers:new pd(i.headers),i.params&&(C=i.params instanceof ah?i.params:new ah({fromObject:i.params})),l=new vE(t,r,void 0!==i.body?i.body:null,{headers:E,context:i.context,params:C,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const f=An(l).pipe(ff(E=>this.handler.handle(E)));if(t instanceof vE||"events"===i.observe)return f;const m=f.pipe(Zo(E=>E instanceof $C));switch(i.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return m.pipe((0,gn.U)(E=>{if(null!==E.body&&!(E.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return E.body}));case"blob":return m.pipe((0,gn.U)(E=>{if(null!==E.body&&!(E.body instanceof Blob))throw new Error("Response is not a Blob.");return E.body}));case"text":return m.pipe((0,gn.U)(E=>{if(null!==E.body&&"string"!=typeof E.body)throw new Error("Response is not a string.");return E.body}));default:return m.pipe((0,gn.U)(E=>E.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new ah).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,WM(i,r))}post(t,r,i={}){return this.request("POST",t,WM(i,r))}put(t,r,i={}){return this.request("PUT",t,WM(i,r))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Ik))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Fk{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const Lk=new h.OlP("HTTP_INTERCEPTORS");let kB=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const PB=/^\)\]\}',?\n/;let Vk=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new $s.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((J,oe)=>i.setRequestHeader(J,oe.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const J=t.detectContentTypeHeader();null!==J&&i.setRequestHeader("Content-Type",J)}if(t.responseType){const J=t.responseType.toLowerCase();i.responseType="json"!==J?J:"text"}const l=t.serializeBody();let f=null;const m=()=>{if(null!==f)return f;const J=i.statusText||"OK",oe=new pd(i.getAllResponseHeaders()),Me=function OB(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return f=new $M({headers:oe,status:i.status,statusText:J,url:Me}),f},E=()=>{let{headers:J,status:oe,statusText:Me,url:it}=m(),at=null;204!==oe&&(at=void 0===i.response?i.responseText:i.response),0===oe&&(oe=at?200:0);let Et=oe>=200&&oe<300;if("json"===t.responseType&&"string"==typeof at){const Pt=at;at=at.replace(PB,"");try{at=""!==at?JSON.parse(at):null}catch(Tt){at=Pt,Et&&(Et=!1,at={error:Tt,text:at})}}Et?(r.next(new $C({body:at,headers:J,status:oe,statusText:Me,url:it||void 0})),r.complete()):r.error(new Ok({error:at,headers:J,status:oe,statusText:Me,url:it||void 0}))},C=J=>{const{url:oe}=m(),Me=new Ok({error:J,status:i.status||0,statusText:i.statusText||"Unknown Error",url:oe||void 0});r.error(Me)};let k=!1;const O=J=>{k||(r.next(m()),k=!0);let oe={type:Gi.DownloadProgress,loaded:J.loaded};J.lengthComputable&&(oe.total=J.total),"text"===t.responseType&&!!i.responseText&&(oe.partialText=i.responseText),r.next(oe)},q=J=>{let oe={type:Gi.UploadProgress,loaded:J.loaded};J.lengthComputable&&(oe.total=J.total),r.next(oe)};return i.addEventListener("load",E),i.addEventListener("error",C),i.addEventListener("timeout",C),i.addEventListener("abort",C),t.reportProgress&&(i.addEventListener("progress",O),null!==l&&i.upload&&i.upload.addEventListener("progress",q)),i.send(l),r.next({type:Gi.Sent}),()=>{i.removeEventListener("error",C),i.removeEventListener("abort",C),i.removeEventListener("load",E),i.removeEventListener("timeout",C),t.reportProgress&&(i.removeEventListener("progress",O),null!==l&&i.upload&&i.upload.removeEventListener("progress",q)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(fr))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const qM=new h.OlP("XSRF_COOKIE_NAME"),ZM=new h.OlP("XSRF_HEADER_NAME");class Bk{}let FB=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=hs(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(be),h.LFG(h.Lbi),h.LFG(qM))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),KM=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const l=this.tokenService.getToken();return null!==l&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,l)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Bk),h.LFG(ZM))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),LB=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(Lk,[]);this.chain=r.reduceRight((i,l)=>new Fk(i,l),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Mk),h.LFG(h.zs3))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),VB=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:KM,useClass:kB}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:qM,useValue:t.cookieName}:[],t.headerName?{provide:ZM,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[KM,{provide:Lk,useExisting:KM,multi:!0},{provide:Bk,useClass:FB},{provide:qM,useValue:"XSRF-TOKEN"},{provide:ZM,useValue:"X-XSRF-TOKEN"}]}),n})(),BB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[NB,{provide:Ik,useClass:LB},Vk,{provide:Mk,useExisting:Vk}],imports:[[VB.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const Uk_firebase=Dk;re.config.touchMouseIgnoreWait=500;var QM=0,WC=0,YM=!1,JM=function(){function n(e){var t=this;this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=function(r){if(!t.shouldIgnoreMouse()&&function UB(n){return 0===n.button&&!n.ctrlKey}(r)&&t.tryStart(r)){var i=t.createEventFromMouse(r,!0);t.emitter.trigger("pointerdown",i),t.initScrollWatch(i),t.shouldIgnoreMove||document.addEventListener("mousemove",t.handleMouseMove),document.addEventListener("mouseup",t.handleMouseUp)}},this.handleMouseMove=function(r){var i=t.createEventFromMouse(r);t.recordCoords(i),t.emitter.trigger("pointermove",i)},this.handleMouseUp=function(r){document.removeEventListener("mousemove",t.handleMouseMove),document.removeEventListener("mouseup",t.handleMouseUp),t.emitter.trigger("pointerup",t.createEventFromMouse(r)),t.cleanup()},this.handleTouchStart=function(r){if(t.tryStart(r)){t.isTouchDragging=!0;var i=t.createEventFromTouch(r,!0);t.emitter.trigger("pointerdown",i),t.initScrollWatch(i);var l=r.target;t.shouldIgnoreMove||l.addEventListener("touchmove",t.handleTouchMove),l.addEventListener("touchend",t.handleTouchEnd),l.addEventListener("touchcancel",t.handleTouchEnd),window.addEventListener("scroll",t.handleTouchScroll,!0)}},this.handleTouchMove=function(r){var i=t.createEventFromTouch(r);t.recordCoords(i),t.emitter.trigger("pointermove",i)},this.handleTouchEnd=function(r){if(t.isDragging){var i=r.target;i.removeEventListener("touchmove",t.handleTouchMove),i.removeEventListener("touchend",t.handleTouchEnd),i.removeEventListener("touchcancel",t.handleTouchEnd),window.removeEventListener("scroll",t.handleTouchScroll,!0),t.emitter.trigger("pointerup",t.createEventFromTouch(r)),t.cleanup(),t.isTouchDragging=!1,function HB(){QM+=1,setTimeout(function(){QM-=1},re.config.touchMouseIgnoreWait)}()}},this.handleTouchScroll=function(){t.wasTouchScroll=!0},this.handleScroll=function(r){if(!t.shouldIgnoreMove){var i=window.pageXOffset-t.prevScrollX+t.prevPageX,l=window.pageYOffset-t.prevScrollY+t.prevPageY;t.emitter.trigger("pointermove",{origEvent:r,isTouch:t.isTouchDragging,subjectEl:t.subjectEl,pageX:i,pageY:l,deltaX:i-t.origPageX,deltaY:l-t.origPageY})}},this.containerEl=e,this.emitter=new re.Emitter,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),function jB(){1===(WC+=1)&&window.addEventListener("touchmove",Hk,{passive:!1})}()}return n.prototype.destroy=function(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),function GB(){(WC-=1)||window.removeEventListener("touchmove",Hk,{passive:!1})}()},n.prototype.tryStart=function(e){var t=this.querySubjectEl(e);return!(!t||this.handleSelector&&!(0,re.elementClosest)(e.target,this.handleSelector)||(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,0))},n.prototype.cleanup=function(){YM=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()},n.prototype.querySubjectEl=function(e){return this.selector?(0,re.elementClosest)(e.target,this.selector):this.containerEl},n.prototype.shouldIgnoreMouse=function(){return QM||this.isTouchDragging},n.prototype.cancelTouchScroll=function(){this.isDragging&&(YM=!0)},n.prototype.initScrollWatch=function(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))},n.prototype.recordCoords=function(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)},n.prototype.destroyScrollWatch=function(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)},n.prototype.createEventFromMouse=function(e,t){var r=0,i=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:i}},n.prototype.createEventFromTouch=function(e,t){var i,l,r=e.touches,f=0,m=0;return r&&r.length?(i=r[0].pageX,l=r[0].pageY):(i=e.pageX,l=e.pageY),t?(this.origPageX=i,this.origPageY=l):(f=i-this.origPageX,m=l-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:l,deltaX:f,deltaY:m}},n}();function Hk(n){YM&&n.preventDefault()}var zB=function(){function n(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}return n.prototype.start=function(e,t,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.pageXOffset,this.origScreenY=r-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()},n.prototype.handleMove=function(e,t){this.deltaX=e-window.pageXOffset-this.origScreenX,this.deltaY=t-window.pageYOffset-this.origScreenY,this.updateElPosition()},n.prototype.setIsVisible=function(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)},n.prototype.stop=function(e,t){var r=this,i=function(){r.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)},n.prototype.doRevertAnimation=function(e,t){var r=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();r.style.transition="top "+t+"ms,left "+t+"ms",(0,re.applyStyle)(r,{left:i.left,top:i.top}),(0,re.whenTransitionDone)(r,function(){r.style.transition="",e()})},n.prototype.cleanup=function(){this.mirrorEl&&((0,re.removeElement)(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null},n.prototype.updateElPosition=function(){this.sourceEl&&this.isVisible&&(0,re.applyStyle)(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})},n.prototype.getMirrorEl=function(){var e=this.sourceElRect,t=this.mirrorEl;return t||((t=this.mirrorEl=this.sourceEl.cloneNode(!0)).classList.add("fc-unselectable"),t.classList.add("fc-event-dragging"),(0,re.applyStyle)(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t},n}(),jk=function(n){function e(t,r){var i=n.call(this)||this;return i.handleScroll=function(){i.scrollTop=i.scrollController.getScrollTop(),i.scrollLeft=i.scrollController.getScrollLeft(),i.handleScrollChange()},i.scrollController=t,i.doesListening=r,i.scrollTop=i.origScrollTop=t.getScrollTop(),i.scrollLeft=i.origScrollLeft=t.getScrollLeft(),i.scrollWidth=t.getScrollWidth(),i.scrollHeight=t.getScrollHeight(),i.clientWidth=t.getClientWidth(),i.clientHeight=t.getClientHeight(),i.clientRect=i.computeClientRect(),i.doesListening&&i.getEventTarget().addEventListener("scroll",i.handleScroll),i}return(0,Zt.__extends)(e,n),e.prototype.destroy=function(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)},e.prototype.getScrollTop=function(){return this.scrollTop},e.prototype.getScrollLeft=function(){return this.scrollLeft},e.prototype.setScrollTop=function(t){this.scrollController.setScrollTop(t),this.doesListening||(this.scrollTop=Math.max(Math.min(t,this.getMaxScrollTop()),0),this.handleScrollChange())},e.prototype.setScrollLeft=function(t){this.scrollController.setScrollLeft(t),this.doesListening||(this.scrollLeft=Math.max(Math.min(t,this.getMaxScrollLeft()),0),this.handleScrollChange())},e.prototype.getClientWidth=function(){return this.clientWidth},e.prototype.getClientHeight=function(){return this.clientHeight},e.prototype.getScrollWidth=function(){return this.scrollWidth},e.prototype.getScrollHeight=function(){return this.scrollHeight},e.prototype.handleScrollChange=function(){},e}(re.ScrollController),Gk=function(n){function e(t,r){return n.call(this,new re.ElementScrollController(t),r)||this}return(0,Zt.__extends)(e,n),e.prototype.getEventTarget=function(){return this.scrollController.el},e.prototype.computeClientRect=function(){return(0,re.computeInnerRect)(this.scrollController.el)},e}(jk),$B=function(n){function e(t){return n.call(this,new re.WindowScrollController,t)||this}return(0,Zt.__extends)(e,n),e.prototype.getEventTarget=function(){return window},e.prototype.computeClientRect=function(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}},e.prototype.handleScrollChange=function(){this.clientRect=this.computeClientRect()},e}(jk),zk="function"==typeof performance?performance.now:Date.now,WB=function(){function n(){var e=this;this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=function(){if(e.isAnimating){var t=e.computeBestEdge(e.pointerScreenX+window.pageXOffset,e.pointerScreenY+window.pageYOffset);if(t){var r=zk();e.handleSide(t,(r-e.msSinceRequest)/1e3),e.requestAnimation(r)}else e.isAnimating=!1}}}return n.prototype.start=function(e,t,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))},n.prototype.handleMove=function(e,t){if(this.isEnabled){var r=e-window.pageXOffset,i=t-window.pageYOffset,l=null===this.pointerScreenY?0:i-this.pointerScreenY,f=null===this.pointerScreenX?0:r-this.pointerScreenX;l<0?this.everMovedUp=!0:l>0&&(this.everMovedDown=!0),f<0?this.everMovedLeft=!0:f>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(zk()))}},n.prototype.stop=function(){if(this.isEnabled){this.isAnimating=!1;for(var e=0,t=this.scrollCaches;e<t.length;e++)t[e].destroy();this.scrollCaches=null}},n.prototype.requestAnimation=function(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)},n.prototype.handleSide=function(e,t){var r=e.scrollCache,i=this.edgeThreshold,l=i-e.distance,f=l*l/(i*i)*this.maxVelocity*t,m=1;switch(e.name){case"left":m=-1;case"right":r.setScrollLeft(r.getScrollLeft()+f*m);break;case"top":m=-1;case"bottom":r.setScrollTop(r.getScrollTop()+f*m)}},n.prototype.computeBestEdge=function(e,t){for(var r=this.edgeThreshold,i=null,f=0,m=this.scrollCaches||[];f<m.length;f++){var E=m[f],C=E.clientRect,k=e-C.left,O=C.right-e,q=t-C.top,J=C.bottom-t;k>=0&&O>=0&&q>=0&&J>=0&&(q<=r&&this.everMovedUp&&E.canScrollUp()&&(!i||i.distance>q)&&(i={scrollCache:E,name:"top",distance:q}),J<=r&&this.everMovedDown&&E.canScrollDown()&&(!i||i.distance>J)&&(i={scrollCache:E,name:"bottom",distance:J}),k<=r&&this.everMovedLeft&&E.canScrollLeft()&&(!i||i.distance>k)&&(i={scrollCache:E,name:"left",distance:k}),O<=r&&this.everMovedRight&&E.canScrollRight()&&(!i||i.distance>O)&&(i={scrollCache:E,name:"right",distance:O}))}return i},n.prototype.buildCaches=function(e){return this.queryScrollEls(e).map(function(t){return t===window?new $B(!1):new Gk(t,!1)})},n.prototype.queryScrollEls=function(e){for(var t=[],r=0,i=this.scrollQuery;r<i.length;r++){var l=i[r];"object"==typeof l?t.push(l):t.push.apply(t,Array.prototype.slice.call((0,re.getElRoot)(e).querySelectorAll(l)))}return t},n}(),ny=function(n){function e(t,r){var i=n.call(this,t)||this;i.containerEl=t,i.delay=null,i.minDistance=0,i.touchScrollAllowed=!0,i.mirrorNeedsRevert=!1,i.isInteracting=!1,i.isDragging=!1,i.isDelayEnded=!1,i.isDistanceSurpassed=!1,i.delayTimeoutId=null,i.onPointerDown=function(f){i.isDragging||(i.isInteracting=!0,i.isDelayEnded=!1,i.isDistanceSurpassed=!1,(0,re.preventSelection)(document.body),(0,re.preventContextMenu)(document.body),f.isTouch||f.origEvent.preventDefault(),i.emitter.trigger("pointerdown",f),i.isInteracting&&!i.pointer.shouldIgnoreMove&&(i.mirror.setIsVisible(!1),i.mirror.start(f.subjectEl,f.pageX,f.pageY),i.startDelay(f),i.minDistance||i.handleDistanceSurpassed(f)))},i.onPointerMove=function(f){if(i.isInteracting){if(i.emitter.trigger("pointermove",f),!i.isDistanceSurpassed){var m=i.minDistance,C=f.deltaX,k=f.deltaY;C*C+k*k>=m*m&&i.handleDistanceSurpassed(f)}i.isDragging&&("scroll"!==f.origEvent.type&&(i.mirror.handleMove(f.pageX,f.pageY),i.autoScroller.handleMove(f.pageX,f.pageY)),i.emitter.trigger("dragmove",f))}},i.onPointerUp=function(f){i.isInteracting&&(i.isInteracting=!1,(0,re.allowSelection)(document.body),(0,re.allowContextMenu)(document.body),i.emitter.trigger("pointerup",f),i.isDragging&&(i.autoScroller.stop(),i.tryStopDrag(f)),i.delayTimeoutId&&(clearTimeout(i.delayTimeoutId),i.delayTimeoutId=null))};var l=i.pointer=new JM(t);return l.emitter.on("pointerdown",i.onPointerDown),l.emitter.on("pointermove",i.onPointerMove),l.emitter.on("pointerup",i.onPointerUp),r&&(l.selector=r),i.mirror=new zB,i.autoScroller=new WB,i}return(0,Zt.__extends)(e,n),e.prototype.destroy=function(){this.pointer.destroy(),this.onPointerUp({})},e.prototype.startDelay=function(t){var r=this;"number"==typeof this.delay?this.delayTimeoutId=setTimeout(function(){r.delayTimeoutId=null,r.handleDelayEnd(t)},this.delay):this.handleDelayEnd(t)},e.prototype.handleDelayEnd=function(t){this.isDelayEnded=!0,this.tryStartDrag(t)},e.prototype.handleDistanceSurpassed=function(t){this.isDistanceSurpassed=!0,this.tryStartDrag(t)},e.prototype.tryStartDrag=function(t){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(t.pageX,t.pageY,this.containerEl),this.emitter.trigger("dragstart",t),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll())},e.prototype.tryStopDrag=function(t){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,t))},e.prototype.stopDrag=function(t){this.isDragging=!1,this.emitter.trigger("dragend",t)},e.prototype.setIgnoreMove=function(t){this.pointer.shouldIgnoreMove=t},e.prototype.setMirrorIsVisible=function(t){this.mirror.setIsVisible(t)},e.prototype.setMirrorNeedsRevert=function(t){this.mirrorNeedsRevert=t},e.prototype.setAutoScrollEnabled=function(t){this.autoScroller.isEnabled=t},e}(re.ElementDragging),qB=function(){function n(e){this.origRect=(0,re.computeRect)(e),this.scrollCaches=(0,re.getClippingParents)(e).map(function(t){return new Gk(t,!0)})}return n.prototype.destroy=function(){for(var e=0,t=this.scrollCaches;e<t.length;e++)t[e].destroy()},n.prototype.computeLeft=function(){for(var e=this.origRect.left,t=0,r=this.scrollCaches;t<r.length;t++){var i=r[t];e+=i.origScrollLeft-i.getScrollLeft()}return e},n.prototype.computeTop=function(){for(var e=this.origRect.top,t=0,r=this.scrollCaches;t<r.length;t++){var i=r[t];e+=i.origScrollTop-i.getScrollTop()}return e},n.prototype.isWithinClipping=function(e,t){for(var r={left:e,top:t},i=0,l=this.scrollCaches;i<l.length;i++){var f=l[i];if(!ZB(f.getEventTarget())&&!(0,re.pointInsideRect)(r,f.clientRect))return!1}return!0},n}();function ZB(n){var e=n.tagName;return"HTML"===e||"BODY"===e}var yE=function(){function n(e,t){var r=this;this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=function(i){var l=r.dragging;r.initialHit=null,r.movingHit=null,r.finalHit=null,r.prepareHits(),r.processFirstCoord(i),r.initialHit||!r.requireInitial?(l.setIgnoreMove(!1),r.emitter.trigger("pointerdown",i)):l.setIgnoreMove(!0)},this.handleDragStart=function(i){r.emitter.trigger("dragstart",i),r.handleMove(i,!0)},this.handleDragMove=function(i){r.emitter.trigger("dragmove",i),r.handleMove(i)},this.handlePointerUp=function(i){r.releaseHits(),r.emitter.trigger("pointerup",i)},this.handleDragEnd=function(i){r.movingHit&&r.emitter.trigger("hitupdate",null,!0,i),r.finalHit=r.movingHit,r.movingHit=null,r.emitter.trigger("dragend",i)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new re.Emitter}return n.prototype.processFirstCoord=function(e){var l,t={left:e.pageX,top:e.pageY},r=t,i=e.subjectEl;i instanceof HTMLElement&&(l=(0,re.computeRect)(i),r=(0,re.constrainPoint)(r,l));var f=this.initialHit=this.queryHitForOffset(r.left,r.top);if(f){if(this.useSubjectCenter&&l){var m=(0,re.intersectRects)(l,f.rect);m&&(r=(0,re.getRectCenter)(m))}this.coordAdjust=(0,re.diffPoints)(r,t)}else this.coordAdjust={left:0,top:0}},n.prototype.handleMove=function(e,t){var r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!qC(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))},n.prototype.prepareHits=function(){this.offsetTrackers=(0,re.mapHash)(this.droppableStore,function(e){return e.component.prepareHits(),new qB(e.el)})},n.prototype.releaseHits=function(){var e=this.offsetTrackers;for(var t in e)e[t].destroy();this.offsetTrackers={}},n.prototype.queryHitForOffset=function(e,t){var i=this.droppableStore,l=this.offsetTrackers,f=null;for(var m in i){var E=i[m].component,C=l[m];if(C&&C.isWithinClipping(e,t)){var k=C.computeLeft(),O=C.computeTop(),q=e-k,J=t-O,oe=C.origRect,Me=oe.right-oe.left,it=oe.bottom-oe.top;if(q>=0&&q<Me&&J>=0&&J<it){var at=E.queryHit(q,J,Me,it);at&&(0,re.rangeContainsRange)(at.dateProfile.activeRange,at.dateSpan.range)&&(!f||at.layer>f.layer)&&(at.componentId=m,at.context=E.context,at.rect.left+=k,at.rect.right+=k,at.rect.top+=O,at.rect.bottom+=O,f=at)}}}return f},n}();function qC(n,e){return!n&&!e||Boolean(n)===Boolean(e)&&(0,re.isDateSpansEqual)(n.dateSpan,e.dateSpan)}function XM(n,e){for(var t={},r=0,i=e.pluginHooks.datePointTransforms;r<i.length;r++)(0,Zt.__assign)(t,(0,i[r])(n,e));return(0,Zt.__assign)(t,function KB(n,e){return{date:e.toDate(n.range.start),dateStr:e.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}(n,e.dateEnv)),t}var QB=function(n){function e(t){var r=n.call(this,t)||this;r.handlePointerDown=function(l){r.dragging.setIgnoreMove(!r.component.isValidDateDownEl(l.origEvent.target))},r.handleDragEnd=function(l){var f=r.component;if(!r.dragging.pointer.wasTouchScroll){var E=r.hitDragging,C=E.initialHit,k=E.finalHit;if(C&&k&&qC(C,k)){var O=f.context,q=(0,Zt.__assign)((0,Zt.__assign)({},XM(C.dateSpan,O)),{dayEl:C.dayEl,jsEvent:l.origEvent,view:O.viewApi||O.calendarApi.view});O.emitter.trigger("dateClick",q)}}},r.dragging=new ny(t.el),r.dragging.autoScroller.isEnabled=!1;var i=r.hitDragging=new yE(r.dragging,(0,re.interactionSettingsToStore)(t));return i.emitter.on("pointerdown",r.handlePointerDown),i.emitter.on("dragend",r.handleDragEnd),r}return(0,Zt.__extends)(e,n),e.prototype.destroy=function(){this.dragging.destroy()},e}(re.Interaction),YB=function(n){function e(t){var r=n.call(this,t)||this;r.dragSelection=null,r.handlePointerDown=function(E){var k=r.component,O=r.dragging,J=k.context.options.selectable&&k.isValidDateDownEl(E.origEvent.target);O.setIgnoreMove(!J),O.delay=E.isTouch?function JB(n){var e=n.context.options,t=e.selectLongPressDelay;return null==t&&(t=e.longPressDelay),t}(k):null},r.handleDragStart=function(E){r.component.context.calendarApi.unselect(E)},r.handleHitUpdate=function(E,C){var k=r.component.context,O=null,q=!1;if(E){var J=r.hitDragging.initialHit;E.componentId===J.componentId&&r.isHitComboAllowed&&!r.isHitComboAllowed(J,E)||(O=function XB(n,e,t){var r=n.dateSpan,i=e.dateSpan,l=[r.range.start,r.range.end,i.range.start,i.range.end];l.sort(re.compareNumbers);for(var f={},m=0,E=t;m<E.length;m++){var k=(0,E[m])(n,e);if(!1===k)return null;k&&(0,Zt.__assign)(f,k)}return f.range={start:l[0],end:l[3]},f.allDay=r.allDay,f}(J,E,k.pluginHooks.dateSelectionTransformers)),(!O||!(0,re.isDateSelectionValid)(O,E.dateProfile,k))&&(q=!0,O=null)}O?k.dispatch({type:"SELECT_DATES",selection:O}):C||k.dispatch({type:"UNSELECT_DATES"}),q?(0,re.disableCursor)():(0,re.enableCursor)(),C||(r.dragSelection=O)},r.handlePointerUp=function(E){r.dragSelection&&((0,re.triggerDateSelect)(r.dragSelection,E,r.component.context),r.dragSelection=null)};var l=t.component.context.options,f=r.dragging=new ny(t.el);f.touchScrollAllowed=!1,f.minDistance=l.selectMinDistance||0,f.autoScroller.isEnabled=l.dragScroll;var m=r.hitDragging=new yE(r.dragging,(0,re.interactionSettingsToStore)(t));return m.emitter.on("pointerdown",r.handlePointerDown),m.emitter.on("dragstart",r.handleDragStart),m.emitter.on("hitupdate",r.handleHitUpdate),m.emitter.on("pointerup",r.handlePointerUp),r}return(0,Zt.__extends)(e,n),e.prototype.destroy=function(){this.dragging.destroy()},e}(re.Interaction),$k=function(n){function e(t){var r=n.call(this,t)||this;r.subjectEl=null,r.subjectSeg=null,r.isDragging=!1,r.eventRange=null,r.relevantEvents=null,r.receivingContext=null,r.validMutation=null,r.mutatedRelevantEvents=null,r.handlePointerDown=function(E){var C=E.origEvent.target,O=r.component,q=r.dragging,J=q.mirror,oe=O.context.options,Me=O.context;r.subjectEl=E.subjectEl;var it=r.subjectSeg=(0,re.getElSeg)(E.subjectEl),Et=(r.eventRange=it.eventRange).instance.instanceId;r.relevantEvents=(0,re.getRelevantEvents)(Me.getCurrentData().eventStore,Et),q.minDistance=E.isTouch?0:oe.eventDragMinDistance,q.delay=E.isTouch&&Et!==O.props.eventSelection?function t2(n){var e=n.context.options,t=e.eventLongPressDelay;return null==t&&(t=e.longPressDelay),t}(O):null,J.parentNode=oe.fixedMirrorParent?oe.fixedMirrorParent:(0,re.elementClosest)(C,".fc"),J.revertDuration=oe.dragRevertDuration;var Pt=O.isValidSegDownEl(C)&&!(0,re.elementClosest)(C,".fc-event-resizer");q.setIgnoreMove(!Pt),r.isDragging=Pt&&E.subjectEl.classList.contains("fc-event-draggable")},r.handleDragStart=function(E){var C=r.component.context,k=r.eventRange,O=k.instance.instanceId;E.isTouch?O!==r.component.props.eventSelection&&C.dispatch({type:"SELECT_EVENT",eventInstanceId:O}):C.dispatch({type:"UNSELECT_EVENT"}),r.isDragging&&(C.calendarApi.unselect(E),C.emitter.trigger("eventDragStart",{el:r.subjectEl,event:new re.EventApi(C,k.def,k.instance),jsEvent:E.origEvent,view:C.viewApi}))},r.handleHitUpdate=function(E,C){if(r.isDragging){var k=r.relevantEvents,O=r.hitDragging.initialHit,q=r.component.context,J=null,oe=null,Me=null,it=!1,at={affectedEvents:k,mutatedEvents:(0,re.createEmptyEventStore)(),isEvent:!0};if(E){var Et=(J=E.context).options;q===J||Et.editable&&Et.droppable?(oe=function e2(n,e,t){var r=n.dateSpan,i=e.dateSpan,l=r.range.start,f=i.range.start,m={};r.allDay!==i.allDay&&(m.allDay=i.allDay,m.hasEnd=e.context.options.allDayMaintainDuration,i.allDay&&(l=(0,re.startOfDay)(l)));var E=(0,re.diffDates)(l,f,n.context.dateEnv,n.componentId===e.componentId?n.largeUnit:null);E.milliseconds&&(m.allDay=!1);for(var C={datesDelta:E,standardProps:m},k=0,O=t;k<O.length;k++)(0,O[k])(C,n,e);return C}(O,E,J.getCurrentData().pluginHooks.eventDragMutationMassagers),oe&&(Me=(0,re.applyMutationToEventStore)(k,J.getCurrentData().eventUiBases,oe,J),at.mutatedEvents=Me,(0,re.isInteractionValid)(at,E.dateProfile,J)||(it=!0,oe=null,Me=null,at.mutatedEvents=(0,re.createEmptyEventStore)()))):J=null}r.displayDrag(J,at),it?(0,re.disableCursor)():(0,re.enableCursor)(),C||(q===J&&qC(O,E)&&(oe=null),r.dragging.setMirrorNeedsRevert(!oe),r.dragging.setMirrorIsVisible(!E||!(0,re.getElRoot)(r.subjectEl).querySelector(".fc-event-mirror")),r.receivingContext=J,r.validMutation=oe,r.mutatedRelevantEvents=Me)}},r.handlePointerUp=function(){r.isDragging||r.cleanup()},r.handleDragEnd=function(E){if(r.isDragging){var C=r.component.context,k=C.viewApi,q=r.receivingContext,J=r.validMutation,oe=r.eventRange.def,Me=r.eventRange.instance,it=new re.EventApi(C,oe,Me),at=r.relevantEvents,Et=r.mutatedRelevantEvents,Pt=r.hitDragging.finalHit;if(r.clearDrag(),C.emitter.trigger("eventDragStop",{el:r.subjectEl,event:it,jsEvent:E.origEvent,view:k}),J){if(q===C){var Tt=new re.EventApi(C,Et.defs[oe.defId],Me?Et.instances[Me.instanceId]:null);C.dispatch({type:"MERGE_EVENTS",eventStore:Et});for(var vn={oldEvent:it,event:Tt,relatedEvents:(0,re.buildEventApis)(Et,C,Me),revert:function(){C.dispatch({type:"MERGE_EVENTS",eventStore:at})}},mn={},jn=0,zn=C.getCurrentData().pluginHooks.eventDropTransformers;jn<zn.length;jn++)(0,Zt.__assign)(mn,(0,zn[jn])(J,C));C.emitter.trigger("eventDrop",(0,Zt.__assign)((0,Zt.__assign)((0,Zt.__assign)({},vn),mn),{el:E.subjectEl,delta:J.datesDelta,jsEvent:E.origEvent,view:k})),C.emitter.trigger("eventChange",vn)}else if(q){var Mo={event:it,relatedEvents:(0,re.buildEventApis)(at,C,Me),revert:function(){C.dispatch({type:"MERGE_EVENTS",eventStore:at})}};C.emitter.trigger("eventLeave",(0,Zt.__assign)((0,Zt.__assign)({},Mo),{draggedEl:E.subjectEl,view:k})),C.dispatch({type:"REMOVE_EVENTS",eventStore:at}),C.emitter.trigger("eventRemove",Mo);var ea=Et.instances[Me.instanceId],gd=new re.EventApi(q,Et.defs[oe.defId],ea);q.dispatch({type:"MERGE_EVENTS",eventStore:Et});var _E={event:gd,relatedEvents:(0,re.buildEventApis)(Et,q,ea),revert:function(){q.dispatch({type:"REMOVE_EVENTS",eventStore:Et})}};q.emitter.trigger("eventAdd",_E),E.isTouch&&q.dispatch({type:"SELECT_EVENT",eventInstanceId:Me.instanceId}),q.emitter.trigger("drop",(0,Zt.__assign)((0,Zt.__assign)({},XM(Pt.dateSpan,q)),{draggedEl:E.subjectEl,jsEvent:E.origEvent,view:Pt.context.viewApi})),q.emitter.trigger("eventReceive",(0,Zt.__assign)((0,Zt.__assign)({},_E),{draggedEl:E.subjectEl,view:Pt.context.viewApi}))}}else C.emitter.trigger("_noEventDrop")}r.cleanup()};var l=r.component.context.options,f=r.dragging=new ny(t.el);f.pointer.selector=e.SELECTOR,f.touchScrollAllowed=!1,f.autoScroller.isEnabled=l.dragScroll;var m=r.hitDragging=new yE(r.dragging,re.interactionSettingsStore);return m.useSubjectCenter=t.useEventCenter,m.emitter.on("pointerdown",r.handlePointerDown),m.emitter.on("dragstart",r.handleDragStart),m.emitter.on("hitupdate",r.handleHitUpdate),m.emitter.on("pointerup",r.handlePointerUp),m.emitter.on("dragend",r.handleDragEnd),r}return(0,Zt.__extends)(e,n),e.prototype.destroy=function(){this.dragging.destroy()},e.prototype.displayDrag=function(t,r){var l=this.receivingContext;l&&l!==t&&l.dispatch(l===this.component.context?{type:"SET_EVENT_DRAG",state:{affectedEvents:r.affectedEvents,mutatedEvents:(0,re.createEmptyEventStore)(),isEvent:!0}}:{type:"UNSET_EVENT_DRAG"}),t&&t.dispatch({type:"SET_EVENT_DRAG",state:r})},e.prototype.clearDrag=function(){var t=this.component.context,r=this.receivingContext;r&&r.dispatch({type:"UNSET_EVENT_DRAG"}),t!==r&&t.dispatch({type:"UNSET_EVENT_DRAG"})},e.prototype.cleanup=function(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null},e.SELECTOR=".fc-event-draggable, .fc-event-resizable",e}(re.Interaction),n2=function(n){function e(t){var r=n.call(this,t)||this;r.draggingSegEl=null,r.draggingSeg=null,r.eventRange=null,r.relevantEvents=null,r.validMutation=null,r.mutatedRelevantEvents=null,r.handlePointerDown=function(m){var E=r.component,C=r.querySegEl(m),k=(0,re.getElSeg)(C),O=r.eventRange=k.eventRange;r.dragging.minDistance=E.context.options.eventDragMinDistance,r.dragging.setIgnoreMove(!r.component.isValidSegDownEl(m.origEvent.target)||m.isTouch&&r.component.props.eventSelection!==O.instance.instanceId)},r.handleDragStart=function(m){var E=r.component.context,C=r.eventRange;r.relevantEvents=(0,re.getRelevantEvents)(E.getCurrentData().eventStore,r.eventRange.instance.instanceId);var k=r.querySegEl(m);r.draggingSegEl=k,r.draggingSeg=(0,re.getElSeg)(k),E.calendarApi.unselect(),E.emitter.trigger("eventResizeStart",{el:k,event:new re.EventApi(E,C.def,C.instance),jsEvent:m.origEvent,view:E.viewApi})},r.handleHitUpdate=function(m,E,C){var k=r.component.context,O=r.relevantEvents,q=r.hitDragging.initialHit,J=r.eventRange.instance,oe=null,Me=null,it=!1,at={affectedEvents:O,mutatedEvents:(0,re.createEmptyEventStore)(),isEvent:!0};m&&(m.componentId===q.componentId&&r.isHitComboAllowed&&!r.isHitComboAllowed(q,m)||(oe=function r2(n,e,t,r){var i=n.context.dateEnv,m=(0,re.diffDates)(n.dateSpan.range.start,e.dateSpan.range.start,i,n.largeUnit);if(t){if(i.add(r.start,m)<r.end)return{startDelta:m}}else if(i.add(r.end,m)>r.start)return{endDelta:m};return null}(q,m,C.subjectEl.classList.contains("fc-event-resizer-start"),J.range))),oe&&(Me=(0,re.applyMutationToEventStore)(O,k.getCurrentData().eventUiBases,oe,k),at.mutatedEvents=Me,(0,re.isInteractionValid)(at,m.dateProfile,k)||(it=!0,oe=null,Me=null,at.mutatedEvents=null)),k.dispatch(Me?{type:"SET_EVENT_RESIZE",state:at}:{type:"UNSET_EVENT_RESIZE"}),it?(0,re.disableCursor)():(0,re.enableCursor)(),E||(oe&&qC(q,m)&&(oe=null),r.validMutation=oe,r.mutatedRelevantEvents=Me)},r.handleDragEnd=function(m){var E=r.component.context,C=r.eventRange.def,k=r.eventRange.instance,O=new re.EventApi(E,C,k),q=r.relevantEvents,J=r.mutatedRelevantEvents;if(E.emitter.trigger("eventResizeStop",{el:r.draggingSegEl,event:O,jsEvent:m.origEvent,view:E.viewApi}),r.validMutation){var oe=new re.EventApi(E,J.defs[C.defId],k?J.instances[k.instanceId]:null);E.dispatch({type:"MERGE_EVENTS",eventStore:J});var Me={oldEvent:O,event:oe,relatedEvents:(0,re.buildEventApis)(J,E,k),revert:function(){E.dispatch({type:"MERGE_EVENTS",eventStore:q})}};E.emitter.trigger("eventResize",(0,Zt.__assign)((0,Zt.__assign)({},Me),{el:r.draggingSegEl,startDelta:r.validMutation.startDelta||(0,re.createDuration)(0),endDelta:r.validMutation.endDelta||(0,re.createDuration)(0),jsEvent:m.origEvent,view:E.viewApi})),E.emitter.trigger("eventChange",Me)}else E.emitter.trigger("_noEventResize");r.draggingSeg=null,r.relevantEvents=null,r.validMutation=null};var i=t.component,l=r.dragging=new ny(t.el);l.pointer.selector=".fc-event-resizer",l.touchScrollAllowed=!1,l.autoScroller.isEnabled=i.context.options.dragScroll;var f=r.hitDragging=new yE(r.dragging,(0,re.interactionSettingsToStore)(t));return f.emitter.on("pointerdown",r.handlePointerDown),f.emitter.on("dragstart",r.handleDragStart),f.emitter.on("hitupdate",r.handleHitUpdate),f.emitter.on("dragend",r.handleDragEnd),r}return(0,Zt.__extends)(e,n),e.prototype.destroy=function(){this.dragging.destroy()},e.prototype.querySegEl=function(t){return(0,re.elementClosest)(t.subjectEl,".fc-event")},e}(re.Interaction),i2=function(){function n(e){var t=this;this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=function(i){i.jsEvent&&(t.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=function(i){var l=t.context.options.unselectCancel,f=(0,re.getEventTargetViaRoot)(i.origEvent);t.matchesCancel=!!(0,re.elementClosest)(f,l),t.matchesEvent=!!(0,re.elementClosest)(f,$k.SELECTOR)},this.onDocumentPointerUp=function(i){var l=t.context,f=t.documentPointer,m=l.getCurrentData();if(!f.wasTouchScroll){if(m.dateSelection&&!t.isRecentPointerDateSelect){var E=l.options.unselectAuto;E&&(!E||!t.matchesCancel)&&l.calendarApi.unselect(i)}m.eventSelection&&!t.matchesEvent&&l.dispatch({type:"UNSELECT_EVENT"})}t.isRecentPointerDateSelect=!1};var r=this.documentPointer=new JM(document);r.shouldIgnoreMove=!0,r.shouldWatchScroll=!1,r.emitter.on("pointerdown",this.onDocumentPointerDown),r.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}return n.prototype.destroy=function(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()},n}(),s2={fixedMirrorParent:re.identity},o2={dateClick:re.identity,eventDragStart:re.identity,eventDragStop:re.identity,eventDrop:re.identity,eventResizeStart:re.identity,eventResizeStop:re.identity,eventResize:re.identity,drop:re.identity,eventReceive:re.identity,eventLeave:re.identity};!function(){function n(e,t){var r=this;this.receivingContext=null,this.droppableEvent=null,this.suppliedDragMeta=null,this.dragMeta=null,this.handleDragStart=function(l){r.dragMeta=r.buildDragMeta(l.subjectEl)},this.handleHitUpdate=function(l,f,m){var E=r.hitDragging.dragging,C=null,k=null,O=!1,q={affectedEvents:(0,re.createEmptyEventStore)(),mutatedEvents:(0,re.createEmptyEventStore)(),isEvent:r.dragMeta.create};l&&r.canDropElOnCalendar(m.subjectEl,C=l.context)&&(k=function a2(n,e,t){for(var r=(0,Zt.__assign)({},e.leftoverProps),i=0,l=t.pluginHooks.externalDefTransforms;i<l.length;i++)(0,Zt.__assign)(r,(0,l[i])(n,e));var m=(0,re.refineEventDef)(r,t),k=(0,re.parseEventDef)(m.refined,m.extra,e.sourceId,n.allDay,t.options.forceEventDuration||Boolean(e.duration),t),O=n.range.start;n.allDay&&e.startTime&&(O=t.dateEnv.add(O,e.startTime));var q=e.duration?t.dateEnv.add(O,e.duration):(0,re.getDefaultEventEnd)(n.allDay,O,t);return{def:k,instance:(0,re.createEventInstance)(k.defId,{start:O,end:q})}}(l.dateSpan,r.dragMeta,C),q.mutatedEvents=(0,re.eventTupleToStore)(k),(O=!(0,re.isInteractionValid)(q,l.dateProfile,C))&&(q.mutatedEvents=(0,re.createEmptyEventStore)(),k=null)),r.displayDrag(C,q),E.setMirrorIsVisible(f||!k||!document.querySelector(".fc-event-mirror")),O?(0,re.disableCursor)():(0,re.enableCursor)(),f||(E.setMirrorNeedsRevert(!k),r.receivingContext=C,r.droppableEvent=k)},this.handleDragEnd=function(l){var m=r.receivingContext,E=r.droppableEvent;if(r.clearDrag(),m&&E){var C=r.hitDragging.finalHit,k=C.context.viewApi,O=r.dragMeta;if(m.emitter.trigger("drop",(0,Zt.__assign)((0,Zt.__assign)({},XM(C.dateSpan,m)),{draggedEl:l.subjectEl,jsEvent:l.origEvent,view:k})),O.create){var q=(0,re.eventTupleToStore)(E);m.dispatch({type:"MERGE_EVENTS",eventStore:q}),l.isTouch&&m.dispatch({type:"SELECT_EVENT",eventInstanceId:E.instance.instanceId}),m.emitter.trigger("eventReceive",{event:new re.EventApi(m,E.def,E.instance),relatedEvents:[],revert:function(){m.dispatch({type:"REMOVE_EVENTS",eventStore:q})},draggedEl:l.subjectEl,view:k})}}r.receivingContext=null,r.droppableEvent=null};var i=this.hitDragging=new yE(e,re.interactionSettingsStore);i.requireInitial=!1,i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd),this.suppliedDragMeta=t}n.prototype.buildDragMeta=function(e){return"object"==typeof this.suppliedDragMeta?(0,re.parseDragMeta)(this.suppliedDragMeta):"function"==typeof this.suppliedDragMeta?(0,re.parseDragMeta)(this.suppliedDragMeta(e)):function l2(n){var e=function u2(n,e){var t=re.config.dataAttrPrefix;return n.getAttribute("data-"+(t?t+"-":"")+e)||""}(n,"event"),t=e?JSON.parse(e):{create:!1};return(0,re.parseDragMeta)(t)}(e)},n.prototype.displayDrag=function(e,t){var r=this.receivingContext;r&&r!==e&&r.dispatch({type:"UNSET_EVENT_DRAG"}),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})},n.prototype.clearDrag=function(){this.receivingContext&&this.receivingContext.dispatch({type:"UNSET_EVENT_DRAG"})},n.prototype.canDropElOnCalendar=function(e,t){var r=t.options.dropAccept;return"function"==typeof r?r.call(t.calendarApi,e):"string"!=typeof r||!r||Boolean((0,re.elementMatches)(e,r))}}();re.config.dataAttrPrefix="";!function(n){function e(t){var r=n.call(this,t)||this;r.shouldIgnoreMove=!1,r.mirrorSelector="",r.currentMirrorEl=null,r.handlePointerDown=function(l){r.emitter.trigger("pointerdown",l),r.shouldIgnoreMove||r.emitter.trigger("dragstart",l)},r.handlePointerMove=function(l){r.shouldIgnoreMove||r.emitter.trigger("dragmove",l)},r.handlePointerUp=function(l){r.emitter.trigger("pointerup",l),r.shouldIgnoreMove||r.emitter.trigger("dragend",l)};var i=r.pointer=new JM(t);return i.emitter.on("pointerdown",r.handlePointerDown),i.emitter.on("pointermove",r.handlePointerMove),i.emitter.on("pointerup",r.handlePointerUp),r}(0,Zt.__extends)(e,n),e.prototype.destroy=function(){this.pointer.destroy()},e.prototype.setIgnoreMove=function(t){this.shouldIgnoreMove=t},e.prototype.setMirrorIsVisible=function(t){if(t)this.currentMirrorEl&&(this.currentMirrorEl.style.visibility="",this.currentMirrorEl=null);else{var r=this.mirrorSelector?document.querySelector(this.mirrorSelector):null;r&&(this.currentMirrorEl=r,r.style.visibility="hidden")}}}(re.ElementDragging);var d2=(0,re.createPlugin)({componentInteractions:[QB,YB,$k,n2],calendarInteractions:[i2],elementDraggingImpl:ny,optionRefiners:s2,listenerRefiners:o2});UA.registerPlugins([N_,d2]);let h2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n,bootstrap:[CB]}),n.\u0275inj=h.cJS({providers:[Sk,Storage,zC,gE],imports:[[ka.hO.initializeApp(Uk_firebase),zV,JV,Tl,ay,fB,Gy,kT.forRoot(),UA,BB]]}),n})();(0,h.G48)(),dh().bootstrapModule(h2).catch(n=>console.error(n))},2559:Ot=>{"use strict";Ot.exports=function $e($,h){if($===h)return!0;if($&&h&&"object"==typeof $&&"object"==typeof h){if($.constructor!==h.constructor)return!1;var P,R,G;if(Array.isArray($)){if((P=$.length)!=h.length)return!1;for(R=P;0!=R--;)if(!$e($[R],h[R]))return!1;return!0}if($.constructor===RegExp)return $.source===h.source&&$.flags===h.flags;if($.valueOf!==Object.prototype.valueOf)return $.valueOf()===h.valueOf();if($.toString!==Object.prototype.toString)return $.toString()===h.toString();if((P=(G=Object.keys($)).length)!==Object.keys(h).length)return!1;for(R=P;0!=R--;)if(!Object.prototype.hasOwnProperty.call(h,G[R]))return!1;for(R=P;0!=R--;){var ne=G[R];if(!$e($[ne],h[ne]))return!1}return!0}return $!=$&&h!=h}},5867:(Ot,$e,$)=>{"use strict";$.d($e,{C6:()=>h.getApps,Mq:()=>h.getApp});var h=$(9681);(0,h.registerVersion)("firebase","9.8.1","app")},127:(Ot,$e,$)=>{"use strict";$.d($e,{Z:()=>h.Z});var h=$(3942);h.Z.registerVersion("firebase","9.8.1","app-compat")},5881:(Ot,$e,$)=>{"use strict";$.r($e);var h=$(5861),P=$(3942),R=$(198),G=$(2090),be=($(9681),$(1877),$(4859));function xe(){return window}function de(){return(de=(0,h.Z)(function*(Se,pe,he){var et;const{BuildInfo:bt}=xe();(0,R.aq)(pe.sessionId,"AuthEvent did not contain a session ID");const jt=yield se(pe.sessionId),rn={};return(0,R.ar)()?rn.ibi=bt.packageName:(0,R.as)()?rn.apn=bt.packageName:(0,R.at)(Se,"operation-not-supported-in-this-environment"),bt.displayName&&(rn.appDisplayName=bt.displayName),rn.sessionId=jt,(0,R.au)(Se,he,pe.type,void 0,null!==(et=pe.eventId)&&void 0!==et?et:void 0,rn)})).apply(this,arguments)}function F(){return(F=(0,h.Z)(function*(Se){const{BuildInfo:pe}=xe(),he={};(0,R.ar)()?he.iosBundleId=pe.packageName:(0,R.as)()?he.androidPackageName=pe.packageName:(0,R.at)(Se,"operation-not-supported-in-this-environment"),yield(0,R.av)(Se,he)})).apply(this,arguments)}function me(){return(me=(0,h.Z)(function*(Se,pe,he){const{cordova:et}=xe();let bt=()=>{};try{yield new Promise((jt,rn)=>{let Ln=null;function Bt(){var Rn;jt();const Cr=null===(Rn=et.plugins.browsertab)||void 0===Rn?void 0:Rn.close;"function"==typeof Cr&&Cr(),"function"==typeof(null==he?void 0:he.close)&&he.close()}function mr(){Ln||(Ln=window.setTimeout(()=>{rn((0,R.aw)(Se,"redirect-cancelled-by-user"))},2e3))}function Vr(){"visible"===(null==document?void 0:document.visibilityState)&&mr()}pe.addPassiveListener(Bt),document.addEventListener("resume",mr,!1),(0,R.as)()&&document.addEventListener("visibilitychange",Vr,!1),bt=()=>{pe.removePassiveListener(Bt),document.removeEventListener("resume",mr,!1),document.removeEventListener("visibilitychange",Vr,!1),Ln&&window.clearTimeout(Ln)}})}finally{bt()}})).apply(this,arguments)}function se(Se){return je.apply(this,arguments)}function je(){return(je=(0,h.Z)(function*(Se){const pe=Qe(Se),he=yield crypto.subtle.digest("SHA-256",pe);return Array.from(new Uint8Array(he)).map(bt=>bt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Qe(Se){if((0,R.aq)(/[0-9a-zA-Z]+/.test(Se),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(Se);const pe=new ArrayBuffer(Se.length),he=new Uint8Array(pe);for(let et=0;et<Se.length;et++)he[et]=Se.charCodeAt(et);return he}class Ye extends R.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(pe=>{this.resolveInialized=pe})}addPassiveListener(pe){this.passiveListeners.add(pe)}removePassiveListener(pe){this.passiveListeners.delete(pe)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(pe){return this.resolveInialized(),this.passiveListeners.forEach(he=>he(pe)),super.onEvent(pe)}initialized(){var pe=this;return(0,h.Z)(function*(){yield pe.initPromise})()}}function Te(Se){return Re.apply(this,arguments)}function Re(){return(Re=(0,h.Z)(function*(Se){const pe=yield Oe()._get(Be(Se));return pe&&(yield Oe()._remove(Be(Se))),pe})).apply(this,arguments)}function Ie(){const Se=[],pe="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let he=0;he<20;he++){const et=Math.floor(Math.random()*pe.length);Se.push(pe.charAt(et))}return Se.join("")}function Oe(){return(0,R.ay)(R.b)}function Be(Se){return(0,R.az)("authEvent",Se.config.apiKey,Se.name)}function Wt(Se){if(!(null==Se?void 0:Se.includes("?")))return{};const[pe,...he]=Se.split("?");return(0,G.zd)(he.join("?"))}function Ut(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,R.aw)("no-auth-event")}}function Ae(){var Se;return(null===(Se=null==self?void 0:self.location)||void 0===Se?void 0:Se.protocol)||null}function Ve(Se=(0,G.z$)()){return!("file:"!==Ae()&&"ionic:"!==Ae()||!Se.toLowerCase().match(/iphone|ipad|ipod|android/))}function on(){try{const Se=self.localStorage,pe=R.aI();if(Se)return Se.setItem(pe,"1"),Se.removeItem(pe),!function Lt(Se=(0,G.z$)()){return function Ct(){return(0,G.w1)()&&11===(null==document?void 0:document.documentMode)}()||function qe(Se=(0,G.z$)()){return/Edge\/\d+/.test(Se)}(Se)}()||(0,G.hl)()}catch(Se){return pn()&&(0,G.hl)()}return!1}function pn(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function fn(){return(function Ee(){return"http:"===Ae()||"https:"===Ae()}()||(0,G.ru)()||Ve())&&!function lt(){return(0,G.b$)()||(0,G.UG)()}()&&on()&&!pn()}function Ze(){return Ve()&&"undefined"!=typeof document}function Xt(){return(Xt=(0,h.Z)(function*(){return!!Ze()&&new Promise(Se=>{const pe=setTimeout(()=>{Se(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(pe),Se(!0)})})})).apply(this,arguments)}const Vt={LOCAL:"local",NONE:"none",SESSION:"session"},er=R.ax,bn="persistence";function Dn(Se){return $n.apply(this,arguments)}function $n(){return($n=(0,h.Z)(function*(Se){yield Se._initializationPromise;const pe=un(),he=R.az(bn,Se.config.apiKey,Se.name);pe&&pe.setItem(he,Se._getPersistence())})).apply(this,arguments)}function un(){var Se;try{return(null===(Se=function vt(){return"undefined"!=typeof window?window:null}())||void 0===Se?void 0:Se.sessionStorage)||null}catch(pe){return null}}const qt=R.ax;class Rt{constructor(){this.browserResolver=R.ay(R.k),this.cordovaResolver=R.ay(class Xn{constructor(){this._redirectPersistence=R.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=R.aB,this._overrideRedirectResult=R.aC}_initialize(pe){var he=this;return(0,h.Z)(function*(){const et=pe._key();let bt=he.eventManagers.get(et);return bt||(bt=new Ye(pe),he.eventManagers.set(et,bt),he.attachCallbackListeners(pe,bt)),bt})()}_openPopup(pe){(0,R.at)(pe,"operation-not-supported-in-this-environment")}_openRedirect(pe,he,et,bt){var jt=this;return(0,h.Z)(function*(){!function ce(Se){var pe,he,et,bt,jt,rn,Ln,Bt,mr,Vr;const Rn=xe();(0,R.ax)("function"==typeof(null===(pe=null==Rn?void 0:Rn.universalLinks)||void 0===pe?void 0:pe.subscribe),Se,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,R.ax)(void 0!==(null===(he=null==Rn?void 0:Rn.BuildInfo)||void 0===he?void 0:he.packageName),Se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,R.ax)("function"==typeof(null===(jt=null===(bt=null===(et=null==Rn?void 0:Rn.cordova)||void 0===et?void 0:et.plugins)||void 0===bt?void 0:bt.browsertab)||void 0===jt?void 0:jt.openUrl),Se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.ax)("function"==typeof(null===(Bt=null===(Ln=null===(rn=null==Rn?void 0:Rn.cordova)||void 0===rn?void 0:rn.plugins)||void 0===Ln?void 0:Ln.browsertab)||void 0===Bt?void 0:Bt.isAvailable),Se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,R.ax)("function"==typeof(null===(Vr=null===(mr=null==Rn?void 0:Rn.cordova)||void 0===mr?void 0:mr.InAppBrowser)||void 0===Vr?void 0:Vr.open),Se,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(pe);const rn=yield jt._initialize(pe);yield rn.initialized(),rn.resetRedirect(),(0,R.aD)(),yield jt._originValidation(pe);const Ln=function ze(Se,pe,he=null){return{type:pe,eventId:he,urlResponse:null,sessionId:Ie(),postBody:null,tenantId:Se.tenantId,error:(0,R.aw)(Se,"no-auth-event")}}(pe,et,bt);yield function mt(Se,pe){return Oe()._set(Be(Se),pe)}(pe,Ln);const Bt=yield function ee(Se,pe,he){return de.apply(this,arguments)}(pe,Ln,he),mr=yield function H(Se){const{cordova:pe}=xe();return new Promise(he=>{pe.plugins.browsertab.isAvailable(et=>{let bt=null;et?pe.plugins.browsertab.openUrl(Se):bt=pe.InAppBrowser.open(Se,(0,R.ap)()?"_blank":"_system","location=yes"),he(bt)})})}(Bt);return function ie(Se,pe,he){return me.apply(this,arguments)}(pe,rn,mr)})()}_isIframeWebStorageSupported(pe,he){throw new Error("Method not implemented.")}_originValidation(pe){const he=pe._key();return this.originValidationPromises[he]||(this.originValidationPromises[he]=function T(Se){return F.apply(this,arguments)}(pe)),this.originValidationPromises[he]}attachCallbackListeners(pe,he){const{universalLinks:et,handleOpenURL:bt,BuildInfo:jt}=xe(),rn=setTimeout((0,h.Z)(function*(){yield Te(pe),he.onEvent(Ut())}),500),Ln=function(){var Vr=(0,h.Z)(function*(Rn){clearTimeout(rn);const Cr=yield Te(pe);let ci=null;Cr&&(null==Rn?void 0:Rn.url)&&(ci=function fe(Se,pe){var he,et;const bt=function ke(Se){const pe=Wt(Se),he=pe.link?decodeURIComponent(pe.link):void 0,et=Wt(he).link,bt=pe.deep_link_id?decodeURIComponent(pe.deep_link_id):void 0;return Wt(bt).link||bt||et||he||Se}(pe);if(bt.includes("/__/auth/callback")){const jt=Wt(bt),rn=jt.firebaseError?function Xe(Se){try{return JSON.parse(Se)}catch(pe){return null}}(decodeURIComponent(jt.firebaseError)):null,Ln=null===(et=null===(he=null==rn?void 0:rn.code)||void 0===he?void 0:he.split("auth/"))||void 0===et?void 0:et[1],Bt=Ln?(0,R.aw)(Ln):null;return Bt?{type:Se.type,eventId:Se.eventId,tenantId:Se.tenantId,error:Bt,urlResponse:null,sessionId:null,postBody:null}:{type:Se.type,eventId:Se.eventId,tenantId:Se.tenantId,sessionId:Se.sessionId,urlResponse:bt,postBody:null}}return null}(Cr,Rn.url)),he.onEvent(ci||Ut())});return function(Cr){return Vr.apply(this,arguments)}}();void 0!==et&&"function"==typeof et.subscribe&&et.subscribe(null,Ln);const Bt=bt,mr=`${jt.packageName.toLowerCase()}://`;xe().handleOpenURL=function(){var Vr=(0,h.Z)(function*(Rn){if(Rn.toLowerCase().startsWith(mr)&&Ln({url:Rn}),"function"==typeof Bt)try{Bt(Rn)}catch(Cr){console.error(Cr)}});return function(Rn){return Vr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=R.a,this._completeRedirectFn=R.aB,this._overrideRedirectResult=R.aC}_initialize(pe){var he=this;return(0,h.Z)(function*(){return yield he.selectUnderlyingResolver(),he.assertedUnderlyingResolver._initialize(pe)})()}_openPopup(pe,he,et,bt){var jt=this;return(0,h.Z)(function*(){return yield jt.selectUnderlyingResolver(),jt.assertedUnderlyingResolver._openPopup(pe,he,et,bt)})()}_openRedirect(pe,he,et,bt){var jt=this;return(0,h.Z)(function*(){return yield jt.selectUnderlyingResolver(),jt.assertedUnderlyingResolver._openRedirect(pe,he,et,bt)})()}_isIframeWebStorageSupported(pe,he){this.assertedUnderlyingResolver._isIframeWebStorageSupported(pe,he)}_originValidation(pe){return this.assertedUnderlyingResolver._originValidation(pe)}get _shouldInitProactively(){return Ze()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return qt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var pe=this;return(0,h.Z)(function*(){if(pe.underlyingResolver)return;const he=yield function Dt(){return Xt.apply(this,arguments)}();pe.underlyingResolver=he?pe.cordovaResolver:pe.browserResolver})()}}function tr(Se){return Se.unwrap()}function _n(Se){return rr(Se)}function rr(Se){const{_tokenResponse:pe}=Se instanceof G.ZR?Se.customData:Se;if(!pe)return null;if(!(Se instanceof G.ZR)&&"temporaryProof"in pe&&"phoneNumber"in pe)return R.P.credentialFromResult(Se);const he=pe.providerId;if(!he||he===R.o.PASSWORD)return null;let et;switch(he){case R.o.GOOGLE:et=R.Q;break;case R.o.FACEBOOK:et=R.N;break;case R.o.GITHUB:et=R.T;break;case R.o.TWITTER:et=R.W;break;default:const{oauthIdToken:bt,oauthAccessToken:jt,oauthTokenSecret:rn,pendingToken:Ln,nonce:Bt}=pe;return jt||rn||bt||Ln?Ln?he.startsWith("saml.")?R.aL._create(he,Ln):R.J._fromParams({providerId:he,signInMethod:he,pendingToken:Ln,idToken:bt,accessToken:jt}):new R.U(he).credential({idToken:bt,accessToken:jt,rawNonce:Bt}):null}return Se instanceof G.ZR?et.credentialFromError(Se):et.credentialFromResult(Se)}function Tn(Se,pe){return pe.catch(he=>{throw he instanceof G.ZR&&function wr(Se,pe){var he;const et=null===(he=pe.customData)||void 0===he?void 0:he._tokenResponse;if("auth/multi-factor-auth-required"===pe.code)pe.resolver=new B(Se,R.an(Se,pe));else if(et){const bt=rr(pe),jt=pe;bt&&(jt.credential=bt,jt.tenantId=et.tenantId||void 0,jt.email=et.email||void 0,jt.phoneNumber=et.phoneNumber||void 0)}}(Se,he),he}).then(he=>{const bt=he.user;return{operationType:he.operationType,credential:_n(he),additionalUserInfo:R.al(he),user:Y.getOrCreate(bt)}})}function ue(Se,pe){return ve.apply(this,arguments)}function ve(){return(ve=(0,h.Z)(function*(Se,pe){const he=yield pe;return{verificationId:he.verificationId,confirm:et=>Tn(Se,he.confirm(et))}})).apply(this,arguments)}class B{constructor(pe,he){this.resolver=he,this.auth=function Pr(Se){return Se.wrapped()}(pe)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(pe){return Tn(tr(this.auth),this.resolver.resolveSignIn(pe))}}class Y{constructor(pe){this._delegate=pe,this.multiFactor=R.ao(pe)}static getOrCreate(pe){return Y.USER_MAP.has(pe)||Y.USER_MAP.set(pe,new Y(pe)),Y.USER_MAP.get(pe)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(pe){return this._delegate.getIdTokenResult(pe)}getIdToken(pe){return this._delegate.getIdToken(pe)}linkAndRetrieveDataWithCredential(pe){return this.linkWithCredential(pe)}linkWithCredential(pe){var he=this;return(0,h.Z)(function*(){return Tn(he.auth,R.Z(he._delegate,pe))})()}linkWithPhoneNumber(pe,he){var et=this;return(0,h.Z)(function*(){return ue(et.auth,R.l(et._delegate,pe,he))})()}linkWithPopup(pe){var he=this;return(0,h.Z)(function*(){return Tn(he.auth,R.d(he._delegate,pe,Rt))})()}linkWithRedirect(pe){var he=this;return(0,h.Z)(function*(){return yield Dn(R.aE(he.auth)),R.g(he._delegate,pe,Rt)})()}reauthenticateAndRetrieveDataWithCredential(pe){return this.reauthenticateWithCredential(pe)}reauthenticateWithCredential(pe){var he=this;return(0,h.Z)(function*(){return Tn(he.auth,R._(he._delegate,pe))})()}reauthenticateWithPhoneNumber(pe,he){return ue(this.auth,R.r(this._delegate,pe,he))}reauthenticateWithPopup(pe){return Tn(this.auth,R.e(this._delegate,pe,Rt))}reauthenticateWithRedirect(pe){var he=this;return(0,h.Z)(function*(){return yield Dn(R.aE(he.auth)),R.h(he._delegate,pe,Rt)})()}sendEmailVerification(pe){return R.ab(this._delegate,pe)}unlink(pe){var he=this;return(0,h.Z)(function*(){return yield R.ak(he._delegate,pe),he})()}updateEmail(pe){return R.ag(this._delegate,pe)}updatePassword(pe){return R.ah(this._delegate,pe)}updatePhoneNumber(pe){return R.u(this._delegate,pe)}updateProfile(pe){return R.af(this._delegate,pe)}verifyBeforeUpdateEmail(pe,he){return R.ac(this._delegate,pe,he)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Y.USER_MAP=new WeakMap;const W=R.ax;let le=(()=>{class Se{constructor(he,et){if(this.app=he,et.isInitialized())return this._delegate=et.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:bt}=he.options;W(bt,"invalid-api-key",{appName:he.name}),W(bt,"invalid-api-key",{appName:he.name});const jt="undefined"!=typeof window?Rt:void 0;this._delegate=et.initialize({options:{persistence:ge(bt,he.name),popupRedirectResolver:jt}}),this._delegate._updateErrorMap(R.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Y.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(he){this._delegate.languageCode=he}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(he){this._delegate.tenantId=he}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(he,et){R.G(this._delegate,he,et)}applyActionCode(he){return R.a2(this._delegate,he)}checkActionCode(he){return R.a3(this._delegate,he)}confirmPasswordReset(he,et){return R.a1(this._delegate,he,et)}createUserWithEmailAndPassword(he,et){var bt=this;return(0,h.Z)(function*(){return Tn(bt._delegate,R.a5(bt._delegate,he,et))})()}fetchProvidersForEmail(he){return this.fetchSignInMethodsForEmail(he)}fetchSignInMethodsForEmail(he){return R.aa(this._delegate,he)}isSignInWithEmailLink(he){return R.a8(this._delegate,he)}getRedirectResult(){var he=this;return(0,h.Z)(function*(){W(fn(),he._delegate,"operation-not-supported-in-this-environment");const et=yield R.j(he._delegate,Rt);return et?Tn(he._delegate,Promise.resolve(et)):{credential:null,user:null}})()}addFrameworkForLogging(he){!function qn(Se,pe){(0,R.aE)(Se)._logFramework(pe)}(this._delegate,he)}onAuthStateChanged(he,et,bt){const{next:jt,error:rn,complete:Ln}=ae(he,et,bt);return this._delegate.onAuthStateChanged(jt,rn,Ln)}onIdTokenChanged(he,et,bt){const{next:jt,error:rn,complete:Ln}=ae(he,et,bt);return this._delegate.onIdTokenChanged(jt,rn,Ln)}sendSignInLinkToEmail(he,et){return R.a7(this._delegate,he,et)}sendPasswordResetEmail(he,et){return R.a0(this._delegate,he,et||void 0)}setPersistence(he){var et=this;return(0,h.Z)(function*(){let bt;switch(function xn(Se,pe){er(Object.values(Vt).includes(pe),Se,"invalid-persistence-type"),(0,G.b$)()?er(pe!==Vt.SESSION,Se,"unsupported-persistence-type"):(0,G.UG)()?er(pe===Vt.NONE,Se,"unsupported-persistence-type"):pn()?er(pe===Vt.NONE||pe===Vt.LOCAL&&(0,G.hl)(),Se,"unsupported-persistence-type"):er(pe===Vt.NONE||on(),Se,"unsupported-persistence-type")}(et._delegate,he),he){case Vt.SESSION:bt=R.a;break;case Vt.LOCAL:bt=(yield R.ay(R.i)._isAvailable())?R.i:R.b;break;case Vt.NONE:bt=R.L;break;default:return R.at("argument-error",{appName:et._delegate.name})}return et._delegate.setPersistence(bt)})()}signInAndRetrieveDataWithCredential(he){return this.signInWithCredential(he)}signInAnonymously(){return Tn(this._delegate,R.X(this._delegate))}signInWithCredential(he){return Tn(this._delegate,R.Y(this._delegate,he))}signInWithCustomToken(he){return Tn(this._delegate,R.$(this._delegate,he))}signInWithEmailAndPassword(he,et){return Tn(this._delegate,R.a6(this._delegate,he,et))}signInWithEmailLink(he,et){return Tn(this._delegate,R.a9(this._delegate,he,et))}signInWithPhoneNumber(he,et){return ue(this._delegate,R.s(this._delegate,he,et))}signInWithPopup(he){var et=this;return(0,h.Z)(function*(){return W(fn(),et._delegate,"operation-not-supported-in-this-environment"),Tn(et._delegate,R.c(et._delegate,he,Rt))})()}signInWithRedirect(he){var et=this;return(0,h.Z)(function*(){return W(fn(),et._delegate,"operation-not-supported-in-this-environment"),yield Dn(et._delegate),R.f(et._delegate,he,Rt)})()}updateCurrentUser(he){return this._delegate.updateCurrentUser(he)}verifyPasswordResetCode(he){return R.a4(this._delegate,he)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Se.Persistence=Vt,Se})();function ae(Se,pe,he){let et=Se;"function"!=typeof Se&&({next:et,error:pe,complete:he}=Se);const bt=et;return{next:rn=>bt(rn&&Y.getOrCreate(rn)),error:pe,complete:he}}function ge(Se,pe){const he=function an(Se,pe){const he=un();if(!he)return[];const et=R.az(bn,Se,pe);switch(he.getItem(et)){case Vt.NONE:return[R.L];case Vt.LOCAL:return[R.i,R.a];case Vt.SESSION:return[R.a];default:return[]}}(Se,pe);if("undefined"!=typeof self&&!he.includes(R.i)&&he.push(R.i),"undefined"!=typeof window)for(const et of[R.b,R.a])he.includes(et)||he.push(et);return he.includes(R.L)||he.push(R.L),he}class Pe{constructor(){this.providerId="phone",this._delegate=new R.P(tr(P.Z.auth()))}static credential(pe,he){return R.P.credential(pe,he)}verifyPhoneNumber(pe,he){return this._delegate.verifyPhoneNumber(pe,he)}unwrap(){return this._delegate}}Pe.PHONE_SIGN_IN_METHOD=R.P.PHONE_SIGN_IN_METHOD,Pe.PROVIDER_ID=R.P.PROVIDER_ID;const st=R.ax;class pt{constructor(pe,he,et=P.Z.app()){var bt;st(null===(bt=et.options)||void 0===bt?void 0:bt.apiKey,"invalid-api-key",{appName:et.name}),this._delegate=new R.R(pe,he,et.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function $t(Se){Se.INTERNAL.registerComponent(new be.wA("auth-compat",pe=>{const he=pe.getProvider("app-compat").getImmediate(),et=pe.getProvider("auth");return new le(he,et)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:R.A.EMAIL_SIGNIN,PASSWORD_RESET:R.A.PASSWORD_RESET,RECOVER_EMAIL:R.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:R.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:R.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:R.A.VERIFY_EMAIL}},EmailAuthProvider:R.M,FacebookAuthProvider:R.N,GithubAuthProvider:R.T,GoogleAuthProvider:R.Q,OAuthProvider:R.U,SAMLAuthProvider:R.V,PhoneAuthProvider:Pe,PhoneMultiFactorGenerator:R.m,RecaptchaVerifier:pt,TwitterAuthProvider:R.W,Auth:le,AuthCredential:R.H,Error:G.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Se.registerVersion("@firebase/auth-compat","0.2.14")}(P.Z)},6461:(Ot,$e)=>{var h;!function(){"use strict";var P=function(){this.init()};P.prototype={init:function(){var T=this||R;return T._counter=1e3,T._html5AudioPool=[],T.html5PoolSize=10,T._codecs={},T._howls=[],T._muted=!1,T._volume=1,T._canPlayEvent="canplaythrough",T._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,T.masterGain=null,T.noAudio=!1,T.usingWebAudio=!0,T.autoSuspend=!0,T.ctx=null,T.autoUnlock=!0,T._setup(),T},volume:function(T){var F=this||R;if(T=parseFloat(T),F.ctx||de(),void 0!==T&&T>=0&&T<=1){if(F._volume=T,F._muted)return F;F.usingWebAudio&&F.masterGain.gain.setValueAtTime(T,R.ctx.currentTime);for(var H=0;H<F._howls.length;H++)if(!F._howls[H]._webAudio)for(var ie=F._howls[H]._getSoundIds(),me=0;me<ie.length;me++){var ce=F._howls[H]._soundById(ie[me]);ce&&ce._node&&(ce._node.volume=ce._volume*T)}return F}return F._volume},mute:function(T){var F=this||R;F.ctx||de(),F._muted=T,F.usingWebAudio&&F.masterGain.gain.setValueAtTime(T?0:F._volume,R.ctx.currentTime);for(var H=0;H<F._howls.length;H++)if(!F._howls[H]._webAudio)for(var ie=F._howls[H]._getSoundIds(),me=0;me<ie.length;me++){var ce=F._howls[H]._soundById(ie[me]);ce&&ce._node&&(ce._node.muted=!!T||ce._muted)}return F},stop:function(){for(var T=this||R,F=0;F<T._howls.length;F++)T._howls[F].stop();return T},unload:function(){for(var T=this||R,F=T._howls.length-1;F>=0;F--)T._howls[F].unload();return T.usingWebAudio&&T.ctx&&void 0!==T.ctx.close&&(T.ctx.close(),T.ctx=null,de()),T},codecs:function(T){return(this||R)._codecs[T.replace(/^x-/,"")]},_setup:function(){var T=this||R;if(T.state=T.ctx&&T.ctx.state||"suspended",T._autoSuspend(),!T.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(T._canPlayEvent="canplay")}catch(H){T.noAudio=!0}else T.noAudio=!0;try{(new Audio).muted&&(T.noAudio=!0)}catch(H){}return T.noAudio||T._setupCodecs(),T},_setupCodecs:function(){var T=this||R,F=null;try{F="undefined"!=typeof Audio?new Audio:null}catch(We){return T}if(!F||"function"!=typeof F.canPlayType)return T;var H=F.canPlayType("audio/mpeg;").replace(/^no$/,""),ie=T._navigator?T._navigator.userAgent:"",me=ie.match(/OPR\/([0-6].)/g),ce=me&&parseInt(me[0].split("/")[1],10)<33,se=-1!==ie.indexOf("Safari")&&-1===ie.indexOf("Chrome"),je=ie.match(/Version\/(.*?) /),Qe=se&&je&&parseInt(je[1],10)<15;return T._codecs={mp3:!(ce||!H&&!F.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!H,opus:!!F.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!F.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!F.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(F.canPlayType('audio/wav; codecs="1"')||F.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!F.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!F.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(F.canPlayType("audio/x-m4a;")||F.canPlayType("audio/m4a;")||F.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(F.canPlayType("audio/x-m4b;")||F.canPlayType("audio/m4b;")||F.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(F.canPlayType("audio/x-mp4;")||F.canPlayType("audio/mp4;")||F.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(Qe||!F.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(Qe||!F.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!F.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(F.canPlayType("audio/x-flac;")||F.canPlayType("audio/flac;")).replace(/^no$/,"")},T},_unlockAudio:function(){var T=this||R;if(!T._audioUnlocked&&T.ctx){T._audioUnlocked=!1,T.autoUnlock=!1,!T._mobileUnloaded&&44100!==T.ctx.sampleRate&&(T._mobileUnloaded=!0,T.unload()),T._scratchBuffer=T.ctx.createBuffer(1,1,22050);var F=function(H){for(;T._html5AudioPool.length<T.html5PoolSize;)try{var ie=new Audio;ie._unlocked=!0,T._releaseHtml5Audio(ie)}catch(We){T.noAudio=!0;break}for(var me=0;me<T._howls.length;me++)if(!T._howls[me]._webAudio)for(var ce=T._howls[me]._getSoundIds(),se=0;se<ce.length;se++){var je=T._howls[me]._soundById(ce[se]);je&&je._node&&!je._node._unlocked&&(je._node._unlocked=!0,je._node.load())}T._autoResume();var Qe=T.ctx.createBufferSource();Qe.buffer=T._scratchBuffer,Qe.connect(T.ctx.destination),void 0===Qe.start?Qe.noteOn(0):Qe.start(0),"function"==typeof T.ctx.resume&&T.ctx.resume(),Qe.onended=function(){Qe.disconnect(0),T._audioUnlocked=!0,document.removeEventListener("touchstart",F,!0),document.removeEventListener("touchend",F,!0),document.removeEventListener("click",F,!0),document.removeEventListener("keydown",F,!0);for(var We=0;We<T._howls.length;We++)T._howls[We]._emit("unlock")}};return document.addEventListener("touchstart",F,!0),document.addEventListener("touchend",F,!0),document.addEventListener("click",F,!0),document.addEventListener("keydown",F,!0),T}},_obtainHtml5Audio:function(){var T=this||R;if(T._html5AudioPool.length)return T._html5AudioPool.pop();var F=(new Audio).play();return F&&"undefined"!=typeof Promise&&(F instanceof Promise||"function"==typeof F.then)&&F.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(T){var F=this||R;return T._unlocked&&F._html5AudioPool.push(T),F},_autoSuspend:function(){var T=this;if(T.autoSuspend&&T.ctx&&void 0!==T.ctx.suspend&&R.usingWebAudio){for(var F=0;F<T._howls.length;F++)if(T._howls[F]._webAudio)for(var H=0;H<T._howls[F]._sounds.length;H++)if(!T._howls[F]._sounds[H]._paused)return T;return T._suspendTimer&&clearTimeout(T._suspendTimer),T._suspendTimer=setTimeout(function(){if(T.autoSuspend){T._suspendTimer=null,T.state="suspending";var ie=function(){T.state="suspended",T._resumeAfterSuspend&&(delete T._resumeAfterSuspend,T._autoResume())};T.ctx.suspend().then(ie,ie)}},3e4),T}},_autoResume:function(){var T=this;if(T.ctx&&void 0!==T.ctx.resume&&R.usingWebAudio)return"running"===T.state&&"interrupted"!==T.ctx.state&&T._suspendTimer?(clearTimeout(T._suspendTimer),T._suspendTimer=null):"suspended"===T.state||"running"===T.state&&"interrupted"===T.ctx.state?(T.ctx.resume().then(function(){T.state="running";for(var F=0;F<T._howls.length;F++)T._howls[F]._emit("resume")}),T._suspendTimer&&(clearTimeout(T._suspendTimer),T._suspendTimer=null)):"suspending"===T.state&&(T._resumeAfterSuspend=!0),T}};var R=new P,G=function(T){T.src&&0!==T.src.length?this.init(T):console.error("An array of source files must be passed with any new Howl.")};G.prototype={init:function(T){var F=this;return R.ctx||de(),F._autoplay=T.autoplay||!1,F._format="string"!=typeof T.format?T.format:[T.format],F._html5=T.html5||!1,F._muted=T.mute||!1,F._loop=T.loop||!1,F._pool=T.pool||5,F._preload="boolean"!=typeof T.preload&&"metadata"!==T.preload||T.preload,F._rate=T.rate||1,F._sprite=T.sprite||{},F._src="string"!=typeof T.src?T.src:[T.src],F._volume=void 0!==T.volume?T.volume:1,F._xhr={method:T.xhr&&T.xhr.method?T.xhr.method:"GET",headers:T.xhr&&T.xhr.headers?T.xhr.headers:null,withCredentials:!(!T.xhr||!T.xhr.withCredentials)&&T.xhr.withCredentials},F._duration=0,F._state="unloaded",F._sounds=[],F._endTimers={},F._queue=[],F._playLock=!1,F._onend=T.onend?[{fn:T.onend}]:[],F._onfade=T.onfade?[{fn:T.onfade}]:[],F._onload=T.onload?[{fn:T.onload}]:[],F._onloaderror=T.onloaderror?[{fn:T.onloaderror}]:[],F._onplayerror=T.onplayerror?[{fn:T.onplayerror}]:[],F._onpause=T.onpause?[{fn:T.onpause}]:[],F._onplay=T.onplay?[{fn:T.onplay}]:[],F._onstop=T.onstop?[{fn:T.onstop}]:[],F._onmute=T.onmute?[{fn:T.onmute}]:[],F._onvolume=T.onvolume?[{fn:T.onvolume}]:[],F._onrate=T.onrate?[{fn:T.onrate}]:[],F._onseek=T.onseek?[{fn:T.onseek}]:[],F._onunlock=T.onunlock?[{fn:T.onunlock}]:[],F._onresume=[],F._webAudio=R.usingWebAudio&&!F._html5,void 0!==R.ctx&&R.ctx&&R.autoUnlock&&R._unlockAudio(),R._howls.push(F),F._autoplay&&F._queue.push({event:"play",action:function(){F.play()}}),F._preload&&"none"!==F._preload&&F.load(),F},load:function(){var T=this,F=null;if(R.noAudio)T._emit("loaderror",null,"No audio support.");else{"string"==typeof T._src&&(T._src=[T._src]);for(var H=0;H<T._src.length;H++){var ie,me;if(T._format&&T._format[H])ie=T._format[H];else{if("string"!=typeof(me=T._src[H])){T._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(ie=/^data:audio\/([^;,]+);/i.exec(me))||(ie=/\.([^.]+)$/.exec(me.split("?",1)[0])),ie&&(ie=ie[1].toLowerCase())}if(ie||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),ie&&R.codecs(ie)){F=T._src[H];break}}if(F)return T._src=F,T._state="loading","https:"===window.location.protocol&&"http:"===F.slice(0,5)&&(T._html5=!0,T._webAudio=!1),new ne(T),T._webAudio&&be(T),T;T._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(T,F){var H=this,ie=null;if("number"==typeof T)ie=T,T=null;else{if("string"==typeof T&&"loaded"===H._state&&!H._sprite[T])return null;if(void 0===T&&(T="__default",!H._playLock)){for(var me=0,ce=0;ce<H._sounds.length;ce++)H._sounds[ce]._paused&&!H._sounds[ce]._ended&&(me++,ie=H._sounds[ce]._id);1===me?T=null:ie=null}}var se=ie?H._soundById(ie):H._inactiveSound();if(!se)return null;if(ie&&!T&&(T=se._sprite||"__default"),"loaded"!==H._state){se._sprite=T,se._ended=!1;var je=se._id;return H._queue.push({event:"play",action:function(){H.play(je)}}),je}if(ie&&!se._paused)return F||H._loadQueue("play"),se._id;H._webAudio&&R._autoResume();var Qe=Math.max(0,se._seek>0?se._seek:H._sprite[T][0]/1e3),We=Math.max(0,(H._sprite[T][0]+H._sprite[T][1])/1e3-Qe),Ye=1e3*We/Math.abs(se._rate),ze=H._sprite[T][0]/1e3,mt=(H._sprite[T][0]+H._sprite[T][1])/1e3;se._sprite=T,se._ended=!1;var Te=function(){se._paused=!1,se._seek=Qe,se._start=ze,se._stop=mt,se._loop=!(!se._loop&&!H._sprite[T][2])};if(!(Qe>=mt)){var Re=se._node;if(H._webAudio){var fe=function(){H._playLock=!1,Te(),H._refreshBuffer(se),Re.gain.setValueAtTime(se._muted||H._muted?0:se._volume,R.ctx.currentTime),se._playStart=R.ctx.currentTime,void 0===Re.bufferSource.start?Re.bufferSource.noteGrainOn(0,Qe,se._loop?86400:We):Re.bufferSource.start(0,Qe,se._loop?86400:We),Ye!==1/0&&(H._endTimers[se._id]=setTimeout(H._ended.bind(H,se),Ye)),F||setTimeout(function(){H._emit("play",se._id),H._loadQueue()},0)};"running"===R.state&&"interrupted"!==R.ctx.state?fe():(H._playLock=!0,H.once("resume",fe),H._clearTimer(se._id))}else{var Ie=function(){Re.currentTime=Qe,Re.muted=se._muted||H._muted||R._muted||Re.muted,Re.volume=se._volume*R.volume(),Re.playbackRate=se._rate;try{var Xe=Re.play();if(Xe&&"undefined"!=typeof Promise&&(Xe instanceof Promise||"function"==typeof Xe.then)?(H._playLock=!0,Te(),Xe.then(function(){H._playLock=!1,Re._unlocked=!0,F?H._loadQueue():H._emit("play",se._id)}).catch(function(){H._playLock=!1,H._emit("playerror",se._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),se._ended=!0,se._paused=!0})):F||(H._playLock=!1,Te(),H._emit("play",se._id)),Re.playbackRate=se._rate,Re.paused)return void H._emit("playerror",se._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==T||se._loop?H._endTimers[se._id]=setTimeout(H._ended.bind(H,se),Ye):(H._endTimers[se._id]=function(){H._ended(se),Re.removeEventListener("ended",H._endTimers[se._id],!1)},Re.addEventListener("ended",H._endTimers[se._id],!1))}catch(ke){H._emit("playerror",se._id,ke)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===Re.src&&(Re.src=H._src,Re.load());var Oe=window&&window.ejecta||!Re.readyState&&R._navigator.isCocoonJS;if(Re.readyState>=3||Oe)Ie();else{H._playLock=!0,H._state="loading";var Be=function(){H._state="loaded",Ie(),Re.removeEventListener(R._canPlayEvent,Be,!1)};Re.addEventListener(R._canPlayEvent,Be,!1),H._clearTimer(se._id)}}return se._id}H._ended(se)},pause:function(T){var F=this;if("loaded"!==F._state||F._playLock)return F._queue.push({event:"pause",action:function(){F.pause(T)}}),F;for(var H=F._getSoundIds(T),ie=0;ie<H.length;ie++){F._clearTimer(H[ie]);var me=F._soundById(H[ie]);if(me&&!me._paused&&(me._seek=F.seek(H[ie]),me._rateSeek=0,me._paused=!0,F._stopFade(H[ie]),me._node))if(F._webAudio){if(!me._node.bufferSource)continue;void 0===me._node.bufferSource.stop?me._node.bufferSource.noteOff(0):me._node.bufferSource.stop(0),F._cleanBuffer(me._node)}else(!isNaN(me._node.duration)||me._node.duration===1/0)&&me._node.pause();arguments[1]||F._emit("pause",me?me._id:null)}return F},stop:function(T,F){var H=this;if("loaded"!==H._state||H._playLock)return H._queue.push({event:"stop",action:function(){H.stop(T)}}),H;for(var ie=H._getSoundIds(T),me=0;me<ie.length;me++){H._clearTimer(ie[me]);var ce=H._soundById(ie[me]);ce&&(ce._seek=ce._start||0,ce._rateSeek=0,ce._paused=!0,ce._ended=!0,H._stopFade(ie[me]),ce._node&&(H._webAudio?ce._node.bufferSource&&(void 0===ce._node.bufferSource.stop?ce._node.bufferSource.noteOff(0):ce._node.bufferSource.stop(0),H._cleanBuffer(ce._node)):(!isNaN(ce._node.duration)||ce._node.duration===1/0)&&(ce._node.currentTime=ce._start||0,ce._node.pause(),ce._node.duration===1/0&&H._clearSound(ce._node))),F||H._emit("stop",ce._id))}return H},mute:function(T,F){var H=this;if("loaded"!==H._state||H._playLock)return H._queue.push({event:"mute",action:function(){H.mute(T,F)}}),H;if(void 0===F){if("boolean"!=typeof T)return H._muted;H._muted=T}for(var ie=H._getSoundIds(F),me=0;me<ie.length;me++){var ce=H._soundById(ie[me]);ce&&(ce._muted=T,ce._interval&&H._stopFade(ce._id),H._webAudio&&ce._node?ce._node.gain.setValueAtTime(T?0:ce._volume,R.ctx.currentTime):ce._node&&(ce._node.muted=!!R._muted||T),H._emit("mute",ce._id))}return H},volume:function(){var H,ie,se,T=this,F=arguments;if(0===F.length)return T._volume;if(1===F.length||2===F.length&&void 0===F[1]){var me=T._getSoundIds(),ce=me.indexOf(F[0]);ce>=0?ie=parseInt(F[0],10):H=parseFloat(F[0])}else F.length>=2&&(H=parseFloat(F[0]),ie=parseInt(F[1],10));if(!(void 0!==H&&H>=0&&H<=1))return(se=ie?T._soundById(ie):T._sounds[0])?se._volume:0;if("loaded"!==T._state||T._playLock)return T._queue.push({event:"volume",action:function(){T.volume.apply(T,F)}}),T;void 0===ie&&(T._volume=H),ie=T._getSoundIds(ie);for(var je=0;je<ie.length;je++)(se=T._soundById(ie[je]))&&(se._volume=H,F[2]||T._stopFade(ie[je]),T._webAudio&&se._node&&!se._muted?se._node.gain.setValueAtTime(H,R.ctx.currentTime):se._node&&!se._muted&&(se._node.volume=H*R.volume()),T._emit("volume",se._id));return T},fade:function(T,F,H,ie){var me=this;if("loaded"!==me._state||me._playLock)return me._queue.push({event:"fade",action:function(){me.fade(T,F,H,ie)}}),me;T=Math.min(Math.max(0,parseFloat(T)),1),F=Math.min(Math.max(0,parseFloat(F)),1),H=parseFloat(H),me.volume(T,ie);for(var ce=me._getSoundIds(ie),se=0;se<ce.length;se++){var je=me._soundById(ce[se]);if(je){if(ie||me._stopFade(ce[se]),me._webAudio&&!je._muted){var Qe=R.ctx.currentTime,We=Qe+H/1e3;je._volume=T,je._node.gain.setValueAtTime(T,Qe),je._node.gain.linearRampToValueAtTime(F,We)}me._startFadeInterval(je,T,F,H,ce[se],void 0===ie)}}return me},_startFadeInterval:function(T,F,H,ie,me,ce){var se=this,je=F,Qe=H-F,We=Math.abs(Qe/.01),Ye=Math.max(4,We>0?ie/We:ie),ze=Date.now();T._fadeTo=H,T._interval=setInterval(function(){var mt=(Date.now()-ze)/ie;ze=Date.now(),je+=Qe*mt,je=Math.round(100*je)/100,je=Qe<0?Math.max(H,je):Math.min(H,je),se._webAudio?T._volume=je:se.volume(je,T._id,!0),ce&&(se._volume=je),(H<F&&je<=H||H>F&&je>=H)&&(clearInterval(T._interval),T._interval=null,T._fadeTo=null,se.volume(H,T._id),se._emit("fade",T._id))},Ye)},_stopFade:function(T){var F=this,H=F._soundById(T);return H&&H._interval&&(F._webAudio&&H._node.gain.cancelScheduledValues(R.ctx.currentTime),clearInterval(H._interval),H._interval=null,F.volume(H._fadeTo,T),H._fadeTo=null,F._emit("fade",T)),F},loop:function(){var H,ie,me,T=this,F=arguments;if(0===F.length)return T._loop;if(1===F.length){if("boolean"!=typeof F[0])return!!(me=T._soundById(parseInt(F[0],10)))&&me._loop;T._loop=H=F[0]}else 2===F.length&&(H=F[0],ie=parseInt(F[1],10));for(var ce=T._getSoundIds(ie),se=0;se<ce.length;se++)(me=T._soundById(ce[se]))&&(me._loop=H,T._webAudio&&me._node&&me._node.bufferSource&&(me._node.bufferSource.loop=H,H&&(me._node.bufferSource.loopStart=me._start||0,me._node.bufferSource.loopEnd=me._stop,T.playing(ce[se])&&(T.pause(ce[se],!0),T.play(ce[se],!0)))));return T},rate:function(){var H,ie,se,T=this,F=arguments;if(0===F.length)ie=T._sounds[0]._id;else if(1===F.length){var me=T._getSoundIds(),ce=me.indexOf(F[0]);ce>=0?ie=parseInt(F[0],10):H=parseFloat(F[0])}else 2===F.length&&(H=parseFloat(F[0]),ie=parseInt(F[1],10));if("number"!=typeof H)return(se=T._soundById(ie))?se._rate:T._rate;if("loaded"!==T._state||T._playLock)return T._queue.push({event:"rate",action:function(){T.rate.apply(T,F)}}),T;void 0===ie&&(T._rate=H),ie=T._getSoundIds(ie);for(var je=0;je<ie.length;je++)if(se=T._soundById(ie[je])){T.playing(ie[je])&&(se._rateSeek=T.seek(ie[je]),se._playStart=T._webAudio?R.ctx.currentTime:se._playStart),se._rate=H,T._webAudio&&se._node&&se._node.bufferSource?se._node.bufferSource.playbackRate.setValueAtTime(H,R.ctx.currentTime):se._node&&(se._node.playbackRate=H);var Qe=T.seek(ie[je]),We=(T._sprite[se._sprite][0]+T._sprite[se._sprite][1])/1e3-Qe,Ye=1e3*We/Math.abs(se._rate);(T._endTimers[ie[je]]||!se._paused)&&(T._clearTimer(ie[je]),T._endTimers[ie[je]]=setTimeout(T._ended.bind(T,se),Ye)),T._emit("rate",se._id)}return T},seek:function(){var H,ie,T=this,F=arguments;if(0===F.length)T._sounds.length&&(ie=T._sounds[0]._id);else if(1===F.length){var me=T._getSoundIds(),ce=me.indexOf(F[0]);ce>=0?ie=parseInt(F[0],10):T._sounds.length&&(ie=T._sounds[0]._id,H=parseFloat(F[0]))}else 2===F.length&&(H=parseFloat(F[0]),ie=parseInt(F[1],10));if(void 0===ie)return 0;if("number"==typeof H&&("loaded"!==T._state||T._playLock))return T._queue.push({event:"seek",action:function(){T.seek.apply(T,F)}}),T;var se=T._soundById(ie);if(se){if(!("number"==typeof H&&H>=0)){if(T._webAudio){var Ye=T.playing(ie)?R.ctx.currentTime-se._playStart:0,ze=se._rateSeek?se._rateSeek-se._seek:0;return se._seek+(ze+Ye*Math.abs(se._rate))}return se._node.currentTime}var je=T.playing(ie);je&&T.pause(ie,!0),se._seek=H,se._ended=!1,T._clearTimer(ie),!T._webAudio&&se._node&&!isNaN(se._node.duration)&&(se._node.currentTime=H);var Qe=function(){je&&T.play(ie,!0),T._emit("seek",ie)};if(je&&!T._webAudio){var We=function(){T._playLock?setTimeout(We,0):Qe()};setTimeout(We,0)}else Qe()}return T},playing:function(T){var F=this;if("number"==typeof T){var H=F._soundById(T);return!!H&&!H._paused}for(var ie=0;ie<F._sounds.length;ie++)if(!F._sounds[ie]._paused)return!0;return!1},duration:function(T){var F=this,H=F._duration,ie=F._soundById(T);return ie&&(H=F._sprite[ie._sprite][1]/1e3),H},state:function(){return this._state},unload:function(){for(var T=this,F=T._sounds,H=0;H<F.length;H++)F[H]._paused||T.stop(F[H]._id),T._webAudio||(T._clearSound(F[H]._node),F[H]._node.removeEventListener("error",F[H]._errorFn,!1),F[H]._node.removeEventListener(R._canPlayEvent,F[H]._loadFn,!1),F[H]._node.removeEventListener("ended",F[H]._endFn,!1),R._releaseHtml5Audio(F[H]._node)),delete F[H]._node,T._clearTimer(F[H]._id);var ie=R._howls.indexOf(T);ie>=0&&R._howls.splice(ie,1);var me=!0;for(H=0;H<R._howls.length;H++)if(R._howls[H]._src===T._src||T._src.indexOf(R._howls[H]._src)>=0){me=!1;break}return Ce&&me&&delete Ce[T._src],R.noAudio=!1,T._state="unloaded",T._sounds=[],T=null,null},on:function(T,F,H,ie){return"function"==typeof F&&this["_on"+T].push(ie?{id:H,fn:F,once:ie}:{id:H,fn:F}),this},off:function(T,F,H){var ie=this,me=ie["_on"+T],ce=0;if("number"==typeof F&&(H=F,F=null),F||H)for(ce=0;ce<me.length;ce++){var se=H===me[ce].id;if(F===me[ce].fn&&se||!F&&se){me.splice(ce,1);break}}else if(T)ie["_on"+T]=[];else{var je=Object.keys(ie);for(ce=0;ce<je.length;ce++)0===je[ce].indexOf("_on")&&Array.isArray(ie[je[ce]])&&(ie[je[ce]]=[])}return ie},once:function(T,F,H){return this.on(T,F,H,1),this},_emit:function(T,F,H){for(var ie=this,me=ie["_on"+T],ce=me.length-1;ce>=0;ce--)(!me[ce].id||me[ce].id===F||"load"===T)&&(setTimeout(function(se){se.call(this,F,H)}.bind(ie,me[ce].fn),0),me[ce].once&&ie.off(T,me[ce].fn,me[ce].id));return ie._loadQueue(T),ie},_loadQueue:function(T){var F=this;if(F._queue.length>0){var H=F._queue[0];H.event===T&&(F._queue.shift(),F._loadQueue()),T||H.action()}return F},_ended:function(T){var F=this,H=T._sprite;if(!F._webAudio&&T._node&&!T._node.paused&&!T._node.ended&&T._node.currentTime<T._stop)return setTimeout(F._ended.bind(F,T),100),F;var ie=!(!T._loop&&!F._sprite[H][2]);if(F._emit("end",T._id),!F._webAudio&&ie&&F.stop(T._id,!0).play(T._id),F._webAudio&&ie){F._emit("play",T._id),T._seek=T._start||0,T._rateSeek=0,T._playStart=R.ctx.currentTime;var me=1e3*(T._stop-T._start)/Math.abs(T._rate);F._endTimers[T._id]=setTimeout(F._ended.bind(F,T),me)}return F._webAudio&&!ie&&(T._paused=!0,T._ended=!0,T._seek=T._start||0,T._rateSeek=0,F._clearTimer(T._id),F._cleanBuffer(T._node),R._autoSuspend()),!F._webAudio&&!ie&&F.stop(T._id,!0),F},_clearTimer:function(T){var F=this;if(F._endTimers[T]){if("function"!=typeof F._endTimers[T])clearTimeout(F._endTimers[T]);else{var H=F._soundById(T);H&&H._node&&H._node.removeEventListener("ended",F._endTimers[T],!1)}delete F._endTimers[T]}return F},_soundById:function(T){for(var F=this,H=0;H<F._sounds.length;H++)if(T===F._sounds[H]._id)return F._sounds[H];return null},_inactiveSound:function(){var T=this;T._drain();for(var F=0;F<T._sounds.length;F++)if(T._sounds[F]._ended)return T._sounds[F].reset();return new ne(T)},_drain:function(){var T=this,F=T._pool,H=0,ie=0;if(!(T._sounds.length<F)){for(ie=0;ie<T._sounds.length;ie++)T._sounds[ie]._ended&&H++;for(ie=T._sounds.length-1;ie>=0;ie--){if(H<=F)return;T._sounds[ie]._ended&&(T._webAudio&&T._sounds[ie]._node&&T._sounds[ie]._node.disconnect(0),T._sounds.splice(ie,1),H--)}}},_getSoundIds:function(T){if(void 0===T){for(var H=[],ie=0;ie<this._sounds.length;ie++)H.push(this._sounds[ie]._id);return H}return[T]},_refreshBuffer:function(T){return T._node.bufferSource=R.ctx.createBufferSource(),T._node.bufferSource.buffer=Ce[this._src],T._node.bufferSource.connect(T._panner?T._panner:T._node),T._node.bufferSource.loop=T._loop,T._loop&&(T._node.bufferSource.loopStart=T._start||0,T._node.bufferSource.loopEnd=T._stop||0),T._node.bufferSource.playbackRate.setValueAtTime(T._rate,R.ctx.currentTime),this},_cleanBuffer:function(T){var H=R._navigator&&R._navigator.vendor.indexOf("Apple")>=0;if(R._scratchBuffer&&T.bufferSource&&(T.bufferSource.onended=null,T.bufferSource.disconnect(0),H))try{T.bufferSource.buffer=R._scratchBuffer}catch(ie){}return T.bufferSource=null,this},_clearSound:function(T){/MSIE |Trident\//.test(R._navigator&&R._navigator.userAgent)||(T.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var ne=function(T){this._parent=T,this.init()};ne.prototype={init:function(){var T=this,F=T._parent;return T._muted=F._muted,T._loop=F._loop,T._volume=F._volume,T._rate=F._rate,T._seek=0,T._paused=!0,T._ended=!0,T._sprite="__default",T._id=++R._counter,F._sounds.push(T),T.create(),T},create:function(){var T=this,F=T._parent,H=R._muted||T._muted||T._parent._muted?0:T._volume;return F._webAudio?(T._node=void 0===R.ctx.createGain?R.ctx.createGainNode():R.ctx.createGain(),T._node.gain.setValueAtTime(H,R.ctx.currentTime),T._node.paused=!0,T._node.connect(R.masterGain)):R.noAudio||(T._node=R._obtainHtml5Audio(),T._errorFn=T._errorListener.bind(T),T._node.addEventListener("error",T._errorFn,!1),T._loadFn=T._loadListener.bind(T),T._node.addEventListener(R._canPlayEvent,T._loadFn,!1),T._endFn=T._endListener.bind(T),T._node.addEventListener("ended",T._endFn,!1),T._node.src=F._src,T._node.preload=!0===F._preload?"auto":F._preload,T._node.volume=H*R.volume(),T._node.load()),T},reset:function(){var T=this,F=T._parent;return T._muted=F._muted,T._loop=F._loop,T._volume=F._volume,T._rate=F._rate,T._seek=0,T._rateSeek=0,T._paused=!0,T._ended=!0,T._sprite="__default",T._id=++R._counter,T},_errorListener:function(){var T=this;T._parent._emit("loaderror",T._id,T._node.error?T._node.error.code:0),T._node.removeEventListener("error",T._errorFn,!1)},_loadListener:function(){var T=this,F=T._parent;F._duration=Math.ceil(10*T._node.duration)/10,0===Object.keys(F._sprite).length&&(F._sprite={__default:[0,1e3*F._duration]}),"loaded"!==F._state&&(F._state="loaded",F._emit("load"),F._loadQueue()),T._node.removeEventListener(R._canPlayEvent,T._loadFn,!1)},_endListener:function(){var T=this,F=T._parent;F._duration===1/0&&(F._duration=Math.ceil(10*T._node.duration)/10,F._sprite.__default[1]===1/0&&(F._sprite.__default[1]=1e3*F._duration),F._ended(T)),T._node.removeEventListener("ended",T._endFn,!1)}};var Ce={},be=function(T){var F=T._src;if(Ce[F])return T._duration=Ce[F].duration,void ee(T);if(/^data:[^;]+;base64,/.test(F)){for(var H=atob(F.split(",")[1]),ie=new Uint8Array(H.length),me=0;me<H.length;++me)ie[me]=H.charCodeAt(me);De(ie.buffer,T)}else{var ce=new XMLHttpRequest;ce.open(T._xhr.method,F,!0),ce.withCredentials=T._xhr.withCredentials,ce.responseType="arraybuffer",T._xhr.headers&&Object.keys(T._xhr.headers).forEach(function(se){ce.setRequestHeader(se,T._xhr.headers[se])}),ce.onload=function(){var se=(ce.status+"")[0];"0"===se||"2"===se||"3"===se?De(ce.response,T):T._emit("loaderror",null,"Failed loading audio file with status: "+ce.status+".")},ce.onerror=function(){T._webAudio&&(T._html5=!0,T._webAudio=!1,T._sounds=[],delete Ce[F],T.load())},xe(ce)}},xe=function(T){try{T.send()}catch(F){T.onerror()}},De=function(T,F){var H=function(){F._emit("loaderror",null,"Decoding audio data failed.")},ie=function(me){me&&F._sounds.length>0?(Ce[F._src]=me,ee(F,me)):H()};"undefined"!=typeof Promise&&1===R.ctx.decodeAudioData.length?R.ctx.decodeAudioData(T).then(ie).catch(H):R.ctx.decodeAudioData(T,ie,H)},ee=function(T,F){F&&!T._duration&&(T._duration=F.duration),0===Object.keys(T._sprite).length&&(T._sprite={__default:[0,1e3*T._duration]}),"loaded"!==T._state&&(T._state="loaded",T._emit("load"),T._loadQueue())},de=function(){if(R.usingWebAudio){try{"undefined"!=typeof AudioContext?R.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?R.ctx=new webkitAudioContext:R.usingWebAudio=!1}catch(me){R.usingWebAudio=!1}R.ctx||(R.usingWebAudio=!1);var T=/iP(hone|od|ad)/.test(R._navigator&&R._navigator.platform),F=R._navigator&&R._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),H=F?parseInt(F[1],10):null;if(T&&H&&H<9){var ie=/safari/.test(R._navigator&&R._navigator.userAgent.toLowerCase());R._navigator&&!ie&&(R.usingWebAudio=!1)}R.usingWebAudio&&(R.masterGain=void 0===R.ctx.createGain?R.ctx.createGainNode():R.ctx.createGain(),R.masterGain.gain.setValueAtTime(R._muted?0:R._volume,R.ctx.currentTime),R.masterGain.connect(R.ctx.destination)),R._setup()}};void 0!==(h=function(){return{Howler:R,Howl:G}}.apply($e,[]))&&(Ot.exports=h),$e.Howler=R,$e.Howl=G,"undefined"!=typeof global?(global.HowlerGlobal=P,global.Howler=R,global.Howl=G,global.Sound=ne):"undefined"!=typeof window&&(window.HowlerGlobal=P,window.Howler=R,window.Howl=G,window.Sound=ne)}(),function(){"use strict";var R;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(R){var G=this;if(!G.ctx||!G.ctx.listener)return G;for(var ne=G._howls.length-1;ne>=0;ne--)G._howls[ne].stereo(R);return G},HowlerGlobal.prototype.pos=function(R,G,ne){var Ce=this;return Ce.ctx&&Ce.ctx.listener?"number"!=typeof R?Ce._pos:(Ce._pos=[R,G="number"!=typeof G?Ce._pos[1]:G,ne="number"!=typeof ne?Ce._pos[2]:ne],void 0!==Ce.ctx.listener.positionX?(Ce.ctx.listener.positionX.setTargetAtTime(Ce._pos[0],Howler.ctx.currentTime,.1),Ce.ctx.listener.positionY.setTargetAtTime(Ce._pos[1],Howler.ctx.currentTime,.1),Ce.ctx.listener.positionZ.setTargetAtTime(Ce._pos[2],Howler.ctx.currentTime,.1)):Ce.ctx.listener.setPosition(Ce._pos[0],Ce._pos[1],Ce._pos[2]),Ce):Ce},HowlerGlobal.prototype.orientation=function(R,G,ne,Ce,be,xe){var De=this;if(!De.ctx||!De.ctx.listener)return De;var ee=De._orientation;return"number"!=typeof R?ee:(De._orientation=[R,G="number"!=typeof G?ee[1]:G,ne="number"!=typeof ne?ee[2]:ne,Ce="number"!=typeof Ce?ee[3]:Ce,be="number"!=typeof be?ee[4]:be,xe="number"!=typeof xe?ee[5]:xe],void 0!==De.ctx.listener.forwardX?(De.ctx.listener.forwardX.setTargetAtTime(R,Howler.ctx.currentTime,.1),De.ctx.listener.forwardY.setTargetAtTime(G,Howler.ctx.currentTime,.1),De.ctx.listener.forwardZ.setTargetAtTime(ne,Howler.ctx.currentTime,.1),De.ctx.listener.upX.setTargetAtTime(Ce,Howler.ctx.currentTime,.1),De.ctx.listener.upY.setTargetAtTime(be,Howler.ctx.currentTime,.1),De.ctx.listener.upZ.setTargetAtTime(xe,Howler.ctx.currentTime,.1)):De.ctx.listener.setOrientation(R,G,ne,Ce,be,xe),De)},Howl.prototype.init=(R=Howl.prototype.init,function(G){var ne=this;return ne._orientation=G.orientation||[1,0,0],ne._stereo=G.stereo||null,ne._pos=G.pos||null,ne._pannerAttr={coneInnerAngle:void 0!==G.coneInnerAngle?G.coneInnerAngle:360,coneOuterAngle:void 0!==G.coneOuterAngle?G.coneOuterAngle:360,coneOuterGain:void 0!==G.coneOuterGain?G.coneOuterGain:0,distanceModel:void 0!==G.distanceModel?G.distanceModel:"inverse",maxDistance:void 0!==G.maxDistance?G.maxDistance:1e4,panningModel:void 0!==G.panningModel?G.panningModel:"HRTF",refDistance:void 0!==G.refDistance?G.refDistance:1,rolloffFactor:void 0!==G.rolloffFactor?G.rolloffFactor:1},ne._onstereo=G.onstereo?[{fn:G.onstereo}]:[],ne._onpos=G.onpos?[{fn:G.onpos}]:[],ne._onorientation=G.onorientation?[{fn:G.onorientation}]:[],R.call(this,G)}),Howl.prototype.stereo=function(R,G){var ne=this;if(!ne._webAudio)return ne;if("loaded"!==ne._state)return ne._queue.push({event:"stereo",action:function(){ne.stereo(R,G)}}),ne;var Ce=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===G){if("number"!=typeof R)return ne._stereo;ne._stereo=R,ne._pos=[R,0,0]}for(var be=ne._getSoundIds(G),xe=0;xe<be.length;xe++){var De=ne._soundById(be[xe]);if(De){if("number"!=typeof R)return De._stereo;De._stereo=R,De._pos=[R,0,0],De._node&&(De._pannerAttr.panningModel="equalpower",(!De._panner||!De._panner.pan)&&P(De,Ce),"spatial"===Ce?void 0!==De._panner.positionX?(De._panner.positionX.setValueAtTime(R,Howler.ctx.currentTime),De._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),De._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):De._panner.setPosition(R,0,0):De._panner.pan.setValueAtTime(R,Howler.ctx.currentTime)),ne._emit("stereo",De._id)}}return ne},Howl.prototype.pos=function(R,G,ne,Ce){var be=this;if(!be._webAudio)return be;if("loaded"!==be._state)return be._queue.push({event:"pos",action:function(){be.pos(R,G,ne,Ce)}}),be;if(G="number"!=typeof G?0:G,ne="number"!=typeof ne?-.5:ne,void 0===Ce){if("number"!=typeof R)return be._pos;be._pos=[R,G,ne]}for(var xe=be._getSoundIds(Ce),De=0;De<xe.length;De++){var ee=be._soundById(xe[De]);if(ee){if("number"!=typeof R)return ee._pos;ee._pos=[R,G,ne],ee._node&&((!ee._panner||ee._panner.pan)&&P(ee,"spatial"),void 0!==ee._panner.positionX?(ee._panner.positionX.setValueAtTime(R,Howler.ctx.currentTime),ee._panner.positionY.setValueAtTime(G,Howler.ctx.currentTime),ee._panner.positionZ.setValueAtTime(ne,Howler.ctx.currentTime)):ee._panner.setPosition(R,G,ne)),be._emit("pos",ee._id)}}return be},Howl.prototype.orientation=function(R,G,ne,Ce){var be=this;if(!be._webAudio)return be;if("loaded"!==be._state)return be._queue.push({event:"orientation",action:function(){be.orientation(R,G,ne,Ce)}}),be;if(G="number"!=typeof G?be._orientation[1]:G,ne="number"!=typeof ne?be._orientation[2]:ne,void 0===Ce){if("number"!=typeof R)return be._orientation;be._orientation=[R,G,ne]}for(var xe=be._getSoundIds(Ce),De=0;De<xe.length;De++){var ee=be._soundById(xe[De]);if(ee){if("number"!=typeof R)return ee._orientation;ee._orientation=[R,G,ne],ee._node&&(ee._panner||(ee._pos||(ee._pos=be._pos||[0,0,-.5]),P(ee,"spatial")),void 0!==ee._panner.orientationX?(ee._panner.orientationX.setValueAtTime(R,Howler.ctx.currentTime),ee._panner.orientationY.setValueAtTime(G,Howler.ctx.currentTime),ee._panner.orientationZ.setValueAtTime(ne,Howler.ctx.currentTime)):ee._panner.setOrientation(R,G,ne)),be._emit("orientation",ee._id)}}return be},Howl.prototype.pannerAttr=function(){var ne,Ce,be,R=this,G=arguments;if(!R._webAudio)return R;if(0===G.length)return R._pannerAttr;if(1===G.length){if("object"!=typeof G[0])return(be=R._soundById(parseInt(G[0],10)))?be._pannerAttr:R._pannerAttr;ne=G[0],void 0===Ce&&(ne.pannerAttr||(ne.pannerAttr={coneInnerAngle:ne.coneInnerAngle,coneOuterAngle:ne.coneOuterAngle,coneOuterGain:ne.coneOuterGain,distanceModel:ne.distanceModel,maxDistance:ne.maxDistance,refDistance:ne.refDistance,rolloffFactor:ne.rolloffFactor,panningModel:ne.panningModel}),R._pannerAttr={coneInnerAngle:void 0!==ne.pannerAttr.coneInnerAngle?ne.pannerAttr.coneInnerAngle:R._coneInnerAngle,coneOuterAngle:void 0!==ne.pannerAttr.coneOuterAngle?ne.pannerAttr.coneOuterAngle:R._coneOuterAngle,coneOuterGain:void 0!==ne.pannerAttr.coneOuterGain?ne.pannerAttr.coneOuterGain:R._coneOuterGain,distanceModel:void 0!==ne.pannerAttr.distanceModel?ne.pannerAttr.distanceModel:R._distanceModel,maxDistance:void 0!==ne.pannerAttr.maxDistance?ne.pannerAttr.maxDistance:R._maxDistance,refDistance:void 0!==ne.pannerAttr.refDistance?ne.pannerAttr.refDistance:R._refDistance,rolloffFactor:void 0!==ne.pannerAttr.rolloffFactor?ne.pannerAttr.rolloffFactor:R._rolloffFactor,panningModel:void 0!==ne.pannerAttr.panningModel?ne.pannerAttr.panningModel:R._panningModel})}else 2===G.length&&(ne=G[0],Ce=parseInt(G[1],10));for(var xe=R._getSoundIds(Ce),De=0;De<xe.length;De++)if(be=R._soundById(xe[De])){var ee=be._pannerAttr;ee={coneInnerAngle:void 0!==ne.coneInnerAngle?ne.coneInnerAngle:ee.coneInnerAngle,coneOuterAngle:void 0!==ne.coneOuterAngle?ne.coneOuterAngle:ee.coneOuterAngle,coneOuterGain:void 0!==ne.coneOuterGain?ne.coneOuterGain:ee.coneOuterGain,distanceModel:void 0!==ne.distanceModel?ne.distanceModel:ee.distanceModel,maxDistance:void 0!==ne.maxDistance?ne.maxDistance:ee.maxDistance,refDistance:void 0!==ne.refDistance?ne.refDistance:ee.refDistance,rolloffFactor:void 0!==ne.rolloffFactor?ne.rolloffFactor:ee.rolloffFactor,panningModel:void 0!==ne.panningModel?ne.panningModel:ee.panningModel};var de=be._panner;de?(de.coneInnerAngle=ee.coneInnerAngle,de.coneOuterAngle=ee.coneOuterAngle,de.coneOuterGain=ee.coneOuterGain,de.distanceModel=ee.distanceModel,de.maxDistance=ee.maxDistance,de.refDistance=ee.refDistance,de.rolloffFactor=ee.rolloffFactor,de.panningModel=ee.panningModel):(be._pos||(be._pos=R._pos||[0,0,-.5]),P(be,"spatial"))}return R},Sound.prototype.init=function(R){return function(){var G=this,ne=G._parent;G._orientation=ne._orientation,G._stereo=ne._stereo,G._pos=ne._pos,G._pannerAttr=ne._pannerAttr,R.call(this),G._stereo?ne.stereo(G._stereo):G._pos&&ne.pos(G._pos[0],G._pos[1],G._pos[2],G._id)}}(Sound.prototype.init),Sound.prototype.reset=function(R){return function(){var G=this,ne=G._parent;return G._orientation=ne._orientation,G._stereo=ne._stereo,G._pos=ne._pos,G._pannerAttr=ne._pannerAttr,G._stereo?ne.stereo(G._stereo):G._pos?ne.pos(G._pos[0],G._pos[1],G._pos[2],G._id):G._panner&&(G._panner.disconnect(0),G._panner=void 0,ne._refreshBuffer(G)),R.call(this)}}(Sound.prototype.reset);var P=function(R,G){"spatial"===(G=G||"spatial")?(R._panner=Howler.ctx.createPanner(),R._panner.coneInnerAngle=R._pannerAttr.coneInnerAngle,R._panner.coneOuterAngle=R._pannerAttr.coneOuterAngle,R._panner.coneOuterGain=R._pannerAttr.coneOuterGain,R._panner.distanceModel=R._pannerAttr.distanceModel,R._panner.maxDistance=R._pannerAttr.maxDistance,R._panner.refDistance=R._pannerAttr.refDistance,R._panner.rolloffFactor=R._pannerAttr.rolloffFactor,R._panner.panningModel=R._pannerAttr.panningModel,void 0!==R._panner.positionX?(R._panner.positionX.setValueAtTime(R._pos[0],Howler.ctx.currentTime),R._panner.positionY.setValueAtTime(R._pos[1],Howler.ctx.currentTime),R._panner.positionZ.setValueAtTime(R._pos[2],Howler.ctx.currentTime)):R._panner.setPosition(R._pos[0],R._pos[1],R._pos[2]),void 0!==R._panner.orientationX?(R._panner.orientationX.setValueAtTime(R._orientation[0],Howler.ctx.currentTime),R._panner.orientationY.setValueAtTime(R._orientation[1],Howler.ctx.currentTime),R._panner.orientationZ.setValueAtTime(R._orientation[2],Howler.ctx.currentTime)):R._panner.setOrientation(R._orientation[0],R._orientation[1],R._orientation[2])):(R._panner=Howler.ctx.createStereoPanner(),R._panner.pan.setValueAtTime(R._stereo,Howler.ctx.currentTime)),R._panner.connect(R._node),R._paused||R._parent.pause(R._id,!0).play(R._id,!0)}}()},5599:(Ot,$e,$)=>{"use strict";$.r($e),$.d($e,{Children:()=>qn,Component:()=>h.Component,Fragment:()=>h.Fragment,PureComponent:()=>ke,StrictMode:()=>ue,Suspense:()=>Cn,SuspenseList:()=>Ve,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:()=>un,cloneElement:()=>Pr,createContext:()=>h.createContext,createElement:()=>h.createElement,createFactory:()=>Rt,createPortal:()=>Lt,createRef:()=>h.createRef,default:()=>ve,findDOMNode:()=>wr,flushSync:()=>Tn,forwardRef:()=>xt,hydrate:()=>Xt,isValidElement:()=>tr,lazy:()=>Ee,memo:()=>Wt,render:()=>Dt,unmountComponentAtNode:()=>_n,unstable_batchedUpdates:()=>rr,useCallback:()=>Qe,useContext:()=>We,useDebugValue:()=>Ye,useEffect:()=>ie,useErrorBoundary:()=>ze,useImperativeHandle:()=>se,useLayoutEffect:()=>me,useMemo:()=>je,useReducer:()=>H,useRef:()=>ce,useState:()=>F,version:()=>qt});var P,R,G,h=$(3580),ne=0,Ce=[],be=h.options.__b,xe=h.options.__r,De=h.options.diffed,ee=h.options.__c,de=h.options.unmount;function T(B,Y){h.options.__h&&h.options.__h(R,B,ne||Y),ne=0;var W=R.__H||(R.__H={__:[],__h:[]});return B>=W.__.length&&W.__.push({}),W.__[B]}function F(B){return ne=1,H(Oe,B)}function H(B,Y,W){var le=T(P++,2);return le.t=B,le.__c||(le.__=[W?W(Y):Oe(void 0,Y),function(ae){var ge=le.t(le.__[0],ae);le.__[0]!==ge&&(le.__=[ge,le.__[1]],le.__c.setState({}))}],le.__c=R),le.__}function ie(B,Y){var W=T(P++,3);!h.options.__s&&Ie(W.__H,Y)&&(W.__=B,W.__H=Y,R.__H.__h.push(W))}function me(B,Y){var W=T(P++,4);!h.options.__s&&Ie(W.__H,Y)&&(W.__=B,W.__H=Y,R.__h.push(W))}function ce(B){return ne=5,je(function(){return{current:B}},[])}function se(B,Y,W){ne=6,me(function(){return"function"==typeof B?(B(Y()),function(){return B(null)}):B?(B.current=Y(),function(){return B.current=null}):void 0},null==W?W:W.concat(B))}function je(B,Y){var W=T(P++,7);return Ie(W.__H,Y)&&(W.__=B(),W.__H=Y,W.__h=B),W.__}function Qe(B,Y){return ne=8,je(function(){return B},Y)}function We(B){var Y=R.context[B.__c],W=T(P++,9);return W.c=B,Y?(null==W.__&&(W.__=!0,Y.sub(R)),Y.props.value):B.__}function Ye(B,Y){h.options.useDebugValue&&h.options.useDebugValue(Y?Y(B):B)}function ze(B){var Y=T(P++,10),W=F();return Y.__=B,R.componentDidCatch||(R.componentDidCatch=function(le){Y.__&&Y.__(le),W[1](le)}),[W[0],function(){W[1](void 0)}]}function mt(){for(var B;B=Ce.shift();)if(B.__P)try{B.__H.__h.forEach(Re),B.__H.__h.forEach(fe),B.__H.__h=[]}catch(Y){B.__H.__h=[],h.options.__e(Y,B.__v)}}h.options.__b=function(B){R=null,be&&be(B)},h.options.__r=function(B){xe&&xe(B),P=0;var Y=(R=B.__c).__H;Y&&(Y.__h.forEach(Re),Y.__h.forEach(fe),Y.__h=[])},h.options.diffed=function(B){De&&De(B);var Y=B.__c;Y&&Y.__H&&Y.__H.__h.length&&(1!==Ce.push(Y)&&G===h.options.requestAnimationFrame||((G=h.options.requestAnimationFrame)||function(W){var le,ae=function(){clearTimeout(ge),Te&&cancelAnimationFrame(le),setTimeout(W)},ge=setTimeout(ae,100);Te&&(le=requestAnimationFrame(ae))})(mt)),R=null},h.options.__c=function(B,Y){Y.some(function(W){try{W.__h.forEach(Re),W.__h=W.__h.filter(function(le){return!le.__||fe(le)})}catch(le){Y.some(function(ae){ae.__h&&(ae.__h=[])}),Y=[],h.options.__e(le,W.__v)}}),ee&&ee(B,Y)},h.options.unmount=function(B){de&&de(B);var Y,W=B.__c;W&&W.__H&&(W.__H.__.forEach(function(le){try{Re(le)}catch(ae){Y=ae}}),Y&&h.options.__e(Y,W.__v))};var Te="function"==typeof requestAnimationFrame;function Re(B){var Y=R,W=B.__c;"function"==typeof W&&(B.__c=void 0,W()),R=Y}function fe(B){var Y=R;B.__c=B.__(),R=Y}function Ie(B,Y){return!B||B.length!==Y.length||Y.some(function(W,le){return W!==B[le]})}function Oe(B,Y){return"function"==typeof Y?Y(B):Y}function Be(B,Y){for(var W in Y)B[W]=Y[W];return B}function Xe(B,Y){for(var W in B)if("__source"!==W&&!(W in Y))return!0;for(var le in Y)if("__source"!==le&&B[le]!==Y[le])return!0;return!1}function ke(B){this.props=B}function Wt(B,Y){function W(ae){var ge=this.props.ref,Pe=ge==ae.ref;return!Pe&&ge&&(ge.call?ge(null):ge.current=null),Y?!Y(this.props,ae)||!Pe:Xe(this.props,ae)}function le(ae){return this.shouldComponentUpdate=W,(0,h.createElement)(B,ae)}return le.displayName="Memo("+(B.displayName||B.name)+")",le.prototype.isReactComponent=!0,le.__f=!0,le}(ke.prototype=new h.Component).isPureReactComponent=!0,ke.prototype.shouldComponentUpdate=function(B,Y){return Xe(this.props,B)||Xe(this.state,Y)};var Jt=h.options.__b;h.options.__b=function(B){B.type&&B.type.__f&&B.ref&&(B.props.ref=B.ref,B.ref=null),Jt&&Jt(B)};var Xn="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function xt(B){function Y(W){var le=Be({},W);return delete le.ref,B(le,W.ref||null)}return Y.$$typeof=Xn,Y.render=Y,Y.prototype.isReactComponent=Y.__f=!0,Y.displayName="ForwardRef("+(B.displayName||B.name)+")",Y}var Ut=function(B,Y){return null==B?null:(0,h.toChildArray)((0,h.toChildArray)(B).map(Y))},qn={map:Ut,forEach:Ut,count:function(B){return B?(0,h.toChildArray)(B).length:0},only:function(B){var Y=(0,h.toChildArray)(B);if(1!==Y.length)throw"Children.only";return Y[0]},toArray:h.toChildArray},Hn=h.options.__e;h.options.__e=function(B,Y,W,le){if(B.then)for(var ae,ge=Y;ge=ge.__;)if((ae=ge.__c)&&ae.__c)return null==Y.__e&&(Y.__e=W.__e,Y.__k=W.__k),ae.__c(B,Y);Hn(B,Y,W,le)};var Ar=h.options.unmount;function Cn(){this.__u=0,this.t=null,this.__b=null}function Ae(B){var Y=B.__.__c;return Y&&Y.__e&&Y.__e(B)}function Ee(B){var Y,W,le;function ae(ge){if(Y||(Y=B()).then(function(Pe){W=Pe.default||Pe},function(Pe){le=Pe}),le)throw le;if(!W)throw Y;return(0,h.createElement)(W,ge)}return ae.displayName="Lazy",ae.__f=!0,ae}function Ve(){this.u=null,this.o=null}h.options.unmount=function(B){var Y=B.__c;Y&&Y.__R&&Y.__R(),Y&&!0===B.__h&&(B.type=null),Ar&&Ar(B)},(Cn.prototype=new h.Component).__c=function(B,Y){var W=Y.__c,le=this;null==le.t&&(le.t=[]),le.t.push(W);var ae=Ae(le.__v),ge=!1,Pe=function(){ge||(ge=!0,W.__R=null,ae?ae(st):st())};W.__R=Pe;var st=function(){if(!--le.__u){if(le.state.__e){var ut=le.state.__e;le.__v.__k[0]=function Se(pe,he,et){return pe&&(pe.__v=null,pe.__k=pe.__k&&pe.__k.map(function(bt){return Se(bt,he,et)}),pe.__c&&pe.__c.__P===he&&(pe.__e&&et.insertBefore(pe.__e,pe.__d),pe.__c.__e=!0,pe.__c.__P=et)),pe}(ut,ut.__c.__P,ut.__c.__O)}var $t;for(le.setState({__e:le.__b=null});$t=le.t.pop();)$t.forceUpdate()}},pt=!0===Y.__h;le.__u++||pt||le.setState({__e:le.__b=le.__v.__k[0]}),B.then(Pe,Pe)},Cn.prototype.componentWillUnmount=function(){this.t=[]},Cn.prototype.render=function(B,Y){if(this.__b){if(this.__v.__k){var W=document.createElement("div"),le=this.__v.__k[0].__c;this.__v.__k[0]=function ge(Pe,st,pt){return Pe&&(Pe.__c&&Pe.__c.__H&&(Pe.__c.__H.__.forEach(function(ut){"function"==typeof ut.__c&&ut.__c()}),Pe.__c.__H=null),null!=(Pe=Be({},Pe)).__c&&(Pe.__c.__P===pt&&(Pe.__c.__P=st),Pe.__c=null),Pe.__k=Pe.__k&&Pe.__k.map(function(ut){return ge(ut,st,pt)})),Pe}(this.__b,W,le.__O=le.__P)}this.__b=null}var ae=Y.__e&&(0,h.createElement)(h.Fragment,null,B.fallback);return ae&&(ae.__h=null),[(0,h.createElement)(h.Fragment,null,Y.__e?null:B.children),ae]};var lt=function(B,Y,W){if(++W[1]===W[0]&&B.o.delete(Y),B.props.revealOrder&&("t"!==B.props.revealOrder[0]||!B.o.size))for(W=B.u;W;){for(;W.length>3;)W.pop()();if(W[1]<W[0])break;B.u=W=W[2]}};function Ct(B){return this.getChildContext=function(){return B.context},B.children}function qe(B){var Y=this,W=B.i;Y.componentWillUnmount=function(){(0,h.render)(null,Y.l),Y.l=null,Y.i=null},Y.i&&Y.i!==W&&Y.componentWillUnmount(),B.__v?(Y.l||(Y.i=W,Y.l={nodeType:1,parentNode:W,childNodes:[],appendChild:function(le){this.childNodes.push(le),Y.i.appendChild(le)},insertBefore:function(le,ae){this.childNodes.push(le),Y.i.appendChild(le)},removeChild:function(le){this.childNodes.splice(this.childNodes.indexOf(le)>>>1,1),Y.i.removeChild(le)}}),(0,h.render)((0,h.createElement)(Ct,{context:Y.context},B.__v),Y.l)):Y.l&&Y.componentWillUnmount()}function Lt(B,Y){var W=(0,h.createElement)(qe,{__v:B,i:Y});return W.containerInfo=Y,W}(Ve.prototype=new h.Component).__e=function(B){var Y=this,W=Ae(Y.__v),le=Y.o.get(B);return le[0]++,function(ae){var ge=function(){Y.props.revealOrder?(le.push(ae),lt(Y,B,le)):ae()};W?W(ge):ge()}},Ve.prototype.render=function(B){this.u=null,this.o=new Map;var Y=(0,h.toChildArray)(B.children);B.revealOrder&&"b"===B.revealOrder[0]&&Y.reverse();for(var W=Y.length;W--;)this.o.set(Y[W],this.u=[1,0,this.u]);return B.children},Ve.prototype.componentDidUpdate=Ve.prototype.componentDidMount=function(){var B=this;this.o.forEach(function(Y,W){lt(B,W,Y)})};var on="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,pn=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,fn="undefined"!=typeof document,Ze=function(B){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(B)};function Dt(B,Y,W){return null==Y.__k&&(Y.textContent=""),(0,h.render)(B,Y),"function"==typeof W&&W(),B?B.__c:null}function Xt(B,Y,W){return(0,h.hydrate)(B,Y),"function"==typeof W&&W(),B?B.__c:null}h.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(B){Object.defineProperty(h.Component.prototype,B,{configurable:!0,get:function(){return this["UNSAFE_"+B]},set:function(Y){Object.defineProperty(this,B,{configurable:!0,writable:!0,value:Y})}})});var vt=h.options.event;function Vt(){}function er(){return this.cancelBubble}function bn(){return this.defaultPrevented}h.options.event=function(B){return vt&&(B=vt(B)),B.persist=Vt,B.isPropagationStopped=er,B.isDefaultPrevented=bn,B.nativeEvent=B};var xn,Dn={configurable:!0,get:function(){return this.class}},$n=h.options.vnode;h.options.vnode=function(B){var Y=B.type,W=B.props,le=W;if("string"==typeof Y){var ae=-1===Y.indexOf("-");for(var ge in le={},W){var Pe=W[ge];fn&&"children"===ge&&"noscript"===Y||"value"===ge&&"defaultValue"in W&&null==Pe||("defaultValue"===ge&&"value"in W&&null==W.value?ge="value":"download"===ge&&!0===Pe?Pe="":/ondoubleclick/i.test(ge)?ge="ondblclick":/^onchange(textarea|input)/i.test(ge+Y)&&!Ze(W.type)?ge="oninput":/^onfocus$/i.test(ge)?ge="onfocusin":/^onblur$/i.test(ge)?ge="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(ge)?ge=ge.toLowerCase():ae&&pn.test(ge)?ge=ge.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===Pe&&(Pe=void 0),le[ge]=Pe)}"select"==Y&&le.multiple&&Array.isArray(le.value)&&(le.value=(0,h.toChildArray)(W.children).forEach(function(st){st.props.selected=-1!=le.value.indexOf(st.props.value)})),"select"==Y&&null!=le.defaultValue&&(le.value=(0,h.toChildArray)(W.children).forEach(function(st){st.props.selected=le.multiple?-1!=le.defaultValue.indexOf(st.props.value):le.defaultValue==st.props.value})),B.props=le,W.class!=W.className&&(Dn.enumerable="className"in W,null!=W.className&&(le.class=W.className),Object.defineProperty(le,"className",Dn))}B.$$typeof=on,$n&&$n(B)};var an=h.options.__r;h.options.__r=function(B){an&&an(B),xn=B.__c};var un={ReactCurrentDispatcher:{current:{readContext:function(B){return xn.__n[B.__c].props.value}}}},qt="17.0.2";function Rt(B){return h.createElement.bind(null,B)}function tr(B){return!!B&&B.$$typeof===on}function Pr(B){return tr(B)?h.cloneElement.apply(null,arguments):B}function _n(B){return!!B.__k&&((0,h.render)(null,B),!0)}function wr(B){return B&&(B.base||1===B.nodeType&&B)||null}var rr=function(B,Y){return B(Y)},Tn=function(B,Y){return B(Y)},ue=h.Fragment;const ve={useState:F,useReducer:H,useEffect:ie,useLayoutEffect:me,useRef:ce,useImperativeHandle:se,useMemo:je,useCallback:Qe,useContext:We,useDebugValue:Ye,version:"17.0.2",Children:qn,render:Dt,hydrate:Xt,unmountComponentAtNode:_n,createPortal:Lt,createElement:h.createElement,createContext:h.createContext,createFactory:Rt,cloneElement:Pr,createRef:h.createRef,Fragment:h.Fragment,isValidElement:tr,findDOMNode:wr,Component:h.Component,PureComponent:ke,memo:Wt,forwardRef:xt,flushSync:Tn,unstable_batchedUpdates:rr,StrictMode:h.Fragment,Suspense:Cn,SuspenseList:Ve,lazy:Ee,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:un}},3580:(Ot,$e,$)=>{"use strict";$.r($e),$.d($e,{Component:()=>se,Fragment:()=>ce,cloneElement:()=>Ar,createContext:()=>Cn,createElement:()=>H,createRef:()=>me,h:()=>H,hydrate:()=>Hn,isValidElement:()=>G,options:()=>P,render:()=>qn,toChildArray:()=>Te});var h,P,R,G,ne,Ce,be,xe,De={},ee=[],de=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function T(Ae,Ee){for(var Ve in Ee)Ae[Ve]=Ee[Ve];return Ae}function F(Ae){var Ee=Ae.parentNode;Ee&&Ee.removeChild(Ae)}function H(Ae,Ee,Ve){var lt,Ct,qe,Lt={};for(qe in Ee)"key"==qe?lt=Ee[qe]:"ref"==qe?Ct=Ee[qe]:Lt[qe]=Ee[qe];if(arguments.length>2&&(Lt.children=arguments.length>3?h.call(arguments,2):Ve),"function"==typeof Ae&&null!=Ae.defaultProps)for(qe in Ae.defaultProps)void 0===Lt[qe]&&(Lt[qe]=Ae.defaultProps[qe]);return ie(Ae,Lt,lt,Ct,null)}function ie(Ae,Ee,Ve,lt,Ct){var qe={type:Ae,props:Ee,key:Ve,ref:lt,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==Ct?++R:Ct};return null==Ct&&null!=P.vnode&&P.vnode(qe),qe}function me(){return{current:null}}function ce(Ae){return Ae.children}function se(Ae,Ee){this.props=Ae,this.context=Ee}function je(Ae,Ee){if(null==Ee)return Ae.__?je(Ae.__,Ae.__.__k.indexOf(Ae)+1):null;for(var Ve;Ee<Ae.__k.length;Ee++)if(null!=(Ve=Ae.__k[Ee])&&null!=Ve.__e)return Ve.__e;return"function"==typeof Ae.type?je(Ae):null}function Qe(Ae){var Ee,Ve;if(null!=(Ae=Ae.__)&&null!=Ae.__c){for(Ae.__e=Ae.__c.base=null,Ee=0;Ee<Ae.__k.length;Ee++)if(null!=(Ve=Ae.__k[Ee])&&null!=Ve.__e){Ae.__e=Ae.__c.base=Ve.__e;break}return Qe(Ae)}}function We(Ae){(!Ae.__d&&(Ae.__d=!0)&&ne.push(Ae)&&!Ye.__r++||be!==P.debounceRendering)&&((be=P.debounceRendering)||Ce)(Ye)}function Ye(){for(var Ae;Ye.__r=ne.length;)Ae=ne.sort(function(Ee,Ve){return Ee.__v.__b-Ve.__v.__b}),ne=[],Ae.some(function(Ee){var Ve,lt,Ct,qe,Lt,on;Ee.__d&&(Lt=(qe=(Ve=Ee).__v).__e,(on=Ve.__P)&&(lt=[],(Ct=T({},qe)).__v=qe.__v+1,ke(on,qe,Ct,Ve.__n,void 0!==on.ownerSVGElement,null!=qe.__h?[Lt]:null,lt,null==Lt?je(qe):Lt,qe.__h),Wt(lt,qe),qe.__e!=Lt&&Qe(qe)))})}function ze(Ae,Ee,Ve,lt,Ct,qe,Lt,on,pn,fn){var Ze,Dt,Xt,vt,Vt,er,bn,xn=lt&&lt.__k||ee,Dn=xn.length;for(Ve.__k=[],Ze=0;Ze<Ee.length;Ze++)if(null!=(vt=Ve.__k[Ze]=null==(vt=Ee[Ze])||"boolean"==typeof vt?null:"string"==typeof vt||"number"==typeof vt||"bigint"==typeof vt?ie(null,vt,null,null,vt):Array.isArray(vt)?ie(ce,{children:vt},null,null,null):vt.__b>0?ie(vt.type,vt.props,vt.key,null,vt.__v):vt)){if(vt.__=Ve,vt.__b=Ve.__b+1,null===(Xt=xn[Ze])||Xt&&vt.key==Xt.key&&vt.type===Xt.type)xn[Ze]=void 0;else for(Dt=0;Dt<Dn;Dt++){if((Xt=xn[Dt])&&vt.key==Xt.key&&vt.type===Xt.type){xn[Dt]=void 0;break}Xt=null}ke(Ae,vt,Xt=Xt||De,Ct,qe,Lt,on,pn,fn),Vt=vt.__e,(Dt=vt.ref)&&Xt.ref!=Dt&&(bn||(bn=[]),Xt.ref&&bn.push(Xt.ref,null,vt),bn.push(Dt,vt.__c||Vt,vt)),null!=Vt?(null==er&&(er=Vt),"function"==typeof vt.type&&vt.__k===Xt.__k?vt.__d=pn=mt(vt,pn,Ae):pn=Re(Ae,vt,Xt,xn,Vt,pn),"function"==typeof Ve.type&&(Ve.__d=pn)):pn&&Xt.__e==pn&&pn.parentNode!=Ae&&(pn=je(Xt))}for(Ve.__e=er,Ze=Dn;Ze--;)null!=xn[Ze]&&("function"==typeof Ve.type&&null!=xn[Ze].__e&&xn[Ze].__e==Ve.__d&&(Ve.__d=je(lt,Ze+1)),xt(xn[Ze],xn[Ze]));if(bn)for(Ze=0;Ze<bn.length;Ze++)Xn(bn[Ze],bn[++Ze],bn[++Ze])}function mt(Ae,Ee,Ve){for(var lt,Ct=Ae.__k,qe=0;Ct&&qe<Ct.length;qe++)(lt=Ct[qe])&&(lt.__=Ae,Ee="function"==typeof lt.type?mt(lt,Ee,Ve):Re(Ve,lt,lt,Ct,lt.__e,Ee));return Ee}function Te(Ae,Ee){return Ee=Ee||[],null==Ae||"boolean"==typeof Ae||(Array.isArray(Ae)?Ae.some(function(Ve){Te(Ve,Ee)}):Ee.push(Ae)),Ee}function Re(Ae,Ee,Ve,lt,Ct,qe){var Lt,on,pn;if(void 0!==Ee.__d)Lt=Ee.__d,Ee.__d=void 0;else if(null==Ve||Ct!=qe||null==Ct.parentNode)e:if(null==qe||qe.parentNode!==Ae)Ae.appendChild(Ct),Lt=null;else{for(on=qe,pn=0;(on=on.nextSibling)&&pn<lt.length;pn+=2)if(on==Ct)break e;Ae.insertBefore(Ct,qe),Lt=qe}return void 0!==Lt?Lt:Ct.nextSibling}function Ie(Ae,Ee,Ve){"-"===Ee[0]?Ae.setProperty(Ee,Ve):Ae[Ee]=null==Ve?"":"number"!=typeof Ve||de.test(Ee)?Ve:Ve+"px"}function Oe(Ae,Ee,Ve,lt,Ct){var qe;e:if("style"===Ee)if("string"==typeof Ve)Ae.style.cssText=Ve;else{if("string"==typeof lt&&(Ae.style.cssText=lt=""),lt)for(Ee in lt)Ve&&Ee in Ve||Ie(Ae.style,Ee,"");if(Ve)for(Ee in Ve)lt&&Ve[Ee]===lt[Ee]||Ie(Ae.style,Ee,Ve[Ee])}else if("o"===Ee[0]&&"n"===Ee[1])qe=Ee!==(Ee=Ee.replace(/Capture$/,"")),Ee=Ee.toLowerCase()in Ae?Ee.toLowerCase().slice(2):Ee.slice(2),Ae.l||(Ae.l={}),Ae.l[Ee+qe]=Ve,Ve?lt||Ae.addEventListener(Ee,qe?Xe:Be,qe):Ae.removeEventListener(Ee,qe?Xe:Be,qe);else if("dangerouslySetInnerHTML"!==Ee){if(Ct)Ee=Ee.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==Ee&&"list"!==Ee&&"form"!==Ee&&"tabIndex"!==Ee&&"download"!==Ee&&Ee in Ae)try{Ae[Ee]=null==Ve?"":Ve;break e}catch(Lt){}"function"==typeof Ve||(null!=Ve&&(!1!==Ve||"a"===Ee[0]&&"r"===Ee[1])?Ae.setAttribute(Ee,Ve):Ae.removeAttribute(Ee))}}function Be(Ae){this.l[Ae.type+!1](P.event?P.event(Ae):Ae)}function Xe(Ae){this.l[Ae.type+!0](P.event?P.event(Ae):Ae)}function ke(Ae,Ee,Ve,lt,Ct,qe,Lt,on,pn){var fn,Ze,Dt,Xt,vt,Vt,er,bn,xn,Dn,$n,an=Ee.type;if(void 0!==Ee.constructor)return null;null!=Ve.__h&&(pn=Ve.__h,on=Ee.__e=Ve.__e,Ee.__h=null,qe=[on]),(fn=P.__b)&&fn(Ee);try{e:if("function"==typeof an){if(bn=Ee.props,xn=(fn=an.contextType)&&lt[fn.__c],Dn=fn?xn?xn.props.value:fn.__:lt,Ve.__c?er=(Ze=Ee.__c=Ve.__c).__=Ze.__E:("prototype"in an&&an.prototype.render?Ee.__c=Ze=new an(bn,Dn):(Ee.__c=Ze=new se(bn,Dn),Ze.constructor=an,Ze.render=Ut),xn&&xn.sub(Ze),Ze.props=bn,Ze.state||(Ze.state={}),Ze.context=Dn,Ze.__n=lt,Dt=Ze.__d=!0,Ze.__h=[]),null==Ze.__s&&(Ze.__s=Ze.state),null!=an.getDerivedStateFromProps&&(Ze.__s==Ze.state&&(Ze.__s=T({},Ze.__s)),T(Ze.__s,an.getDerivedStateFromProps(bn,Ze.__s))),Xt=Ze.props,vt=Ze.state,Dt)null==an.getDerivedStateFromProps&&null!=Ze.componentWillMount&&Ze.componentWillMount(),null!=Ze.componentDidMount&&Ze.__h.push(Ze.componentDidMount);else{if(null==an.getDerivedStateFromProps&&bn!==Xt&&null!=Ze.componentWillReceiveProps&&Ze.componentWillReceiveProps(bn,Dn),!Ze.__e&&null!=Ze.shouldComponentUpdate&&!1===Ze.shouldComponentUpdate(bn,Ze.__s,Dn)||Ee.__v===Ve.__v){Ze.props=bn,Ze.state=Ze.__s,Ee.__v!==Ve.__v&&(Ze.__d=!1),Ze.__v=Ee,Ee.__e=Ve.__e,Ee.__k=Ve.__k,Ee.__k.forEach(function(un){un&&(un.__=Ee)}),Ze.__h.length&&Lt.push(Ze);break e}null!=Ze.componentWillUpdate&&Ze.componentWillUpdate(bn,Ze.__s,Dn),null!=Ze.componentDidUpdate&&Ze.__h.push(function(){Ze.componentDidUpdate(Xt,vt,Vt)})}Ze.context=Dn,Ze.props=bn,Ze.state=Ze.__s,(fn=P.__r)&&fn(Ee),Ze.__d=!1,Ze.__v=Ee,Ze.__P=Ae,fn=Ze.render(Ze.props,Ze.state,Ze.context),Ze.state=Ze.__s,null!=Ze.getChildContext&&(lt=T(T({},lt),Ze.getChildContext())),Dt||null==Ze.getSnapshotBeforeUpdate||(Vt=Ze.getSnapshotBeforeUpdate(Xt,vt)),$n=null!=fn&&fn.type===ce&&null==fn.key?fn.props.children:fn,ze(Ae,Array.isArray($n)?$n:[$n],Ee,Ve,lt,Ct,qe,Lt,on,pn),Ze.base=Ee.__e,Ee.__h=null,Ze.__h.length&&Lt.push(Ze),er&&(Ze.__E=Ze.__=null),Ze.__e=!1}else null==qe&&Ee.__v===Ve.__v?(Ee.__k=Ve.__k,Ee.__e=Ve.__e):Ee.__e=function Jt(Ae,Ee,Ve,lt,Ct,qe,Lt,on){var pn,fn,Ze,Dt=Ve.props,Xt=Ee.props,vt=Ee.type,Vt=0;if("svg"===vt&&(Ct=!0),null!=qe)for(;Vt<qe.length;Vt++)if((pn=qe[Vt])&&"setAttribute"in pn==!!vt&&(vt?pn.localName===vt:3===pn.nodeType)){Ae=pn,qe[Vt]=null;break}if(null==Ae){if(null===vt)return document.createTextNode(Xt);Ae=Ct?document.createElementNS("http://www.w3.org/2000/svg",vt):document.createElement(vt,Xt.is&&Xt),qe=null,on=!1}if(null===vt)Dt===Xt||on&&Ae.data===Xt||(Ae.data=Xt);else{if(qe=qe&&h.call(Ae.childNodes),fn=(Dt=Ve.props||De).dangerouslySetInnerHTML,Ze=Xt.dangerouslySetInnerHTML,!on){if(null!=qe)for(Dt={},Vt=0;Vt<Ae.attributes.length;Vt++)Dt[Ae.attributes[Vt].name]=Ae.attributes[Vt].value;(Ze||fn)&&(Ze&&(fn&&Ze.__html==fn.__html||Ze.__html===Ae.innerHTML)||(Ae.innerHTML=Ze&&Ze.__html||""))}if(function fe(Ae,Ee,Ve,lt,Ct){var qe;for(qe in Ve)"children"===qe||"key"===qe||qe in Ee||Oe(Ae,qe,null,Ve[qe],lt);for(qe in Ee)Ct&&"function"!=typeof Ee[qe]||"children"===qe||"key"===qe||"value"===qe||"checked"===qe||Ve[qe]===Ee[qe]||Oe(Ae,qe,Ee[qe],Ve[qe],lt)}(Ae,Xt,Dt,Ct,on),Ze)Ee.__k=[];else if(Vt=Ee.props.children,ze(Ae,Array.isArray(Vt)?Vt:[Vt],Ee,Ve,lt,Ct&&"foreignObject"!==vt,qe,Lt,qe?qe[0]:Ve.__k&&je(Ve,0),on),null!=qe)for(Vt=qe.length;Vt--;)null!=qe[Vt]&&F(qe[Vt]);on||("value"in Xt&&void 0!==(Vt=Xt.value)&&(Vt!==Ae.value||"progress"===vt&&!Vt||"option"===vt&&Vt!==Dt.value)&&Oe(Ae,"value",Vt,Dt.value,!1),"checked"in Xt&&void 0!==(Vt=Xt.checked)&&Vt!==Ae.checked&&Oe(Ae,"checked",Vt,Dt.checked,!1))}return Ae}(Ve.__e,Ee,Ve,lt,Ct,qe,Lt,pn);(fn=P.diffed)&&fn(Ee)}catch(un){Ee.__v=null,(pn||null!=qe)&&(Ee.__e=on,Ee.__h=!!pn,qe[qe.indexOf(on)]=null),P.__e(un,Ee,Ve)}}function Wt(Ae,Ee){P.__c&&P.__c(Ee,Ae),Ae.some(function(Ve){try{Ae=Ve.__h,Ve.__h=[],Ae.some(function(lt){lt.call(Ve)})}catch(lt){P.__e(lt,Ve.__v)}})}function Xn(Ae,Ee,Ve){try{"function"==typeof Ae?Ae(Ee):Ae.current=Ee}catch(lt){P.__e(lt,Ve)}}function xt(Ae,Ee,Ve){var lt,Ct;if(P.unmount&&P.unmount(Ae),(lt=Ae.ref)&&(lt.current&&lt.current!==Ae.__e||Xn(lt,null,Ee)),null!=(lt=Ae.__c)){if(lt.componentWillUnmount)try{lt.componentWillUnmount()}catch(qe){P.__e(qe,Ee)}lt.base=lt.__P=null}if(lt=Ae.__k)for(Ct=0;Ct<lt.length;Ct++)lt[Ct]&&xt(lt[Ct],Ee,"function"!=typeof Ae.type);Ve||null==Ae.__e||F(Ae.__e),Ae.__e=Ae.__d=void 0}function Ut(Ae,Ee,Ve){return this.constructor(Ae,Ve)}function qn(Ae,Ee,Ve){var lt,Ct,qe;P.__&&P.__(Ae,Ee),Ct=(lt="function"==typeof Ve)?null:Ve&&Ve.__k||Ee.__k,qe=[],ke(Ee,Ae=(!lt&&Ve||Ee).__k=H(ce,null,[Ae]),Ct||De,De,void 0!==Ee.ownerSVGElement,!lt&&Ve?[Ve]:Ct?null:Ee.firstChild?h.call(Ee.childNodes):null,qe,!lt&&Ve?Ve:Ct?Ct.__e:Ee.firstChild,lt),Wt(qe,Ae)}function Hn(Ae,Ee){qn(Ae,Ee,Hn)}function Ar(Ae,Ee,Ve){var lt,Ct,qe,Lt=T({},Ae.props);for(qe in Ee)"key"==qe?lt=Ee[qe]:"ref"==qe?Ct=Ee[qe]:Lt[qe]=Ee[qe];return arguments.length>2&&(Lt.children=arguments.length>3?h.call(arguments,2):Ve),ie(Ae.type,Lt,lt||Ae.key,Ct||Ae.ref,null)}function Cn(Ae,Ee){var Ve={__c:Ee="__cC"+xe++,__:Ae,Consumer:function(lt,Ct){return lt.children(Ct)},Provider:function(lt){var Ct,qe;return this.getChildContext||(Ct=[],(qe={})[Ee]=this,this.getChildContext=function(){return qe},this.shouldComponentUpdate=function(Lt){this.props.value!==Lt.value&&Ct.some(We)},this.sub=function(Lt){Ct.push(Lt);var on=Lt.componentWillUnmount;Lt.componentWillUnmount=function(){Ct.splice(Ct.indexOf(Lt),1),on&&on.call(Lt)}}),lt.children}};return Ve.Provider.__=Ve.Consumer.contextType=Ve}h=ee.slice,P={__e:function(Ae,Ee,Ve,lt){for(var Ct,qe,Lt;Ee=Ee.__;)if((Ct=Ee.__c)&&!Ct.__)try{if((qe=Ct.constructor)&&null!=qe.getDerivedStateFromError&&(Ct.setState(qe.getDerivedStateFromError(Ae)),Lt=Ct.__d),null!=Ct.componentDidCatch&&(Ct.componentDidCatch(Ae,lt||{}),Lt=Ct.__d),Lt)return Ct.__E=Ct}catch(on){Ae=on}throw Ae}},R=0,G=function(Ae){return null!=Ae&&void 0===Ae.constructor},se.prototype.setState=function(Ae,Ee){var Ve;Ve=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=T({},this.state),"function"==typeof Ae&&(Ae=Ae(T({},Ve),this.props)),Ae&&T(Ve,Ae),null!=Ae&&this.__v&&(Ee&&this.__h.push(Ee),We(this))},se.prototype.forceUpdate=function(Ae){this.__v&&(this.__e=!0,Ae&&this.__h.push(Ae),We(this))},se.prototype.render=ce,ne=[],Ce="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ye.__r=0,xe=0},8306:(Ot,$e,$)=>{"use strict";$.d($e,{y:()=>ee});var h=$(2961),P=$(727),R=$(8822),G=$(4671);var be=$(2416),xe=$(576),De=$(2806);let ee=(()=>{class H{constructor(me){me&&(this._subscribe=me)}lift(me){const ce=new H;return ce.source=this,ce.operator=me,ce}subscribe(me,ce,se){const je=function F(H){return H&&H instanceof h.Lv||function T(H){return H&&(0,xe.m)(H.next)&&(0,xe.m)(H.error)&&(0,xe.m)(H.complete)}(H)&&(0,P.Nn)(H)}(me)?me:new h.Hp(me,ce,se);return(0,De.x)(()=>{const{operator:Qe,source:We}=this;je.add(Qe?Qe.call(je,We):We?this._subscribe(je):this._trySubscribe(je))}),je}_trySubscribe(me){try{return this._subscribe(me)}catch(ce){me.error(ce)}}forEach(me,ce){return new(ce=de(ce))((se,je)=>{const Qe=new h.Hp({next:We=>{try{me(We)}catch(Ye){je(Ye),Qe.unsubscribe()}},error:je,complete:se});this.subscribe(Qe)})}_subscribe(me){var ce;return null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(me)}[R.L](){return this}pipe(...me){return function Ce(H){return 0===H.length?G.y:1===H.length?H[0]:function(me){return H.reduce((ce,se)=>se(ce),me)}}(me)(this)}toPromise(me){return new(me=de(me))((ce,se)=>{let je;this.subscribe(Qe=>je=Qe,Qe=>se(Qe),()=>ce(je))})}}return H.create=ie=>new H(ie),H})();function de(H){var ie;return null!==(ie=null!=H?H:be.v.Promise)&&void 0!==ie?ie:Promise}},7579:(Ot,$e,$)=>{"use strict";$.d($e,{x:()=>be});var h=$(8306),P=$(727);const G=(0,$(3888).d)(De=>function(){De(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=$(8737),Ce=$(2806);let be=(()=>{class De extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(de){const T=new xe(this,this);return T.operator=de,T}_throwIfClosed(){if(this.closed)throw new G}next(de){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const T of this.currentObservers)T.next(de)}})}error(de){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=de;const{observers:T}=this;for(;T.length;)T.shift().error(de)}})}complete(){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:de}=this;for(;de.length;)de.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var de;return(null===(de=this.observers)||void 0===de?void 0:de.length)>0}_trySubscribe(de){return this._throwIfClosed(),super._trySubscribe(de)}_subscribe(de){return this._throwIfClosed(),this._checkFinalizedStatuses(de),this._innerSubscribe(de)}_innerSubscribe(de){const{hasError:T,isStopped:F,observers:H}=this;return T||F?P.Lc:(this.currentObservers=null,H.push(de),new P.w0(()=>{this.currentObservers=null,(0,ne.P)(H,de)}))}_checkFinalizedStatuses(de){const{hasError:T,thrownError:F,isStopped:H}=this;T?de.error(F):H&&de.complete()}asObservable(){const de=new h.y;return de.source=this,de}}return De.create=(ee,de)=>new xe(ee,de),De})();class xe extends be{constructor(ee,de){super(),this.destination=ee,this.source=de}next(ee){var de,T;null===(T=null===(de=this.destination)||void 0===de?void 0:de.next)||void 0===T||T.call(de,ee)}error(ee){var de,T;null===(T=null===(de=this.destination)||void 0===de?void 0:de.error)||void 0===T||T.call(de,ee)}complete(){var ee,de;null===(de=null===(ee=this.destination)||void 0===ee?void 0:ee.complete)||void 0===de||de.call(ee)}_subscribe(ee){var de,T;return null!==(T=null===(de=this.source)||void 0===de?void 0:de.subscribe(ee))&&void 0!==T?T:P.Lc}}},2961:(Ot,$e,$)=>{"use strict";$.d($e,{Hp:()=>me,Lv:()=>T});var h=$(576),P=$(727),R=$(2416),G=$(7849);function ne(){}const Ce=De("C",void 0,void 0);function De(We,Ye,ze){return{kind:We,value:Ye,error:ze}}var ee=$(3410),de=$(2806);class T extends P.w0{constructor(Ye){super(),this.isStopped=!1,Ye?(this.destination=Ye,(0,P.Nn)(Ye)&&Ye.add(this)):this.destination=Qe}static create(Ye,ze,mt){return new me(Ye,ze,mt)}next(Ye){this.isStopped?je(function xe(We){return De("N",We,void 0)}(Ye),this):this._next(Ye)}error(Ye){this.isStopped?je(function be(We){return De("E",void 0,We)}(Ye),this):(this.isStopped=!0,this._error(Ye))}complete(){this.isStopped?je(Ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ye){this.destination.next(Ye)}_error(Ye){try{this.destination.error(Ye)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const F=Function.prototype.bind;function H(We,Ye){return F.call(We,Ye)}class ie{constructor(Ye){this.partialObserver=Ye}next(Ye){const{partialObserver:ze}=this;if(ze.next)try{ze.next(Ye)}catch(mt){ce(mt)}}error(Ye){const{partialObserver:ze}=this;if(ze.error)try{ze.error(Ye)}catch(mt){ce(mt)}else ce(Ye)}complete(){const{partialObserver:Ye}=this;if(Ye.complete)try{Ye.complete()}catch(ze){ce(ze)}}}class me extends T{constructor(Ye,ze,mt){let Te;if(super(),(0,h.m)(Ye)||!Ye)Te={next:null!=Ye?Ye:void 0,error:null!=ze?ze:void 0,complete:null!=mt?mt:void 0};else{let Re;this&&R.v.useDeprecatedNextContext?(Re=Object.create(Ye),Re.unsubscribe=()=>this.unsubscribe(),Te={next:Ye.next&&H(Ye.next,Re),error:Ye.error&&H(Ye.error,Re),complete:Ye.complete&&H(Ye.complete,Re)}):Te=Ye}this.destination=new ie(Te)}}function ce(We){R.v.useDeprecatedSynchronousErrorHandling?(0,de.O)(We):(0,G.h)(We)}function je(We,Ye){const{onStoppedNotification:ze}=R.v;ze&&ee.z.setTimeout(()=>ze(We,Ye))}const Qe={closed:!0,next:ne,error:function se(We){throw We},complete:ne}},727:(Ot,$e,$)=>{"use strict";$.d($e,{Lc:()=>Ce,w0:()=>ne,Nn:()=>be});var h=$(576);const R=(0,$(3888).d)(De=>function(de){De(this),this.message=de?`${de.length} errors occurred during unsubscription:\n${de.map((T,F)=>`${F+1}) ${T.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=de});var G=$(8737);class ne{constructor(ee){this.initialTeardown=ee,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ee;if(!this.closed){this.closed=!0;const{_parentage:de}=this;if(de)if(this._parentage=null,Array.isArray(de))for(const H of de)H.remove(this);else de.remove(this);const{initialTeardown:T}=this;if((0,h.m)(T))try{T()}catch(H){ee=H instanceof R?H.errors:[H]}const{_finalizers:F}=this;if(F){this._finalizers=null;for(const H of F)try{xe(H)}catch(ie){ee=null!=ee?ee:[],ie instanceof R?ee=[...ee,...ie.errors]:ee.push(ie)}}if(ee)throw new R(ee)}}add(ee){var de;if(ee&&ee!==this)if(this.closed)xe(ee);else{if(ee instanceof ne){if(ee.closed||ee._hasParent(this))return;ee._addParent(this)}(this._finalizers=null!==(de=this._finalizers)&&void 0!==de?de:[]).push(ee)}}_hasParent(ee){const{_parentage:de}=this;return de===ee||Array.isArray(de)&&de.includes(ee)}_addParent(ee){const{_parentage:de}=this;this._parentage=Array.isArray(de)?(de.push(ee),de):de?[de,ee]:ee}_removeParent(ee){const{_parentage:de}=this;de===ee?this._parentage=null:Array.isArray(de)&&(0,G.P)(de,ee)}remove(ee){const{_finalizers:de}=this;de&&(0,G.P)(de,ee),ee instanceof ne&&ee._removeParent(this)}}ne.EMPTY=(()=>{const De=new ne;return De.closed=!0,De})();const Ce=ne.EMPTY;function be(De){return De instanceof ne||De&&"closed"in De&&(0,h.m)(De.remove)&&(0,h.m)(De.add)&&(0,h.m)(De.unsubscribe)}function xe(De){(0,h.m)(De)?De():De.unsubscribe()}},2416:(Ot,$e,$)=>{"use strict";$.d($e,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Ot,$e,$)=>{"use strict";$.d($e,{E:()=>P});const P=new($(8306).y)(ne=>ne.complete())},8996:(Ot,$e,$)=>{"use strict";$.d($e,{D:()=>Ye});var h=$(8421),P=$(5363),R=$(9468),Ce=$(8306),xe=$(2202),De=$(576),ee=$(9672);function T(ze,mt){if(!ze)throw new Error("Iterable cannot be null");return new Ce.y(Te=>{(0,ee.f)(Te,mt,()=>{const Re=ze[Symbol.asyncIterator]();(0,ee.f)(Te,mt,()=>{Re.next().then(fe=>{fe.done?Te.complete():Te.next(fe.value)})},0,!0)})})}var F=$(3670),H=$(8239),ie=$(1144),me=$(6495),ce=$(2206),se=$(4532),je=$(3260);function Ye(ze,mt){return mt?function We(ze,mt){if(null!=ze){if((0,F.c)(ze))return function G(ze,mt){return(0,h.Xf)(ze).pipe((0,R.R)(mt),(0,P.Q)(mt))}(ze,mt);if((0,ie.z)(ze))return function be(ze,mt){return new Ce.y(Te=>{let Re=0;return mt.schedule(function(){Re===ze.length?Te.complete():(Te.next(ze[Re++]),Te.closed||this.schedule())})})}(ze,mt);if((0,H.t)(ze))return function ne(ze,mt){return(0,h.Xf)(ze).pipe((0,R.R)(mt),(0,P.Q)(mt))}(ze,mt);if((0,ce.D)(ze))return T(ze,mt);if((0,me.T)(ze))return function de(ze,mt){return new Ce.y(Te=>{let Re;return(0,ee.f)(Te,mt,()=>{Re=ze[xe.h](),(0,ee.f)(Te,mt,()=>{let fe,Ie;try{({value:fe,done:Ie}=Re.next())}catch(Oe){return void Te.error(Oe)}Ie?Te.complete():Te.next(fe)},0,!0)}),()=>(0,De.m)(null==Re?void 0:Re.return)&&Re.return()})}(ze,mt);if((0,je.L)(ze))return function Qe(ze,mt){return T((0,je.Q)(ze),mt)}(ze,mt)}throw(0,se.z)(ze)}(ze,mt):(0,h.Xf)(ze)}},8421:(Ot,$e,$)=>{"use strict";$.d($e,{Xf:()=>F});var h=$(655),P=$(1144),R=$(8239),G=$(8306),ne=$(3670),Ce=$(2206),be=$(4532),xe=$(6495),De=$(3260),ee=$(576),de=$(7849),T=$(8822);function F(We){if(We instanceof G.y)return We;if(null!=We){if((0,ne.c)(We))return function H(We){return new G.y(Ye=>{const ze=We[T.L]();if((0,ee.m)(ze.subscribe))return ze.subscribe(Ye);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(We);if((0,P.z)(We))return function ie(We){return new G.y(Ye=>{for(let ze=0;ze<We.length&&!Ye.closed;ze++)Ye.next(We[ze]);Ye.complete()})}(We);if((0,R.t)(We))return function me(We){return new G.y(Ye=>{We.then(ze=>{Ye.closed||(Ye.next(ze),Ye.complete())},ze=>Ye.error(ze)).then(null,de.h)})}(We);if((0,Ce.D)(We))return se(We);if((0,xe.T)(We))return function ce(We){return new G.y(Ye=>{for(const ze of We)if(Ye.next(ze),Ye.closed)return;Ye.complete()})}(We);if((0,De.L)(We))return function je(We){return se((0,De.Q)(We))}(We)}throw(0,be.z)(We)}function se(We){return new G.y(Ye=>{(function Qe(We,Ye){var ze,mt,Te,Re;return(0,h.__awaiter)(this,void 0,void 0,function*(){try{for(ze=(0,h.__asyncValues)(We);!(mt=yield ze.next()).done;)if(Ye.next(mt.value),Ye.closed)return}catch(fe){Te={error:fe}}finally{try{mt&&!mt.done&&(Re=ze.return)&&(yield Re.call(ze))}finally{if(Te)throw Te.error}}Ye.complete()})})(We,Ye).catch(ze=>Ye.error(ze))})}},6451:(Ot,$e,$)=>{"use strict";$.d($e,{T:()=>Ce});var h=$(8189),P=$(8421),R=$(515),G=$(7669),ne=$(8996);function Ce(...be){const xe=(0,G.yG)(be),De=(0,G._6)(be,1/0),ee=be;return ee.length?1===ee.length?(0,P.Xf)(ee[0]):(0,h.J)(De)((0,ne.D)(ee,xe)):R.E}},5403:(Ot,$e,$)=>{"use strict";$.d($e,{x:()=>P});var h=$(2961);function P(G,ne,Ce,be,xe){return new R(G,ne,Ce,be,xe)}class R extends h.Lv{constructor(ne,Ce,be,xe,De,ee){super(ne),this.onFinalize=De,this.shouldUnsubscribe=ee,this._next=Ce?function(de){try{Ce(de)}catch(T){ne.error(T)}}:super._next,this._error=xe?function(de){try{xe(de)}catch(T){ne.error(T)}finally{this.unsubscribe()}}:super._error,this._complete=be?function(){try{be()}catch(de){ne.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ce}=this;super.unsubscribe(),!Ce&&(null===(ne=this.onFinalize)||void 0===ne||ne.call(this))}}}},4004:(Ot,$e,$)=>{"use strict";$.d($e,{U:()=>R});var h=$(4482),P=$(5403);function R(G,ne){return(0,h.e)((Ce,be)=>{let xe=0;Ce.subscribe((0,P.x)(be,De=>{be.next(G.call(ne,De,xe++))}))})}},8189:(Ot,$e,$)=>{"use strict";$.d($e,{J:()=>R});var h=$(5577),P=$(4671);function R(G=1/0){return(0,h.z)(P.y,G)}},5577:(Ot,$e,$)=>{"use strict";$.d($e,{z:()=>xe});var h=$(4004),P=$(8421),R=$(4482),G=$(9672),ne=$(5403),be=$(576);function xe(De,ee,de=1/0){return(0,be.m)(ee)?xe((T,F)=>(0,h.U)((H,ie)=>ee(T,H,F,ie))((0,P.Xf)(De(T,F))),de):("number"==typeof ee&&(de=ee),(0,R.e)((T,F)=>function Ce(De,ee,de,T,F,H,ie,me){const ce=[];let se=0,je=0,Qe=!1;const We=()=>{Qe&&!ce.length&&!se&&ee.complete()},Ye=mt=>se<T?ze(mt):ce.push(mt),ze=mt=>{H&&ee.next(mt),se++;let Te=!1;(0,P.Xf)(de(mt,je++)).subscribe((0,ne.x)(ee,Re=>{null==F||F(Re),H?Ye(Re):ee.next(Re)},()=>{Te=!0},void 0,()=>{if(Te)try{for(se--;ce.length&&se<T;){const Re=ce.shift();ie?(0,G.f)(ee,ie,()=>ze(Re)):ze(Re)}We()}catch(Re){ee.error(Re)}}))};return De.subscribe((0,ne.x)(ee,Ye,()=>{Qe=!0,We()})),()=>{null==me||me()}}(T,F,De,de)))}},5363:(Ot,$e,$)=>{"use strict";$.d($e,{Q:()=>G});var h=$(9672),P=$(4482),R=$(5403);function G(ne,Ce=0){return(0,P.e)((be,xe)=>{be.subscribe((0,R.x)(xe,De=>(0,h.f)(xe,ne,()=>xe.next(De),Ce),()=>(0,h.f)(xe,ne,()=>xe.complete(),Ce),De=>(0,h.f)(xe,ne,()=>xe.error(De),Ce)))})}},3099:(Ot,$e,$)=>{"use strict";$.d($e,{B:()=>Ce});var h=$(8996),P=$(5698),R=$(7579),G=$(2961),ne=$(4482);function Ce(xe={}){const{connector:De=(()=>new R.x),resetOnError:ee=!0,resetOnComplete:de=!0,resetOnRefCountZero:T=!0}=xe;return F=>{let H=null,ie=null,me=null,ce=0,se=!1,je=!1;const Qe=()=>{null==ie||ie.unsubscribe(),ie=null},We=()=>{Qe(),H=me=null,se=je=!1},Ye=()=>{const ze=H;We(),null==ze||ze.unsubscribe()};return(0,ne.e)((ze,mt)=>{ce++,!je&&!se&&Qe();const Te=me=null!=me?me:De();mt.add(()=>{ce--,0===ce&&!je&&!se&&(ie=be(Ye,T))}),Te.subscribe(mt),H||(H=new G.Hp({next:Re=>Te.next(Re),error:Re=>{je=!0,Qe(),ie=be(We,ee,Re),Te.error(Re)},complete:()=>{se=!0,Qe(),ie=be(We,de),Te.complete()}}),(0,h.D)(ze).subscribe(H))})(F)}}function be(xe,De,...ee){return!0===De?(xe(),null):!1===De?null:De(...ee).pipe((0,P.q)(1)).subscribe(()=>xe())}},9468:(Ot,$e,$)=>{"use strict";$.d($e,{R:()=>P});var h=$(4482);function P(R,G=0){return(0,h.e)((ne,Ce)=>{Ce.add(R.schedule(()=>ne.subscribe(Ce),G))})}},5698:(Ot,$e,$)=>{"use strict";$.d($e,{q:()=>G});var h=$(515),P=$(4482),R=$(5403);function G(ne){return ne<=0?()=>h.E:(0,P.e)((Ce,be)=>{let xe=0;Ce.subscribe((0,R.x)(be,De=>{++xe<=ne&&(be.next(De),ne<=xe&&be.complete())}))})}},8505:(Ot,$e,$)=>{"use strict";$.d($e,{b:()=>ne});var h=$(576),P=$(4482),R=$(5403),G=$(4671);function ne(Ce,be,xe){const De=(0,h.m)(Ce)||be||xe?{next:Ce,error:be,complete:xe}:Ce;return De?(0,P.e)((ee,de)=>{var T;null===(T=De.subscribe)||void 0===T||T.call(De);let F=!0;ee.subscribe((0,R.x)(de,H=>{var ie;null===(ie=De.next)||void 0===ie||ie.call(De,H),de.next(H)},()=>{var H;F=!1,null===(H=De.complete)||void 0===H||H.call(De),de.complete()},H=>{var ie;F=!1,null===(ie=De.error)||void 0===ie||ie.call(De,H),de.error(H)},()=>{var H,ie;F&&(null===(H=De.unsubscribe)||void 0===H||H.call(De)),null===(ie=De.finalize)||void 0===ie||ie.call(De)}))}):G.y}},4408:(Ot,$e,$)=>{"use strict";$.d($e,{o:()=>ne});var h=$(727);class P extends h.w0{constructor(be,xe){super()}schedule(be,xe=0){return this}}const R={setInterval(Ce,be,...xe){const{delegate:De}=R;return(null==De?void 0:De.setInterval)?De.setInterval(Ce,be,...xe):setInterval(Ce,be,...xe)},clearInterval(Ce){const{delegate:be}=R;return((null==be?void 0:be.clearInterval)||clearInterval)(Ce)},delegate:void 0};var G=$(8737);class ne extends P{constructor(be,xe){super(be,xe),this.scheduler=be,this.work=xe,this.pending=!1}schedule(be,xe=0){if(this.closed)return this;this.state=be;const De=this.id,ee=this.scheduler;return null!=De&&(this.id=this.recycleAsyncId(ee,De,xe)),this.pending=!0,this.delay=xe,this.id=this.id||this.requestAsyncId(ee,this.id,xe),this}requestAsyncId(be,xe,De=0){return R.setInterval(be.flush.bind(be,this),De)}recycleAsyncId(be,xe,De=0){if(null!=De&&this.delay===De&&!1===this.pending)return xe;R.clearInterval(xe)}execute(be,xe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const De=this._execute(be,xe);if(De)return De;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(be,xe){let ee,De=!1;try{this.work(be)}catch(de){De=!0,ee=de||new Error("Scheduled action threw falsy error")}if(De)return this.unsubscribe(),ee}unsubscribe(){if(!this.closed){const{id:be,scheduler:xe}=this,{actions:De}=xe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,G.P)(De,this),null!=be&&(this.id=this.recycleAsyncId(xe,be,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ot,$e,$)=>{"use strict";$.d($e,{v:()=>R});var h=$(6063);class P{constructor(ne,Ce=P.now){this.schedulerActionCtor=ne,this.now=Ce}schedule(ne,Ce=0,be){return new this.schedulerActionCtor(this,ne).schedule(be,Ce)}}P.now=h.l.now;class R extends P{constructor(ne,Ce=P.now){super(ne,Ce),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ne){const{actions:Ce}=this;if(this._active)return void Ce.push(ne);let be;this._active=!0;do{if(be=ne.execute(ne.state,ne.delay))break}while(ne=Ce.shift());if(this._active=!1,be){for(;ne=Ce.shift();)ne.unsubscribe();throw be}}}},4986:(Ot,$e,$)=>{"use strict";$.d($e,{z:()=>R});var h=$(4408);const R=new($(7565).v)(h.o)},6063:(Ot,$e,$)=>{"use strict";$.d($e,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:(Ot,$e,$)=>{"use strict";$.d($e,{z:()=>h});const h={setTimeout(P,R,...G){const{delegate:ne}=h;return(null==ne?void 0:ne.setTimeout)?ne.setTimeout(P,R,...G):setTimeout(P,R,...G)},clearTimeout(P){const{delegate:R}=h;return((null==R?void 0:R.clearTimeout)||clearTimeout)(P)},delegate:void 0}},2202:(Ot,$e,$)=>{"use strict";$.d($e,{h:()=>P});const P=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ot,$e,$)=>{"use strict";$.d($e,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Ot,$e,$)=>{"use strict";$.d($e,{_6:()=>Ce,jO:()=>G,yG:()=>ne});var h=$(576);function R(be){return be[be.length-1]}function G(be){return(0,h.m)(R(be))?be.pop():void 0}function ne(be){return function P(be){return be&&(0,h.m)(be.schedule)}(R(be))?be.pop():void 0}function Ce(be,xe){return"number"==typeof R(be)?be.pop():xe}},8737:(Ot,$e,$)=>{"use strict";function h(P,R){if(P){const G=P.indexOf(R);0<=G&&P.splice(G,1)}}$.d($e,{P:()=>h})},3888:(Ot,$e,$)=>{"use strict";function h(P){const G=P(ne=>{Error.call(ne),ne.stack=(new Error).stack});return G.prototype=Object.create(Error.prototype),G.prototype.constructor=G,G}$.d($e,{d:()=>h})},2806:(Ot,$e,$)=>{"use strict";$.d($e,{O:()=>G,x:()=>R});var h=$(2416);let P=null;function R(ne){if(h.v.useDeprecatedSynchronousErrorHandling){const Ce=!P;if(Ce&&(P={errorThrown:!1,error:null}),ne(),Ce){const{errorThrown:be,error:xe}=P;if(P=null,be)throw xe}}else ne()}function G(ne){h.v.useDeprecatedSynchronousErrorHandling&&P&&(P.errorThrown=!0,P.error=ne)}},9672:(Ot,$e,$)=>{"use strict";function h(P,R,G,ne=0,Ce=!1){const be=R.schedule(function(){G(),Ce?P.add(this.schedule(null,ne)):this.unsubscribe()},ne);if(P.add(be),!Ce)return be}$.d($e,{f:()=>h})},4671:(Ot,$e,$)=>{"use strict";function h(P){return P}$.d($e,{y:()=>h})},1144:(Ot,$e,$)=>{"use strict";$.d($e,{z:()=>h});const h=P=>P&&"number"==typeof P.length&&"function"!=typeof P},2206:(Ot,$e,$)=>{"use strict";$.d($e,{D:()=>P});var h=$(576);function P(R){return Symbol.asyncIterator&&(0,h.m)(null==R?void 0:R[Symbol.asyncIterator])}},576:(Ot,$e,$)=>{"use strict";function h(P){return"function"==typeof P}$.d($e,{m:()=>h})},3670:(Ot,$e,$)=>{"use strict";$.d($e,{c:()=>R});var h=$(8822),P=$(576);function R(G){return(0,P.m)(G[h.L])}},6495:(Ot,$e,$)=>{"use strict";$.d($e,{T:()=>R});var h=$(2202),P=$(576);function R(G){return(0,P.m)(null==G?void 0:G[h.h])}},8239:(Ot,$e,$)=>{"use strict";$.d($e,{t:()=>P});var h=$(576);function P(R){return(0,h.m)(null==R?void 0:R.then)}},3260:(Ot,$e,$)=>{"use strict";$.d($e,{L:()=>G,Q:()=>R});var h=$(655),P=$(576);function R(ne){return(0,h.__asyncGenerator)(this,arguments,function*(){const be=ne.getReader();try{for(;;){const{value:xe,done:De}=yield(0,h.__await)(be.read());if(De)return yield(0,h.__await)(void 0);yield yield(0,h.__await)(xe)}}finally{be.releaseLock()}})}function G(ne){return(0,P.m)(null==ne?void 0:ne.getReader)}},4482:(Ot,$e,$)=>{"use strict";$.d($e,{A:()=>P,e:()=>R});var h=$(576);function P(G){return(0,h.m)(null==G?void 0:G.lift)}function R(G){return ne=>{if(P(ne))return ne.lift(function(Ce){try{return G(Ce,this)}catch(be){this.error(be)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(Ot,$e,$)=>{"use strict";$.d($e,{h:()=>R});var h=$(2416),P=$(3410);function R(G){P.z.setTimeout(()=>{const{onUnhandledError:ne}=h.v;if(!ne)throw G;ne(G)})}},4532:(Ot,$e,$)=>{"use strict";function h(P){return new TypeError(`You provided ${null!==P&&"object"==typeof P?"an invalid object":`'${P}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}$.d($e,{z:()=>h})},655:(Ot,$e,$)=>{"use strict";$.r($e),$.d($e,{__assign:()=>R,__asyncDelegator:()=>je,__asyncGenerator:()=>se,__asyncValues:()=>Qe,__await:()=>ce,__awaiter:()=>xe,__classPrivateFieldGet:()=>Te,__classPrivateFieldSet:()=>Re,__createBinding:()=>ee,__decorate:()=>ne,__exportStar:()=>de,__extends:()=>P,__generator:()=>De,__importDefault:()=>mt,__importStar:()=>ze,__makeTemplateObject:()=>We,__metadata:()=>be,__param:()=>Ce,__read:()=>F,__rest:()=>G,__spread:()=>H,__spreadArray:()=>me,__spreadArrays:()=>ie,__values:()=>T});var h=function(fe,Ie){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Oe,Be){Oe.__proto__=Be}||function(Oe,Be){for(var Xe in Be)Object.prototype.hasOwnProperty.call(Be,Xe)&&(Oe[Xe]=Be[Xe])})(fe,Ie)};function P(fe,Ie){if("function"!=typeof Ie&&null!==Ie)throw new TypeError("Class extends value "+String(Ie)+" is not a constructor or null");function Oe(){this.constructor=fe}h(fe,Ie),fe.prototype=null===Ie?Object.create(Ie):(Oe.prototype=Ie.prototype,new Oe)}var R=function(){return R=Object.assign||function(Ie){for(var Oe,Be=1,Xe=arguments.length;Be<Xe;Be++)for(var ke in Oe=arguments[Be])Object.prototype.hasOwnProperty.call(Oe,ke)&&(Ie[ke]=Oe[ke]);return Ie},R.apply(this,arguments)};function G(fe,Ie){var Oe={};for(var Be in fe)Object.prototype.hasOwnProperty.call(fe,Be)&&Ie.indexOf(Be)<0&&(Oe[Be]=fe[Be]);if(null!=fe&&"function"==typeof Object.getOwnPropertySymbols){var Xe=0;for(Be=Object.getOwnPropertySymbols(fe);Xe<Be.length;Xe++)Ie.indexOf(Be[Xe])<0&&Object.prototype.propertyIsEnumerable.call(fe,Be[Xe])&&(Oe[Be[Xe]]=fe[Be[Xe]])}return Oe}function ne(fe,Ie,Oe,Be){var Wt,Xe=arguments.length,ke=Xe<3?Ie:null===Be?Be=Object.getOwnPropertyDescriptor(Ie,Oe):Be;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)ke=Reflect.decorate(fe,Ie,Oe,Be);else for(var Jt=fe.length-1;Jt>=0;Jt--)(Wt=fe[Jt])&&(ke=(Xe<3?Wt(ke):Xe>3?Wt(Ie,Oe,ke):Wt(Ie,Oe))||ke);return Xe>3&&ke&&Object.defineProperty(Ie,Oe,ke),ke}function Ce(fe,Ie){return function(Oe,Be){Ie(Oe,Be,fe)}}function be(fe,Ie){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(fe,Ie)}function xe(fe,Ie,Oe,Be){return new(Oe||(Oe=Promise))(function(ke,Wt){function Jt(Ut){try{xt(Be.next(Ut))}catch(qn){Wt(qn)}}function Xn(Ut){try{xt(Be.throw(Ut))}catch(qn){Wt(qn)}}function xt(Ut){Ut.done?ke(Ut.value):function Xe(ke){return ke instanceof Oe?ke:new Oe(function(Wt){Wt(ke)})}(Ut.value).then(Jt,Xn)}xt((Be=Be.apply(fe,Ie||[])).next())})}function De(fe,Ie){var Be,Xe,ke,Wt,Oe={label:0,sent:function(){if(1&ke[0])throw ke[1];return ke[1]},trys:[],ops:[]};return Wt={next:Jt(0),throw:Jt(1),return:Jt(2)},"function"==typeof Symbol&&(Wt[Symbol.iterator]=function(){return this}),Wt;function Jt(xt){return function(Ut){return function Xn(xt){if(Be)throw new TypeError("Generator is already executing.");for(;Oe;)try{if(Be=1,Xe&&(ke=2&xt[0]?Xe.return:xt[0]?Xe.throw||((ke=Xe.return)&&ke.call(Xe),0):Xe.next)&&!(ke=ke.call(Xe,xt[1])).done)return ke;switch(Xe=0,ke&&(xt=[2&xt[0],ke.value]),xt[0]){case 0:case 1:ke=xt;break;case 4:return Oe.label++,{value:xt[1],done:!1};case 5:Oe.label++,Xe=xt[1],xt=[0];continue;case 7:xt=Oe.ops.pop(),Oe.trys.pop();continue;default:if(!(ke=(ke=Oe.trys).length>0&&ke[ke.length-1])&&(6===xt[0]||2===xt[0])){Oe=0;continue}if(3===xt[0]&&(!ke||xt[1]>ke[0]&&xt[1]<ke[3])){Oe.label=xt[1];break}if(6===xt[0]&&Oe.label<ke[1]){Oe.label=ke[1],ke=xt;break}if(ke&&Oe.label<ke[2]){Oe.label=ke[2],Oe.ops.push(xt);break}ke[2]&&Oe.ops.pop(),Oe.trys.pop();continue}xt=Ie.call(fe,Oe)}catch(Ut){xt=[6,Ut],Xe=0}finally{Be=ke=0}if(5&xt[0])throw xt[1];return{value:xt[0]?xt[1]:void 0,done:!0}}([xt,Ut])}}}var ee=Object.create?function(fe,Ie,Oe,Be){void 0===Be&&(Be=Oe),Object.defineProperty(fe,Be,{enumerable:!0,get:function(){return Ie[Oe]}})}:function(fe,Ie,Oe,Be){void 0===Be&&(Be=Oe),fe[Be]=Ie[Oe]};function de(fe,Ie){for(var Oe in fe)"default"!==Oe&&!Object.prototype.hasOwnProperty.call(Ie,Oe)&&ee(Ie,fe,Oe)}function T(fe){var Ie="function"==typeof Symbol&&Symbol.iterator,Oe=Ie&&fe[Ie],Be=0;if(Oe)return Oe.call(fe);if(fe&&"number"==typeof fe.length)return{next:function(){return fe&&Be>=fe.length&&(fe=void 0),{value:fe&&fe[Be++],done:!fe}}};throw new TypeError(Ie?"Object is not iterable.":"Symbol.iterator is not defined.")}function F(fe,Ie){var Oe="function"==typeof Symbol&&fe[Symbol.iterator];if(!Oe)return fe;var Xe,Wt,Be=Oe.call(fe),ke=[];try{for(;(void 0===Ie||Ie-- >0)&&!(Xe=Be.next()).done;)ke.push(Xe.value)}catch(Jt){Wt={error:Jt}}finally{try{Xe&&!Xe.done&&(Oe=Be.return)&&Oe.call(Be)}finally{if(Wt)throw Wt.error}}return ke}function H(){for(var fe=[],Ie=0;Ie<arguments.length;Ie++)fe=fe.concat(F(arguments[Ie]));return fe}function ie(){for(var fe=0,Ie=0,Oe=arguments.length;Ie<Oe;Ie++)fe+=arguments[Ie].length;var Be=Array(fe),Xe=0;for(Ie=0;Ie<Oe;Ie++)for(var ke=arguments[Ie],Wt=0,Jt=ke.length;Wt<Jt;Wt++,Xe++)Be[Xe]=ke[Wt];return Be}function me(fe,Ie,Oe){if(Oe||2===arguments.length)for(var ke,Be=0,Xe=Ie.length;Be<Xe;Be++)(ke||!(Be in Ie))&&(ke||(ke=Array.prototype.slice.call(Ie,0,Be)),ke[Be]=Ie[Be]);return fe.concat(ke||Array.prototype.slice.call(Ie))}function ce(fe){return this instanceof ce?(this.v=fe,this):new ce(fe)}function se(fe,Ie,Oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Xe,Be=Oe.apply(fe,Ie||[]),ke=[];return Xe={},Wt("next"),Wt("throw"),Wt("return"),Xe[Symbol.asyncIterator]=function(){return this},Xe;function Wt(Hn){Be[Hn]&&(Xe[Hn]=function(Ar){return new Promise(function(Cn,Ae){ke.push([Hn,Ar,Cn,Ae])>1||Jt(Hn,Ar)})})}function Jt(Hn,Ar){try{!function Xn(Hn){Hn.value instanceof ce?Promise.resolve(Hn.value.v).then(xt,Ut):qn(ke[0][2],Hn)}(Be[Hn](Ar))}catch(Cn){qn(ke[0][3],Cn)}}function xt(Hn){Jt("next",Hn)}function Ut(Hn){Jt("throw",Hn)}function qn(Hn,Ar){Hn(Ar),ke.shift(),ke.length&&Jt(ke[0][0],ke[0][1])}}function je(fe){var Ie,Oe;return Ie={},Be("next"),Be("throw",function(Xe){throw Xe}),Be("return"),Ie[Symbol.iterator]=function(){return this},Ie;function Be(Xe,ke){Ie[Xe]=fe[Xe]?function(Wt){return(Oe=!Oe)?{value:ce(fe[Xe](Wt)),done:"return"===Xe}:ke?ke(Wt):Wt}:ke}}function Qe(fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,Ie=fe[Symbol.asyncIterator];return Ie?Ie.call(fe):(fe=T(fe),Oe={},Be("next"),Be("throw"),Be("return"),Oe[Symbol.asyncIterator]=function(){return this},Oe);function Be(ke){Oe[ke]=fe[ke]&&function(Wt){return new Promise(function(Jt,Xn){!function Xe(ke,Wt,Jt,Xn){Promise.resolve(Xn).then(function(xt){ke({value:xt,done:Jt})},Wt)}(Jt,Xn,(Wt=fe[ke](Wt)).done,Wt.value)})}}}function We(fe,Ie){return Object.defineProperty?Object.defineProperty(fe,"raw",{value:Ie}):fe.raw=Ie,fe}var Ye=Object.create?function(fe,Ie){Object.defineProperty(fe,"default",{enumerable:!0,value:Ie})}:function(fe,Ie){fe.default=Ie};function ze(fe){if(fe&&fe.__esModule)return fe;var Ie={};if(null!=fe)for(var Oe in fe)"default"!==Oe&&Object.prototype.hasOwnProperty.call(fe,Oe)&&ee(Ie,fe,Oe);return Ye(Ie,fe),Ie}function mt(fe){return fe&&fe.__esModule?fe:{default:fe}}function Te(fe,Ie,Oe,Be){if("a"===Oe&&!Be)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof Ie?fe!==Ie||!Be:!Ie.has(fe))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===Oe?Be:"a"===Oe?Be.call(fe):Be?Be.value:Ie.get(fe)}function Re(fe,Ie,Oe,Be,Xe){if("m"===Be)throw new TypeError("Private method is not writable");if("a"===Be&&!Xe)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof Ie?fe!==Ie||!Xe:!Ie.has(fe))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===Be?Xe.call(fe,Oe):Xe?Xe.value=Oe:Ie.set(fe,Oe),Oe}},4602:Ot=>{"use strict";Ot.exports='\n/* classes attached to <body> */\n/* TODO: make fc-event selector work when calender in shadow DOM */\n.fc-not-allowed,\n.fc-not-allowed .fc-event { /* override events\' custom cursors */\n  cursor: not-allowed;\n}\n/* TODO: not attached to body. attached to specific els. move */\n.fc-unselectable {\n  -webkit-user-select: none;\n          user-select: none;\n  -webkit-touch-callout: none;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.fc {\n  /* layout of immediate children */\n  display: flex;\n  flex-direction: column;\n\n  font-size: 1em\n}\n.fc,\n  .fc *,\n  .fc *:before,\n  .fc *:after {\n    box-sizing: border-box;\n  }\n.fc table {\n    border-collapse: collapse;\n    border-spacing: 0;\n    font-size: 1em; /* normalize cross-browser */\n  }\n.fc th {\n    text-align: center;\n  }\n.fc th,\n  .fc td {\n    vertical-align: top;\n    padding: 0;\n  }\n.fc a[data-navlink] {\n    cursor: pointer;\n  }\n.fc a[data-navlink]:hover {\n    text-decoration: underline;\n  }\n.fc-direction-ltr {\n  direction: ltr;\n  text-align: left;\n}\n.fc-direction-rtl {\n  direction: rtl;\n  text-align: right;\n}\n.fc-theme-standard td,\n  .fc-theme-standard th {\n    border: 1px solid #ddd;\n    border: 1px solid var(--fc-border-color, #ddd);\n  }\n/* for FF, which doesn\'t expand a 100% div within a table cell. use absolute positioning */\n/* inner-wrappers are responsible for being absolute */\n/* TODO: best place for this? */\n.fc-liquid-hack td,\n  .fc-liquid-hack th {\n    position: relative;\n  }\n@font-face {\n  font-family: \'fcicons\';\n  src: url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format(\'truetype\');\n  font-weight: normal;\n  font-style: normal;\n}\n.fc-icon {\n  /* added for fc */\n  display: inline-block;\n  width: 1em;\n  height: 1em;\n  text-align: center;\n  -webkit-user-select: none;\n          user-select: none;\n\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: \'fcicons\' !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-feature-settings: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.fc-icon-chevron-left:before {\n  content: "\\e900";\n}\n.fc-icon-chevron-right:before {\n  content: "\\e901";\n}\n.fc-icon-chevrons-left:before {\n  content: "\\e902";\n}\n.fc-icon-chevrons-right:before {\n  content: "\\e903";\n}\n.fc-icon-minus-square:before {\n  content: "\\e904";\n}\n.fc-icon-plus-square:before {\n  content: "\\e905";\n}\n.fc-icon-x:before {\n  content: "\\e906";\n}\n/*\nLots taken from Flatly (MIT): https://bootswatch.com/4/flatly/bootstrap.css\n\nThese styles only apply when the standard-theme is activated.\nWhen it\'s NOT activated, the fc-button classes won\'t even be in the DOM.\n*/\n.fc {\n\n  /* reset */\n\n}\n.fc .fc-button {\n    border-radius: 0;\n    overflow: visible;\n    text-transform: none;\n    margin: 0;\n    font-family: inherit;\n    font-size: inherit;\n    line-height: inherit;\n  }\n.fc .fc-button:focus {\n    outline: 1px dotted;\n    outline: 5px auto -webkit-focus-ring-color;\n  }\n.fc .fc-button {\n    -webkit-appearance: button;\n  }\n.fc .fc-button:not(:disabled) {\n    cursor: pointer;\n  }\n.fc .fc-button::-moz-focus-inner {\n    padding: 0;\n    border-style: none;\n  }\n.fc {\n\n  /* theme */\n\n}\n.fc .fc-button {\n    display: inline-block;\n    font-weight: 400;\n    text-align: center;\n    vertical-align: middle;\n    -webkit-user-select: none;\n            user-select: none;\n    background-color: transparent;\n    border: 1px solid transparent;\n    padding: 0.4em 0.65em;\n    font-size: 1em;\n    line-height: 1.5;\n    border-radius: 0.25em;\n  }\n.fc .fc-button:hover {\n    text-decoration: none;\n  }\n.fc .fc-button:focus {\n    outline: 0;\n    box-shadow: 0 0 0 0.2rem rgba(44, 62, 80, 0.25);\n  }\n.fc .fc-button:disabled {\n    opacity: 0.65;\n  }\n.fc {\n\n  /* "primary" coloring */\n\n}\n.fc .fc-button-primary {\n    color: #fff;\n    color: var(--fc-button-text-color, #fff);\n    background-color: #2C3E50;\n    background-color: var(--fc-button-bg-color, #2C3E50);\n    border-color: #2C3E50;\n    border-color: var(--fc-button-border-color, #2C3E50);\n  }\n.fc .fc-button-primary:hover {\n    color: #fff;\n    color: var(--fc-button-text-color, #fff);\n    background-color: #1e2b37;\n    background-color: var(--fc-button-hover-bg-color, #1e2b37);\n    border-color: #1a252f;\n    border-color: var(--fc-button-hover-border-color, #1a252f);\n  }\n.fc .fc-button-primary:disabled { /* not DRY */\n    color: #fff;\n    color: var(--fc-button-text-color, #fff);\n    background-color: #2C3E50;\n    background-color: var(--fc-button-bg-color, #2C3E50);\n    border-color: #2C3E50;\n    border-color: var(--fc-button-border-color, #2C3E50); /* overrides :hover */\n  }\n.fc .fc-button-primary:focus {\n    box-shadow: 0 0 0 0.2rem rgba(76, 91, 106, 0.5);\n  }\n.fc .fc-button-primary:not(:disabled):active,\n  .fc .fc-button-primary:not(:disabled).fc-button-active {\n    color: #fff;\n    color: var(--fc-button-text-color, #fff);\n    background-color: #1a252f;\n    background-color: var(--fc-button-active-bg-color, #1a252f);\n    border-color: #151e27;\n    border-color: var(--fc-button-active-border-color, #151e27);\n  }\n.fc .fc-button-primary:not(:disabled):active:focus,\n  .fc .fc-button-primary:not(:disabled).fc-button-active:focus {\n    box-shadow: 0 0 0 0.2rem rgba(76, 91, 106, 0.5);\n  }\n.fc {\n\n  /* icons within buttons */\n\n}\n.fc .fc-button .fc-icon {\n    vertical-align: middle;\n    font-size: 1.5em; /* bump up the size (but don\'t make it bigger than line-height of button, which is 1.5em also) */\n  }\n.fc .fc-button-group {\n    position: relative;\n    display: inline-flex;\n    vertical-align: middle;\n  }\n.fc .fc-button-group > .fc-button {\n    position: relative;\n    flex: 1 1 auto;\n  }\n.fc .fc-button-group > .fc-button:hover {\n    z-index: 1;\n  }\n.fc .fc-button-group > .fc-button:focus,\n  .fc .fc-button-group > .fc-button:active,\n  .fc .fc-button-group > .fc-button.fc-button-active {\n    z-index: 1;\n  }\n.fc-direction-ltr .fc-button-group > .fc-button:not(:first-child) {\n    margin-left: -1px;\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n.fc-direction-ltr .fc-button-group > .fc-button:not(:last-child) {\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n.fc-direction-rtl .fc-button-group > .fc-button:not(:first-child) {\n    margin-right: -1px;\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n.fc-direction-rtl .fc-button-group > .fc-button:not(:last-child) {\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n.fc .fc-toolbar {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n.fc .fc-toolbar.fc-header-toolbar {\n    margin-bottom: 1.5em;\n  }\n.fc .fc-toolbar.fc-footer-toolbar {\n    margin-top: 1.5em;\n  }\n.fc .fc-toolbar-title {\n    font-size: 1.75em;\n    margin: 0;\n  }\n.fc-direction-ltr .fc-toolbar > * > :not(:first-child) {\n    margin-left: .75em; /* space between */\n  }\n.fc-direction-rtl .fc-toolbar > * > :not(:first-child) {\n    margin-right: .75em; /* space between */\n  }\n.fc-direction-rtl .fc-toolbar-ltr { /* when the toolbar-chunk positioning system is explicitly left-to-right */\n    flex-direction: row-reverse;\n  }\n.fc .fc-scroller {\n    -webkit-overflow-scrolling: touch;\n    position: relative; /* for abs-positioned elements within */\n  }\n.fc .fc-scroller-liquid {\n    height: 100%;\n  }\n.fc .fc-scroller-liquid-absolute {\n    position: absolute;\n    top: 0;\n    right: 0;\n    left: 0;\n    bottom: 0;\n  }\n.fc .fc-scroller-harness {\n    position: relative;\n    overflow: hidden;\n    direction: ltr;\n      /* hack for chrome computing the scroller\'s right/left wrong for rtl. undone below... */\n      /* TODO: demonstrate in codepen */\n  }\n.fc .fc-scroller-harness-liquid {\n    height: 100%;\n  }\n.fc-direction-rtl .fc-scroller-harness > .fc-scroller { /* undo above hack */\n    direction: rtl;\n  }\n.fc-theme-standard .fc-scrollgrid {\n    border: 1px solid #ddd;\n    border: 1px solid var(--fc-border-color, #ddd); /* bootstrap does this. match */\n  }\n.fc .fc-scrollgrid,\n    .fc .fc-scrollgrid table { /* all tables (self included) */\n      width: 100%; /* because tables don\'t normally do this */\n      table-layout: fixed;\n    }\n.fc .fc-scrollgrid table { /* inner tables */\n      border-top-style: hidden;\n      border-left-style: hidden;\n      border-right-style: hidden;\n    }\n.fc .fc-scrollgrid {\n\n    border-collapse: separate;\n    border-right-width: 0;\n    border-bottom-width: 0;\n\n  }\n.fc .fc-scrollgrid-liquid {\n    height: 100%;\n  }\n.fc .fc-scrollgrid-section { /* a <tr> */\n    height: 1px /* better than 0, for firefox */\n\n  }\n.fc .fc-scrollgrid-section > td {\n      height: 1px; /* needs a height so inner div within grow. better than 0, for firefox */\n    }\n.fc .fc-scrollgrid-section table {\n      height: 1px;\n        /* for most browsers, if a height isn\'t set on the table, can\'t do liquid-height within cells */\n        /* serves as a min-height. harmless */\n    }\n.fc .fc-scrollgrid-section-liquid > td {\n      height: 100%; /* better than `auto`, for firefox */\n    }\n.fc .fc-scrollgrid-section > * {\n    border-top-width: 0;\n    border-left-width: 0;\n  }\n.fc .fc-scrollgrid-section-header > *,\n  .fc .fc-scrollgrid-section-footer > * {\n    border-bottom-width: 0;\n  }\n.fc .fc-scrollgrid-section-body table,\n  .fc .fc-scrollgrid-section-footer table {\n    border-bottom-style: hidden; /* head keeps its bottom border tho */\n  }\n.fc {\n\n  /* stickiness */\n\n}\n.fc .fc-scrollgrid-section-sticky > * {\n    background: #fff;\n    background: var(--fc-page-bg-color, #fff);\n    position: sticky;\n    z-index: 3; /* TODO: var */\n    /* TODO: box-shadow when sticking */\n  }\n.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky > * {\n    top: 0; /* because border-sharing causes a gap at the top */\n      /* TODO: give safari -1. has bug */\n  }\n.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky > * {\n    bottom: 0; /* known bug: bottom-stickiness doesn\'t work in safari */\n  }\n.fc .fc-scrollgrid-sticky-shim { /* for horizontal scrollbar */\n    height: 1px; /* needs height to create scrollbars */\n    margin-bottom: -1px;\n  }\n.fc-sticky { /* no .fc wrap because used as child of body */\n  position: sticky;\n}\n.fc .fc-view-harness {\n    flex-grow: 1; /* because this harness is WITHIN the .fc\'s flexbox */\n    position: relative;\n  }\n.fc {\n\n  /* when the harness controls the height, make the view liquid */\n\n}\n.fc .fc-view-harness-active > .fc-view {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n  }\n.fc .fc-col-header-cell-cushion {\n    display: inline-block; /* x-browser for when sticky (when multi-tier header) */\n    padding: 2px 4px;\n  }\n.fc .fc-bg-event,\n  .fc .fc-non-business,\n  .fc .fc-highlight {\n    /* will always have a harness with position:relative/absolute, so absolutely expand */\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n.fc .fc-non-business {\n    background: rgba(215, 215, 215, 0.3);\n    background: var(--fc-non-business-color, rgba(215, 215, 215, 0.3));\n  }\n.fc .fc-bg-event {\n    background: rgb(143, 223, 130);\n    background: var(--fc-bg-event-color, rgb(143, 223, 130));\n    opacity: 0.3;\n    opacity: var(--fc-bg-event-opacity, 0.3)\n  }\n.fc .fc-bg-event .fc-event-title {\n      margin: .5em;\n      font-size: .85em;\n      font-size: var(--fc-small-font-size, .85em);\n      font-style: italic;\n    }\n.fc .fc-highlight {\n    background: rgba(188, 232, 241, 0.3);\n    background: var(--fc-highlight-color, rgba(188, 232, 241, 0.3));\n  }\n.fc .fc-cell-shaded,\n  .fc .fc-day-disabled {\n    background: rgba(208, 208, 208, 0.3);\n    background: var(--fc-neutral-bg-color, rgba(208, 208, 208, 0.3));\n  }\n/* link resets */\n/* ---------------------------------------------------------------------------------------------------- */\na.fc-event,\na.fc-event:hover {\n  text-decoration: none;\n}\n/* cursor */\n.fc-event[href],\n.fc-event.fc-event-draggable {\n  cursor: pointer;\n}\n/* event text content */\n/* ---------------------------------------------------------------------------------------------------- */\n.fc-event .fc-event-main {\n    position: relative;\n    z-index: 2;\n  }\n/* dragging */\n/* ---------------------------------------------------------------------------------------------------- */\n.fc-event-dragging:not(.fc-event-selected) { /* MOUSE */\n    opacity: 0.75;\n  }\n.fc-event-dragging.fc-event-selected { /* TOUCH */\n    box-shadow: 0 2px 7px rgba(0, 0, 0, 0.3);\n  }\n/* resizing */\n/* ---------------------------------------------------------------------------------------------------- */\n/* (subclasses should hone positioning for touch and non-touch) */\n.fc-event .fc-event-resizer {\n    display: none;\n    position: absolute;\n    z-index: 4;\n  }\n.fc-event:hover, /* MOUSE */\n.fc-event-selected { /* TOUCH */\n\n}\n.fc-event:hover .fc-event-resizer, .fc-event-selected .fc-event-resizer {\n    display: block;\n  }\n.fc-event-selected .fc-event-resizer {\n    border-radius: 4px;\n    border-radius: calc(var(--fc-event-resizer-dot-total-width, 8px) / 2);\n    border-width: 1px;\n    border-width: var(--fc-event-resizer-dot-border-width, 1px);\n    width: 8px;\n    width: var(--fc-event-resizer-dot-total-width, 8px);\n    height: 8px;\n    height: var(--fc-event-resizer-dot-total-width, 8px);\n    border-style: solid;\n    border-color: inherit;\n    background: #fff;\n    background: var(--fc-page-bg-color, #fff)\n\n    /* expand hit area */\n\n  }\n.fc-event-selected .fc-event-resizer:before {\n      content: \'\';\n      position: absolute;\n      top: -20px;\n      left: -20px;\n      right: -20px;\n      bottom: -20px;\n    }\n/* selecting (always TOUCH) */\n/* OR, focused by tab-index */\n/* (TODO: maybe not the best focus-styling for .fc-daygrid-dot-event) */\n/* ---------------------------------------------------------------------------------------------------- */\n.fc-event-selected,\n.fc-event:focus {\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2)\n\n  /* expand hit area (subclasses should expand) */\n\n}\n.fc-event-selected:before, .fc-event:focus:before {\n    content: "";\n    position: absolute;\n    z-index: 3;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n.fc-event-selected,\n.fc-event:focus {\n\n  /* dimmer effect */\n\n}\n.fc-event-selected:after, .fc-event:focus:after {\n    content: "";\n    background: rgba(0, 0, 0, 0.25);\n    background: var(--fc-event-selected-overlay-color, rgba(0, 0, 0, 0.25));\n    position: absolute;\n    z-index: 1;\n\n    /* assume there\'s a border on all sides. overcome it. */\n    /* sometimes there\'s NOT a border, in which case the dimmer will go over */\n    /* an adjacent border, which looks fine. */\n    top: -1px;\n    left: -1px;\n    right: -1px;\n    bottom: -1px;\n  }\n/*\nA HORIZONTAL event\n*/\n.fc-h-event { /* allowed to be top-level */\n  display: block;\n  border: 1px solid #3788d8;\n  border: 1px solid var(--fc-event-border-color, #3788d8);\n  background-color: #3788d8;\n  background-color: var(--fc-event-bg-color, #3788d8)\n\n}\n.fc-h-event .fc-event-main {\n    color: #fff;\n    color: var(--fc-event-text-color, #fff);\n  }\n.fc-h-event .fc-event-main-frame {\n    display: flex; /* for make fc-event-title-container expand */\n  }\n.fc-h-event .fc-event-time {\n    max-width: 100%; /* clip overflow on this element */\n    overflow: hidden;\n  }\n.fc-h-event .fc-event-title-container { /* serves as a container for the sticky cushion */\n    flex-grow: 1;\n    flex-shrink: 1;\n    min-width: 0; /* important for allowing to shrink all the way */\n  }\n.fc-h-event .fc-event-title {\n    display: inline-block; /* need this to be sticky cross-browser */\n    vertical-align: top; /* for not messing up line-height */\n    left: 0;  /* for sticky */\n    right: 0; /* for sticky */\n    max-width: 100%; /* clip overflow on this element */\n    overflow: hidden;\n  }\n.fc-h-event.fc-event-selected:before {\n    /* expand hit area */\n    top: -10px;\n    bottom: -10px;\n  }\n/* adjust border and border-radius (if there is any) for non-start/end */\n.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),\n.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end) {\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  border-left-width: 0;\n}\n.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),\n.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start) {\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  border-right-width: 0;\n}\n/* resizers */\n.fc-h-event:not(.fc-event-selected) .fc-event-resizer {\n  top: 0;\n  bottom: 0;\n  width: 8px;\n  width: var(--fc-event-resizer-thickness, 8px);\n}\n.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,\n.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end {\n  cursor: w-resize;\n  left: -4px;\n  left: calc(-0.5 * var(--fc-event-resizer-thickness, 8px));\n}\n.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,\n.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start {\n  cursor: e-resize;\n  right: -4px;\n  right: calc(-0.5 * var(--fc-event-resizer-thickness, 8px));\n}\n/* resizers for TOUCH */\n.fc-h-event.fc-event-selected .fc-event-resizer {\n  top: 50%;\n  margin-top: -4px;\n  margin-top: calc(-0.5 * var(--fc-event-resizer-dot-total-width, 8px));\n}\n.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,\n.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end {\n  left: -4px;\n  left: calc(-0.5 * var(--fc-event-resizer-dot-total-width, 8px));\n}\n.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,\n.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start {\n  right: -4px;\n  right: calc(-0.5 * var(--fc-event-resizer-dot-total-width, 8px));\n}\n.fc .fc-popover {\n    position: absolute;\n    z-index: 9999;\n    box-shadow: 0 2px 6px rgba(0,0,0,.15);\n  }\n.fc .fc-popover-header {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    padding: 3px 4px;\n  }\n.fc .fc-popover-title {\n    margin: 0 2px;\n  }\n.fc .fc-popover-close {\n    cursor: pointer;\n    opacity: 0.65;\n    font-size: 1.1em;\n  }\n.fc-theme-standard .fc-popover {\n    border: 1px solid #ddd;\n    border: 1px solid var(--fc-border-color, #ddd);\n    background: #fff;\n    background: var(--fc-page-bg-color, #fff);\n  }\n.fc-theme-standard .fc-popover-header {\n    background: rgba(208, 208, 208, 0.3);\n    background: var(--fc-neutral-bg-color, rgba(208, 208, 208, 0.3));\n  }\n'},5e3:(Ot,$e,$)=>{"use strict";$.d($e,{$8M:()=>vr,$Z:()=>wf,AFp:()=>hv,ALo:()=>Km,AaK:()=>xe,BQk:()=>gp,CHM:()=>uo,CRH:()=>rv,CZH:()=>fv,CqO:()=>Gb,EJc:()=>oS,EiD:()=>zl,EpF:()=>vp,F4k:()=>jb,FYo:()=>H_,FiY:()=>is,G48:()=>Gw,Gf:()=>Np,GfV:()=>G_,Gpc:()=>de,JOm:()=>X,JVY:()=>Ul,L6k:()=>Ou,LAX:()=>qd,LFG:()=>kr,LSH:()=>Fc,Lbi:()=>Hp,NdJ:()=>g_,O4$:()=>ph,OlP:()=>ir,PXZ:()=>bv,Q6J:()=>fp,QGY:()=>p_,Qsj:()=>nw,R0b:()=>Jo,RDi:()=>ts,Rgc:()=>rd,SBq:()=>wi,Sil:()=>uS,Suo:()=>l0,TTD:()=>hi,TgZ:()=>hp,Tol:()=>__,Udp:()=>Em,VLi:()=>hS,X6Q:()=>mS,XFs:()=>Dt,Xpm:()=>Pe,Y36:()=>dp,YKP:()=>Hm,YNc:()=>Ib,Yjl:()=>bt,Yz7:()=>Cn,ZZ4:()=>Sv,_Bn:()=>Xl,_UZ:()=>h_,_Vd:()=>Rf,_c5:()=>ES,_uU:()=>pA,aQg:()=>P0,c2e:()=>Ow,cJS:()=>Ee,cg1:()=>R_,d8E:()=>x_,dDg:()=>A0,deG:()=>Pd,dqk:()=>_n,eBb:()=>Nc,eFA:()=>S0,ekj:()=>sA,g9A:()=>Up,h0i:()=>kf,hGG:()=>tc,hij:()=>Am,iGM:()=>Bf,ifc:()=>un,ip1:()=>y0,kL8:()=>IA,kYT:()=>pe,lG2:()=>et,lcZ:()=>Li,mCW:()=>b,n5z:()=>mc,oAB:()=>Se,oJD:()=>Nh,oxw:()=>Cf,pB0:()=>Fu,q3G:()=>Ur,q4F:()=>Vm,qLn:()=>Bu,qOj:()=>im,qZA:()=>vm,qzn:()=>Ss,sBO:()=>$w,sIi:()=>Ia,s_b:()=>Lf,soG:()=>id,tBr:()=>_o,tb:()=>jp,tp0:()=>tl,uIk:()=>up,vHH:()=>ie,vpe:()=>Yo,wAp:()=>yn,xp6:()=>Cy,yhl:()=>Pu,ynx:()=>pp,z2F:()=>Cv,z3N:()=>Ks,zSh:()=>Wy,zs3:()=>Sa});var h=$(7579),P=$(727),R=$(8306),G=$(6451),ne=$(3099);function Ce(s){for(let o in s)if(s[o]===Ce)return o;throw Error("Could not find renamed property on target object.")}function be(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function xe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(xe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function De(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const ee=Ce({__forward_ref__:Ce});function de(s){return s.__forward_ref__=de,s.toString=function(){return xe(this())},s}function T(s){return F(s)?s():s}function F(s){return"function"==typeof s&&s.hasOwnProperty(ee)&&s.__forward_ref__===de}class ie extends Error{constructor(o,a){super(function me(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,a)),this.code=o}}function ce(s){return"string"==typeof s?s:null==s?"":String(s)}function se(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ce(s)}function Ye(s,o){const a=o?` in ${o}`:"";throw new ie(-201,`No provider for ${se(s)} found${a}`)}function xt(s,o){null==s&&function Ut(s,o,a,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${a} ${u} ${o} <=Actual]`))}(o,s,null,"!=")}function Cn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Ee(s){return{providers:s.providers||[],imports:s.imports||[]}}function Ve(s){return lt(s,on)||lt(s,fn)}function lt(s,o){return s.hasOwnProperty(o)?s[o]:null}function Lt(s){return s&&(s.hasOwnProperty(pn)||s.hasOwnProperty(Ze))?s[pn]:null}const on=Ce({\u0275prov:Ce}),pn=Ce({\u0275inj:Ce}),fn=Ce({ngInjectableDef:Ce}),Ze=Ce({ngInjectorDef:Ce});var Dt=(()=>((Dt=Dt||{})[Dt.Default=0]="Default",Dt[Dt.Host=1]="Host",Dt[Dt.Self=2]="Self",Dt[Dt.SkipSelf=4]="SkipSelf",Dt[Dt.Optional=8]="Optional",Dt))();let Xt;function Vt(s){const o=Xt;return Xt=s,o}function er(s,o,a){const u=Ve(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&Dt.Optional?null:void 0!==o?o:void Ye(xe(s),"Injector")}function xn(s){return{toString:s}.toString()}var Dn=(()=>((Dn=Dn||{})[Dn.OnPush=0]="OnPush",Dn[Dn.Default=1]="Default",Dn))(),un=(()=>{return(s=un||(un={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",un;var s})();const qt="undefined"!=typeof globalThis&&globalThis,Rt="undefined"!=typeof window&&window,tr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,_n=qt||"undefined"!=typeof global&&global||Rt||tr,Tn={},ue=[],ve=Ce({\u0275cmp:Ce}),B=Ce({\u0275dir:Ce}),Y=Ce({\u0275pipe:Ce}),W=Ce({\u0275mod:Ce}),le=Ce({\u0275fac:Ce}),ae=Ce({__NG_ELEMENT_ID__:Ce});let ge=0;function Pe(s){return xn(()=>{const a={},u={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Dn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||ue,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||un.Emulated,id:"c",styles:s.styles||ue,_:null,setInput:null,schemas:s.schemas||null,tView:null},g=s.directives,y=s.features,w=s.pipes;return u.id+=ge++,u.inputs=he(s.inputs,a),u.outputs=he(s.outputs),y&&y.forEach(S=>S(u)),u.directiveDefs=g?()=>("function"==typeof g?g():g).map(pt):null,u.pipeDefs=w?()=>("function"==typeof w?w():w).map(ut):null,u})}function pt(s){return jt(s)||function rn(s){return s[B]||null}(s)}function ut(s){return function Ln(s){return s[Y]||null}(s)}const $t={};function Se(s){return xn(()=>{const o={type:s.type,bootstrap:s.bootstrap||ue,declarations:s.declarations||ue,imports:s.imports||ue,exports:s.exports||ue,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&($t[s.id]=s.type),o})}function pe(s,o){return xn(()=>{const a=Bt(s,!0);a.declarations=o.declarations||ue,a.imports=o.imports||ue,a.exports=o.exports||ue})}function he(s,o){if(null==s)return Tn;const a={};for(const u in s)if(s.hasOwnProperty(u)){let g=s[u],y=g;Array.isArray(g)&&(y=g[1],g=g[0]),a[g]=u,o&&(o[g]=y)}return a}const et=Pe;function bt(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function jt(s){return s[ve]||null}function Bt(s,o){const a=s[W]||null;if(!a&&!0===o)throw new Error(`Type ${xe(s)} does not have '\u0275mod' property.`);return a}function di(s){return Array.isArray(s)&&"object"==typeof s[1]}function fi(s){return Array.isArray(s)&&!0===s[1]}function na(s){return 0!=(8&s.flags)}function Ro(s){return 2==(2&s.flags)}function so(s){return 1==(1&s.flags)}function _i(s){return null!==s.template}function uc(s){return 0!=(512&s[2])}function Ii(s,o){return s.hasOwnProperty(le)?s[le]:null}class ia{constructor(o,a,u){this.previousValue=o,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function hi(){return oo}function oo(s){return s.type.prototype.ngOnChanges&&(s.setInput=Ed),sa}function sa(){const s=Vs(this),o=null==s?void 0:s.current;if(o){const a=s.previous;if(a===Tn)s.previous=o;else for(let u in o)a[u]=o[u];s.current=null,this.ngOnChanges(o)}}function Ed(s,o,a,u){const g=Vs(s)||function vs(s,o){return s[es]=o}(s,{previous:Tn,current:null}),y=g.current||(g.current={}),w=g.previous,S=this.declaredInputs[a],x=w[S];y[S]=new ia(x&&x.currentValue,o,w===Tn),s[u]=o}hi.ngInherit=!0;const es="__ngSimpleChanges__";function Vs(s){return s[es]||null}let Po;function ts(s){Po=s}function ao(){return void 0!==Po?Po:"undefined"!=typeof document?document:void 0}function fr(s){return!!s.listen}const Wi={createRenderer:(s,o)=>ao()};function Zn(s){for(;Array.isArray(s);)s=s[0];return s}function lo(s,o){return Zn(o[s])}function ti(s,o){return Zn(o[s.index])}function ua(s,o){return s.data[o]}function Z(s,o){const a=o[s];return di(a)?a:a[0]}function we(s){return 4==(4&s[2])}function Ge(s){return 128==(128&s[2])}function It(s,o){return null==o?null:s[o]}function cn(s){s[18]=0}function or(s,o){s[5]+=o;let a=s,u=s[3];for(;null!==u&&(1===o&&1===a[5]||-1===o&&0===a[5]);)u[5]+=o,a=u,u=u[3]}const Gt={lFrame:Il(null),bindingsEnabled:!0};function Hs(){return Gt.bindingsEnabled}function ot(){return Gt.lFrame.lView}function Nn(){return Gt.lFrame.tView}function uo(s){return Gt.lFrame.contextLView=s,s[8]}function Tr(){let s=bd();for(;null!==s&&64===s.type;)s=s.parent;return s}function bd(){return Gt.lFrame.currentTNode}function js(s,o){const a=Gt.lFrame;a.currentTNode=s,a.isParent=o}function fc(){return Gt.lFrame.isParent}function Cl(){Gt.lFrame.isParent=!1}function ca(){return Gt.lFrame.bindingIndex++}function bs(s){const o=Gt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function dh(s,o){const a=Gt.lFrame;a.bindingIndex=a.bindingRootIndex=s,Tl(o)}function Tl(s){Gt.lFrame.currentDirectiveIndex=s}function cu(s){const o=Gt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function Dd(){return Gt.lFrame.currentQueryIndex}function Td(s){Gt.lFrame.currentQueryIndex=s}function Sl(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function du(s,o,a){if(a&Dt.SkipSelf){let g=o,y=s;for(;!(g=g.parent,null!==g||a&Dt.Host||(g=Sl(y),null===g||(y=y[15],10&g.type))););if(null===g)return!1;o=g,s=y}const u=Gt.lFrame=Fo();return u.currentTNode=o,u.lView=s,!0}function zr(s){const o=Fo(),a=s[1];Gt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Fo(){const s=Gt.lFrame,o=null===s?null:s.child;return null===o?Il(s):o}function Il(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Sd(){const s=Gt.lFrame;return Gt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const hc=Sd;function As(){const s=Sd();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function ri(){return Gt.lFrame.selectedIndex}function Gs(s){Gt.lFrame.selectedIndex=s}function Fr(){const s=Gt.lFrame;return ua(s.tView,s.selectedIndex)}function ph(){Gt.lFrame.currentNamespace="svg"}function zs(s,o){for(let a=o.directiveStart,u=o.directiveEnd;a<u;a++){const y=s.data[a].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:S,ngAfterViewInit:x,ngAfterViewChecked:L,ngOnDestroy:j}=y;w&&(s.contentHooks||(s.contentHooks=[])).push(-a,w),S&&((s.contentHooks||(s.contentHooks=[])).push(a,S),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,S)),x&&(s.viewHooks||(s.viewHooks=[])).push(-a,x),L&&((s.viewHooks||(s.viewHooks=[])).push(a,L),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,L)),null!=j&&(s.destroyHooks||(s.destroyHooks=[])).push(a,j)}}function Ml(s,o,a){mh(s,o,3,a)}function fu(s,o,a,u){(3&s[2])===a&&mh(s,o,a,u)}function pc(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function mh(s,o,a,u){const y=null!=u?u:-1,w=o.length-1;let S=0;for(let x=void 0!==u?65535&s[18]:0;x<w;x++)if("number"==typeof o[x+1]){if(S=o[x],null!=u&&S>=u)break}else o[x]<0&&(s[18]+=65536),(S<y||-1==y)&&(vh(s,a,o,x),s[18]=(4294901760&s[18])+x+2),x++}function vh(s,o,a,u){const g=a[u]<0,y=a[u+1],S=s[g?-a[u]:a[u]];if(g){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{y.call(S)}finally{}}}else try{y.call(S)}finally{}}class $a{constructor(o,a,u){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function Rl(s,o,a){const u=fr(s);let g=0;for(;g<a.length;){const y=a[g];if("number"==typeof y){if(0!==y)break;g++;const w=a[g++],S=a[g++],x=a[g++];u?s.setAttribute(o,S,x,w):o.setAttributeNS(w,S,x)}else{const w=y,S=a[++g];gc(w)?u&&s.setProperty(o,w,S):u?s.setAttribute(o,w,S):o.setAttribute(w,S),g++}}return g}function pu(s){return 3===s||4===s||6===s}function gc(s){return 64===s.charCodeAt(0)}function da(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let u=0;u<o.length;u++){const g=o[u];"number"==typeof g?a=g:0===a||fo(s,a,g,null,-1===a||2===a?o[++u]:null)}}return s}function fo(s,o,a,u,g){let y=0,w=s.length;if(-1===o)w=-1;else for(;y<s.length;){const S=s[y++];if("number"==typeof S){if(S===o){w=-1;break}if(S>o){w=y-1;break}}}for(;y<s.length;){const S=s[y];if("number"==typeof S)break;if(S===a){if(null===u)return void(null!==g&&(s[y+1]=g));if(u===s[y+1])return void(s[y+2]=g)}y++,null!==u&&y++,null!==g&&y++}-1!==w&&(s.splice(w,0,o),y=w+1),s.splice(y++,0,a),null!==u&&s.splice(y++,0,u),null!==g&&s.splice(y++,0,g)}function Nl(s){return-1!==s}function lr(s){return 32767&s}function gn(s,o){let a=function Mi(s){return s>>16}(s),u=o;for(;a>0;)u=u[15],a--;return u}let kl=!0;function fa(s){const o=kl;return kl=s,o}let xd=0;function pi(s,o){const a=ho(s,o);if(-1!==a)return a;const u=o[1];u.firstCreatePass&&(s.injectorIndex=o.length,ha(u.data,s),ha(o,null),ha(u.blueprint,null));const g=mu(s,o),y=s.injectorIndex;if(Nl(g)){const w=lr(g),S=gn(g,o),x=S[1].data;for(let L=0;L<8;L++)o[y+L]=S[w+L]|x[w+L]}return o[y+8]=g,y}function ha(s,o){s.push(0,0,0,0,0,0,0,0,o)}function ho(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function mu(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,u=null,g=o;for(;null!==g;){const y=g[1],w=y.type;if(u=2===w?y.declTNode:1===w?g[6]:null,null===u)return-1;if(a++,g=g[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function qa(s,o,a){!function ws(s,o,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(ae)&&(u=a[ae]),null==u&&(u=a[ae]=xd++);const g=255&u;o.data[s+(g>>5)]|=1<<g}(s,o,a)}function Cs(s,o,a){if(a&Dt.Optional)return s;Ye(o,"NodeInjector")}function Ws(s,o,a,u){if(a&Dt.Optional&&void 0===u&&(u=null),0==(a&(Dt.Self|Dt.Host))){const g=s[9],y=Vt(void 0);try{return g?g.get(o,u,a&Dt.Optional):er(o,u,a&Dt.Optional)}finally{Vt(y)}}return Cs(u,o,a)}function pa(s,o,a,u=Dt.Default,g){if(null!==s){const y=function Nd(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(ae)?s[ae]:void 0;return"number"==typeof o?o>=0?255&o:Lo:o}(a);if("function"==typeof y){if(!du(o,s,u))return u&Dt.Host?Cs(g,a,u):Ws(o,a,u,g);try{const w=y(u);if(null!=w||u&Dt.Optional)return w;Ye(a)}finally{hc()}}else if("number"==typeof y){let w=null,S=ho(s,o),x=-1,L=u&Dt.Host?o[16][6]:null;for((-1===S||u&Dt.SkipSelf)&&(x=-1===S?mu(s,o):o[S+8],-1!==x&&yu(u,!1)?(w=o[1],S=lr(x),o=gn(x,o)):S=-1);-1!==S;){const j=o[1];if(Vo(y,S,j.data)){const te=bh(S,o,a,w,u,L);if(te!==Qr)return te}x=o[S+8],-1!==x&&yu(u,o[1].data[S+8]===L)&&Vo(y,S,o)?(w=j,S=lr(x),o=gn(x,o)):S=-1}}}return Ws(o,a,u,g)}const Qr={};function Lo(){return new ii(Tr(),ot())}function bh(s,o,a,u,g,y){const w=o[1],S=w.data[s+8],j=vu(S,w,a,null==u?Ro(S)&&kl:u!=w&&0!=(3&S.type),g&Dt.Host&&y===S);return null!==j?ga(o,w,j,S):Qr}function vu(s,o,a,u,g){const y=s.providerIndexes,w=o.data,S=1048575&y,x=s.directiveStart,j=y>>20,ye=g?S+j:s.directiveEnd;for(let Fe=u?S:S+j;Fe<ye;Fe++){const nt=w[Fe];if(Fe<x&&a===nt||Fe>=x&&nt.type===a)return Fe}if(g){const Fe=w[x];if(Fe&&_i(Fe)&&Fe.type===a)return x}return null}function ga(s,o,a,u){let g=s[a];const y=o.data;if(function yh(s){return s instanceof $a}(g)){const w=g;w.resolving&&function je(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new ie(-200,`Circular dependency in DI detected for ${s}${a}`)}(se(y[a]));const S=fa(w.canSeeViewProviders);w.resolving=!0;const x=w.injectImpl?Vt(w.injectImpl):null;du(s,u,Dt.Default);try{g=s[a]=w.factory(void 0,y,s,u),o.firstCreatePass&&a>=u.directiveStart&&function Md(s,o,a){const{ngOnChanges:u,ngOnInit:g,ngDoCheck:y}=o.type.prototype;if(u){const w=oo(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,w),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,w)}g&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,g),y&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,y))}(a,y[a],o)}finally{null!==x&&Vt(x),fa(S),w.resolving=!1,hc()}}return g}function Vo(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function yu(s,o){return!(s&Dt.Self||s&Dt.Host&&o)}class ii{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,u){return pa(this._tNode,this._lView,o,u,a)}}function mc(s){return xn(()=>{const o=s.prototype.constructor,a=o[le]||Bo(o),u=Object.prototype;let g=Object.getPrototypeOf(s.prototype).constructor;for(;g&&g!==u;){const y=g[le]||Bo(g);if(y&&y!==a)return y;g=Object.getPrototypeOf(g)}return y=>new y})}function Bo(s){return F(s)?()=>{const o=Bo(T(s));return o&&o()}:Ii(s)}function vr(s){return function Rd(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const u=a.length;let g=0;for(;g<u;){const y=a[g];if(pu(y))break;if(0===y)g+=2;else if("number"==typeof y)for(g++;g<u&&"string"==typeof a[g];)g++;else{if(y===o)return a[g+1];g+=2}}}return null}(Tr(),s)}const ma="__parameters__";function Za(s,o,a){return xn(()=>{const u=function qs(s){return function(...a){if(s){const u=s(...a);for(const g in u)this[g]=u[g]}}}(o);function g(...y){if(this instanceof g)return u.apply(this,y),this;const w=new g(...y);return S.annotation=w,S;function S(x,L,j){const te=x.hasOwnProperty(ma)?x[ma]:Object.defineProperty(x,ma,{value:[]})[ma];for(;te.length<=j;)te.push(null);return(te[j]=te[j]||[]).push(w),x}}return a&&(g.prototype=Object.create(a.prototype)),g.prototype.ngMetadataName=s,g.annotationCls=g,g})}class ir{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Cn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Pd=new ir("AnalyzeForEntryComponents");function xi(s,o){void 0===o&&(o=s);for(let a=0;a<s.length;a++){let u=s[a];Array.isArray(u)?(o===s&&(o=s.slice(0,a)),xi(u,o)):o!==s&&o.push(u)}return o}function oi(s,o){s.forEach(a=>Array.isArray(a)?oi(a,o):o(a))}function Vd(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function mo(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function qi(s,o,a){let u=Ka(s,o);return u>=0?s[1|u]=a:(u=~u,function wh(s,o,a,u){let g=s.length;if(g==o)s.push(a,u);else if(1===g)s.push(u,s[0]),s[0]=a;else{for(g--,s.push(s[g-1],s[g]);g>o;)s[g]=s[g-2],g--;s[o]=a,s[o+1]=u}}(s,u,o,a)),u}function bc(s,o){const a=Ka(s,o);if(a>=0)return s[1|a]}function Ka(s,o){return function Au(s,o,a){let u=0,g=s.length>>a;for(;g!==u;){const y=u+(g-u>>1),w=s[y<<a];if(o===w)return y<<a;w>o?g=y:u=y+1}return~(g<<a)}(s,o,1)}const Zs={},Ja="__NG_DI_FLAG__",Du="ngTempTokenPath",Tc=/\n/gm,Ud="__source",Eg=Ce({provide:String,useValue:Ce});let ya;function Ic(s){const o=ya;return ya=s,o}function bg(s,o=Dt.Default){if(void 0===ya)throw new ie(203,"");return null===ya?er(s,void 0,o):ya.get(s,o&Dt.Optional?null:void 0,o)}function kr(s,o=Dt.Default){return(function vt(){return Xt}()||bg)(T(s),o)}const jd=kr;function _a(s){const o=[];for(let a=0;a<s.length;a++){const u=T(s[a]);if(Array.isArray(u)){if(0===u.length)throw new ie(900,"");let g,y=Dt.Default;for(let w=0;w<u.length;w++){const S=u[w],x=Gd(S);"number"==typeof x?-1===x?g=S.token:y|=x:g=S}o.push(kr(g,y))}else o.push(kr(u))}return o}function Ea(s,o){return s[Ja]=o,s.prototype[Ja]=o,s}function Gd(s){return s[Ja]}const _o=Ea(Za("Inject",s=>({token:s})),-1),is=Ea(Za("Optional"),8),tl=Ea(Za("SkipSelf"),4);let sl,Ru;function Bl(s){var o;return(null===(o=function xu(){if(void 0===sl&&(sl=null,_n.trustedTypes))try{sl=_n.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return sl}())||void 0===o?void 0:o.createHTML(s))||s}function $d(s){var o;return(null===(o=function ol(){if(void 0===Ru&&(Ru=null,_n.trustedTypes))try{Ru=_n.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Ru}())||void 0===o?void 0:o.createHTML(s))||s}class Go{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ih extends Go{getTypeName(){return"HTML"}}class xc extends Go{getTypeName(){return"Style"}}class Rc extends Go{getTypeName(){return"Script"}}class Wd extends Go{getTypeName(){return"URL"}}class ku extends Go{getTypeName(){return"ResourceURL"}}function Ks(s){return s instanceof Go?s.changingThisBreaksApplicationSecurity:s}function Ss(s,o){const a=Pu(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}function Pu(s){return s instanceof Go&&s.getTypeName()||null}function Ul(s){return new Ih(s)}function Ou(s){return new xc(s)}function Nc(s){return new Rc(s)}function qd(s){return new Wd(s)}function Fu(s){return new ku(s)}class Mh{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const a=(new window.DOMParser).parseFromString(Bl(o),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(o):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class kc{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const u=this.inertDocument.createElement("body");a.appendChild(u)}}getInertBodyElement(o){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Bl(o),a;const u=this.inertDocument.createElement("body");return u.innerHTML=Bl(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(o){const a=o.attributes;for(let g=a.length-1;0<g;g--){const w=a.item(g).name;("xmlns:ns1"===w||0===w.indexOf("ns1:"))&&o.removeAttribute(w)}let u=o.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const Pc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,_=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function b(s){return(s=String(s)).match(Pc)||s.match(_)?s:"unsafe:"+s}function U(s){const o={};for(const a of s.split(","))o[a]=!0;return o}function Q(...s){const o={};for(const a of s)for(const u in a)a.hasOwnProperty(u)&&(o[u]=!0);return o}const Le=U("area,br,col,hr,img,wbr"),ft=U("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),zt=U("rp,rt"),Ri=Q(Le,Q(ft,U("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Q(zt,U("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Q(zt,ft)),Is=U("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zo=U("srcset"),Eo=Q(Is,zo,U("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),U("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Kd=U("script,style,template");class Lu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let a=o.firstChild,u=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let g=this.checkClobberedElement(a,a.nextSibling);if(g){a=g;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(o){const a=o.nodeName.toLowerCase();if(!Ri.hasOwnProperty(a))return this.sanitizedSomething=!0,!Kd.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=o.attributes;for(let g=0;g<u.length;g++){const y=u.item(g),w=y.name,S=w.toLowerCase();if(!Eo.hasOwnProperty(S)){this.sanitizedSomething=!0;continue}let x=y.value;Is[S]&&(x=b(x)),zo[S]&&(s=x,x=(s=String(s)).split(",").map(o=>b(o.trim())).join(", ")),this.buf.push(" ",w,'="',Vu(x),'"')}var s;return this.buf.push(">"),!0}endElement(o){const a=o.nodeName.toLowerCase();Ri.hasOwnProperty(a)&&!Le.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(o){this.buf.push(Vu(o))}checkClobberedElement(o,a){if(a&&(o.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return a}}const Qd=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jl=/([^\#-~ |!])/g;function Vu(s){return s.replace(/&/g,"&amp;").replace(Qd,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(jl,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Gl;function zl(s,o){let a=null;try{Gl=Gl||function Hl(s){const o=new kc(s);return function xh(){try{return!!(new window.DOMParser).parseFromString(Bl(""),"text/html")}catch(s){return!1}}()?new Mh(o):o}(s);let u=o?String(o):"";a=Gl.getInertBodyElement(u);let g=5,y=u;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,u=y,y=a.innerHTML,a=Gl.getInertBodyElement(u)}while(u!==y);return Bl((new Lu).sanitizeChildren(wa(a)||a))}finally{if(a){const u=wa(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function wa(s){return"content"in s&&function Rh(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Ur=(()=>((Ur=Ur||{})[Ur.NONE=0]="NONE",Ur[Ur.HTML=1]="HTML",Ur[Ur.STYLE=2]="STYLE",Ur[Ur.SCRIPT=3]="SCRIPT",Ur[Ur.URL=4]="URL",Ur[Ur.RESOURCE_URL=5]="RESOURCE_URL",Ur))();function Nh(s){const o=Lc();return o?$d(o.sanitize(Ur.HTML,s)||""):Ss(s,"HTML")?$d(Ks(s)):zl(ao(),ce(s))}function Fc(s){const o=Lc();return o?o.sanitize(Ur.URL,s)||"":Ss(s,"URL")?Ks(s):b(ce(s))}function Lc(){const s=ot();return s&&s[12]}const Jd="__ngContext__";function Ei(s,o){s[Jd]=o}function Fh(s){const o=function Ms(s){return s[Jd]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function ef(s){return s.ngOriginalError}function Mg(s,...o){s.error(...o)}class Bu{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),u=function Vc(s){return s&&s.ngErrorLogger||Mg}(o);u(this._console,"ERROR",o),a&&u(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&ef(o);for(;a&&ef(a);)a=ef(a);return a||null}}const my=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(_n))();function A(s){return s instanceof Function?s():s}var X=(()=>((X=X||{})[X.Important=1]="Important",X[X.DashCase=2]="DashCase",X))();function Ue(s,o){return undefined(s,o)}function wt(s){const o=s[3];return fi(o)?o[3]:o}function kt(s){return Mr(s[13])}function nr(s){return Mr(s[4])}function Mr(s){for(;null!==s&&!fi(s);)s=s[4];return s}function Wr(s,o,a,u,g){if(null!=u){let y,w=!1;fi(u)?y=u:di(u)&&(w=!0,u=u[0]);const S=Zn(u);0===s&&null!==a?null==g?CE(o,a,S):rf(o,a,S,g||null,!0):1===s&&null!==a?rf(o,a,S,g||null,!0):2===s?function $h(s,o,a){const u=jh(s,o);u&&function DE(s,o,a,u){fr(s)?s.removeChild(o,a,u):o.removeChild(a)}(s,u,o,a)}(o,S,w):3===s&&o.destroyNode(S),null!=y&&function Uc(s,o,a,u,g){const y=a[7];y!==Zn(a)&&Wr(o,s,u,y,g);for(let S=10;S<a.length;S++){const x=a[S];ju(x[1],x,s,o,u,y)}}(o,s,y,a,g)}}function Rs(s,o,a){if(fr(s))return s.createElement(o,a);{const u=null!==a?function aa(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(a):null;return null===u?s.createElement(o):s.createElementNS(u,o)}}function kg(s,o){const a=s[9],u=a.indexOf(o),g=o[3];1024&o[2]&&(o[2]&=-1025,or(g,-1)),a.splice(u,1)}function Hh(s,o){if(s.length<=10)return;const a=10+o,u=s[a];if(u){const g=u[17];null!==g&&g!==s&&kg(g,u),o>0&&(s[a-1][4]=u[4]);const y=mo(s,10+o);!function Qs(s,o){ju(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(u[1],u);const w=y[19];null!==w&&w.detachView(y[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function Ys(s,o){if(!(256&o[2])){const a=o[11];fr(a)&&a.destroyNode&&ju(s,o,a,3,null,null),function Ca(s){let o=s[13];if(!o)return Pg(s[1],s);for(;o;){let a=null;if(di(o))a=o[13];else{const u=o[10];u&&(a=u)}if(!a){for(;o&&!o[4]&&o!==s;)di(o)&&Pg(o[1],o),o=o[3];null===o&&(o=s),di(o)&&Pg(o[1],o),a=o&&o[4]}o=a}}(o)}}function Pg(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function wE(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let u=0;u<a.length;u+=2){const g=o[a[u]];if(!(g instanceof $a)){const y=a[u+1];if(Array.isArray(y))for(let w=0;w<y.length;w+=2){const S=g[y[w]],x=y[w+1];try{x.call(S)}finally{}}else try{y.call(g)}finally{}}}}(s,o),function vy(s,o){const a=s.cleanup,u=o[7];let g=-1;if(null!==a)for(let y=0;y<a.length-1;y+=2)if("string"==typeof a[y]){const w=a[y+1],S="function"==typeof w?w(o):Zn(o[w]),x=u[g=a[y+2]],L=a[y+3];"boolean"==typeof L?S.removeEventListener(a[y],x,L):L>=0?u[g=L]():u[g=-L].unsubscribe(),y+=2}else{const w=u[g=a[y+1]];a[y].call(w)}if(null!==u){for(let y=g+1;y<u.length;y++)u[y]();o[7]=null}}(s,o),1===o[1].type&&fr(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&fi(o[3])){a!==o[3]&&kg(a,o);const u=o[19];null!==u&&u.detachView(s)}}}function yy(s,o,a){return function Og(s,o,a){let u=o;for(;null!==u&&40&u.type;)u=(o=u).parent;if(null===u)return a[0];if(2&u.flags){const g=s.data[u.directiveStart].encapsulation;if(g===un.None||g===un.Emulated)return null}return ti(u,a)}(s,o.parent,a)}function rf(s,o,a,u,g){fr(s)?s.insertBefore(o,a,u,g):o.insertBefore(a,u,g)}function CE(s,o,a){fr(s)?s.appendChild(o,a):o.appendChild(a)}function Hu(s,o,a,u,g){null!==u?rf(s,o,a,u,g):CE(s,o,a)}function jh(s,o){return fr(s)?s.parentNode(o):o.parentNode}let KC=function Ey(s,o,a){return 40&s.type?ti(s,a):null};function Vg(s,o,a,u){const g=yy(s,u,o),y=o[11],S=function _y(s,o,a){return KC(s,o,a)}(u.parent||o[6],u,o);if(null!=g)if(Array.isArray(a))for(let x=0;x<a.length;x++)Hu(y,g,a[x],S,!1);else Hu(y,g,a,S,!1)}function Gh(s,o){if(null!==o){const a=o.type;if(3&a)return ti(o,s);if(4&a)return zh(-1,s[o.index]);if(8&a){const u=o.child;if(null!==u)return Gh(s,u);{const g=s[o.index];return fi(g)?zh(-1,g):Zn(g)}}if(32&a)return Ue(o,s)()||Zn(s[o.index]);{const u=TE(s,o);return null!==u?Array.isArray(u)?u[0]:Gh(wt(s[16]),u):Gh(s,o.next)}}return null}function TE(s,o){return null!==o?s[16][6].projection[o.projection]:null}function zh(s,o){const a=10+s+1;if(a<o.length){const u=o[a],g=u[1].firstChild;if(null!==g)return Gh(u,g)}return o[7]}function sf(s,o,a,u,g,y,w){for(;null!=a;){const S=u[a.index],x=a.type;if(w&&0===o&&(S&&Ei(Zn(S),u),a.flags|=4),64!=(64&a.flags))if(8&x)sf(s,o,a.child,u,g,y,!1),Wr(o,s,g,S,y);else if(32&x){const L=Ue(a,u);let j;for(;j=L();)Wr(o,s,g,j,y);Wr(o,s,g,S,y)}else 16&x?Bg(s,o,u,a,g,y):Wr(o,s,g,S,y);a=w?a.projectionNext:a.next}}function ju(s,o,a,u,g,y){sf(a,u,s.firstChild,o,g,y,!1)}function Bg(s,o,a,u,g,y){const w=a[16],x=w[6].projection[u.projection];if(Array.isArray(x))for(let L=0;L<x.length;L++)Wr(o,s,g,x[L],y);else sf(s,o,x,w[3],g,y,!0)}function Wh(s,o,a){fr(s)?s.setAttribute(o,"style",a):o.style.cssText=a}function Ay(s,o,a){fr(s)?""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a):o.className=a}function Hc(s,o,a){let u=s.length;for(;;){const g=s.indexOf(o,a);if(-1===g)return g;if(0===g||s.charCodeAt(g-1)<=32){const y=o.length;if(g+y===u||s.charCodeAt(g+y)<=32)return g}a=g+1}}const Wl="ng-template";function IE(s,o,a){let u=0;for(;u<s.length;){let g=s[u++];if(a&&"class"===g){if(g=s[u],-1!==Hc(g.toLowerCase(),o,0))return!0}else if(1===g){for(;u<s.length&&"string"==typeof(g=s[u++]);)if(g.toLowerCase()===o)return!0;return!1}}return!1}function wy(s){return 4===s.type&&s.value!==Wl}function al(s,o,a){return o===(4!==s.type||a?s.value:Wl)}function jc(s,o,a){let u=4;const g=s.attrs||[],y=function Hg(s){for(let o=0;o<s.length;o++)if(pu(s[o]))return o;return s.length}(g);let w=!1;for(let S=0;S<o.length;S++){const x=o[S];if("number"!=typeof x){if(!w)if(4&u){if(u=2|1&u,""!==x&&!al(s,x,a)||""===x&&1===o.length){if(Ns(u))return!1;w=!0}}else{const L=8&u?x:o[++S];if(8&u&&null!==s.attrs){if(!IE(s.attrs,L,a)){if(Ns(u))return!1;w=!0}continue}const te=YC(8&u?"class":x,g,wy(s),a);if(-1===te){if(Ns(u))return!1;w=!0;continue}if(""!==L){let ye;ye=te>y?"":g[te+1].toLowerCase();const Fe=8&u?ye:null;if(Fe&&-1!==Hc(Fe,L,0)||2&u&&L!==ye){if(Ns(u))return!1;w=!0}}}}else{if(!w&&!Ns(u)&&!Ns(x))return!1;if(w&&Ns(x))continue;w=!1,u=x|1&u}}return Ns(u)||w}function Ns(s){return 0==(1&s)}function YC(s,o,a,u){if(null===o)return-1;let g=0;if(u||!a){let y=!1;for(;g<o.length;){const w=o[g];if(w===s)return g;if(3===w||6===w)y=!0;else{if(1===w||2===w){let S=o[++g];for(;"string"==typeof S;)S=o[++g];continue}if(4===w)break;if(0===w){g+=4;continue}}g+=y?1:2}return-1}return function jg(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const u=s[a];if("number"==typeof u)return-1;if(u===o)return a;a++}return-1}(o,s)}function Ug(s,o,a=!1){for(let u=0;u<o.length;u++)if(jc(s,o[u],a))return!0;return!1}function Gg(s,o){return s?":not("+o.trim()+")":o}function XC(s){let o=s[0],a=1,u=2,g="",y=!1;for(;a<s.length;){let w=s[a];if("string"==typeof w)if(2&u){const S=s[++a];g+="["+w+(S.length>0?'="'+S+'"':"")+"]"}else 8&u?g+="."+w:4&u&&(g+=" "+w);else""!==g&&!Ns(w)&&(o+=Gg(y,g),g=""),u=w,y=y||!Ns(u);a++}return""!==g&&(o+=Gg(y,g)),o}const dn={};function Cy(s){qh(Nn(),ot(),ri()+s,!1)}function qh(s,o,a,u){if(!u)if(3==(3&o[2])){const y=s.preOrderCheckHooks;null!==y&&Ml(o,y,a)}else{const y=s.preOrderHooks;null!==y&&fu(o,y,0,a)}Gs(a)}function zg(s,o){return s<<17|o<<2}function Da(s){return s>>17&32767}function RE(s){return 2|s}function $o(s){return(131068&s)>>2}function Dy(s,o){return-131069&s|o<<2}function Ty(s){return 1|s}function HE(s,o){const a=s.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const g=a[u],y=a[u+1];if(-1!==y){const w=s.data[y];Td(g),w.contentQueries(2,o[y],y)}}}function ep(s,o,a,u,g,y,w,S,x,L){const j=o.blueprint.slice();return j[0]=g,j[2]=140|u,cn(j),j[3]=j[15]=s,j[8]=a,j[10]=w||s&&s[10],j[11]=S||s&&s[11],j[12]=x||s&&s[12]||null,j[9]=L||s&&s[9]||null,j[6]=y,j[16]=2==o.type?s[16]:j,j}function zc(s,o,a,u,g){let y=s.data[o];if(null===y)y=function Fy(s,o,a,u,g){const y=bd(),w=fc(),x=s.data[o]=function fD(s,o,a,u,g,y){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?y:y&&y.parent,a,o,u,g);return null===s.firstChild&&(s.firstChild=x),null!==y&&(w?null==y.child&&null!==x.parent&&(y.child=x):null===y.next&&(y.next=x)),x}(s,o,a,u,g),function ch(){return Gt.lFrame.inI18n}()&&(y.flags|=64);else if(64&y.type){y.type=a,y.value=u,y.attrs=g;const w=function Oo(){const s=Gt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();y.injectorIndex=null===w?-1:w.injectorIndex}return js(y,!0),y}function Gu(s,o,a,u){if(0===a)return-1;const g=o.length;for(let y=0;y<a;y++)o.push(u),s.blueprint.push(u),s.data.push(null);return g}function tp(s,o,a){zr(o);try{const u=s.viewQuery;null!==u&&zy(1,u,a);const g=s.template;null!==g&&GE(s,o,g,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&HE(s,o),s.staticViewQueries&&zy(2,s.viewQuery,a);const y=s.components;null!==y&&function cD(s,o){for(let a=0;a<o.length;a++)tb(s,o[a])}(o,y)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{o[2]&=-5,As()}}function af(s,o,a,u){const g=o[2];if(256!=(256&g)){zr(o);try{cn(o),function za(s){return Gt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&GE(s,o,a,2,u);const w=3==(3&g);if(w){const L=s.preOrderCheckHooks;null!==L&&Ml(o,L,null)}else{const L=s.preOrderHooks;null!==L&&fu(o,L,0,null),pc(o,0)}if(function AD(s){for(let o=kt(s);null!==o;o=nr(o)){if(!o[2])continue;const a=o[9];for(let u=0;u<a.length;u++){const g=a[u],y=g[3];0==(1024&g[2])&&or(y,1),g[2]|=1024}}}(o),function bD(s){for(let o=kt(s);null!==o;o=nr(o))for(let a=10;a<o.length;a++){const u=o[a],g=u[1];Ge(u)&&af(g,u,g.template,u[8])}}(o),null!==s.contentQueries&&HE(s,o),w){const L=s.contentCheckHooks;null!==L&&Ml(o,L)}else{const L=s.contentHooks;null!==L&&fu(o,L,1),pc(o,1)}!function uD(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const g=a[u];if(g<0)Gs(~g);else{const y=g,w=a[++u],S=a[++u];dh(w,y),S(2,o[y])}}}finally{Gs(-1)}}(s,o);const S=s.components;null!==S&&function jE(s,o){for(let a=0;a<o.length;a++)wD(s,o[a])}(o,S);const x=s.viewQuery;if(null!==x&&zy(2,x,u),w){const L=s.viewCheckHooks;null!==L&&Ml(o,L)}else{const L=s.viewHooks;null!==L&&fu(o,L,2),pc(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-73,1024&o[2]&&(o[2]&=-1025,or(o[3],-1))}finally{As()}}}function dD(s,o,a,u){const g=o[10],w=we(o);try{!w&&g.begin&&g.begin(),w&&tp(s,o,u),af(s,o,a,u)}finally{!w&&g.end&&g.end()}}function GE(s,o,a,u,g){const y=ri(),w=2&u;try{Gs(-1),w&&o.length>20&&qh(s,o,20,!1),a(u,g)}finally{Gs(y)}}function Ly(s,o,a){if(na(o)){const g=o.directiveEnd;for(let y=o.directiveStart;y<g;y++){const w=s.data[y];w.contentQueries&&w.contentQueries(1,a[y],y)}}}function Vy(s,o,a){!Hs()||(function vD(s,o,a,u){const g=a.directiveStart,y=a.directiveEnd;s.firstCreatePass||pi(a,o),Ei(u,o);const w=a.initialInputs;for(let S=g;S<y;S++){const x=s.data[S],L=_i(x);L&&Jg(o,a,x);const j=ga(o,s,S,a);Ei(j,o),null!==w&&XE(0,S-g,j,x,0,w),L&&(Z(a.index,o)[8]=j)}}(s,o,a,ti(a,o)),128==(128&a.flags)&&function Uy(s,o,a){const u=a.directiveStart,g=a.directiveEnd,w=a.index,S=function uu(){return Gt.lFrame.currentDirectiveIndex}();try{Gs(w);for(let x=u;x<g;x++){const L=s.data[x],j=o[x];Tl(x),(null!==L.hostBindings||0!==L.hostVars||null!==L.hostAttrs)&&KE(L,j)}}finally{Gs(-1),Tl(S)}}(s,o,a))}function Js(s,o,a=ti){const u=o.localNames;if(null!==u){let g=o.index+1;for(let y=0;y<u.length;y+=2){const w=u[y+1],S=-1===w?a(o,s):s[w];s[g++]=S}}}function Kg(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=zu(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function zu(s,o,a,u,g,y,w,S,x,L){const j=20+u,te=j+g,ye=function By(s,o){const a=[];for(let u=0;u<o;u++)a.push(u<s?null:dn);return a}(j,te),Fe="function"==typeof L?L():L;return ye[1]={type:s,blueprint:ye,template:a,queries:null,viewQuery:S,declTNode:o,data:ye.slice().fill(null,j),bindingStartIndex:j,expandoStartIndex:te,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:x,consts:Fe,incompleteFirstPass:!1}}function $E(s,o,a,u){const g=nm(o);null===a?g.push(u):(g.push(a),s.firstCreatePass&&sp(s).push(u,g.length-1))}function np(s,o,a){for(let u in s)if(s.hasOwnProperty(u)){const g=s[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(o,g):a[u]=[o,g]}return a}function Xs(s,o,a,u,g,y,w,S){const x=ti(o,a);let j,L=o.inputs;!S&&null!=L&&(j=L[u])?(ap(s,a,j,u,g),Ro(o)&&function qE(s,o){const a=Z(o,s);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(u=function WE(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),g=null!=w?w(g,o.value||"",u):g,fr(y)?y.setProperty(x,u,g):gc(u)||(x.setProperty?x.setProperty(u,g):x[u]=g))}function Yg(s,o,a,u){let g=!1;if(Hs()){const y=function QE(s,o,a){const u=s.directiveRegistry;let g=null;if(u)for(let y=0;y<u.length;y++){const w=u[y];Ug(a,w.selectors,!1)&&(g||(g=[]),qa(pi(a,o),s,w.type),_i(w)?(YE(s,a),g.unshift(w)):g.push(w))}return g}(s,o,a),w=null===u?null:{"":-1};if(null!==y){g=!0,JE(a,s.data.length,y.length);for(let j=0;j<y.length;j++){const te=y[j];te.providersResolver&&te.providersResolver(te)}let S=!1,x=!1,L=Gu(s,o,y.length,null);for(let j=0;j<y.length;j++){const te=y[j];a.mergedAttrs=da(a.mergedAttrs,te.hostAttrs),Hy(s,a,o,L,te),_D(L,te,w),null!==te.contentQueries&&(a.flags|=8),(null!==te.hostBindings||null!==te.hostAttrs||0!==te.hostVars)&&(a.flags|=128);const ye=te.type.prototype;!S&&(ye.ngOnChanges||ye.ngOnInit||ye.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),S=!0),!x&&(ye.ngOnChanges||ye.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),x=!0),L++}!function hD(s,o){const u=o.directiveEnd,g=s.data,y=o.attrs,w=[];let S=null,x=null;for(let L=o.directiveStart;L<u;L++){const j=g[L],te=j.inputs,ye=null===y||wy(o)?null:ED(te,y);w.push(ye),S=np(te,L,S),x=np(j.outputs,L,x)}null!==S&&(S.hasOwnProperty("class")&&(o.flags|=16),S.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=w,o.inputs=S,o.outputs=x}(s,a)}w&&function yD(s,o,a){if(o){const u=s.localNames=[];for(let g=0;g<o.length;g+=2){const y=a[o[g+1]];if(null==y)throw new ie(-301,!1);u.push(o[g],y)}}}(a,u,w)}return a.mergedAttrs=da(a.mergedAttrs,a.attrs),g}function ip(s,o,a,u,g,y){const w=y.hostBindings;if(w){let S=s.hostBindingOpCodes;null===S&&(S=s.hostBindingOpCodes=[]);const x=~o.index;(function mD(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(S)!=x&&S.push(x),S.push(u,g,w)}}function KE(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function YE(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function _D(s,o,a){if(a){if(o.exportAs)for(let u=0;u<o.exportAs.length;u++)a[o.exportAs[u]]=s;_i(o)&&(a[""]=s)}}function JE(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}function Hy(s,o,a,u,g){s.data[u]=g;const y=g.factory||(g.factory=Ii(g.type)),w=new $a(y,_i(g),null);s.blueprint[u]=w,a[u]=w,ip(s,o,0,u,Gu(s,a,g.hostVars,dn),g)}function Jg(s,o,a){const u=ti(o,s),g=Kg(a),y=s[10],w=em(s,ep(s,g,null,a.onPush?64:16,u,o,y,y.createRenderer(u,a),null,null));s[o.index]=w}function Ta(s,o,a,u,g,y){const w=ti(s,o);!function jy(s,o,a,u,g,y,w){if(null==y)fr(s)?s.removeAttribute(o,g,a):o.removeAttribute(g);else{const S=null==w?ce(y):w(y,u||"",g);fr(s)?s.setAttribute(o,g,S,a):a?o.setAttributeNS(a,g,S):o.setAttribute(g,S)}}(o[11],w,y,s.value,a,u,g)}function XE(s,o,a,u,g,y){const w=y[o];if(null!==w){const S=u.setInput;for(let x=0;x<w.length;){const L=w[x++],j=w[x++],te=w[x++];null!==S?u.setInput(a,te,L,j):a[j]=te}}}function ED(s,o){let a=null,u=0;for(;u<o.length;){const g=o[u];if(0!==g)if(5!==g){if("number"==typeof g)break;s.hasOwnProperty(g)&&(null===a&&(a=[]),a.push(g,s[g],o[u+1])),u+=2}else u+=2;else u+=4}return a}function eb(s,o,a,u){return new Array(s,!0,!1,o,null,0,u,a,null,null)}function wD(s,o){const a=Z(o,s);if(Ge(a)){const u=a[1];80&a[2]?af(u,a,u.template,a[8]):a[5]>0&&Xg(a)}}function Xg(s){for(let u=kt(s);null!==u;u=nr(u))for(let g=10;g<u.length;g++){const y=u[g];if(1024&y[2]){const w=y[1];af(w,y,w.template,y[8])}else y[5]>0&&Xg(y)}const a=s[1].components;if(null!==a)for(let u=0;u<a.length;u++){const g=Z(a[u],s);Ge(g)&&g[5]>0&&Xg(g)}}function tb(s,o){const a=Z(o,s),u=a[1];(function nb(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(u,a),tp(u,a,a[8])}function em(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Gy(s){for(;s;){s[2]|=64;const o=wt(s);if(uc(s)&&!o)return s;s=o}return null}function qo(s){!function An(s){for(let o=0;o<s.components.length;o++){const a=s.components[o],u=Fh(a),g=u[1];dD(g,u,g.template,a)}}(s[8])}function zy(s,o,a){Td(0),o(s,a)}const rb=(()=>Promise.resolve(null))();function nm(s){return s[7]||(s[7]=[])}function sp(s){return s.cleanup||(s.cleanup=[])}function op(s,o){const a=s[9],u=a?a.get(Bu,null):null;u&&u.handleError(o)}function ap(s,o,a,u,g){for(let y=0;y<a.length;){const w=a[y++],S=a[y++],x=o[w],L=s.data[w];null!==L.setInput?L.setInput(x,g,u,S):x[S]=g}}function Zl(s,o,a){const u=lo(o,s);!function ss(s,o,a){fr(s)?s.setValue(o,a):o.textContent=a}(s[11],u,a)}function lf(s,o,a){let u=a?s.styles:null,g=a?s.classes:null,y=0;if(null!==o)for(let w=0;w<o.length;w++){const S=o[w];"number"==typeof S?y=S:1==y?g=De(g,S):2==y&&(u=De(u,S+": "+o[++w]+";"))}a?s.styles=u:s.stylesWithoutHost=u,a?s.classes=g:s.classesWithoutHost=g}const ks=new ir("INJECTOR",-1);class $y{get(o,a=Zs){if(a===Zs){const u=new Error(`NullInjectorError: No provider for ${xe(o)}!`);throw u.name="NullInjectorError",u}return a}}const Wy=new ir("Set Injector scope."),bi={},qy={};let cf;function ob(){return void 0===cf&&(cf=new $y),cf}function df(s,o=null,a=null,u){const g=Zo(s,o,a,u);return g._resolveInjectorDefTypes(),g}function Zo(s,o=null,a=null,u){return new $u(s,a,o||ob(),u)}class $u{constructor(o,a,u,g=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const y=[];a&&oi(a,S=>this.processProvider(S,o,a)),oi([o],S=>this.processInjectorType(S,[],y)),this.records.set(ks,hf(void 0,this));const w=this.records.get(Wy);this.scope=null!=w?w.value:null,this.source=g||("object"==typeof o?null:xe(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=Zs,u=Dt.Default){this.assertNotDestroyed();const g=Ic(this),y=Vt(void 0);try{if(!(u&Dt.SkipSelf)){let S=this.records.get(o);if(void 0===S){const x=function pf(s){return"function"==typeof s||"object"==typeof s&&s instanceof ir}(o)&&Ve(o);S=x&&this.injectableDefInScope(x)?hf(Ni(o),bi):null,this.records.set(o,S)}if(null!=S)return this.hydrate(o,S)}return(u&Dt.Self?ob():this.parent).get(o,a=u&Dt.Optional&&a===Zs?null:a)}catch(w){if("NullInjectorError"===w.name){if((w[Du]=w[Du]||[]).unshift(xe(o)),g)throw w;return function Xa(s,o,a,u){const g=s[Du];throw o[Ud]&&g.unshift(o[Ud]),s.message=function ba(s,o,a,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let g=xe(o);if(Array.isArray(o))g=o.map(xe).join(" -> ");else if("object"==typeof o){let y=[];for(let w in o)if(o.hasOwnProperty(w)){let S=o[w];y.push(w+":"+("string"==typeof S?JSON.stringify(S):xe(S)))}g=`{${y.join(", ")}}`}return`${a}${u?"("+u+")":""}[${g}]: ${s.replace(Tc,"\n  ")}`}("\n"+s.message,g,a,u),s.ngTokenPath=g,s[Du]=null,s}(w,o,"R3InjectorError",this.source)}throw w}finally{Vt(y),Ic(g)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((u,g)=>o.push(xe(g))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ie(205,!1)}processInjectorType(o,a,u){if(!(o=T(o)))return!1;let g=Lt(o);const y=null==g&&o.ngModule||void 0,w=void 0===y?o:y,S=-1!==u.indexOf(w);if(void 0!==y&&(g=Lt(y)),null==g)return!1;if(null!=g.imports&&!S){let j;u.push(w);try{oi(g.imports,te=>{this.processInjectorType(te,a,u)&&(void 0===j&&(j=[]),j.push(te))})}finally{}if(void 0!==j)for(let te=0;te<j.length;te++){const{ngModule:ye,providers:Fe}=j[te];oi(Fe,nt=>this.processProvider(nt,ye,Fe||ue))}}this.injectorDefTypes.add(w);const x=Ii(w)||(()=>new w);this.records.set(w,hf(x,bi));const L=g.providers;if(null!=L&&!S){const j=o;oi(L,te=>this.processProvider(te,j,L))}return void 0!==y&&void 0!==o.providers}processProvider(o,a,u){let g=ki(o=T(o))?o:T(o&&o.provide);const y=function Zy(s,o,a){return Qy(s)?hf(void 0,s.useValue):hf(Ky(s),bi)}(o);if(ki(o)||!0!==o.multi)this.records.get(g);else{let w=this.records.get(g);w||(w=hf(void 0,bi,!0),w.factory=()=>_a(w.multi),this.records.set(g,w)),g=o,w.multi.push(o)}this.records.set(g,y)}hydrate(o,a){return a.value===bi&&(a.value=qy,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Yy(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=T(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function Ni(s){const o=Ve(s),a=null!==o?o.factory:Ii(s);if(null!==a)return a;if(s instanceof ir)throw new ie(204,!1);if(s instanceof Function)return function ff(s){const o=s.length;if(o>0)throw function Uo(s,o){const a=[];for(let u=0;u<s;u++)a.push(o);return a}(o,"?"),new ie(204,!1);const a=function Ct(s){const o=s&&(s[on]||s[fn]);if(o){const a=function qe(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new ie(204,!1)}function Ky(s,o,a){let u;if(ki(s)){const g=T(s);return Ii(g)||Ni(g)}if(Qy(s))u=()=>T(s.useValue);else if(function $c(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(..._a(s.deps||[]));else if(function DD(s){return!(!s||!s.useExisting)}(s))u=()=>kr(T(s.useExisting));else{const g=T(s&&(s.useClass||s.provide));if(!function Kl(s){return!!s.deps}(s))return Ii(g)||Ni(g);u=()=>new g(..._a(s.deps))}return u}function hf(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function Qy(s){return null!==s&&"object"==typeof s&&Eg in s}function ki(s){return"function"==typeof s}let Sa=(()=>{class s{static create(a,u){var g;if(Array.isArray(a))return df({name:""},u,a,"");{const y=null!==(g=a.name)&&void 0!==g?g:"";return df({name:y},a.parent,a.providers,y)}}}return s.THROW_IF_NOT_FOUND=Zs,s.NULL=new $y,s.\u0275prov=Cn({token:s,providedIn:"any",factory:()=>kr(ks)}),s.__NG_ELEMENT_ID__=-1,s})();function ll(s,o){zs(Fh(s)[1],Tr())}function im(s){let o=function yb(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const u=[s];for(;o;){let g;if(_i(s))g=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new ie(903,"");g=o.\u0275dir}if(g){if(a){u.push(g);const w=s;w.inputs=t_(s.inputs),w.declaredInputs=t_(s.declaredInputs),w.outputs=t_(s.outputs);const S=g.hostBindings;S&&bb(s,S);const x=g.viewQuery,L=g.contentQueries;if(x&&Eb(s,x),L&&ND(s,L),be(s.inputs,g.inputs),be(s.declaredInputs,g.declaredInputs),be(s.outputs,g.outputs),_i(g)&&g.data.animation){const j=s.data;j.animation=(j.animation||[]).concat(g.data.animation)}}const y=g.features;if(y)for(let w=0;w<y.length;w++){const S=y[w];S&&S.ngInherit&&S(s),S===im&&(a=!1)}}o=Object.getPrototypeOf(o)}!function _b(s){let o=0,a=null;for(let u=s.length-1;u>=0;u--){const g=s[u];g.hostVars=o+=g.hostVars,g.hostAttrs=da(g.hostAttrs,a=da(a,g.hostAttrs))}}(u)}function t_(s){return s===Tn?{}:s===ue?[]:s}function Eb(s,o){const a=s.viewQuery;s.viewQuery=a?(u,g)=>{o(u,g),a(u,g)}:o}function ND(s,o){const a=s.contentQueries;s.contentQueries=a?(u,g,y)=>{o(u,g,y),a(u,g,y)}:o}function bb(s,o){const a=s.hostBindings;s.hostBindings=a?(u,g)=>{o(u,g),a(u,g)}:o}let Wn=null;function ul(){if(!Wn){const s=_n.Symbol;if(s&&s.iterator)Wn=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const u=o[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Wn=u)}}}return Wn}function Ia(s){return!!om(s)&&(Array.isArray(s)||!(s instanceof Map)&&ul()in s)}function om(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function mi(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function up(s,o,a,u){const g=ot();return mi(g,ca(),o)&&(Nn(),Ta(Fr(),g,s,o,a,u)),up}function Ib(s,o,a,u,g,y,w,S){const x=ot(),L=Nn(),j=s+20,te=L.firstCreatePass?function Sb(s,o,a,u,g,y,w,S,x){const L=o.consts,j=zc(o,s,4,w||null,It(L,S));Yg(o,a,j,It(L,x)),zs(o,j);const te=j.tViews=zu(2,j,u,g,y,o.directiveRegistry,o.pipeRegistry,null,o.schemas,L);return null!==o.queries&&(o.queries.template(o,j),te.queries=o.queries.embeddedTView(j)),j}(j,L,x,o,a,u,g,y,w):L.data[j];js(te,!1);const ye=x[11].createComment("");Vg(L,x,ye,te),Ei(ye,x),em(x,x[j]=eb(ye,x,ye,te)),so(te)&&Vy(L,x,te),null!=w&&Js(x,te,S)}function dp(s,o=Dt.Default){const a=ot();return null===a?kr(s,o):pa(Tr(),a,T(s),o)}function wf(){throw new Error("invalid")}function fp(s,o,a){const u=ot();return mi(u,ca(),o)&&Xs(Nn(),Fr(),u,s,o,u[11],a,!1),fp}function f_(s,o,a,u,g){const w=g?"class":"style";ap(s,a,o.inputs[w],w,u)}function hp(s,o,a,u){const g=ot(),y=Nn(),w=20+s,S=g[11],x=g[w]=Rs(S,o,function yg(){return Gt.lFrame.currentNamespace}()),L=y.firstCreatePass?function Ub(s,o,a,u,g,y,w){const S=o.consts,L=zc(o,s,2,g,It(S,y));return Yg(o,a,L,It(S,w)),null!==L.attrs&&lf(L,L.attrs,!1),null!==L.mergedAttrs&&lf(L,L.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,L),L}(w,y,g,0,o,a,u):y.data[w];js(L,!0);const j=L.mergedAttrs;null!==j&&Rl(S,x,j);const te=L.classes;null!==te&&Ay(S,x,te);const ye=L.styles;return null!==ye&&Wh(S,x,ye),64!=(64&L.flags)&&Vg(y,g,x,L),0===function Fn(){return Gt.lFrame.elementDepthCount}()&&Ei(x,g),function ns(){Gt.lFrame.elementDepthCount++}(),so(L)&&(Vy(y,g,L),Ly(y,L,g)),null!==u&&Js(g,L),hp}function vm(){let s=Tr();fc()?Cl():(s=s.parent,js(s,!1));const o=s;!function _s(){Gt.lFrame.elementDepthCount--}();const a=Nn();return a.firstCreatePass&&(zs(a,s),na(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function _g(s){return 0!=(16&s.flags)}(o)&&f_(a,o,ot(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function _r(s){return 0!=(32&s.flags)}(o)&&f_(a,o,ot(),o.stylesWithoutHost,!1),vm}function h_(s,o,a,u){return hp(s,o,a,u),vm(),h_}function pp(s,o,a){const u=ot(),g=Nn(),y=s+20,w=g.firstCreatePass?function Qo(s,o,a,u,g){const y=o.consts,w=It(y,u),S=zc(o,s,8,"ng-container",w);return null!==w&&lf(S,w,!0),Yg(o,a,S,It(y,g)),null!==o.queries&&o.queries.elementStart(o,S),S}(y,g,u,o,a):g.data[y];js(w,!0);const S=u[y]=u[11].createComment("");return Vg(g,u,S,w),Ei(S,u),so(w)&&(Vy(g,u,w),Ly(g,w,u)),null!=a&&Js(u,w),pp}function gp(){let s=Tr();const o=Nn();return fc()?Cl():(s=s.parent,js(s,!1)),o.firstCreatePass&&(zs(o,s),na(s)&&o.queries.elementEnd(s)),gp}function vp(){return ot()}function p_(s){return!!s&&"function"==typeof s.then}function jb(s){return!!s&&"function"==typeof s.subscribe}const Gb=jb;function g_(s,o,a,u){const g=ot(),y=Nn(),w=Tr();return function m_(s,o,a,u,g,y,w,S){const x=so(u),j=s.firstCreatePass&&sp(s),te=o[8],ye=nm(o);let Fe=!0;if(3&u.type||S){const Nt=ti(u,o),Kt=S?S(Nt):Nt,ht=ye.length,hn=S?Yn=>S(Zn(Yn[u.index])):u.index;if(fr(a)){let Yn=null;if(!S&&x&&(Yn=function zb(s,o,a,u){const g=s.cleanup;if(null!=g)for(let y=0;y<g.length-1;y+=2){const w=g[y];if(w===a&&g[y+1]===u){const S=o[7],x=g[y+2];return S.length>x?S[x]:null}"string"==typeof w&&(y+=2)}return null}(s,o,g,u.index)),null!==Yn)(Yn.__ngLastListenerFn__||Yn).__ngNextListenerFn__=y,Yn.__ngLastListenerFn__=y,Fe=!1;else{y=ym(u,o,te,y,!1);const hr=a.listen(Kt,g,y);ye.push(y,hr),j&&j.push(g,hn,ht,ht+1)}}else y=ym(u,o,te,y,!0),Kt.addEventListener(g,y,w),ye.push(y),j&&j.push(g,hn,ht,w)}else y=ym(u,o,te,y,!1);const nt=u.outputs;let St;if(Fe&&null!==nt&&(St=nt[g])){const Nt=St.length;if(Nt)for(let Kt=0;Kt<Nt;Kt+=2){const Er=o[St[Kt]][St[Kt+1]].subscribe(y),rc=ye.length;ye.push(y,Er),j&&j.push(g,u.index,rc,-(rc+1))}}}(y,g,g[11],w,s,o,!!a,u),g_}function _p(s,o,a,u){try{return!1!==a(u)}catch(g){return op(s,g),!1}}function ym(s,o,a,u,g){return function y(w){if(w===Function)return u;const S=2&s.flags?Z(s.index,o):o;0==(32&o[2])&&Gy(S);let x=_p(o,0,u,w),L=y.__ngNextListenerFn__;for(;L;)x=_p(o,0,L,w)&&x,L=L.__ngNextListenerFn__;return g&&!1===x&&(w.preventDefault(),w.returnValue=!1),x}}function Cf(s=1){return function fh(s){return(Gt.lFrame.contextLView=function hh(s,o){for(;s>0;)o=o[15],s--;return o}(s,Gt.lFrame.contextLView))[8]}(s)}function Yb(s,o,a,u,g){const y=s[a+1],w=null===o;let S=u?Da(y):$o(y),x=!1;for(;0!==S&&(!1===x||w);){const j=s[S+1];wp(s[S],o)&&(x=!0,s[S+1]=u?Ty(j):RE(j)),S=u?Da(j):$o(j)}x&&(s[a+1]=u?RE(y):Ty(y))}function wp(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Ka(s,o)>=0}const Ai={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Jb(s){return s.substring(Ai.key,Ai.keyEnd)}function Xb(s,o){const a=Ai.textEnd;return a===o?-1:(o=Ai.keyEnd=function nA(s,o,a){for(;o<a&&s.charCodeAt(o)>32;)o++;return o}(s,Ai.key=o,a),Df(s,o,a))}function Df(s,o,a){for(;o<a&&s.charCodeAt(o)<=32;)o++;return o}function Em(s,o,a){return Ra(s,o,a,!1),Em}function sA(s,o){return Ra(s,o,null,!0),sA}function __(s){!function Na(s,o,a,u){const g=Nn(),y=bs(2);g.firstUpdatePass&&lA(g,null,y,u);const w=ot();if(a!==dn&&mi(w,y,a)){const S=g.data[ri()];if(hA(S,u)&&!aA(g,y)){let x=u?S.classesWithoutHost:S.stylesWithoutHost;null!==x&&(a=De(x,a||"")),f_(g,S,w,a,u)}else!function tT(s,o,a,u,g,y,w,S){g===dn&&(g=ue);let x=0,L=0,j=0<g.length?g[0]:null,te=0<y.length?y[0]:null;for(;null!==j||null!==te;){const ye=x<g.length?g[x+1]:void 0,Fe=L<y.length?y[L+1]:void 0;let St,nt=null;j===te?(x+=2,L+=2,ye!==Fe&&(nt=te,St=Fe)):null===te||null!==j&&j<te?(x+=2,nt=j):(L+=2,nt=te,St=Fe),null!==nt&&cA(s,o,a,u,nt,St,w,S),j=x<g.length?g[x]:null,te=L<y.length?y[L]:null}}(g,S,w,w[11],w[y+1],w[y+1]=function A_(s,o,a){if(null==a||""===a)return ue;const u=[],g=Ks(a);if(Array.isArray(g))for(let y=0;y<g.length;y++)s(u,g[y],!0);else if("object"==typeof g)for(const y in g)g.hasOwnProperty(y)&&s(u,y,g[y]);else"string"==typeof g&&o(u,g);return u}(s,o,a),u,y)}}(qi,xa,s,!0)}function xa(s,o){for(let a=function KD(s){return function tA(s){Ai.key=0,Ai.keyEnd=0,Ai.value=0,Ai.valueEnd=0,Ai.textEnd=s.length}(s),Xb(s,Df(s,0,Ai.textEnd))}(o);a>=0;a=Xb(o,a))qi(s,Jb(o),!0)}function Ra(s,o,a,u){const g=ot(),y=Nn(),w=bs(2);y.firstUpdatePass&&lA(y,s,w,u),o!==dn&&mi(g,w,o)&&cA(y,y.data[ri()],g,g[11],s,g[w+1]=function fA(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=xe(Ks(s)))),s}(o,a),u,w)}function aA(s,o){return o>=s.expandoStartIndex}function lA(s,o,a,u){const g=s.data;if(null===g[a+1]){const y=g[ri()],w=aA(s,a);hA(y,u)&&null===o&&!w&&(o=!1),o=function uA(s,o,a,u){const g=cu(s);let y=u?o.residualClasses:o.residualStyles;if(null===g)0===(u?o.classBindings:o.styleBindings)&&(a=Cp(a=b_(null,s,o,a,u),o.attrs,u),y=null);else{const w=o.directiveStylingLast;if(-1===w||s[w]!==g)if(a=b_(g,s,o,a,u),null===y){let x=function XD(s,o,a){const u=a?o.classBindings:o.styleBindings;if(0!==$o(u))return s[Da(u)]}(s,o,u);void 0!==x&&Array.isArray(x)&&(x=b_(null,s,o,x[1],u),x=Cp(x,o.attrs,u),function E_(s,o,a,u){s[Da(a?o.classBindings:o.styleBindings)]=u}(s,o,u,x))}else y=function eT(s,o,a){let u;const g=o.directiveEnd;for(let y=1+o.directiveStylingLast;y<g;y++)u=Cp(u,s[y].hostAttrs,a);return Cp(u,o.attrs,a)}(s,o,u)}return void 0!==y&&(u?o.residualClasses=y:o.residualStyles=y),a}(g,y,o,u),function Ap(s,o,a,u,g,y){let w=y?o.classBindings:o.styleBindings,S=Da(w),x=$o(w);s[u]=a;let j,L=!1;if(Array.isArray(a)){const te=a;j=te[1],(null===j||Ka(te,j)>0)&&(L=!0)}else j=a;if(g)if(0!==x){const ye=Da(s[S+1]);s[u+1]=zg(ye,S),0!==ye&&(s[ye+1]=Dy(s[ye+1],u)),s[S+1]=function tx(s,o){return 131071&s|o<<17}(s[S+1],u)}else s[u+1]=zg(S,0),0!==S&&(s[S+1]=Dy(s[S+1],u)),S=u;else s[u+1]=zg(x,0),0===S?S=u:s[x+1]=Dy(s[x+1],u),x=u;L&&(s[u+1]=RE(s[u+1])),Yb(s,j,u,!0),Yb(s,j,u,!1),function qD(s,o,a,u,g){const y=g?s.residualClasses:s.residualStyles;null!=y&&"string"==typeof o&&Ka(y,o)>=0&&(a[u+1]=Ty(a[u+1]))}(o,j,s,u,y),w=zg(S,x),y?o.classBindings=w:o.styleBindings=w}(g,y,o,a,w,u)}}function b_(s,o,a,u,g){let y=null;const w=a.directiveEnd;let S=a.directiveStylingLast;for(-1===S?S=a.directiveStart:S++;S<w&&(y=o[S],u=Cp(u,y.hostAttrs,g),y!==s);)S++;return null!==s&&(a.directiveStylingLast=S),u}function Cp(s,o,a){const u=a?1:2;let g=-1;if(null!==o)for(let y=0;y<o.length;y++){const w=o[y];"number"==typeof w?g=w:g===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),qi(s,w,!!a||o[++y]))}return void 0===s?null:s}function cA(s,o,a,u,g,y,w,S){if(!(3&o.type))return;const x=s.data,L=x[S+1];bm(function NE(s){return 1==(1&s)}(L)?dA(x,o,a,g,$o(L),w):void 0)||(bm(y)||function xE(s){return 2==(2&s)}(L)&&(y=dA(x,null,a,g,S,w)),function by(s,o,a,u,g){const y=fr(s);if(o)g?y?s.addClass(a,u):a.classList.add(u):y?s.removeClass(a,u):a.classList.remove(u);else{let w=-1===u.indexOf("-")?void 0:X.DashCase;if(null==g)y?s.removeStyle(a,u,w):a.style.removeProperty(u);else{const S="string"==typeof g&&g.endsWith("!important");S&&(g=g.slice(0,-10),w|=X.Important),y?s.setStyle(a,u,g,w):a.style.setProperty(u,g,S?"important":"")}}}(u,w,lo(ri(),a),g,y))}function dA(s,o,a,u,g,y){const w=null===o;let S;for(;g>0;){const x=s[g],L=Array.isArray(x),j=L?x[1]:x,te=null===j;let ye=a[g+1];ye===dn&&(ye=te?ue:void 0);let Fe=te?bc(ye,u):j===u?ye:void 0;if(L&&!bm(Fe)&&(Fe=bc(x,u)),bm(Fe)&&(S=Fe,w))return S;const nt=s[g+1];g=w?Da(nt):$o(nt)}if(null!==o){let x=y?o.residualClasses:o.residualStyles;null!=x&&(S=bc(x,u))}return S}function bm(s){return void 0!==s}function hA(s,o){return 0!=(s.flags&(o?16:32))}function pA(s,o=""){const a=ot(),u=Nn(),g=s+20,y=u.firstCreatePass?zc(u,g,1,o,null):u.data[g],w=a[g]=function qr(s,o){return fr(s)?s.createText(o):s.createTextNode(o)}(a[11],o);Vg(u,a,w,y),js(y,!1)}function Am(s,o,a){const u=ot(),g=function Zc(s,o,a,u){return mi(s,ca(),a)?o+ce(a)+u:dn}(u,s,o,a);return g!==dn&&Zl(u,ri(),g),Am}function x_(s,o,a){const u=ot();if(mi(u,ca(),o)){const y=Nn(),w=Fr();Xs(y,w,u,s,o,function ib(s,o,a){return(null===s||_i(s))&&(a=function la(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(a[o.index])),a[11]}(cu(y.data),w,u),a,!0)}return x_}const Xc=void 0;var SA=["en",[["a","p"],["AM","PM"],Xc],[["AM","PM"],Xc,Xc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xc,"{1} 'at' {0}",Xc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function TA(s){const a=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let ed={};function R_(s){const o=function hT(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=MA(o);if(a)return a;const u=o.split("-")[0];if(a=MA(u),a)return a;if("en"===u)return SA;throw new Error(`Missing locale data for the locale "${s}".`)}function IA(s){return R_(s)[yn.PluralCase]}function MA(s){return s in ed||(ed[s]=_n.ng&&_n.ng.common&&_n.ng.common.locales&&_n.ng.common.locales[s]),ed[s]}var yn=(()=>((yn=yn||{})[yn.LocaleId=0]="LocaleId",yn[yn.DayPeriodsFormat=1]="DayPeriodsFormat",yn[yn.DayPeriodsStandalone=2]="DayPeriodsStandalone",yn[yn.DaysFormat=3]="DaysFormat",yn[yn.DaysStandalone=4]="DaysStandalone",yn[yn.MonthsFormat=5]="MonthsFormat",yn[yn.MonthsStandalone=6]="MonthsStandalone",yn[yn.Eras=7]="Eras",yn[yn.FirstDayOfWeek=8]="FirstDayOfWeek",yn[yn.WeekendRange=9]="WeekendRange",yn[yn.DateFormat=10]="DateFormat",yn[yn.TimeFormat=11]="TimeFormat",yn[yn.DateTimeFormat=12]="DateTimeFormat",yn[yn.NumberSymbols=13]="NumberSymbols",yn[yn.NumberFormats=14]="NumberFormats",yn[yn.CurrencyCode=15]="CurrencyCode",yn[yn.CurrencySymbol=16]="CurrencySymbol",yn[yn.CurrencyName=17]="CurrencyName",yn[yn.Currencies=18]="Currencies",yn[yn.Directionality=19]="Directionality",yn[yn.PluralCase=20]="PluralCase",yn[yn.ExtraData=21]="ExtraData",yn))();const Dm="en-US";let RA=Dm;function L_(s,o,a,u,g){if(s=T(s),Array.isArray(s))for(let y=0;y<s.length;y++)L_(s[y],o,a,u,g);else{const y=Nn(),w=ot();let S=ki(s)?s:T(s.provide),x=Ky(s);const L=Tr(),j=1048575&L.providerIndexes,te=L.directiveStart,ye=L.providerIndexes>>20;if(ki(s)||!s.multi){const Fe=new $a(x,g,dp),nt=V_(S,o,g?j:j+ye,te);-1===nt?(qa(pi(L,w),y,S),xp(y,s,o.length),o.push(S),L.directiveStart++,L.directiveEnd++,g&&(L.providerIndexes+=1048576),a.push(Fe),w.push(Fe)):(a[nt]=Fe,w[nt]=Fe)}else{const Fe=V_(S,o,j+ye,te),nt=V_(S,o,j,j+ye),St=Fe>=0&&a[Fe],Nt=nt>=0&&a[nt];if(g&&!Nt||!g&&!St){qa(pi(L,w),y,S);const Kt=function Qi(s,o,a,u,g){const y=new $a(s,a,dp);return y.multi=[],y.index=o,y.componentProviders=0,JA(y,g,u&&!a),y}(g?Ki:HT,a.length,g,u,x);!g&&Nt&&(a[nt].providerFactory=Kt),xp(y,s,o.length,0),o.push(S),L.directiveStart++,L.directiveEnd++,g&&(L.providerIndexes+=1048576),a.push(Kt),w.push(Kt)}else xp(y,s,Fe>-1?Fe:nt,JA(a[g?nt:Fe],x,!g&&u));!g&&u&&Nt&&a[nt].componentProviders++}}}function xp(s,o,a,u){const g=ki(o),y=function TD(s){return!!s.useClass}(o);if(g||y){const x=(y?T(o.useClass):o).prototype.ngOnDestroy;if(x){const L=s.destroyHooks||(s.destroyHooks=[]);if(!g&&o.multi){const j=L.indexOf(a);-1===j?L.push(a,[u,x]):L[j+1].push(u,x)}else L.push(a,x)}}}function JA(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function V_(s,o,a,u){for(let g=a;g<u;g++)if(o[g]===s)return g;return-1}function HT(s,o,a,u){return xf(this.multi,[])}function Ki(s,o,a,u){const g=this.multi;let y;if(this.providerFactory){const w=this.providerFactory.componentProviders,S=ga(a,a[1],this.providerFactory.index,u);y=S.slice(0,w),xf(g,y);for(let x=w;x<S.length;x++)y.push(S[x])}else y=[],xf(g,y);return y}function xf(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function Xl(s,o=[]){return a=>{a.providersResolver=(u,g)=>function Mp(s,o,a){const u=Nn();if(u.firstCreatePass){const g=_i(s);L_(a,u.data,u.blueprint,g,!0),L_(o,u.data,u.blueprint,g,!1)}}(u,g?g(s):s,o)}}class XA{}class tw{resolveComponentFactory(o){throw function ew(s){const o=Error(`No component factory found for ${xe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Rf=(()=>{class s{}return s.NULL=new tw,s})();function Lm(){return td(Tr(),ot())}function td(s,o){return new wi(ti(s,o))}let wi=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=Lm,s})();function U_(s){return s instanceof wi?s.nativeElement:s}class H_{}let nw=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function rw(){const s=ot(),a=Z(Tr().index,s);return function j_(s){return s[11]}(di(a)?a:s)}(),s})(),iw=(()=>{class s{}return s.\u0275prov=Cn({token:s,providedIn:"root",factory:()=>null}),s})();class G_{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Vm=new G_("13.3.10"),z_={};function Bm(s,o,a,u,g=!1){for(;null!==a;){const y=o[a.index];if(null!==y&&u.push(Zn(y)),fi(y))for(let S=10;S<y.length;S++){const x=y[S],L=x[1].firstChild;null!==L&&Bm(x[1],x,L,u)}const w=a.type;if(8&w)Bm(s,o,a.child,u);else if(32&w){const S=Ue(a,o);let x;for(;x=S();)u.push(x)}else if(16&w){const S=TE(o,a);if(Array.isArray(S))u.push(...S);else{const x=wt(o[16]);Bm(x[1],x,S,u,!0)}}a=g?a.projectionNext:a.next}return u}class pl{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return Bm(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(fi(o)){const a=o[8],u=a?a.indexOf(this):-1;u>-1&&(Hh(o,u),mo(a,u))}this._attachedToViewContainer=!1}Ys(this._lView[1],this._lView)}onDestroy(o){$E(this._lView[1],this._lView,null,o)}markForCheck(){Gy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function ai(s,o,a){const u=o[10];u.begin&&u.begin();try{af(s,o,s.template,a)}catch(g){throw op(o,g),g}finally{u.end&&u.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ie(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Uu(s,o){ju(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new ie(902,"");this._appRef=o}}class sw extends pl{constructor(o){super(o),this._view=o}detectChanges(){qo(this._view)}checkNoChanges(){}get context(){return null}}class Um extends Rf{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=jt(o);return new Nf(a,this.ngModule)}}function $_(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class Nf extends XA{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function eD(s){return s.map(XC).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return $_(this.componentDef.inputs)}get outputs(){return $_(this.componentDef.outputs)}create(o,a,u,g){const y=(g=g||this.ngModule)?function ow(s,o){return{get:(a,u,g)=>{const y=s.get(a,z_,g);return y!==z_||u===z_?y:o.get(a,u,g)}}}(o,g.injector):o,w=y.get(H_,Wi),S=y.get(iw,null),x=w.createRenderer(null,this.componentDef),L=this.componentDef.selectors[0][0]||"div",j=u?function Qg(s,o,a){if(fr(s))return s.selectRootElement(o,a===un.ShadowDom);let u="string"==typeof o?s.querySelector(o):o;return u.textContent="",u}(x,u,this.componentDef.encapsulation):Rs(w.createRenderer(null,this.componentDef),L,function GT(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(L)),te=this.componentDef.onPush?576:528,ye=function Pi(s,o){return{components:[],scheduler:s||my,clean:rb,playerHandler:o||null,flags:0}}(),Fe=zu(0,null,null,1,0,null,null,null,null,null),nt=ep(null,Fe,ye,te,null,null,w,x,S,y);let St,Nt;zr(nt);try{const Kt=function e_(s,o,a,u,g,y){const w=a[1];a[20]=s;const x=zc(w,20,2,"#host",null),L=x.mergedAttrs=o.hostAttrs;null!==L&&(lf(x,L,!0),null!==s&&(Rl(g,s,L),null!==x.classes&&Ay(g,s,x.classes),null!==x.styles&&Wh(g,s,x.styles)));const j=u.createRenderer(s,o),te=ep(a,Kg(o),null,o.onPush?64:16,a[20],x,u,j,y||null,null);return w.firstCreatePass&&(qa(pi(x,a),w,o.type),YE(w,x),JE(x,a.length,1)),em(a,te),a[20]=te}(j,this.componentDef,nt,w,x);if(j)if(u)Rl(x,j,["ng-version",Vm.full]);else{const{attrs:ht,classes:hn}=function tD(s){const o=[],a=[];let u=1,g=2;for(;u<s.length;){let y=s[u];if("string"==typeof y)2===g?""!==y&&o.push(y,s[++u]):8===g&&a.push(y);else{if(!Ns(g))break;g=y}u++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);ht&&Rl(x,j,ht),hn&&hn.length>0&&Ay(x,j,hn.join(" "))}if(Nt=ua(Fe,20),void 0!==a){const ht=Nt.projection=[];for(let hn=0;hn<this.ngContentSelectors.length;hn++){const Yn=a[hn];ht.push(null!=Yn?Array.from(Yn):null)}}St=function RD(s,o,a,u,g){const y=a[1],w=function gD(s,o,a){const u=Tr();s.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Hy(s,u,o,Gu(s,o,1,null),a));const g=ga(o,s,u.directiveStart,u);Ei(g,o);const y=ti(u,o);return y&&Ei(y,o),g}(y,a,o);if(u.components.push(w),s[8]=w,g&&g.forEach(x=>x(w,o)),o.contentQueries){const x=Tr();o.contentQueries(1,w,x.directiveStart)}const S=Tr();return!y.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Gs(S.index),ip(a[1],S,0,S.directiveStart,S.directiveEnd,o),KE(o,w)),w}(Kt,this.componentDef,nt,ye,[ll]),tp(Fe,nt,null)}finally{As()}return new q_(this.componentType,St,td(Nt,nt),nt,Nt)}}class q_ extends class jT{}{constructor(o,a,u,g,y){super(),this.location=u,this._rootLView=g,this._tNode=y,this.instance=a,this.hostView=this.changeDetectorRef=new sw(g),this.componentType=o}get injector(){return new ii(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class kf{}class Hm{}const nd=new Map;class cw extends kf{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Um(this);const u=Bt(o);this._bootstrapComponents=A(u.bootstrap),this._r3Injector=Zo(o,a,[{provide:kf,useValue:this},{provide:Rf,useValue:this.componentFactoryResolver}],xe(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=Sa.THROW_IF_NOT_FOUND,u=Dt.Default){return o===Sa||o===kf||o===ks?this:this._r3Injector.get(o,a,u)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Z_ extends Hm{constructor(o){super(),this.moduleType=o,null!==Bt(o)&&function os(s){const o=new Set;!function a(u){const g=Bt(u,!0),y=g.id;null!==y&&(function lw(s,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${s} - ${xe(o)} vs ${xe(o.name)}`)}(y,nd.get(y),u),nd.set(y,u));const w=A(g.imports);for(const S of w)o.has(S)||(o.add(S),a(S))}(s)}(o)}create(o){return new cw(this.moduleType,o)}}function Wm(s,o,a,u,g,y){const w=o+a;return mi(s,w,g)?function cl(s,o,a){return s[o]=a}(s,w+1,y?u.call(y,g):u(g)):function Pf(s,o){const a=s[o];return a===dn?void 0:a}(s,w+1)}function Km(s,o){const a=Nn();let u;const g=s+20;a.firstCreatePass?(u=function Fi(s,o){if(o)for(let a=o.length-1;a>=0;a--){const u=o[a];if(s===u.name)return u}}(o,a.pipeRegistry),a.data[g]=u,u.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(g,u.onDestroy)):u=a.data[g];const y=u.factory||(u.factory=Ii(u.type)),w=Vt(dp);try{const S=fa(!1),x=y();return fa(S),function Ef(s,o,a,u){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=u}(a,ot(),g,x),x}finally{Vt(w)}}function Li(s,o,a){const u=s+20,g=ot(),y=function K(s,o){return s[o]}(g,u);return function Of(s,o){return s[1].data[o].pure}(g,u)?Wm(g,function ni(){const s=Gt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}(),o,y.transform,a,y):y.transform(a)}function t0(s){return o=>{setTimeout(s,void 0,o)}}const Yo=class ZT extends h.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,u){var g,y,w;let S=o,x=a||(()=>null),L=u;if(o&&"object"==typeof o){const te=o;S=null===(g=te.next)||void 0===g?void 0:g.bind(te),x=null===(y=te.error)||void 0===y?void 0:y.bind(te),L=null===(w=te.complete)||void 0===w?void 0:w.bind(te)}this.__isAsync&&(x=t0(x),S&&(S=t0(S)),L&&(L=t0(L)));const j=super.subscribe({next:S,error:x,complete:L});return o instanceof P.w0&&o.add(j),j}};function n0(){return this._results[ul()]()}class r0{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=ul(),u=r0.prototype;u[a]||(u[a]=n0)}get changes(){return this._changes||(this._changes=new Yo)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const u=this;u.dirty=!1;const g=xi(o);(this._changesDetected=!function Ld(s,o,a){if(s.length!==o.length)return!1;for(let u=0;u<s.length;u++){let g=s[u],y=o[u];if(a&&(g=a(g),y=a(y)),y!==g)return!1}return!0}(u._results,g,a))&&(u._results=g,u.length=g.length,u.last=g[this.length-1],u.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let rd=(()=>{class s{}return s.__NG_ELEMENT_ID__=Ym,s})();const gw=rd,KT=class extends gw{constructor(o,a,u){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(o){const a=this._declarationTContainer.tViews,u=ep(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(u[19]=y.createEmbeddedView(a)),tp(a,u,o),new pl(u)}};function Ym(){return Ff(Tr(),ot())}function Ff(s,o){return 4&s.type?new KT(o,s,td(s,o)):null}let Lf=(()=>{class s{}return s.__NG_ELEMENT_ID__=mw,s})();function mw(){return o0(Tr(),ot())}const QT=Lf,Vf=class extends QT{constructor(o,a,u){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=u}get element(){return td(this._hostTNode,this._hostLView)}get injector(){return new ii(this._hostTNode,this._hostLView)}get parentInjector(){const o=mu(this._hostTNode,this._hostLView);if(Nl(o)){const a=gn(o,this._hostLView),u=lr(o);return new ii(a[1].data[u+8],a)}return new ii(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=s0(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,u){const g=o.createEmbeddedView(a||{});return this.insert(g,u),g}createComponent(o,a,u,g,y){const w=o&&!function Nr(s){return"function"==typeof s}(o);let S;if(w)S=a;else{const te=a||{};S=te.index,u=te.injector,g=te.projectableNodes,y=te.ngModuleRef}const x=w?o:new Nf(jt(o)),L=u||this.parentInjector;if(!y&&null==x.ngModule){const ye=(w?L:this.parentInjector).get(kf,null);ye&&(y=ye)}const j=x.create(L,g,void 0,y);return this.insert(j.hostView,S),j}insert(o,a){const u=o._lView,g=u[1];if(function _t(s){return fi(s[3])}(u)){const j=this.indexOf(o);if(-1!==j)this.detach(j);else{const te=u[3],ye=new Vf(te,te[6],te[3]);ye.detach(ye.indexOf(o))}}const y=this._adjustIndex(a),w=this._lContainer;!function Ng(s,o,a,u){const g=10+u,y=a.length;u>0&&(a[g-1][4]=o),u<y-10?(o[4]=a[g],Vd(a,10+u,o)):(a.push(o),o[4]=null),o[3]=a;const w=o[17];null!==w&&a!==w&&function Bc(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(w,o);const S=o[19];null!==S&&S.insertView(s),o[2]|=128}(g,u,w,y);const S=zh(y,w),x=u[11],L=jh(x,w[7]);return null!==L&&function nf(s,o,a,u,g,y){u[0]=g,u[6]=o,ju(s,u,a,1,g,y)}(g,w[6],x,u,L,S),o.attachToViewContainerRef(),Vd(Jm(w),y,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=s0(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),u=Hh(this._lContainer,a);u&&(mo(Jm(this._lContainer),a),Ys(u[1],u))}detach(o){const a=this._adjustIndex(o,-1),u=Hh(this._lContainer,a);return u&&null!=mo(Jm(this._lContainer),a)?new pl(u):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function s0(s){return s[8]}function Jm(s){return s[8]||(s[8]=[])}function o0(s,o){let a;const u=o[s.index];if(fi(u))a=u;else{let g;if(8&s.type)g=Zn(u);else{const y=o[11];g=y.createComment("");const w=ti(s,o);rf(y,jh(y,w),g,function ZC(s,o){return fr(s)?s.nextSibling(o):o.nextSibling}(y,w),!1)}o[s.index]=a=eb(u,o,g,s),em(o,a)}return new Vf(a,s,o)}class Qu{constructor(o){this.queryList=o,this.matches=null}clone(){return new Qu(this.queryList)}setDirty(){this.queryList.setDirty()}}class a0{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const u=null!==o.contentQueries?o.contentQueries[0]:a.length,g=[];for(let y=0;y<u;y++){const w=a.getByIndex(y);g.push(this.queries[w.indexInDeclarationView].clone())}return new a0(g)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==iv(o,a).matches&&this.queries[a].setDirty()}}class vw{constructor(o,a,u=null){this.predicate=o,this.flags=a,this.read=u}}class eu{constructor(o=[]){this.queries=o}elementStart(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let u=0;u<this.length;u++){const g=null!==a?a.length:0,y=this.getByIndex(u).embeddedTView(o,g);y&&(y.indexInDeclarationView=u,null!==a?a.push(y):a=[y])}return null!==a?new eu(a):null}template(o,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class ev{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new ev(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=o.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let g=0;g<u.length;g++){const y=u[g];this.matchTNodeWithReadOption(o,a,tv(a,y)),this.matchTNodeWithReadOption(o,a,vu(a,o,y,!1,!1))}else u===rd?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,vu(a,o,u,!1,!1))}matchTNodeWithReadOption(o,a,u){if(null!==u){const g=this.metadata.read;if(null!==g)if(g===wi||g===Lf||g===rd&&4&a.type)this.addMatch(a.index,-2);else{const y=vu(a,o,g,!1,!1);null!==y&&this.addMatch(a.index,y)}else this.addMatch(a.index,u)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function tv(s,o){const a=s.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===o)return a[u+1];return null}function Rp(s,o,a,u){return-1===a?function yw(s,o){return 11&s.type?td(s,o):4&s.type?Ff(s,o):null}(o,s):-2===a?function _w(s,o,a){return a===wi?td(o,s):a===rd?Ff(o,s):a===Lf?o0(o,s):void 0}(s,o,u):ga(s,s[1],a,o)}function as(s,o,a,u){const g=o[19].queries[u];if(null===g.matches){const y=s.data,w=a.matches,S=[];for(let x=0;x<w.length;x+=2){const L=w[x];S.push(L<0?null:Rp(o,y[L],w[x+1],a.metadata.read))}g.matches=S}return g.matches}function nv(s,o,a,u){const g=s.queries.getByIndex(a),y=g.matches;if(null!==y){const w=as(s,o,g,a);for(let S=0;S<y.length;S+=2){const x=y[S];if(x>0)u.push(w[S/2]);else{const L=y[S+1],j=o[-x];for(let te=10;te<j.length;te++){const ye=j[te];ye[17]===ye[3]&&nv(ye[1],ye,L,u)}if(null!==j[9]){const te=j[9];for(let ye=0;ye<te.length;ye++){const Fe=te[ye];nv(Fe[1],Fe,L,u)}}}}}return u}function Bf(s){const o=ot(),a=Nn(),u=Dd();Td(u+1);const g=iv(a,u);if(s.dirty&&we(o)===(2==(2&g.metadata.flags))){if(null===g.matches)s.reset([]);else{const y=g.crossesNgTemplate?nv(a,o,u,[]):as(a,o,g,u);s.reset(y,U_),s.notifyOnChanges()}return!0}return!1}function Np(s,o,a){const u=Nn();u.firstCreatePass&&(Uf(u,new vw(s,o,a),-1),2==(2&o)&&(u.staticViewQueries=!0)),u0(u,ot(),o)}function l0(s,o,a,u){const g=Nn();if(g.firstCreatePass){const y=Tr();Uf(g,new vw(o,a,u),y.index),function c0(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(g,s),2==(2&a)&&(g.staticContentQueries=!0)}u0(g,ot(),a)}function rv(){return function Ew(s,o){return s[19].queries[o].queryList}(ot(),Dd())}function u0(s,o,a){const u=new r0(4==(4&a));$E(s,o,u,u.destroy),null===o[19]&&(o[19]=new a0),o[19].queries.push(new Qu(u))}function Uf(s,o,a){null===s.queries&&(s.queries=new eu),s.queries.track(new ev(o,a))}function iv(s,o){return s.queries.getByIndex(o)}function Gf(...s){}const y0=new ir("Application Initializer");let fv=(()=>{class s{constructor(a){this.appInits=a,this.resolve=Gf,this.reject=Gf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,g)=>{this.resolve=u,this.reject=g})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let g=0;g<this.appInits.length;g++){const y=this.appInits[g]();if(p_(y))a.push(y);else if(Gb(y)){const w=new Promise((S,x)=>{y.subscribe({complete:S,error:x})});a.push(w)}}Promise.all(a).then(()=>{u()}).catch(g=>{this.reject(g)}),0===a.length&&u(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(kr(y0,8))},s.\u0275prov=Cn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const hv=new ir("AppId",{providedIn:"root",factory:function kw(){return`${_0()}${_0()}${_0()}`}});function _0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Up=new ir("Platform Initializer"),Hp=new ir("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),jp=new ir("appBootstrapListener");let Ow=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Cn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const id=new ir("LocaleId",{providedIn:"root",factory:()=>jd(id,Dt.Optional|Dt.SkipSelf)||function Gp(){return"undefined"!=typeof $localize&&$localize.locale||Dm}()}),oS=new ir("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class lS{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let uS=(()=>{class s{compileModuleSync(a){return new Z_(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),y=A(Bt(a).declarations).reduce((w,S)=>{const x=jt(S);return x&&w.push(new Nf(x)),w},[]);return new lS(u,y)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Cn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Fw=(()=>Promise.resolve(0))();function pv(s){"undefined"==typeof Zone?Fw.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Jo{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Yo(!1),this.onMicrotaskEmpty=new Yo(!1),this.onStable=new Yo(!1),this.onError=new Yo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!u&&a,g.shouldCoalesceRunChangeDetection=u,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function gv(){let s=_n.requestAnimationFrame,o=_n.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function E0(s){const o=()=>{!function fS(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(_n,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,sd(s),s.isCheckStableRunning=!0,mv(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),sd(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,g,y,w,S)=>{try{return b0(s),a.invokeTask(g,y,w,S)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||s.shouldCoalesceRunChangeDetection)&&o(),vv(s)}},onInvoke:(a,u,g,y,w,S,x)=>{try{return b0(s),a.invoke(g,y,w,S,x)}finally{s.shouldCoalesceRunChangeDetection&&o(),vv(s)}},onHasTask:(a,u,g,y)=>{a.hasTask(g,y),u===g&&("microTask"==y.change?(s._hasPendingMicrotasks=y.microTask,sd(s),mv(s)):"macroTask"==y.change&&(s.hasPendingMacrotasks=y.macroTask))},onHandleError:(a,u,g,y)=>(a.handleError(g,y),s.runOutsideAngular(()=>s.onError.emit(y)),!1)})}(g)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Jo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Jo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,u){return this._inner.run(o,a,u)}runTask(o,a,u,g){const y=this._inner,w=y.scheduleEventTask("NgZoneEvent: "+g,o,nu,Gf,Gf);try{return y.runTask(w,a,u)}finally{y.cancelTask(w)}}runGuarded(o,a,u){return this._inner.runGuarded(o,a,u)}runOutsideAngular(o){return this._outer.run(o)}}const nu={};function mv(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function sd(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function b0(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function vv(s){s._nesting--,mv(s)}class yv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Yo,this.onMicrotaskEmpty=new Yo,this.onStable=new Yo,this.onError=new Yo}run(o,a,u){return o.apply(a,u)}runGuarded(o,a,u){return o.apply(a,u)}runOutsideAngular(o){return o()}runTask(o,a,u,g){return o.apply(a,u)}}let A0=(()=>{class s{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Jo.assertNotInAngularZone(),pv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())pv(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,g){let y=-1;u&&u>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==y),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:y,updateCb:g})}whenStable(a,u,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,u,g){return[]}}return s.\u0275fac=function(a){return new(a||s)(kr(Jo))},s.\u0275prov=Cn({token:s,factory:s.\u0275fac}),s})(),w0=(()=>{class s{constructor(){this._applications=new Map,Ev.addToWindow(this)}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return Ev.findTestabilityInTree(this,a,u)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=Cn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();class _v{addToWindow(o){}findTestabilityInTree(o,a,u){return null}}function hS(s){Ev=s}let Ev=new _v,Oa=null;const C0=new ir("AllowMultipleToken"),D0=new ir("PlatformOnDestroy");class bv{constructor(o,a){this.name=o,this.token=a}}function S0(s,o,a=[]){const u=`Platform: ${o}`,g=new ir(u);return(y=[])=>{let w=Av();if(!w||w.injector.get(C0,!1)){const S=[...a,...y,{provide:g,useValue:!0}];s?s(S):function Bw(s){if(Oa&&!Oa.get(C0,!1))throw new ie(400,"");Oa=s;const o=s.get(I0),a=s.get(Up,null);a&&a.forEach(u=>u())}(function Uw(s=[],o){return Sa.create({name:o,providers:[{provide:Wy,useValue:"platform"},{provide:D0,useValue:()=>Oa=null},...s]})}(S,u))}return function od(s){const o=Av();if(!o)throw new ie(401,"");return o}()}}function Av(){var s;return null!==(s=null==Oa?void 0:Oa.get(I0))&&void 0!==s?s:null}let I0=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const S=function wv(s,o){let a;return a="noop"===s?new yv:("zone.js"===s?void 0:s)||new Jo({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),x=[{provide:Jo,useValue:S}];return S.run(()=>{const L=Sa.create({providers:x,parent:this.injector,name:a.moduleType.name}),j=a.create(L),te=j.injector.get(Bu,null);if(!te)throw new ie(402,"");return S.runOutsideAngular(()=>{const ye=S.onError.subscribe({next:Fe=>{te.handleError(Fe)}});j.onDestroy(()=>{Xu(this._modules,j),ye.unsubscribe()})}),function bo(s,o,a){try{const u=a();return p_(u)?u.catch(g=>{throw o.runOutsideAngular(()=>s.handleError(g)),g}):u}catch(u){throw o.runOutsideAngular(()=>s.handleError(u)),u}}(te,S,()=>{const ye=j.injector.get(fv);return ye.runInitializers(),ye.donePromise.then(()=>(function gT(s){xt(s,"Expected localeId to be defined"),"string"==typeof s&&(RA=s.toLowerCase().replace(/_/g,"-"))}(j.injector.get(id,Dm)||Dm),this._moduleDoBootstrap(j),j))})})}bootstrapModule(a,u=[]){const g=M0({},u);return function T0(s,o,a){const u=new Z_(a);return Promise.resolve(u)}(0,0,a).then(y=>this.bootstrapModuleFactory(y,g))}_moduleDoBootstrap(a){const u=a.injector.get(Cv);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(g=>u.bootstrap(g));else{if(!a.instance.ngDoBootstrap)throw new ie(403,"");a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ie(404,"");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const a=this._injector.get(D0,null);null==a||a(),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(kr(Sa))},s.\u0275prov=Cn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function M0(s,o){return Array.isArray(o)?o.reduce(M0,s):Object.assign(Object.assign({},s),o)}let Cv=(()=>{class s{constructor(a,u,g,y){this._zone=a,this._injector=u,this._exceptionHandler=g,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new R.y(x=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{x.next(this._stable),x.complete()})}),S=new R.y(x=>{let L;this._zone.runOutsideAngular(()=>{L=this._zone.onStable.subscribe(()=>{Jo.assertNotInAngularZone(),pv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,x.next(!0))})})});const j=this._zone.onUnstable.subscribe(()=>{Jo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{x.next(!1)}))});return()=>{L.unsubscribe(),j.unsubscribe()}});this.isStable=(0,G.T)(w,S.pipe((0,ne.B)()))}bootstrap(a,u){if(!this._initStatus.done)throw new ie(405,"");let g;g=a instanceof XA?a:this._injector.get(Rf).resolveComponentFactory(a),this.componentTypes.push(g.componentType);const y=function Vw(s){return s.isBoundToModule}(g)?void 0:this._injector.get(kf),S=g.create(Sa.NULL,[],u||g.selector,y),x=S.location.nativeElement,L=S.injector.get(A0,null),j=L&&S.injector.get(w0);return L&&j&&j.registerApplication(x,L),S.onDestroy(()=>{this.detachView(S.hostView),Xu(this.components,S),j&&j.unregisterApplication(x)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new ie(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;Xu(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(jp,[]).concat(this._bootstrapListeners).forEach(g=>g(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(a){return new(a||s)(kr(Jo),kr(Sa),kr(Bu),kr(fv))},s.\u0275prov=Cn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Xu(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}let Dv=!0,jw=!1;function mS(){return jw=!0,Dv}function Gw(){if(jw)throw new Error("Cannot enable prod mode after platform setup.");Dv=!1}let $w=(()=>{class s{}return s.__NG_ELEMENT_ID__=Yi,s})();function Yi(s){return function zf(s,o,a){if(Ro(s)&&!a){const u=Z(s.index,o);return new pl(u,u)}return 47&s.type?new pl(o[16],o):null}(Tr(),ot(),16==(16&s))}class yS{constructor(){}supports(o){return Ia(o)}create(o){return new _S(o)}}const Ao=(s,o)=>o;class _S{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Ao}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,u=this._removalsHead,g=0,y=null;for(;a||u;){const w=!u||a&&a.currentIndex<k0(u,g,y)?a:u,S=k0(w,g,y),x=w.currentIndex;if(w===u)g--,u=u._nextRemoved;else if(a=a._next,null==w.previousIndex)g++;else{y||(y=[]);const L=S-g,j=x-g;if(L!=j){for(let ye=0;ye<L;ye++){const Fe=ye<y.length?y[ye]:y[ye]=0,nt=Fe+ye;j<=nt&&nt<L&&(y[ye]=Fe+1)}y[w.previousIndex]=j-L}}S!==x&&o(w,S,x)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Ia(o))throw new ie(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let g,y,w,a=this._itHead,u=!1;if(Array.isArray(o)){this.length=o.length;for(let S=0;S<this.length;S++)y=o[S],w=this._trackByFn(S,y),null!==a&&Object.is(a.trackById,w)?(u&&(a=this._verifyReinsertion(a,y,w,S)),Object.is(a.item,y)||this._addIdentityChange(a,y)):(a=this._mismatch(a,y,w,S),u=!0),a=a._next}else g=0,function wb(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[ul()]();let u;for(;!(u=a.next()).done;)o(u.value)}}(o,S=>{w=this._trackByFn(g,S),null!==a&&Object.is(a.trackById,w)?(u&&(a=this._verifyReinsertion(a,S,w,g)),Object.is(a.item,S)||this._addIdentityChange(a,S)):(a=this._mismatch(a,S,w,g),u=!0),a=a._next,g++}),this.length=g;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,u,g){let y;return null===o?y=this._itTail:(y=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,y,g)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(u,g))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,y,g)):o=this._addAfter(new Kw(a,u),y,g),o}_verifyReinsertion(o,a,u,g){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==y?o=this._reinsertAfter(y,o._prev,g):o.currentIndex!=g&&(o.currentIndex=g,this._addToMoves(o,g)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const g=o._prevRemoved,y=o._nextRemoved;return null===g?this._removalsHead=y:g._nextRemoved=y,null===y?this._removalsTail=g:y._prevRemoved=g,this._insertAfter(o,a,u),this._addToMoves(o,u),o}_moveAfter(o,a,u){return this._unlink(o),this._insertAfter(o,a,u),this._addToMoves(o,u),o}_addAfter(o,a,u){return this._insertAfter(o,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,u){const g=null===a?this._itHead:a._next;return o._next=g,o._prev=a,null===g?this._itTail=o:g._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new ld),this._linkedRecords.put(o),o.currentIndex=u,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,u=o._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ld),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Kw{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Un{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,o))return u;return null}remove(o){const a=o._prevDup,u=o._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class ld{constructor(){this.map=new Map}put(o){const a=o.trackById;let u=this.map.get(a);u||(u=new Un,this.map.set(a,u)),u.add(o)}get(o,a){const g=this.map.get(o);return g?g.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function k0(s,o,a){const u=s.previousIndex;if(null===u)return u;let g=0;return a&&u<a.length&&(g=a[u]),u+o+g}class Jr{constructor(){}supports(o){return o instanceof Map||om(o)}create(){return new wn}}class wn{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||om(o)))throw new ie(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(u,g)=>{if(a&&a.key===g)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const y=this._getOrCreateRecordForKey(g,u);a=this._insertBeforeOrAppend(a,y)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const u=o._prev;return a._next=o,a._prev=u,o._prev=a,u&&(u._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const g=this._records.get(o);this._maybeAddToChanges(g,a);const y=g._prev,w=g._next;return y&&(y._next=w),w&&(w._prev=y),g._next=null,g._prev=null,g}const u=new Qw(o);return this._records.set(o,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(u=>a(o[u],u))}}class Qw{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ec(){return new Sv([new yS])}let Sv=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(null!=u){const g=u.factories.slice();a=a.concat(g)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||ec()),deps:[[s,new tl,new is]]}}find(a){const u=this.factories.find(g=>g.supports(a));if(null!=u)return u;throw new ie(901,"")}}return s.\u0275prov=Cn({token:s,providedIn:"root",factory:ec}),s})();function sr(){return new P0([new Jr])}let P0=(()=>{class s{constructor(a){this.factories=a}static create(a,u){if(u){const g=u.factories.slice();a=a.concat(g)}return new s(a)}static extend(a){return{provide:s,useFactory:u=>s.create(a,u||sr()),deps:[[s,new tl,new is]]}}find(a){const u=this.factories.find(y=>y.supports(a));if(u)return u;throw new ie(901,"")}}return s.\u0275prov=Cn({token:s,providedIn:"root",factory:sr}),s})();const ES=S0(null,"core",[]);let tc=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(kr(Cv))},s.\u0275mod=Se({type:s}),s.\u0275inj=Ee({}),s})()},579:(Ot,$e,$)=>{"use strict";$.d($e,{Gb:()=>_n,IH:()=>tr});var h=$(5861),P=$(9681),R=$(1877),G=$(2090),ne=$(4859);$(2833);const be="analytics",xe="firebase_id",de="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",T="https://www.googletagmanager.com/gtag/js",F=new R.Yd("@firebase/analytics");function H(ae){return Promise.all(ae.map(ge=>ge.catch(Pe=>Pe)))}function ie(ae,ge){const Pe=document.createElement("script");Pe.src=`${T}?l=${ae}&id=${ge}`,Pe.async=!0,document.head.appendChild(Pe)}function ce(ae,ge,Pe,st,pt,ut){return se.apply(this,arguments)}function se(){return(se=(0,h.Z)(function*(ae,ge,Pe,st,pt,ut){const $t=st[pt];try{if($t)yield ge[$t];else{const pe=(yield H(Pe)).find(he=>he.measurementId===pt);pe&&(yield ge[pe.appId])}}catch(Se){F.error(Se)}ae("config",pt,ut)})).apply(this,arguments)}function je(ae,ge,Pe,st,pt){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,h.Z)(function*(ae,ge,Pe,st,pt){try{let ut=[];if(pt&&pt.send_to){let $t=pt.send_to;Array.isArray($t)||($t=[$t]);const Se=yield H(Pe);for(const pe of $t){const he=Se.find(bt=>bt.measurementId===pe),et=he&&ge[he.appId];if(!et){ut=[];break}ut.push(et)}}0===ut.length&&(ut=Object.values(ge)),yield Promise.all(ut),ae("event",st,pt||{})}catch(ut){F.error(ut)}})).apply(this,arguments)}function ze(){const ae=window.document.getElementsByTagName("script");for(const ge of Object.values(ae))if(ge.src&&ge.src.includes(T))return ge;return null}const Te=new G.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Oe=new class Ie{constructor(ge={},Pe=1e3){this.throttleMetadata=ge,this.intervalMillis=Pe}getThrottleMetadata(ge){return this.throttleMetadata[ge]}setThrottleMetadata(ge,Pe){this.throttleMetadata[ge]=Pe}deleteThrottleMetadata(ge){delete this.throttleMetadata[ge]}};function Be(ae){return new Headers({Accept:"application/json","x-goog-api-key":ae})}function Xe(ae){return ke.apply(this,arguments)}function ke(){return(ke=(0,h.Z)(function*(ae){var ge;const{appId:Pe,apiKey:st}=ae,pt={method:"GET",headers:Be(st)},ut=de.replace("{app-id}",Pe),$t=yield fetch(ut,pt);if(200!==$t.status&&304!==$t.status){let Se="";try{const pe=yield $t.json();(null===(ge=pe.error)||void 0===ge?void 0:ge.message)&&(Se=pe.error.message)}catch(pe){}throw Te.create("config-fetch-failed",{httpStatus:$t.status,responseMessage:Se})}return $t.json()})).apply(this,arguments)}function Wt(ae){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,h.Z)(function*(ae,ge=Oe,Pe){const{appId:st,apiKey:pt,measurementId:ut}=ae.options;if(!st)throw Te.create("no-app-id");if(!pt){if(ut)return{measurementId:ut,appId:st};throw Te.create("no-api-key")}const $t=ge.getThrottleMetadata(st)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Se=new Hn;return setTimeout((0,h.Z)(function*(){Se.abort()}),void 0!==Pe?Pe:6e4),Xn({appId:st,apiKey:pt,measurementId:ut},$t,Se,ge)})).apply(this,arguments)}function Xn(ae,ge,Pe){return xt.apply(this,arguments)}function xt(){return(xt=(0,h.Z)(function*(ae,{throttleEndTimeMillis:ge,backoffCount:Pe},st,pt=Oe){const{appId:ut,measurementId:$t}=ae;try{yield Ut(st,ge)}catch(Se){if($t)return F.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${$t} provided in the "measurementId" field in the local Firebase config. [${Se.message}]`),{appId:ut,measurementId:$t};throw Se}try{const Se=yield Xe(ae);return pt.deleteThrottleMetadata(ut),Se}catch(Se){if(!qn(Se)){if(pt.deleteThrottleMetadata(ut),$t)return F.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${$t} provided in the "measurementId" field in the local Firebase config. [${Se.message}]`),{appId:ut,measurementId:$t};throw Se}const pe=503===Number(Se.customData.httpStatus)?(0,G.$s)(Pe,pt.intervalMillis,30):(0,G.$s)(Pe,pt.intervalMillis),he={throttleEndTimeMillis:Date.now()+pe,backoffCount:Pe+1};return pt.setThrottleMetadata(ut,he),F.debug(`Calling attemptFetch again in ${pe} millis`),Xn(ae,he,st,pt)}})).apply(this,arguments)}function Ut(ae,ge){return new Promise((Pe,st)=>{const pt=Math.max(ge-Date.now(),0),ut=setTimeout(Pe,pt);ae.addEventListener(()=>{clearTimeout(ut),st(Te.create("fetch-throttle",{throttleEndTimeMillis:ge}))})})}function qn(ae){if(!(ae instanceof G.ZR&&ae.customData))return!1;const ge=Number(ae.customData.httpStatus);return 429===ge||500===ge||503===ge||504===ge}class Hn{constructor(){this.listeners=[]}addEventListener(ge){this.listeners.push(ge)}abort(){this.listeners.forEach(ge=>ge())}}function Ar(){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,h.Z)(function*(){if(!(0,G.hl)())return F.warn(Te.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,G.eu)()}catch(ae){return F.warn(Te.create("indexeddb-unavailable",{errorInfo:ae}).message),!1}return!0})).apply(this,arguments)}function Ee(){return(Ee=(0,h.Z)(function*(ae,ge,Pe,st,pt,ut,$t){var Se;const pe=Wt(ae);pe.then(rn=>{Pe[rn.measurementId]=rn.appId,ae.options.measurementId&&rn.measurementId!==ae.options.measurementId&&F.warn(`The measurement ID in the local Firebase config (${ae.options.measurementId}) does not match the measurement ID fetched from the server (${rn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(rn=>F.error(rn)),ge.push(pe);const he=Ar().then(rn=>{if(rn)return st.getId()}),[et,bt]=yield Promise.all([pe,he]);ze()||ie(ut,et.measurementId),pt("js",new Date);const jt=null!==(Se=null==$t?void 0:$t.config)&&void 0!==Se?Se:{};return jt.origin="firebase",jt.update=!0,null!=bt&&(jt[xe]=bt),pt("config",et.measurementId,jt),et.measurementId})).apply(this,arguments)}class Ve{constructor(ge){this.app=ge}_delete(){return delete lt[this.app.options.appId],Promise.resolve()}}let lt={},Ct=[];const qe={};let pn,fn,Lt="dataLayer",Ze=!1;function vt(ae,ge,Pe){!function Xt(){const ae=[];if((0,G.ru)()&&ae.push("This is a browser extension environment."),(0,G.zI)()||ae.push("Cookies are not available."),ae.length>0){const ge=ae.map((st,pt)=>`(${pt+1}) ${st}`).join(" "),Pe=Te.create("invalid-analytics-context",{errorInfo:ge});F.warn(Pe.message)}}();const st=ae.options.appId;if(!st)throw Te.create("no-app-id");if(!ae.options.apiKey){if(!ae.options.measurementId)throw Te.create("no-api-key");F.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${ae.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=lt[st])throw Te.create("already-exists",{id:st});if(!Ze){!function me(ae){let ge=[];Array.isArray(window[ae])?ge=window[ae]:window[ae]=ge}(Lt);const{wrappedGtag:ut,gtagCore:$t}=function Ye(ae,ge,Pe,st,pt){let ut=function(...$t){window[st].push(arguments)};return window[pt]&&"function"==typeof window[pt]&&(ut=window[pt]),window[pt]=function We(ae,ge,Pe,st){function ut(){return(ut=(0,h.Z)(function*($t,Se,pe){try{"event"===$t?yield je(ae,ge,Pe,Se,pe):"config"===$t?yield ce(ae,ge,Pe,st,Se,pe):ae("set",Se)}catch(he){F.error(he)}})).apply(this,arguments)}return function pt($t,Se,pe){return ut.apply(this,arguments)}}(ut,ae,ge,Pe),{gtagCore:ut,wrappedGtag:window[pt]}}(lt,Ct,qe,Lt,"gtag");fn=ut,pn=$t,Ze=!0}return lt[st]=function Ae(ae,ge,Pe,st,pt,ut,$t){return Ee.apply(this,arguments)}(ae,Ct,qe,ge,pn,Lt,Pe),new Ve(ae)}function er(){return(er=(0,h.Z)(function*(ae,ge,Pe,st,pt){if(pt&&pt.global)ae("event",Pe,st);else{const ut=yield ge;ae("event",Pe,Object.assign(Object.assign({},st),{send_to:ut}))}})).apply(this,arguments)}function tr(ae=(0,P.getApp)()){ae=(0,G.m9)(ae);const ge=(0,P._getProvider)(ae,be);return ge.isInitialized()?ge.getImmediate():function Pr(ae,ge={}){const Pe=(0,P._getProvider)(ae,be);if(Pe.isInitialized()){const pt=Pe.getImmediate();if((0,G.vZ)(ge,Pe.getOptions()))return pt;throw Te.create("already-initialized")}return Pe.initialize({options:ge})}(ae)}function _n(){return wr.apply(this,arguments)}function wr(){return(wr=(0,h.Z)(function*(){if((0,G.ru)()||!(0,G.zI)()||!(0,G.hl)())return!1;try{return yield(0,G.eu)()}catch(ae){return!1}})).apply(this,arguments)}const Y="@firebase/analytics",W="0.7.9";!function le(){(0,P._registerComponent)(new ne.wA(be,(ge,{options:Pe})=>vt(ge.getProvider("app").getImmediate(),ge.getProvider("installations-internal").getImmediate(),Pe),"PUBLIC")),(0,P._registerComponent)(new ne.wA("analytics-internal",function ae(ge){try{const Pe=ge.getProvider(be).getImmediate();return{logEvent:(st,pt,ut)=>function B(ae,ge,Pe,st){ae=(0,G.m9)(ae),function Vt(ae,ge,Pe,st,pt){return er.apply(this,arguments)}(fn,lt[ae.app.options.appId],ge,Pe,st).catch(pt=>F.error(pt))}(Pe,st,pt,ut)}}catch(Pe){throw Te.create("interop-component-reg-failed",{reason:Pe})}},"PRIVATE")),(0,P.registerVersion)(Y,W),(0,P.registerVersion)(Y,W,"esm2017")}()},3942:(Ot,$e,$)=>{"use strict";$.d($e,{Z:()=>ie});var h=$(2090),P=$(4859),R=$(9681),G=$(1877);class ne{constructor(ce,se){this._delegate=ce,this.firebase=se,(0,R._addComponent)(ce,new P.wA("app-compat",()=>this,"PUBLIC")),this.container=ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ce){this._delegate.automaticDataCollectionEnabled=ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ce=>{this._delegate.checkDestroyed(),ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,R.deleteApp)(this._delegate)))}_getService(ce,se=R._DEFAULT_ENTRY_NAME){var je;this._delegate.checkDestroyed();const Qe=this._delegate.container.getProvider(ce);return!Qe.isInitialized()&&"EXPLICIT"===(null===(je=Qe.getComponent())||void 0===je?void 0:je.instantiationMode)&&Qe.initialize(),Qe.getImmediate({identifier:se})}_removeServiceInstance(ce,se=R._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ce).clearInstance(se)}_addComponent(ce){(0,R._addComponent)(this._delegate,ce)}_addOrOverwriteComponent(ce){(0,R._addOrOverwriteComponent)(this._delegate,ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const be=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function De(){const me=function xe(me){const ce={},se={__esModule:!0,initializeApp:function We(Te,Re={}){const fe=R.initializeApp(Te,Re);if((0,h.r3)(ce,fe.name))return ce[fe.name];const Ie=new me(fe,se);return ce[fe.name]=Ie,Ie},app:Qe,registerVersion:R.registerVersion,setLogLevel:R.setLogLevel,onLog:R.onLog,apps:null,SDK_VERSION:R.SDK_VERSION,INTERNAL:{registerComponent:function ze(Te){const Re=Te.name,fe=Re.replace("-compat","");if(R._registerComponent(Te)&&"PUBLIC"===Te.type){const Ie=(Oe=Qe())=>{if("function"!=typeof Oe[fe])throw be.create("invalid-app-argument",{appName:Re});return Oe[fe]()};void 0!==Te.serviceProps&&(0,h.ZB)(Ie,Te.serviceProps),se[fe]=Ie,me.prototype[fe]=function(...Oe){return this._getService.bind(this,Re).apply(this,Te.multipleInstances?Oe:[])}}return"PUBLIC"===Te.type?se[fe]:null},removeApp:function je(Te){delete ce[Te]},useAsService:function mt(Te,Re){return"serverAuth"===Re?null:Re},modularAPIs:R}};function Qe(Te){if(!(0,h.r3)(ce,Te=Te||R._DEFAULT_ENTRY_NAME))throw be.create("no-app",{appName:Te});return ce[Te]}return se.default=se,Object.defineProperty(se,"apps",{get:function Ye(){return Object.keys(ce).map(Te=>ce[Te])}}),Qe.App=me,se}(ne);return me.INTERNAL=Object.assign(Object.assign({},me.INTERNAL),{createFirebaseNamespace:De,extendNamespace:function ce(se){(0,h.ZB)(me,se)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),me}(),de=new G.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){de.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const me=self.firebase.SDK_VERSION;me&&me.indexOf("LITE")>=0&&de.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ie=ee;!function H(me){(0,R.registerVersion)("@firebase/app-compat","0.1.25",me)}()},9681:(Ot,$e,$)=>{"use strict";$.r($e),$.d($e,{FirebaseError:()=>G.ZR,SDK_VERSION:()=>on,_DEFAULT_ENTRY_NAME:()=>xt,_addComponent:()=>Ar,_addOrOverwriteComponent:()=>Cn,_apps:()=>qn,_clearComponents:()=>lt,_components:()=>Hn,_getProvider:()=>Ee,_registerComponent:()=>Ae,_removeServiceInstance:()=>Ve,deleteApp:()=>Dt,getApp:()=>fn,getApps:()=>Ze,initializeApp:()=>pn,onLog:()=>Vt,registerVersion:()=>vt,setLogLevel:()=>er});var h=$(5861),P=$(4859),R=$(1877),G=$(2090),ne=$(8766);class Ce{constructor(le){this.container=le}getPlatformInfoString(){return this.container.getProviders().map(ae=>{if(function be(W){const le=W.getComponent();return"VERSION"===(null==le?void 0:le.type)}(ae)){const ge=ae.getImmediate();return`${ge.library}/${ge.version}`}return null}).filter(ae=>ae).join(" ")}}const xe="@firebase/app",ee=new R.Yd("@firebase/app"),xt="[DEFAULT]",Ut={[xe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},qn=new Map,Hn=new Map;function Ar(W,le){try{W.container.addComponent(le)}catch(ae){ee.debug(`Component ${le.name} failed to register with FirebaseApp ${W.name}`,ae)}}function Cn(W,le){W.container.addOrOverwriteComponent(le)}function Ae(W){const le=W.name;if(Hn.has(le))return ee.debug(`There were multiple attempts to register component ${le}.`),!1;Hn.set(le,W);for(const ae of qn.values())Ar(ae,W);return!0}function Ee(W,le){const ae=W.container.getProvider("heartbeat").getImmediate({optional:!0});return ae&&ae.triggerHeartbeat(),W.container.getProvider(le)}function Ve(W,le,ae=xt){Ee(W,le).clearInstance(ae)}function lt(){Hn.clear()}const qe=new G.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Lt{constructor(le,ae,ge){this._isDeleted=!1,this._options=Object.assign({},le),this._config=Object.assign({},ae),this._name=ae.name,this._automaticDataCollectionEnabled=ae.automaticDataCollectionEnabled,this._container=ge,this.container.addComponent(new P.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(le){this.checkDestroyed(),this._automaticDataCollectionEnabled=le}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(le){this._isDeleted=le}checkDestroyed(){if(this.isDeleted)throw qe.create("app-deleted",{appName:this._name})}}const on="9.8.1";function pn(W,le={}){"object"!=typeof le&&(le={name:le});const ae=Object.assign({name:xt,automaticDataCollectionEnabled:!1},le),ge=ae.name;if("string"!=typeof ge||!ge)throw qe.create("bad-app-name",{appName:String(ge)});const Pe=qn.get(ge);if(Pe){if((0,G.vZ)(W,Pe.options)&&(0,G.vZ)(ae,Pe.config))return Pe;throw qe.create("duplicate-app",{appName:ge})}const st=new P.H0(ge);for(const ut of Hn.values())st.addComponent(ut);const pt=new Lt(W,ae,st);return qn.set(ge,pt),pt}function fn(W=xt){const le=qn.get(W);if(!le)throw qe.create("no-app",{appName:W});return le}function Ze(){return Array.from(qn.values())}function Dt(W){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,h.Z)(function*(W){const le=W.name;qn.has(le)&&(qn.delete(le),yield Promise.all(W.container.getProviders().map(ae=>ae.delete())),W.isDeleted=!0)})).apply(this,arguments)}function vt(W,le,ae){var ge;let Pe=null!==(ge=Ut[W])&&void 0!==ge?ge:W;ae&&(Pe+=`-${ae}`);const st=Pe.match(/\s|\//),pt=le.match(/\s|\//);if(st||pt){const ut=[`Unable to register library "${Pe}" with version "${le}":`];return st&&ut.push(`library name "${Pe}" contains illegal characters (whitespace or "/")`),st&&pt&&ut.push("and"),pt&&ut.push(`version name "${le}" contains illegal characters (whitespace or "/")`),void ee.warn(ut.join(" "))}Ae(new P.wA(`${Pe}-version`,()=>({library:Pe,version:le}),"VERSION"))}function Vt(W,le){if(null!==W&&"function"!=typeof W)throw qe.create("invalid-log-argument");(0,R.Am)(W,le)}function er(W){(0,R.Ub)(W)}const Dn="firebase-heartbeat-store";let $n=null;function an(){return $n||($n=(0,ne.X3)("firebase-heartbeat-database",1,{upgrade:(W,le)=>{0===le&&W.createObjectStore(Dn)}}).catch(W=>{throw qe.create("storage-open",{originalErrorMessage:W.message})})),$n}function qt(){return(qt=(0,h.Z)(function*(W){try{return(yield an()).transaction(Dn).objectStore(Dn).get(Pr(W))}catch(le){throw qe.create("storage-get",{originalErrorMessage:le.message})}})).apply(this,arguments)}function Rt(W,le){return tr.apply(this,arguments)}function tr(){return(tr=(0,h.Z)(function*(W,le){try{const ge=(yield an()).transaction(Dn,"readwrite");return yield ge.objectStore(Dn).put(le,Pr(W)),ge.done}catch(ae){throw qe.create("storage-set",{originalErrorMessage:ae.message})}})).apply(this,arguments)}function Pr(W){return`${W.name}!${W.options.appId}`}class rr{constructor(le){this.container=le,this._heartbeatsCache=null;const ae=this.container.getProvider("app").getImmediate();this._storage=new ve(ae),this._heartbeatsCachePromise=this._storage.read().then(ge=>(this._heartbeatsCache=ge,ge))}triggerHeartbeat(){var le=this;return(0,h.Z)(function*(){const ge=le.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Pe=Tn();if(null===le._heartbeatsCache&&(le._heartbeatsCache=yield le._heartbeatsCachePromise),le._heartbeatsCache.lastSentHeartbeatDate!==Pe&&!le._heartbeatsCache.heartbeats.some(st=>st.date===Pe))return le._heartbeatsCache.heartbeats.push({date:Pe,agent:ge}),le._heartbeatsCache.heartbeats=le._heartbeatsCache.heartbeats.filter(st=>{const pt=new Date(st.date).valueOf();return Date.now()-pt<=2592e6}),le._storage.overwrite(le._heartbeatsCache)})()}getHeartbeatsHeader(){var le=this;return(0,h.Z)(function*(){if(null===le._heartbeatsCache&&(yield le._heartbeatsCachePromise),null===le._heartbeatsCache||0===le._heartbeatsCache.heartbeats.length)return"";const ae=Tn(),{heartbeatsToSend:ge,unsentEntries:Pe}=function ue(W,le=1024){const ae=[];let ge=W.slice();for(const Pe of W){const st=ae.find(pt=>pt.agent===Pe.agent);if(st){if(st.dates.push(Pe.date),B(ae)>le){st.dates.pop();break}}else if(ae.push({agent:Pe.agent,dates:[Pe.date]}),B(ae)>le){ae.pop();break}ge=ge.slice(1)}return{heartbeatsToSend:ae,unsentEntries:ge}}(le._heartbeatsCache.heartbeats),st=(0,G.L)(JSON.stringify({version:2,heartbeats:ge}));return le._heartbeatsCache.lastSentHeartbeatDate=ae,Pe.length>0?(le._heartbeatsCache.heartbeats=Pe,yield le._storage.overwrite(le._heartbeatsCache)):(le._heartbeatsCache.heartbeats=[],le._storage.overwrite(le._heartbeatsCache)),st})()}}function Tn(){return(new Date).toISOString().substring(0,10)}class ve{constructor(le){this.app=le,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,G.hl)()&&(0,G.eu)().then(()=>!0).catch(()=>!1)})()}read(){var le=this;return(0,h.Z)(function*(){return(yield le._canUseIndexedDBPromise)&&(yield function un(W){return qt.apply(this,arguments)}(le.app))||{heartbeats:[]}})()}overwrite(le){var ae=this;return(0,h.Z)(function*(){var ge;if(yield ae._canUseIndexedDBPromise){const st=yield ae.read();return Rt(ae.app,{lastSentHeartbeatDate:null!==(ge=le.lastSentHeartbeatDate)&&void 0!==ge?ge:st.lastSentHeartbeatDate,heartbeats:le.heartbeats})}})()}add(le){var ae=this;return(0,h.Z)(function*(){var ge;if(yield ae._canUseIndexedDBPromise){const st=yield ae.read();return Rt(ae.app,{lastSentHeartbeatDate:null!==(ge=le.lastSentHeartbeatDate)&&void 0!==ge?ge:st.lastSentHeartbeatDate,heartbeats:[...st.heartbeats,...le.heartbeats]})}})()}}function B(W){return(0,G.L)(JSON.stringify({version:2,heartbeats:W})).length}!function Y(W){Ae(new P.wA("platform-logger",le=>new Ce(le),"PRIVATE")),Ae(new P.wA("heartbeat",le=>new rr(le),"PRIVATE")),vt(xe,"0.7.24",W),vt(xe,"0.7.24","esm2017"),vt("fire-js","")}("")},4859:(Ot,$e,$)=>{"use strict";$.d($e,{H0:()=>xe,wA:()=>R});var h=$(5861),P=$(2090);class R{constructor(ee,de,T){this.name=ee,this.instanceFactory=de,this.type=T,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const G="[DEFAULT]";class ne{constructor(ee,de){this.name=ee,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const de=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(de)){const T=new P.BH;if(this.instancesDeferred.set(de,T),this.isInitialized(de)||this.shouldAutoInitialize())try{const F=this.getOrInitializeService({instanceIdentifier:de});F&&T.resolve(F)}catch(F){}}return this.instancesDeferred.get(de).promise}getImmediate(ee){var de;const T=this.normalizeInstanceIdentifier(null==ee?void 0:ee.identifier),F=null!==(de=null==ee?void 0:ee.optional)&&void 0!==de&&de;if(!this.isInitialized(T)&&!this.shouldAutoInitialize()){if(F)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:T})}catch(H){if(F)return null;throw H}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function be(De){return"EAGER"===De.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:G})}catch(de){}for(const[de,T]of this.instancesDeferred.entries()){const F=this.normalizeInstanceIdentifier(de);try{const H=this.getOrInitializeService({instanceIdentifier:F});T.resolve(H)}catch(H){}}}}clearInstance(ee=G){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,h.Z)(function*(){const de=Array.from(ee.instances.values());yield Promise.all([...de.filter(T=>"INTERNAL"in T).map(T=>T.INTERNAL.delete()),...de.filter(T=>"_delete"in T).map(T=>T._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=G){return this.instances.has(ee)}getOptions(ee=G){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:de={}}=ee,T=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(T))throw Error(`${this.name}(${T}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const F=this.getOrInitializeService({instanceIdentifier:T,options:de});for(const[H,ie]of this.instancesDeferred.entries())T===this.normalizeInstanceIdentifier(H)&&ie.resolve(F);return F}onInit(ee,de){var T;const F=this.normalizeInstanceIdentifier(de),H=null!==(T=this.onInitCallbacks.get(F))&&void 0!==T?T:new Set;H.add(ee),this.onInitCallbacks.set(F,H);const ie=this.instances.get(F);return ie&&ee(ie,F),()=>{H.delete(ee)}}invokeOnInitCallbacks(ee,de){const T=this.onInitCallbacks.get(de);if(T)for(const F of T)try{F(ee,de)}catch(H){}}getOrInitializeService({instanceIdentifier:ee,options:de={}}){let T=this.instances.get(ee);if(!T&&this.component&&(T=this.component.instanceFactory(this.container,{instanceIdentifier:(De=ee,De===G?void 0:De),options:de}),this.instances.set(ee,T),this.instancesOptions.set(ee,de),this.invokeOnInitCallbacks(T,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,T)}catch(F){}var De;return T||null}normalizeInstanceIdentifier(ee=G){return this.component?this.component.multipleInstances?ee:G:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class xe{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const de=this.getProvider(ee.name);if(de.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);de.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const de=new ne(ee,this);return this.providers.set(ee,de),de}getProviders(){return Array.from(this.providers.values())}}},2833:(Ot,$e,$)=>{"use strict";var h=$(5861),P=$(9681),R=$(4859),G=$(2090),ne=$(8766);const Ce="@firebase/installations",De="w:0.5.9",ee="FIS_v2",me=new G.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ce(_e){return _e instanceof G.ZR&&_e.code.includes("request-failed")}function se({projectId:_e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${_e}/installations`}function je(_e){return{token:_e.token,requestStatus:2,expiresIn:Re(_e.expiresIn),creationTime:Date.now()}}function Qe(_e,He){return We.apply(this,arguments)}function We(){return(We=(0,h.Z)(function*(_e,He){const Ht=(yield He.json()).error;return me.create("request-failed",{requestName:_e,serverCode:Ht.code,serverMessage:Ht.message,serverStatus:Ht.status})})).apply(this,arguments)}function Ye({apiKey:_e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":_e})}function ze(_e,{refreshToken:He}){const ct=Ye(_e);return ct.append("Authorization",function fe(_e){return`${ee} ${_e}`}(He)),ct}function mt(_e){return Te.apply(this,arguments)}function Te(){return(Te=(0,h.Z)(function*(_e){const He=yield _e();return He.status>=500&&He.status<600?_e():He})).apply(this,arguments)}function Re(_e){return Number(_e.replace("s","000"))}function Ie(_e,He){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,h.Z)(function*({appConfig:_e,heartbeatServiceProvider:He},{fid:ct}){const Ht=se(_e),In=Ye(_e),On=He.getImmediate({optional:!0});if(On){const tn=yield On.getHeartbeatsHeader();tn&&In.append("x-firebase-client",tn)}const gr={method:"POST",headers:In,body:JSON.stringify({fid:ct,authVersion:ee,appId:_e.appId,sdkVersion:De})},Kr=yield mt(()=>fetch(Ht,gr));if(Kr.ok){const tn=yield Kr.json();return{fid:tn.fid||ct,registrationStatus:2,refreshToken:tn.refreshToken,authToken:je(tn.authToken)}}throw yield Qe("Create Installation",Kr)})).apply(this,arguments)}function Be(_e){return new Promise(He=>{setTimeout(He,_e)})}const ke=/^[cdef][\w-]{21}$/;function Jt(){try{const _e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(_e),_e[0]=112+_e[0]%16;const ct=function Xn(_e){return function Xe(_e){return btoa(String.fromCharCode(..._e)).replace(/\+/g,"-").replace(/\//g,"_")}(_e).substr(0,22)}(_e);return ke.test(ct)?ct:""}catch(_e){return""}}function xt(_e){return`${_e.appName}!${_e.appId}`}const Ut=new Map;function qn(_e,He){const ct=xt(_e);Cn(ct,He),function Ae(_e,He){const ct=function Ve(){return!Ee&&"BroadcastChannel"in self&&(Ee=new BroadcastChannel("[Firebase] FID Change"),Ee.onmessage=_e=>{Cn(_e.data.key,_e.data.fid)}),Ee}();ct&&ct.postMessage({key:_e,fid:He}),function lt(){0===Ut.size&&Ee&&(Ee.close(),Ee=null)}()}(ct,He)}function Cn(_e,He){const ct=Ut.get(_e);if(ct)for(const Ht of ct)Ht(He)}let Ee=null;const Lt="firebase-installations-store";let on=null;function pn(){return on||(on=(0,ne.X3)("firebase-installations-database",1,{upgrade:(_e,He)=>{0===He&&_e.createObjectStore(Lt)}})),on}function fn(_e,He){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,h.Z)(function*(_e,He){const ct=xt(_e),In=(yield pn()).transaction(Lt,"readwrite"),On=In.objectStore(Lt),Sn=yield On.get(ct);return yield On.put(He,ct),yield In.done,(!Sn||Sn.fid!==He.fid)&&qn(_e,He.fid),He})).apply(this,arguments)}function Dt(_e){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,h.Z)(function*(_e){const He=xt(_e),Ht=(yield pn()).transaction(Lt,"readwrite");yield Ht.objectStore(Lt).delete(He),yield Ht.done})).apply(this,arguments)}function vt(_e,He){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,h.Z)(function*(_e,He){const ct=xt(_e),In=(yield pn()).transaction(Lt,"readwrite"),On=In.objectStore(Lt),Sn=yield On.get(ct),gr=He(Sn);return void 0===gr?yield On.delete(ct):yield On.put(gr,ct),yield In.done,gr&&(!Sn||Sn.fid!==gr.fid)&&qn(_e,gr.fid),gr})).apply(this,arguments)}function er(_e){return bn.apply(this,arguments)}function bn(){return(bn=(0,h.Z)(function*(_e){let He;const ct=yield vt(_e.appConfig,Ht=>{const In=xn(Ht),On=Dn(_e,In);return He=On.registrationPromise,On.installationEntry});return""===ct.fid?{installationEntry:yield He}:{installationEntry:ct,registrationPromise:He}})).apply(this,arguments)}function xn(_e){return tr(_e||{fid:Jt(),registrationStatus:0})}function Dn(_e,He){if(0===He.registrationStatus){if(!navigator.onLine)return{installationEntry:He,registrationPromise:Promise.reject(me.create("app-offline"))};const ct={fid:He.fid,registrationStatus:1,registrationTime:Date.now()},Ht=function $n(_e,He){return an.apply(this,arguments)}(_e,ct);return{installationEntry:ct,registrationPromise:Ht}}return 1===He.registrationStatus?{installationEntry:He,registrationPromise:un(_e)}:{installationEntry:He}}function an(){return(an=(0,h.Z)(function*(_e,He){try{const ct=yield Ie(_e,He);return fn(_e.appConfig,ct)}catch(ct){throw ce(ct)&&409===ct.customData.serverCode?yield Dt(_e.appConfig):yield fn(_e.appConfig,{fid:He.fid,registrationStatus:0}),ct}})).apply(this,arguments)}function un(_e){return qt.apply(this,arguments)}function qt(){return(qt=(0,h.Z)(function*(_e){let He=yield Rt(_e.appConfig);for(;1===He.registrationStatus;)yield Be(100),He=yield Rt(_e.appConfig);if(0===He.registrationStatus){const{installationEntry:ct,registrationPromise:Ht}=yield er(_e);return Ht||ct}return He})).apply(this,arguments)}function Rt(_e){return vt(_e,He=>{if(!He)throw me.create("installation-not-found");return tr(He)})}function tr(_e){return function Pr(_e){return 1===_e.registrationStatus&&_e.registrationTime+1e4<Date.now()}(_e)?{fid:_e.fid,registrationStatus:0}:_e}function _n(_e,He){return wr.apply(this,arguments)}function wr(){return(wr=(0,h.Z)(function*({appConfig:_e,heartbeatServiceProvider:He},ct){const Ht=rr(_e,ct),In=ze(_e,ct),On=He.getImmediate({optional:!0});if(On){const tn=yield On.getHeartbeatsHeader();tn&&In.append("x-firebase-client",tn)}const gr={method:"POST",headers:In,body:JSON.stringify({installation:{sdkVersion:De,appId:_e.appId}})},Kr=yield mt(()=>fetch(Ht,gr));if(Kr.ok)return je(yield Kr.json());throw yield Qe("Generate Auth Token",Kr)})).apply(this,arguments)}function rr(_e,{fid:He}){return`${se(_e)}/${He}/authTokens:generate`}function Tn(_e){return ue.apply(this,arguments)}function ue(){return(ue=(0,h.Z)(function*(_e,He=!1){let ct;const Ht=yield vt(_e.appConfig,On=>{if(!ae(On))throw me.create("not-registered");const Sn=On.authToken;if(!He&&ge(Sn))return On;if(1===Sn.requestStatus)return ct=ve(_e,He),On;{if(!navigator.onLine)throw me.create("app-offline");const gr=st(On);return ct=W(_e,gr),gr}});return ct?yield ct:Ht.authToken})).apply(this,arguments)}function ve(_e,He){return B.apply(this,arguments)}function B(){return(B=(0,h.Z)(function*(_e,He){let ct=yield Y(_e.appConfig);for(;1===ct.authToken.requestStatus;)yield Be(100),ct=yield Y(_e.appConfig);const Ht=ct.authToken;return 0===Ht.requestStatus?Tn(_e,He):Ht})).apply(this,arguments)}function Y(_e){return vt(_e,He=>{if(!ae(He))throw me.create("not-registered");return function pt(_e){return 1===_e.requestStatus&&_e.requestTime+1e4<Date.now()}(He.authToken)?Object.assign(Object.assign({},He),{authToken:{requestStatus:0}}):He})}function W(_e,He){return le.apply(this,arguments)}function le(){return(le=(0,h.Z)(function*(_e,He){try{const ct=yield _n(_e,He),Ht=Object.assign(Object.assign({},He),{authToken:ct});return yield fn(_e.appConfig,Ht),ct}catch(ct){if(!ce(ct)||401!==ct.customData.serverCode&&404!==ct.customData.serverCode){const Ht=Object.assign(Object.assign({},He),{authToken:{requestStatus:0}});yield fn(_e.appConfig,Ht)}else yield Dt(_e.appConfig);throw ct}})).apply(this,arguments)}function ae(_e){return void 0!==_e&&2===_e.registrationStatus}function ge(_e){return 2===_e.requestStatus&&!function Pe(_e){const He=Date.now();return He<_e.creationTime||_e.creationTime+_e.expiresIn<He+36e5}(_e)}function st(_e){const He={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},_e),{authToken:He})}function $t(){return($t=(0,h.Z)(function*(_e){const He=_e,{installationEntry:ct,registrationPromise:Ht}=yield er(He);return Ht?Ht.catch(console.error):Tn(He).catch(console.error),ct.fid})).apply(this,arguments)}function pe(){return(pe=(0,h.Z)(function*(_e,He=!1){const ct=_e;return yield he(ct),(yield Tn(ct,He)).token})).apply(this,arguments)}function he(_e){return et.apply(this,arguments)}function et(){return(et=(0,h.Z)(function*(_e){const{registrationPromise:He}=yield er(_e);He&&(yield He)})).apply(this,arguments)}function Cr(_e){return me.create("missing-app-config-values",{valueName:_e})}const ci="installations",io=_e=>{const He=_e.getProvider("app").getImmediate(),ct=function Rn(_e){if(!_e||!_e.options)throw Cr("App Configuration");if(!_e.name)throw Cr("App Name");const He=["projectId","apiKey","appId"];for(const ct of He)if(!_e.options[ct])throw Cr(ct);return{appName:_e.name,projectId:_e.options.projectId,apiKey:_e.options.apiKey,appId:_e.options.appId}}(He);return{app:He,appConfig:ct,heartbeatServiceProvider:(0,P._getProvider)(He,"heartbeat"),_delete:()=>Promise.resolve()}},ei=_e=>{const He=_e.getProvider("app").getImmediate(),ct=(0,P._getProvider)(He,ci).getImmediate();return{getId:()=>function ut(_e){return $t.apply(this,arguments)}(ct),getToken:In=>function Se(_e){return pe.apply(this,arguments)}(ct,In)}};(function At(){(0,P._registerComponent)(new R.wA(ci,io,"PUBLIC")),(0,P._registerComponent)(new R.wA("installations-internal",ei,"PRIVATE"))})(),(0,P.registerVersion)(Ce,"0.5.9"),(0,P.registerVersion)(Ce,"0.5.9","esm2017")},1877:(Ot,$e,$)=>{"use strict";$.d($e,{Am:()=>De,Ub:()=>xe,Yd:()=>be,in:()=>P});const h=[];var P=(()=>{return(ee=P||(P={}))[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",P;var ee})();const R={debug:P.DEBUG,verbose:P.VERBOSE,info:P.INFO,warn:P.WARN,error:P.ERROR,silent:P.SILENT},G=P.INFO,ne={[P.DEBUG]:"log",[P.VERBOSE]:"log",[P.INFO]:"info",[P.WARN]:"warn",[P.ERROR]:"error"},Ce=(ee,de,...T)=>{if(de<ee.logLevel)return;const F=(new Date).toISOString(),H=ne[de];if(!H)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[H](`[${F}]  ${ee.name}:`,...T)};class be{constructor(de){this.name=de,this._logLevel=G,this._logHandler=Ce,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in P))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?R[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,P.DEBUG,...de),this._logHandler(this,P.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,P.VERBOSE,...de),this._logHandler(this,P.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,P.INFO,...de),this._logHandler(this,P.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,P.WARN,...de),this._logHandler(this,P.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,P.ERROR,...de),this._logHandler(this,P.ERROR,...de)}}function xe(ee){h.forEach(de=>{de.setLogLevel(ee)})}function De(ee,de){for(const T of h){let F=null;de&&de.level&&(F=R[de.level]),T.userLogHandler=null===ee?null:(H,ie,...me)=>{const ce=me.map(se=>{if(null==se)return null;if("string"==typeof se)return se;if("number"==typeof se||"boolean"==typeof se)return se.toString();if(se instanceof Error)return se.message;try{return JSON.stringify(se)}catch(je){return null}}).filter(se=>se).join(" ");ie>=(null!=F?F:H.logLevel)&&ee({level:P[ie].toLowerCase(),message:ce,args:me,type:H.name})}}}},8766:(Ot,$e,$)=>{"use strict";$.d($e,{Lj:()=>We,X3:()=>Qe});var h=$(5861);let R,G;const be=new WeakMap,xe=new WeakMap,De=new WeakMap,ee=new WeakMap,de=new WeakMap;let H={get(Re,fe,Ie){if(Re instanceof IDBTransaction){if("done"===fe)return xe.get(Re);if("objectStoreNames"===fe)return Re.objectStoreNames||De.get(Re);if("store"===fe)return Ie.objectStoreNames[1]?void 0:Ie.objectStore(Ie.objectStoreNames[0])}return se(Re[fe])},set:(Re,fe,Ie)=>(Re[fe]=Ie,!0),has:(Re,fe)=>Re instanceof IDBTransaction&&("done"===fe||"store"===fe)||fe in Re};function ce(Re){return"function"==typeof Re?function me(Re){return Re!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ce(){return G||(G=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Re)?function(...fe){return Re.apply(je(this),fe),se(be.get(this))}:function(...fe){return se(Re.apply(je(this),fe))}:function(fe,...Ie){const Oe=Re.call(je(this),fe,...Ie);return De.set(Oe,fe.sort?fe.sort():[fe]),se(Oe)}}(Re):(Re instanceof IDBTransaction&&function F(Re){if(xe.has(Re))return;const fe=new Promise((Ie,Oe)=>{const Be=()=>{Re.removeEventListener("complete",Xe),Re.removeEventListener("error",ke),Re.removeEventListener("abort",ke)},Xe=()=>{Ie(),Be()},ke=()=>{Oe(Re.error||new DOMException("AbortError","AbortError")),Be()};Re.addEventListener("complete",Xe),Re.addEventListener("error",ke),Re.addEventListener("abort",ke)});xe.set(Re,fe)}(Re),((Re,fe)=>fe.some(Ie=>Re instanceof Ie))(Re,function ne(){return R||(R=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Re,H):Re)}function se(Re){if(Re instanceof IDBRequest)return function T(Re){const fe=new Promise((Ie,Oe)=>{const Be=()=>{Re.removeEventListener("success",Xe),Re.removeEventListener("error",ke)},Xe=()=>{Ie(se(Re.result)),Be()},ke=()=>{Oe(Re.error),Be()};Re.addEventListener("success",Xe),Re.addEventListener("error",ke)});return fe.then(Ie=>{Ie instanceof IDBCursor&&be.set(Ie,Re)}).catch(()=>{}),de.set(fe,Re),fe}(Re);if(ee.has(Re))return ee.get(Re);const fe=ce(Re);return fe!==Re&&(ee.set(Re,fe),de.set(fe,Re)),fe}const je=Re=>de.get(Re);function Qe(Re,fe,{blocked:Ie,upgrade:Oe,blocking:Be,terminated:Xe}={}){const ke=indexedDB.open(Re,fe),Wt=se(ke);return Oe&&ke.addEventListener("upgradeneeded",Jt=>{Oe(se(ke.result),Jt.oldVersion,Jt.newVersion,se(ke.transaction))}),Ie&&ke.addEventListener("blocked",()=>Ie()),Wt.then(Jt=>{Xe&&Jt.addEventListener("close",()=>Xe()),Be&&Jt.addEventListener("versionchange",()=>Be())}).catch(()=>{}),Wt}function We(Re,{blocked:fe}={}){const Ie=indexedDB.deleteDatabase(Re);return fe&&Ie.addEventListener("blocked",()=>fe()),se(Ie).then(()=>{})}const Ye=["get","getKey","getAll","getAllKeys","count"],ze=["put","add","delete","clear"],mt=new Map;function Te(Re,fe){if(!(Re instanceof IDBDatabase)||fe in Re||"string"!=typeof fe)return;if(mt.get(fe))return mt.get(fe);const Ie=fe.replace(/FromIndex$/,""),Oe=fe!==Ie,Be=ze.includes(Ie);if(!(Ie in(Oe?IDBIndex:IDBObjectStore).prototype)||!Be&&!Ye.includes(Ie))return;const Xe=function(){var ke=(0,h.Z)(function*(Wt,...Jt){const Xn=this.transaction(Wt,Be?"readwrite":"readonly");let xt=Xn.store;return Oe&&(xt=xt.index(Jt.shift())),(yield Promise.all([xt[Ie](...Jt),Be&&Xn.done]))[0]});return function(Jt){return ke.apply(this,arguments)}}();return mt.set(fe,Xe),Xe}!function ie(Re){H=Re(H)}(Re=>Jk(Yk({},Re),{get:(fe,Ie,Oe)=>Te(fe,Ie)||Re.get(fe,Ie,Oe),has:(fe,Ie)=>!!Te(fe,Ie)||Re.has(fe,Ie)}))},5861:(Ot,$e,$)=>{"use strict";function h(R,G,ne,Ce,be,xe,De){try{var ee=R[xe](De),de=ee.value}catch(T){return void ne(T)}ee.done?G(de):Promise.resolve(de).then(Ce,be)}function P(R){return function(){var G=this,ne=arguments;return new Promise(function(Ce,be){var xe=R.apply(G,ne);function De(de){h(xe,Ce,be,De,ee,"next",de)}function ee(de){h(xe,Ce,be,De,ee,"throw",de)}De(void 0)})}}$.d($e,{Z:()=>P})}},Ot=>{Ot(Ot.s=688)}]);
var IU=Object.defineProperty,SU=Object.defineProperties,xU=Object.getOwnPropertyDescriptors,sP=Object.getOwnPropertySymbols,MU=Object.prototype.hasOwnProperty,RU=Object.prototype.propertyIsEnumerable,oP=(Nt,qe,z)=>qe in Nt?IU(Nt,qe,{enumerable:!0,configurable:!0,writable:!0,value:z}):Nt[qe]=z,aP=(Nt,qe)=>{for(var z in qe||(qe={}))MU.call(qe,z)&&oP(Nt,z,qe[z]);if(sP)for(var z of sP(qe))RU.call(qe,z)&&oP(Nt,z,qe[z]);return Nt},lP=(Nt,qe)=>SU(Nt,xU(qe));(self.webpackChunkClientApp=self.webpackChunkClientApp||[]).push([[179],{2011:(Nt,qe,z)=>{"use strict";z.d(qe,{Dh:()=>Me,GT:()=>Ce,cc:()=>H,hO:()=>F,on:()=>ee,pX:()=>re,xv:()=>De});var u=z(5e3),O=z(127),k=z(1038);Nt=z.hmd(Nt);const G=["ngOnDestroy"],re=(oe,je,Ye,We={})=>new Proxy(oe,{get:(Qe,ze)=>Ye.runOutsideAngular(()=>{var mt;if(oe[ze])return(null===(mt=null==We?void 0:We.spy)||void 0===mt?void 0:mt.get)&&We.spy.get(ze,oe[ze]),oe[ze];if(G.indexOf(ze)>-1)return()=>{};const Te=je.toPromise().then(Re=>{const fe=Re&&Re[ze];return"function"==typeof fe?fe.bind(Re):fe&&fe.then?fe.then(xe=>Ye.run(()=>xe)):Ye.run(()=>fe)});return new Proxy(()=>{},{get:(Re,fe)=>Te[fe],apply:(Re,fe,xe)=>Te.then(Oe=>{var Be;const Xe=Oe&&Oe(...xe);return(null===(Be=null==We?void 0:We.spy)||void 0===Be?void 0:Be.apply)&&We.spy.apply(ze,xe,Xe),Xe})})})}),Ce=(oe,je)=>{je.forEach(Ye=>{Object.getOwnPropertyNames(Ye.prototype||Ye).forEach(We=>{Object.defineProperty(oe.prototype,We,Object.getOwnPropertyDescriptor(Ye.prototype||Ye,We))})})};class Ee{constructor(je){return je}}const Me=new u.OlP("angularfire2.app.options"),De=new u.OlP("angularfire2.app.name");function ee(oe,je,Ye){const Qe="object"==typeof Ye&&Ye||{};Qe.name=Qe.name||"string"==typeof Ye&&Ye||"[DEFAULT]";const mt=O.Z.apps.filter(Te=>Te&&Te.name===Qe.name)[0]||je.runOutsideAngular(()=>O.Z.initializeApp(oe,Qe));try{JSON.stringify(oe)!==JSON.stringify(mt.options)&&de("error",`${mt.name} Firebase App already initialized with different options${Nt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Te){}return new Ee(mt)}const de=(oe,...je)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[oe](...je)},T={provide:Ee,useFactory:ee,deps:[Me,u.R0b,[new u.FiY,De]]};let F=(()=>{class oe{constructor(Ye){O.Z.registerVersion("angularfire",k.q4.full,"core"),O.Z.registerVersion("angularfire",k.q4.full,"app-compat"),O.Z.registerVersion("angular",u.q4F.full,Ye.toString())}static initializeApp(Ye,We){return{ngModule:oe,providers:[{provide:Me,useValue:Ye},{provide:De,useValue:We}]}}}return oe.\u0275fac=function(Ye){return new(Ye||oe)(u.LFG(u.Lbi))},oe.\u0275mod=u.oAB({type:oe}),oe.\u0275inj=u.cJS({providers:[T]}),oe})();function H(oe,je,Ye,We,Qe){const[,ze,mt]=globalThis.\u0275AngularfireInstanceCache.find(Te=>Te[0]===oe)||[];if(ze)return function se(oe,je){try{return oe.toString()===je.toString()}catch(Ye){return oe===je}}(Qe,mt)||(ce("error",`${je} was already initialized on the ${Ye} Firebase App with different settings.${me?" You may need to reload as Firebase is not HMR aware.":""}`),ce("warn",{is:Qe,was:mt})),ze;{const Te=We();return globalThis.\u0275AngularfireInstanceCache.push([oe,Te,Qe]),Te}}const me=!!Nt.hot,ce=(oe,...je)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[oe](...je)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1038:(Nt,qe,z)=>{"use strict";z.d(qe,{q4:()=>Md,iC:()=>go,HU:()=>gr,vb:()=>Fo,JM:()=>ca});var u=z(5e3),O=z(5867),k=z(5861),G=z(9681),re=z(2090),Ce=z(4859),Ee=z(1877);z(2833);const De="@firebase/remote-config",H=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class en{constructor($,we,Ge,bt){this.client=$,this.storage=we,this.storageCache=Ge,this.logger=bt}isCachedDataFresh($,we){if(!we)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ge=Date.now()-we,bt=Ge<=$;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ge}. Cache max age millis (minimumFetchIntervalMillis setting): ${$}. Is cache hit: ${bt}.`),bt}fetch($){var we=this;return(0,k.Z)(function*(){const[Ge,bt]=yield Promise.all([we.storage.getLastSuccessfulFetchTimestampMillis(),we.storage.getLastSuccessfulFetchResponse()]);if(bt&&we.isCachedDataFresh($.cacheMaxAgeMillis,Ge))return bt;$.eTag=bt&&bt.eTag;const It=yield we.client.fetch($),fn=[we.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===It.status&&fn.push(we.storage.setLastSuccessfulFetchResponse(It)),yield Promise.all(fn),It})()}}function tr(K=navigator){return K.languages&&K.languages[0]||K.language}class Mt{constructor($,we,Ge,bt,It,fn){this.firebaseInstallations=$,this.sdkVersion=we,this.namespace=Ge,this.projectId=bt,this.apiKey=It,this.appId=fn}fetch($){var we=this;return(0,k.Z)(function*(){const[Ge,bt]=yield Promise.all([we.firebaseInstallations.getId(),we.firebaseInstallations.getToken()]),fn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${we.projectId}/namespaces/${we.namespace}:fetch?key=${we.apiKey}`,or={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":$.eTag||"*"},Wt={sdk_version:we.sdkVersion,app_instance_id:Ge,app_instance_id_token:bt,app_id:we.appId,language_code:tr()},lr={method:"POST",headers:or,body:JSON.stringify(Wt)},fr=fetch(fn,lr),Fn=new Promise((at,Nn)=>{$.signal.addEventListener(()=>{const mo=new Error("The operation was aborted.");mo.name="AbortError",Nn(mo)})});let as;try{yield Promise.race([fr,Fn]),as=yield fr}catch(at){let Nn="fetch-client-network";throw"AbortError"===at.name&&(Nn="fetch-timeout"),H.create(Nn,{originalErrorMessage:at.message})}let Cs=as.status;const Zs=as.headers.get("ETag")||void 0;let Ha,ls;if(200===as.status){let at;try{at=yield as.json()}catch(Nn){throw H.create("fetch-client-parse",{originalErrorMessage:Nn.message})}Ha=at.entries,ls=at.state}if("INSTANCE_STATE_UNSPECIFIED"===ls?Cs=500:"NO_CHANGE"===ls?Cs=304:("NO_TEMPLATE"===ls||"EMPTY_CONFIG"===ls)&&(Ha={}),304!==Cs&&200!==Cs)throw H.create("fetch-status",{httpStatus:Cs});return{status:Cs,eTag:Zs,config:Ha}})()}}class Gn{constructor($,we){this.client=$,this.storage=we}fetch($){var we=this;return(0,k.Z)(function*(){const Ge=(yield we.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return we.attemptFetch($,Ge)})()}attemptFetch($,{throttleEndTimeMillis:we,backoffCount:Ge}){var bt=this;return(0,k.Z)(function*(){yield function jt(K,$){return new Promise((we,Ge)=>{const bt=Math.max($-Date.now(),0),It=setTimeout(we,bt);K.addEventListener(()=>{clearTimeout(It),Ge(H.create("fetch-throttle",{throttleEndTimeMillis:$}))})})}($.signal,we);try{const It=yield bt.client.fetch($);return yield bt.storage.deleteThrottleMetadata(),It}catch(It){if(!function Yn(K){if(!(K instanceof re.ZR&&K.customData))return!1;const $=Number(K.customData.httpStatus);return 429===$||500===$||503===$||504===$}(It))throw It;const fn={throttleEndTimeMillis:Date.now()+(0,re.$s)(Ge),backoffCount:Ge+1};return yield bt.storage.setThrottleMetadata(fn),bt.attemptFetch($,fn)}})()}}class Ae{constructor($,we,Ge,bt,It){this.app=$,this._client=we,this._storageCache=Ge,this._storage=bt,this._logger=It,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function _e(K,$){const we=K.target.error||void 0;return H.create($,{originalErrorMessage:we&&we.message})}const Ve="app_namespace_store";class Lt{constructor($,we,Ge,bt=function Ze(){return new Promise((K,$)=>{try{const we=indexedDB.open("firebase_remote_config",1);we.onerror=Ge=>{$(_e(Ge,"storage-open"))},we.onsuccess=Ge=>{K(Ge.target.result)},we.onupgradeneeded=Ge=>{0===Ge.oldVersion&&Ge.target.result.createObjectStore(Ve,{keyPath:"compositeKey"})}}catch(we){$(H.create("storage-open",{originalErrorMessage:we}))}})}()){this.appId=$,this.appName=we,this.namespace=Ge,this.openDbPromise=bt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus($){return this.set("last_fetch_status",$)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis($){return this.set("last_successful_fetch_timestamp_millis",$)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse($){return this.set("last_successful_fetch_response",$)}getActiveConfig(){return this.get("active_config")}setActiveConfig($){return this.set("active_config",$)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag($){return this.set("active_config_etag",$)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata($){return this.set("throttle_metadata",$)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get($){var we=this;return(0,k.Z)(function*(){const Ge=yield we.openDbPromise;return new Promise((bt,It)=>{const or=Ge.transaction([Ve],"readonly").objectStore(Ve),Wt=we.createCompositeKey($);try{const lr=or.get(Wt);lr.onerror=fr=>{It(_e(fr,"storage-get"))},lr.onsuccess=fr=>{const Fn=fr.target.result;bt(Fn?Fn.value:void 0)}}catch(lr){It(H.create("storage-get",{originalErrorMessage:lr&&lr.message}))}})})()}set($,we){var Ge=this;return(0,k.Z)(function*(){const bt=yield Ge.openDbPromise;return new Promise((It,fn)=>{const Wt=bt.transaction([Ve],"readwrite").objectStore(Ve),lr=Ge.createCompositeKey($);try{const fr=Wt.put({compositeKey:lr,value:we});fr.onerror=Fn=>{fn(_e(Fn,"storage-set"))},fr.onsuccess=()=>{It()}}catch(fr){fn(H.create("storage-set",{originalErrorMessage:fr&&fr.message}))}})})()}delete($){var we=this;return(0,k.Z)(function*(){const Ge=yield we.openDbPromise;return new Promise((bt,It)=>{const or=Ge.transaction([Ve],"readwrite").objectStore(Ve),Wt=we.createCompositeKey($);try{const lr=or.delete(Wt);lr.onerror=fr=>{It(_e(fr,"storage-delete"))},lr.onsuccess=()=>{bt()}}catch(lr){It(H.create("storage-delete",{originalErrorMessage:lr&&lr.message}))}})})()}createCompositeKey($){return[this.appId,this.appName,this.namespace,$].join()}}class ln{constructor($){this.storage=$}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var $=this;return(0,k.Z)(function*(){const we=$.storage.getLastFetchStatus(),Ge=$.storage.getLastSuccessfulFetchTimestampMillis(),bt=$.storage.getActiveConfig(),It=yield we;It&&($.lastFetchStatus=It);const fn=yield Ge;fn&&($.lastSuccessfulFetchTimestampMillis=fn);const or=yield bt;or&&($.activeConfig=or)})()}setLastFetchStatus($){return this.lastFetchStatus=$,this.storage.setLastFetchStatus($)}setLastSuccessfulFetchTimestampMillis($){return this.lastSuccessfulFetchTimestampMillis=$,this.storage.setLastSuccessfulFetchTimestampMillis($)}setActiveConfig($){return this.activeConfig=$,this.storage.setActiveConfig($)}}function Tt(){return tn.apply(this,arguments)}function tn(){return(tn=(0,k.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch(K){return!1}})).apply(this,arguments)}!function yn(){(0,G._registerComponent)(new Ce.wA("remote-config",function K($,{instanceIdentifier:we}){const Ge=$.getProvider("app").getImmediate(),bt=$.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw H.create("registration-window");if(!(0,re.hl)())throw H.create("indexed-db-unavailable");const{projectId:It,apiKey:fn,appId:or}=Ge.options;if(!It)throw H.create("registration-project-id");if(!fn)throw H.create("registration-api-key");if(!or)throw H.create("registration-app-id");const Wt=new Lt(or,Ge.name,we=we||"firebase"),lr=new ln(Wt),fr=new Ee.Yd(De);fr.logLevel=Ee.in.ERROR;const Fn=new Mt(bt,G.SDK_VERSION,we,It,fn,or),as=new Gn(Fn,Wt),Cs=new en(as,Wt,lr,fr),Zs=new Ae(Ge,Cs,lr,Wt,fr);return function mt(K){const $=(0,re.m9)(K);$._initializePromise||($._initializePromise=$._storageCache.loadFromStorage().then(()=>{$._isInitializationComplete=!0}))}(Zs),Zs},"PUBLIC").setMultipleInstances(!0)),(0,G.registerVersion)(De,"0.3.8"),(0,G.registerVersion)(De,"0.3.8","esm2017")}();var vt=z(8766);const Vt="/firebase-messaging-sw.js",nr="/firebase-cloud-messaging-push-scope",An="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Tn="google.c.a.c_id",Zn="google.c.a.c_l",un="google.c.a.ts",dn="google.c.a.e";var kt=(()=>{return(K=kt||(kt={})).PUSH_RECEIVED="push-received",K.NOTIFICATION_CLICKED="notification-clicked",kt;var K})();function $n(K){const $=new Uint8Array(K);return btoa(String.fromCharCode(...$)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Or(K){const we=(K+"=".repeat((4-K.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ge=atob(we),bt=new Uint8Array(Ge.length);for(let It=0;It<Ge.length;++It)bt[It]=Ge.charCodeAt(It);return bt}const En="fcm_token_details_db",ir="fcm_token_object_Store";function In(K){return ue.apply(this,arguments)}function ue(){return ue=(0,k.Z)(function*(K){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(It=>It.name).includes(En))return null;let $=null;return(yield(0,vt.X3)(En,5,{upgrade:(Ge=(0,k.Z)(function*(bt,It,fn,or){var Wt;if(It<2||!bt.objectStoreNames.contains(ir))return;const lr=or.objectStore(ir),fr=yield lr.index("fcmSenderId").get(K);if(yield lr.clear(),fr)if(2===It){const Fn=fr;if(!Fn.auth||!Fn.p256dh||!Fn.endpoint)return;$={token:Fn.fcmToken,createTime:null!==(Wt=Fn.createTime)&&void 0!==Wt?Wt:Date.now(),subscriptionOptions:{auth:Fn.auth,p256dh:Fn.p256dh,endpoint:Fn.endpoint,swScope:Fn.swScope,vapidKey:"string"==typeof Fn.vapidKey?Fn.vapidKey:$n(Fn.vapidKey)}}}else if(3===It){const Fn=fr;$={token:Fn.fcmToken,createTime:Fn.createTime,subscriptionOptions:{auth:$n(Fn.auth),p256dh:$n(Fn.p256dh),endpoint:Fn.endpoint,swScope:Fn.swScope,vapidKey:$n(Fn.vapidKey)}}}else if(4===It){const Fn=fr;$={token:Fn.fcmToken,createTime:Fn.createTime,subscriptionOptions:{auth:$n(Fn.auth),p256dh:$n(Fn.p256dh),endpoint:Fn.endpoint,swScope:Fn.swScope,vapidKey:$n(Fn.vapidKey)}}}}),function(It,fn,or,Wt){return Ge.apply(this,arguments)})})).close(),yield(0,vt.Lj)(En),yield(0,vt.Lj)("fcm_vapid_details_db"),yield(0,vt.Lj)("undefined"),ve($)?$:null;var Ge}),ue.apply(this,arguments)}function ve(K){if(!K||!K.subscriptionOptions)return!1;const{subscriptionOptions:$}=K;return"number"==typeof K.createTime&&K.createTime>0&&"string"==typeof K.token&&K.token.length>0&&"string"==typeof $.auth&&$.auth.length>0&&"string"==typeof $.p256dh&&$.p256dh.length>0&&"string"==typeof $.endpoint&&$.endpoint.length>0&&"string"==typeof $.swScope&&$.swScope.length>0&&"string"==typeof $.vapidKey&&$.vapidKey.length>0}const W="firebase-messaging-store";let le=null;function ae(){return le||(le=(0,vt.X3)("firebase-messaging-database",1,{upgrade:(K,$)=>{0===$&&K.createObjectStore(W)}})),le}function ge(K){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,k.Z)(function*(K){const $=Ie(K),Ge=yield(yield ae()).transaction(W).objectStore(W).get($);if(Ge)return Ge;{const bt=yield In(K.appConfig.senderId);if(bt)return yield st(K,bt),bt}})).apply(this,arguments)}function st(K,$){return pt.apply(this,arguments)}function pt(){return(pt=(0,k.Z)(function*(K,$){const we=Ie(K),bt=(yield ae()).transaction(W,"readwrite");return yield bt.objectStore(W).put($,we),yield bt.done,$})).apply(this,arguments)}function ut(K){return $t.apply(this,arguments)}function $t(){return($t=(0,k.Z)(function*(K){const $=Ie(K),Ge=(yield ae()).transaction(W,"readwrite");yield Ge.objectStore(W).delete($),yield Ge.done})).apply(this,arguments)}function Ie({appConfig:K}){return K.appId}const he=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function et(K,$){return Et.apply(this,arguments)}function Et(){return(Et=(0,k.Z)(function*(K,$){const we=yield Br(K),Ge=Dr($),bt={method:"POST",headers:we,body:JSON.stringify(Ge)};let It;try{It=yield(yield fetch(yr(K.appConfig),bt)).json()}catch(fn){throw he.create("token-subscribe-failed",{errorInfo:fn})}if(It.error)throw he.create("token-subscribe-failed",{errorInfo:It.error.message});if(!It.token)throw he.create("token-subscribe-no-token");return It.token})).apply(this,arguments)}function qt(K,$){return an.apply(this,arguments)}function an(){return(an=(0,k.Z)(function*(K,$){const we=yield Br(K),Ge=Dr($.subscriptionOptions),bt={method:"PATCH",headers:we,body:JSON.stringify(Ge)};let It;try{It=yield(yield fetch(`${yr(K.appConfig)}/${$.token}`,bt)).json()}catch(fn){throw he.create("token-update-failed",{errorInfo:fn})}if(It.error)throw he.create("token-update-failed",{errorInfo:It.error.message});if(!It.token)throw he.create("token-update-no-token");return It.token})).apply(this,arguments)}function Vn(K,$){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,k.Z)(function*(K,$){const Ge={method:"DELETE",headers:yield Br(K)};try{const It=yield(yield fetch(`${yr(K.appConfig)}/${$}`,Ge)).json();if(It.error)throw he.create("token-unsubscribe-failed",{errorInfo:It.error.message})}catch(bt){throw he.create("token-unsubscribe-failed",{errorInfo:bt})}})).apply(this,arguments)}function yr({projectId:K}){return`https://fcmregistrations.googleapis.com/v1/projects/${K}/registrations`}function Br(K){return kn.apply(this,arguments)}function kn(){return(kn=(0,k.Z)(function*({appConfig:K,installations:$}){const we=yield $.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":K.apiKey,"x-goog-firebase-installations-auth":`FIS ${we}`})})).apply(this,arguments)}function Dr({p256dh:K,auth:$,endpoint:we,vapidKey:Ge}){const bt={web:{endpoint:we,auth:$,p256dh:K}};return Ge!==An&&(bt.web.applicationPubKey=Ge),bt}const di=6048e5;function Fr(K){return uo.apply(this,arguments)}function uo(){return(uo=(0,k.Z)(function*(K){const $=yield Mn(K.swRegistration,K.vapidKey),we={vapidKey:K.vapidKey,swScope:K.swRegistration.scope,endpoint:$.endpoint,auth:$n($.getKey("auth")),p256dh:$n($.getKey("p256dh"))},Ge=yield ge(K.firebaseDependencies);if(Ge){if(Sn(Ge.subscriptionOptions,we))return Date.now()>=Ge.createTime+di?ye(K,{token:Ge.token,createTime:Date.now(),subscriptionOptions:we}):Ge.token;try{yield Vn(K.firebaseDependencies,Ge.token)}catch(bt){console.warn(bt)}return ct(K.firebaseDependencies,we)}return ct(K.firebaseDependencies,we)})).apply(this,arguments)}function ti(K){return At.apply(this,arguments)}function At(){return(At=(0,k.Z)(function*(K){const $=yield ge(K.firebaseDependencies);$&&(yield Vn(K.firebaseDependencies,$.token),yield ut(K.firebaseDependencies));const we=yield K.swRegistration.pushManager.getSubscription();return!we||we.unsubscribe()})).apply(this,arguments)}function ye(K,$){return He.apply(this,arguments)}function He(){return(He=(0,k.Z)(function*(K,$){try{const we=yield qt(K.firebaseDependencies,$),Ge=Object.assign(Object.assign({},$),{token:we,createTime:Date.now()});return yield st(K.firebaseDependencies,Ge),we}catch(we){throw yield ti(K),we}})).apply(this,arguments)}function ct(K,$){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,k.Z)(function*(K,$){const Ge={token:yield et(K,$),createTime:Date.now(),subscriptionOptions:$};return yield st(K,Ge),Ge.token})).apply(this,arguments)}function Mn(K,$){return On.apply(this,arguments)}function On(){return(On=(0,k.Z)(function*(K,$){return(yield K.pushManager.getSubscription())||K.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Or($)})})).apply(this,arguments)}function Sn(K,$){return $.vapidKey===K.vapidKey&&$.endpoint===K.endpoint&&$.auth===K.auth&&$.p256dh===K.p256dh}function mr(K){const $={from:K.from,collapseKey:K.collapse_key,messageId:K.fcmMessageId};return function Yr(K,$){if(!$.notification)return;K.notification={};const we=$.notification.title;we&&(K.notification.title=we);const Ge=$.notification.body;Ge&&(K.notification.body=Ge);const bt=$.notification.image;bt&&(K.notification.image=bt)}($,K),function sn(K,$){!$.data||(K.data=$.data)}($,K),function ys(K,$){if(!$.fcmOptions)return;K.fcmOptions={};const we=$.fcmOptions.link;we&&(K.fcmOptions.link=we);const Ge=$.fcmOptions.analytics_label;Ge&&(K.fcmOptions.analyticsLabel=Ge)}($,K),$}function Ei(K){return"object"==typeof K&&!!K&&Tn in K}function Un(K,$){const we=[];for(let Ge=0;Ge<K.length;Ge++)we.push(K.charAt(Ge)),Ge<$.length&&we.push($.charAt(Ge));return we.join("")}function Lr(K){return he.create("missing-app-config-values",{valueName:K})}Un("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Un("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class _s{constructor($,we,Ge){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const bt=function is(K){if(!K||!K.options)throw Lr("App Configuration Object");if(!K.name)throw Lr("App Name");const $=["projectId","apiKey","appId","messagingSenderId"],{options:we}=K;for(const Ge of $)if(!we[Ge])throw Lr(Ge);return{appName:K.name,projectId:we.projectId,apiKey:we.apiKey,appId:we.appId,senderId:we.messagingSenderId}}($);this.firebaseDependencies={app:$,appConfig:bt,installations:we,analyticsProvider:Ge}}_delete(){return Promise.resolve()}}function bs(K){return vr.apply(this,arguments)}function vr(){return(vr=(0,k.Z)(function*(K){try{K.swRegistration=yield navigator.serviceWorker.register(Vt,{scope:nr}),K.swRegistration.update().catch(()=>{})}catch($){throw he.create("failed-service-worker-registration",{browserErrorMessage:$.message})}})).apply(this,arguments)}function er(K,$){return La.apply(this,arguments)}function La(){return(La=(0,k.Z)(function*(K,$){if(!$&&!K.swRegistration&&(yield bs(K)),$||!K.swRegistration){if(!($ instanceof ServiceWorkerRegistration))throw he.create("invalid-sw-registration");K.swRegistration=$}})).apply(this,arguments)}function ra(K,$){return fi.apply(this,arguments)}function fi(){return(fi=(0,k.Z)(function*(K,$){$?K.vapidKey=$:K.vapidKey||(K.vapidKey=An)})).apply(this,arguments)}function ia(){return(ia=(0,k.Z)(function*(K,$){if(!navigator)throw he.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw he.create("permission-blocked");return yield ra(K,null==$?void 0:$.vapidKey),yield er(K,null==$?void 0:$.serviceWorkerRegistration),Fr(K)})).apply(this,arguments)}function Po(K,$,we){return co.apply(this,arguments)}function co(){return(co=(0,k.Z)(function*(K,$,we){const Ge=Ai($);(yield K.firebaseDependencies.analyticsProvider.get()).logEvent(Ge,{message_id:we[Tn],message_name:we[Zn],message_time:we[un],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ai(K){switch(K){case kt.NOTIFICATION_CLICKED:return"notification_open";case kt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function sa(){return(sa=(0,k.Z)(function*(K,$){const we=$.data;if(!we.isFirebaseMessaging)return;K.onMessageHandler&&we.messageType===kt.PUSH_RECEIVED&&("function"==typeof K.onMessageHandler?K.onMessageHandler(mr(we)):K.onMessageHandler.next(mr(we)));const Ge=we.data;Ei(Ge)&&"1"===Ge[dn]&&(yield Po(K,we.messageType,Ge))})).apply(this,arguments)}const oa="@firebase/messaging",lu=K=>{const $=new _s(K.getProvider("app").getImmediate(),K.getProvider("installations-internal").getImmediate(),K.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",we=>function hc(K,$){return sa.apply(this,arguments)}($,we)),$},Td=K=>{const $=K.getProvider("messaging").getImmediate();return{getToken:Ge=>function hi(K,$){return ia.apply(this,arguments)}($,Ge)}};function Va(){return fo.apply(this,arguments)}function fo(){return(fo=(0,k.Z)(function*(){try{yield(0,re.eu)()}catch(K){return!1}return"undefined"!=typeof window&&(0,re.hl)()&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ss(){(0,G._registerComponent)(new Ce.wA("messaging",lu,"PUBLIC")),(0,G._registerComponent)(new Ce.wA("messaging-internal",Td,"PRIVATE")),(0,G.registerVersion)(oa,"0.9.13"),(0,G.registerVersion)(oa,"0.9.13","esm2017")}();var xd=z(579),Ba=z(4408),tt=z(7565);const Yi=new class Oo extends tt.v{}(class Ki extends Ba.o{constructor($,we){super($,we),this.scheduler=$,this.work=we}schedule($,we=0){return we>0?super.schedule($,we):(this.delay=we,this.state=$,this.scheduler.flush(this),this)}execute($,we){return we>0||this.closed?super.execute($,we):this._execute($,we)}requestAsyncId($,we,Ge=0){return null!=Ge&&Ge>0||null==Ge&&this.delay>0?super.requestAsyncId($,we,Ge):$.flush(this)}});var aa=z(4986),pi=z(8505),ho=z(9468),la=z(5363);const Md=new u.GfV("7.3.0"),Qi="__angularfire_symbol__analyticsIsSupportedValue",zs="__angularfire_symbol__analyticsIsSupported",As="__angularfire_symbol__remoteConfigIsSupportedValue",ua="__angularfire_symbol__remoteConfigIsSupported",qs="__angularfire_symbol__messagingIsSupportedValue",Ur="__angularfire_symbol__messagingIsSupported";function ca(K,$,we){if($){if(1===$.length)return $[0];const It=$.filter(fn=>fn.app===we);if(1===It.length)return It[0]}return we.container.getProvider(K).getImmediate({optional:!0})}globalThis[zs]||(globalThis[zs]=(0,xd.Gb)().then(K=>globalThis[Qi]=K).catch(()=>globalThis[Qi]=!1)),globalThis[Ur]||(globalThis[Ur]=Va().then(K=>globalThis[qs]=K).catch(()=>globalThis[qs]=!1)),globalThis[ua]||(globalThis[ua]=Tt().then(K=>globalThis[As]=K).catch(()=>globalThis[As]=!1));const Fo=(K,$)=>{const we=$?[$]:(0,O.C6)(),Ge=[];return we.forEach(bt=>{bt.container.getProvider(K).instances.forEach(fn=>{Ge.includes(fn)||Ge.push(fn)})}),Ge};function os(){}class po{constructor($,we=Yi){this.zone=$,this.delegate=we}now(){return this.delegate.now()}schedule($,we,Ge){const bt=this.zone;return this.delegate.schedule(function(fn){bt.runGuarded(()=>{$.apply(this,[fn])})},we,Ge)}}class gc{constructor($){this.zone=$,this.task=null}call($,we){const Ge=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",os,{},os,os)),we.pipe((0,pi.b)({next:Ge,complete:Ge,error:Ge})).subscribe($).add(Ge)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let gr=(()=>{class K{constructor(we){this.ngZone=we,this.outsideAngular=we.runOutsideAngular(()=>new po(Zone.current)),this.insideAngular=we.run(()=>new po(Zone.current,aa.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return K.\u0275fac=function(we){return new(we||K)(u.LFG(u.R0b))},K.\u0275prov=u.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})();function Ji(){const K=globalThis.\u0275AngularFireScheduler;if(!K)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return K}function go(K){return Ji(),function ni(K){return function(we){return(we=we.lift(new gc(K.ngZone))).pipe((0,ho.R)(K.outsideAngular),(0,la.Q)(K.insideAngular))}}(Ji())(K)}},198:(Nt,qe,z)=>{"use strict";z.d(qe,{$:()=>fn,A:()=>de,B:()=>H,G:()=>He,H:()=>Sn,J:()=>ss,L:()=>pt,M:()=>Oo,N:()=>pi,P:()=>Go,Q:()=>ho,R:()=>wu,T:()=>la,U:()=>aa,V:()=>As,W:()=>ua,X:()=>cu,Y:()=>Ws,Z:()=>K,_:()=>we,a:()=>mu,a0:()=>Fn,a1:()=>Cs,a2:()=>Ha,a3:()=>at,a4:()=>mo,a5:()=>Rd,a6:()=>$s,a7:()=>mc,a8:()=>kd,a9:()=>Nd,aA:()=>tl,aB:()=>Xa,aC:()=>xc,aD:()=>Iu,aE:()=>At,aI:()=>yo,aL:()=>Qi,aa:()=>Ds,ab:()=>ha,ac:()=>_h,af:()=>Dl,ag:()=>Od,ah:()=>Fd,ak:()=>po,al:()=>Ah,an:()=>pu,ao:()=>Ih,ap:()=>yr,aq:()=>fe,ar:()=>Bt,as:()=>qt,at:()=>Ye,au:()=>Ou,av:()=>nl,aw:()=>We,ax:()=>Te,ay:()=>Oe,az:()=>ut,b:()=>Sh,c:()=>Ka,d:()=>Ic,e:()=>Cu,f:()=>Yd,g:()=>Qd,h:()=>kc,i:()=>ya,j:()=>wa,k:()=>Bl,l:()=>Ms,m:()=>rf,n:()=>Lc,o:()=>Me,r:()=>Wd,s:()=>wc,u:()=>$d,y:()=>Vd});var u=z(5861),O=z(2090),k=z(9681),G=z(655),re=z(1877),Ce=z(4859);const Me={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},de={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const H=function T(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},se=function F(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},me=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),oe=new re.Yd("@firebase/auth");function je(D,..._){oe.logLevel<=re.in.ERROR&&oe.error(`Auth (${k.SDK_VERSION}): ${D}`,..._)}function Ye(D,..._){throw mt(D,..._)}function We(D,..._){return mt(D,..._)}function Qe(D,_,E){const x=Object.assign(Object.assign({},se()),{[_]:E});return new O.LL("auth","Firebase",x).create(_,{appName:D.name})}function ze(D,_,E){if(!(_ instanceof E))throw E.name!==_.constructor.name&&Ye(D,"argument-error"),Qe(D,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mt(D,..._){if("string"!=typeof D){const E=_[0],x=[..._.slice(1)];return x[0]&&(x[0].appName=D.name),D._errorFactory.create(E,...x)}return me.create(D,..._)}function Te(D,_,...E){if(!D)throw mt(_,...E)}function Re(D){const _="INTERNAL ASSERTION FAILED: "+D;throw je(_),new Error(_)}function fe(D,_){D||Re(_)}const xe=new Map;function Oe(D){fe(D instanceof Function,"Expected a class definition");let _=xe.get(D);return _?(fe(_ instanceof D,"Instance stored in cache mismatched with class"),_):(_=new D,xe.set(D,_),_)}function Ne(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.href)||""}function Kt(){return"http:"===en()||"https:"===en()}function en(){var D;return"undefined"!=typeof self&&(null===(D=self.location)||void 0===D?void 0:D.protocol)||null}class jt{constructor(_,E){this.shortDelay=_,this.longDelay=E,fe(E>_,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function tr(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Kt()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Yn(D,_){fe(D.emulator,"Emulator should always be set here");const{url:E}=D.emulator;return _?`${E}${_.startsWith("/")?_.slice(1):_}`:E}class Gn{static initialize(_,E,x){this.fetchImpl=_,E&&(this.headersImpl=E),x&&(this.responseImpl=x)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Re("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Re("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Re("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const wr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Dn=new jt(3e4,6e4);function Ae(D,_){return D.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:D.tenantId}):_}function _e(D,_,E,x){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,u.Z)(function*(D,_,E,x,U={}){return lt(D,U,(0,u.Z)(function*(){let Q={},Le={};x&&("GET"===_?Le=x:Q={body:JSON.stringify(x)});const ht=(0,O.xO)(Object.assign({key:D.config.apiKey},Le)).slice(1),Zt=yield D._getAdditionalHeaders();return Zt["Content-Type"]="application/json",D.languageCode&&(Zt["X-Firebase-Locale"]=D.languageCode),Gn.fetch()(ln(D,D.config.apiHost,E,ht),Object.assign({method:_,headers:Zt,referrerPolicy:"no-referrer"},Q))}))})).apply(this,arguments)}function lt(D,_,E){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,u.Z)(function*(D,_,E){D._canInitEmulator=!1;const x=Object.assign(Object.assign({},wr),_);try{const U=new yn(D),Q=yield Promise.race([E(),U.promise]);U.clearNetworkTimeout();const Le=yield Q.json();if("needConfirmation"in Le)throw mn(D,"account-exists-with-different-credential",Le);if(Q.ok&&!("errorMessage"in Le))return Le;{const ht=Q.ok?Le.errorMessage:Le.error.message,[Zt,on]=ht.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Zt)throw mn(D,"credential-already-in-use",Le);if("EMAIL_EXISTS"===Zt)throw mn(D,"email-already-in-use",Le);const Bn=x[Zt]||Zt.toLowerCase().replace(/[_\s]+/g,"-");if(on)throw Qe(D,Bn,on);Ye(D,Bn)}}catch(U){if(U instanceof O.ZR)throw U;Ye(D,"network-request-failed")}})).apply(this,arguments)}function Ze(D,_,E,x){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,u.Z)(function*(D,_,E,x,U={}){const Q=yield _e(D,_,E,x,U);return"mfaPendingCredential"in Q&&Ye(D,"multi-factor-auth-required",{_serverResponse:Q}),Q})).apply(this,arguments)}function ln(D,_,E,x){const U=`${_}${E}?${x}`;return D.config.emulator?Yn(D.config,U):`${D.config.apiScheme}://${U}`}class yn{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((E,x)=>{this.timer=setTimeout(()=>x(We(this.auth,"network-request-failed")),Dn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mn(D,_,E){const x={appName:D.name};E.email&&(x.email=E.email),E.phoneNumber&&(x.phoneNumber=E.phoneNumber);const U=We(D,_,x);return U.customData._tokenResponse=E,U}function Tt(){return(Tt=(0,u.Z)(function*(D,_){return _e(D,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function tn(D,_){return vt.apply(this,arguments)}function vt(){return(vt=(0,u.Z)(function*(D,_){return _e(D,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Vt(D,_){return nr.apply(this,arguments)}function nr(){return(nr=(0,u.Z)(function*(D,_){return _e(D,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function An(D){if(D)try{const _=new Date(Number(D));if(!isNaN(_.getTime()))return _.toUTCString()}catch(_){}}function Zn(){return(Zn=(0,u.Z)(function*(D,_=!1){const E=(0,O.m9)(D),x=yield E.getIdToken(_),U=dn(x);Te(U&&U.exp&&U.auth_time&&U.iat,E.auth,"internal-error");const Q="object"==typeof U.firebase?U.firebase:void 0,Le=null==Q?void 0:Q.sign_in_provider;return{claims:U,token:x,authTime:An(un(U.auth_time)),issuedAtTime:An(un(U.iat)),expirationTime:An(un(U.exp)),signInProvider:Le||null,signInSecondFactor:(null==Q?void 0:Q.sign_in_second_factor)||null}})).apply(this,arguments)}function un(D){return 1e3*Number(D)}function dn(D){const[_,E,x]=D.split(".");if(void 0===_||void 0===E||void 0===x)return je("JWT malformed, contained fewer than 3 sections"),null;try{const U=(0,O.tV)(E);return U?JSON.parse(U):(je("Failed to decode base64 JWT payload"),null)}catch(U){return je("Caught error parsing JWT payload as JSON",U),null}}function kt(D,_){return $n.apply(this,arguments)}function $n(){return($n=(0,u.Z)(function*(D,_,E=!1){if(E)return _;try{return yield _}catch(x){throw x instanceof O.ZR&&Or(x)&&D.auth.currentUser===D&&(yield D.auth.signOut()),x}})).apply(this,arguments)}function Or({code:D}){return"auth/user-disabled"===D||"auth/user-token-expired"===D}class En{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var E;if(_){const x=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),x}{this.errorBackoff=3e4;const U=(null!==(E=this.user.stsTokenManager.expirationTime)&&void 0!==E?E:0)-Date.now()-3e5;return Math.max(0,U)}}schedule(_=!1){var E=this;if(!this.isRunning)return;const x=this.getInterval(_);this.timerId=setTimeout((0,u.Z)(function*(){yield E.iteration()}),x)}iteration(){var _=this;return(0,u.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===E.code&&_.schedule(!0))}_.schedule()})()}}class Cr{constructor(_,E){this.createdAt=_,this.lastLoginAt=E,this._initializeTime()}_initializeTime(){this.lastSignInTime=An(this.lastLoginAt),this.creationTime=An(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ir(D){return In.apply(this,arguments)}function In(){return(In=(0,u.Z)(function*(D){var _;const E=D.auth,x=yield D.getIdToken(),U=yield kt(D,Vt(E,{idToken:x}));Te(null==U?void 0:U.users.length,E,"internal-error");const Q=U.users[0];D._notifyReloadListener(Q);const Le=(null===(_=Q.providerUserInfo)||void 0===_?void 0:_.length)?J(Q.providerUserInfo):[],ht=B(D.providerData,Le),Bn=!!D.isAnonymous&&!(D.email&&Q.passwordHash||(null==ht?void 0:ht.length)),xr={uid:Q.localId,displayName:Q.displayName||null,photoURL:Q.photoUrl||null,email:Q.email||null,emailVerified:Q.emailVerified||!1,phoneNumber:Q.phoneNumber||null,tenantId:Q.tenantId||null,providerData:ht,metadata:new Cr(Q.createdAt,Q.lastLoginAt),isAnonymous:Bn};Object.assign(D,xr)})).apply(this,arguments)}function ve(){return(ve=(0,u.Z)(function*(D){const _=(0,O.m9)(D);yield ir(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function B(D,_){return[...D.filter(x=>!_.some(U=>U.providerId===x.providerId)),..._]}function J(D){return D.map(_=>{var{providerId:E}=_,x=(0,G.__rest)(_,["providerId"]);return{providerId:E,uid:x.rawId||"",displayName:x.displayName||null,email:x.email||null,phoneNumber:x.phoneNumber||null,photoURL:x.photoUrl||null}})}function le(){return(le=(0,u.Z)(function*(D,_){const E=yield lt(D,{},(0,u.Z)(function*(){const x=(0,O.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:U,apiKey:Q}=D.config,Le=ln(D,U,"/v1/token",`key=${Q}`),ht=yield D._getAdditionalHeaders();return ht["Content-Type"]="application/x-www-form-urlencoded",Gn.fetch()(Le,{method:"POST",headers:ht,body:x})}));return{accessToken:E.access_token,expiresIn:E.expires_in,refreshToken:E.refresh_token}})).apply(this,arguments)}class ae{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){Te(_.idToken,"internal-error"),Te(void 0!==_.idToken,"internal-error"),Te(void 0!==_.refreshToken,"internal-error");const E="expiresIn"in _&&void 0!==_.expiresIn?Number(_.expiresIn):function Yt(D){const _=dn(D);return Te(_,"internal-error"),Te(void 0!==_.exp,"internal-error"),Te(void 0!==_.iat,"internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,E)}getToken(_,E=!1){var x=this;return(0,u.Z)(function*(){return Te(!x.accessToken||x.refreshToken,_,"user-token-expired"),E||!x.accessToken||x.isExpired?x.refreshToken?(yield x.refresh(_,x.refreshToken),x.accessToken):null:x.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,E){var x=this;return(0,u.Z)(function*(){const{accessToken:U,refreshToken:Q,expiresIn:Le}=yield function W(D,_){return le.apply(this,arguments)}(_,E);x.updateTokensAndExpiration(U,Q,Number(Le))})()}updateTokensAndExpiration(_,E,x){this.refreshToken=E||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*x}static fromJSON(_,E){const{refreshToken:x,accessToken:U,expirationTime:Q}=E,Le=new ae;return x&&(Te("string"==typeof x,"internal-error",{appName:_}),Le.refreshToken=x),U&&(Te("string"==typeof U,"internal-error",{appName:_}),Le.accessToken=U),Q&&(Te("number"==typeof Q,"internal-error",{appName:_}),Le.expirationTime=Q),Le}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new ae,this.toJSON())}_performRefresh(){return Re("not implemented")}}function ge(D,_){Te("string"==typeof D||void 0===D,"internal-error",{appName:_})}class Pe{constructor(_){var{uid:E,auth:x,stsTokenManager:U}=_,Q=(0,G.__rest)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new En(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=E,this.auth=x,this.stsTokenManager=U,this.accessToken=U.accessToken,this.displayName=Q.displayName||null,this.email=Q.email||null,this.emailVerified=Q.emailVerified||!1,this.phoneNumber=Q.phoneNumber||null,this.photoURL=Q.photoURL||null,this.isAnonymous=Q.isAnonymous||!1,this.tenantId=Q.tenantId||null,this.providerData=Q.providerData?[...Q.providerData]:[],this.metadata=new Cr(Q.createdAt||void 0,Q.lastLoginAt||void 0)}getIdToken(_){var E=this;return(0,u.Z)(function*(){const x=yield kt(E,E.stsTokenManager.getToken(E.auth,_));return Te(x,E.auth,"internal-error"),E.accessToken!==x&&(E.accessToken=x,yield E.auth._persistUserIfCurrent(E),E.auth._notifyListenersIfCurrent(E)),x})()}getIdTokenResult(_){return function Tn(D){return Zn.apply(this,arguments)}(this,_)}reload(){return function ue(D){return ve.apply(this,arguments)}(this)}_assign(_){this!==_&&(Te(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(E=>Object.assign({},E)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){return new Pe(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(_){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,E=!1){var x=this;return(0,u.Z)(function*(){let U=!1;_.idToken&&_.idToken!==x.stsTokenManager.accessToken&&(x.stsTokenManager.updateFromServerResponse(_),U=!0),E&&(yield ir(x)),yield x.auth._persistUserIfCurrent(x),U&&x.auth._notifyListenersIfCurrent(x)})()}delete(){var _=this;return(0,u.Z)(function*(){const E=yield _.getIdToken();return yield kt(_,function $e(D,_){return Tt.apply(this,arguments)}(_.auth,{idToken:E})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,E){var x,U,Q,Le,ht,Zt,on,Bn;const xr=null!==(x=E.displayName)&&void 0!==x?x:void 0,Pi=null!==(U=E.email)&&void 0!==U?U:void 0,ks=null!==(Q=E.phoneNumber)&&void 0!==Q?Q:void 0,Zo=null!==(Le=E.photoURL)&&void 0!==Le?Le:void 0,sf=null!==(ht=E.tenantId)&&void 0!==ht?ht:void 0,Vc=null!==(Zt=E._redirectEventId)&&void 0!==Zt?Zt:void 0,Do=null!==(on=E.createdAt)&&void 0!==on?on:void 0,of=null!==(Bn=E.lastLoginAt)&&void 0!==Bn?Bn:void 0,{uid:Bu,emailVerified:af,isAnonymous:Hl,providerData:Uu,stsTokenManager:jl}=E;Te(Bu&&jl,_,"internal-error");const Gl=ae.fromJSON(this.name,jl);Te("string"==typeof Bu,_,"internal-error"),ge(xr,_.name),ge(Pi,_.name),Te("boolean"==typeof af,_,"internal-error"),Te("boolean"==typeof Hl,_,"internal-error"),ge(ks,_.name),ge(Zo,_.name),ge(sf,_.name),ge(Vc,_.name),ge(Do,_.name),ge(of,_.name);const Ta=new Pe({uid:Bu,auth:_,email:Pi,emailVerified:af,displayName:xr,isAnonymous:Hl,photoURL:Zo,phoneNumber:ks,tenantId:sf,stsTokenManager:Gl,createdAt:Do,lastLoginAt:of});return Uu&&Array.isArray(Uu)&&(Ta.providerData=Uu.map(Uh=>Object.assign({},Uh))),Vc&&(Ta._redirectEventId=Vc),Ta}static _fromIdTokenResponse(_,E,x=!1){return(0,u.Z)(function*(){const U=new ae;U.updateFromServerResponse(E);const Q=new Pe({uid:E.localId,auth:_,stsTokenManager:U,isAnonymous:x});return yield ir(Q),Q})()}}const pt=(()=>{class D{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(E,x){var U=this;return(0,u.Z)(function*(){U.storage[E]=x})()}_get(E){var x=this;return(0,u.Z)(function*(){const U=x.storage[E];return void 0===U?null:U})()}_remove(E){var x=this;return(0,u.Z)(function*(){delete x.storage[E]})()}_addListener(E,x){}_removeListener(E,x){}}return D.type="NONE",D})();function ut(D,_,E){return`firebase:${D}:${_}:${E}`}class $t{constructor(_,E,x){this.persistence=_,this.auth=E,this.userKey=x;const{config:U,name:Q}=this.auth;this.fullUserKey=ut(this.userKey,U.apiKey,Q),this.fullPersistenceKey=ut("persistence",U.apiKey,Q),this.boundEventHandler=E._onStorageEvent.bind(E),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,u.Z)(function*(){const E=yield _.persistence._get(_.fullUserKey);return E?Pe._fromJSON(_.auth,E):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var E=this;return(0,u.Z)(function*(){if(E.persistence===_)return;const x=yield E.getCurrentUser();return yield E.removeCurrentUser(),E.persistence=_,x?E.setCurrentUser(x):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,E,x="authUser"){return(0,u.Z)(function*(){if(!E.length)return new $t(Oe(pt),_,x);const U=(yield Promise.all(E.map(function(){var on=(0,u.Z)(function*(Bn){if(yield Bn._isAvailable())return Bn});return function(Bn){return on.apply(this,arguments)}}()))).filter(on=>on);let Q=U[0]||Oe(pt);const Le=ut(x,_.config.apiKey,_.name);let ht=null;for(const on of E)try{const Bn=yield on._get(Le);if(Bn){const xr=Pe._fromJSON(_,Bn);on!==Q&&(ht=xr),Q=on;break}}catch(Bn){}const Zt=U.filter(on=>on._shouldAllowMigration);return Q._shouldAllowMigration&&Zt.length?(Q=Zt[0],ht&&(yield Q._set(Le,ht.toJSON())),yield Promise.all(E.map(function(){var on=(0,u.Z)(function*(Bn){if(Bn!==Q)try{yield Bn._remove(Le)}catch(xr){}});return function(Bn){return on.apply(this,arguments)}}())),new $t(Q,_,x)):new $t(Q,_,x)})()}}function Ie(D){const _=D.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(Et(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(pe(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(an(_))return"Blackberry";if(Vn(_))return"Webos";if(he(_))return"Safari";if((_.includes("chrome/")||et(_))&&!_.includes("edge/"))return"Chrome";if(qt(_))return"Android";{const x=D.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==x?void 0:x.length))return x[1]}return"Other"}function pe(D=(0,O.z$)()){return/firefox\//i.test(D)}function he(D=(0,O.z$)()){const _=D.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function et(D=(0,O.z$)()){return/crios\//i.test(D)}function Et(D=(0,O.z$)()){return/iemobile/i.test(D)}function qt(D=(0,O.z$)()){return/android/i.test(D)}function an(D=(0,O.z$)()){return/blackberry/i.test(D)}function Vn(D=(0,O.z$)()){return/webos/i.test(D)}function Bt(D=(0,O.z$)()){return/iphone|ipad|ipod/i.test(D)}function yr(D=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(D)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(D)}function Dr(D=(0,O.z$)()){return Bt(D)||qt(D)||Vn(D)||an(D)||/windows phone/i.test(D)||Et(D)}function Fr(D,_=[]){let E;switch(D){case"Browser":E=Ie((0,O.z$)());break;case"Worker":E=`${Ie((0,O.z$)())}-${D}`;break;default:E=D}const x=_.length?_.join(","):"FirebaseCore-web";return`${E}/JsCore/${k.SDK_VERSION}/${x}`}class uo{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,E){const x=Q=>new Promise((Le,ht)=>{try{Le(_(Q))}catch(Zt){ht(Zt)}});x.onAbort=E,this.queue.push(x);const U=this.queue.length-1;return()=>{this.queue[U]=()=>Promise.resolve()}}runMiddleware(_){var E=this;return(0,u.Z)(function*(){if(E.auth.currentUser===_)return;const x=[];try{for(const U of E.queue)yield U(_),U.onAbort&&x.push(U.onAbort)}catch(U){x.reverse();for(const Q of x)try{Q()}catch(Le){}throw E.auth._errorFactory.create("login-blocked",{originalMessage:U.message})}})()}}class ti{constructor(_,E,x){this.app=_,this.heartbeatServiceProvider=E,this.config=x,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ye(this),this.idTokenSubscription=new ye(this),this.beforeStateQueue=new uo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=me,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=x.sdkClientVersion}_initializeWithPersistence(_,E){var x=this;return E&&(this._popupRedirectResolver=Oe(E)),this._initializationPromise=this.queue((0,u.Z)(function*(){var U,Q;if(!x._deleted&&(x.persistenceManager=yield $t.create(x,_),!x._deleted)){if(null===(U=x._popupRedirectResolver)||void 0===U?void 0:U._shouldInitProactively)try{yield x._popupRedirectResolver._initialize(x)}catch(Le){}yield x.initializeCurrentUser(E),x.lastNotifiedUid=(null===(Q=x.currentUser)||void 0===Q?void 0:Q.uid)||null,!x._deleted&&(x._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,u.Z)(function*(){if(_._deleted)return;const E=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||E){if(_.currentUser&&E&&_.currentUser.uid===E.uid)return _._currentUser._assign(E),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(E,!0)}})()}initializeCurrentUser(_){var E=this;return(0,u.Z)(function*(){var x;const U=yield E.assertedPersistence.getCurrentUser();let Q=U,Le=!1;if(_&&E.config.authDomain){yield E.getOrInitRedirectPersistenceManager();const ht=null===(x=E.redirectUser)||void 0===x?void 0:x._redirectEventId,Zt=null==Q?void 0:Q._redirectEventId,on=yield E.tryRedirectSignIn(_);(!ht||ht===Zt)&&(null==on?void 0:on.user)&&(Q=on.user,Le=!0)}if(!Q)return E.directlySetCurrentUser(null);if(!Q._redirectEventId){if(Le)try{yield E.beforeStateQueue.runMiddleware(Q)}catch(ht){Q=U,E._popupRedirectResolver._overrideRedirectResult(E,()=>Promise.reject(ht))}return Q?E.reloadAndSetCurrentUserOrClear(Q):E.directlySetCurrentUser(null)}return Te(E._popupRedirectResolver,E,"argument-error"),yield E.getOrInitRedirectPersistenceManager(),E.redirectUser&&E.redirectUser._redirectEventId===Q._redirectEventId?E.directlySetCurrentUser(Q):E.reloadAndSetCurrentUserOrClear(Q)})()}tryRedirectSignIn(_){var E=this;return(0,u.Z)(function*(){let x=null;try{x=yield E._popupRedirectResolver._completeRedirectFn(E,_,!0)}catch(U){yield E._setRedirectUser(null)}return x})()}reloadAndSetCurrentUserOrClear(_){var E=this;return(0,u.Z)(function*(){try{yield ir(_)}catch(x){if("auth/network-request-failed"!==x.code)return E.directlySetCurrentUser(null)}return E.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function Mt(){if("undefined"==typeof navigator)return null;const D=navigator;return D.languages&&D.languages[0]||D.language||null}()}_delete(){var _=this;return(0,u.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var E=this;return(0,u.Z)(function*(){const x=_?(0,O.m9)(_):null;return x&&Te(x.auth.config.apiKey===E.config.apiKey,E,"invalid-user-token"),E._updateCurrentUser(x&&x._clone(E))})()}_updateCurrentUser(_,E=!1){var x=this;return(0,u.Z)(function*(){if(!x._deleted)return _&&Te(x.tenantId===_.tenantId,x,"tenant-id-mismatch"),E||(yield x.beforeStateQueue.runMiddleware(_)),x.queue((0,u.Z)(function*(){yield x.directlySetCurrentUser(_),x.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,u.Z)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var E=this;return this.queue((0,u.Z)(function*(){yield E.assertedPersistence.setPersistence(Oe(_))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new O.LL("auth","Firebase",_())}onAuthStateChanged(_,E,x){return this.registerStateListener(this.authStateSubscription,_,E,x)}beforeAuthStateChanged(_,E){return this.beforeStateQueue.pushCallback(_,E)}onIdTokenChanged(_,E,x){return this.registerStateListener(this.idTokenSubscription,_,E,x)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,E){var x=this;return(0,u.Z)(function*(){const U=yield x.getOrInitRedirectPersistenceManager(E);return null===_?U.removeCurrentUser():U.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var E=this;return(0,u.Z)(function*(){if(!E.redirectPersistenceManager){const x=_&&Oe(_)||E._popupRedirectResolver;Te(x,E,"argument-error"),E.redirectPersistenceManager=yield $t.create(E,[Oe(x._redirectPersistence)],"redirectUser"),E.redirectUser=yield E.redirectPersistenceManager.getCurrentUser()}return E.redirectPersistenceManager})()}_redirectUserForId(_){var E=this;return(0,u.Z)(function*(){var x,U;return E._isInitialized&&(yield E.queue((0,u.Z)(function*(){}))),(null===(x=E._currentUser)||void 0===x?void 0:x._redirectEventId)===_?E._currentUser:(null===(U=E.redirectUser)||void 0===U?void 0:U._redirectEventId)===_?E.redirectUser:null})()}_persistUserIfCurrent(_){var E=this;return(0,u.Z)(function*(){if(_===E.currentUser)return E.queue((0,u.Z)(function*(){return E.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,E;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const x=null!==(E=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==E?E:null;this.lastNotifiedUid!==x&&(this.lastNotifiedUid=x,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,E,x,U){if(this._deleted)return()=>{};const Q="function"==typeof E?E:E.next.bind(E),Le=this._isInitialized?Promise.resolve():this._initializationPromise;return Te(Le,this,"internal-error"),Le.then(()=>Q(this.currentUser)),"function"==typeof E?_.addObserver(E,x,U):_.addObserver(E)}directlySetCurrentUser(_){var E=this;return(0,u.Z)(function*(){E.currentUser&&E.currentUser!==_&&(E._currentUser._stopProactiveRefresh(),_&&E.isProactiveRefreshEnabled&&_._startProactiveRefresh()),E.currentUser=_,_?yield E.assertedPersistence.setCurrentUser(_):yield E.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=Fr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,u.Z)(function*(){var E;const x={"X-Client-Version":_.clientVersion};_.app.options.appId&&(x["X-Firebase-gmpid"]=_.app.options.appId);const U=yield null===(E=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===E?void 0:E.getHeartbeatsHeader();return U&&(x["X-Firebase-Client"]=U),x})()}}function At(D){return(0,O.m9)(D)}class ye{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,O.ne)(E=>this.observer=E)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function He(D,_,E){const x=At(D);Te(x._canInitEmulator,x,"emulator-config-failed"),Te(/^https?:\/\//.test(_),x,"invalid-emulator-scheme");const U=!!(null==E?void 0:E.disableWarnings),Q=ct(_),{host:Le,port:ht}=function Gt(D){const _=ct(D),E=/(\/\/)?([^?#/]+)/.exec(D.substr(_.length));if(!E)return{host:"",port:null};const x=E[2].split("@").pop()||"",U=/^(\[[^\]]+\])(:|$)/.exec(x);if(U){const Q=U[1];return{host:Q,port:Mn(x.substr(Q.length+1))}}{const[Q,Le]=x.split(":");return{host:Q,port:Mn(Le)}}}(_);x.config.emulator={url:`${Q}//${Le}${null===ht?"":`:${ht}`}/`},x.settings.appVerificationDisabledForTesting=!0,x.emulatorConfig=Object.freeze({host:Le,port:ht,protocol:Q.replace(":",""),options:Object.freeze({disableWarnings:U})}),U||function On(){function D(){const _=document.createElement("p"),E=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",E.position="fixed",E.width="100%",E.backgroundColor="#ffffff",E.border=".1em solid #000000",E.color="#b50000",E.bottom="0px",E.left="0px",E.margin="0px",E.zIndex="10000",E.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",D):D())}()}function ct(D){const _=D.indexOf(":");return _<0?"":D.substr(0,_+1)}function Mn(D){if(!D)return null;const _=Number(D);return isNaN(_)?null:_}class Sn{constructor(_,E){this.providerId=_,this.signInMethod=E}toJSON(){return Re("not implemented")}_getIdTokenResponse(_){return Re("not implemented")}_linkToIdToken(_,E){return Re("not implemented")}_getReauthenticationResolver(_){return Re("not implemented")}}function mr(D,_){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,u.Z)(function*(D,_){return _e(D,"POST","/v1/accounts:resetPassword",Ae(D,_))})).apply(this,arguments)}function sn(D,_){return ys.apply(this,arguments)}function ys(){return(ys=(0,u.Z)(function*(D,_){return _e(D,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Ei(D,_){return Un.apply(this,arguments)}function Un(){return(Un=(0,u.Z)(function*(D,_){return _e(D,"POST","/v1/accounts:update",Ae(D,_))})).apply(this,arguments)}function Lr(){return(Lr=(0,u.Z)(function*(D,_){return Ze(D,"POST","/v1/accounts:signInWithPassword",Ae(D,_))})).apply(this,arguments)}function _s(D,_){return bs.apply(this,arguments)}function bs(){return(bs=(0,u.Z)(function*(D,_){return _e(D,"POST","/v1/accounts:sendOobCode",Ae(D,_))})).apply(this,arguments)}function vr(D,_){return er.apply(this,arguments)}function er(){return(er=(0,u.Z)(function*(D,_){return _s(D,_)})).apply(this,arguments)}function La(D,_){return ra.apply(this,arguments)}function ra(){return(ra=(0,u.Z)(function*(D,_){return _s(D,_)})).apply(this,arguments)}function fi(D,_){return hi.apply(this,arguments)}function hi(){return(hi=(0,u.Z)(function*(D,_){return _s(D,_)})).apply(this,arguments)}function ia(D,_){return Po.apply(this,arguments)}function Po(){return(Po=(0,u.Z)(function*(D,_){return _s(D,_)})).apply(this,arguments)}function Ai(){return(Ai=(0,u.Z)(function*(D,_){return Ze(D,"POST","/v1/accounts:signInWithEmailLink",Ae(D,_))})).apply(this,arguments)}function sa(){return(sa=(0,u.Z)(function*(D,_){return Ze(D,"POST","/v1/accounts:signInWithEmailLink",Ae(D,_))})).apply(this,arguments)}class oa extends Sn{constructor(_,E,x,U=null){super("password",x),this._email=_,this._password=E,this._tenantId=U}static _fromEmailAndPassword(_,E){return new oa(_,E,"password")}static _fromEmailAndCode(_,E,x=null){return new oa(_,E,"emailLink",x)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const E="string"==typeof _?JSON.parse(_):_;if((null==E?void 0:E.email)&&(null==E?void 0:E.password)){if("password"===E.signInMethod)return this._fromEmailAndPassword(E.email,E.password);if("emailLink"===E.signInMethod)return this._fromEmailAndCode(E.email,E.password,E.tenantId)}return null}_getIdTokenResponse(_){var E=this;return(0,u.Z)(function*(){switch(E.signInMethod){case"password":return function is(D,_){return Lr.apply(this,arguments)}(_,{returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function co(D,_){return Ai.apply(this,arguments)}(_,{email:E._email,oobCode:E._password});default:Ye(_,"internal-error")}})()}_linkToIdToken(_,E){var x=this;return(0,u.Z)(function*(){switch(x.signInMethod){case"password":return sn(_,{idToken:E,returnSecureToken:!0,email:x._email,password:x._password});case"emailLink":return function hc(D,_){return sa.apply(this,arguments)}(_,{idToken:E,email:x._email,oobCode:x._password});default:Ye(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function Rr(D,_){return lu.apply(this,arguments)}function lu(){return(lu=(0,u.Z)(function*(D,_){return Ze(D,"POST","/v1/accounts:signInWithIdp",Ae(D,_))})).apply(this,arguments)}class ss extends Sn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const E=new ss(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(E.idToken=_.idToken),_.accessToken&&(E.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(E.nonce=_.nonce),_.pendingToken&&(E.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(E.accessToken=_.oauthToken,E.secret=_.oauthTokenSecret):Ye("argument-error"),E}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const E="string"==typeof _?JSON.parse(_):_,{providerId:x,signInMethod:U}=E,Q=(0,G.__rest)(E,["providerId","signInMethod"]);if(!x||!U)return null;const Le=new ss(x,U);return Le.idToken=Q.idToken||void 0,Le.accessToken=Q.accessToken||void 0,Le.secret=Q.secret,Le.nonce=Q.nonce,Le.pendingToken=Q.pendingToken||null,Le}_getIdTokenResponse(_){return Rr(_,this.buildRequest())}_linkToIdToken(_,E){const x=this.buildRequest();return x.idToken=E,Rr(_,x)}_getReauthenticationResolver(_){const E=this.buildRequest();return E.autoCreate=!1,Rr(_,E)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const E={};this.idToken&&(E.id_token=this.idToken),this.accessToken&&(E.access_token=this.accessToken),this.secret&&(E.oauth_token_secret=this.secret),E.providerId=this.providerId,this.nonce&&!this.pendingToken&&(E.nonce=this.nonce),_.postBody=(0,O.xO)(E)}return _}}function Va(D,_){return fo.apply(this,arguments)}function fo(){return(fo=(0,u.Z)(function*(D,_){return _e(D,"POST","/v1/accounts:sendVerificationCode",Ae(D,_))})).apply(this,arguments)}function Tr(){return(Tr=(0,u.Z)(function*(D,_){return Ze(D,"POST","/v1/accounts:signInWithPhoneNumber",Ae(D,_))})).apply(this,arguments)}function Gs(){return(Gs=(0,u.Z)(function*(D,_){const E=yield Ze(D,"POST","/v1/accounts:signInWithPhoneNumber",Ae(D,_));if(E.temporaryProof)throw mn(D,"account-exists-with-different-credential",E);return E})).apply(this,arguments)}const Sd={USER_NOT_FOUND:"user-not-found"};function El(){return(El=(0,u.Z)(function*(D,_){return Ze(D,"POST","/v1/accounts:signInWithPhoneNumber",Ae(D,Object.assign(Object.assign({},_),{operation:"REAUTH"})),Sd)})).apply(this,arguments)}class Es extends Sn{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,E){return new Es({verificationId:_,verificationCode:E})}static _fromTokenResponse(_,E){return new Es({phoneNumber:_,temporaryProof:E})}_getIdTokenResponse(_){return function Id(D,_){return Tr.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,E){return function uu(D,_){return Gs.apply(this,arguments)}(_,Object.assign({idToken:E},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function bl(D,_){return El.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:E,verificationId:x,verificationCode:U}=this.params;return _&&E?{temporaryProof:_,phoneNumber:E}:{sessionInfo:x,code:U}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:E,verificationCode:x,phoneNumber:U,temporaryProof:Q}=_;return x||E||U||Q?new Es({verificationId:E,verificationCode:x,phoneNumber:U,temporaryProof:Q}):null}}class Ki{constructor(_){var E,x,U,Q,Le,ht;const Zt=(0,O.zd)((0,O.pd)(_)),on=null!==(E=Zt.apiKey)&&void 0!==E?E:null,Bn=null!==(x=Zt.oobCode)&&void 0!==x?x:null,xr=function xd(D){switch(D){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(U=Zt.mode)&&void 0!==U?U:null);Te(on&&Bn&&xr,"argument-error"),this.apiKey=on,this.operation=xr,this.code=Bn,this.continueUrl=null!==(Q=Zt.continueUrl)&&void 0!==Q?Q:null,this.languageCode=null!==(Le=Zt.languageCode)&&void 0!==Le?Le:null,this.tenantId=null!==(ht=Zt.tenantId)&&void 0!==ht?ht:null}static parseLink(_){const E=function Ba(D){const _=(0,O.zd)((0,O.pd)(D)).link,E=_?(0,O.zd)((0,O.pd)(_)).deep_link_id:null,x=(0,O.zd)((0,O.pd)(D)).deep_link_id;return(x?(0,O.zd)((0,O.pd)(x)).link:null)||x||E||_||D}(_);try{return new Ki(E)}catch(x){return null}}}let Oo=(()=>{class D{constructor(){this.providerId=D.PROVIDER_ID}static credential(E,x){return oa._fromEmailAndPassword(E,x)}static credentialWithLink(E,x){const U=Ki.parseLink(x);return Te(U,"argument-error"),oa._fromEmailAndCode(E,U.code,U.tenantId)}}return D.PROVIDER_ID="password",D.EMAIL_PASSWORD_SIGN_IN_METHOD="password",D.EMAIL_LINK_SIGN_IN_METHOD="emailLink",D})();class Yi{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class ki extends Yi{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class aa extends ki{static credentialFromJSON(_){const E="string"==typeof _?JSON.parse(_):_;return Te("providerId"in E&&"signInMethod"in E,"argument-error"),ss._fromParams(E)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return Te(_.idToken||_.accessToken,"argument-error"),ss._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return aa.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return aa.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:E,oauthAccessToken:x,oauthTokenSecret:U,pendingToken:Q,nonce:Le,providerId:ht}=_;if(!x&&!U&&!E&&!Q||!ht)return null;try{return new aa(ht)._credential({idToken:E,accessToken:x,nonce:Le,pendingToken:Q})}catch(Zt){return null}}}let pi=(()=>{class D extends ki{constructor(){super("facebook.com")}static credential(E){return ss._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.FACEBOOK_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return D.credentialFromTaggedObject(E)}static credentialFromError(E){return D.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return D.credential(E.oauthAccessToken)}catch(x){return null}}}return D.FACEBOOK_SIGN_IN_METHOD="facebook.com",D.PROVIDER_ID="facebook.com",D})(),ho=(()=>{class D extends ki{constructor(){super("google.com"),this.addScope("profile")}static credential(E,x){return ss._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GOOGLE_SIGN_IN_METHOD,idToken:E,accessToken:x})}static credentialFromResult(E){return D.credentialFromTaggedObject(E)}static credentialFromError(E){return D.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthIdToken:x,oauthAccessToken:U}=E;if(!x&&!U)return null;try{return D.credential(x,U)}catch(Q){return null}}}return D.GOOGLE_SIGN_IN_METHOD="google.com",D.PROVIDER_ID="google.com",D})(),la=(()=>{class D extends ki{constructor(){super("github.com")}static credential(E){return ss._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.GITHUB_SIGN_IN_METHOD,accessToken:E})}static credentialFromResult(E){return D.credentialFromTaggedObject(E)}static credentialFromError(E){return D.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E||!("oauthAccessToken"in E)||!E.oauthAccessToken)return null;try{return D.credential(E.oauthAccessToken)}catch(x){return null}}}return D.GITHUB_SIGN_IN_METHOD="github.com",D.PROVIDER_ID="github.com",D})();class Qi extends Sn{constructor(_,E){super(_,_),this.pendingToken=E}_getIdTokenResponse(_){return Rr(_,this.buildRequest())}_linkToIdToken(_,E){const x=this.buildRequest();return x.idToken=E,Rr(_,x)}_getReauthenticationResolver(_){const E=this.buildRequest();return E.autoCreate=!1,Rr(_,E)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const E="string"==typeof _?JSON.parse(_):_,{providerId:x,signInMethod:U,pendingToken:Q}=E;return x&&U&&Q&&x===U?new Qi(x,Q):null}static _create(_,E){return new Qi(_,E)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class As extends Yi{constructor(_){Te(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return As.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return As.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const E=Qi.fromJSON(_);return Te(E,"argument-error"),E}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:E,providerId:x}=_;if(!E||!x)return null;try{return Qi._create(x,E)}catch(U){return null}}}let ua=(()=>{class D extends ki{constructor(){super("twitter.com")}static credential(E,x){return ss._fromParams({providerId:D.PROVIDER_ID,signInMethod:D.TWITTER_SIGN_IN_METHOD,oauthToken:E,oauthTokenSecret:x})}static credentialFromResult(E){return D.credentialFromTaggedObject(E)}static credentialFromError(E){return D.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{oauthAccessToken:x,oauthTokenSecret:U}=E;if(!x||!U)return null;try{return D.credential(x,U)}catch(Q){return null}}}return D.TWITTER_SIGN_IN_METHOD="twitter.com",D.PROVIDER_ID="twitter.com",D})();function qs(D,_){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,u.Z)(function*(D,_){return Ze(D,"POST","/v1/accounts:signUp",Ae(D,_))})).apply(this,arguments)}class jr{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,E,x,U=!1){return(0,u.Z)(function*(){const Q=yield Pe._fromIdTokenResponse(_,x,U),Le=Al(x);return new jr({user:Q,providerId:Le,_tokenResponse:x,operationType:E})})()}static _forOperation(_,E,x){return(0,u.Z)(function*(){yield _._updateTokensIfNecessary(x,!0);const U=Al(x);return new jr({user:_,providerId:U,_tokenResponse:x,operationType:E})})()}}function Al(D){return D.providerId?D.providerId:"phoneNumber"in D?"phone":null}function cu(D){return pc.apply(this,arguments)}function pc(){return(pc=(0,u.Z)(function*(D){var _;const E=At(D);if(yield E._initializationPromise,null===(_=E.currentUser)||void 0===_?void 0:_.isAnonymous)return new jr({user:E.currentUser,providerId:null,operationType:"signIn"});const x=yield qs(E,{returnSecureToken:!0}),U=yield jr._fromIdTokenResponse(E,"signIn",x,!0);return yield E._updateCurrentUser(U.user),U})).apply(this,arguments)}class ca extends O.ZR{constructor(_,E,x,U){var Q;super(E.code,E.message),this.operationType=x,this.user=U,Object.setPrototypeOf(this,ca.prototype),this.customData={appName:_.name,tenantId:null!==(Q=_.tenantId)&&void 0!==Q?Q:void 0,_serverResponse:E.customData._serverResponse,operationType:x}}static _fromErrorAndOperation(_,E,x,U){return new ca(_,E,x,U)}}function Fo(D,_,E,x){return("reauthenticate"===_?E._getReauthenticationResolver(D):E._getIdTokenResponse(D)).catch(Q=>{throw"auth/multi-factor-auth-required"===Q.code?ca._fromErrorAndOperation(D,Q,_,x):Q})}function os(D){return new Set(D.map(({providerId:_})=>_).filter(_=>!!_))}function po(D,_){return gc.apply(this,arguments)}function gc(){return(gc=(0,u.Z)(function*(D,_){const E=(0,O.m9)(D);yield ws(!0,E,_);const{providerUserInfo:x}=yield tn(E.auth,{idToken:yield E.getIdToken(),deleteProvider:[_]}),U=os(x||[]);return E.providerData=E.providerData.filter(Q=>U.has(Q.providerId)),U.has("phone")||(E.phoneNumber=null),yield E.auth._persistUserIfCurrent(E),E})).apply(this,arguments)}function gr(D,_){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,u.Z)(function*(D,_,E=!1){const x=yield kt(D,_._linkToIdToken(D.auth,yield D.getIdToken()),E);return jr._forOperation(D,"link",x)})).apply(this,arguments)}function ws(D,_,E){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,u.Z)(function*(D,_,E){yield ir(_);const U=!1===D?"provider-already-linked":"no-such-provider";Te(os(_.providerData).has(E)===D,_.auth,U)})).apply(this,arguments)}function da(D,_){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,u.Z)(function*(D,_,E=!1){const{auth:x}=D,U="reauthenticate";try{const Q=yield kt(D,Fo(x,U,_,D),E);Te(Q.idToken,x,"internal-error");const Le=dn(Q.idToken);Te(Le,x,"internal-error");const{sub:ht}=Le;return Te(D.uid===ht,x,"user-mismatch"),jr._forOperation(D,U,Q)}catch(Q){throw"auth/user-not-found"===(null==Q?void 0:Q.code)&&Ye(x,"user-mismatch"),Q}})).apply(this,arguments)}function go(D,_){return ni.apply(this,arguments)}function ni(){return(ni=(0,u.Z)(function*(D,_,E=!1){const x="signIn",U=yield Fo(D,x,_),Q=yield jr._fromIdTokenResponse(D,x,U);return E||(yield D._updateCurrentUser(Q.user)),Q})).apply(this,arguments)}function Ws(D,_){return fa.apply(this,arguments)}function fa(){return(fa=(0,u.Z)(function*(D,_){return go(At(D),_)})).apply(this,arguments)}function K(D,_){return $.apply(this,arguments)}function $(){return($=(0,u.Z)(function*(D,_){const E=(0,O.m9)(D);return yield ws(!1,E,_.providerId),gr(E,_)})).apply(this,arguments)}function we(D,_){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,u.Z)(function*(D,_){return da((0,O.m9)(D),_)})).apply(this,arguments)}function bt(D,_){return It.apply(this,arguments)}function It(){return(It=(0,u.Z)(function*(D,_){return Ze(D,"POST","/v1/accounts:signInWithCustomToken",Ae(D,_))})).apply(this,arguments)}function fn(D,_){return or.apply(this,arguments)}function or(){return(or=(0,u.Z)(function*(D,_){const E=At(D),x=yield bt(E,{token:_,returnSecureToken:!0}),U=yield jr._fromIdTokenResponse(E,"signIn",x);return yield E._updateCurrentUser(U.user),U})).apply(this,arguments)}class Wt{constructor(_,E){this.factorId=_,this.uid=E.mfaEnrollmentId,this.enrollmentTime=new Date(E.enrolledAt).toUTCString(),this.displayName=E.displayName}static _fromServerResponse(_,E){return"phoneInfo"in E?lr._fromServerResponse(_,E):Ye(_,"internal-error")}}class lr extends Wt{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,E){return new lr(E)}}function fr(D,_,E){var x;Te((null===(x=E.url)||void 0===x?void 0:x.length)>0,D,"invalid-continue-uri"),Te(void 0===E.dynamicLinkDomain||E.dynamicLinkDomain.length>0,D,"invalid-dynamic-link-domain"),_.continueUrl=E.url,_.dynamicLinkDomain=E.dynamicLinkDomain,_.canHandleCodeInApp=E.handleCodeInApp,E.iOS&&(Te(E.iOS.bundleId.length>0,D,"missing-ios-bundle-id"),_.iOSBundleId=E.iOS.bundleId),E.android&&(Te(E.android.packageName.length>0,D,"missing-android-pkg-name"),_.androidInstallApp=E.android.installApp,_.androidMinimumVersionCode=E.android.minimumVersion,_.androidPackageName=E.android.packageName)}function Fn(D,_,E){return as.apply(this,arguments)}function as(){return(as=(0,u.Z)(function*(D,_,E){const x=(0,O.m9)(D),U={requestType:"PASSWORD_RESET",email:_};E&&fr(x,U,E),yield La(x,U)})).apply(this,arguments)}function Cs(D,_,E){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,u.Z)(function*(D,_,E){yield mr((0,O.m9)(D),{oobCode:_,newPassword:E})})).apply(this,arguments)}function Ha(D,_){return ls.apply(this,arguments)}function ls(){return(ls=(0,u.Z)(function*(D,_){yield Ei((0,O.m9)(D),{oobCode:_})})).apply(this,arguments)}function at(D,_){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,u.Z)(function*(D,_){const E=(0,O.m9)(D),x=yield mr(E,{oobCode:_}),U=x.requestType;switch(Te(U,E,"internal-error"),U){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Te(x.newEmail,E,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Te(x.mfaInfo,E,"internal-error");default:Te(x.email,E,"internal-error")}let Q=null;return x.mfaInfo&&(Q=Wt._fromServerResponse(At(E),x.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.newEmail:x.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.email:x.newEmail)||null,multiFactorInfo:Q},operation:U}})).apply(this,arguments)}function mo(D,_){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,u.Z)(function*(D,_){const{data:E}=yield at((0,O.m9)(D),_);return E.email})).apply(this,arguments)}function Rd(D,_,E){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,u.Z)(function*(D,_,E){const x=At(D),U=yield qs(x,{returnSecureToken:!0,email:_,password:E}),Q=yield jr._fromIdTokenResponse(x,"signIn",U);return yield x._updateCurrentUser(Q.user),Q})).apply(this,arguments)}function $s(D,_,E){return Ws((0,O.m9)(D),Oo.credential(_,E))}function mc(D,_,E){return wl.apply(this,arguments)}function wl(){return(wl=(0,u.Z)(function*(D,_,E){const x=(0,O.m9)(D),U={requestType:"EMAIL_SIGNIN",email:_};Te(E.handleCodeInApp,x,"argument-error"),E&&fr(x,U,E),yield fi(x,U)})).apply(this,arguments)}function kd(D,_){const E=Ki.parseLink(_);return"EMAIL_SIGNIN"===(null==E?void 0:E.operation)}function Nd(D,_,E){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,u.Z)(function*(D,_,E){const x=(0,O.m9)(D),U=Oo.credentialWithLink(_,E||Ne());return Te(U._tenantId===(x.tenantId||null),x,"tenant-id-mismatch"),Ws(x,U)})).apply(this,arguments)}function ja(D,_){return ri.apply(this,arguments)}function ri(){return(ri=(0,u.Z)(function*(D,_){return _e(D,"POST","/v1/accounts:createAuthUri",Ae(D,_))})).apply(this,arguments)}function Ds(D,_){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,u.Z)(function*(D,_){const x={identifier:_,continueUri:Kt()?Ne():"http://localhost"},{signinMethods:U}=yield ja((0,O.m9)(D),x);return U||[]})).apply(this,arguments)}function ha(D,_){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,u.Z)(function*(D,_){const E=(0,O.m9)(D),U={requestType:"VERIFY_EMAIL",idToken:yield D.getIdToken()};_&&fr(E.auth,U,_);const{email:Q}=yield vr(E.auth,U);Q!==D.email&&(yield D.reload())})).apply(this,arguments)}function _h(D,_,E){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,u.Z)(function*(D,_,E){const x=(0,O.m9)(D),Q={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield D.getIdToken(),newEmail:_};E&&fr(x.auth,Q,E);const{email:Le}=yield ia(x.auth,Q);Le!==D.email&&(yield D.reload())})).apply(this,arguments)}function bh(D,_){return du.apply(this,arguments)}function du(){return(du=(0,u.Z)(function*(D,_){return _e(D,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Dl(D,_){return fu.apply(this,arguments)}function fu(){return(fu=(0,u.Z)(function*(D,{displayName:_,photoURL:E}){if(void 0===_&&void 0===E)return;const x=(0,O.m9)(D),Q={idToken:yield x.getIdToken(),displayName:_,photoUrl:E,returnSecureToken:!0},Le=yield kt(x,bh(x.auth,Q));x.displayName=Le.displayName||null,x.photoURL=Le.photoUrl||null;const ht=x.providerData.find(({providerId:Zt})=>"password"===Zt);ht&&(ht.displayName=x.displayName,ht.photoURL=x.photoURL),yield x._updateTokensIfNecessary(Le)})).apply(this,arguments)}function Od(D,_){return Tl((0,O.m9)(D),_,null)}function Fd(D,_){return Tl((0,O.m9)(D),null,_)}function Tl(D,_,E){return hu.apply(this,arguments)}function hu(){return(hu=(0,u.Z)(function*(D,_,E){const{auth:x}=D,Q={idToken:yield D.getIdToken(),returnSecureToken:!0};_&&(Q.email=_),E&&(Q.password=E);const Le=yield kt(D,sn(x,Q));yield D._updateTokensIfNecessary(Le,!0)})).apply(this,arguments)}class Vo{constructor(_,E,x={}){this.isNewUser=_,this.providerId=E,this.profile=x}}class Il extends Vo{constructor(_,E,x,U){super(_,E,x),this.username=U}}class Ld extends Vo{constructor(_,E){super(_,"facebook.com",E)}}class vc extends Il{constructor(_,E){super(_,"github.com",E,"string"==typeof(null==E?void 0:E.login)?null==E?void 0:E.login:null)}}class Is extends Vo{constructor(_,E){super(_,"google.com",E)}}class Eh extends Il{constructor(_,E,x){super(_,"twitter.com",E,x)}}function Ah(D){const{user:_,_tokenResponse:E}=D;return _.isAnonymous&&!E?{providerId:null,isNewUser:!1,profile:null}:function Gr(D){var _,E;if(!D)return null;const{providerId:x}=D,U=D.rawUserInfo?JSON.parse(D.rawUserInfo):{},Q=D.isNewUser||"identitytoolkit#SignupNewUserResponse"===D.kind;if(!x&&(null==D?void 0:D.idToken)){const Le=null===(E=null===(_=dn(D.idToken))||void 0===_?void 0:_.firebase)||void 0===E?void 0:E.sign_in_provider;if(Le)return new Vo(Q,"anonymous"!==Le&&"custom"!==Le?Le:null)}if(!x)return null;switch(x){case"facebook.com":return new Ld(Q,U);case"github.com":return new vc(Q,U);case"google.com":return new Is(Q,U);case"twitter.com":return new Eh(Q,U,D.screenName||null);case"custom":case"anonymous":return new Vo(Q,null);default:return new Vo(Q,x,U)}}(E)}function Vd(D){return(0,O.m9)(D).signOut()}class Ys{constructor(_,E){this.type=_,this.credential=E}static _fromIdtoken(_){return new Ys("enroll",_)}static _fromMfaPendingCredential(_){return new Ys("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var E,x;if(null==_?void 0:_.multiFactorSession){if(null===(E=_.multiFactorSession)||void 0===E?void 0:E.pendingCredential)return Ys._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null===(x=_.multiFactorSession)||void 0===x?void 0:x.idToken)return Ys._fromIdtoken(_.multiFactorSession.idToken)}return null}}class Sl{constructor(_,E,x){this.session=_,this.hints=E,this.signInResolver=x}static _fromError(_,E){const x=At(_),U=E.customData._serverResponse,Q=(U.mfaInfo||[]).map(ht=>Wt._fromServerResponse(x,ht));Te(U.mfaPendingCredential,x,"internal-error");const Le=Ys._fromMfaPendingCredential(U.mfaPendingCredential);return new Sl(Le,Q,function(){var ht=(0,u.Z)(function*(Zt){const on=yield Zt._process(x,Le);delete U.mfaInfo,delete U.mfaPendingCredential;const Bn=Object.assign(Object.assign({},U),{idToken:on.idToken,refreshToken:on.refreshToken});switch(E.operationType){case"signIn":const xr=yield jr._fromIdTokenResponse(x,E.operationType,Bn);return yield x._updateCurrentUser(xr.user),xr;case"reauthenticate":return Te(E.user,x,"internal-error"),jr._forOperation(E.user,E.operationType,Bn);default:Ye(x,"internal-error")}});return function(Zt){return ht.apply(this,arguments)}}())}resolveSignIn(_){var E=this;return(0,u.Z)(function*(){return E.signInResolver(_)})()}}function pu(D,_){var E;const x=(0,O.m9)(D),U=_;return Te(_.customData.operationType,x,"argument-error"),Te(null===(E=U.customData._serverResponse)||void 0===E?void 0:E.mfaPendingCredential,x,"argument-error"),Sl._fromError(x,U)}function yc(D,_){return _e(D,"POST","/v2/accounts/mfaEnrollment:start",Ae(D,_))}class vo{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(E=>{E.mfaInfo&&(this.enrolledFactors=E.mfaInfo.map(x=>Wt._fromServerResponse(_.auth,x)))})}static _fromUser(_){return new vo(_)}getSession(){var _=this;return(0,u.Z)(function*(){return Ys._fromIdtoken(yield _.user.getIdToken())})()}enroll(_,E){var x=this;return(0,u.Z)(function*(){const U=_,Q=yield x.getSession(),Le=yield kt(x.user,U._process(x.user.auth,Q,E));return yield x.user._updateTokensIfNecessary(Le),x.user.reload()})()}unenroll(_){var E=this;return(0,u.Z)(function*(){const x="string"==typeof _?_:_.uid,U=yield E.user.getIdToken(),Q=yield kt(E.user,function Th(D,_){return _e(D,"POST","/v2/accounts/mfaEnrollment:withdraw",Ae(D,_))}(E.user.auth,{idToken:U,mfaEnrollmentId:x}));E.enrolledFactors=E.enrolledFactors.filter(({uid:Le})=>Le!==x),yield E.user._updateTokensIfNecessary(Q);try{yield E.user.reload()}catch(Le){if("auth/user-token-expired"!==Le.code)throw Le}})()}}const za=new WeakMap;function Ih(D){const _=(0,O.m9)(D);return za.has(_)||za.set(_,vo._fromUser(_)),za.get(_)}const xl="__sak";class qa{constructor(_,E){this.storageRetriever=_,this.type=E}_isAvailable(){try{return this.storage?(this.storage.setItem(xl,"1"),this.storage.removeItem(xl),Promise.resolve(!0)):Promise.resolve(!1)}catch(_){return Promise.resolve(!1)}}_set(_,E){return this.storage.setItem(_,JSON.stringify(E)),Promise.resolve()}_get(_){const E=this.storage.getItem(_);return Promise.resolve(E?JSON.parse(E):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const Sh=(()=>{class D extends qa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(E,x)=>this.onStorageEvent(E,x),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function gu(){const D=(0,O.z$)();return he(D)||Bt(D)}()&&function di(){try{return!(!window||window===window.top)}catch(D){return!1}}(),this.fallbackToPolling=Dr(),this._shouldAllowMigration=!0}forAllChangedKeys(E){for(const x of Object.keys(this.listeners)){const U=this.storage.getItem(x),Q=this.localCache[x];U!==Q&&E(x,Q,U)}}onStorageEvent(E,x=!1){if(!E.key)return void this.forAllChangedKeys((ht,Zt,on)=>{this.notifyListeners(ht,on)});const U=E.key;if(x?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ht=this.storage.getItem(U);if(E.newValue!==ht)null!==E.newValue?this.storage.setItem(U,E.newValue):this.storage.removeItem(U);else if(this.localCache[U]===E.newValue&&!x)return}const Q=()=>{const ht=this.storage.getItem(U);!x&&this.localCache[U]===ht||this.notifyListeners(U,ht)},Le=this.storage.getItem(U);!function kn(){return(0,O.w1)()&&10===document.documentMode}()||Le===E.newValue||E.newValue===E.oldValue?Q():setTimeout(Q,10)}notifyListeners(E,x){this.localCache[E]=x;const U=this.listeners[E];if(U)for(const Q of Array.from(U))Q(x&&JSON.parse(x))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((E,x,U)=>{this.onStorageEvent(new StorageEvent("storage",{key:E,oldValue:x,newValue:U}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(E,x){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[E]||(this.listeners[E]=new Set,this.localCache[E]=this.storage.getItem(E)),this.listeners[E].add(x)}_removeListener(E,x){this.listeners[E]&&(this.listeners[E].delete(x),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(E,x){var U=()=>super._set,Q=this;return(0,u.Z)(function*(){yield U().call(Q,E,x),Q.localCache[E]=JSON.stringify(x)})()}_get(E){var x=()=>super._get,U=this;return(0,u.Z)(function*(){const Q=yield x().call(U,E);return U.localCache[E]=JSON.stringify(Q),Q})()}_remove(E){var x=()=>super._remove,U=this;return(0,u.Z)(function*(){yield x().call(U,E),delete U.localCache[E]})()}}return D.type="LOCAL",D})(),mu=(()=>{class D extends qa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(E,x){}_removeListener(E,x){}}return D.type="SESSION",D})();let pa=(()=>{class D{constructor(E){this.eventTarget=E,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(E){const x=this.receivers.find(Q=>Q.isListeningto(E));if(x)return x;const U=new D(E);return this.receivers.push(U),U}isListeningto(E){return this.eventTarget===E}handleEvent(E){var x=this;return(0,u.Z)(function*(){const U=E,{eventId:Q,eventType:Le,data:ht}=U.data,Zt=x.handlersMap[Le];if(!(null==Zt?void 0:Zt.size))return;U.ports[0].postMessage({status:"ack",eventId:Q,eventType:Le});const on=Array.from(Zt).map(function(){var xr=(0,u.Z)(function*(Pi){return Pi(U.origin,ht)});return function(Pi){return xr.apply(this,arguments)}}()),Bn=yield function _c(D){return Promise.all(D.map(function(){var _=(0,u.Z)(function*(E){try{return{fulfilled:!0,value:yield E}}catch(x){return{fulfilled:!1,reason:x}}});return function(E){return _.apply(this,arguments)}}()))}(on);U.ports[0].postMessage({status:"done",eventId:Q,eventType:Le,response:Bn})})()}_subscribe(E,x){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[E]||(this.handlersMap[E]=new Set),this.handlersMap[E].add(x)}_unsubscribe(E,x){this.handlersMap[E]&&x&&this.handlersMap[E].delete(x),(!x||0===this.handlersMap[E].size)&&delete this.handlersMap[E],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return D.receivers=[],D})();function yo(D="",_=10){let E="";for(let x=0;x<_;x++)E+=Math.floor(10*Math.random());return D+E}class Wa{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,E,x=50){var U=this;return(0,u.Z)(function*(){const Q="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!Q)throw new Error("connection_unavailable");let Le,ht;return new Promise((Zt,on)=>{const Bn=yo("",20);Q.port1.start();const xr=setTimeout(()=>{on(new Error("unsupported_event"))},x);ht={messageChannel:Q,onMessage(Pi){const ks=Pi;if(ks.data.eventId===Bn)switch(ks.data.status){case"ack":clearTimeout(xr),Le=setTimeout(()=>{on(new Error("timeout"))},3e3);break;case"done":clearTimeout(Le),Zt(ks.data.response);break;default:clearTimeout(xr),clearTimeout(Le),on(new Error("invalid_response"))}}},U.handlers.add(ht),Q.port1.addEventListener("message",ht.onMessage),U.target.postMessage({eventType:_,eventId:Bn,data:E},[Q.port2])}).finally(()=>{ht&&U.removeMessageHandler(ht)})})()}}function ur(){return window}function hn(){return void 0!==ur().WorkerGlobalScope&&"function"==typeof ur().importScripts}function ga(){return(ga=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(D){return null}})).apply(this,arguments)}const vu="firebaseLocalStorageDb",Ss="firebaseLocalStorage",gi="fbase_key";class ma{constructor(_){this.request=_}toPromise(){return new Promise((_,E)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{E(this.request.error)})})}}function Bo(D,_){return D.transaction([Ss],_?"readwrite":"readonly").objectStore(Ss)}function Za(){const D=indexedDB.open(vu,1);return new Promise((_,E)=>{D.addEventListener("error",()=>{E(D.error)}),D.addEventListener("upgradeneeded",()=>{const x=D.result;try{x.createObjectStore(Ss,{keyPath:gi})}catch(U){E(U)}}),D.addEventListener("success",(0,u.Z)(function*(){const x=D.result;x.objectStoreNames.contains(Ss)?_(x):(x.close(),yield function yu(){const D=indexedDB.deleteDatabase(vu);return new ma(D).toPromise()}(),_(yield Za()))}))})}function Hd(D,_,E){return us.apply(this,arguments)}function us(){return(us=(0,u.Z)(function*(D,_,E){const x=Bo(D,!0).put({[gi]:_,value:E});return new ma(x).toPromise()})).apply(this,arguments)}function va(){return(va=(0,u.Z)(function*(D,_){const E=Bo(D,!1).get(_),x=yield new ma(E).toPromise();return void 0===x?null:x.value})).apply(this,arguments)}function Qr(D,_){const E=Bo(D,!0).delete(_);return new ma(E).toPromise()}const ya=(()=>{class D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var E=this;return(0,u.Z)(function*(){return E.db||(E.db=yield Za()),E.db})()}_withRetries(E){var x=this;return(0,u.Z)(function*(){let U=0;for(;;)try{const Q=yield x._openDb();return yield E(Q)}catch(Q){if(U++>3)throw Q;x.db&&(x.db.close(),x.db=void 0)}})()}initializeServiceWorkerMessaging(){var E=this;return(0,u.Z)(function*(){return hn()?E.initializeReceiver():E.initializeSender()})()}initializeReceiver(){var E=this;return(0,u.Z)(function*(){E.receiver=pa._getInstance(function kl(){return hn()?self:null}()),E.receiver._subscribe("keyChanged",function(){var x=(0,u.Z)(function*(U,Q){return{keyProcessed:(yield E._poll()).includes(Q.key)}});return function(U,Q){return x.apply(this,arguments)}}()),E.receiver._subscribe("ping",function(){var x=(0,u.Z)(function*(U,Q){return["keyChanged"]});return function(U,Q){return x.apply(this,arguments)}}())})()}initializeSender(){var E=this;return(0,u.Z)(function*(){var x,U;if(E.activeServiceWorker=yield function Rl(){return ga.apply(this,arguments)}(),!E.activeServiceWorker)return;E.sender=new Wa(E.activeServiceWorker);const Q=yield E.sender._send("ping",{},800);!Q||(null===(x=Q[0])||void 0===x?void 0:x.fulfilled)&&(null===(U=Q[0])||void 0===U?void 0:U.value.includes("keyChanged"))&&(E.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(E){var x=this;return(0,u.Z)(function*(){if(x.sender&&x.activeServiceWorker&&function xh(){var D;return(null===(D=null==navigator?void 0:navigator.serviceWorker)||void 0===D?void 0:D.controller)||null}()===x.activeServiceWorker)try{yield x.sender._send("keyChanged",{key:E},x.serviceWorkerReceiverAvailable?800:50)}catch(U){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const E=yield Za();return yield Hd(E,xl,"1"),yield Qr(E,xl),!0}catch(E){}return!1})()}_withPendingWrite(E){var x=this;return(0,u.Z)(function*(){x.pendingWrites++;try{yield E()}finally{x.pendingWrites--}})()}_set(E,x){var U=this;return(0,u.Z)(function*(){return U._withPendingWrite((0,u.Z)(function*(){return yield U._withRetries(Q=>Hd(Q,E,x)),U.localCache[E]=x,U.notifyServiceWorker(E)}))})()}_get(E){var x=this;return(0,u.Z)(function*(){const U=yield x._withRetries(Q=>function Js(D,_){return va.apply(this,arguments)}(Q,E));return x.localCache[E]=U,U})()}_remove(E){var x=this;return(0,u.Z)(function*(){return x._withPendingWrite((0,u.Z)(function*(){return yield x._withRetries(U=>Qr(U,E)),delete x.localCache[E],x.notifyServiceWorker(E)}))})()}_poll(){var E=this;return(0,u.Z)(function*(){const x=yield E._withRetries(Le=>{const ht=Bo(Le,!1).getAll();return new ma(ht).toPromise()});if(!x)return[];if(0!==E.pendingWrites)return[];const U=[],Q=new Set;for(const{fbase_key:Le,value:ht}of x)Q.add(Le),JSON.stringify(E.localCache[Le])!==JSON.stringify(ht)&&(E.notifyListeners(Le,ht),U.push(Le));for(const Le of Object.keys(E.localCache))E.localCache[Le]&&!Q.has(Le)&&(E.notifyListeners(Le,null),U.push(Le));return U})()}notifyListeners(E,x){this.localCache[E]=x;const U=this.listeners[E];if(U)for(const Q of Array.from(U))Q(x)}startPolling(){var E=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return E._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(E,x){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[E]||(this.listeners[E]=new Set,this._get(E)),this.listeners[E].add(x)}_removeListener(E,x){this.listeners[E]&&(this.listeners[E].delete(x),0===this.listeners[E].size&&delete this.listeners[E]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return D.type="LOCAL",D})();function jd(D,_){return _e(D,"POST","/v2/accounts/mfaSignIn:start",Ae(D,_))}function si(){return(si=(0,u.Z)(function*(D){return(yield _e(D,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function jo(D){return new Promise((_,E)=>{const x=document.createElement("script");x.setAttribute("src",D),x.onload=_,x.onerror=U=>{const Q=We("internal-error");Q.customData=U,E(Q)},x.type="text/javascript",x.charset="UTF-8",function bc(){var D,_;return null!==(_=null===(D=document.getElementsByTagName("head"))||void 0===D?void 0:D[0])&&void 0!==_?_:document}().appendChild(x)})}function _r(D){return`__${D}${Math.floor(1e6*Math.random())}`}const oi=1e12;class Eu{constructor(_){this.auth=_,this.counter=oi,this._widgets=new Map}render(_,E){const x=this.counter;return this._widgets.set(x,new Xs(_,this.auth.name,E||{})),this.counter++,x}reset(_){var E;const x=_||oi;null===(E=this._widgets.get(x))||void 0===E||E.delete(),this._widgets.delete(x)}getResponse(_){var E;return(null===(E=this._widgets.get(_||oi))||void 0===E?void 0:E.getResponse())||""}execute(_){var E=this;return(0,u.Z)(function*(){var x;return null===(x=E._widgets.get(_||oi))||void 0===x||x.execute(),""})()}}class Xs{constructor(_,E,x){this.params=x,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const U="string"==typeof _?document.getElementById(_):_;Te(U,"argument-error",{appName:E}),this.container=U,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function $a(D){const _=[],E="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let x=0;x<D;x++)_.push(E.charAt(Math.floor(Math.random()*E.length)));return _.join("")}(50);const{callback:_,"expired-callback":E}=this.params;if(_)try{_(this.responseToken)}catch(x){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,E)try{E()}catch(x){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ec=_r("rcb"),Gd=new jt(3e4,6e4);class zd{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!ur().grecaptcha}load(_,E=""){return Te(function Au(D){return D.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(D)}(E),_,"argument-error"),this.shouldResolveImmediately(E)?Promise.resolve(ur().grecaptcha):new Promise((x,U)=>{const Q=ur().setTimeout(()=>{U(We(_,"network-request-failed"))},Gd.get());ur()[Ec]=()=>{ur().clearTimeout(Q),delete ur()[Ec];const ht=ur().grecaptcha;if(!ht)return void U(We(_,"internal-error"));const Zt=ht.render;ht.render=(on,Bn)=>{const xr=Zt(on,Bn);return this.counter++,xr},this.hostLanguage=E,x(ht)},jo(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:Ec,render:"explicit",hl:E})}`).catch(()=>{clearTimeout(Q),U(We(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){return!!ur().grecaptcha&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Rh{load(_){return(0,u.Z)(function*(){return new Eu(_)})()}clearedOneInstance(){}}const bo="recaptcha",qd={theme:"light",type:"image"};class wu{constructor(_,E=Object.assign({},qd),x){this.parameters=E,this.type=bo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=At(x),this.isInvisible="invisible"===this.parameters.size,Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const U="string"==typeof _?document.getElementById(_):_;Te(U,this.auth,"argument-error"),this.container=U,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Rh:new zd,this.validateStartingState()}verify(){var _=this;return(0,u.Z)(function*(){_.assertNotDestroyed();const E=yield _.render(),x=_.getAssertedRecaptcha();return x.getResponse(E)||new Promise(Q=>{const Le=ht=>{!ht||(_.tokenChangeListeners.delete(Le),Q(ht))};_.tokenChangeListeners.add(Le),_.isInvisible&&x.execute(E)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){Te(!this.parameters.sitekey,this.auth,"argument-error"),Te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return E=>{if(this.tokenChangeListeners.forEach(x=>x(E)),"function"==typeof _)_(E);else if("string"==typeof _){const x=ur()[_];"function"==typeof x&&x(E)}}}assertNotDestroyed(){Te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,u.Z)(function*(){if(yield _.init(),!_.widgetId){let E=_.container;if(!_.isInvisible){const x=document.createElement("div");E.appendChild(x),E=x}_.widgetId=_.getAssertedRecaptcha().render(E,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,u.Z)(function*(){Te(Kt()&&!hn(),_.auth,"internal-error"),yield function Ac(){let D=null;return new Promise(_=>{"complete"!==document.readyState?(D=()=>_(),window.addEventListener("load",D)):_()}).catch(_=>{throw D&&window.removeEventListener("load",D),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const E=yield function bu(D){return si.apply(this,arguments)}(_.auth);Te(E,_.auth,"internal-error"),_.parameters.sitekey=E})()}getAssertedRecaptcha(){return Te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class xs{constructor(_,E){this.verificationId=_,this.onConfirmation=E}confirm(_){const E=Es._fromVerification(this.verificationId,_);return this.onConfirmation(E)}}function wc(D,_,E){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,u.Z)(function*(D,_,E){const x=At(D),U=yield Ni(x,_,(0,O.m9)(E));return new xs(U,Q=>Ws(x,Q))})).apply(this,arguments)}function Ms(D,_,E){return kr.apply(this,arguments)}function kr(){return(kr=(0,u.Z)(function*(D,_,E){const x=(0,O.m9)(D);yield ws(!1,x,"phone");const U=yield Ni(x.auth,_,(0,O.m9)(E));return new xs(U,Q=>K(x,Q))})).apply(this,arguments)}function Wd(D,_,E){return Zd.apply(this,arguments)}function Zd(){return(Zd=(0,u.Z)(function*(D,_,E){const x=(0,O.m9)(D),U=yield Ni(x.auth,_,(0,O.m9)(E));return new xs(U,Q=>we(x,Q))})).apply(this,arguments)}function Ni(D,_,E){return ai.apply(this,arguments)}function ai(){return(ai=(0,u.Z)(function*(D,_,E){var x;const U=yield E.verify();try{let Q;if(Te("string"==typeof U,D,"argument-error"),Te(E.type===bo,D,"argument-error"),Q="string"==typeof _?{phoneNumber:_}:_,"session"in Q){const Le=Q.session;if("phoneNumber"in Q)return Te("enroll"===Le.type,D,"internal-error"),(yield yc(D,{idToken:Le.credential,phoneEnrollmentInfo:{phoneNumber:Q.phoneNumber,recaptchaToken:U}})).phoneSessionInfo.sessionInfo;{Te("signin"===Le.type,D,"internal-error");const ht=(null===(x=Q.multiFactorHint)||void 0===x?void 0:x.uid)||Q.multiFactorUid;return Te(ht,D,"missing-multi-factor-info"),(yield jd(D,{mfaPendingCredential:Le.credential,mfaEnrollmentId:ht,phoneSignInInfo:{recaptchaToken:U}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Le}=yield Va(D,{phoneNumber:Q.phoneNumber,recaptchaToken:U});return Le}}finally{E._reset()}})).apply(this,arguments)}function $d(D,_){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,u.Z)(function*(D,_){yield gr((0,O.m9)(D),_)})).apply(this,arguments)}let Go=(()=>{class D{constructor(E){this.providerId=D.PROVIDER_ID,this.auth=At(E)}verifyPhoneNumber(E,x){return Ni(this.auth,E,(0,O.m9)(x))}static credential(E,x){return Es._fromVerification(E,x)}static credentialFromResult(E){return D.credentialFromTaggedObject(E)}static credentialFromError(E){return D.credentialFromTaggedObject(E.customData||{})}static credentialFromTaggedObject({_tokenResponse:E}){if(!E)return null;const{phoneNumber:x,temporaryProof:U}=E;return x&&U?Es._fromTokenResponse(x,U):null}}return D.PROVIDER_ID="phone",D.PHONE_SIGN_IN_METHOD="phone",D})();function Ao(D,_){return _?Oe(_):(Te(D._popupRedirectResolver,D,"argument-error"),D._popupRedirectResolver)}class Nl extends Sn{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return Rr(_,this._buildIdpRequest())}_linkToIdToken(_,E){return Rr(_,this._buildIdpRequest(E))}_getReauthenticationResolver(_){return Rr(_,this._buildIdpRequest())}_buildIdpRequest(_){const E={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(E.idToken=_),E}}function kh(D){return go(D.auth,new Nl(D),D.bypassAuthState)}function yy(D){const{auth:_,user:E}=D;return Te(E,_,"internal-error"),da(E,new Nl(D),D.bypassAuthState)}function _y(D){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,u.Z)(function*(D){const{auth:_,user:E}=D;return Te(E,_,"internal-error"),gr(E,new Nl(D),D.bypassAuthState)})).apply(this,arguments)}class Xi{constructor(_,E,x,U,Q=!1){this.auth=_,this.resolver=x,this.user=U,this.bypassAuthState=Q,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(E)?E:[E]}execute(){var _=this;return new Promise(function(){var E=(0,u.Z)(function*(x,U){_.pendingPromise={resolve:x,reject:U};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(Q){_.reject(Q)}});return function(x,U){return E.apply(this,arguments)}}())}onAuthEvent(_){var E=this;return(0,u.Z)(function*(){const{urlResponse:x,sessionId:U,postBody:Q,tenantId:Le,error:ht,type:Zt}=_;if(ht)return void E.reject(ht);const on={auth:E.auth,requestUri:x,sessionId:U,tenantId:Le||void 0,postBody:Q||void 0,user:E.user,bypassAuthState:E.bypassAuthState};try{E.resolve(yield E.getIdpTask(Zt)(on))}catch(Bn){E.reject(Bn)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return kh;case"linkViaPopup":case"linkViaRedirect":return _y;case"reauthViaPopup":case"reauthViaRedirect":return yy;default:Ye(this.auth,"internal-error")}}resolve(_){fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Dc=new jt(2e3,1e4);function Ka(D,_,E){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,u.Z)(function*(D,_,E){const x=At(D);ze(D,_,Yi);const U=Ao(x,E);return new Ya(x,"signInViaPopup",_,U).executeNotNull()})).apply(this,arguments)}function Cu(D,_,E){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,u.Z)(function*(D,_,E){const x=(0,O.m9)(D);ze(x.auth,_,Yi);const U=Ao(x.auth,E);return new Ya(x.auth,"reauthViaPopup",_,U,x).executeNotNull()})).apply(this,arguments)}function Ic(D,_,E){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,u.Z)(function*(D,_,E){const x=(0,O.m9)(D);ze(x.auth,_,Yi);const U=Ao(x.auth,E);return new Ya(x.auth,"linkViaPopup",_,U,x).executeNotNull()})).apply(this,arguments)}let Ya=(()=>{class D extends Xi{constructor(E,x,U,Q,Le){super(E,x,Q,Le),this.provider=U,this.authWindow=null,this.pollId=null,D.currentPopupAction&&D.currentPopupAction.cancel(),D.currentPopupAction=this}executeNotNull(){var E=this;return(0,u.Z)(function*(){const x=yield E.execute();return Te(x,E.auth,"internal-error"),x})()}onExecution(){var E=this;return(0,u.Z)(function*(){fe(1===E.filter.length,"Popup operations only handle one event");const x=yo();E.authWindow=yield E.resolver._openPopup(E.auth,E.provider,E.filter[0],x),E.authWindow.associatedEvent=x,E.resolver._originValidation(E.auth).catch(U=>{E.reject(U)}),E.resolver._isIframeWebStorageSupported(E.auth,U=>{U||E.reject(We(E.auth,"web-storage-unsupported"))}),E.pollUserCancellation()})()}get eventId(){var E;return(null===(E=this.authWindow)||void 0===E?void 0:E.associatedEvent)||null}cancel(){this.reject(We(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,D.currentPopupAction=null}pollUserCancellation(){const E=()=>{var x,U;this.pollId=(null===(U=null===(x=this.authWindow)||void 0===x?void 0:x.window)||void 0===U?void 0:U.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(We(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(E,Dc.get())};E()}}return D.currentPopupAction=null,D})();const wo=new Map;class ba extends Xi{constructor(_,E,x=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],E,void 0,x),this.eventId=null}execute(){var _=()=>super.execute,E=this;return(0,u.Z)(function*(){let x=wo.get(E.auth._key());if(!x){try{const Q=(yield function Du(D,_){return Tu.apply(this,arguments)}(E.resolver,E.auth))?yield _().call(E):null;x=()=>Promise.resolve(Q)}catch(U){x=()=>Promise.reject(U)}wo.set(E.auth._key(),x)}return E.bypassAuthState||wo.set(E.auth._key(),()=>Promise.resolve(null)),x()})()}onAuthEvent(_){var E=()=>super.onAuthEvent,x=this;return(0,u.Z)(function*(){if("signInViaRedirect"===_.type)return E().call(x,_);if("unknown"!==_.type){if(_.eventId){const U=yield x.auth._redirectUserForId(_.eventId);if(U)return x.user=U,E().call(x,_);x.resolve(null)}}else x.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function Tu(){return(Tu=(0,u.Z)(function*(D,_){const E=Rc(_),x=Mc(D);if(!(yield x._isAvailable()))return!1;const U="true"===(yield x._get(E));return yield x._remove(E),U})).apply(this,arguments)}function eo(D,_){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,u.Z)(function*(D,_){return Mc(D)._set(Rc(_),"true")})).apply(this,arguments)}function Iu(){wo.clear()}function xc(D,_){wo.set(D._key(),_)}function Mc(D){return Oe(D._redirectPersistence)}function Rc(D){return ut("pendingRedirect",D.config.apiKey,D.name)}function Yd(D,_,E){return function Hg(D,_,E){return Ea.apply(this,arguments)}(D,_,E)}function Ea(){return(Ea=(0,u.Z)(function*(D,_,E){const x=At(D);ze(D,_,Yi);const U=Ao(x,E);return yield eo(U,x),U._openRedirect(x,_,"signInViaRedirect")})).apply(this,arguments)}function kc(D,_,E){return function jg(D,_,E){return Nr.apply(this,arguments)}(D,_,E)}function Nr(){return(Nr=(0,u.Z)(function*(D,_,E){const x=(0,O.m9)(D);ze(x.auth,_,Yi);const U=Ao(x.auth,E);yield eo(U,x.auth);const Q=yield Co(x);return U._openRedirect(x.auth,_,"reauthViaRedirect",Q)})).apply(this,arguments)}function Qd(D,_,E){return function Jd(D,_,E){return Aa.apply(this,arguments)}(D,_,E)}function Aa(){return(Aa=(0,u.Z)(function*(D,_,E){const x=(0,O.m9)(D);ze(x.auth,_,Yi);const U=Ao(x.auth,E);yield ws(!1,x,_.providerId),yield eo(U,x.auth);const Q=yield Co(x);return U._openRedirect(x.auth,_,"linkViaRedirect",Q)})).apply(this,arguments)}function wa(D,_){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,u.Z)(function*(D,_){return yield At(D)._initializationPromise,Xa(D,_,!1)})).apply(this,arguments)}function Xa(D,_){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,u.Z)(function*(D,_,E=!1){const x=At(D),U=Ao(x,_),Le=yield new ba(x,U,E).execute();return Le&&!E&&(delete Le.user._redirectEventId,yield x._persistUserIfCurrent(Le.user),yield x._setRedirectUser(null,_)),Le})).apply(this,arguments)}function Co(D){return cs.apply(this,arguments)}function cs(){return(cs=(0,u.Z)(function*(D){const _=yo(`${D.uid}:::`);return D._redirectEventId=_,yield D.auth._setRedirectUser(D),yield D.auth._persistUserIfCurrent(D),_})).apply(this,arguments)}class tl{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let E=!1;return this.consumers.forEach(x=>{this.isEventForConsumer(_,x)&&(E=!0,this.sendToConsumer(_,x),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function Pl(D){switch(D.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xu(D);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,E||(this.queuedRedirectEvent=_,E=!0)),E}sendToConsumer(_,E){var x;if(_.error&&!xu(_)){const U=(null===(x=_.error.code)||void 0===x?void 0:x.split("auth/")[1])||"internal-error";E.onError(We(this.auth,U))}else E.onAuthEvent(_)}isEventForConsumer(_,E){const x=null===E.eventId||!!_.eventId&&_.eventId===E.eventId;return E.filter.includes(_.type)&&x}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Su(_))}saveEventToCache(_){this.cachedEventUids.add(Su(_)),this.lastProcessedEventTime=Date.now()}}function Su(D){return[D.type,D.eventId,D.sessionId,D.tenantId].filter(_=>_).join("-")}function xu({type:D,error:_}){return"unknown"===D&&"auth/no-auth-event"===(null==_?void 0:_.code)}function nl(D){return Da.apply(this,arguments)}function Da(){return(Da=(0,u.Z)(function*(D,_={}){return _e(D,"GET","/v1/projects",_)})).apply(this,arguments)}const ef=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mu=/^https?/;function zo(){return(zo=(0,u.Z)(function*(D){if(D.config.emulator)return;const{authorizedDomains:_}=yield nl(D);for(const E of _)try{if(Nc(E))return}catch(x){}Ye(D,"unauthorized-domain")})).apply(this,arguments)}function Nc(D){const _=Ne(),{protocol:E,hostname:x}=new URL(_);if(D.startsWith("chrome-extension://")){const Le=new URL(D);return""===Le.hostname&&""===x?"chrome-extension:"===E&&D.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===E&&Le.hostname===x}if(!Mu.test(E))return!1;if(ef.test(D))return x===D;const U=D.replace(/\./g,"\\.");return new RegExp("^(.+\\."+U+"|"+U+")$","i").test(x)}const Nh=new jt(3e4,6e4);function Ol(){const D=ur().___jsl;if(null==D?void 0:D.H)for(const _ of Object.keys(D.H))if(D.H[_].r=D.H[_].r||[],D.H[_].L=D.H[_].L||[],D.H[_].r=[...D.H[_].L],D.CP)for(let E=0;E<D.CP.length;E++)D.CP[E]=null}let Fl=null;function Ph(D){return Fl=Fl||function Ru(D){return new Promise((_,E)=>{var x,U,Q;function Le(){Ol(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{Ol(),E(We(D,"network-request-failed"))},timeout:Nh.get()})}if(null===(U=null===(x=ur().gapi)||void 0===x?void 0:x.iframes)||void 0===U?void 0:U.Iframe)_(gapi.iframes.getContext());else{if(!(null===(Q=ur().gapi)||void 0===Q?void 0:Q.load)){const ht=_r("iframefcb");return ur()[ht]=()=>{gapi.load?Le():E(We(D,"network-request-failed"))},jo(`https://apis.google.com/js/api.js?onload=${ht}`).catch(Zt=>E(Zt))}Le()}}).catch(_=>{throw Fl=null,_})}(D),Fl}const Oh=new jt(5e3,15e3),ku={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ll=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gg(D){const _=D.config;Te(_.authDomain,D,"auth-domain-config-required");const E=_.emulator?Yn(_,"emulator/auth/iframe"):`https://${D.config.authDomain}/__/auth/iframe`,x={apiKey:_.apiKey,appName:D.name,v:k.SDK_VERSION},U=Ll.get(D.config.apiHost);U&&(x.eid=U);const Q=D._getFrameworks();return Q.length&&(x.fw=Q.join(",")),`${E}?${(0,O.xO)(x).slice(1)}`}function Fh(){return Fh=(0,u.Z)(function*(D){const _=yield Ph(D),E=ur().gapi;return Te(E,D,"internal-error"),_.open({where:document.body,url:Gg(D),messageHandlersFilter:E.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ku,dontclear:!0},x=>new Promise(function(){var U=(0,u.Z)(function*(Q,Le){yield x.restyle({setHideOnLeave:!1});const ht=We(D,"network-request-failed"),Zt=ur().setTimeout(()=>{Le(ht)},Oh.get());function on(){ur().clearTimeout(Zt),Q(x)}x.ping(on).then(on,()=>{Le(ht)})});return function(Q,Le){return U.apply(this,arguments)}}()))}),Fh.apply(this,arguments)}const Nu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Wo{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(_){}}}function Ou(D,_,E,x,U,Q){Te(D.config.authDomain,D,"auth-domain-config-required"),Te(D.config.apiKey,D,"invalid-api-key");const Le={apiKey:D.config.apiKey,appName:D.name,authType:E,redirectUrl:x,v:k.SDK_VERSION,eventId:U};if(_ instanceof Yi){_.setDefaultLanguage(D.languageCode),Le.providerId=_.providerId||"",(0,O.xb)(_.getCustomParameters())||(Le.customParameters=JSON.stringify(_.getCustomParameters()));for(const[Zt,on]of Object.entries(Q||{}))Le[Zt]=on}if(_ instanceof ki){const Zt=_.getScopes().filter(on=>""!==on);Zt.length>0&&(Le.scopes=Zt.join(","))}D.tenantId&&(Le.tid=D.tenantId);const ht=Le;for(const Zt of Object.keys(ht))void 0===ht[Zt]&&delete ht[Zt];return`${function to({config:D}){return D.emulator?Yn(D,"emulator/auth/handler"):`https://${D.authDomain}/__/auth/handler`}(D)}?${(0,O.xO)(ht).slice(1)}`}const Rs="webStorageSupport",Bl=class Fu{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mu,this._completeRedirectFn=Xa,this._overrideRedirectResult=xc}_openPopup(_,E,x,U){var Q=this;return(0,u.Z)(function*(){var Le;fe(null===(Le=Q.eventManagers[_._key()])||void 0===Le?void 0:Le.manager,"_initialize() not called before _openPopup()");const ht=Ou(_,E,x,Ne(),U);return function Lh(D,_,E,x=500,U=600){const Q=Math.max((window.screen.availHeight-U)/2,0).toString(),Le=Math.max((window.screen.availWidth-x)/2,0).toString();let ht="";const Zt=Object.assign(Object.assign({},Nu),{width:x.toString(),height:U.toString(),top:Q,left:Le}),on=(0,O.z$)().toLowerCase();E&&(ht=et(on)?"_blank":E),pe(on)&&(_=_||"http://localhost",Zt.scrollbars="yes");const Bn=Object.entries(Zt).reduce((Pi,[ks,Zo])=>`${Pi}${ks}=${Zo},`,"");if(function Br(D=(0,O.z$)()){var _;return Bt(D)&&!!(null===(_=window.navigator)||void 0===_?void 0:_.standalone)}(on)&&"_self"!==ht)return function Vl(D,_){const E=document.createElement("a");E.href=D,E.target=_;const x=document.createEvent("MouseEvent");x.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),E.dispatchEvent(x)}(_||"",ht),new Wo(null);const xr=window.open(_||"",ht,Bn);Te(xr,D,"popup-blocked");try{xr.focus()}catch(Pi){}return new Wo(xr)}(_,ht,yo())})()}_openRedirect(_,E,x,U){var Q=this;return(0,u.Z)(function*(){return yield Q._originValidation(_),function wi(D){ur().location.href=D}(Ou(_,E,x,Ne(),U)),new Promise(()=>{})})()}_initialize(_){const E=_._key();if(this.eventManagers[E]){const{manager:U,promise:Q}=this.eventManagers[E];return U?Promise.resolve(U):(fe(Q,"If manager is not set, promise should be"),Q)}const x=this.initAndGetManager(_);return this.eventManagers[E]={promise:x},x.catch(()=>{delete this.eventManagers[E]}),x}initAndGetManager(_){var E=this;return(0,u.Z)(function*(){const x=yield function zg(D){return Fh.apply(this,arguments)}(_),U=new tl(_);return x.register("authEvent",Q=>(Te(null==Q?void 0:Q.authEvent,_,"invalid-auth-event"),{status:U.onEvent(Q.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),E.eventManagers[_._key()]={manager:U},E.iframes[_._key()]=x,U})()}_isIframeWebStorageSupported(_,E){this.iframes[_._key()].send(Rs,{type:Rs},U=>{var Q;const Le=null===(Q=null==U?void 0:U[0])||void 0===Q?void 0:Q[Rs];void 0!==Le&&E(!!Le),Ye(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const E=_._key();return this.originValidationPromises[E]||(this.originValidationPromises[E]=function rl(D){return zo.apply(this,arguments)}(_)),this.originValidationPromises[E]}get _shouldInitProactively(){return Dr()||he()||Bt()}};class Oc extends class Lu{constructor(_){this.factorId=_}_process(_,E,x){switch(E.type){case"enroll":return this._finalizeEnroll(_,E.credential,x);case"signin":return this._finalizeSignIn(_,E.credential);default:return Re("unexpected MultiFactorSessionType")}}}{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new Oc(_)}_finalizeEnroll(_,E,x){return function Dh(D,_){return _e(D,"POST","/v2/accounts/mfaEnrollment:finalize",Ae(D,_))}(_,{idToken:E,displayName:x,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,E){return function Ho(D,_){return _e(D,"POST","/v2/accounts/mfaSignIn:finalize",Ae(D,_))}(_,{mfaPendingCredential:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let rf=(()=>{class D{constructor(){}static assertion(E){return Oc._fromCredential(E)}}return D.FACTOR_ID="phone",D})();var Vu="@firebase/auth";class Vh{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var E=this;return(0,u.Z)(function*(){return E.assertAuthConfigured(),yield E.auth._initializationPromise,E.auth.currentUser?{accessToken:yield E.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const E=this.auth.onIdTokenChanged(x=>{var U;_((null===(U=x)||void 0===U?void 0:U.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,E),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const E=this.internalListeners.get(_);!E||(this.internalListeners.delete(_),E(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Lc(D=(0,k.getApp)()){const _=(0,k._getProvider)(D,"auth");return _.isInitialized()?_.getImmediate():function Be(D,_){const E=(0,k._getProvider)(D,"auth");if(E.isInitialized()){const U=E.getImmediate(),Q=E.getOptions();if((0,O.vZ)(Q,null!=_?_:{}))return U;Ye(U,"already-initialized")}return E.initialize({options:_})}(D,{popupRedirectResolver:Bl,persistence:[ya,Sh,mu]})}!function Bh(D){(0,k._registerComponent)(new Ce.wA("auth",(_,{options:E})=>{const x=_.getProvider("app").getImmediate(),U=_.getProvider("heartbeat"),{apiKey:Q,authDomain:Le}=x.options;return((ht,Zt)=>{Te(Q&&!Q.includes(":"),"invalid-api-key",{appName:ht.name}),Te(!(null==Le?void 0:Le.includes(":")),"argument-error",{appName:ht.name});const on={apiKey:Q,authDomain:Le,clientPlatform:D,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fr(D)},Bn=new ti(ht,Zt,on);return function Xe(D,_){const E=(null==_?void 0:_.persistence)||[],x=(Array.isArray(E)?E:[E]).map(Oe);(null==_?void 0:_.errorMap)&&D._updateErrorMap(_.errorMap),D._initializeWithPersistence(x,null==_?void 0:_.popupRedirectResolver)}(Bn,E),Bn})(x,U)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,E,x)=>{_.getProvider("auth-internal").initialize()})),(0,k._registerComponent)(new Ce.wA("auth-internal",_=>{const E=At(_.getProvider("auth").getImmediate());return new Vh(E)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,k.registerVersion)(Vu,"0.20.1",function Fc(D){switch(D){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(D)),(0,k.registerVersion)(Vu,"0.20.1","esm2017")}("Browser")},2090:(Nt,qe,z)=>{"use strict";z.d(qe,{$s:()=>En,BH:()=>F,G6:()=>Te,L:()=>Me,LL:()=>Ne,Mn:()=>ze,Sg:()=>H,UG:()=>ce,US:()=>Ce,ZB:()=>de,ZR:()=>Xe,b$:()=>Ye,d:()=>We,eu:()=>fe,hl:()=>Re,jU:()=>oe,m9:()=>In,ne:()=>$e,pd:()=>yn,r3:()=>Ae,ru:()=>je,tV:()=>De,uI:()=>me,vZ:()=>Dt,w1:()=>Qe,xO:()=>Lt,xb:()=>Ve,z$:()=>se,zI:()=>xe,zd:()=>ln});const G=function(ue){const ve=[];let B=0;for(let J=0;J<ue.length;J++){let W=ue.charCodeAt(J);W<128?ve[B++]=W:W<2048?(ve[B++]=W>>6|192,ve[B++]=63&W|128):55296==(64512&W)&&J+1<ue.length&&56320==(64512&ue.charCodeAt(J+1))?(W=65536+((1023&W)<<10)+(1023&ue.charCodeAt(++J)),ve[B++]=W>>18|240,ve[B++]=W>>12&63|128,ve[B++]=W>>6&63|128,ve[B++]=63&W|128):(ve[B++]=W>>12|224,ve[B++]=W>>6&63|128,ve[B++]=63&W|128)}return ve},Ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ue,ve){if(!Array.isArray(ue))throw Error("encodeByteArray takes an array as a parameter");this.init_();const B=ve?this.byteToCharMapWebSafe_:this.byteToCharMap_,J=[];for(let W=0;W<ue.length;W+=3){const le=ue[W],ae=W+1<ue.length,ge=ae?ue[W+1]:0,Pe=W+2<ue.length,st=Pe?ue[W+2]:0;let $t=(15&ge)<<2|st>>6,Ie=63&st;Pe||(Ie=64,ae||($t=64)),J.push(B[le>>2],B[(3&le)<<4|ge>>4],B[$t],B[Ie])}return J.join("")},encodeString(ue,ve){return this.HAS_NATIVE_SUPPORT&&!ve?btoa(ue):this.encodeByteArray(G(ue),ve)},decodeString(ue,ve){return this.HAS_NATIVE_SUPPORT&&!ve?atob(ue):function(ue){const ve=[];let B=0,J=0;for(;B<ue.length;){const W=ue[B++];if(W<128)ve[J++]=String.fromCharCode(W);else if(W>191&&W<224){const le=ue[B++];ve[J++]=String.fromCharCode((31&W)<<6|63&le)}else if(W>239&&W<365){const Pe=((7&W)<<18|(63&ue[B++])<<12|(63&ue[B++])<<6|63&ue[B++])-65536;ve[J++]=String.fromCharCode(55296+(Pe>>10)),ve[J++]=String.fromCharCode(56320+(1023&Pe))}else{const le=ue[B++],ae=ue[B++];ve[J++]=String.fromCharCode((15&W)<<12|(63&le)<<6|63&ae)}}return ve.join("")}(this.decodeStringToByteArray(ue,ve))},decodeStringToByteArray(ue,ve){this.init_();const B=ve?this.charToByteMapWebSafe_:this.charToByteMap_,J=[];for(let W=0;W<ue.length;){const le=B[ue.charAt(W++)],ge=W<ue.length?B[ue.charAt(W)]:0;++W;const st=W<ue.length?B[ue.charAt(W)]:64;++W;const ut=W<ue.length?B[ue.charAt(W)]:64;if(++W,null==le||null==ge||null==st||null==ut)throw Error();J.push(le<<2|ge>>4),64!==st&&(J.push(ge<<4&240|st>>2),64!==ut&&J.push(st<<6&192|ut))}return J},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ue=0;ue<this.ENCODED_VALS.length;ue++)this.byteToCharMap_[ue]=this.ENCODED_VALS.charAt(ue),this.charToByteMap_[this.byteToCharMap_[ue]]=ue,this.byteToCharMapWebSafe_[ue]=this.ENCODED_VALS_WEBSAFE.charAt(ue),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ue]]=ue,ue>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ue)]=ue,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ue)]=ue)}}},Me=function(ue){return function(ue){const ve=G(ue);return Ce.encodeByteArray(ve,!0)}(ue).replace(/\./g,"")},De=function(ue){try{return Ce.decodeString(ue,!0)}catch(ve){console.error("base64Decode failed: ",ve)}return null};function de(ue,ve){if(!(ve instanceof Object))return ve;switch(ve.constructor){case Date:return new Date(ve.getTime());case Object:void 0===ue&&(ue={});break;case Array:ue=[];break;default:return ve}for(const B in ve)!ve.hasOwnProperty(B)||!T(B)||(ue[B]=de(ue[B],ve[B]));return ue}function T(ue){return"__proto__"!==ue}class F{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ve,B)=>{this.resolve=ve,this.reject=B})}wrapCallback(ve){return(B,J)=>{B?this.reject(B):this.resolve(J),"function"==typeof ve&&(this.promise.catch(()=>{}),1===ve.length?ve(B):ve(B,J))}}}function H(ue,ve){if(ue.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const J=ve||"demo-project",W=ue.iat||0,le=ue.sub||ue.user_id;if(!le)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ae=Object.assign({iss:`https://securetoken.google.com/${J}`,aud:J,iat:W,exp:W+3600,auth_time:W,sub:le,user_id:le,firebase:{sign_in_provider:"custom",identities:{}}},ue);return[Me(JSON.stringify({alg:"none",type:"JWT"})),Me(JSON.stringify(ae)),""].join(".")}function se(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function me(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(se())}function ce(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ue){return!1}}function oe(){return"object"==typeof self&&self.self===self}function je(){const ue="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ue&&void 0!==ue.id}function Ye(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function We(){return se().indexOf("Electron/")>=0}function Qe(){const ue=se();return ue.indexOf("MSIE ")>=0||ue.indexOf("Trident/")>=0}function ze(){return se().indexOf("MSAppHost/")>=0}function Te(){return!ce()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Re(){return"object"==typeof indexedDB}function fe(){return new Promise((ue,ve)=>{try{let B=!0;const J="validate-browser-context-for-indexeddb-analytics-module",W=self.indexedDB.open(J);W.onsuccess=()=>{W.result.close(),B||self.indexedDB.deleteDatabase(J),ue(!0)},W.onupgradeneeded=()=>{B=!1},W.onerror=()=>{var le;ve((null===(le=W.error)||void 0===le?void 0:le.message)||"")}}catch(B){ve(B)}})}function xe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Xe extends Error{constructor(ve,B,J){super(B),this.code=ve,this.customData=J,this.name="FirebaseError",Object.setPrototypeOf(this,Xe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ne.prototype.create)}}class Ne{constructor(ve,B,J){this.service=ve,this.serviceName=B,this.errors=J}create(ve,...B){const J=B[0]||{},W=`${this.service}/${ve}`,le=this.errors[ve],ae=le?function Kt(ue,ve){return ue.replace(en,(B,J)=>{const W=ve[J];return null!=W?String(W):`<${J}?>`})}(le,J):"Error";return new Xe(W,`${this.serviceName}: ${ae} (${W}).`,J)}}const en=/\{\$([^}]+)}/g;function Ae(ue,ve){return Object.prototype.hasOwnProperty.call(ue,ve)}function Ve(ue){for(const ve in ue)if(Object.prototype.hasOwnProperty.call(ue,ve))return!1;return!0}function Dt(ue,ve){if(ue===ve)return!0;const B=Object.keys(ue),J=Object.keys(ve);for(const W of B){if(!J.includes(W))return!1;const le=ue[W],ae=ve[W];if(Ze(le)&&Ze(ae)){if(!Dt(le,ae))return!1}else if(le!==ae)return!1}for(const W of J)if(!B.includes(W))return!1;return!0}function Ze(ue){return null!==ue&&"object"==typeof ue}function Lt(ue){const ve=[];for(const[B,J]of Object.entries(ue))Array.isArray(J)?J.forEach(W=>{ve.push(encodeURIComponent(B)+"="+encodeURIComponent(W))}):ve.push(encodeURIComponent(B)+"="+encodeURIComponent(J));return ve.length?"&"+ve.join("&"):""}function ln(ue){const ve={};return ue.replace(/^\?/,"").split("&").forEach(J=>{if(J){const[W,le]=J.split("=");ve[decodeURIComponent(W)]=decodeURIComponent(le)}}),ve}function yn(ue){const ve=ue.indexOf("?");if(!ve)return"";const B=ue.indexOf("#",ve);return ue.substring(ve,B>0?B:void 0)}function $e(ue,ve){const B=new Tt(ue,ve);return B.subscribe.bind(B)}class Tt{constructor(ve,B){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=B,this.task.then(()=>{ve(this)}).catch(J=>{this.error(J)})}next(ve){this.forEachObserver(B=>{B.next(ve)})}error(ve){this.forEachObserver(B=>{B.error(ve)}),this.close(ve)}complete(){this.forEachObserver(ve=>{ve.complete()}),this.close()}subscribe(ve,B,J){let W;if(void 0===ve&&void 0===B&&void 0===J)throw new Error("Missing Observer.");W=function vt(ue,ve){if("object"!=typeof ue||null===ue)return!1;for(const B of ve)if(B in ue&&"function"==typeof ue[B])return!0;return!1}(ve,["next","error","complete"])?ve:{next:ve,error:B,complete:J},void 0===W.next&&(W.next=Vt),void 0===W.error&&(W.error=Vt),void 0===W.complete&&(W.complete=Vt);const le=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?W.error(this.finalError):W.complete()}catch(ae){}}),this.observers.push(W),le}unsubscribeOne(ve){void 0===this.observers||void 0===this.observers[ve]||(delete this.observers[ve],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ve){if(!this.finalized)for(let B=0;B<this.observers.length;B++)this.sendOne(B,ve)}sendOne(ve,B){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ve])try{B(this.observers[ve])}catch(J){"undefined"!=typeof console&&console.error&&console.error(J)}})}close(ve){this.finalized||(this.finalized=!0,void 0!==ve&&(this.finalError=ve),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vt(){}function En(ue,ve=1e3,B=2){const J=ve*Math.pow(B,ue),W=Math.round(.5*J*(Math.random()-.5)*2);return Math.min(144e5,J+W)}function In(ue){return ue&&ue._delegate?ue._delegate:ue}},9356:(Nt,qe,z)=>{"use strict";z.r(qe),z.d(qe,{BASE_OPTION_DEFAULTS:()=>Gs,BASE_OPTION_REFINERS:()=>uu,BaseComponent:()=>_r,BgEvent:()=>df,CalendarApi:()=>hu,CalendarContent:()=>U,CalendarDataManager:()=>il,CalendarDataProvider:()=>qo,CalendarRoot:()=>ht,Component:()=>k,ContentHook:()=>wu,CustomContentRenderContext:()=>qd,DateComponent:()=>Eu,DateEnv:()=>Ks,DateProfileGenerator:()=>Ao,DayCellContent:()=>Cy,DayCellRoot:()=>Dy,DayHeader:()=>Vc,DaySeriesModel:()=>of,DayTableModel:()=>Bu,DelayedRunner:()=>Ru,ElementDragging:()=>Ul,ElementScrollController:()=>ya,Emitter:()=>va,EventApi:()=>Gr,EventRoot:()=>zl,EventSourceApi:()=>T,Fragment:()=>Ee,Interaction:()=>Lu,MoreLinkRoot:()=>Ty,MountHook:()=>xs,NamedTimeZoneImpl:()=>Lh,NowIndicatorRoot:()=>Zh,NowTimer:()=>Zo,PositionCache:()=>Mh,RefMap:()=>Wg,RenderHook:()=>bo,ScrollController:()=>_u,ScrollResponder:()=>bu,Scroller:()=>Gh,SegHierarchy:()=>Vl,SimpleScrollGrid:()=>wy,Slicer:()=>af,Splitter:()=>mu,StandardEvent:()=>cf,TableDateCell:()=>xr,TableDowCell:()=>ks,Theme:()=>Ho,ViewApi:()=>Cl,ViewContextType:()=>si,ViewRoot:()=>kr,WeekNumberRoot:()=>Yg,WindowScrollController:()=>jd,addDays:()=>$e,addDurations:()=>di,addMs:()=>Tt,addWeeks:()=>mn,allowContextMenu:()=>wr,allowSelection:()=>Yn,applyMutationToEventStore:()=>ha,applyStyle:()=>je,applyStyleProp:()=>Ye,asCleanDays:()=>Dr,asRoughMinutes:()=>He,asRoughMs:()=>Gt,asRoughSeconds:()=>ct,binarySearch:()=>Bl,buildClassNameNormalizer:()=>wc,buildEntryKey:()=>nf,buildEventApis:()=>Il,buildEventRangeKey:()=>Nn,buildHashFromArray:()=>st,buildIsoString:()=>Sn,buildNavLinkAttrs:()=>hn,buildSegCompareObj:()=>Fn,buildSegTimeText:()=>Ha,collectFromHash:()=>he,combineEventUis:()=>Ur,compareByFieldSpec:()=>_e,compareByFieldSpecs:()=>Ae,compareNumbers:()=>Ze,compareObjs:()=>Ie,computeEarliestSegStart:()=>Jg,computeEdges:()=>gi,computeFallbackHeaderFormat:()=>Zt,computeHeightAndMargins:()=>Za,computeInnerRect:()=>ma,computeRect:()=>Bo,computeSegDraggable:()=>as,computeSegEndResizable:()=>Zs,computeSegStartResizable:()=>Cs,computeShrinkWidth:()=>by,computeSmallestCellWidth:()=>ln,computeVisibleDayRange:()=>ws,config:()=>Vh,constrainPoint:()=>qa,createAriaClickAttrs:()=>Xe,createContext:()=>Me,createDuration:()=>Bt,createElement:()=>G,createEmptyEventStore:()=>pi,createEventInstance:()=>J,createEventUi:()=>qs,createFormatter:()=>Tr,createPlugin:()=>Xs,createPortal:()=>De,createRef:()=>Ce,diffDates:()=>da,diffDayAndTime:()=>Rn,diffDays:()=>vt,diffPoints:()=>Ug,diffWeeks:()=>tn,diffWholeDays:()=>Zn,diffWholeWeeks:()=>Tn,disableCursor:()=>tr,elementClosest:()=>H,elementMatches:()=>se,enableCursor:()=>Mt,eventTupleToStore:()=>Yi,filterEventStoreDefs:()=>la,filterHash:()=>ae,findDirectChildren:()=>ce,findElements:()=>me,flexibleCompare:()=>Ve,flushSync:()=>ee,formatDate:()=>Sl,formatDayString:()=>mr,formatIsoTimeString:()=>Yr,formatRange:()=>pu,getAllowYScrolling:()=>Ey,getCanVGrowWithinCell:()=>Qs,getClippingParents:()=>us,getDateMeta:()=>pa,getDayClassNames:()=>yo,getDefaultEventEnd:()=>Ga,getElRoot:()=>Qe,getElSeg:()=>or,getEntrySpanEnd:()=>Pc,getEventClassNames:()=>at,getEventTargetViaRoot:()=>We,getIsRtlScrollbarOnLeft:()=>ga,getRectCenter:()=>gu,getRelevantEvents:()=>ki,getScrollGridClassNames:()=>uf,getScrollbarWidths:()=>vu,getSectionClassNames:()=>Ci,getSectionHasLiquidHeight:()=>Zg,getSegAnchorAttrs:()=>mo,getSegMeta:()=>ls,getSlotClassNames:()=>Wa,getStickyFooterScrollbar:()=>Kg,getStickyHeaderDates:()=>qh,getUnequalProps:()=>$t,getUniqueDomId:()=>mt,globalLocales:()=>Vr,globalPlugins:()=>Nc,greatestDurationDenominator:()=>On,groupIntersectingEntries:()=>Ou,guid:()=>en,hasBgRendering:()=>It,hasShrinkWidth:()=>$g,identity:()=>tt,interactionSettingsStore:()=>Vu,interactionSettingsToStore:()=>rf,intersectRanges:()=>Ws,intersectRects:()=>Ih,intersectSpans:()=>Rs,isArraysEqual:()=>Ei,isColPropsEqual:()=>Uc,isDateSelectionValid:()=>jl,isDateSpansEqual:()=>$s,isInt:()=>Lt,isInteractionValid:()=>Uu,isMultiDayRange:()=>Qn,isPropsEqual:()=>ut,isPropsValid:()=>Ta,isValidDate:()=>ve,joinSpans:()=>to,listenBySelector:()=>fe,mapHash:()=>ge,memoize:()=>Un,memoizeArraylike:()=>Lr,memoizeHashlike:()=>_s,memoizeObjArg:()=>is,mergeEventStores:()=>ho,multiplyDuration:()=>uo,padStart:()=>lt,parseBusinessHours:()=>Th,parseClassNames:()=>zs,parseDragMeta:()=>Bh,parseEventDef:()=>po,parseFieldSpecs:()=>Dn,parseMarker:()=>ii,pointInsideRect:()=>za,preventContextMenu:()=>Gn,preventDefault:()=>Te,preventSelection:()=>jt,rangeContainsMarker:()=>we,rangeContainsRange:()=>$,rangesEqual:()=>fa,rangesIntersect:()=>K,refineEventDef:()=>Fo,refineProps:()=>Ki,removeElement:()=>F,removeExact:()=>ys,render:()=>re,renderChunkContent:()=>Ay,renderFill:()=>Cb,renderMicroColGroup:()=>es,renderScrollShim:()=>Ns,requestJson:()=>Xa,sanitizeShrinkWidth:()=>zh,setElSeg:()=>fn,setRef:()=>oi,sliceEventStore:()=>bt,sliceEvents:()=>Wo,sortEventSegs:()=>fr,startOfDay:()=>un,translateRect:()=>xl,triggerDateSelect:()=>ja,unmountComponentAtNode:()=>de,unpromisify:()=>Js,version:()=>Ry,whenTransitionDone:()=>Be,wholeDivideDurations:()=>Mn}),z(4602);var O=z(655);if("undefined"==typeof FullCalendarVDom)throw new Error("Please import the top-level fullcalendar lib before attempting to import a plugin.");var k=FullCalendarVDom.Component,G=FullCalendarVDom.createElement,re=FullCalendarVDom.render,Ce=FullCalendarVDom.createRef,Ee=FullCalendarVDom.Fragment,Me=FullCalendarVDom.createContext,De=FullCalendarVDom.createPortal,ee=FullCalendarVDom.flushSync,de=FullCalendarVDom.unmountComponentAtNode,T=function(){function h(f,p){this.context=f,this.internalEventSource=p}return h.prototype.remove=function(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})},h.prototype.refetch=function(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})},Object.defineProperty(h.prototype,"id",{get:function(){return this.internalEventSource.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"url",{get:function(){return this.internalEventSource.meta.url},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"format",{get:function(){return this.internalEventSource.meta.format},enumerable:!1,configurable:!0}),h}();function F(h){h.parentNode&&h.parentNode.removeChild(h)}function H(h,f){if(h.closest)return h.closest(f);if(!document.documentElement.contains(h))return null;do{if(se(h,f))return h;h=h.parentElement||h.parentNode}while(null!==h&&1===h.nodeType);return null}function se(h,f){return(h.matches||h.matchesSelector||h.msMatchesSelector).call(h,f)}function me(h,f){for(var p=h instanceof HTMLElement?[h]:h,v=[],A=0;A<p.length;A+=1)for(var S=p[A].querySelectorAll(f),N=0;N<S.length;N+=1)v.push(S[N]);return v}function ce(h,f){for(var p=h instanceof HTMLElement?[h]:h,v=[],A=0;A<p.length;A+=1)for(var S=p[A].children,N=0;N<S.length;N+=1){var V=S[N];(!f||se(V,f))&&v.push(V)}return v}var oe=/(top|left|right|bottom|width|height)$/i;function je(h,f){for(var p in f)Ye(h,p,f[p])}function Ye(h,f,p){h.style[f]=null==p?"":"number"==typeof p&&oe.test(f)?p+"px":p}function We(h){var f,p;return null!==(p=null===(f=h.composedPath)||void 0===f?void 0:f.call(h)[0])&&void 0!==p?p:h.target}function Qe(h){return h.getRootNode?h.getRootNode():document}var ze=0;function mt(){return"fc-dom-"+(ze+=1)}function Te(h){h.preventDefault()}function fe(h,f,p,v){var A=function Re(h,f){return function(p){var v=H(p.target,h);v&&f.call(v,p,v)}}(p,v);return h.addEventListener(f,A),function(){h.removeEventListener(f,A)}}var Oe=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function Be(h,f){var p=function(v){f(v),Oe.forEach(function(A){h.removeEventListener(A,p)})};Oe.forEach(function(v){h.addEventListener(v,p)})}function Xe(h){return(0,O.__assign)({onClick:h},Ne(h))}function Ne(h){return{tabIndex:0,onKeyDown:function(f){("Enter"===f.key||" "===f.key)&&(h(f),f.preventDefault())}}}var Kt=0;function en(){return String(Kt+=1)}function tr(){document.body.classList.add("fc-not-allowed")}function Mt(){document.body.classList.remove("fc-not-allowed")}function jt(h){h.classList.add("fc-unselectable"),h.addEventListener("selectstart",Te)}function Yn(h){h.classList.remove("fc-unselectable"),h.removeEventListener("selectstart",Te)}function Gn(h){h.addEventListener("contextmenu",Te)}function wr(h){h.removeEventListener("contextmenu",Te)}function Dn(h){var v,A,f=[],p=[];for("string"==typeof h?p=h.split(/\s*,\s*/):"function"==typeof h?p=[h]:Array.isArray(h)&&(p=h),v=0;v<p.length;v+=1)"string"==typeof(A=p[v])?f.push("-"===A.charAt(0)?{field:A.substring(1),order:-1}:{field:A,order:1}):"function"==typeof A&&f.push({func:A});return f}function Ae(h,f,p){var v,A;for(v=0;v<p.length;v+=1)if(A=_e(h,f,p[v]))return A;return 0}function _e(h,f,p){return p.func?p.func(h,f):Ve(h[p.field],f[p.field])*(p.order||1)}function Ve(h,f){return h||f?null==f?-1:null==h?1:"string"==typeof h||"string"==typeof f?String(h).localeCompare(String(f)):h-f:0}function lt(h,f){var p=String(h);return"000".substr(0,f-p.length)+p}function Dt(h,f,p){return"function"==typeof h?h.apply(void 0,f):"string"==typeof h?f.reduce(function(v,A,S){return v.replace("$"+S,A||"")},h):p}function Ze(h,f){return h-f}function Lt(h){return h%1==0}function ln(h){var f=h.querySelector(".fc-scrollgrid-shrink-frame"),p=h.querySelector(".fc-scrollgrid-shrink-cushion");if(!f)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!p)throw new Error("needs fc-scrollgrid-shrink-cushion className");return h.getBoundingClientRect().width-f.getBoundingClientRect().width+p.getBoundingClientRect().width}var yn=["sun","mon","tue","wed","thu","fri","sat"];function mn(h,f){var p=In(h);return p[2]+=7*f,ue(p)}function $e(h,f){var p=In(h);return p[2]+=f,ue(p)}function Tt(h,f){var p=In(h);return p[6]+=f,ue(p)}function tn(h,f){return vt(h,f)/7}function vt(h,f){return(f.valueOf()-h.valueOf())/864e5}function Rn(h,f){var p=un(h),v=un(f);return{years:0,months:0,days:Math.round(vt(p,v)),milliseconds:f.valueOf()-v.valueOf()-(h.valueOf()-p.valueOf())}}function Tn(h,f){var p=Zn(h,f);return null!==p&&p%7==0?p/7:null}function Zn(h,f){return B(h)===B(f)?Math.round(vt(h,f)):null}function un(h){return ue([h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()])}function Or(h,f,p,v){var A=ue([f,0,1+En(f,p,v)]),S=un(h),N=Math.round(vt(A,S));return Math.floor(N/7)+1}function En(h,f,p){var v=7+f-p;return-(7+ue([h,0,v]).getUTCDay()-f)%7+v-1}function Cr(h){return[h.getFullYear(),h.getMonth(),h.getDate(),h.getHours(),h.getMinutes(),h.getSeconds(),h.getMilliseconds()]}function ir(h){return new Date(h[0],h[1]||0,null==h[2]?1:h[2],h[3]||0,h[4]||0,h[5]||0)}function In(h){return[h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate(),h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()]}function ue(h){return 1===h.length&&(h=h.concat([0])),new Date(Date.UTC.apply(Date,h))}function ve(h){return!isNaN(h.valueOf())}function B(h){return 1e3*h.getUTCHours()*60*60+1e3*h.getUTCMinutes()*60+1e3*h.getUTCSeconds()+h.getUTCMilliseconds()}function J(h,f,p,v){return{instanceId:en(),defId:h,range:f,forcedStartTzo:null==p?null:p,forcedEndTzo:null==v?null:v}}var W=Object.prototype.hasOwnProperty;function le(h,f){var p={};if(f)for(var v in f){for(var A=[],S=h.length-1;S>=0;S-=1){var N=h[S][v];if("object"==typeof N&&N)A.unshift(N);else if(void 0!==N){p[v]=N;break}}A.length&&(p[v]=le(A))}for(S=h.length-1;S>=0;S-=1){var V=h[S];for(var q in V)q in p||(p[q]=V[q])}return p}function ae(h,f){var p={};for(var v in h)f(h[v],v)&&(p[v]=h[v]);return p}function ge(h,f){var p={};for(var v in h)p[v]=f(h[v],v);return p}function Pe(h){for(var f={},p=0,v=h;p<v.length;p++)f[v[p]]=!0;return f}function st(h,f){for(var p={},v=0;v<h.length;v+=1){var A=f(h[v],v);p[A[0]]=A[1]}return p}function pt(h){var f=[];for(var p in h)f.push(h[p]);return f}function ut(h,f){if(h===f)return!0;for(var p in h)if(W.call(h,p)&&!(p in f))return!1;for(var p in f)if(W.call(f,p)&&h[p]!==f[p])return!1;return!0}function $t(h,f){var p=[];for(var v in h)W.call(h,v)&&(v in f||p.push(v));for(var v in f)W.call(f,v)&&h[v]!==f[v]&&p.push(v);return p}function Ie(h,f,p){if(void 0===p&&(p={}),h===f)return!0;for(var v in f)if(!(v in h)||!pe(h[v],f[v],p[v]))return!1;for(var v in h)if(!(v in f))return!1;return!0}function pe(h,f,p){return h===f||!0===p||!!p&&p(h,f)}function he(h,f,p,v){void 0===f&&(f=0),void 0===v&&(v=1);var A=[];null==p&&(p=Object.keys(h).length);for(var S=f;S<p;S+=v){var N=h[S];void 0!==N&&A.push(N)}return A}function Et(h,f,p){var v=p.dateEnv,A=p.pluginHooks,S=p.options,N=h.defs,V=h.instances;for(var q in V=ae(V,function(cn){return!N[cn.defId].recurringDef}),N){var X=N[q];if(X.recurringDef){var ke=X.recurringDef.duration;ke||(ke=X.allDay?S.defaultAllDayEventDuration:S.defaultTimedEventDuration);for(var dt=0,yt=qt(X,ke,f,v,A.recurringTypes);dt<yt.length;dt++){var wt=yt[dt],Xt=J(q,{start:wt,end:v.add(wt,ke)});V[Xt.instanceId]=Xt}}}return{defs:N,instances:V}}function qt(h,f,p,v,A){var N=A[h.recurringDef.typeId].expand(h.recurringDef.typeData,{start:v.subtract(p.start,f),end:p.end},v);return h.allDay&&(N=N.map(un)),N}var an=["years","months","days","milliseconds"],Vn=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function Bt(h,f){var p;return"string"==typeof h?function yr(h){var f=Vn.exec(h);if(f){var p=f[1]?-1:1;return{years:0,months:0,days:p*(f[2]?parseInt(f[2],10):0),milliseconds:p*(60*(f[3]?parseInt(f[3],10):0)*60*1e3+60*(f[4]?parseInt(f[4],10):0)*1e3+1e3*(f[5]?parseInt(f[5],10):0)+(f[6]?parseInt(f[6],10):0))}}return null}(h):"object"==typeof h&&h?Br(h):"number"==typeof h?Br(((p={})[f||"milliseconds"]=h,p)):null}function Br(h){var f={years:h.years||h.year||0,months:h.months||h.month||0,days:h.days||h.day||0,milliseconds:60*(h.hours||h.hour||0)*60*1e3+60*(h.minutes||h.minute||0)*1e3+1e3*(h.seconds||h.second||0)+(h.milliseconds||h.millisecond||h.ms||0)},p=h.weeks||h.week;return p&&(f.days+=7*p,f.specifiedWeeks=!0),f}function Dr(h){return h.years||h.months||h.milliseconds?0:h.days}function di(h,f){return{years:h.years+f.years,months:h.months+f.months,days:h.days+f.days,milliseconds:h.milliseconds+f.milliseconds}}function uo(h,f){return{years:h.years*f,months:h.months*f,days:h.days*f,milliseconds:h.milliseconds*f}}function ye(h){return Gt(h)/864e5}function He(h){return Gt(h)/6e4}function ct(h){return Gt(h)/1e3}function Gt(h){return 31536e6*h.years+2592e6*h.months+864e5*h.days+h.milliseconds}function Mn(h,f){for(var p=null,v=0;v<an.length;v+=1){var A=an[v];if(f[A]){var S=h[A]/f[A];if(!Lt(S)||null!==p&&p!==S)return null;p=S}else if(h[A])return null}return p}function On(h){var f=h.milliseconds;if(f){if(f%1e3!=0)return{unit:"millisecond",value:f};if(f%6e4!=0)return{unit:"second",value:f/1e3};if(f%36e5!=0)return{unit:"minute",value:f/6e4};if(f)return{unit:"hour",value:f/36e5}}return h.days?h.specifiedWeeks&&h.days%7==0?{unit:"week",value:h.days/7}:{unit:"day",value:h.days}:h.months?{unit:"month",value:h.months}:h.years?{unit:"year",value:h.years}:{unit:"millisecond",value:0}}function Sn(h,f,p){void 0===p&&(p=!1);var v=h.toISOString();return v=v.replace(".000",""),p&&(v=v.replace("T00:00:00Z","")),v.length>10&&(null==f?v=v.replace("Z",""):0!==f&&(v=v.replace("Z",sn(f,!0)))),v}function mr(h){return h.toISOString().replace(/T.*$/,"")}function Yr(h){return lt(h.getUTCHours(),2)+":"+lt(h.getUTCMinutes(),2)+":"+lt(h.getUTCSeconds(),2)}function sn(h,f){void 0===f&&(f=!1);var p=h<0?"-":"+",v=Math.abs(h),A=Math.floor(v/60),S=Math.round(v%60);return f?p+lt(A,2)+":"+lt(S,2):"GMT"+p+A+(S?":"+lt(S,2):"")}function ys(h,f){for(var p=0,v=0;v<h.length;)h[v]===f?(h.splice(v,1),p+=1):v+=1;return p}function Ei(h,f,p){if(h===f)return!0;var A,v=h.length;if(v!==f.length)return!1;for(A=0;A<v;A+=1)if(!(p?p(h[A],f[A]):h[A]===f[A]))return!1;return!0}function Un(h,f,p){var v,A;return function(){for(var S=[],N=0;N<arguments.length;N++)S[N]=arguments[N];if(v){if(!Ei(v,S)){p&&p(A);var V=h.apply(this,S);(!f||!f(V,A))&&(A=V)}}else A=h.apply(this,S);return v=S,A}}function is(h,f,p){var A,S,v=this;return function(N){if(A){if(!ut(A,N)){p&&p(S);var V=h.call(v,N);(!f||!f(V,S))&&(S=V)}}else S=h.call(v,N);return A=N,S}}function Lr(h,f,p){var v=this,A=[],S=[];return function(N){for(var V=A.length,q=N.length,X=0;X<V;X+=1)if(N[X]){if(!Ei(A[X],N[X])){p&&p(S[X]);var ke=h.apply(v,N[X]);(!f||!f(ke,S[X]))&&(S[X]=ke)}}else p&&p(S[X]);for(;X<q;X+=1)S[X]=h.apply(v,N[X]);return A=N,S.splice(q),S}}function _s(h,f,p){var v=this,A={},S={};return function(N){var V={};for(var q in N)if(S[q])if(Ei(A[q],N[q]))V[q]=S[q];else{p&&p(S[q]);var X=h.apply(v,N[q]);V[q]=f&&f(X,S[q])?S[q]:X}else V[q]=h.apply(v,N[q]);return A=N,S=V,V}}var bs={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},vr={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},er=/\s*([ap])\.?m\.?/i,La=/,/g,ra=/\s+/g,fi=/\u200e/g,hi=/UTC|GMT/,ia=function(){function h(f){var p={},v={},A=0;for(var S in f)S in bs?(v[S]=f[S],A=Math.max(bs[S],A)):(p[S]=f[S],S in vr&&(A=Math.max(vr[S],A)));this.standardDateProps=p,this.extendedSettings=v,this.severity=A,this.buildFormattingFunc=Un(Po)}return h.prototype.format=function(f,p){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,p)(f)},h.prototype.formatRange=function(f,p,v,A){var N=this.standardDateProps,V=this.extendedSettings,q=function Rr(h,f,p){return p.getMarkerYear(h)!==p.getMarkerYear(f)?5:p.getMarkerMonth(h)!==p.getMarkerMonth(f)?4:p.getMarkerDay(h)!==p.getMarkerDay(f)?2:B(h)!==B(f)?1:0}(f.marker,p.marker,v.calendarSystem);if(!q)return this.format(f,v);var X=q;X>1&&("numeric"===N.year||"2-digit"===N.year)&&("numeric"===N.month||"2-digit"===N.month)&&("numeric"===N.day||"2-digit"===N.day)&&(X=1);var ke=this.format(f,v),Ue=this.format(p,v);if(ke===Ue)return ke;var dt=function lu(h,f){var p={};for(var v in h)(!(v in vr)||vr[v]<=f)&&(p[v]=h[v]);return p}(N,X),yt=Po(dt,V,v),wt=yt(f),Xt=yt(p),cn=function Td(h,f,p,v){for(var A=0;A<h.length;){var S=h.indexOf(f,A);if(-1===S)break;for(var N=h.substr(0,S),V=h.substr(A=S+f.length),q=0;q<p.length;){var X=p.indexOf(v,q);if(-1===X)break;var ke=p.substr(0,X),Ue=p.substr(q=X+v.length);if(N===ke&&V===Ue)return{before:N,after:V}}}return null}(ke,wt,Ue,Xt),Pt=V.separator||A||v.defaultSeparator||"";return cn?cn.before+wt+Pt+Xt+cn.after:ke+Pt+Ue},h.prototype.getLargestUnit=function(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}},h}();function Po(h,f,p){var v=Object.keys(h).length;return 1===v&&"short"===h.timeZoneName?function(A){return sn(A.timeZoneOffset)}:0===v&&f.week?function(A){return function oa(h,f,p,v,A){var S=[];return"long"===A?S.push(p):("short"===A||"narrow"===A)&&S.push(f),("long"===A||"short"===A)&&S.push(" "),S.push(v.simpleNumberFormat.format(h)),"rtl"===v.options.direction&&S.reverse(),S.join("")}(p.computeWeekNumber(A.marker),p.weekText,p.weekTextLong,p.locale,f.week)}:function co(h,f,p){h=(0,O.__assign)({},h),f=(0,O.__assign)({},f),function Ai(h,f){h.timeZoneName&&(h.hour||(h.hour="2-digit"),h.minute||(h.minute="2-digit")),"long"===h.timeZoneName&&(h.timeZoneName="short"),f.omitZeroMinute&&(h.second||h.millisecond)&&delete f.omitZeroMinute}(h,f),h.timeZone="UTC";var A,v=new Intl.DateTimeFormat(p.locale.codes,h);if(f.omitZeroMinute){var S=(0,O.__assign)({},h);delete S.minute,A=new Intl.DateTimeFormat(p.locale.codes,S)}return function(N){var V=N.marker;return function hc(h,f,p,v,A){return h=h.replace(fi,""),"short"===p.timeZoneName&&(h=function sa(h,f){var p=!1;return h=h.replace(hi,function(){return p=!0,f}),p||(h+=" "+f),h}(h,"UTC"===A.timeZone||null==f.timeZoneOffset?"UTC":sn(f.timeZoneOffset))),v.omitCommas&&(h=h.replace(La,"").trim()),v.omitZeroMinute&&(h=h.replace(":00","")),!1===v.meridiem?h=h.replace(er,"").trim():"narrow"===v.meridiem?h=h.replace(er,function(S,N){return N.toLocaleLowerCase()}):"short"===v.meridiem?h=h.replace(er,function(S,N){return N.toLocaleLowerCase()+"m"}):"lowercase"===v.meridiem&&(h=h.replace(er,function(S){return S.toLocaleLowerCase()})),(h=h.replace(ra," ")).trim()}((A&&!V.getUTCMinutes()?A:v).format(V),N,h,f,p)}}(h,f,p)}function ss(h,f){var p=f.markerToArray(h.marker);return{marker:h.marker,timeZoneOffset:h.timeZoneOffset,array:p,year:p[0],month:p[1],day:p[2],hour:p[3],minute:p[4],second:p[5],millisecond:p[6]}}function Va(h,f,p,v){var A=ss(h,p.calendarSystem);return{date:A,start:A,end:f?ss(f,p.calendarSystem):null,timeZone:p.timeZone,localeCodes:p.locale.codes,defaultSeparator:v||p.defaultSeparator}}var fo=function(){function h(f){this.cmdStr=f}return h.prototype.format=function(f,p,v){return p.cmdFormatter(this.cmdStr,Va(f,null,p,v))},h.prototype.formatRange=function(f,p,v,A){return v.cmdFormatter(this.cmdStr,Va(f,p,v,A))},h}(),Id=function(){function h(f){this.func=f}return h.prototype.format=function(f,p,v){return this.func(Va(f,null,p,v))},h.prototype.formatRange=function(f,p,v,A){return this.func(Va(f,p,v,A))},h}();function Tr(h){return"object"==typeof h&&h?new ia(h):"string"==typeof h?new fo(h):"function"==typeof h?new Id(h):null}var uu={navLinkDayClick:tt,navLinkWeekClick:tt,duration:Bt,bootstrapFontAwesome:tt,buttonIcons:tt,customButtons:tt,defaultAllDayEventDuration:Bt,defaultTimedEventDuration:Bt,nextDayThreshold:Bt,scrollTime:Bt,scrollTimeReset:Boolean,slotMinTime:Bt,slotMaxTime:Bt,dayPopoverFormat:Tr,slotDuration:Bt,snapDuration:Bt,headerToolbar:tt,footerToolbar:tt,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Tr,dayHeaderClassNames:tt,dayHeaderContent:tt,dayHeaderDidMount:tt,dayHeaderWillUnmount:tt,dayCellClassNames:tt,dayCellContent:tt,dayCellDidMount:tt,dayCellWillUnmount:tt,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:tt,weekNumbers:Boolean,weekNumberClassNames:tt,weekNumberContent:tt,weekNumberDidMount:tt,weekNumberWillUnmount:tt,editable:Boolean,viewClassNames:tt,viewDidMount:tt,viewWillUnmount:tt,nowIndicator:Boolean,nowIndicatorClassNames:tt,nowIndicatorContent:tt,nowIndicatorDidMount:tt,nowIndicatorWillUnmount:tt,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:tt,locale:tt,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:tt,eventOrder:Dn,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:tt,contentHeight:tt,direction:String,weekNumberFormat:Tr,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:tt,initialDate:tt,now:tt,eventDataTransform:tt,stickyHeaderDates:tt,stickyFooterScrollbar:tt,viewHeight:tt,defaultAllDay:Boolean,eventSourceFailure:tt,eventSourceSuccess:tt,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:tt,eventConstraint:tt,eventAllow:tt,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:tt,eventContent:tt,eventDidMount:tt,eventWillUnmount:tt,selectConstraint:tt,selectOverlap:tt,selectAllow:tt,droppable:Boolean,unselectCancel:String,slotLabelFormat:tt,slotLaneClassNames:tt,slotLaneContent:tt,slotLaneDidMount:tt,slotLaneWillUnmount:tt,slotLabelClassNames:tt,slotLabelContent:tt,slotLabelDidMount:tt,slotLabelWillUnmount:tt,dayMaxEvents:tt,dayMaxEventRows:tt,dayMinWidth:Number,slotLabelInterval:Bt,allDayText:String,allDayClassNames:tt,allDayContent:tt,allDayDidMount:tt,allDayWillUnmount:tt,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Tr,rerenderDelay:Number,moreLinkText:tt,moreLinkHint:tt,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:tt,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:Bt,hiddenDays:tt,monthMode:Boolean,fixedWeekCount:Boolean,validRange:tt,visibleRange:tt,titleFormat:tt,eventInteractive:Boolean,noEventsText:String,viewHint:tt,navLinkHint:tt,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:tt,moreLinkClassNames:tt,moreLinkContent:tt,moreLinkDidMount:tt,moreLinkWillUnmount:tt},Gs={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30},Sd={datesSet:tt,eventsSet:tt,eventAdd:tt,eventChange:tt,eventRemove:tt,windowResize:tt,eventClick:tt,eventMouseEnter:tt,eventMouseLeave:tt,select:tt,unselect:tt,loading:tt,_unmount:tt,_beforeprint:tt,_afterprint:tt,_noEventDrop:tt,_noEventResize:tt,_resize:tt,_scrollRequest:tt},bl={buttonText:tt,buttonHints:tt,views:tt,plugins:tt,initialEvents:tt,events:tt,eventSources:tt},El={headerToolbar:Es,footerToolbar:Es,buttonText:Es,buttonHints:Es,buttonIcons:Es};function Es(h,f){return"object"==typeof h&&"object"==typeof f&&h&&f?ut(h,f):h===f}var xd={type:String,component:tt,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:tt,usesMinMaxTime:Boolean,classNames:tt,content:tt,didMount:tt,willUnmount:tt};function Ba(h){return le(h,El)}function Ki(h,f){var p={},v={};for(var A in f)A in h&&(p[A]=f[A](h[A]));for(var A in h)A in f||(v[A]=h[A]);return{refined:p,extra:v}}function tt(h){return h}function Oo(h,f,p,v){for(var A={defs:{},instances:{}},S=os(p),N=0,V=h;N<V.length;N++){var X=ca(V[N],f,p,v,S);X&&Yi(X,A)}return A}function Yi(h,f){return void 0===f&&(f={defs:{},instances:{}}),f.defs[h.def.defId]=h.def,h.instance&&(f.instances[h.instance.instanceId]=h.instance),f}function ki(h,f){var p=h.instances[f];if(p){var v=h.defs[p.defId],A=la(h,function(S){return function aa(h,f){return Boolean(h.groupId&&h.groupId===f.groupId)}(v,S)});return A.defs[v.defId]=v,A.instances[p.instanceId]=p,A}return{defs:{},instances:{}}}function pi(){return{defs:{},instances:{}}}function ho(h,f){return{defs:(0,O.__assign)((0,O.__assign)({},h.defs),f.defs),instances:(0,O.__assign)((0,O.__assign)({},h.instances),f.instances)}}function la(h,f){var p=ae(h.defs,f),v=ae(h.instances,function(A){return p[A.defId]});return{defs:p,instances:v}}function zs(h){return Array.isArray(h)?h:"string"==typeof h?h.split(/\s+/):[]}var As={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:tt,overlap:tt,allow:tt,className:zs,classNames:zs,color:String,backgroundColor:String,borderColor:String,textColor:String},ua={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function qs(h,f){var p=function Qi(h,f){return Array.isArray(h)?Oo(h,null,f,!0):"object"==typeof h&&h?Oo([h],null,f,!0):null!=h?String(h):null}(h.constraint,f);return{display:h.display||null,startEditable:null!=h.startEditable?h.startEditable:h.editable,durationEditable:null!=h.durationEditable?h.durationEditable:h.editable,constraints:null!=p?[p]:[],overlap:null!=h.overlap?h.overlap:null,allows:null!=h.allow?[h.allow]:[],backgroundColor:h.backgroundColor||h.color||"",borderColor:h.borderColor||h.color||"",textColor:h.textColor||"",classNames:(h.className||[]).concat(h.classNames||[])}}function Ur(h){return h.reduce(jr,ua)}function jr(h,f){return{display:null!=f.display?f.display:h.display,startEditable:null!=f.startEditable?f.startEditable:h.startEditable,durationEditable:null!=f.durationEditable?f.durationEditable:h.durationEditable,constraints:h.constraints.concat(f.constraints),overlap:"boolean"==typeof f.overlap?f.overlap:h.overlap,allows:h.allows.concat(f.allows),backgroundColor:f.backgroundColor||h.backgroundColor,borderColor:f.borderColor||h.borderColor,textColor:f.textColor||h.textColor,classNames:h.classNames.concat(f.classNames)}}var Al={id:String,groupId:String,title:String,url:String,interactive:Boolean},cu={start:tt,end:tt,date:tt,allDay:Boolean},pc=(0,O.__assign)((0,O.__assign)((0,O.__assign)({},Al),cu),{extendedProps:tt});function ca(h,f,p,v,A){void 0===A&&(A=os(p));var S=Fo(h,p,A),N=S.refined,V=S.extra,q=function gr(h,f){var p=null;return h&&(p=h.defaultAllDay),null==p&&(p=f.options.defaultAllDay),p}(f,p),X=function et(h,f,p,v){for(var A=0;A<v.length;A+=1){var S=v[A].parse(h,p);if(S){var N=h.allDay;return null==N&&null==(N=f)&&null==(N=S.allDayGuess)&&(N=!1),{allDay:N,duration:S.duration,typeData:S.typeData,typeId:A}}}return null}(N,q,p.dateEnv,p.pluginHooks.recurringTypes);if(X)return(ke=po(N,V,f?f.sourceId:"",X.allDay,Boolean(X.duration),p)).recurringDef={typeId:X.typeId,typeData:X.typeData,duration:X.duration},{def:ke,instance:null};var ke,Ue=function gc(h,f,p,v){var S,q,A=h.allDay,N=null,V=!1,X=null;if(S=p.dateEnv.createMarkerMeta(null!=h.start?h.start:h.date))N=S.marker;else if(!v)return null;return null!=h.end&&(q=p.dateEnv.createMarkerMeta(h.end)),null==A&&(A=null!=f?f:(!S||S.isTimeUnspecified)&&(!q||q.isTimeUnspecified)),A&&N&&(N=un(N)),q&&(X=q.marker,A&&(X=un(X)),N&&X<=N&&(X=null)),X?V=!0:v||(V=p.options.forceEventDuration||!1,X=p.dateEnv.add(N,A?p.options.defaultAllDayEventDuration:p.options.defaultTimedEventDuration)),{allDay:A,hasEnd:V,range:{start:N,end:X},forcedStartTzo:S?S.forcedTzo:null,forcedEndTzo:q?q.forcedTzo:null}}(N,q,p,v);return Ue?{def:ke=po(N,V,f?f.sourceId:"",Ue.allDay,Ue.hasEnd,p),instance:J(ke.defId,Ue.range,Ue.forcedStartTzo,Ue.forcedEndTzo)}:null}function Fo(h,f,p){return void 0===p&&(p=os(f)),Ki(h,p)}function os(h){return(0,O.__assign)((0,O.__assign)((0,O.__assign)({},As),pc),h.pluginHooks.eventRefiners)}function po(h,f,p,v,A,S){for(var N={title:h.title||"",groupId:h.groupId||"",publicId:h.id||"",url:h.url||"",recurringDef:null,defId:en(),sourceId:p,allDay:v,hasEnd:A,interactive:h.interactive,ui:qs(h,S),extendedProps:(0,O.__assign)((0,O.__assign)({},h.extendedProps||{}),f)},V=0,q=S.pluginHooks.eventDefMemberAdders;V<q.length;V++)(0,O.__assign)(N,(0,q[V])(h));return Object.freeze(N.ui.classNames),Object.freeze(N.extendedProps),N}function Ji(h){var f=Math.floor(vt(h.start,h.end))||1,p=un(h.start);return{start:p,end:$e(p,f)}}function ws(h,f){void 0===f&&(f=Bt(0));var p=null,v=null;if(h.end){v=un(h.end);var A=h.end.valueOf()-v.valueOf();A&&A>=Gt(f)&&(v=$e(v,1))}return h.start&&(p=un(h.start),v&&v<=p&&(v=$e(p,1))),{start:p,end:v}}function Qn(h){var f=ws(h);return vt(f.start,f.end)>1}function da(h,f,p,v){return"year"===v?Bt(p.diffWholeYears(h,f),"year"):"month"===v?Bt(p.diffWholeMonths(h,f),"month"):Rn(h,f)}function go(h,f){var A,S,p=[],v=f.start;for(h.sort(ni),A=0;A<h.length;A+=1)(S=h[A]).start>v&&p.push({start:v,end:S.start}),S.end>v&&(v=S.end);return v<f.end&&p.push({start:v,end:f.end}),p}function ni(h,f){return h.start.valueOf()-f.start.valueOf()}function Ws(h,f){var p=h.start,v=h.end,A=null;return null!==f.start&&(p=null===p?f.start:new Date(Math.max(p.valueOf(),f.start.valueOf()))),null!=f.end&&(v=null===v?f.end:new Date(Math.min(v.valueOf(),f.end.valueOf()))),(null===p||null===v||p<v)&&(A={start:p,end:v}),A}function fa(h,f){return(null===h.start?null:h.start.valueOf())===(null===f.start?null:f.start.valueOf())&&(null===h.end?null:h.end.valueOf())===(null===f.end?null:f.end.valueOf())}function K(h,f){return(null===h.end||null===f.start||h.end>f.start)&&(null===h.start||null===f.end||h.start<f.end)}function $(h,f){return(null===h.start||null!==f.start&&f.start>=h.start)&&(null===h.end||null!==f.end&&f.end<=h.end)}function we(h,f){return(null===h.start||f>=h.start)&&(null===h.end||f<h.end)}function bt(h,f,p,v){var A={},S={},N={},V=[],q=[],X=Wt(h.defs,f);for(var ke in h.defs)"inverse-background"===(dt=X[(Ue=h.defs[ke]).defId]).display&&(Ue.groupId?(A[Ue.groupId]=[],N[Ue.groupId]||(N[Ue.groupId]=Ue)):S[ke]=[]);for(var yt in h.instances){var wt=h.instances[yt],dt=X[(Ue=h.defs[wt.defId]).defId],Xt=wt.range,cn=!Ue.allDay&&v?ws(Xt,v):Xt,Pt=Ws(cn,p);Pt&&("inverse-background"===dt.display?Ue.groupId?A[Ue.groupId].push(Pt):S[wt.defId].push(Pt):"none"!==dt.display&&("background"===dt.display?V:q).push({def:Ue,ui:dt,instance:wt,range:Pt,isStart:cn.start&&cn.start.valueOf()===Pt.start.valueOf(),isEnd:cn.end&&cn.end.valueOf()===Pt.end.valueOf()}))}for(var rr in A)for(var qr=0,Wr=go(A[rr],p);qr<Wr.length;qr++){var Ue;V.push({def:Ue=N[rr],ui:dt=X[Ue.defId],instance:null,range:Wr[qr],isStart:!1,isEnd:!1})}for(var ke in S)for(var Ps=0,Os=go(S[ke],p);Ps<Os.length;Ps++)V.push({def:h.defs[ke],ui:X[ke],instance:null,range:Os[Ps],isStart:!1,isEnd:!1});return{bg:V,fg:q}}function It(h){return"background"===h.ui.display||"inverse-background"===h.ui.display}function fn(h,f){h.fcSeg=f}function or(h){return h.fcSeg||h.parentNode.fcSeg||null}function Wt(h,f){return ge(h,function(p){return lr(p,f)})}function lr(h,f){var p=[];return f[""]&&p.push(f[""]),f[h.defId]&&p.push(f[h.defId]),p.push(h.ui),Ur(p)}function fr(h,f){var p=h.map(Fn);return p.sort(function(v,A){return Ae(v,A,f)}),p.map(function(v){return v._seg})}function Fn(h){var f=h.eventRange,p=f.def,v=f.instance?f.instance.range:f.range,A=v.start?v.start.valueOf():0,S=v.end?v.end.valueOf():0;return(0,O.__assign)((0,O.__assign)((0,O.__assign)({},p.extendedProps),p),{id:p.publicId,start:A,end:S,duration:S-A,allDay:Number(p.allDay),_seg:h})}function as(h,f){for(var A=h.eventRange,S=A.def,N=A.ui,V=N.startEditable,q=0,X=f.pluginHooks.isDraggableTransformers;q<X.length;q++)V=(0,X[q])(V,S,N,f);return V}function Cs(h,f){return h.isStart&&h.eventRange.ui.durationEditable&&f.options.eventResizableFromStart}function Zs(h,f){return h.isEnd&&h.eventRange.ui.durationEditable}function Ha(h,f,p,v,A,S,N){var V=p.dateEnv,q=p.options,X=q.displayEventTime,ke=q.displayEventEnd,Ue=h.eventRange.def,dt=h.eventRange.instance;null==X&&(X=!1!==v),null==ke&&(ke=!1!==A);var yt=dt.range.start,wt=dt.range.end,Xt=S||h.start||h.eventRange.range.start,cn=N||h.end||h.eventRange.range.end,Pt=un(yt).valueOf()===un(Xt).valueOf(),rr=un(Tt(wt,-1)).valueOf()===un(Tt(cn,-1)).valueOf();return X&&!Ue.allDay&&(Pt||rr)?(Xt=Pt?yt:Xt,cn=rr?wt:cn,ke&&Ue.hasEnd?V.formatRange(Xt,cn,f,{forcedStartTzo:S?null:dt.forcedStartTzo,forcedEndTzo:N?null:dt.forcedEndTzo}):V.format(Xt,f,{forcedTzo:S?null:dt.forcedStartTzo})):""}function ls(h,f,p){var v=h.eventRange.range;return{isPast:v.end<(p||f.start),isFuture:v.start>=(p||f.end),isToday:f&&we(f,v.start)}}function at(h){var f=["fc-event"];return h.isMirror&&f.push("fc-event-mirror"),h.isDraggable&&f.push("fc-event-draggable"),(h.isStartResizable||h.isEndResizable)&&f.push("fc-event-resizable"),h.isDragging&&f.push("fc-event-dragging"),h.isResizing&&f.push("fc-event-resizing"),h.isSelected&&f.push("fc-event-selected"),h.isStart&&f.push("fc-event-start"),h.isEnd&&f.push("fc-event-end"),h.isPast&&f.push("fc-event-past"),h.isToday&&f.push("fc-event-today"),h.isFuture&&f.push("fc-event-future"),f}function Nn(h){return h.instance?h.instance.instanceId:h.def.defId+":"+h.range.start.toISOString()}function mo(h,f){var p=h.eventRange,v=p.def,A=p.instance,S=v.url;if(S)return{href:S};var N=f.emitter,q=f.options.eventInteractive;return null==q&&null==(q=v.interactive)&&(q=Boolean(N.hasHandlers("eventClick"))),q?Ne(function(X){N.trigger("eventClick",{el:X.target,event:new Gr(f,v,A),jsEvent:X,view:f.viewApi})}):{}}var Ir={start:tt,end:tt,allDay:Boolean};function $s(h,f){return fa(h.range,f.range)&&h.allDay===f.allDay&&function mc(h,f){for(var p in f)if("range"!==p&&"allDay"!==p&&h[p]!==f[p])return!1;for(var p in h)if(!(p in f))return!1;return!0}(h,f)}function kd(h,f,p){return(0,O.__assign)((0,O.__assign)({},Nd(h,f,p)),{timeZone:f.timeZone})}function Nd(h,f,p){return{start:f.toDate(h.start),end:f.toDate(h.end),startStr:f.formatIso(h.start,{omitTime:p}),endStr:f.formatIso(h.end,{omitTime:p})}}function Pd(h,f,p){var v=Fo({editable:!1},p),A=po(v.refined,v.extra,"",h.allDay,!0,p);return{def:A,ui:lr(A,f),instance:J(A.defId,h.range),range:h.range,isStart:!0,isEnd:!0}}function ja(h,f,p){p.emitter.trigger("select",(0,O.__assign)((0,O.__assign)({},Ds(h,p)),{jsEvent:f?f.origEvent:null,view:p.viewApi||p.calendarApi.view}))}function Ds(h,f){for(var p={},v=0,A=f.pluginHooks.dateSpanTransforms;v<A.length;v++)(0,O.__assign)(p,(0,A[v])(h,f));return(0,O.__assign)(p,function wl(h,f){return(0,O.__assign)((0,O.__assign)({},Nd(h.range,f,h.allDay)),{allDay:h.allDay})}(h,f.dateEnv)),p}function Ga(h,f,p){var v=p.dateEnv,A=p.options,S=f;return h?(S=un(S),S=v.add(S,A.defaultAllDayEventDuration)):S=v.add(S,A.defaultTimedEventDuration),S}function ha(h,f,p,v){var A=Wt(h.defs,f),S={defs:{},instances:{}};for(var N in h.defs)S.defs[N]=Ts(h.defs[N],A[N],p,v);for(var q in h.instances){var X=h.instances[q];S.instances[q]=_h(X,S.defs[X.defId],A[X.defId],p,v)}return S}function Ts(h,f,p,v){var A=p.standardProps||{};null==A.hasEnd&&f.durationEditable&&(p.startDelta||p.endDelta)&&(A.hasEnd=!0);var S=(0,O.__assign)((0,O.__assign)((0,O.__assign)({},h),A),{ui:(0,O.__assign)((0,O.__assign)({},h.ui),A.ui)});p.extendedProps&&(S.extendedProps=(0,O.__assign)((0,O.__assign)({},S.extendedProps),p.extendedProps));for(var N=0,V=v.pluginHooks.eventDefMutationAppliers;N<V.length;N++)(0,V[N])(S,p,v);return!S.hasEnd&&v.options.forceEventDuration&&(S.hasEnd=!0),S}function _h(h,f,p,v,A){var S=A.dateEnv,N=v.standardProps&&!0===v.standardProps.allDay,V=v.standardProps&&!1===v.standardProps.hasEnd,q=(0,O.__assign)({},h);return N&&(q.range=Ji(q.range)),v.datesDelta&&p.startEditable&&(q.range={start:S.add(q.range.start,v.datesDelta),end:S.add(q.range.end,v.datesDelta)}),v.startDelta&&p.durationEditable&&(q.range={start:S.add(q.range.start,v.startDelta),end:q.range.end}),v.endDelta&&p.durationEditable&&(q.range={start:q.range.start,end:S.add(q.range.end,v.endDelta)}),V&&(q.range={start:q.range.start,end:Ga(f.allDay,q.range.start,A)}),f.allDay&&(q.range={start:un(q.range.start),end:un(q.range.end)}),q.range.end<q.range.start&&(q.range.end=Ga(f.allDay,q.range.start,A)),q}var Cl=function(){function h(f,p,v){this.type=f,this.getCurrentData=p,this.dateEnv=v}return Object.defineProperty(h.prototype,"calendar",{get:function(){return this.getCurrentData().calendarApi},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"title",{get:function(){return this.getCurrentData().viewTitle},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"activeStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"activeEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"currentStart",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"currentEnd",{get:function(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)},enumerable:!1,configurable:!0}),h.prototype.getOption=function(f){return this.getCurrentData().options[f]},h}(),bh={id:String,defaultAllDay:Boolean,url:String,format:String,events:tt,eventDataTransform:tt,success:tt,failure:tt};function du(h,f,p){var v;if(void 0===p&&(p=Dl(f)),"string"==typeof h?v={url:h}:"function"==typeof h||Array.isArray(h)?v={events:h}:"object"==typeof h&&h&&(v=h),v){var A=Ki(v,p),S=A.refined,N=A.extra,V=function fu(h,f){for(var p=f.pluginHooks.eventSourceDefs,v=p.length-1;v>=0;v-=1){var S=p[v].parseMeta(h);if(S)return{sourceDefId:v,meta:S}}return null}(S,f);if(V)return{_raw:h,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:S.defaultAllDay,eventDataTransform:S.eventDataTransform,success:S.success,failure:S.failure,publicId:S.id||"",sourceId:en(),sourceDefId:V.sourceDefId,meta:V.meta,ui:qs(S,f),extendedProps:N}}return null}function Dl(h){return(0,O.__assign)((0,O.__assign)((0,O.__assign)({},As),bh),h.pluginHooks.eventSourceRefiners)}function Tl(h,f){return"function"==typeof h&&(h=h()),null==h?f.createNowMarker():f.createMarker(h)}var hu=function(){function h(){}return h.prototype.getCurrentData=function(){return this.currentDataManager.getCurrentData()},h.prototype.dispatch=function(f){return this.currentDataManager.dispatch(f)},Object.defineProperty(h.prototype,"view",{get:function(){return this.getCurrentData().viewApi},enumerable:!1,configurable:!0}),h.prototype.batchRendering=function(f){f()},h.prototype.updateSize=function(){this.trigger("_resize",!0)},h.prototype.setOption=function(f,p){this.dispatch({type:"SET_OPTION",optionName:f,rawOptionValue:p})},h.prototype.getOption=function(f){return this.currentDataManager.currentCalendarOptionsInput[f]},h.prototype.getAvailableLocaleCodes=function(){return Object.keys(this.getCurrentData().availableRawLocales)},h.prototype.on=function(f,p){var v=this.currentDataManager;v.currentCalendarOptionsRefiners[f]?v.emitter.on(f,p):console.warn("Unknown listener name '"+f+"'")},h.prototype.off=function(f,p){this.currentDataManager.emitter.off(f,p)},h.prototype.trigger=function(f){for(var p,v=[],A=1;A<arguments.length;A++)v[A-1]=arguments[A];(p=this.currentDataManager.emitter).trigger.apply(p,(0,O.__spreadArray)([f],v))},h.prototype.changeView=function(f,p){var v=this;this.batchRendering(function(){if(v.unselect(),p)if(p.start&&p.end)v.dispatch({type:"CHANGE_VIEW_TYPE",viewType:f}),v.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:p});else{var A=v.getCurrentData().dateEnv;v.dispatch({type:"CHANGE_VIEW_TYPE",viewType:f,dateMarker:A.createMarker(p)})}else v.dispatch({type:"CHANGE_VIEW_TYPE",viewType:f})})},h.prototype.zoomTo=function(f,p){var A;A=this.getCurrentData().viewSpecs[p=p||"day"]||this.getUnitViewSpec(p),this.unselect(),this.dispatch(A?{type:"CHANGE_VIEW_TYPE",viewType:A.type,dateMarker:f}:{type:"CHANGE_DATE",dateMarker:f})},h.prototype.getUnitViewSpec=function(f){var N,V,p=this.getCurrentData(),v=p.viewSpecs,A=p.toolbarConfig,S=[].concat(A.header?A.header.viewsWithButtons:[],A.footer?A.footer.viewsWithButtons:[]);for(var q in v)S.push(q);for(N=0;N<S.length;N+=1)if((V=v[S[N]])&&V.singleUnit===f)return V;return null},h.prototype.prev=function(){this.unselect(),this.dispatch({type:"PREV"})},h.prototype.next=function(){this.unselect(),this.dispatch({type:"NEXT"})},h.prototype.prevYear=function(){var f=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:f.dateEnv.addYears(f.currentDate,-1)})},h.prototype.nextYear=function(){var f=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:f.dateEnv.addYears(f.currentDate,1)})},h.prototype.today=function(){var f=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:Tl(f.calendarOptions.now,f.dateEnv)})},h.prototype.gotoDate=function(f){var p=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:p.dateEnv.createMarker(f)})},h.prototype.incrementDate=function(f){var p=this.getCurrentData(),v=Bt(f);v&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:p.dateEnv.add(p.currentDate,v)}))},h.prototype.getDate=function(){var f=this.getCurrentData();return f.dateEnv.toDate(f.currentDate)},h.prototype.formatDate=function(f,p){var v=this.getCurrentData().dateEnv;return v.format(v.createMarker(f),Tr(p))},h.prototype.formatRange=function(f,p,v){var A=this.getCurrentData().dateEnv;return A.formatRange(A.createMarker(f),A.createMarker(p),Tr(v),v)},h.prototype.formatIso=function(f,p){var v=this.getCurrentData().dateEnv;return v.formatIso(v.createMarker(f),{omitTime:p})},h.prototype.select=function(f,p){var v;v=null==p?null!=f.start?f:{start:f,end:null}:{start:f,end:p};var A=this.getCurrentData(),S=function Rd(h,f,p){var v=function Lo(h,f){var p=Ki(h,Ir),v=p.refined,A=p.extra,S=v.start?f.createMarkerMeta(v.start):null,N=v.end?f.createMarkerMeta(v.end):null,V=v.allDay;return null==V&&(V=S&&S.isTimeUnspecified&&(!N||N.isTimeUnspecified)),(0,O.__assign)({range:{start:S?S.marker:null,end:N?N.marker:null},allDay:V},A)}(h,f),A=v.range;if(!A.start)return null;if(!A.end){if(null==p)return null;A.end=f.add(A.start,p)}return v}(v,A.dateEnv,Bt({days:1}));S&&(this.dispatch({type:"SELECT_DATES",selection:S}),ja(S,null,A))},h.prototype.unselect=function(f){var p=this.getCurrentData();p.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),function ri(h,f){f.emitter.trigger("unselect",{jsEvent:h?h.origEvent:null,view:f.viewApi||f.calendarApi.view})}(f,p))},h.prototype.addEvent=function(f,p){if(f instanceof Gr){var v=f._def,A=f._instance;return this.getCurrentData().eventStore.defs[v.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Yi({def:v,instance:A})}),this.triggerEventAdd(f)),f}var V,N=this.getCurrentData();if(p instanceof T)V=p.internalEventSource;else if("boolean"==typeof p)p&&(V=pt(N.eventSources)[0]);else if(null!=p){var q=this.getEventSourceById(p);if(!q)return console.warn('Could not find an event source with ID "'+p+'"'),null;V=q.internalEventSource}var X=ca(f,V,N,!1);if(X){var ke=new Gr(N,X.def,X.def.recurringDef?null:X.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Yi(X)}),this.triggerEventAdd(ke),ke}return null},h.prototype.triggerEventAdd=function(f){var p=this;this.getCurrentData().emitter.trigger("eventAdd",{event:f,relatedEvents:[],revert:function(){p.dispatch({type:"REMOVE_EVENTS",eventStore:Vo(f)})}})},h.prototype.getEventById=function(f){var p=this.getCurrentData(),v=p.eventStore,A=v.defs,S=v.instances;for(var N in f=String(f),A){var V=A[N];if(V.publicId===f){if(V.recurringDef)return new Gr(p,V,null);for(var q in S){var X=S[q];if(X.defId===V.defId)return new Gr(p,V,X)}}}return null},h.prototype.getEvents=function(){var f=this.getCurrentData();return Il(f.eventStore,f)},h.prototype.removeAllEvents=function(){this.dispatch({type:"REMOVE_ALL_EVENTS"})},h.prototype.getEventSources=function(){var f=this.getCurrentData(),p=f.eventSources,v=[];for(var A in p)v.push(new T(f,p[A]));return v},h.prototype.getEventSourceById=function(f){var p=this.getCurrentData(),v=p.eventSources;for(var A in f=String(f),v)if(v[A].publicId===f)return new T(p,v[A]);return null},h.prototype.addEventSource=function(f){var p=this.getCurrentData();if(f instanceof T)return p.eventSources[f.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[f.internalEventSource]}),f;var v=du(f,p);return v?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[v]}),new T(p,v)):null},h.prototype.removeAllEventSources=function(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})},h.prototype.refetchEvents=function(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})},h.prototype.scrollToTime=function(f){var p=Bt(f);p&&this.trigger("_scrollRequest",{time:p})},h}(),Gr=function(){function h(f,p,v){this._context=f,this._def=p,this._instance=v||null}return h.prototype.setProp=function(f,p){var v,A;if(f in cu)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if("id"===f)p=Al[f](p),this.mutate({standardProps:{publicId:p}});else if(f in Al)p=Al[f](p),this.mutate({standardProps:(v={},v[f]=p,v)});else if(f in As){var S=As[f](p);"color"===f?S={backgroundColor:p,borderColor:p}:"editable"===f?S={startEditable:p,durationEditable:p}:((A={})[f]=p,S=A),this.mutate({standardProps:{ui:S}})}else console.warn("Could not set prop '"+f+"'. Use setExtendedProp instead.")},h.prototype.setExtendedProp=function(f,p){var v;this.mutate({extendedProps:(v={},v[f]=p,v)})},h.prototype.setStart=function(f,p){void 0===p&&(p={});var v=this._context.dateEnv,A=v.createMarker(f);if(A&&this._instance){var N=da(this._instance.range.start,A,v,p.granularity);this.mutate(p.maintainDuration?{datesDelta:N}:{startDelta:N})}},h.prototype.setEnd=function(f,p){void 0===p&&(p={});var A,v=this._context.dateEnv;if((null==f||(A=v.createMarker(f)))&&this._instance)if(A){var S=da(this._instance.range.end,A,v,p.granularity);this.mutate({endDelta:S})}else this.mutate({standardProps:{hasEnd:!1}})},h.prototype.setDates=function(f,p,v){void 0===v&&(v={});var V,A=this._context.dateEnv,S={allDay:v.allDay},N=A.createMarker(f);if(N&&(null==p||(V=A.createMarker(p)))&&this._instance){var q=this._instance.range;!0===v.allDay&&(q=Ji(q));var X=da(q.start,N,A,v.granularity);if(V){var ke=da(q.end,V,A,v.granularity);!function kn(h,f){return h.years===f.years&&h.months===f.months&&h.days===f.days&&h.milliseconds===f.milliseconds}(X,ke)?this.mutate({startDelta:X,endDelta:ke,standardProps:S}):this.mutate({datesDelta:X,standardProps:S})}else S.hasEnd=!1,this.mutate({datesDelta:X,standardProps:S})}},h.prototype.moveStart=function(f){var p=Bt(f);p&&this.mutate({startDelta:p})},h.prototype.moveEnd=function(f){var p=Bt(f);p&&this.mutate({endDelta:p})},h.prototype.moveDates=function(f){var p=Bt(f);p&&this.mutate({datesDelta:p})},h.prototype.setAllDay=function(f,p){void 0===p&&(p={});var v={allDay:f},A=p.maintainDuration;null==A&&(A=this._context.options.allDayMaintainDuration),this._def.allDay!==f&&(v.hasEnd=A),this.mutate({standardProps:v})},h.prototype.formatRange=function(f){var p=this._context.dateEnv,v=this._instance,A=Tr(f);return this._def.hasEnd?p.formatRange(v.range.start,v.range.end,A,{forcedStartTzo:v.forcedStartTzo,forcedEndTzo:v.forcedEndTzo}):p.format(v.range.start,A,{forcedTzo:v.forcedStartTzo})},h.prototype.mutate=function(f){var p=this._instance;if(p){var v=this._def,A=this._context,S=A.getCurrentData().eventStore,N=ki(S,p.instanceId);N=ha(N,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},f,A);var q=new h(A,v,p);this._def=N.defs[v.defId],this._instance=N.instances[p.instanceId],A.dispatch({type:"MERGE_EVENTS",eventStore:N}),A.emitter.trigger("eventChange",{oldEvent:q,event:this,relatedEvents:Il(N,A,p),revert:function(){A.dispatch({type:"RESET_EVENTS",eventStore:S})}})}},h.prototype.remove=function(){var f=this._context,p=Vo(this);f.dispatch({type:"REMOVE_EVENTS",eventStore:p}),f.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert:function(){f.dispatch({type:"MERGE_EVENTS",eventStore:p})}})},Object.defineProperty(h.prototype,"source",{get:function(){var f=this._def.sourceId;return f?new T(this._context,this._context.getCurrentData().eventSources[f]):null},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"start",{get:function(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"end",{get:function(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"startStr",{get:function(){var f=this._instance;return f?this._context.dateEnv.formatIso(f.range.start,{omitTime:this._def.allDay,forcedTzo:f.forcedStartTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"endStr",{get:function(){var f=this._instance;return f&&this._def.hasEnd?this._context.dateEnv.formatIso(f.range.end,{omitTime:this._def.allDay,forcedTzo:f.forcedEndTzo}):""},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"id",{get:function(){return this._def.publicId},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"groupId",{get:function(){return this._def.groupId},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"allDay",{get:function(){return this._def.allDay},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"title",{get:function(){return this._def.title},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"url",{get:function(){return this._def.url},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"display",{get:function(){return this._def.ui.display||"auto"},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"startEditable",{get:function(){return this._def.ui.startEditable},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"durationEditable",{get:function(){return this._def.ui.durationEditable},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"constraint",{get:function(){return this._def.ui.constraints[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"overlap",{get:function(){return this._def.ui.overlap},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"allow",{get:function(){return this._def.ui.allows[0]||null},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"backgroundColor",{get:function(){return this._def.ui.backgroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"borderColor",{get:function(){return this._def.ui.borderColor},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"textColor",{get:function(){return this._def.ui.textColor},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"classNames",{get:function(){return this._def.ui.classNames},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"extendedProps",{get:function(){return this._def.extendedProps},enumerable:!1,configurable:!0}),h.prototype.toPlainObject=function(f){void 0===f&&(f={});var p=this._def,v=p.ui,S=this.startStr,N=this.endStr,V={};return p.title&&(V.title=p.title),S&&(V.start=S),N&&(V.end=N),p.publicId&&(V.id=p.publicId),p.groupId&&(V.groupId=p.groupId),p.url&&(V.url=p.url),v.display&&"auto"!==v.display&&(V.display=v.display),f.collapseColor&&v.backgroundColor&&v.backgroundColor===v.borderColor?V.color=v.backgroundColor:(v.backgroundColor&&(V.backgroundColor=v.backgroundColor),v.borderColor&&(V.borderColor=v.borderColor)),v.textColor&&(V.textColor=v.textColor),v.classNames.length&&(V.classNames=v.classNames),Object.keys(p.extendedProps).length&&(f.collapseExtendedProps?(0,O.__assign)(V,p.extendedProps):V.extendedProps=p.extendedProps),V},h.prototype.toJSON=function(){return this.toPlainObject()},h}();function Vo(h){var f,p,v=h._def,A=h._instance;return{defs:(f={},f[v.defId]=v,f),instances:A?(p={},p[A.instanceId]=A,p):{}}}function Il(h,f,p){var v=h.defs,A=h.instances,S=[],N=p?p.instanceId:"";for(var V in A){var q=A[V];q.instanceId!==N&&S.push(new Gr(f,v[q.defId],q))}return S}var Ld={};!function vc(h,f){Ld[h]=f}("gregory",function(){function h(){}return h.prototype.getMarkerYear=function(f){return f.getUTCFullYear()},h.prototype.getMarkerMonth=function(f){return f.getUTCMonth()},h.prototype.getMarkerDay=function(f){return f.getUTCDate()},h.prototype.arrayToMarker=function(f){return ue(f)},h.prototype.markerToArray=function(f){return In(f)},h}());var Ah=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function ii(h){var f=Ah.exec(h);if(f){var p=new Date(Date.UTC(Number(f[1]),f[3]?Number(f[3])-1:0,Number(f[5]||1),Number(f[7]||0),Number(f[8]||0),Number(f[10]||0),f[12]?1e3*Number("0."+f[12]):0));if(ve(p)){var v=null;return f[13]&&(v=("-"===f[15]?-1:1)*(60*Number(f[16]||0)+Number(f[18]||0))),{marker:p,isTimeUnspecified:!f[6],timeZoneOffset:v}}}return null}var Ks=function(){function h(f){var p=this.timeZone=f.timeZone,v="local"!==p&&"UTC"!==p;f.namedTimeZoneImpl&&v&&(this.namedTimeZoneImpl=new f.namedTimeZoneImpl(p)),this.canComputeOffset=Boolean(!v||this.namedTimeZoneImpl),this.calendarSystem=function Is(h){return new Ld[h]}(f.calendarSystem),this.locale=f.locale,this.weekDow=f.locale.week.dow,this.weekDoy=f.locale.week.doy,"ISO"===f.weekNumberCalculation&&(this.weekDow=1,this.weekDoy=4),"number"==typeof f.firstDay&&(this.weekDow=f.firstDay),"function"==typeof f.weekNumberCalculation&&(this.weekNumberFunc=f.weekNumberCalculation),this.weekText=null!=f.weekText?f.weekText:f.locale.options.weekText,this.weekTextLong=(null!=f.weekTextLong?f.weekTextLong:f.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=f.cmdFormatter,this.defaultSeparator=f.defaultSeparator}return h.prototype.createMarker=function(f){var p=this.createMarkerMeta(f);return null===p?null:p.marker},h.prototype.createNowMarker=function(){return this.canComputeOffset?this.timestampToMarker((new Date).valueOf()):ue(Cr(new Date))},h.prototype.createMarkerMeta=function(f){if("string"==typeof f)return this.parse(f);var p=null;return"number"==typeof f?p=this.timestampToMarker(f):f instanceof Date?(f=f.valueOf(),isNaN(f)||(p=this.timestampToMarker(f))):Array.isArray(f)&&(p=ue(f)),null!==p&&ve(p)?{marker:p,isTimeUnspecified:!1,forcedTzo:null}:null},h.prototype.parse=function(f){var p=ii(f);if(null===p)return null;var v=p.marker,A=null;return null!==p.timeZoneOffset&&(this.canComputeOffset?v=this.timestampToMarker(v.valueOf()-60*p.timeZoneOffset*1e3):A=p.timeZoneOffset),{marker:v,isTimeUnspecified:p.isTimeUnspecified,forcedTzo:A}},h.prototype.getYear=function(f){return this.calendarSystem.getMarkerYear(f)},h.prototype.getMonth=function(f){return this.calendarSystem.getMarkerMonth(f)},h.prototype.add=function(f,p){var v=this.calendarSystem.markerToArray(f);return v[0]+=p.years,v[1]+=p.months,v[2]+=p.days,v[6]+=p.milliseconds,this.calendarSystem.arrayToMarker(v)},h.prototype.subtract=function(f,p){var v=this.calendarSystem.markerToArray(f);return v[0]-=p.years,v[1]-=p.months,v[2]-=p.days,v[6]-=p.milliseconds,this.calendarSystem.arrayToMarker(v)},h.prototype.addYears=function(f,p){var v=this.calendarSystem.markerToArray(f);return v[0]+=p,this.calendarSystem.arrayToMarker(v)},h.prototype.addMonths=function(f,p){var v=this.calendarSystem.markerToArray(f);return v[1]+=p,this.calendarSystem.arrayToMarker(v)},h.prototype.diffWholeYears=function(f,p){var v=this.calendarSystem;return B(f)===B(p)&&v.getMarkerDay(f)===v.getMarkerDay(p)&&v.getMarkerMonth(f)===v.getMarkerMonth(p)?v.getMarkerYear(p)-v.getMarkerYear(f):null},h.prototype.diffWholeMonths=function(f,p){var v=this.calendarSystem;return B(f)===B(p)&&v.getMarkerDay(f)===v.getMarkerDay(p)?v.getMarkerMonth(p)-v.getMarkerMonth(f)+12*(v.getMarkerYear(p)-v.getMarkerYear(f)):null},h.prototype.greatestWholeUnit=function(f,p){var v=this.diffWholeYears(f,p);return null!==v?{unit:"year",value:v}:null!==(v=this.diffWholeMonths(f,p))?{unit:"month",value:v}:null!==(v=Tn(f,p))?{unit:"week",value:v}:null!==(v=Zn(f,p))?{unit:"day",value:v}:(v=function Vt(h,f){return(f.valueOf()-h.valueOf())/36e5}(f,p),Lt(v)?{unit:"hour",value:v}:(v=function nr(h,f){return(f.valueOf()-h.valueOf())/6e4}(f,p),Lt(v)?{unit:"minute",value:v}:(v=function An(h,f){return(f.valueOf()-h.valueOf())/1e3}(f,p),Lt(v)?{unit:"second",value:v}:{unit:"millisecond",value:p.valueOf()-f.valueOf()})))},h.prototype.countDurationsBetween=function(f,p,v){var A;return v.years&&null!==(A=this.diffWholeYears(f,p))?A/function ti(h){return ye(h)/365}(v):v.months&&null!==(A=this.diffWholeMonths(f,p))?A/function At(h){return ye(h)/30}(v):v.days&&null!==(A=Zn(f,p))?A/ye(v):(p.valueOf()-f.valueOf())/Gt(v)},h.prototype.startOf=function(f,p){return"year"===p?this.startOfYear(f):"month"===p?this.startOfMonth(f):"week"===p?this.startOfWeek(f):"day"===p?un(f):"hour"===p?function dn(h){return ue([h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate(),h.getUTCHours()])}(f):"minute"===p?function Yt(h){return ue([h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate(),h.getUTCHours(),h.getUTCMinutes()])}(f):"second"===p?function kt(h){return ue([h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate(),h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds()])}(f):null},h.prototype.startOfYear=function(f){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(f)])},h.prototype.startOfMonth=function(f){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(f),this.calendarSystem.getMarkerMonth(f)])},h.prototype.startOfWeek=function(f){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(f),this.calendarSystem.getMarkerMonth(f),f.getUTCDate()-(f.getUTCDay()-this.weekDow+7)%7])},h.prototype.computeWeekNumber=function(f){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(f)):function $n(h,f,p){var v=h.getUTCFullYear(),A=Or(h,v,f,p);if(A<1)return Or(h,v-1,f,p);var S=Or(h,v+1,f,p);return S>=1?Math.min(A,S):A}(f,this.weekDow,this.weekDoy)},h.prototype.format=function(f,p,v){return void 0===v&&(v={}),p.format({marker:f,timeZoneOffset:null!=v.forcedTzo?v.forcedTzo:this.offsetForMarker(f)},this)},h.prototype.formatRange=function(f,p,v,A){return void 0===A&&(A={}),A.isEndExclusive&&(p=Tt(p,-1)),v.formatRange({marker:f,timeZoneOffset:null!=A.forcedStartTzo?A.forcedStartTzo:this.offsetForMarker(f)},{marker:p,timeZoneOffset:null!=A.forcedEndTzo?A.forcedEndTzo:this.offsetForMarker(p)},this,A.defaultSeparator)},h.prototype.formatIso=function(f,p){void 0===p&&(p={});var v=null;return p.omitTimeZoneOffset||(v=null!=p.forcedTzo?p.forcedTzo:this.offsetForMarker(f)),Sn(f,v,p.omitTime)},h.prototype.timestampToMarker=function(f){return"local"===this.timeZone?ue(Cr(new Date(f))):"UTC"!==this.timeZone&&this.namedTimeZoneImpl?ue(this.namedTimeZoneImpl.timestampToArray(f)):new Date(f)},h.prototype.offsetForMarker=function(f){return"local"===this.timeZone?-ir(In(f)).getTimezoneOffset():"UTC"===this.timeZone?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(In(f)):null},h.prototype.toDate=function(f,p){return"local"===this.timeZone?ir(In(f)):"UTC"===this.timeZone?new Date(f.valueOf()):this.namedTimeZoneImpl?new Date(f.valueOf()-1e3*this.namedTimeZoneImpl.offsetForArray(In(f))*60):new Date(f.valueOf()-(p||0))},h}(),Vr=[],wh={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},Vg=(0,O.__assign)((0,O.__assign)({},wh),{buttonHints:{prev:"Previous $0",next:"Next $0",today:function(h,f){return"day"===f?"Today":"This "+h}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint:function(h){return"Show "+h+" more event"+(1===h?"":"s")}});function Ch(h){for(var f=h.length>0?h[0].code:"en",p=Vr.concat(h),v={en:Vg},A=0,S=p;A<S.length;A++){var N=S[A];v[N.code]=N}return{map:v,defaultCode:f}}function Vd(h,f){return"object"!=typeof h||Array.isArray(h)?function Bg(h,f){var p=[].concat(h||[]),v=function Bd(h,f){for(var p=0;p<h.length;p+=1)for(var v=h[p].toLocaleLowerCase().split("-"),A=v.length;A>0;A-=1){var S=v.slice(0,A).join("-");if(f[S])return f[S]}return null}(p,f)||Vg;return Ys(h,p,v)}(h,f):Ys(h.code,[h.code],h)}function Ys(h,f,p){var v=le([wh,p],["buttonText"]);delete v.code;var A=v.week;return delete v.week,{codeArg:h,codes:f,week:A,simpleNumberFormat:new Intl.NumberFormat(h),options:v}}function Sl(h,f){void 0===f&&(f={});var p=yc(f),v=Tr(f),A=p.createMarkerMeta(h);return A?p.format(A.marker,v,{forcedTzo:A.forcedTzo}):""}function pu(h,f,p){var v=yc("object"==typeof p&&p?p:{}),A=Tr(p),S=v.createMarkerMeta(h),N=v.createMarkerMeta(f);return S&&N?v.formatRange(S.marker,N.marker,A,{forcedStartTzo:S.forcedTzo,forcedEndTzo:N.forcedTzo,isEndExclusive:p.isEndExclusive,defaultSeparator:Gs.defaultRangeSeparator}):""}function yc(h){var f=Vd(h.locale||"en",Ch([]).map);return new Ks((0,O.__assign)((0,O.__assign)({timeZone:Gs.timeZone,calendarSystem:"gregory"},h),{locale:f}))}var br,Dh={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function Th(h,f){return Oo(function vo(h){return(!0===h?[{}]:Array.isArray(h)?h.filter(function(p){return p.daysOfWeek}):"object"==typeof h&&h?[h]:[]).map(function(p){return(0,O.__assign)((0,O.__assign)({},Dh),p)})}(h),null,f)}function za(h,f){return h.left>=f.left&&h.left<f.right&&h.top>=f.top&&h.top<f.bottom}function Ih(h,f){var p={left:Math.max(h.left,f.left),right:Math.min(h.right,f.right),top:Math.max(h.top,f.top),bottom:Math.min(h.bottom,f.bottom)};return p.left<p.right&&p.top<p.bottom&&p}function xl(h,f,p){return{left:h.left+f,right:h.right+f,top:h.top+p,bottom:h.bottom+p}}function qa(h,f){return{left:Math.min(Math.max(h.left,f.left),f.right),top:Math.min(Math.max(h.top,f.top),f.bottom)}}function gu(h){return{left:(h.left+h.right)/2,top:(h.top+h.bottom)/2}}function Ug(h,f){return{left:h.left-f.left,top:h.top-f.top}}function Qs(){return null==br&&(br=function Sh(){if("undefined"==typeof document)return!0;var h=document.createElement("div");h.style.position="absolute",h.style.top="0px",h.style.left="0px",h.innerHTML="<table><tr><td><div></div></td></tr></table>",h.querySelector("table").style.height="100px",h.querySelector("div").style.height="100%",document.body.appendChild(h);var p=h.querySelector("div").offsetHeight>0;return document.body.removeChild(h),p}()),br}var Ml={defs:{},instances:{}},mu=function(){function h(){this.getKeysForEventDefs=Un(this._getKeysForEventDefs),this.splitDateSelection=Un(this._splitDateSpan),this.splitEventStore=Un(this._splitEventStore),this.splitIndividualUi=Un(this._splitIndividualUi),this.splitEventDrag=Un(this._splitInteraction),this.splitEventResize=Un(this._splitInteraction),this.eventUiBuilders={}}return h.prototype.splitProps=function(f){var p=this,v=this.getKeyInfo(f),A=this.getKeysForEventDefs(f.eventStore),S=this.splitDateSelection(f.dateSelection),N=this.splitIndividualUi(f.eventUiBases,A),V=this.splitEventStore(f.eventStore,A),q=this.splitEventDrag(f.eventDrag),X=this.splitEventResize(f.eventResize),ke={};for(var Ue in this.eventUiBuilders=ge(v,function(Xt,cn){return p.eventUiBuilders[cn]||Un(_c)}),v){var dt=v[Ue],yt=V[Ue]||Ml;ke[Ue]={businessHours:dt.businessHours||f.businessHours,dateSelection:S[Ue]||null,eventStore:yt,eventUiBases:(0,this.eventUiBuilders[Ue])(f.eventUiBases[""],dt.ui,N[Ue]),eventSelection:yt.instances[f.eventSelection]?f.eventSelection:"",eventDrag:q[Ue]||null,eventResize:X[Ue]||null}}return ke},h.prototype._splitDateSpan=function(f){var p={};if(f)for(var A=0,S=this.getKeysForDateSpan(f);A<S.length;A++)p[S[A]]=f;return p},h.prototype._getKeysForEventDefs=function(f){var p=this;return ge(f.defs,function(v){return p.getKeysForEventDef(v)})},h.prototype._splitEventStore=function(f,p){var v=f.defs,A=f.instances,S={};for(var N in v)for(var V=0,q=p[N];V<q.length;V++)S[X=q[V]]||(S[X]={defs:{},instances:{}}),S[X].defs[N]=v[N];for(var ke in A)for(var Ue=A[ke],dt=0,yt=p[Ue.defId];dt<yt.length;dt++){var X;S[X=yt[dt]]&&(S[X].instances[ke]=Ue)}return S},h.prototype._splitIndividualUi=function(f,p){var v={};for(var A in f)if(A)for(var S=0,N=p[A];S<N.length;S++){var V=N[S];v[V]||(v[V]={}),v[V][A]=f[A]}return v},h.prototype._splitInteraction=function(f){var p={};if(f){var v=this._splitEventStore(f.affectedEvents,this._getKeysForEventDefs(f.affectedEvents)),A=this._getKeysForEventDefs(f.mutatedEvents),S=this._splitEventStore(f.mutatedEvents,A),N=function(q){p[q]||(p[q]={affectedEvents:v[q]||Ml,mutatedEvents:S[q]||Ml,isEvent:f.isEvent})};for(var V in v)N(V);for(var V in S)N(V)}return p},h}();function _c(h,f,p){var v=[];h&&v.push(h),f&&v.push(f);var A={"":Ur(v)};return p&&(0,O.__assign)(A,p),A}function pa(h,f,p,v){return{dow:h.getUTCDay(),isDisabled:Boolean(v&&!we(v.activeRange,h)),isOther:Boolean(v&&!we(v.currentRange,h)),isToday:Boolean(f&&we(f,h)),isPast:Boolean(p?h<p:!!f&&h<f.start),isFuture:Boolean(p?h>p:!!f&&h>=f.end)}}function yo(h,f){var p=["fc-day","fc-day-"+yn[h.dow]];return h.isDisabled?p.push("fc-day-disabled"):(h.isToday&&(p.push("fc-day-today"),p.push(f.getClass("today"))),h.isPast&&p.push("fc-day-past"),h.isFuture&&p.push("fc-day-future"),h.isOther&&p.push("fc-day-other")),p}function Wa(h,f){var p=["fc-slot","fc-slot-"+yn[h.dow]];return h.isDisabled?p.push("fc-slot-disabled"):(h.isToday&&(p.push("fc-slot-today"),p.push(f.getClass("today"))),h.isPast&&p.push("fc-slot-past"),h.isFuture&&p.push("fc-slot-future")),p}var ur=Tr({year:"numeric",month:"long",day:"numeric"}),wi=Tr({week:"long"});function hn(h,f,p,v){void 0===p&&(p="day"),void 0===v&&(v=!0);var A=h.dateEnv,S=h.options,N=h.calendarApi,V=A.format(f,"week"===p?wi:ur);if(S.navLinks){var q=A.toDate(f),X=function(ke){var Ue="day"===p?S.navLinkDayClick:"week"===p?S.navLinkWeekClick:null;"function"==typeof Ue?Ue.call(N,A.toDate(f),ke):("string"==typeof Ue&&(p=Ue),N.zoomTo(f,p))};return(0,O.__assign)({title:Dt(S.navLinkHint,[V,q],V),"data-navlink":""},v?Xe(X):{onClick:X})}return{"aria-label":V}}var kl,Rl=null;function ga(){return null===Rl&&(Rl=function xh(){var h=document.createElement("div");je(h,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),h.innerHTML="<div></div>",document.body.appendChild(h);var p=h.firstChild.getBoundingClientRect().left>h.getBoundingClientRect().left;return F(h),p}()),Rl}function vu(){return kl||(kl=function Ud(){var h=document.createElement("div");h.style.overflow="scroll",h.style.position="absolute",h.style.top="-9999px",h.style.left="-9999px",document.body.appendChild(h);var f=Ss(h);return document.body.removeChild(h),f}()),kl}function Ss(h){return{x:h.offsetHeight-h.clientHeight,y:h.offsetWidth-h.clientWidth}}function gi(h,f){void 0===f&&(f=!1);var p=window.getComputedStyle(h),v=parseInt(p.borderLeftWidth,10)||0,A=parseInt(p.borderRightWidth,10)||0,S=parseInt(p.borderTopWidth,10)||0,N=parseInt(p.borderBottomWidth,10)||0,V=Ss(h),q=V.y-v-A,ke={borderLeft:v,borderRight:A,borderTop:S,borderBottom:N,scrollbarBottom:V.x-S-N,scrollbarLeft:0,scrollbarRight:0};return ga()&&"rtl"===p.direction?ke.scrollbarLeft=q:ke.scrollbarRight=q,f&&(ke.paddingLeft=parseInt(p.paddingLeft,10)||0,ke.paddingRight=parseInt(p.paddingRight,10)||0,ke.paddingTop=parseInt(p.paddingTop,10)||0,ke.paddingBottom=parseInt(p.paddingBottom,10)||0),ke}function ma(h,f,p){void 0===f&&(f=!1);var v=p?h.getBoundingClientRect():Bo(h),A=gi(h,f),S={left:v.left+A.borderLeft+A.scrollbarLeft,right:v.right-A.borderRight-A.scrollbarRight,top:v.top+A.borderTop,bottom:v.bottom-A.borderBottom-A.scrollbarBottom};return f&&(S.left+=A.paddingLeft,S.right-=A.paddingRight,S.top+=A.paddingTop,S.bottom-=A.paddingBottom),S}function Bo(h){var f=h.getBoundingClientRect();return{left:f.left+window.pageXOffset,top:f.top+window.pageYOffset,right:f.right+window.pageXOffset,bottom:f.bottom+window.pageYOffset}}function Za(h){return h.getBoundingClientRect().height+function Hd(h){var f=window.getComputedStyle(h);return parseInt(f.marginTop,10)+parseInt(f.marginBottom,10)}(h)}function us(h){for(var f=[];h instanceof HTMLElement;){var p=window.getComputedStyle(h);if("fixed"===p.position)break;/(auto|scroll)/.test(p.overflow+p.overflowY+p.overflowX)&&f.push(h),h=h.parentNode}return f}function Js(h,f,p){var v=!1,A=function(){v||(v=!0,f.apply(this,arguments))},S=function(){v||(v=!0,p&&p.apply(this,arguments))},N=h(A,S);N&&"function"==typeof N.then&&N.then(A,S)}var va=function(){function h(){this.handlers={},this.thisContext=null}return h.prototype.setThisContext=function(f){this.thisContext=f},h.prototype.setOptions=function(f){this.options=f},h.prototype.on=function(f,p){!function Qr(h,f,p){(h[f]||(h[f]=[])).push(p)}(this.handlers,f,p)},h.prototype.off=function(f,p){!function Uo(h,f,p){p?h[f]&&(h[f]=h[f].filter(function(v){return v!==p})):delete h[f]}(this.handlers,f,p)},h.prototype.trigger=function(f){for(var p=[],v=1;v<arguments.length;v++)p[v-1]=arguments[v];for(var A=this.handlers[f]||[],S=this.options&&this.options[f],N=[].concat(S||[],A),V=0,q=N;V<q.length;V++){var X=q[V];X.apply(this.thisContext,p)}},h.prototype.hasHandlers=function(f){return Boolean(this.handlers[f]&&this.handlers[f].length||this.options&&this.options[f])},h}(),Mh=function(){function h(f,p,v,A){this.els=p;var S=this.originClientRect=f.getBoundingClientRect();v&&this.buildElHorizontals(S.left),A&&this.buildElVerticals(S.top)}return h.prototype.buildElHorizontals=function(f){for(var p=[],v=[],A=0,S=this.els;A<S.length;A++){var V=S[A].getBoundingClientRect();p.push(V.left-f),v.push(V.right-f)}this.lefts=p,this.rights=v},h.prototype.buildElVerticals=function(f){for(var p=[],v=[],A=0,S=this.els;A<S.length;A++){var V=S[A].getBoundingClientRect();p.push(V.top-f),v.push(V.bottom-f)}this.tops=p,this.bottoms=v},h.prototype.leftToIndex=function(f){var N,v=this.lefts,A=this.rights,S=v.length;for(N=0;N<S;N+=1)if(f>=v[N]&&f<A[N])return N},h.prototype.topToIndex=function(f){var N,v=this.tops,A=this.bottoms,S=v.length;for(N=0;N<S;N+=1)if(f>=v[N]&&f<A[N])return N},h.prototype.getWidth=function(f){return this.rights[f]-this.lefts[f]},h.prototype.getHeight=function(f){return this.bottoms[f]-this.tops[f]},h}(),_u=function(){function h(){}return h.prototype.getMaxScrollTop=function(){return this.getScrollHeight()-this.getClientHeight()},h.prototype.getMaxScrollLeft=function(){return this.getScrollWidth()-this.getClientWidth()},h.prototype.canScrollVertically=function(){return this.getMaxScrollTop()>0},h.prototype.canScrollHorizontally=function(){return this.getMaxScrollLeft()>0},h.prototype.canScrollUp=function(){return this.getScrollTop()>0},h.prototype.canScrollDown=function(){return this.getScrollTop()<this.getMaxScrollTop()},h.prototype.canScrollLeft=function(){return this.getScrollLeft()>0},h.prototype.canScrollRight=function(){return this.getScrollLeft()<this.getMaxScrollLeft()},h}(),ya=function(h){function f(p){var v=h.call(this)||this;return v.el=p,v}return(0,O.__extends)(f,h),f.prototype.getScrollTop=function(){return this.el.scrollTop},f.prototype.getScrollLeft=function(){return this.el.scrollLeft},f.prototype.setScrollTop=function(p){this.el.scrollTop=p},f.prototype.setScrollLeft=function(p){this.el.scrollLeft=p},f.prototype.getScrollWidth=function(){return this.el.scrollWidth},f.prototype.getScrollHeight=function(){return this.el.scrollHeight},f.prototype.getClientHeight=function(){return this.el.clientHeight},f.prototype.getClientWidth=function(){return this.el.clientWidth},f}(_u),jd=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return(0,O.__extends)(f,h),f.prototype.getScrollTop=function(){return window.pageYOffset},f.prototype.getScrollLeft=function(){return window.pageXOffset},f.prototype.setScrollTop=function(p){window.scroll(window.pageXOffset,p)},f.prototype.setScrollLeft=function(p){window.scroll(p,window.pageYOffset)},f.prototype.getScrollWidth=function(){return document.documentElement.scrollWidth},f.prototype.getScrollHeight=function(){return document.documentElement.scrollHeight},f.prototype.getClientHeight=function(){return document.documentElement.clientHeight},f.prototype.getClientWidth=function(){return document.documentElement.clientWidth},f}(_u),Ho=function(){function h(f){this.iconOverrideOption&&this.setIconOverride(f[this.iconOverrideOption])}return h.prototype.setIconOverride=function(f){var p,v;if("object"==typeof f&&f){for(v in p=(0,O.__assign)({},this.iconClasses),f)p[v]=this.applyIconOverridePrefix(f[v]);this.iconClasses=p}else!1===f&&(this.iconClasses={})},h.prototype.applyIconOverridePrefix=function(f){var p=this.iconOverridePrefix;return p&&0!==f.indexOf(p)&&(f=p+f),f},h.prototype.getClass=function(f){return this.classes[f]||""},h.prototype.getIconClass=function(f,p){var v;return(v=p&&this.rtlIconClasses&&this.rtlIconClasses[f]||this.iconClasses[f])?this.baseIconClass+" "+v:""},h.prototype.getCustomButtonIconClass=function(f){var p;return this.iconOverrideCustomButtonOption&&(p=f[this.iconOverrideCustomButtonOption])?this.baseIconClass+" "+this.applyIconOverridePrefix(p):""},h}();Ho.prototype.classes={},Ho.prototype.iconClasses={},Ho.prototype.baseIconClass="",Ho.prototype.iconOverridePrefix="";var bu=function(){function h(f,p,v,A){var S=this;this.execFunc=f,this.emitter=p,this.scrollTime=v,this.scrollTimeReset=A,this.handleScrollRequest=function(N){S.queuedRequest=(0,O.__assign)({},S.queuedRequest||{},N),S.drain()},p.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}return h.prototype.detach=function(){this.emitter.off("_scrollRequest",this.handleScrollRequest)},h.prototype.update=function(f){f&&this.scrollTimeReset?this.fireInitialScroll():this.drain()},h.prototype.fireInitialScroll=function(){this.handleScrollRequest({time:this.scrollTime})},h.prototype.drain=function(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)},h}(),si=Me({});function bc(h,f,p,v,A,S,N,V,q,X,ke,Ue,dt){return{dateEnv:A,options:p,pluginHooks:N,emitter:X,dispatch:V,getCurrentData:q,calendarApi:ke,viewSpec:h,viewApi:f,dateProfileGenerator:v,theme:S,isRtl:"rtl"===p.direction,addResizeHandler:function(yt){X.on("_resize",yt)},removeResizeHandler:function(yt){X.off("_resize",yt)},createScrollResponder:function(yt){return new bu(yt,X,Bt(p.scrollTime),p.scrollTimeReset)},registerInteractiveComponent:Ue,unregisterInteractiveComponent:dt}}var jo=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return(0,O.__extends)(f,h),f.prototype.shouldComponentUpdate=function(p,v){return this.debug&&console.log($t(p,this.props),$t(v,this.state)),!Ie(this.props,p,this.propEquality)||!Ie(this.state,v,this.stateEquality)},f.addPropsEquality=_o,f.addStateEquality=_a,f.contextType=si,f}(k);jo.prototype.propEquality={},jo.prototype.stateEquality={};var _r=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return(0,O.__extends)(f,h),f.contextType=si,f}(jo);function _o(h){var f=Object.create(this.prototype.propEquality);(0,O.__assign)(f,h),this.prototype.propEquality=f}function _a(h){var f=Object.create(this.prototype.stateEquality);(0,O.__assign)(f,h),this.prototype.stateEquality=f}function oi(h,f){"function"==typeof h?h(f):h&&(h.current=f)}var Eu=function(h){function f(){var p=null!==h&&h.apply(this,arguments)||this;return p.uid=en(),p}return(0,O.__extends)(f,h),f.prototype.prepareHits=function(){},f.prototype.queryHit=function(p,v,A,S){return null},f.prototype.isValidSegDownEl=function(p){return!this.props.eventDrag&&!this.props.eventResize&&!H(p,".fc-event-mirror")},f.prototype.isValidDateDownEl=function(p){return!(H(p,".fc-event:not(.fc-bg-event)")||H(p,".fc-more-link")||H(p,"a[data-navlink]")||H(p,".fc-popover"))},f}(_r);function Xs(h){return{id:en(),deps:h.deps||[],reducers:h.reducers||[],isLoadingFuncs:h.isLoadingFuncs||[],contextInit:[].concat(h.contextInit||[]),eventRefiners:h.eventRefiners||{},eventDefMemberAdders:h.eventDefMemberAdders||[],eventSourceRefiners:h.eventSourceRefiners||{},isDraggableTransformers:h.isDraggableTransformers||[],eventDragMutationMassagers:h.eventDragMutationMassagers||[],eventDefMutationAppliers:h.eventDefMutationAppliers||[],dateSelectionTransformers:h.dateSelectionTransformers||[],datePointTransforms:h.datePointTransforms||[],dateSpanTransforms:h.dateSpanTransforms||[],views:h.views||{},viewPropsTransformers:h.viewPropsTransformers||[],isPropsValid:h.isPropsValid||null,externalDefTransforms:h.externalDefTransforms||[],viewContainerAppends:h.viewContainerAppends||[],eventDropTransformers:h.eventDropTransformers||[],componentInteractions:h.componentInteractions||[],calendarInteractions:h.calendarInteractions||[],themeClasses:h.themeClasses||{},eventSourceDefs:h.eventSourceDefs||[],cmdFormatter:h.cmdFormatter,recurringTypes:h.recurringTypes||[],namedTimeZonedImpl:h.namedTimeZonedImpl,initialView:h.initialView||"",elementDraggingImpl:h.elementDraggingImpl,optionChangeHandlers:h.optionChangeHandlers||{},scrollGridImpl:h.scrollGridImpl||null,contentTypeHandlers:h.contentTypeHandlers||{},listenerRefiners:h.listenerRefiners||{},optionRefiners:h.optionRefiners||{},propSetHandlers:h.propSetHandlers||{}}}function Gd(h,f){return{reducers:h.reducers.concat(f.reducers),isLoadingFuncs:h.isLoadingFuncs.concat(f.isLoadingFuncs),contextInit:h.contextInit.concat(f.contextInit),eventRefiners:(0,O.__assign)((0,O.__assign)({},h.eventRefiners),f.eventRefiners),eventDefMemberAdders:h.eventDefMemberAdders.concat(f.eventDefMemberAdders),eventSourceRefiners:(0,O.__assign)((0,O.__assign)({},h.eventSourceRefiners),f.eventSourceRefiners),isDraggableTransformers:h.isDraggableTransformers.concat(f.isDraggableTransformers),eventDragMutationMassagers:h.eventDragMutationMassagers.concat(f.eventDragMutationMassagers),eventDefMutationAppliers:h.eventDefMutationAppliers.concat(f.eventDefMutationAppliers),dateSelectionTransformers:h.dateSelectionTransformers.concat(f.dateSelectionTransformers),datePointTransforms:h.datePointTransforms.concat(f.datePointTransforms),dateSpanTransforms:h.dateSpanTransforms.concat(f.dateSpanTransforms),views:(0,O.__assign)((0,O.__assign)({},h.views),f.views),viewPropsTransformers:h.viewPropsTransformers.concat(f.viewPropsTransformers),isPropsValid:f.isPropsValid||h.isPropsValid,externalDefTransforms:h.externalDefTransforms.concat(f.externalDefTransforms),viewContainerAppends:h.viewContainerAppends.concat(f.viewContainerAppends),eventDropTransformers:h.eventDropTransformers.concat(f.eventDropTransformers),calendarInteractions:h.calendarInteractions.concat(f.calendarInteractions),componentInteractions:h.componentInteractions.concat(f.componentInteractions),themeClasses:(0,O.__assign)((0,O.__assign)({},h.themeClasses),f.themeClasses),eventSourceDefs:h.eventSourceDefs.concat(f.eventSourceDefs),cmdFormatter:f.cmdFormatter||h.cmdFormatter,recurringTypes:h.recurringTypes.concat(f.recurringTypes),namedTimeZonedImpl:f.namedTimeZonedImpl||h.namedTimeZonedImpl,initialView:h.initialView||f.initialView,elementDraggingImpl:h.elementDraggingImpl||f.elementDraggingImpl,optionChangeHandlers:(0,O.__assign)((0,O.__assign)({},h.optionChangeHandlers),f.optionChangeHandlers),scrollGridImpl:f.scrollGridImpl||h.scrollGridImpl,contentTypeHandlers:(0,O.__assign)((0,O.__assign)({},h.contentTypeHandlers),f.contentTypeHandlers),listenerRefiners:(0,O.__assign)((0,O.__assign)({},h.listenerRefiners),f.listenerRefiners),optionRefiners:(0,O.__assign)((0,O.__assign)({},h.optionRefiners),f.optionRefiners),propSetHandlers:(0,O.__assign)((0,O.__assign)({},h.propSetHandlers),f.propSetHandlers)}}var sr=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return(0,O.__extends)(f,h),f}(Ho);function Au(h,f,p,v){if(f[h])return f[h];var A=function Rh(h,f,p,v){var A=p[h],S=v[h],N=function(ke){return A&&null!==A[ke]?A[ke]:S&&null!==S[ke]?S[ke]:null},V=N("component"),q=N("superType"),X=null;if(q){if(q===h)throw new Error("Can't have a custom view type that references itself");X=Au(q,f,p,v)}return!V&&X&&(V=X.component),V?{type:h,component:V,defaults:(0,O.__assign)((0,O.__assign)({},X?X.defaults:{}),A?A.rawOptions:{}),overrides:(0,O.__assign)((0,O.__assign)({},X?X.overrides:{}),S?S.rawOptions:{})}:null}(h,f,p,v);return A&&(f[h]=A),A}sr.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"},sr.prototype.baseIconClass="fc-icon",sr.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"},sr.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"},sr.prototype.iconOverrideOption="buttonIcons",sr.prototype.iconOverrideCustomButtonOption="icon",sr.prototype.iconOverridePrefix="fc-icon-";var bo=function(h){function f(){var p=null!==h&&h.apply(this,arguments)||this;return p.rootElRef=Ce(),p.handleRootEl=function(v){oi(p.rootElRef,v),p.props.elRef&&oi(p.props.elRef,v)},p}return(0,O.__extends)(f,h),f.prototype.render=function(){var p=this,v=this.props,A=v.hookProps;return G(xs,{hookProps:A,didMount:v.didMount,willUnmount:v.willUnmount,elRef:this.handleRootEl},function(S){return G(wu,{hookProps:A,content:v.content,defaultContent:v.defaultContent,backupElRef:p.rootElRef},function(N,V){return v.children(S,Sr(v.classNames,A),N,V)})})},f}(_r),qd=Me(0);function wu(h){return G(qd.Consumer,null,function(f){return G(Ac,(0,O.__assign)({renderId:f},h))})}var Ac=function(h){function f(){var p=null!==h&&h.apply(this,arguments)||this;return p.innerElRef=Ce(),p}return(0,O.__extends)(f,h),f.prototype.render=function(){return this.props.children(this.innerElRef,this.renderInnerContent())},f.prototype.componentDidMount=function(){this.updateCustomContent()},f.prototype.componentDidUpdate=function(){this.updateCustomContent()},f.prototype.componentWillUnmount=function(){this.customContentInfo&&this.customContentInfo.destroy&&this.customContentInfo.destroy()},f.prototype.renderInnerContent=function(){var p=this.customContentInfo,v=this.getInnerContent(),A=this.getContentMeta(v);return p&&p.contentKey===A.contentKey?p&&(p.contentVal=v[A.contentKey]):(p&&(p.destroy&&p.destroy(),p=this.customContentInfo=null),A.contentKey&&(p=this.customContentInfo=(0,O.__assign)({contentKey:A.contentKey,contentVal:v[A.contentKey]},A.buildLifecycleFuncs()))),p?[]:v},f.prototype.getInnerContent=function(){var p=this.props,v=Ms(p.content,p.hookProps);return void 0===v&&(v=Ms(p.defaultContent,p.hookProps)),null==v?null:v},f.prototype.getContentMeta=function(p){var v=this.context.pluginHooks.contentTypeHandlers,A="",S=null;if(p)for(var N in v)if(void 0!==p[N]){A=N,S=v[N];break}return{contentKey:A,buildLifecycleFuncs:S}},f.prototype.updateCustomContent=function(){this.customContentInfo&&this.customContentInfo.render(this.innerElRef.current||this.props.backupElRef.current,this.customContentInfo.contentVal)},f}(_r),xs=function(h){function f(){var p=null!==h&&h.apply(this,arguments)||this;return p.handleRootEl=function(v){p.rootEl=v,p.props.elRef&&oi(p.props.elRef,v)},p}return(0,O.__extends)(f,h),f.prototype.render=function(){return this.props.children(this.handleRootEl)},f.prototype.componentDidMount=function(){var p=this.props.didMount;p&&p((0,O.__assign)((0,O.__assign)({},this.props.hookProps),{el:this.rootEl}))},f.prototype.componentWillUnmount=function(){var p=this.props.willUnmount;p&&p((0,O.__assign)((0,O.__assign)({},this.props.hookProps),{el:this.rootEl}))},f}(_r);function wc(){var h,f,p=[];return function(v,A){return(!f||!ut(f,A)||v!==h)&&(h=v,f=A,p=Sr(v,A)),p}}function Sr(h,f){return"function"==typeof h&&(h=h(f)),zs(h)}function Ms(h,f){return"function"==typeof h?h(f,G):h}var kr=function(h){function f(){var p=null!==h&&h.apply(this,arguments)||this;return p.normalizeClassNames=wc(),p}return(0,O.__extends)(f,h),f.prototype.render=function(){var v=this.props,A=this.context,S=A.options,N={view:A.viewApi},V=this.normalizeClassNames(S.viewClassNames,N);return G(xs,{hookProps:N,didMount:S.viewDidMount,willUnmount:S.viewWillUnmount,elRef:v.elRef},function(q){return v.children(q,["fc-"+v.viewSpec.type+"-view","fc-view"].concat(V))})},f}(_r);function Wd(h){return ge(h,Zd)}function Zd(h){var f="function"==typeof h?{component:h}:h,p=f.component;return f.content&&(p=function Ni(h){return function(f){return G(si.Consumer,null,function(p){return G(kr,{viewSpec:p.viewSpec},function(v,A){var S=(0,O.__assign)((0,O.__assign)({},f),{nextDayThreshold:p.options.nextDayThreshold});return G(bo,{hookProps:S,classNames:h.classNames,content:h.content,didMount:h.didMount,willUnmount:h.willUnmount,elRef:v},function(N,V,q,X){return G("div",{className:A.concat(V).join(" "),ref:N},X)})})})}}(f)),{superType:f.type,component:p,rawOptions:f}}function ai(h,f,p,v){var A=Wd(h),S=Wd(f.views),N=function zd(h,f){var v,p={};for(v in h)Au(v,p,h,f);for(v in f)Au(v,p,h,f);return p}(A,S);return ge(N,function(V){return function $d(h,f,p,v,A){var S=h.overrides.duration||h.defaults.duration||v.duration||p.duration,N=null,V="",q="",X={};if(S&&(N=function Go(h){var f=JSON.stringify(h),p=Eo[f];return void 0===p&&(p=Bt(h),Eo[f]=p),p}(S))){var ke=On(N);V=ke.unit,1===ke.value&&(q=V,X=f[V]?f[V].rawOptions:{})}var Ue=function(yt){var wt=yt.buttonText||{},Xt=h.defaults.buttonTextKey;return null!=Xt&&null!=wt[Xt]?wt[Xt]:null!=wt[h.type]?wt[h.type]:null!=wt[q]?wt[q]:null},dt=function(yt){var wt=yt.buttonHints||{},Xt=h.defaults.buttonTextKey;return null!=Xt&&null!=wt[Xt]?wt[Xt]:null!=wt[h.type]?wt[h.type]:null!=wt[q]?wt[q]:null};return{type:h.type,component:h.component,duration:N,durationUnit:V,singleUnit:q,optionDefaults:h.defaults,optionOverrides:(0,O.__assign)((0,O.__assign)({},X),h.overrides),buttonTextOverride:Ue(v)||Ue(p)||h.overrides.buttonText,buttonTextDefault:Ue(A)||h.defaults.buttonText||Ue(Gs)||h.type,buttonTitleOverride:dt(v)||dt(p)||h.overrides.buttonHint,buttonTitleDefault:dt(A)||h.defaults.buttonHint||dt(Gs)}}(V,S,f,p,v)})}var Eo={},Ao=function(){function h(f){this.props=f,this.nowDate=Tl(f.nowInput,f.dateEnv),this.initHiddenDays()}return h.prototype.buildPrev=function(f,p,v){var A=this.props.dateEnv,S=A.subtract(A.startOf(p,f.currentRangeUnit),f.dateIncrement);return this.build(S,-1,v)},h.prototype.buildNext=function(f,p,v){var A=this.props.dateEnv,S=A.add(A.startOf(p,f.currentRangeUnit),f.dateIncrement);return this.build(S,1,v)},h.prototype.build=function(f,p,v){void 0===v&&(v=!0);var S,N,V,q,X,ke,A=this.props;return S=this.buildValidRange(),S=this.trimHiddenDays(S),v&&(f=function Ge(h,f){return null!=f.start&&h<f.start?f.start:null!=f.end&&h>=f.end?new Date(f.end.valueOf()-1):h}(f,S)),N=this.buildCurrentRangeInfo(f,p),V=/^(year|month|week|day)$/.test(N.unit),q=this.buildRenderRange(this.trimHiddenDays(N.range),N.unit,V),X=q=this.trimHiddenDays(q),A.showNonCurrentDates||(X=Ws(X,N.range)),X=Ws(X=this.adjustActiveRange(X),S),ke=K(N.range,S),{validRange:S,currentRange:N.range,currentRangeUnit:N.unit,isRangeAllDay:V,activeRange:X,renderRange:q,slotMinTime:A.slotMinTime,slotMaxTime:A.slotMaxTime,isValid:ke,dateIncrement:this.buildDateIncrement(N.duration)}},h.prototype.buildValidRange=function(){var f=this.props.validRangeInput,p="function"==typeof f?f.call(this.props.calendarApi,this.nowDate):f;return this.refineRange(p)||{start:null,end:null}},h.prototype.buildCurrentRangeInfo=function(f,p){var V,v=this.props,A=null,S=null,N=null;return v.duration?N=this.buildRangeFromDuration(f,p,A=v.duration,S=v.durationUnit):(V=this.props.dayCount)?(S="day",N=this.buildRangeFromDayCount(f,p,V)):(N=this.buildCustomVisibleRange(f))?S=v.dateEnv.greatestWholeUnit(N.start,N.end).unit:(S=On(A=this.getFallbackDuration()).unit,N=this.buildRangeFromDuration(f,p,A,S)),{duration:A,unit:S,range:N}},h.prototype.getFallbackDuration=function(){return Bt({day:1})},h.prototype.adjustActiveRange=function(f){var p=this.props,v=p.dateEnv,S=p.slotMinTime,N=p.slotMaxTime,V=f.start,q=f.end;return p.usesMinMaxTime&&(ye(S)<0&&(V=un(V),V=v.add(V,S)),ye(N)>1&&(q=$e(q=un(q),-1),q=v.add(q,N))),{start:V,end:q}},h.prototype.buildRangeFromDuration=function(f,p,v,A){var q,X,ke,S=this.props,N=S.dateEnv,V=S.dateAlignment;if(!V){var Ue=this.props.dateIncrement;V=Ue&&Gt(Ue)<Gt(v)?On(Ue).unit:A}function dt(){q=N.startOf(f,V),X=N.add(q,v),ke={start:q,end:X}}return ye(v)<=1&&this.isHiddenDay(q)&&(q=un(q=this.skipHiddenDays(q,p))),dt(),this.trimHiddenDays(ke)||(f=this.skipHiddenDays(f,p),dt()),ke},h.prototype.buildRangeFromDayCount=function(f,p,v){var X,A=this.props,N=A.dateAlignment,V=0,q=f;N&&(q=A.dateEnv.startOf(q,N)),q=un(q),X=q=this.skipHiddenDays(q,p);do{X=$e(X,1),this.isHiddenDay(X)||(V+=1)}while(V<v);return{start:q,end:X}},h.prototype.buildCustomVisibleRange=function(f){var p=this.props,v=p.visibleRangeInput,A="function"==typeof v?v.call(p.calendarApi,p.dateEnv.toDate(f)):v,S=this.refineRange(A);return!S||null!=S.start&&null!=S.end?S:null},h.prototype.buildRenderRange=function(f,p,v){return f},h.prototype.buildDateIncrement=function(f){var v;return this.props.dateIncrement||((v=this.props.dateAlignment)?Bt(1,v):f||Bt({days:1}))},h.prototype.refineRange=function(f){if(f){var p=function Ua(h,f){var p=null,v=null;return h.start&&(p=f.createMarker(h.start)),h.end&&(v=f.createMarker(h.end)),!p&&!v||p&&v&&v<p?null:{start:p,end:v}}(f,this.props.dateEnv);return p&&(p=ws(p)),p}return null},h.prototype.initHiddenDays=function(){var A,f=this.props.hiddenDays||[],p=[],v=0;for(!1===this.props.weekends&&f.push(0,6),A=0;A<7;A+=1)(p[A]=-1!==f.indexOf(A))||(v+=1);if(!v)throw new Error("invalid hiddenDays");this.isHiddenDayHash=p},h.prototype.trimHiddenDays=function(f){var p=f.start,v=f.end;return p&&(p=this.skipHiddenDays(p)),v&&(v=this.skipHiddenDays(v,-1,!0)),null==p||null==v||p<v?{start:p,end:v}:null},h.prototype.isHiddenDay=function(f){return f instanceof Date&&(f=f.getUTCDay()),this.isHiddenDayHash[f]},h.prototype.skipHiddenDays=function(f,p,v){for(void 0===p&&(p=1),void 0===v&&(v=!1);this.isHiddenDayHash[(f.getUTCDay()+(v?p:0)+7)%7];)f=$e(f,p);return f},h}();function Dc(h){for(var f in h)if(h[f].isFetching)return!0;return!1}function Ka(h,f,p,v){for(var A={},S=0,N=f;S<N.length;S++){var V=N[S];A[V.sourceId]=V}return p&&(A=Cu(A,p,v)),(0,O.__assign)((0,O.__assign)({},h),A)}function Cu(h,f,p){return Ic(h,ae(h,function(v){return function Tc(h,f,p){return ba(h,p)?!p.options.lazyFetching||!h.fetchRange||h.isFetching||f.start<h.fetchRange.start||f.end>h.fetchRange.end:!h.latestFetchId}(v,f,p)}),f,!1,p)}function Ic(h,f,p,v,A){var S={};for(var N in h){var V=h[N];S[N]=f[N]?Sc(V,p,v,A):V}return S}function Sc(h,f,p,v){var A=v.options,S=v.calendarApi,N=v.pluginHooks.eventSourceDefs[h.sourceDefId],V=en();return N.fetch({eventSource:h,range:f,isRefetch:p,context:v},function(q){var X=q.rawEvents;A.eventSourceSuccess&&(X=A.eventSourceSuccess.call(S,X,q.xhr)||X),h.success&&(X=h.success.call(S,X,q.xhr)||X),v.dispatch({type:"RECEIVE_EVENTS",sourceId:h.sourceId,fetchId:V,fetchRange:f,rawEvents:X})},function(q){console.warn(q.message,q),A.eventSourceFailure&&A.eventSourceFailure.call(S,q),h.failure&&h.failure(q),v.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:h.sourceId,fetchId:V,fetchRange:f,error:q})}),(0,O.__assign)((0,O.__assign)({},h),{isFetching:!0,latestFetchId:V})}function Qa(h,f){return ae(h,function(p){return ba(p,f)})}function ba(h,f){return!f.pluginHooks.eventSourceDefs[h.sourceDefId].ignoreRange}function Ja(h,f){var p;if(f){p=[];for(var v=0,A=h;v<A.length;v++){var S=A[v],N=f(S);N?p.push(N):null==N&&p.push(S)}}else p=h;return p}function Mc(h,f){return la(h,function(p){return p.sourceId!==f})}function Yd(h,f){switch(f.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return f.selection;default:return h}}function Hg(h,f){switch(f.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return f.eventInstanceId;default:return h}}function Ea(h,f){var p;switch(f.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return{affectedEvents:(p=f.state).affectedEvents,mutatedEvents:p.mutatedEvents,isEvent:p.isEvent};default:return h}}function kc(h,f){var p;switch(f.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return{affectedEvents:(p=f.state).affectedEvents,mutatedEvents:p.mutatedEvents,isEvent:p.isEvent};default:return h}}function jg(h,f,p,v,A){return{header:h.headerToolbar?Nr(h.headerToolbar,h,f,p,v,A):null,footer:h.footerToolbar?Nr(h.footerToolbar,h,f,p,v,A):null}}function Nr(h,f,p,v,A,S){var N={},V=[],q=!1;for(var X in h){var Ue=Qd(h[X],f,p,v,A,S);N[X]=Ue.widgets,V.push.apply(V,Ue.viewsWithButtons),q=q||Ue.hasTitle}return{sectionWidgets:N,viewsWithButtons:V,hasTitle:q}}function Qd(h,f,p,v,A,S){var N="rtl"===f.direction,V=f.customButtons||{},q=p.buttonText||{},X=f.buttonText||{},ke=p.buttonHints||{},Ue=f.buttonHints||{},dt=h?h.split(" "):[],yt=[],wt=!1;return{widgets:dt.map(function(cn){return cn.split(",").map(function(Pt){if("title"===Pt)return wt=!0,{buttonName:Pt};var rr,Mr,zr,qr,Wr,ds;if(rr=V[Pt])zr=function(no){rr.click&&rr.click.call(no.target,no,no.target)},(qr=v.getCustomButtonIconClass(rr))||(qr=v.getIconClass(Pt,N))||(Wr=rr.text),ds=rr.hint||rr.text;else if(Mr=A[Pt]){yt.push(Pt),zr=function(){S.changeView(Pt)},(Wr=Mr.buttonTextOverride)||(qr=v.getIconClass(Pt,N))||(Wr=Mr.buttonTextDefault);var Ps=Mr.buttonTextOverride||Mr.buttonTextDefault;ds=Dt(Mr.buttonTitleOverride||Mr.buttonTitleDefault||f.viewHint,[Ps,Pt],Ps)}else if(S[Pt])if(zr=function(){S[Pt]()},(Wr=q[Pt])||(qr=v.getIconClass(Pt,N))||(Wr=X[Pt]),"prevYear"===Pt||"nextYear"===Pt){var Os="prevYear"===Pt?"prev":"next";ds=Dt(ke[Os]||Ue[Os],[X.year||"year","year"],X[Pt])}else ds=function(no){return Dt(ke[Pt]||Ue[Pt],[X[no]||no,no],X[Pt])};return{buttonName:Pt,buttonClick:zr,buttonIcon:qr,buttonText:Wr,buttonHint:ds}})}),viewsWithButtons:yt,hasTitle:wt}}function Xa(h,f,p,v,A){var S=null;"GET"===(h=h.toUpperCase())?f=function Ca(h,f){return h+(-1===h.indexOf("?")?"?":"&")+Co(f)}(f,p):S=Co(p);var N=new XMLHttpRequest;N.open(h,f,!0),"GET"!==h&&N.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),N.onload=function(){if(N.status>=200&&N.status<400){var V=!1,q=void 0;try{q=JSON.parse(N.responseText),V=!0}catch(X){}V?v(q,N):A("Failure parsing JSON",N)}else A("Request failed",N)},N.onerror=function(){A("Request failed",N)},N.send(S)}function Co(h){var f=[];for(var p in h)f.push(encodeURIComponent(p)+"="+encodeURIComponent(h[p]));return f.join("&")}function Mu(h,f){for(var p=pt(f.getCurrentData().eventSources),v=[],A=0,S=h;A<S.length;A++){for(var N=S[A],V=!1,q=0;q<p.length;q+=1)if(p[q]._raw===N){p.splice(q,1),V=!0;break}V||v.push(N)}for(var X=0,ke=p;X<ke.length;X++)f.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:ke[X].sourceId});for(var dt=0,yt=v;dt<yt.length;dt++)f.calendarApi.addEventSource(yt[dt])}var Nc=[Xs({eventSourceDefs:[{ignoreRange:!0,parseMeta:function(h){return Array.isArray(h.events)?h.events:null},fetch:function(h,f){f({rawEvents:h.eventSource.meta})}}]}),Xs({eventSourceDefs:[{parseMeta:function(h){return"function"==typeof h.events?h.events:null},fetch:function(h,f,p){Js(h.eventSource.meta.bind(null,kd(h.range,h.context.dateEnv)),function(S){f({rawEvents:S})},p)}}]}),Xs({eventSourceRefiners:{method:String,extraParams:tt,startParam:String,endParam:String,timeZoneParam:String},eventSourceDefs:[{parseMeta:function(h){return!h.url||"json"!==h.format&&h.format?null:{url:h.url,format:"json",method:(h.method||"GET").toUpperCase(),extraParams:h.extraParams,startParam:h.startParam,endParam:h.endParam,timeZoneParam:h.timeZoneParam}},fetch:function(h,f,p){var v=h.eventSource.meta,A=function Su(h,f,p){var S,N,V,q,v=p.dateEnv,A=p.options,X={};return null==(S=h.startParam)&&(S=A.startParam),null==(N=h.endParam)&&(N=A.endParam),null==(V=h.timeZoneParam)&&(V=A.timeZoneParam),q="function"==typeof h.extraParams?h.extraParams():h.extraParams||{},(0,O.__assign)(X,q),X[S]=v.formatIso(f.start),X[N]=v.formatIso(f.end),"local"!==v.timeZone&&(X[V]=v.timeZone),X}(v,h.range,h.context);Xa(v.method,v.url,A,function(S,N){f({rawEvents:S,xhr:N})},function(S,N){p({message:S,xhr:N})})}}]}),Xs({recurringTypes:[{parse:function(h,f){if(h.daysOfWeek||h.startTime||h.endTime||h.startRecur||h.endRecur){var p={daysOfWeek:h.daysOfWeek||null,startTime:h.startTime||null,endTime:h.endTime||null,startRecur:h.startRecur?f.createMarker(h.startRecur):null,endRecur:h.endRecur?f.createMarker(h.endRecur):null},v=void 0;return h.duration&&(v=h.duration),!v&&h.startTime&&h.endTime&&(v=function Fr(h,f){return{years:h.years-f.years,months:h.months-f.months,days:h.days-f.days,milliseconds:h.milliseconds-f.milliseconds}}(h.endTime,h.startTime)),{allDayGuess:Boolean(!h.startTime&&!h.endTime),duration:v,typeData:p}}return null},expand:function(h,f,p){var v=Ws(f,{start:h.startRecur,end:h.endRecur});return v?function Da(h,f,p,v){for(var A=h?Pe(h):null,S=un(p.start),N=p.end,V=[];S<N;){var q=void 0;(!A||A[S.getUTCDay()])&&(q=f?v.add(S,f):S,V.push(q)),S=$e(S,1)}return V}(h.daysOfWeek,h.startTime,v,p):[]}}],eventRefiners:{daysOfWeek:tt,startTime:Bt,endTime:Bt,duration:Bt,startRecur:tt,endRecur:tt}}),Xs({optionChangeHandlers:{events:function(h,f){Mu([h],f)},eventSources:Mu}}),Xs({isLoadingFuncs:[function(h){return Dc(h.eventSources)}],contentTypeHandlers:{html:function Nh(){var h=null,f="";return{render:function p(A,S){(A!==h||S!==f)&&(A.innerHTML=S),h=A,f=S},destroy:function v(){h.innerHTML="",h=null,f=""}}},domNodes:function Ol(){var h=null,f=[];function v(){f.forEach(F),f=[],h=null}return{render:function p(A,S){var N=Array.prototype.slice.call(S);if(A!==h||!Ei(f,N)){for(var V=0,q=N;V<q.length;V++)A.appendChild(q[V]);v()}h=A,f=N},destroy:v}}},propSetHandlers:{dateProfile:function rl(h,f){f.emitter.trigger("datesSet",(0,O.__assign)((0,O.__assign)({},kd(h.activeRange,f.dateEnv)),{view:f.viewApi}))},eventStore:function zo(h,f){var p=f.emitter;p.hasHandlers("eventsSet")&&p.trigger("eventsSet",Il(h,f))}}})],Ru=function(){function h(f){this.drainedOption=f,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}return h.prototype.request=function(f){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),null==f?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),f))},h.prototype.pause=function(f){void 0===f&&(f="");var p=this.pauseDepths;p[f]=(p[f]||0)+1,this.clearTimeout()},h.prototype.resume=function(f,p){void 0===f&&(f="");var v=this.pauseDepths;f in v&&(p?delete v[f]:(v[f]-=1,v[f]<=0&&delete v[f]),this.tryDrain())},h.prototype.isPaused=function(){return Object.keys(this.pauseDepths).length},h.prototype.tryDrain=function(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}},h.prototype.clear=function(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}},h.prototype.clearTimeout=function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)},h.prototype.drained=function(){this.drainedOption&&this.drainedOption()},h}(),Fl=function(){function h(f,p){this.runTaskOption=f,this.drainedOption=p,this.queue=[],this.delayedRunner=new Ru(this.drain.bind(this))}return h.prototype.request=function(f,p){this.queue.push(f),this.delayedRunner.request(p)},h.prototype.pause=function(f){this.delayedRunner.pause(f)},h.prototype.resume=function(f,p){this.delayedRunner.resume(f,p)},h.prototype.drain=function(){for(var f=this.queue;f.length;){for(var p=[],v=void 0;v=f.shift();)this.runTask(v),p.push(v);this.drained(p)}},h.prototype.runTask=function(f){this.runTaskOption&&this.runTaskOption(f)},h.prototype.drained=function(f){this.drainedOption&&this.drainedOption(f)},h}();function Ph(h,f,p){var v;return v=/^(year|month)$/.test(h.currentRangeUnit)?h.currentRange:h.activeRange,p.formatRange(v.start,v.end,Tr(f.titleFormat||function Oh(h){var f=h.currentRangeUnit;if("year"===f)return{year:"numeric"};if("month"===f)return{year:"numeric",month:"long"};var p=Zn(h.currentRange.start,h.currentRange.end);return null!==p&&p>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}(h)),{isEndExclusive:h.isRangeAllDay,defaultSeparator:f.titleRangeSeparator})}var il=function(){function h(f){var p=this;this.computeOptionsData=Un(this._computeOptionsData),this.computeCurrentViewData=Un(this._computeCurrentViewData),this.organizeRawLocales=Un(Ch),this.buildLocale=Un(Vd),this.buildPluginHooks=function Ec(){var p,h=[],f=[];return function(v,A){return(!p||!Ei(v,h)||!Ei(A,f))&&(p=function $a(h,f){var p={},v={reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,contentTypeHandlers:{},listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function A(S){for(var N=0,V=S;N<V.length;N++){var q=V[N];p[q.id]||(p[q.id]=!0,A(q.deps),v=Gd(v,q))}}return h&&A(h),A(f),v}(v,A)),h=v,f=A,p}}(),this.buildDateEnv=Un(sl),this.buildTheme=Un(ku),this.parseToolbars=Un(jg),this.buildViewSpecs=Un(ai),this.buildDateProfileGenerator=is(Ll),this.buildViewApi=Un(Gg),this.buildViewUiProps=is(Nu),this.buildEventUiBySource=Un(zg,ut),this.buildEventUiBases=Un(Fh),this.parseContextBusinessHours=is(tf),this.buildTitle=Un(Ph),this.emitter=new va,this.actionRunner=new Fl(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.getCurrentData=function(){return p.data},this.dispatch=function(Mr){p.actionRunner.request(Mr)},this.props=f,this.actionRunner.pause();var v={},A=this.computeOptionsData(f.optionOverrides,v,f.calendarApi),S=A.calendarOptions.initialView||A.pluginHooks.initialView,N=this.computeCurrentViewData(S,A,f.optionOverrides,v);f.calendarApi.currentDataManager=this,this.emitter.setThisContext(f.calendarApi),this.emitter.setOptions(N.options);var V=function Fd(h,f){var p=h.initialDate;return null!=p?f.createMarker(p):Tl(h.now,f)}(A.calendarOptions,A.dateEnv),q=N.dateProfileGenerator.build(V);we(q.activeRange,V)||(V=q.currentRange.start);for(var X={dateEnv:A.dateEnv,options:A.calendarOptions,pluginHooks:A.pluginHooks,calendarApi:f.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},ke=0,Ue=A.pluginHooks.contextInit;ke<Ue.length;ke++)(0,Ue[ke])(X);for(var yt=function _y(h,f,p){var v=f?f.activeRange:null;return Ka({},function wo(h,f){var p=Dl(f),v=[].concat(h.eventSources||[]),A=[];h.initialEvents&&v.unshift(h.initialEvents),h.events&&v.unshift(h.events);for(var S=0,N=v;S<N.length;S++){var q=du(N[S],f,p);q&&A.push(q)}return A}(h,p),v,p)}(A.calendarOptions,q,X),wt={dynamicOptionOverrides:v,currentViewType:S,currentDate:V,dateProfile:q,businessHours:this.parseContextBusinessHours(X),eventSources:yt,eventUiBases:{},eventStore:{defs:{},instances:{}},renderableEventStore:{defs:{},instances:{}},dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(X).selectionConfig},Xt=(0,O.__assign)((0,O.__assign)({},X),wt),cn=0,Pt=A.pluginHooks.reducers;cn<Pt.length;cn++)(0,O.__assign)(wt,(0,Pt[cn])(null,null,Xt));ol(wt,X)&&this.emitter.trigger("loading",!0),this.state=wt,this.updateData(),this.actionRunner.resume()}return h.prototype.resetOptions=function(f,p){var v=this.props;v.optionOverrides=p?(0,O.__assign)((0,O.__assign)({},v.optionOverrides),f):f,this.actionRunner.request({type:"NOTHING"})},h.prototype._handleAction=function(f){var p=this,v=p.props,A=p.state,S=p.emitter,N=function kh(h,f){var p;return"SET_OPTION"===f.type?(0,O.__assign)((0,O.__assign)({},h),((p={})[f.optionName]=f.rawOptionValue,p)):h}(A.dynamicOptionOverrides,f),V=this.computeOptionsData(v.optionOverrides,N,v.calendarApi),q=function Nl(h,f){return"CHANGE_VIEW_TYPE"===f.type&&(h=f.viewType),h}(A.currentViewType,f),X=this.computeCurrentViewData(q,V,v.optionOverrides,N);v.calendarApi.currentDataManager=this,S.setThisContext(v.calendarApi),S.setOptions(X.options);var ke={dateEnv:V.dateEnv,options:V.calendarOptions,pluginHooks:V.pluginHooks,calendarApi:v.calendarApi,dispatch:this.dispatch,emitter:S,getCurrentData:this.getCurrentData},Ue=A.currentDate,dt=A.dateProfile;this.data&&this.data.dateProfileGenerator!==X.dateProfileGenerator&&(dt=X.dateProfileGenerator.build(Ue)),Ue=function Od(h,f){return"CHANGE_DATE"===f.type?f.dateMarker:h}(Ue,f),dt=function yy(h,f,p,v){var A;switch(f.type){case"CHANGE_VIEW_TYPE":return v.build(f.dateMarker||p);case"CHANGE_DATE":return v.build(f.dateMarker);case"PREV":if((A=v.buildPrev(h,p)).isValid)return A;break;case"NEXT":if((A=v.buildNext(h,p)).isValid)return A}return h}(dt,f,Ue,X.dateProfileGenerator),("PREV"===f.type||"NEXT"===f.type||!we(dt.currentRange,Ue))&&(Ue=dt.currentRange.start);for(var yt=function Cc(h,f,p,v){var A=p?p.activeRange:null;switch(f.type){case"ADD_EVENT_SOURCES":return Ka(h,f.sources,A,v);case"REMOVE_EVENT_SOURCE":return function Kd(h,f){return ae(h,function(p){return p.sourceId!==f})}(h,f.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return p?Cu(h,A,v):h;case"FETCH_EVENT_SOURCES":return Ic(h,f.sourceIds?Pe(f.sourceIds):Qa(h,v),A,f.isRefetch||!1,v);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return function Ya(h,f,p,v){var A,S=h[f];return S&&p===S.latestFetchId?(0,O.__assign)((0,O.__assign)({},h),((A={})[f]=(0,O.__assign)((0,O.__assign)({},S),{isFetching:!1,fetchRange:v}),A)):h}(h,f.sourceId,f.fetchId,f.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return h}}(A.eventSources,f,dt,ke),wt=function Du(h,f,p,v,A){switch(f.type){case"RECEIVE_EVENTS":return function Tu(h,f,p,v,A,S){if(f&&p===f.latestFetchId){var N=Oo(function eo(h,f,p){var v=p.options.eventDataTransform,A=f?f.eventDataTransform:null;return A&&(h=Ja(h,A)),v&&(h=Ja(h,v)),h}(A,f,S),f,S);return v&&(N=Et(N,v,S)),ho(Mc(h,f.sourceId),N)}return h}(h,p[f.sourceId],f.fetchId,f.fetchRange,f.rawEvents,A);case"ADD_EVENTS":return function Iu(h,f,p,v){return p&&(f=Et(f,p,v)),ho(h,f)}(h,f.eventStore,v?v.activeRange:null,A);case"RESET_EVENTS":return f.eventStore;case"MERGE_EVENTS":return ho(h,f.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return v?Et(h,v.activeRange,A):h;case"REMOVE_EVENTS":return function Md(h,f){var p=h.defs,v=h.instances,A={},S={};for(var N in p)f.defs[N]||(A[N]=p[N]);for(var V in v)!f.instances[V]&&A[v[V].defId]&&(S[V]=v[V]);return{defs:A,instances:S}}(h,f.eventStore);case"REMOVE_EVENT_SOURCE":return Mc(h,f.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return la(h,function(S){return!S.sourceId});case"REMOVE_ALL_EVENTS":return{defs:{},instances:{}};default:return h}}(A.eventStore,f,yt,dt,ke),cn=Dc(yt)&&!X.options.progressiveEventRendering&&A.renderableEventStore||wt,Pt=this.buildViewUiProps(ke),rr=Pt.eventUiSingleBase,Mr=Pt.selectionConfig,zr=this.buildEventUiBySource(yt),Wr={dynamicOptionOverrides:N,currentViewType:q,currentDate:Ue,dateProfile:dt,eventSources:yt,eventStore:wt,renderableEventStore:cn,selectionConfig:Mr,eventUiBases:this.buildEventUiBases(cn.defs,rr,zr),businessHours:this.parseContextBusinessHours(ke),dateSelection:Yd(A.dateSelection,f),eventSelection:Hg(A.eventSelection,f),eventDrag:Ea(A.eventDrag,f),eventResize:kc(A.eventResize,f)},ds=(0,O.__assign)((0,O.__assign)({},ke),Wr),Ps=0,Os=V.pluginHooks.reducers;Ps<Os.length;Ps++)(0,O.__assign)(Wr,(0,Os[Ps])(A,f,ds));var hf=ol(A,ke),ju=ol(Wr,ke);!hf&&ju?S.trigger("loading",!0):hf&&!ju&&S.trigger("loading",!1),this.state=Wr,v.onAction&&v.onAction(f)},h.prototype.updateData=function(){var p=this.props,v=this.state,A=this.data,S=this.computeOptionsData(p.optionOverrides,v.dynamicOptionOverrides,p.calendarApi),N=this.computeCurrentViewData(v.currentViewType,S,p.optionOverrides,v.dynamicOptionOverrides),V=this.data=(0,O.__assign)((0,O.__assign)((0,O.__assign)({viewTitle:this.buildTitle(v.dateProfile,N.options,S.dateEnv),calendarApi:p.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},S),N),v),q=S.pluginHooks.optionChangeHandlers,X=A&&A.calendarOptions,ke=S.calendarOptions;if(X&&X!==ke)for(var Ue in X.timeZone!==ke.timeZone&&(v.eventSources=V.eventSources=function Xi(h,f,p){var v=f?f.activeRange:null;return Ic(h,Qa(h,p),v,!0,p)}(V.eventSources,v.dateProfile,V),v.eventStore=V.eventStore=function xc(h,f,p){var v=h.defs,A=ge(h.instances,function(S){var N=v[S.defId];return N.allDay||N.recurringDef?S:(0,O.__assign)((0,O.__assign)({},S),{range:{start:p.createMarker(f.toDate(S.range.start,S.forcedStartTzo)),end:p.createMarker(f.toDate(S.range.end,S.forcedEndTzo))},forcedStartTzo:p.canComputeOffset?null:S.forcedStartTzo,forcedEndTzo:p.canComputeOffset?null:S.forcedEndTzo})});return{defs:v,instances:A}}(V.eventStore,A.dateEnv,V.dateEnv)),q)X[Ue]!==ke[Ue]&&q[Ue](ke[Ue],V);p.onData&&p.onData(V)},h.prototype._computeOptionsData=function(f,p,v){var A=this.processRawCalendarOptions(f,p),S=A.refinedOptions,N=A.pluginHooks,V=A.localeDefaults,q=A.availableLocaleData;Pu(A.extra);var ke=this.buildDateEnv(S.timeZone,S.locale,S.weekNumberCalculation,S.firstDay,S.weekText,N,q,S.defaultRangeSeparator),Ue=this.buildViewSpecs(N.views,f,p,V),dt=this.buildTheme(S,N);return{calendarOptions:S,pluginHooks:N,dateEnv:ke,viewSpecs:Ue,theme:dt,toolbarConfig:this.parseToolbars(S,f,dt,Ue,v),localeDefaults:V,availableRawLocales:q.map}},h.prototype.processRawCalendarOptions=function(f,p){var v=Ba([Gs,f,p]),S=v.locale,N=this.organizeRawLocales(v.locales),q=this.buildLocale(S||N.defaultCode,N.map).options,X=this.buildPluginHooks(f.plugins||[],Nc),ke=this.currentCalendarOptionsRefiners=(0,O.__assign)((0,O.__assign)((0,O.__assign)((0,O.__assign)((0,O.__assign)({},uu),Sd),bl),X.listenerRefiners),X.optionRefiners),Ue={},dt=Ba([Gs,q,f,p]),yt={},wt=this.currentCalendarOptionsInput,Xt=this.currentCalendarOptionsRefined,cn=!1;for(var Pt in dt)"plugins"!==Pt&&(dt[Pt]===wt[Pt]||El[Pt]&&Pt in wt&&El[Pt](wt[Pt],dt[Pt])?yt[Pt]=Xt[Pt]:ke[Pt]?(yt[Pt]=ke[Pt](dt[Pt]),cn=!0):Ue[Pt]=wt[Pt]);return cn&&(this.currentCalendarOptionsInput=dt,this.currentCalendarOptionsRefined=yt),{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:X,availableLocaleData:N,localeDefaults:q,extra:Ue}},h.prototype._computeCurrentViewData=function(f,p,v,A){var S=p.viewSpecs[f];if(!S)throw new Error('viewType "'+f+"\" is not available. Please make sure you've loaded all neccessary plugins");var N=this.processRawViewOptions(S,p.pluginHooks,p.localeDefaults,v,A),V=N.refinedOptions;return Pu(N.extra),{viewSpec:S,options:V,dateProfileGenerator:this.buildDateProfileGenerator({dateProfileGeneratorClass:S.optionDefaults.dateProfileGeneratorClass,duration:S.duration,durationUnit:S.durationUnit,usesMinMaxTime:S.optionDefaults.usesMinMaxTime,dateEnv:p.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:V.slotMinTime,slotMaxTime:V.slotMaxTime,showNonCurrentDates:V.showNonCurrentDates,dayCount:V.dayCount,dateAlignment:V.dateAlignment,dateIncrement:V.dateIncrement,hiddenDays:V.hiddenDays,weekends:V.weekends,nowInput:V.now,validRangeInput:V.validRange,visibleRangeInput:V.visibleRange,monthMode:V.monthMode,fixedWeekCount:V.fixedWeekCount}),viewApi:this.buildViewApi(f,this.getCurrentData,p.dateEnv)}},h.prototype.processRawViewOptions=function(f,p,v,A,S){var N=Ba([Gs,f.optionDefaults,v,A,f.optionOverrides,S]),V=(0,O.__assign)((0,O.__assign)((0,O.__assign)((0,O.__assign)((0,O.__assign)((0,O.__assign)({},uu),Sd),bl),xd),p.listenerRefiners),p.optionRefiners),q={},X=this.currentViewOptionsInput,ke=this.currentViewOptionsRefined,Ue=!1,dt={};for(var yt in N)N[yt]===X[yt]?q[yt]=ke[yt]:(N[yt]===this.currentCalendarOptionsInput[yt]?yt in this.currentCalendarOptionsRefined&&(q[yt]=this.currentCalendarOptionsRefined[yt]):V[yt]?q[yt]=V[yt](N[yt]):dt[yt]=N[yt],Ue=!0);return Ue&&(this.currentViewOptionsInput=N,this.currentViewOptionsRefined=q),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:dt}},h}();function sl(h,f,p,v,A,S,N,V){var q=Vd(f||N.defaultCode,N.map);return new Ks({calendarSystem:"gregory",timeZone:h,namedTimeZoneImpl:S.namedTimeZonedImpl,locale:q,weekNumberCalculation:p,firstDay:v,weekText:A,cmdFormatter:S.cmdFormatter,defaultSeparator:V})}function ku(h,f){return new(f.themeClasses[h.themeSystem]||sr)(h)}function Ll(h){return new(h.dateProfileGeneratorClass||Ao)(h)}function Gg(h,f,p){return new Cl(h,f,p)}function zg(h){return ge(h,function(f){return f.ui})}function Fh(h,f,p){var v={"":f};for(var A in h){var S=h[A];S.sourceId&&p[S.sourceId]&&(v[A]=p[S.sourceId])}return v}function Nu(h){var f=h.options;return{eventUiSingleBase:qs({display:f.eventDisplay,editable:f.editable,startEditable:f.eventStartEditable,durationEditable:f.eventDurationEditable,constraint:f.eventConstraint,overlap:"boolean"==typeof f.eventOverlap?f.eventOverlap:void 0,allow:f.eventAllow,backgroundColor:f.eventBackgroundColor,borderColor:f.eventBorderColor,textColor:f.eventTextColor,color:f.eventColor},h),selectionConfig:qs({constraint:f.selectConstraint,overlap:"boolean"==typeof f.selectOverlap?f.selectOverlap:void 0,allow:f.selectAllow},h)}}function ol(h,f){for(var p=0,v=f.pluginHooks.isLoadingFuncs;p<v.length;p++)if((0,v[p])(h))return!0;return!1}function tf(h){return Th(h.options.businessHours,h)}function Pu(h,f){for(var p in h)console.warn("Unknown option '"+p+"'"+(f?" for view '"+f+"'":""))}var qo=function(h){function f(p){var v=h.call(this,p)||this;return v.handleData=function(A){v.dataManager?v.setState(A):v.state=A},v.dataManager=new il({optionOverrides:p.optionOverrides,calendarApi:p.calendarApi,onData:v.handleData}),v}return(0,O.__extends)(f,h),f.prototype.render=function(){return this.props.children(this.state)},f.prototype.componentDidUpdate=function(p){var v=this.props.optionOverrides;v!==p.optionOverrides&&this.dataManager.resetOptions(v)},f}(k);function Wo(h,f){return bt(h.eventStore,h.eventUiBases,h.dateProfile.activeRange,f?h.nextDayThreshold:null).fg}var Lh=function h(f){this.timeZoneName=f},Vl=function(){function h(){this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}return h.prototype.addSegs=function(f){for(var p=[],v=0,A=f;v<A.length;v++)this.insertEntry(A[v],p);return p},h.prototype.insertEntry=function(f,p){var v=this.findInsertion(f);return this.isInsertionValid(v,f)?(this.insertEntryAt(f,v),1):this.handleInvalidInsertion(v,f,p)},h.prototype.isInsertionValid=function(f,p){return(-1===this.maxCoord||f.levelCoord+p.thickness<=this.maxCoord)&&(-1===this.maxStackCnt||f.stackCnt<this.maxStackCnt)},h.prototype.handleInvalidInsertion=function(f,p,v){return this.allowReslicing&&f.touchingEntry?this.splitEntry(p,f.touchingEntry,v):(v.push(p),0)},h.prototype.splitEntry=function(f,p,v){var A=0,S=[],N=f.span,V=p.span;return N.start<V.start&&(A+=this.insertEntry({index:f.index,thickness:f.thickness,span:{start:N.start,end:V.start}},S)),N.end>V.end&&(A+=this.insertEntry({index:f.index,thickness:f.thickness,span:{start:V.end,end:N.end}},S)),A?(v.push.apply(v,(0,O.__spreadArray)([{index:f.index,thickness:f.thickness,span:Rs(V,N)}],S)),A):(v.push(f),0)},h.prototype.insertEntryAt=function(f,p){var A=this.entriesByLevel;-1===p.lateral?(Fu(this.levelCoords,p.level,p.levelCoord),Fu(A,p.level,[f])):Fu(A[p.level],p.lateral,f),this.stackCnts[nf(f)]=p.stackCnt},h.prototype.findInsertion=function(f){for(var p=this,v=p.levelCoords,A=p.entriesByLevel,S=p.strictOrder,N=p.stackCnts,V=v.length,q=0,X=-1,ke=-1,Ue=null,dt=0,yt=0;yt<V;yt+=1){var wt=v[yt];if(!S&&wt>=q+f.thickness)break;for(var Xt=A[yt],cn=void 0,Pt=Bl(Xt,f.span.start,Pc),rr=Pt[0]+Pt[1];(cn=Xt[rr])&&cn.span.start<f.span.end;){var Mr=wt+cn.thickness;Mr>q&&(q=Mr,Ue=cn,X=yt,ke=rr),Mr===q&&(dt=Math.max(dt,N[nf(cn)]+1)),rr+=1}}var zr=0;if(Ue)for(zr=X+1;zr<V&&v[zr]<q;)zr+=1;var qr=-1;return zr<V&&v[zr]===q&&(qr=Bl(A[zr],f.span.end,Pc)[0]),{touchingLevel:X,touchingLateral:ke,touchingEntry:Ue,stackCnt:dt,levelCoord:q,level:zr,lateral:qr}},h.prototype.toRects=function(){for(var p=this.entriesByLevel,v=this.levelCoords,A=p.length,S=[],N=0;N<A;N+=1)for(var q=v[N],X=0,ke=p[N];X<ke.length;X++)S.push((0,O.__assign)((0,O.__assign)({},ke[X]),{levelCoord:q}));return S},h}();function Pc(h){return h.span.end}function nf(h){return h.index+":"+h.span.start}function Ou(h){for(var f=[],p=0,v=h;p<v.length;p++){for(var A=v[p],S=[],N={span:A.span,entries:[A]},V=0,q=f;V<q.length;V++){var X=q[V];Rs(X.span,N.span)?N={entries:X.entries.concat(N.entries),span:to(X.span,N.span)}:S.push(X)}S.push(N),f=S}return f}function to(h,f){return{start:Math.min(h.start,f.start),end:Math.max(h.end,f.end)}}function Rs(h,f){var p=Math.max(h.start,f.start),v=Math.min(h.end,f.end);return p<v?{start:p,end:v}:null}function Fu(h,f,p){h.splice(f,0,p)}function Bl(h,f,p){var v=0,A=h.length;if(!A||f<p(h[v]))return[0,0];if(f>p(h[A-1]))return[A,0];for(;v<A;){var S=Math.floor(v+(A-v)/2),N=p(h[S]);if(f<N)A=S;else{if(!(f>N))return[S,1];v=S+1}}return[v,0]}var Lu=function(){function h(f){this.component=f.component,this.isHitComboAllowed=f.isHitComboAllowed||null}return h.prototype.destroy=function(){},h}();function Oc(h,f){return{component:h,el:f.el,useEventCenter:null==f.useEventCenter||f.useEventCenter,isHitComboAllowed:f.isHitComboAllowed||null}}function rf(h){var f;return(f={})[h.component.uid]=h,f}var Vu={},Ul=function(){function h(f,p){this.emitter=new va}return h.prototype.destroy=function(){},h.prototype.setMirrorIsVisible=function(f){},h.prototype.setMirrorNeedsRevert=function(f){},h.prototype.setAutoScrollEnabled=function(f){},h}(),Vh={},Fc={startTime:Bt,duration:Bt,create:Boolean,sourceId:String};function Bh(h){var f=Ki(h,Fc),p=f.refined;return{startTime:p.startTime||null,duration:p.duration||null,create:null==p.create||p.create,sourceId:p.sourceId,leftoverProps:f.extra}}var Lc=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return(0,O.__extends)(f,h),f.prototype.render=function(){var p=this,v=this.props.widgetGroups.map(function(A){return p.renderWidgetGroup(A)});return G.apply(void 0,(0,O.__spreadArray)(["div",{className:"fc-toolbar-chunk"}],v))},f.prototype.renderWidgetGroup=function(p){for(var v=this.props,A=this.context.theme,S=[],N=!0,V=0,q=p;V<q.length;V++){var X=q[V],ke=X.buttonName,Ue=X.buttonClick,dt=X.buttonText,yt=X.buttonIcon,wt=X.buttonHint;if("title"===ke)N=!1,S.push(G("h2",{className:"fc-toolbar-title",id:v.titleId},v.title));else{var Xt=ke===v.activeButton,cn=!v.isTodayEnabled&&"today"===ke||!v.isPrevEnabled&&"prev"===ke||!v.isNextEnabled&&"next"===ke,Pt=["fc-"+ke+"-button",A.getClass("button")];Xt&&Pt.push(A.getClass("buttonActive")),S.push(G("button",{type:"button",title:"function"==typeof wt?wt(v.navUnit):wt,disabled:cn,"aria-pressed":Xt,className:Pt.join(" "),onClick:Ue},dt||(yt?G("span",{className:yt}):"")))}}if(S.length>1){var rr=N&&A.getClass("buttonGroup")||"";return G.apply(void 0,(0,O.__spreadArray)(["div",{className:rr}],S))}return S[0]},f}(_r),D=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return(0,O.__extends)(f,h),f.prototype.render=function(){var N,V,p=this.props,S=!1,q=p.model.sectionWidgets,X=q.center;return q.left?(S=!0,N=q.left):N=q.start,q.right?(S=!0,V=q.right):V=q.end,G("div",{className:[p.extraClassName||"","fc-toolbar",S?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",N||[]),this.renderSection("center",X||[]),this.renderSection("end",V||[]))},f.prototype.renderSection=function(p,v){var A=this.props;return G(Lc,{key:p,widgetGroups:v,title:A.title,navUnit:A.navUnit,activeButton:A.activeButton,isTodayEnabled:A.isTodayEnabled,isPrevEnabled:A.isPrevEnabled,isNextEnabled:A.isNextEnabled,titleId:A.titleId})},f}(_r),_=function(h){function f(){var p=null!==h&&h.apply(this,arguments)||this;return p.state={availableWidth:null},p.handleEl=function(v){p.el=v,oi(p.props.elRef,v),p.updateAvailableWidth()},p.handleResize=function(){p.updateAvailableWidth()},p}return(0,O.__extends)(f,h),f.prototype.render=function(){var v=this.props,A=this.state,S=v.aspectRatio,V="",q="";return S?null!==A.availableWidth?V=A.availableWidth/S:q=1/S*100+"%":V=v.height||"",G("div",{"aria-labelledby":v.labeledById,ref:this.handleEl,className:["fc-view-harness",S||v.liquid||v.height?"fc-view-harness-active":"fc-view-harness-passive"].join(" "),style:{height:V,paddingBottom:q}},v.children)},f.prototype.componentDidMount=function(){this.context.addResizeHandler(this.handleResize)},f.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleResize)},f.prototype.updateAvailableWidth=function(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})},f}(_r),E=function(h){function f(p){var v=h.call(this,p)||this;return v.handleSegClick=function(A,S){var N=v.component,V=N.context,q=or(S);if(q&&N.isValidSegDownEl(A.target)){var X=H(A.target,".fc-event-forced-url"),ke=X?X.querySelector("a[href]").href:"";V.emitter.trigger("eventClick",{el:S,event:new Gr(N.context,q.eventRange.def,q.eventRange.instance),jsEvent:A,view:V.viewApi}),ke&&!A.defaultPrevented&&(window.location.href=ke)}},v.destroy=fe(p.el,"click",".fc-event",v.handleSegClick),v}return(0,O.__extends)(f,h),f}(Lu),x=function(h){function f(p){var v=h.call(this,p)||this;return v.handleEventElRemove=function(A){A===v.currentSegEl&&v.handleSegLeave(null,v.currentSegEl)},v.handleSegEnter=function(A,S){or(S)&&(v.currentSegEl=S,v.triggerEvent("eventMouseEnter",A,S))},v.handleSegLeave=function(A,S){v.currentSegEl&&(v.currentSegEl=null,v.triggerEvent("eventMouseLeave",A,S))},v.removeHoverListeners=function xe(h,f,p,v){var A;return fe(h,"mouseover",f,function(S,N){if(N!==A){A=N,p(S,N);var V=function(q){A=null,v(q,N),N.removeEventListener("mouseleave",V)};N.addEventListener("mouseleave",V)}})}(p.el,".fc-event",v.handleSegEnter,v.handleSegLeave),v}return(0,O.__extends)(f,h),f.prototype.destroy=function(){this.removeHoverListeners()},f.prototype.triggerEvent=function(p,v,A){var S=this.component,N=S.context,V=or(A);(!v||S.isValidSegDownEl(v.target))&&N.emitter.trigger(p,{el:A,event:new Gr(N,V.eventRange.def,V.eventRange.instance),jsEvent:v,view:N.viewApi})},f}(Lu),U=function(h){function f(){var p=null!==h&&h.apply(this,arguments)||this;return p.buildViewContext=Un(bc),p.buildViewPropTransformers=Un(Le),p.buildToolbarProps=Un(Q),p.headerRef=Ce(),p.footerRef=Ce(),p.interactionsStore={},p.state={viewLabelId:mt()},p.registerInteractiveComponent=function(v,A){var S=Oc(v,A),q=[E,x].concat(p.props.pluginHooks.componentInteractions).map(function(X){return new X(S)});p.interactionsStore[v.uid]=q,Vu[v.uid]=S},p.unregisterInteractiveComponent=function(v){var A=p.interactionsStore[v.uid];if(A){for(var S=0,N=A;S<N.length;S++)N[S].destroy();delete p.interactionsStore[v.uid]}delete Vu[v.uid]},p.resizeRunner=new Ru(function(){p.props.emitter.trigger("_resize",!0),p.props.emitter.trigger("windowResize",{view:p.props.viewApi})}),p.handleWindowResize=function(v){var A=p.props.options;A.handleWindowResize&&v.target===window&&p.resizeRunner.request(A.windowResizeDelay)},p}return(0,O.__extends)(f,h),f.prototype.render=function(){var q,p=this.props,v=p.toolbarConfig,A=p.options,S=this.buildToolbarProps(p.viewSpec,p.dateProfile,p.dateProfileGenerator,p.currentDate,Tl(p.options.now,p.dateEnv),p.viewTitle),N=!1,V="";p.isHeightAuto||p.forPrint?V="":null!=A.height?N=!0:null!=A.contentHeight?V=A.contentHeight:q=Math.max(A.aspectRatio,.5);var X=this.buildViewContext(p.viewSpec,p.viewApi,p.options,p.dateProfileGenerator,p.dateEnv,p.theme,p.pluginHooks,p.dispatch,p.getCurrentData,p.emitter,p.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),ke=v.header&&v.header.hasTitle?this.state.viewLabelId:"";return G(si.Provider,{value:X},v.header&&G(D,(0,O.__assign)({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:v.header,titleId:ke},S)),G(_,{liquid:N,height:V,aspectRatio:q,labeledById:ke},this.renderView(p),this.buildAppendContent()),v.footer&&G(D,(0,O.__assign)({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:v.footer,titleId:""},S)))},f.prototype.componentDidMount=function(){var p=this.props;this.calendarInteractions=p.pluginHooks.calendarInteractions.map(function(S){return new S(p)}),window.addEventListener("resize",this.handleWindowResize);var v=p.pluginHooks.propSetHandlers;for(var A in v)v[A](p[A],p)},f.prototype.componentDidUpdate=function(p){var v=this.props,A=v.pluginHooks.propSetHandlers;for(var S in A)v[S]!==p[S]&&A[S](v[S],v)},f.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(var p=0,v=this.calendarInteractions;p<v.length;p++)v[p].destroy();this.props.emitter.trigger("_unmount")},f.prototype.buildAppendContent=function(){var p=this.props,v=p.pluginHooks.viewContainerAppends.map(function(A){return A(p)});return G.apply(void 0,(0,O.__spreadArray)([Ee,{}],v))},f.prototype.renderView=function(p){for(var A=p.viewSpec,S={dateProfile:p.dateProfile,businessHours:p.businessHours,eventStore:p.renderableEventStore,eventUiBases:p.eventUiBases,dateSelection:p.dateSelection,eventSelection:p.eventSelection,eventDrag:p.eventDrag,eventResize:p.eventResize,isHeightAuto:p.isHeightAuto,forPrint:p.forPrint},V=0,q=this.buildViewPropTransformers(p.pluginHooks.viewPropsTransformers);V<q.length;V++)(0,O.__assign)(S,q[V].transform(S,p));return G(A.component,(0,O.__assign)({},S))},f}(jo);function Q(h,f,p,v,A,S){var N=p.build(A,void 0,!1),V=p.buildPrev(f,v,!1),q=p.buildNext(f,v,!1);return{title:S,activeButton:h.type,navUnit:h.singleUnit,isTodayEnabled:N.isValid&&!we(f.currentRange,A),isPrevEnabled:V.isValid,isNextEnabled:q.isValid}}function Le(h){return h.map(function(f){return new f})}var ht=function(h){function f(){var p=null!==h&&h.apply(this,arguments)||this;return p.state={forPrint:!1},p.handleBeforePrint=function(){p.setState({forPrint:!0})},p.handleAfterPrint=function(){p.setState({forPrint:!1})},p}return(0,O.__extends)(f,h),f.prototype.render=function(){var p=this.props,v=p.options,A=this.state.forPrint,S=A||"auto"===v.height||"auto"===v.contentHeight,N=S||null==v.height?"":v.height,V=["fc",A?"fc-media-print":"fc-media-screen","fc-direction-"+v.direction,p.theme.getClass("root")];return Qs()||V.push("fc-liquid-hack"),p.children(V,N,S,A)},f.prototype.componentDidMount=function(){var p=this.props.emitter;p.on("_beforeprint",this.handleBeforePrint),p.on("_afterprint",this.handleAfterPrint)},f.prototype.componentWillUnmount=function(){var p=this.props.emitter;p.off("_beforeprint",this.handleBeforePrint),p.off("_afterprint",this.handleAfterPrint)},f}(_r);function Zt(h,f){return Tr(!h||f>10?{weekday:"short"}:f>1?{weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}:{weekday:"long"})}var on="fc-col-header-cell";function Bn(h){return h.text}var xr=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return(0,O.__extends)(f,h),f.prototype.render=function(){var p=this.context,v=p.dateEnv,A=p.options,S=p.theme,N=p.viewApi,V=this.props,q=V.date,ke=pa(q,V.todayRange,null,V.dateProfile),Ue=[on].concat(yo(ke,S)),dt=v.format(q,V.dayHeaderFormat),yt=!ke.isDisabled&&V.colCnt>1?hn(this.context,q):{},wt=(0,O.__assign)((0,O.__assign)((0,O.__assign)({date:v.toDate(q),view:N},V.extraHookProps),{text:dt}),ke);return G(bo,{hookProps:wt,classNames:A.dayHeaderClassNames,content:A.dayHeaderContent,defaultContent:Bn,didMount:A.dayHeaderDidMount,willUnmount:A.dayHeaderWillUnmount},function(Xt,cn,Pt,rr){return G("th",(0,O.__assign)({ref:Xt,role:"columnheader",className:Ue.concat(cn).join(" "),"data-date":ke.isDisabled?void 0:mr(q),colSpan:V.colSpan},V.extraDataAttrs),G("div",{className:"fc-scrollgrid-sync-inner"},!ke.isDisabled&&G("a",(0,O.__assign)({ref:Pt,className:["fc-col-header-cell-cushion",V.isSticky?"fc-sticky":""].join(" ")},yt),rr)))})},f}(_r),Pi=Tr({weekday:"long"}),ks=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return(0,O.__extends)(f,h),f.prototype.render=function(){var p=this.props,v=this.context,A=v.dateEnv,S=v.theme,N=v.viewApi,V=v.options,q=$e(new Date(2592e5),p.dow),X={dow:p.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},ke=[on].concat(yo(X,S),p.extraClassNames||[]),Ue=A.format(q,p.dayHeaderFormat),dt=(0,O.__assign)((0,O.__assign)((0,O.__assign)((0,O.__assign)({date:q},X),{view:N}),p.extraHookProps),{text:Ue});return G(bo,{hookProps:dt,classNames:V.dayHeaderClassNames,content:V.dayHeaderContent,defaultContent:Bn,didMount:V.dayHeaderDidMount,willUnmount:V.dayHeaderWillUnmount},function(yt,wt,Xt,cn){return G("th",(0,O.__assign)({ref:yt,role:"columnheader",className:ke.concat(wt).join(" "),colSpan:p.colSpan},p.extraDataAttrs),G("div",{className:"fc-scrollgrid-sync-inner"},G("a",{"aria-label":A.format(q,Pi),className:["fc-col-header-cell-cushion",p.isSticky?"fc-sticky":""].join(" "),ref:Xt},cn)))})},f}(_r),Zo=function(h){function f(p,v){var A=h.call(this,p,v)||this;return A.initialNowDate=Tl(v.options.now,v.dateEnv),A.initialNowQueriedMs=(new Date).valueOf(),A.state=A.computeTiming().currentState,A}return(0,O.__extends)(f,h),f.prototype.render=function(){var A=this.state;return this.props.children(A.nowDate,A.todayRange)},f.prototype.componentDidMount=function(){this.setTimeout()},f.prototype.componentDidUpdate=function(p){p.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())},f.prototype.componentWillUnmount=function(){this.clearTimeout()},f.prototype.computeTiming=function(){var v=this.props,A=this.context,S=Tt(this.initialNowDate,(new Date).valueOf()-this.initialNowQueriedMs),N=A.dateEnv.startOf(S,v.unit),V=A.dateEnv.add(N,Bt(1,v.unit)),q=V.valueOf()-S.valueOf();return q=Math.min(864e5,q),{currentState:{nowDate:N,todayRange:sf(N)},nextState:{nowDate:V,todayRange:sf(V)},waitMs:q}},f.prototype.setTimeout=function(){var p=this,v=this.computeTiming(),A=v.nextState;this.timeoutId=setTimeout(function(){p.setState(A,function(){p.setTimeout()})},v.waitMs)},f.prototype.clearTimeout=function(){this.timeoutId&&clearTimeout(this.timeoutId)},f.contextType=si,f}(k);function sf(h){var f=un(h);return{start:f,end:$e(f,1)}}var Vc=function(h){function f(){var p=null!==h&&h.apply(this,arguments)||this;return p.createDayHeaderFormatter=Un(Do),p}return(0,O.__extends)(f,h),f.prototype.render=function(){var v=this.props,A=v.dates,S=v.dateProfile,N=v.datesRepDistinctDays,V=v.renderIntro,q=this.createDayHeaderFormatter(this.context.options.dayHeaderFormat,N,A.length);return G(Zo,{unit:"day"},function(X,ke){return G("tr",{role:"row"},V&&V("day"),A.map(function(Ue){return N?G(xr,{key:Ue.toISOString(),date:Ue,dateProfile:S,todayRange:ke,colCnt:A.length,dayHeaderFormat:q}):G(ks,{key:Ue.getUTCDay(),dow:Ue.getUTCDay(),dayHeaderFormat:q})}))})},f}(_r);function Do(h,f,p){return h||Zt(f,p)}var of=function(){function h(f,p){for(var v=f.start,A=f.end,S=[],N=[],V=-1;v<A;)p.isHiddenDay(v)?S.push(V+.5):(S.push(V+=1),N.push(v)),v=$e(v,1);this.dates=N,this.indices=S,this.cnt=N.length}return h.prototype.sliceRange=function(f){var p=this.getDateDayIndex(f.start),v=this.getDateDayIndex($e(f.end,-1)),A=Math.max(0,p),S=Math.min(this.cnt-1,v);return(A=Math.ceil(A))<=(S=Math.floor(S))?{firstIndex:A,lastIndex:S,isStart:p===A,isEnd:v===S}:null},h.prototype.getDateDayIndex=function(f){var p=this.indices,v=Math.floor(vt(this.dates[0],f));return v<0?p[0]-1:v>=p.length?p[p.length-1]+1:p[v]},h}(),Bu=function(){function h(f,p){var A,S,N,v=f.dates;if(p){for(S=v[0].getUTCDay(),A=1;A<v.length&&v[A].getUTCDay()!==S;A+=1);N=Math.ceil(v.length/A)}else N=1,A=v.length;this.rowCnt=N,this.colCnt=A,this.daySeries=f,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}return h.prototype.buildCells=function(){for(var f=[],p=0;p<this.rowCnt;p+=1){for(var v=[],A=0;A<this.colCnt;A+=1)v.push(this.buildCell(p,A));f.push(v)}return f},h.prototype.buildCell=function(f,p){var v=this.daySeries.dates[f*this.colCnt+p];return{key:v.toISOString(),date:v}},h.prototype.buildHeaderDates=function(){for(var f=[],p=0;p<this.colCnt;p+=1)f.push(this.cells[0][p].date);return f},h.prototype.sliceRange=function(f){var p=this.colCnt,v=this.daySeries.sliceRange(f),A=[];if(v)for(var S=v.firstIndex,N=v.lastIndex,V=S;V<=N;){var q=Math.floor(V/p),X=Math.min((q+1)*p,N+1);A.push({row:q,firstCol:V%p,lastCol:(X-1)%p,isStart:v.isStart&&V===S,isEnd:v.isEnd&&X-1===N}),V=X}return A},h}(),af=function(){function h(){this.sliceBusinessHours=Un(this._sliceBusinessHours),this.sliceDateSelection=Un(this._sliceDateSpan),this.sliceEventStore=Un(this._sliceEventStore),this.sliceEventDrag=Un(this._sliceInteraction),this.sliceEventResize=Un(this._sliceInteraction),this.forceDayIfListItem=!1}return h.prototype.sliceProps=function(f,p,v,A){for(var S=[],N=4;N<arguments.length;N++)S[N-4]=arguments[N];var V=f.eventUiBases,q=this.sliceEventStore.apply(this,(0,O.__spreadArray)([f.eventStore,V,p,v],S));return{dateSelectionSegs:this.sliceDateSelection.apply(this,(0,O.__spreadArray)([f.dateSelection,V,A],S)),businessHourSegs:this.sliceBusinessHours.apply(this,(0,O.__spreadArray)([f.businessHours,p,v,A],S)),fgEventSegs:q.fg,bgEventSegs:q.bg,eventDrag:this.sliceEventDrag.apply(this,(0,O.__spreadArray)([f.eventDrag,V,p,v],S)),eventResize:this.sliceEventResize.apply(this,(0,O.__spreadArray)([f.eventResize,V,p,v],S)),eventSelection:f.eventSelection}},h.prototype.sliceNowDate=function(f,p){for(var v=[],A=2;A<arguments.length;A++)v[A-2]=arguments[A];return this._sliceDateSpan.apply(this,(0,O.__spreadArray)([{range:{start:f,end:Tt(f,1)},allDay:!1},{},p],v))},h.prototype._sliceBusinessHours=function(f,p,v,A){for(var S=[],N=4;N<arguments.length;N++)S[N-4]=arguments[N];return f?this._sliceEventStore.apply(this,(0,O.__spreadArray)([Et(f,Hl(p,Boolean(v)),A),{},p,v],S)).bg:[]},h.prototype._sliceEventStore=function(f,p,v,A){for(var S=[],N=4;N<arguments.length;N++)S[N-4]=arguments[N];if(f){var V=bt(f,p,Hl(v,Boolean(A)),A);return{bg:this.sliceEventRanges(V.bg,S),fg:this.sliceEventRanges(V.fg,S)}}return{bg:[],fg:[]}},h.prototype._sliceInteraction=function(f,p,v,A){for(var S=[],N=4;N<arguments.length;N++)S[N-4]=arguments[N];if(!f)return null;var V=bt(f.mutatedEvents,p,Hl(v,Boolean(A)),A);return{segs:this.sliceEventRanges(V.fg,S),affectedInstances:f.affectedEvents.instances,isEvent:f.isEvent}},h.prototype._sliceDateSpan=function(f,p,v){for(var A=[],S=3;S<arguments.length;S++)A[S-3]=arguments[S];if(!f)return[];for(var N=Pd(f,p,v),V=this.sliceRange.apply(this,(0,O.__spreadArray)([f.range],A)),q=0,X=V;q<X.length;q++){var ke=X[q];ke.eventRange=N}return V},h.prototype.sliceEventRanges=function(f,p){for(var v=[],A=0,S=f;A<S.length;A++)v.push.apply(v,this.sliceEventRange(S[A],p));return v},h.prototype.sliceEventRange=function(f,p){var v=f.range;this.forceDayIfListItem&&"list-item"===f.ui.display&&(v={start:v.start,end:$e(v.start,1)});for(var A=this.sliceRange.apply(this,(0,O.__spreadArray)([v],p)),S=0,N=A;S<N.length;S++){var V=N[S];V.eventRange=f,V.isStart=f.isStart&&V.isStart,V.isEnd=f.isEnd&&V.isEnd}return A},h}();function Hl(h,f){var p=h.activeRange;return f?p:{start:Tt(p.start,h.slotMinTime.milliseconds),end:Tt(p.end,h.slotMaxTime.milliseconds-864e5)}}function Uu(h,f,p){var v=h.mutatedEvents.instances;for(var A in v)if(!$(f.validRange,v[A].range))return!1;return Gl({eventDrag:h},p)}function jl(h,f,p){return!!$(f.validRange,h.range)&&Gl({dateSelection:h},p)}function Gl(h,f){var p=f.getCurrentData(),v=(0,O.__assign)({businessHours:p.businessHours,dateSelection:"",eventStore:p.eventStore,eventUiBases:p.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},h);return(f.pluginHooks.isPropsValid||Ta)(v,f)}function Ta(h,f,p,v){return void 0===p&&(p={}),!(h.eventDrag&&!function Uh(h,f,p,v){var A=f.getCurrentData(),S=h.eventDrag,N=S.mutatedEvents,V=N.defs,q=N.instances,X=Wt(V,S.isEvent?h.eventUiBases:{"":A.selectionConfig});v&&(X=ge(X,v));var ke=function Rc(h,f){return{defs:h.defs,instances:ae(h.instances,function(p){return!f[p.instanceId]})}}(h.eventStore,S.affectedEvents.instances),Ue=ke.defs,dt=ke.instances,yt=Wt(Ue,h.eventUiBases);for(var wt in q){var Xt=q[wt],cn=Xt.range,Pt=X[Xt.defId],rr=V[Xt.defId];if(!Hh(Pt.constraints,cn,ke,h.businessHours,f))return!1;var Mr=f.options.eventOverlap,zr="function"==typeof Mr?Mr:null;for(var qr in dt){var Wr=dt[qr];if(K(cn,Wr.range)&&(!1===yt[Wr.defId].overlap&&S.isEvent||!1===Pt.overlap||zr&&!zr(new Gr(f,Ue[Wr.defId],Wr),new Gr(f,rr,Xt))))return!1}for(var Ps=A.eventStore,Os=0,no=Pt.allows;Os<no.length;Os++){var jc,hf=no[Os],ju=(0,O.__assign)((0,O.__assign)({},p),{range:Xt.range,allDay:rr.allDay}),Ia=Ps.defs[rr.defId];if(jc=Ia?new Gr(f,Ia,Ps.instances[wt]):new Gr(f,rr),!hf(Ds(ju,f),jc))return!1}}return!0}(h,f,p,v)||h.dateSelection&&!function Hr(h,f,p,v){var A=h.eventStore,S=A.defs,N=A.instances,V=h.dateSelection,q=V.range,X=f.getCurrentData().selectionConfig;if(v&&(X=v(X)),!Hh(X.constraints,q,A,h.businessHours,f))return!1;var ke=f.options.selectOverlap,Ue="function"==typeof ke?ke:null;for(var dt in N){var yt=N[dt];if(K(q,yt.range)&&(!1===X.overlap||Ue&&!Ue(new Gr(f,S[yt.defId],yt),null)))return!1}for(var wt=0,Xt=X.allows;wt<Xt.length;wt++)if(!(0,Xt[wt])(Ds((0,O.__assign)((0,O.__assign)({},p),V),f),null))return!1;return!0}(h,f,p,v))}function Hh(h,f,p,v,A){for(var S=0,N=h;S<N.length;S++)if(!jh(qg(N[S],f,p,v,A),f))return!1;return!0}function qg(h,f,p,v,A){return"businessHours"===h?Bc(Et(v,f,A)):"string"==typeof h?Bc(la(p,function(S){return S.groupId===h})):"object"==typeof h&&h?Bc(Et(h,f,A)):[]}function Bc(h){var f=h.instances,p=[];for(var v in f)p.push(f[v].range);return p}function jh(h,f){for(var p=0,v=h;p<v.length;p++)if($(v[p],f))return!0;return!1}var lf=/^(visible|hidden)$/,Gh=function(h){function f(){var p=null!==h&&h.apply(this,arguments)||this;return p.handleEl=function(v){p.el=v,oi(p.props.elRef,v)},p}return(0,O.__extends)(f,h),f.prototype.render=function(){var p=this.props,v=p.liquid,A=p.liquidIsAbsolute,S=v&&A,N=["fc-scroller"];return v&&N.push(A?"fc-scroller-liquid-absolute":"fc-scroller-liquid"),G("div",{ref:this.handleEl,className:N.join(" "),style:{overflowX:p.overflowX,overflowY:p.overflowY,left:S&&-(p.overcomeLeft||0)||"",right:S&&-(p.overcomeRight||0)||"",bottom:S&&-(p.overcomeBottom||0)||"",marginLeft:!S&&-(p.overcomeLeft||0)||"",marginRight:!S&&-(p.overcomeRight||0)||"",marginBottom:!S&&-(p.overcomeBottom||0)||"",maxHeight:p.maxHeight||""}},p.children)},f.prototype.needsXScrolling=function(){if(lf.test(this.props.overflowX))return!1;for(var p=this.el,v=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),A=p.children,S=0;S<A.length;S+=1)if(A[S].getBoundingClientRect().width>v)return!0;return!1},f.prototype.needsYScrolling=function(){if(lf.test(this.props.overflowY))return!1;for(var p=this.el,v=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),A=p.children,S=0;S<A.length;S+=1)if(A[S].getBoundingClientRect().height>v)return!0;return!1},f.prototype.getXScrollbarWidth=function(){return lf.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight},f.prototype.getYScrollbarWidth=function(){return lf.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth},f}(_r),Wg=function(){function h(f){var p=this;this.masterCallback=f,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=function(v,A){var N=p.depths,V=p.currentMap,q=!1,X=!1;null!==v?(q=A in V,V[A]=v,N[A]=(N[A]||0)+1,X=!0):(N[A]-=1,N[A]||(delete V[A],delete p.callbackMap[A],q=!0)),p.masterCallback&&(q&&p.masterCallback(null,String(A)),X&&p.masterCallback(v,String(A)))}}return h.prototype.createRef=function(f){var p=this,v=this.callbackMap[f];return v||(v=this.callbackMap[f]=function(A){p.handleValue(A,String(f))}),v},h.prototype.collect=function(f,p,v){return he(this.currentMap,f,p,v)},h.prototype.getAll=function(){return pt(this.currentMap)},h}();function by(h){for(var p=0,v=0,A=me(h,".fc-scrollgrid-shrink");v<A.length;v++)p=Math.max(p,ln(A[v]));return Math.ceil(p)}function Zg(h,f){return h.liquid&&f.liquid}function Ey(h,f){return null!=f.maxHeight||Zg(h,f)}function Ay(h,f,p,v){var A=p.expandRows;return"function"==typeof f.content?f.content(p):G("table",{role:"presentation",className:[f.tableClassName,h.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:p.tableMinWidth,width:p.clientWidth,height:A?p.clientHeight:""}},p.tableColGroupNode,G(v?"thead":"tbody",{role:"presentation"},"function"==typeof f.rowContent?f.rowContent(p):f.rowContent))}function Uc(h,f){return Ei(h,f,ut)}function es(h,f){for(var p=[],v=0,A=h;v<A.length;v++)for(var S=A[v],N=S.span||1,V=0;V<N;V+=1)p.push(G("col",{style:{width:"shrink"===S.width?zh(f):S.width||"",minWidth:S.minWidth||""}}));return G.apply(void 0,(0,O.__spreadArray)(["colgroup",{}],p))}function zh(h){return null==h?4:h}function $g(h){for(var f=0,p=h;f<p.length;f++)if("shrink"===p[f].width)return!0;return!1}function uf(h,f){var p=["fc-scrollgrid",f.theme.getClass("table")];return h&&p.push("fc-scrollgrid-liquid"),p}function Ci(h,f){var p=["fc-scrollgrid-section","fc-scrollgrid-section-"+h.type,h.className];return f&&h.liquid&&null==h.maxHeight&&p.push("fc-scrollgrid-section-liquid"),h.isSticky&&p.push("fc-scrollgrid-section-sticky"),p}function Ns(h){return G("div",{className:"fc-scrollgrid-sticky-shim",style:{width:h.clientWidth,minWidth:h.tableMinWidth}})}function qh(h){var f=h.stickyHeaderDates;return(null==f||"auto"===f)&&(f="auto"===h.height||"auto"===h.viewHeight),f}function Kg(h){var f=h.stickyFooterScrollbar;return(null==f||"auto"===f)&&(f="auto"===h.height||"auto"===h.viewHeight),f}var wy=function(h){function f(){var p=null!==h&&h.apply(this,arguments)||this;return p.processCols=Un(function(v){return v},Uc),p.renderMicroColGroup=Un(es),p.scrollerRefs=new Wg,p.scrollerElRefs=new Wg(p._handleScrollerEl.bind(p)),p.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},p.handleSizing=function(){p.setState((0,O.__assign)({shrinkWidth:p.computeShrinkWidth()},p.computeScrollerDims()))},p}return(0,O.__extends)(f,h),f.prototype.render=function(){var p=this,v=p.props,A=p.state,S=p.context,N=v.sections||[],V=this.processCols(v.cols),q=this.renderMicroColGroup(V,A.shrinkWidth),X=uf(v.liquid,S);v.collapsibleWidth&&X.push("fc-scrollgrid-collapsible");for(var dt,ke=N.length,Ue=0,yt=[],wt=[],Xt=[];Ue<ke&&"header"===(dt=N[Ue]).type;)yt.push(this.renderSection(dt,q,!0)),Ue+=1;for(;Ue<ke&&"body"===(dt=N[Ue]).type;)wt.push(this.renderSection(dt,q,!1)),Ue+=1;for(;Ue<ke&&"footer"===(dt=N[Ue]).type;)Xt.push(this.renderSection(dt,q,!0)),Ue+=1;var cn=!Qs(),Pt={role:"rowgroup"};return G("table",{role:"grid",className:X.join(" "),style:{height:v.height}},Boolean(!cn&&yt.length)&&G.apply(void 0,(0,O.__spreadArray)(["thead",Pt],yt)),Boolean(!cn&&wt.length)&&G.apply(void 0,(0,O.__spreadArray)(["tbody",Pt],wt)),Boolean(!cn&&Xt.length)&&G.apply(void 0,(0,O.__spreadArray)(["tfoot",Pt],Xt)),cn&&G.apply(void 0,(0,O.__spreadArray)((0,O.__spreadArray)((0,O.__spreadArray)(["tbody",Pt],yt),wt),Xt)))},f.prototype.renderSection=function(p,v,A){return"outerContent"in p?G(Ee,{key:p.key},p.outerContent):G("tr",{key:p.key,role:"presentation",className:Ci(p,this.props.liquid).join(" ")},this.renderChunkTd(p,v,p.chunk,A))},f.prototype.renderChunkTd=function(p,v,A,S){if("outerContent"in A)return A.outerContent;var N=this.props,V=this.state,q=V.forceYScrollbars,X=V.scrollerClientWidths,ke=V.scrollerClientHeights,Ue=Ey(N,p),dt=Zg(N,p),yt=N.liquid?q?"scroll":Ue?"auto":"hidden":"visible",wt=p.key,Xt=Ay(p,A,{tableColGroupNode:v,tableMinWidth:"",clientWidth:N.collapsibleWidth||void 0===X[wt]?null:X[wt],clientHeight:void 0!==ke[wt]?ke[wt]:null,expandRows:p.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:function(){}},S);return G(S?"th":"td",{ref:A.elRef,role:"presentation"},G("div",{className:"fc-scroller-harness"+(dt?" fc-scroller-harness-liquid":"")},G(Gh,{ref:this.scrollerRefs.createRef(wt),elRef:this.scrollerElRefs.createRef(wt),overflowY:yt,overflowX:N.liquid?"hidden":"visible",maxHeight:p.maxHeight,liquid:dt,liquidIsAbsolute:!0},Xt)))},f.prototype._handleScrollerEl=function(p,v){var A=function Wh(h,f){for(var p=0,v=h;p<v.length;p++){var A=v[p];if(A.key===f)return A}return null}(this.props.sections,v);A&&oi(A.chunk.scrollerElRef,p)},f.prototype.componentDidMount=function(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)},f.prototype.componentDidUpdate=function(){this.handleSizing()},f.prototype.componentWillUnmount=function(){this.context.removeResizeHandler(this.handleSizing)},f.prototype.computeShrinkWidth=function(){return $g(this.props.cols)?by(this.scrollerElRefs.getAll()):0},f.prototype.computeScrollerDims=function(){var p=vu(),A=this.scrollerRefs,S=this.scrollerElRefs,N=!1,V={},q={};for(var X in A.currentMap){var ke=A.currentMap[X];if(ke&&ke.needsYScrolling()){N=!0;break}}for(var Ue=0,dt=this.props.sections;Ue<dt.length;Ue++){var wt=S.currentMap[X=dt[Ue].key];if(wt){var Xt=wt.parentNode;V[X]=Math.floor(Xt.getBoundingClientRect().width-(N?p.y:0)),q[X]=Math.floor(Xt.getBoundingClientRect().height)}}return{forceYScrollbars:N,scrollerClientWidths:V,scrollerClientHeights:q}},f}(_r);wy.addStateEquality({scrollerClientWidths:ut,scrollerClientHeights:ut});var zl=function(h){function f(){var p=null!==h&&h.apply(this,arguments)||this;return p.elRef=Ce(),p}return(0,O.__extends)(f,h),f.prototype.render=function(){var v=this.props,A=this.context,S=A.options,N=v.seg,V=N.eventRange,q=V.ui,X={event:new Gr(A,V.def,V.instance),view:A.viewApi,timeText:v.timeText,textColor:q.textColor,backgroundColor:q.backgroundColor,borderColor:q.borderColor,isDraggable:!v.disableDragging&&as(N,A),isStartResizable:!v.disableResizing&&Cs(N,A),isEndResizable:!v.disableResizing&&Zs(N),isMirror:Boolean(v.isDragging||v.isResizing||v.isDateSelecting),isStart:Boolean(N.isStart),isEnd:Boolean(N.isEnd),isPast:Boolean(v.isPast),isFuture:Boolean(v.isFuture),isToday:Boolean(v.isToday),isSelected:Boolean(v.isSelected),isDragging:Boolean(v.isDragging),isResizing:Boolean(v.isResizing)},ke=at(X).concat(q.classNames);return G(bo,{hookProps:X,classNames:S.eventClassNames,content:S.eventContent,defaultContent:v.defaultContent,didMount:S.eventDidMount,willUnmount:S.eventWillUnmount,elRef:this.elRef},function(Ue,dt,yt,wt){return v.children(Ue,ke.concat(dt),yt,wt,X)})},f.prototype.componentDidMount=function(){fn(this.elRef.current,this.props.seg)},f.prototype.componentDidUpdate=function(p){var v=this.props.seg;v!==p.seg&&fn(this.elRef.current,v)},f}(_r),cf=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return(0,O.__extends)(f,h),f.prototype.render=function(){var v=this.props,A=this.context,S=v.seg,V=Ha(S,A.options.eventTimeFormat||v.defaultTimeFormat,A,v.defaultDisplayEventTime,v.defaultDisplayEventEnd);return G(zl,{seg:S,timeText:V,disableDragging:v.disableDragging,disableResizing:v.disableResizing,defaultContent:v.defaultContent||Ab,isDragging:v.isDragging,isResizing:v.isResizing,isDateSelecting:v.isDateSelecting,isSelected:v.isSelected,isPast:v.isPast,isFuture:v.isFuture,isToday:v.isToday},function(q,X,ke,Ue,dt){return G("a",(0,O.__assign)({className:v.extraClassNames.concat(X).join(" "),style:{borderColor:dt.borderColor,backgroundColor:dt.backgroundColor},ref:q},mo(S,A)),G("div",{className:"fc-event-main",ref:ke,style:{color:dt.textColor}},Ue),dt.isStartResizable&&G("div",{className:"fc-event-resizer fc-event-resizer-start"}),dt.isEndResizable&&G("div",{className:"fc-event-resizer fc-event-resizer-end"}))})},f}(_r);function Ab(h){return G("div",{className:"fc-event-main-frame"},h.timeText&&G("div",{className:"fc-event-time"},h.timeText),G("div",{className:"fc-event-title-container"},G("div",{className:"fc-event-title fc-sticky"},h.event.title||G(Ee,null,"\xa0"))))}var Zh=function(h){return G(si.Consumer,null,function(f){var p=f.options,v={isAxis:h.isAxis,date:f.dateEnv.toDate(h.date),view:f.viewApi};return G(bo,{hookProps:v,classNames:p.nowIndicatorClassNames,content:p.nowIndicatorContent,didMount:p.nowIndicatorDidMount,willUnmount:p.nowIndicatorWillUnmount},h.children)})},wb=Tr({day:"numeric"}),Cy=function(h){function f(){return null!==h&&h.apply(this,arguments)||this}return(0,O.__extends)(f,h),f.prototype.render=function(){var v=this.props,A=this.context,S=A.options,N=$h({date:v.date,dateProfile:v.dateProfile,todayRange:v.todayRange,showDayNumber:v.showDayNumber,extraProps:v.extraHookProps,viewApi:A.viewApi,dateEnv:A.dateEnv});return G(wu,{hookProps:N,content:S.dayCellContent,defaultContent:v.defaultContent},v.children)},f}(_r);function $h(h){var f=h.date,p=h.dateEnv,v=pa(f,h.todayRange,null,h.dateProfile);return(0,O.__assign)((0,O.__assign)((0,O.__assign)({date:p.toDate(f),view:h.viewApi},v),{dayNumberText:h.showDayNumber?p.format(f,wb):""}),h.extraProps)}var Dy=function(h){function f(){var p=null!==h&&h.apply(this,arguments)||this;return p.refineHookProps=is($h),p.normalizeClassNames=wc(),p}return(0,O.__extends)(f,h),f.prototype.render=function(){var v=this.props,A=this.context,S=A.options,N=this.refineHookProps({date:v.date,dateProfile:v.dateProfile,todayRange:v.todayRange,showDayNumber:v.showDayNumber,extraProps:v.extraHookProps,viewApi:A.viewApi,dateEnv:A.dateEnv}),V=yo(N,A.theme).concat(N.isDisabled?[]:this.normalizeClassNames(S.dayCellClassNames,N)),q=N.isDisabled?{}:{"data-date":mr(v.date)};return G(xs,{hookProps:N,didMount:S.dayCellDidMount,willUnmount:S.dayCellWillUnmount,elRef:v.elRef},function(X){return v.children(X,V,q,N.isDisabled)})},f}(_r);function Cb(h){return G("div",{className:"fc-"+h})}var df=function(h){return G(zl,{defaultContent:Hc,seg:h.seg,timeText:"",disableDragging:!0,disableResizing:!0,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:h.isPast,isFuture:h.isFuture,isToday:h.isToday},function(f,p,v,A,S){return G("div",{ref:f,className:["fc-bg-event"].concat(p).join(" "),style:{backgroundColor:S.backgroundColor}},A)})};function Hc(h){return h.event.title&&G("div",{className:"fc-event-title"},h.event.title)}var Yg=function(h){return G(si.Consumer,null,function(f){var p=f.dateEnv,v=f.options,A=h.date,S=v.weekNumberFormat||h.defaultFormat,N=p.computeWeekNumber(A),V=p.format(A,S);return G(bo,{hookProps:{num:N,text:V,date:A},classNames:v.weekNumberClassNames,content:v.weekNumberContent,defaultContent:Hu,didMount:v.weekNumberDidMount,willUnmount:v.weekNumberWillUnmount},h.children)})};function Hu(h){return h.text}var ff=function(h){function f(){var p=null!==h&&h.apply(this,arguments)||this;return p.state={titleId:mt()},p.handleRootEl=function(v){p.rootEl=v,p.props.elRef&&oi(p.props.elRef,v)},p.handleDocumentMouseDown=function(v){var A=We(v);p.rootEl.contains(A)||p.handleCloseClick()},p.handleDocumentKeyDown=function(v){"Escape"===v.key&&p.handleCloseClick()},p.handleCloseClick=function(){var v=p.props.onClose;v&&v()},p}return(0,O.__extends)(f,h),f.prototype.render=function(){var p=this.context,v=p.theme,A=p.options,N=this.props,V=this.state,q=["fc-popover",v.getClass("popover")].concat(N.extraClassNames||[]);return De(G("div",(0,O.__assign)({id:N.id,className:q.join(" "),"aria-labelledby":V.titleId},N.extraAttrs,{ref:this.handleRootEl}),G("div",{className:"fc-popover-header "+v.getClass("popoverHeader")},G("span",{className:"fc-popover-title",id:V.titleId},N.title),G("span",{className:"fc-popover-close "+v.getIconClass("close"),title:A.closeHint,onClick:this.handleCloseClick})),G("div",{className:"fc-popover-body "+v.getClass("popoverContent")},N.children)),N.parentEl)},f.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()},f.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)},f.prototype.updateSize=function(){var p=this.context.isRtl,v=this.props,A=v.alignmentEl,S=v.alignGridTop,N=this.rootEl,V=function yu(h){for(var f=us(h),p=h.getBoundingClientRect(),v=0,A=f;v<A.length;v++){var N=Ih(p,A[v].getBoundingClientRect());if(!N)return null;p=N}return p}(A);if(V){var q=N.getBoundingClientRect(),X=S?H(A,".fc-scrollgrid").getBoundingClientRect().top:V.top,ke=p?V.right-q.width:V.left;X=Math.max(X,10),ke=Math.min(ke,document.documentElement.clientWidth-10-q.width),ke=Math.max(ke,10);var Ue=N.offsetParent.getBoundingClientRect();je(N,{top:X-Ue.top,left:ke-Ue.left})}},f}(_r),Qg=function(h){function f(){var p=null!==h&&h.apply(this,arguments)||this;return p.handleRootEl=function(v){p.rootEl=v,v?p.context.registerInteractiveComponent(p,{el:v,useEventCenter:!1}):p.context.unregisterInteractiveComponent(p)},p}return(0,O.__extends)(f,h),f.prototype.render=function(){var p=this.context,S=this.props,N=S.startDate,V=S.todayRange,q=S.dateProfile,X=p.dateEnv.format(N,p.options.dayPopoverFormat);return G(Dy,{date:N,dateProfile:q,todayRange:V,elRef:this.handleRootEl},function(ke,Ue,dt){return G(ff,{elRef:ke,id:S.id,title:X,extraClassNames:["fc-more-popover"].concat(Ue),extraAttrs:dt,parentEl:S.parentEl,alignmentEl:S.alignmentEl,alignGridTop:S.alignGridTop,onClose:S.onClose},G(Cy,{date:N,dateProfile:q,todayRange:V},function(yt,wt){return wt&&G("div",{className:"fc-more-popover-misc",ref:yt},wt)}),S.children)})},f.prototype.queryHit=function(p,v,A,S){var V=this.rootEl,q=this.props;return p>=0&&p<A&&v>=0&&v<S?{dateProfile:q.dateProfile,dateSpan:(0,O.__assign)({allDay:!0,range:{start:q.startDate,end:q.endDate}},q.extraDateSpan),dayEl:V,rect:{left:0,top:0,right:A,bottom:S},layer:1}:null},f}(Eu),Ty=function(h){function f(){var p=null!==h&&h.apply(this,arguments)||this;return p.linkElRef=Ce(),p.state={isPopoverOpen:!1,popoverId:mt()},p.handleClick=function(v){var S=p.props,N=p.context,V=N.options.moreLinkClick,q=Kh(S).start;function X(ke){var Ue=ke.eventRange,wt=Ue.range;return{event:new Gr(N,Ue.def,Ue.instance),start:N.dateEnv.toDate(wt.start),end:N.dateEnv.toDate(wt.end),isStart:ke.isStart,isEnd:ke.isEnd}}"function"==typeof V&&(V=V({date:q,allDay:Boolean(S.allDayDate),allSegs:S.allSegs.map(X),hiddenSegs:S.hiddenSegs.map(X),jsEvent:v,view:N.viewApi})),V&&"popover"!==V?"string"==typeof V&&N.calendarApi.zoomTo(q,V):p.setState({isPopoverOpen:!0})},p.handlePopoverClose=function(){p.setState({isPopoverOpen:!1})},p}return(0,O.__extends)(f,h),f.prototype.render=function(){var p=this,A=this.props,S=this.state;return G(si.Consumer,null,function(N){var V=N.viewApi,q=N.options,X=N.calendarApi,ke=q.moreLinkText,Ue=A.moreCnt,dt=Kh(A),yt="function"==typeof ke?ke.call(X,Ue):"+"+Ue+" "+ke,wt=Dt(q.moreLinkHint,[Ue],yt),Xt={num:Ue,shortText:"+"+Ue,text:yt,view:V};return G(Ee,null,Boolean(A.moreCnt)&&G(bo,{elRef:p.linkElRef,hookProps:Xt,classNames:q.moreLinkClassNames,content:q.moreLinkContent,defaultContent:A.defaultContent||Iy,didMount:q.moreLinkDidMount,willUnmount:q.moreLinkWillUnmount},function(cn,Pt,rr,Mr){return A.children(cn,["fc-more-link"].concat(Pt),rr,Mr,p.handleClick,wt,S.isPopoverOpen,S.isPopoverOpen?S.popoverId:"")}),S.isPopoverOpen&&G(Qg,{id:S.popoverId,startDate:dt.start,endDate:dt.end,dateProfile:A.dateProfile,todayRange:A.todayRange,extraDateSpan:A.extraDateSpan,parentEl:p.parentEl,alignmentEl:A.alignmentElRef.current,alignGridTop:A.alignGridTop,onClose:p.handlePopoverClose},A.popoverContent()))})},f.prototype.componentDidMount=function(){this.updateParentEl()},f.prototype.componentDidUpdate=function(){this.updateParentEl()},f.prototype.updateParentEl=function(){this.linkElRef.current&&(this.parentEl=H(this.linkElRef.current,".fc-view-harness"))},f}(_r);function Iy(h){return h.text}function Kh(h){if(h.allDayDate)return{start:h.allDayDate,end:$e(h.allDayDate,1)};var f=h.hiddenSegs;return{start:Jg(f),end:xy(f)}}function Jg(h){return h.reduce(Sy).eventRange.range.start}function Sy(h,f){return h.eventRange.range.start<f.eventRange.range.start?h:f}function xy(h){return h.reduce(My).eventRange.range.end}function My(h,f){return h.eventRange.range.end>f.eventRange.range.end?h:f}var Ry="5.10.2"},1861:(Nt,qe,z)=>{"use strict";var u=z(5e3);let O=null;function k(){return O}const Ee=new u.OlP("DocumentToken");let Me=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function De(){return(0,u.LFG)(de)}()},providedIn:"platform"}),n})();const ee=new u.OlP("Location Initialized");let de=(()=>{class n extends Me{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){T()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){T()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ee))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function F(){return new de((0,u.LFG)(Ee))}()},providedIn:"platform"}),n})();function T(){return!!window.history.pushState}function H(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function se(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function me(n){return n&&"?"!==n[0]?"?"+n:n}let ce=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function oe(n){const e=(0,u.LFG)(Ee).location;return new Ye((0,u.LFG)(Me),e&&e.origin||"")}()},providedIn:"root"}),n})();const je=new u.OlP("appBaseHref");let Ye=(()=>{class n extends ce{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return H(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+me(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const c=this.prepareExternalUrl(i+me(a));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){const c=this.prepareExternalUrl(i+me(a));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Me),u.LFG(je,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),We=(()=>{class n extends ce{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=H(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let c=this.prepareExternalUrl(i+me(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,a){let c=this.prepareExternalUrl(i+me(a));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Me),u.LFG(je,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Qe=(()=>{class n{constructor(t,r){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=se(Te(i)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+me(r))}normalize(t){return n.stripTrailingSlash(function mt(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Te(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+me(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+me(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=me,n.joinWithSlash=H,n.stripTrailingSlash=se,n.\u0275fac=function(t){return new(t||n)(u.LFG(ce),u.LFG(Me))},n.\u0275prov=u.Yz7({token:n,factory:function(){return function ze(){return new Qe((0,u.LFG)(ce),(0,u.LFG)(Me))}()},providedIn:"root"}),n})();function Te(n){return n.replace(/\/index.html$/,"")}var Oe=(()=>((Oe=Oe||{})[Oe.Format=0]="Format",Oe[Oe.Standalone=1]="Standalone",Oe))(),Be=(()=>((Be=Be||{})[Be.Narrow=0]="Narrow",Be[Be.Abbreviated=1]="Abbreviated",Be[Be.Wide=2]="Wide",Be[Be.Short=3]="Short",Be))(),Xe=(()=>((Xe=Xe||{})[Xe.Short=0]="Short",Xe[Xe.Medium=1]="Medium",Xe[Xe.Long=2]="Long",Xe[Xe.Full=3]="Full",Xe))(),Ne=(()=>((Ne=Ne||{})[Ne.Decimal=0]="Decimal",Ne[Ne.Group=1]="Group",Ne[Ne.List=2]="List",Ne[Ne.PercentSign=3]="PercentSign",Ne[Ne.PlusSign=4]="PlusSign",Ne[Ne.MinusSign=5]="MinusSign",Ne[Ne.Exponential=6]="Exponential",Ne[Ne.SuperscriptingExponent=7]="SuperscriptingExponent",Ne[Ne.PerMille=8]="PerMille",Ne[Ne.Infinity=9]="Infinity",Ne[Ne.NaN=10]="NaN",Ne[Ne.TimeSeparator=11]="TimeSeparator",Ne[Ne.CurrencyDecimal=12]="CurrencyDecimal",Ne[Ne.CurrencyGroup=13]="CurrencyGroup",Ne))();function Dn(n,e){return vt((0,u.cg1)(n)[u.wAp.DateFormat],e)}function Ae(n,e){return vt((0,u.cg1)(n)[u.wAp.TimeFormat],e)}function _e(n,e){return vt((0,u.cg1)(n)[u.wAp.DateTimeFormat],e)}function Ve(n,e){const t=(0,u.cg1)(n),r=t[u.wAp.NumberSymbols][e];if(void 0===r){if(e===Ne.CurrencyDecimal)return t[u.wAp.NumberSymbols][Ne.Decimal];if(e===Ne.CurrencyGroup)return t[u.wAp.NumberSymbols][Ne.Group]}return r}function mn(n){if(!n[u.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[u.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function vt(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function Vt(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Tn=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Zn={},un=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var dn=(()=>((dn=dn||{})[dn.Short=0]="Short",dn[dn.ShortGMT=1]="ShortGMT",dn[dn.Long=2]="Long",dn[dn.Extended=3]="Extended",dn))(),Yt=(()=>((Yt=Yt||{})[Yt.FullYear=0]="FullYear",Yt[Yt.Month=1]="Month",Yt[Yt.Date=2]="Date",Yt[Yt.Hours=3]="Hours",Yt[Yt.Minutes=4]="Minutes",Yt[Yt.Seconds=5]="Seconds",Yt[Yt.FractionalSeconds=6]="FractionalSeconds",Yt[Yt.Day=7]="Day",Yt))(),kt=(()=>((kt=kt||{})[kt.DayPeriods=0]="DayPeriods",kt[kt.Days=1]="Days",kt[kt.Months=2]="Months",kt[kt.Eras=3]="Eras",kt))();function $n(n,e,t,r){let i=function et(n){if(qt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,a=1,c=1]=n.split("-").map(g=>+g);return Or(i,a-1,c)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Tn))return function Et(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,a=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-t,g=Number(n[5]||0)-r,b=Number(n[6]||0),C=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return a.call(e,c,g,b,C),e}(r)}const e=new Date(n);if(!qt(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=En(t,e)||e;let g,c=[];for(;e;){if(g=un.exec(e),!g){c.push(e);break}{c=c.concat(g.slice(1));const R=c.pop();if(!R)break;e=R}}let b=i.getTimezoneOffset();r&&(b=Ie(r,b),i=function he(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function pe(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(Ie(e,i)-i))}(i,r,!0));let C="";return c.forEach(R=>{const P=function $t(n){if(ut[n])return ut[n];let e;switch(n){case"G":case"GG":case"GGG":e=B(kt.Eras,Be.Abbreviated);break;case"GGGG":e=B(kt.Eras,Be.Wide);break;case"GGGGG":e=B(kt.Eras,Be.Narrow);break;case"y":e=ue(Yt.FullYear,1,0,!1,!0);break;case"yy":e=ue(Yt.FullYear,2,0,!0,!0);break;case"yyy":e=ue(Yt.FullYear,3,0,!1,!0);break;case"yyyy":e=ue(Yt.FullYear,4,0,!1,!0);break;case"Y":e=pt(1);break;case"YY":e=pt(2,!0);break;case"YYY":e=pt(3);break;case"YYYY":e=pt(4);break;case"M":case"L":e=ue(Yt.Month,1,1);break;case"MM":case"LL":e=ue(Yt.Month,2,1);break;case"MMM":e=B(kt.Months,Be.Abbreviated);break;case"MMMM":e=B(kt.Months,Be.Wide);break;case"MMMMM":e=B(kt.Months,Be.Narrow);break;case"LLL":e=B(kt.Months,Be.Abbreviated,Oe.Standalone);break;case"LLLL":e=B(kt.Months,Be.Wide,Oe.Standalone);break;case"LLLLL":e=B(kt.Months,Be.Narrow,Oe.Standalone);break;case"w":e=st(1);break;case"ww":e=st(2);break;case"W":e=st(1,!0);break;case"d":e=ue(Yt.Date,1);break;case"dd":e=ue(Yt.Date,2);break;case"c":case"cc":e=ue(Yt.Day,1);break;case"ccc":e=B(kt.Days,Be.Abbreviated,Oe.Standalone);break;case"cccc":e=B(kt.Days,Be.Wide,Oe.Standalone);break;case"ccccc":e=B(kt.Days,Be.Narrow,Oe.Standalone);break;case"cccccc":e=B(kt.Days,Be.Short,Oe.Standalone);break;case"E":case"EE":case"EEE":e=B(kt.Days,Be.Abbreviated);break;case"EEEE":e=B(kt.Days,Be.Wide);break;case"EEEEE":e=B(kt.Days,Be.Narrow);break;case"EEEEEE":e=B(kt.Days,Be.Short);break;case"a":case"aa":case"aaa":e=B(kt.DayPeriods,Be.Abbreviated);break;case"aaaa":e=B(kt.DayPeriods,Be.Wide);break;case"aaaaa":e=B(kt.DayPeriods,Be.Narrow);break;case"b":case"bb":case"bbb":e=B(kt.DayPeriods,Be.Abbreviated,Oe.Standalone,!0);break;case"bbbb":e=B(kt.DayPeriods,Be.Wide,Oe.Standalone,!0);break;case"bbbbb":e=B(kt.DayPeriods,Be.Narrow,Oe.Standalone,!0);break;case"B":case"BB":case"BBB":e=B(kt.DayPeriods,Be.Abbreviated,Oe.Format,!0);break;case"BBBB":e=B(kt.DayPeriods,Be.Wide,Oe.Format,!0);break;case"BBBBB":e=B(kt.DayPeriods,Be.Narrow,Oe.Format,!0);break;case"h":e=ue(Yt.Hours,1,-12);break;case"hh":e=ue(Yt.Hours,2,-12);break;case"H":e=ue(Yt.Hours,1);break;case"HH":e=ue(Yt.Hours,2);break;case"m":e=ue(Yt.Minutes,1);break;case"mm":e=ue(Yt.Minutes,2);break;case"s":e=ue(Yt.Seconds,1);break;case"ss":e=ue(Yt.Seconds,2);break;case"S":e=ue(Yt.FractionalSeconds,1);break;case"SS":e=ue(Yt.FractionalSeconds,2);break;case"SSS":e=ue(Yt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=W(dn.Short);break;case"ZZZZZ":e=W(dn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=W(dn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=W(dn.Long);break;default:return null}return ut[n]=e,e}(R);C+=P?P(i,t,b):"''"===R?"'":R.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),C}function Or(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function En(n,e){const t=function en(n){return(0,u.cg1)(n)[u.wAp.LocaleId]}(n);if(Zn[t]=Zn[t]||{},Zn[t][e])return Zn[t][e];let r="";switch(e){case"shortDate":r=Dn(n,Xe.Short);break;case"mediumDate":r=Dn(n,Xe.Medium);break;case"longDate":r=Dn(n,Xe.Long);break;case"fullDate":r=Dn(n,Xe.Full);break;case"shortTime":r=Ae(n,Xe.Short);break;case"mediumTime":r=Ae(n,Xe.Medium);break;case"longTime":r=Ae(n,Xe.Long);break;case"fullTime":r=Ae(n,Xe.Full);break;case"short":const i=En(n,"shortTime"),a=En(n,"shortDate");r=Cr(_e(n,Xe.Short),[i,a]);break;case"medium":const c=En(n,"mediumTime"),g=En(n,"mediumDate");r=Cr(_e(n,Xe.Medium),[c,g]);break;case"long":const b=En(n,"longTime"),C=En(n,"longDate");r=Cr(_e(n,Xe.Long),[b,C]);break;case"full":const R=En(n,"fullTime"),P=En(n,"fullDate");r=Cr(_e(n,Xe.Full),[R,P])}return r&&(Zn[t][e]=r),r}function Cr(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function ir(n,e,t="-",r,i){let a="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,a=t));let c=String(n);for(;c.length<e;)c="0"+c;return r&&(c=c.substr(c.length-e)),a+c}function ue(n,e,t=0,r=!1,i=!1){return function(a,c){let g=function ve(n,e){switch(n){case Yt.FullYear:return e.getFullYear();case Yt.Month:return e.getMonth();case Yt.Date:return e.getDate();case Yt.Hours:return e.getHours();case Yt.Minutes:return e.getMinutes();case Yt.Seconds:return e.getSeconds();case Yt.FractionalSeconds:return e.getMilliseconds();case Yt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,a);if((t>0||g>-t)&&(g+=t),n===Yt.Hours)0===g&&-12===t&&(g=12);else if(n===Yt.FractionalSeconds)return function In(n,e){return ir(n,3).substr(0,e)}(g,e);const b=Ve(c,Ne.MinusSign);return ir(g,e,b,r,i)}}function B(n,e,t=Oe.Format,r=!1){return function(i,a){return function J(n,e,t,r,i,a){switch(t){case kt.Months:return function jt(n,e,t){const r=(0,u.cg1)(n),a=vt([r[u.wAp.MonthsFormat],r[u.wAp.MonthsStandalone]],e);return vt(a,t)}(e,i,r)[n.getMonth()];case kt.Days:return function Mt(n,e,t){const r=(0,u.cg1)(n),a=vt([r[u.wAp.DaysFormat],r[u.wAp.DaysStandalone]],e);return vt(a,t)}(e,i,r)[n.getDay()];case kt.DayPeriods:const c=n.getHours(),g=n.getMinutes();if(a){const C=function $e(n){const e=(0,u.cg1)(n);return mn(e),(e[u.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?Vt(r):[Vt(r[0]),Vt(r[1])])}(e),R=function Tt(n,e,t){const r=(0,u.cg1)(n);mn(r);const a=vt([r[u.wAp.ExtraData][0],r[u.wAp.ExtraData][1]],e)||[];return vt(a,t)||[]}(e,i,r),P=C.findIndex(Z=>{if(Array.isArray(Z)){const[Y,ne]=Z,Se=c>=Y.hours&&g>=Y.minutes,rt=c<ne.hours||c===ne.hours&&g<ne.minutes;if(Y.hours<ne.hours){if(Se&&rt)return!0}else if(Se||rt)return!0}else if(Z.hours===c&&Z.minutes===g)return!0;return!1});if(-1!==P)return R[P]}return function tr(n,e,t){const r=(0,u.cg1)(n),a=vt([r[u.wAp.DayPeriodsFormat],r[u.wAp.DayPeriodsStandalone]],e);return vt(a,t)}(e,i,r)[c<12?0:1];case kt.Eras:return function Yn(n,e){return vt((0,u.cg1)(n)[u.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,a,n,e,t,r)}}function W(n){return function(e,t,r){const i=-1*r,a=Ve(t,Ne.MinusSign),c=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case dn.Short:return(i>=0?"+":"")+ir(c,2,a)+ir(Math.abs(i%60),2,a);case dn.ShortGMT:return"GMT"+(i>=0?"+":"")+ir(c,1,a);case dn.Long:return"GMT"+(i>=0?"+":"")+ir(c,2,a)+":"+ir(Math.abs(i%60),2,a);case dn.Extended:return 0===r?"Z":(i>=0?"+":"")+ir(c,2,a)+":"+ir(Math.abs(i%60),2,a);default:throw new Error(`Unknown zone width "${n}"`)}}}function Pe(n){return Or(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function st(n,e=!1){return function(t,r){let i;if(e){const a=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,c=t.getDate();i=1+Math.floor((c+a)/7)}else{const a=Pe(t),c=function ge(n){const e=Or(n,0,1).getDay();return Or(n,0,1+(e<=4?4:11)-e)}(a.getFullYear()),g=a.getTime()-c.getTime();i=1+Math.round(g/6048e5)}return ir(i,n,Ve(r,Ne.MinusSign))}}function pt(n,e=!1){return function(t,r){return ir(Pe(t).getFullYear(),n,Ve(r,Ne.MinusSign),e)}}const ut={};function Ie(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function qt(n){return n instanceof Date&&!isNaN(n.valueOf())}function ys(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}class is{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Lr=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new is(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===a?void 0:a);else if(null!==a){const g=r.get(a);r.move(g,c),_s(g,i)}});for(let i=0,a=r.length;i<a;i++){const g=r.get(i).context;g.index=i,g.count=a,g.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{_s(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function _s(n,e){n.context.$implicit=e.item}let vr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new er,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){La("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){La("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class er{constructor(){this.$implicit=null,this.ngIf=null}}function La(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}let sa=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const r=this._viewContainerRef;this._viewRef&&r.remove(r.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?r.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[u.TTD]}),n})();class lu{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Td{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const ss=new Td,Va=new lu;let fo=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,u.QGY)(t))return ss;if((0,u.F4k)(t))return Va;throw function Rr(n,e){return new u.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO,16))},n.\u0275pipe=u.Yjl({name:"async",type:n,pure:!1}),n})(),Qi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const zs="browser";function jr(n){return"server"===n}let ca=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new Fo((0,u.LFG)(Ee),window)}),n})();class Fo{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function po(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=os(this.window.history)||os(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function os(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class gr{}class ws extends class Ji extends class Ce{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function re(n){O||(O=n)}(new ws)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function da(){return Qn=Qn||document.querySelector("base"),Qn?Qn.getAttribute("href"):null}();return null==t?null:function go(n){Ua=Ua||document.createElement("a"),Ua.setAttribute("href",n);const e=Ua.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Qn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ys(document.cookie,e)}}let Ua,Qn=null;const ni=new u.OlP("TRANSITION_ID"),fa=[{provide:u.ip1,useFactory:function Ws(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=k(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[ni,Ee,u.zs3],multi:!0}];class K{static init(){(0,u.VLi)(new K)}addToWindow(e){u.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const i=u.dqk.getAllAngularTestabilities();let a=i.length,c=!1;const g=function(b){c=c||b,a--,0==a&&r(c)};i.forEach(function(b){b.whenStable(g)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let $=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const we=new u.OlP("EventManagerPlugins");let Ge=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const c=i[a];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(we),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class bt{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=k().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let It=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),fn=(()=>{class n extends It{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const c=this._doc.createElement("style");c.textContent=a,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(or),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(or))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ee))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function or(n){k().remove(n)}const Wt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},lr=/%COMP%/g;function ls(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ls(n,i,t):(i=i.replace(lr,n),t.push(i))}return t}function at(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let mo=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Ir(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new $s(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case u.ifc.ShadowDom:return new mc(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=ls(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ge),u.LFG(fn),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class Ir{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Wt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=Wt[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Wt[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,i&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,at(r)):this.eventManager.addEventListener(e,t,at(r))}}class $s extends Ir{constructor(e,t,r,i){super(e),this.component=r;const a=ls(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function Zs(n){return"_ngcontent-%COMP%".replace(lr,n)}(i+"-"+r.id),this.hostAttr=function Ha(n){return"_nghost-%COMP%".replace(lr,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class mc extends Ir{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=ls(i.id,i.styles,[]);for(let c=0;c<a.length;c++){const g=document.createElement("style");g.textContent=a[c],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let wl=(()=>{class n extends bt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ee))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const kd=["alt","control","meta","shift"],Pd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ja={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ri={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ds=(()=>{class n extends bt{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),c=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,a.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let c="";if(kd.forEach(b=>{const C=r.indexOf(b);C>-1&&(r.splice(C,1),c+=b+".")}),c+=a,0!=r.length||0===a.length)return null;const g={};return g.domEventName=i,g.fullKey=c,g}static getEventFullKey(t){let r="",i=function Ga(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&ja.hasOwnProperty(e)&&(e=ja[e]))}return Pd[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),kd.forEach(a=>{a!=i&&ri[a](t)&&(r+=a+".")}),r+=i,r}static eventCallback(t,r,i){return a=>{n.getEventFullKey(a)===t&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ee))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const bh=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:zs},{provide:u.g9A,useValue:function ha(){ws.makeCurrent(),K.init()},multi:!0},{provide:Ee,useFactory:function _h(){return(0,u.RDi)(document),document},deps:[]}]),du=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Ts(){return new u.qLn},deps:[]},{provide:we,useClass:wl,multi:!0,deps:[Ee,u.R0b,u.Lbi]},{provide:we,useClass:Ds,multi:!0,deps:[Ee]},{provide:mo,useClass:mo,deps:[Ge,fn,u.AFp]},{provide:u.FYo,useExisting:mo},{provide:It,useExisting:fn},{provide:fn,useClass:fn,deps:[Ee]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:Ge,useClass:Ge,deps:[we,u.R0b]},{provide:gr,useClass:$,deps:[]}];let Dl=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:ni,useExisting:u.AFp},fa]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(n,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:du,imports:[Qi,u.hGG]}),n})();"undefined"!=typeof window&&window;let xl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):u.LFG(gu),r},providedIn:"root"}),n})(),gu=(()=>{class n extends xl{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case u.q3G.NONE:return r;case u.q3G.HTML:return(0,u.qzn)(r,"HTML")?(0,u.z3N)(r):(0,u.EiD)(this._doc,String(r)).toString();case u.q3G.STYLE:return(0,u.qzn)(r,"Style")?(0,u.z3N)(r):r;case u.q3G.SCRIPT:if((0,u.qzn)(r,"Script"))return(0,u.z3N)(r);throw new Error("unsafe value used in a script context");case u.q3G.URL:return(0,u.yhl)(r),(0,u.qzn)(r,"URL")?(0,u.z3N)(r):(0,u.mCW)(String(r));case u.q3G.RESOURCE_URL:if((0,u.qzn)(r,"ResourceURL"))return(0,u.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,u.JVY)(t)}bypassSecurityTrustStyle(t){return(0,u.L6k)(t)}bypassSecurityTrustScript(t){return(0,u.eBb)(t)}bypassSecurityTrustUrl(t){return(0,u.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,u.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ee))},n.\u0275prov=u.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function qa(n){return new gu(n.get(Ee))}(u.LFG(u.zs3)),r},providedIn:"root"}),n})();var br=z(8996),Qs=z(8306);const{isArray:Sh}=Array,{getPrototypeOf:Ml,prototype:mu,keys:_c}=Object;function pa(n){if(1===n.length){const e=n[0];if(Sh(e))return{args:e,keys:null};if(function yo(n){return n&&"object"==typeof n&&Ml(n)===mu}(e)){const t=_c(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Wa=z(8421),ur=z(7669),wi=z(5403),hn=z(4004);const{isArray:Rl}=Array;function xh(n){return(0,hn.U)(e=>function ga(n,e){return Rl(e)?n(...e):n(e)}(n,e))}function kl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let Ud=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),Ss=(()=>{class n extends Ud{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const gi=new u.OlP("NgValueAccessor"),yu={provide:gi,useExisting:(0,u.Gpc)(()=>us),multi:!0},Hd=new u.OlP("CompositionEventMode");let us=(()=>{class n extends Ud{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Za(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Hd,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[u._Bn([yu]),u.qOj]}),n})();const Qr=new u.OlP("NgValidators"),Uo=new u.OlP("NgAsyncValidators");function _a(n){return null!=n}function oi(n){const e=(0,u.QGY)(n)?(0,br.D)(n):n;return(0,u.CqO)(e),e}function Eu(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Xs(n,e){return e.map(t=>t(n))}function Ec(n){return n.map(e=>function $a(n){return!n.validate}(e)?e:t=>e.validate(t))}function sr(n){return null!=n?function Gd(n){if(!n)return null;const e=n.filter(_a);return 0==e.length?null:function(t){return Eu(Xs(t,e))}}(Ec(n)):null}function Au(n){return null!=n?function zd(n){if(!n)return null;const e=n.filter(_a);return 0==e.length?null:function(t){return function vu(...n){const e=(0,ur.jO)(n),{args:t,keys:r}=pa(n),i=new Qs.y(a=>{const{length:c}=t;if(!c)return void a.complete();const g=new Array(c);let b=c,C=c;for(let R=0;R<c;R++){let P=!1;(0,Wa.Xf)(t[R]).subscribe((0,wi.x)(a,Z=>{P||(P=!0,C--),g[R]=Z},()=>b--,void 0,()=>{(!b||!P)&&(C||a.next(r?kl(r,g):g),a.complete())}))}});return e?i.pipe(xh(e)):i}(Xs(t,e).map(oi)).pipe((0,hn.U)(Eu))}}(Ec(n)):null}function Rh(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function wu(n){return n?Array.isArray(n)?n:[n]:[]}function Ac(n,e){return Array.isArray(n)?n.includes(e):n===e}function xs(n,e){const t=wu(e);return wu(n).forEach(i=>{Ac(t,i)||t.push(i)}),t}function wc(n,e){return wu(e).filter(t=>!Ac(n,t))}class Sr{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=sr(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Au(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ms extends Sr{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class kr extends Sr{get formDirective(){return null}get path(){return null}}let ai=(()=>{class n extends class Wd{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ms,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[u.qOj]}),n})();function Qa(n,e){(function Tu(n,e){const t=function bo(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(Rh(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function qd(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(Rh(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();ba(e._rawValidators,i),ba(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),function Ja(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&xc(n,e)})}(n,e),function Mc(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Iu(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&xc(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Du(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ba(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function xc(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function wa(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Ca="VALID",Co="INVALID",cs="PENDING",el="DISABLED";function Su(n){return(Da(n)?n.validators:n)||null}function xu(n){return Array.isArray(n)?sr(n):n||null}function Pl(n,e){return(Da(e)?e.asyncValidators:n)||null}function nl(n){return Array.isArray(n)?Au(n):n||null}function Da(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Mu=n=>n instanceof Fl;function zo(n){return(n=>n instanceof Ru)(n)?n.value:n.getRawValue()}function Nc(n,e){const t=Mu(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new u.vHH(1e3,"");if(!r[e])throw new u.vHH(1001,"")}function Nh(n,e){Mu(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new u.vHH(1002,"")})}class Ol{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=xu(this._rawValidators),this._composedAsyncValidatorFn=nl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ca}get invalid(){return this.status===Co}get pending(){return this.status==cs}get disabled(){return this.status===el}get enabled(){return this.status!==el}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=xu(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=nl(e)}addValidators(e){this.setValidators(xs(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(xs(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(wc(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(wc(e,this._rawAsyncValidators))}hasValidator(e){return Ac(this._rawValidators,e)}hasAsyncValidator(e){return Ac(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=cs,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=el,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ca,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ca||this.status===cs)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?el:Ca}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=cs,this._hasOwnPendingAsyncValidator=!0;const t=oi(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function tl(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=Mu(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:(n=>n instanceof Ph)(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?el:this.errors?Co:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(cs)?cs:this._anyControlsHaveStatus(Co)?Co:Ca}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Da(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ru extends Ol{constructor(e=null,t,r){super(Su(t),Pl(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Da(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){wa(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){wa(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Fl extends Ol{constructor(e,t,r){super(Su(t),Pl(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Nh(this,e),Object.keys(e).forEach(r=>{Nc(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=zo(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Ph extends Ol{constructor(e,t,r){super(Su(t),Pl(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Nh(this,e),e.forEach((r,i)=>{Nc(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>zo(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const tf={provide:Ms,useExisting:(0,u.Gpc)(()=>qo)},Pu=(()=>Promise.resolve(null))();let qo=(()=>{class n extends Ms{constructor(t,r,i,a,c){super(),this._changeDetectorRef=c,this.control=new Ru,this._registered=!1,this.update=new u.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Aa(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===us?t=a:function Qd(n){return Object.getPrototypeOf(n.constructor)===Ss}(a)?r=a:i=a}),i||r||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Nr(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Qa(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Pu.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=""===r||r&&"false"!==r;Pu.then(()=>{var a;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(a=this._changeDetectorRef)||void 0===a||a.markForCheck()})}_getPath(t){return this._parent?function Ya(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(kr,9),u.Y36(Qr,10),u.Y36(Uo,10),u.Y36(gi,10),u.Y36(u.sBO,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([tf]),u.qOj,u.TTD]}),n})();const Lh={provide:gi,useExisting:(0,u.Gpc)(()=>Vl),multi:!0};let Vl=(()=>{class n extends Ss{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},features:[u._Bn([Lh]),u.qOj]}),n})(),Ou=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),Ey=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Ou]]}),n})(),Ay=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Ey]}),n})();class uf{}const Ns="*";function qh(n,e){return{type:7,name:n,definitions:e,options:{}}}function Kg(n,e=null){return{type:4,styles:e,timings:n}}function Wh(n,e=null){return{type:2,steps:n,options:e}}function zl(n){return{type:6,styles:n,offset:null}}function cf(n,e,t){return{type:0,name:n,styles:e,options:t}}function Zh(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function df(n){Promise.resolve(null).then(n)}class Hc{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){df(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Yg{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?df(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==a&&this._onFinish()}),c.onDestroy(()=>{++r==a&&this._onDestroy()}),c.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((c,g)=>Math.max(c,g.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const qn=!1;function Qg(n){return new u.vHH(3e3,qn)}function hf(){return"undefined"!=typeof window&&void 0!==window.document}function ju(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ia(n){switch(n.length){case 0:return new Hc;case 1:return n[0];default:return new Yg(n)}}function Xg(n,e,t,r,i={},a={}){const c=[],g=[];let b=-1,C=null;if(r.forEach(R=>{const P=R.offset,Z=P==b,Y=Z&&C||{};Object.keys(R).forEach(ne=>{let Se=ne,rt=R[ne];if("offset"!==ne)switch(Se=e.normalizePropertyName(Se,c),rt){case"!":rt=i[ne];break;case Ns:rt=a[ne];break;default:rt=e.normalizeStyleValue(ne,Se,rt,c)}Y[Se]=rt}),Z||g.push(Y),C=Y,b=P}),c.length)throw function Xt(n){return new u.vHH(3502,qn)}();return g}function jc(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&em(t,"start",n)));break;case"done":n.onDone(()=>r(t&&em(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&em(t,"destroy",n)))}}function em(n,e,t){const r=t.totalTime,a=Yh(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),c=n._data;return null!=c&&(a._data=c),a}function Yh(n,e,t,r,i="",a=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!c}}function ro(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function tm(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let ky=(n,e)=>!1,Db=(n,e,t)=>[],Ny=null;function nm(n){const e=n.parentNode||n.host;return e===Ny?null:e}(ju()||"undefined"!=typeof Element)&&(hf()?(Ny=(()=>document.documentElement)(),ky=(n,e)=>{for(;e;){if(e===n)return!0;e=nm(e)}return!1}):ky=(n,e)=>n.contains(e),Db=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Gu=null,Ib=!1;function Qh(n){Gu||(Gu=function ZC(){return"undefined"!=typeof document?document.body:null}()||{},Ib=!!Gu.style&&"WebkitAppearance"in Gu.style);let e=!0;return Gu.style&&!function Tb(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Gu.style,!e&&Ib&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Gu.style)),e}const Py=ky,Oy=Db;let rm=(()=>{class n{validateStyleProperty(t){return Qh(t)}matchesElement(t,r){return!1}containsElement(t,r){return Py(t,r)}getParentElement(t){return nm(t)}query(t,r,i){return Oy(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,c,g=[],b){return new Hc(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),im=(()=>{class n{}return n.NOOP=new rm,n})();const Xh="ng-enter",ep="ng-leave",gf="ng-trigger",zu=".ng-trigger",xb="ng-animating",om=".ng-animating";function Gc(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Fy(parseFloat(e[1]),e[2])}function Fy(n,e){return"s"===e?1e3*n:n}function tp(n,e,t){return n.hasOwnProperty("duration")?n:function Ly(n,e,t){let i,a=0,c="";if("string"==typeof n){const g=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===g)return e.push(Qg()),{duration:0,delay:0,easing:""};i=Fy(parseFloat(g[1]),g[2]);const b=g[3];null!=b&&(a=Fy(parseFloat(b),g[4]));const C=g[5];C&&(c=C)}else i=n;if(!t){let g=!1,b=e.length;i<0&&(e.push(function Ty(){return new u.vHH(3100,qn)}()),g=!0),a<0&&(e.push(function Iy(){return new u.vHH(3101,qn)}()),g=!0),g&&e.splice(b,0,Qg())}return{duration:i,delay:a,easing:c}}(n,e,t)}function zc(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function ql(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else zc(n,t);return t}function Mb(n,e,t){return t?e+":"+t+";":""}function Vy(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=Mb(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Mb(0,JC(t),n.style[t]));n.setAttribute("style",e)}function al(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=cm(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),ju()&&Vy(n))}function qc(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=cm(t);n.style[r]=""}),ju()&&Vy(n))}function Fs(n){return Array.isArray(n)?1==n.length?n[0]:Wh(n):n}const am=new RegExp("{{\\s*(.+?)\\s*}}","g");function Rb(n){let e=[];if("string"==typeof n){let t;for(;t=am.exec(n);)e.push(t[1]);am.lastIndex=0}return e}function lm(n,e,t){const r=n.toString(),i=r.replace(am,(a,c)=>{let g=e[c];return e.hasOwnProperty(c)||(t.push(function Jg(n){return new u.vHH(3003,qn)}()),g=""),g.toString()});return i==r?n:i}function um(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const QC=/-+([a-z0-9])/g;function cm(n){return n.replace(QC,(...e)=>e[1].toUpperCase())}function JC(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function pn(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Sy(n){return new u.vHH(3004,qn)}()}}function By(n,e){return window.getComputedStyle(n)[e]}function Uy(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Pb(n,e,t){if(":"==n[0]){const b=function Hy(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Ue(n){return new u.vHH(3016,qn)}()),"* => *"}}(n,t);if("function"==typeof b)return void e.push(b);n=b}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function ke(n){return new u.vHH(3015,qn)}()),e;const i=r[1],a=r[2],c=r[3];e.push(tD(i,c));"<"==a[0]&&!("*"==i&&"*"==c)&&e.push(tD(c,i))}(r,t,e)):t.push(n),t}const jy=new Set(["true","1"]),ip=new Set(["false","0"]);function tD(n,e){const t=jy.has(n)||ip.has(n),r=jy.has(e)||ip.has(e);return(i,a)=>{let c="*"==n||n==i,g="*"==e||e==a;return!c&&t&&"boolean"==typeof i&&(c=i?jy.has(n):ip.has(n)),!g&&r&&"boolean"==typeof a&&(g=a?jy.has(e):ip.has(e)),c&&g}}const fm=new RegExp("s*:selfs*,?","g");function op(n,e,t,r){return new Gy(n).build(e,t,r)}class Gy{constructor(e){this._driver=e}build(e,t,r){const i=new rD(t);this._resetContextStyleTimingState(i);const a=pn(this,Fs(e),i);return i.unsupportedCSSPropertiesFound.size&&i.unsupportedCSSPropertiesFound.keys(),a}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function My(){return new u.vHH(3006,qn)}()),e.definitions.forEach(g=>{if(this._resetContextStyleTimingState(t),0==g.type){const b=g,C=b.name;C.toString().split(/\s*,\s*/).forEach(R=>{b.name=R,a.push(this.visitState(b,t))}),b.name=C}else if(1==g.type){const b=this.visitTransition(g,t);r+=b.queryCount,i+=b.depCount,c.push(b)}else t.errors.push(function Ry(){return new u.vHH(3007,qn)}())}),{type:7,name:e.name,states:a,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,c=i||{};r.styles.forEach(g=>{if(pm(g)){const b=g;Object.keys(b).forEach(C=>{Rb(b[C]).forEach(R=>{c.hasOwnProperty(R)||a.add(R)})})}}),a.size&&(um(a.values()),t.errors.push(function h(n,e){return new u.vHH(3008,qn)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=pn(this,Fs(e.animation),t);return{type:1,matchers:Uy(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:mf(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>pn(this,r,t)),options:mf(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(c=>{t.currentTime=r;const g=pn(this,c,t);return i=Math.max(i,t.currentTime),g});return t.currentTime=i,{type:3,steps:a,options:mf(e.options)}}visitAnimate(e,t){const r=function Ob(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return zy(tp(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=zy(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=tp(t,e);return zy(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:zl({});if(5==a.type)i=this.visitKeyframes(a,t);else{let c=e.styles,g=!1;if(!c){g=!0;const C={};r.easing&&(C.easing=r.easing),c=zl(C)}t.currentTime+=r.duration+r.delay;const b=this.visitStyle(c,t);b.isEmptyStep=g,i=b}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(c=>{"string"==typeof c?c==Ns?r.push(c):t.errors.push(function f(n){return new u.vHH(3002,qn)}()):r.push(c)}):r.push(e.styles);let i=!1,a=null;return r.forEach(c=>{if(pm(c)){const g=c,b=g.easing;if(b&&(a=b,delete g.easing),!i)for(let C in g)if(g[C].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:a,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(g=>{if(!this._driver.validateStyleProperty(g))return delete c[g],void t.unsupportedCSSPropertiesFound.add(g);const b=t.collectedStyles[t.currentQuerySelector],C=b[g];let R=!0;C&&(a!=i&&a>=C.startTime&&i<=C.endTime&&(t.errors.push(function v(n,e,t,r,i){return new u.vHH(3010,qn)}()),R=!1),a=C.startTime),R&&(b[g]={startTime:a,endTime:i}),t.options&&function YC(n,e,t){const r=e.params||{},i=Rb(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function Kh(n){return new u.vHH(3001,qn)}())})}(c[g],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function A(){return new u.vHH(3011,qn)}()),r;let a=0;const c=[];let g=!1,b=!1,C=0;const R=e.steps.map(ot=>{const _t=this._makeStyleAst(ot,t);let Rt=null!=_t.offset?_t.offset:function iD(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(pm(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(pm(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(_t.styles),Ct=0;return null!=Rt&&(a++,Ct=_t.offset=Rt),b=b||Ct<0||Ct>1,g=g||Ct<C,C=Ct,c.push(Ct),_t});b&&t.errors.push(function S(){return new u.vHH(3012,qn)}()),g&&t.errors.push(function N(){return new u.vHH(3200,qn)}());const P=e.steps.length;let Z=0;a>0&&a<P?t.errors.push(function V(){return new u.vHH(3202,qn)}()):0==a&&(Z=1/(P-1));const Y=P-1,ne=t.currentTime,Se=t.currentAnimateTimings,rt=Se.duration;return R.forEach((ot,_t)=>{const Rt=Z>0?_t==Y?1:Z*_t:c[_t],Ct=Rt*rt;t.currentTime=ne+Se.delay+Ct,Se.duration=Ct,this._validateStyleAst(ot,t),ot.offset=Rt,r.styles.push(ot)}),r}visitReference(e,t){return{type:8,animation:pn(this,Fs(e.animation),t),options:mf(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:mf(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:mf(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,c]=function dM(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(fm,"")),n=n.replace(/@\*/g,zu).replace(/@\w+/g,t=>zu+"-"+t.substr(1)).replace(/:animating/g,om),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,ro(t.collectedStyles,t.currentQuerySelector,{});const g=pn(this,Fs(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:g,originalSelector:e.selector,options:mf(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function q(){return new u.vHH(3013,qn)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:tp(e.timings,t.errors,!0);return{type:12,animation:pn(this,Fs(e.animation),t),timings:r,options:null}}}class rD{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function pm(n){return!Array.isArray(n)&&"object"==typeof n}function mf(n){return n?(n=zc(n)).params&&(n.params=function nD(n){return n?zc(n):null}(n.params)):n={},n}function zy(n,e,t){return{duration:n,delay:e,easing:t}}function Fb(n,e,t,r,i,a,c=null,g=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:c,subTimeline:g}}class ap{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const qy=new RegExp(":enter","g"),hM=new RegExp(":leave","g");function Vb(n,e,t,r,i,a={},c={},g,b,C=[]){return(new pM).buildKeyframes(n,e,t,r,i,a,c,g,b,C)}class pM{buildKeyframes(e,t,r,i,a,c,g,b,C,R=[]){C=C||new ap;const P=new Bb(e,t,C,i,a,R,[]);P.options=b,P.currentTimeline.setStyles([c],null,P.errors,b),pn(this,r,P);const Z=P.timelines.filter(Y=>Y.containsAnimation());if(Object.keys(g).length){let Y;for(let ne=Z.length-1;ne>=0;ne--){const Se=Z[ne];if(Se.element===t){Y=Se;break}}Y&&!Y.allowOnlyTimelineStyles()&&Y.setStyles([g],null,P.errors,b)}return Z.length?Z.map(Y=>Y.buildKeyframes()):[Fb(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);a!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const c=null!=r.duration?Gc(r.duration):null,g=null!=r.delay?Gc(r.delay):null;return 0!==c&&e.forEach(b=>{const C=t.appendInstructionToTimeline(b,c,g);a=Math.max(a,C.duration+C.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),pn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Wy);const c=Gc(a.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>pn(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Gc(e.options.delay):0;e.steps.forEach(c=>{const g=t.createSubContext(e.options);a&&g.delayNextStep(a),pn(this,c,g),i=Math.max(i,g.currentTimeline.currentTime),r.push(g.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return tp(t.params?lm(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,g=t.createSubContext().currentTimeline;g.easing=r.easing,e.styles.forEach(b=>{g.forwardTime((b.offset||0)*a),g.setStyles(b.styles,b.easing,t.errors,t.options),g.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(g),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?Gc(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Wy);let c=r;const g=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=g.length;let b=null;g.forEach((C,R)=>{t.currentQueryIndex=R;const P=t.createSubContext(e.options,C);a&&P.delayNextStep(a),C===t.element&&(b=P.currentTimeline),pn(this,e.animation,P),P.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,P.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),b&&(t.currentTimeline.mergeTimelineCollectedStyles(b),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,c=Math.abs(a.duration),g=c*(t.currentQueryTotal-1);let b=c*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":b=g-b;break;case"full":b=r.currentStaggerTime}const R=t.currentTimeline;b&&R.delayNextStep(b);const P=R.currentTime;pn(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-P+(i.startTime-r.currentTimeline.startTime)}}const Wy={};class Bb{constructor(e,t,r,i,a,c,g,b){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=c,this.timelines=g,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Wy,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=b||new Zy(this._driver,t,0),g.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Gc(r.duration)),null!=r.delay&&(i.delay=Gc(r.delay));const a=r.params;if(a){let c=i.params;c||(c=this.options.params={}),Object.keys(a).forEach(g=>{(!t||!c.hasOwnProperty(g))&&(c[g]=lm(a[g],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new Bb(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=Wy,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},a=new gM(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,c){let g=[];if(i&&g.push(this.element),e.length>0){e=(e=e.replace(qy,"."+this._enterClassName)).replace(hM,"."+this._leaveClassName);let C=this._driver.query(this.element,e,1!=r);0!==r&&(C=r<0?C.slice(C.length+r,C.length):C.slice(0,r)),g.push(...C)}return!a&&0==g.length&&c.push(function X(n){return new u.vHH(3014,qn)}()),g}}class Zy{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Zy(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Ns,this._currentKeyframe[t]=Ns}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const a=i&&i.params||{},c=function mM(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(a=>{t[a]=Ns})):ql(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(c).forEach(g=>{const b=lm(c[g],a,r);this._pendingStyles[g]=b,this._localTimelineStyles.hasOwnProperty(g)||(this._backFill[g]=this._globalTimelineStyles.hasOwnProperty(g)?this._globalTimelineStyles[g]:Ns),this._updateStyle(g,b)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((g,b)=>{const C=ql(g,!0);Object.keys(C).forEach(R=>{const P=C[R];"!"==P?e.add(R):P==Ns&&t.add(R)}),r||(C.offset=b/this.duration),i.push(C)});const a=e.size?um(e.values()):[],c=t.size?um(t.values()):[];if(r){const g=i[0],b=zc(g);g.offset=0,b.offset=1,i=[g,b]}return Fb(this.element,i,a,c,this.duration,this.startTime,this.easing,!1)}}class gM extends Zy{constructor(e,t,r,i,a,c,g=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=g,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],c=r+t,g=t/c,b=ql(e[0],!1);b.offset=0,a.push(b);const C=ql(e[0],!1);C.offset=oD(g),a.push(C);const R=e.length-1;for(let P=1;P<=R;P++){let Z=ql(e[P],!1);Z.offset=oD((t+Z.offset*r)/c),a.push(Z)}r=c,t=0,i="",e=a}return Fb(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function oD(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class lp{}class Ub extends lp{normalizePropertyName(e,t){return cm(e)}normalizeStyleValue(e,t,r,i){let a="";const c=r.toString().trim();if($y[t]&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const g=r.match(/^[+-]?[\d\.]+([a-z]*)$/);g&&0==g[1].length&&i.push(function xy(n,e){return new u.vHH(3005,qn)}())}return c+a}}const $y=(()=>function Hb(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function gm(n,e,t,r,i,a,c,g,b,C,R,P,Z){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:c,timelines:g,queriedElements:b,preStyleProps:C,postStyleProps:R,totalTime:P,errors:Z}}const Ky={};class Wl{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function jb(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],a=this._stateStyles[e],c=i?i.buildStyles(t,r):{};return a?a.buildStyles(t,r):c}build(e,t,r,i,a,c,g,b,C,R){const P=[],Z=this.ast.options&&this.ast.options.params||Ky,ne=this.buildStyles(r,g&&g.params||Ky,P),Se=b&&b.params||Ky,rt=this.buildStyles(i,Se,P),ot=new Set,_t=new Map,Rt=new Map,Ct="void"===i,vn={params:Object.assign(Object.assign({},Z),Se)},gn=R?[]:Vb(e,t,this.ast.animation,a,c,ne,rt,vn,C,P);let Hn=0;if(gn.forEach(Hs=>{Hn=Math.max(Hs.duration+Hs.delay,Hn)}),P.length)return gm(t,this._triggerName,r,i,Ct,ne,rt,[],[],_t,Rt,Hn,P);gn.forEach(Hs=>{const js=Hs.element,Dd=ro(_t,js,{});Hs.preStyleProps.forEach(au=>Dd[au]=!0);const lo=ro(Rt,js,{});Hs.postStyleProps.forEach(au=>lo[au]=!0),js!==t&&ot.add(js)});const jn=um(ot.values());return gm(t,this._triggerName,r,i,Ct,ne,rt,gn,jn,_t,Rt,Hn)}}class aD{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=zc(this.defaultParams);return Object.keys(e).forEach(a=>{const c=e[a];null!=c&&(i[a]=c)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const c=a;Object.keys(c).forEach(g=>{let b=c[g];b.length>1&&(b=lm(b,i,t));const C=this.normalizer.normalizePropertyName(g,t);b=this.normalizer.normalizeStyleValue(g,C,b,t),r[C]=b})}}),r}}class lD{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new aD(i.style,i.options&&i.options.params||{},r)}),zb(this.states,"true","1"),zb(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Wl(e,i,this.states))}),this.fallbackTransition=function Gb(n,e,t){return new Wl(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,g)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function zb(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const uD=new ap;class up{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],a=op(this._driver,t,r,[]);if(r.length)throw function cn(n){return new u.vHH(3503,qn)}();this._animations[e]=a}_buildPlayer(e,t,r){const i=e.element,a=Xg(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations[e];let c;const g=new Map;if(a?(c=Vb(this._driver,t,a,Xh,ep,{},{},r,uD,i),c.forEach(R=>{const P=ro(g,R.element,{});R.postStyleProps.forEach(Z=>P[Z]=null)})):(i.push(function Pt(){return new u.vHH(3300,qn)}()),c=[]),i.length)throw function rr(n){return new u.vHH(3504,qn)}();g.forEach((R,P)=>{Object.keys(R).forEach(Z=>{R[Z]=this._driver.computeStyle(P,Z,Ns)})});const C=Ia(c.map(R=>{const P=g.get(R.element);return this._buildPlayer(R,{},P)}));return this._playersById[e]=C,C.onDestroy(()=>this.destroy(e)),this.players.push(C),C}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function Mr(n){return new u.vHH(3301,qn)}();return t}listen(e,t,r,i){const a=Yh(t,"","","");return jc(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const Zc="ng-animate-queued",qu="ng-animate-disabled",qb=[],Jy={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Xy={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},io="__ng_removed";class mm{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function dD(n){return null!=n?n:null}(r?e.value:e),r){const a=zc(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Wu="void",e_=new mm(Wu);class Wb{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ko(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw function zr(n,e){return new u.vHH(3302,qn)}();if(null==r||0==r.length)throw function qr(n){return new u.vHH(3303,qn)}();if(!function fD(n){return"start"==n||"done"==n}(r))throw function Wr(n,e){return new u.vHH(3400,qn)}();const a=ro(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};a.push(c);const g=ro(this._engine.statesByElement,e,{});return g.hasOwnProperty(t)||(Ko(e,gf),Ko(e,gf+"-"+t),g[t]=e_),()=>{this._engine.afterFlush(()=>{const b=a.indexOf(c);b>=0&&a.splice(b,1),this._triggers[t]||delete g[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function ds(n){return new u.vHH(3401,qn)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),c=new vm(this.id,t,e);let g=this._engine.statesByElement.get(e);g||(Ko(e,gf),Ko(e,gf+"-"+t),this._engine.statesByElement.set(e,g={}));let b=g[t];const C=new mm(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&b&&C.absorbOptions(b.options),g[t]=C,b||(b=e_),C.value!==Wu&&b.value===C.value){if(!function pD(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(b.params,C.params)){const Se=[],rt=a.matchStyles(b.value,b.params,Se),ot=a.matchStyles(C.value,C.params,Se);Se.length?this._engine.reportError(Se):this._engine.afterFlush(()=>{qc(e,rt),al(e,ot)})}return}const Z=ro(this._engine.playersByElement,e,[]);Z.forEach(Se=>{Se.namespaceId==this.id&&Se.triggerName==t&&Se.queued&&Se.destroy()});let Y=a.matchTransition(b.value,C.value,e,C.params),ne=!1;if(!Y){if(!i)return;Y=a.fallbackTransition,ne=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:Y,fromState:b,toState:C,player:c,isFallbackTransition:ne}),ne||(Ko(e,Zc),c.onStart(()=>{fp(e,Zc)})),c.onDone(()=>{let Se=this.players.indexOf(c);Se>=0&&this.players.splice(Se,1);const rt=this._engine.playersByElement.get(e);if(rt){let ot=rt.indexOf(c);ot>=0&&rt.splice(ot,1)}}),this.players.push(c),Z.push(c),c}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,zu,!0);r.forEach(i=>{if(i[io])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),c=new Map;if(a){const g=[];if(Object.keys(a).forEach(b=>{if(c.set(b,a[b].value),this._triggers[b]){const C=this.trigger(e,b,Wu,i);C&&g.push(C)}}),g.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&Ia(g).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const c=a.name;if(i.has(c))return;i.add(c);const b=this._triggers[c].fallbackTransition,C=r[c]||e_,R=new mm(Wu),P=new vm(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:b,fromState:C,toState:R,player:P,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[io];(!a||a===Jy)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ko(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,c=this._elementListeners.get(a);c&&c.forEach(g=>{if(g.name==r.triggerName){const b=Yh(a,r.triggerName,r.fromState.value,r.toState.value);b._data=e,jc(r.player,g.phase,b,g.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==a||0==c?a-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class yM{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Wb(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement,a=r.length-1;if(a>=0){let c=!1;if(void 0!==this.driver.getParentElement){let g=this.driver.getParentElement(t);for(;g;){const b=i.get(g);if(b){const C=r.indexOf(b);r.splice(C+1,0,e),c=!0;break}g=this.driver.getParentElement(g)}}else for(let g=a;g>=0;g--)if(this.driver.containsElement(r[g].hostElement,t)){r.splice(g+1,0,e),c=!0;break}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let a=0;a<i.length;a++){const c=r[i[a]].namespaceId;if(c){const g=this._fetchNamespace(c);g&&t.add(g)}}}return t}trigger(e,t,r,i){if(dp(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!dp(t))return;const a=t[io];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ko(e,qu)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),fp(e,qu))}removeNode(e,t,r,i){if(dp(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[io]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return dp(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,zu,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,om,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Ia(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[io];if(r&&r.setForRemoval){if(e[io]=Jy,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(qu))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ko(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Ia(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Ps(n){return new u.vHH(3402,qn)}()}_flushAnimations(e,t){const r=new ap,i=[],a=new Map,c=[],g=new Map,b=new Map,C=new Map,R=new Set;this.disabledNodes.forEach(rn=>{R.add(rn);const _n=this.driver.query(rn,".ng-animate-queued",!0);for(let xn=0;xn<_n.length;xn++)R.add(_n[xn])});const P=this.bodyNode,Z=Array.from(this.statesByElement.keys()),Y=Kb(Z,this.collectedEnterElements),ne=new Map;let Se=0;Y.forEach((rn,_n)=>{const xn=Xh+Se++;ne.set(_n,xn),rn.forEach(dr=>Ko(dr,xn))});const rt=[],ot=new Set,_t=new Set;for(let rn=0;rn<this.collectedLeaveElements.length;rn++){const _n=this.collectedLeaveElements[rn],xn=_n[io];xn&&xn.setForRemoval&&(rt.push(_n),ot.add(_n),xn.hasAnimation?this.driver.query(_n,".ng-star-inserted",!0).forEach(dr=>ot.add(dr)):_t.add(_n))}const Rt=new Map,Ct=Kb(Z,Array.from(ot));Ct.forEach((rn,_n)=>{const xn=ep+Se++;Rt.set(_n,xn),rn.forEach(dr=>Ko(dr,xn))}),e.push(()=>{Y.forEach((rn,_n)=>{const xn=ne.get(_n);rn.forEach(dr=>fp(dr,xn))}),Ct.forEach((rn,_n)=>{const xn=Rt.get(_n);rn.forEach(dr=>fp(dr,xn))}),rt.forEach(rn=>{this.processLeaveNode(rn)})});const vn=[],gn=[];for(let rn=this._namespaceList.length-1;rn>=0;rn--)this._namespaceList[rn].drainQueuedTransitions(t).forEach(xn=>{const dr=xn.player,$i=xn.element;if(vn.push(dr),this.collectedEnterElements.length){const No=$i[io];if(No&&No.setForMove){if(No.previousTriggersValues&&No.previousTriggersValues.has(xn.triggerName)){const Fg=No.previousTriggersValues.get(xn.triggerName),yh=this.statesByElement.get(xn.element);yh&&yh[xn.triggerName]&&(yh[xn.triggerName].value=Fg)}return void dr.destroy()}}const _l=!P||!this.driver.containsElement(P,$i),ko=Rt.get($i),fc=ne.get($i),ci=this._buildInstruction(xn,r,fc,ko,_l);if(ci.errors&&ci.errors.length)return void gn.push(ci);if(_l)return dr.onStart(()=>qc($i,ci.fromStyles)),dr.onDestroy(()=>al($i,ci.toStyles)),void i.push(dr);if(xn.isFallbackTransition)return dr.onStart(()=>qc($i,ci.fromStyles)),dr.onDestroy(()=>al($i,ci.toStyles)),void i.push(dr);const iP=[];ci.timelines.forEach(No=>{No.stretchStartingKeyframe=!0,this.disabledNodes.has(No.element)||iP.push(No)}),ci.timelines=iP,r.append($i,ci.timelines),c.push({instruction:ci,player:dr,element:$i}),ci.queriedElements.forEach(No=>ro(g,No,[]).push(dr)),ci.preStyleProps.forEach((No,Fg)=>{const yh=Object.keys(No);if(yh.length){let Lg=b.get(Fg);Lg||b.set(Fg,Lg=new Set),yh.forEach(uM=>Lg.add(uM))}}),ci.postStyleProps.forEach((No,Fg)=>{const yh=Object.keys(No);let Lg=C.get(Fg);Lg||C.set(Fg,Lg=new Set),yh.forEach(uM=>Lg.add(uM))})});if(gn.length){const rn=[];gn.forEach(_n=>{rn.push(function no(n,e){return new u.vHH(3505,qn)}())}),vn.forEach(_n=>_n.destroy()),this.reportError(rn)}const Hn=new Map,jn=new Map;c.forEach(rn=>{const _n=rn.element;r.has(_n)&&(jn.set(_n,_n),this._beforeAnimationBuild(rn.player.namespaceId,rn.instruction,Hn))}),i.forEach(rn=>{const _n=rn.element;this._getPreviousPlayers(_n,!1,rn.namespaceId,rn.triggerName,null).forEach(dr=>{ro(Hn,_n,[]).push(dr),dr.destroy()})});const Hs=rt.filter(rn=>ym(rn,b,C)),js=new Map;so(js,this.driver,_t,C,Ns).forEach(rn=>{ym(rn,b,C)&&Hs.push(rn)});const lo=new Map;Y.forEach((rn,_n)=>{so(lo,this.driver,new Set(rn),b,"!")}),Hs.forEach(rn=>{const _n=js.get(rn),xn=lo.get(rn);js.set(rn,Object.assign(Object.assign({},_n),xn))});const au=[],Og=[],WC={};c.forEach(rn=>{const{element:_n,player:xn,instruction:dr}=rn;if(r.has(_n)){if(R.has(_n))return xn.onDestroy(()=>al(_n,dr.toStyles)),xn.disabled=!0,xn.overrideTotalTime(dr.totalTime),void i.push(xn);let $i=WC;if(jn.size>1){let ko=_n;const fc=[];for(;ko=ko.parentNode;){const ci=jn.get(ko);if(ci){$i=ci;break}fc.push(ko)}fc.forEach(ci=>jn.set(ci,$i))}const _l=this._buildAnimation(xn.namespaceId,dr,Hn,a,lo,js);if(xn.setRealPlayer(_l),$i===WC)au.push(xn);else{const ko=this.playersByElement.get($i);ko&&ko.length&&(xn.parentPlayer=Ia(ko)),i.push(xn)}}else qc(_n,dr.fromStyles),xn.onDestroy(()=>al(_n,dr.toStyles)),Og.push(xn),R.has(_n)&&i.push(xn)}),Og.forEach(rn=>{const _n=a.get(rn.element);if(_n&&_n.length){const xn=Ia(_n);rn.setRealPlayer(xn)}}),i.forEach(rn=>{rn.parentPlayer?rn.syncPlayerEvents(rn.parentPlayer):rn.destroy()});for(let rn=0;rn<rt.length;rn++){const _n=rt[rn],xn=_n[io];if(fp(_n,ep),xn&&xn.hasAnimation)continue;let dr=[];if(g.size){let _l=g.get(_n);_l&&_l.length&&dr.push(..._l);let ko=this.driver.query(_n,om,!0);for(let fc=0;fc<ko.length;fc++){let ci=g.get(ko[fc]);ci&&ci.length&&dr.push(...ci)}}const $i=dr.filter(_l=>!_l.destroyed);$i.length?_M(this,_n,$i):this.processLeaveNode(_n)}return rt.length=0,au.forEach(rn=>{this.players.push(rn),rn.onDone(()=>{rn.destroy();const _n=this.players.indexOf(rn);this.players.splice(_n,1)}),rn.play()}),au}elementContainsData(e,t){let r=!1;const i=t[io];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let c=[];if(t){const g=this.playersByQueriedElement.get(e);g&&(c=g)}else{const g=this.playersByElement.get(e);if(g){const b=!a||a==Wu;g.forEach(C=>{C.queued||!b&&C.triggerName!=i||c.push(C)})}}return(r||i)&&(c=c.filter(g=>!(r&&r!=g.namespaceId||i&&i!=g.triggerName))),c}_beforeAnimationBuild(e,t,r){const a=t.element,c=t.isRemovalTransition?void 0:e,g=t.isRemovalTransition?void 0:t.triggerName;for(const b of t.timelines){const C=b.element,R=C!==a,P=ro(r,C,[]);this._getPreviousPlayers(C,R,c,g,t.toState).forEach(Y=>{const ne=Y.getRealPlayer();ne.beforeDestroy&&ne.beforeDestroy(),Y.destroy(),P.push(Y)})}qc(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,c){const g=t.triggerName,b=t.element,C=[],R=new Set,P=new Set,Z=t.timelines.map(ne=>{const Se=ne.element;R.add(Se);const rt=Se[io];if(rt&&rt.removedBeforeQueried)return new Hc(ne.duration,ne.delay);const ot=Se!==b,_t=function Yb(n){const e=[];return hD(n,e),e}((r.get(Se)||qb).map(Hn=>Hn.getRealPlayer())).filter(Hn=>!!Hn.element&&Hn.element===Se),Rt=a.get(Se),Ct=c.get(Se),vn=Xg(0,this._normalizer,0,ne.keyframes,Rt,Ct),gn=this._buildPlayer(ne,vn,_t);if(ne.subTimeline&&i&&P.add(Se),ot){const Hn=new vm(e,g,Se);Hn.setRealPlayer(gn),C.push(Hn)}return gn});C.forEach(ne=>{ro(this.playersByQueriedElement,ne.element,[]).push(ne),ne.onDone(()=>function Zb(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,ne.element,ne))}),R.forEach(ne=>Ko(ne,xb));const Y=Ia(Z);return Y.onDestroy(()=>{R.forEach(ne=>fp(ne,xb)),al(b,t.toStyles)}),P.forEach(ne=>{ro(i,ne,[]).push(Y)}),Y}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Hc(e.duration,e.delay)}}class vm{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Hc,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>jc(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ro(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function dp(n){return n&&1===n.nodeType}function $b(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function so(n,e,t,r,i){const a=[];t.forEach(b=>a.push($b(b)));const c=[];r.forEach((b,C)=>{const R={};b.forEach(P=>{const Z=R[P]=e.computeStyle(C,P,i);(!Z||0==Z.length)&&(C[io]=Xy,c.push(C))}),n.set(C,R)});let g=0;return t.forEach(b=>$b(b,a[g++])),c}function Kb(n,e){const t=new Map;if(n.forEach(g=>t.set(g,[])),0==e.length)return t;const i=new Set(e),a=new Map;function c(g){if(!g)return 1;let b=a.get(g);if(b)return b;const C=g.parentNode;return b=t.has(C)?C:i.has(C)?1:c(C),a.set(g,b),b}return e.forEach(g=>{const b=c(g);1!==b&&t.get(b).push(g)}),t}function Ko(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function fp(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function _M(n,e,t){Ia(t).onDone(()=>n.processLeaveNode(e))}function hD(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Yg?hD(r.players,e):e.push(r)}}function ym(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class hp{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new yM(e,t,r),this._timelineEngine=new up(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const c=e+"-"+i;let g=this._triggerCache[c];if(!g){const b=[],R=op(this._driver,a,b,[]);if(b.length)throw function wt(n,e){return new u.vHH(3404,qn)}();g=function Yy(n,e,t){return new lD(n,e,t)}(i,R,this._normalizer),this._triggerCache[c]=g}this._transitionEngine.registerTrigger(t,i,g)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,c]=tm(r);this._timelineEngine.command(a,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[c,g]=tm(r);return this._timelineEngine.listen(c,t,g,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let mD=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&al(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(al(this._element,this._initialStyles),this._endStyles&&(al(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(qc(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(qc(this._element,this._endStyles),this._endStyles=null),al(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function t_(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];Qb(i)&&(e=e||{},e[i]=n[i])}return e}function Qb(n){return"display"===n||"position"===n}class Jb{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:By(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Xb{validateStyleProperty(e){return Qh(e)}matchesElement(e,t){return!1}containsElement(e,t){return Py(e,t)}getParentElement(e){return nm(e)}query(e,t,r){return Oy(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,c=[]){const b={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(b.easing=a);const C={},R=c.filter(Z=>Z instanceof Jb);(function XC(n,e){return 0===n||0===e})(r,i)&&R.forEach(Z=>{let Y=Z.currentSnapshot;Object.keys(Y).forEach(ne=>C[ne]=Y[ne])}),t=function eD(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let a=e[0],c=[];if(r.forEach(g=>{a.hasOwnProperty(g)||c.push(g),a[g]=t[g]}),c.length)for(var i=1;i<e.length;i++){let g=e[i];c.forEach(function(b){g[b]=By(n,b)})}}return e}(e,t=t.map(Z=>ql(Z,!1)),C);const P=function gD(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=t_(e[0]),e.length>1&&(r=t_(e[e.length-1]))):e&&(t=t_(e)),t||r?new mD(n,t,r):null}(e,t);return new Jb(e,t,b,P)}}let vD=(()=>{class n extends uf{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?Wh(t):t;return n_(this._renderer,null,r,"register",[i]),new yD(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(Ee))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class yD extends class Ci{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new eE(this._id,e,t||{},this._renderer)}}class eE{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return n_(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function n_(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const xa="@.disabled";let r_=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,c)=>{const g=null==c?void 0:c.parentNode(a);g&&c.removeChild(g,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let R=this._rendererCache.get(a);return R||(R=new tE("",a,this.engine),this._rendererCache.set(a,R)),R}const c=r.id,g=r.id+"-"+this._currentId;this._currentId++,this.engine.register(g,t);const b=R=>{Array.isArray(R)?R.forEach(b):this.engine.registerTrigger(c,g,t,R.name,R)};return r.data.animation.forEach(b),new _D(this,g,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[c,g]=a;c(g)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.FYo),u.LFG(hp),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class tE{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==xa?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class _D extends tE{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==xa?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function bM(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.substr(1),c="";return"@"!=a.charAt(0)&&([a,c]=function nE(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,c,g=>{this.factory.scheduleListenerCallback(g._data||-1,r,g)})}return this.delegate.listen(e,t,r)}}let bD=(()=>{class n extends hp{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ee),u.LFG(im),u.LFG(lp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const bm=new u.OlP("AnimationModuleType"),rE=[{provide:uf,useClass:vD},{provide:lp,useFactory:function ED(){return new Ub}},{provide:hp,useClass:bD},{provide:u.FYo,useFactory:function AD(n,e,t){return new r_(n,e,t)},deps:[mo,hp,u.R0b]}],iE=[{provide:im,useFactory:()=>new Xb},{provide:bm,useValue:"BrowserAnimations"},...rE],Em=[{provide:im,useClass:rm},{provide:bm,useValue:"NoopAnimations"},...rE];let i_=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Em:iE}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:iE,imports:[Dl]}),n})();function wn(...n){const e=(0,ur.yG)(n);return(0,br.D)(n,e)}var Zr=z(7579);class Yo extends Zr.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Am=z(4671),AM=z(9672);function sE(n,e,t){n?(0,AM.f)(t,n,e):e()}var wm=z(576);function pp(n,e){const t=(0,wm.m)(n)?n:()=>n,r=i=>i.error(t());return new Qs.y(e?i=>e.schedule(r,0,i):r)}const gp=(0,z(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var mp=z(8189);function yf(...n){return function Zl(){return(0,mp.J)(1)}()((0,br.D)(n,(0,ur.yG)(n)))}function aE(n){return new Qs.y(e=>{(0,Wa.Xf)(n()).subscribe(e)})}var _f=z(515),wD=z(727),fs=z(4482);function o_(){return(0,fs.e)((n,e)=>{let t=null;n._refCount++;const r=(0,wi.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class a_ extends Qs.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,fs.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new wD.w0;const t=this.getSubject();e.add(this.source.subscribe((0,wi.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=wD.w0.EMPTY)}return e}refCount(){return o_()(this)}}function Di(n,e){return(0,fs.e)((t,r)=>{let i=null,a=0,c=!1;const g=()=>c&&!i&&r.complete();t.subscribe((0,wi.x)(r,b=>{null==i||i.unsubscribe();let C=0;const R=a++;(0,Wa.Xf)(n(b,R)).subscribe(i=(0,wi.x)(r,P=>r.next(e?e(b,P,R,C++):P),()=>{i=null,g()}))},()=>{c=!0,g()}))})}var l_=z(5698);function bf(...n){const e=(0,ur.yG)(n);return(0,fs.e)((t,r)=>{(e?yf(n,t,e):yf(n,t)).subscribe(r)})}function lE(n,e,t,r,i){return(a,c)=>{let g=t,b=e,C=0;a.subscribe((0,wi.x)(c,R=>{const P=C++;b=g?n(b,R,P):(g=!0,R),r&&c.next(b)},i&&(()=>{g&&c.next(b),c.complete()})))}}function Ef(n,e){return(0,fs.e)(lE(n,e,arguments.length>=2,!0))}function Qo(n,e){return(0,fs.e)((t,r)=>{let i=0;t.subscribe((0,wi.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}function Zu(n){return(0,fs.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,wi.x)(t,void 0,void 0,c=>{a=(0,Wa.Xf)(n(c,Zu(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}var Oi=z(5577);function Af(n,e){return(0,wm.m)(e)?(0,Oi.z)(n,e,1):(0,Oi.z)(n,1)}function u_(n){return n<=0?()=>_f.E:(0,fs.e)((e,t)=>{let r=[];e.subscribe((0,wi.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function c_(n=wf){return(0,fs.e)((e,t)=>{let r=!1;e.subscribe((0,wi.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function wf(){return new gp}function d_(n){return(0,fs.e)((e,t)=>{let r=!1;e.subscribe((0,wi.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function $u(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Qo((i,a)=>n(i,a,r)):Am.y,(0,l_.q)(1),t?d_(e):c_(()=>new gp))}var Fi=z(8505);class $l{constructor(e,t){this.id=e,this.url=t}}class f_ extends $l{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Cf extends $l{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ma extends $l{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class h_ extends $l{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class uE extends $l{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cE extends $l{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dE extends $l{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class fE extends $l{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TD extends $l{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hE{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class pE{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ID{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gE{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CM{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mE{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vE{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Jn="primary";class DM{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function vp(n){return new DM(n)}const Cm="ngNavigationCancelingError";function p_(n){const e=Error("NavigationCancelingError: "+n);return e[Cm]=!0,e}function _E(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const c=r[a],g=n[a];if(c.startsWith(":"))i[c.substring(1)]=g;else if(c!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function mi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!SD(n[i],e[i]))return!1;return!0}function SD(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function xD(n){return Array.prototype.concat.apply([],n)}function g_(n){return n.length>0?n[n.length-1]:null}function Li(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function ll(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,br.D)(Promise.resolve(n)):wn(n)}const bE={exact:function AE(n,e,t){if(!Ra(n.segments,e.segments)||!Tm(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!AE(n.children[r],e.children[r],t))return!1;return!0},subset:wE},Dm={exact:function m_(n,e){return mi(n,e)},subset:function RD(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>SD(n[t],e[t]))},ignored:()=>!0};function EE(n,e,t){return bE[t.paths](n.root,e.root,t.matrixParams)&&Dm[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function wE(n,e,t){return CE(n,e,e.segments,t)}function CE(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Ra(i,t)||e.hasChildren()||!Tm(i,t,r))}if(n.segments.length===t.length){if(!Ra(n.segments,t)||!Tm(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!wE(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(Ra(n.segments,i)&&Tm(n.segments,i,r)&&n.children[Jn])&&CE(n.children[Jn],e,a,r)}}function Tm(n,e,t){return e.every((r,i)=>Dm[t](n[i].parameters,r.parameters))}class $c{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vp(this.queryParams)),this._queryParamMap}toString(){return cl.serialize(this)}}class Kn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Li(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ku(this)}}class ul{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=vp(this.parameters)),this._parameterMap}toString(){return Qc(this)}}function Ra(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class DE{}class Im{parse(e){const t=new SE(e);return new $c(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${vi(e.root,!0)}`,r=function Tf(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Kc(t)}=${Kc(i)}`).join("&"):`${Kc(t)}=${Kc(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Jo(n){return encodeURI(n)}(e.fragment)}`:""}`}}const cl=new Im;function Ku(n){return n.segments.map(e=>Qc(e)).join("/")}function vi(n,e){if(!n.hasChildren())return Ku(n);if(e){const t=n.children[Jn]?vi(n.children[Jn],!1):"",r=[];return Li(n.children,(i,a)=>{a!==Jn&&r.push(`${a}:${vi(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function ND(n,e){let t=[];return Li(n.children,(r,i)=>{i===Jn&&(t=t.concat(e(r,i)))}),Li(n.children,(r,i)=>{i!==Jn&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Jn?[vi(n.children[Jn],!1)]:[`${i}:${vi(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Jn]?`${Ku(n)}/${t[0]}`:`${Ku(n)}/(${t.join("//")})`}}function Yu(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kc(n){return Yu(n).replace(/%3B/gi,";")}function yp(n){return Yu(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Kl(n){return decodeURIComponent(n)}function Yc(n){return Kl(n.replace(/\+/g,"%20"))}function Qc(n){return`${yp(n.path)}${function Df(n){return Object.keys(n).map(e=>`;${yp(e)}=${yp(n[e])}`).join("")}(n.parameters)}`}const If=/^[^\/()?;=#]+/;function Yl(n){const e=n.match(If);return e?e[0]:""}const Sf=/^[^=?&#]+/,TE=/^[^&#]+/;class SE{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Kn([],{}):new Kn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Jn]=new Kn(e,t)),r}parseSegment(){const e=Yl(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new ul(Kl(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Yl(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Yl(this.remaining);i&&(r=i,this.capture(r))}e[Kl(t)]=Kl(r)}parseQueryParam(e){const t=function xf(n){const e=n.match(Sf);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function IE(n){const e=n.match(TE);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=Yc(t),a=Yc(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Yl(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let a;r.indexOf(":")>-1?(a=r.substr(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Jn);const c=this.parseChildren();t[a]=1===Object.keys(c).length?c[Jn]:new Kn([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class v_{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Sm(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Sm(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=xm(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return xm(e,this._root).map(t=>t.value)}}function Sm(n,e){if(n===e.value)return e;for(const t of e.children){const r=Sm(n,t);if(r)return r}return null}function xm(n,e){if(n===e.value)return[e];for(const t of e.children){const r=xm(n,t);if(r.length)return r.unshift(e),r}return[]}class dl{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Jc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class y_ extends v_{constructor(e,t){super(e),this.snapshot=t,Rm(this,e)}toString(){return this.snapshot.toString()}}function xE(n,e){const t=function ME(n,e){const c=new Mm([],{},{},"",{},Jn,e,null,n.root,-1,{});return new NE("",new dl(c,[]))}(n,e),r=new Yo([new ul("",{})]),i=new Yo({}),a=new Yo({}),c=new Yo({}),g=new Yo(""),b=new Mf(r,i,c,g,a,Jn,e,t.root);return b.snapshot=t.root,new y_(new dl(b,[]),t)}class Mf{constructor(e,t,r,i,a,c,g,b){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=g,this._futureSnapshot=b}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,hn.U)(e=>vp(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,hn.U)(e=>vp(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function RE(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function kE(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Mm{constructor(e,t,r,i,a,c,g,b,C,R,P){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=g,this.routeConfig=b,this._urlSegment=C,this._lastPathIndex=R,this._resolve=P}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=vp(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vp(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class NE extends v_{constructor(e,t){super(t),this.url=e,Rm(this,t)}toString(){return PE(this._root)}}function Rm(n,e){e.value._routerState=n,e.children.forEach(t=>Rm(n,t))}function PE(n){const e=n.children.length>0?` { ${n.children.map(PE).join(", ")} } `:"";return`${n.value}${e}`}function km(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,mi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),mi(e.params,t.params)||n.params.next(t.params),function TM(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!mi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),mi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function __(n,e){const t=mi(n.params,e.params)&&function kD(n,e){return Ra(n,e)&&n.every((t,r)=>mi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||__(n.parent,e.parent))}function Nm(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function OD(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Nm(n,r,i);return Nm(n,r)})}(n,e,t);return new dl(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(g=>Nm(n,g)),c}}const r=function b_(n){return new Mf(new Yo(n.url),new Yo(n.params),new Yo(n.queryParams),new Yo(n.fragment),new Yo(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Nm(n,a));return new dl(r,i)}}function Pm(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Om(n){return"object"==typeof n&&null!=n&&n.outlets}function OE(n,e,t,r,i){let a={};if(r&&Li(r,(g,b)=>{a[b]=Array.isArray(g)?g.map(C=>`${C}`):`${g}`}),n===e)return new $c(t,a,i);const c=FD(n,e,t);return new $c(c,a,i)}function FD(n,e,t){const r={};return Li(n.children,(i,a)=>{r[a]=i===e?t:FD(i,e,t)}),new Kn(n.segments,r)}class FE{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Pm(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Om);if(i&&i!==g_(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class VE{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function A_(n,e,t){if(n||(n=new Kn([],{})),0===n.segments.length&&n.hasChildren())return Fm(n,e,t);const r=function BE(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const c=n.segments[i],g=t[r];if(Om(g))break;const b=`${g}`,C=r<t.length-1?t[r+1]:null;if(i>0&&void 0===b)break;if(b&&C&&"object"==typeof C&&void 0===C.outlets){if(!UE(b,C,c))return a;r+=2}else{if(!UE(b,{},c))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new Kn(n.segments.slice(0,r.pathIndex),{});return a.children[Jn]=new Kn(n.segments.slice(r.pathIndex),n.children),Fm(a,0,i)}return r.match&&0===i.length?new Kn(n.segments,{}):r.match&&!n.hasChildren()?kf(n,e,t):r.match?Fm(n,0,i):kf(n,e,t)}function Fm(n,e,t){if(0===t.length)return new Kn(n.segments,{});{const r=function VD(n){return Om(n[0])?n[0].outlets:{[Jn]:n}}(t),i={};return Li(r,(a,c)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[c]=A_(n.children[c],e,a))}),Li(n.children,(a,c)=>{void 0===r[c]&&(i[c]=a)}),new Kn(n.segments,i)}}function kf(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(Om(a)){const b=BD(a.outlets);return new Kn(r,b)}if(0===i&&Pm(t[0])){r.push(new ul(n.segments[e].path,w_(t[0]))),i++;continue}const c=Om(a)?a.outlets[Jn]:`${a}`,g=i<t.length-1?t[i+1]:null;c&&g&&Pm(g)?(r.push(new ul(c,w_(g))),i+=2):(r.push(new ul(c,{})),i++)}return new Kn(r,{})}function BD(n){const e={};return Li(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=kf(new Kn([],{}),0,t))}),e}function w_(n){const e={};return Li(n,(t,r)=>e[r]=`${t}`),e}function UE(n,e,t){return n==t.path&&mi(e,t.parameters)}class HD{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),km(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Jc(t);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,i[c],r),delete i[c]}),Li(i,(a,c)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Jc(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);if(r&&r.outlet){const c=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Jc(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Jc(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new mE(a.value.snapshot))}),e.children.length&&this.forwardEvent(new gE(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(km(i),i===a)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const g=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(g.contexts),c.attachRef=g.componentRef,c.route=g.route.value,c.outlet&&c.outlet.attach(g.componentRef,g.route.value),km(g.route.value),this.activateChildRoutes(e,null,c.children)}else{const g=function jD(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),b=g?g.module.componentFactoryResolver:null;c.attachRef=null,c.route=i,c.resolver=b,c.outlet&&c.outlet.activateWith(i,b),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class C_{constructor(e,t){this.routes=e,this.module=t}}function Ql(n){return"function"==typeof n}function Qu(n){return n instanceof $c}const _p=Symbol("INITIAL_VALUE");function Lm(){return Di(n=>function s_(...n){const e=(0,ur.yG)(n),t=(0,ur.jO)(n),{args:r,keys:i}=pa(n);if(0===r.length)return(0,br.D)([],e);const a=new Qs.y(function wM(n,e,t=Am.y){return r=>{sE(e,()=>{const{length:i}=n,a=new Array(i);let c=i,g=i;for(let b=0;b<i;b++)sE(e,()=>{const C=(0,br.D)(n[b],e);let R=!1;C.subscribe((0,wi.x)(r,P=>{a[b]=P,R||(R=!0,g--),g||r.next(t(a.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>kl(i,c):Am.y));return t?a.pipe(xh(t)):a}(n.map(e=>e.pipe((0,l_.q)(1),bf(_p)))).pipe(Ef((e,t)=>{let r=!1;return t.reduce((i,a,c)=>i!==_p?i:(a===_p&&(r=!0),r||!1!==a&&c!==t.length-1&&!Qu(a)?i:a),e)},_p),Qo(e=>e!==_p),(0,hn.U)(e=>Qu(e)?e:!0===e),(0,l_.q)(1)))}class bp{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Nf,this.attachRef=null}}class Nf{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new bp,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Ep=(()=>{class n{constructor(t,r,i,a,c){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=a||Jn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const c=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),g=this.parentContexts.getOrCreateContext(this.name).children,b=new I_(t,g,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,b),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Nf),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class I_{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Mf?this.route:e===Nf?this.childContexts:this.parent.get(e,t)}}let jE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},directives:[Ep],encapsulation:2}),n})();function Ap(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Vm(r,S_(e,r))}}function Vm(n,e){n.children&&Ap(n.children,e)}function S_(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function GE(n){const e=n.children&&n.children.map(GE),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Jn&&(t.component=jE),t}function Xo(n){return n.outlet||Jn}function wp(n,e){const t=n.filter(r=>Xo(r)===e);return t.push(...n.filter(r=>Xo(r)!==e)),t}const Cp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Pf(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Cp):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const a=(e.matcher||_E)(t,n,e);if(!a)return Object.assign({},Cp);const c={};Li(a.posParams,(b,C)=>{c[C]=b.path});const g=a.consumed.length>0?Object.assign(Object.assign({},c),a.consumed[a.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:a.consumed,remainingSegments:t.slice(a.consumed.length),parameters:g,positionalParamSegments:null!==(r=a.posParams)&&void 0!==r?r:{}}}function Dp(n,e,t,r,i="corrected"){if(t.length>0&&function qE(n,e,t){return t.some(r=>Tp(n,e,r)&&Xo(r)!==Jn)}(n,t,r)){const c=new Kn(e,function zE(n,e,t,r){const i={};i[Jn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Xo(a)!==Jn){const c=new Kn([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[Xo(a)]=c}return i}(n,e,r,new Kn(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function M_(n,e,t){return t.some(r=>Tp(n,e,r))}(n,t,r)){const c=new Kn(n.segments,function x_(n,e,t,r,i,a){const c={};for(const g of r)if(Tp(n,t,g)&&!i[Xo(g)]){const b=new Kn([],{});b._sourceSegment=n,b._segmentIndexShift="legacy"===a?n.segments.length:e.length,c[Xo(g)]=b}return Object.assign(Object.assign({},i),c)}(n,e,t,r,n.children,i));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const a=new Kn(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function Tp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function WE(n,e,t,r){return!!(Xo(n)===r||r!==Jn&&Tp(e,t,n))&&("**"===n.path||Pf(e,n,t).matched)}function R_(n,e,t){return 0===e.length&&!n.children[t]}class Ip{constructor(e){this.segmentGroup=e||null}}class Bm{constructor(e){this.urlTree=e}}function Of(n){return pp(new Ip(n))}function ZE(n){return pp(new Bm(n))}class Um{constructor(e,t,r,i,a){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(u.h0i)}apply(){const e=Dp(this.urlTree.root,[],[],this.config).segmentGroup,t=new Kn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Jn).pipe((0,hn.U)(a=>this.createUrlTree(Hm(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Zu(a=>{if(a instanceof Bm)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Ip?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Jn).pipe((0,hn.U)(i=>this.createUrlTree(Hm(i),e.queryParams,e.fragment))).pipe(Zu(i=>{throw i instanceof Ip?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Kn([],{[Jn]:e}):e;return new $c(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,hn.U)(a=>new Kn([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,br.D)(i).pipe(Af(a=>{const c=r.children[a],g=wp(t,a);return this.expandSegmentGroup(e,g,c,a).pipe((0,hn.U)(b=>({segment:b,outlet:a})))}),Ef((a,c)=>(a[c.outlet]=c.segment,a),{}),function CD(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Qo((i,a)=>n(i,a,r)):Am.y,u_(1),t?d_(e):c_(()=>new gp))}())}expandSegment(e,t,r,i,a,c){return(0,br.D)(r).pipe(Af(g=>this.expandSegmentAgainstRoute(e,t,r,g,i,a,c).pipe(Zu(C=>{if(C instanceof Ip)return wn(null);throw C}))),$u(g=>!!g),Zu((g,b)=>{if(g instanceof gp||"EmptyError"===g.name)return R_(t,i,a)?wn(new Kn([],{})):Of(t);throw g}))}expandSegmentAgainstRoute(e,t,r,i,a,c,g){return WE(i,t,a,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,c):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c):Of(t):Of(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?ZE(a):this.lineralizeSegments(r,a).pipe((0,Oi.z)(c=>{const g=new Kn(c,{});return this.expandSegment(e,g,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,c){const{matched:g,consumedSegments:b,remainingSegments:C,positionalParamSegments:R}=Pf(t,i,a);if(!g)return Of(t);const P=this.applyRedirectCommands(b,i.redirectTo,R);return i.redirectTo.startsWith("/")?ZE(P):this.lineralizeSegments(i,P).pipe((0,Oi.z)(Z=>this.expandSegment(e,t,r,Z.concat(C),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){if("**"===r.path)return r.loadChildren?(r._loadedConfig?wn(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,hn.U)(P=>(r._loadedConfig=P,new Kn(i,{})))):wn(new Kn(i,{}));const{matched:c,consumedSegments:g,remainingSegments:b}=Pf(t,r,i);return c?this.getChildConfig(e,r,i).pipe((0,Oi.z)(R=>{const P=R.module,Z=R.routes,{segmentGroup:Y,slicedSegments:ne}=Dp(t,g,b,Z),Se=new Kn(Y.segments,Y.children);if(0===ne.length&&Se.hasChildren())return this.expandChildren(P,Z,Se).pipe((0,hn.U)(Rt=>new Kn(g,Rt)));if(0===Z.length&&0===ne.length)return wn(new Kn(g,{}));const rt=Xo(r)===a;return this.expandSegment(P,Se,Z,ne,rt?Jn:a,!0).pipe((0,hn.U)(_t=>new Kn(g.concat(_t.segments),_t.children)))})):Of(t)}getChildConfig(e,t,r){return t.children?wn(new C_(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?wn(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Oi.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,hn.U)(a=>(t._loadedConfig=a,a))):function qD(n){return pp(p_(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):wn(new C_([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?wn(i.map(c=>{const g=e.get(c);let b;if(function HE(n){return n&&Ql(n.canLoad)}(g))b=g.canLoad(t,r);else{if(!Ql(g))throw new Error("Invalid CanLoad guard");b=g(t,r)}return ll(b)})).pipe(Lm(),(0,Fi.b)(c=>{if(!Qu(c))return;const g=p_(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw g.url=c,g}),(0,hn.U)(c=>!0===c)):wn(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return wn(r);if(i.numberOfChildren>1||!i.children[Jn])return pp(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));i=i.children[Jn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new $c(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Li(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const g=i.substring(1);r[a]=t[g]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let c={};return Li(t.children,(g,b)=>{c[b]=this.createSegmentGroup(e,g,r,i)}),new Kn(a,c)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function Hm(n){const e={};for(const r of Object.keys(n.children)){const a=Hm(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function KE(n){if(1===n.numberOfChildren&&n.children[Jn]){const e=n.children[Jn];return new Kn(n.segments.concat(e.segments),e.children)}return n}(new Kn(n.segments,e))}class k_{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Sp{constructor(e,t){this.component=e,this.route=t}}function QE(n,e,t){const r=n._root;return Mp(r,e?e._root:null,t,[r.value])}function xp(n,e,t){const r=function xM(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Mp(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Jc(e);return n.children.forEach(c=>{(function WD(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,c=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const b=function XE(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ra(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ra(n.url,e.url)||!mi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!__(n,e)||!mi(n.queryParams,e.queryParams);default:return!__(n,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);b?i.canActivateChecks.push(new k_(r)):(a.data=c.data,a._resolvedData=c._resolvedData),Mp(n,e,a.component?g?g.children:null:t,r,i),b&&g&&g.outlet&&g.outlet.isActivated&&i.canDeactivateChecks.push(new Sp(g.outlet.component,c))}else c&&Rp(e,g,i),i.canActivateChecks.push(new k_(r)),Mp(n,null,a.component?g?g.children:null:t,r,i)})(c,a[c.value.outlet],t,r.concat([c.value]),i),delete a[c.value.outlet]}),Li(a,(c,g)=>Rp(c,t.getContext(g),i)),i}function Rp(n,e,t){const r=Jc(n),i=n.value;Li(r,(a,c)=>{Rp(a,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Sp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Ff{}function iA(n){return new Qs.y(e=>e.error(n))}class sA{constructor(e,t,r,i,a,c){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=c}recognize(){const e=Dp(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Jn);if(null===t)return null;const r=new Mm([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Jn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new dl(r,t),a=new NE(this.url,i);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(e){const t=e.value,r=RE(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const a of Object.keys(t.children)){const c=t.children[a],g=wp(e,a),b=this.processSegmentGroup(g,c,a);if(null===b)return null;r.push(...b)}const i=jm(r);return function QD(n){n.sort((e,t)=>e.value.outlet===Jn?-1:t.value.outlet===Jn?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const a of e){const c=this.processSegmentAgainstRoute(a,t,r,i);if(null!==c)return c}return R_(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!WE(e,t,r,i))return null;let a,c=[],g=[];if("**"===e.path){const Y=r.length>0?g_(r).parameters:{};a=new Mm(r,Y,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,N_(e),Xo(e),e.component,e,ka(t),lA(t)+r.length,Na(e))}else{const Y=Pf(t,e,r);if(!Y.matched)return null;c=Y.consumedSegments,g=Y.remainingSegments,a=new Mm(c,Y.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,N_(e),Xo(e),e.component,e,ka(t),lA(t)+c.length,Na(e))}const b=function oA(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:C,slicedSegments:R}=Dp(t,c,g,b.filter(Y=>void 0===Y.redirectTo),this.relativeLinkResolution);if(0===R.length&&C.hasChildren()){const Y=this.processChildren(b,C);return null===Y?null:[new dl(a,Y)]}if(0===b.length&&0===R.length)return[new dl(a,[])];const P=Xo(e)===i,Z=this.processSegment(b,C,R,P?Jn:i);return null===Z?null:[new dl(a,Z)]}}function MM(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function jm(n){const e=[],t=new Set;for(const r of n){if(!MM(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=jm(r.children);e.push(new dl(r.value,i))}return e.filter(r=>!t.has(r))}function ka(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function lA(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function N_(n){return n.data||{}}function Na(n){return n.resolve||{}}function dA(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function P_(n){return Di(e=>{const t=n(e);return t?(0,br.D)(t).pipe((0,hn.U)(()=>e)):wn(e)})}class kp extends class O_{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const F_=new u.OlP("ROUTES");class L_{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,hn.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t);const c=a.create(e);return new C_(xD(c.injector.get(F_,void 0,u.XFs.Self|u.XFs.Optional)).map(GE),c)}),Zu(a=>{throw t._loader$=void 0,a}));return t._loader$=new a_(i,()=>new Zr.x).pipe(o_()),t._loader$}loadModuleFactory(e){return ll(e()).pipe((0,Oi.z)(t=>t instanceof u.YKP?wn(t):(0,br.D)(this.compiler.compileModuleAsync(t))))}}class fA{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function hA(n){throw n}function Gm(n,e,t){return e.parse("/")}function pA(n,e){return wn(null)}const gA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let hs=(()=>{class n{constructor(t,r,i,a,c,g,b){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=b,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Zr.x,this.errorHandler=hA,this.malformedUriErrorHandler=Gm,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:pA,afterPreactivation:pA},this.urlHandlingStrategy=new fA,this.routeReuseStrategy=new kp,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(u.h0i),this.console=c.get(u.c2e);const P=c.get(u.R0b);this.isNgZoneEnabled=P instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(b),this.currentUrlTree=function IM(){return new $c(new Kn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new L_(c,g,Z=>this.triggerEvent(new hE(Z)),Z=>this.triggerEvent(new pE(Z))),this.routerState=xE(this.currentUrlTree,this.rootComponentType),this.transitions=new Yo({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Qo(i=>0!==i.id),(0,hn.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Di(i=>{let a=!1,c=!1;return wn(i).pipe((0,Fi.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.currentRawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Di(g=>{const b=this.browserUrlTree.toString(),C=!this.navigated||g.extractedUrl.toString()!==b||b!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return V_(g.source)&&(this.browserUrlTree=g.extractedUrl),wn(g).pipe(Di(P=>{const Z=this.transitions.getValue();return r.next(new f_(P.id,this.serializeUrl(P.extractedUrl),P.source,P.restoredState)),Z!==this.transitions.getValue()?_f.E:Promise.resolve(P)}),function YE(n,e,t,r){return Di(i=>function $E(n,e,t,r,i){return new Um(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,hn.U)(a=>Object.assign(Object.assign({},i),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Fi.b)(P=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:P.urlAfterRedirects})}),function Pa(n,e,t,r,i){return(0,Oi.z)(a=>function YD(n,e,t,r,i="emptyOnly",a="legacy"){try{const c=new sA(n,e,t,r,i,a).recognize();return null===c?iA(new Ff):wn(c)}catch(c){return iA(c)}}(n,e,a.urlAfterRedirects,t(a.urlAfterRedirects),r,i).pipe((0,hn.U)(c=>Object.assign(Object.assign({},a),{targetSnapshot:c}))))}(this.rootComponentType,this.config,P=>this.serializeUrl(P),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Fi.b)(P=>{if("eager"===this.urlUpdateStrategy){if(!P.extras.skipLocationChange){const Y=this.urlHandlingStrategy.merge(P.urlAfterRedirects,P.rawUrl);this.setBrowserUrl(Y,P)}this.browserUrlTree=P.urlAfterRedirects}const Z=new uE(P.id,this.serializeUrl(P.extractedUrl),this.serializeUrl(P.urlAfterRedirects),P.targetSnapshot);r.next(Z)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Z,extractedUrl:Y,source:ne,restoredState:Se,extras:rt}=g,ot=new f_(Z,this.serializeUrl(Y),ne,Se);r.next(ot);const _t=xE(Y,this.rootComponentType).snapshot;return wn(Object.assign(Object.assign({},g),{targetSnapshot:_t,urlAfterRedirects:Y,extras:Object.assign(Object.assign({},rt),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=g.rawUrl,g.resolve(null),_f.E}),P_(g=>{const{targetSnapshot:b,id:C,extractedUrl:R,rawUrl:P,extras:{skipLocationChange:Z,replaceUrl:Y}}=g;return this.hooks.beforePreactivation(b,{navigationId:C,appliedUrlTree:R,rawUrlTree:P,skipLocationChange:!!Z,replaceUrl:!!Y})}),(0,Fi.b)(g=>{const b=new cE(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(b)}),(0,hn.U)(g=>Object.assign(Object.assign({},g),{guards:QE(g.targetSnapshot,g.currentSnapshot,this.rootContexts)})),function Ti(n,e){return(0,Oi.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:c}}=t;return 0===c.length&&0===a.length?wn(Object.assign(Object.assign({},t),{guardsResult:!0})):function eA(n,e,t,r){return(0,br.D)(n).pipe((0,Oi.z)(i=>function rA(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?wn(a.map(g=>{const b=xp(g,e,i);let C;if(function T_(n){return n&&Ql(n.canDeactivate)}(b))C=ll(b.canDeactivate(n,e,t,r));else{if(!Ql(b))throw new Error("Invalid CanDeactivate guard");C=ll(b(n,e,t,r))}return C.pipe($u())})).pipe(Lm()):wn(!0)}(i.component,i.route,t,e,r)),$u(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Oi.z)(g=>g&&function GD(n){return"boolean"==typeof n}(g)?function ZD(n,e,t,r){return(0,br.D)(e).pipe(Af(i=>yf(function tA(n,e){return null!==n&&e&&e(new ID(n)),wn(!0)}(i.route.parent,r),function $D(n,e){return null!==n&&e&&e(new CM(n)),wn(!0)}(i.route,r),function nA(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function JE(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>aE(()=>wn(c.guards.map(b=>{const C=xp(b,c.node,t);let R;if(function SM(n){return n&&Ql(n.canActivateChild)}(C))R=ll(C.canActivateChild(r,n));else{if(!Ql(C))throw new Error("Invalid CanActivateChild guard");R=ll(C(r,n))}return R.pipe($u())})).pipe(Lm())));return wn(a).pipe(Lm())}(n,i.path,t),function KD(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return wn(!0);const i=r.map(a=>aE(()=>{const c=xp(a,e,t);let g;if(function D_(n){return n&&Ql(n.canActivate)}(c))g=ll(c.canActivate(e,n));else{if(!Ql(c))throw new Error("Invalid CanActivate guard");g=ll(c(e,n))}return g.pipe($u())}));return wn(i).pipe(Lm())}(n,i.route,t))),$u(i=>!0!==i,!0))}(r,a,n,e):wn(g)),(0,hn.U)(g=>Object.assign(Object.assign({},t),{guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,Fi.b)(g=>{if(Qu(g.guardsResult)){const C=p_(`Redirecting to "${this.serializeUrl(g.guardsResult)}"`);throw C.url=g.guardsResult,C}const b=new dE(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(b)}),Qo(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,""),!1)),P_(g=>{if(g.guards.canActivateChecks.length)return wn(g).pipe((0,Fi.b)(b=>{const C=new fE(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(C)}),Di(b=>{let C=!1;return wn(b).pipe(function Oa(n,e){return(0,Oi.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return wn(t);let a=0;return(0,br.D)(i).pipe(Af(c=>function uA(n,e,t,r){return function cA(n,e,t,r){const i=dA(n);if(0===i.length)return wn({});const a={};return(0,br.D)(i).pipe((0,Oi.z)(c=>function JD(n,e,t,r){const i=xp(n,e,r);return ll(i.resolve?i.resolve(e,t):i(e,t))}(n[c],e,t,r).pipe((0,Fi.b)(g=>{a[c]=g}))),u_(1),(0,Oi.z)(()=>dA(a).length===i.length?wn(a):_f.E))}(n._resolve,n,e,r).pipe((0,hn.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),RE(n,t).resolve),null)))}(c.route,r,n,e)),(0,Fi.b)(()=>a++),u_(1),(0,Oi.z)(c=>a===i.length?wn(t):_f.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Fi.b)({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(b),this.cancelNavigationTransition(b,"At least one route resolver didn't emit any value."))}}))}),(0,Fi.b)(b=>{const C=new TD(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(C)}))}),P_(g=>{const{targetSnapshot:b,id:C,extractedUrl:R,rawUrl:P,extras:{skipLocationChange:Z,replaceUrl:Y}}=g;return this.hooks.afterPreactivation(b,{navigationId:C,appliedUrlTree:R,rawUrlTree:P,skipLocationChange:!!Z,replaceUrl:!!Y})}),(0,hn.U)(g=>{const b=function PD(n,e,t){const r=Nm(n,e._root,t?t._root:void 0);return new y_(r,e)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return Object.assign(Object.assign({},g),{targetRouterState:b})}),(0,Fi.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((n,e,t)=>(0,hn.U)(r=>(new HD(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,Fi.b)({next(){a=!0},complete(){a=!0}}),function DD(n){return(0,fs.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var g;a||c||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(g=this.currentNavigation)||void 0===g?void 0:g.id)===i.id&&(this.currentNavigation=null)}),Zu(g=>{if(c=!0,function yE(n){return n&&n[Cm]}(g)){const b=Qu(g.url);b||(this.navigated=!0,this.restoreHistory(i,!0));const C=new Ma(i.id,this.serializeUrl(i.extractedUrl),g.message);r.next(C),b?setTimeout(()=>{const R=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),P={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||V_(i.source)};this.scheduleNavigation(R,"imperative",null,P,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const b=new h_(i.id,this.serializeUrl(i.extractedUrl),g);r.next(b);try{i.resolve(this.errorHandler(g))}catch(C){i.reject(C)}}return _f.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const a={replaceUrl:!0},c=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(c){const b=Object.assign({},c);delete b.navigationId,delete b.\u0275routerPageId,0!==Object.keys(b).length&&(a.state=b)}const g=this.parseUrl(t.url);this.scheduleNavigation(g,r,c,a)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ap(t),this.config=t.map(GE),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:c,queryParamsHandling:g,preserveFragment:b}=r,C=i||this.routerState.root,R=b?this.currentUrlTree.fragment:c;let P=null;switch(g){case"merge":P=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":P=this.currentUrlTree.queryParams;break;default:P=a||null}return null!==P&&(P=this.removeEmptyProps(P)),function E_(n,e,t,r,i){if(0===t.length)return OE(e.root,e.root,e.root,r,i);const a=function LE(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new FE(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const g={};return Li(a.outlets,(b,C)=>{g[C]="string"==typeof b?b.split("/"):b}),[...i,{outlets:g}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===c?(a.split("/").forEach((g,b)=>{0==b&&"."===g||(0==b&&""===g?t=!0:".."===g?e++:""!=g&&i.push(g))}),i):[...i,a]},[]);return new FE(t,e,r)}(t);if(a.toRoot())return OE(e.root,e.root,new Kn([],{}),r,i);const c=function LD(n,e,t){if(n.isAbsolute)return new VE(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const a=t.snapshot._urlSegment;return new VE(a,a===e.root,0)}const r=Pm(n.commands[0])?0:1;return function Rf(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new VE(r,!1,i-a)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(a,e,n),g=c.processChildren?Fm(c.segmentGroup,c.index,a.commands):A_(c.segmentGroup,c.index,a.commands);return OE(e.root,c.segmentGroup,g,r,i)}(C,this.currentUrlTree,t,P,null!=R?R:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Qu(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function zm(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},gA):!1===r?Object.assign({},mA):r,Qu(t))return EE(this.currentUrlTree,t,i);const a=this.parseUrl(t);return EE(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Cf(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,c){var g,b;if(this.disposed)return Promise.resolve(!1);let C,R,P;c?(C=c.resolve,R=c.reject,P=c.promise):P=new Promise((ne,Se)=>{C=ne,R=Se});const Z=++this.navigationId;let Y;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),Y=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(g=this.browserPageId)&&void 0!==g?g:0:(null!==(b=this.browserPageId)&&void 0!==b?b:0)+1):Y=0,this.setTransition({id:Z,targetPageId:Y,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:C,reject:R,promise:P,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),P.catch(ne=>Promise.reject(ne))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){var i,a;if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===c?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===c&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(c)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new Ma(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function V_(n){return"imperative"!==n}class B_{}class U_{preload(e,t){return wn(null)}}let bA=(()=>{class n{constructor(t,r,i,a){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=new L_(i,r,b=>t.triggerEvent(new hE(b)),b=>t.triggerEvent(new pE(b)))}setUpPreloading(){this.subscription=this.router.events.pipe(Qo(t=>t instanceof Cf),Af(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(u.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const c=a._loadedConfig;i.push(this.processRoutes(c.module,c.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(t,a)):a.children&&i.push(this.processRoutes(t,a.children));return(0,br.D)(i).pipe((0,mp.J)(),(0,hn.U)(a=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?wn(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Oi.z)(a=>(r._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(hs),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(B_))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),H_=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof f_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Cf&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof vE&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new vE(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ed=new u.OlP("ROUTER_CONFIGURATION"),EA=new u.OlP("ROUTER_FORROOT_GUARD"),tT=[Qe,{provide:DE,useClass:Im},{provide:hs,useFactory:function oT(n,e,t,r,i,a,c={},g,b){const C=new hs(null,n,e,t,r,i,xD(a));return g&&(C.urlHandlingStrategy=g),b&&(C.routeReuseStrategy=b),function aT(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,C),c.enableTracing&&C.events.subscribe(R=>{var P,Z;null===(P=console.group)||void 0===P||P.call(console,`Router Event: ${R.constructor.name}`),console.log(R.toString()),console.log(R),null===(Z=console.groupEnd)||void 0===Z||Z.call(console)}),C},deps:[DE,Nf,Qe,u.zs3,u.Sil,F_,ed,[class eT{},new u.FiY],[class XD{},new u.FiY]]},Nf,{provide:Mf,useFactory:function lT(n){return n.routerState.root},deps:[hs]},bA,U_,class _A{preload(e,t){return t().pipe(Zu(()=>wn(null)))}},{provide:ed,useValue:{enableTracing:!1}}];function nT(){return new u.PXZ("Router",hs)}let AA=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[tT,wA(t),{provide:EA,useFactory:sT,deps:[[hs,new u.FiY,new u.tp0]]},{provide:ed,useValue:r||{}},{provide:ce,useFactory:iT,deps:[Me,[new u.tBr(je),new u.FiY],ed]},{provide:H_,useFactory:rT,deps:[hs,ca,ed]},{provide:B_,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:U_},{provide:u.PXZ,multi:!0,useFactory:nT},[j_,{provide:u.ip1,multi:!0,useFactory:uT,deps:[j_]},{provide:G_,useFactory:CA,deps:[j_]},{provide:u.tb,multi:!0,useExisting:G_}]]}}static forChild(t){return{ngModule:n,providers:[wA(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(EA,8),u.LFG(hs,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function rT(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new H_(n,e,t)}function iT(n,e,t={}){return t.useHash?new We(n,e):new Ye(n,e)}function sT(n){return"guarded"}function wA(n){return[{provide:u.deG,multi:!0,useValue:n},{provide:F_,multi:!0,useValue:n}]}let j_=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Zr.x}appInitializer(){return this.injector.get(ee,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(g=>r=g),a=this.injector.get(hs),c=this.injector.get(ed);return"disabled"===c.initialNavigation?(a.setUpLocationChangeListener(),r(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?wn(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),a.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(ed),i=this.injector.get(bA),a=this.injector.get(H_),c=this.injector.get(hs),g=this.injector.get(u.z2F);t===g.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&c.initialNavigation(),i.setUpPreloading(),a.init(),c.resetRootComponentType(g.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function uT(n){return n.appInitializer.bind(n)}function CA(n){return n.bootstrapListener.bind(n)}const G_=new u.OlP("Router Initializer");var nt=z(5861),ie=z(9356),Qt=z(655),TA=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.headerElRef=(0,ie.createRef)(),t}return(0,Qt.__extends)(e,n),e.prototype.renderSimpleLayout=function(t,r){var a=this.props,c=this.context,g=[],b=(0,ie.getStickyHeaderDates)(c.options);return t&&g.push({type:"header",key:"header",isSticky:b,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}}),g.push({type:"body",key:"body",liquid:!0,chunk:{content:r}}),(0,ie.createElement)(ie.ViewRoot,{viewSpec:c.viewSpec},function(C,R){return(0,ie.createElement)("div",{ref:C,className:["fc-daygrid"].concat(R).join(" ")},(0,ie.createElement)(ie.SimpleScrollGrid,{liquid:!a.isHeightAuto&&!a.forPrint,collapsibleWidth:a.forPrint,cols:[],sections:g}))})},e.prototype.renderHScrollLayout=function(t,r,i,a){var c=this.context.pluginHooks.scrollGridImpl;if(!c)throw new Error("No ScrollGrid implementation");var b=this.props,C=this.context,R=!b.forPrint&&(0,ie.getStickyHeaderDates)(C.options),P=!b.forPrint&&(0,ie.getStickyFooterScrollbar)(C.options),Z=[];return t&&Z.push({type:"header",key:"header",isSticky:R,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:t}]}),Z.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:r}]}),P&&Z.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:ie.renderScrollShim}]}),(0,ie.createElement)(ie.ViewRoot,{viewSpec:C.viewSpec},function(Y,ne){return(0,ie.createElement)("div",{ref:Y,className:["fc-daygrid"].concat(ne).join(" ")},(0,ie.createElement)(c,{liquid:!b.isHeightAuto&&!b.forPrint,collapsibleWidth:b.forPrint,colGroups:[{cols:[{span:i,minWidth:a}]}],sections:Z}))})},e}(ie.DateComponent);function Np(n,e){for(var t=[],r=0;r<e;r+=1)t[r]=[];for(var i=0,a=n;i<a.length;i++){var c=a[i];t[c.row].push(c)}return t}function Pp(n,e){for(var t=[],r=0;r<e;r+=1)t[r]=[];for(var i=0,a=n;i<a.length;i++){var c=a[i];t[c.firstCol].push(c)}return t}function Zm(n,e){var t=[];if(n){for(var r=0;r<e;r+=1)t[r]={affectedInstances:n.affectedInstances,isEvent:n.isEvent,segs:[]};for(var i=0,a=n.segs;i<a.length;i++){var c=a[i];t[c.row].segs.push(c)}}else for(r=0;r<e;r+=1)t[r]=null;return t}var td=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,Qt.__extends)(e,n),e.prototype.render=function(){var t=this.props,r=(0,ie.buildNavLinkAttrs)(this.context,t.date);return(0,ie.createElement)(ie.DayCellContent,{date:t.date,dateProfile:t.dateProfile,todayRange:t.todayRange,showDayNumber:t.showDayNumber,extraHookProps:t.extraHookProps,defaultContent:dT},function(i,a){return(a||t.forceDayTop)&&(0,ie.createElement)("div",{className:"fc-daygrid-day-top",ref:i},(0,ie.createElement)("a",(0,Qt.__assign)({id:t.dayNumberId,className:"fc-daygrid-day-number"},r),a||(0,ie.createElement)(ie.Fragment,null,"\xa0")))})},e}(ie.BaseComponent);function dT(n){return n.dayNumberText}var IA=(0,ie.createFormatter)({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function nd(n){var e=n.eventRange.ui.display;return"list-item"===e||"auto"===e&&!n.eventRange.def.allDay&&n.firstCol===n.lastCol&&n.isStart&&n.isEnd}var fT=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,Qt.__extends)(e,n),e.prototype.render=function(){var t=this.props;return(0,ie.createElement)(ie.StandardEvent,(0,Qt.__assign)({},t,{extraClassNames:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:IA,defaultDisplayEventEnd:t.defaultDisplayEventEnd,disableResizing:!t.seg.eventRange.def.allDay}))},e}(ie.BaseComponent),$m=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,Qt.__extends)(e,n),e.prototype.render=function(){var r=this.props,i=this.context,c=(0,ie.buildSegTimeText)(r.seg,i.options.eventTimeFormat||IA,i,!0,r.defaultDisplayEventEnd);return(0,ie.createElement)(ie.EventRoot,{seg:r.seg,timeText:c,defaultContent:kM,isDragging:r.isDragging,isResizing:!1,isDateSelecting:!1,isSelected:r.isSelected,isPast:r.isPast,isFuture:r.isFuture,isToday:r.isToday},function(g,b,C,R){return(0,ie.createElement)("a",(0,Qt.__assign)({className:["fc-daygrid-event","fc-daygrid-dot-event"].concat(b).join(" "),ref:g},(0,ie.getSegAnchorAttrs)(r.seg,i)),R)})},e}(ie.BaseComponent);function kM(n){return(0,ie.createElement)(ie.Fragment,null,(0,ie.createElement)("div",{className:"fc-daygrid-event-dot",style:{borderColor:n.borderColor||n.backgroundColor}}),n.timeText&&(0,ie.createElement)("div",{className:"fc-event-time"},n.timeText),(0,ie.createElement)("div",{className:"fc-event-title"},n.event.title||(0,ie.createElement)(ie.Fragment,null,"\xa0")))}var SA=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.compileSegs=(0,ie.memoize)(xA),t}return(0,Qt.__extends)(e,n),e.prototype.render=function(){var t=this.props,r=this.compileSegs(t.singlePlacements),i=r.allSegs;return(0,ie.createElement)(ie.MoreLinkRoot,{dateProfile:t.dateProfile,todayRange:t.todayRange,allDayDate:t.allDayDate,moreCnt:t.moreCnt,allSegs:i,hiddenSegs:r.invisibleSegs,alignmentElRef:t.alignmentElRef,alignGridTop:t.alignGridTop,extraDateSpan:t.extraDateSpan,popoverContent:function(){var c=(t.eventDrag?t.eventDrag.affectedInstances:null)||(t.eventResize?t.eventResize.affectedInstances:null)||{};return(0,ie.createElement)(ie.Fragment,null,i.map(function(g){var b=g.eventRange.instance.instanceId;return(0,ie.createElement)("div",{className:"fc-daygrid-event-harness",key:b,style:{visibility:c[b]?"hidden":""}},nd(g)?(0,ie.createElement)($m,(0,Qt.__assign)({seg:g,isDragging:!1,isSelected:b===t.eventSelection,defaultDisplayEventEnd:!1},(0,ie.getSegMeta)(g,t.todayRange))):(0,ie.createElement)(fT,(0,Qt.__assign)({seg:g,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:b===t.eventSelection,defaultDisplayEventEnd:!1},(0,ie.getSegMeta)(g,t.todayRange))))}))}},function(c,g,b,C,R,P,Z,Y){return(0,ie.createElement)("a",(0,Qt.__assign)({ref:c,className:["fc-daygrid-more-link"].concat(g).join(" "),title:P,"aria-expanded":Z,"aria-controls":Y},(0,ie.createAriaClickAttrs)(R)),C)})},e}(ie.BaseComponent);function xA(n){for(var e=[],t=[],r=0,i=n;r<i.length;r++){var a=i[r];e.push(a.seg),a.isVisible||t.push(a.seg)}return{allSegs:e,invisibleSegs:t}}var NM=(0,ie.createFormatter)({week:"narrow"}),bn=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.rootElRef=(0,ie.createRef)(),t.state={dayNumberId:(0,ie.getUniqueDomId)()},t.handleRootEl=function(r){(0,ie.setRef)(t.rootElRef,r),(0,ie.setRef)(t.props.elRef,r)},t}return(0,Qt.__extends)(e,n),e.prototype.render=function(){var t=this,i=t.props,a=t.state,c=t.rootElRef,g=i.date,b=i.dateProfile,C=(0,ie.buildNavLinkAttrs)(t.context,g,"week");return(0,ie.createElement)(ie.DayCellRoot,{date:g,dateProfile:b,todayRange:i.todayRange,showDayNumber:i.showDayNumber,extraHookProps:i.extraHookProps,elRef:this.handleRootEl},function(R,P,Z,Y){return(0,ie.createElement)("td",(0,Qt.__assign)({ref:R,role:"gridcell",className:["fc-daygrid-day"].concat(P,i.extraClassNames||[]).join(" ")},Z,i.extraDataAttrs,i.showDayNumber?{"aria-labelledby":a.dayNumberId}:{}),(0,ie.createElement)("div",{className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",ref:i.innerElRef},i.showWeekNumber&&(0,ie.createElement)(ie.WeekNumberRoot,{date:g,defaultFormat:NM},function(ne,Se,rt,ot){return(0,ie.createElement)("a",(0,Qt.__assign)({ref:ne,className:["fc-daygrid-week-number"].concat(Se).join(" ")},C),ot)}),!Y&&(0,ie.createElement)(td,{date:g,dateProfile:b,showDayNumber:i.showDayNumber,dayNumberId:a.dayNumberId,forceDayTop:i.forceDayTop,todayRange:i.todayRange,extraHookProps:i.extraHookProps}),(0,ie.createElement)("div",{className:"fc-daygrid-day-events",ref:i.fgContentElRef},i.fgContent,(0,ie.createElement)("div",{className:"fc-daygrid-day-bottom",style:{marginTop:i.moreMarginTop}},(0,ie.createElement)(SA,{allDayDate:g,singlePlacements:i.singlePlacements,moreCnt:i.moreCnt,alignmentElRef:c,alignGridTop:!i.showDayNumber,extraDateSpan:i.extraDateSpan,dateProfile:i.dateProfile,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,todayRange:i.todayRange}))),(0,ie.createElement)("div",{className:"fc-daygrid-day-bg"},i.bgContent)))})},e}(ie.DateComponent);function Jl(n,e,t,r){if(n.firstCol===e&&n.lastCol===t-1)return n;var i=n.eventRange,a=i.range,c=(0,ie.intersectRanges)(a,{start:r[e].date,end:(0,ie.addDays)(r[t-1].date,1)});return(0,Qt.__assign)((0,Qt.__assign)({},n),{firstCol:e,lastCol:t-1,eventRange:{def:i.def,ui:(0,Qt.__assign)((0,Qt.__assign)({},i.ui),{durationEditable:!1}),instance:i.instance,range:c},isStart:n.isStart&&c.start.valueOf()===a.start.valueOf(),isEnd:n.isEnd&&c.end.valueOf()===a.end.valueOf()})}var mT=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.hiddenConsumes=!1,t.forceHidden={},t}return(0,Qt.__extends)(e,n),e.prototype.addSegs=function(t){for(var r=this,i=n.prototype.addSegs.call(this,t),a=this.entriesByLevel,c=function(b){return!r.forceHidden[(0,ie.buildEntryKey)(b)]},g=0;g<a.length;g+=1)a[g]=a[g].filter(c);return i},e.prototype.handleInvalidInsertion=function(t,r,i){var c=this.entriesByLevel,g=this.forceHidden,b=t.touchingEntry,C=t.touchingLevel,R=t.touchingLateral;if(this.hiddenConsumes&&b){var P=(0,ie.buildEntryKey)(b);if(!g[P])if(this.allowReslicing){var Z=(0,Qt.__assign)((0,Qt.__assign)({},b),{span:(0,ie.intersectSpans)(b.span,r.span)});g[(0,ie.buildEntryKey)(Z)]=!0,c[C][R]=Z,this.splitEntry(b,r,i)}else g[P]=!0,i.push(b)}return n.prototype.handleInvalidInsertion.call(this,t,r,i)},e}(ie.SegHierarchy),Op=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.cellElRefs=new ie.RefMap,t.frameElRefs=new ie.RefMap,t.fgElRefs=new ie.RefMap,t.segHarnessRefs=new ie.RefMap,t.rootElRef=(0,ie.createRef)(),t.state={framePositions:null,maxContentHeight:null,eventInstanceHeights:{}},t}return(0,Qt.__extends)(e,n),e.prototype.render=function(){var t=this,r=this,i=r.props,a=r.state,g=r.context.options,b=i.cells.length,C=Pp(i.businessHourSegs,b),R=Pp(i.bgEventSegs,b),P=Pp(this.getHighlightSegs(),b),Z=Pp(this.getMirrorSegs(),b),Y=function hT(n,e,t,r,i,a,c){var g=new mT;g.allowReslicing=!0,g.strictOrder=r,!0===e||!0===t?(g.maxCoord=a,g.hiddenConsumes=!0):"number"==typeof e?g.maxStackCnt=e:"number"==typeof t&&(g.maxStackCnt=t,g.hiddenConsumes=!0);for(var b=[],C=[],R=0;R<n.length;R+=1){var Y=i[(P=n[R]).eventRange.instance.instanceId];null!=Y?b.push({index:R,thickness:Y,span:{start:P.firstCol,end:P.lastCol+1}}):C.push(P)}for(var ne=g.addSegs(b),rt=function pT(n,e,t){for(var r=function gT(n,e){for(var t=[],r=0;r<e;r+=1)t.push([]);for(var i=0,a=n;i<a.length;i++){var c=a[i];for(r=c.span.start;r<c.span.end;r+=1)t[r].push(c)}return t}(n,t.length),i=[],a=[],c=[],g=0;g<t.length;g+=1){for(var b=r[g],C=[],R=0,P=0,Z=0,Y=b;Z<Y.length;Z++)C.push({seg:Jl(Se=e[(ne=Y[Z]).index],g,g+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:ne.levelCoord,marginTop:ne.levelCoord-R}),R=ne.levelCoord+ne.thickness;var rt=[];R=0,P=0;for(var ot=0,_t=b;ot<_t.length;ot++){var ne,Se=e[(ne=_t[ot]).index],Ct=ne.span.start===g;P+=ne.levelCoord-R,R=ne.levelCoord+ne.thickness,ne.span.end-ne.span.start>1?(P+=ne.thickness,Ct&&rt.push({seg:Jl(Se,ne.span.start,ne.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:ne.levelCoord,marginTop:0})):Ct&&(rt.push({seg:Jl(Se,ne.span.start,ne.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:ne.levelCoord,marginTop:P}),P=0)}i.push(C),a.push(rt),c.push(P)}return{singleColPlacements:i,multiColPlacements:a,leftoverMargins:c}}(g.toRects(),n,c),ot=rt.singleColPlacements,_t=rt.multiColPlacements,Rt=rt.leftoverMargins,Ct=[],vn=[],gn=0,Hn=C;gn<Hn.length;gn++){_t[(P=Hn[gn]).firstCol].push({seg:P,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(var jn=P.firstCol;jn<=P.lastCol;jn+=1)ot[jn].push({seg:Jl(P,jn,jn+1,c),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(jn=0;jn<c.length;jn+=1)Ct.push(0);for(var Hs=0,js=ne;Hs<js.length;Hs++){var P,Dd=js[Hs],lo=Dd.span;for(_t[lo.start].push({seg:Jl(P=n[Dd.index],lo.start,lo.end,c),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0}),jn=lo.start;jn<lo.end;jn+=1)Ct[jn]+=1,ot[jn].push({seg:Jl(P,jn,jn+1,c),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(jn=0;jn<c.length;jn+=1)vn.push(Rt[jn]);return{singleColPlacements:ot,multiColPlacements:_t,moreCnts:Ct,moreMarginTops:vn}}((0,ie.sortEventSegs)(i.fgEventSegs,g.eventOrder),i.dayMaxEvents,i.dayMaxEventRows,g.eventOrderStrict,a.eventInstanceHeights,a.maxContentHeight,i.cells),ne=Y.singleColPlacements,Se=Y.multiColPlacements,rt=Y.moreCnts,ot=Y.moreMarginTops,_t=i.eventDrag&&i.eventDrag.affectedInstances||i.eventResize&&i.eventResize.affectedInstances||{};return(0,ie.createElement)("tr",{ref:this.rootElRef,role:"row"},i.renderIntro&&i.renderIntro(),i.cells.map(function(Rt,Ct){var vn=t.renderFgSegs(Ct,i.forPrint?ne[Ct]:Se[Ct],i.todayRange,_t),gn=t.renderFgSegs(Ct,function Km(n,e){if(!n.length)return[];var t=function Jr(n){for(var e={},t=0,r=n;t<r.length;t++)for(var a=0,c=r[t];a<c.length;a++){var g=c[a];e[g.seg.eventRange.instance.instanceId]=g.absoluteTop}return e}(e);return n.map(function(r){return{seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:t[r.eventRange.instance.instanceId],marginTop:0}})}(Z[Ct],Se),i.todayRange,{},Boolean(i.eventDrag),Boolean(i.eventResize),!1);return(0,ie.createElement)(bn,{key:Rt.key,elRef:t.cellElRefs.createRef(Rt.key),innerElRef:t.frameElRefs.createRef(Rt.key),dateProfile:i.dateProfile,date:Rt.date,showDayNumber:i.showDayNumbers,showWeekNumber:i.showWeekNumbers&&0===Ct,forceDayTop:i.showWeekNumbers,todayRange:i.todayRange,eventSelection:i.eventSelection,eventDrag:i.eventDrag,eventResize:i.eventResize,extraHookProps:Rt.extraHookProps,extraDataAttrs:Rt.extraDataAttrs,extraClassNames:Rt.extraClassNames,extraDateSpan:Rt.extraDateSpan,moreCnt:rt[Ct],moreMarginTop:ot[Ct],singlePlacements:ne[Ct],fgContentElRef:t.fgElRefs.createRef(Rt.key),fgContent:(0,ie.createElement)(ie.Fragment,null,(0,ie.createElement)(ie.Fragment,null,vn),(0,ie.createElement)(ie.Fragment,null,gn)),bgContent:(0,ie.createElement)(ie.Fragment,null,t.renderFillSegs(P[Ct],"highlight"),t.renderFillSegs(C[Ct],"non-business"),t.renderFillSegs(R[Ct],"bg-event"))})}))},e.prototype.componentDidMount=function(){this.updateSizing(!0)},e.prototype.componentDidUpdate=function(t,r){this.updateSizing(!(0,ie.isPropsEqual)(t,this.props))},e.prototype.getHighlightSegs=function(){var t=this.props;return t.eventDrag&&t.eventDrag.segs.length?t.eventDrag.segs:t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:t.dateSelectionSegs},e.prototype.getMirrorSegs=function(){var t=this.props;return t.eventResize&&t.eventResize.segs.length?t.eventResize.segs:[]},e.prototype.renderFgSegs=function(t,r,i,a,c,g,b){var C=this.context,R=this.props.eventSelection,P=this.state.framePositions,Z=1===this.props.cells.length,Y=c||g||b,ne=[];if(P)for(var Se=0,rt=r;Se<rt.length;Se++){var ot=rt[Se],_t=ot.seg,Rt=_t.eventRange.instance.instanceId,Ct=Rt+":"+t,vn=ot.isVisible&&!a[Rt],gn=ot.isAbsolute,Hn="",jn="";gn&&(C.isRtl?(jn=0,Hn=P.lefts[_t.lastCol]-P.lefts[_t.firstCol]):(Hn=0,jn=P.rights[_t.firstCol]-P.rights[_t.lastCol])),ne.push((0,ie.createElement)("div",{className:"fc-daygrid-event-harness"+(gn?" fc-daygrid-event-harness-abs":""),key:Ct,ref:Y?null:this.segHarnessRefs.createRef(Ct),style:{visibility:vn?"":"hidden",marginTop:gn?"":ot.marginTop,top:gn?ot.absoluteTop:"",left:Hn,right:jn}},nd(_t)?(0,ie.createElement)($m,(0,Qt.__assign)({seg:_t,isDragging:c,isSelected:Rt===R,defaultDisplayEventEnd:Z},(0,ie.getSegMeta)(_t,i))):(0,ie.createElement)(fT,(0,Qt.__assign)({seg:_t,isDragging:c,isResizing:g,isDateSelecting:b,isSelected:Rt===R,defaultDisplayEventEnd:Z},(0,ie.getSegMeta)(_t,i)))))}return ne},e.prototype.renderFillSegs=function(t,r){var i=this.context.isRtl,a=this.props.todayRange,c=this.state.framePositions,g=[];if(c)for(var b=0,C=t;b<C.length;b++){var R=C[b],P=i?{right:0,left:c.lefts[R.lastCol]-c.lefts[R.firstCol]}:{left:0,right:c.rights[R.firstCol]-c.rights[R.lastCol]};g.push((0,ie.createElement)("div",{key:(0,ie.buildEventRangeKey)(R.eventRange),className:"fc-daygrid-bg-harness",style:P},"bg-event"===r?(0,ie.createElement)(ie.BgEvent,(0,Qt.__assign)({seg:R},(0,ie.getSegMeta)(R,a))):(0,ie.renderFill)(r)))}return ie.createElement.apply(void 0,(0,Qt.__spreadArray)([ie.Fragment,{}],g))},e.prototype.updateSizing=function(t){var i=this.props,a=this.frameElRefs;if(!i.forPrint&&null!==i.clientWidth){if(t){var c=i.cells.map(function(P){return a.currentMap[P.key]});c.length&&this.setState({framePositions:new ie.PositionCache(this.rootElRef.current,c,!0,!1)})}var b=this.state.eventInstanceHeights,C=this.queryEventInstanceHeights(),R=!0===i.dayMaxEvents||!0===i.dayMaxEventRows;this.setState({eventInstanceHeights:(0,Qt.__assign)((0,Qt.__assign)({},b),C),maxContentHeight:R?this.computeMaxContentHeight():null})}},e.prototype.queryEventInstanceHeights=function(){var t=this.segHarnessRefs.currentMap,r={};for(var i in t){var a=Math.round(t[i].getBoundingClientRect().height),c=i.split(":")[0];r[c]=Math.max(r[c]||0,a)}return r},e.prototype.computeMaxContentHeight=function(){var t=this.props.cells[0].key,i=this.fgElRefs.currentMap[t];return this.cellElRefs.currentMap[t].getBoundingClientRect().bottom-i.getBoundingClientRect().top},e.prototype.getCellEls=function(){var t=this.cellElRefs.currentMap;return this.props.cells.map(function(r){return t[r.key]})},e}(ie.DateComponent);Op.addStateEquality({eventInstanceHeights:ie.isPropsEqual});var PM=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.splitBusinessHourSegs=(0,ie.memoize)(Np),t.splitBgEventSegs=(0,ie.memoize)(Np),t.splitFgEventSegs=(0,ie.memoize)(Np),t.splitDateSelectionSegs=(0,ie.memoize)(Np),t.splitEventDrag=(0,ie.memoize)(Zm),t.splitEventResize=(0,ie.memoize)(Zm),t.rowRefs=new ie.RefMap,t.handleRootEl=function(r){t.rootEl=r,r?t.context.registerInteractiveComponent(t,{el:r,isHitComboAllowed:t.props.isHitComboAllowed}):t.context.unregisterInteractiveComponent(t)},t}return(0,Qt.__extends)(e,n),e.prototype.render=function(){var t=this,r=this.props,i=r.dateProfile,a=r.dayMaxEventRows,c=r.dayMaxEvents,g=r.expandRows,b=r.cells.length,C=this.splitBusinessHourSegs(r.businessHourSegs,b),R=this.splitBgEventSegs(r.bgEventSegs,b),P=this.splitFgEventSegs(r.fgEventSegs,b),Z=this.splitDateSelectionSegs(r.dateSelectionSegs,b),Y=this.splitEventDrag(r.eventDrag,b),ne=this.splitEventResize(r.eventResize,b),Se=!0===c||!0===a;return Se&&!g&&(Se=!1,a=null,c=null),(0,ie.createElement)("div",{className:["fc-daygrid-body",Se?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",g?"":"fc-daygrid-body-natural"].join(" "),ref:this.handleRootEl,style:{width:r.clientWidth,minWidth:r.tableMinWidth}},(0,ie.createElement)(ie.NowTimer,{unit:"day"},function(ot,_t){return(0,ie.createElement)(ie.Fragment,null,(0,ie.createElement)("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:r.clientWidth,minWidth:r.tableMinWidth,height:g?r.clientHeight:""}},r.colGroupNode,(0,ie.createElement)("tbody",{role:"presentation"},r.cells.map(function(Rt,Ct){return(0,ie.createElement)(Op,{ref:t.rowRefs.createRef(Ct),key:Rt.length?Rt[0].date.toISOString():Ct,showDayNumbers:b>1,showWeekNumbers:r.showWeekNumbers,todayRange:_t,dateProfile:i,cells:Rt,renderIntro:r.renderRowIntro,businessHourSegs:C[Ct],eventSelection:r.eventSelection,bgEventSegs:R[Ct].filter(MA),fgEventSegs:P[Ct],dateSelectionSegs:Z[Ct],eventDrag:Y[Ct],eventResize:ne[Ct],dayMaxEvents:c,dayMaxEventRows:a,clientWidth:r.clientWidth,clientHeight:r.clientHeight,forPrint:r.forPrint})}))))}))},e.prototype.prepareHits=function(){this.rowPositions=new ie.PositionCache(this.rootEl,this.rowRefs.collect().map(function(t){return t.getCellEls()[0]}),!1,!0),this.colPositions=new ie.PositionCache(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)},e.prototype.queryHit=function(t,r){var a=this.colPositions,c=this.rowPositions,g=a.leftToIndex(t),b=c.topToIndex(r);if(null!=b&&null!=g){var C=this.props.cells[b][g];return{dateProfile:this.props.dateProfile,dateSpan:(0,Qt.__assign)({range:this.getCellRange(b,g),allDay:!0},C.extraDateSpan),dayEl:this.getCellEl(b,g),rect:{left:a.lefts[g],right:a.rights[g],top:c.tops[b],bottom:c.bottoms[b]},layer:0}}return null},e.prototype.getCellEl=function(t,r){return this.rowRefs.currentMap[t].getCellEls()[r]},e.prototype.getCellRange=function(t,r){var i=this.props.cells[t][r].date;return{start:i,end:(0,ie.addDays)(i,1)}},e}(ie.DateComponent);function MA(n){return n.eventRange.def.allDay}var vT=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.forceDayIfListItem=!0,t}return(0,Qt.__extends)(e,n),e.prototype.sliceRange=function(t,r){return r.sliceRange(t)},e}(ie.Slicer),yT=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.slicer=new vT,t.tableRef=(0,ie.createRef)(),t}return(0,Qt.__extends)(e,n),e.prototype.render=function(){var r=this.props;return(0,ie.createElement)(PM,(0,Qt.__assign)({ref:this.tableRef},this.slicer.sliceProps(r,r.dateProfile,r.nextDayThreshold,this.context,r.dayTableModel),{dateProfile:r.dateProfile,cells:r.dayTableModel.cells,colGroupNode:r.colGroupNode,tableMinWidth:r.tableMinWidth,renderRowIntro:r.renderRowIntro,dayMaxEvents:r.dayMaxEvents,dayMaxEventRows:r.dayMaxEventRows,showWeekNumbers:r.showWeekNumbers,expandRows:r.expandRows,headerAlignElRef:r.headerAlignElRef,clientWidth:r.clientWidth,clientHeight:r.clientHeight,forPrint:r.forPrint}))},e}(ie.DateComponent),RA=function(n){function e(){var t=null!==n&&n.apply(this,arguments)||this;return t.buildDayTableModel=(0,ie.memoize)(kA),t.headerRef=(0,ie.createRef)(),t.tableRef=(0,ie.createRef)(),t}return(0,Qt.__extends)(e,n),e.prototype.render=function(){var t=this,r=this.context,i=r.options,c=this.props,g=this.buildDayTableModel(c.dateProfile,r.dateProfileGenerator),b=i.dayHeaders&&(0,ie.createElement)(ie.DayHeader,{ref:this.headerRef,dateProfile:c.dateProfile,dates:g.headerDates,datesRepDistinctDays:1===g.rowCnt}),C=function(R){return(0,ie.createElement)(yT,{ref:t.tableRef,dateProfile:c.dateProfile,dayTableModel:g,businessHours:c.businessHours,dateSelection:c.dateSelection,eventStore:c.eventStore,eventUiBases:c.eventUiBases,eventSelection:c.eventSelection,eventDrag:c.eventDrag,eventResize:c.eventResize,nextDayThreshold:i.nextDayThreshold,colGroupNode:R.tableColGroupNode,tableMinWidth:R.tableMinWidth,dayMaxEvents:i.dayMaxEvents,dayMaxEventRows:i.dayMaxEventRows,showWeekNumbers:i.weekNumbers,expandRows:!c.isHeightAuto,headerAlignElRef:t.headerElRef,clientWidth:R.clientWidth,clientHeight:R.clientHeight,forPrint:c.forPrint})};return i.dayMinWidth?this.renderHScrollLayout(b,C,g.colCnt,i.dayMinWidth):this.renderSimpleLayout(b,C)},e}(TA);function kA(n,e){var t=new ie.DaySeriesModel(n.renderRange,e);return new ie.DayTableModel(t,/year|month|week/.test(n.currentRangeUnit))}var NA=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,Qt.__extends)(e,n),e.prototype.buildRenderRange=function(t,r,i){var C,a=this.props.dateEnv,c=n.prototype.buildRenderRange.call(this,t,r,i),g=c.start,b=c.end;if(/^(year|month)$/.test(r)&&(g=a.startOfWeek(g),(C=a.startOfWeek(b)).valueOf()!==b.valueOf()&&(b=(0,ie.addWeeks)(C,1))),this.props.monthMode&&this.props.fixedWeekCount){var R=Math.ceil((0,ie.diffWeeks)(g,b));b=(0,ie.addWeeks)(b,6-R)}return{start:g,end:b}},e}(ie.DateProfileGenerator);const OA=(0,ie.createPlugin)({initialView:"dayGridMonth",views:{dayGrid:{component:RA,dateProfileGeneratorClass:NA},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},monthMode:!0,fixedWeekCount:!0}}});var _T=z(5032);function z_(n){return(0,fs.e)((e,t)=>{(0,Wa.Xf)(n).subscribe((0,wi.x)(t,()=>t.complete(),_T.Z)),!t.closed&&e.subscribe(t)})}const Lf=["toast-component",""];function bT(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",5),u.NdJ("click",function(){return u.CHM(t),u.oxw().remove()}),u.TgZ(1,"span",6),u._uU(2,"\xd7"),u.qZA()()}}function ET(n,e){if(1&n&&(u.ynx(0),u._uU(1),u.BQk()),2&n){const t=u.oxw(2);u.xp6(1),u.hij("[",t.duplicatesCount+1,"]")}}function AT(n,e){if(1&n&&(u.TgZ(0,"div"),u._uU(1),u.YNc(2,ET,2,1,"ng-container",4),u.qZA()),2&n){const t=u.oxw();u.Tol(t.options.titleClass),u.uIk("aria-label",t.title),u.xp6(1),u.hij(" ",t.title," "),u.xp6(1),u.Q6J("ngIf",t.duplicatesCount)}}function Ym(n,e){if(1&n&&u._UZ(0,"div",7),2&n){const t=u.oxw();u.Tol(t.options.messageClass),u.Q6J("innerHTML",t.message,u.oJD)}}function FA(n,e){if(1&n&&(u.TgZ(0,"div",8),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.Tol(t.options.messageClass),u.uIk("aria-label",t.message),u.xp6(1),u.hij(" ",t.message," ")}}function LA(n,e){if(1&n&&(u.TgZ(0,"div"),u._UZ(1,"div",9),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Udp("width",t.width+"%")}}function VA(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",5),u.NdJ("click",function(){return u.CHM(t),u.oxw().remove()}),u.TgZ(1,"span",6),u._uU(2,"\xd7"),u.qZA()()}}function wT(n,e){if(1&n&&(u.ynx(0),u._uU(1),u.BQk()),2&n){const t=u.oxw(2);u.xp6(1),u.hij("[",t.duplicatesCount+1,"]")}}function Fp(n,e){if(1&n&&(u.TgZ(0,"div"),u._uU(1),u.YNc(2,wT,2,1,"ng-container",4),u.qZA()),2&n){const t=u.oxw();u.Tol(t.options.titleClass),u.uIk("aria-label",t.title),u.xp6(1),u.hij(" ",t.title," "),u.xp6(1),u.Q6J("ngIf",t.duplicatesCount)}}function Lp(n,e){if(1&n&&u._UZ(0,"div",7),2&n){const t=u.oxw();u.Tol(t.options.messageClass),u.Q6J("innerHTML",t.message,u.oJD)}}function CT(n,e){if(1&n&&(u.TgZ(0,"div",8),u._uU(1),u.qZA()),2&n){const t=u.oxw();u.Tol(t.options.messageClass),u.uIk("aria-label",t.message),u.xp6(1),u.hij(" ",t.message," ")}}function DT(n,e){if(1&n&&(u.TgZ(0,"div"),u._UZ(1,"div",9),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Udp("width",t.width+"%")}}class BA{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Qm{constructor(e,t,r,i,a,c){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=a,this.toastRef=c,this._onTap=new Zr.x,this._onAction=new Zr.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const q_={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},HA=new u.OlP("ToastConfig");class IT{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new Zr.x,this._activate=new Zr.x,this._manualClose=new Zr.x,this._resetTimeout=new Zr.x,this._countDuplicate=new Zr.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class FM{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,r){return e===Qm?this._toastPackage:this._parentInjector.get(e,t,r)}}class LM extends class UA{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class VM{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let BM=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ee))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),jA=(()=>{class n{constructor(t,r,i,a){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=i,this._document=a,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new LM(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new VM(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(BM),u.LFG(u._Vd),u.LFG(u.z2F),u.LFG(Ee))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xl=(()=>{class n{constructor(t,r,i,a,c){this.overlay=r,this._injector=i,this.sanitizer=a,this.ngZone=c,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,r,i={},a=""){return this._preBuildNotification(a,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,a){const{includeTitleDuplicates:c}=this.toastrConfig;for(const g of this.toasts){const b=c&&g.title===t;if((!c||b)&&g.message===r)return g.toastRef.onDuplicate(i,a),g}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,a){return a.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,a)):this._buildNotification(t,r,i,a)}_buildNotification(t,r,i,a){if(!a.toastComponent)throw new Error("toastComponent required");const c=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&a.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==c)return c;this.previousToastMessage=r;let g=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(g=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const b=this.overlay.create(a.positionClass,this.overlayContainer);this.index=this.index+1;let C=r;r&&a.enableHtml&&(C=this.sanitizer.sanitize(u.q3G.HTML,r));const R=new IT(b),P=new Qm(this.index,a,C,i,t,R),Z=new FM(P,this._injector),Y=new BA(a.toastComponent,Z),ne=b.attach(Y,this.toastrConfig.newestOnTop);R.componentInstance=ne.instance;const Se={toastId:this.index,title:i||"",message:r||"",toastRef:R,onShown:R.afterActivate(),onHidden:R.afterClosed(),onTap:P.onTap(),onAction:P.onAction(),portal:ne};return g||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Se.toastRef.activate()})),this.toasts.push(Se),Se}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(HA),u.LFG(jA),u.LFG(u.zs3),u.LFG(xl),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ST=(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(a=>{this.duplicatesCount=a})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Xl),u.Y36(Qm),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&u.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(u.d8E("@flyInOut",r.state),u.Tol(r.toastClasses),u.Udp("display",r.displayStyle))},attrs:Lf,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(u.YNc(0,bT,3,0,"button",0),u.YNc(1,AT,3,5,"div",1),u.YNc(2,Ym,1,3,"div",2),u.YNc(3,FA,2,4,"div",3),u.YNc(4,LA,2,2,"div",4)),2&t&&(u.Q6J("ngIf",r.options.closeButton),u.xp6(1),u.Q6J("ngIf",r.title),u.xp6(1),u.Q6J("ngIf",r.message&&r.options.enableHtml),u.xp6(1),u.Q6J("ngIf",r.message&&!r.options.enableHtml),u.xp6(1),u.Q6J("ngIf",r.options.progressBar))},directives:[vr],encapsulation:2,data:{animation:[qh("flyInOut",[cf("inactive",zl({opacity:0})),cf("active",zl({opacity:1})),cf("removed",zl({opacity:0})),Zh("inactive => active",Kg("{{ easeTime }}ms {{ easing }}")),Zh("active => removed",Kg("{{ easeTime }}ms {{ easing }}"))])]}}),n})();const xT=Object.assign(Object.assign({},q_),{toastComponent:ST});let GA=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:HA,useValue:{default:xT,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Qi]]}),n})(),MT=(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.appRef=i,this.width=-1,this.toastClasses="",this.state="inactive",this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(a=>{this.duplicatesCount=a})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Xl),u.Y36(Qm),u.Y36(u.z2F))},n.\u0275cmp=u.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,r){1&t&&u.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(u.Tol(r.toastClasses),u.Udp("display",r.displayStyle))},attrs:Lf,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(u.YNc(0,VA,3,0,"button",0),u.YNc(1,Fp,3,5,"div",1),u.YNc(2,Lp,1,3,"div",2),u.YNc(3,CT,2,4,"div",3),u.YNc(4,DT,2,2,"div",4)),2&t&&(u.Q6J("ngIf",r.options.closeButton),u.xp6(1),u.Q6J("ngIf",r.title),u.xp6(1),u.Q6J("ngIf",r.message&&r.options.enableHtml),u.xp6(1),u.Q6J("ngIf",r.message&&!r.options.enableHtml),u.xp6(1),u.Q6J("ngIf",r.options.progressBar))},directives:[vr],encapsulation:2}),n})();Object.assign(Object.assign({},q_),{toastComponent:MT});var tv,Xm=z(198),Xn=z(2090),eu=z(9681),Ju=z(1877),ev=z(4859),Xu=z(127),zA=new Uint8Array(16);function RT(){if(!tv&&!(tv="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return tv(zA)}const qA=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,WA=function kT(n){return"string"==typeof n&&qA.test(n)};for(var ts=[],Vp=0;Vp<256;++Vp)ts.push((Vp+256).toString(16).substr(1));const PT=function $A(n,e,t){var r=(n=n||{}).random||(n.rng||RT)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(var i=0;i<16;++i)e[t+i]=r[i];return e}return function NT(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(ts[n[e+0]]+ts[n[e+1]]+ts[n[e+2]]+ts[n[e+3]]+"-"+ts[n[e+4]]+ts[n[e+5]]+"-"+ts[n[e+6]]+ts[n[e+7]]+"-"+ts[n[e+8]]+ts[n[e+9]]+"-"+ts[n[e+10]]+ts[n[e+11]]+ts[n[e+12]]+ts[n[e+13]]+ts[n[e+14]]+ts[n[e+15]]).toLowerCase();if(!WA(t))throw TypeError("Stringified UUID is invalid");return t}(r)};var OT=z(4986),Vi=z(1038);function Bp(){return(0,fs.e)((n,e)=>{let t,r=!1;n.subscribe((0,wi.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function KA(n,e){return n===e}var Jt,Fa=z(2011),LT=(z(5881),z(3942)),VT="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},tu={},W_=W_||{},Ln=VT||self;function Up(){}function nv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Hp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var rv="closure_uid_"+(1e9*Math.random()>>>0),UT=0;function HT(n,e,t){return n.call.apply(n.bind,arguments)}function jT(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Ii(n,e,t){return(Ii=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?HT:jT).apply(null,arguments)}function Vf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Bi(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,a){for(var c=Array(arguments.length-2),g=2;g<arguments.length;g++)c[g-2]=arguments[g];return e.prototype[i].apply(r,c)}}function fl(){this.s=this.s,this.o=this.o}var zT={};fl.prototype.s=!1,fl.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function BT(n){return Object.prototype.hasOwnProperty.call(n,rv)&&n[rv]||(n[rv]=++UT)}(this);delete zT[n]}},fl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const iv=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},YA=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let a=0;a<r;a++)a in i&&e.call(t,i[a],a,n)};function JA(n){return Array.prototype.concat.apply([],arguments)}function sv(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function ov(n){return/^[\s\xa0]*$/.test(n)}var Ui,Z_=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function oo(n,e){return-1!=n.indexOf(e)}function $_(n,e){return n<e?-1:n>e?1:0}e:{var XA=Ln.navigator;if(XA){var rd=XA.userAgent;if(rd){Ui=rd;break e}}Ui=""}function id(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function ew(n){const e={};for(const t in n)e[t]=n[t];return e}var qT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K_(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<qT.length;a++)t=qT[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Y_(n){return Y_[" "](n),n}Y_[" "]=Up;var cv,n,ZT=oo(Ui,"Opera"),Bf=oo(Ui,"Trident")||oo(Ui,"MSIE"),Q_=oo(Ui,"Edge"),av=Q_||Bf,lv=oo(Ui,"Gecko")&&!(oo(Ui.toLowerCase(),"webkit")&&!oo(Ui,"Edge"))&&!(oo(Ui,"Trident")||oo(Ui,"MSIE"))&&!oo(Ui,"Edge"),uv=oo(Ui.toLowerCase(),"webkit")&&!oo(Ui,"Edge");function Uf(){var n=Ln.document;return n?n.documentMode:void 0}e:{var dv="",fv=(n=Ui,lv?/rv:([^\);]+)(\)|;)/.exec(n):Q_?/Edge\/([\d\.]+)/.exec(n):Bf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):uv?/WebKit\/(\S+)/.exec(n):ZT?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(fv&&(dv=fv?fv[1]:""),Bf){var J_=Uf();if(null!=J_&&J_>parseFloat(dv)){cv=String(J_);break e}}cv=dv}var $T={};var YT=Ln.document&&Bf&&(Uf()||parseInt(cv,10))||void 0,QT=function(){if(!Ln.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ln.addEventListener("test",Up,e),Ln.removeEventListener("test",Up,e)}catch(t){}return n}();function li(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Hf(n,e){if(li.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(lv){e:{try{Y_(e.nodeName);var i=!0;break e}catch(a){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:jf[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Hf.Z.h.call(this)}}li.prototype.h=function(){this.defaultPrevented=!0},Bi(Hf,li);var jf={2:"touch",3:"pen",4:"mouse"};Hf.prototype.h=function(){Hf.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var hv="closure_listenable_"+(1e6*Math.random()|0),tw=0;function JT(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++tw,this.ca=this.fa=!1}function t0(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function jp(n){this.src=n,this.g={},this.h=0}function nw(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=iv(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(t0(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function pv(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==r)return i}return-1}jp.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var c=pv(n,e,r,i);return-1<c?(e=n[c],t||(e.fa=!1)):((e=new JT(e,this.src,a,!!r,i)).fa=t,n.push(e)),e};var Gp="closure_lm_"+(1e6*Math.random()|0),n0={};function rw(n,e,t,r,i){if(r&&r.once)return sw(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)rw(n,e[a],t,r,i);return null}return t=gv(t),n&&n[hv]?n.N(e,t,Hp(r)?!!r.capture:!!r,i):iw(n,e,t,!1,r,i)}function iw(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var c=Hp(i)?!!i.capture:!!i,g=s0(n);if(g||(n[Gp]=g=new jp(n)),(t=g.add(e,t,r,c,a)).proxy)return t;if(r=function XT(){var e=eI;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)QT||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(aw(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function sw(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)sw(n,e[a],t,r,i);return null}return t=gv(t),n&&n[hv]?n.O(e,t,Hp(r)?!!r.capture:!!r,i):iw(n,e,t,!0,r,i)}function ow(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)ow(n,e[a],t,r,i);else r=Hp(r)?!!r.capture:!!r,t=gv(t),n&&n[hv]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=pv(a=n.g[e],t,r,i))&&(t0(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=s0(n))&&(e=n.g[e.toString()],n=-1,e&&(n=pv(e,t,r,i)),(t=-1<n?e[n]:null)&&r0(t))}function r0(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[hv])nw(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(aw(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=s0(e))?(nw(t,n),0==t.h&&(t.src=null,e[Gp]=null)):t0(n)}}}function aw(n){return n in n0?n0[n]:n0[n]="on"+n}function eI(n,e){if(n.ca)n=!0;else{e=new Hf(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&r0(n),n=t.call(r,e)}return n}function s0(n){return(n=n[Gp])instanceof jp?n:null}var sd="__closure_events_fn_"+(1e9*Math.random()>>>0);function gv(n){return"function"==typeof n?n:(n[sd]||(n[sd]=function(e){return n.handleEvent(e)}),n[sd])}function Si(){fl.call(this),this.i=new jp(this),this.P=this,this.I=null}function Hi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new li(e,n);else if(e instanceof li)e.target=e.target||n;else{var i=e;K_(e=new li(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var c=e.g=t[a];i=zp(c,r,!0,e)&&i}if(i=zp(c=e.g=n,r,!0,e)&&i,i=zp(c,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=zp(c=e.g=t[a],r,!1,e)&&i}function zp(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.ca&&c.capture==t){var g=c.listener,b=c.ia||c.src;c.fa&&nw(n.i,c),i=!1!==g.call(b,r)&&i}}return i&&!r.defaultPrevented}Bi(Si,fl),Si.prototype[hv]=!0,Si.prototype.removeEventListener=function(n,e,t,r){ow(this,n,e,t,r)},Si.prototype.M=function(){if(Si.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)t0(t[r]);delete n.g[e],n.h--}}this.I=null},Si.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Si.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var mv=Ln.JSON.stringify;function lw(){var n=vv;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var l0,o0=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new nI,n=>n.reset());class nI{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function rI(n){Ln.setTimeout(()=>{throw n},0)}function a0(n,e){l0||function qp(){var n=Ln.Promise.resolve(void 0);l0=function(){n.then(hl)}}(),u0||(l0(),u0=!0),vv.add(n,e)}var u0=!1,vv=new class tI{constructor(){this.h=this.g=null}add(e,t){const r=o0.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function hl(){for(var n;n=lw();){try{n.h.call(n.g)}catch(t){rI(t)}var e=o0;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}u0=!1}function yv(n,e){Si.call(this),this.h=n||1,this.g=e||Ln,this.j=Ii(this.kb,this),this.l=Date.now()}function Wp(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function od(n,e,t){if("function"==typeof n)t&&(n=Ii(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ii(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ln.setTimeout(n,e||0)}function uw(n){n.g=od(()=>{n.g=null,n.i&&(n.i=!1,uw(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Bi(yv,Si),(Jt=yv.prototype).da=!1,Jt.S=null,Jt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Hi(this,"tick"),this.da&&(Wp(this),this.start()))}},Jt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Jt.M=function(){yv.Z.M.call(this),Wp(this),delete this.g};class iI extends fl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:uw(this)}M(){super.M(),this.g&&(Ln.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zp(n){fl.call(this),this.h=n,this.g={}}Bi(Zp,fl);var $p=[];function Kp(n,e,t,r){Array.isArray(t)||(t&&($p[0]=t.toString()),t=$p);for(var i=0;i<t.length;i++){var a=rw(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function cw(n){id(n.g,function(e,t){this.g.hasOwnProperty(t)&&r0(e)},n),n.g={}}function _v(){this.g=!0}function ec(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function sI(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<i.length;c++)i[c]=""}}}return mv(t)}catch(g){return e}}(n,t)+(r?" "+r:"")})}Zp.prototype.M=function(){Zp.Z.M.call(this),cw(this)},Zp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_v.prototype.Aa=function(){this.g=!1},_v.prototype.info=function(){};var ad={},oI=null;function Gf(){return oI=oI||new Si}function bv(n){li.call(this,ad.Ma,n)}function zf(n){const e=Gf();Hi(e,new bv(e,n))}function Ev(n,e){li.call(this,ad.STAT_EVENT,n),this.stat=e}function ns(n){const e=Gf();Hi(e,new Ev(e,n))}function pw(n,e){li.call(this,ad.Na,n),this.size=e}function Yp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ln.setTimeout(function(){n()},e)}ad.Ma="serverreachability",Bi(bv,li),ad.STAT_EVENT="statevent",Bi(Ev,li),ad.Na="timingevent",Bi(pw,li);var Av={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},gw={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function wv(){}function c0(){}wv.prototype.h=null;var d0,qf={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Dv(){li.call(this,"d")}function Tv(){li.call(this,"c")}function Qp(){}function Wf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Zp(this),this.P=vw,this.W=new yv(n=av?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new mw}function mw(){this.i=null,this.g="",this.h=!1}Bi(Dv,li),Bi(Tv,li),Bi(Qp,wv),Qp.prototype.g=function(){return new XMLHttpRequest},Qp.prototype.i=function(){return{}},d0=new Qp;var vw=45e3,f0={},ji={};function tc(n,e,t){n.K=1,n.v=g0(pl(e)),n.s=t,n.U=!0,yw(n,null)}function yw(n,e){n.F=Date.now(),Xp(n),n.A=pl(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),_0(t.h,"t",r),n.C=0,t=n.l.H,n.h=new mw,n.g=jw(n.l,t?e:null,!n.s),0<n.O&&(n.L=new iI(Ii(n.Ia,n,n.g),n.O)),Kp(n.V,n.g,"readystatechange",n.gb),e=n.H?ew(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),zf(1),function dw(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var c="",g=a.split("&"),b=0;b<g.length;b++){var C=g[b].split("=");if(1<C.length){var R=C[0];C=C[1];var P=R.split("_");c=2<=P.length&&"type"==P[1]?c+(R+"=")+C+"&":c+(R+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function _w(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function aI(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=Jp(n,t),i==ji){4==e&&(n.o=4,ns(14),r=!1),ec(n.j,n.m,null,"[Incomplete Response]");break}if(i==f0){n.o=4,ns(15),ec(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ec(n.j,n.m,i,null),h0(n,i)}_w(n)&&i!=ji&&i!=f0&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ns(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),ag(e),e.L=!0,ns(11))):(ec(n.j,n.m,t,"[Invalid Chunked Response]"),ld(n),Zf(n))}function Jp(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?ji:(t=Number(e.substring(t,r)),isNaN(t)?f0:(r+=1)+t>e.length?ji:(e=e.substr(r,t),n.C=r+t,e))}function Xp(n){n.Y=Date.now()+n.P,Iv(n,n.P)}function Iv(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Yp(Ii(n.eb,n),e)}function Sv(n){n.B&&(Ln.clearTimeout(n.B),n.B=null)}function Zf(n){0==n.l.G||n.I||D0(n.l,n)}function ld(n){Sv(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Wp(n.W),cw(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function h0(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||ww(t.i,n)))if(t.I=n.N,!n.J&&ww(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(C){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Yp(Ii(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;lg(t),Ov(t)}C0(t),ns(18)}if(1>=mI(t.i)&&t.ka){try{t.ka()}catch(C){}t.ka=void 0}}else nh(t,11)}else if((n.J||t.g==n)&&lg(t),!ov(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let C=i[e];if(t.U=C[0],C=C[1],2==t.G)if("c"==C[0]){t.J=C[1],t.la=C[2];const R=C[3];null!=R&&(t.ma=R,t.h.info("VER="+t.ma));const P=C[4];null!=P&&(t.za=P,t.h.info("SVER="+t.za));const Z=C[5];null!=Z&&"number"==typeof Z&&0<Z&&(t.K=r=1.5*Z,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const Y=n.g;if(Y){const ne=Y.g?Y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ne){var a=r.i;!a.g&&(oo(ne,"spdy")||oo(ne,"quic")||oo(ne,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(Cw(a,a.h),a.h=null))}if(r.D){const Se=Y.g?Y.g.getResponseHeader("X-HTTP-Session-Id"):null;Se&&(r.sa=Se,Pr(r.F,r.D,Se))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var c=n;if((r=t).oa=Hw(r,r.H?r.la:null,r.W),c.J){vI(r.i,c);var g=c,b=r.K;b&&g.setTimeout(b),g.B&&(Sv(g),Xp(g)),r.g=c}else Vw(r);0<t.l.length&&og(t)}else"stop"!=C[0]&&"close"!=C[0]||nh(t,7);else 3==t.G&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?nh(t,7):ig(t):"noop"!=C[0]&&t.j&&t.j.wa(C),t.A=0)}zf(4)}catch(C){}}function xv(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(nv(n)||"string"==typeof n)YA(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(nv(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function p0(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(nv(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}}function ud(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof ud)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function $f(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];nu(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)nu(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function nu(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Jt=Wf.prototype).setTimeout=function(n){this.P=n},Jt.gb=function(n){n=n.target;const e=this.L;e&&3==nc(n)?e.l():this.Ia(n)},Jt.Ia=function(n){try{if(n==this.g)e:{const R=nc(this.g);var e=this.g.Da();const P=this.g.ba();if(!(3>R)&&(3!=R||av||this.g&&(this.h.h||this.g.ga()||kw(this.g)))){this.I||4!=R||7==e||zf(8==e||0>=P?3:2),Sv(this);var t=this.g.ba();this.N=t;t:if(_w(this)){var r=kw(this.g);n="";var i=r.length,a=4==nc(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){ld(this),Zf(this);var c="";break t}this.h.i=new Ln.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==t,function fw(n,e,t,r,i,a,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.X,R,t),this.i){if(this.$&&!this.J){t:{if(this.g){var g,b=this.g;if((g=b.g?b.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ov(g)){var C=g;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,ns(12),ld(this),Zf(this);break e}ec(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,h0(this,t)}this.U?(aI(this,R,c),av&&this.i&&3==R&&(Kp(this.V,this.W,"tick",this.fb),this.W.start())):(ec(this.j,this.m,c,null),h0(this,c)),4==R&&ld(this),this.i&&!this.I&&(4==R?D0(this.l,this):(this.i=!1,Xp(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,ns(12)):(this.o=0,ns(13)),ld(this),Zf(this)}}}catch(R){}},Jt.fb=function(){if(this.g){var n=nc(this.g),e=this.g.ga();this.C<e.length&&(Sv(this),aI(this,n,e),this.i&&4!=n&&Xp(this))}},Jt.cancel=function(){this.I=!0,ld(this)},Jt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function hw(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(zf(3),ns(17)),ld(this),this.o=2,Zf(this)):Iv(this,this.Y-n)},(Jt=ud.prototype).R=function(){$f(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Jt.T=function(){return $f(this),this.g.concat()},Jt.get=function(n,e){return nu(this.h,n)?this.h[n]:e},Jt.set=function(n,e){nu(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Jt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],a=this.get(i);n.call(e,a,i,this)}};var lI=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function cd(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof cd){this.g=void 0!==e?e:n.g,dd(this,n.j),this.s=n.s,eg(this,n.i),Mv(this,n.m),this.l=n.l,e=n.h;var t=new tg;t.i=e.i,e.g&&(t.g=new ud(e.g),t.h=e.h),Rv(this,t),this.o=n.o}else n&&(t=String(n).match(lI))?(this.g=!!e,dd(this,t[1]||"",!0),this.s=Kf(t[2]||""),eg(this,t[3]||"",!0),Mv(this,t[4]),this.l=Kf(t[5]||"",!0),Rv(this,t[6]||"",!0),this.o=Kf(t[7]||"")):(this.g=!!e,this.h=new tg(null,this.g))}function pl(n){return new cd(n)}function dd(n,e,t){n.j=t?Kf(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function eg(n,e,t){n.i=t?Kf(e,!0):e}function Mv(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Rv(n,e,t){e instanceof tg?(n.h=e,function pI(n,e){e&&!n.j&&(ru(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(v0(this,r),_0(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Yf(e,hI)),n.h=new tg(e,n.g))}function Pr(n,e,t){n.h.set(e,t)}function g0(n){return Pr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Kf(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Yf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,dI),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function dI(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}cd.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Yf(e,m0,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Yf(e,m0,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Yf(t,"/"==t.charAt(0)?fI:Ew,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Yf(t,Aw)),n.join("")};var m0=/[#\/\?@]/g,Ew=/[#\?:]/g,fI=/[#\?]/g,hI=/[#\?@]/g,Aw=/#/g;function tg(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ru(n){n.g||(n.g=new ud,n.h=0,n.i&&function bw(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function v0(n,e){ru(n),e=Qf(n,e),nu(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,nu((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&$f(n)))}function y0(n,e){return ru(n),e=Qf(n,e),nu(n.g.h,e)}function _0(n,e,t){v0(n,e),0<t.length&&(n.i=null,n.g.set(Qf(n,e),sv(t)),n.h+=t.length)}function Qf(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function b0(n){this.l=n||zM,n=Ln.PerformanceNavigationTiming?0<(n=Ln.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ln.g&&Ln.g.Ea&&Ln.g.Ea()&&Ln.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Jt=tg.prototype).add=function(n,e){ru(this),this.i=null,n=Qf(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Jt.forEach=function(n,e){ru(this),this.g.forEach(function(t,r){YA(t,function(i){n.call(e,i,r,this)},this)},this)},Jt.T=function(){ru(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],a=0;a<i.length;a++)t.push(e[r]);return t},Jt.R=function(n){ru(this);var e=[];if("string"==typeof n)y0(this,n)&&(e=JA(e,this.g.get(Qf(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=JA(e,n[t])}return e},Jt.set=function(n,e){return ru(this),this.i=null,y0(this,n=Qf(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Jt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Jt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var c=i;""!==r[a]&&(c+="="+encodeURIComponent(String(r[a]))),n.push(c)}}return this.i=n.join("&")};var zM=10;function gI(n){return!!n.h||!!n.g&&n.g.size>=n.j}function mI(n){return n.h?1:n.g?n.g.size:0}function ww(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Cw(n,e){n.g?n.g.add(e):n.h=e}function vI(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function yI(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return sv(n.i)}function Dw(){}function kv(){this.g=new Dw}function qM(n,e,t){const r=t||"";try{xv(n,function(i,a){let c=i;Hp(i)&&(c=mv(i)),e.push(r+a+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Jf(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(a){}}function Xf(n){this.l=n.$b||null,this.j=n.ib||!1}function ng(n,e){Si.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Iw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}b0.prototype.cancel=function(){if(this.i=yI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Dw.prototype.stringify=function(n){return Ln.JSON.stringify(n,void 0)},Dw.prototype.parse=function(n){return Ln.JSON.parse(n,void 0)},Bi(Xf,wv),Xf.prototype.g=function(){return new ng(this.l,this.j)},Xf.prototype.i=function(n){return function(){return n}}({}),Bi(ng,Si);var Iw=0;function Nv(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function eh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,rg(n)}function rg(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Jt=ng.prototype).open=function(n,e){if(this.readyState!=Iw)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,rg(this)},Jt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ln).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Jt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,eh(this)),this.readyState=Iw},Jt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,rg(this)),this.g&&(this.readyState=3,rg(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ln.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Nv(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Jt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?eh(this):rg(this),3==this.readyState&&Nv(this)}},Jt.Ua=function(n){this.g&&(this.response=this.responseText=n,eh(this))},Jt.Ta=function(n){this.g&&(this.response=n,eh(this))},Jt.ha=function(){this.g&&eh(this)},Jt.setRequestHeader=function(n,e){this.v.append(n,e)},Jt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Jt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(ng.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Sw=Ln.JSON.parse;function xi(n){Si.call(this),this.headers=new ud,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=xw,this.K=this.L=!1}Bi(xi,Si);var xw="",_I=/^https?$/i,E0=["POST","PUT"];function WM(n){return"content-type"==n.toLowerCase()}function EI(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,AI(n),Pv(n)}function AI(n){n.D||(n.D=!0,Hi(n,"complete"),Hi(n,"error"))}function Mw(n){if(n.h&&void 0!==W_&&(!n.C[1]||4!=nc(n)||2!=n.ba()))if(n.v&&4==nc(n))od(n.Fa,0,n);else if(Hi(n,"readystatechange"),4==nc(n)){n.h=!1;try{const g=n.ba();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===g){var i=String(n.H).match(lI)[1]||null;if(!i&&Ln.self&&Ln.self.location){var a=Ln.self.location.protocol;i=a.substr(0,a.length-1)}r=!_I.test(i?i.toLowerCase():"")}t=r}if(t)Hi(n,"complete"),Hi(n,"success");else{n.m=6;try{var c=2<nc(n)?n.g.statusText:""}catch(b){c=""}n.j=c+" ["+n.ba()+"]",AI(n)}}finally{Pv(n)}}}function Pv(n,e){if(n.g){Rw(n);const t=n.g,r=n.C[0]?Up:null;n.g=null,n.C=null,e||Hi(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function Rw(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ln.clearTimeout(n.A),n.A=null)}function nc(n){return n.g?n.g.readyState:0}function kw(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case xw:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function w0(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function A0(n){let e="";return id(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Pr(n,e,t))}function Ls(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Nw(n){this.za=0,this.l=[],this.h=new _v,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ls("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ls("baseRetryDelayMs",5e3,n),this.$a=Ls("retryDelaySeedMs",1e4,n),this.Ya=Ls("forwardChannelMaxRetries",2,n),this.ra=Ls("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new b0(n&&n.concurrentRequestLimit),this.Ca=new kv,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function ig(n){if(Pw(n),3==n.G){var e=n.V++,t=pl(n.F);Pr(t,"SID",n.J),Pr(t,"RID",e),Pr(t,"TYPE","terminate"),th(n,t),(e=new Wf(n,n.h,e,void 0)).K=2,e.v=g0(pl(t)),t=!1,Ln.navigator&&Ln.navigator.sendBeacon&&(t=Ln.navigator.sendBeacon(e.v.toString(),"")),!t&&Ln.Image&&((new Image).src=e.v,t=!0),t||(e.g=jw(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Xp(e)}Uw(n)}function Ov(n){n.g&&(ag(n),n.g.cancel(),n.g=null)}function Pw(n){Ov(n),n.u&&(Ln.clearTimeout(n.u),n.u=null),lg(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ln.clearTimeout(n.m),n.m=null)}function sg(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&og(n)}function og(n){gI(n.i)||n.m||(n.m=!0,a0(n.Ha,n),n.C=0)}function Fw(n,e){var t;t=e?e.m:n.V++;const r=pl(n.F);Pr(r,"SID",n.J),Pr(r,"RID",t),Pr(r,"AID",n.U),th(n,r),n.o&&n.s&&w0(r,n.o,n.s),t=new Wf(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Lw(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Cw(n.i,t),tc(t,r,e)}function th(n,e){n.j&&xv({},function(t,r){Pr(e,r,t)})}function Lw(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Ii(n.j.Oa,n.j,n):null;e:{var i=n.l;let a=-1;for(;;){const c=["count="+t];-1==a?0<t?(a=i[0].h,c.push("ofs="+a)):a=0:c.push("ofs="+a);let g=!0;for(let b=0;b<t;b++){let C=i[b].h;const R=i[b].g;if(C-=a,0>C)a=Math.max(0,i[b].h-100),g=!1;else try{qM(R,c,"req"+C+"_")}catch(P){r&&r(R)}}if(g){r=c.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Vw(n){n.g||n.u||(n.Y=1,a0(n.Ga,n),n.A=0)}function C0(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Yp(Ii(n.Ga,n),Bw(n,n.A)),n.A++,0))}function ag(n){null!=n.B&&(Ln.clearTimeout(n.B),n.B=null)}function rc(n){n.g=new Wf(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=pl(n.oa);Pr(e,"RID","rpc"),Pr(e,"SID",n.J),Pr(e,"CI",n.N?"0":"1"),Pr(e,"AID",n.U),th(n,e),Pr(e,"TYPE","xmlhttp"),n.o&&n.s&&w0(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=g0(pl(e)),t.s=null,t.U=!0,yw(t,n)}function lg(n){null!=n.v&&(Ln.clearTimeout(n.v),n.v=null)}function D0(n,e){var t=null;if(n.g==e){lg(n),ag(n),n.g=null;var r=2}else{if(!ww(n.i,e))return;t=e.D,vI(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Hi(r=Gf(),new pw(r,t,e,i)),og(n)}else Vw(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function Ow(n,e){return!(mI(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Yp(Ii(n.Ha,n,e),Bw(n,n.C)),n.C++,0)))}(n,e)||2==r&&C0(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:nh(n,5);break;case 4:nh(n,10);break;case 3:nh(n,6);break;default:nh(n,2)}}function Bw(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function nh(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Ii(n.jb,n);t||(t=new cd("//www.google.com/images/cleardot.gif"),Ln.location&&"http"==Ln.location.protocol||dd(t,"https"),g0(t)),function Tw(n,e){const t=new _v;if(Ln.Image){const r=new Image;r.onload=Vf(Jf,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Vf(Jf,t,r,"TestLoadImage: error",!1,e),r.onabort=Vf(Jf,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Vf(Jf,t,r,"TestLoadImage: timeout",!1,e),Ln.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ns(2);n.G=0,n.j&&n.j.va(e),Uw(n),Pw(n)}function Uw(n){n.G=0,n.I=-1,n.j&&((0!=yI(n.i).length||0!=n.l.length)&&(n.i.i.length=0,sv(n.l),n.l.length=0),n.j.ua())}function Hw(n,e,t){let r=function uI(n){return n instanceof cd?pl(n):new cd(n,void 0)}(t);if(""!=r.i)e&&eg(r,e+"."+r.i),Mv(r,r.m);else{const i=Ln.location;r=function cI(n,e,t,r){var i=new cd(null,void 0);return n&&dd(i,n),e&&eg(i,e),t&&Mv(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&id(n.aa,function(i,a){Pr(r,a,i)}),t=n.sa,(e=n.D)&&t&&Pr(r,e,t),Pr(r,"VER",n.ma),th(n,r),r}function jw(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new xi(t&&n.Ba&&!n.qa?new Xf({ib:!0}):n.qa)).L=n.H,e}function T0(){}function Fv(){if(Bf&&!(10<=Number(YT)))throw Error("Environmental error: no available transport.")}function To(n,e){Si.call(this),this.g=new Nw(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!ov(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ov(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new fd(this)}function wI(n){Dv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Lv(){Tv.call(this),this.status=1}function fd(n){this.g=n}(Jt=xi.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():d0.g(),this.C=function Cv(n){return n.h||(n.h=n.i())}(this.u?this.u:d0),this.g.onreadystatechange=Ii(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void EI(this,a)}n=t||"";const i=new ud(this.headers);r&&xv(r,function(a,c){i.set(c,a)}),r=function QA(n){e:{var e=WM;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Ln.FormData&&n instanceof Ln.FormData,!(0<=iv(E0,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(a,c){this.g.setRequestHeader(c,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Rw(this),0<this.B&&((this.K=function bI(n){return Bf&&function X_(){return function WT(n){var e=$T;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Z_(String(cv)).split("."),t=Z_("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",a=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=$_(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||$_(0==i[2].length,0==a[2].length)||$_(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ii(this.pa,this)):this.A=od(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){EI(this,a)}},Jt.pa=function(){void 0!==W_&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hi(this,"timeout"),this.abort(8))},Jt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Hi(this,"complete"),Hi(this,"abort"),Pv(this))},Jt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pv(this,!0)),xi.Z.M.call(this)},Jt.Fa=function(){this.s||(this.F||this.v||this.l?Mw(this):this.cb())},Jt.cb=function(){Mw(this)},Jt.ba=function(){try{return 2<nc(this)?this.g.status:-1}catch(n){return-1}},Jt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Jt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Sw(e)}},Jt.Da=function(){return this.m},Jt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Jt=Nw.prototype).ma=8,Jt.G=1,Jt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Jt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new Wf(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=ew(a),K_(a,this.P)):a=this.P),null===this.o&&(i.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Lw(this,i,e),Pr(t=pl(this.F),"RID",n),Pr(t,"CVER",22),this.D&&Pr(t,"X-HTTP-Session-Id",this.D),th(this,t),this.o&&a&&w0(t,this.o,a),Cw(this.i,i),this.Ra&&Pr(t,"TYPE","init"),this.ja?(Pr(t,"$req",e),Pr(t,"SID","null"),i.$=!0,tc(i,t,null)):tc(i,t,e),this.G=2}}else 3==this.G&&(n?Fw(this,n):0==this.l.length||gI(this.i)||Fw(this))},Jt.Ga=function(){if(this.u=null,rc(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Yp(Ii(this.bb,this),n)}},Jt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ns(10),Ov(this),rc(this))},Jt.ab=function(){null!=this.v&&(this.v=null,Ov(this),C0(this),ns(19))},Jt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ns(2)):(this.h.info("Failed to ping google.com"),ns(1))},(Jt=T0.prototype).xa=function(){},Jt.wa=function(){},Jt.va=function(){},Jt.ua=function(){},Jt.Oa=function(){},Fv.prototype.g=function(n,e){return new To(n,e)},Bi(To,Si),To.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),a0(Ii(n.hb,n,e))),ns(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Hw(n,null,n.W),og(n)},To.prototype.close=function(){ig(this.g)},To.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,sg(this.g,e)}else this.v?((e={}).__data__=mv(n),sg(this.g,e)):sg(this.g,n)},To.prototype.M=function(){this.g.j=null,delete this.j,ig(this.g),delete this.g,To.Z.M.call(this)},Bi(wI,Dv),Bi(Lv,Tv),Bi(fd,T0),fd.prototype.xa=function(){Hi(this.g,"a")},fd.prototype.wa=function(n){Hi(this.g,new wI(n))},fd.prototype.va=function(n){Hi(this.g,new Lv(n))},fd.prototype.ua=function(){Hi(this.g,"b")},Fv.prototype.createWebChannel=Fv.prototype.g,To.prototype.send=To.prototype.u,To.prototype.open=To.prototype.m,To.prototype.close=To.prototype.close,Av.NO_ERROR=0,Av.TIMEOUT=8,Av.HTTP_ERROR=6,gw.COMPLETE="complete",c0.EventType=qf,qf.OPEN="a",qf.CLOSE="b",qf.ERROR="c",qf.MESSAGE="d",Si.prototype.listen=Si.prototype.N,xi.prototype.listenOnce=xi.prototype.O,xi.prototype.getLastError=xi.prototype.La,xi.prototype.getLastErrorCode=xi.prototype.Da,xi.prototype.getStatus=xi.prototype.ba,xi.prototype.getResponseJson=xi.prototype.Qa,xi.prototype.getResponseText=xi.prototype.ga,xi.prototype.send=xi.prototype.ea;var CI=tu.createWebChannelTransport=function(){return new Fv},DI=tu.getStatEventTarget=function(){return Gf()},Vv=tu.ErrorCode=Av,I0=tu.EventType=gw,S0=tu.Event=ad,x0=tu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},TI=tu.FetchXmlHttpFactory=Xf,ug=tu.WebChannel=c0,Gw=tu.XhrIo=xi;const zw="@firebase/firestore";class rs{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rs.UNAUTHENTICATED=new rs(null),rs.GOOGLE_CREDENTIALS=new rs("google-credentials-uid"),rs.FIRST_PARTY=new rs("first-party-uid"),rs.MOCK_USER=new rs("mock-user");let cg="9.8.0";const hd=new Ju.Yd("@firebase/firestore");function Bv(){return hd.logLevel}function St(n,...e){if(hd.logLevel<=Ju.in.DEBUG){const t=e.map(qw);hd.debug(`Firestore (${cg}): ${n}`,...t)}}function yi(n,...e){if(hd.logLevel<=Ju.in.ERROR){const t=e.map(qw);hd.error(`Firestore (${cg}): ${n}`,...t)}}function Uv(n,...e){if(hd.logLevel<=Ju.in.WARN){const t=e.map(qw);hd.warn(`Firestore (${cg}): ${n}`,...t)}}function qw(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function nn(n="Unexpected state"){const e=`FIRESTORE (${cg}) INTERNAL ASSERTION FAILED: `+n;throw yi(e),new Error(e)}function Pn(n,e){n||nn()}function zt(n,e){return n}const Ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends Xn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class M0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pd{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(rs.UNAUTHENTICATED))}shutdown(){}}class Ww{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class R0{constructor(e){this.t=e,this.currentUser=rs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=C=>this.i!==i?(i=this.i,t(C)):Promise.resolve();let c=new Gi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Gi,e.enqueueRetryable(()=>a(this.currentUser))};const g=()=>{const C=c;e.enqueueRetryable((0,nt.Z)(function*(){yield C.promise,yield a(r.currentUser)}))},b=C=>{St("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(C=>b(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?b(C):(St("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Gi)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(St("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pn("string"==typeof r.accessToken),new M0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Pn(null===e||"string"==typeof e),new rs(e)}}class k0{constructor(e,t,r){this.type="FirstParty",this.user=rs.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class SI{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new k0(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(rs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Hv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class N0{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=a=>{null!=a.error&&St("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.p;return this.p=a.token,St("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{St("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?i(a):St("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Pn("string"==typeof t.token),this.p=t.token,new Hv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ea{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function $M(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}ea.A=-1;class xI{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=$M(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function zn(n,e){return n<e?-1:n>e?1:0}function gd(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Zw(n){return n+"\0"}class ui{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new gt(Ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new gt(Ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new gt(Ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new gt(Ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ui.fromMillis(Date.now())}static fromDate(e){return ui.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ui(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?zn(this.nanoseconds,e.nanoseconds):zn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Cn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Cn(e)}static min(){return new Cn(new ui(0,0))}static max(){return new Cn(new ui(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function $w(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ic(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function O0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class rh{constructor(e,t,r){void 0===t?t=0:t>e.length&&nn(),void 0===r?r=e.length-t:r>e.length-t&&nn(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===rh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof rh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),c=t.get(i);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ar extends rh{construct(e,t,r){return new ar(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new gt(Ke.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new ar(t)}static emptyPath(){return new ar([])}}const MI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _i extends rh{construct(e,t,r){return new _i(e,t,r)}static isValidIdentifier(e){return MI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_i.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _i(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new gt(Ke.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const g=e[i];if("\\"===g){if(i+1===e.length)throw new gt(Ke.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const b=e[i+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new gt(Ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=b,i+=2}else"`"===g?(c=!c,i++):"."!==g||c?(r+=g,i++):(a(),i++)}if(a(),c)throw new gt(Ke.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _i(t)}static emptyPath(){return new _i([])}}class sc{constructor(e){this.fields=e,e.sort(_i.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return gd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class bi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new bi(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new bi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return zn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bi.EMPTY_BYTE_STRING=new bi("");const F0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oc(n){if(Pn(!!n),"string"==typeof n){let e=0;const t=F0.exec(n);if(Pn(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Xr(n.seconds),nanos:Xr(n.nanos)}}function Xr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ih(n){return"string"==typeof n?bi.fromBase64String(n):bi.fromUint8Array(n)}function Kw(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Yw(n){const e=n.mapValue.fields.__previous_value__;return Kw(e)?Yw(e):e}function dg(n){const e=oc(n.mapValue.fields.__local_write_time__.timestampValue);return new ui(e.seconds,e.nanos)}class YM{constructor(e,t,r,i,a,c,g,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=g,this.useFetchStreams=b}}class ac{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ac("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ac&&e.projectId===this.projectId&&e.database===this.database}}function jv(n){return null==n}function Gv(n){return 0===n&&1/n==-1/0}function RI(n){return"number"==typeof n&&Number.isInteger(n)&&!Gv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ut{constructor(e){this.path=e}static fromPath(e){return new Ut(ar.fromString(e))}static fromName(e){return new Ut(ar.fromString(e).popFirst(5))}static empty(){return new Ut(ar.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ar.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ar.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ut(new ar(e.slice()))}}const md={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},L0={nullValue:"NULL_VALUE"};function sh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Kw(n)?4:be(n)?9007199254740991:10:nn()}function iu(n,e){if(n===e)return!0;const t=sh(n);if(t!==sh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return dg(n).isEqual(dg(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=oc(r.timestampValue),c=oc(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,ih(n.bytesValue).isEqual(ih(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Xr(r.geoPointValue.latitude)===Xr(i.geoPointValue.latitude)&&Xr(r.geoPointValue.longitude)===Xr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Xr(r.integerValue)===Xr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Xr(r.doubleValue),c=Xr(i.doubleValue);return a===c?Gv(a)===Gv(c):isNaN(a)&&isNaN(c)}return!1}(n,e);case 9:return gd(n.arrayValue.values||[],e.arrayValue.values||[],iu);case 10:return function(r,i){const a=r.mapValue.fields||{},c=i.mapValue.fields||{};if($w(a)!==$w(c))return!1;for(const g in a)if(a.hasOwnProperty(g)&&(void 0===c[g]||!iu(a[g],c[g])))return!1;return!0}(n,e);default:return nn()}var i}function s(n,e){return void 0!==(n.values||[]).find(t=>iu(t,e))}function o(n,e){if(n===e)return 0;const t=sh(n),r=sh(e);if(t!==r)return zn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return zn(n.booleanValue,e.booleanValue);case 2:return function(i,a){const c=Xr(i.integerValue||i.doubleValue),g=Xr(a.integerValue||a.doubleValue);return c<g?-1:c>g?1:c===g?0:isNaN(c)?isNaN(g)?0:-1:1}(n,e);case 3:return l(n.timestampValue,e.timestampValue);case 4:return l(dg(n),dg(e));case 5:return zn(n.stringValue,e.stringValue);case 6:return function(i,a){const c=ih(i),g=ih(a);return c.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const c=i.split("/"),g=a.split("/");for(let b=0;b<c.length&&b<g.length;b++){const C=zn(c[b],g[b]);if(0!==C)return C}return zn(c.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const c=zn(Xr(i.latitude),Xr(a.latitude));return 0!==c?c:zn(Xr(i.longitude),Xr(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const c=i.values||[],g=a.values||[];for(let b=0;b<c.length&&b<g.length;++b){const C=o(c[b],g[b]);if(C)return C}return zn(c.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===md.mapValue&&a===md.mapValue)return 0;if(i===md.mapValue)return 1;if(a===md.mapValue)return-1;const c=i.fields||{},g=Object.keys(c),b=a.fields||{},C=Object.keys(b);g.sort(),C.sort();for(let R=0;R<g.length&&R<C.length;++R){const P=zn(g[R],C[R]);if(0!==P)return P;const Z=o(c[g[R]],b[C[R]]);if(0!==Z)return Z}return zn(g.length,C.length)}(n.mapValue,e.mapValue);default:throw nn()}}function l(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return zn(n,e);const t=oc(n),r=oc(e),i=zn(t.seconds,r.seconds);return 0!==i?i:zn(t.nanos,r.nanos)}function d(n){return m(n)}function m(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=oc(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ih(n.bytesValue).toBase64():"referenceValue"in n?Ut.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const c of r.values||[])a?a=!1:i+=",",i+=m(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const g of i)c?c=!1:a+=",",a+=`${g}:${m(r.fields[g])}`;return a+"}"}(n.mapValue):nn();var e}function y(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function w(n){return!!n&&"integerValue"in n}function I(n){return!!n&&"arrayValue"in n}function M(n){return!!n&&"nullValue"in n}function L(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function j(n){return!!n&&"mapValue"in n}function te(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ic(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=te(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=te(n.arrayValue.values[t]);return e}return Object.assign({},n)}function be(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Fe(n){return"nullValue"in n?L0:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?y(ac.empty(),Ut.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:nn()}function it(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?y(ac.empty(),Ut.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?md:nn()}function xt(n,e){const t=o(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Ot(n,e){const t=o(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Ft{constructor(e){this.value=e}static empty(){return new Ft({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!j(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=te(t)}setAll(e){let t=_i.emptyPath(),r={},i=[];e.forEach((c,g)=>{if(!t.isImmediateParentOf(g)){const b=this.getFieldsMap(t);this.applyChanges(b,r,i),r={},i=[],t=g.popLast()}c?r[g.lastSegment()]=te(c):i.push(g.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());j(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return iu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];j(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ic(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Ft(te(this.value))}}function ft(n){const e=[];return ic(n.fields,(t,r)=>{const i=new _i([t]);if(j(r)){const a=ft(r.mapValue).fields;if(0===a.length)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)}),new sc(e)}class Ht{constructor(e,t,r,i,a,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=a,this.documentState=c}static newInvalidDocument(e){return new Ht(e,0,Cn.min(),Cn.min(),Ft.empty(),0)}static newFoundDocument(e,t,r){return new Ht(e,1,t,Cn.min(),r,0)}static newNoDocument(e,t){return new Ht(e,2,t,Cn.min(),Ft.empty(),0)}static newUnknownDocument(e,t){return new Ht(e,3,t,Cn.min(),Ft.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ft.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ft.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wn{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function hr(n){return n.fields.find(e=>2===e.kind)}function Mi(n){return n.fields.filter(e=>2!==e.kind)}Wn.UNKNOWN_ID=-1;class gl{constructor(e,t){this.fieldPath=e,this.kind=t}}class vd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new vd(0,Io.min())}}function zv(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Cn.fromTimestamp(1e9===r?new ui(t+1,0):new ui(t,r));return new Io(i,Ut.empty(),e)}function V0(n){return new Io(n.readTime,n.key,-1)}class Io{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Io(Cn.min(),Ut.empty(),-1)}static max(){return new Io(Cn.max(),Ut.empty(),-1)}}function qv(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ut.comparator(n.documentKey,e.documentKey),0!==t?t:zn(n.largestBatchId,e.largestBatchId))}class $r{constructor(e,t){this.comparator=e,this.root=t||Ri.EMPTY}insert(e,t){return new $r(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ri.BLACK,null,null))}remove(e){return new $r(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ri.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oh(this.root,e,this.comparator,!0)}}class oh{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ri{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=null!=r?r:Ri.RED,this.left=null!=i?i:Ri.EMPTY,this.right=null!=a?a:Ri.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Ri(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ri.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ri.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ri.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ri.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nn();const e=this.left.check();if(e!==this.right.check())throw nn();return e+(this.isRed()?0:1)}}Ri.EMPTY=null,Ri.RED=!0,Ri.BLACK=!1,Ri.EMPTY=new class{constructor(){this.size=0}get key(){throw nn()}get value(){throw nn()}get color(){throw nn()}get left(){throw nn()}get right(){throw nn()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Ri(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Er{constructor(e){this.comparator=e,this.data=new $r(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new QM(this.data.getIterator())}getIteratorFrom(e){return new QM(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Er)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Er(this.comparator);return t.data=e,t}}class QM{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Wv(n){return n.hasNext()?n.getNext():void 0}class uP{constructor(e,t=null,r=[],i=[],a=null,c=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=g,this.P=null}}function JM(n,e=null,t=[],r=[],i=null,a=null,c=null){return new uP(n,e,t,r,i,a,c)}function fg(n){const e=zt(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+d(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),jv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>d(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>d(r)).join(",")),e.P=t}return e.P}function B0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!yP(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!iu(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!r1(n.startAt,e.startAt)&&r1(n.endAt,e.endAt)}function Qw(n){return Ut.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Jw(n,e){return n.filters.filter(t=>t instanceof Vs&&t.field.isEqual(e))}function XM(n,e,t){let r=L0,i=!0;for(const a of Jw(n,e)){let c=L0,g=!0;switch(a.op){case"<":case"<=":c=Fe(a.value);break;case"==":case"in":case">=":c=a.value;break;case">":c=a.value,g=!1;break;case"!=":case"not-in":c=L0}xt({value:r,inclusive:i},{value:c,inclusive:g})<0&&(r=c,i=g)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];xt({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function e1(n,e,t){let r=md,i=!0;for(const a of Jw(n,e)){let c=md,g=!0;switch(a.op){case">=":case">":c=it(a.value),g=!1;break;case"==":case"in":case"<=":c=a.value;break;case"<":c=a.value,g=!1;break;case"!=":case"not-in":c=md}Ot({value:r,inclusive:i},{value:c,inclusive:g})>0&&(r=c,i=g)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const c=t.position[a];Ot({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class Vs extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new dP(e,t,r):"array-contains"===t?new pP(e,r):"in"===t?new gP(e,r):"not-in"===t?new mP(e,r):"array-contains-any"===t?new vP(e,r):new Vs(e,t,r)}static V(e,t,r){return"in"===t?new fP(e,r):new hP(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(o(t,this.value)):null!==t&&sh(this.value)===sh(t)&&this.v(o(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return nn()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class dP extends Vs{constructor(e,t,r){super(e,t,r),this.key=Ut.fromName(r.referenceValue)}matches(e){const t=Ut.comparator(e.key,this.key);return this.v(t)}}class fP extends Vs{constructor(e,t){super(e,"in",t),this.keys=t1(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class hP extends Vs{constructor(e,t){super(e,"not-in",t),this.keys=t1(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function t1(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ut.fromName(r.referenceValue))}class pP extends Vs{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return I(t)&&s(t.arrayValue,this.value)}}class gP extends Vs{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&s(this.value.arrayValue,t)}}class mP extends Vs{constructor(e,t){super(e,"not-in",t)}matches(e){if(s(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!s(this.value.arrayValue,t)}}class vP extends Vs{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!I(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>s(this.value.arrayValue,r))}}class ah{constructor(e,t){this.position=e,this.inclusive=t}}class Zv{constructor(e,t="asc"){this.field=e,this.dir=t}}function yP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function n1(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],c=n.position[i];if(r=a.field.isKeyField()?Ut.comparator(Ut.fromName(c.referenceValue),t.key):o(c,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function r1(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!iu(n.position[t],e.position[t]))return!1;return!0}class yd{constructor(e,t=null,r=[],i=[],a=null,c="F",g=null,b=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=g,this.endAt=b,this.D=null,this.C=null}}function i1(n,e,t,r,i,a,c,g){return new yd(n,e,t,r,i,a,c,g)}function $v(n){return new yd(n)}function kI(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function NI(n){for(const e of n.filters)if(e.S())return e.field;return null}function PI(n){return null!==n.collectionGroup}function Kv(n){const e=zt(n);if(null===e.D){e.D=[];const t=NI(e),r=kI(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new Zv(t)),e.D.push(new Zv(_i.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.D.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Zv(_i.keyField(),a))}}}return e.D}function ml(n){const e=zt(n);if(!e.C)if("F"===e.limitType)e.C=JM(e.path,e.collectionGroup,Kv(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of Kv(e))t.push(new Zv(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new ah(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ah(e.startAt.position,e.startAt.inclusive):null;e.C=JM(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.C}function s1(n,e,t){return new yd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function U0(n,e){return B0(ml(n),ml(e))&&n.limitType===e.limitType}function o1(n){return`${fg(ml(n))}|lt:${n.limitType}`}function OI(n){return`Query(target=${function cP(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${d(r.value)}`;var r}).join(", ")}]`),jv(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>d(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>d(t)).join(",")),`Target(${e})`}(ml(n))}; limitType=${n.limitType})`}function FI(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ut.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,c){const g=n1(i,a,c);return i.inclusive?g<=0:g<0}(t.startAt,Kv(t),r)||t.endAt&&!function(i,a,c){const g=n1(i,a,c);return i.inclusive?g>=0:g>0}(t.endAt,Kv(t),r)));var t,r}function a1(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function l1(n){return(e,t)=>{let r=!1;for(const i of Kv(n)){const a=bP(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function bP(n,e,t){const r=n.field.isKeyField()?Ut.comparator(e.key,t.key):function(i,a,c){const g=a.data.field(i),b=c.data.field(i);return null!==g&&null!==b?o(g,b):nn()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return nn()}}function u1(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gv(e)?"-0":e}}function c1(n){return{integerValue:""+n}}function d1(n,e){return RI(e)?c1(e):u1(n,e)}class Xw{constructor(){this._=void 0}}function EP(n,e,t){return n instanceof Yv?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof hg?h1(n,e):n instanceof pg?p1(n,e):function(r,i){const a=f1(r,i),c=g1(a)+g1(r.k);return w(a)&&w(r.k)?c1(c):u1(r.M,c)}(n,e)}function AP(n,e,t){return n instanceof hg?h1(n,e):n instanceof pg?p1(n,e):t}function f1(n,e){return n instanceof Qv?w(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Yv extends Xw{}class hg extends Xw{constructor(e){super(),this.elements=e}}function h1(n,e){const t=m1(e);for(const r of n.elements)t.some(i=>iu(i,r))||t.push(r);return{arrayValue:{values:t}}}class pg extends Xw{constructor(e){super(),this.elements=e}}function p1(n,e){let t=m1(e);for(const r of n.elements)t=t.filter(i=>!iu(i,r));return{arrayValue:{values:t}}}class Qv extends Xw{constructor(e,t){super(),this.M=e,this.k=t}}function g1(n){return Xr(n.integerValue||n.doubleValue)}function m1(n){return I(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class H0{constructor(e,t){this.field=e,this.transform=t}}class CP{constructor(e,t){this.version=e,this.transformResults=t}}class zi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zi}static exists(e){return new zi(void 0,e)}static updateTime(e){return new zi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function eC(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class tC{}function DP(n,e,t){n instanceof j0?function(r,i,a){const c=r.value.clone(),g=b1(r.fieldTransforms,i,a.transformResults);c.setAll(g),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(n,e,t):n instanceof gg?function(r,i,a){if(!eC(r.precondition,i))return void i.convertToUnknownDocument(a.version);const c=b1(r.fieldTransforms,i,a.transformResults),g=i.data;g.setAll(_1(r)),g.setAll(c),i.convertToFoundDocument(a.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function LI(n,e,t){var i;n instanceof j0?function(r,i,a){if(!eC(r.precondition,i))return;const c=r.value.clone(),g=E1(r.fieldTransforms,a,i);c.setAll(g),i.convertToFoundDocument(y1(i),c).setHasLocalMutations()}(n,e,t):n instanceof gg?function(r,i,a){if(!eC(r.precondition,i))return;const c=E1(r.fieldTransforms,a,i),g=i.data;g.setAll(_1(r)),g.setAll(c),i.convertToFoundDocument(y1(i),g).setHasLocalMutations()}(n,e,t):eC(n.precondition,i=e)&&i.convertToNoDocument(Cn.min())}function TP(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=f1(r.transform,i||null);null!=a&&(null==t&&(t=Ft.empty()),t.set(r.field,a))}return t||null}function v1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&gd(t,r,(i,a)=>function wP(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof hg&&r instanceof hg||t instanceof pg&&r instanceof pg?gd(t.elements,r.elements,iu):t instanceof Qv&&r instanceof Qv?iu(t.k,r.k):t instanceof Yv&&r instanceof Yv);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function y1(n){return n.isFoundDocument()?n.version:Cn.min()}class j0 extends tC{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class gg extends tC{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}}function _1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function b1(n,e,t){const r=new Map;Pn(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],c=a.transform,g=e.data.field(a.field);r.set(a.field,AP(c,g,t[i]))}return r}function E1(n,e,t){const r=new Map;for(const i of n){const a=i.transform,c=t.data.field(i.field);r.set(i.field,EP(a,c,e))}return r}class G0 extends tC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class VI extends tC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class IP{constructor(e){this.count=e}}var qi,pr;function A1(n){switch(n){default:return nn();case Ke.CANCELLED:case Ke.UNKNOWN:case Ke.DEADLINE_EXCEEDED:case Ke.RESOURCE_EXHAUSTED:case Ke.INTERNAL:case Ke.UNAVAILABLE:case Ke.UNAUTHENTICATED:return!1;case Ke.INVALID_ARGUMENT:case Ke.NOT_FOUND:case Ke.ALREADY_EXISTS:case Ke.PERMISSION_DENIED:case Ke.FAILED_PRECONDITION:case Ke.ABORTED:case Ke.OUT_OF_RANGE:case Ke.UNIMPLEMENTED:case Ke.DATA_LOSS:return!0}}function w1(n){if(void 0===n)return yi("GRPC error has no .code"),Ke.UNKNOWN;switch(n){case qi.OK:return Ke.OK;case qi.CANCELLED:return Ke.CANCELLED;case qi.UNKNOWN:return Ke.UNKNOWN;case qi.DEADLINE_EXCEEDED:return Ke.DEADLINE_EXCEEDED;case qi.RESOURCE_EXHAUSTED:return Ke.RESOURCE_EXHAUSTED;case qi.INTERNAL:return Ke.INTERNAL;case qi.UNAVAILABLE:return Ke.UNAVAILABLE;case qi.UNAUTHENTICATED:return Ke.UNAUTHENTICATED;case qi.INVALID_ARGUMENT:return Ke.INVALID_ARGUMENT;case qi.NOT_FOUND:return Ke.NOT_FOUND;case qi.ALREADY_EXISTS:return Ke.ALREADY_EXISTS;case qi.PERMISSION_DENIED:return Ke.PERMISSION_DENIED;case qi.FAILED_PRECONDITION:return Ke.FAILED_PRECONDITION;case qi.ABORTED:return Ke.ABORTED;case qi.OUT_OF_RANGE:return Ke.OUT_OF_RANGE;case qi.UNIMPLEMENTED:return Ke.UNIMPLEMENTED;case qi.DATA_LOSS:return Ke.DATA_LOSS;default:return nn()}}(pr=qi||(qi={}))[pr.OK=0]="OK",pr[pr.CANCELLED=1]="CANCELLED",pr[pr.UNKNOWN=2]="UNKNOWN",pr[pr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pr[pr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pr[pr.NOT_FOUND=5]="NOT_FOUND",pr[pr.ALREADY_EXISTS=6]="ALREADY_EXISTS",pr[pr.PERMISSION_DENIED=7]="PERMISSION_DENIED",pr[pr.UNAUTHENTICATED=16]="UNAUTHENTICATED",pr[pr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pr[pr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pr[pr.ABORTED=10]="ABORTED",pr[pr.OUT_OF_RANGE=11]="OUT_OF_RANGE",pr[pr.UNIMPLEMENTED=12]="UNIMPLEMENTED",pr[pr.INTERNAL=13]="INTERNAL",pr[pr.UNAVAILABLE=14]="UNAVAILABLE",pr[pr.DATA_LOSS=15]="DATA_LOSS";class lh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ic(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return O0(this.inner)}size(){return this.innerSize}}const SP=new $r(Ut.comparator);function vl(){return SP}const xP=new $r(Ut.comparator);function BI(...n){let e=xP;for(const t of n)e=e.insert(t.key,t);return e}function z0(){return new lh(n=>n.toString(),(n,e)=>n.isEqual(e))}const MP=new $r(Ut.comparator),RP=new Er(Ut.comparator);function Ar(...n){let e=RP;for(const t of n)e=e.add(t);return e}const kP=new Er(zn);function nC(){return kP}class q0{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,W0.createSynthesizedTargetChangeForCurrentChange(e,t)),new q0(Cn.min(),r,nC(),vl(),Ar())}}class W0{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new W0(bi.EMPTY_BYTE_STRING,t,Ar(),Ar(),Ar())}}class rC{constructor(e,t,r,i){this.O=e,this.removedTargetIds=t,this.key=r,this.F=i}}class C1{constructor(e,t){this.targetId=e,this.$=t}}class D1{constructor(e,t,r=bi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class T1{constructor(){this.B=0,this.L=S1(),this.U=bi.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Ar(),t=Ar(),r=Ar();return this.L.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:nn()}}),new W0(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=S1()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class NP{constructor(e){this.nt=e,this.st=new Map,this.it=vl(),this.rt=I1(),this.ot=new Er(zn)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:nn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,i)=>{this.ft(i)&&t(i)})}_t(e){const t=e.targetId,r=e.$.count,i=this.wt(t);if(i){const a=i.target;if(Qw(a))if(0===r){const c=new Ut(a.path);this.ct(t,c,Ht.newNoDocument(c,Cn.min()))}else Pn(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((a,c)=>{const g=this.wt(c);if(g){if(a.current&&Qw(g.target)){const b=new Ut(g.target.path);null!==this.it.get(b)||this.It(c,b)||this.ct(c,b,Ht.newNoDocument(b,e))}a.j&&(t.set(c,a.H()),a.J())}});let r=Ar();this.rt.forEach((a,c)=>{let g=!0;c.forEachWhile(b=>{const C=this.wt(b);return!C||2===C.purpose||(g=!1,!1)}),g&&(r=r.add(a))}),this.it.forEach((a,c)=>c.setReadTime(e));const i=new q0(e,t,this.ot,this.it,r);return this.it=vl(),this.rt=I1(),this.ot=new Er(zn),i}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const i=this.lt(e);this.It(e,t)?i.Y(t,1):i.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new T1,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Er(zn),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||St("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new T1),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function I1(){return new $r(Ut.comparator)}function S1(){return new $r(Ut.comparator)}const PP={asc:"ASCENDING",desc:"DESCENDING"},OP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class FP{constructor(e,t){this.databaseId=e,this.N=t}}function Z0(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function x1(n,e){return n.N?e.toBase64():e.toUint8Array()}function LP(n,e){return Z0(n,e.toTimestamp())}function ps(n){return Pn(!!n),Cn.fromTimestamp(function(e){const t=oc(e);return new ui(t.seconds,t.nanos)}(n))}function UI(n,e){return(t=n,new ar(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function M1(n){const e=ar.fromString(n);return Pn(B1(e)),e}function $0(n,e){return UI(n.databaseId,e.path)}function lc(n,e){const t=M1(e);if(t.get(1)!==n.databaseId.projectId)throw new gt(Ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new gt(Ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ut(k1(t))}function HI(n,e){return UI(n.databaseId,e)}function R1(n){const e=M1(n);return 4===e.length?ar.emptyPath():k1(e)}function K0(n){return new ar(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function k1(n){return Pn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function N1(n,e,t){return{name:$0(n,e),fields:t.value.mapValue.fields}}function P1(n,e,t){const r=lc(n,e.name),i=ps(e.updateTime),a=new Ft({mapValue:{fields:e.fields}}),c=Ht.newFoundDocument(r,i,a);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function Y0(n,e){let t;if(e instanceof j0)t={update:N1(n,e.key,e.value)};else if(e instanceof G0)t={delete:$0(n,e.key)};else if(e instanceof gg)t={update:N1(n,e.key,e.data),updateMask:WP(e.fieldMask)};else{if(!(e instanceof VI))return nn();t={verify:$0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const c=a.transform;if(c instanceof Yv)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof hg)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof pg)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Qv)return{fieldPath:a.field.canonicalString(),increment:c.k};throw nn()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:LP(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:nn()),t;var i}function jI(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?zi.updateTime(ps(i.updateTime)):void 0!==i.exists?zi.exists(i.exists):zi.none():zi.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,c){let g=null;"setToServerValue"in c?(Pn("REQUEST_TIME"===c.setToServerValue),g=new Yv):"appendMissingElements"in c?g=new hg(c.appendMissingElements.values||[]):"removeAllFromArray"in c?g=new pg(c.removeAllFromArray.values||[]):"increment"in c?g=new Qv(a,c.increment):nn();const b=_i.fromServerFormat(c.fieldPath);return new H0(b,g)}(n,i)):[];var i;if(e.update){const i=lc(n,e.update.name),a=new Ft({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new sc((e.updateMask.fieldPaths||[]).map(C=>_i.fromServerFormat(C)));return new gg(i,a,c,t,r)}return new j0(i,a,t,r)}if(e.delete){const i=lc(n,e.delete);return new G0(i,t)}if(e.verify){const i=lc(n,e.verify);return new VI(i,t)}return nn()}function O1(n,e){return{documents:[HI(n,e.path)]}}function F1(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=HI(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=HI(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(b){if(0===b.length)return;const C=b.map(R=>function(P){if("=="===P.op){if(L(P.value))return{unaryFilter:{field:Jv(P.field),op:"IS_NAN"}};if(M(P.value))return{unaryFilter:{field:Jv(P.field),op:"IS_NULL"}}}else if("!="===P.op){if(L(P.value))return{unaryFilter:{field:Jv(P.field),op:"IS_NOT_NAN"}};if(M(P.value))return{unaryFilter:{field:Jv(P.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jv(P.field),op:GP(P.op),value:P.value}}}(R));return 1===C.length?C[0]:{compositeFilter:{op:"AND",filters:C}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(b){if(0!==b.length)return b.map(C=>{return{field:Jv((R=C).field),direction:jP(R.dir)};var R})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const c=(C=e.limit,n.N||jv(C)?C:{value:C});var C,g,b;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(b=e.endAt).inclusive,values:b.position}),t}function L1(n){let e=R1(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Pn(1===r);const R=t.from[0];R.allDescendants?i=R.collectionId:e=e.child(R.collectionId)}let a=[];t.where&&(a=V1(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(R=>{return new Zv(Xv((P=R).field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction));var P}));let g=null;t.limit&&(g=function(R){let P;return P="object"==typeof R?R.value:R,jv(P)?null:P}(t.limit));let b=null;var R;t.startAt&&(b=new ah((R=t.startAt).values||[],!!R.before));let C=null;return t.endAt&&(C=function(R){return new ah(R.values||[],!R.before)}(t.endAt)),i1(e,i,c,a,g,"F",b,C)}function V1(n){return n?void 0!==n.unaryFilter?[qP(n)]:void 0!==n.fieldFilter?[zP(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>V1(e)).reduce((e,t)=>e.concat(t)):nn():[]}function jP(n){return PP[n]}function GP(n){return OP[n]}function Jv(n){return{fieldPath:n.canonicalString()}}function Xv(n){return _i.fromServerFormat(n.fieldPath)}function zP(n){return Vs.create(Xv(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nn()}}(n.fieldFilter.op),n.fieldFilter.value)}function qP(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Xv(n.unaryFilter.field);return Vs.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Xv(n.unaryFilter.field);return Vs.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Xv(n.unaryFilter.field);return Vs.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Xv(n.unaryFilter.field);return Vs.create(i,"!=",{nullValue:"NULL_VALUE"});default:return nn()}}function WP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function B1(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function So(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=U1(e)),e=ZP(n.get(t),e);return U1(e)}function ZP(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function U1(n){return n+"\x01\x01"}function uc(n){const e=n.length;if(Pn(e>=2),2===e)return Pn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),ar.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const c=n.indexOf("\x01",a);switch((c<0||c>t)&&nn(),n.charAt(c+1)){case"\x01":const g=n.substring(a,c);let b;0===i.length?b=g:(i+=g,b=i,i=""),r.push(b);break;case"\x10":i+=n.substring(a,c),i+="\0";break;case"\x11":i+=n.substring(a,c+1);break;default:nn()}a=c+2}return new ar(r)}const H1=["userId","batchId"];function iC(n,e){return[n,So(e)]}function j1(n,e,t){return[n,So(e),t]}const $P={},KP=["prefixPath","collectionGroup","readTime","documentId"],YP=["prefixPath","collectionGroup","documentId"],QP=["collectionGroup","readTime","prefixPath","documentId"],JP=["canonicalId","targetId"],XP=["targetId","path"],eO=["path","targetId"],tO=["collectionId","parent"],nO=["indexId","uid"],rO=["uid","sequenceNumber"],iO=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],sO=["indexId","uid","orderedDocumentKey"],oO=["userId","collectionPath","documentId"],aO=["userId","collectionPath","largestBatchId"],lO=["userId","collectionGroup","largestBatchId"],G1=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],uO=[...G1,"documentOverlays"],z1=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],cO=[...z1,"indexConfiguration","indexState","indexEntries"],q1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class W1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&nn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Je((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Je?t:Je.resolve(t)}catch(t){return Je.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Je.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Je.reject(t)}static resolve(e){return new Je((t,r)=>{t(e)})}static reject(e){return new Je((t,r)=>{r(e)})}static waitFor(e){return new Je((t,r)=>{let i=0,a=0,c=!1;e.forEach(g=>{++i,g.next(()=>{++a,c&&a===i&&t()},b=>r(b))}),c=!0,a===i&&t()})}static or(e){let t=Je.resolve(!1);for(const r of e)t=t.next(i=>i?Je.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}}class sC{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Gi,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new Q0(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const i=GI(r.target.error);this.At.reject(new Q0(e,i))}}static open(e,t,r,i){try{return new sC(t,e.transaction(i,r))}catch(a){throw new Q0(t,a)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(St("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new fO(t)}}class su{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===su.Vt((0,Xn.z$)())&&yi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return St("SimpleDb","Removing database:",e),vg(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,Xn.hl)())return!1;if(su.St())return!0;const e=(0,Xn.z$)(),t=su.Vt(e),r=0<t&&t<10,i=su.Dt(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,nt.Z)(function*(){return t.db||(St("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=c=>{r(c.target.result)},a.onblocked=()=>{i(new Q0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=c=>{const g=c.target.error;i("VersionError"===g.name?new gt(Ke.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new gt(Ke.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new Q0(e,g))},a.onupgradeneeded=c=>{St("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.Pt.kt(c.target.result,a.transaction,c.oldVersion,t.version).next(()=>{St("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,nt.Z)(function*(){const c="readonly"===t;let g=0;for(;;){++g;try{a.db=yield a.Nt(e);const b=sC.open(a.db,e,c?"readonly":"readwrite",r),C=i(b).next(R=>(b.bt(),R)).catch(R=>(b.abort(R),Je.reject(R))).toPromise();return C.catch(()=>{}),yield b.Rt,C}catch(b){const C="FirebaseError"!==b.name&&g<3;if(St("SimpleDb","Transaction failed with error:",b.message,"Retrying:",C),a.close(),!C)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class dO{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return vg(this.Ft.delete())}}class Q0 extends gt{constructor(e,t){super(Ke.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function mg(n){return"IndexedDbTransactionError"===n.name}class fO{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(St("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(St("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),vg(r)}add(e){return St("SimpleDb","ADD",this.store.name,e,e),vg(this.store.add(e))}get(e){return vg(this.store.get(e)).next(t=>(void 0===t&&(t=null),St("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return St("SimpleDb","DELETE",this.store.name,e),vg(this.store.delete(e))}count(){return St("SimpleDb","COUNT",this.store.name),vg(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.Kt(i,(c,g)=>{a.push(g)}).next(()=>a)}{const i=this.store.getAll(r.range);return new Je((a,c)=>{i.onerror=g=>{c(g.target.error)},i.onsuccess=g=>{a(g.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Je((i,a)=>{r.onerror=c=>{a(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}Qt(e,t){St("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const i=this.cursor(r);return this.Kt(i,(a,c,g)=>g.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Kt(i,t)}zt(e){const t=this.cursor({});return new Je((r,i)=>{t.onerror=a=>{const c=GI(a.target.error);i(c)},t.onsuccess=a=>{const c=a.target.result;c?e(c.primaryKey,c.value).next(g=>{g?c.continue():r()}):r()}})}Kt(e,t){const r=[];return new Je((i,a)=>{e.onerror=c=>{a(c.target.error)},e.onsuccess=c=>{const g=c.target.result;if(!g)return void i();const b=new dO(g),C=t(g.primaryKey,g.value,b);if(C instanceof Je){const R=C.catch(P=>(b.done(),Je.reject(P)));r.push(R)}b.isDone?i():null===b.Lt?g.continue():g.continue(b.Lt)}}).next(()=>Je.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function vg(n){return new Je((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=GI(r.target.error);t(i)}})}let Z1=!1;function GI(n){const e=su.Vt((0,Xn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new gt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Z1||(Z1=!0,setTimeout(()=>{throw r},0)),r}}return n}class $1 extends W1{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function gs(n,e){const t=zt(n);return su.xt(t.Ht,e)}class zI{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&DP(a,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&LI(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&LI(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Cn.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ar())}isEqual(e){return this.batchId===e.batchId&&gd(this.mutations,e.mutations,(t,r)=>v1(t,r))&&gd(this.baseMutations,e.baseMutations,(t,r)=>v1(t,r))}}class qI{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Pn(e.mutations.length===r.length);let i=MP;const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new qI(e,t,r,i)}}class WI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class uh{constructor(e,t,r,i,a=Cn.min(),c=Cn.min(),g=bi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=g}withSequenceNumber(e){return new uh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new uh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new uh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class K1{constructor(e){this.Jt=e}}function Y1(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:oC(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:$0(i=n.Jt,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:Z0(i,a.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:yg(e.version)};else{if(!e.isUnknownDocument())return nn();r.unknownDocument={path:t.path.toArray(),version:yg(e.version)}}var i,a;return r}function oC(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function yg(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function _g(n){const e=new ui(n.seconds,n.nanoseconds);return Cn.fromTimestamp(e)}function ey(n,e){const t=(e.baseMutations||[]).map(a=>jI(n.Jt,a));for(let a=0;a<e.mutations.length-1;++a){const c=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(c.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>jI(n.Jt,a)),i=ui.fromMillis(e.localWriteTimeMs);return new zI(e.batchId,i,t,r)}function J0(n){const e=_g(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?_g(n.lastLimboFreeSnapshotVersion):Cn.min();let r;var i;return void 0!==n.query.documents?(Pn(1===(i=n.query).documents.length),r=ml($v(R1(i.documents[0])))):r=ml(L1(n.query)),new uh(r,n.targetId,0,n.lastListenSequenceNumber,e,t,bi.fromBase64String(n.resumeToken))}function Q1(n,e){const t=yg(e.snapshotVersion),r=yg(e.lastLimboFreeSnapshotVersion);let i;i=Qw(e.target)?O1(n.Jt,e.target):F1(n.Jt,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fg(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function ZI(n){const e=L1({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?s1(e,e.limit,"L"):e}function $I(n,e){return new WI(e.largestBatchId,jI(n.Jt,e.overlayMutation))}function J1(n,e){const t=e.path.lastSegment();return[n,So(e.path.popLast()),t]}class pO{getBundleMetadata(e,t){return X1(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:_g(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return X1(e).put({bundleId:(r=t).id,createTime:yg(ps(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return eR(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:ZI(i.bundledQuery),readTime:_g(i.readTime)};var i})}saveNamedQuery(e,t){return eR(e).put({name:(r=t).name,readTime:yg(ps(r.readTime)),bundledQuery:r.bundledQuery});var r}}function X1(n){return gs(n,"bundles")}function eR(n){return gs(n,"namedQueries")}class KI{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new KI(e,t.uid||"")}getOverlay(e,t){return X0(e).get(J1(this.userId,t)).next(r=>r?$I(this.M,r):null)}saveOverlays(e,t,r){const i=[];return r.forEach((a,c)=>{const g=new WI(t,c);i.push(this.Xt(e,g))}),Je.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(So(c.getCollectionPath())));const a=[];return i.forEach(c=>{const g=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);a.push(X0(e).Qt("collectionPathOverlayIndex",g))}),Je.waitFor(a)}getOverlaysForCollection(e,t,r){const i=z0(),a=So(t),c=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return X0(e).qt("collectionPathOverlayIndex",c).next(g=>{for(const b of g){const C=$I(this.M,b);i.set(C.getKey(),C)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=z0();let c;const g=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return X0(e).Wt({index:"collectionGroupOverlayIndex",range:g},(b,C,R)=>{const P=$I(this.M,C);a.size()<i||P.largestBatchId===c?(a.set(P.getKey(),P),c=P.largestBatchId):R.done()}).next(()=>a)}Xt(e,t){return X0(e).put(function(r,i,a){const[c,g,b]=J1(i,a.mutation.key);return{userId:i,collectionPath:g,documentId:b,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Y0(r.Jt,a.mutation)}}(this.M,this.userId,t))}}function X0(n){return gs(n,"documentOverlays")}class bg{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Xr(e.integerValue));else if("doubleValue"in e){const r=Xr(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),Gv(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(ih(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?be(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):nn()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const i of Object.keys(r))this.re(i,t),this.te(r[i],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const i of r)this.te(i,t)}ae(e,t){this.ne(t,37),Ut.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function gO(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function tR(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=gO(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}bg.fe=new bg;class mO{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const i=t.codePointAt(0);this._e(240|i>>>18),this._e(128|63&i>>>12),this._e(128|63&i>>>6),this._e(128|63&i)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const i=t.codePointAt(0);this.ge(240|i>>>18),this.ge(128|63&i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i)}}this.ye()}Te(e){const t=this.Ee(e),r=tR(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Re(e){const t=this.Ee(e),r=tR(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class vO{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class yO{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class eb{constructor(){this.De=new mO,this.Ce=new vO(this.De),this.xe=new yO(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Eg{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Eg(this.indexId,this.documentKey,this.arrayValue,r)}}function Ag(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=nR(n.arrayValue,e.arrayValue),0!==t?t:(t=nR(n.directionalValue,e.directionalValue),0!==t?t:Ut.comparator(n.documentKey,e.documentKey)))}function nR(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class _O{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=hr(e);if(void 0!==t&&!this.Be(t))return!1;const r=Mi(e);let i=0,a=0;for(;i<r.length&&this.Be(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Fe){const c=r[i];if(!this.Le(this.Fe,c)||!this.Ue(this.Me[a++],c))return!1;++i}for(;i<r.length;++i){const c=r[i];if(a>=this.Me.length||!this.Ue(this.Me[a++],c))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class bO{constructor(){this.qe=new YI}addToCollectionParentIndex(e,t){return this.qe.add(t),Je.resolve()}getCollectionParents(e,t){return Je.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return Je.resolve()}deleteFieldIndex(e,t){return Je.resolve()}getDocumentsMatchingTarget(e,t){return Je.resolve(null)}getIndexType(e,t){return Je.resolve(0)}getFieldIndexes(e,t){return Je.resolve([])}getNextCollectionGroupToUpdate(e){return Je.resolve(null)}getMinOffset(e,t){return Je.resolve(Io.min())}updateCollectionGroup(e,t,r){return Je.resolve()}updateIndexEntries(e,t){return Je.resolve()}}class YI{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Er(ar.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Er(ar.comparator)).toArray()}}const aC=new Uint8Array(0);class EO{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new YI,this.Ge=new lh(r=>fg(r),(r,i)=>B0(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const a={collectionId:r,parent:So(i)};return rR(e).put(a)}return Je.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Zw(t),""],!1,!0);return rR(e).qt(i).next(a=>{for(const c of a){if(c.collectionId!==t)break;r.push(uc(c.parent))}return r})}addFieldIndex(e,t){const r=lC(e),i={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;return delete i.indexId,r.add(i).next()}deleteFieldIndex(e,t){const r=lC(e),i=uC(e),a=tb(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=tb(e);let i=!0;const a=new Map;return Je.forEach(this.Qe(t),c=>this.je(e,c).next(g=>{i&&(i=!!g),a.set(c,g)})).next(()=>{if(i){let c=Ar();const g=[];return Je.forEach(a,(b,C)=>{var R;St("IndexedDbIndexManager",`Using index ${R=b,`id=${R.indexId}|cg=${R.collectionGroup}|f=${R.fields.map(Rt=>`${Rt.fieldPath}:${Rt.kind}`).join(",")}`} to execute ${fg(t)}`);const P=function(Rt,Ct){const vn=hr(Ct);if(void 0===vn)return null;for(const gn of Jw(Rt,vn.fieldPath))switch(gn.op){case"array-contains-any":return gn.value.arrayValue.values||[];case"array-contains":return[gn.value]}return null}(C,b),Z=function(Rt,Ct){const vn=new Map;for(const gn of Mi(Ct))for(const Hn of Jw(Rt,gn.fieldPath))switch(Hn.op){case"==":case"in":vn.set(gn.fieldPath.canonicalString(),Hn.value);break;case"not-in":case"!=":return vn.set(gn.fieldPath.canonicalString(),Hn.value),Array.from(vn.values())}return null}(C,b),Y=function(Rt,Ct){const vn=[];let gn=!0;for(const Hn of Mi(Ct)){const jn=0===Hn.kind?XM(Rt,Hn.fieldPath,Rt.startAt):e1(Rt,Hn.fieldPath,Rt.startAt);vn.push(jn.value),gn&&(gn=jn.inclusive)}return new ah(vn,gn)}(C,b),ne=function(Rt,Ct){const vn=[];let gn=!0;for(const Hn of Mi(Ct)){const jn=0===Hn.kind?e1(Rt,Hn.fieldPath,Rt.endAt):XM(Rt,Hn.fieldPath,Rt.endAt);vn.push(jn.value),gn&&(gn=jn.inclusive)}return new ah(vn,gn)}(C,b),Se=this.We(b,C,Y),rt=this.We(b,C,ne),ot=this.ze(b,C,Z),_t=this.He(b.indexId,P,Se,Y.inclusive,rt,ne.inclusive,ot);return Je.forEach(_t,Rt=>r.Gt(Rt,t.limit).next(Ct=>{Ct.forEach(vn=>{const gn=Ut.fromSegments(vn.documentKey);c.has(gn)||(c=c.add(gn),g.push(gn))})}))}).next(()=>g)}return Je.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,r,i,a,c,g){const b=(null!=t?t.length:1)*Math.max(r.length,a.length),C=b/(null!=t?t.length:1),R=[];for(let P=0;P<b;++P){const Z=t?this.Je(t[P/C]):aC,Y=this.Ye(e,Z,r[P%C],i),ne=this.Xe(e,Z,a[P%C],c),Se=g.map(rt=>this.Ye(e,Z,rt,!0));R.push(...this.createRange(Y,ne,Se))}return R}Ye(e,t,r,i){const a=new Eg(e,Ut.empty(),t,r);return i?a:a.ke()}Xe(e,t,r,i){const a=new Eg(e,Ut.empty(),t,r);return i?a.ke():a}je(e,t){const r=new _O(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let c=null;for(const g of a)r.$e(g)&&(!c||g.fields.length>c.fields.length)&&(c=g);return c})}getIndexType(e,t){let r=2;return Je.forEach(this.Qe(t),i=>this.je(e,i).next(a=>{a?0!==r&&a.fields.length<function(c){let g=new Er(_i.comparator),b=!1;for(const C of c.filters){const R=C;R.field.isKeyField()||("array-contains"===R.op||"array-contains-any"===R.op?b=!0:g=g.add(R.field))}for(const C of c.orderBy)C.field.isKeyField()||(g=g.add(C.field));return g.size+(b?1:0)}(i)&&(r=1):r=0})).next(()=>r)}Ze(e,t){const r=new eb;for(const i of Mi(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const c=r.Ne(i.kind);bg.fe.Zt(a,c)}return r.Se()}Je(e){const t=new eb;return bg.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new eb;return bg.fe.Zt(y(this.databaseId,t),r.Ne(function(i){const a=Mi(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.Se()}ze(e,t,r){if(null===r)return[];let i=[];i.push(new eb);let a=0;for(const c of Mi(e)){const g=r[a++];for(const b of i)if(this.en(t,c.fieldPath)&&I(g))i=this.nn(i,c,g);else{const C=b.Ne(c.kind);bg.fe.Zt(g,C)}}return this.sn(i)}We(e,t,r){return this.ze(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const i=[...e],a=[];for(const c of r.arrayValue.values||[])for(const g of i){const b=new eb;b.seed(g.Se()),bg.fe.Zt(c,b.Ne(t.kind)),a.push(b)}return a}en(e,t){return!!e.filters.find(r=>r instanceof Vs&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=lC(e),i=uC(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(a=>{const c=[];return Je.forEach(a,g=>i.get([g.indexId,this.uid]).next(b=>{c.push(function(C,R){const P=R?new vd(R.sequenceNumber,new Io(_g(R.readTime),new Ut(uc(R.documentKey)),R.largestBatchId)):vd.empty(),Z=C.fields.map(([Y,ne])=>new gl(_i.fromServerFormat(Y),ne));return new Wn(C.indexId,C.collectionGroup,Z,P)}(g,b))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:zn(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=lC(e),a=uC(e);return this.rn(e).next(c=>i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>Je.forEach(g,b=>{return a.put({indexId:b.indexId,uid:this.user.uid||"",sequenceNumber:c,readTime:yg((Z=r).readTime),documentKey:So(Z.documentKey.path),largestBatchId:Z.largestBatchId});var Z})))}updateIndexEntries(e,t){const r=new Map;return Je.forEach(t,(i,a)=>{const c=r.get(i.collectionGroup);return(c?Je.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(g=>(r.set(i.collectionGroup,g),Je.forEach(g,b=>this.on(e,i,b).next(C=>{const R=this.un(a,b);return C.isEqual(R)?Je.resolve():this.an(e,a,b,C,R)}))))})}cn(e,t,r,i){return tb(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,i){return tb(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const i=tb(e);let a=new Er(Ag);return i.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(c,g)=>{a=a.add(new Eg(r.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>a)}un(e,t){let r=new Er(Ag);const i=this.Ze(t,e);if(null==i)return r;const a=hr(t);if(null!=a){const c=e.data.field(a.fieldPath);if(I(c))for(const g of c.arrayValue.values||[])r=r.add(new Eg(t.indexId,e.key,this.Je(g),i))}else r=r.add(new Eg(t.indexId,e.key,aC,i));return r}an(e,t,r,i,a){St("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(g,b,C,R,P){const Z=g.getIterator(),Y=b.getIterator();let ne=Wv(Z),Se=Wv(Y);for(;ne||Se;){let rt=!1,ot=!1;if(ne&&Se){const _t=C(ne,Se);_t<0?ot=!0:_t>0&&(rt=!0)}else null!=ne?ot=!0:rt=!0;rt?(R(Se),Se=Wv(Y)):ot?(P(ne),ne=Wv(Z)):(ne=Wv(Z),Se=Wv(Y))}}(i,a,Ag,g=>{c.push(this.cn(e,t,r,g))},g=>{c.push(this.hn(e,t,r,g))}),Je.waitFor(c)}rn(e){let t=1;return uC(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,g)=>Ag(c,g)).filter((c,g,b)=>!g||0!==Ag(c,b[g-1]));const i=[];i.push(e);for(const c of r){const g=Ag(c,e),b=Ag(c,t);if(0===g)i[0]=e.ke();else if(g>0&&b<0)i.push(c),i.push(c.ke());else if(b>0)break}i.push(t);const a=[];for(let c=0;c<i.length;c+=2)a.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,aC,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,aC,[]]));return a}getMinOffset(e,t){let r;return Je.forEach(this.Qe(t),i=>this.je(e,i).next(a=>{a?(!r||qv(a.indexState.offset,r)<0)&&(r=a.indexState.offset):r=Io.min()})).next(()=>r)}}function rR(n){return gs(n,"collectionParents")}function tb(n){return gs(n,"indexEntries")}function lC(n){return gs(n,"indexConfiguration")}function uC(n){return gs(n,"indexState")}const iR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ta{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ta(e,ta.DEFAULT_COLLECTION_PERCENTILE,ta.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function sR(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],c=IDBKeyRange.only(t.batchId);let g=0;const b=r.Wt({range:c},(R,P,Z)=>(g++,Z.delete()));a.push(b.next(()=>{Pn(1===g)}));const C=[];for(const R of t.mutations){const P=j1(e,R.key.path,t.batchId);a.push(i.delete(P)),C.push(R.key)}return Je.waitFor(a).next(()=>C)}function cC(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw nn();e=n.noDocument}return JSON.stringify(e).length}ta.DEFAULT_COLLECTION_PERCENTILE=10,ta.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ta.DEFAULT=new ta(41943040,ta.DEFAULT_COLLECTION_PERCENTILE,ta.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ta.DISABLED=new ta(-1,0,0);class QI{constructor(e,t,r,i){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=i,this.ln={}}static Yt(e,t,r,i){Pn(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new QI(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ch(e).Wt({index:"userMutationsIndex",range:r},(i,a,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=ty(e),c=ch(e);return c.add({}).next(g=>{Pn("number"==typeof g);const b=new zI(g,t,r,i),C=function(Z,Y,ne){const Se=ne.baseMutations.map(ot=>Y0(Z.Jt,ot)),rt=ne.mutations.map(ot=>Y0(Z.Jt,ot));return{userId:Y,batchId:ne.batchId,localWriteTimeMs:ne.localWriteTime.toMillis(),baseMutations:Se,mutations:rt}}(this.M,this.userId,b),R=[];let P=new Er((Z,Y)=>zn(Z.canonicalString(),Y.canonicalString()));for(const Z of i){const Y=j1(this.userId,Z.key.path,g);P=P.add(Z.key.path.popLast()),R.push(c.put(C)),R.push(a.put(Y,$P))}return P.forEach(Z=>{R.push(this.indexManager.addToCollectionParentIndex(e,Z))}),e.addOnCommittedListener(()=>{this.ln[g]=b.keys()}),Je.waitFor(R).next(()=>b)})}lookupMutationBatch(e,t){return ch(e).get(t).next(r=>r?(Pn(r.userId===this.userId),ey(this.M,r)):null)}fn(e,t){return this.ln[t]?Je.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.ln[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return ch(e).Wt({index:"userMutationsIndex",range:i},(c,g,b)=>{g.userId===this.userId&&(Pn(g.batchId>=r),a=ey(this.M,g)),b.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return ch(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(i,a,c)=>{r=a.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ch(e).qt("userMutationsIndex",t).next(r=>r.map(i=>ey(this.M,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=iC(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return ty(e).Wt({range:i},(c,g,b)=>{const[C,R,P]=c,Z=uc(R);if(C===this.userId&&t.path.isEqual(Z))return ch(e).get(P).next(Y=>{if(!Y)throw nn();Pn(Y.userId===this.userId),a.push(ey(this.M,Y))});b.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Er(zn);const i=[];return t.forEach(a=>{const c=iC(this.userId,a.path),g=IDBKeyRange.lowerBound(c),b=ty(e).Wt({range:g},(C,R,P)=>{const[Z,Y,ne]=C,Se=uc(Y);Z===this.userId&&a.path.isEqual(Se)?r=r.add(ne):P.done()});i.push(b)}),Je.waitFor(i).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=iC(this.userId,r),c=IDBKeyRange.lowerBound(a);let g=new Er(zn);return ty(e).Wt({range:c},(b,C,R)=>{const[P,Z,Y]=b,ne=uc(Z);P===this.userId&&r.isPrefixOf(ne)?ne.length===i&&(g=g.add(Y)):R.done()}).next(()=>this.dn(e,g))}dn(e,t){const r=[],i=[];return t.forEach(a=>{i.push(ch(e).get(a).next(c=>{if(null===c)throw nn();Pn(c.userId===this.userId),r.push(ey(this.M,c))}))}),Je.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return sR(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),Je.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Je.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return ty(e).Wt({range:r},(a,c,g)=>{if(a[0]===this.userId){const b=uc(a[1]);i.push(b)}else g.done()}).next(()=>{Pn(0===i.length)})})}containsKey(e,t){return oR(e,this.userId,t)}wn(e){return aR(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function oR(n,e,t){const r=iC(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let c=!1;return ty(n).Wt({range:a,jt:!0},(g,b,C)=>{const[R,P,Z]=g;R===e&&P===i&&(c=!0),C.done()}).next(()=>c)}function ch(n){return gs(n,"mutations")}function ty(n){return gs(n,"documentMutations")}function aR(n){return gs(n,"mutationQueues")}class wg{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new wg(0)}static yn(){return new wg(-1)}}class AO{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new wg(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>Cn.fromTimestamp(new ui(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.In(e,i)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ny(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(Pn(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return ny(e).Wt((c,g)=>{const b=J0(g);b.sequenceNumber<=t&&null===r.get(b.targetId)&&(i++,a.push(this.removeTargetData(e,b)))}).next(()=>Je.waitFor(a)).next(()=>i)}forEachTarget(e,t){return ny(e).Wt((r,i)=>{const a=J0(i);t(a)})}pn(e){return lR(e).get("targetGlobalKey").next(t=>(Pn(null!==t),t))}In(e,t){return lR(e).put("targetGlobalKey",t)}Tn(e,t){return ny(e).put(Q1(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=fg(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return ny(e).Wt({range:i,index:"queryTargetsIndex"},(c,g,b)=>{const C=J0(g);B0(t,C.target)&&(a=C,b.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=dh(e);return t.forEach(c=>{const g=So(c.path);i.push(a.put({targetId:r,path:g})),i.push(this.referenceDelegate.addReference(e,r,c))}),Je.waitFor(i)}removeMatchingKeys(e,t,r){const i=dh(e);return Je.forEach(t,a=>{const c=So(a.path);return Je.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=dh(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=dh(e);let a=Ar();return i.Wt({range:r,jt:!0},(c,g,b)=>{const C=uc(c[1]),R=new Ut(C);a=a.add(R)}).next(()=>a)}containsKey(e,t){const r=So(t.path),i=IDBKeyRange.bound([r],[Zw(r)],!1,!0);let a=0;return dh(e).Wt({index:"documentTargetsIndex",jt:!0,range:i},([c,g],b,C)=>{0!==c&&(a++,C.done())}).next(()=>a>0)}Et(e,t){return ny(e).get(t).next(r=>r?J0(r):null)}}function ny(n){return gs(n,"targets")}function lR(n){return gs(n,"targetGlobal")}function dh(n){return gs(n,"targetDocuments")}function Cg(n){return JI.apply(this,arguments)}function JI(){return JI=(0,nt.Z)(function*(n){if(n.code!==Ke.FAILED_PRECONDITION||n.message!==q1)throw n;St("LocalStore","Unexpectedly lost primary lease")}),JI.apply(this,arguments)}function uR([n,e],[t,r]){const i=zn(n,t);return 0===i?zn(e,r):i}class wO{constructor(e){this.An=e,this.buffer=new Er(uR),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();uR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class CO{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;St("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,nt.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){mg(i)?St("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Cg(i)}yield t.Sn(e)}))}}class DO{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Je.resolve(ea.A);const r=new wO(t);return this.Dn.forEachTarget(e,i=>r.Pn(i.sequenceNumber)).next(()=>this.Dn.xn(e,i=>r.Pn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector","Garbage collection skipped; disabled"),Je.resolve(iR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iR):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,i,a,c,g,b,C;const R=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(P=>(P>this.params.maximumSequenceNumbersToCollect?(St("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${P}`),i=this.params.maximumSequenceNumbersToCollect):i=P,c=Date.now(),this.nthSequenceNumber(e,i))).next(P=>(r=P,g=Date.now(),this.removeTargets(e,r,t))).next(P=>(a=P,b=Date.now(),this.removeOrphanedDocuments(e,r))).next(P=>(C=Date.now(),Bv()<=Ju.in.DEBUG&&St("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-R}ms\n\tDetermined least recently used ${i} in `+(g-c)+`ms\n\tRemoved ${a} targets in `+(b-g)+`ms\n\tRemoved ${P} documents in `+(C-b)+`ms\nTotal Duration: ${C-R}ms`),Je.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:P})))}}class TO{constructor(e,t){this.db=e,this.garbageCollector=new DO(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,i)=>t(i))}addReference(e,t,r){return dC(e,r)}removeReference(e,t,r){return dC(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return dC(e,t)}On(e,t){return function(r,i){let a=!1;return aR(r).zt(c=>oR(r,c,i).next(g=>(g&&(a=!0),Je.resolve(!g)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Mn(e,(c,g)=>{if(g<=t){const b=this.On(e,c).next(C=>{if(!C)return a++,r.getEntry(e,c).next(()=>(r.removeEntry(c,Cn.min()),dh(e).delete([0,So(c.path)])))});i.push(b)}}).next(()=>Je.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return dC(e,t)}Mn(e,t){const r=dh(e);let i,a=ea.A;return r.Wt({index:"documentTargetsIndex"},([c,g],{path:b,sequenceNumber:C})=>{0===c?(a!==ea.A&&t(new Ut(uc(i)),a),a=C,i=b):a=ea.A}).next(()=>{a!==ea.A&&t(new Ut(uc(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function dC(n,e){return dh(n).put((r=n.currentSequenceNumber,{targetId:0,path:So(e.path),sequenceNumber:r}));var r}class cR{constructor(){this.changes=new lh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Je.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class IO{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Dg(e).put(r)}removeEntry(e,t,r){return Dg(e).delete(function(i,a){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],oC(a),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=Ht.newInvalidDocument(t);return Dg(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(nb(t))},(i,a)=>{r=this.$n(t,a)}).next(()=>r)}Bn(e,t){let r={size:0,document:Ht.newInvalidDocument(t)};return Dg(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(nb(t))},(i,a)=>{r={document:this.$n(t,a),size:cC(a)}}).next(()=>r)}getEntries(e,t){let r=vl();return this.Ln(e,t,(i,a)=>{const c=this.$n(i,a);r=r.insert(i,c)}).next(()=>r)}Un(e,t){let r=vl(),i=new $r(Ut.comparator);return this.Ln(e,t,(a,c)=>{const g=this.$n(a,c);r=r.insert(a,g),i=i.insert(a,cC(c))}).next(()=>({documents:r,qn:i}))}Ln(e,t,r){if(t.isEmpty())return Je.resolve();let i=new Er(hR);t.forEach(b=>i=i.add(b));const a=IDBKeyRange.bound(nb(i.first()),nb(i.last())),c=i.getIterator();let g=c.getNext();return Dg(e).Wt({index:"documentKeyIndex",range:a},(b,C,R)=>{const P=Ut.fromSegments([...C.prefixPath,C.collectionGroup,C.documentId]);for(;g&&hR(g,P)<0;)r(g,null),g=c.getNext();g&&g.isEqual(P)&&(r(g,C),g=c.hasNext()?c.getNext():null),g?R.Ut(nb(g)):R.done()}).next(()=>{for(;g;)r(g,null),g=c.hasNext()?c.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),oC(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Dg(e).qt(IDBKeyRange.bound(i,a,!0)).next(c=>{let g=vl();for(const b of c){const C=this.$n(Ut.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);g=g.insert(C.key,C)}return g})}getAllFromCollectionGroup(e,t,r,i){let a=vl();const c=fR(t,r),g=fR(t,Io.max());return Dg(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,g,!0)},(b,C,R)=>{const P=this.$n(Ut.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);a=a.insert(P.key,P),a.size===i&&R.done()}).next(()=>a)}newChangeBuffer(e){return new SO(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return dR(e).get("remoteDocumentGlobalKey").next(t=>(Pn(!!t),t))}Fn(e,t){return dR(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function hO(n,e){let t;if(e.document)t=P1(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Ut.fromSegments(e.noDocument.path),i=_g(e.noDocument.readTime);t=Ht.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return nn();{const r=Ut.fromSegments(e.unknownDocument.path),i=_g(e.unknownDocument.version);t=Ht.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new ui(r[0],r[1]);return Cn.fromTimestamp(i)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(Cn.min()))return r}return Ht.newInvalidDocument(e)}}class SO extends cR{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new lh(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Er((a,c)=>zn(a.canonicalString(),c.canonicalString()));return this.changes.forEach((a,c)=>{const g=this.Gn.get(a);if(t.push(this.Kn.removeEntry(e,a,g.readTime)),c.isValidDocument()){const b=Y1(this.Kn.M,c);i=i.add(a.path.popLast()),r+=cC(b)-g.size,t.push(this.Kn.addEntry(e,a,b))}else if(r-=g.size,this.trackRemovals){const b=Y1(this.Kn.M,c.convertToNoDocument(Cn.min()));t.push(this.Kn.addEntry(e,a,b))}}),i.forEach(a=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Kn.updateMetadata(e,r)),Je.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:i})=>(i.forEach((a,c)=>{this.Gn.set(a,{size:c,readTime:r.get(a).readTime})}),r))}}function dR(n){return gs(n,"remoteDocumentGlobal")}function Dg(n){return gs(n,"remoteDocumentsV14")}function nb(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function fR(n,e){const t=e.documentKey.path.toArray();return[n,oC(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function hR(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=zn(t[a],r[a]),i)return i;return i=zn(t.length,r.length),i||(i=zn(t[t.length-2],r[r.length-2]),i||zn(t[t.length-1],r[r.length-1]))}class xO{constructor(e){this.M=e}kt(e,t,r,i){const a=new sC("createOrUpgrade",t);var g;r<1&&i>=1&&(e.createObjectStore("owner"),(g=e).createObjectStore("mutationQueues",{keyPath:"userId"}),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",H1,{unique:!0}),g.createObjectStore("documentMutations"),pR(e),function(g){g.createObjectStore("remoteDocuments")}(e));let c=Je.resolve();return r<3&&i>=3&&(0!==r&&(function(g){g.deleteObjectStore("targetDocuments"),g.deleteObjectStore("targets"),g.deleteObjectStore("targetGlobal")}(e),pR(e)),c=c.next(()=>function(g){const b=g.store("targetGlobal"),C={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Cn.min().toTimestamp(),targetCount:0};return b.put("targetGlobalKey",C)}(a))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(g,b){return b.store("mutations").qt().next(C=>{g.deleteObjectStore("mutations"),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",H1,{unique:!0});const R=b.store("mutations"),P=C.map(Z=>R.put(Z));return Je.waitFor(P)})}(e,a))),c=c.next(()=>{!function(g){g.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Qn(a))),r<6&&i>=6&&(c=c.next(()=>(function(g){g.createObjectStore("remoteDocumentGlobal")}(e),this.jn(a)))),r<7&&i>=7&&(c=c.next(()=>this.Wn(a))),r<8&&i>=8&&(c=c.next(()=>this.zn(e,a))),r<9&&i>=9&&(c=c.next(()=>{!function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.Hn(a))),r<11&&i>=11&&(c=c.next(()=>{(function(g){g.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(g){g.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(g){const b=g.createObjectStore("documentOverlays",{keyPath:oO});b.createIndex("collectionPathOverlayIndex",aO,{unique:!1}),b.createIndex("collectionGroupOverlayIndex",lO,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(g){const b=g.createObjectStore("remoteDocumentsV14",{keyPath:KP});b.createIndex("documentKeyIndex",YP),b.createIndex("collectionGroupIndex",QP)}(e)).next(()=>this.Jn(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>{!function(g){g.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),g.createObjectStore("indexState",{keyPath:nO}).createIndex("sequenceNumberIndex",rO,{unique:!1}),g.createObjectStore("indexEntries",{keyPath:iO}).createIndex("documentKeyIndex",sO,{unique:!1})}(e)})),c}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,i)=>{t+=cC(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(i=>Je.forEach(i,a=>{const c=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",c).next(g=>Je.forEach(g,b=>{Pn(b.userId===a.userId);const C=ey(this.M,b);return sR(e,a.userId,C).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Wt((c,g)=>{const b=new ar(c),C=[0,So(b)];a.push(t.get(C).next(R=>R?Je.resolve():t.put({targetId:0,path:So(b),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>Je.waitFor(a))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:tO});const r=t.store("collectionParents"),i=new YI,a=c=>{if(i.add(c)){const g=c.lastSegment(),b=c.popLast();return r.put({collectionId:g,parent:So(b)})}};return t.store("remoteDocuments").Wt({jt:!0},(c,g)=>{const b=new ar(c);return a(b.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([c,g,b],C)=>{const R=uc(g);return a(R.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,i)=>{const a=J0(i),c=Q1(this.M,a);return t.put(c)})}Jn(e,t){const r=t.store("remoteDocuments"),i=[];return r.Wt((a,c)=>{const g=t.store("remoteDocumentsV14"),b=(C=c,C.document?new Ut(ar.fromString(C.document.name).popFirst(5)):C.noDocument?Ut.fromSegments(C.noDocument.path):C.unknownDocument?Ut.fromSegments(C.unknownDocument.path):nn()).path.toArray();var C;const R={prefixPath:b.slice(0,b.length-2),collectionGroup:b[b.length-2],documentId:b[b.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(g.put(R))}).next(()=>Je.waitFor(i))}}function pR(n){n.createObjectStore("targetDocuments",{keyPath:XP}).createIndex("documentTargetsIndex",eO,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",JP,{unique:!0}),n.createObjectStore("targetGlobal")}const XI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class eS{constructor(e,t,r,i,a,c,g,b,C,R,P=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=a,this.window=c,this.document=g,this.Xn=C,this.Zn=R,this.ts=P,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=Z=>Promise.resolve(),!eS.vt())throw new gt(Ke.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new TO(this,i),this.hs=t+"main",this.M=new K1(b),this.ls=new su(this.hs,this.ts,new xO(this.M)),this.fs=new AO(this.referenceDelegate,this.M),this.ds=new IO(this.M),this._s=new pO,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===R&&yi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new gt(Ke.FAILED_PRECONDITION,XI);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new ea(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,nt.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,nt.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,nt.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>fC(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if(mg(e))return St("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return St("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return rb(e).get("owner").next(t=>Je.resolve(this.Ps(t)))}Vs(e){return fC(e).delete(this.clientId)}vs(){var e=this;return(0,nt.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=gs(r,"clientMetadata");return i.qt().next(a=>{const c=e.Ds(a,18e5),g=a.filter(b=>-1===c.indexOf(b));return Je.forEach(g,b=>i.delete(b.clientId)).next(()=>g)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?Je.resolve(!0):rb(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new gt(Ke.FAILED_PRECONDITION,XI);return!1}}return!(!this.networkEnabled||!this.inForeground)||fC(e).qt().next(r=>void 0===this.Ds(r,5e3).find(i=>{if(this.clientId!==i.clientId){const c=!this.inForeground&&i.inForeground,g=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||c&&g)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&St("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,nt.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new $1(t,ea.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>fC(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return QI.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new EO(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return KI.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){St("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=14===(c=this.ts)?cO:13===c?z1:12===c?uO:11===c?G1:void nn();var c;let g;return this.ls.runTransaction(e,i,a,b=>(g=new $1(b,this.es?this.es.next():ea.A),"readwrite-primary"===t?this.Es(g).next(C=>!!C||this.As(g)).next(C=>{if(!C)throw yi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new gt(Ke.FAILED_PRECONDITION,q1);return r(g)}).next(C=>this.bs(g).next(()=>C)):this.$s(g).next(()=>r(g)))).then(b=>(g.raiseOnCommittedEvent(),b))}$s(e){return rb(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.Ps(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new gt(Ke.FAILED_PRECONDITION,XI)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return rb(e).put("owner",t)}static vt(){return su.vt()}Rs(e){const t=rb(e);return t.get("owner").next(r=>this.Ps(r)?(St("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Je.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(yi(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,Xn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return St("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return yi("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){yi("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function rb(n){return gs(n,"owner")}function fC(n){return gs(n,"clientMetadata")}function tS(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class MO{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(i=>{for(const a of r)a.applyToLocalView(i);return i})}qs(e,t){e.forEach((r,i)=>{for(const a of t)a.applyToLocalView(i)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return Ut.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.js(e,t.path):PI(t)?this.Ws(e,t,r):this.zs(e,t,r);var i}js(e,t){return this.Ls(e,new Ut(t)).next(r=>{let i=BI();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Ws(e,t,r){const i=t.collectionGroup;let a=BI();return this.indexManager.getCollectionParents(e,i).next(c=>Je.forEach(c,g=>{const b=(C=t,R=g.child(i),new yd(R,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,R;return this.zs(e,b,r).next(C=>{C.forEach((R,P)=>{a=a.insert(R,P)})})}).next(()=>a))}zs(e,t,r){let i;return this.ds.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(a=>{for(const c of a)for(const g of c.mutations){const b=g.key;let C=i.get(b);null==C&&(C=Ht.newInvalidDocument(b),i=i.insert(b,C)),LI(g,C,c.localWriteTime),C.isFoundDocument()||(i=i.remove(b))}}).next(()=>(i.forEach((a,c)=>{FI(t,c)||(i=i.remove(a))}),i))}}class nS{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=i}static Ys(e,t){let r=Ar(),i=Ar();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new nS(e,t.fromCache,r,i)}}class gR{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,r,i){return this.ti(e,t).next(a=>a||this.ei(e,t,i,r)).next(a=>a||this.ni(e,t))}ti(e,t){return Je.resolve(null)}ei(e,t,r,i){return function _P(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||i.isEqual(Cn.min())?this.ni(e,t):this.Zs.Ks(e,r).next(a=>{const c=this.si(t,a);return this.ii(t,c,r,i)?this.ni(e,t):(Bv()<=Ju.in.DEBUG&&St("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),OI(t)),this.ri(e,c,t,zv(i,-1)))})}si(e,t){let r=new Er(l1(e));return t.forEach((i,a)=>{FI(e,a)&&(r=r.add(a))}),r}ii(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ni(e,t){return Bv()<=Ju.in.DEBUG&&St("QueryEngine","Using full collection scan to execute query:",OI(t)),this.Zs.Qs(e,t,Io.min())}ri(e,t,r,i){return this.Zs.Qs(e,r,i).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}class RO{constructor(e,t,r,i){this.persistence=e,this.oi=t,this.M=i,this.ui=new $r(zn),this.ai=new lh(a=>fg(a),B0),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(r)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new MO(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function mR(n,e,t,r){return new RO(n,e,t,r)}function vR(n,e){return rS.apply(this,arguments)}function rS(){return rS=(0,nt.Z)(function*(n,e){const t=zt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.Bs.getAllMutationBatches(r).next(a=>(i=a,t.li(e),t.Bs.getAllMutationBatches(r))).next(a=>{const c=[],g=[];let b=Ar();for(const C of i){c.push(C.batchId);for(const R of C.mutations)b=b.add(R.key)}for(const C of a){g.push(C.batchId);for(const R of C.mutations)b=b.add(R.key)}return t.fi.Ks(r,b).next(C=>({di:C,removedBatchIds:c,addedBatchIds:g}))})})}),rS.apply(this,arguments)}function kO(n,e){const t=zt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.hi.newChangeBuffer({trackRemovals:!0});return function(c,g,b,C){const R=b.batch,P=R.keys();let Z=Je.resolve();return P.forEach(Y=>{Z=Z.next(()=>C.getEntry(g,Y)).next(ne=>{const Se=b.docVersions.get(Y);Pn(null!==Se),ne.version.compareTo(Se)<0&&(R.applyToRemoteDocument(ne,b),ne.isValidDocument()&&(ne.setReadTime(b.commitVersion),C.addEntry(ne)))})}),Z.next(()=>c.Bs.removeMutationBatch(g,R))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.fi.Ks(r,i))})}function yR(n){const e=zt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function NO(n,e){const t=zt(n),r=e.snapshotVersion;let i=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.hi.newChangeBuffer({trackRemovals:!0});i=t.ui;const g=[];e.targetChanges.forEach((C,R)=>{const P=i.get(R);if(!P)return;g.push(t.fs.removeMatchingKeys(a,C.removedDocuments,R).next(()=>t.fs.addMatchingKeys(a,C.addedDocuments,R)));let Z=P.withSequenceNumber(a.currentSequenceNumber);var Y,ne,Se;e.targetMismatches.has(R)?Z=Z.withResumeToken(bi.EMPTY_BYTE_STRING,Cn.min()).withLastLimboFreeSnapshotVersion(Cn.min()):C.resumeToken.approximateByteSize()>0&&(Z=Z.withResumeToken(C.resumeToken,r)),i=i.insert(R,Z),ne=Z,Se=C,(0===(Y=P).resumeToken.approximateByteSize()||ne.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=3e8||Se.addedDocuments.size+Se.modifiedDocuments.size+Se.removedDocuments.size>0)&&g.push(t.fs.updateTargetData(a,Z))});let b=vl();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(a,C))}),g.push(_R(a,c,e.documentUpdates).next(C=>{b=C})),!r.isEqual(Cn.min())){const C=t.fs.getLastRemoteSnapshotVersion(a).next(R=>t.fs.setTargetsMetadata(a,a.currentSequenceNumber,r));g.push(C)}return Je.waitFor(g).next(()=>c.apply(a)).next(()=>t.fi.Gs(a,b)).next(()=>b)}).then(a=>(t.ui=i,a))}function _R(n,e,t){let r=Ar();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let a=vl();return t.forEach((c,g)=>{const b=i.get(c);g.isNoDocument()&&g.version.isEqual(Cn.min())?(e.removeEntry(c,g.readTime),a=a.insert(c,g)):!b.isValidDocument()||g.version.compareTo(b.version)>0||0===g.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(g),a=a.insert(c,g)):St("LocalStore","Ignoring outdated watch update for ",c,". Current version:",b.version," Watch version:",g.version)}),a})}function PO(n,e){const t=zt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function ry(n,e){const t=zt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.fs.getTargetData(r,e).next(a=>a?(i=a,Je.resolve(i)):t.fs.allocateTargetId(r).next(c=>(i=new uh(e,c,0,r.currentSequenceNumber),t.fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ui=t.ui.insert(r.targetId,r),t.ai.set(e,r.targetId)),r})}function iy(n,e,t){return iS.apply(this,arguments)}function iS(){return iS=(0,nt.Z)(function*(n,e,t){const r=zt(n),i=r.ui.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!mg(c))throw c;St("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.ui=r.ui.remove(e),r.ai.delete(i.target)}),iS.apply(this,arguments)}function hC(n,e,t){const r=zt(n);let i=Cn.min(),a=Ar();return r.persistence.runTransaction("Execute query","readonly",c=>function(g,b,C){const R=zt(g),P=R.ai.get(C);return void 0!==P?Je.resolve(R.ui.get(P)):R.fs.getTargetData(b,C)}(r,c,ml(e)).next(g=>{if(g)return i=g.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(c,g.targetId).next(b=>{a=b})}).next(()=>r.oi.Qs(c,e,t?i:Cn.min(),t?a:Ar())).next(g=>(AR(r,a1(e),g),{documents:g,_i:a})))}function bR(n,e){const t=zt(n),r=zt(t.fs),i=t.ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.Et(a,e).next(c=>c?c.target:null))}function ER(n,e){const t=zt(n),r=t.ci.get(e)||Cn.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.hi.getAllFromCollectionGroup(i,e,zv(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(AR(t,e,i),i))}function AR(n,e,t){let r=Cn.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.ci.set(e,r)}function sS(){return sS=(0,nt.Z)(function*(n,e,t,r){const i=zt(n);let a=Ar(),c=vl();for(const C of t){const R=e.wi(C.metadata.name);C.document&&(a=a.add(R));const P=e.mi(C);P.setReadTime(e.gi(C.metadata.readTime)),c=c.insert(R,P)}const g=i.hi.newChangeBuffer({trackRemovals:!0}),b=yield ry(i,(C=r,ml($v(ar.fromString(`__bundle__/docs/${C}`)))));var C;return i.persistence.runTransaction("Apply bundle documents","readwrite",C=>_R(C,g,c).next(R=>(g.apply(C),R)).next(R=>i.fs.removeMatchingKeysForTargetId(C,b.targetId).next(()=>i.fs.addMatchingKeys(C,a,b.targetId)).next(()=>i.fi.Gs(C,R)).next(()=>R)))}),sS.apply(this,arguments)}function FO(n,e){return oS.apply(this,arguments)}function oS(){return oS=(0,nt.Z)(function*(n,e,t=Ar()){const r=yield ry(n,ml(ZI(e.bundledQuery))),i=zt(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const c=ps(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i._s.saveNamedQuery(a,e);const g=r.withResumeToken(bi.EMPTY_BYTE_STRING,c);return i.ui=i.ui.insert(g.targetId,g),i.fs.updateTargetData(a,g).next(()=>i.fs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.fs.addMatchingKeys(a,t,r.targetId)).next(()=>i._s.saveNamedQuery(a,e))})}),oS.apply(this,arguments)}class LO{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return Je.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var r;return this.yi.set(t.id,{id:(r=t).id,version:r.version,createTime:ps(r.createTime)}),Je.resolve()}getNamedQuery(e,t){return Je.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(r=t).name,query:ZI(r.bundledQuery),readTime:ps(r.readTime)}),Je.resolve();var r}}class VO{constructor(){this.overlays=new $r(Ut.comparator),this.Ii=new Map}getOverlay(e,t){return Je.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.Xt(e,t,a)}),Je.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ii.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Ii.delete(r)),Je.resolve()}getOverlaysForCollection(e,t,r){const i=z0(),a=t.length+1,c=new Ut(t.child("")),g=this.overlays.getIteratorFrom(c);for(;g.hasNext();){const b=g.getNext().value,C=b.getKey();if(!t.isPrefixOf(C.path))break;C.path.length===a&&b.largestBatchId>r&&i.set(b.getKey(),b)}return Je.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new $r((C,R)=>C-R);const c=this.overlays.getIterator();for(;c.hasNext();){const C=c.getNext().value;if(C.getKey().getCollectionGroup()===t&&C.largestBatchId>r){let R=a.get(C.largestBatchId);null===R&&(R=z0(),a=a.insert(C.largestBatchId,R)),R.set(C.getKey(),C)}}const g=z0(),b=a.getIterator();for(;b.hasNext()&&(b.getNext().value.forEach((C,R)=>g.set(C,R)),!(g.size()>=i)););return Je.resolve(g)}Xt(e,t,r){if(null===r)return;const i=this.overlays.get(r.key);if(null!==i){const c=this.Ii.get(i.largestBatchId).delete(r.key);this.Ii.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new WI(t,r));let a=this.Ii.get(t);void 0===a&&(a=Ar(),this.Ii.set(t,a)),this.Ii.set(t,a.add(r.key))}}class aS{constructor(){this.Ti=new Er(ms.Ei),this.Ai=new Er(ms.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const r=new ms(e,t);this.Ti=this.Ti.add(r),this.Ai=this.Ai.add(r)}bi(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Pi(new ms(e,t))}Vi(e,t){e.forEach(r=>this.removeReference(r,t))}vi(e){const t=new Ut(new ar([])),r=new ms(t,e),i=new ms(t,e+1),a=[];return this.Ai.forEachInRange([r,i],c=>{this.Pi(c),a.push(c.key)}),a}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new Ut(new ar([])),r=new ms(t,e),i=new ms(t,e+1);let a=Ar();return this.Ai.forEachInRange([r,i],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new ms(e,0),r=this.Ti.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ms{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return Ut.comparator(e.key,t.key)||zn(e.Ci,t.Ci)}static Ri(e,t){return zn(e.Ci,t.Ci)||Ut.comparator(e.key,t.key)}}class BO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new Er(ms.Ei)}checkEmpty(e){return Je.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,i){const a=this.xi;this.xi++;const c=new zI(a,t,r,i);this.Bs.push(c);for(const g of i)this.Ni=this.Ni.add(new ms(g.key,a)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Je.resolve(c)}lookupMutationBatch(e,t){return Je.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Mi(t+1),a=i<0?0:i;return Je.resolve(this.Bs.length>a?this.Bs[a]:null)}getHighestUnacknowledgedBatchId(){return Je.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return Je.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ms(t,0),i=new ms(t,Number.POSITIVE_INFINITY),a=[];return this.Ni.forEachInRange([r,i],c=>{const g=this.ki(c.Ci);a.push(g)}),Je.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Er(zn);return t.forEach(i=>{const a=new ms(i,0),c=new ms(i,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([a,c],g=>{r=r.add(g.Ci)})}),Je.resolve(this.Oi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Ut.isDocumentKey(a)||(a=a.child(""));const c=new ms(new Ut(a),0);let g=new Er(zn);return this.Ni.forEachWhile(b=>{const C=b.key.path;return!!r.isPrefixOf(C)&&(C.length===i&&(g=g.add(b.Ci)),!0)},c),Je.resolve(this.Oi(g))}Oi(e){const t=[];return e.forEach(r=>{const i=this.ki(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Pn(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let r=this.Ni;return Je.forEach(t.mutations,i=>{const a=new ms(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Ni=r})}_n(e){}containsKey(e,t){const r=new ms(t,0),i=this.Ni.firstAfterOrEqual(r);return Je.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Je.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class UO{constructor(e){this.$i=e,this.docs=new $r(Ut.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,c=this.$i(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Je.resolve(r?r.document.mutableCopy():Ht.newInvalidDocument(t))}getEntries(e,t){let r=vl();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Ht.newInvalidDocument(i))}),Je.resolve(r)}getAllFromCollection(e,t,r){let i=vl();const a=new Ut(t.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:g,value:{document:b}}=c.getNext();if(!t.isPrefixOf(g.path))break;g.path.length>t.length+1||qv(V0(b),r)<=0||(i=i.insert(b.key,b.mutableCopy()))}return Je.resolve(i)}getAllFromCollectionGroup(e,t,r,i){nn()}Bi(e,t){return Je.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new HO(this)}getSize(e){return Je.resolve(this.size)}}class HO extends cR{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Kn.addEntry(e,i)):this.Kn.removeEntry(r)}),Je.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class jO{constructor(e){this.persistence=e,this.Li=new lh(t=>fg(t),B0),this.lastRemoteSnapshotVersion=Cn.min(),this.highestTargetId=0,this.Ui=0,this.qi=new aS,this.targetCount=0,this.Ki=wg.gn()}forEachTarget(e,t){return this.Li.forEach((r,i)=>t(i)),Je.resolve()}getLastRemoteSnapshotVersion(e){return Je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Je.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),Je.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ui&&(this.Ui=t),Je.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new wg(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,Je.resolve()}updateTargetData(e,t){return this.Tn(t),Je.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,Je.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Li.forEach((c,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.Li.delete(c),a.push(this.removeMatchingKeysForTargetId(e,g.targetId)),i++)}),Je.waitFor(a).next(()=>i)}getTargetCount(e){return Je.resolve(this.targetCount)}getTargetData(e,t){const r=this.Li.get(t)||null;return Je.resolve(r)}addMatchingKeys(e,t,r){return this.qi.bi(t,r),Je.resolve()}removeMatchingKeys(e,t,r){this.qi.Vi(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(c=>{a.push(i.markPotentiallyOrphaned(e,c))}),Je.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),Je.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qi.Di(t);return Je.resolve(r)}containsKey(e,t){return Je.resolve(this.qi.containsKey(t))}}class GO{constructor(e,t){this.Gi={},this.overlays={},this.es=new ea(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new jO(this),this.indexManager=new bO,this.ds=new UO(r=>this.referenceDelegate.Qi(r)),this.M=new K1(t),this._s=new LO(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new VO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Gi[e.toKey()];return r||(r=new BO(t,this.referenceDelegate),this.Gi[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){St("MemoryPersistence","Starting transaction:",e);const i=new zO(this.es.next());return this.referenceDelegate.ji(),r(i).next(a=>this.referenceDelegate.Wi(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}zi(e,t){return Je.or(Object.values(this.Gi).map(r=>()=>r.containsKey(e,t)))}}class zO extends W1{constructor(e){super(),this.currentSequenceNumber=e}}class lS{constructor(e){this.persistence=e,this.Hi=new aS,this.Ji=null}static Yi(e){return new lS(e)}get Xi(){if(this.Ji)return this.Ji;throw nn()}addReference(e,t,r){return this.Hi.addReference(r,t),this.Xi.delete(r.toString()),Je.resolve()}removeReference(e,t,r){return this.Hi.removeReference(r,t),this.Xi.add(r.toString()),Je.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),Je.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(i=>this.Xi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Xi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Je.forEach(this.Xi,r=>{const i=Ut.fromPath(r);return this.Zi(e,i).next(a=>{a||t.removeEntry(i,Cn.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(r=>{r?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return Je.or([()=>Je.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function wR(n,e){return`firestore_clients_${n}_${e}`}function CR(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function uS(n,e){return`firestore_targets_${n}_${e}`}class pC{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static tr(e,t,r){const i=JSON.parse(r);let a,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(a=new gt(i.error.code,i.error.message))),c?new pC(e,t,i.state,a):(yi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ib{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static tr(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new gt(r.error.code,r.error.message))),a?new ib(e,r.state,i):(yi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=nC();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=RI(r.activeTargetIds[c]),a=a.add(r.activeTargetIds[c]);return i?new gC(e,a):(yi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class cS{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new cS(t.clientId,t.onlineState):(yi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class dS{constructor(){this.activeTargetIds=nC()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fS{constructor(e,t,r,i,a){this.window=e,this.Yn=t,this.persistenceKey=r,this.ir=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new $r(zn),this.started=!1,this.cr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.hr=wR(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new dS),this.dr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(g){return`firestore_bundle_loaded_v2_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,nt.Z)(function*(){const t=yield e.syncEngine.Fs();for(const i of t){if(i===e.ir)continue;const a=e.getItem(wR(e.persistenceKey,i));if(a){const c=gC.tr(i,a);c&&(e.ar=e.ar.insert(c.clientId,c))}}e.yr();const r=e.storage.getItem(e.mr);if(r){const i=e.pr(r);i&&e.Ir(i)}for(const i of e.cr)e.ur(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,r){this.Er(e,t,r),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(uS(this.persistenceKey,e));if(r){const i=ib.tr(e,r);i&&(t=i.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(uS(this.persistenceKey,e))}updateQueryState(e,t,r){this.br(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Ar(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return St("SharedClientState","READ",e,t),t}setItem(e,t){St("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){St("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const r=e;if(r.storageArea===this.storage){if(St("SharedClientState","EVENT",r.key,r.newValue),r.key===this.hr)return void yi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,nt.Z)(function*(){if(t.started){if(null!==r.key)if(t.dr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Sr(i,null)}{const i=t.Dr(r.key,r.newValue);if(i)return t.Sr(i.clientId,i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Cr(r.key,r.newValue);if(i)return t.Nr(i)}}else if(t.wr.test(r.key)){if(null!==r.newValue){const i=t.kr(r.key,r.newValue);if(i)return t.Mr(i)}}else if(r.key===t.mr){if(null!==r.newValue){const i=t.pr(r.newValue);if(i)return t.Ir(i)}}else if(r.key===t.lr){const i=function(a){let c=ea.A;if(null!=a)try{const g=JSON.parse(a);Pn("number"==typeof g),c=g}catch(g){yi("SharedClientState","Failed to read sequence number from WebStorage",g)}return c}(r.newValue);i!==ea.A&&t.sequenceNumberHandler(i)}else if(r.key===t.gr){const i=t.Or(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Fr(a)))}}else t.cr.push(r)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,r){const i=new pC(this.currentUser,e,t,r),a=CR(this.persistenceKey,this.currentUser,e);this.setItem(a,i.er())}Ar(e){const t=CR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,r){const i=uS(this.persistenceKey,e),a=new ib(e,t,r);this.setItem(i,a.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const r=this.vr(e);return gC.tr(r,t)}Cr(e,t){const r=this._r.exec(e),i=Number(r[1]);return pC.tr(new rs(void 0!==r[2]?r[2]:null),i,t)}kr(e,t){const r=this.wr.exec(e),i=Number(r[1]);return ib.tr(i,t)}pr(e){return cS.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,nt.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);St("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Tr(this.ar),a=this.Tr(r),c=[],g=[];return a.forEach(b=>{i.has(b)||c.push(b)}),i.forEach(b=>{a.has(b)||g.push(b)}),this.syncEngine.Lr(c,g).then(()=>{this.ar=r})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=nC();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class DR{constructor(){this.Ur=new dS,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new dS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qO{Kr(e){}shutdown(){}}class TR{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){St("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){St("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const WO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class ZO{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class $O extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,i,a){const c=this.ho(e,t);St("RestConnection","Sending: ",c,r);const g={};return this.lo(g,i,a),this.fo(e,c,g,r).then(b=>(St("RestConnection","Received: ",b),b),b=>{throw Uv("RestConnection",`${e} failed with error: `,b,"url: ",c,"request:",r),b})}_o(e,t,r,i,a){return this.co(e,t,r,i,a)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+cg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}ho(e,t){return`${this.uo}/v1/${t}:${WO[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((a,c)=>{const g=new Gw;g.listenOnce(I0.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Vv.NO_ERROR:const C=g.getResponseJson();St("Connection","XHR received:",JSON.stringify(C)),a(C);break;case Vv.TIMEOUT:St("Connection",'RPC "'+e+'" timed out'),c(new gt(Ke.DEADLINE_EXCEEDED,"Request time out"));break;case Vv.HTTP_ERROR:const R=g.getStatus();if(St("Connection",'RPC "'+e+'" failed with status:',R,"response text:",g.getResponseText()),R>0){const P=g.getResponseJson().error;if(P&&P.status&&P.message){const Z=function(Y){const ne=Y.toLowerCase().replace(/_/g,"-");return Object.values(Ke).indexOf(ne)>=0?ne:Ke.UNKNOWN}(P.status);c(new gt(Z,P.message))}else c(new gt(Ke.UNKNOWN,"Server responded with status "+g.getStatus()))}else c(new gt(Ke.UNAVAILABLE,"Connection failed."));break;default:nn()}}finally{St("Connection",'RPC "'+e+'" completed.')}});const b=JSON.stringify(i);g.send(t,"POST",b,r,15)})}wo(e,t,r){const i=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=CI(),c=DI(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new TI({})),this.lo(g.initMessageHeaders,t,r),(0,Xn.uI)()||(0,Xn.b$)()||(0,Xn.d)()||(0,Xn.w1)()||(0,Xn.Mn)()||(0,Xn.ru)()||(g.httpHeadersOverwriteParam="$httpHeaders");const b=i.join("");St("Connection","Creating WebChannel: "+b,g);const C=a.createWebChannel(b,g);let R=!1,P=!1;const Z=new ZO({Jr:ne=>{P?St("Connection","Not sending because WebChannel is closed:",ne):(R||(St("Connection","Opening WebChannel transport."),C.open(),R=!0),St("Connection","WebChannel sending:",ne),C.send(ne))},Yr:()=>C.close()}),Y=(ne,Se,rt)=>{ne.listen(Se,ot=>{try{rt(ot)}catch(_t){setTimeout(()=>{throw _t},0)}})};return Y(C,ug.EventType.OPEN,()=>{P||St("Connection","WebChannel transport opened.")}),Y(C,ug.EventType.CLOSE,()=>{P||(P=!0,St("Connection","WebChannel transport closed"),Z.ro())}),Y(C,ug.EventType.ERROR,ne=>{P||(P=!0,Uv("Connection","WebChannel transport errored:",ne),Z.ro(new gt(Ke.UNAVAILABLE,"The operation could not be completed")))}),Y(C,ug.EventType.MESSAGE,ne=>{var Se;if(!P){const rt=ne.data[0];Pn(!!rt);const ot=rt,_t=ot.error||(null===(Se=ot[0])||void 0===Se?void 0:Se.error);if(_t){St("Connection","WebChannel received error:",_t);const Rt=_t.status;let Ct=function(gn){const Hn=qi[gn];if(void 0!==Hn)return w1(Hn)}(Rt),vn=_t.message;void 0===Ct&&(Ct=Ke.INTERNAL,vn="Unknown error status: "+Rt+" with message "+_t.message),P=!0,Z.ro(new gt(Ct,vn)),C.close()}else St("Connection","WebChannel received:",rt),Z.oo(rt)}}),Y(c,S0.STAT_EVENT,ne=>{ne.stat===x0.PROXY?St("Connection","Detected buffering proxy"):ne.stat===x0.NOPROXY&&St("Connection","Detected no buffering proxy")}),setTimeout(()=>{Z.io()},0),Z}}function IR(){return"undefined"!=typeof window?window:null}function mC(){return"undefined"!=typeof document?document:null}function sb(n){return new FP(n,!0)}class hS{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Yn=e,this.timerId=t,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&St("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class SR{constructor(e,t,r,i,a,c,g,b){this.Yn=e,this.Vo=r,this.vo=i,this.So=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=g,this.listener=b,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new hS(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,nt.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,nt.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,nt.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===Ke.RESOURCE_EXHAUSTED?(yi(t.toString()),yi("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===Ke.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===t&&this.Qo(r,i)},r=>{e(()=>{const i=new gt(Ke.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.No.Ro((0,nt.Z)(function*(){e.state=0,e.start()}))}jo(e){return St("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(St("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KO extends SR{constructor(e,t,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.M=a}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function BP(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(b=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===b?1:"REMOVE"===b?2:"CURRENT"===b?3:"RESET"===b?4:nn(),i=e.targetChange.targetIds||[],a=function(b,C){return b.N?(Pn(void 0===C||"string"==typeof C),bi.fromBase64String(C||"")):(Pn(void 0===C||C instanceof Uint8Array),bi.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,g=c&&function(b){const C=void 0===b.code?Ke.UNKNOWN:w1(b.code);return new gt(C,b.message||"")}(c);t=new D1(r,i,a,g||null)}else if("documentChange"in e){const r=e.documentChange,i=lc(n,r.document.name),a=ps(r.document.updateTime),c=new Ft({mapValue:{fields:r.document.fields}}),g=Ht.newFoundDocument(i,a,c);t=new rC(r.targetIds||[],r.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const r=e.documentDelete,i=lc(n,r.document),a=r.readTime?ps(r.readTime):Cn.min(),c=Ht.newNoDocument(i,a);t=new rC([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=lc(n,r.document);t=new rC([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return nn();{const r=e.filter,a=new IP(r.count||0);t=new C1(r.targetId,a)}}var b;return t}(this.M,e),r=function(i){if(!("targetChange"in i))return Cn.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Cn.min():a.readTime?ps(a.readTime):Cn.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=K0(this.M),t.addTarget=function(i,a){let c;const g=a.target;return c=Qw(g)?{documents:O1(i,g)}:{query:F1(i,g)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?c.resumeToken=x1(i,a.resumeToken):a.snapshotVersion.compareTo(Cn.min())>0&&(c.readTime=Z0(i,a.snapshotVersion.toTimestamp())),c}(this.M,e);const r=function HP(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return nn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=K0(this.M),t.removeTarget=e,this.Lo(t)}}class YO extends SR{constructor(e,t,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.M=a,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(Pn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function UP(n,e){return n&&n.length>0?(Pn(void 0!==e),n.map(t=>function(r,i){let a=ps(r.updateTime?r.updateTime:i);return a.isEqual(Cn.min())&&(a=ps(i)),new CP(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ps(e.commitTime);return this.listener.tu(r,t)}return Pn(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=K0(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Y0(this.M,r))};this.Lo(t)}}class QO extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.M=i,this.su=!1}iu(){if(this.su)throw new gt(Ke.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.So.co(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new gt(Ke.UNKNOWN,i.toString())})}_o(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.So._o(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===Ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new gt(Ke.UNKNOWN,i.toString())})}terminate(){this.su=!0}}class JO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(yi(t),this.uu=!1):St("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class XO{constructor(e,t,r,i,a){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=a,this.gu.Kr(g=>{r.enqueueAndForget((0,nt.Z)(function*(){var b;fh(c)&&(St("RemoteStore","Restarting streams for network reachability change."),yield(b=(0,nt.Z)(function*(C){const R=zt(C);R.wu.add(4),yield sy(R),R.yu.set("Unknown"),R.wu.delete(4),yield ob(R)}),function(C){return b.apply(this,arguments)})(c))}))}),this.yu=new JO(r,i)}}function ob(n){return pS.apply(this,arguments)}function pS(){return pS=(0,nt.Z)(function*(n){if(fh(n))for(const e of n.mu)yield e(!0)}),pS.apply(this,arguments)}function sy(n){return gS.apply(this,arguments)}function gS(){return gS=(0,nt.Z)(function*(n){for(const e of n.mu)yield e(!1)}),gS.apply(this,arguments)}function vC(n,e){const t=zt(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),yS(t)?vS(t):ay(t).Mo()&&mS(t,e))}function ab(n,e){const t=zt(n),r=ay(t);t._u.delete(e),r.Mo()&&xR(t,e),0===t._u.size&&(r.Mo()?r.$o():fh(t)&&t.yu.set("Unknown"))}function mS(n,e){n.pu.Z(e.targetId),ay(n).Ho(e)}function xR(n,e){n.pu.Z(e),ay(n).Jo(e)}function vS(n){n.pu=new NP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n._u.get(e)||null}),ay(n).start(),n.yu.au()}function yS(n){return fh(n)&&!ay(n).ko()&&n._u.size>0}function fh(n){return 0===zt(n).wu.size}function MR(n){n.pu=void 0}function eF(n){return _S.apply(this,arguments)}function _S(){return _S=(0,nt.Z)(function*(n){n._u.forEach((e,t)=>{mS(n,e)})}),_S.apply(this,arguments)}function tF(n,e){return bS.apply(this,arguments)}function bS(){return bS=(0,nt.Z)(function*(n,e){MR(n),yS(n)?(n.yu.lu(e),vS(n)):n.yu.set("Unknown")}),bS.apply(this,arguments)}function nF(n,e,t){return ES.apply(this,arguments)}function ES(){return ES=(0,nt.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof D1&&2===e.state&&e.cause)try{yield(r=(0,nt.Z)(function*(i,a){const c=a.cause;for(const g of a.targetIds)i._u.has(g)&&(yield i.remoteSyncer.rejectListen(g,c),i._u.delete(g),i.pu.removeTarget(g))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){St("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield yC(n,r)}else if(e instanceof rC?n.pu.ut(e):e instanceof C1?n.pu._t(e):n.pu.ht(e),!t.isEqual(Cn.min()))try{const r=yield yR(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const c=i.pu.yt(a);return c.targetChanges.forEach((g,b)=>{if(g.resumeToken.approximateByteSize()>0){const C=i._u.get(b);C&&i._u.set(b,C.withResumeToken(g.resumeToken,a))}}),c.targetMismatches.forEach(g=>{const b=i._u.get(g);if(!b)return;i._u.set(g,b.withResumeToken(bi.EMPTY_BYTE_STRING,b.snapshotVersion)),xR(i,g);const C=new uh(b.target,g,1,b.sequenceNumber);mS(i,C)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){St("RemoteStore","Failed to raise snapshot:",r),yield yC(n,r)}var r}),ES.apply(this,arguments)}function yC(n,e,t){return AS.apply(this,arguments)}function AS(){return AS=(0,nt.Z)(function*(n,e,t){if(!mg(e))throw e;n.wu.add(1),yield sy(n),n.yu.set("Offline"),t||(t=()=>yR(n.localStore)),n.asyncQueue.enqueueRetryable((0,nt.Z)(function*(){St("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield ob(n)}))}),AS.apply(this,arguments)}function RR(n,e){return e().catch(t=>yC(n,t,e))}function oy(n){return wS.apply(this,arguments)}function wS(){return wS=(0,nt.Z)(function*(n){const e=zt(n),t=hh(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;rF(e);)try{const i=yield PO(e.localStore,r);if(null===i){0===e.du.length&&t.$o();break}r=i.batchId,iF(e,i)}catch(i){yield yC(e,i)}kR(e)&&NR(e)}),wS.apply(this,arguments)}function rF(n){return fh(n)&&n.du.length<10}function iF(n,e){n.du.push(e);const t=hh(n);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function kR(n){return fh(n)&&!hh(n).ko()&&n.du.length>0}function NR(n){hh(n).start()}function sF(n){return CS.apply(this,arguments)}function CS(){return CS=(0,nt.Z)(function*(n){hh(n).nu()}),CS.apply(this,arguments)}function oF(n){return DS.apply(this,arguments)}function DS(){return DS=(0,nt.Z)(function*(n){const e=hh(n);for(const t of n.du)e.Zo(t.mutations)}),DS.apply(this,arguments)}function aF(n,e,t){return TS.apply(this,arguments)}function TS(){return TS=(0,nt.Z)(function*(n,e,t){const r=n.du.shift(),i=qI.from(r,e,t);yield RR(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield oy(n)}),TS.apply(this,arguments)}function lF(n,e){return IS.apply(this,arguments)}function IS(){return IS=(0,nt.Z)(function*(n,e){var t;e&&hh(n).Xo&&(yield(t=(0,nt.Z)(function*(r,i){if(A1(a=i.code)&&a!==Ke.ABORTED){const c=r.du.shift();hh(r).Fo(),yield RR(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield oy(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),kR(n)&&NR(n)}),IS.apply(this,arguments)}function PR(n,e){return SS.apply(this,arguments)}function SS(){return SS=(0,nt.Z)(function*(n,e){const t=zt(n);t.asyncQueue.verifyOperationInProgress(),St("RemoteStore","RemoteStore received new credentials");const r=fh(t);t.wu.add(3),yield sy(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield ob(t)}),SS.apply(this,arguments)}function xS(n,e){return MS.apply(this,arguments)}function MS(){return MS=(0,nt.Z)(function*(n,e){const t=zt(n);e?(t.wu.delete(2),yield ob(t)):e||(t.wu.add(2),yield sy(t),t.yu.set("Unknown"))}),MS.apply(this,arguments)}function ay(n){return n.Iu||(n.Iu=function(e,t,r){const i=zt(e);return i.iu(),new KO(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:eF.bind(null,n),eo:tF.bind(null,n),zo:nF.bind(null,n)}),n.mu.push(function(){var e=(0,nt.Z)(function*(t){t?(n.Iu.Fo(),yS(n)?vS(n):n.yu.set("Unknown")):(yield n.Iu.stop(),MR(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function hh(n){return n.Tu||(n.Tu=function(e,t,r){const i=zt(e);return i.iu(),new YO(t,i.So,i.authCredentials,i.appCheckCredentials,i.M,r)}(n.datastore,n.asyncQueue,{Xr:sF.bind(null,n),eo:lF.bind(null,n),eu:oF.bind(null,n),tu:aF.bind(null,n)}),n.mu.push(function(){var e=(0,nt.Z)(function*(t){t?(n.Tu.Fo(),yield oy(n)):(yield n.Tu.stop(),n.du.length>0&&(St("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class RS{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,a){const c=Date.now()+r,g=new RS(e,t,c,i,a);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new gt(Ke.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ly(n,e){if(yi("AsyncQueue",`${e}: ${n}`),mg(n))return new gt(Ke.UNAVAILABLE,`${e}: ${n}`);throw n}class uy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ut.comparator(t.key,r.key):(t,r)=>Ut.comparator(t.key,r.key),this.keyedMap=BI(),this.sortedSet=new $r(this.comparator)}static emptySet(e){return new uy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof uy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new uy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class OR{constructor(){this.Eu=new $r(Ut.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):nn():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class cy{constructor(e,t,r,i,a,c,g,b){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=g,this.excludesMetadataChanges=b}static fromInitialDocuments(e,t,r,i){const a=[];return t.forEach(c=>{a.push({type:0,doc:c})}),new cy(e,t,uy.emptySet(t),a,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&U0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class uF{constructor(){this.Ru=void 0,this.listeners=[]}}class cF{constructor(){this.queries=new lh(e=>o1(e),U0),this.onlineState="Unknown",this.bu=new Set}}function kS(n,e){return NS.apply(this,arguments)}function NS(){return NS=(0,nt.Z)(function*(n,e){const t=zt(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new uF),i)try{a.Ru=yield t.onListen(r)}catch(c){const g=ly(c,`Initialization of query '${OI(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,a),a.listeners.push(e),e.Pu(t.onlineState),a.Ru&&e.Vu(a.Ru)&&FS(t)}),NS.apply(this,arguments)}function PS(n,e){return OS.apply(this,arguments)}function OS(){return OS=(0,nt.Z)(function*(n,e){const t=zt(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),OS.apply(this,arguments)}function dF(n,e){const t=zt(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const g of c.listeners)g.Vu(i)&&(r=!0);c.Ru=i}}r&&FS(t)}function fF(n,e,t){const r=zt(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function FS(n){n.bu.forEach(e=>{e.next()})}class LS{constructor(e,t,r){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new cy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=cy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class hF{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class FR{constructor(e){this.M=e}wi(e){return lc(this.M,e)}mi(e){return e.metadata.exists?P1(this.M,e.document,!1):Ht.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return ps(e)}}class pF{constructor(e,t,r){this.Ou=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=LR(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=ar.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new FR(this.M);for(const i of e)if(i.metadata.queries){const a=r.wi(i.metadata.name);for(const c of i.metadata.queries){const g=(t.get(c)||Ar()).add(a);t.set(c,g)}}return t}complete(){var e=this;return(0,nt.Z)(function*(){const t=yield function OO(n,e,t,r){return sS.apply(this,arguments)}(e.localStore,new FR(e.M),e.documents,e.Ou.id),r=e.$u(e.documents);for(const i of e.queries)yield FO(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function LR(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class VR{constructor(e){this.key=e}}class BR{constructor(e){this.key=e}}class UR{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=Ar(),this.mutatedKeys=Ar(),this.Gu=l1(e),this.Qu=new uy(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new OR,i=t?t.Qu:this.Qu;let a=t?t.mutatedKeys:this.mutatedKeys,c=i,g=!1;const b="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,C="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((R,P)=>{const Z=i.get(R),Y=FI(this.query,P)?P:null,ne=!!Z&&this.mutatedKeys.has(Z.key),Se=!!Y&&(Y.hasLocalMutations||this.mutatedKeys.has(Y.key)&&Y.hasCommittedMutations);let rt=!1;Z&&Y?Z.data.isEqual(Y.data)?ne!==Se&&(r.track({type:3,doc:Y}),rt=!0):this.Hu(Z,Y)||(r.track({type:2,doc:Y}),rt=!0,(b&&this.Gu(Y,b)>0||C&&this.Gu(Y,C)<0)&&(g=!0)):!Z&&Y?(r.track({type:0,doc:Y}),rt=!0):Z&&!Y&&(r.track({type:1,doc:Z}),rt=!0,(b||C)&&(g=!0)),rt&&(Y?(c=c.add(Y),a=Se?a.add(R):a.delete(R)):(c=c.delete(R),a=a.delete(R)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const R="F"===this.query.limitType?c.last():c.first();c=c.delete(R.key),a=a.delete(R.key),r.track({type:1,doc:R})}return{Qu:c,zu:r,ii:g,mutatedKeys:a}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const a=e.zu.Au();a.sort((C,R)=>function(P,Z){const Y=ne=>{switch(ne){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nn()}};return Y(P)-Y(Z)}(C.type,R.type)||this.Gu(C.doc,R.doc)),this.Ju(r);const c=t?this.Yu():[],g=0===this.Ku.size&&this.current?1:0,b=g!==this.qu;return this.qu=g,0!==a.length||b?{snapshot:new cy(this.query,e.Qu,i,a,e.mutatedKeys,0===g,b,!1),Xu:c}:{Xu:c}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new OR,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Ar(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new BR(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new VR(r))}),t}ta(e){this.Uu=e._i,this.Ku=Ar();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return cy.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class gF{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class mF{constructor(e){this.key=e,this.na=!1}}class vF{constructor(e,t,r,i,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.sa={},this.ia=new lh(g=>o1(g),U0),this.ra=new Map,this.oa=new Set,this.ua=new $r(Ut.comparator),this.aa=new Map,this.ca=new aS,this.ha={},this.la=new Map,this.fa=wg.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function yF(n,e){return VS.apply(this,arguments)}function VS(){return VS=(0,nt.Z)(function*(n,e){const t=ax(n);let r,i;const a=t.ia.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.ea();else{const c=yield ry(t.localStore,ml(e));t.isPrimaryClient&&vC(t.remoteStore,c);const g=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield BS(t,e,r,"current"===g)}return i}),VS.apply(this,arguments)}function BS(n,e,t,r){return US.apply(this,arguments)}function US(){return US=(0,nt.Z)(function*(n,e,t,r){n._a=(R,P,Z)=>{return(Y=(0,nt.Z)(function*(ne,Se,rt,ot){let _t=Se.view.Wu(rt);_t.ii&&(_t=yield hC(ne.localStore,Se.query,!1).then(({documents:vn})=>Se.view.Wu(vn,_t)));const Rt=ot&&ot.targetChanges.get(Se.targetId),Ct=Se.view.applyChanges(_t,ne.isPrimaryClient,Rt);return YS(ne,Se.targetId,Ct.Xu),Ct.snapshot}),function(ne,Se,rt,ot){return Y.apply(this,arguments)})(n,R,P,Z);var Y};const i=yield hC(n.localStore,e,!0),a=new UR(e,i._i),c=a.Wu(i.documents),g=W0.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),b=a.applyChanges(c,n.isPrimaryClient,g);YS(n,t,b.Xu);const C=new gF(e,t,a);return n.ia.set(e,C),n.ra.has(t)?n.ra.get(t).push(e):n.ra.set(t,[e]),b.snapshot}),US.apply(this,arguments)}function _F(n,e){return HS.apply(this,arguments)}function HS(){return HS=(0,nt.Z)(function*(n,e){const t=zt(n),r=t.ia.get(e),i=t.ra.get(r.targetId);if(i.length>1)return t.ra.set(r.targetId,i.filter(a=>!U0(a,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield iy(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),ab(t.remoteStore,r.targetId),dy(t,r.targetId)}).catch(Cg))):(dy(t,r.targetId),yield iy(t.localStore,r.targetId,!0))}),HS.apply(this,arguments)}function jS(){return jS=(0,nt.Z)(function*(n,e,t){const r=lx(n);try{const i=yield function(a,c){const g=zt(a),b=ui.now(),C=c.reduce((P,Z)=>P.add(Z.key),Ar());let R;return g.persistence.runTransaction("Locally write mutations","readwrite",P=>g.fi.Ks(P,C).next(Z=>{R=Z;const Y=[];for(const ne of c){const Se=TP(ne,R.get(ne.key));null!=Se&&Y.push(new gg(ne.key,Se,ft(Se.value.mapValue),zi.exists(!0)))}return g.Bs.addMutationBatch(P,b,Y,c)})).then(P=>(P.applyToLocalDocumentSet(R),{batchId:P.batchId,changes:R}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,g){let b=a.ha[a.currentUser.toKey()];b||(b=new $r(zn)),b=b.insert(c,g),a.ha[a.currentUser.toKey()]=b}(r,i.batchId,t),yield _d(r,i.changes),yield oy(r.remoteStore)}catch(i){const a=ly(i,"Failed to persist write");t.reject(a)}}),jS.apply(this,arguments)}function HR(n,e){return GS.apply(this,arguments)}function GS(){return GS=(0,nt.Z)(function*(n,e){const t=zt(n);try{const r=yield NO(t.localStore,e);e.targetChanges.forEach((i,a)=>{const c=t.aa.get(a);c&&(Pn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.na=!0:i.modifiedDocuments.size>0?Pn(c.na):i.removedDocuments.size>0&&(Pn(c.na),c.na=!1))}),yield _d(t,r,e)}catch(r){yield Cg(r)}}),GS.apply(this,arguments)}function jR(n,e,t){const r=zt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ia.forEach((a,c)=>{const g=c.view.Pu(e);g.snapshot&&i.push(g.snapshot)}),function(a,c){const g=zt(a);g.onlineState=c;let b=!1;g.queries.forEach((C,R)=>{for(const P of R.listeners)P.Pu(c)&&(b=!0)}),b&&FS(g)}(r.eventManager,e),i.length&&r.sa.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function EF(n,e,t){return zS.apply(this,arguments)}function zS(){return zS=(0,nt.Z)(function*(n,e,t){const r=zt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.aa.get(e),a=i&&i.key;if(a){let c=new $r(Ut.comparator);c=c.insert(a,Ht.newNoDocument(a,Cn.min()));const g=Ar().add(a),b=new q0(Cn.min(),new Map,new Er(zn),c,g);yield HR(r,b),r.ua=r.ua.remove(a),r.aa.delete(e),QS(r)}else yield iy(r.localStore,e,!1).then(()=>dy(r,e,t)).catch(Cg)}),zS.apply(this,arguments)}function AF(n,e){return qS.apply(this,arguments)}function qS(){return qS=(0,nt.Z)(function*(n,e){const t=zt(n),r=e.batch.batchId;try{const i=yield kO(t.localStore,e);KS(t,r,null),$S(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield _d(t,i)}catch(i){yield Cg(i)}}),qS.apply(this,arguments)}function wF(n,e,t){return WS.apply(this,arguments)}function WS(){return WS=(0,nt.Z)(function*(n,e,t){const r=zt(n);try{const i=yield function(a,c){const g=zt(a);return g.persistence.runTransaction("Reject batch","readwrite-primary",b=>{let C;return g.Bs.lookupMutationBatch(b,c).next(R=>(Pn(null!==R),C=R.keys(),g.Bs.removeMutationBatch(b,R))).next(()=>g.Bs.performConsistencyCheck(b)).next(()=>g.fi.Ks(b,C))})}(r.localStore,e);KS(r,e,t),$S(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield _d(r,i)}catch(i){yield Cg(i)}}),WS.apply(this,arguments)}function ZS(){return ZS=(0,nt.Z)(function*(n,e){const t=zt(n);fh(t.remoteStore)||St("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const c=zt(a);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>c.Bs.getHighestUnacknowledgedBatchId(g))}(t.localStore);if(-1===r)return void e.resolve();const i=t.la.get(r)||[];i.push(e),t.la.set(r,i)}catch(r){const i=ly(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),ZS.apply(this,arguments)}function $S(n,e){(n.la.get(e)||[]).forEach(t=>{t.resolve()}),n.la.delete(e)}function KS(n,e,t){const r=zt(n);let i=r.ha[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.ha[r.currentUser.toKey()]=i}}function dy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ra.get(e))n.ia.delete(r),t&&n.sa.wa(r,t);n.ra.delete(e),n.isPrimaryClient&&n.ca.vi(e).forEach(r=>{n.ca.containsKey(r)||GR(n,r)})}function GR(n,e){n.oa.delete(e.path.canonicalString());const t=n.ua.get(e);null!==t&&(ab(n.remoteStore,t),n.ua=n.ua.remove(e),n.aa.delete(t),QS(n))}function YS(n,e,t){for(const r of t)r instanceof VR?(n.ca.addReference(r.key,e),DF(n,r)):r instanceof BR?(St("SyncEngine","Document no longer in limbo: "+r.key),n.ca.removeReference(r.key,e),n.ca.containsKey(r.key)||GR(n,r.key)):nn()}function DF(n,e){const t=e.key,r=t.path.canonicalString();n.ua.get(t)||n.oa.has(r)||(St("SyncEngine","New document in limbo: "+t),n.oa.add(r),QS(n))}function QS(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const e=n.oa.values().next().value;n.oa.delete(e);const t=new Ut(ar.fromString(e)),r=n.fa.next();n.aa.set(r,new mF(t)),n.ua=n.ua.insert(t,r),vC(n.remoteStore,new uh(ml($v(t.path)),r,2,ea.A))}}function _d(n,e,t){return JS.apply(this,arguments)}function JS(){return JS=(0,nt.Z)(function*(n,e,t){const r=zt(n),i=[],a=[],c=[];var g;r.ia.isEmpty()||(r.ia.forEach((g,b)=>{c.push(r._a(b,e,t).then(C=>{if(C){r.isPrimaryClient&&r.sharedClientState.updateQueryState(b.targetId,C.fromCache?"not-current":"current"),i.push(C);const R=nS.Ys(b.targetId,C);a.push(R)}}))}),yield Promise.all(c),r.sa.zo(i),yield(g=(0,nt.Z)(function*(b,C){const R=zt(b);try{yield R.persistence.runTransaction("notifyLocalViewChanges","readwrite",P=>Je.forEach(C,Z=>Je.forEach(Z.Hs,Y=>R.persistence.referenceDelegate.addReference(P,Z.targetId,Y)).next(()=>Je.forEach(Z.Js,Y=>R.persistence.referenceDelegate.removeReference(P,Z.targetId,Y)))))}catch(P){if(!mg(P))throw P;St("LocalStore","Failed to update sequence numbers: "+P)}for(const P of C){const Z=P.targetId;if(!P.fromCache){const Y=R.ui.get(Z),Se=Y.withLastLimboFreeSnapshotVersion(Y.snapshotVersion);R.ui=R.ui.insert(Z,Se)}}}),function(b,C){return g.apply(this,arguments)})(r.localStore,a))}),JS.apply(this,arguments)}function TF(n,e){return XS.apply(this,arguments)}function XS(){return XS=(0,nt.Z)(function*(n,e){const t=zt(n);if(!t.currentUser.isEqual(e)){St("SyncEngine","User change. New user:",e.toKey());const r=yield vR(t.localStore,e);t.currentUser=e,(i=t).la.forEach(c=>{c.forEach(g=>{g.reject(new gt(Ke.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.la.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield _d(t,r.di)}var i}),XS.apply(this,arguments)}function IF(n,e){const t=zt(n),r=t.aa.get(e);if(r&&r.na)return Ar().add(r.key);{let i=Ar();const a=t.ra.get(e);if(!a)return i;for(const c of a){const g=t.ia.get(c);i=i.unionWith(g.view.ju)}return i}}function SF(n,e){return ex.apply(this,arguments)}function ex(){return ex=(0,nt.Z)(function*(n,e){const t=zt(n),r=yield hC(t.localStore,e.query,!0),i=e.view.ta(r);return t.isPrimaryClient&&YS(t,e.targetId,i.Xu),i}),ex.apply(this,arguments)}function xF(n,e){return tx.apply(this,arguments)}function tx(){return tx=(0,nt.Z)(function*(n,e){const t=zt(n);return ER(t.localStore,e).then(r=>_d(t,r))}),tx.apply(this,arguments)}function MF(n,e,t,r){return nx.apply(this,arguments)}function nx(){return nx=(0,nt.Z)(function*(n,e,t,r){const i=zt(n),a=yield function(c,g){const b=zt(c),C=zt(b.Bs);return b.persistence.runTransaction("Lookup mutation documents","readonly",R=>C.fn(R,g).next(P=>P?b.fi.Ks(R,P):Je.resolve(null)))}(i.localStore,e);var g;null!==a?("pending"===t?yield oy(i.remoteStore):"acknowledged"===t||"rejected"===t?(KS(i,e,r||null),$S(i,e),g=e,zt(zt(i.localStore).Bs)._n(g)):nn(),yield _d(i,a)):St("SyncEngine","Cannot apply mutation batch with id: "+e)}),nx.apply(this,arguments)}function rx(){return rx=(0,nt.Z)(function*(n,e){const t=zt(n);if(ax(t),lx(t),!0===e&&!0!==t.da){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield zR(t,r.toArray());t.da=!0,yield xS(t.remoteStore,!0);for(const a of i)vC(t.remoteStore,a)}else if(!1===e&&!1!==t.da){const r=[];let i=Promise.resolve();t.ra.forEach((a,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(dy(t,c),iy(t.localStore,c,!0))),ab(t.remoteStore,c)}),yield i,yield zR(t,r),function(a){const c=zt(a);c.aa.forEach((g,b)=>{ab(c.remoteStore,b)}),c.ca.Si(),c.aa=new Map,c.ua=new $r(Ut.comparator)}(t),t.da=!1,yield xS(t.remoteStore,!1)}}),rx.apply(this,arguments)}function zR(n,e,t){return ix.apply(this,arguments)}function ix(){return ix=(0,nt.Z)(function*(n,e,t){const r=zt(n),i=[],a=[];for(const c of e){let g;const b=r.ra.get(c);if(b&&0!==b.length){g=yield ry(r.localStore,ml(b[0]));for(const C of b){const R=r.ia.get(C),P=yield SF(r,R);P.snapshot&&a.push(P.snapshot)}}else{const C=yield bR(r.localStore,c);g=yield ry(r.localStore,C),yield BS(r,qR(C),c,!1)}i.push(g)}return r.sa.zo(a),i}),ix.apply(this,arguments)}function qR(n){return i1(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function kF(n){const e=zt(n);return zt(zt(e.localStore).persistence).Fs()}function NF(n,e,t,r){return sx.apply(this,arguments)}function sx(){return sx=(0,nt.Z)(function*(n,e,t,r){const i=zt(n);if(i.da)return void St("SyncEngine","Ignoring unexpected query state notification.");const a=i.ra.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const c=yield ER(i.localStore,a1(a[0])),g=q0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield _d(i,c,g);break}case"rejected":yield iy(i.localStore,e,!0),dy(i,e,r);break;default:nn()}}),sx.apply(this,arguments)}function PF(n,e,t){return ox.apply(this,arguments)}function ox(){return ox=(0,nt.Z)(function*(n,e,t){const r=ax(n);if(r.da){for(const i of e){if(r.ra.has(i)){St("SyncEngine","Adding an already active target "+i);continue}const a=yield bR(r.localStore,i),c=yield ry(r.localStore,a);yield BS(r,qR(a),c.targetId,!1),vC(r.remoteStore,c)}for(const i of t)r.ra.has(i)&&(yield iy(r.localStore,i,!1).then(()=>{ab(r.remoteStore,i),dy(r,i)}).catch(Cg))}}),ox.apply(this,arguments)}function ax(n){const e=zt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=HR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EF.bind(null,e),e.sa.zo=dF.bind(null,e.eventManager),e.sa.wa=fF.bind(null,e.eventManager),e}function lx(n){const e=zt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wF.bind(null,e),e}class WR{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,nt.Z)(function*(){t.M=sb(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return mR(this.persistence,new gR,e.initialUser,this.M)}ya(e){return new GO(lS.Yi,this.M)}ga(e){return new DR}terminate(){var e=this;return(0,nt.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ZR extends WR{constructor(e,t,r){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,nt.Z)(function*(){yield t().call(r,e),yield r.Ta.initialize(r,e),yield lx(r.Ta.syncEngine),yield oy(r.Ta.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Ia(e){return mR(this.persistence,new gR,e.initialUser,this.M)}pa(e){return new CO(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=tS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ta.withCacheSize(this.cacheSizeBytes):ta.DEFAULT;return new eS(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,IR(),mC(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new DR}}class FF extends ZR{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,nt.Z)(function*(){yield t().call(r,e);const i=r.Ta.syncEngine;r.sharedClientState instanceof fS&&(r.sharedClientState.syncEngine={$r:MF.bind(null,i),Br:NF.bind(null,i),Lr:PF.bind(null,i),Fs:kF.bind(null,i),Fr:xF.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var a=(0,nt.Z)(function*(c){yield function RF(n,e){return rx.apply(this,arguments)}(r.Ta.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):c||r.gcScheduler.stop())});return function(c){return a.apply(this,arguments)}}())})()}ga(e){const t=IR();if(!fS.vt(t))throw new gt(Ke.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=tS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new fS(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class ux{initialize(e,t){var r=this;return(0,nt.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>jR(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=TF.bind(null,r.syncEngine),yield xS(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new cF}createDatastore(e){const t=sb(e.databaseInfo.databaseId),r=new $O(e.databaseInfo);return new QO(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=g=>jR(this.syncEngine,g,0),c=TR.vt()?new TR:new qO,new XO(t,r,i,a,c);var t,r,i,a,c}createSyncEngine(e,t){return function(r,i,a,c,g,b,C){const R=new vF(r,i,a,c,g,b);return C&&(R.da=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,nt.Z)(function*(t){const r=zt(t);St("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield sy(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function $R(n,e=10240){let t=0;return{read:()=>(0,nt.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,nt.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class _C{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class LF{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new Gi,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(r=>{r&&r.Mu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,nt.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,nt.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,nt.Z)(function*(){const t=yield e.Va();if(null===t)return null;const r=e.ba.decode(t),i=Number(r);isNaN(i)&&e.va(`length string (${r}) is not valid number`);const a=yield e.Sa(i);return new hF(JSON.parse(a),t.length+i)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,nt.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Sa(e){var t=this;return(0,nt.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const r=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,nt.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class VF{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,nt.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new gt(Ke.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,nt.Z)(function*(a,c){const g=zt(a),b=K0(g.M)+"/documents",C={documents:c.map(Y=>$0(g.M,Y))},R=yield g._o("BatchGetDocuments",b,C),P=new Map;R.forEach(Y=>{const ne=function VP(n,e){return"found"in e?function(t,r){Pn(!!r.found);const i=lc(t,r.found.name),a=ps(r.found.updateTime),c=new Ft({mapValue:{fields:r.found.fields}});return Ht.newFoundDocument(i,a,c)}(n,e):"missing"in e?function(t,r){Pn(!!r.missing),Pn(!!r.readTime);const i=lc(t,r.missing),a=ps(r.readTime);return Ht.newNoDocument(i,a)}(n,e):nn()}(g.M,Y);P.set(ne.key.toString(),ne)});const Z=[];return c.forEach(Y=>{const ne=P.get(Y.toString());Pn(!!ne),Z.push(ne)}),Z}),function(a,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new G0(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,nt.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=Ut.fromPath(i);e.mutations.push(new VI(a,e.precondition(a)))}),yield(r=(0,nt.Z)(function*(i,a){const c=zt(i),g=K0(c.M)+"/documents",b={writes:a.map(C=>Y0(c.M,C))};yield c.co("Commit",g,b)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw nn();t=Cn.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new gt(Ke.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?zi.updateTime(t):zi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Cn.min()))throw new gt(Ke.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return zi.updateTime(t)}return zi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class BF{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.xa=r.maxAttempts,this.No=new hS(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,nt.Z)(function*(){const t=new VF(e.datastore),r=e.ka(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Ma(a)}))}).catch(i=>{e.Ma(i)})}))}ka(e){try{const t=this.updateFunction(e);return!jv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!A1(t)}return!1}}class UF{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=rs.UNAUTHENTICATED,this.clientId=xI.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,nt.Z)(function*(g){St("FirestoreClient","Received user=",g.uid),yield a.authCredentialListener(g),a.user=g});return function(g){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(St("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,nt.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new gt(Ke.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,nt.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=ly(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function KR(n,e){return cx.apply(this,arguments)}function cx(){return cx=(0,nt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),St("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,nt.Z)(function*(a){r.isEqual(a)||(yield vR(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),cx.apply(this,arguments)}function YR(n,e){return dx.apply(this,arguments)}function dx(){return dx=(0,nt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield fx(n);St("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>PR(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>PR(e.remoteStore,a)),n.onlineComponents=e}),dx.apply(this,arguments)}function fx(n){return hx.apply(this,arguments)}function hx(){return hx=(0,nt.Z)(function*(n){return n.offlineComponents||(St("FirestoreClient","Using default OfflineComponentProvider"),yield KR(n,new WR)),n.offlineComponents}),hx.apply(this,arguments)}function bC(n){return px.apply(this,arguments)}function px(){return px=(0,nt.Z)(function*(n){return n.onlineComponents||(St("FirestoreClient","Using default OnlineComponentProvider"),yield YR(n,new ux)),n.onlineComponents}),px.apply(this,arguments)}function QR(n){return fx(n).then(e=>e.persistence)}function gx(n){return fx(n).then(e=>e.localStore)}function JR(n){return bC(n).then(e=>e.remoteStore)}function mx(n){return bC(n).then(e=>e.syncEngine)}function fy(n){return vx.apply(this,arguments)}function vx(){return vx=(0,nt.Z)(function*(n){const e=yield bC(n),t=e.eventManager;return t.onListen=yF.bind(null,e.syncEngine),t.onUnlisten=_F.bind(null,e.syncEngine),t}),vx.apply(this,arguments)}function XR(n,e,t={}){const r=new Gi;return n.asyncQueue.enqueueAndForget((0,nt.Z)(function*(){return function(i,a,c,g,b){const C=new _C({next:P=>{a.enqueueAndForget(()=>PS(i,R));const Z=P.docs.has(c);!Z&&P.fromCache?b.reject(new gt(Ke.UNAVAILABLE,"Failed to get document because the client is offline.")):Z&&P.fromCache&&g&&"server"===g.source?b.reject(new gt(Ke.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b.resolve(P)},error:P=>b.reject(P)}),R=new LS($v(c.path),C,{includeMetadataChanges:!0,ku:!0});return kS(i,R)}(yield fy(n),n.asyncQueue,e,t,r)})),r.promise}function ek(n,e,t={}){const r=new Gi;return n.asyncQueue.enqueueAndForget((0,nt.Z)(function*(){return function(i,a,c,g,b){const C=new _C({next:P=>{a.enqueueAndForget(()=>PS(i,R)),P.fromCache&&"server"===g.source?b.reject(new gt(Ke.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(P)},error:P=>b.reject(P)}),R=new LS(c,C,{includeMetadataChanges:!0,ku:!0});return kS(i,R)}(yield fy(n),n.asyncQueue,e,t,r)})),r.promise}const tk=new Map;function yx(n,e,t){if(!t)throw new gt(Ke.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function nk(n,e,t,r){if(!0===e&&!0===r)throw new gt(Ke.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function rk(n){if(!Ut.isDocumentKey(n))throw new gt(Ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ik(n){if(Ut.isDocumentKey(n))throw new gt(Ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function EC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":nn()}function cr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new gt(Ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=EC(n);throw new gt(Ke.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function sk(n,e){if(e<=0)throw new gt(Ke.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class ok{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new gt(Ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new gt(Ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,nk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lb{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ok({}),this._settingsFrozen=!1,e instanceof ac?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new gt(Ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ac(i.options.projectId)}(e))}get app(){if(!this._app)throw new gt(Ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new gt(Ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ok(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new pd;switch(t.type){case"gapi":const r=t.client;return Pn(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new SI(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new gt(Ke.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=tk.get(e);t&&(St("ComponentProvider","Removing Datastore"),tk.delete(e),t.terminate())}(this),Promise.resolve()}}class Kr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kr(this.firestore,e,this._key)}}class ao{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ao(this.firestore,e,this._query)}}class cc extends ao{constructor(e,t,r){super(e,t,$v(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kr(this.firestore,null,new Ut(e))}withConverter(e){return new cc(this.firestore,e,this._path)}}function ak(n,e,...t){if(n=(0,Xn.m9)(n),yx("collection","path",e),n instanceof lb){const r=ar.fromString(e,...t);return ik(r),new cc(n,null,r)}{if(!(n instanceof Kr||n instanceof cc))throw new gt(Ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ar.fromString(e,...t));return ik(r),new cc(n.firestore,null,r)}}function AC(n,e,...t){if(n=(0,Xn.m9)(n),1===arguments.length&&(e=xI.R()),yx("doc","path",e),n instanceof lb){const r=ar.fromString(e,...t);return rk(r),new Kr(n,null,new Ut(r))}{if(!(n instanceof Kr||n instanceof cc))throw new gt(Ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ar.fromString(e,...t));return rk(r),new Kr(n.firestore,n instanceof cc?n.converter:null,new Ut(r))}}function lk(n,e){return n=(0,Xn.m9)(n),e=(0,Xn.m9)(e),(n instanceof Kr||n instanceof cc)&&(e instanceof Kr||e instanceof cc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function uk(n,e){return n=(0,Xn.m9)(n),e=(0,Xn.m9)(e),n instanceof ao&&e instanceof ao&&n.firestore===e.firestore&&U0(n._query,e._query)&&n.converter===e.converter}class QF{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new hS(this,"async_queue_retry"),this.Qa=()=>{const t=mC();t&&St("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=mC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=mC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new Gi;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,nt.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!mg(t))throw t;St("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(r=>{throw this.Ua=r,this.qa=!1,yi("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(r)),r}).then(r=>(this.qa=!1,r))));return this.Fa=t,t}enqueueAfterDelay(e,t,r){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const i=RS.createAndSchedule(this,e,t,r,a=>this.Ha(a));return this.La.push(i),i}ja(){this.Ua&&nn()}verifyOperationInProgress(){}Ja(){var e=this;return(0,nt.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function _x(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class JF{constructor(){this._progressObserver={},this._taskCompletionResolver=new Gi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ei extends lb{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new QF,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||ck(this),this._firestoreClient.terminate()}}function Wi(n){return n._firestoreClient||ck(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function ck(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new YM(n._databaseId,a,n._persistenceKey,(g=t).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var a,g;n._firestoreClient=new UF(n._authCredentials,n._appCheckCredentials,n._queue,r)}function dk(n,e,t){const r=new Gi;return n.asyncQueue.enqueue((0,nt.Z)(function*(){try{yield KR(n,t),yield YR(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(a=i).name?a.code===Ke.FAILED_PRECONDITION||a.code===Ke.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var a})).then(()=>r.promise)}function fk(n){if(n._initialized||n._terminated)throw new gt(Ke.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class bd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new gt(Ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _i(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class dc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dc(bi.fromBase64String(e))}catch(t){throw new gt(Ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new dc(bi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Tg{constructor(e){this._methodName=e}}class wC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new gt(Ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new gt(Ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return zn(this._lat,e._lat)||zn(this._long,e._long)}}const lL=/^__.*__$/;class uL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new gg(e,this.data,this.fieldMask,t,this.fieldTransforms):new j0(e,this.data,t,this.fieldTransforms)}}class hk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new gg(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function pk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nn()}}class CC{constructor(e,t,r,i,a,c){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.tc(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new CC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.rc(e),i}oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.nc({path:r,ic:!1});return i.tc(),i}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return IC(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(pk(this.ec)&&lL.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class cL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||sb(e)}lc(e,t,r,i=!1){return new CC({ec:e,methodName:t,hc:r,path:_i.emptyPath(),ic:!1,cc:i},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Ig(n){const e=n._freezeSettings(),t=sb(n._databaseId);return new cL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function DC(n,e,t,r,i,a={}){const c=n.lc(a.merge||a.mergeFields?2:0,e,t,i);wx("Data must be an object, but it was:",c,r);const g=vk(r,c);let b,C;if(a.merge)b=new sc(c.fieldMask),C=c.fieldTransforms;else if(a.mergeFields){const R=[];for(const P of a.mergeFields){const Z=Cx(e,P,t);if(!c.contains(Z))throw new gt(Ke.INVALID_ARGUMENT,`Field '${Z}' is specified in your field mask but missing from your input data.`);_k(R,Z)||R.push(Z)}b=new sc(R),C=c.fieldTransforms.filter(P=>b.covers(P.field))}else b=null,C=c.fieldTransforms;return new uL(new Ft(g),b,C)}class ub extends Tg{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ub}}function gk(n,e,t){return new CC({ec:3,hc:e.settings.hc,methodName:n._methodName,ic:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class bx extends Tg{_toFieldTransform(e){return new H0(e.path,new Yv)}isEqual(e){return e instanceof bx}}class dL extends Tg{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=gk(this,e,!0),r=this.fc.map(a=>Sg(a,t)),i=new hg(r);return new H0(e.path,i)}isEqual(e){return this===e}}class fL extends Tg{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=gk(this,e,!0),r=this.fc.map(a=>Sg(a,t)),i=new pg(r);return new H0(e.path,i)}isEqual(e){return this===e}}class hL extends Tg{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new Qv(e.M,d1(e.M,this.dc));return new H0(e.path,t)}isEqual(e){return this===e}}function Ex(n,e,t,r){const i=n.lc(1,e,t);wx("Data must be an object, but it was:",i,r);const a=[],c=Ft.empty();ic(r,(b,C)=>{const R=TC(e,b,t);C=(0,Xn.m9)(C);const P=i.oc(R);if(C instanceof ub)a.push(R);else{const Z=Sg(C,P);null!=Z&&(a.push(R),c.set(R,Z))}});const g=new sc(a);return new hk(c,g,i.fieldTransforms)}function Ax(n,e,t,r,i,a){const c=n.lc(1,e,t),g=[Cx(e,r,t)],b=[i];if(a.length%2!=0)throw new gt(Ke.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Z=0;Z<a.length;Z+=2)g.push(Cx(e,a[Z])),b.push(a[Z+1]);const C=[],R=Ft.empty();for(let Z=g.length-1;Z>=0;--Z)if(!_k(C,g[Z])){const Y=g[Z];let ne=b[Z];ne=(0,Xn.m9)(ne);const Se=c.oc(Y);if(ne instanceof ub)C.push(Y);else{const rt=Sg(ne,Se);null!=rt&&(C.push(Y),R.set(Y,rt))}}const P=new sc(C);return new hk(R,P,c.fieldTransforms)}function mk(n,e,t,r=!1){return Sg(t,n.lc(r?4:3,e))}function Sg(n,e){if(yk(n=(0,Xn.m9)(n)))return wx("Unsupported field value:",e,n),vk(n,e);if(n instanceof Tg)return function(t,r){if(!pk(r.ec))throw r.ac(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ac(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const c of t){let g=Sg(c,r.uc(a));null==g&&(g={nullValue:"NULL_VALUE"}),i.push(g),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Xn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return d1(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=ui.fromDate(t);return{timestampValue:Z0(r.M,i)}}if(t instanceof ui){const i=new ui(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Z0(r.M,i)}}if(t instanceof wC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof dc)return{bytesValue:x1(r.M,t._byteString)};if(t instanceof Kr){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.ac(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:UI(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ac(`Unsupported field value: ${EC(t)}`)}(n,e)}function vk(n,e){const t={};return O0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ic(n,(r,i)=>{const a=Sg(i,e.sc(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function yk(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ui||n instanceof wC||n instanceof dc||n instanceof Kr||n instanceof Tg)}function wx(n,e,t){if(!yk(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=EC(t);throw e.ac("an object"===r?n+" a custom object":n+" "+r)}var r}function Cx(n,e,t){if((e=(0,Xn.m9)(e))instanceof bd)return e._internalPath;if("string"==typeof e)return TC(n,e);throw IC("Field path arguments must be of type string or ",n,!1,void 0,t)}const pL=new RegExp("[~\\*/\\[\\]]");function TC(n,e,t){if(e.search(pL)>=0)throw IC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new bd(...e.split("."))._internalPath}catch(r){throw IC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function IC(n,e,t,r,i){const a=r&&!r.isEmpty(),c=void 0!==i;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let b="";return(a||c)&&(b+=" (found",a&&(b+=` in field ${r}`),c&&(b+=` in document ${i}`),b+=")"),new gt(Ke.INVALID_ARGUMENT,g+n+b)}function _k(n,e){return n.some(t=>t.isEqual(e))}class cb{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Kr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new gL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(SC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class gL extends cb{data(){return super.data()}}function SC(n,e){return"string"==typeof e?TC(n,e):e instanceof bd?e._internalPath:e._delegate._internalPath}class xg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ed extends cb{constructor(e,t,r,i,a,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new db(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(SC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class db extends Ed{data(e={}){return super.data(e)}}class ph{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new xg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new db(this._firestore,this._userDataWriter,r.key,r,new xg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new gt(Ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new db(r._firestore,r._userDataWriter,c.doc.key,c.doc,new xg(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const g=new db(r._firestore,r._userDataWriter,c.doc.key,c.doc,new xg(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let b=-1,C=-1;return 0!==c.type&&(b=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),C=a.indexOf(c.doc.key)),{type:mL(c.type),doc:g,oldIndex:b,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function mL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nn()}}function bk(n,e){return n instanceof Ed&&e instanceof Ed?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof ph&&e instanceof ph&&n._firestore===e._firestore&&uk(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function Ek(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new gt(Ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fb{}function gh(n,...e){for(const t of e)n=t._apply(n);return n}class vL extends fb{constructor(e,t,r){super(),this._c=e,this.wc=t,this.mc=r,this.type="where"}_apply(e){const t=Ig(e.firestore),r=function(i,a,c,g,b,C,R){let P;if(b.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new gt(Ke.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){Ik(R,C);const Y=[];for(const ne of R)Y.push(Tk(g,i,ne));P={arrayValue:{values:Y}}}else P=Tk(g,i,R)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||Ik(R,C),P=mk(c,"where",R,"in"===C||"not-in"===C);const Z=Vs.create(b,C,P);return function(Y,ne){if(ne.S()){const rt=NI(Y);if(null!==rt&&!rt.isEqual(ne.field))throw new gt(Ke.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${rt.toString()}' and '${ne.field.toString()}'`);const ot=kI(Y);null!==ot&&Sk(0,ne.field,ot)}const Se=function(rt,ot){for(const _t of rt.filters)if(ot.indexOf(_t.op)>=0)return _t.op;return null}(Y,function(rt){switch(rt){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ne.op));if(null!==Se)throw new gt(Ke.INVALID_ARGUMENT,Se===ne.op?`Invalid query. You cannot use more than one '${ne.op.toString()}' filter.`:`Invalid query. You cannot use '${ne.op.toString()}' filters with '${Se.toString()}' filters.`)}(i,Z),Z}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new ao(e.firestore,e.converter,function(i,a){const c=i.filters.concat([a]);return new yd(i.path,i.collectionGroup,i.explicitOrderBy.slice(),c,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class _L extends fb{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new gt(Ke.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new gt(Ke.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Zv(i,a);return function(g,b){if(null===kI(g)){const C=NI(g);null!==C&&Sk(0,C,b.field)}}(r,c),c}(e._query,this._c,this.gc);return new ao(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new yd(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class Ak extends fb{constructor(e,t,r){super(),this.type=e,this.yc=t,this.Ic=r}_apply(e){return new ao(e.firestore,e.converter,s1(e._query,this.yc,this.Ic))}}class wk extends fb{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=Dk(e,this.type,this.Tc,this.Ec);return new ao(e.firestore,e.converter,(i=t,new yd((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class Ck extends fb{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=Dk(e,this.type,this.Tc,this.Ec);return new ao(e.firestore,e.converter,(i=t,new yd((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function Dk(n,e,t,r){if(t[0]=(0,Xn.m9)(t[0]),t[0]instanceof cb)return function(i,a,c,g,b){if(!g)throw new gt(Ke.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const C=[];for(const R of Kv(i))if(R.field.isKeyField())C.push(y(a,g.key));else{const P=g.data.field(R.field);if(Kw(P))throw new gt(Ke.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+R.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===P){const Z=R.field.canonicalString();throw new gt(Ke.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Z}' (used as the orderBy) does not exist.`)}C.push(P)}return new ah(C,b)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Ig(n.firestore);return function(a,c,g,b,C,R){const P=a.explicitOrderBy;if(C.length>P.length)throw new gt(Ke.INVALID_ARGUMENT,`Too many arguments provided to ${b}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Z=[];for(let Y=0;Y<C.length;Y++){const ne=C[Y];if(P[Y].field.isKeyField()){if("string"!=typeof ne)throw new gt(Ke.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${b}(), but got a ${typeof ne}`);if(!PI(a)&&-1!==ne.indexOf("/"))throw new gt(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${b}() must be a plain document ID, but '${ne}' contains a slash.`);const Se=a.path.child(ar.fromString(ne));if(!Ut.isDocumentKey(Se))throw new gt(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${b}() must result in a valid document path, but '${Se}' is not because it contains an odd number of segments.`);const rt=new Ut(Se);Z.push(y(c,rt))}else{const Se=mk(g,b,ne);Z.push(Se)}}return new ah(Z,R)}(n._query,n.firestore._databaseId,i,e,t,r)}}function Tk(n,e,t){if("string"==typeof(t=(0,Xn.m9)(t))){if(""===t)throw new gt(Ke.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PI(e)&&-1!==t.indexOf("/"))throw new gt(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ar.fromString(t));if(!Ut.isDocumentKey(r))throw new gt(Ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return y(n,new Ut(r))}if(t instanceof Kr)return y(n,t._key);throw new gt(Ke.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${EC(t)}.`)}function Ik(n,e){if(!Array.isArray(n)||0===n.length)throw new gt(Ke.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new gt(Ke.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Sk(n,e,t){if(!t.isEqual(e))throw new gt(Ke.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const IL={maxAttempts:5};class Dx{convertValue(e,t="none"){switch(sh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ih(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw nn()}}convertObject(e,t){const r={};return ic(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new wC(Xr(e.latitude),Xr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Yw(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(dg(e));default:return null}}convertTimestamp(e){const t=oc(e);return new ui(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ar.fromString(e);Pn(B1(r));const i=new ac(r.get(1),r.get(3)),a=new Ut(r.popFirst(5));return i.isEqual(t)||yi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function xC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class SL extends Dx{constructor(e){super(),this.firestore=e}convertBytes(e){return new dc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kr(this.firestore,null,t)}}class xk{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ig(e)}set(e,t,r){this._verifyNotCommitted();const i=mh(e,this._firestore),a=xC(i.converter,t,r),c=DC(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,zi.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=mh(e,this._firestore);let c;return c="string"==typeof(t=(0,Xn.m9)(t))||t instanceof bd?Ax(this._dataReader,"WriteBatch.update",a._key,t,r,i):Ex(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(c.toMutation(a._key,zi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=mh(e,this._firestore);return this._mutations=this._mutations.concat(new G0(t._key,zi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new gt(Ke.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function mh(n,e){if((n=(0,Xn.m9)(n)).firestore!==e)throw new gt(Ke.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Mg extends Dx{constructor(e){super(),this.firestore=e}convertBytes(e){return new dc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Kr(this.firestore,null,t)}}function Mk(n,e,t){n=cr(n,Kr);const r=cr(n.firestore,ei),i=xC(n.converter,e,t);return hy(r,[DC(Ig(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,zi.none())])}function Rk(n,e,t,...r){n=cr(n,Kr);const i=cr(n.firestore,ei),a=Ig(i);let c;return c="string"==typeof(e=(0,Xn.m9)(e))||e instanceof bd?Ax(a,"updateDoc",n._key,e,t,r):Ex(a,"updateDoc",n._key,e),hy(i,[c.toMutation(n._key,zi.exists(!0))])}function kk(n,...e){var t,r,i;n=(0,Xn.m9)(n);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||_x(e[c])||(a=e[c],c++);const g={includeMetadataChanges:a.includeMetadataChanges};if(_x(e[c])){const P=e[c];e[c]=null===(t=P.next)||void 0===t?void 0:t.bind(P),e[c+1]=null===(r=P.error)||void 0===r?void 0:r.bind(P),e[c+2]=null===(i=P.complete)||void 0===i?void 0:i.bind(P)}let b,C,R;if(n instanceof Kr)C=cr(n.firestore,ei),R=$v(n._key.path),b={next:P=>{e[c]&&e[c](Tx(C,n,P))},error:e[c+1],complete:e[c+2]};else{const P=cr(n,ao);C=cr(P.firestore,ei),R=P._query;const Z=new Mg(C);b={next:Y=>{e[c]&&e[c](new ph(C,Z,P,Y))},error:e[c+1],complete:e[c+2]},Ek(n._query)}return function(P,Z,Y,ne){const Se=new _C(ne),rt=new LS(Z,Se,Y);return P.asyncQueue.enqueueAndForget((0,nt.Z)(function*(){return kS(yield fy(P),rt)})),()=>{Se.Aa(),P.asyncQueue.enqueueAndForget((0,nt.Z)(function*(){return PS(yield fy(P),rt)}))}}(Wi(C),R,g,b)}function hy(n,e){return function(t,r){const i=new Gi;return t.asyncQueue.enqueueAndForget((0,nt.Z)(function*(){return function bF(n,e,t){return jS.apply(this,arguments)}(yield mx(t),r,i)})),i.promise}(Wi(n),e)}function Tx(n,e,t){const r=t.docs.get(e._key),i=new Mg(n);return new Ed(n,i,e._key,r,new xg(t.hasPendingWrites,t.fromCache),e.converter)}class VL extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ig(e)}get(e){const t=mh(e,this._firestore),r=new SL(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return nn();const a=i[0];if(a.isFoundDocument())return new cb(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new cb(this._firestore,r,t._key,null,t.converter);throw nn()})}set(e,t,r){const i=mh(e,this._firestore),a=xC(i.converter,t,r),c=DC(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const a=mh(e,this._firestore);let c;return c="string"==typeof(t=(0,Xn.m9)(t))||t instanceof bd?Ax(this._dataReader,"Transaction.update",a._key,t,r,i):Ex(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,c),this}delete(e){const t=mh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=mh(e,this._firestore),r=new Mg(this._firestore);return super.get(e).then(i=>new Ed(this._firestore,r,t._key,i._document,new xg(!1,!1),t.converter))}}function Ix(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new gt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Pk(){if("undefined"==typeof Uint8Array)throw new gt("unimplemented","Uint8Arrays are not available in this environment.")}function Ok(){if(!function KM(){return"undefined"!=typeof atob}())throw new gt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){cg=eu.SDK_VERSION,(0,eu._registerComponent)(new ev.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),a=new ei(i,new R0(t.getProvider("auth-internal")),new N0(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),a._setSettings(r),a},"PUBLIC")),(0,eu.registerVersion)(zw,"3.4.9",n),(0,eu.registerVersion)(zw,"3.4.9","esm2017")}();class hb{constructor(e){this._delegate=e}static fromBase64String(e){return Ok(),new hb(dc.fromBase64String(e))}static fromUint8Array(e){return Pk(),new hb(dc.fromUint8Array(e))}toBase64(){return Ok(),this._delegate.toBase64()}toUint8Array(){return Pk(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Sx(n){return function ZL(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class $L{enableIndexedDbPersistence(e,t){return function eL(n,e){fk(n=cr(n,ei));const t=Wi(n),r=n._freezeSettings(),i=new ux;return dk(t,i,new ZR(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function tL(n){fk(n=cr(n,ei));const e=Wi(n),t=n._freezeSettings(),r=new ux;return dk(e,r,new FF(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function nL(n){if(n._initialized&&!n._terminated)throw new gt(Ke.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Gi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,nt.Z)(function*(){try{yield(t=(0,nt.Z)(function*(r){if(!su.vt())return Promise.resolve();const i=r+"main";yield su.delete(i)}),function(r){return t.apply(this,arguments)})(tS(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Fk{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ac||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Uv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function KF(n,e,t,r={}){var i;const a=(n=cr(n,lb))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Uv("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,g;if("string"==typeof r.mockUserToken)c=r.mockUserToken,g=rs.MOCK_USER;else{c=(0,Xn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new gt(Ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new rs(b)}n._authCredentials=new Ww(new M0(c,g))}}(this._delegate,e,t,r)}enableNetwork(){return function iL(n){return function HF(n){return n.asyncQueue.enqueue((0,nt.Z)(function*(){const e=yield QR(n),t=yield JR(n);return e.setNetworkEnabled(!0),function(r){const i=zt(r);return i.wu.delete(0),ob(i)}(t)}))}(Wi(n=cr(n,ei)))}(this._delegate)}disableNetwork(){return function sL(n){return function jF(n){return n.asyncQueue.enqueue((0,nt.Z)(function*(){const e=yield QR(n),t=yield JR(n);return e.setNetworkEnabled(!1),(r=(0,nt.Z)(function*(i){const a=zt(i);a.wu.add(0),yield sy(a),a.yu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Wi(n=cr(n,ei)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,nk("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function rL(n){return function(e){const t=new Gi;return e.asyncQueue.enqueueAndForget((0,nt.Z)(function*(){return function CF(n,e){return ZS.apply(this,arguments)}(yield mx(e),t)})),t.promise}(Wi(n=cr(n,ei)))}(this._delegate)}onSnapshotsInSync(e){return function LL(n,e){return function qF(n,e){const t=new _C(e);return n.asyncQueue.enqueueAndForget((0,nt.Z)(function*(){return r=yield fy(n),i=t,zt(r).bu.add(i),void i.next();var r,i})),()=>{t.Aa(),n.asyncQueue.enqueueAndForget((0,nt.Z)(function*(){return r=yield fy(n),i=t,void zt(r).bu.delete(i);var r,i}))}}(Wi(n=cr(n,ei)),_x(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new gt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new py(this,ak(this._delegate,e))}catch(t){throw xo(t,"collection()","Firestore.collection()")}}doc(e){try{return new yl(this,AC(this._delegate,e))}catch(t){throw xo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Mo(this,function YF(n,e){if(n=cr(n,lb),yx("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new gt(Ke.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ao(n,null,(t=e,new yd(ar.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw xo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function BL(n,e,t){n=cr(n,ei);const r=Object.assign(Object.assign({},IL),t);return function(i){if(i.maxAttempts<1)throw new gt(Ke.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function WF(n,e,t){const r=new Gi;return n.asyncQueue.enqueueAndForget((0,nt.Z)(function*(){const i=yield(a=n,bC(a).then(c=>c.datastore));var a;new BF(n.asyncQueue,i,t,e,r).run()})),r.promise}(Wi(n),i=>e(new VL(n,i)),r)}(this._delegate,t=>e(new Lk(this,t)))}batch(){return Wi(this._delegate),new Vk(new xk(this._delegate,e=>hy(this._delegate,e)))}loadBundle(e){return function oL(n,e){const t=Wi(n=cr(n,ei)),r=new JF;return function ZF(n,e,t,r){const i=function(a,c){let g;return g="string"==typeof a?(new TextEncoder).encode(a):a,b=function(b,C){if(b instanceof Uint8Array)return $R(b,C);if(b instanceof ArrayBuffer)return $R(new Uint8Array(b),C);if(b instanceof ReadableStream)return b.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new LF(b,c);var b}(t,sb(e));n.asyncQueue.enqueueAndForget((0,nt.Z)(function*(){!function OF(n,e,t){const r=zt(n);var i;(i=(0,nt.Z)(function*(a,c,g){try{const b=yield c.getMetadata();if(yield function(Z,Y){const ne=zt(Z),Se=ps(Y.createTime);return ne.persistence.runTransaction("hasNewerBundle","readonly",rt=>ne._s.getBundleMetadata(rt,Y.id)).then(rt=>!!rt&&rt.createTime.compareTo(Se)>=0)}(a.localStore,b))return yield c.close(),g._completeWith({taskState:"Success",documentsLoaded:(Z=b).totalDocuments,bytesLoaded:Z.totalBytes,totalDocuments:Z.totalDocuments,totalBytes:Z.totalBytes}),Promise.resolve(new Set);g._updateProgress(LR(b));const C=new pF(b,a.localStore,c.M);let R=yield c.ma();for(;R;){const Z=yield C.Fu(R);Z&&g._updateProgress(Z),R=yield c.ma()}const P=yield C.complete();return yield _d(a,P.Lu,void 0),yield function(Z,Y){const ne=zt(Z);return ne.persistence.runTransaction("Save bundle","readwrite",Se=>ne._s.saveBundleMetadata(Se,Y))}(a.localStore,b),g._completeWith(P.progress),Promise.resolve(P.Bu)}catch(b){return Uv("SyncEngine",`Loading bundle failed with ${b}`),g._failWith(b),Promise.resolve(new Set)}var Z}),function(a,c,g){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield mx(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function aL(n,e){return function $F(n,e){return n.asyncQueue.enqueue((0,nt.Z)(function*(){return function(t,r){const i=zt(t);return i.persistence.runTransaction("Get named query","readonly",a=>i._s.getNamedQuery(a,r))}(yield gx(n),e)}))}(Wi(n=cr(n,ei)),e).then(t=>t?new ao(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Mo(this,t):null)}}class MC extends Dx{constructor(e){super(),this.firestore=e}convertBytes(e){return new hb(new dc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return yl.forKey(t,this.firestore,null)}}class Lk{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new MC(e)}get(e){const t=kg(e);return this._delegate.get(t).then(r=>new pb(this._firestore,new Ed(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=kg(e);return r?(Ix("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=kg(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=kg(e);return this._delegate.delete(t),this}}class Vk{constructor(e){this._delegate=e}set(e,t,r){const i=kg(e);return r?(Ix("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=kg(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=kg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Rg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new db(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new gb(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Rg.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new Rg(e,new MC(e),t),i.set(t,a)),a}}Rg.INSTANCES=new WeakMap;class yl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new MC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new gt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new yl(t,new Kr(t._delegate,r,new Ut(e)))}static forKey(e,t,r){return new yl(t,new Kr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new py(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new py(this.firestore,ak(this._delegate,e))}catch(t){throw xo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Xn.m9)(e))instanceof Kr&&lk(this._delegate,e)}set(e,t){t=Ix("DocumentReference.set",t);try{return t?Mk(this._delegate,e,t):Mk(this._delegate,e)}catch(r){throw xo(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?Rk(this._delegate,e):Rk(this._delegate,e,t,...r)}catch(i){throw xo(i,"updateDoc()","DocumentReference.update()")}}delete(){return function OL(n){return hy(cr(n.firestore,ei),[new G0(n._key,zi.none())])}(this._delegate)}onSnapshot(...e){const t=Bk(e),r=Uk(e,i=>new pb(this.firestore,new Ed(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return kk(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function ML(n){n=cr(n,Kr);const e=cr(n.firestore,ei),t=Wi(e),r=new Mg(e);return function GF(n,e){const t=new Gi;return n.asyncQueue.enqueueAndForget((0,nt.Z)(function*(){return(r=(0,nt.Z)(function*(i,a,c){try{const g=yield function(b,C){const R=zt(b);return R.persistence.runTransaction("read document","readonly",P=>R.fi.Ls(P,C))}(i,a);g.isFoundDocument()?c.resolve(g):g.isNoDocument()?c.resolve(null):c.reject(new gt(Ke.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const b=ly(g,`Failed to get document '${a} from cache`);c.reject(b)}}),function(i,a,c){return r.apply(this,arguments)})(yield gx(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Ed(e,r,n._key,i,new xg(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function RL(n){n=cr(n,Kr);const e=cr(n.firestore,ei);return XR(Wi(e),n._key,{source:"server"}).then(t=>Tx(e,n,t))}(this._delegate):function xL(n){n=cr(n,Kr);const e=cr(n.firestore,ei);return XR(Wi(e),n._key).then(t=>Tx(e,n,t))}(this._delegate),t.then(r=>new pb(this.firestore,new Ed(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new yl(this.firestore,this._delegate.withConverter(e?Rg.getInstance(this.firestore,e):null))}}function xo(n,e,t){return n.message=n.message.replace(e,t),n}function Bk(n){for(const e of n)if("object"==typeof e&&!Sx(e))return e;return{}}function Uk(n,e){var t,r;let i;return i=Sx(n[0])?n[0]:Sx(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class pb{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new yl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return bk(this._delegate,e._delegate)}}class gb extends pb{data(e){const t=this._delegate.data(e);return function ZM(n,e){n||nn()}(void 0!==t),t}}class Mo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new MC(e)}where(e,t,r){try{return new Mo(this.firestore,gh(this._delegate,function yL(n,e,t){const r=e,i=SC("where",n);return new vL(i,r,t)}(e,t,r)))}catch(i){throw xo(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Mo(this.firestore,gh(this._delegate,function bL(n,e="asc"){const t=e,r=SC("orderBy",n);return new _L(r,t)}(e,t)))}catch(r){throw xo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Mo(this.firestore,gh(this._delegate,function EL(n){return sk("limit",n),new Ak("limit",n,"F")}(e)))}catch(t){throw xo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Mo(this.firestore,gh(this._delegate,function AL(n){return sk("limitToLast",n),new Ak("limitToLast",n,"L")}(e)))}catch(t){throw xo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Mo(this.firestore,gh(this._delegate,function wL(...n){return new wk("startAt",n,!0)}(...e)))}catch(t){throw xo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Mo(this.firestore,gh(this._delegate,function CL(...n){return new wk("startAfter",n,!1)}(...e)))}catch(t){throw xo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Mo(this.firestore,gh(this._delegate,function DL(...n){return new Ck("endBefore",n,!1)}(...e)))}catch(t){throw xo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Mo(this.firestore,gh(this._delegate,function TL(...n){return new Ck("endAt",n,!0)}(...e)))}catch(t){throw xo(t,"endAt()","Query.endAt()")}}isEqual(e){return uk(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function NL(n){n=cr(n,ao);const e=cr(n.firestore,ei),t=Wi(e),r=new Mg(e);return function zF(n,e){const t=new Gi;return n.asyncQueue.enqueueAndForget((0,nt.Z)(function*(){return(r=(0,nt.Z)(function*(i,a,c){try{const g=yield hC(i,a,!0),b=new UR(a,g._i),C=b.Wu(g.documents),R=b.applyChanges(C,!1);c.resolve(R.snapshot)}catch(g){const b=ly(g,`Failed to execute query '${a} against cache`);c.reject(b)}}),function(i,a,c){return r.apply(this,arguments)})(yield gx(n),e,t);var r})),t.promise}(t,n._query).then(i=>new ph(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function PL(n){n=cr(n,ao);const e=cr(n.firestore,ei),t=Wi(e),r=new Mg(e);return ek(t,n._query,{source:"server"}).then(i=>new ph(e,r,n,i))}(this._delegate):function kL(n){n=cr(n,ao);const e=cr(n.firestore,ei),t=Wi(e),r=new Mg(e);return Ek(n._query),ek(t,n._query).then(i=>new ph(e,r,n,i))}(this._delegate),t.then(r=>new xx(this.firestore,new ph(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Bk(e),r=Uk(e,i=>new xx(this.firestore,new ph(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return kk(this._delegate,t,r)}withConverter(e){return new Mo(this.firestore,this._delegate.withConverter(e?Rg.getInstance(this.firestore,e):null))}}class YL{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new gb(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class xx{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Mo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new gb(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new YL(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new gb(this._firestore,r))})}isEqual(e){return bk(this._delegate,e._delegate)}}class py extends Mo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new yl(this.firestore,e):null}doc(e){try{return new yl(this.firestore,void 0===e?AC(this._delegate):AC(this._delegate,e))}catch(t){throw xo(t,"doc()","CollectionReference.doc()")}}add(e){return function FL(n,e){const t=cr(n.firestore,ei),r=AC(n),i=xC(n.converter,e);return hy(t,[DC(Ig(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,zi.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new yl(this.firestore,t))}isEqual(e){return lk(this._delegate,e._delegate)}withConverter(e){return new py(this.firestore,this._delegate.withConverter(e?Rg.getInstance(this.firestore,e):null))}}function kg(n){return cr(n,Kr)}class Mx{constructor(...e){this._delegate=new bd(...e)}static documentId(){return new Mx(_i.keyField().canonicalString())}isEqual(e){return(e=(0,Xn.m9)(e))instanceof bd&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ng{constructor(e){this._delegate=e}static serverTimestamp(){const e=function HL(){return new bx("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Ng(e)}static delete(){const e=function UL(){return new ub("deleteField")}();return e._methodName="FieldValue.delete",new Ng(e)}static arrayUnion(...e){const t=function jL(...n){return new dL("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Ng(t)}static arrayRemove(...e){const t=function GL(...n){return new fL("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Ng(t)}static increment(e){const t=function zL(n){return new hL("increment",n)}(e);return t._methodName="FieldValue.increment",new Ng(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const QL={Firestore:Fk,GeoPoint:wC,Timestamp:ui,Blob:hb,Transaction:Lk,WriteBatch:Vk,DocumentReference:yl,DocumentSnapshot:pb,Query:Mo,QueryDocumentSnapshot:gb,QuerySnapshot:xx,CollectionReference:py,FieldPath:Mx,FieldValue:Ng,setLogLevel:function KL(n){!function II(n){hd.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function XL(n){(function JL(n,e){n.INTERNAL.registerComponent(new ev.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},QL)))})(n,(e,t)=>new Fk(e,t,new $L)),n.registerVersion("@firebase/firestore-compat","0.1.18")}(LT.Z);var e2=z(6451),RC=z(5363),t2=z(6063);class n2 extends Zr.x{constructor(e=1/0,t=1/0,r=t2.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:c}=this;t||(r.push(e),!i&&r.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let c=0;c<a.length&&!e.closed;c+=r?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const c=t.now();let g=0;for(let b=1;b<r.length&&r[b]<=c;b+=2)g=b;g&&r.splice(0,g+1)}}}var r2=z(3099);function Hk(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,r2.B)({connector:()=>new n2(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function jk(n,e){return(0,wm.m)(e)?Di(()=>n,e):Di(()=>n)}var Rx=z(9468);z(5867);const zk=new Map,l2={activated:!1,tokenObservers:[]},u2={initialized:!1,enabled:!1};function vs(n){return zk.get(n)||l2}function ou(n,e){zk.set(n,e)}function NC(){return u2}class p2{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,nt.Z)(function*(){t.stop();try{t.pending=new Xn.BH,yield function g2(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Xn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ro=new Xn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Wk(n){if(!vs(n).activated)throw Ro.create("use-before-activation",{appName:n.name})}function Ox(n,e){return Fx.apply(this,arguments)}function Fx(){return Fx=(0,nt.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const P=yield i.getHeartbeatsHeader();P&&(r["X-Firebase-Client"]=P)}const a={method:"POST",body:JSON.stringify(e),headers:r};let c,g;try{c=yield fetch(n,a)}catch(P){throw Ro.create("fetch-network-error",{originalErrorMessage:P.message})}if(200!==c.status)throw Ro.create("fetch-status-error",{httpStatus:c.status});try{g=yield c.json()}catch(P){throw Ro.create("fetch-parse-error",{originalErrorMessage:P.message})}const b=g.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw Ro.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const C=1e3*Number(b[1]),R=Date.now();return{token:g.token,expireTimeMillis:R+C,issuedAtTimeMillis:R}}),Fx.apply(this,arguments)}function b2(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const mb="firebase-app-check-store";let FC=null;function $k(){return FC||(FC=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Ro.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(mb,{keyPath:"compositeKey"})}}catch(t){e(Ro.create("storage-open",{originalErrorMessage:t.message}))}}),FC)}function Lx(){return Lx=(0,nt.Z)(function*(n,e){const r=(yield $k()).transaction(mb,"readwrite"),a=r.objectStore(mb).put({compositeKey:n,value:e});return new Promise((c,g)=>{a.onsuccess=b=>{c()},r.onerror=b=>{var C;g(Ro.create("storage-set",{originalErrorMessage:null===(C=b.target.error)||void 0===C?void 0:C.message}))}})}),Lx.apply(this,arguments)}const vb=new Ju.Yd("@firebase/app-check");function Jk(n,e){return(0,Xn.hl)()?function C2(n,e){return function Kk(n,e){return Lx.apply(this,arguments)}(function Qk(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{vb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Xk(){return NC().enabled}function eN(){return Hx.apply(this,arguments)}function Hx(){return Hx=(0,nt.Z)(function*(){const n=NC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Hx.apply(this,arguments)}const M2={error:"UNKNOWN_ERROR"};function R2(n){return Xn.US.encodeString(JSON.stringify(n),!1)}function LC(n){return jx.apply(this,arguments)}function jx(){return jx=(0,nt.Z)(function*(n,e=!1){const t=n.app;Wk(t);const r=vs(t);let a,i=r.token;if(!i){const b=yield r.cachedTokenPromise;b&&VC(b)&&(i=b)}if(!e&&i&&VC(i))return{token:i.token};let g,c=!1;if(Xk()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Ox(b2(t,yield eN()),n.heartbeatServiceProvider).then(C=>(r.exchangeTokenPromise=void 0,C)),c=!0);const b=yield r.exchangeTokenPromise;return yield Jk(t,b),ou(t,Object.assign(Object.assign({},r),{token:b})),{token:b.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(b=>(r.exchangeTokenPromise=void 0,b)),c=!0),i=yield r.exchangeTokenPromise}catch(b){"appCheck/throttled"===b.code?vb.warn(b.message):vb.error(b),a=b}return i?(g={token:i.token},ou(t,Object.assign(Object.assign({},r),{token:i})),yield Jk(t,i)):g=N2(a),c&&nN(t,g),g}),jx.apply(this,arguments)}function zx(n,e){const t=vs(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),ou(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function tN(n){const{app:e}=n,t=vs(e);let r=t.tokenRefresher;r||(r=function k2(n){const{app:e}=n;return new p2((0,nt.Z)(function*(){let r;if(r=vs(e).token?yield LC(n,!0):yield LC(n),r.error)throw r.error}),()=>!0,()=>{const t=vs(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),ou(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function nN(n,e){const t=vs(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function VC(n){return n.expireTimeMillis-Date.now()>0}function N2(n){return{token:R2(M2),error:n}}class P2{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=vs(this.app);for(const t of e)zx(this.app,t.next);return Promise.resolve()}}const cN="app-check-internal";!function $2(){(0,eu._registerComponent)(new ev.wA("app-check",n=>function O2(n,e){return new P2(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(cN).initialize()})),(0,eu._registerComponent)(new ev.wA(cN,n=>function F2(n){return{getToken:e=>LC(n,e),addTokenListener:e=>function Gx(n,e,t,r){const{app:i}=n,a=vs(i),c={next:t,error:r,type:e};if(ou(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,c]})),a.token&&VC(a.token)){const g=a.token;Promise.resolve().then(()=>{t({token:g.token}),tN(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>tN(n))}(n,"INTERNAL",e),removeTokenListener:e=>zx(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,eu.registerVersion)("@firebase/app-check","0.5.8")}();class $x{constructor(){return(0,Vi.vb)("app-check")}}"undefined"!=typeof window&&window;const fN=new u.OlP("angularfire2.auth.use-emulator"),hN=new u.OlP("angularfire2.auth.settings"),pN=new u.OlP("angularfire2.auth.tenant-id"),gN=new u.OlP("angularfire2.auth.langugage-code"),mN=new u.OlP("angularfire2.auth.use-device-language"),vN=new u.OlP("angularfire.auth.persistence"),yN=(n,e,t,r,i,a,c,g)=>(0,Fa.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const b=e.runOutsideAngular(()=>n.auth());if(t&&b.useEmulator(...t),r&&(b.tenantId=r),b.languageCode=i,a&&b.useDeviceLanguage(),c)for(const[C,R]of Object.entries(c))b.settings[C]=R;return g&&b.setPersistence(g),b},[t,r,i,a,c,g]);let yb=(()=>{class n{constructor(t,r,i,a,c,g,b,C,R,P,Z,Y){const ne=new Zr.x,Se=wn(void 0).pipe((0,RC.Q)(c.outsideAngular),Di(()=>a.runOutsideAngular(()=>Promise.resolve().then(z.bind(z,5881)))),(0,hn.U)(()=>(0,Fa.on)(t,a,r)),(0,hn.U)(rt=>yN(rt,a,g,C,R,P,b,Z)),Hk({bufferSize:1,refCount:!1}));if(jr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=wn(null);else{Se.pipe($u()).subscribe();const ot=Se.pipe(Di(Ct=>Ct.getRedirectResult().then(vn=>vn,()=>null)),Vi.iC,Hk({bufferSize:1,refCount:!1})),_t=Se.pipe(Di(Ct=>new Qs.y(vn=>({unsubscribe:a.runOutsideAngular(()=>Ct.onAuthStateChanged(gn=>vn.next(gn),gn=>vn.error(gn),()=>vn.complete()))})))),Rt=Se.pipe(Di(Ct=>new Qs.y(vn=>({unsubscribe:a.runOutsideAngular(()=>Ct.onIdTokenChanged(gn=>vn.next(gn),gn=>vn.error(gn),()=>vn.complete()))}))));this.authState=ot.pipe(jk(_t),(0,Rx.R)(c.outsideAngular),(0,RC.Q)(c.insideAngular)),this.user=ot.pipe(jk(Rt),(0,Rx.R)(c.outsideAngular),(0,RC.Q)(c.insideAngular)),this.idToken=this.user.pipe(Di(Ct=>Ct?(0,br.D)(Ct.getIdToken()):wn(null))),this.idTokenResult=this.user.pipe(Di(Ct=>Ct?(0,br.D)(Ct.getIdTokenResult()):wn(null))),this.credential=(0,e2.T)(ot,ne,this.authState.pipe(Qo(Ct=>!Ct))).pipe((0,hn.U)(Ct=>(null==Ct?void 0:Ct.user)?Ct:null),(0,Rx.R)(c.outsideAngular),(0,RC.Q)(c.insideAngular))}return(0,Fa.pX)(this,Se,a,{spy:{apply:(rt,ot,_t)=>{(rt.startsWith("signIn")||rt.startsWith("createUser"))&&_t.then(Rt=>ne.next(Rt))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Fa.Dh),u.LFG(Fa.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Vi.HU),u.LFG(fN,8),u.LFG(hN,8),u.LFG(pN,8),u.LFG(gN,8),u.LFG(mN,8),u.LFG(vN,8),u.LFG($x,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),eV=(()=>{class n{constructor(){Xu.Z.registerVersion("angularfire",Vi.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[yb]}),n})();function _N(n,e){return function tV(n,e=OT.z){return new Qs.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function Yx(n,e){return _N(n,e).pipe((0,hn.U)(t=>({payload:t,type:"query"})))}function UC(n,e){return Yx(n,e).pipe(bf(void 0),Bp(),(0,hn.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,g)=>{const b=i.find(R=>R.doc.ref.isEqual(c.ref)),C=null==t?void 0:t.payload.docs.find(R=>R.ref.isEqual(c.ref));b&&JSON.stringify(b.doc.metadata)===JSON.stringify(c.metadata)||!b&&C&&JSON.stringify(C.metadata)===JSON.stringify(c.metadata)||a.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:c}})}),a}))}function bN(n,e,t){return UC(n,t).pipe(Ef((r,i)=>function rV(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function iV(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Qx(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Qx(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Qx(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),function FT(n,e=Am.y){return n=null!=n?n:KA,(0,fs.e)((t,r)=>{let i,a=!0;t.subscribe((0,wi.x)(r,c=>{const g=e(c);(a||!n(i,g))&&(a=!1,i=g,r.next(c))}))})}(),(0,hn.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function Qx(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function EN(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class AN{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=UC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,hn.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(bf(void 0),Bp(),Qo(([r,i])=>i.length>0||!r),(0,hn.U)(([r,i])=>i),Vi.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ef((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=EN(e);return bN(this.query,t,this.afs.schedulers.outsideAngular).pipe(Vi.iC)}valueChanges(e={}){return Yx(this.query,this.afs.schedulers.outsideAngular).pipe((0,hn.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Vi.iC)}get(e){return(0,br.D)(this.query.get(e)).pipe(Vi.iC)}add(e){return this.ref.add(e)}doc(e){return new wN(this.ref.doc(e),this.afs)}}class wN{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=TN(r,t);return new AN(i,a,this.afs)}snapshotChanges(){return function nV(n,e){return _N(n,e).pipe(bf(void 0),Bp(),(0,hn.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Vi.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,hn.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,br.D)(this.ref.get(e)).pipe(Vi.iC)}}class sV{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?UC(this.query,this.afs.schedulers.outsideAngular).pipe((0,hn.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Qo(t=>t.length>0),Vi.iC):UC(this.query,this.afs.schedulers.outsideAngular).pipe(Vi.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ef((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=EN(e);return bN(this.query,t,this.afs.schedulers.outsideAngular).pipe(Vi.iC)}valueChanges(e={}){return Yx(this.query,this.afs.schedulers.outsideAngular).pipe((0,hn.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Vi.iC)}get(e){return(0,br.D)(this.query.get(e)).pipe(Vi.iC)}}const CN=new u.OlP("angularfire2.enableFirestorePersistence"),DN=new u.OlP("angularfire2.firestore.persistenceSettings"),oV=new u.OlP("angularfire2.firestore.settings"),aV=new u.OlP("angularfire2.firestore.use-emulator");function TN(n,e=(t=>t)){return{query:e(n),ref:n}}let IN=(()=>{class n{constructor(t,r,i,a,c,g,b,C,R,P,Z,Y,ne,Se,rt,ot,_t){this.schedulers=b;const Rt=(0,Fa.on)(t,g,r),Ct=R;P&&yN(Rt,g,Z,ne,Se,rt,Y,ot),[this.firestore,this.persistenceEnabled$]=(0,Fa.cc)(`${Rt.name}.firestore`,"AngularFirestore",Rt.name,()=>{const vn=g.runOutsideAngular(()=>Rt.firestore());if(a&&vn.settings(a),Ct&&vn.useEmulator(...Ct),i&&!jr(c)){const gn=()=>{try{return(0,br.D)(vn.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(Hn){return"undefined"!=typeof console&&console.warn(Hn),wn(!1)}};return[vn,g.runOutsideAngular(gn)]}return[vn,wn(!1)]},[a,Ct,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:c}=TN(i,r),g=this.schedulers.ngZone.run(()=>a);return new AN(g,c,this)}collectionGroup(t,r){const i=r||(c=>c),a=this.firestore.collectionGroup(t);return new sV(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new wN(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Fa.Dh),u.LFG(Fa.xv,8),u.LFG(CN,8),u.LFG(oV,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Vi.HU),u.LFG(DN,8),u.LFG(aV,8),u.LFG(yb,8),u.LFG(fN,8),u.LFG(hN,8),u.LFG(pN,8),u.LFG(gN,8),u.LFG(mN,8),u.LFG(vN,8),u.LFG($x,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),lV=(()=>{class n{constructor(){Xu.Z.registerVersion("angularfire",Vi.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:CN,useValue:!0},{provide:DN,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[IN]}),n})();const SN={apiKey:"AIzaSyDFtijVvYfE6ttxGGIFosKDTe3x7spSTK4",authDomain:"mindful-c1d5e.firebaseapp.com",projectId:"mindful-c1d5e",storageBucket:"mindful-c1d5e.appspot.com",messagingSenderId:"1085302276666",appId:"1:1085302276666:web:0f2616c0cca84b21f6eb03",measurementId:"G-YZS4H10MCM"},gy={userName:"UserName",preferences:"Preferences"};let xN=(()=>{class n{constructor(){this.isUserAuthenticated$=new Zr.x,this.setAuthenticatedUser=(t="")=>{0===t.length?(this.isUserAuthenticated$.next(!1),sessionStorage.removeItem(gy.userName)):(this.isUserAuthenticated$.next(!0),sessionStorage.setItem(gy.userName,t))},this.getAuthenticatedUser=()=>{var t;return null!==(t=sessionStorage.getItem(gy.userName))&&void 0!==t?t:""},this.setPreferences=t=>{sessionStorage.setItem(gy.preferences.toString(),JSON.stringify(t))},this.getPreferences=()=>{var t;const r=null!==(t=sessionStorage.getItem(gy.preferences.toString()))&&void 0!==t?t:"";return r.length>0?JSON.parse(r):{}},this.clear=()=>{this.isUserAuthenticated$.next(!1),sessionStorage.clear()},this.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ad=(()=>{class n{constructor(t){this.router=t,this.isLoginRoute$=new Zr.x,this.isFocusRoute$=new Zr.x,this.isPreferencesRoute$=new Zr.x,this.navigateFromLogin=()=>{this.router.navigate(["calendar"])},this.navigate=r=>{this.router.navigate([r])},this.createRouteSubscriptions=()=>{this.router.events.pipe(Qo(r=>r instanceof Cf)).subscribe(r=>{this.isLoginRoute$.next(r.url.includes("login")),this.isFocusRoute$.next(r.url.includes("focus")),this.isPreferencesRoute$.next(r.url.includes("preferences"))})},this.createRouteSubscriptions()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(hs))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),my=(()=>{class n{constructor(t,r,i,a){var c=this;this.store=t,this.angularFireAuth=r,this.sessionStorage=i,this.routerService=a,this.createUserFirebase=(g,b)=>(0,Xm.a5)(this.auth,g,b).then(C=>(console.log("Added user successfully to database."),{success:!0})).catch(C=>(console.error("Failed to Create User."),{success:!1,error:{errorMessage:C.message}})),this.loginEmailFirebase=(g,b)=>(0,Xm.a6)(this.auth,g,b).then(C=>(console.log("User authenticated successfully with database."),{success:!0})).catch(C=>(console.error("Failed to Create User."),{success:!1,error:{errorMessage:C.message}})),this.loginGoogleFirebase=()=>this.angularFireAuth.signInWithPopup(new Xu.Z.auth.GoogleAuthProvider).then(g=>(console.log("User authenticated successfully with google."),{success:!0})).catch(g=>(console.error("Failed to authenticate with Google."),{success:!1,error:{errorMessage:g.message}})),this.logoutFirebaseUser=()=>{this.authUser&&((0,Xm.y)(this.auth),this.sessionStorage.clear())},this.saveCalendarEvent=function(){var g=(0,nt.Z)(function*(b){void 0===b.id||""===b.id?c.getEventsCollection().get().subscribe(C=>{var R;b.id=PT(),b.userId=null===(R=c.authUser)||void 0===R?void 0:R.uid,c.store.collection("events").add(b)}):c.getEventsCollection(b.id).get().subscribe(C=>{c.store.collection("events").doc(C.docs[0].id).update(b)})});return function(b){return g.apply(this,arguments)}}(),this.deleteCalendarEvent=function(){var g=(0,nt.Z)(function*(b){c.getEventsCollection(b).get().subscribe(C=>{1===C.docs.length&&c.store.collection("events").doc(C.docs[0].id).delete()})});return function(b){return g.apply(this,arguments)}}(),this.getUserCalendarEvents=()=>this.getEventsCollection().snapshotChanges().pipe((0,hn.U)(g=>g.map(b=>Object.assign({id:b.payload.doc.id},b.payload.doc.data())))),this.saveUserPreferences=function(){var g=(0,nt.Z)(function*(b){var C,R,P;b.userId=null!==(P=null!==(C=b.userId)&&void 0!==C?C:null===(R=c.authUser)||void 0===R?void 0:R.uid)&&void 0!==P?P:"",c.getPreferencesCollection().snapshotChanges().subscribe(Z=>{if(Z.length>0){const Y=Z[0].payload.doc.id;c.store.collection("preferences").doc(Y).update(b)}else c.store.collection("preferences").add(b)})});return function(b){return g.apply(this,arguments)}}(),this.getUserPreferences=()=>this.getPreferencesCollection().snapshotChanges().pipe((0,hn.U)(g=>g.map(b=>Object.assign({id:b.payload.doc.id},b.payload.doc.data()))),$u()),this.getPreferencesCollection=()=>this.store.collection("preferences",g=>{var b;return g.where("userId","==",null===(b=this.authUser)||void 0===b?void 0:b.uid)}),this.getEventsCollection=(g="")=>this.store.collection("events",g.length>0?b=>b.where("id","==",g):b=>{var C;return b.where("userId","==",null===(C=this.authUser)||void 0===C?void 0:C.uid)}),this.auth=(0,Xm.n)(),this.auth.onAuthStateChanged(g=>{var b;g?(this.authUser=g,this.sessionStorage.setAuthenticatedUser(null!==(b=g.email)&&void 0!==b?b:""),this.routerService.navigateFromLogin()):this.authUser=void 0})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(IN),u.LFG(yb),u.LFG(xN),u.LFG(Ad))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var uV=z(2559),cV=z.n(uV),na=z(3580),dV=z(5599),MN="undefined"!=typeof globalThis?globalThis:window;MN.FullCalendarVDom?console.warn("FullCalendar VDOM already loaded"):MN.FullCalendarVDom={Component:na.Component,createElement:na.createElement,render:na.render,createRef:na.createRef,Fragment:na.Fragment,createContext:function pV(n){var e=na.createContext(n),t=e.Provider;return e.Provider=function(){var r=this,i=!this.getChildContext,a=t.apply(this,arguments);if(i){var c=[];this.shouldComponentUpdate=function(g){r.props.value!==g.value&&c.forEach(function(b){b.context=g.value,b.forceUpdate()})},this.sub=function(g){c.push(g);var b=g.componentWillUnmount;g.componentWillUnmount=function(){c.splice(c.indexOf(g),1),b&&b.call(g)}}}return a},e},createPortal:dV.createPortal,flushSync:function fV(n){n();var e=na.options.debounceRendering,t=[];for(na.options.debounceRendering=function r(i){t.push(i)},na.render(na.createElement(hV,{}),document.createElement("div"));t.length;)t.shift()();na.options.debounceRendering=e},unmountComponentAtNode:function gV(n){na.render(null,n)}};var hV=function(n){function e(){return null!==n&&n.apply(this,arguments)||this}return(0,Qt.__extends)(e,n),e.prototype.render=function(){return na.createElement("div",{})},e.prototype.componentDidMount=function(){this.setState({})},e}(na.Component),mV=function(n){function e(t,r){void 0===r&&(r={});var i=n.call(this)||this;return i.isRendering=!1,i.isRendered=!1,i.currentClassNames=[],i.customContentRenderId=0,i.handleAction=function(a){switch(a.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":i.renderRunner.tryDrain()}},i.handleData=function(a){i.currentData=a,i.renderRunner.request(a.calendarOptions.rerenderDelay)},i.handleRenderRequest=function(){if(i.isRendering){i.isRendered=!0;var a=i.currentData;(0,ie.flushSync)(function(){(0,ie.render)((0,ie.createElement)(ie.CalendarRoot,{options:a.calendarOptions,theme:a.theme,emitter:a.emitter},function(c,g,b,C){return i.setClassNames(c),i.setHeight(g),(0,ie.createElement)(ie.CustomContentRenderContext.Provider,{value:i.customContentRenderId},(0,ie.createElement)(ie.CalendarContent,(0,Qt.__assign)({isHeightAuto:b,forPrint:C},a)))}),i.el)})}else i.isRendered&&(i.isRendered=!1,(0,ie.unmountComponentAtNode)(i.el),i.setClassNames([]),i.setHeight(""))},i.el=t,i.renderRunner=new ie.DelayedRunner(i.handleRenderRequest),new ie.CalendarDataManager({optionOverrides:r,calendarApi:i,onAction:i.handleAction,onData:i.handleData}),i}return(0,Qt.__extends)(e,n),Object.defineProperty(e.prototype,"view",{get:function(){return this.currentData.viewApi},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t=this.isRendering;t?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),t&&this.updateSize()},e.prototype.destroy=function(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())},e.prototype.updateSize=function(){var t=this;(0,ie.flushSync)(function(){n.prototype.updateSize.call(t)})},e.prototype.batchRendering=function(t){this.renderRunner.pause("batchRendering"),t(),this.renderRunner.resume("batchRendering")},e.prototype.pauseRendering=function(){this.renderRunner.pause("pauseRendering")},e.prototype.resumeRendering=function(){this.renderRunner.resume("pauseRendering",!0)},e.prototype.resetOptions=function(t,r){this.currentDataManager.resetOptions(t,r)},e.prototype.setClassNames=function(t){if(!(0,ie.isArraysEqual)(t,this.currentClassNames)){for(var r=this.el.classList,i=0,a=this.currentClassNames;i<a.length;i++)r.remove(a[i]);for(var g=0,b=t;g<b.length;g++)r.add(b[g]);this.currentClassNames=t}},e.prototype.setHeight=function(t){(0,ie.applyStyleProp)(this.el,"height",t)},e}(ie.CalendarApi);const vV=Object.prototype.hasOwnProperty;function HC(n){return Array.isArray(n)?n.map(HC):n instanceof Date?new Date(n.valueOf()):"object"==typeof n&&n?RN(n,HC):n}function yV(n){return"object"==typeof n&&(Array.isArray(n)?n=Array.prototype.slice.call(n):n&&(n=Object.assign({},n))),n}function RN(n,e){const t={};for(const r in n)vV.call(n,r)&&(t[r]=e(n[r],r));return t}const kN={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0};let _V=(()=>{class n{constructor(t){this.element=t,this.optionSnapshot={}}ngAfterViewInit(){const{deepChangeDetection:t}=this,r=this.options||{};this.optionSnapshot=RN(r,(i,a)=>t&&kN[a]?HC(i):i),this.calendar=new mV(this.element.nativeElement,r),this.calendar.render()}ngDoCheck(){if(this.calendar){const{deepChangeDetection:t,optionSnapshot:r}=this,i=this.options||{},a={};let c=!1;for(const b in i)if(i.hasOwnProperty(b)){let C=i[b];t&&kN[b]?cV()(r[b],C)||(r[b]=HC(C),c=!0,C=yV(C)):r[b]!==C&&(r[b]=C,c=!0),a[b]=C}const g=Object.keys(r);for(const b of g)b in i||(delete r[b],c=!0);c&&(this.calendar.pauseRendering(),this.calendar.resetOptions(a))}}ngAfterContentChecked(){this.calendar&&this.calendar.resumeRendering()}ngOnDestroy(){this.calendar&&(this.calendar.destroy(),this.calendar=null)}getApi(){return this.calendar}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq))},n.\u0275cmp=u.Xpm({type:n,selectors:[["full-calendar"]],inputs:{options:"options",deepChangeDetection:"deepChangeDetection"},decls:0,vars:0,template:function(t,r){},styles:['@charset "UTF-8";.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{vertical-align:top;padding:0}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype");font-weight:400;font-style:normal}.fc-icon{display:inline-block;width:1em;height:1em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;font-family:fcicons!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;overflow:visible;text-transform:none;margin:0;font-family:inherit;font-size:inherit;line-height:inherit}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{padding:0;border-style:none}.fc .fc-button{display:inline-block;font-weight:400;text-align:center;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.4em .65em;font-size:1em;line-height:1.5;border-radius:.25em}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{outline:0;box-shadow:0 0 0 .2rem rgba(44,62,80,.25)}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50)}.fc .fc-button-primary:hover{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#1e2b37;background-color:var(--fc-button-hover-bg-color,#1e2b37);border-color:#1a252f;border-color:var(--fc-button-hover-border-color,#1a252f)}.fc .fc-button-primary:disabled{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#1a252f;background-color:var(--fc-button-active-bg-color,#1a252f);border-color:#151e27;border-color:var(--fc-button-active-border-color,#151e27)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{vertical-align:middle;font-size:1.5em}.fc .fc-button-group{position:relative;display:inline-flex;vertical-align:middle}.fc .fc-button-group>.fc-button{position:relative;flex:1 1 auto}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){margin-right:-1px;border-top-right-radius:0;border-bottom-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-top-left-radius:0;border-bottom-left-radius:0}.fc .fc-toolbar{display:flex;justify-content:space-between;align-items:center}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{position:absolute;top:0;right:0;left:0;bottom:0}.fc .fc-scroller-harness{position:relative;overflow:hidden;direction:ltr}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{width:100%;table-layout:fixed}.fc .fc-scrollgrid table{border-top-style:hidden;border-left-style:hidden;border-right-style:hidden}.fc .fc-scrollgrid{border-collapse:separate;border-right-width:0;border-bottom-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section>td,.fc .fc-scrollgrid-section table{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-top-width:0;border-left-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:-webkit-sticky;position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:-webkit-sticky;position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{position:absolute;top:0;left:0;right:0;bottom:0}.fc .fc-non-business{background:hsla(0,0%,84.3%,.3);background:var(--fc-non-business-color,hsla(0,0%,84.3%,.3))}.fc .fc-bg-event{background:#8fdf82;background:var(--fc-bg-event-color,#8fdf82);opacity:.3;opacity:var(--fc-bg-event-opacity,.3)}.fc .fc-bg-event .fc-event-title{margin:.5em;font-size:.85em;font-size:var(--fc-small-font-size,.85em);font-style:italic}.fc .fc-highlight{background:rgba(188,232,241,.3);background:var(--fc-highlight-color,rgba(188,232,241,.3))}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{border-radius:4px;border-radius:calc(var(--fc-event-resizer-dot-total-width, 8px) / 2);border-width:1px;width:8px;width:var(--fc-event-resizer-dot-total-width,8px);height:8px;height:var(--fc-event-resizer-dot-total-width,8px);border:var(--fc-event-resizer-dot-border-width,1px) solid;border-color:inherit;background:#fff;background:var(--fc-page-bg-color,#fff)}.fc-event-selected .fc-event-resizer:before{content:"";position:absolute;top:-20px;left:-20px;right:-20px;bottom:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{content:"";position:absolute;z-index:3;top:0;left:0;right:0;bottom:0}.fc-event-selected:after,.fc-event:focus:after{content:"";background:rgba(0,0,0,.25);background:var(--fc-event-selected-overlay-color,rgba(0,0,0,.25));position:absolute;z-index:1;top:-1px;left:-1px;right:-1px;bottom:-1px}.fc-h-event{display:block;border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8)}.fc-h-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;vertical-align:top;left:0;right:0;max-width:100%;overflow:hidden}.fc-h-event.fc-event-selected:before{top:-10px;bottom:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-top-left-radius:0;border-bottom-left-radius:0;border-left-width:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-top-right-radius:0;border-bottom-right-radius:0;border-right-width:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{top:0;bottom:0;width:8px;width:var(--fc-event-resizer-thickness,8px)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:-4px;left:calc(-.5 * var(--fc-event-resizer-thickness, 8px))}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:-4px;right:calc(-.5 * var(--fc-event-resizer-thickness, 8px))}.fc-h-event.fc-event-selected .fc-event-resizer{top:50%;margin-top:-4px;margin-top:calc(-.5 * var(--fc-event-resizer-dot-total-width, 8px))}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:-4px;left:calc(-.5 * var(--fc-event-resizer-dot-total-width, 8px))}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:-4px;right:calc(-.5 * var(--fc-event-resizer-dot-total-width, 8px))}.fc .fc-popover{position:absolute;z-index:9999;box-shadow:0 2px 6px rgba(0,0,0,.15)}.fc .fc-popover-header{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;opacity:.65;font-size:1.1em}.fc-theme-standard .fc-popover{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd);background:#fff;background:var(--fc-page-bg-color,#fff)}.fc-theme-standard .fc-popover-header{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}:root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{content:"";clear:both;display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-daygrid-day-frame{position:relative;min-height:100%}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{position:relative;z-index:4;padding:4px}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{position:absolute;left:0;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{position:relative;min-height:2em}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{position:absolute;top:0;left:0;right:0}.fc .fc-daygrid-bg-harness{position:absolute;top:0;bottom:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{z-index:6;margin-top:1px}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;padding:2px 3px 0}.fc .fc-daygrid-day-bottom:before{content:"";clear:both;display:table}.fc .fc-daygrid-more-link{position:relative;z-index:4;cursor:pointer}.fc .fc-daygrid-week-number{position:absolute;z-index:5;top:0;padding:2px;min-width:1.5em;text-align:center;background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));color:grey;color:var(--fc-neutral-text-color,grey)}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-week-number{left:0;border-radius:0 0 3px 0}.fc-direction-rtl .fc-daygrid-week-number{right:0;border-radius:0 0 0 3px}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{position:relative;white-space:nowrap;border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{display:flex;align-items:center;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;min-width:0;overflow:hidden;font-weight:700}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{top:-10px;bottom:-10px}.fc-daygrid-event-dot{margin:0 4px;box-sizing:content-box;width:0;height:0;border:4px solid #3788d8;border:calc(var(--fc-daygrid-event-dot-width, 8px) / 2) solid var(--fc-event-border-color,#3788d8);border-radius:4px;border-radius:calc(var(--fc-daygrid-event-dot-width, 8px) / 2)}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}.fc-v-event{display:block;border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8)}.fc-v-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff);height:100%}.fc-v-event .fc-event-main-frame{height:100%;display:flex;flex-direction:column}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{top:0;bottom:0;max-height:100%;overflow:hidden}.fc-v-event:not(.fc-event-start){border-top-width:0;border-top-left-radius:0;border-top-right-radius:0}.fc-v-event:not(.fc-event-end){border-bottom-width:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:8px;height:var(--fc-event-resizer-thickness,8px);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:-4px;margin-left:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{position:relative;z-index:1;min-height:100%}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{height:1.5em;border-bottom:0}.fc .fc-timegrid-slot:empty:before{content:"\xa0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{overflow:hidden;display:flex;align-items:center;justify-content:flex-end}.fc .fc-timegrid-axis-cushion{max-width:60px;flex-shrink:0}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-timegrid-col.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc-media-screen .fc-timegrid-cols{position:absolute;top:0;left:0;right:0;bottom:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{position:absolute;top:0;left:0;right:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{position:absolute;left:0;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{position:absolute;top:0;bottom:0;left:0;right:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px #fff;box-shadow:0 0 0 1px var(--fc-page-bg-color,#fff)}.fc-timegrid-event,.fc-timegrid-more-link{font-size:.85em;font-size:var(--fc-small-font-size,.85em);border-radius:3px}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{white-space:nowrap;font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\xa0-\xa0"}.fc-timegrid-event-short .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timegrid-more-link{position:absolute;z-index:9999;color:inherit;color:var(--fc-more-link-text-color,inherit);background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);cursor:pointer;margin-bottom:1px}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{position:absolute;z-index:4;left:0;right:0;border:0 solid red;border-color:var(--fc-now-indicator-color,red);border-top:1px solid var(--fc-now-indicator-color,red)}.fc .fc-timegrid-now-indicator-arrow{position:absolute;z-index:4;margin-top:-5px;border-style:solid;border-color:red;border-color:var(--fc-now-indicator-color,red)}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{left:0;border-width:5px 0 5px 6px;border-top-color:transparent;border-bottom-color:transparent}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{right:0;border-width:5px 6px 5px 0;border-top-color:transparent;border-bottom-color:transparent}:root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-list-empty{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));height:100%;display:flex;justify-content:center;align-items:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{width:100%;border-style:hidden}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{position:-webkit-sticky;position:sticky;top:0;background:#fff;background:var(--fc-page-bg-color,#fff)}.fc .fc-list-table thead{position:absolute;left:-10000px}.fc .fc-list-table tbody>tr:first-child th{border-top:0}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{content:"";clear:both;display:table}.fc-theme-standard .fc-list-day-cushion{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:#f5f5f5;background-color:var(--fc-list-event-hover-bg-color,#f5f5f5)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{display:inline-block;box-sizing:content-box;width:0;height:0;border:5px solid #3788d8;border:calc(var(--fc-list-event-dot-width, 10px) / 2) solid var(--fc-event-border-color,#3788d8);border-radius:5px;border-radius:calc(var(--fc-list-event-dot-width, 10px) / 2)}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}.fc-theme-bootstrap a:not([href]){color:inherit}.fc .fc-event,.fc .fc-scrollgrid table tr{-moz-column-break-inside:avoid;break-inside:avoid}.fc-media-print{display:block;max-width:100%}.fc-media-print .fc-bg-event,.fc-media-print .fc-non-business,.fc-media-print .fc-timegrid-axis-chunk,.fc-media-print .fc-timegrid-slots,.fc-media-print .fc-timeline-slots{display:none}.fc-media-print .fc-h-event,.fc-media-print .fc-toolbar button,.fc-media-print .fc-v-event{color:#000!important;background:#fff!important}.fc-media-print .fc-event,.fc-media-print .fc-event-main{color:#000!important}.fc-media-print .fc-timegrid-event{margin:.5em 0}.fc .fc-timeline-body{min-height:100%;position:relative;z-index:1}.fc .fc-timeline-slots{position:absolute;z-index:1;top:0;bottom:0}.fc .fc-timeline-slots>table{height:100%}.fc .fc-timeline-slot-minor{border-style:dotted}.fc .fc-timeline-slot-frame{display:flex;align-items:center;justify-content:center}.fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame{justify-content:flex-start}.fc .fc-timeline-header-row:last-child .fc-timeline-slot-frame{overflow:hidden}.fc .fc-timeline-slot-cushion{padding:4px 5px;white-space:nowrap}.fc-direction-ltr .fc-timeline-slot{border-right:0!important}.fc-direction-rtl .fc-timeline-slot{border-left:0!important}.fc .fc-timeline-now-indicator-container{position:absolute;z-index:4;top:0;bottom:0;left:0;right:0;width:0}.fc .fc-timeline-now-indicator-arrow,.fc .fc-timeline-now-indicator-line{position:absolute;top:0;border-style:solid;border-color:red;border-color:var(--fc-now-indicator-color,red)}.fc .fc-timeline-now-indicator-arrow{margin:0 -6px;border-width:6px 5px 0;border-left-color:transparent;border-right-color:transparent}.fc .fc-timeline-now-indicator-line{margin:0 -1px;bottom:0;border-width:0 0 0 1px}.fc .fc-timeline-events{position:relative;z-index:3;width:0}.fc .fc-timeline-event-harness,.fc .fc-timeline-more-link{position:absolute;top:0}.fc-timeline-event{z-index:1}.fc-timeline-event.fc-event-mirror{z-index:2}.fc-timeline-event{position:relative;display:flex;align-items:center;border-radius:0;padding:2px 1px;margin-bottom:1px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timeline-event .fc-event-main{flex-grow:1;flex-shrink:1;min-width:0}.fc-timeline-event .fc-event-time{font-weight:700}.fc-timeline-event .fc-event-time,.fc-timeline-event .fc-event-title{white-space:nowrap;padding:0 2px}.fc-direction-ltr .fc-timeline-event.fc-event-end,.fc-direction-ltr .fc-timeline-more-link{margin-right:1px}.fc-direction-rtl .fc-timeline-event.fc-event-end,.fc-direction-rtl .fc-timeline-more-link{margin-left:1px}.fc-timeline-overlap-disabled .fc-timeline-event{padding-top:5px;padding-bottom:5px;margin-bottom:0}.fc-timeline-event:not(.fc-event-end):after,.fc-timeline-event:not(.fc-event-start):before{content:"";flex-grow:0;flex-shrink:0;opacity:.5;width:0;height:0;margin:0 1px;border-color:transparent #000;border-style:solid;border-width:5px}.fc-direction-ltr .fc-timeline-event:not(.fc-event-start):before,.fc-direction-rtl .fc-timeline-event:not(.fc-event-end):after{border-left:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-end):after,.fc-direction-rtl .fc-timeline-event:not(.fc-event-start):before{border-right:0}.fc-timeline-more-link{font-size:.85em;font-size:var(--fc-small-font-size,.85em);color:inherit;color:var(--fc-more-link-text-color,inherit);background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);padding:1px;cursor:pointer}.fc-timeline-more-link-inner{display:inline-block;left:0;right:0;padding:2px}.fc .fc-timeline-bg{position:absolute;z-index:2;top:0;bottom:0;width:0;left:0;right:0}.fc .fc-timeline-bg .fc-non-business{z-index:1}.fc .fc-timeline-bg .fc-bg-event{z-index:2}.fc .fc-timeline-bg .fc-highlight{z-index:3}.fc .fc-timeline-bg-harness{position:absolute;top:0;bottom:0}.fc .fc-resource-timeline-divider{width:3px;cursor:col-resize}.fc .fc-resource-group{font-weight:inherit;text-align:inherit}.fc .fc-resource-timeline .fc-resource-group:not([rowspan]){background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc .fc-timeline-lane-frame{position:relative}.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events{box-sizing:content-box;padding-bottom:10px}.fc-timeline-body-expandrows td.fc-timeline-lane{position:relative}.fc-timeline-body-expandrows .fc-timeline-lane-frame{position:static}.fc-datagrid-cell-frame-liquid{height:100%}.fc-liquid-hack .fc-datagrid-cell-frame-liquid{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-datagrid-header .fc-datagrid-cell-frame{position:relative;display:flex;justify-content:flex-start;align-items:center}.fc .fc-datagrid-cell-resizer{position:absolute;z-index:1;top:0;bottom:0;width:5px;cursor:col-resize}.fc .fc-datagrid-cell-cushion{padding:8px;white-space:nowrap;overflow:hidden}.fc .fc-datagrid-expander{cursor:pointer;opacity:.65}.fc .fc-datagrid-expander .fc-icon{display:inline-block;width:1em}.fc .fc-datagrid-expander-placeholder{cursor:auto}.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder{display:none}.fc-direction-ltr .fc-datagrid-cell-resizer{right:-3px}.fc-direction-rtl .fc-datagrid-cell-resizer{left:-3px}.fc-direction-ltr .fc-datagrid-expander{margin-right:3px}.fc-direction-rtl .fc-datagrid-expander{margin-left:3px}'],encapsulation:2}),n})(),NN=(()=>{class n{static registerPlugins(t){ie.globalPlugins.push(...t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[]]}),n})();const bV=["fullcalendar"];function EV(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"dialog",6,7)(2,"div",8)(3,"div",1)(4,"h1"),u._uU(5,"Mindful Log"),u.qZA()(),u.TgZ(6,"div",9)(7,"i"),u._uU(8),u.qZA()(),u.TgZ(9,"div",10)(10,"label",11),u._uU(11,"Date"),u.qZA(),u.TgZ(12,"input",12),u.NdJ("ngModelChange",function(i){return u.CHM(t),u.oxw().date=i}),u.qZA()(),u.TgZ(13,"div",10)(14,"label",11),u._uU(15,"Number of Minutes"),u.qZA(),u.TgZ(16,"input",13),u.NdJ("ngModelChange",function(i){return u.CHM(t),u.oxw().timeMinutes=i}),u.qZA()(),u.TgZ(17,"div",9)(18,"label",14),u._uU(19,"Event Description"),u.qZA(),u.TgZ(20,"input",15),u.NdJ("ngModelChange",function(i){return u.CHM(t),u.oxw().eventDescription=i}),u.qZA()(),u.TgZ(21,"div",9)(22,"div",16)(23,"button",17),u.NdJ("click",function(){return u.CHM(t),u.oxw().colorSelected("color1")}),u.qZA()(),u.TgZ(24,"div",16)(25,"button",17),u.NdJ("click",function(){return u.CHM(t),u.oxw().colorSelected("color2")}),u.qZA()(),u.TgZ(26,"div",16)(27,"button",17),u.NdJ("click",function(){return u.CHM(t),u.oxw().colorSelected("color3")}),u.qZA()(),u.TgZ(28,"div",16)(29,"button",17),u.NdJ("click",function(){return u.CHM(t),u.oxw().colorSelected("color4")}),u.qZA()(),u.TgZ(30,"div",16)(31,"button",17),u.NdJ("click",function(){return u.CHM(t),u.oxw().colorSelected("color5")}),u.qZA()(),u.TgZ(32,"div",16)(33,"button",17),u.NdJ("click",function(){return u.CHM(t),u.oxw().colorSelected("color6")}),u.qZA()()(),u.TgZ(34,"div",1)(35,"div",18)(36,"button",19),u.NdJ("click",function(){return u.CHM(t),u.oxw().deleteModal()}),u._uU(37,"Delete"),u.qZA()(),u.TgZ(38,"div",20)(39,"button",21),u.NdJ("click",function(){return u.CHM(t),u.oxw().saveModal()}),u._uU(40,"Save"),u.qZA(),u.TgZ(41,"button",22),u.NdJ("click",function(){return u.CHM(t),u.oxw().closeModal()}),u._uU(42,"Close"),u.qZA()()()()()}if(2&n){const t=u.oxw();u.xp6(8),u.Oqu(t.description),u.xp6(4),u.Q6J("ngModel",t.date),u.xp6(4),u.Q6J("ngModel",t.timeMinutes),u.xp6(4),u.MGl("placeholder","",t.description," notes..."),u.Q6J("ngModel",t.eventDescription),u.xp6(3),u.Udp("background",t.userPreferences.color1),u.xp6(2),u.Udp("background",t.userPreferences.color2),u.xp6(2),u.Udp("background",t.userPreferences.color3),u.xp6(2),u.Udp("background",t.userPreferences.color4),u.xp6(2),u.Udp("background",t.userPreferences.color5),u.xp6(2),u.Udp("background",t.userPreferences.color6)}}function AV(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"dialog",6,7)(2,"div",8)(3,"div",1)(4,"h1"),u._uU(5,"Mindful Logger"),u.qZA()(),u.TgZ(6,"div",9)(7,"p"),u._uU(8),u.qZA()(),u.TgZ(9,"div")(10,"button",22),u.NdJ("click",function(){return u.CHM(t),u.oxw().closeOverviewModal()}),u._uU(11,"Close"),u.qZA()()()()}if(2&n){const t=u.oxw();u.xp6(8),u.Oqu(t.Overview_description)}}let wV=(()=>{class n{constructor(t,r){var i=this;this.toastrService=t,this.fireService=r,this.counter=0,this.flag=!0,this.isOverviewModelOpen=!1,this.description="How Long were you Mindful Today?",this.eventDescription=void 0,this.eventColor=void 0,this.date=$n(Date.now(),"YYYY-MM-dd","en_US"),this.isModalOpen=!1,this.currentEventId="",this.userPreferences={},this.userEvents=[],this.destroyed$=new Zr.x,this.closeOverviewModal=()=>{this.isOverviewModelOpen=!1},this.showOverviewModal=()=>{this.isOverviewModelOpen=!0},this.closeModal=()=>{this.isModalOpen=!1,this.currentEventId=""},this.showModal=()=>{this.isModalOpen=!0},this.saveModal=(0,nt.Z)(function*(){var a;const c={id:i.currentEventId,title:i.eventDescription,timeMinutes:i.timeMinutes,start:new Date(i.date+"T00:00:00"),color:i.eventColor,allDay:!0};if(null==i.eventDescription||void 0===i.eventDescription)i.toastrService.error("Description is Required.");else if(null==c.color||void 0===c.color)i.toastrService.error("Color is Required.");else if(null==c.timeMinutes||void 0===c.timeMinutes)i.toastrService.error("Number of Minutes is Required.");else{let g=0;const b=new Date($n(Date.now(),"YYYY-MM-dd","en_US")+"T00:00:00");i.userEvents.push(c),i.userEvents.forEach(C=>{var R,P;(null===(R=null==C?void 0:C.start)||void 0===R?void 0:R.getDate())===b.getDate()&&(g+=null!==(P=null==C?void 0:C.timeMinutes)&&void 0!==P?P:0)}),i.counter+=1,g>i.userPreferences.dailyMinuteGoal&&i.flag&&(i.Overview_description=i.userPreferences.trackingDescription+": "+g+" minutes.",i.showOverviewModal(),i.flag=!1),null===(a=i.calendarComponent)||void 0===a||a.getApi().addEvent(c),yield i.fireService.saveCalendarEvent(c).then(()=>{i.toastrService.success("Event Created.")}).catch(C=>{i.toastrService.error(C)}),i.closeModal()}}),this.deleteModal=(0,nt.Z)(function*(){yield i.fireService.deleteCalendarEvent(i.currentEventId).then(()=>{i.toastrService.success("Event Deleted."),i.closeModal()}).catch(a=>{i.toastrService.error(a)})}),this.dateClick=a=>{this.date=$n(a.date,"YYYY-MM-dd","en_US")},this.addEventClick=()=>{this.eventDescription=void 0,this.isModalOpen=!0},this.eventClick=a=>{var c;const g=a.event;console.log(g),this.date=$n(null!==(c=g.start)&&void 0!==c?c:Date.now(),"YYYY-MM-dd","en_US"),this.eventDescription=g.title,this.currentEventId=g.id,this.showModal()},this.eventDrag=function(){var a=(0,nt.Z)(function*(c){const g=c.event,b={id:g.id,title:g.title,start:g.start,color:g.backgroundColor,allDay:g.allDay};yield i.fireService.saveCalendarEvent(b)});return function(c){return a.apply(this,arguments)}}(),this.calendarOptions={plugins:[OA],eventDisplay:"",defaultRangeSeparator:"",titleRangeSeparator:"",defaultTimedEventDuration:"",defaultAllDayEventDuration:{day:1},forceEventDuration:!0,nextDayThreshold:"",dayHeaders:!0,initialView:"dayGridMonth",aspectRatio:1,headerToolbar:{start:"addEventButton",center:"",end:"dayGridMonth today prev next"},weekends:!0,weekNumbers:!0,editable:!0,nowIndicator:!0,themeSystem:"bootstrap",dragRevertDuration:1,dayPopoverFormat:{month:"2-digit",day:"2-digit",year:"2-digit"},handleWindowResize:!0,windowResizeDelay:0,longPressDelay:0,eventDragMinDistance:0,expandRows:!0,navLinks:!0,selectable:!0,eventMinHeight:0,eventMinWidth:0,eventShortHeight:0,customButtons:{addEventButton:{text:"Add Event",click:this.addEventClick}},dateClick:this.dateClick.bind(this),eventClick:this.eventClick.bind(this),eventDrop:this.eventDrag.bind(this)},this.colorSelected=a=>{switch(a){case"color1":default:this.eventColor=this.userPreferences.color1;break;case"color2":this.eventColor=this.userPreferences.color2;break;case"color3":this.eventColor=this.userPreferences.color3;break;case"color4":this.eventColor=this.userPreferences.color4;break;case"color5":this.eventColor=this.userPreferences.color5;break;case"color6":this.eventColor=this.userPreferences.color6}},this.requestCalendarData=()=>{var a,c;null===(c=null===(a=this.calendarComponent)||void 0===a?void 0:a.getApi())||void 0===c||c.batchRendering(()=>{var g,b,C,R;null===(b=null===(g=this.calendarComponent)||void 0===g?void 0:g.getApi())||void 0===b||b.removeAllEvents(),null===(R=null===(C=this.calendarComponent)||void 0===C?void 0:C.getApi())||void 0===R||R.addEventSource(this.userEvents)})}}ngOnDestroy(){this.userEvents=[],this.destroyed$.next(!0),this.destroyed$.complete()}ngOnInit(){this.fireService.getUserPreferences().subscribe(t=>{var r;this.userPreferences=null!==(r=t[0])&&void 0!==r?r:{},this.description=this.userPreferences.trackingDescription},z_(this.destroyed$)),this.fireService.getUserCalendarEvents().subscribe(t=>{t.forEach(r=>{r.start=r.start.toDate()}),this.userEvents=t,this.requestCalendarData()},z_(this.destroyed$))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Xl),u.Y36(my))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-calendar"]],viewQuery:function(t,r){if(1&t&&u.Gf(bV,5),2&t){let i;u.iGM(i=u.CRH())&&(r.calendarComponent=i.first)}},decls:7,vars:3,consts:[[1,"container","formMain"],[1,"row"],[1,"col-12"],["id","calendar-main",3,"options"],["fullcalendar",""],["id","addEventDialog",4,"ngIf"],["id","addEventDialog"],["addEventDialog",""],[1,"container","h-100","float-left"],[1,"row","mb-3"],[1,"row","mb-2"],["for","eventDateInput"],["id","eventDateInput","type","date","placeholder","YYYY/MM/DD",1,"form-control",3,"ngModel","ngModelChange"],["id","eventDateInput","type","number","placeholder","Minutes...",1,"form-control",3,"ngModel","ngModelChange"],["for","eventMinutesInput"],["id","eventMinutesInput","type","text",1,"form-control",3,"ngModel","placeholder","ngModelChange"],[1,"col-2"],["id","colorPickerInput",1,"w-100","btn",3,"click"],[1,"flex-row","w-25"],[1,"mr-5","btn","btn-danger",3,"click"],[1,"d-flex","flex-row-reverse","w-75"],[1,"ml-3","btn","btn-primary",3,"click"],[1,"btn","btn-secondary",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2),u._UZ(3,"full-calendar",3,4),u.qZA()()(),u.YNc(5,EV,43,17,"dialog",5),u.YNc(6,AV,12,1,"dialog",5)),2&t&&(u.xp6(3),u.Q6J("options",r.calendarOptions),u.xp6(2),u.Q6J("ngIf",!!r.isModalOpen),u.xp6(1),u.Q6J("ngIf",!!r.isOverviewModelOpen))},directives:[_V,vr,us,ai,qo,Vl],styles:[".form-group[_ngcontent-%COMP%]{padding:1rem}#calendar-main[_ngcontent-%COMP%]{position:relative;scale:.01vh;max-width:70vw!important;max-height:70vh!important;padding:25px;color:#fff}#debugCalendarButton[_ngcontent-%COMP%]{z-index:9999}#addEventDialog[_ngcontent-%COMP%]{z-index:999;position:absolute;left:0vw;top:20vh;color:#fff;border:none;background-color:#333}#addEventDialog[_ngcontent-%COMP%]::-webkit-backdrop{background-color:#000}#addEventDialog[_ngcontent-%COMP%]::backdrop{background-color:#000}"]}),n})(),CV=(()=>{class n{constructor(t,r){this.toastrService=t,this.fireStore=r,this.model={}}createAccount(){var t=this;return(0,nt.Z)(function*(){const r=yield t.fireStore.createUserFirebase(t.model.username,t.model.password);r.success?t.toastrService.success("Account Created Successfully"):t.toastrService.error(r.error.errorMessage),console.log("created clicked!")})()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Xl),u.Y36(my))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-create-account"]],decls:36,vars:2,consts:[["id","main-terminal",1,"terminal","container","w-50","h-70"],[1,"row"],[1,"col-12","mx-auto"],[1,"d-flex","flex-row","mb-4","login-row"],[1,"col-2",2,"align-self","center"],["id","userNameTerminal"],[1,"blinking"],[1,"p-1","input-group","mx-auto","col-6"],["id","usernameInput","placeholder","","name","userInput","type","email",1,"form-control","p-1",2,"background-color","black","color","white",3,"ngModel","ngModelChange"],["id","passTerminal"],["id","passInput","placeholder","","name","userInput","type","password",1,"form-control","p-1",2,"background-color","black","color","white",3,"ngModel","ngModelChange"],[1,"d-flex","flex-row","mb-4","login-row","w-100"],["id","passInput","placeholder","","name","userInput","type","password",1,"form-control","p-1",2,"background-color","black","color","white"],["id","createAccountLink",1,"mx-auto","col-12"],[1,"w-100","btn","btn-block","btn-black","border-white",3,"click"],["id","meeting-info"],[1,"d-flex","flex-row"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div")(6,"p",5),u._uU(7,"Username"),u.TgZ(8,"span",6),u._uU(9,":"),u.qZA()()()(),u.TgZ(10,"div",7)(11,"input",8),u.NdJ("ngModelChange",function(a){return r.model.username=a}),u.qZA()()(),u.TgZ(12,"div",3)(13,"div",4)(14,"div")(15,"p",9),u._uU(16,"Password"),u.TgZ(17,"span",6),u._uU(18,":"),u.qZA()()()(),u.TgZ(19,"div",7)(20,"input",10),u.NdJ("ngModelChange",function(a){return r.model.password=a}),u.qZA()()(),u.TgZ(21,"div",11)(22,"div",4)(23,"div")(24,"p",9),u._uU(25,"Confirm Password"),u.TgZ(26,"span",6),u._uU(27,":"),u.qZA()()()(),u.TgZ(28,"div",7),u._UZ(29,"input",12),u.qZA()(),u.TgZ(30,"div",3)(31,"div",13)(32,"a",14),u.NdJ("click",function(){return r.createAccount()}),u._uU(33,"Create Account"),u.qZA()()(),u.TgZ(34,"div",15),u._UZ(35,"div",16),u.qZA()()()()),2&t&&(u.xp6(11),u.Q6J("ngModel",r.model.username),u.xp6(9),u.Q6J("ngModel",r.model.password))},directives:[us,ai,qo],styles:[""]}),n})();var DV=z(6461);function TV(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"input",6),u.NdJ("ngModelChange",function(i){return u.CHM(t),u.oxw().focusMinutes=i}),u.qZA()}if(2&n){const t=u.oxw();u.Q6J("ngModel",t.focusMinutes)}}function IV(n,e){if(1&n&&(u.TgZ(0,"label",11),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.hij("",t.focusHours,":")}}function SV(n,e){if(1&n&&(u.TgZ(0,"div",7),u.YNc(1,IV,2,1,"label",8),u.TgZ(2,"label",9),u._uU(3),u.qZA(),u.TgZ(4,"label",10),u._uU(5),u.qZA()()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.focusHours>0),u.xp6(2),u.hij(" ",t.focusMinutes,":"),u.xp6(2),u.hij(" ",t.focusSeconds,"")}}function xV(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",12),u.NdJ("click",function(){return u.CHM(t),u.oxw().endFocus()}),u.qZA()}}function MV(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",13),u.NdJ("click",function(){return u.CHM(t),u.oxw().startFocus()}),u.qZA()}}let RV=(()=>{class n{constructor(){this.focusHours=0,this.focusMinutes=15,this.focusSeconds=0,this.focusStarted=!1,this.focusAnimationElement=null,this.startFocus=()=>{this.calculateFocusValues(),this.focusStarted=!0,this.playFocusSounds(),this.countdown=setInterval(()=>{var t;0===this.focusMinutes&&this.focusHours>0&&(this.focusHours-=1,this.focusMinutes=59),0===this.focusSeconds&&this.focusMinutes>0&&(this.focusMinutes-=1,this.focusSeconds=59),null==this.focusAnimationElement&&(this.focusAnimationElement=document.getElementsByClassName("circle-button center-page-button btn btn-danger")[0],null===(t=this.focusAnimationElement)||void 0===t||t.setAttribute("class","circle-button center-page-button btn btn-danger center-page-button-animation")),this.focusFinished()&&this.endFocus(),this.focusSeconds-=1},1e3),console.log("Focus Started!")},this.calculateFocusValues=()=>{const t=this.focusMinutes/60;if(t>1){const r=Math.floor(t);this.focusHours=r,this.focusMinutes=Math.round(Math.abs(60*(t-r)))}},this.focusFinished=()=>0===this.focusHours&&0===this.focusMinutes&&0===this.focusSeconds,this.endFocus=()=>{var t;clearInterval(this.countdown),this.focusHours=0,this.focusMinutes=0,this.focusSeconds=0,this.focusStarted=!1,null===(t=this.focusSounds)||void 0===t||t.stop()},this.playFocusSounds=()=>{this.focusSounds=new DV.Howl({src:["assets/summerNight.wav"],autoplay:!0,html5:!0,loop:!0})}}ngOnDestroy(){var t;this.countdown=void 0,null===(t=this.focusSounds)||void 0===t||t.stop()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-focus-main"]],decls:6,vars:4,consts:[[1,"container","h-100","w-100"],[1,"row","h-25"],["id","focusMinutesInput","name","focus-hours-input","class","center-page-button mb-5 w-25 focus-time-input","placeholder","Minutes","type","number",3,"ngModel","ngModelChange",4,"ngIf"],["id","countdownTimerLabel","class","focus-label-countdown ml-5 w-100 d-flex flex-row",4,"ngIf"],["class","circle-button center-page-button btn btn-danger",3,"click",4,"ngIf"],["id","startFocusButton","class","circle-button center-page-button btn btn-primary",3,"click",4,"ngIf"],["id","focusMinutesInput","name","focus-hours-input","placeholder","Minutes","type","number",1,"center-page-button","mb-5","w-25","focus-time-input",3,"ngModel","ngModelChange"],["id","countdownTimerLabel",1,"focus-label-countdown","ml-5","w-100","d-flex","flex-row"],["for","focusHours","class","",4,"ngIf"],["for","focusMinutes",1,""],["for","focusSeconds",1,""],["for","focusHours",1,""],[1,"circle-button","center-page-button","btn","btn-danger",3,"click"],["id","startFocusButton",1,"circle-button","center-page-button","btn","btn-primary",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u._UZ(1,"div",1),u.YNc(2,TV,1,1,"input",2),u.YNc(3,SV,6,3,"div",3),u.YNc(4,xV,1,0,"button",4),u.YNc(5,MV,1,0,"button",5),u.qZA()),2&t&&(u.xp6(2),u.Q6J("ngIf",!r.focusStarted),u.xp6(1),u.Q6J("ngIf",r.focusStarted),u.xp6(1),u.Q6J("ngIf",r.focusStarted),u.xp6(1),u.Q6J("ngIf",!r.focusStarted))},directives:[vr,Vl,us,ai,qo],styles:[".circle-button[_ngcontent-%COMP%]{height:calc(100vh / 6);width:calc(100vh / 6);border-radius:50%}#countdownTimerLabel[_ngcontent-%COMP%]{position:absolute!important;left:0;top:0}.focus-label-countdown[_ngcontent-%COMP%]{font-size:5vw;color:#fff;opacity:75%}.focus-time-input[_ngcontent-%COMP%]{font-size:100%;scale:1000%;color:#fff;background:linear-gradient(21deg,#10abff);padding:3px;border-radius:9999em;text-align:center;box-shadow:none!important;text-shadow:none!important;background-color:#333;border-bottom:1px solid white;overflow:hidden;opacity:50%!important}.focus-date[_ngcontent-%COMP%] > svg[_ngcontent-%COMP%]{color:#fff}.center-page-button[_ngcontent-%COMP%]{text-align:center;margin:auto;display:flex;display:grid}.center-page-button-animation[_ngcontent-%COMP%]{animation:pulse 10s ease-in-out 0s infinite alternate}@keyframes pulse{to{background-color:#7531f9}50%{transform:scale(1.25)}}"]}),n})(),kV=(()=>{class n{constructor(t,r,i){var a=this;this.toastrService=t,this.routerService=r,this.firestore=i,this.model={},this.login=(0,nt.Z)(function*(){const c=yield a.firestore.loginEmailFirebase(a.model.username,a.model.password);c.success?a.toastrService.success("Email Login Successful."):a.toastrService.error(c.error.errorMessage)}),this.loginGoogle=(0,nt.Z)(function*(){const c=yield a.firestore.loginGoogleFirebase();c.success?a.toastrService.success("Google Login Successful."):a.toastrService.error(c.error.errorMessage)}),this.createAccount=()=>{this.routerService.navigate("createAccount")}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Xl),u.Y36(Ad),u.Y36(my))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-login"]],decls:37,vars:2,consts:[["id","main-terminal",1,"terminal","container","w-25","h-70"],[1,"row"],[1,"col-12","mx-auto"],[1,"d-flex","flex-row","mb-4","login-row"],[1,"col-1",2,"align-self","center"],["id","userNameTerminal"],[1,"blinking"],[1,"p-1","input-group","mx-auto","col-6"],["id","usernameInput","placeholder","","name","userInput","type","email",1,"form-control","p-1",2,"background-color","black","color","white",3,"ngModel","ngModelChange"],["id","passTerminal"],["id","passInput","placeholder","","name","userInput","type","password",1,"form-control","p-1",2,"background-color","black","color","white",3,"ngModel","ngModelChange"],[1,"d-flex","flex-row","mb-2","login-row"],[1,"mx-auto","col-10"],[1,"w-100","btn","btn-block","btn-black","border-white",3,"click"],[1,"col-10","mx-auto"],["role","button",1,"w-100","btn","btn-block","btn-black","border-white",3,"click"],["width","20px","alt","Google sign-in","src","https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/512px-Google_%22G%22_Logo.svg.png",2,"margin-bottom","3px","margin-right","5px"],[2,"color","white"],[1,"d-flex","flex-row-reverse","mb-3","login-row"],["id","createAccountLink",1,"col-6","float-right"],[1,"w-100",3,"click"],["id","meeting-info"],[1,"d-flex","flex-row"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div")(6,"p",5),u._uU(7,"Username"),u.TgZ(8,"span",6),u._uU(9,":"),u.qZA()()()(),u.TgZ(10,"div",7)(11,"input",8),u.NdJ("ngModelChange",function(a){return r.model.username=a}),u.qZA()()(),u.TgZ(12,"div",3)(13,"div",4)(14,"div")(15,"p",9),u._uU(16,"Password"),u.TgZ(17,"span",6),u._uU(18,":"),u.qZA()()()(),u.TgZ(19,"div",7)(20,"input",10),u.NdJ("ngModelChange",function(a){return r.model.password=a}),u.qZA()()(),u.TgZ(21,"div",11)(22,"div",12)(23,"button",13),u.NdJ("click",function(){return r.login()}),u._uU(24,"./Login"),u.qZA()()(),u.TgZ(25,"div",11)(26,"div",14)(27,"a",15),u.NdJ("click",function(){return r.loginGoogle()}),u._UZ(28,"img",16),u.TgZ(29,"span",17),u._uU(30,"Sign in with Google"),u.qZA()()()(),u.TgZ(31,"div",18)(32,"div",19)(33,"a",20),u.NdJ("click",function(){return r.createAccount()}),u._uU(34,"./Create Account"),u.qZA()()(),u.TgZ(35,"div",21),u._UZ(36,"div",22),u.qZA()()()()),2&t&&(u.xp6(11),u.Q6J("ngModel",r.model.username),u.xp6(9),u.Q6J("ngModel",r.model.password))},directives:[us,ai,qo],styles:[""]}),n})();const NV=["dialogPopup"],PV=["hueSlider"],OV=["alphaSlider"];function FV(n,e){if(1&n&&u._UZ(0,"div"),2&n){const t=u.oxw();u.Gre("arrow arrow-",t.cpUsePosition,""),u.Udp("top",t.arrowTop,"px")}}function LV(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",28),u.NdJ("newValue",function(i){return u.CHM(t),u.oxw().onColorChange(i)})("dragStart",function(){return u.CHM(t),u.oxw().onDragStart("saturation-lightness")})("dragEnd",function(){return u.CHM(t),u.oxw().onDragEnd("saturation-lightness")}),u._UZ(1,"div",14),u.qZA()}if(2&n){const t=u.oxw();u.Udp("background-color",t.hueSliderColor),u.Q6J("rgX",1)("rgY",1),u.xp6(1),u.Udp("top",null==t.slider?null:t.slider.v,"px")("left",null==t.slider?null:t.slider.s,"px")}}function VV(n,e){1&n&&(u.O4$(),u.TgZ(0,"svg",29),u._UZ(1,"path",30)(2,"path",31),u.qZA())}function BV(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",32),u.NdJ("click",function(i){u.CHM(t);const a=u.oxw();return a.onAddPresetColor(i,a.selectedColor)}),u._uU(1),u.qZA()}if(2&n){const t=u.oxw();u.Tol(t.cpAddColorButtonClass),u.Q6J("disabled",t.cpPresetColors&&t.cpPresetColors.length>=t.cpMaxPresetColorsLength),u.xp6(1),u.hij(" ",t.cpAddColorButtonText," ")}}function UV(n,e){1&n&&u._UZ(0,"div",33)}function HV(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"input",39),u.NdJ("keyup.enter",function(i){return u.CHM(t),u.oxw(2).onAcceptColor(i)})("newValue",function(i){return u.CHM(t),u.oxw(2).onAlphaInput(i)}),u.qZA()}if(2&n){const t=u.oxw(2);u.Q6J("rg",1)("value",null==t.cmykText?null:t.cmykText.a)}}function jV(n,e){1&n&&(u.TgZ(0,"div"),u._uU(1,"A"),u.qZA())}function GV(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",34)(1,"div",35)(2,"input",36),u.NdJ("keyup.enter",function(i){return u.CHM(t),u.oxw().onAcceptColor(i)})("newValue",function(i){return u.CHM(t),u.oxw().onCyanInput(i)}),u.qZA(),u.TgZ(3,"input",36),u.NdJ("keyup.enter",function(i){return u.CHM(t),u.oxw().onAcceptColor(i)})("newValue",function(i){return u.CHM(t),u.oxw().onMagentaInput(i)}),u.qZA(),u.TgZ(4,"input",36),u.NdJ("keyup.enter",function(i){return u.CHM(t),u.oxw().onAcceptColor(i)})("newValue",function(i){return u.CHM(t),u.oxw().onYellowInput(i)}),u.qZA(),u.TgZ(5,"input",36),u.NdJ("keyup.enter",function(i){return u.CHM(t),u.oxw().onAcceptColor(i)})("newValue",function(i){return u.CHM(t),u.oxw().onBlackInput(i)}),u.qZA(),u.YNc(6,HV,1,2,"input",37),u.qZA(),u.TgZ(7,"div",35)(8,"div"),u._uU(9,"C"),u.qZA(),u.TgZ(10,"div"),u._uU(11,"M"),u.qZA(),u.TgZ(12,"div"),u._uU(13,"Y"),u.qZA(),u.TgZ(14,"div"),u._uU(15,"K"),u.qZA(),u.YNc(16,jV,2,0,"div",38),u.qZA()()}if(2&n){const t=u.oxw();u.Udp("display",3!==t.format?"none":"block"),u.xp6(2),u.Q6J("rg",100)("value",null==t.cmykText?null:t.cmykText.c),u.xp6(1),u.Q6J("rg",100)("value",null==t.cmykText?null:t.cmykText.m),u.xp6(1),u.Q6J("rg",100)("value",null==t.cmykText?null:t.cmykText.y),u.xp6(1),u.Q6J("rg",100)("value",null==t.cmykText?null:t.cmykText.k),u.xp6(1),u.Q6J("ngIf","disabled"!==t.cpAlphaChannel),u.xp6(10),u.Q6J("ngIf","disabled"!==t.cpAlphaChannel)}}function zV(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"input",39),u.NdJ("keyup.enter",function(i){return u.CHM(t),u.oxw(2).onAcceptColor(i)})("newValue",function(i){return u.CHM(t),u.oxw(2).onAlphaInput(i)}),u.qZA()}if(2&n){const t=u.oxw(2);u.Q6J("rg",1)("value",null==t.hslaText?null:t.hslaText.a)}}function qV(n,e){1&n&&(u.TgZ(0,"div"),u._uU(1,"A"),u.qZA())}function WV(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",40)(1,"div",35)(2,"input",41),u.NdJ("keyup.enter",function(i){return u.CHM(t),u.oxw().onAcceptColor(i)})("newValue",function(i){return u.CHM(t),u.oxw().onHueInput(i)}),u.qZA(),u.TgZ(3,"input",36),u.NdJ("keyup.enter",function(i){return u.CHM(t),u.oxw().onAcceptColor(i)})("newValue",function(i){return u.CHM(t),u.oxw().onSaturationInput(i)}),u.qZA(),u.TgZ(4,"input",36),u.NdJ("keyup.enter",function(i){return u.CHM(t),u.oxw().onAcceptColor(i)})("newValue",function(i){return u.CHM(t),u.oxw().onLightnessInput(i)}),u.qZA(),u.YNc(5,zV,1,2,"input",37),u.qZA(),u.TgZ(6,"div",35)(7,"div"),u._uU(8,"H"),u.qZA(),u.TgZ(9,"div"),u._uU(10,"S"),u.qZA(),u.TgZ(11,"div"),u._uU(12,"L"),u.qZA(),u.YNc(13,qV,2,0,"div",38),u.qZA()()}if(2&n){const t=u.oxw();u.Udp("display",2!==t.format?"none":"block"),u.xp6(2),u.Q6J("rg",360)("value",null==t.hslaText?null:t.hslaText.h),u.xp6(1),u.Q6J("rg",100)("value",null==t.hslaText?null:t.hslaText.s),u.xp6(1),u.Q6J("rg",100)("value",null==t.hslaText?null:t.hslaText.l),u.xp6(1),u.Q6J("ngIf","disabled"!==t.cpAlphaChannel),u.xp6(8),u.Q6J("ngIf","disabled"!==t.cpAlphaChannel)}}function ZV(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"input",39),u.NdJ("keyup.enter",function(i){return u.CHM(t),u.oxw(2).onAcceptColor(i)})("newValue",function(i){return u.CHM(t),u.oxw(2).onAlphaInput(i)}),u.qZA()}if(2&n){const t=u.oxw(2);u.Q6J("rg",1)("value",null==t.rgbaText?null:t.rgbaText.a)}}function $V(n,e){1&n&&(u.TgZ(0,"div"),u._uU(1,"A"),u.qZA())}function KV(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",42)(1,"div",35)(2,"input",43),u.NdJ("keyup.enter",function(i){return u.CHM(t),u.oxw().onAcceptColor(i)})("newValue",function(i){return u.CHM(t),u.oxw().onRedInput(i)}),u.qZA(),u.TgZ(3,"input",43),u.NdJ("keyup.enter",function(i){return u.CHM(t),u.oxw().onAcceptColor(i)})("newValue",function(i){return u.CHM(t),u.oxw().onGreenInput(i)}),u.qZA(),u.TgZ(4,"input",43),u.NdJ("keyup.enter",function(i){return u.CHM(t),u.oxw().onAcceptColor(i)})("newValue",function(i){return u.CHM(t),u.oxw().onBlueInput(i)}),u.qZA(),u.YNc(5,ZV,1,2,"input",37),u.qZA(),u.TgZ(6,"div",35)(7,"div"),u._uU(8,"R"),u.qZA(),u.TgZ(9,"div"),u._uU(10,"G"),u.qZA(),u.TgZ(11,"div"),u._uU(12,"B"),u.qZA(),u.YNc(13,$V,2,0,"div",38),u.qZA()()}if(2&n){const t=u.oxw();u.Udp("display",1!==t.format?"none":"block"),u.xp6(2),u.Q6J("rg",255)("value",null==t.rgbaText?null:t.rgbaText.r),u.xp6(1),u.Q6J("rg",255)("value",null==t.rgbaText?null:t.rgbaText.g),u.xp6(1),u.Q6J("rg",255)("value",null==t.rgbaText?null:t.rgbaText.b),u.xp6(1),u.Q6J("ngIf","disabled"!==t.cpAlphaChannel),u.xp6(8),u.Q6J("ngIf","disabled"!==t.cpAlphaChannel)}}function YV(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"input",39),u.NdJ("keyup.enter",function(i){return u.CHM(t),u.oxw(2).onAcceptColor(i)})("newValue",function(i){return u.CHM(t),u.oxw(2).onAlphaInput(i)}),u.qZA()}if(2&n){const t=u.oxw(2);u.Q6J("rg",1)("value",t.hexAlpha)}}function QV(n,e){1&n&&(u.TgZ(0,"div"),u._uU(1,"A"),u.qZA())}function JV(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",44)(1,"div",35)(2,"input",45),u.NdJ("blur",function(){return u.CHM(t),u.oxw().onHexInput(null)})("keyup.enter",function(i){return u.CHM(t),u.oxw().onAcceptColor(i)})("newValue",function(i){return u.CHM(t),u.oxw().onHexInput(i)}),u.qZA(),u.YNc(3,YV,1,2,"input",37),u.qZA(),u.TgZ(4,"div",35)(5,"div"),u._uU(6,"Hex"),u.qZA(),u.YNc(7,QV,2,0,"div",38),u.qZA()()}if(2&n){const t=u.oxw();u.Udp("display",0!==t.format?"none":"block"),u.ekj("hex-alpha","forced"===t.cpAlphaChannel),u.xp6(2),u.Q6J("value",t.hexText),u.xp6(1),u.Q6J("ngIf","forced"===t.cpAlphaChannel),u.xp6(4),u.Q6J("ngIf","forced"===t.cpAlphaChannel)}}function XV(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"input",39),u.NdJ("keyup.enter",function(i){return u.CHM(t),u.oxw(2).onAcceptColor(i)})("newValue",function(i){return u.CHM(t),u.oxw(2).onAlphaInput(i)}),u.qZA()}if(2&n){const t=u.oxw(2);u.Q6J("rg",1)("value",null==t.hslaText?null:t.hslaText.a)}}function eB(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",46)(1,"div",35)(2,"input",36),u.NdJ("keyup.enter",function(i){return u.CHM(t),u.oxw().onAcceptColor(i)})("newValue",function(i){return u.CHM(t),u.oxw().onValueInput(i)}),u.qZA(),u.YNc(3,XV,1,2,"input",37),u.qZA(),u.TgZ(4,"div",35)(5,"div"),u._uU(6,"V"),u.qZA(),u.TgZ(7,"div"),u._uU(8,"A"),u.qZA()()()}if(2&n){const t=u.oxw();u.xp6(2),u.Q6J("rg",100)("value",null==t.hslaText?null:t.hslaText.l),u.xp6(1),u.Q6J("ngIf","disabled"!==t.cpAlphaChannel)}}function tB(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",47)(1,"span",48),u.NdJ("click",function(){return u.CHM(t),u.oxw().onFormatToggle(-1)}),u.qZA(),u.TgZ(2,"span",48),u.NdJ("click",function(){return u.CHM(t),u.oxw().onFormatToggle(1)}),u.qZA()()}}function nB(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"span",55),u.NdJ("click",function(i){u.CHM(t);const a=u.oxw().$implicit;return u.oxw(3).onRemovePresetColor(i,a)}),u.qZA()}if(2&n){const t=u.oxw(4);u.Tol(t.cpRemoveColorButtonClass)}}function rB(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",53),u.NdJ("click",function(){const a=u.CHM(t).$implicit;return u.oxw(3).setColorFromString(a)}),u.YNc(1,nB,1,3,"span",54),u.qZA()}if(2&n){const t=e.$implicit,r=u.oxw(3);u.Udp("background-color",t),u.xp6(1),u.Q6J("ngIf",r.cpAddColorButton)}}function iB(n,e){if(1&n&&(u.TgZ(0,"div"),u.YNc(1,rB,2,3,"div",52),u.qZA()),2&n){const t=u.oxw(2);u.Tol(t.cpPresetColorsClass),u.xp6(1),u.Q6J("ngForOf",t.cpPresetColors)}}function sB(n,e){if(1&n&&(u.TgZ(0,"div"),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.Tol(t.cpPresetEmptyMessageClass),u.xp6(1),u.Oqu(t.cpPresetEmptyMessage)}}function oB(n,e){if(1&n&&(u.TgZ(0,"div",49),u._UZ(1,"hr"),u.TgZ(2,"div",50),u._uU(3),u.qZA(),u.YNc(4,iB,2,4,"div",51),u.YNc(5,sB,2,4,"div",51),u.qZA()),2&n){const t=u.oxw();u.xp6(3),u.Oqu(t.cpPresetLabel),u.xp6(1),u.Q6J("ngIf",null==t.cpPresetColors?null:t.cpPresetColors.length),u.xp6(1),u.Q6J("ngIf",!(null!=t.cpPresetColors&&t.cpPresetColors.length)&&t.cpAddColorButton)}}function aB(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",58),u.NdJ("click",function(i){return u.CHM(t),u.oxw(2).onCancelColor(i)}),u._uU(1),u.qZA()}if(2&n){const t=u.oxw(2);u.Tol(t.cpCancelButtonClass),u.xp6(1),u.Oqu(t.cpCancelButtonText)}}function lB(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",58),u.NdJ("click",function(i){return u.CHM(t),u.oxw(2).onAcceptColor(i)}),u._uU(1),u.qZA()}if(2&n){const t=u.oxw(2);u.Tol(t.cpOKButtonClass),u.xp6(1),u.Oqu(t.cpOKButtonText)}}function uB(n,e){if(1&n&&(u.TgZ(0,"div",56),u.YNc(1,aB,2,4,"button",57),u.YNc(2,lB,2,4,"button",57),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",t.cpCancelButton),u.xp6(1),u.Q6J("ngIf",t.cpOKButton)}}function cB(n,e){1&n&&u.GkF(0)}function dB(n,e){if(1&n&&(u.TgZ(0,"div",59),u.YNc(1,cB,1,0,"ng-container",60),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngTemplateOutlet",t.cpExtraTemplate)}}var Us=(()=>(function(n){n[n.HEX=0]="HEX",n[n.RGBA=1]="RGBA",n[n.HSLA=2]="HSLA",n[n.CMYK=3]="CMYK"}(Us||(Us={})),Us))();class wd{constructor(e,t,r,i){this.r=e,this.g=t,this.b=r,this.a=i}}class jC{constructor(e,t,r,i){this.h=e,this.s=t,this.v=r,this.a=i}}class Pg{constructor(e,t,r,i){this.h=e,this.s=t,this.l=r,this.a=i}}class _b{constructor(e,t,r,i,a=1){this.c=e,this.m=t,this.y=r,this.k=i,this.a=a}}let pB=(()=>{class n{constructor(){this.newValue=new u.vpe}inputChange(t){const r=t.target.value;if(void 0===this.rg)this.newValue.emit(r);else{const i=parseFloat(r);this.newValue.emit({v:i,rg:this.rg})}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["","text",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(a){return r.inputChange(a)})},inputs:{rg:"rg",text:"text"},outputs:{newValue:"newValue"}}),n})(),gB=(()=>{class n{constructor(t){this.elRef=t,this.dragEnd=new u.vpe,this.dragStart=new u.vpe,this.newValue=new u.vpe,this.listenerMove=r=>this.move(r),this.listenerStop=()=>this.stop()}mouseDown(t){this.start(t)}touchStart(t){this.start(t)}move(t){t.preventDefault(),this.setCursor(t)}start(t){this.setCursor(t),t.stopPropagation(),document.addEventListener("mouseup",this.listenerStop),document.addEventListener("touchend",this.listenerStop),document.addEventListener("mousemove",this.listenerMove),document.addEventListener("touchmove",this.listenerMove),this.dragStart.emit()}stop(){document.removeEventListener("mouseup",this.listenerStop),document.removeEventListener("touchend",this.listenerStop),document.removeEventListener("mousemove",this.listenerMove),document.removeEventListener("touchmove",this.listenerMove),this.dragEnd.emit()}getX(t){const r=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==t.pageX?t.pageX:t.touches[0].pageX)-r.left-window.pageXOffset}getY(t){const r=this.elRef.nativeElement.getBoundingClientRect();return(void 0!==t.pageY?t.pageY:t.touches[0].pageY)-r.top-window.pageYOffset}setCursor(t){const r=this.elRef.nativeElement.offsetWidth,i=this.elRef.nativeElement.offsetHeight,a=Math.max(0,Math.min(this.getX(t),r)),c=Math.max(0,Math.min(this.getY(t),i));void 0!==this.rgX&&void 0!==this.rgY?this.newValue.emit({s:a/r,v:1-c/i,rgX:this.rgX,rgY:this.rgY}):void 0===this.rgX&&void 0!==this.rgY?this.newValue.emit({v:c/i,rgY:this.rgY}):void 0!==this.rgX&&void 0===this.rgY&&this.newValue.emit({v:a/r,rgX:this.rgX})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","slider",""]],hostBindings:function(t,r){1&t&&u.NdJ("mousedown",function(a){return r.mouseDown(a)})("touchstart",function(a){return r.touchStart(a)})},inputs:{rgX:"rgX",rgY:"rgY",slider:"slider"},outputs:{dragEnd:"dragEnd",dragStart:"dragStart",newValue:"newValue"}}),n})();class PN{constructor(e,t,r,i){this.h=e,this.s=t,this.v=r,this.a=i}}class ON{constructor(e,t,r,i){this.h=e,this.s=t,this.v=r,this.a=i}}let Jx=(()=>{class n{constructor(){this.active=null}setActive(t){this.active&&this.active!==t&&"inline"!==this.active.cpDialogDisplay&&this.active.closeDialog(),this.active=t}hsva2hsla(t){const r=t.h,i=t.s,a=t.v,c=t.a;if(0===a)return new Pg(r,0,0,c);if(0===i&&1===a)return new Pg(r,1,1,c);{const g=a*(2-i)/2;return new Pg(r,a*i/(1-Math.abs(2*g-1)),g,c)}}hsla2hsva(t){const r=Math.min(t.h,1),i=Math.min(t.s,1),a=Math.min(t.l,1),c=Math.min(t.a,1);if(0===a)return new jC(r,0,0,c);{const g=a+i*(1-Math.abs(2*a-1))/2;return new jC(r,2*(g-a)/g,g,c)}}hsvaToRgba(t){let r,i,a;const c=t.h,g=t.s,b=t.v,C=t.a,R=Math.floor(6*c),P=6*c-R,Z=b*(1-g),Y=b*(1-P*g),ne=b*(1-(1-P)*g);switch(R%6){case 0:r=b,i=ne,a=Z;break;case 1:r=Y,i=b,a=Z;break;case 2:r=Z,i=b,a=ne;break;case 3:r=Z,i=Y,a=b;break;case 4:r=ne,i=Z,a=b;break;case 5:r=b,i=Z,a=Y;break;default:r=0,i=0,a=0}return new wd(r,i,a,C)}cmykToRgb(t){return new wd((1-t.c)*(1-t.k),(1-t.m)*(1-t.k),(1-t.y)*(1-t.k),t.a)}rgbaToCmyk(t){const r=1-Math.max(t.r,t.g,t.b);return 1===r?new _b(0,0,0,1,t.a):new _b((1-t.r-r)/(1-r),(1-t.g-r)/(1-r),(1-t.b-r)/(1-r),r,t.a)}rgbaToHsva(t){let r,i;const a=Math.min(t.r,1),c=Math.min(t.g,1),g=Math.min(t.b,1),b=Math.min(t.a,1),C=Math.max(a,c,g),R=Math.min(a,c,g),P=C,Z=C-R;if(i=0===C?0:Z/C,C===R)r=0;else{switch(C){case a:r=(c-g)/Z+(c<g?6:0);break;case c:r=(g-a)/Z+2;break;case g:r=(a-c)/Z+4;break;default:r=0}r/=6}return new jC(r,i,P,b)}rgbaToHex(t,r){let i="#"+(16777216|t.r<<16|t.g<<8|t.b).toString(16).substr(1);return r&&(i+=(256|Math.round(255*t.a)).toString(16).substr(1)),i}normalizeCMYK(t){return new _b(t.c/100,t.m/100,t.y/100,t.k/100,t.a)}denormalizeCMYK(t){return new _b(Math.floor(100*t.c),Math.floor(100*t.m),Math.floor(100*t.y),Math.floor(100*t.k),t.a)}denormalizeRGBA(t){return new wd(Math.round(255*t.r),Math.round(255*t.g),Math.round(255*t.b),t.a)}stringToHsva(t="",r=!1){let i=null;t=(t||"").toLowerCase();const a=[{re:/(rgb)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*%?,\s*(\d{1,3})\s*%?(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(c){return new wd(parseInt(c[2],10)/255,parseInt(c[3],10)/255,parseInt(c[4],10)/255,isNaN(parseFloat(c[5]))?1:parseFloat(c[5]))}},{re:/(hsl)a?\(\s*(\d{1,3})\s*,\s*(\d{1,3})%\s*,\s*(\d{1,3})%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(c){return new Pg(parseInt(c[2],10)/360,parseInt(c[3],10)/100,parseInt(c[4],10)/100,isNaN(parseFloat(c[5]))?1:parseFloat(c[5]))}}];a.push(r?{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})?$/,parse:function(c){return new wd(parseInt(c[1],16)/255,parseInt(c[2],16)/255,parseInt(c[3],16)/255,parseInt(c[4]||"FF",16)/255)}}:{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})$/,parse:function(c){return new wd(parseInt(c[1],16)/255,parseInt(c[2],16)/255,parseInt(c[3],16)/255,1)}}),a.push({re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,parse:function(c){return new wd(parseInt(c[1]+c[1],16)/255,parseInt(c[2]+c[2],16)/255,parseInt(c[3]+c[3],16)/255,1)}});for(const c in a)if(a.hasOwnProperty(c)){const g=a[c],b=g.re.exec(t),C=b&&g.parse(b);if(C)return C instanceof wd?i=this.rgbaToHsva(C):C instanceof Pg&&(i=this.hsla2hsva(C)),i}return i}outputFormat(t,r,i){switch("auto"===r&&(r=t.a<1?"rgba":"hex"),r){case"hsla":const a=this.hsva2hsla(t),c=new Pg(Math.round(360*a.h),Math.round(100*a.s),Math.round(100*a.l),Math.round(100*a.a)/100);return t.a<1||"always"===i?"hsla("+c.h+","+c.s+"%,"+c.l+"%,"+c.a+")":"hsl("+c.h+","+c.s+"%,"+c.l+"%)";case"rgba":const g=this.denormalizeRGBA(this.hsvaToRgba(t));return t.a<1||"always"===i?"rgba("+g.r+","+g.g+","+g.b+","+Math.round(100*g.a)/100+")":"rgb("+g.r+","+g.g+","+g.b+")";default:const b="always"===i||"forced"===i;return this.rgbaToHex(this.denormalizeRGBA(this.hsvaToRgba(t)),b)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const FN="undefined"!=typeof window&&"ontouchstart"in window;let mB=(()=>{class n{constructor(t,r,i,a,c,g){this.ngZone=t,this.elRef=r,this.cdRef=i,this.document=a,this.platformId=c,this.service=g,this.isIE10=!1,this.dialogArrowSize=10,this.dialogArrowOffset=15,this.dialogInputFields=[Us.HEX,Us.RGBA,Us.HSLA,Us.CMYK],this.useRootViewContainer=!1,this.eyeDropperSupported=function Ur(n){return n===zs}(this.platformId)&&"EyeDropper"in this.document.defaultView}handleEsc(t){this.show&&"popup"===this.cpDialogDisplay&&this.onCancelColor(t)}handleEnter(t){this.show&&"popup"===this.cpDialogDisplay&&this.onAcceptColor(t)}ngOnInit(){this.slider=new PN(0,0,0,0),this.sliderDimMax=new ON(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.format=this.cpCmykEnabled?Us.CMYK:"rgba"===this.cpOutputFormat?Us.RGBA:"hsla"===this.cpOutputFormat?Us.HSLA:Us.HEX,this.listenerMouseDown=i=>{this.onMouseDown(i)},this.listenerResize=()=>{this.onResize()},this.openDialog(this.initialColor,!1)}ngOnDestroy(){this.closeDialog()}ngAfterViewInit(){230===this.cpWidth&&"inline"!==this.cpDialogDisplay||(this.sliderDimMax=new ON(this.hueSlider.nativeElement.offsetWidth||140,this.cpWidth,130,this.alphaSlider.nativeElement.offsetWidth||140),this.updateColorPicker(!1),this.cdRef.detectChanges())}openDialog(t,r=!0){this.service.setActive(this),this.width||(this.cpWidth=this.directiveElementRef.nativeElement.offsetWidth),this.height||(this.height=320),this.setInitialColor(t),this.setColorFromString(t,r),this.openColorPicker()}closeDialog(){this.closeColorPicker()}setupDialog(t,r,i,a,c,g,b,C,R,P,Z,Y,ne,Se,rt,ot,_t,Rt,Ct,vn,gn,Hn,jn,Hs,js,Dd,lo,au,Og,WC,rn,_n,xn,dr,$i,_l,ko,fc){this.setInitialColor(i),this.setColorMode(C),this.isIE10=10===function hB(){let n="";"undefined"!=typeof navigator&&(n=navigator.userAgent.toLowerCase());const e=n.indexOf("msie ");return e>0&&parseInt(n.substring(e+5,n.indexOf(".",e)),10)}(),this.directiveInstance=t,this.directiveElementRef=r,this.cpDisableInput=Y,this.cpCmykEnabled=R,this.cpAlphaChannel=P,this.cpOutputFormat=Z,this.cpDialogDisplay=g,this.cpIgnoredElements=ne,this.cpSaveClickOutside=Se,this.cpCloseClickOutside=rt,this.useRootViewContainer=ot,this.width=this.cpWidth=parseInt(a,10),this.height=this.cpHeight=parseInt(c,10),this.cpPosition=_t,this.cpPositionOffset=parseInt(Rt,10),this.cpOKButton=Dd,this.cpOKButtonText=au,this.cpOKButtonClass=lo,this.cpCancelButton=Og,this.cpCancelButtonText=rn,this.cpCancelButtonClass=WC,this.cpEyeDropper=_l,this.fallbackColor=b||"#fff",this.setPresetConfig(vn,gn),this.cpPresetColorsClass=Hn,this.cpMaxPresetColorsLength=jn,this.cpPresetEmptyMessage=Hs,this.cpPresetEmptyMessageClass=js,this.cpAddColorButton=_n,this.cpAddColorButtonText=dr,this.cpAddColorButtonClass=xn,this.cpRemoveColorButtonClass=$i,this.cpTriggerElement=ko,this.cpExtraTemplate=fc,Ct||(this.dialogArrowOffset=0),"inline"===g&&(this.dialogArrowSize=0,this.dialogArrowOffset=0),"hex"===Z&&"always"!==P&&"forced"!==P&&(this.cpAlphaChannel="disabled")}setColorMode(t){switch(t.toString().toUpperCase()){case"1":case"C":case"COLOR":default:this.cpColorMode=1;break;case"2":case"G":case"GRAYSCALE":this.cpColorMode=2;break;case"3":case"P":case"PRESETS":this.cpColorMode=3}}setInitialColor(t){this.initialColor=t}setPresetConfig(t,r){this.cpPresetLabel=t,this.cpPresetColors=r}setColorFromString(t,r=!0,i=!0){let a;"always"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel?(a=this.service.stringToHsva(t,!0),!a&&!this.hsva&&(a=this.service.stringToHsva(t,!1))):a=this.service.stringToHsva(t,!1),!a&&!this.hsva&&(a=this.service.stringToHsva(this.fallbackColor,!1)),a&&(this.hsva=a,this.sliderH=this.hsva.h,"hex"===this.cpOutputFormat&&"disabled"===this.cpAlphaChannel&&(this.hsva.a=1),this.updateColorPicker(r,i))}onResize(){"fixed"===this.position?this.setDialogPosition():"inline"!==this.cpDialogDisplay&&this.closeColorPicker()}onDragEnd(t){this.directiveInstance.sliderDragEnd({slider:t,color:this.outputColor})}onDragStart(t){this.directiveInstance.sliderDragStart({slider:t,color:this.outputColor})}onMouseDown(t){this.show&&!this.isIE10&&"popup"===this.cpDialogDisplay&&t.target!==this.directiveElementRef.nativeElement&&!this.isDescendant(this.elRef.nativeElement,t.target)&&!this.isDescendant(this.directiveElementRef.nativeElement,t.target)&&0===this.cpIgnoredElements.filter(r=>r===t.target).length&&this.ngZone.run(()=>{this.cpSaveClickOutside?this.directiveInstance.colorSelected(this.outputColor):(this.hsva=null,this.setColorFromString(this.initialColor,!1),this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor),this.directiveInstance.colorCanceled()),this.cpCloseClickOutside&&this.closeColorPicker()})}onAcceptColor(t){t.stopPropagation(),this.outputColor&&this.directiveInstance.colorSelected(this.outputColor),"popup"===this.cpDialogDisplay&&this.closeColorPicker()}onCancelColor(t){this.hsva=null,t.stopPropagation(),this.directiveInstance.colorCanceled(),this.setColorFromString(this.initialColor,!0),"popup"===this.cpDialogDisplay&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.initialColor,!0),this.closeColorPicker())}onEyeDropper(){this.eyeDropperSupported&&(new window.EyeDropper).open().then(r=>{this.setColorFromString(r.sRGBHex,!0)})}onFormatToggle(t){const r=this.dialogInputFields.length-(this.cpCmykEnabled?0:1),i=((this.dialogInputFields.indexOf(this.format)+t)%r+r)%r;this.format=this.dialogInputFields[i]}onColorChange(t){this.hsva.s=t.s/t.rgX,this.hsva.v=t.v/t.rgY,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"lightness",value:this.hsva.v,color:this.outputColor}),this.directiveInstance.sliderChanged({slider:"saturation",value:this.hsva.s,color:this.outputColor})}onHueChange(t){this.hsva.h=t.v/t.rgX,this.sliderH=this.hsva.h,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"hue",value:this.hsva.h,color:this.outputColor})}onValueChange(t){this.hsva.v=t.v/t.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"value",value:this.hsva.v,color:this.outputColor})}onAlphaChange(t){this.hsva.a=t.v/t.rgX,this.updateColorPicker(),this.directiveInstance.sliderChanged({slider:"alpha",value:this.hsva.a,color:this.outputColor})}onHexInput(t){if(null===t)this.updateColorPicker();else{t&&"#"!==t[0]&&(t="#"+t);let r=/^#([a-f0-9]{3}|[a-f0-9]{6})$/gi;"always"===this.cpAlphaChannel&&(r=/^#([a-f0-9]{3}|[a-f0-9]{6}|[a-f0-9]{8})$/gi);const i=r.test(t);i&&(t.length<5&&(t="#"+t.substring(1).split("").map(a=>a+a).join("")),"forced"===this.cpAlphaChannel&&(t+=Math.round(255*this.hsva.a).toString(16)),this.setColorFromString(t,!0,!1)),this.directiveInstance.inputChanged({input:"hex",valid:i,value:t,color:this.outputColor})}}onRedInput(t){const r=this.service.hsvaToRgba(this.hsva),i=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;i&&(r.r=t.v/t.rg,this.hsva=this.service.rgbaToHsva(r),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"red",valid:i,value:r.r,color:this.outputColor})}onBlueInput(t){const r=this.service.hsvaToRgba(this.hsva),i=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;i&&(r.b=t.v/t.rg,this.hsva=this.service.rgbaToHsva(r),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"blue",valid:i,value:r.b,color:this.outputColor})}onGreenInput(t){const r=this.service.hsvaToRgba(this.hsva),i=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;i&&(r.g=t.v/t.rg,this.hsva=this.service.rgbaToHsva(r),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"green",valid:i,value:r.g,color:this.outputColor})}onHueInput(t){const r=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;r&&(this.hsva.h=t.v/t.rg,this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"hue",valid:r,value:this.hsva.h,color:this.outputColor})}onValueInput(t){const r=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;r&&(this.hsva.v=t.v/t.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"value",valid:r,value:this.hsva.v,color:this.outputColor})}onAlphaInput(t){const r=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;r&&(this.hsva.a=t.v/t.rg,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"alpha",valid:r,value:this.hsva.a,color:this.outputColor})}onLightnessInput(t){const r=this.service.hsva2hsla(this.hsva),i=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;i&&(r.l=t.v/t.rg,this.hsva=this.service.hsla2hsva(r),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"lightness",valid:i,value:r.l,color:this.outputColor})}onSaturationInput(t){const r=this.service.hsva2hsla(this.hsva),i=!isNaN(t.v)&&t.v>=0&&t.v<=t.rg;i&&(r.s=t.v/t.rg,this.hsva=this.service.hsla2hsva(r),this.sliderH=this.hsva.h,this.updateColorPicker()),this.directiveInstance.inputChanged({input:"saturation",valid:i,value:r.s,color:this.outputColor})}onCyanInput(t){!isNaN(t.v)&&t.v>=0&&t.v<=t.rg&&(this.cmyk.c=t.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"cyan",valid:!0,value:this.cmyk.c,color:this.outputColor})}onMagentaInput(t){!isNaN(t.v)&&t.v>=0&&t.v<=t.rg&&(this.cmyk.m=t.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"magenta",valid:!0,value:this.cmyk.m,color:this.outputColor})}onYellowInput(t){!isNaN(t.v)&&t.v>=0&&t.v<=t.rg&&(this.cmyk.y=t.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"yellow",valid:!0,value:this.cmyk.y,color:this.outputColor})}onBlackInput(t){!isNaN(t.v)&&t.v>=0&&t.v<=t.rg&&(this.cmyk.k=t.v,this.updateColorPicker(!1,!0,!0)),this.directiveInstance.inputChanged({input:"black",valid:!0,value:this.cmyk.k,color:this.outputColor})}onAddPresetColor(t,r){t.stopPropagation(),this.cpPresetColors.filter(i=>i===r).length||(this.cpPresetColors=this.cpPresetColors.concat(r),this.directiveInstance.presetColorsChanged(this.cpPresetColors))}onRemovePresetColor(t,r){t.stopPropagation(),this.cpPresetColors=this.cpPresetColors.filter(i=>i!==r),this.directiveInstance.presetColorsChanged(this.cpPresetColors)}openColorPicker(){this.show||(this.show=!0,this.hidden=!0,setTimeout(()=>{this.hidden=!1,this.setDialogPosition(),this.cdRef.detectChanges()},0),this.directiveInstance.stateChanged(!0),this.isIE10||this.ngZone.runOutsideAngular(()=>{FN?document.addEventListener("touchstart",this.listenerMouseDown):document.addEventListener("mousedown",this.listenerMouseDown)}),window.addEventListener("resize",this.listenerResize))}closeColorPicker(){this.show&&(this.show=!1,this.directiveInstance.stateChanged(!1),this.isIE10||(FN?document.removeEventListener("touchstart",this.listenerMouseDown):document.removeEventListener("mousedown",this.listenerMouseDown)),window.removeEventListener("resize",this.listenerResize),this.cdRef.destroyed||this.cdRef.detectChanges())}updateColorPicker(t=!0,r=!0,i=!1){if(this.sliderDimMax){let a,c,g;2===this.cpColorMode&&(this.hsva.s=0);const b=this.outputColor;if(c=this.service.hsva2hsla(this.hsva),this.cpCmykEnabled?(i?(g=this.service.cmykToRgb(this.service.normalizeCMYK(this.cmyk)),this.hsva=this.service.rgbaToHsva(g)):(g=this.service.hsvaToRgba(this.hsva),this.cmyk=this.service.denormalizeCMYK(this.service.rgbaToCmyk(g))),g=this.service.denormalizeRGBA(g),this.sliderH=this.hsva.h):g=this.service.denormalizeRGBA(this.service.hsvaToRgba(this.hsva)),a=this.service.denormalizeRGBA(this.service.hsvaToRgba(new jC(this.sliderH||this.hsva.h,1,1,1))),r&&(this.hslaText=new Pg(Math.round(360*c.h),Math.round(100*c.s),Math.round(100*c.l),Math.round(100*c.a)/100),this.rgbaText=new wd(g.r,g.g,g.b,Math.round(100*g.a)/100),this.cpCmykEnabled&&(this.cmykText=new _b(this.cmyk.c,this.cmyk.m,this.cmyk.y,this.cmyk.k,Math.round(100*this.cmyk.a)/100)),this.hexText=this.service.rgbaToHex(g,"always"===this.cpAlphaChannel),this.hexAlpha=this.rgbaText.a),"auto"===this.cpOutputFormat&&this.format!==Us.RGBA&&this.format!==Us.CMYK&&this.format!==Us.HSLA&&this.hsva.a<1&&(this.format=this.hsva.a<1?Us.RGBA:Us.HEX),this.hueSliderColor="rgb("+a.r+","+a.g+","+a.b+")",this.alphaSliderColor="rgb("+g.r+","+g.g+","+g.b+")",this.outputColor=this.service.outputFormat(this.hsva,this.cpOutputFormat,this.cpAlphaChannel),this.selectedColor=this.service.outputFormat(this.hsva,"rgba",null),this.format!==Us.CMYK)this.cmykColor="";else if("always"===this.cpAlphaChannel||"enabled"===this.cpAlphaChannel||"forced"===this.cpAlphaChannel){const C=Math.round(100*this.cmyk.a)/100;this.cmykColor=`cmyka(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k},${C})`}else this.cmykColor=`cmyk(${this.cmyk.c},${this.cmyk.m},${this.cmyk.y},${this.cmyk.k})`;this.slider=new PN((this.sliderH||this.hsva.h)*this.sliderDimMax.h-8,this.hsva.s*this.sliderDimMax.s-8,(1-this.hsva.v)*this.sliderDimMax.v-8,this.hsva.a*this.sliderDimMax.a-8),t&&b!==this.outputColor&&(this.cpCmykEnabled&&this.directiveInstance.cmykChanged(this.cmykColor),this.directiveInstance.colorChanged(this.outputColor))}}setDialogPosition(){if("inline"===this.cpDialogDisplay)this.position="relative";else{let i,t="static",r="",a=null,c=null,g=this.directiveElementRef.nativeElement.parentNode;const b=this.dialogElement.nativeElement.offsetHeight;for(;null!==g&&"HTML"!==g.tagName;){if(i=window.getComputedStyle(g),t=i.getPropertyValue("position"),r=i.getPropertyValue("transform"),"static"!==t&&null===a&&(a=g),r&&"none"!==r&&null===c&&(c=g),"fixed"===t){a=c;break}g=g.parentNode}const C=this.createDialogBox(this.directiveElementRef.nativeElement,"fixed"!==t);if(this.useRootViewContainer||"fixed"===t&&(!a||a instanceof HTMLUnknownElement))this.top=C.top,this.left=C.left;else{null===a&&(a=g);const P=this.createDialogBox(a,"fixed"!==t);this.top=C.top-P.top,this.left=C.left-P.left}"fixed"===t&&(this.position="fixed");let R=this.cpPosition;"auto"===this.cpPosition&&(R=function fB(n,e){let t="right",r="bottom";const{height:i,width:a}=n,{top:c,left:g}=e,b=c+e.height,C=g+e.width,R=c-i<0,P=b+i>(window.innerHeight||document.documentElement.clientHeight),Z=g-a<0,Y=C+a>(window.innerWidth||document.documentElement.clientWidth);return P&&(r="top"),R&&(r="bottom"),Z&&(t="right"),Y&&(t="left"),R&&P&&Z&&Y?["left","right","top","bottom"].reduce((rt,ot)=>n[rt]>n[ot]?rt:ot):Z&&Y?R?"bottom":P||c>b?"top":"bottom":R&&P?Z?"right":Y||g>C?"left":"right":`${r}-${t}`}(this.dialogElement.nativeElement.getBoundingClientRect(),this.cpTriggerElement.nativeElement.getBoundingClientRect())),"top"===R?(this.arrowTop=b-1,this.top-=b+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*C.width-this.dialogArrowOffset):"bottom"===R?(this.top+=C.height+this.dialogArrowSize,this.left+=this.cpPositionOffset/100*C.width-this.dialogArrowOffset):"top-left"===R||"left-top"===R?(this.top-=b-C.height+C.height*this.cpPositionOffset/100,this.left-=this.cpWidth+this.dialogArrowSize-2-this.dialogArrowOffset):"top-right"===R||"right-top"===R?(this.top-=b-C.height+C.height*this.cpPositionOffset/100,this.left+=C.width+this.dialogArrowSize-2-this.dialogArrowOffset):"left"===R||"bottom-left"===R||"left-bottom"===R?(this.top+=C.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left-=this.cpWidth+this.dialogArrowSize-2):(this.top+=C.height*this.cpPositionOffset/100-this.dialogArrowOffset,this.left+=C.width+this.dialogArrowSize-2),this.cpUsePosition=R}}isDescendant(t,r){let i=r.parentNode;for(;null!==i;){if(i===t)return!0;i=i.parentNode}return!1}createDialogBox(t,r){const{top:i,left:a}=t.getBoundingClientRect();return{top:i+(r?window.pageYOffset:0),left:a+(r?window.pageXOffset:0),width:t.offsetWidth,height:t.offsetHeight}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.R0b),u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(Ee),u.Y36(u.Lbi),u.Y36(Jx))},n.\u0275cmp=u.Xpm({type:n,selectors:[["color-picker"]],viewQuery:function(t,r){if(1&t&&(u.Gf(NV,7),u.Gf(PV,7),u.Gf(OV,7)),2&t){let i;u.iGM(i=u.CRH())&&(r.dialogElement=i.first),u.iGM(i=u.CRH())&&(r.hueSlider=i.first),u.iGM(i=u.CRH())&&(r.alphaSlider=i.first)}},hostBindings:function(t,r){1&t&&u.NdJ("keyup.esc",function(a){return r.handleEsc(a)},!1,u.evT)("keyup.enter",function(a){return r.handleEnter(a)},!1,u.evT)},decls:30,vars:51,consts:[[1,"color-picker",3,"click"],["dialogPopup",""],[3,"class","top",4,"ngIf"],["class","saturation-lightness",3,"slider","rgX","rgY","background-color","newValue","dragStart","dragEnd",4,"ngIf"],[1,"hue-alpha","box"],[1,"left"],[1,"selected-color-background"],[1,"selected-color",3,"click"],["class","eyedropper-icon","xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",4,"ngIf"],["type","button",3,"class","disabled","click",4,"ngIf"],[1,"right"],["style","height: 16px;",4,"ngIf"],[1,"hue",3,"slider","rgX","newValue","dragStart","dragEnd"],["hueSlider",""],[1,"cursor"],[1,"value",3,"slider","rgX","newValue","dragStart","dragEnd"],["valueSlider",""],[1,"alpha",3,"slider","rgX","newValue","dragStart","dragEnd"],["alphaSlider",""],["class","cmyk-text",3,"display",4,"ngIf"],["class","hsla-text",3,"display",4,"ngIf"],["class","rgba-text",3,"display",4,"ngIf"],["class","hex-text",3,"hex-alpha","display",4,"ngIf"],["class","value-text",4,"ngIf"],["class","type-policy",4,"ngIf"],["class","preset-area",4,"ngIf"],["class","button-area",4,"ngIf"],["class","extra-template",4,"ngIf"],[1,"saturation-lightness",3,"slider","rgX","rgY","newValue","dragStart","dragEnd"],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px","fill","#000000",1,"eyedropper-icon"],["d","M0 0h24v24H0V0z","fill","none"],["d","M17.66 5.41l.92.92-2.69 2.69-.92-.92 2.69-2.69M17.67 3c-.26 0-.51.1-.71.29l-3.12 3.12-1.93-1.91-1.41 1.41 1.42 1.42L3 16.25V21h4.75l8.92-8.92 1.42 1.42 1.41-1.41-1.92-1.92 3.12-3.12c.4-.4.4-1.03.01-1.42l-2.34-2.34c-.2-.19-.45-.29-.7-.29zM6.92 19L5 17.08l8.06-8.06 1.92 1.92L6.92 19z"],["type","button",3,"disabled","click"],[2,"height","16px"],[1,"cmyk-text"],[1,"box"],["type","number","pattern","[0-9]*","min","0","max","100",3,"text","rg","value","keyup.enter","newValue"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"text","rg","value","keyup.enter","newValue",4,"ngIf"],[4,"ngIf"],["type","number","pattern","[0-9]+([\\.,][0-9]{1,2})?","min","0","max","1","step","0.1",3,"text","rg","value","keyup.enter","newValue"],[1,"hsla-text"],["type","number","pattern","[0-9]*","min","0","max","360",3,"text","rg","value","keyup.enter","newValue"],[1,"rgba-text"],["type","number","pattern","[0-9]*","min","0","max","255",3,"text","rg","value","keyup.enter","newValue"],[1,"hex-text"],[3,"text","value","blur","keyup.enter","newValue"],[1,"value-text"],[1,"type-policy"],[1,"type-policy-arrow",3,"click"],[1,"preset-area"],[1,"preset-label"],[3,"class",4,"ngIf"],["class","preset-color",3,"backgroundColor","click",4,"ngFor","ngForOf"],[1,"preset-color",3,"click"],[3,"class","click",4,"ngIf"],[3,"click"],[1,"button-area"],["type","button",3,"class","click",4,"ngIf"],["type","button",3,"click"],[1,"extra-template"],[4,"ngTemplateOutlet"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0,1),u.NdJ("click",function(a){return a.stopPropagation()}),u.YNc(2,FV,1,5,"div",2),u.YNc(3,LV,2,8,"div",3),u.TgZ(4,"div",4)(5,"div",5),u._UZ(6,"div",6),u.TgZ(7,"div",7),u.NdJ("click",function(){return r.eyeDropperSupported&&r.cpEyeDropper&&r.onEyeDropper()}),u.YNc(8,VV,3,0,"svg",8),u.qZA(),u.YNc(9,BV,2,5,"button",9),u.qZA(),u.TgZ(10,"div",10),u.YNc(11,UV,1,0,"div",11),u.TgZ(12,"div",12,13),u.NdJ("newValue",function(a){return r.onHueChange(a)})("dragStart",function(){return r.onDragStart("hue")})("dragEnd",function(){return r.onDragEnd("hue")}),u._UZ(14,"div",14),u.qZA(),u.TgZ(15,"div",15,16),u.NdJ("newValue",function(a){return r.onValueChange(a)})("dragStart",function(){return r.onDragStart("value")})("dragEnd",function(){return r.onDragEnd("value")}),u._UZ(17,"div",14),u.qZA(),u.TgZ(18,"div",17,18),u.NdJ("newValue",function(a){return r.onAlphaChange(a)})("dragStart",function(){return r.onDragStart("alpha")})("dragEnd",function(){return r.onDragEnd("alpha")}),u._UZ(20,"div",14),u.qZA()()(),u.YNc(21,GV,17,12,"div",19),u.YNc(22,WV,14,10,"div",20),u.YNc(23,KV,14,10,"div",21),u.YNc(24,JV,8,7,"div",22),u.YNc(25,eB,9,3,"div",23),u.YNc(26,tB,3,0,"div",24),u.YNc(27,oB,6,3,"div",25),u.YNc(28,uB,3,2,"div",26),u.YNc(29,dB,2,1,"div",27),u.qZA()),2&t&&(u.Udp("display",r.show?"block":"none")("visibility",r.hidden?"hidden":"visible")("top",r.top,"px")("left",r.left,"px")("position",r.position)("height",r.cpHeight,"px")("width",r.cpWidth,"px"),u.ekj("open",r.show),u.xp6(2),u.Q6J("ngIf","popup"===r.cpDialogDisplay),u.xp6(1),u.Q6J("ngIf",1===(r.cpColorMode||1)),u.xp6(4),u.Udp("background-color",r.selectedColor)("cursor",r.eyeDropperSupported&&r.cpEyeDropper?"pointer":null),u.xp6(1),u.Q6J("ngIf",r.eyeDropperSupported&&r.cpEyeDropper),u.xp6(1),u.Q6J("ngIf",r.cpAddColorButton),u.xp6(2),u.Q6J("ngIf","disabled"===r.cpAlphaChannel),u.xp6(1),u.Udp("display",1===(r.cpColorMode||1)?"block":"none"),u.Q6J("rgX",1),u.xp6(2),u.Udp("left",null==r.slider?null:r.slider.h,"px"),u.xp6(1),u.Udp("display",2===(r.cpColorMode||1)?"block":"none"),u.Q6J("rgX",1),u.xp6(2),u.Udp("right",null==r.slider?null:r.slider.v,"px"),u.xp6(1),u.Udp("display","disabled"===r.cpAlphaChannel?"none":"block")("background-color",r.alphaSliderColor),u.Q6J("rgX",1),u.xp6(2),u.Udp("left",null==r.slider?null:r.slider.a,"px"),u.xp6(1),u.Q6J("ngIf",!r.cpDisableInput&&1===(r.cpColorMode||1)),u.xp6(1),u.Q6J("ngIf",!r.cpDisableInput&&1===(r.cpColorMode||1)),u.xp6(1),u.Q6J("ngIf",!r.cpDisableInput&&1===(r.cpColorMode||1)),u.xp6(1),u.Q6J("ngIf",!r.cpDisableInput&&1===(r.cpColorMode||1)),u.xp6(1),u.Q6J("ngIf",!r.cpDisableInput&&2===(r.cpColorMode||1)),u.xp6(1),u.Q6J("ngIf",!r.cpDisableInput&&1===(r.cpColorMode||1)),u.xp6(1),u.Q6J("ngIf",(null==r.cpPresetColors?null:r.cpPresetColors.length)||r.cpAddColorButton),u.xp6(1),u.Q6J("ngIf",r.cpOKButton||r.cpCancelButton),u.xp6(1),u.Q6J("ngIf",r.cpExtraTemplate))},directives:[vr,gB,pB,Lr,sa],styles:['.color-picker{position:absolute;z-index:1000;width:230px;height:auto;border:#777 solid 1px;cursor:default;-webkit-user-select:none;user-select:none;background-color:#fff}.color-picker *{box-sizing:border-box;margin:0;font-size:11px}.color-picker input{width:0;height:26px;min-width:0;font-size:13px;text-align:center;color:#000}.color-picker input:invalid,.color-picker input:-moz-ui-invalid,.color-picker input:-moz-submit-invalid{box-shadow:none}.color-picker input::-webkit-inner-spin-button,.color-picker input::-webkit-outer-spin-button{margin:0;-webkit-appearance:none}.color-picker .arrow{position:absolute;z-index:999999;width:0;height:0;border-style:solid}.color-picker .arrow.arrow-top{left:8px;border-width:10px 5px;border-color:#777 rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .arrow.arrow-bottom{top:-20px;left:8px;border-width:10px 5px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) #777 rgba(0,0,0,0)}.color-picker .arrow.arrow-top-left,.color-picker .arrow.arrow-left-top{right:-21px;bottom:8px;border-width:5px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #777}.color-picker .arrow.arrow-top-right,.color-picker .arrow.arrow-right-top{bottom:8px;left:-20px;border-width:5px 10px;border-color:rgba(0,0,0,0) #777 rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .arrow.arrow-left,.color-picker .arrow.arrow-left-bottom,.color-picker .arrow.arrow-bottom-left{top:8px;right:-21px;border-width:5px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0) #777}.color-picker .arrow.arrow-right,.color-picker .arrow.arrow-right-bottom,.color-picker .arrow.arrow-bottom-right{top:8px;left:-20px;border-width:5px 10px;border-color:rgba(0,0,0,0) #777 rgba(0,0,0,0) rgba(0,0,0,0)}.color-picker .cursor{position:relative;width:16px;height:16px;border:#222 solid 2px;border-radius:50%;cursor:default}.color-picker .box{display:flex;padding:4px 8px}.color-picker .left{position:relative;padding:16px 8px}.color-picker .right{flex:1 1 auto;padding:12px 8px}.color-picker .button-area{padding:0 16px 16px;text-align:right}.color-picker .button-area button{margin-left:8px}.color-picker .preset-area{padding:4px 15px}.color-picker .preset-area .preset-label{overflow:hidden;width:100%;padding:4px;font-size:11px;white-space:nowrap;text-align:left;text-overflow:ellipsis;color:#555}.color-picker .preset-area .preset-color{position:relative;display:inline-block;width:18px;height:18px;margin:4px 6px 8px;border:#a9a9a9 solid 1px;border-radius:25%;cursor:pointer}.color-picker .preset-area .preset-empty-message{min-height:18px;margin-top:4px;margin-bottom:8px;font-style:italic;text-align:center}.color-picker .hex-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .hex-text .box{padding:0 24px 8px 8px}.color-picker .hex-text .box div{float:left;flex:1 1 auto;text-align:center;color:#555;clear:left}.color-picker .hex-text .box input{flex:1 1 auto;padding:1px;border:#a9a9a9 solid 1px}.color-picker .hex-alpha .box div:first-child,.color-picker .hex-alpha .box input:first-child{flex-grow:3;margin-right:8px}.color-picker .cmyk-text,.color-picker .hsla-text,.color-picker .rgba-text,.color-picker .value-text{width:100%;padding:4px 8px;font-size:11px}.color-picker .cmyk-text .box,.color-picker .hsla-text .box,.color-picker .rgba-text .box{padding:0 24px 8px 8px}.color-picker .value-text .box{padding:0 8px 8px}.color-picker .cmyk-text .box div,.color-picker .hsla-text .box div,.color-picker .rgba-text .box div,.color-picker .value-text .box div{flex:1 1 auto;margin-right:8px;text-align:center;color:#555}.color-picker .cmyk-text .box div:last-child,.color-picker .hsla-text .box div:last-child,.color-picker .rgba-text .box div:last-child,.color-picker .value-text .box div:last-child{margin-right:0}.color-picker .cmyk-text .box input,.color-picker .hsla-text .box input,.color-picker .rgba-text .box input,.color-picker .value-text .box input{float:left;flex:1;padding:1px;margin:0 8px 0 0;border:#a9a9a9 solid 1px}.color-picker .cmyk-text .box input:last-child,.color-picker .hsla-text .box input:last-child,.color-picker .rgba-text .box input:last-child,.color-picker .value-text .box input:last-child{margin-right:0}.color-picker .hue-alpha{align-items:center;margin-bottom:3px}.color-picker .hue{direction:ltr;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwkUFWbCCAAAAFxJREFUaN7t0kEKg0AQAME2x83/n2qu5qCgD1iDhCoYdpnbQC9bbY1qVO/jvc6k3ad91s7/7F1/csgPrujuQ17BDYSFsBAWwgJhISyEBcJCWAgLhIWwEBYIi2f7Ar/1TCgFH2X9AAAAAElFTkSuQmCC)}.color-picker .value{direction:rtl;width:100%;height:16px;margin-bottom:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAACTklEQVR42u3SYUcrABhA4U2SkmRJMmWSJklKJiWZZpKUJJskKUmaTFImKZOUzMySpGRmliRNJilJSpKSJEtmSpIpmWmSdO736/6D+x7OP3gUCoWCv1cqlSQlJZGcnExKSgqpqamkpaWRnp5ORkYGmZmZqFQqsrKyyM7OJicnh9zcXNRqNXl5eeTn56PRaCgoKKCwsJCioiK0Wi3FxcWUlJRQWlpKWVkZ5eXlVFRUUFlZiU6no6qqiurqampqaqitraWurg69Xk99fT0GgwGj0UhDQwONjY00NTXR3NxMS0sLra2ttLW10d7ejslkwmw209HRQWdnJ11dXXR3d9PT00Nvby99fX309/czMDDA4OAgFouFoaEhrFYrw8PDjIyMMDo6ytjYGDabjfHxcSYmJpicnGRqagq73c709DQzMzPMzs4yNzfH/Pw8DocDp9OJy+XC7XazsLDA4uIiS0tLLC8vs7KywurqKmtra3g8HrxeLz6fD7/fz/r6OhsbG2xubrK1tcX29jaBQICdnR2CwSC7u7vs7e2xv7/PwcEBh4eHHB0dcXx8zMnJCaenp5ydnXF+fs7FxQWXl5dcXV1xfX3Nzc0Nt7e33N3dEQqFuL+/5+HhgXA4TCQS4fHxkaenJ56fn3l5eeH19ZVoNMrb2xvv7+98fHwQi8WIx+N8fn6SSCT4+vri+/ubn58ffn9/+VcKgSWwBJbAElgCS2AJLIElsASWwBJYAktgCSyBJbAElsASWAJLYAksgSWwBJbAElgCS2AJLIElsP4/WH8AmJ5Z6jHS4h8AAAAASUVORK5CYII=)}.color-picker .alpha{direction:ltr;width:100%;height:16px;border:none;cursor:pointer;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAQCAYAAAD06IYnAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwYQlZMa3gAAAWVJREFUaN7tmEGO6jAQRCsOArHgBpyAJYGjcGocxAm4A2IHpmoWE0eBH+ezmFlNvU06shJ3W6VEelWMUQAIIF9f6qZpimsA1LYtS2uF51/u27YVAFZVRUkEoGHdPV/sIcbIEIIkUdI/9Xa7neyv61+SWFUVAVCSct00TWn2fv6u3+Ecfd3tXzy/0+nEUu+SPjo/kqzrmiQpScN6v98XewfA8/lMkiLJ2WxGSUopcT6fM6U0NX9/frfbjev1WtfrlZfLhYfDQQHG/AIOlnGwjINlHCxjHCzjYJm/TJWdCwquJXseFFzGwDNNeiKMOJTO8xQdDQaeB29+K9efeLaBo9J7vdvtJj1RjFFjfiv7qv95tjx/7leSQgh93e1ffMeIp6O+YQjho/N791t1XVOSSI7N//K+4/GoxWLBx+PB5/Op5XLJ+/3OlJJWqxU3m83ovv5iGf8KjYNlHCxjHCzjYBkHy5gf5gusvQU7U37jTAAAAABJRU5ErkJggg==)}.color-picker .type-policy{position:absolute;top:218px;right:12px;width:16px;height:24px;background-size:8px 16px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAgCAYAAAAffCjxAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACewAAAnsB01CO3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIASURBVEiJ7ZY9axRRFIafsxMStrLQJpAgpBFhi+C9w1YSo00I6RZ/g9vZpBf/QOr4GyRgkSKNSrAadsZqQGwCkuAWyRZJsySwvhZ7N/vhzrgbLH3Ld8597jlzz50zJokyxXH8DqDVar0qi6v8BbItqSGpEcfxdlmsFWXkvX8AfAVWg3UKPEnT9GKujMzsAFgZsVaCN1VTQd77XUnrgE1kv+6935268WRpzrnHZvYRWC7YvC3pRZZl3wozqtVqiyH9IgjAspkd1Gq1xUJQtVrdB9ZKIAOthdg/Qc65LUk7wNIMoCVJO865rYFhkqjX6/d7vV4GPJwBMqofURS5JEk6FYBer/eeYb/Mo9WwFnPOvQbeAvfuAAK4BN4sAJtAG/gJIElmNuiJyba3EGNmZiPeZuEVmVell/Y/6N+CzDn3AXhEOOo7Hv/3BeAz8IzQkMPnJbuPx1wC+yYJ7/0nYIP5S/0FHKdp+rwCEEXRS/rf5Hl1Gtb2M0iSpCOpCZzPATmX1EySpHMLAsiy7MjMDoHrGSDXZnaYZdnRwBh7J91utwmczAA6CbG3GgPleX4jqUH/a1CktqRGnuc3hSCAMB32gKspkCtgb3KCQMmkjeP4WNJThrNNZval1WptTIsv7JtQ4tmIdRa8qSoEpWl6YWZNoAN0zKxZNPehpLSBZv2t+Q0CJ9lLnARQLAAAAABJRU5ErkJggg==);background-repeat:no-repeat;background-position:center}.color-picker .type-policy .type-policy-arrow{display:block;width:100%;height:50%}.color-picker .selected-color{position:absolute;top:16px;left:8px;width:40px;height:40px;border:1px solid #a9a9a9;border-radius:50%}.color-picker .selected-color-background{width:40px;height:40px;border-radius:50%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAh0lEQVRYR+2W0QlAMQgD60zdfwOdqa8TmI/wQMr5K0I5bZLIzLOa2nt37VVVbd+dDx5obgCC3KBLwJ2ff4PnVidkf+ucIhw80HQaCLo3DMH3CRK3iFsmAWVl6hPNDwt8EvNE5q+YuEXcMgkonVM6SdyCoEvAnZ8v1Hjx817MilmxSUB5rdLJDycZgUAZUch/AAAAAElFTkSuQmCC)}.color-picker .saturation-lightness{direction:ltr;width:100%;height:130px;border:none;cursor:pointer;touch-action:manipulation;background-size:100% 100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOYAAACCCAYAAABSD7T3AAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AIWDwksPWR6lgAAIABJREFUeNrtnVuT47gRrAHN+P//Or/61Y5wONZ7mZ1u3XAeLMjJZGZVgdKsfc5xR3S0RIIUW+CHzCpc2McYo7XGv3ex7UiZd57rjyzzv+v+33X/R/+3r/f7vR386Y+TvKNcf/wdhTLPcv9qU2wZd74uth0t1821jkIZLPcsI/6nWa4XvutquU0Z85mnx80S/ZzgpnLnOtHNt7/ofx1TKXcSNzN/7qbMQ3ju7rNQmMYYd/4s2j9aa+P+gGaMcZrb1M/tdrvf7/d2v99P9/t93O/3cbvdxu12G9frdVwul3E+n8c///nP+2+//Xb66aefxl//+tfx5z//2YK5Al2rgvf4UsbpdGrB52bAvArXpuzjmiqAVSGz5eDmGYXzhbAZmCrnmzddpUU+8Y1dAOYeXCtDUwVwV7YCGH6uAmyMcZ9l5vkUaBPGMUZ7/J5w/792/fvv9Xq93263dr/fTxPECeME8nK5jM/Pz/HTTz/dv337dvrll1/GP/7xj/G3v/1t/OUvfwkVswongjdOp9PzH3U3D3zmWGnZVXn4jCqs7wC2BKP4/8tAzkZsoWx6XrqeHZymvp4ABCBJhTQwKfDT8gzrZCIqi5AhiACjBfEB2rP8/X63MM7f6/V6v9/v7Xa7bYC83W7jcrlsVHIq5ffv30+//fbb+OWXX8ZPP/00/v73v4+ff/75JSvbeu+bL2WMMaFbAlpBNM85QX+ct6qoSqkPAwuQlBVKqGNFSUOAA3Bmu7gC5hNOd15nSwvAOUW7C4giUCV8Sgn5L9hNFIqTsp0GxI0ysioyjAjkY/tGJVEpz+fz+OWXX+7fv38//f777+Pbt2/j119/HT///PP49ddfx8fHRwrmTjV779EXu2px2xhjwtdJZQcAWQIPLPISsMJaSwiD8gzIKrwSyATE5j5nAbR5c1dBUwBlsEWW0h6LqiYsqFPAQxCyRZ3wOSARxmlXMX5k64pQfvv27f75+dk+Pj5OHx8f4/v37+Pbt2/jt99+G9++fRsfHx/jcrmUFLO31gYDWblxRIs/TqfT7ousxJsAxXA2Gc7TA9XdgfdoHbFsj76X2+1WArgI1ageGwA3qupqoHsmcbI6Fu93quggFa9d7LeDtgKfAFHBJ+NEByIkcJ5KervdTmhhGcgJJSZ5vn//fj+fz+18Pp8+Pz/H5+fnmGD+/vvv4/v37+Pj42N8fn6O2+1Ws7JjjP6wraMI5E4RZ8x2vV5TSwkquotV7/d7Tz6HFWsD/qNcdw0CQ3q/321c686TwDVIdbuy73zNldhSHb8I2klZznm+InBS4U6n0302aBFsLhHDAKJVJVglfI9jhvu53W53sLANYNxAiDA6MCeUHx8f9+v12i6XS7tcLqcZW57P5yeY8/fz83Ocz+fnsSmYUyknWEG85WBst9stzSLyMdfr9Qi08iY15UZ0LlDGLhR3o5zK2j7OPUTD0E+nU3tk7Xb/16NFbhloAMuY1zjLUOO3BKeIDe+Z8s3/J4gFo4TM5jPmuRg28foUKKVSwo16TgA5npywcWLHgYl/Pz8/73/605/ab7/91m63W7tcLie0sZj4mao5gTyfz88E0f1+j8EcYzwTPEG2cqjyfHNF0M8fuqEiaOVnRzZZQNh5fwQyHg/HDGfJo89Q1zb/quu5XC6773I2XKfTqd/v9+d3wuqWva/YTdUdEV3fhIv/Viyps6YE3x3r43K5bJQS66zaxVGFsvd+//j4aF+/fm3fv39vt9utff36tf3+++/tdrudvn37ZuNLBaaCMgUzC+rZRiFowxUuJI8YMqcCp9Opq5vagaYU6lGJA1XQqejchw6Cj0Gw5nYBrGw01A2O206n04BGouNNyTfp/FwElhUey6nXrIKw7QQWddxuN2ldL5fL839gSPF8ahu/JvBO48CPSuqMf8Vp9/P53L58+dLu93s7n8/tfr8/39/v9/b5+TkhPJ3P56mQ436/j+/fv+/iSgbzer0+AZx/5+88bv6OMda6S5z6kd21fYC9dxv7cIJJ2d9AOS30fPMzyHiTM8B4DF6XUlYHp4KQW3W+1t77MNB1vGHxWq7Xa7vf78+y5/N5A+H1et29xuP5dbYtyaRu4AksbPq6936fjRzXRxBbPr/b+b18+fKljTHaBBBfn8/n0/1+H1++fBnn8zm0sB8fH5u4cr5GuBhMVk0EEn9RsctgVhM+ixlJtMA23R8B6yysAstBOgFXIKKCMIgToMqNEu2fYMH7ztc732dQKkCj1ytAZtY0Kx8pIr8GGJ+AT3V+2Hirhl++fBmXy2Wz73w+b17P8p+fn8/tUwGVleVkTyUb68DkfayWY4zxNRihU4EpLJPZVrK+u7J4/mgfKqeLW9X2REWlItL1diynbDDb3+jXgYjQqn0rrxWc+NkILP7F7xIbMvx7vV53x40xnlbWJF12ZSag/N0pW6t+ZzmOMzHjajKwDfond78zYTdfq18up97zr2q8v3IioBprRtBl0EZ9og5WBRGOdOHjIjXF7UotFbgOWnXzIJyzYvjG5IYgsmMOxHkz8OsMSrVNWeq5T8DaOcbEv1Od5rbs9aO7YvMet63EkF++fMExq+MRl4/L5bLZN/+ez+fnZ6KazuMqXSQVO5spJXflHAIzes/xJseckRJiDMog9d6VfRrqXMr6KpVV27jRwJacGovOAM1zMdQMnwK1AubK63kdCChvI1C7g0z9nf/D+Xze2Vj8H7Gx4P9duQlsYCrqyN8XqG3Hm/10Oj3jw/n+crlstuM+jPmmxT2dTuPz83Pzt2pn1XsEHX/bnPaVqVmh0xwOt0o6XLLAHePUU203wHfcrspCwmV3TryB5s0Mseeg97x/BwzCjBlbB+pRAPla0BVQuT6V6QHdBlj3d0KG147b+DqxQeUymDO43W4dQar+TIjwmAd0z8/h65vf0/yLv3Pb5XLpru/ydDo9s7ET0I+Pj6dKK9VUEIeKWQWPAOrJ8LKd4vE+t91Y3e7UFlWatg2VwJnb+HPmtvm/sfK59/OaWF3x/eP1UPHvA5DDYDpYXfb0drv1V2DkBkxtw/tEWVVlXWdC9pFYs5/jfh9dS/16vW7s6lTG+TfqsxSJHxkXXq/Xdr1eu4LsfD6P3vsT3N77DkL+zPm5jSdKL4zR3AxQd6rHkLkYlSowsrq7znzu6wSwdsMJOXmA5fBcjxtgMGBYHlr5zokhtsMCTgXLQOW4XC6dEyEMprL8mAQzXRgduix2yZzorxkYsDn3hB1VeMLGsXsVtgl2pW8S3svk0vw7R4hNaHvv4cACl5HFzwIH0Kc6zu4XjDPR/jpAVxWzO1Xk2DDb3vTcxeGU1iWZHkmIDWziWKvirCJ4Dravs6IJ/GG6cTqWdXDy+fArQDVVkLqkVjAoZIITdmmIqXwqa95N3+MGYoZQdRVNO53Y1xRkhO16vY7eu507Ca9lJnbGpxOemQhSw/AQsmmp5zU9BiU8G6wvX76M6/U6Pj4+do0Bz4CpgiknTUeDqwlKBmg3u4OVjrZ1A+rAcgaejWq6eJCvCYFDONSwOgHX4EQRw8lxbzDOdEK6gZ3Hk1b+8g2o1JFtKXyv/fEdTXuWjWXdAZiBp6ADeDrCFiim7B6ZFneeI7Gvm/PMkUDX67W7xI8b0D7/v8dA9qfN5oaCf74WZjH0mf1cmfY1Y0JUFmVrTWu8uzkNcLtEj7u5FXBTkfC6GOA5q8YMxO8KVvF6sAVGdcrUbsKODcQKkLMOMdmlxum642YrPm26AlhZW1YB1R+rrGswE8TaYAWeUMxdf+WjwSvZ2Ef3ytOyfn5+PpVPAaqOn43MtNBqvmjjxbjM4lZjZY4gqNMI5ktaW/sYKNwS+9lFQzGihmMCKPa7+Z0V6Eb0GRmobtpX8JljWu5FMLN5ja6hG9kwQgZqf5+1NH5UxzkFReCdWhJ8XdlGUkxO7HRlYRm4mVO43W7ter12TPJEw/rmEN3L5SKHIWZg9mz+pUoKOYq5bJTJdX2gme1UcxMZQFaEQIlHct32M+Y1BzGkGuzfiyAN9z+ugplZ1symCrDCYYkGxDTpI9RzBy0rHyeDUC1nWaeUaD9n4xkNyYMBDZtzZ3B++fJlY21XFDOcARJlabOyiS3uCpLI9jrZjCDkaVvcCCjwognKShWdzXZWlZMvVTgD8LpqlCLrqgbcB+qYwrgKYpT0ccCqbKyCValkEabn/FynogCrPKfqf51xJ7sGB2ZXcZmxoSOztjx300DZi7a0/2AIR0UlBag9SuDw6KcAzlaB7vHZvWpjK90dyrq6bKyDUZQbR0B05biLQkHIcSUmgIK+SwuqgHCnoio2RQU1yj+BnBy9pphVKLGyC7ZzFK1pxWK+E8IhVCWLN/uLtnUU4ayoYLoaANz8FdtaSvY4pV0BEW2ls61czqllBKpTyKgMAhrZ1cdc1RROtPmvWNkdcKZ7ZKxaWjiPLJMpp7OZKxA+rqG/oJLjxf0pnJlqLoDZo3gyU0mKGys2taKecj/d1C+rJSplBqlTyAqgR+D8KjKlmRL2gtUcAdCtsL+ijCNT1oqqqkH2OHEbG5sDFnUg5Aa+yLou2VU1ptj1S2ZQqv1ORZN9IWzRfgaRBxKoBE8UWyqlJFtrIc0AxNjSjed99CTY/XDfSzCz5M0IZoVEsWnPFNTsl8ooVC1TzbGgqFZNDSgVwKK+1sGDMKqxZCWGVMDysiEr1jVSQJUYwj5iHOlThdHt44SQg9CN+nl8D90NMIgAdgr46JqRiR9I8vRdFvbr17m/yxUMKjNLMiVUADwu2CWGhhi+F55TWM9M9cogzms1dnM4uOF/LAEYWdcqnM7yFmyq3IfwmOROd7Y1iFWtOjoY8To41mTV5IysgFFuRzsbWFGbNIIJCDv1dOo4lZG7jWBwRFtVTKuWyeCByJKOan8oZ3ep9XddNl0tDuaywLz9cXPYeDAA0SpkBO9sbVcTOVWldPv4uyzEkzxHtjvonHoSkFEWNoo1d8DhcQputd2ppNon4BzoAiJ1hBFQg0dVtdbGHHDQWushmNEQukLM2QO1G2Y8bgTXqFhcBJj7EjPgcPts8US8qPpPB/dXznOh5Z438tzH5ec6QgrOKrRRfKmysBmUDB+PhYabMlVPER+GCSITTzr7am2tArH3bgcEzPJm+cr5jJ4NnHNFDVrFXcI5Le9k5Jnw+bedbV+FfRzZIHaOOaOsLY0/7UGs58DjrGwKMIMFIGzOEW1/jGsdAtCN6hEAI4hBe9YXeRROBSVPAVPAqvIM5bx5hVKWAMP6zBRy3iescridVdFBinBxXDnG2GRY2XbCvp1lhvGtO9Bxu5h908XQu42lnSArMFdizMim8uwRCxPGnnOS8lwpnbOiDqTAjsrRN/PcoAScCbaACqVM40ylnjjTBs+bwWlAG23/UKbdkiwKWIQPGzWaczpoSlxPEj822cNWkpS7FyzsDrqpfgpG3jahw2vgbaSQAxuLWZYt7JzyNe8JoZpNAcvDFOdw0wqYT9AK1rZz/DdbSlLPp0ryIxgQJlK9AZlEq7IOXpohg9PIhrCng88JsOxiV4ZWAYfg4sikx/8ky2Z9l862uqwrfscIH8+ugTmVGyiddeVYUgEMn4GZzg14EwIsh9sx2cKKiWXReuOE5gzGOQgdlRKVVdlevqb279Xq0Qnsts2VDaBO0coezsruWtHApu6sKG4IBhN0aGU2kLrMKGRTN3HmbCDwKV14zvkMEDG4QfZVspVlaNU2mhc5TEZ3N1h/zqTheuLpW05ZWTGVjb3dbnNmxKZBnN8JqidaVLKAOyARNLS+MB54Z2+VaqoMLKroVBlngefnTPAcoHNWCSvlfA8CI0HEmBNBnBlXyMrzU7A7WVm94PPqQ2gmqKx+WDGsnvilmcSOBJqOK1nYyAIzuAyesq3UdSK3KfWcYKD95HmfYOU3qser2CtYEUA+FpfqdNvgPBZUBhDrGONRVlQsh8rLcaUCykHG0OOUwTlLBrsh5soEMGezi1E4HRVt1icp5wZEFXdibCkG8Y8vX75sbO4E0iom9z+hjSiOfy3DhpXItpVhE+UGQdvoWjtChmrGHf4YAzKgBNnGtuJxFCeGdhUAfQLLK8kBYAP6gvFJZajMG3Xkycy8KuC0q4Eyymwtwdxdv2M0mIBtK0LKnf640j00Auq4gUkdWGlhs22qJc6dZCsL19oxnlTJG4SYVRIGpD8TPFBuM6OElbS1pldid4mGAyN6ZIupbC5bXJN9fdpbThSxLUaI8IG1XIYBxW3Tjs6KQosKcxfxcQmdnwRGM10GnFcCy2XYunLMyAkdgk4mePiczsLygthcBut6goOqS7YVFXADLjaosB6s6ofcZWAZSIRYqSUkizYwttYab3vUOQ9w2HRxIIg8WwRVeE68xi4UtL3zRphxplzwuZrcqYCq1I3jPI5dnJIygEohMbPqVJSzrwzxBJTs5zN+ReUSgxikPQVF3JVBeNQxbHENrEMNvEdFZVV9lH9+ORGEsNZQpyTNc4C3AG7XF4ngzq+DrO2zbuaaOXgdaFcdkEotoSFBVX2qJ0C8OWZeG4KGlpghA0XfTOPCqV2qqwQ26QWfF2PMLhI2w1lVAa2aPsYd0za25MQRwgcZN6uQDCi+ZxiD4XEM2kZxOT41FnZnaRlcpZouzlRqqdbQVWopQoSB58RV50lBNrHi/AwXS5LrwDVlpY3Fc3ByiYGc52Trist6kOXdwInAQtJpp5QchyaquYOV7Su+fxVMaV3dc0RE2S6mUY0gLt2pMcYqrKIQ9w2l1gpQUMtQYcmmbt5DTNxdhnUCjQqtbK9SUSzvrC0mmhhE1e2FS2+oxypy/ZASutkmtjx3vcBC24PX65nbqkBCRhfjS9kIYPnee8cMagVOhI/3T1fAmdtAWZsCswTJCkQVNa0qWKSKPOpHAUhD9DrbVcyoYkwqhvh17vYAayXLQyKGYdxlUDFp494rBXRjYgO17DDYetNIUj/ezp6S0lnlpEwsWmJMkOwsKXeZKEAjIHn0EQJISaRBcO6UMINz7p/bEjjnw4ft+xmDvksxX4G2rIris7qaeKwAFMP2Oi7n4criuZwtpSUwpfLxSnORSrIqusc5ZFaXysqRWjiZ2DyAWEIL35tVSoQElFACjOeGGSE7AHEQgdo/LSvCOgGBvkxsmDbvlS3Fp5vhaB2TAGqRKrKKMrhLVpaGzEVjZ0OQxDhaCTA+QyRR1d15aQzrJntL3RibsipjG6jlgL4yqbS0sNYg1e84vhbBVrElK64CUcWYXDfKxhpIuxiVJZUxsbMy/uRBKTNRQ4kQ3LdRYLS0rJjRPlTPqY6gdJsEDc+aQXAn+HgsNUCbRuF0Oj0zwnA7bWDkbhO5Ens00qeQhS1laBMl5M/cAaxsLF8rKyql+Tf7ELLEGu/ixiimdCvo0TjfpjKwaggen4eh5v7LokLKbLuyvHhcZG8dhGrEDx7Hg93ZppJF7qBqO3iVveXEDQNInzeoe8Yq6ePaZBZ2JviM3W2UAGotekRCAGq4EkF1X3DOnR11yRsBL1tRa0PVcZiNFXZ2c34FskvomInQQ6lzpJoZbJxk43NwKJFBquJSsrByHydxKOnTxQASBmS3j+JMnsHSla3Ec6K9VWoJVn9zfjwOM7hqYAAqJQwE2a3nA48J2QGegRkpZNivSY+ys3EkKd4oJIwsvIHl3cWgLt5k4NH6OmtLWdpurOkwEMupYc7eMtDRhOcI2ui5JhVIzXzLyto/GAPuZoyo8wkoduVgJglCt7OhGbgID4Mq4si+63zUS1FuFFXFlqyaj2emHlLMcBqYu0FMuR28BbB7lOxRMSiCQXFhCKuwkhZ+pYDiGSgbsKKV8MiSRsuHSIWM9rklRiIlZZuqXjsQK8ooYJMgq3JKWVkhHbhsVxFUzthOWPkYijcbx54IKsSdT+uLr3crGKyoYgFiGR9iBk4kfloUX+JIlQRQqabmpgnhqtpQpb6RVQ1WH5DnrS4hEoGZqaerQ2dhFbz8XePxShmDbo70eISjoorO2vK8SJXI4SUmEU4zWKDzUDtWTYw7xXlbSTEj4FRg7zKnKoGRALv0Gs9Tgc1BpCywGZRQAtqVz2xrBcAMzEpfZwFSa2G5W0QBFjSMapWAEFa3HcGN7CxDzECyIkJ97qwrqWNTWVo876PPsjPkj2wvgroM5lLZKMETKVql/CvnWVFiFa/SzJUQwkoZsr67Y6vlSRV3/2tmNTOY3vnaxYwMuoPKqdzR1w7IqHymlPxaAThfU7Ko2ZXYj4AYJHL+kNdKwRQYESTRa5fsUZ/rVC1TMTyWVyYoqNtuzaHsMyv2tvoarxdfqwYgU1axFo/cnql1FGsqK+uAROV8BX4GU8WcZTATi2q7Qcyi0O0V+GhWBMNRUkn8H1SsWVE5By3Gi0ECqUeJoBfAtDa4amkdXG37AGP5Ggeb84p7UazpoKRzdFzeQ8HkoHGxprKy/Hpm5t12p47J6xTYDEz7uINEXSuxYXvFskYAc+ySxH9sf5ftKzU6IbwVBcUGg5e5FMCEXSErZR0wGayV19woM9guPjTqJdVTqR4uE4nJnLldWVkECCZLd2VLF+xtamex7IpiriSDUpvrpn9lrwGMCHyppMH+ps6LILsuFGUj1XEOXiqbqSHPUKnClpWV68kqtURVNDY4TNaocykoYeTU5ngGEQa/S1DnnE4AeXMcKjHPAmFVjCBENaeyLVNHfr3px8xUstJ94hIpfH4HKE/eDaArK6lSyVVFbdt1gxTIVk3pppVlFXi4pEhVBTObquohU85MLXn1iahvUkHJjSCMc01tLFveVVBx0DodM6jftCu7DOtIzYxrc0qp1JGP2ayYFz2Gb6HvMrO8cnGtV6Gjm3uImSfD2GpWK6uowbZGMxFKQCo1pOMtcMXFpRst+hXGoAomF3sSTBGgTglbBKWwsQ3tZqaYSp0Z1CimRDWFcCJUPYJ00BI5FkKYNoifuQxmN88SWVXWLMaUqqqgC0BmQJR6sk3u9NCf6jYLXxAfqsYEgVLAhRY2AtgtflZNFmFyhxdrLkAdWlk4D88M2ixHyepIdhMHrG/iR1ZGtq0MGpbDbRPYOXeSY1M6Ny4ZstvGSktK+XbFPATj2D371saPEsAMXhXrsZ0km/XStkhhMyBfsa6uXFZe2VCe+YMr1+GKgwrQyNYq1VRrB+EizAow6NsdNKcyVEkYeM73ys6q4kAHp6BiFklTkIrVC5oYV7uzwOGCz4UJ0Stq2lWMJy4wtb+RetL6tZFicnJmBw5UjCvXXMZVJX2MQkbf+XN5EWd78Vz8/JEsMZTBiKNzsm1inLRUQ74H4NidaqI68j5sAFgxcRveC7ieLJXfQYxjZZ2CsiWFewZXJmBIlZ1tdtrX4hSuateKso/RZOtOKW2nmq1oTzeK6dRWAWu2NRVb4hq0SXm1GvtugHrbr5IXqmSktg5CuDE2MSlPwsY5kNE2Wp3AqiZbWVLAxiBF+2iBZbuNj6MB6rsMLC7FyasaYDyo7KkoPyEtw3pEMXfPvxAJi2jAQQgjrz0rLIZSWZlIoNhwd5xK4AR9mYNjWAaLrnuImJeBVN9zBORObVvbr+mTTfFSEJLSRnHo7hEJoIi8MFqjxmvgmF5URZz4zLFgZZ8Ctu2X7ggVccKm9gVxIsOHqxXgNMKnFWZYnf1dBnOhayXq17QwFlWW09eNKyVJFmXqaONGA5aCegMbJ3UUkGY1ic3nKWgjq8qfVYGQG1gRt6rs62a6HiqqUOqdesK5NmX4nGofJoiE1d0dF9lVVkvT1/kEEaaCoYOwFpcVcoLM+7669PxC9rWqktH0sWUYld0VCpuBZ/stVRcGgy9WX2+U1Qthi9SzAqSxzZsy+OiFzBYnySGV6Gku44rD8BCOZBV3BvD5+AKRHNwMEsB6EzHnJpkTAeiUlEGkcECeB6GDZTp5YEJTlvdrknxYjTllMkfNtXwDjM7uVjK5JXUUn43rrqpK2jytaxHW0M5G8DC8rtHMYs7KSgduVQMGTYFqFvVS6rkD3sDJ46afdYFwoq11AOKCBLhvwoUgc8IGANycR6knZrdJPdsuxnyjfd3FovTlRMdEdtOl5CMV5EHsXQBis7TOwvIDZaGj2Vnpbh7cpK63VwYEMLwqbjzyl699sawFFkF1yqjUU31HfC6sW1ZFVFuXVXVgz9keEaw0ys1lWfm+azQAQSWA+hKYVfsZjPncAcUB9oIayy/UZXRNckDGji77GsWbvBo6tPrWPqOyVkBUq+INeqpzNdYs/u0ifh5qmpqIW+33JVSUcwY70KL4U9lYdU6ljtSls7lmfi9g3YzeQfVkaGFaV3ODCnaD2N8wsEDFklE3RzM3ZghdYkWHsszq70FIecnKkVkt8ezMzRq9bkGuKojRLBVSod3Y1yPqKgYW7JRQTPVyy5xIYLjOgxgT52RKJUY1dOrIiRd4futQx/A5AcSmEjz0vFWrkLzvbWAu9HOWbGgxFk1VNTpnBKk6TgwisI/HcxYXP1uAWO72ULFlBTq+aSu2VTUs6hrxM2CF+hEor1VIA9ZmFUaab1lSSgZsVs4sxzHlVLoJHr9H4DhONTkI1XC0/wiY2NoWAG5RlnHFnq6oLccpQddMuJ/O17JVA5OHLi0BqCztq7Y1++ucCd98qLI8MIHBV/cKjxQTme3hFBS3MyCqnDsuym2o80HjvFFTtrURmNaGJsmVahImjTsUXKtQZTAVs7Mvv8/+fzUrZAXcLJ6M4koe6XP0b6SmWWNDzyUpQ8bl+LtWx4tuqZ36cRYV3yuVxPNwvIiqiQCSmu7srgTzR6nkyhpCarXwFy1vGd5iP2cY06lFr5Njhhg1Y6+NB28ftbK83s8rf7kLJbKwDFPbLg25a0AdZJEiqr5phixKMDlRUtcssq1hriLqGoH+zeNgVm9OemjsETV8JdF0NHnkIFxWY1OB4Yrp7rtWJ7NgAAAPXklEQVQ3oNs5nplyVf8u2FoLu1JrHveaZWQjqAkshtFa2gzsSG3Zpkbvg3HafF9slPPlldjFlK80Gysm8Mr4MPhneNWENPGjAIpmilTPATdTRTXlCBYHYAQuPwA36xIpWtGN4q3Y2MhiGsUpuSSnlEJRD8PorC7CFYVw+F51qThgabxsTxWzCGY0ZSsb3lfqAy0OPNjNy8xiQQKsHYFQ2HBZVvVbBuq3m1oWKajqaonsM6uZUr6CjXWNZ0l5E3h3jURma6kP3MJIiy1Lm+kahQq41N2iZja5sjtlLYNZHZrH6qUGm4vMbDp6Rw2CFmvuyFkrBcCyMtFqBaECmsHoK9BZ2LA/lJcRqSaDqnaWbrZdGaz3DLgIvBln4woGztbyJGqslwxkhhHrTjTYFXCtOoKS8uLdofVdAbOylGU6nlYpXWZts4nXBq6WxJitMNokHUJnbnJplQm+aGpY2a5GMV2QD1hRubBPFKdumf5OHkLHz0F9luE5kjBjRa0nFE5CUGqHw32MmjZ6xkgINVnSnZ1VZStK2qKlRaLlQgK7uTq7JFXJwM+3SOEKyhZNI+tJ0I5qMYy9k2qJD7dVWdqKXa0CKNR0Ccjg+B2IYu2fcBZJZkMFgM11r0X92wilghFGgzVnexlqB7xL9mS29SiYUVY2nXOZjNBRsyDsQPRWW5hrZ4XcdC4HVWRbjgJr4sFofK5SzjQ7rhI1UebdPdEbj6sqIvTZQZ5va08rABsAW0UxeWytAk7A2KJ9ZpxzCioB24XFtYAeXYxr6anSqhLgppEqWbGwLunTgrV+IjWlL29ljaAl4EQMGsErp4apeZiquwRXLXAqOCeru32mmydc6oWTSWpFAGdzeTB8RTHVMEtlM90CbbQCYhPjq3egYr1FGdYIQjiuDGZ5zZ/AzobKGOyLxti6c4Rwtv2anyWlLICnlLhxJRXt6A5ebDBWFNONbxWZ2d02mnu4S9YECpeppV1zSWRBWxHYzVIv1CXSouwqqX3jBBBDZdYQbpTQW4ZQlS8r5kH4suSRmg2++3JN10x1PaAmEkmtYlEdeGpJEM6kOuCqCR22oSujj5IV2HdT0zj5prLKTjXFAPjdQlyq7xIBxAQP5yMczG4VxAKw0n6ilZ2QBce2pLulkuxxqnoIzFfgqyqjil9S1VNwBrFmeyeops8yOjZUybZdfS8CuaTIJumzs5tODaNtLpFDQ/PcJGweLhmeL1nB0KqiUDScsiUVD89Di3HtrKtSULw3RLiygZD+7sF8JTObgYsrGvDNUFRGl1iy0Ll1YkUc2aJYMog920I8qW6YDCg1Mqk0JHJFKXkbgbRreI+qpYNOZHrVcDUba7pjsphSJNtK6upgRNAVoOS0mugBeN4bIZgHhuPZ/s1ENaX6KsVr+YNrh1Nb7ipR0PE5zbNRegCbrHRUw6Yf07dLBJl1f8KB9as2V1nNqAsl62LBBhehwalerkHmB1JFIEZKSEusdl5JQj1nJlHXSCF342gJ9CYGrXelknJIXqVP8sD+qtplCR3XH2qfKq0ygMp+KnVkKxNlZ8m2YkIlVMiCnXUwl7qznBKSvQz3m3Pt6oQbXO5b5FixCh/fHxUQW/AEcK6zCNqKQnL9sywqmKuwvqSYzT/aPVNNpVyhvRW21aqciCsjdWvBwILUvh5VyCzbWoC1pJjJ680CWsl+udKB6T5RwG1mlohnlpbg47iz5U9ha0FGtmRLFYBtO99y97Ap0z+ZDTAog6kSLZsMHg/IFkkgp6CpvU2U0cYVSdnmkjwBdOmXbxTWNWzuIbipMioVxEckZEoahSOiy2M3K0jcC1LhVDwaqG0ZvkcWqCnrG4GIxykrqlbWdw6LQyBaZR8HmLRIhQWsHswD42ZXVLNkf9l+FlW0HVQ2lwFsC/Z1FdzlQR0KaPfo+Fdfu+/dwVRICu1CGR7AEIiAhc+AZUF0kOBaPxmUqg4i64vQnU4nFDYJ9Nz+1fVXveH9qmr+kPILx8oKcRV/BFbxbE0JMT0kSD4w6L/lNY8ocsqagVdU3A3MjxhxcGuqzsPH4irpaow1q6OyrVjvp9Npc59E91LldboYVzJWdimWfAW2SNEKcDaX2FmBLLA/uKxlmhh613Is1URQApbKfttwxL02q6Onx5pQxSbPojAg+v5hAnN6LHVRDXIsvKtRjiS0qJUyZTAXVbAK82ElFJWaQdVoqUC1Unt7BVaTQudM6SuqexjQJN4+0icaxv/utbKv83ETbT8H8gjcOKxOJmbUa6OOVXht3dFY6rHv9XoNzFLceEA1o8+pKm0LAHPHZ2rYKjFq0hfZFixsqHJgD3eD5n+U0kb1mFjXkn2lvMSSOsNE/CdIAKF0Sytq6urOHUN5gwg4GZosgbmggM5ucra2qrS2Ig1cbiBBcxYzgzUDNLCvL8GbZXNp6ORy3LmS+Kk83zRIAK6A1ioKa2I9NapIuiUFdfC9766PFZUtqUr6KbWk+zZU1a/ZrIXEztrjTOfz7hwKziCeXIaraHtbZIMz+2pGgazCmw4qWAFvEdhodYp0Xq0pV7G1YWYWbO4qhGq42+Z8BYtrLWvluNPpZAeaFFS1vubPgbgxsqcpnAaszBovKaFoDQ8BGtjfUOl4NAG2nmQV04feJgumvX2fsrQEWZghL0JnVdYkn3DOZIeRN86RqPWCmsvGVqEMRnwxQAxwS8EMYo3IzmY2+BCcLp4MKiuyuhImamlbZFcNoNl7tp+RHd18ZjQIRKyXdFRhN98/hyKqwXWNo7O1wiaXoHN108REZZWEq6grnIfjzeg8jdRf1XEL4kkXa5bBjKxoKaljBjeHlVxQ4GaycpW4lDOAKtnTxHAtOfzOtZwHAM7sqVXkV6yu6kap1nHkXKqWF/4XHqjenNKqBjpR3l1ch3Ejg1+EsgdQhsdG0B4FM9sWAVWpuAyiwTPleZxt9VyZVS2qXfReWqTAilpr9ApoWTjxymit7NwV4JTriZyOA9B0k7HFfULourmKYHVnRQvqGL5HMHdqFcR2qWpmcK6eTwx2dipWrviDilr+fKWq3OWRWdHKwA4eu8wjchbeRzFilqjjZN3ufCpfkJ0/scVpnYk6L0PI77lxdWCZ87WiWm7B/AGquQSnujGKsB8CJmiJq8q1pKIVWyqOiTK66r18BN8r74/AE71fdC3yPS2MxdOpnE1tlVxD9JmVOoggN+r4PjAXVFPa3Eg5jVJGFVUGNolH20GVrUB7BOySWq6WqYQdWR92pcFMYMwckbSgCKCqD67DiiWu1g8MQC9ByfcFqW1L+jL714qNCuznoSxt0da2gtWN1G8F0BK0NN0nuimelUF9dIdAfjO44UT3CjQLoUeLHJFTO3gmpRuIIOvwBQCbqNeo3qtZ9iF6xVK13GRlo4zqimq+CGdTiR1uRY8oqgE02hZBa79kZXPMquxRHKla2saZWN4mRqZUj0vLCKhkjKnqOQHNuSZVJoKvAqS1wpEquvWDC1B2ypwrCPsRMEPVTODMLJMDv6qeKXwi2JYV5Sq4qKyvgGsHCLiuj2jR59V8gMqSJ2FJZRXEHVRHj3sFPrct6OpqlW1GpatQdt0GvwfM6n63InsGVFhJGaBqgqqIV6IsXllZgySPq4R3bnt3wi5cv+cN2yqQLW1T95KYVsWWtKk4cB9W53WQQflQYR6Wl4HaJZjvVE0D5yvq+RKgZCs5qdBEP5sD94cAvQLlSgNaSMAtHx88BuNQ41zdFsX30zKbcs0MLD/ihkpQzl0wiTqKLTfbKmCmyYICnK0IbaieC4CG9iSyLQ7cIMGQwau6TKoq60Apl3WN40LZpca1CKKK9VQyyIEn8w0F8F6CL2h8o3ixGwC7s7EWzCOqmcApYxYD4jsAzVS0sl2t98pA7vrKophCVSonbYpgH6mvSn24pTBV4sdtV3BtMq5k82y+IADvUJ0uAlkCVTxIaPm+UNu/qkV4F1TzHXCGrXIAqItBKypqK99VtAOVs64O4ObX7pHLVCpYHcRmwvLR7TvYAKBBN58LGVzDuFz+hQbWgncQyCZAk+VbsPSouf93261iZgmfCpwRbAvqmSqriU2PwhjaoOyYqtIegVXViTsmyta6bGySpY3gyRrpIyAeaWDDxtpsXwKyalMDKNP7YBXMqEskUsi2uC8FNAPxAKTVfT1o6VzM0E0jF+1rWcUuHvdyg7vgoFplX8HpvHpMCOMRUPHzZkInsqlFKNX/EIO52E0SxSzOwob2VmRLW5D1XIU0rbgM1AzWgyC7fe8G7xUAK/taEBat7luqtyP7EmsaJQOj5F+mrnZfCuYCfBUAWwShyd6pMY/vAHG1UqOYpbI/gy5T0CMKm+UO3gFuC85dgfDVeguPDfITrIBLsLrcgdh3CFgFZjaKJ4Iv3F8ANEqvuxR1tVKOgLoCa1jxboBAkj6v7j/icFbA7f4rfRnQDLRViG13i0vqBQrYVqBbADZT0ZpiHoSzvQpopKIFS3sE1HfBWlHXd0H7LnArqvougMtljHBgZnh3Eoz/BKjLML4Z2Aq0+hEJr9jaVUBbvNzCIUiroC7AWmmFw4o5AK3MtB5VypZMSFgs05JyGVwlwBqsEGAAa2ZU1CjUexXGsE4rKriilBvFzOKKo3AuAroE6QFQU3u8YpNXwS5k+1TZt5UrwouN4KiUEw+k3ZWDp1RXHNRqXb21Ts39945yZSg3VnZFNQ9CF3XeZyr5DgBXKiwCMa2MxeTDYXgP1Fsf9QNKZc0k81RJk3r6EQ3rCmBVyLL75EjZ1pIVDHoFtiOAHoB0BdTVylqBsKKKS+AeBXJVLY+CXASuGvO/Auq7GuEjDfGKg1oKa1z/dmmi9I9SUGNhl0AtfulHAawoYrnSkmNXAVuGEhrEVXvUF+A5Ct2PqNOjDetyna4CmeUolmeXLN4Aq7C5Sj10Q7yjgl+t6CNxSRHmI5X+CpwreYB3Qfdqna4q21KdBuc4GoZsn49ZOOiVinwHqK9WzjvgeweEh2AU5+vtxZ9Cd9Wqkh49V18E5oj6vVyn0RStAyGIO5edXRKd5B0VGVXq2yr3xYp+5Ut+C4QJ4P1N339pQMjRejj4vb/Dcr6rQc3O/0rjmtZpeYCBiCHfCemRbNhbK/pNUPc3wfKy5f2D7OlL3/uPhve/oU4T0F8f+VNM2vyoiv0jK+KHQfdHq+0bncz4oz73/+Y6LbKw1o/5B7eOf1Rl/0du9B9tn/9bvrf/j+v0h6ttn2tp/r/4819y4/zv5391uvzzfwDifz6phT1MPgAAAABJRU5ErkJggg==)}.color-picker .cp-add-color-button-class{position:absolute;display:inline;padding:0;margin:3px -3px;border:0;cursor:pointer;background:transparent}.color-picker .cp-add-color-button-class:hover{text-decoration:underline}.color-picker .cp-add-color-button-class:disabled{cursor:not-allowed;color:#999}.color-picker .cp-add-color-button-class:disabled:hover{text-decoration:none}.color-picker .cp-remove-color-button-class{position:absolute;top:-5px;right:-5px;display:block;width:10px;height:10px;border-radius:50%;cursor:pointer;text-align:center;background:#fff;box-shadow:1px 1px 5px #333}.color-picker .cp-remove-color-button-class:before{content:"x";position:relative;bottom:3.5px;display:inline-block;font-size:10px}.color-picker .eyedropper-icon{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);fill:#fff;mix-blend-mode:exclusion}\n'],encapsulation:2}),n})(),yB=(()=>{class n{constructor(t,r,i,a,c,g){this.injector=t,this.cfr=r,this.appRef=i,this.vcRef=a,this.elRef=c,this._service=g,this.dialogCreated=!1,this.ignoreChanges=!1,this.viewAttachedToAppRef=!1,this.cpWidth="230px",this.cpHeight="auto",this.cpToggle=!1,this.cpDisabled=!1,this.cpIgnoredElements=[],this.cpFallbackColor="",this.cpColorMode="color",this.cpCmykEnabled=!1,this.cpOutputFormat="auto",this.cpAlphaChannel="enabled",this.cpDisableInput=!1,this.cpDialogDisplay="popup",this.cpSaveClickOutside=!0,this.cpCloseClickOutside=!0,this.cpUseRootViewContainer=!1,this.cpPosition="auto",this.cpPositionOffset="0%",this.cpPositionRelativeToArrow=!1,this.cpOKButton=!1,this.cpOKButtonText="OK",this.cpOKButtonClass="cp-ok-button-class",this.cpCancelButton=!1,this.cpCancelButtonText="Cancel",this.cpCancelButtonClass="cp-cancel-button-class",this.cpEyeDropper=!1,this.cpPresetLabel="Preset colors",this.cpPresetColorsClass="cp-preset-colors-class",this.cpMaxPresetColorsLength=6,this.cpPresetEmptyMessage="No colors added",this.cpPresetEmptyMessageClass="preset-empty-message",this.cpAddColorButton=!1,this.cpAddColorButtonText="Add color",this.cpAddColorButtonClass="cp-add-color-button-class",this.cpRemoveColorButtonClass="cp-remove-color-button-class",this.cpInputChange=new u.vpe(!0),this.cpToggleChange=new u.vpe(!0),this.cpSliderChange=new u.vpe(!0),this.cpSliderDragEnd=new u.vpe(!0),this.cpSliderDragStart=new u.vpe(!0),this.colorPickerOpen=new u.vpe(!0),this.colorPickerClose=new u.vpe(!0),this.colorPickerCancel=new u.vpe(!0),this.colorPickerSelect=new u.vpe(!0),this.colorPickerChange=new u.vpe(!1),this.cpCmykColorChange=new u.vpe(!0),this.cpPresetColorsChange=new u.vpe(!0)}handleClick(){this.inputFocus()}handleFocus(){this.inputFocus()}handleInput(t){this.inputChange(t)}ngOnDestroy(){null!=this.cmpRef&&(this.viewAttachedToAppRef&&this.appRef.detachView(this.cmpRef.hostView),this.cmpRef.destroy(),this.cmpRef=null,this.dialog=null)}ngOnChanges(t){t.cpToggle&&!this.cpDisabled&&(t.cpToggle.currentValue?this.openDialog():t.cpToggle.currentValue||this.closeDialog()),t.colorPicker&&(this.dialog&&!this.ignoreChanges&&("inline"===this.cpDialogDisplay&&this.dialog.setInitialColor(t.colorPicker.currentValue),this.dialog.setColorFromString(t.colorPicker.currentValue,!1),this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay&&this.cmpRef.changeDetectorRef.detectChanges()),this.ignoreChanges=!1),(t.cpPresetLabel||t.cpPresetColors)&&this.dialog&&this.dialog.setPresetConfig(this.cpPresetLabel,this.cpPresetColors)}openDialog(){if(this.dialogCreated)this.dialog&&this.dialog.openDialog(this.colorPicker);else{let t=this.vcRef;if(this.dialogCreated=!0,this.viewAttachedToAppRef=!1,this.cpUseRootViewContainer&&"inline"!==this.cpDialogDisplay){const a=this.injector.get(this.appRef.componentTypes[0],u.zs3.NULL);a!==u.zs3.NULL?t=a.vcRef||a.viewContainerRef||this.vcRef:this.viewAttachedToAppRef=!0}const r=this.cfr.resolveComponentFactory(mB);if(this.viewAttachedToAppRef)this.cmpRef=r.create(this.injector),this.appRef.attachView(this.cmpRef.hostView),document.body.appendChild(this.cmpRef.hostView.rootNodes[0]);else{const i=u.zs3.create({providers:[],parent:t.injector});this.cmpRef=t.createComponent(r,0,i,[])}this.cmpRef.instance.setupDialog(this,this.elRef,this.colorPicker,this.cpWidth,this.cpHeight,this.cpDialogDisplay,this.cpFallbackColor,this.cpColorMode,this.cpCmykEnabled,this.cpAlphaChannel,this.cpOutputFormat,this.cpDisableInput,this.cpIgnoredElements,this.cpSaveClickOutside,this.cpCloseClickOutside,this.cpUseRootViewContainer,this.cpPosition,this.cpPositionOffset,this.cpPositionRelativeToArrow,this.cpPresetLabel,this.cpPresetColors,this.cpPresetColorsClass,this.cpMaxPresetColorsLength,this.cpPresetEmptyMessage,this.cpPresetEmptyMessageClass,this.cpOKButton,this.cpOKButtonClass,this.cpOKButtonText,this.cpCancelButton,this.cpCancelButtonClass,this.cpCancelButtonText,this.cpAddColorButton,this.cpAddColorButtonClass,this.cpAddColorButtonText,this.cpRemoveColorButtonClass,this.cpEyeDropper,this.elRef,this.cpExtraTemplate),this.dialog=this.cmpRef.instance,this.vcRef!==t&&this.cmpRef.changeDetectorRef.detectChanges()}}closeDialog(){this.dialog&&"popup"===this.cpDialogDisplay&&this.dialog.closeDialog()}cmykChanged(t){this.cpCmykColorChange.emit(t)}stateChanged(t){this.cpToggleChange.emit(t),t?this.colorPickerOpen.emit(this.colorPicker):this.colorPickerClose.emit(this.colorPicker)}colorChanged(t,r=!0){this.ignoreChanges=r,this.colorPickerChange.emit(t)}colorSelected(t){this.colorPickerSelect.emit(t)}colorCanceled(){this.colorPickerCancel.emit()}inputFocus(){const t=this.elRef.nativeElement,r=this.cpIgnoredElements.filter(i=>i===t);!this.cpDisabled&&!r.length&&("undefined"!=typeof document&&t===document.activeElement?this.openDialog():this.dialog&&this.dialog.show?this.closeDialog():this.openDialog())}inputChange(t){this.dialog?this.dialog.setColorFromString(t.target.value,!0):(this.colorPicker=t.target.value,this.colorPickerChange.emit(this.colorPicker))}inputChanged(t){this.cpInputChange.emit(t)}sliderChanged(t){this.cpSliderChange.emit(t)}sliderDragEnd(t){this.cpSliderDragEnd.emit(t)}sliderDragStart(t){this.cpSliderDragStart.emit(t)}presetColorsChanged(t){this.cpPresetColorsChange.emit(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.zs3),u.Y36(u._Vd),u.Y36(u.z2F),u.Y36(u.s_b),u.Y36(u.SBq),u.Y36(Jx))},n.\u0275dir=u.lG2({type:n,selectors:[["","colorPicker",""]],hostBindings:function(t,r){1&t&&u.NdJ("click",function(){return r.handleClick()})("focus",function(){return r.handleFocus()})("input",function(a){return r.handleInput(a)})},inputs:{colorPicker:"colorPicker",cpWidth:"cpWidth",cpHeight:"cpHeight",cpToggle:"cpToggle",cpDisabled:"cpDisabled",cpIgnoredElements:"cpIgnoredElements",cpFallbackColor:"cpFallbackColor",cpColorMode:"cpColorMode",cpCmykEnabled:"cpCmykEnabled",cpOutputFormat:"cpOutputFormat",cpAlphaChannel:"cpAlphaChannel",cpDisableInput:"cpDisableInput",cpDialogDisplay:"cpDialogDisplay",cpSaveClickOutside:"cpSaveClickOutside",cpCloseClickOutside:"cpCloseClickOutside",cpUseRootViewContainer:"cpUseRootViewContainer",cpPosition:"cpPosition",cpPositionOffset:"cpPositionOffset",cpPositionRelativeToArrow:"cpPositionRelativeToArrow",cpOKButton:"cpOKButton",cpOKButtonText:"cpOKButtonText",cpOKButtonClass:"cpOKButtonClass",cpCancelButton:"cpCancelButton",cpCancelButtonText:"cpCancelButtonText",cpCancelButtonClass:"cpCancelButtonClass",cpEyeDropper:"cpEyeDropper",cpPresetLabel:"cpPresetLabel",cpPresetColors:"cpPresetColors",cpPresetColorsClass:"cpPresetColorsClass",cpMaxPresetColorsLength:"cpMaxPresetColorsLength",cpPresetEmptyMessage:"cpPresetEmptyMessage",cpPresetEmptyMessageClass:"cpPresetEmptyMessageClass",cpAddColorButton:"cpAddColorButton",cpAddColorButtonText:"cpAddColorButtonText",cpAddColorButtonClass:"cpAddColorButtonClass",cpRemoveColorButtonClass:"cpRemoveColorButtonClass",cpExtraTemplate:"cpExtraTemplate"},outputs:{cpInputChange:"cpInputChange",cpToggleChange:"cpToggleChange",cpSliderChange:"cpSliderChange",cpSliderDragEnd:"cpSliderDragEnd",cpSliderDragStart:"cpSliderDragStart",colorPickerOpen:"colorPickerOpen",colorPickerClose:"colorPickerClose",colorPickerCancel:"colorPickerCancel",colorPickerSelect:"colorPickerSelect",colorPickerChange:"colorPickerChange",cpCmykColorChange:"cpCmykColorChange",cpPresetColorsChange:"cpPresetColorsChange"},exportAs:["ngxColorPicker"],features:[u.TTD]}),n})(),_B=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[Jx],imports:[[Qi]]}),n})(),bB=(()=>{class n{constructor(t,r,i){var a=this;this.routerService=t,this.toastrService=r,this.firebaseService=i,this.defaultModel={color1:"#ff0000",color2:"#d0972f",color3:"#bfd235",color4:"#d4ff55",color5:"#99f763",color6:"#00ff94"},this.model={},this.destroyed$=new Zr.x,this.cancel=()=>{this.routerService.navigate("calendar")},this.save=(0,nt.Z)(function*(){a.toastrService.success("Preferences Saved."),yield a.firebaseService.saveUserPreferences(a.model).finally(()=>{a.routerService.navigate("calendar")})}),this.firebaseService.getUserPreferences().subscribe(c=>{var g;this.model=null!==(g=c[0])&&void 0!==g?g:this.defaultModel},z_(this.destroyed$))}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ad),u.Y36(Xl),u.Y36(my))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-preferences-main"]],decls:37,vars:20,consts:[["id","preferencesFormMain",1,"container","formMain","w-100","h-50"],[1,"row","h-75"],[1,"col-6","h-100","mx-auto"],[1,"container","mt-5","h-100","w-100"],[1,"row","h-100","mx-auto"],[1,"col-12","mx-auto"],["id","preferencesForm"],[1,"container"],[1,"row","mb-3"],[1,"col"],["for","dailyGoal"],["type","number","id","dailyMinuteGoal","name","dailyMinuteGoal","placeholder","Minutes...",1,"form-control",3,"ngModel","ngModelChange"],["for","trackingDescription"],["type","text","id","trackingDescription","name","trackingDescription","placeholder","Description...",1,"form-control",3,"ngModel","ngModelChange"],[1,"row"],[1,"col-2"],["id","colorPickerInput",3,"colorPicker","colorPickerChange"],[1,"row","mt-5"],[1,"col-12"],[1,"btn","btn-secondary","float-left",3,"click"],[1,"btn","btn-primary","float-right","bd-highlight",3,"click"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"label",10),u._uU(11,"Daily Minute Goal"),u.qZA(),u.TgZ(12,"input",11),u.NdJ("ngModelChange",function(a){return r.model.dailyMinuteGoal=a}),u.qZA()()(),u.TgZ(13,"div",8)(14,"div",9)(15,"label",12),u._uU(16,"What would you like to track?"),u.qZA(),u.TgZ(17,"input",13),u.NdJ("ngModelChange",function(a){return r.model.trackingDescription=a}),u.qZA()()(),u.TgZ(18,"div",14)(19,"div",15)(20,"input",16),u.NdJ("colorPickerChange",function(a){return r.model.color1=a}),u.qZA()(),u.TgZ(21,"div",15)(22,"input",16),u.NdJ("colorPickerChange",function(a){return r.model.color2=a}),u.qZA()(),u.TgZ(23,"div",15)(24,"input",16),u.NdJ("colorPickerChange",function(a){return r.model.color3=a}),u.qZA()(),u.TgZ(25,"div",15)(26,"input",16),u.NdJ("colorPickerChange",function(a){return r.model.color4=a}),u.qZA()(),u.TgZ(27,"div",15)(28,"input",16),u.NdJ("colorPickerChange",function(a){return r.model.color5=a}),u.qZA()(),u.TgZ(29,"div",15)(30,"input",16),u.NdJ("colorPickerChange",function(a){return r.model.color6=a}),u.qZA()()()()()()()()()(),u.TgZ(31,"div",17)(32,"div",18)(33,"button",19),u.NdJ("click",function(){return r.cancel()}),u._uU(34,"Cancel"),u.qZA(),u.TgZ(35,"button",20),u.NdJ("click",function(){return r.save()}),u._uU(36,"Save"),u.qZA()()()()),2&t&&(u.xp6(12),u.Q6J("ngModel",r.model.dailyMinuteGoal),u.xp6(5),u.Q6J("ngModel",r.model.trackingDescription),u.xp6(3),u.Udp("background",r.model.color1),u.Q6J("colorPicker",r.model.color1),u.xp6(2),u.Udp("background",r.model.color2),u.Q6J("colorPicker",r.model.color2),u.xp6(2),u.Udp("background",r.model.color3),u.Q6J("colorPicker",r.model.color3),u.xp6(2),u.Udp("background",r.model.color4),u.Q6J("colorPicker",r.model.color4),u.xp6(2),u.Udp("background",r.model.color5),u.Q6J("colorPicker",r.model.color5),u.xp6(2),u.Udp("background",r.model.color6),u.Q6J("colorPicker",r.model.color6))},directives:[Vl,us,ai,qo,yB],styles:["#preferencesForm[_ngcontent-%COMP%]{color:#fff}#colorPickerInput[_ngcontent-%COMP%]{width:50px;height:50px;border:none;border-radius:9999rem}"]}),n})(),LN=(()=>{class n{canActivate(t,r){return null!=sessionStorage.getItem(gy.userName)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const EB=[{path:"login",component:kV},{path:"calendar",component:wV,canActivate:[LN]},{path:"createAccount",component:CV},{path:"preferences",component:bB,canActivate:[LN]},{path:"focus",component:RV},{path:"**",redirectTo:"login"},{path:"*",redirectTo:"login"}];let AB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[AA.forRoot(EB)],AA]}),n})();var wB=z(579);let VN=(()=>{class n{constructor(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CB=(()=>{class n{constructor(t){this.routerService=t,this.onClick=()=>{this.routerService.navigate("preferences")}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ad))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-preferences-button"]],decls:4,vars:0,consts:[[3,"click"],["id","preferencesIcon","xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-gear"],["d","M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"],["d","M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"]],template:function(t,r){1&t&&(u.TgZ(0,"a",0),u.NdJ("click",function(){return r.onClick()}),u.O4$(),u.TgZ(1,"svg",1),u._UZ(2,"path",2)(3,"path",3),u.qZA()())},styles:["#preferencesIcon[_ngcontent-%COMP%]{color:#fff;transition:transform 1.5s ease 0s;transform:scale(2.5)}#preferencesIcon[_ngcontent-%COMP%]:hover{transform:rotate(180deg) scale(4.5)}#preferencesIcon[_ngcontent-%COMP%]:hover:after{transform:rotate(-180deg)}"]}),n})(),DB=(()=>{class n{constructor(t){this.routerService=t,this.onClick=()=>{this.routerService.navigate("focus")}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ad))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-focus-button"]],decls:3,vars:0,consts:[[3,"click"],["id","meditateIcon","xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-flower1"],["d","M6.174 1.184a2 2 0 0 1 3.652 0A2 2 0 0 1 12.99 3.01a2 2 0 0 1 1.826 3.164 2 2 0 0 1 0 3.652 2 2 0 0 1-1.826 3.164 2 2 0 0 1-3.164 1.826 2 2 0 0 1-3.652 0A2 2 0 0 1 3.01 12.99a2 2 0 0 1-1.826-3.164 2 2 0 0 1 0-3.652A2 2 0 0 1 3.01 3.01a2 2 0 0 1 3.164-1.826zM8 1a1 1 0 0 0-.998 1.03l.01.091c.012.077.029.176.054.296.049.241.122.542.213.887.182.688.428 1.513.676 2.314L8 5.762l.045-.144c.248-.8.494-1.626.676-2.314.091-.345.164-.646.213-.887a4.997 4.997 0 0 0 .064-.386L9 2a1 1 0 0 0-1-1zM2 9l.03-.002.091-.01a4.99 4.99 0 0 0 .296-.054c.241-.049.542-.122.887-.213a60.59 60.59 0 0 0 2.314-.676L5.762 8l-.144-.045a60.59 60.59 0 0 0-2.314-.676 16.705 16.705 0 0 0-.887-.213 4.99 4.99 0 0 0-.386-.064L2 7a1 1 0 1 0 0 2zm7 5-.002-.03a5.005 5.005 0 0 0-.064-.386 16.398 16.398 0 0 0-.213-.888 60.582 60.582 0 0 0-.676-2.314L8 10.238l-.045.144c-.248.8-.494 1.626-.676 2.314-.091.345-.164.646-.213.887a4.996 4.996 0 0 0-.064.386L7 14a1 1 0 1 0 2 0zm-5.696-2.134.025-.017a5.001 5.001 0 0 0 .303-.248c.184-.164.408-.377.661-.629A60.614 60.614 0 0 0 5.96 9.23l.103-.111-.147.033a60.88 60.88 0 0 0-2.343.572c-.344.093-.64.18-.874.258a5.063 5.063 0 0 0-.367.138l-.027.014a1 1 0 1 0 1 1.732zM4.5 14.062a1 1 0 0 0 1.366-.366l.014-.027c.01-.02.021-.048.036-.084a5.09 5.09 0 0 0 .102-.283c.078-.233.165-.53.258-.874a60.6 60.6 0 0 0 .572-2.343l.033-.147-.11.102a60.848 60.848 0 0 0-1.743 1.667 17.07 17.07 0 0 0-.629.66 5.06 5.06 0 0 0-.248.304l-.017.025a1 1 0 0 0 .366 1.366zm9.196-8.196a1 1 0 0 0-1-1.732l-.025.017a4.951 4.951 0 0 0-.303.248 16.69 16.69 0 0 0-.661.629A60.72 60.72 0 0 0 10.04 6.77l-.102.111.147-.033a60.6 60.6 0 0 0 2.342-.572c.345-.093.642-.18.875-.258a4.993 4.993 0 0 0 .367-.138.53.53 0 0 0 .027-.014zM11.5 1.938a1 1 0 0 0-1.366.366l-.014.027c-.01.02-.021.048-.036.084a5.09 5.09 0 0 0-.102.283c-.078.233-.165.53-.258.875a60.62 60.62 0 0 0-.572 2.342l-.033.147.11-.102a60.848 60.848 0 0 0 1.743-1.667c.252-.253.465-.477.629-.66a5.001 5.001 0 0 0 .248-.304l.017-.025a1 1 0 0 0-.366-1.366zM14 9a1 1 0 0 0 0-2l-.03.002a4.996 4.996 0 0 0-.386.064c-.242.049-.543.122-.888.213-.688.182-1.513.428-2.314.676L10.238 8l.144.045c.8.248 1.626.494 2.314.676.345.091.646.164.887.213a4.996 4.996 0 0 0 .386.064L14 9zM1.938 4.5a1 1 0 0 0 .393 1.38l.084.035c.072.03.166.064.283.103.233.078.53.165.874.258a60.88 60.88 0 0 0 2.343.572l.147.033-.103-.111a60.584 60.584 0 0 0-1.666-1.742 16.705 16.705 0 0 0-.66-.629 4.996 4.996 0 0 0-.304-.248l-.025-.017a1 1 0 0 0-1.366.366zm2.196-1.196.017.025a4.996 4.996 0 0 0 .248.303c.164.184.377.408.629.661A60.597 60.597 0 0 0 6.77 5.96l.111.102-.033-.147a60.602 60.602 0 0 0-.572-2.342c-.093-.345-.18-.642-.258-.875a5.006 5.006 0 0 0-.138-.367l-.014-.027a1 1 0 1 0-1.732 1zm9.928 8.196a1 1 0 0 0-.366-1.366l-.027-.014a5 5 0 0 0-.367-.138c-.233-.078-.53-.165-.875-.258a60.619 60.619 0 0 0-2.342-.572l-.147-.033.102.111a60.73 60.73 0 0 0 1.667 1.742c.253.252.477.465.66.629a4.946 4.946 0 0 0 .304.248l.025.017a1 1 0 0 0 1.366-.366zm-3.928 2.196a1 1 0 0 0 1.732-1l-.017-.025a5.065 5.065 0 0 0-.248-.303 16.705 16.705 0 0 0-.629-.661A60.462 60.462 0 0 0 9.23 10.04l-.111-.102.033.147a60.6 60.6 0 0 0 .572 2.342c.093.345.18.642.258.875a4.985 4.985 0 0 0 .138.367.575.575 0 0 0 .014.027zM8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z"]],template:function(t,r){1&t&&(u.TgZ(0,"a",0),u.NdJ("click",function(){return r.onClick()}),u.O4$(),u.TgZ(1,"svg",1),u._UZ(2,"path",2),u.qZA()())},styles:["#meditateIcon[_ngcontent-%COMP%]{color:#7531f9;transform:scale(2.5);transition:transform 1.5s ease 0s}#meditateIcon[_ngcontent-%COMP%]:hover{transform:rotate(180deg) scale(4.5)}#meditateIcon[_ngcontent-%COMP%]:hover:after{transform:rotate(-180deg)}"]}),n})(),TB=(()=>{class n{constructor(t,r){this.routerService=t,this.fireBaseService=r,this.onClick=()=>{this.fireBaseService.logoutFirebaseUser(),this.routerService.navigate("login")}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ad),u.Y36(my))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-logout-button"]],decls:4,vars:0,consts:[[3,"click"],["id","logoutIcon","xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-box-arrow-left"],["fill-rule","evenodd","d","M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5 1.5 0 0 1 6.5 2h8A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 5 12.5v-2a.5.5 0 0 1 1 0v2z"],["fill-rule","evenodd","d","M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"]],template:function(t,r){1&t&&(u.TgZ(0,"a",0),u.NdJ("click",function(){return r.onClick()}),u.O4$(),u.TgZ(1,"svg",1),u._UZ(2,"path",2)(3,"path",3),u.qZA()())},styles:["#logoutIcon[_ngcontent-%COMP%]{color:#f5f5f5;transform:scale(2.5);transition:transform 1.5s ease 0s}#logoutIcon[_ngcontent-%COMP%]:hover{transform:scale(4.5)}"]}),n})();function IB(n,e){1&n&&u._UZ(0,"app-preferences-button",3)}function SB(n,e){1&n&&u._UZ(0,"app-focus-button",4)}function xB(n,e){1&n&&u._UZ(0,"app-logout-button",5)}let MB=(()=>{class n{constructor(t,r){this.sessionStoreService=t,this.routerService=r,this.isUserAuthenticated$=this.sessionStoreService.isUserAuthenticated$,this.isLoginRoute$=this.routerService.isLoginRoute$,this.isFocusRoute$=this.routerService.isFocusRoute$,this.isPreferencesRoute$=this.routerService.isPreferencesRoute$}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(xN),u.Y36(Ad))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-header-main"]],decls:7,vars:11,consts:[["class","mr-4",4,"ngIf"],["class","ml-4 mr-4",4,"ngIf"],["class","ml-4",4,"ngIf"],[1,"mr-4"],[1,"ml-4","mr-4"],[1,"ml-4"]],template:function(t,r){1&t&&(u.YNc(0,IB,1,0,"app-preferences-button",0),u.ALo(1,"async"),u.ALo(2,"async"),u.YNc(3,SB,1,0,"app-focus-button",1),u.ALo(4,"async"),u.YNc(5,xB,1,0,"app-logout-button",2),u.ALo(6,"async")),2&t&&(u.Q6J("ngIf",!1===u.lcZ(1,3,r.isLoginRoute$)&&u.lcZ(2,5,r.isUserAuthenticated$)),u.xp6(3),u.Q6J("ngIf",!1===u.lcZ(4,7,r.isFocusRoute$)),u.xp6(2),u.Q6J("ngIf",!1===u.lcZ(6,9,r.isLoginRoute$)))},directives:[vr,CB,DB,TB],pipes:[fo],styles:[""]}),n})();function RB(n,e){1&n&&(u.TgZ(0,"div"),u._uU(1,"Background audio track provided by "),u.TgZ(2,"a",1),u._uU(3,"Noises.Online"),u.qZA(),u._uU(4," under a "),u.TgZ(5,"a",2),u._uU(6,"CC 3.0 BY"),u.qZA(),u._uU(7," license."),u.qZA())}let kB=(()=>{class n{constructor(t){this.routerService=t,this.isFocusRoute$=this.routerService.isFocusRoute$}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ad))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-footer-main"]],decls:2,vars:3,consts:[[4,"ngIf"],["href","https://noises.online","title","Noises.Online","target","_blank"],["href","http://creativecommons.org/licenses/by/3.0/","title","Creative Commons BY 3.0","target","_blank"]],template:function(t,r){1&t&&(u.YNc(0,RB,8,0,"div",0),u.ALo(1,"async")),2&t&&u.Q6J("ngIf",u.lcZ(1,1,r.isFocusRoute$))},directives:[vr],pipes:[fo],styles:[""]}),n})();function NB(n,e){1&n&&(u.TgZ(0,"div"),u.O4$(),u.TgZ(1,"svg",10)(2,"title"),u._uU(3,"Gray Clouds Background"),u.qZA(),u._UZ(4,"path",11),u.qZA()())}function PB(n,e){1&n&&(u.TgZ(0,"div",12),u._UZ(1,"div",13)(2,"div",14)(3,"div",15)(4,"div",16),u.TgZ(5,"div",17),u._UZ(6,"div",18),u.qZA(),u._UZ(7,"div",19)(8,"div",20),u.TgZ(9,"div",21),u._UZ(10,"div",18),u.qZA(),u._UZ(11,"div",22)(12,"div",23)(13,"div",24)(14,"div",25)(15,"div",26)(16,"div",27)(17,"div",28)(18,"div",29)(19,"div",30)(20,"div",31)(21,"div",32)(22,"div",33)(23,"div",34)(24,"div",35)(25,"div",36)(26,"div",37)(27,"div",38)(28,"div",39)(29,"div",40)(30,"div",41)(31,"div",42),u.TgZ(32,"div",43),u._UZ(33,"div",44)(34,"div",45)(35,"div",46)(36,"div",47)(37,"div",48)(38,"div",49),u.qZA()())}const OB=(0,eu.initializeApp)(SN);(0,wB.IH)(OB);let FB=(()=>{class n{constructor(t,r){this.routerService=t,this.storage=r,this.isFocusRoute$=this.routerService.isFocusRoute$,this.isLoginRoute$=this.routerService.isLoginRoute$}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Ad),u.Y36(VN))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:15,vars:6,consts:[["id","app-header",1,"container"],[1,"row","w-100","mt-4","d-flex","flex-row-reverse"],["id","main-content",1,"container","mt-4"],[1,"row","w-100"],[1,"col-12"],["id","main-center-content",1,"row","w-100"],[1,"col-12","mx-auto"],[1,""],[4,"ngIf"],["class","landscape",4,"ngIf"],["id","clouds","xmlns","http://www.w3.org/2000/svg","width","2611.084","height","485.677","viewBox","0 0 2611.084 485.677",1,"clouds"],["id","Path_39","data-name","Path 39","d","M2379.709,863.793c10-93-77-171-168-149-52-114-225-105-264,15-75,3-140,59-152,133-30,2.83-66.725,9.829-93.5,26.25-26.771-16.421-63.5-23.42-93.5-26.25-12-74-77-130-152-133-39-120-212-129-264-15-54.084-13.075-106.753,9.173-138.488,48.9-31.734-39.726-84.4-61.974-138.487-48.9-52-114-225-105-264,15a162.027,162.027,0,0,0-103.147,43.044c-30.633-45.365-87.1-72.091-145.206-58.044-52-114-225-105-264,15-75,3-140,59-152,133-53,5-127,23-130,83-2,42,35,72,70,86,49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33,61.112,8.015,113.854-5.72,150.492-29.764a165.62,165.62,0,0,0,110.861-3.236c47,94,178,113,251,33,31.385,4.116,60.563,2.495,86.487-3.311,25.924,5.806,55.1,7.427,86.488,3.311,73,80,204,61,251-33a165.625,165.625,0,0,0,120,0c51,13,108,15,157-5a147.188,147.188,0,0,0,33.5-18.694,147.217,147.217,0,0,0,33.5,18.694c49,20,106,18,157,5a165.625,165.625,0,0,0,120,0c47,94,178,113,251,33C2446.709,1093.793,2554.709,922.793,2379.709,863.793Z","transform","translate(142.69 -634.312)","fill","#eee"],[1,"landscape"],[1,"mountain"],[1,"mountain","mountain-2"],[1,"mountain","mountain-3"],[1,"sun-container","sun-container-1"],[1,"sun-container"],[1,"sun"],[1,"cloud"],[1,"cloud","cloud-1"],[1,"sun-container","sun-container-reflection"],[1,"light"],[1,"light","light-1"],[1,"light","light-2"],[1,"light","light-3"],[1,"light","light-4"],[1,"light","light-5"],[1,"light","light-6"],[1,"light","light-7"],[1,"water"],[1,"splash"],[1,"splash","delay-1"],[1,"splash","delay-2"],[1,"splash","splash-4","delay-2"],[1,"splash","splash-4","delay-3"],[1,"splash","splash-4","delay-4"],[1,"splash","splash-stone","delay-3"],[1,"splash","splash-stone","splash-4"],[1,"splash","splash-stone","splash-5"],[1,"lotus","lotus-1"],[1,"lotus","lotus-2"],[1,"lotus","lotus-3"],[1,"front"],[1,"stone"],[1,"grass"],[1,"grass","grass-1"],[1,"grass","grass-2"],[1,"reed"],[1,"reed","reed-1"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"app-header-main"),u.qZA()(),u.TgZ(3,"div",2)(4,"div",3),u._UZ(5,"div",4),u.qZA(),u.TgZ(6,"div",5)(7,"div",6),u._UZ(8,"router-outlet"),u.qZA()(),u.TgZ(9,"div",7),u._UZ(10,"app-footer-main"),u.qZA()(),u.YNc(11,NB,5,0,"div",8),u.ALo(12,"async"),u.YNc(13,PB,39,0,"div",9),u.ALo(14,"async")),2&t&&(u.xp6(11),u.Q6J("ngIf",u.lcZ(12,2,r.isLoginRoute$)),u.xp6(2),u.Q6J("ngIf",u.lcZ(14,4,r.isFocusRoute$)))},directives:[MB,Ep,kB,vr],pipes:[fo],styles:["#main-content[_ngcontent-%COMP%]{min-height:90vh!important;min-width:98vw!important;height:90vh!important;width:98vw!important;z-index:3!important;position:fixed}#main-center-content[_ngcontent-%COMP%]{height:90vh!important;width:98vw!important}#app-header[_ngcontent-%COMP%]{position:absolute;z-index:999!important;height:2vh!important;min-width:100vw!important}"]}),n})();class BN{}class UN{}class Cd{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),a=i.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(c):this.headers.set(a,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Cd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Cd;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Cd?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const a=e.value;if(a){let c=this.headers.get(t);if(!c)return;c=c.filter(g=>-1===a.indexOf(g)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class LB{encodeKey(e){return HN(e)}encodeValue(e){return HN(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const BB=/%(\d[a-f0-9])/gi,UB={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function HN(n){return encodeURIComponent(n).replace(BB,(e,t)=>{var r;return null!==(r=UB[t])&&void 0!==r?r:e})}function jN(n){return`${n}`}class vh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new LB,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function VB(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[c,g]=-1==a?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,a)),e.decodeValue(i.slice(a+1))],b=t.get(c)||[];b.push(g),t.set(c,b)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(a=>{t.push({param:r,value:a,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new vh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(jN(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(jN(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class HB{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function GN(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function zN(n){return"undefined"!=typeof Blob&&n instanceof Blob}function qN(n){return"undefined"!=typeof FormData&&n instanceof FormData}class bb{constructor(e,t,r,i){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function jB(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Cd),this.context||(this.context=new HB),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const g=t.indexOf("?");this.urlWithParams=t+(-1===g?"?":g<t.length-1?"&":"")+c}}else this.params=new vh,this.urlWithParams=t}serializeBody(){return null===this.body?null:GN(this.body)||zN(this.body)||qN(this.body)||function GB(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof vh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||qN(this.body)?null:zN(this.body)?this.body.type||null:GN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof vh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,a=e.responseType||this.responseType,c=void 0!==e.body?e.body:this.body,g=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,b=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let C=e.headers||this.headers,R=e.params||this.params;const P=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(C=Object.keys(e.setHeaders).reduce((Z,Y)=>Z.set(Y,e.setHeaders[Y]),C)),e.setParams&&(R=Object.keys(e.setParams).reduce((Z,Y)=>Z.set(Y,e.setParams[Y]),R)),new bb(r,i,c,{params:R,headers:C,context:P,reportProgress:b,responseType:a,withCredentials:g})}}var Zi=(()=>((Zi=Zi||{})[Zi.Sent=0]="Sent",Zi[Zi.UploadProgress=1]="UploadProgress",Zi[Zi.ResponseHeader=2]="ResponseHeader",Zi[Zi.DownloadProgress=3]="DownloadProgress",Zi[Zi.Response=4]="Response",Zi[Zi.User=5]="User",Zi))();class Xx{constructor(e,t=200,r="OK"){this.headers=e.headers||new Cd,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class eM extends Xx{constructor(e={}){super(e),this.type=Zi.ResponseHeader}clone(e={}){return new eM({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class GC extends Xx{constructor(e={}){super(e),this.type=Zi.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new GC({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class WN extends Xx{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function tM(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let zB=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let a;if(t instanceof bb)a=t;else{let b,C;b=i.headers instanceof Cd?i.headers:new Cd(i.headers),i.params&&(C=i.params instanceof vh?i.params:new vh({fromObject:i.params})),a=new bb(t,r,void 0!==i.body?i.body:null,{headers:b,context:i.context,params:C,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=wn(a).pipe(Af(b=>this.handler.handle(b)));if(t instanceof bb||"events"===i.observe)return c;const g=c.pipe(Qo(b=>b instanceof GC));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return g.pipe((0,hn.U)(b=>{if(null!==b.body&&!(b.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return b.body}));case"blob":return g.pipe((0,hn.U)(b=>{if(null!==b.body&&!(b.body instanceof Blob))throw new Error("Response is not a Blob.");return b.body}));case"text":return g.pipe((0,hn.U)(b=>{if(null!==b.body&&"string"!=typeof b.body)throw new Error("Response is not a string.");return b.body}));default:return g.pipe((0,hn.U)(b=>b.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new vh).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,tM(i,r))}post(t,r,i={}){return this.request("POST",t,tM(i,r))}put(t,r,i={}){return this.request("PUT",t,tM(i,r))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(BN))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class ZN{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const $N=new u.OlP("HTTP_INTERCEPTORS");let qB=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const WB=/^\)\]\}',?\n/;let KN=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Qs.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((Y,ne)=>i.setRequestHeader(Y,ne.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const Y=t.detectContentTypeHeader();null!==Y&&i.setRequestHeader("Content-Type",Y)}if(t.responseType){const Y=t.responseType.toLowerCase();i.responseType="json"!==Y?Y:"text"}const a=t.serializeBody();let c=null;const g=()=>{if(null!==c)return c;const Y=i.statusText||"OK",ne=new Cd(i.getAllResponseHeaders()),Se=function ZB(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return c=new eM({headers:ne,status:i.status,statusText:Y,url:Se}),c},b=()=>{let{headers:Y,status:ne,statusText:Se,url:rt}=g(),ot=null;204!==ne&&(ot=void 0===i.response?i.responseText:i.response),0===ne&&(ne=ot?200:0);let _t=ne>=200&&ne<300;if("json"===t.responseType&&"string"==typeof ot){const Rt=ot;ot=ot.replace(WB,"");try{ot=""!==ot?JSON.parse(ot):null}catch(Ct){ot=Rt,_t&&(_t=!1,ot={error:Ct,text:ot})}}_t?(r.next(new GC({body:ot,headers:Y,status:ne,statusText:Se,url:rt||void 0})),r.complete()):r.error(new WN({error:ot,headers:Y,status:ne,statusText:Se,url:rt||void 0}))},C=Y=>{const{url:ne}=g(),Se=new WN({error:Y,status:i.status||0,statusText:i.statusText||"Unknown Error",url:ne||void 0});r.error(Se)};let R=!1;const P=Y=>{R||(r.next(g()),R=!0);let ne={type:Zi.DownloadProgress,loaded:Y.loaded};Y.lengthComputable&&(ne.total=Y.total),"text"===t.responseType&&!!i.responseText&&(ne.partialText=i.responseText),r.next(ne)},Z=Y=>{let ne={type:Zi.UploadProgress,loaded:Y.loaded};Y.lengthComputable&&(ne.total=Y.total),r.next(ne)};return i.addEventListener("load",b),i.addEventListener("error",C),i.addEventListener("timeout",C),i.addEventListener("abort",C),t.reportProgress&&(i.addEventListener("progress",P),null!==a&&i.upload&&i.upload.addEventListener("progress",Z)),i.send(a),r.next({type:Zi.Sent}),()=>{i.removeEventListener("error",C),i.removeEventListener("abort",C),i.removeEventListener("load",b),i.removeEventListener("timeout",C),t.reportProgress&&(i.removeEventListener("progress",P),null!==a&&i.upload&&i.upload.removeEventListener("progress",Z)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(gr))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const nM=new u.OlP("XSRF_COOKIE_NAME"),rM=new u.OlP("XSRF_HEADER_NAME");class YN{}let $B=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ys(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ee),u.LFG(u.Lbi),u.LFG(nM))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),iM=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const a=this.tokenService.getToken();return null!==a&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,a)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(YN),u.LFG(rM))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),KB=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get($N,[]);this.chain=r.reduceRight((i,a)=>new ZN(i,a),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(UN),u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),YB=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:iM,useClass:qB}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:nM,useValue:t.cookieName}:[],t.headerName?{provide:rM,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[iM,{provide:$N,useExisting:iM,multi:!0},{provide:YN,useClass:$B},{provide:nM,useValue:"XSRF-TOKEN"},{provide:rM,useValue:"X-XSRF-TOKEN"}]}),n})(),QB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[zB,{provide:BN,useClass:KB},KN,{provide:UN,useExisting:KN}],imports:[[YB.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const QN_firebase=SN;ie.config.touchMouseIgnoreWait=500;var sM=0,zC=0,oM=!1,aM=function(){function n(e){var t=this;this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=function(r){if(!t.shouldIgnoreMouse()&&function JB(n){return 0===n.button&&!n.ctrlKey}(r)&&t.tryStart(r)){var i=t.createEventFromMouse(r,!0);t.emitter.trigger("pointerdown",i),t.initScrollWatch(i),t.shouldIgnoreMove||document.addEventListener("mousemove",t.handleMouseMove),document.addEventListener("mouseup",t.handleMouseUp)}},this.handleMouseMove=function(r){var i=t.createEventFromMouse(r);t.recordCoords(i),t.emitter.trigger("pointermove",i)},this.handleMouseUp=function(r){document.removeEventListener("mousemove",t.handleMouseMove),document.removeEventListener("mouseup",t.handleMouseUp),t.emitter.trigger("pointerup",t.createEventFromMouse(r)),t.cleanup()},this.handleTouchStart=function(r){if(t.tryStart(r)){t.isTouchDragging=!0;var i=t.createEventFromTouch(r,!0);t.emitter.trigger("pointerdown",i),t.initScrollWatch(i);var a=r.target;t.shouldIgnoreMove||a.addEventListener("touchmove",t.handleTouchMove),a.addEventListener("touchend",t.handleTouchEnd),a.addEventListener("touchcancel",t.handleTouchEnd),window.addEventListener("scroll",t.handleTouchScroll,!0)}},this.handleTouchMove=function(r){var i=t.createEventFromTouch(r);t.recordCoords(i),t.emitter.trigger("pointermove",i)},this.handleTouchEnd=function(r){if(t.isDragging){var i=r.target;i.removeEventListener("touchmove",t.handleTouchMove),i.removeEventListener("touchend",t.handleTouchEnd),i.removeEventListener("touchcancel",t.handleTouchEnd),window.removeEventListener("scroll",t.handleTouchScroll,!0),t.emitter.trigger("pointerup",t.createEventFromTouch(r)),t.cleanup(),t.isTouchDragging=!1,function XB(){sM+=1,setTimeout(function(){sM-=1},ie.config.touchMouseIgnoreWait)}()}},this.handleTouchScroll=function(){t.wasTouchScroll=!0},this.handleScroll=function(r){if(!t.shouldIgnoreMove){var i=window.pageXOffset-t.prevScrollX+t.prevPageX,a=window.pageYOffset-t.prevScrollY+t.prevPageY;t.emitter.trigger("pointermove",{origEvent:r,isTouch:t.isTouchDragging,subjectEl:t.subjectEl,pageX:i,pageY:a,deltaX:i-t.origPageX,deltaY:a-t.origPageY})}},this.containerEl=e,this.emitter=new ie.Emitter,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),function eU(){1===(zC+=1)&&window.addEventListener("touchmove",JN,{passive:!1})}()}return n.prototype.destroy=function(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),function tU(){(zC-=1)||window.removeEventListener("touchmove",JN,{passive:!1})}()},n.prototype.tryStart=function(e){var t=this.querySubjectEl(e);return!(!t||this.handleSelector&&!(0,ie.elementClosest)(e.target,this.handleSelector)||(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,0))},n.prototype.cleanup=function(){oM=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()},n.prototype.querySubjectEl=function(e){return this.selector?(0,ie.elementClosest)(e.target,this.selector):this.containerEl},n.prototype.shouldIgnoreMouse=function(){return sM||this.isTouchDragging},n.prototype.cancelTouchScroll=function(){this.isDragging&&(oM=!0)},n.prototype.initScrollWatch=function(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))},n.prototype.recordCoords=function(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.pageXOffset,this.prevScrollY=window.pageYOffset)},n.prototype.destroyScrollWatch=function(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)},n.prototype.createEventFromMouse=function(e,t){var r=0,i=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:i}},n.prototype.createEventFromTouch=function(e,t){var i,a,r=e.touches,c=0,g=0;return r&&r.length?(i=r[0].pageX,a=r[0].pageY):(i=e.pageX,a=e.pageY),t?(this.origPageX=i,this.origPageY=a):(c=i-this.origPageX,g=a-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:a,deltaX:c,deltaY:g}},n}();function JN(n){oM&&n.preventDefault()}var nU=function(){function n(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}return n.prototype.start=function(e,t,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.pageXOffset,this.origScreenY=r-window.pageYOffset,this.deltaX=0,this.deltaY=0,this.updateElPosition()},n.prototype.handleMove=function(e,t){this.deltaX=e-window.pageXOffset-this.origScreenX,this.deltaY=t-window.pageYOffset-this.origScreenY,this.updateElPosition()},n.prototype.setIsVisible=function(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)},n.prototype.stop=function(e,t){var r=this,i=function(){r.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(i,this.revertDuration):setTimeout(i,0)},n.prototype.doRevertAnimation=function(e,t){var r=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();r.style.transition="top "+t+"ms,left "+t+"ms",(0,ie.applyStyle)(r,{left:i.left,top:i.top}),(0,ie.whenTransitionDone)(r,function(){r.style.transition="",e()})},n.prototype.cleanup=function(){this.mirrorEl&&((0,ie.removeElement)(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null},n.prototype.updateElPosition=function(){this.sourceEl&&this.isVisible&&(0,ie.applyStyle)(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})},n.prototype.getMirrorEl=function(){var e=this.sourceElRect,t=this.mirrorEl;return t||((t=this.mirrorEl=this.sourceEl.cloneNode(!0)).classList.add("fc-unselectable"),t.classList.add("fc-event-dragging"),(0,ie.applyStyle)(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t},n}(),XN=function(n){function e(t,r){var i=n.call(this)||this;return i.handleScroll=function(){i.scrollTop=i.scrollController.getScrollTop(),i.scrollLeft=i.scrollController.getScrollLeft(),i.handleScrollChange()},i.scrollController=t,i.doesListening=r,i.scrollTop=i.origScrollTop=t.getScrollTop(),i.scrollLeft=i.origScrollLeft=t.getScrollLeft(),i.scrollWidth=t.getScrollWidth(),i.scrollHeight=t.getScrollHeight(),i.clientWidth=t.getClientWidth(),i.clientHeight=t.getClientHeight(),i.clientRect=i.computeClientRect(),i.doesListening&&i.getEventTarget().addEventListener("scroll",i.handleScroll),i}return(0,Qt.__extends)(e,n),e.prototype.destroy=function(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)},e.prototype.getScrollTop=function(){return this.scrollTop},e.prototype.getScrollLeft=function(){return this.scrollLeft},e.prototype.setScrollTop=function(t){this.scrollController.setScrollTop(t),this.doesListening||(this.scrollTop=Math.max(Math.min(t,this.getMaxScrollTop()),0),this.handleScrollChange())},e.prototype.setScrollLeft=function(t){this.scrollController.setScrollLeft(t),this.doesListening||(this.scrollLeft=Math.max(Math.min(t,this.getMaxScrollLeft()),0),this.handleScrollChange())},e.prototype.getClientWidth=function(){return this.clientWidth},e.prototype.getClientHeight=function(){return this.clientHeight},e.prototype.getScrollWidth=function(){return this.scrollWidth},e.prototype.getScrollHeight=function(){return this.scrollHeight},e.prototype.handleScrollChange=function(){},e}(ie.ScrollController),eP=function(n){function e(t,r){return n.call(this,new ie.ElementScrollController(t),r)||this}return(0,Qt.__extends)(e,n),e.prototype.getEventTarget=function(){return this.scrollController.el},e.prototype.computeClientRect=function(){return(0,ie.computeInnerRect)(this.scrollController.el)},e}(XN),rU=function(n){function e(t){return n.call(this,new ie.WindowScrollController,t)||this}return(0,Qt.__extends)(e,n),e.prototype.getEventTarget=function(){return window},e.prototype.computeClientRect=function(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}},e.prototype.handleScrollChange=function(){this.clientRect=this.computeClientRect()},e}(XN),tP="function"==typeof performance?performance.now:Date.now,iU=function(){function n(){var e=this;this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=function(){if(e.isAnimating){var t=e.computeBestEdge(e.pointerScreenX+window.pageXOffset,e.pointerScreenY+window.pageYOffset);if(t){var r=tP();e.handleSide(t,(r-e.msSinceRequest)/1e3),e.requestAnimation(r)}else e.isAnimating=!1}}}return n.prototype.start=function(e,t,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))},n.prototype.handleMove=function(e,t){if(this.isEnabled){var r=e-window.pageXOffset,i=t-window.pageYOffset,a=null===this.pointerScreenY?0:i-this.pointerScreenY,c=null===this.pointerScreenX?0:r-this.pointerScreenX;a<0?this.everMovedUp=!0:a>0&&(this.everMovedDown=!0),c<0?this.everMovedLeft=!0:c>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(tP()))}},n.prototype.stop=function(){if(this.isEnabled){this.isAnimating=!1;for(var e=0,t=this.scrollCaches;e<t.length;e++)t[e].destroy();this.scrollCaches=null}},n.prototype.requestAnimation=function(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)},n.prototype.handleSide=function(e,t){var r=e.scrollCache,i=this.edgeThreshold,a=i-e.distance,c=a*a/(i*i)*this.maxVelocity*t,g=1;switch(e.name){case"left":g=-1;case"right":r.setScrollLeft(r.getScrollLeft()+c*g);break;case"top":g=-1;case"bottom":r.setScrollTop(r.getScrollTop()+c*g)}},n.prototype.computeBestEdge=function(e,t){for(var r=this.edgeThreshold,i=null,c=0,g=this.scrollCaches||[];c<g.length;c++){var b=g[c],C=b.clientRect,R=e-C.left,P=C.right-e,Z=t-C.top,Y=C.bottom-t;R>=0&&P>=0&&Z>=0&&Y>=0&&(Z<=r&&this.everMovedUp&&b.canScrollUp()&&(!i||i.distance>Z)&&(i={scrollCache:b,name:"top",distance:Z}),Y<=r&&this.everMovedDown&&b.canScrollDown()&&(!i||i.distance>Y)&&(i={scrollCache:b,name:"bottom",distance:Y}),R<=r&&this.everMovedLeft&&b.canScrollLeft()&&(!i||i.distance>R)&&(i={scrollCache:b,name:"left",distance:R}),P<=r&&this.everMovedRight&&b.canScrollRight()&&(!i||i.distance>P)&&(i={scrollCache:b,name:"right",distance:P}))}return i},n.prototype.buildCaches=function(e){return this.queryScrollEls(e).map(function(t){return t===window?new rU(!1):new eP(t,!1)})},n.prototype.queryScrollEls=function(e){for(var t=[],r=0,i=this.scrollQuery;r<i.length;r++){var a=i[r];"object"==typeof a?t.push(a):t.push.apply(t,Array.prototype.slice.call((0,ie.getElRoot)(e).querySelectorAll(a)))}return t},n}(),vy=function(n){function e(t,r){var i=n.call(this,t)||this;i.containerEl=t,i.delay=null,i.minDistance=0,i.touchScrollAllowed=!0,i.mirrorNeedsRevert=!1,i.isInteracting=!1,i.isDragging=!1,i.isDelayEnded=!1,i.isDistanceSurpassed=!1,i.delayTimeoutId=null,i.onPointerDown=function(c){i.isDragging||(i.isInteracting=!0,i.isDelayEnded=!1,i.isDistanceSurpassed=!1,(0,ie.preventSelection)(document.body),(0,ie.preventContextMenu)(document.body),c.isTouch||c.origEvent.preventDefault(),i.emitter.trigger("pointerdown",c),i.isInteracting&&!i.pointer.shouldIgnoreMove&&(i.mirror.setIsVisible(!1),i.mirror.start(c.subjectEl,c.pageX,c.pageY),i.startDelay(c),i.minDistance||i.handleDistanceSurpassed(c)))},i.onPointerMove=function(c){if(i.isInteracting){if(i.emitter.trigger("pointermove",c),!i.isDistanceSurpassed){var g=i.minDistance,C=c.deltaX,R=c.deltaY;C*C+R*R>=g*g&&i.handleDistanceSurpassed(c)}i.isDragging&&("scroll"!==c.origEvent.type&&(i.mirror.handleMove(c.pageX,c.pageY),i.autoScroller.handleMove(c.pageX,c.pageY)),i.emitter.trigger("dragmove",c))}},i.onPointerUp=function(c){i.isInteracting&&(i.isInteracting=!1,(0,ie.allowSelection)(document.body),(0,ie.allowContextMenu)(document.body),i.emitter.trigger("pointerup",c),i.isDragging&&(i.autoScroller.stop(),i.tryStopDrag(c)),i.delayTimeoutId&&(clearTimeout(i.delayTimeoutId),i.delayTimeoutId=null))};var a=i.pointer=new aM(t);return a.emitter.on("pointerdown",i.onPointerDown),a.emitter.on("pointermove",i.onPointerMove),a.emitter.on("pointerup",i.onPointerUp),r&&(a.selector=r),i.mirror=new nU,i.autoScroller=new iU,i}return(0,Qt.__extends)(e,n),e.prototype.destroy=function(){this.pointer.destroy(),this.onPointerUp({})},e.prototype.startDelay=function(t){var r=this;"number"==typeof this.delay?this.delayTimeoutId=setTimeout(function(){r.delayTimeoutId=null,r.handleDelayEnd(t)},this.delay):this.handleDelayEnd(t)},e.prototype.handleDelayEnd=function(t){this.isDelayEnded=!0,this.tryStartDrag(t)},e.prototype.handleDistanceSurpassed=function(t){this.isDistanceSurpassed=!0,this.tryStartDrag(t)},e.prototype.tryStartDrag=function(t){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(t.pageX,t.pageY,this.containerEl),this.emitter.trigger("dragstart",t),!1===this.touchScrollAllowed&&this.pointer.cancelTouchScroll())},e.prototype.tryStopDrag=function(t){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,t))},e.prototype.stopDrag=function(t){this.isDragging=!1,this.emitter.trigger("dragend",t)},e.prototype.setIgnoreMove=function(t){this.pointer.shouldIgnoreMove=t},e.prototype.setMirrorIsVisible=function(t){this.mirror.setIsVisible(t)},e.prototype.setMirrorNeedsRevert=function(t){this.mirrorNeedsRevert=t},e.prototype.setAutoScrollEnabled=function(t){this.autoScroller.isEnabled=t},e}(ie.ElementDragging),sU=function(){function n(e){this.origRect=(0,ie.computeRect)(e),this.scrollCaches=(0,ie.getClippingParents)(e).map(function(t){return new eP(t,!0)})}return n.prototype.destroy=function(){for(var e=0,t=this.scrollCaches;e<t.length;e++)t[e].destroy()},n.prototype.computeLeft=function(){for(var e=this.origRect.left,t=0,r=this.scrollCaches;t<r.length;t++){var i=r[t];e+=i.origScrollLeft-i.getScrollLeft()}return e},n.prototype.computeTop=function(){for(var e=this.origRect.top,t=0,r=this.scrollCaches;t<r.length;t++){var i=r[t];e+=i.origScrollTop-i.getScrollTop()}return e},n.prototype.isWithinClipping=function(e,t){for(var r={left:e,top:t},i=0,a=this.scrollCaches;i<a.length;i++){var c=a[i];if(!oU(c.getEventTarget())&&!(0,ie.pointInsideRect)(r,c.clientRect))return!1}return!0},n}();function oU(n){var e=n.tagName;return"HTML"===e||"BODY"===e}var Eb=function(){function n(e,t){var r=this;this.useSubjectCenter=!1,this.requireInitial=!0,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=function(i){var a=r.dragging;r.initialHit=null,r.movingHit=null,r.finalHit=null,r.prepareHits(),r.processFirstCoord(i),r.initialHit||!r.requireInitial?(a.setIgnoreMove(!1),r.emitter.trigger("pointerdown",i)):a.setIgnoreMove(!0)},this.handleDragStart=function(i){r.emitter.trigger("dragstart",i),r.handleMove(i,!0)},this.handleDragMove=function(i){r.emitter.trigger("dragmove",i),r.handleMove(i)},this.handlePointerUp=function(i){r.releaseHits(),r.emitter.trigger("pointerup",i)},this.handleDragEnd=function(i){r.movingHit&&r.emitter.trigger("hitupdate",null,!0,i),r.finalHit=r.movingHit,r.movingHit=null,r.emitter.trigger("dragend",i)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new ie.Emitter}return n.prototype.processFirstCoord=function(e){var a,t={left:e.pageX,top:e.pageY},r=t,i=e.subjectEl;i instanceof HTMLElement&&(a=(0,ie.computeRect)(i),r=(0,ie.constrainPoint)(r,a));var c=this.initialHit=this.queryHitForOffset(r.left,r.top);if(c){if(this.useSubjectCenter&&a){var g=(0,ie.intersectRects)(a,c.rect);g&&(r=(0,ie.getRectCenter)(g))}this.coordAdjust=(0,ie.diffPoints)(r,t)}else this.coordAdjust={left:0,top:0}},n.prototype.handleMove=function(e,t){var r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!qC(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))},n.prototype.prepareHits=function(){this.offsetTrackers=(0,ie.mapHash)(this.droppableStore,function(e){return e.component.prepareHits(),new sU(e.el)})},n.prototype.releaseHits=function(){var e=this.offsetTrackers;for(var t in e)e[t].destroy();this.offsetTrackers={}},n.prototype.queryHitForOffset=function(e,t){var i=this.droppableStore,a=this.offsetTrackers,c=null;for(var g in i){var b=i[g].component,C=a[g];if(C&&C.isWithinClipping(e,t)){var R=C.computeLeft(),P=C.computeTop(),Z=e-R,Y=t-P,ne=C.origRect,Se=ne.right-ne.left,rt=ne.bottom-ne.top;if(Z>=0&&Z<Se&&Y>=0&&Y<rt){var ot=b.queryHit(Z,Y,Se,rt);ot&&(0,ie.rangeContainsRange)(ot.dateProfile.activeRange,ot.dateSpan.range)&&(!c||ot.layer>c.layer)&&(ot.componentId=g,ot.context=b.context,ot.rect.left+=R,ot.rect.right+=R,ot.rect.top+=P,ot.rect.bottom+=P,c=ot)}}}return c},n}();function qC(n,e){return!n&&!e||Boolean(n)===Boolean(e)&&(0,ie.isDateSpansEqual)(n.dateSpan,e.dateSpan)}function lM(n,e){for(var t={},r=0,i=e.pluginHooks.datePointTransforms;r<i.length;r++)(0,Qt.__assign)(t,(0,i[r])(n,e));return(0,Qt.__assign)(t,function aU(n,e){return{date:e.toDate(n.range.start),dateStr:e.formatIso(n.range.start,{omitTime:n.allDay}),allDay:n.allDay}}(n,e.dateEnv)),t}var lU=function(n){function e(t){var r=n.call(this,t)||this;r.handlePointerDown=function(a){r.dragging.setIgnoreMove(!r.component.isValidDateDownEl(a.origEvent.target))},r.handleDragEnd=function(a){var c=r.component;if(!r.dragging.pointer.wasTouchScroll){var b=r.hitDragging,C=b.initialHit,R=b.finalHit;if(C&&R&&qC(C,R)){var P=c.context,Z=(0,Qt.__assign)((0,Qt.__assign)({},lM(C.dateSpan,P)),{dayEl:C.dayEl,jsEvent:a.origEvent,view:P.viewApi||P.calendarApi.view});P.emitter.trigger("dateClick",Z)}}},r.dragging=new vy(t.el),r.dragging.autoScroller.isEnabled=!1;var i=r.hitDragging=new Eb(r.dragging,(0,ie.interactionSettingsToStore)(t));return i.emitter.on("pointerdown",r.handlePointerDown),i.emitter.on("dragend",r.handleDragEnd),r}return(0,Qt.__extends)(e,n),e.prototype.destroy=function(){this.dragging.destroy()},e}(ie.Interaction),uU=function(n){function e(t){var r=n.call(this,t)||this;r.dragSelection=null,r.handlePointerDown=function(b){var R=r.component,P=r.dragging,Y=R.context.options.selectable&&R.isValidDateDownEl(b.origEvent.target);P.setIgnoreMove(!Y),P.delay=b.isTouch?function cU(n){var e=n.context.options,t=e.selectLongPressDelay;return null==t&&(t=e.longPressDelay),t}(R):null},r.handleDragStart=function(b){r.component.context.calendarApi.unselect(b)},r.handleHitUpdate=function(b,C){var R=r.component.context,P=null,Z=!1;if(b){var Y=r.hitDragging.initialHit;b.componentId===Y.componentId&&r.isHitComboAllowed&&!r.isHitComboAllowed(Y,b)||(P=function dU(n,e,t){var r=n.dateSpan,i=e.dateSpan,a=[r.range.start,r.range.end,i.range.start,i.range.end];a.sort(ie.compareNumbers);for(var c={},g=0,b=t;g<b.length;g++){var R=(0,b[g])(n,e);if(!1===R)return null;R&&(0,Qt.__assign)(c,R)}return c.range={start:a[0],end:a[3]},c.allDay=r.allDay,c}(Y,b,R.pluginHooks.dateSelectionTransformers)),(!P||!(0,ie.isDateSelectionValid)(P,b.dateProfile,R))&&(Z=!0,P=null)}P?R.dispatch({type:"SELECT_DATES",selection:P}):C||R.dispatch({type:"UNSELECT_DATES"}),Z?(0,ie.disableCursor)():(0,ie.enableCursor)(),C||(r.dragSelection=P)},r.handlePointerUp=function(b){r.dragSelection&&((0,ie.triggerDateSelect)(r.dragSelection,b,r.component.context),r.dragSelection=null)};var a=t.component.context.options,c=r.dragging=new vy(t.el);c.touchScrollAllowed=!1,c.minDistance=a.selectMinDistance||0,c.autoScroller.isEnabled=a.dragScroll;var g=r.hitDragging=new Eb(r.dragging,(0,ie.interactionSettingsToStore)(t));return g.emitter.on("pointerdown",r.handlePointerDown),g.emitter.on("dragstart",r.handleDragStart),g.emitter.on("hitupdate",r.handleHitUpdate),g.emitter.on("pointerup",r.handlePointerUp),r}return(0,Qt.__extends)(e,n),e.prototype.destroy=function(){this.dragging.destroy()},e}(ie.Interaction),nP=function(n){function e(t){var r=n.call(this,t)||this;r.subjectEl=null,r.subjectSeg=null,r.isDragging=!1,r.eventRange=null,r.relevantEvents=null,r.receivingContext=null,r.validMutation=null,r.mutatedRelevantEvents=null,r.handlePointerDown=function(b){var C=b.origEvent.target,P=r.component,Z=r.dragging,Y=Z.mirror,ne=P.context.options,Se=P.context;r.subjectEl=b.subjectEl;var rt=r.subjectSeg=(0,ie.getElSeg)(b.subjectEl),_t=(r.eventRange=rt.eventRange).instance.instanceId;r.relevantEvents=(0,ie.getRelevantEvents)(Se.getCurrentData().eventStore,_t),Z.minDistance=b.isTouch?0:ne.eventDragMinDistance,Z.delay=b.isTouch&&_t!==P.props.eventSelection?function hU(n){var e=n.context.options,t=e.eventLongPressDelay;return null==t&&(t=e.longPressDelay),t}(P):null,Y.parentNode=ne.fixedMirrorParent?ne.fixedMirrorParent:(0,ie.elementClosest)(C,".fc"),Y.revertDuration=ne.dragRevertDuration;var Rt=P.isValidSegDownEl(C)&&!(0,ie.elementClosest)(C,".fc-event-resizer");Z.setIgnoreMove(!Rt),r.isDragging=Rt&&b.subjectEl.classList.contains("fc-event-draggable")},r.handleDragStart=function(b){var C=r.component.context,R=r.eventRange,P=R.instance.instanceId;b.isTouch?P!==r.component.props.eventSelection&&C.dispatch({type:"SELECT_EVENT",eventInstanceId:P}):C.dispatch({type:"UNSELECT_EVENT"}),r.isDragging&&(C.calendarApi.unselect(b),C.emitter.trigger("eventDragStart",{el:r.subjectEl,event:new ie.EventApi(C,R.def,R.instance),jsEvent:b.origEvent,view:C.viewApi}))},r.handleHitUpdate=function(b,C){if(r.isDragging){var R=r.relevantEvents,P=r.hitDragging.initialHit,Z=r.component.context,Y=null,ne=null,Se=null,rt=!1,ot={affectedEvents:R,mutatedEvents:(0,ie.createEmptyEventStore)(),isEvent:!0};if(b){var _t=(Y=b.context).options;Z===Y||_t.editable&&_t.droppable?(ne=function fU(n,e,t){var r=n.dateSpan,i=e.dateSpan,a=r.range.start,c=i.range.start,g={};r.allDay!==i.allDay&&(g.allDay=i.allDay,g.hasEnd=e.context.options.allDayMaintainDuration,i.allDay&&(a=(0,ie.startOfDay)(a)));var b=(0,ie.diffDates)(a,c,n.context.dateEnv,n.componentId===e.componentId?n.largeUnit:null);b.milliseconds&&(g.allDay=!1);for(var C={datesDelta:b,standardProps:g},R=0,P=t;R<P.length;R++)(0,P[R])(C,n,e);return C}(P,b,Y.getCurrentData().pluginHooks.eventDragMutationMassagers),ne&&(Se=(0,ie.applyMutationToEventStore)(R,Y.getCurrentData().eventUiBases,ne,Y),ot.mutatedEvents=Se,(0,ie.isInteractionValid)(ot,b.dateProfile,Y)||(rt=!0,ne=null,Se=null,ot.mutatedEvents=(0,ie.createEmptyEventStore)()))):Y=null}r.displayDrag(Y,ot),rt?(0,ie.disableCursor)():(0,ie.enableCursor)(),C||(Z===Y&&qC(P,b)&&(ne=null),r.dragging.setMirrorNeedsRevert(!ne),r.dragging.setMirrorIsVisible(!b||!(0,ie.getElRoot)(r.subjectEl).querySelector(".fc-event-mirror")),r.receivingContext=Y,r.validMutation=ne,r.mutatedRelevantEvents=Se)}},r.handlePointerUp=function(){r.isDragging||r.cleanup()},r.handleDragEnd=function(b){if(r.isDragging){var C=r.component.context,R=C.viewApi,Z=r.receivingContext,Y=r.validMutation,ne=r.eventRange.def,Se=r.eventRange.instance,rt=new ie.EventApi(C,ne,Se),ot=r.relevantEvents,_t=r.mutatedRelevantEvents,Rt=r.hitDragging.finalHit;if(r.clearDrag(),C.emitter.trigger("eventDragStop",{el:r.subjectEl,event:rt,jsEvent:b.origEvent,view:R}),Y){if(Z===C){var Ct=new ie.EventApi(C,_t.defs[ne.defId],Se?_t.instances[Se.instanceId]:null);C.dispatch({type:"MERGE_EVENTS",eventStore:_t});for(var vn={oldEvent:rt,event:Ct,relatedEvents:(0,ie.buildEventApis)(_t,C,Se),revert:function(){C.dispatch({type:"MERGE_EVENTS",eventStore:ot})}},gn={},Hn=0,jn=C.getCurrentData().pluginHooks.eventDropTransformers;Hn<jn.length;Hn++)(0,Qt.__assign)(gn,(0,jn[Hn])(Y,C));C.emitter.trigger("eventDrop",(0,Qt.__assign)((0,Qt.__assign)((0,Qt.__assign)({},vn),gn),{el:b.subjectEl,delta:Y.datesDelta,jsEvent:b.origEvent,view:R})),C.emitter.trigger("eventChange",vn)}else if(Z){var js={event:rt,relatedEvents:(0,ie.buildEventApis)(ot,C,Se),revert:function(){C.dispatch({type:"MERGE_EVENTS",eventStore:ot})}};C.emitter.trigger("eventLeave",(0,Qt.__assign)((0,Qt.__assign)({},js),{draggedEl:b.subjectEl,view:R})),C.dispatch({type:"REMOVE_EVENTS",eventStore:ot}),C.emitter.trigger("eventRemove",js);var lo=_t.instances[Se.instanceId],au=new ie.EventApi(Z,_t.defs[ne.defId],lo);Z.dispatch({type:"MERGE_EVENTS",eventStore:_t});var Og={event:au,relatedEvents:(0,ie.buildEventApis)(_t,Z,lo),revert:function(){Z.dispatch({type:"REMOVE_EVENTS",eventStore:_t})}};Z.emitter.trigger("eventAdd",Og),b.isTouch&&Z.dispatch({type:"SELECT_EVENT",eventInstanceId:Se.instanceId}),Z.emitter.trigger("drop",(0,Qt.__assign)((0,Qt.__assign)({},lM(Rt.dateSpan,Z)),{draggedEl:b.subjectEl,jsEvent:b.origEvent,view:Rt.context.viewApi})),Z.emitter.trigger("eventReceive",(0,Qt.__assign)((0,Qt.__assign)({},Og),{draggedEl:b.subjectEl,view:Rt.context.viewApi}))}}else C.emitter.trigger("_noEventDrop")}r.cleanup()};var a=r.component.context.options,c=r.dragging=new vy(t.el);c.pointer.selector=e.SELECTOR,c.touchScrollAllowed=!1,c.autoScroller.isEnabled=a.dragScroll;var g=r.hitDragging=new Eb(r.dragging,ie.interactionSettingsStore);return g.useSubjectCenter=t.useEventCenter,g.emitter.on("pointerdown",r.handlePointerDown),g.emitter.on("dragstart",r.handleDragStart),g.emitter.on("hitupdate",r.handleHitUpdate),g.emitter.on("pointerup",r.handlePointerUp),g.emitter.on("dragend",r.handleDragEnd),r}return(0,Qt.__extends)(e,n),e.prototype.destroy=function(){this.dragging.destroy()},e.prototype.displayDrag=function(t,r){var a=this.receivingContext;a&&a!==t&&a.dispatch(a===this.component.context?{type:"SET_EVENT_DRAG",state:{affectedEvents:r.affectedEvents,mutatedEvents:(0,ie.createEmptyEventStore)(),isEvent:!0}}:{type:"UNSET_EVENT_DRAG"}),t&&t.dispatch({type:"SET_EVENT_DRAG",state:r})},e.prototype.clearDrag=function(){var t=this.component.context,r=this.receivingContext;r&&r.dispatch({type:"UNSET_EVENT_DRAG"}),t!==r&&t.dispatch({type:"UNSET_EVENT_DRAG"})},e.prototype.cleanup=function(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null},e.SELECTOR=".fc-event-draggable, .fc-event-resizable",e}(ie.Interaction),pU=function(n){function e(t){var r=n.call(this,t)||this;r.draggingSegEl=null,r.draggingSeg=null,r.eventRange=null,r.relevantEvents=null,r.validMutation=null,r.mutatedRelevantEvents=null,r.handlePointerDown=function(g){var b=r.component,C=r.querySegEl(g),R=(0,ie.getElSeg)(C),P=r.eventRange=R.eventRange;r.dragging.minDistance=b.context.options.eventDragMinDistance,r.dragging.setIgnoreMove(!r.component.isValidSegDownEl(g.origEvent.target)||g.isTouch&&r.component.props.eventSelection!==P.instance.instanceId)},r.handleDragStart=function(g){var b=r.component.context,C=r.eventRange;r.relevantEvents=(0,ie.getRelevantEvents)(b.getCurrentData().eventStore,r.eventRange.instance.instanceId);var R=r.querySegEl(g);r.draggingSegEl=R,r.draggingSeg=(0,ie.getElSeg)(R),b.calendarApi.unselect(),b.emitter.trigger("eventResizeStart",{el:R,event:new ie.EventApi(b,C.def,C.instance),jsEvent:g.origEvent,view:b.viewApi})},r.handleHitUpdate=function(g,b,C){var R=r.component.context,P=r.relevantEvents,Z=r.hitDragging.initialHit,Y=r.eventRange.instance,ne=null,Se=null,rt=!1,ot={affectedEvents:P,mutatedEvents:(0,ie.createEmptyEventStore)(),isEvent:!0};g&&(g.componentId===Z.componentId&&r.isHitComboAllowed&&!r.isHitComboAllowed(Z,g)||(ne=function gU(n,e,t,r){var i=n.context.dateEnv,g=(0,ie.diffDates)(n.dateSpan.range.start,e.dateSpan.range.start,i,n.largeUnit);if(t){if(i.add(r.start,g)<r.end)return{startDelta:g}}else if(i.add(r.end,g)>r.start)return{endDelta:g};return null}(Z,g,C.subjectEl.classList.contains("fc-event-resizer-start"),Y.range))),ne&&(Se=(0,ie.applyMutationToEventStore)(P,R.getCurrentData().eventUiBases,ne,R),ot.mutatedEvents=Se,(0,ie.isInteractionValid)(ot,g.dateProfile,R)||(rt=!0,ne=null,Se=null,ot.mutatedEvents=null)),R.dispatch(Se?{type:"SET_EVENT_RESIZE",state:ot}:{type:"UNSET_EVENT_RESIZE"}),rt?(0,ie.disableCursor)():(0,ie.enableCursor)(),b||(ne&&qC(Z,g)&&(ne=null),r.validMutation=ne,r.mutatedRelevantEvents=Se)},r.handleDragEnd=function(g){var b=r.component.context,C=r.eventRange.def,R=r.eventRange.instance,P=new ie.EventApi(b,C,R),Z=r.relevantEvents,Y=r.mutatedRelevantEvents;if(b.emitter.trigger("eventResizeStop",{el:r.draggingSegEl,event:P,jsEvent:g.origEvent,view:b.viewApi}),r.validMutation){var ne=new ie.EventApi(b,Y.defs[C.defId],R?Y.instances[R.instanceId]:null);b.dispatch({type:"MERGE_EVENTS",eventStore:Y});var Se={oldEvent:P,event:ne,relatedEvents:(0,ie.buildEventApis)(Y,b,R),revert:function(){b.dispatch({type:"MERGE_EVENTS",eventStore:Z})}};b.emitter.trigger("eventResize",(0,Qt.__assign)((0,Qt.__assign)({},Se),{el:r.draggingSegEl,startDelta:r.validMutation.startDelta||(0,ie.createDuration)(0),endDelta:r.validMutation.endDelta||(0,ie.createDuration)(0),jsEvent:g.origEvent,view:b.viewApi})),b.emitter.trigger("eventChange",Se)}else b.emitter.trigger("_noEventResize");r.draggingSeg=null,r.relevantEvents=null,r.validMutation=null};var i=t.component,a=r.dragging=new vy(t.el);a.pointer.selector=".fc-event-resizer",a.touchScrollAllowed=!1,a.autoScroller.isEnabled=i.context.options.dragScroll;var c=r.hitDragging=new Eb(r.dragging,(0,ie.interactionSettingsToStore)(t));return c.emitter.on("pointerdown",r.handlePointerDown),c.emitter.on("dragstart",r.handleDragStart),c.emitter.on("hitupdate",r.handleHitUpdate),c.emitter.on("dragend",r.handleDragEnd),r}return(0,Qt.__extends)(e,n),e.prototype.destroy=function(){this.dragging.destroy()},e.prototype.querySegEl=function(t){return(0,ie.elementClosest)(t.subjectEl,".fc-event")},e}(ie.Interaction),mU=function(){function n(e){var t=this;this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=function(i){i.jsEvent&&(t.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=function(i){var a=t.context.options.unselectCancel,c=(0,ie.getEventTargetViaRoot)(i.origEvent);t.matchesCancel=!!(0,ie.elementClosest)(c,a),t.matchesEvent=!!(0,ie.elementClosest)(c,nP.SELECTOR)},this.onDocumentPointerUp=function(i){var a=t.context,c=t.documentPointer,g=a.getCurrentData();if(!c.wasTouchScroll){if(g.dateSelection&&!t.isRecentPointerDateSelect){var b=a.options.unselectAuto;b&&(!b||!t.matchesCancel)&&a.calendarApi.unselect(i)}g.eventSelection&&!t.matchesEvent&&a.dispatch({type:"UNSELECT_EVENT"})}t.isRecentPointerDateSelect=!1};var r=this.documentPointer=new aM(document);r.shouldIgnoreMove=!0,r.shouldWatchScroll=!1,r.emitter.on("pointerdown",this.onDocumentPointerDown),r.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}return n.prototype.destroy=function(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()},n}(),vU={fixedMirrorParent:ie.identity},yU={dateClick:ie.identity,eventDragStart:ie.identity,eventDragStop:ie.identity,eventDrop:ie.identity,eventResizeStart:ie.identity,eventResizeStop:ie.identity,eventResize:ie.identity,drop:ie.identity,eventReceive:ie.identity,eventLeave:ie.identity};!function(){function n(e,t){var r=this;this.receivingContext=null,this.droppableEvent=null,this.suppliedDragMeta=null,this.dragMeta=null,this.handleDragStart=function(a){r.dragMeta=r.buildDragMeta(a.subjectEl)},this.handleHitUpdate=function(a,c,g){var b=r.hitDragging.dragging,C=null,R=null,P=!1,Z={affectedEvents:(0,ie.createEmptyEventStore)(),mutatedEvents:(0,ie.createEmptyEventStore)(),isEvent:r.dragMeta.create};a&&r.canDropElOnCalendar(g.subjectEl,C=a.context)&&(R=function _U(n,e,t){for(var r=(0,Qt.__assign)({},e.leftoverProps),i=0,a=t.pluginHooks.externalDefTransforms;i<a.length;i++)(0,Qt.__assign)(r,(0,a[i])(n,e));var g=(0,ie.refineEventDef)(r,t),R=(0,ie.parseEventDef)(g.refined,g.extra,e.sourceId,n.allDay,t.options.forceEventDuration||Boolean(e.duration),t),P=n.range.start;n.allDay&&e.startTime&&(P=t.dateEnv.add(P,e.startTime));var Z=e.duration?t.dateEnv.add(P,e.duration):(0,ie.getDefaultEventEnd)(n.allDay,P,t);return{def:R,instance:(0,ie.createEventInstance)(R.defId,{start:P,end:Z})}}(a.dateSpan,r.dragMeta,C),Z.mutatedEvents=(0,ie.eventTupleToStore)(R),(P=!(0,ie.isInteractionValid)(Z,a.dateProfile,C))&&(Z.mutatedEvents=(0,ie.createEmptyEventStore)(),R=null)),r.displayDrag(C,Z),b.setMirrorIsVisible(c||!R||!document.querySelector(".fc-event-mirror")),P?(0,ie.disableCursor)():(0,ie.enableCursor)(),c||(b.setMirrorNeedsRevert(!R),r.receivingContext=C,r.droppableEvent=R)},this.handleDragEnd=function(a){var g=r.receivingContext,b=r.droppableEvent;if(r.clearDrag(),g&&b){var C=r.hitDragging.finalHit,R=C.context.viewApi,P=r.dragMeta;if(g.emitter.trigger("drop",(0,Qt.__assign)((0,Qt.__assign)({},lM(C.dateSpan,g)),{draggedEl:a.subjectEl,jsEvent:a.origEvent,view:R})),P.create){var Z=(0,ie.eventTupleToStore)(b);g.dispatch({type:"MERGE_EVENTS",eventStore:Z}),a.isTouch&&g.dispatch({type:"SELECT_EVENT",eventInstanceId:b.instance.instanceId}),g.emitter.trigger("eventReceive",{event:new ie.EventApi(g,b.def,b.instance),relatedEvents:[],revert:function(){g.dispatch({type:"REMOVE_EVENTS",eventStore:Z})},draggedEl:a.subjectEl,view:R})}}r.receivingContext=null,r.droppableEvent=null};var i=this.hitDragging=new Eb(e,ie.interactionSettingsStore);i.requireInitial=!1,i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd),this.suppliedDragMeta=t}n.prototype.buildDragMeta=function(e){return"object"==typeof this.suppliedDragMeta?(0,ie.parseDragMeta)(this.suppliedDragMeta):"function"==typeof this.suppliedDragMeta?(0,ie.parseDragMeta)(this.suppliedDragMeta(e)):function bU(n){var e=function EU(n,e){var t=ie.config.dataAttrPrefix;return n.getAttribute("data-"+(t?t+"-":"")+e)||""}(n,"event"),t=e?JSON.parse(e):{create:!1};return(0,ie.parseDragMeta)(t)}(e)},n.prototype.displayDrag=function(e,t){var r=this.receivingContext;r&&r!==e&&r.dispatch({type:"UNSET_EVENT_DRAG"}),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})},n.prototype.clearDrag=function(){this.receivingContext&&this.receivingContext.dispatch({type:"UNSET_EVENT_DRAG"})},n.prototype.canDropElOnCalendar=function(e,t){var r=t.options.dropAccept;return"function"==typeof r?r.call(t.calendarApi,e):"string"!=typeof r||!r||Boolean((0,ie.elementMatches)(e,r))}}();ie.config.dataAttrPrefix="";!function(n){function e(t){var r=n.call(this,t)||this;r.shouldIgnoreMove=!1,r.mirrorSelector="",r.currentMirrorEl=null,r.handlePointerDown=function(a){r.emitter.trigger("pointerdown",a),r.shouldIgnoreMove||r.emitter.trigger("dragstart",a)},r.handlePointerMove=function(a){r.shouldIgnoreMove||r.emitter.trigger("dragmove",a)},r.handlePointerUp=function(a){r.emitter.trigger("pointerup",a),r.shouldIgnoreMove||r.emitter.trigger("dragend",a)};var i=r.pointer=new aM(t);return i.emitter.on("pointerdown",r.handlePointerDown),i.emitter.on("pointermove",r.handlePointerMove),i.emitter.on("pointerup",r.handlePointerUp),r}(0,Qt.__extends)(e,n),e.prototype.destroy=function(){this.pointer.destroy()},e.prototype.setIgnoreMove=function(t){this.shouldIgnoreMove=t},e.prototype.setMirrorIsVisible=function(t){if(t)this.currentMirrorEl&&(this.currentMirrorEl.style.visibility="",this.currentMirrorEl=null);else{var r=this.mirrorSelector?document.querySelector(this.mirrorSelector):null;r&&(this.currentMirrorEl=r,r.style.visibility="hidden")}}}(ie.ElementDragging);var wU=(0,ie.createPlugin)({componentInteractions:[lU,uU,nP,pU],calendarInteractions:[mU],elementDraggingImpl:vy,optionRefiners:vU,listenerRefiners:yU});NN.registerPlugins([OA,wU]);let DU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[FB]}),n.\u0275inj=u.cJS({providers:[VN,Storage,my,yb],imports:[[Fa.hO.initializeApp(QN_firebase),eV,lV,Dl,Ay,AB,i_,GA.forRoot(),NN,_B,QB]]}),n})();(0,u.G48)(),bh().bootstrapModule(DU).catch(n=>console.error(n))},2559:Nt=>{"use strict";Nt.exports=function qe(z,u){if(z===u)return!0;if(z&&u&&"object"==typeof z&&"object"==typeof u){if(z.constructor!==u.constructor)return!1;var O,k,G;if(Array.isArray(z)){if((O=z.length)!=u.length)return!1;for(k=O;0!=k--;)if(!qe(z[k],u[k]))return!1;return!0}if(z.constructor===RegExp)return z.source===u.source&&z.flags===u.flags;if(z.valueOf!==Object.prototype.valueOf)return z.valueOf()===u.valueOf();if(z.toString!==Object.prototype.toString)return z.toString()===u.toString();if((O=(G=Object.keys(z)).length)!==Object.keys(u).length)return!1;for(k=O;0!=k--;)if(!Object.prototype.hasOwnProperty.call(u,G[k]))return!1;for(k=O;0!=k--;){var re=G[k];if(!qe(z[re],u[re]))return!1}return!0}return z!=z&&u!=u}},5867:(Nt,qe,z)=>{"use strict";z.d(qe,{C6:()=>u.getApps,Mq:()=>u.getApp});var u=z(9681);(0,u.registerVersion)("firebase","9.8.1","app")},127:(Nt,qe,z)=>{"use strict";z.d(qe,{Z:()=>u.Z});var u=z(3942);u.Z.registerVersion("firebase","9.8.1","app-compat")},5881:(Nt,qe,z)=>{"use strict";z.r(qe);var u=z(5861),O=z(3942),k=z(198),G=z(2090),Ee=(z(9681),z(1877),z(4859));function Me(){return window}function de(){return(de=(0,u.Z)(function*(Ie,pe,he){var et;const{BuildInfo:Et}=Me();(0,k.aq)(pe.sessionId,"AuthEvent did not contain a session ID");const qt=yield oe(pe.sessionId),an={};return(0,k.ar)()?an.ibi=Et.packageName:(0,k.as)()?an.apn=Et.packageName:(0,k.at)(Ie,"operation-not-supported-in-this-environment"),Et.displayName&&(an.appDisplayName=Et.displayName),an.sessionId=qt,(0,k.au)(Ie,he,pe.type,void 0,null!==(et=pe.eventId)&&void 0!==et?et:void 0,an)})).apply(this,arguments)}function F(){return(F=(0,u.Z)(function*(Ie){const{BuildInfo:pe}=Me(),he={};(0,k.ar)()?he.iosBundleId=pe.packageName:(0,k.as)()?he.androidPackageName=pe.packageName:(0,k.at)(Ie,"operation-not-supported-in-this-environment"),yield(0,k.av)(Ie,he)})).apply(this,arguments)}function me(){return(me=(0,u.Z)(function*(Ie,pe,he){const{cordova:et}=Me();let Et=()=>{};try{yield new Promise((qt,an)=>{let Vn=null;function Bt(){var kn;qt();const Dr=null===(kn=et.plugins.browsertab)||void 0===kn?void 0:kn.close;"function"==typeof Dr&&Dr(),"function"==typeof(null==he?void 0:he.close)&&he.close()}function yr(){Vn||(Vn=window.setTimeout(()=>{an((0,k.aw)(Ie,"redirect-cancelled-by-user"))},2e3))}function Br(){"visible"===(null==document?void 0:document.visibilityState)&&yr()}pe.addPassiveListener(Bt),document.addEventListener("resume",yr,!1),(0,k.as)()&&document.addEventListener("visibilitychange",Br,!1),Et=()=>{pe.removePassiveListener(Bt),document.removeEventListener("resume",yr,!1),document.removeEventListener("visibilitychange",Br,!1),Vn&&window.clearTimeout(Vn)}})}finally{Et()}})).apply(this,arguments)}function oe(Ie){return je.apply(this,arguments)}function je(){return(je=(0,u.Z)(function*(Ie){const pe=Ye(Ie),he=yield crypto.subtle.digest("SHA-256",pe);return Array.from(new Uint8Array(he)).map(Et=>Et.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ye(Ie){if((0,k.aq)(/[0-9a-zA-Z]+/.test(Ie),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(Ie);const pe=new ArrayBuffer(Ie.length),he=new Uint8Array(pe);for(let et=0;et<Ie.length;et++)he[et]=Ie.charCodeAt(et);return he}class Qe extends k.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(pe=>{this.resolveInialized=pe})}addPassiveListener(pe){this.passiveListeners.add(pe)}removePassiveListener(pe){this.passiveListeners.delete(pe)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(pe){return this.resolveInialized(),this.passiveListeners.forEach(he=>he(pe)),super.onEvent(pe)}initialized(){var pe=this;return(0,u.Z)(function*(){yield pe.initPromise})()}}function Te(Ie){return Re.apply(this,arguments)}function Re(){return(Re=(0,u.Z)(function*(Ie){const pe=yield Oe()._get(Be(Ie));return pe&&(yield Oe()._remove(Be(Ie))),pe})).apply(this,arguments)}function xe(){const Ie=[],pe="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let he=0;he<20;he++){const et=Math.floor(Math.random()*pe.length);Ie.push(pe.charAt(et))}return Ie.join("")}function Oe(){return(0,k.ay)(k.b)}function Be(Ie){return(0,k.az)("authEvent",Ie.config.apiKey,Ie.name)}function Kt(Ie){if(!(null==Ie?void 0:Ie.includes("?")))return{};const[pe,...he]=Ie.split("?");return(0,G.zd)(he.join("?"))}function jt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,k.aw)("no-auth-event")}}function Ae(){var Ie;return(null===(Ie=null==self?void 0:self.location)||void 0===Ie?void 0:Ie.protocol)||null}function Ve(Ie=(0,G.z$)()){return!("file:"!==Ae()&&"ionic:"!==Ae()||!Ie.toLowerCase().match(/iphone|ipad|ipod|android/))}function ln(){try{const Ie=self.localStorage,pe=k.aI();if(Ie)return Ie.setItem(pe,"1"),Ie.removeItem(pe),!function Lt(Ie=(0,G.z$)()){return function Dt(){return(0,G.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Ze(Ie=(0,G.z$)()){return/Edge\/\d+/.test(Ie)}(Ie)}()||(0,G.hl)()}catch(Ie){return yn()&&(0,G.hl)()}return!1}function yn(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function mn(){return(function _e(){return"http:"===Ae()||"https:"===Ae()}()||(0,G.ru)()||Ve())&&!function lt(){return(0,G.b$)()||(0,G.UG)()}()&&ln()&&!yn()}function $e(){return Ve()&&"undefined"!=typeof document}function tn(){return(tn=(0,u.Z)(function*(){return!!$e()&&new Promise(Ie=>{const pe=setTimeout(()=>{Ie(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(pe),Ie(!0)})})})).apply(this,arguments)}const Vt={LOCAL:"local",NONE:"none",SESSION:"session"},nr=k.ax,An="persistence";function Tn(Ie){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,u.Z)(function*(Ie){yield Ie._initializationPromise;const pe=dn(),he=k.az(An,Ie.config.apiKey,Ie.name);pe&&pe.setItem(he,Ie._getPersistence())})).apply(this,arguments)}function dn(){var Ie;try{return(null===(Ie=function vt(){return"undefined"!=typeof window?window:null}())||void 0===Ie?void 0:Ie.sessionStorage)||null}catch(pe){return null}}const Yt=k.ax;class kt{constructor(){this.browserResolver=k.ay(k.k),this.cordovaResolver=k.ay(class tr{constructor(){this._redirectPersistence=k.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=k.aB,this._overrideRedirectResult=k.aC}_initialize(pe){var he=this;return(0,u.Z)(function*(){const et=pe._key();let Et=he.eventManagers.get(et);return Et||(Et=new Qe(pe),he.eventManagers.set(et,Et),he.attachCallbackListeners(pe,Et)),Et})()}_openPopup(pe){(0,k.at)(pe,"operation-not-supported-in-this-environment")}_openRedirect(pe,he,et,Et){var qt=this;return(0,u.Z)(function*(){!function ce(Ie){var pe,he,et,Et,qt,an,Vn,Bt,yr,Br;const kn=Me();(0,k.ax)("function"==typeof(null===(pe=null==kn?void 0:kn.universalLinks)||void 0===pe?void 0:pe.subscribe),Ie,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,k.ax)(void 0!==(null===(he=null==kn?void 0:kn.BuildInfo)||void 0===he?void 0:he.packageName),Ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,k.ax)("function"==typeof(null===(qt=null===(Et=null===(et=null==kn?void 0:kn.cordova)||void 0===et?void 0:et.plugins)||void 0===Et?void 0:Et.browsertab)||void 0===qt?void 0:qt.openUrl),Ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.ax)("function"==typeof(null===(Bt=null===(Vn=null===(an=null==kn?void 0:kn.cordova)||void 0===an?void 0:an.plugins)||void 0===Vn?void 0:Vn.browsertab)||void 0===Bt?void 0:Bt.isAvailable),Ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,k.ax)("function"==typeof(null===(Br=null===(yr=null==kn?void 0:kn.cordova)||void 0===yr?void 0:yr.InAppBrowser)||void 0===Br?void 0:Br.open),Ie,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(pe);const an=yield qt._initialize(pe);yield an.initialized(),an.resetRedirect(),(0,k.aD)(),yield qt._originValidation(pe);const Vn=function ze(Ie,pe,he=null){return{type:pe,eventId:he,urlResponse:null,sessionId:xe(),postBody:null,tenantId:Ie.tenantId,error:(0,k.aw)(Ie,"no-auth-event")}}(pe,et,Et);yield function mt(Ie,pe){return Oe()._set(Be(Ie),pe)}(pe,Vn);const Bt=yield function ee(Ie,pe,he){return de.apply(this,arguments)}(pe,Vn,he),yr=yield function H(Ie){const{cordova:pe}=Me();return new Promise(he=>{pe.plugins.browsertab.isAvailable(et=>{let Et=null;et?pe.plugins.browsertab.openUrl(Ie):Et=pe.InAppBrowser.open(Ie,(0,k.ap)()?"_blank":"_system","location=yes"),he(Et)})})}(Bt);return function se(Ie,pe,he){return me.apply(this,arguments)}(pe,an,yr)})()}_isIframeWebStorageSupported(pe,he){throw new Error("Method not implemented.")}_originValidation(pe){const he=pe._key();return this.originValidationPromises[he]||(this.originValidationPromises[he]=function T(Ie){return F.apply(this,arguments)}(pe)),this.originValidationPromises[he]}attachCallbackListeners(pe,he){const{universalLinks:et,handleOpenURL:Et,BuildInfo:qt}=Me(),an=setTimeout((0,u.Z)(function*(){yield Te(pe),he.onEvent(jt())}),500),Vn=function(){var Br=(0,u.Z)(function*(kn){clearTimeout(an);const Dr=yield Te(pe);let di=null;Dr&&(null==kn?void 0:kn.url)&&(di=function fe(Ie,pe){var he,et;const Et=function Ne(Ie){const pe=Kt(Ie),he=pe.link?decodeURIComponent(pe.link):void 0,et=Kt(he).link,Et=pe.deep_link_id?decodeURIComponent(pe.deep_link_id):void 0;return Kt(Et).link||Et||et||he||Ie}(pe);if(Et.includes("/__/auth/callback")){const qt=Kt(Et),an=qt.firebaseError?function Xe(Ie){try{return JSON.parse(Ie)}catch(pe){return null}}(decodeURIComponent(qt.firebaseError)):null,Vn=null===(et=null===(he=null==an?void 0:an.code)||void 0===he?void 0:he.split("auth/"))||void 0===et?void 0:et[1],Bt=Vn?(0,k.aw)(Vn):null;return Bt?{type:Ie.type,eventId:Ie.eventId,tenantId:Ie.tenantId,error:Bt,urlResponse:null,sessionId:null,postBody:null}:{type:Ie.type,eventId:Ie.eventId,tenantId:Ie.tenantId,sessionId:Ie.sessionId,urlResponse:Et,postBody:null}}return null}(Dr,kn.url)),he.onEvent(di||jt())});return function(Dr){return Br.apply(this,arguments)}}();void 0!==et&&"function"==typeof et.subscribe&&et.subscribe(null,Vn);const Bt=Et,yr=`${qt.packageName.toLowerCase()}://`;Me().handleOpenURL=function(){var Br=(0,u.Z)(function*(kn){if(kn.toLowerCase().startsWith(yr)&&Vn({url:kn}),"function"==typeof Bt)try{Bt(kn)}catch(Dr){console.error(Dr)}});return function(kn){return Br.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=k.a,this._completeRedirectFn=k.aB,this._overrideRedirectResult=k.aC}_initialize(pe){var he=this;return(0,u.Z)(function*(){return yield he.selectUnderlyingResolver(),he.assertedUnderlyingResolver._initialize(pe)})()}_openPopup(pe,he,et,Et){var qt=this;return(0,u.Z)(function*(){return yield qt.selectUnderlyingResolver(),qt.assertedUnderlyingResolver._openPopup(pe,he,et,Et)})()}_openRedirect(pe,he,et,Et){var qt=this;return(0,u.Z)(function*(){return yield qt.selectUnderlyingResolver(),qt.assertedUnderlyingResolver._openRedirect(pe,he,et,Et)})()}_isIframeWebStorageSupported(pe,he){this.assertedUnderlyingResolver._isIframeWebStorageSupported(pe,he)}_originValidation(pe){return this.assertedUnderlyingResolver._originValidation(pe)}get _shouldInitProactively(){return $e()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Yt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var pe=this;return(0,u.Z)(function*(){if(pe.underlyingResolver)return;const he=yield function Tt(){return tn.apply(this,arguments)}();pe.underlyingResolver=he?pe.cordovaResolver:pe.browserResolver})()}}function $n(Ie){return Ie.unwrap()}function En(Ie){return ir(Ie)}function ir(Ie){const{_tokenResponse:pe}=Ie instanceof G.ZR?Ie.customData:Ie;if(!pe)return null;if(!(Ie instanceof G.ZR)&&"temporaryProof"in pe&&"phoneNumber"in pe)return k.P.credentialFromResult(Ie);const he=pe.providerId;if(!he||he===k.o.PASSWORD)return null;let et;switch(he){case k.o.GOOGLE:et=k.Q;break;case k.o.FACEBOOK:et=k.N;break;case k.o.GITHUB:et=k.T;break;case k.o.TWITTER:et=k.W;break;default:const{oauthIdToken:Et,oauthAccessToken:qt,oauthTokenSecret:an,pendingToken:Vn,nonce:Bt}=pe;return qt||an||Et||Vn?Vn?he.startsWith("saml.")?k.aL._create(he,Vn):k.J._fromParams({providerId:he,signInMethod:he,pendingToken:Vn,idToken:Et,accessToken:qt}):new k.U(he).credential({idToken:Et,accessToken:qt,rawNonce:Bt}):null}return Ie instanceof G.ZR?et.credentialFromError(Ie):et.credentialFromResult(Ie)}function In(Ie,pe){return pe.catch(he=>{throw he instanceof G.ZR&&function Cr(Ie,pe){var he;const et=null===(he=pe.customData)||void 0===he?void 0:he._tokenResponse;if("auth/multi-factor-auth-required"===pe.code)pe.resolver=new B(Ie,k.an(Ie,pe));else if(et){const Et=ir(pe),qt=pe;Et&&(qt.credential=Et,qt.tenantId=et.tenantId||void 0,qt.email=et.email||void 0,qt.phoneNumber=et.phoneNumber||void 0)}}(Ie,he),he}).then(he=>{const Et=he.user;return{operationType:he.operationType,credential:En(he),additionalUserInfo:k.al(he),user:J.getOrCreate(Et)}})}function ue(Ie,pe){return ve.apply(this,arguments)}function ve(){return(ve=(0,u.Z)(function*(Ie,pe){const he=yield pe;return{verificationId:he.verificationId,confirm:et=>In(Ie,he.confirm(et))}})).apply(this,arguments)}class B{constructor(pe,he){this.resolver=he,this.auth=function Or(Ie){return Ie.wrapped()}(pe)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(pe){return In($n(this.auth),this.resolver.resolveSignIn(pe))}}class J{constructor(pe){this._delegate=pe,this.multiFactor=k.ao(pe)}static getOrCreate(pe){return J.USER_MAP.has(pe)||J.USER_MAP.set(pe,new J(pe)),J.USER_MAP.get(pe)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(pe){return this._delegate.getIdTokenResult(pe)}getIdToken(pe){return this._delegate.getIdToken(pe)}linkAndRetrieveDataWithCredential(pe){return this.linkWithCredential(pe)}linkWithCredential(pe){var he=this;return(0,u.Z)(function*(){return In(he.auth,k.Z(he._delegate,pe))})()}linkWithPhoneNumber(pe,he){var et=this;return(0,u.Z)(function*(){return ue(et.auth,k.l(et._delegate,pe,he))})()}linkWithPopup(pe){var he=this;return(0,u.Z)(function*(){return In(he.auth,k.d(he._delegate,pe,kt))})()}linkWithRedirect(pe){var he=this;return(0,u.Z)(function*(){return yield Tn(k.aE(he.auth)),k.g(he._delegate,pe,kt)})()}reauthenticateAndRetrieveDataWithCredential(pe){return this.reauthenticateWithCredential(pe)}reauthenticateWithCredential(pe){var he=this;return(0,u.Z)(function*(){return In(he.auth,k._(he._delegate,pe))})()}reauthenticateWithPhoneNumber(pe,he){return ue(this.auth,k.r(this._delegate,pe,he))}reauthenticateWithPopup(pe){return In(this.auth,k.e(this._delegate,pe,kt))}reauthenticateWithRedirect(pe){var he=this;return(0,u.Z)(function*(){return yield Tn(k.aE(he.auth)),k.h(he._delegate,pe,kt)})()}sendEmailVerification(pe){return k.ab(this._delegate,pe)}unlink(pe){var he=this;return(0,u.Z)(function*(){return yield k.ak(he._delegate,pe),he})()}updateEmail(pe){return k.ag(this._delegate,pe)}updatePassword(pe){return k.ah(this._delegate,pe)}updatePhoneNumber(pe){return k.u(this._delegate,pe)}updateProfile(pe){return k.af(this._delegate,pe)}verifyBeforeUpdateEmail(pe,he){return k.ac(this._delegate,pe,he)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}J.USER_MAP=new WeakMap;const W=k.ax;let le=(()=>{class Ie{constructor(he,et){if(this.app=he,et.isInitialized())return this._delegate=et.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Et}=he.options;W(Et,"invalid-api-key",{appName:he.name}),W(Et,"invalid-api-key",{appName:he.name});const qt="undefined"!=typeof window?kt:void 0;this._delegate=et.initialize({options:{persistence:ge(Et,he.name),popupRedirectResolver:qt}}),this._delegate._updateErrorMap(k.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?J.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(he){this._delegate.languageCode=he}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(he){this._delegate.tenantId=he}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(he,et){k.G(this._delegate,he,et)}applyActionCode(he){return k.a2(this._delegate,he)}checkActionCode(he){return k.a3(this._delegate,he)}confirmPasswordReset(he,et){return k.a1(this._delegate,he,et)}createUserWithEmailAndPassword(he,et){var Et=this;return(0,u.Z)(function*(){return In(Et._delegate,k.a5(Et._delegate,he,et))})()}fetchProvidersForEmail(he){return this.fetchSignInMethodsForEmail(he)}fetchSignInMethodsForEmail(he){return k.aa(this._delegate,he)}isSignInWithEmailLink(he){return k.a8(this._delegate,he)}getRedirectResult(){var he=this;return(0,u.Z)(function*(){W(mn(),he._delegate,"operation-not-supported-in-this-environment");const et=yield k.j(he._delegate,kt);return et?In(he._delegate,Promise.resolve(et)):{credential:null,user:null}})()}addFrameworkForLogging(he){!function Yn(Ie,pe){(0,k.aE)(Ie)._logFramework(pe)}(this._delegate,he)}onAuthStateChanged(he,et,Et){const{next:qt,error:an,complete:Vn}=ae(he,et,Et);return this._delegate.onAuthStateChanged(qt,an,Vn)}onIdTokenChanged(he,et,Et){const{next:qt,error:an,complete:Vn}=ae(he,et,Et);return this._delegate.onIdTokenChanged(qt,an,Vn)}sendSignInLinkToEmail(he,et){return k.a7(this._delegate,he,et)}sendPasswordResetEmail(he,et){return k.a0(this._delegate,he,et||void 0)}setPersistence(he){var et=this;return(0,u.Z)(function*(){let Et;switch(function Rn(Ie,pe){nr(Object.values(Vt).includes(pe),Ie,"invalid-persistence-type"),(0,G.b$)()?nr(pe!==Vt.SESSION,Ie,"unsupported-persistence-type"):(0,G.UG)()?nr(pe===Vt.NONE,Ie,"unsupported-persistence-type"):yn()?nr(pe===Vt.NONE||pe===Vt.LOCAL&&(0,G.hl)(),Ie,"unsupported-persistence-type"):nr(pe===Vt.NONE||ln(),Ie,"unsupported-persistence-type")}(et._delegate,he),he){case Vt.SESSION:Et=k.a;break;case Vt.LOCAL:Et=(yield k.ay(k.i)._isAvailable())?k.i:k.b;break;case Vt.NONE:Et=k.L;break;default:return k.at("argument-error",{appName:et._delegate.name})}return et._delegate.setPersistence(Et)})()}signInAndRetrieveDataWithCredential(he){return this.signInWithCredential(he)}signInAnonymously(){return In(this._delegate,k.X(this._delegate))}signInWithCredential(he){return In(this._delegate,k.Y(this._delegate,he))}signInWithCustomToken(he){return In(this._delegate,k.$(this._delegate,he))}signInWithEmailAndPassword(he,et){return In(this._delegate,k.a6(this._delegate,he,et))}signInWithEmailLink(he,et){return In(this._delegate,k.a9(this._delegate,he,et))}signInWithPhoneNumber(he,et){return ue(this._delegate,k.s(this._delegate,he,et))}signInWithPopup(he){var et=this;return(0,u.Z)(function*(){return W(mn(),et._delegate,"operation-not-supported-in-this-environment"),In(et._delegate,k.c(et._delegate,he,kt))})()}signInWithRedirect(he){var et=this;return(0,u.Z)(function*(){return W(mn(),et._delegate,"operation-not-supported-in-this-environment"),yield Tn(et._delegate),k.f(et._delegate,he,kt)})()}updateCurrentUser(he){return this._delegate.updateCurrentUser(he)}verifyPasswordResetCode(he){return k.a4(this._delegate,he)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Ie.Persistence=Vt,Ie})();function ae(Ie,pe,he){let et=Ie;"function"!=typeof Ie&&({next:et,error:pe,complete:he}=Ie);const Et=et;return{next:an=>Et(an&&J.getOrCreate(an)),error:pe,complete:he}}function ge(Ie,pe){const he=function un(Ie,pe){const he=dn();if(!he)return[];const et=k.az(An,Ie,pe);switch(he.getItem(et)){case Vt.NONE:return[k.L];case Vt.LOCAL:return[k.i,k.a];case Vt.SESSION:return[k.a];default:return[]}}(Ie,pe);if("undefined"!=typeof self&&!he.includes(k.i)&&he.push(k.i),"undefined"!=typeof window)for(const et of[k.b,k.a])he.includes(et)||he.push(et);return he.includes(k.L)||he.push(k.L),he}class Pe{constructor(){this.providerId="phone",this._delegate=new k.P($n(O.Z.auth()))}static credential(pe,he){return k.P.credential(pe,he)}verifyPhoneNumber(pe,he){return this._delegate.verifyPhoneNumber(pe,he)}unwrap(){return this._delegate}}Pe.PHONE_SIGN_IN_METHOD=k.P.PHONE_SIGN_IN_METHOD,Pe.PROVIDER_ID=k.P.PROVIDER_ID;const st=k.ax;class pt{constructor(pe,he,et=O.Z.app()){var Et;st(null===(Et=et.options)||void 0===Et?void 0:Et.apiKey,"invalid-api-key",{appName:et.name}),this._delegate=new k.R(pe,he,et.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function $t(Ie){Ie.INTERNAL.registerComponent(new Ee.wA("auth-compat",pe=>{const he=pe.getProvider("app-compat").getImmediate(),et=pe.getProvider("auth");return new le(he,et)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:k.A.EMAIL_SIGNIN,PASSWORD_RESET:k.A.PASSWORD_RESET,RECOVER_EMAIL:k.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:k.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:k.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:k.A.VERIFY_EMAIL}},EmailAuthProvider:k.M,FacebookAuthProvider:k.N,GithubAuthProvider:k.T,GoogleAuthProvider:k.Q,OAuthProvider:k.U,SAMLAuthProvider:k.V,PhoneAuthProvider:Pe,PhoneMultiFactorGenerator:k.m,RecaptchaVerifier:pt,TwitterAuthProvider:k.W,Auth:le,AuthCredential:k.H,Error:G.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Ie.registerVersion("@firebase/auth-compat","0.2.14")}(O.Z)},6461:(Nt,qe)=>{var u;!function(){"use strict";var O=function(){this.init()};O.prototype={init:function(){var T=this||k;return T._counter=1e3,T._html5AudioPool=[],T.html5PoolSize=10,T._codecs={},T._howls=[],T._muted=!1,T._volume=1,T._canPlayEvent="canplaythrough",T._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,T.masterGain=null,T.noAudio=!1,T.usingWebAudio=!0,T.autoSuspend=!0,T.ctx=null,T.autoUnlock=!0,T._setup(),T},volume:function(T){var F=this||k;if(T=parseFloat(T),F.ctx||de(),void 0!==T&&T>=0&&T<=1){if(F._volume=T,F._muted)return F;F.usingWebAudio&&F.masterGain.gain.setValueAtTime(T,k.ctx.currentTime);for(var H=0;H<F._howls.length;H++)if(!F._howls[H]._webAudio)for(var se=F._howls[H]._getSoundIds(),me=0;me<se.length;me++){var ce=F._howls[H]._soundById(se[me]);ce&&ce._node&&(ce._node.volume=ce._volume*T)}return F}return F._volume},mute:function(T){var F=this||k;F.ctx||de(),F._muted=T,F.usingWebAudio&&F.masterGain.gain.setValueAtTime(T?0:F._volume,k.ctx.currentTime);for(var H=0;H<F._howls.length;H++)if(!F._howls[H]._webAudio)for(var se=F._howls[H]._getSoundIds(),me=0;me<se.length;me++){var ce=F._howls[H]._soundById(se[me]);ce&&ce._node&&(ce._node.muted=!!T||ce._muted)}return F},stop:function(){for(var T=this||k,F=0;F<T._howls.length;F++)T._howls[F].stop();return T},unload:function(){for(var T=this||k,F=T._howls.length-1;F>=0;F--)T._howls[F].unload();return T.usingWebAudio&&T.ctx&&void 0!==T.ctx.close&&(T.ctx.close(),T.ctx=null,de()),T},codecs:function(T){return(this||k)._codecs[T.replace(/^x-/,"")]},_setup:function(){var T=this||k;if(T.state=T.ctx&&T.ctx.state||"suspended",T._autoSuspend(),!T.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(T._canPlayEvent="canplay")}catch(H){T.noAudio=!0}else T.noAudio=!0;try{(new Audio).muted&&(T.noAudio=!0)}catch(H){}return T.noAudio||T._setupCodecs(),T},_setupCodecs:function(){var T=this||k,F=null;try{F="undefined"!=typeof Audio?new Audio:null}catch(We){return T}if(!F||"function"!=typeof F.canPlayType)return T;var H=F.canPlayType("audio/mpeg;").replace(/^no$/,""),se=T._navigator?T._navigator.userAgent:"",me=se.match(/OPR\/([0-6].)/g),ce=me&&parseInt(me[0].split("/")[1],10)<33,oe=-1!==se.indexOf("Safari")&&-1===se.indexOf("Chrome"),je=se.match(/Version\/(.*?) /),Ye=oe&&je&&parseInt(je[1],10)<15;return T._codecs={mp3:!(ce||!H&&!F.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!H,opus:!!F.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!F.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!F.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(F.canPlayType('audio/wav; codecs="1"')||F.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!F.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!F.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(F.canPlayType("audio/x-m4a;")||F.canPlayType("audio/m4a;")||F.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(F.canPlayType("audio/x-m4b;")||F.canPlayType("audio/m4b;")||F.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(F.canPlayType("audio/x-mp4;")||F.canPlayType("audio/mp4;")||F.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(Ye||!F.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(Ye||!F.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!F.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(F.canPlayType("audio/x-flac;")||F.canPlayType("audio/flac;")).replace(/^no$/,"")},T},_unlockAudio:function(){var T=this||k;if(!T._audioUnlocked&&T.ctx){T._audioUnlocked=!1,T.autoUnlock=!1,!T._mobileUnloaded&&44100!==T.ctx.sampleRate&&(T._mobileUnloaded=!0,T.unload()),T._scratchBuffer=T.ctx.createBuffer(1,1,22050);var F=function(H){for(;T._html5AudioPool.length<T.html5PoolSize;)try{var se=new Audio;se._unlocked=!0,T._releaseHtml5Audio(se)}catch(We){T.noAudio=!0;break}for(var me=0;me<T._howls.length;me++)if(!T._howls[me]._webAudio)for(var ce=T._howls[me]._getSoundIds(),oe=0;oe<ce.length;oe++){var je=T._howls[me]._soundById(ce[oe]);je&&je._node&&!je._node._unlocked&&(je._node._unlocked=!0,je._node.load())}T._autoResume();var Ye=T.ctx.createBufferSource();Ye.buffer=T._scratchBuffer,Ye.connect(T.ctx.destination),void 0===Ye.start?Ye.noteOn(0):Ye.start(0),"function"==typeof T.ctx.resume&&T.ctx.resume(),Ye.onended=function(){Ye.disconnect(0),T._audioUnlocked=!0,document.removeEventListener("touchstart",F,!0),document.removeEventListener("touchend",F,!0),document.removeEventListener("click",F,!0),document.removeEventListener("keydown",F,!0);for(var We=0;We<T._howls.length;We++)T._howls[We]._emit("unlock")}};return document.addEventListener("touchstart",F,!0),document.addEventListener("touchend",F,!0),document.addEventListener("click",F,!0),document.addEventListener("keydown",F,!0),T}},_obtainHtml5Audio:function(){var T=this||k;if(T._html5AudioPool.length)return T._html5AudioPool.pop();var F=(new Audio).play();return F&&"undefined"!=typeof Promise&&(F instanceof Promise||"function"==typeof F.then)&&F.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(T){var F=this||k;return T._unlocked&&F._html5AudioPool.push(T),F},_autoSuspend:function(){var T=this;if(T.autoSuspend&&T.ctx&&void 0!==T.ctx.suspend&&k.usingWebAudio){for(var F=0;F<T._howls.length;F++)if(T._howls[F]._webAudio)for(var H=0;H<T._howls[F]._sounds.length;H++)if(!T._howls[F]._sounds[H]._paused)return T;return T._suspendTimer&&clearTimeout(T._suspendTimer),T._suspendTimer=setTimeout(function(){if(T.autoSuspend){T._suspendTimer=null,T.state="suspending";var se=function(){T.state="suspended",T._resumeAfterSuspend&&(delete T._resumeAfterSuspend,T._autoResume())};T.ctx.suspend().then(se,se)}},3e4),T}},_autoResume:function(){var T=this;if(T.ctx&&void 0!==T.ctx.resume&&k.usingWebAudio)return"running"===T.state&&"interrupted"!==T.ctx.state&&T._suspendTimer?(clearTimeout(T._suspendTimer),T._suspendTimer=null):"suspended"===T.state||"running"===T.state&&"interrupted"===T.ctx.state?(T.ctx.resume().then(function(){T.state="running";for(var F=0;F<T._howls.length;F++)T._howls[F]._emit("resume")}),T._suspendTimer&&(clearTimeout(T._suspendTimer),T._suspendTimer=null)):"suspending"===T.state&&(T._resumeAfterSuspend=!0),T}};var k=new O,G=function(T){T.src&&0!==T.src.length?this.init(T):console.error("An array of source files must be passed with any new Howl.")};G.prototype={init:function(T){var F=this;return k.ctx||de(),F._autoplay=T.autoplay||!1,F._format="string"!=typeof T.format?T.format:[T.format],F._html5=T.html5||!1,F._muted=T.mute||!1,F._loop=T.loop||!1,F._pool=T.pool||5,F._preload="boolean"!=typeof T.preload&&"metadata"!==T.preload||T.preload,F._rate=T.rate||1,F._sprite=T.sprite||{},F._src="string"!=typeof T.src?T.src:[T.src],F._volume=void 0!==T.volume?T.volume:1,F._xhr={method:T.xhr&&T.xhr.method?T.xhr.method:"GET",headers:T.xhr&&T.xhr.headers?T.xhr.headers:null,withCredentials:!(!T.xhr||!T.xhr.withCredentials)&&T.xhr.withCredentials},F._duration=0,F._state="unloaded",F._sounds=[],F._endTimers={},F._queue=[],F._playLock=!1,F._onend=T.onend?[{fn:T.onend}]:[],F._onfade=T.onfade?[{fn:T.onfade}]:[],F._onload=T.onload?[{fn:T.onload}]:[],F._onloaderror=T.onloaderror?[{fn:T.onloaderror}]:[],F._onplayerror=T.onplayerror?[{fn:T.onplayerror}]:[],F._onpause=T.onpause?[{fn:T.onpause}]:[],F._onplay=T.onplay?[{fn:T.onplay}]:[],F._onstop=T.onstop?[{fn:T.onstop}]:[],F._onmute=T.onmute?[{fn:T.onmute}]:[],F._onvolume=T.onvolume?[{fn:T.onvolume}]:[],F._onrate=T.onrate?[{fn:T.onrate}]:[],F._onseek=T.onseek?[{fn:T.onseek}]:[],F._onunlock=T.onunlock?[{fn:T.onunlock}]:[],F._onresume=[],F._webAudio=k.usingWebAudio&&!F._html5,void 0!==k.ctx&&k.ctx&&k.autoUnlock&&k._unlockAudio(),k._howls.push(F),F._autoplay&&F._queue.push({event:"play",action:function(){F.play()}}),F._preload&&"none"!==F._preload&&F.load(),F},load:function(){var T=this,F=null;if(k.noAudio)T._emit("loaderror",null,"No audio support.");else{"string"==typeof T._src&&(T._src=[T._src]);for(var H=0;H<T._src.length;H++){var se,me;if(T._format&&T._format[H])se=T._format[H];else{if("string"!=typeof(me=T._src[H])){T._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(se=/^data:audio\/([^;,]+);/i.exec(me))||(se=/\.([^.]+)$/.exec(me.split("?",1)[0])),se&&(se=se[1].toLowerCase())}if(se||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),se&&k.codecs(se)){F=T._src[H];break}}if(F)return T._src=F,T._state="loading","https:"===window.location.protocol&&"http:"===F.slice(0,5)&&(T._html5=!0,T._webAudio=!1),new re(T),T._webAudio&&Ee(T),T;T._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(T,F){var H=this,se=null;if("number"==typeof T)se=T,T=null;else{if("string"==typeof T&&"loaded"===H._state&&!H._sprite[T])return null;if(void 0===T&&(T="__default",!H._playLock)){for(var me=0,ce=0;ce<H._sounds.length;ce++)H._sounds[ce]._paused&&!H._sounds[ce]._ended&&(me++,se=H._sounds[ce]._id);1===me?T=null:se=null}}var oe=se?H._soundById(se):H._inactiveSound();if(!oe)return null;if(se&&!T&&(T=oe._sprite||"__default"),"loaded"!==H._state){oe._sprite=T,oe._ended=!1;var je=oe._id;return H._queue.push({event:"play",action:function(){H.play(je)}}),je}if(se&&!oe._paused)return F||H._loadQueue("play"),oe._id;H._webAudio&&k._autoResume();var Ye=Math.max(0,oe._seek>0?oe._seek:H._sprite[T][0]/1e3),We=Math.max(0,(H._sprite[T][0]+H._sprite[T][1])/1e3-Ye),Qe=1e3*We/Math.abs(oe._rate),ze=H._sprite[T][0]/1e3,mt=(H._sprite[T][0]+H._sprite[T][1])/1e3;oe._sprite=T,oe._ended=!1;var Te=function(){oe._paused=!1,oe._seek=Ye,oe._start=ze,oe._stop=mt,oe._loop=!(!oe._loop&&!H._sprite[T][2])};if(!(Ye>=mt)){var Re=oe._node;if(H._webAudio){var fe=function(){H._playLock=!1,Te(),H._refreshBuffer(oe),Re.gain.setValueAtTime(oe._muted||H._muted?0:oe._volume,k.ctx.currentTime),oe._playStart=k.ctx.currentTime,void 0===Re.bufferSource.start?Re.bufferSource.noteGrainOn(0,Ye,oe._loop?86400:We):Re.bufferSource.start(0,Ye,oe._loop?86400:We),Qe!==1/0&&(H._endTimers[oe._id]=setTimeout(H._ended.bind(H,oe),Qe)),F||setTimeout(function(){H._emit("play",oe._id),H._loadQueue()},0)};"running"===k.state&&"interrupted"!==k.ctx.state?fe():(H._playLock=!0,H.once("resume",fe),H._clearTimer(oe._id))}else{var xe=function(){Re.currentTime=Ye,Re.muted=oe._muted||H._muted||k._muted||Re.muted,Re.volume=oe._volume*k.volume(),Re.playbackRate=oe._rate;try{var Xe=Re.play();if(Xe&&"undefined"!=typeof Promise&&(Xe instanceof Promise||"function"==typeof Xe.then)?(H._playLock=!0,Te(),Xe.then(function(){H._playLock=!1,Re._unlocked=!0,F?H._loadQueue():H._emit("play",oe._id)}).catch(function(){H._playLock=!1,H._emit("playerror",oe._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),oe._ended=!0,oe._paused=!0})):F||(H._playLock=!1,Te(),H._emit("play",oe._id)),Re.playbackRate=oe._rate,Re.paused)return void H._emit("playerror",oe._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==T||oe._loop?H._endTimers[oe._id]=setTimeout(H._ended.bind(H,oe),Qe):(H._endTimers[oe._id]=function(){H._ended(oe),Re.removeEventListener("ended",H._endTimers[oe._id],!1)},Re.addEventListener("ended",H._endTimers[oe._id],!1))}catch(Ne){H._emit("playerror",oe._id,Ne)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===Re.src&&(Re.src=H._src,Re.load());var Oe=window&&window.ejecta||!Re.readyState&&k._navigator.isCocoonJS;if(Re.readyState>=3||Oe)xe();else{H._playLock=!0,H._state="loading";var Be=function(){H._state="loaded",xe(),Re.removeEventListener(k._canPlayEvent,Be,!1)};Re.addEventListener(k._canPlayEvent,Be,!1),H._clearTimer(oe._id)}}return oe._id}H._ended(oe)},pause:function(T){var F=this;if("loaded"!==F._state||F._playLock)return F._queue.push({event:"pause",action:function(){F.pause(T)}}),F;for(var H=F._getSoundIds(T),se=0;se<H.length;se++){F._clearTimer(H[se]);var me=F._soundById(H[se]);if(me&&!me._paused&&(me._seek=F.seek(H[se]),me._rateSeek=0,me._paused=!0,F._stopFade(H[se]),me._node))if(F._webAudio){if(!me._node.bufferSource)continue;void 0===me._node.bufferSource.stop?me._node.bufferSource.noteOff(0):me._node.bufferSource.stop(0),F._cleanBuffer(me._node)}else(!isNaN(me._node.duration)||me._node.duration===1/0)&&me._node.pause();arguments[1]||F._emit("pause",me?me._id:null)}return F},stop:function(T,F){var H=this;if("loaded"!==H._state||H._playLock)return H._queue.push({event:"stop",action:function(){H.stop(T)}}),H;for(var se=H._getSoundIds(T),me=0;me<se.length;me++){H._clearTimer(se[me]);var ce=H._soundById(se[me]);ce&&(ce._seek=ce._start||0,ce._rateSeek=0,ce._paused=!0,ce._ended=!0,H._stopFade(se[me]),ce._node&&(H._webAudio?ce._node.bufferSource&&(void 0===ce._node.bufferSource.stop?ce._node.bufferSource.noteOff(0):ce._node.bufferSource.stop(0),H._cleanBuffer(ce._node)):(!isNaN(ce._node.duration)||ce._node.duration===1/0)&&(ce._node.currentTime=ce._start||0,ce._node.pause(),ce._node.duration===1/0&&H._clearSound(ce._node))),F||H._emit("stop",ce._id))}return H},mute:function(T,F){var H=this;if("loaded"!==H._state||H._playLock)return H._queue.push({event:"mute",action:function(){H.mute(T,F)}}),H;if(void 0===F){if("boolean"!=typeof T)return H._muted;H._muted=T}for(var se=H._getSoundIds(F),me=0;me<se.length;me++){var ce=H._soundById(se[me]);ce&&(ce._muted=T,ce._interval&&H._stopFade(ce._id),H._webAudio&&ce._node?ce._node.gain.setValueAtTime(T?0:ce._volume,k.ctx.currentTime):ce._node&&(ce._node.muted=!!k._muted||T),H._emit("mute",ce._id))}return H},volume:function(){var H,se,oe,T=this,F=arguments;if(0===F.length)return T._volume;if(1===F.length||2===F.length&&void 0===F[1]){var me=T._getSoundIds(),ce=me.indexOf(F[0]);ce>=0?se=parseInt(F[0],10):H=parseFloat(F[0])}else F.length>=2&&(H=parseFloat(F[0]),se=parseInt(F[1],10));if(!(void 0!==H&&H>=0&&H<=1))return(oe=se?T._soundById(se):T._sounds[0])?oe._volume:0;if("loaded"!==T._state||T._playLock)return T._queue.push({event:"volume",action:function(){T.volume.apply(T,F)}}),T;void 0===se&&(T._volume=H),se=T._getSoundIds(se);for(var je=0;je<se.length;je++)(oe=T._soundById(se[je]))&&(oe._volume=H,F[2]||T._stopFade(se[je]),T._webAudio&&oe._node&&!oe._muted?oe._node.gain.setValueAtTime(H,k.ctx.currentTime):oe._node&&!oe._muted&&(oe._node.volume=H*k.volume()),T._emit("volume",oe._id));return T},fade:function(T,F,H,se){var me=this;if("loaded"!==me._state||me._playLock)return me._queue.push({event:"fade",action:function(){me.fade(T,F,H,se)}}),me;T=Math.min(Math.max(0,parseFloat(T)),1),F=Math.min(Math.max(0,parseFloat(F)),1),H=parseFloat(H),me.volume(T,se);for(var ce=me._getSoundIds(se),oe=0;oe<ce.length;oe++){var je=me._soundById(ce[oe]);if(je){if(se||me._stopFade(ce[oe]),me._webAudio&&!je._muted){var Ye=k.ctx.currentTime,We=Ye+H/1e3;je._volume=T,je._node.gain.setValueAtTime(T,Ye),je._node.gain.linearRampToValueAtTime(F,We)}me._startFadeInterval(je,T,F,H,ce[oe],void 0===se)}}return me},_startFadeInterval:function(T,F,H,se,me,ce){var oe=this,je=F,Ye=H-F,We=Math.abs(Ye/.01),Qe=Math.max(4,We>0?se/We:se),ze=Date.now();T._fadeTo=H,T._interval=setInterval(function(){var mt=(Date.now()-ze)/se;ze=Date.now(),je+=Ye*mt,je=Math.round(100*je)/100,je=Ye<0?Math.max(H,je):Math.min(H,je),oe._webAudio?T._volume=je:oe.volume(je,T._id,!0),ce&&(oe._volume=je),(H<F&&je<=H||H>F&&je>=H)&&(clearInterval(T._interval),T._interval=null,T._fadeTo=null,oe.volume(H,T._id),oe._emit("fade",T._id))},Qe)},_stopFade:function(T){var F=this,H=F._soundById(T);return H&&H._interval&&(F._webAudio&&H._node.gain.cancelScheduledValues(k.ctx.currentTime),clearInterval(H._interval),H._interval=null,F.volume(H._fadeTo,T),H._fadeTo=null,F._emit("fade",T)),F},loop:function(){var H,se,me,T=this,F=arguments;if(0===F.length)return T._loop;if(1===F.length){if("boolean"!=typeof F[0])return!!(me=T._soundById(parseInt(F[0],10)))&&me._loop;T._loop=H=F[0]}else 2===F.length&&(H=F[0],se=parseInt(F[1],10));for(var ce=T._getSoundIds(se),oe=0;oe<ce.length;oe++)(me=T._soundById(ce[oe]))&&(me._loop=H,T._webAudio&&me._node&&me._node.bufferSource&&(me._node.bufferSource.loop=H,H&&(me._node.bufferSource.loopStart=me._start||0,me._node.bufferSource.loopEnd=me._stop,T.playing(ce[oe])&&(T.pause(ce[oe],!0),T.play(ce[oe],!0)))));return T},rate:function(){var H,se,oe,T=this,F=arguments;if(0===F.length)se=T._sounds[0]._id;else if(1===F.length){var me=T._getSoundIds(),ce=me.indexOf(F[0]);ce>=0?se=parseInt(F[0],10):H=parseFloat(F[0])}else 2===F.length&&(H=parseFloat(F[0]),se=parseInt(F[1],10));if("number"!=typeof H)return(oe=T._soundById(se))?oe._rate:T._rate;if("loaded"!==T._state||T._playLock)return T._queue.push({event:"rate",action:function(){T.rate.apply(T,F)}}),T;void 0===se&&(T._rate=H),se=T._getSoundIds(se);for(var je=0;je<se.length;je++)if(oe=T._soundById(se[je])){T.playing(se[je])&&(oe._rateSeek=T.seek(se[je]),oe._playStart=T._webAudio?k.ctx.currentTime:oe._playStart),oe._rate=H,T._webAudio&&oe._node&&oe._node.bufferSource?oe._node.bufferSource.playbackRate.setValueAtTime(H,k.ctx.currentTime):oe._node&&(oe._node.playbackRate=H);var Ye=T.seek(se[je]),We=(T._sprite[oe._sprite][0]+T._sprite[oe._sprite][1])/1e3-Ye,Qe=1e3*We/Math.abs(oe._rate);(T._endTimers[se[je]]||!oe._paused)&&(T._clearTimer(se[je]),T._endTimers[se[je]]=setTimeout(T._ended.bind(T,oe),Qe)),T._emit("rate",oe._id)}return T},seek:function(){var H,se,T=this,F=arguments;if(0===F.length)T._sounds.length&&(se=T._sounds[0]._id);else if(1===F.length){var me=T._getSoundIds(),ce=me.indexOf(F[0]);ce>=0?se=parseInt(F[0],10):T._sounds.length&&(se=T._sounds[0]._id,H=parseFloat(F[0]))}else 2===F.length&&(H=parseFloat(F[0]),se=parseInt(F[1],10));if(void 0===se)return 0;if("number"==typeof H&&("loaded"!==T._state||T._playLock))return T._queue.push({event:"seek",action:function(){T.seek.apply(T,F)}}),T;var oe=T._soundById(se);if(oe){if(!("number"==typeof H&&H>=0)){if(T._webAudio){var Qe=T.playing(se)?k.ctx.currentTime-oe._playStart:0,ze=oe._rateSeek?oe._rateSeek-oe._seek:0;return oe._seek+(ze+Qe*Math.abs(oe._rate))}return oe._node.currentTime}var je=T.playing(se);je&&T.pause(se,!0),oe._seek=H,oe._ended=!1,T._clearTimer(se),!T._webAudio&&oe._node&&!isNaN(oe._node.duration)&&(oe._node.currentTime=H);var Ye=function(){je&&T.play(se,!0),T._emit("seek",se)};if(je&&!T._webAudio){var We=function(){T._playLock?setTimeout(We,0):Ye()};setTimeout(We,0)}else Ye()}return T},playing:function(T){var F=this;if("number"==typeof T){var H=F._soundById(T);return!!H&&!H._paused}for(var se=0;se<F._sounds.length;se++)if(!F._sounds[se]._paused)return!0;return!1},duration:function(T){var F=this,H=F._duration,se=F._soundById(T);return se&&(H=F._sprite[se._sprite][1]/1e3),H},state:function(){return this._state},unload:function(){for(var T=this,F=T._sounds,H=0;H<F.length;H++)F[H]._paused||T.stop(F[H]._id),T._webAudio||(T._clearSound(F[H]._node),F[H]._node.removeEventListener("error",F[H]._errorFn,!1),F[H]._node.removeEventListener(k._canPlayEvent,F[H]._loadFn,!1),F[H]._node.removeEventListener("ended",F[H]._endFn,!1),k._releaseHtml5Audio(F[H]._node)),delete F[H]._node,T._clearTimer(F[H]._id);var se=k._howls.indexOf(T);se>=0&&k._howls.splice(se,1);var me=!0;for(H=0;H<k._howls.length;H++)if(k._howls[H]._src===T._src||T._src.indexOf(k._howls[H]._src)>=0){me=!1;break}return Ce&&me&&delete Ce[T._src],k.noAudio=!1,T._state="unloaded",T._sounds=[],T=null,null},on:function(T,F,H,se){return"function"==typeof F&&this["_on"+T].push(se?{id:H,fn:F,once:se}:{id:H,fn:F}),this},off:function(T,F,H){var se=this,me=se["_on"+T],ce=0;if("number"==typeof F&&(H=F,F=null),F||H)for(ce=0;ce<me.length;ce++){var oe=H===me[ce].id;if(F===me[ce].fn&&oe||!F&&oe){me.splice(ce,1);break}}else if(T)se["_on"+T]=[];else{var je=Object.keys(se);for(ce=0;ce<je.length;ce++)0===je[ce].indexOf("_on")&&Array.isArray(se[je[ce]])&&(se[je[ce]]=[])}return se},once:function(T,F,H){return this.on(T,F,H,1),this},_emit:function(T,F,H){for(var se=this,me=se["_on"+T],ce=me.length-1;ce>=0;ce--)(!me[ce].id||me[ce].id===F||"load"===T)&&(setTimeout(function(oe){oe.call(this,F,H)}.bind(se,me[ce].fn),0),me[ce].once&&se.off(T,me[ce].fn,me[ce].id));return se._loadQueue(T),se},_loadQueue:function(T){var F=this;if(F._queue.length>0){var H=F._queue[0];H.event===T&&(F._queue.shift(),F._loadQueue()),T||H.action()}return F},_ended:function(T){var F=this,H=T._sprite;if(!F._webAudio&&T._node&&!T._node.paused&&!T._node.ended&&T._node.currentTime<T._stop)return setTimeout(F._ended.bind(F,T),100),F;var se=!(!T._loop&&!F._sprite[H][2]);if(F._emit("end",T._id),!F._webAudio&&se&&F.stop(T._id,!0).play(T._id),F._webAudio&&se){F._emit("play",T._id),T._seek=T._start||0,T._rateSeek=0,T._playStart=k.ctx.currentTime;var me=1e3*(T._stop-T._start)/Math.abs(T._rate);F._endTimers[T._id]=setTimeout(F._ended.bind(F,T),me)}return F._webAudio&&!se&&(T._paused=!0,T._ended=!0,T._seek=T._start||0,T._rateSeek=0,F._clearTimer(T._id),F._cleanBuffer(T._node),k._autoSuspend()),!F._webAudio&&!se&&F.stop(T._id,!0),F},_clearTimer:function(T){var F=this;if(F._endTimers[T]){if("function"!=typeof F._endTimers[T])clearTimeout(F._endTimers[T]);else{var H=F._soundById(T);H&&H._node&&H._node.removeEventListener("ended",F._endTimers[T],!1)}delete F._endTimers[T]}return F},_soundById:function(T){for(var F=this,H=0;H<F._sounds.length;H++)if(T===F._sounds[H]._id)return F._sounds[H];return null},_inactiveSound:function(){var T=this;T._drain();for(var F=0;F<T._sounds.length;F++)if(T._sounds[F]._ended)return T._sounds[F].reset();return new re(T)},_drain:function(){var T=this,F=T._pool,H=0,se=0;if(!(T._sounds.length<F)){for(se=0;se<T._sounds.length;se++)T._sounds[se]._ended&&H++;for(se=T._sounds.length-1;se>=0;se--){if(H<=F)return;T._sounds[se]._ended&&(T._webAudio&&T._sounds[se]._node&&T._sounds[se]._node.disconnect(0),T._sounds.splice(se,1),H--)}}},_getSoundIds:function(T){if(void 0===T){for(var H=[],se=0;se<this._sounds.length;se++)H.push(this._sounds[se]._id);return H}return[T]},_refreshBuffer:function(T){return T._node.bufferSource=k.ctx.createBufferSource(),T._node.bufferSource.buffer=Ce[this._src],T._node.bufferSource.connect(T._panner?T._panner:T._node),T._node.bufferSource.loop=T._loop,T._loop&&(T._node.bufferSource.loopStart=T._start||0,T._node.bufferSource.loopEnd=T._stop||0),T._node.bufferSource.playbackRate.setValueAtTime(T._rate,k.ctx.currentTime),this},_cleanBuffer:function(T){var H=k._navigator&&k._navigator.vendor.indexOf("Apple")>=0;if(k._scratchBuffer&&T.bufferSource&&(T.bufferSource.onended=null,T.bufferSource.disconnect(0),H))try{T.bufferSource.buffer=k._scratchBuffer}catch(se){}return T.bufferSource=null,this},_clearSound:function(T){/MSIE |Trident\//.test(k._navigator&&k._navigator.userAgent)||(T.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var re=function(T){this._parent=T,this.init()};re.prototype={init:function(){var T=this,F=T._parent;return T._muted=F._muted,T._loop=F._loop,T._volume=F._volume,T._rate=F._rate,T._seek=0,T._paused=!0,T._ended=!0,T._sprite="__default",T._id=++k._counter,F._sounds.push(T),T.create(),T},create:function(){var T=this,F=T._parent,H=k._muted||T._muted||T._parent._muted?0:T._volume;return F._webAudio?(T._node=void 0===k.ctx.createGain?k.ctx.createGainNode():k.ctx.createGain(),T._node.gain.setValueAtTime(H,k.ctx.currentTime),T._node.paused=!0,T._node.connect(k.masterGain)):k.noAudio||(T._node=k._obtainHtml5Audio(),T._errorFn=T._errorListener.bind(T),T._node.addEventListener("error",T._errorFn,!1),T._loadFn=T._loadListener.bind(T),T._node.addEventListener(k._canPlayEvent,T._loadFn,!1),T._endFn=T._endListener.bind(T),T._node.addEventListener("ended",T._endFn,!1),T._node.src=F._src,T._node.preload=!0===F._preload?"auto":F._preload,T._node.volume=H*k.volume(),T._node.load()),T},reset:function(){var T=this,F=T._parent;return T._muted=F._muted,T._loop=F._loop,T._volume=F._volume,T._rate=F._rate,T._seek=0,T._rateSeek=0,T._paused=!0,T._ended=!0,T._sprite="__default",T._id=++k._counter,T},_errorListener:function(){var T=this;T._parent._emit("loaderror",T._id,T._node.error?T._node.error.code:0),T._node.removeEventListener("error",T._errorFn,!1)},_loadListener:function(){var T=this,F=T._parent;F._duration=Math.ceil(10*T._node.duration)/10,0===Object.keys(F._sprite).length&&(F._sprite={__default:[0,1e3*F._duration]}),"loaded"!==F._state&&(F._state="loaded",F._emit("load"),F._loadQueue()),T._node.removeEventListener(k._canPlayEvent,T._loadFn,!1)},_endListener:function(){var T=this,F=T._parent;F._duration===1/0&&(F._duration=Math.ceil(10*T._node.duration)/10,F._sprite.__default[1]===1/0&&(F._sprite.__default[1]=1e3*F._duration),F._ended(T)),T._node.removeEventListener("ended",T._endFn,!1)}};var Ce={},Ee=function(T){var F=T._src;if(Ce[F])return T._duration=Ce[F].duration,void ee(T);if(/^data:[^;]+;base64,/.test(F)){for(var H=atob(F.split(",")[1]),se=new Uint8Array(H.length),me=0;me<H.length;++me)se[me]=H.charCodeAt(me);De(se.buffer,T)}else{var ce=new XMLHttpRequest;ce.open(T._xhr.method,F,!0),ce.withCredentials=T._xhr.withCredentials,ce.responseType="arraybuffer",T._xhr.headers&&Object.keys(T._xhr.headers).forEach(function(oe){ce.setRequestHeader(oe,T._xhr.headers[oe])}),ce.onload=function(){var oe=(ce.status+"")[0];"0"===oe||"2"===oe||"3"===oe?De(ce.response,T):T._emit("loaderror",null,"Failed loading audio file with status: "+ce.status+".")},ce.onerror=function(){T._webAudio&&(T._html5=!0,T._webAudio=!1,T._sounds=[],delete Ce[F],T.load())},Me(ce)}},Me=function(T){try{T.send()}catch(F){T.onerror()}},De=function(T,F){var H=function(){F._emit("loaderror",null,"Decoding audio data failed.")},se=function(me){me&&F._sounds.length>0?(Ce[F._src]=me,ee(F,me)):H()};"undefined"!=typeof Promise&&1===k.ctx.decodeAudioData.length?k.ctx.decodeAudioData(T).then(se).catch(H):k.ctx.decodeAudioData(T,se,H)},ee=function(T,F){F&&!T._duration&&(T._duration=F.duration),0===Object.keys(T._sprite).length&&(T._sprite={__default:[0,1e3*T._duration]}),"loaded"!==T._state&&(T._state="loaded",T._emit("load"),T._loadQueue())},de=function(){if(k.usingWebAudio){try{"undefined"!=typeof AudioContext?k.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?k.ctx=new webkitAudioContext:k.usingWebAudio=!1}catch(me){k.usingWebAudio=!1}k.ctx||(k.usingWebAudio=!1);var T=/iP(hone|od|ad)/.test(k._navigator&&k._navigator.platform),F=k._navigator&&k._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),H=F?parseInt(F[1],10):null;if(T&&H&&H<9){var se=/safari/.test(k._navigator&&k._navigator.userAgent.toLowerCase());k._navigator&&!se&&(k.usingWebAudio=!1)}k.usingWebAudio&&(k.masterGain=void 0===k.ctx.createGain?k.ctx.createGainNode():k.ctx.createGain(),k.masterGain.gain.setValueAtTime(k._muted?0:k._volume,k.ctx.currentTime),k.masterGain.connect(k.ctx.destination)),k._setup()}};void 0!==(u=function(){return{Howler:k,Howl:G}}.apply(qe,[]))&&(Nt.exports=u),qe.Howler=k,qe.Howl=G,"undefined"!=typeof global?(global.HowlerGlobal=O,global.Howler=k,global.Howl=G,global.Sound=re):"undefined"!=typeof window&&(window.HowlerGlobal=O,window.Howler=k,window.Howl=G,window.Sound=re)}(),function(){"use strict";var k;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(k){var G=this;if(!G.ctx||!G.ctx.listener)return G;for(var re=G._howls.length-1;re>=0;re--)G._howls[re].stereo(k);return G},HowlerGlobal.prototype.pos=function(k,G,re){var Ce=this;return Ce.ctx&&Ce.ctx.listener?"number"!=typeof k?Ce._pos:(Ce._pos=[k,G="number"!=typeof G?Ce._pos[1]:G,re="number"!=typeof re?Ce._pos[2]:re],void 0!==Ce.ctx.listener.positionX?(Ce.ctx.listener.positionX.setTargetAtTime(Ce._pos[0],Howler.ctx.currentTime,.1),Ce.ctx.listener.positionY.setTargetAtTime(Ce._pos[1],Howler.ctx.currentTime,.1),Ce.ctx.listener.positionZ.setTargetAtTime(Ce._pos[2],Howler.ctx.currentTime,.1)):Ce.ctx.listener.setPosition(Ce._pos[0],Ce._pos[1],Ce._pos[2]),Ce):Ce},HowlerGlobal.prototype.orientation=function(k,G,re,Ce,Ee,Me){var De=this;if(!De.ctx||!De.ctx.listener)return De;var ee=De._orientation;return"number"!=typeof k?ee:(De._orientation=[k,G="number"!=typeof G?ee[1]:G,re="number"!=typeof re?ee[2]:re,Ce="number"!=typeof Ce?ee[3]:Ce,Ee="number"!=typeof Ee?ee[4]:Ee,Me="number"!=typeof Me?ee[5]:Me],void 0!==De.ctx.listener.forwardX?(De.ctx.listener.forwardX.setTargetAtTime(k,Howler.ctx.currentTime,.1),De.ctx.listener.forwardY.setTargetAtTime(G,Howler.ctx.currentTime,.1),De.ctx.listener.forwardZ.setTargetAtTime(re,Howler.ctx.currentTime,.1),De.ctx.listener.upX.setTargetAtTime(Ce,Howler.ctx.currentTime,.1),De.ctx.listener.upY.setTargetAtTime(Ee,Howler.ctx.currentTime,.1),De.ctx.listener.upZ.setTargetAtTime(Me,Howler.ctx.currentTime,.1)):De.ctx.listener.setOrientation(k,G,re,Ce,Ee,Me),De)},Howl.prototype.init=(k=Howl.prototype.init,function(G){var re=this;return re._orientation=G.orientation||[1,0,0],re._stereo=G.stereo||null,re._pos=G.pos||null,re._pannerAttr={coneInnerAngle:void 0!==G.coneInnerAngle?G.coneInnerAngle:360,coneOuterAngle:void 0!==G.coneOuterAngle?G.coneOuterAngle:360,coneOuterGain:void 0!==G.coneOuterGain?G.coneOuterGain:0,distanceModel:void 0!==G.distanceModel?G.distanceModel:"inverse",maxDistance:void 0!==G.maxDistance?G.maxDistance:1e4,panningModel:void 0!==G.panningModel?G.panningModel:"HRTF",refDistance:void 0!==G.refDistance?G.refDistance:1,rolloffFactor:void 0!==G.rolloffFactor?G.rolloffFactor:1},re._onstereo=G.onstereo?[{fn:G.onstereo}]:[],re._onpos=G.onpos?[{fn:G.onpos}]:[],re._onorientation=G.onorientation?[{fn:G.onorientation}]:[],k.call(this,G)}),Howl.prototype.stereo=function(k,G){var re=this;if(!re._webAudio)return re;if("loaded"!==re._state)return re._queue.push({event:"stereo",action:function(){re.stereo(k,G)}}),re;var Ce=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===G){if("number"!=typeof k)return re._stereo;re._stereo=k,re._pos=[k,0,0]}for(var Ee=re._getSoundIds(G),Me=0;Me<Ee.length;Me++){var De=re._soundById(Ee[Me]);if(De){if("number"!=typeof k)return De._stereo;De._stereo=k,De._pos=[k,0,0],De._node&&(De._pannerAttr.panningModel="equalpower",(!De._panner||!De._panner.pan)&&O(De,Ce),"spatial"===Ce?void 0!==De._panner.positionX?(De._panner.positionX.setValueAtTime(k,Howler.ctx.currentTime),De._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),De._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):De._panner.setPosition(k,0,0):De._panner.pan.setValueAtTime(k,Howler.ctx.currentTime)),re._emit("stereo",De._id)}}return re},Howl.prototype.pos=function(k,G,re,Ce){var Ee=this;if(!Ee._webAudio)return Ee;if("loaded"!==Ee._state)return Ee._queue.push({event:"pos",action:function(){Ee.pos(k,G,re,Ce)}}),Ee;if(G="number"!=typeof G?0:G,re="number"!=typeof re?-.5:re,void 0===Ce){if("number"!=typeof k)return Ee._pos;Ee._pos=[k,G,re]}for(var Me=Ee._getSoundIds(Ce),De=0;De<Me.length;De++){var ee=Ee._soundById(Me[De]);if(ee){if("number"!=typeof k)return ee._pos;ee._pos=[k,G,re],ee._node&&((!ee._panner||ee._panner.pan)&&O(ee,"spatial"),void 0!==ee._panner.positionX?(ee._panner.positionX.setValueAtTime(k,Howler.ctx.currentTime),ee._panner.positionY.setValueAtTime(G,Howler.ctx.currentTime),ee._panner.positionZ.setValueAtTime(re,Howler.ctx.currentTime)):ee._panner.setPosition(k,G,re)),Ee._emit("pos",ee._id)}}return Ee},Howl.prototype.orientation=function(k,G,re,Ce){var Ee=this;if(!Ee._webAudio)return Ee;if("loaded"!==Ee._state)return Ee._queue.push({event:"orientation",action:function(){Ee.orientation(k,G,re,Ce)}}),Ee;if(G="number"!=typeof G?Ee._orientation[1]:G,re="number"!=typeof re?Ee._orientation[2]:re,void 0===Ce){if("number"!=typeof k)return Ee._orientation;Ee._orientation=[k,G,re]}for(var Me=Ee._getSoundIds(Ce),De=0;De<Me.length;De++){var ee=Ee._soundById(Me[De]);if(ee){if("number"!=typeof k)return ee._orientation;ee._orientation=[k,G,re],ee._node&&(ee._panner||(ee._pos||(ee._pos=Ee._pos||[0,0,-.5]),O(ee,"spatial")),void 0!==ee._panner.orientationX?(ee._panner.orientationX.setValueAtTime(k,Howler.ctx.currentTime),ee._panner.orientationY.setValueAtTime(G,Howler.ctx.currentTime),ee._panner.orientationZ.setValueAtTime(re,Howler.ctx.currentTime)):ee._panner.setOrientation(k,G,re)),Ee._emit("orientation",ee._id)}}return Ee},Howl.prototype.pannerAttr=function(){var re,Ce,Ee,k=this,G=arguments;if(!k._webAudio)return k;if(0===G.length)return k._pannerAttr;if(1===G.length){if("object"!=typeof G[0])return(Ee=k._soundById(parseInt(G[0],10)))?Ee._pannerAttr:k._pannerAttr;re=G[0],void 0===Ce&&(re.pannerAttr||(re.pannerAttr={coneInnerAngle:re.coneInnerAngle,coneOuterAngle:re.coneOuterAngle,coneOuterGain:re.coneOuterGain,distanceModel:re.distanceModel,maxDistance:re.maxDistance,refDistance:re.refDistance,rolloffFactor:re.rolloffFactor,panningModel:re.panningModel}),k._pannerAttr={coneInnerAngle:void 0!==re.pannerAttr.coneInnerAngle?re.pannerAttr.coneInnerAngle:k._coneInnerAngle,coneOuterAngle:void 0!==re.pannerAttr.coneOuterAngle?re.pannerAttr.coneOuterAngle:k._coneOuterAngle,coneOuterGain:void 0!==re.pannerAttr.coneOuterGain?re.pannerAttr.coneOuterGain:k._coneOuterGain,distanceModel:void 0!==re.pannerAttr.distanceModel?re.pannerAttr.distanceModel:k._distanceModel,maxDistance:void 0!==re.pannerAttr.maxDistance?re.pannerAttr.maxDistance:k._maxDistance,refDistance:void 0!==re.pannerAttr.refDistance?re.pannerAttr.refDistance:k._refDistance,rolloffFactor:void 0!==re.pannerAttr.rolloffFactor?re.pannerAttr.rolloffFactor:k._rolloffFactor,panningModel:void 0!==re.pannerAttr.panningModel?re.pannerAttr.panningModel:k._panningModel})}else 2===G.length&&(re=G[0],Ce=parseInt(G[1],10));for(var Me=k._getSoundIds(Ce),De=0;De<Me.length;De++)if(Ee=k._soundById(Me[De])){var ee=Ee._pannerAttr;ee={coneInnerAngle:void 0!==re.coneInnerAngle?re.coneInnerAngle:ee.coneInnerAngle,coneOuterAngle:void 0!==re.coneOuterAngle?re.coneOuterAngle:ee.coneOuterAngle,coneOuterGain:void 0!==re.coneOuterGain?re.coneOuterGain:ee.coneOuterGain,distanceModel:void 0!==re.distanceModel?re.distanceModel:ee.distanceModel,maxDistance:void 0!==re.maxDistance?re.maxDistance:ee.maxDistance,refDistance:void 0!==re.refDistance?re.refDistance:ee.refDistance,rolloffFactor:void 0!==re.rolloffFactor?re.rolloffFactor:ee.rolloffFactor,panningModel:void 0!==re.panningModel?re.panningModel:ee.panningModel};var de=Ee._panner;de?(de.coneInnerAngle=ee.coneInnerAngle,de.coneOuterAngle=ee.coneOuterAngle,de.coneOuterGain=ee.coneOuterGain,de.distanceModel=ee.distanceModel,de.maxDistance=ee.maxDistance,de.refDistance=ee.refDistance,de.rolloffFactor=ee.rolloffFactor,de.panningModel=ee.panningModel):(Ee._pos||(Ee._pos=k._pos||[0,0,-.5]),O(Ee,"spatial"))}return k},Sound.prototype.init=function(k){return function(){var G=this,re=G._parent;G._orientation=re._orientation,G._stereo=re._stereo,G._pos=re._pos,G._pannerAttr=re._pannerAttr,k.call(this),G._stereo?re.stereo(G._stereo):G._pos&&re.pos(G._pos[0],G._pos[1],G._pos[2],G._id)}}(Sound.prototype.init),Sound.prototype.reset=function(k){return function(){var G=this,re=G._parent;return G._orientation=re._orientation,G._stereo=re._stereo,G._pos=re._pos,G._pannerAttr=re._pannerAttr,G._stereo?re.stereo(G._stereo):G._pos?re.pos(G._pos[0],G._pos[1],G._pos[2],G._id):G._panner&&(G._panner.disconnect(0),G._panner=void 0,re._refreshBuffer(G)),k.call(this)}}(Sound.prototype.reset);var O=function(k,G){"spatial"===(G=G||"spatial")?(k._panner=Howler.ctx.createPanner(),k._panner.coneInnerAngle=k._pannerAttr.coneInnerAngle,k._panner.coneOuterAngle=k._pannerAttr.coneOuterAngle,k._panner.coneOuterGain=k._pannerAttr.coneOuterGain,k._panner.distanceModel=k._pannerAttr.distanceModel,k._panner.maxDistance=k._pannerAttr.maxDistance,k._panner.refDistance=k._pannerAttr.refDistance,k._panner.rolloffFactor=k._pannerAttr.rolloffFactor,k._panner.panningModel=k._pannerAttr.panningModel,void 0!==k._panner.positionX?(k._panner.positionX.setValueAtTime(k._pos[0],Howler.ctx.currentTime),k._panner.positionY.setValueAtTime(k._pos[1],Howler.ctx.currentTime),k._panner.positionZ.setValueAtTime(k._pos[2],Howler.ctx.currentTime)):k._panner.setPosition(k._pos[0],k._pos[1],k._pos[2]),void 0!==k._panner.orientationX?(k._panner.orientationX.setValueAtTime(k._orientation[0],Howler.ctx.currentTime),k._panner.orientationY.setValueAtTime(k._orientation[1],Howler.ctx.currentTime),k._panner.orientationZ.setValueAtTime(k._orientation[2],Howler.ctx.currentTime)):k._panner.setOrientation(k._orientation[0],k._orientation[1],k._orientation[2])):(k._panner=Howler.ctx.createStereoPanner(),k._panner.pan.setValueAtTime(k._stereo,Howler.ctx.currentTime)),k._panner.connect(k._node),k._paused||k._parent.pause(k._id,!0).play(k._id,!0)}}()},5599:(Nt,qe,z)=>{"use strict";z.r(qe),z.d(qe,{Children:()=>Yn,Component:()=>u.Component,Fragment:()=>u.Fragment,PureComponent:()=>Ne,StrictMode:()=>ue,Suspense:()=>Dn,SuspenseList:()=>Ve,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:()=>dn,cloneElement:()=>Or,createContext:()=>u.createContext,createElement:()=>u.createElement,createFactory:()=>kt,createPortal:()=>Lt,createRef:()=>u.createRef,default:()=>ve,findDOMNode:()=>Cr,flushSync:()=>In,forwardRef:()=>Mt,hydrate:()=>tn,isValidElement:()=>$n,lazy:()=>_e,memo:()=>Kt,render:()=>Tt,unmountComponentAtNode:()=>En,unstable_batchedUpdates:()=>ir,useCallback:()=>Ye,useContext:()=>We,useDebugValue:()=>Qe,useEffect:()=>se,useErrorBoundary:()=>ze,useImperativeHandle:()=>oe,useLayoutEffect:()=>me,useMemo:()=>je,useReducer:()=>H,useRef:()=>ce,useState:()=>F,version:()=>Yt});var O,k,G,u=z(3580),re=0,Ce=[],Ee=u.options.__b,Me=u.options.__r,De=u.options.diffed,ee=u.options.__c,de=u.options.unmount;function T(B,J){u.options.__h&&u.options.__h(k,B,re||J),re=0;var W=k.__H||(k.__H={__:[],__h:[]});return B>=W.__.length&&W.__.push({}),W.__[B]}function F(B){return re=1,H(Oe,B)}function H(B,J,W){var le=T(O++,2);return le.t=B,le.__c||(le.__=[W?W(J):Oe(void 0,J),function(ae){var ge=le.t(le.__[0],ae);le.__[0]!==ge&&(le.__=[ge,le.__[1]],le.__c.setState({}))}],le.__c=k),le.__}function se(B,J){var W=T(O++,3);!u.options.__s&&xe(W.__H,J)&&(W.__=B,W.__H=J,k.__H.__h.push(W))}function me(B,J){var W=T(O++,4);!u.options.__s&&xe(W.__H,J)&&(W.__=B,W.__H=J,k.__h.push(W))}function ce(B){return re=5,je(function(){return{current:B}},[])}function oe(B,J,W){re=6,me(function(){return"function"==typeof B?(B(J()),function(){return B(null)}):B?(B.current=J(),function(){return B.current=null}):void 0},null==W?W:W.concat(B))}function je(B,J){var W=T(O++,7);return xe(W.__H,J)&&(W.__=B(),W.__H=J,W.__h=B),W.__}function Ye(B,J){return re=8,je(function(){return B},J)}function We(B){var J=k.context[B.__c],W=T(O++,9);return W.c=B,J?(null==W.__&&(W.__=!0,J.sub(k)),J.props.value):B.__}function Qe(B,J){u.options.useDebugValue&&u.options.useDebugValue(J?J(B):B)}function ze(B){var J=T(O++,10),W=F();return J.__=B,k.componentDidCatch||(k.componentDidCatch=function(le){J.__&&J.__(le),W[1](le)}),[W[0],function(){W[1](void 0)}]}function mt(){for(var B;B=Ce.shift();)if(B.__P)try{B.__H.__h.forEach(Re),B.__H.__h.forEach(fe),B.__H.__h=[]}catch(J){B.__H.__h=[],u.options.__e(J,B.__v)}}u.options.__b=function(B){k=null,Ee&&Ee(B)},u.options.__r=function(B){Me&&Me(B),O=0;var J=(k=B.__c).__H;J&&(J.__h.forEach(Re),J.__h.forEach(fe),J.__h=[])},u.options.diffed=function(B){De&&De(B);var J=B.__c;J&&J.__H&&J.__H.__h.length&&(1!==Ce.push(J)&&G===u.options.requestAnimationFrame||((G=u.options.requestAnimationFrame)||function(W){var le,ae=function(){clearTimeout(ge),Te&&cancelAnimationFrame(le),setTimeout(W)},ge=setTimeout(ae,100);Te&&(le=requestAnimationFrame(ae))})(mt)),k=null},u.options.__c=function(B,J){J.some(function(W){try{W.__h.forEach(Re),W.__h=W.__h.filter(function(le){return!le.__||fe(le)})}catch(le){J.some(function(ae){ae.__h&&(ae.__h=[])}),J=[],u.options.__e(le,W.__v)}}),ee&&ee(B,J)},u.options.unmount=function(B){de&&de(B);var J,W=B.__c;W&&W.__H&&(W.__H.__.forEach(function(le){try{Re(le)}catch(ae){J=ae}}),J&&u.options.__e(J,W.__v))};var Te="function"==typeof requestAnimationFrame;function Re(B){var J=k,W=B.__c;"function"==typeof W&&(B.__c=void 0,W()),k=J}function fe(B){var J=k;B.__c=B.__(),k=J}function xe(B,J){return!B||B.length!==J.length||J.some(function(W,le){return W!==B[le]})}function Oe(B,J){return"function"==typeof J?J(B):J}function Be(B,J){for(var W in J)B[W]=J[W];return B}function Xe(B,J){for(var W in B)if("__source"!==W&&!(W in J))return!0;for(var le in J)if("__source"!==le&&B[le]!==J[le])return!0;return!1}function Ne(B){this.props=B}function Kt(B,J){function W(ae){var ge=this.props.ref,Pe=ge==ae.ref;return!Pe&&ge&&(ge.call?ge(null):ge.current=null),J?!J(this.props,ae)||!Pe:Xe(this.props,ae)}function le(ae){return this.shouldComponentUpdate=W,(0,u.createElement)(B,ae)}return le.displayName="Memo("+(B.displayName||B.name)+")",le.prototype.isReactComponent=!0,le.__f=!0,le}(Ne.prototype=new u.Component).isPureReactComponent=!0,Ne.prototype.shouldComponentUpdate=function(B,J){return Xe(this.props,B)||Xe(this.state,J)};var en=u.options.__b;u.options.__b=function(B){B.type&&B.type.__f&&B.ref&&(B.props.ref=B.ref,B.ref=null),en&&en(B)};var tr="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Mt(B){function J(W){var le=Be({},W);return delete le.ref,B(le,W.ref||null)}return J.$$typeof=tr,J.render=J,J.prototype.isReactComponent=J.__f=!0,J.displayName="ForwardRef("+(B.displayName||B.name)+")",J}var jt=function(B,J){return null==B?null:(0,u.toChildArray)((0,u.toChildArray)(B).map(J))},Yn={map:jt,forEach:jt,count:function(B){return B?(0,u.toChildArray)(B).length:0},only:function(B){var J=(0,u.toChildArray)(B);if(1!==J.length)throw"Children.only";return J[0]},toArray:u.toChildArray},Gn=u.options.__e;u.options.__e=function(B,J,W,le){if(B.then)for(var ae,ge=J;ge=ge.__;)if((ae=ge.__c)&&ae.__c)return null==J.__e&&(J.__e=W.__e,J.__k=W.__k),ae.__c(B,J);Gn(B,J,W,le)};var wr=u.options.unmount;function Dn(){this.__u=0,this.t=null,this.__b=null}function Ae(B){var J=B.__.__c;return J&&J.__e&&J.__e(B)}function _e(B){var J,W,le;function ae(ge){if(J||(J=B()).then(function(Pe){W=Pe.default||Pe},function(Pe){le=Pe}),le)throw le;if(!W)throw J;return(0,u.createElement)(W,ge)}return ae.displayName="Lazy",ae.__f=!0,ae}function Ve(){this.u=null,this.o=null}u.options.unmount=function(B){var J=B.__c;J&&J.__R&&J.__R(),J&&!0===B.__h&&(B.type=null),wr&&wr(B)},(Dn.prototype=new u.Component).__c=function(B,J){var W=J.__c,le=this;null==le.t&&(le.t=[]),le.t.push(W);var ae=Ae(le.__v),ge=!1,Pe=function(){ge||(ge=!0,W.__R=null,ae?ae(st):st())};W.__R=Pe;var st=function(){if(!--le.__u){if(le.state.__e){var ut=le.state.__e;le.__v.__k[0]=function Ie(pe,he,et){return pe&&(pe.__v=null,pe.__k=pe.__k&&pe.__k.map(function(Et){return Ie(Et,he,et)}),pe.__c&&pe.__c.__P===he&&(pe.__e&&et.insertBefore(pe.__e,pe.__d),pe.__c.__e=!0,pe.__c.__P=et)),pe}(ut,ut.__c.__P,ut.__c.__O)}var $t;for(le.setState({__e:le.__b=null});$t=le.t.pop();)$t.forceUpdate()}},pt=!0===J.__h;le.__u++||pt||le.setState({__e:le.__b=le.__v.__k[0]}),B.then(Pe,Pe)},Dn.prototype.componentWillUnmount=function(){this.t=[]},Dn.prototype.render=function(B,J){if(this.__b){if(this.__v.__k){var W=document.createElement("div"),le=this.__v.__k[0].__c;this.__v.__k[0]=function ge(Pe,st,pt){return Pe&&(Pe.__c&&Pe.__c.__H&&(Pe.__c.__H.__.forEach(function(ut){"function"==typeof ut.__c&&ut.__c()}),Pe.__c.__H=null),null!=(Pe=Be({},Pe)).__c&&(Pe.__c.__P===pt&&(Pe.__c.__P=st),Pe.__c=null),Pe.__k=Pe.__k&&Pe.__k.map(function(ut){return ge(ut,st,pt)})),Pe}(this.__b,W,le.__O=le.__P)}this.__b=null}var ae=J.__e&&(0,u.createElement)(u.Fragment,null,B.fallback);return ae&&(ae.__h=null),[(0,u.createElement)(u.Fragment,null,J.__e?null:B.children),ae]};var lt=function(B,J,W){if(++W[1]===W[0]&&B.o.delete(J),B.props.revealOrder&&("t"!==B.props.revealOrder[0]||!B.o.size))for(W=B.u;W;){for(;W.length>3;)W.pop()();if(W[1]<W[0])break;B.u=W=W[2]}};function Dt(B){return this.getChildContext=function(){return B.context},B.children}function Ze(B){var J=this,W=B.i;J.componentWillUnmount=function(){(0,u.render)(null,J.l),J.l=null,J.i=null},J.i&&J.i!==W&&J.componentWillUnmount(),B.__v?(J.l||(J.i=W,J.l={nodeType:1,parentNode:W,childNodes:[],appendChild:function(le){this.childNodes.push(le),J.i.appendChild(le)},insertBefore:function(le,ae){this.childNodes.push(le),J.i.appendChild(le)},removeChild:function(le){this.childNodes.splice(this.childNodes.indexOf(le)>>>1,1),J.i.removeChild(le)}}),(0,u.render)((0,u.createElement)(Dt,{context:J.context},B.__v),J.l)):J.l&&J.componentWillUnmount()}function Lt(B,J){var W=(0,u.createElement)(Ze,{__v:B,i:J});return W.containerInfo=J,W}(Ve.prototype=new u.Component).__e=function(B){var J=this,W=Ae(J.__v),le=J.o.get(B);return le[0]++,function(ae){var ge=function(){J.props.revealOrder?(le.push(ae),lt(J,B,le)):ae()};W?W(ge):ge()}},Ve.prototype.render=function(B){this.u=null,this.o=new Map;var J=(0,u.toChildArray)(B.children);B.revealOrder&&"b"===B.revealOrder[0]&&J.reverse();for(var W=J.length;W--;)this.o.set(J[W],this.u=[1,0,this.u]);return B.children},Ve.prototype.componentDidUpdate=Ve.prototype.componentDidMount=function(){var B=this;this.o.forEach(function(J,W){lt(B,W,J)})};var ln="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,yn=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,mn="undefined"!=typeof document,$e=function(B){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(B)};function Tt(B,J,W){return null==J.__k&&(J.textContent=""),(0,u.render)(B,J),"function"==typeof W&&W(),B?B.__c:null}function tn(B,J,W){return(0,u.hydrate)(B,J),"function"==typeof W&&W(),B?B.__c:null}u.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(B){Object.defineProperty(u.Component.prototype,B,{configurable:!0,get:function(){return this["UNSAFE_"+B]},set:function(J){Object.defineProperty(this,B,{configurable:!0,writable:!0,value:J})}})});var vt=u.options.event;function Vt(){}function nr(){return this.cancelBubble}function An(){return this.defaultPrevented}u.options.event=function(B){return vt&&(B=vt(B)),B.persist=Vt,B.isPropagationStopped=nr,B.isDefaultPrevented=An,B.nativeEvent=B};var Rn,Tn={configurable:!0,get:function(){return this.class}},Zn=u.options.vnode;u.options.vnode=function(B){var J=B.type,W=B.props,le=W;if("string"==typeof J){var ae=-1===J.indexOf("-");for(var ge in le={},W){var Pe=W[ge];mn&&"children"===ge&&"noscript"===J||"value"===ge&&"defaultValue"in W&&null==Pe||("defaultValue"===ge&&"value"in W&&null==W.value?ge="value":"download"===ge&&!0===Pe?Pe="":/ondoubleclick/i.test(ge)?ge="ondblclick":/^onchange(textarea|input)/i.test(ge+J)&&!$e(W.type)?ge="oninput":/^onfocus$/i.test(ge)?ge="onfocusin":/^onblur$/i.test(ge)?ge="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(ge)?ge=ge.toLowerCase():ae&&yn.test(ge)?ge=ge.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===Pe&&(Pe=void 0),le[ge]=Pe)}"select"==J&&le.multiple&&Array.isArray(le.value)&&(le.value=(0,u.toChildArray)(W.children).forEach(function(st){st.props.selected=-1!=le.value.indexOf(st.props.value)})),"select"==J&&null!=le.defaultValue&&(le.value=(0,u.toChildArray)(W.children).forEach(function(st){st.props.selected=le.multiple?-1!=le.defaultValue.indexOf(st.props.value):le.defaultValue==st.props.value})),B.props=le,W.class!=W.className&&(Tn.enumerable="className"in W,null!=W.className&&(le.class=W.className),Object.defineProperty(le,"className",Tn))}B.$$typeof=ln,Zn&&Zn(B)};var un=u.options.__r;u.options.__r=function(B){un&&un(B),Rn=B.__c};var dn={ReactCurrentDispatcher:{current:{readContext:function(B){return Rn.__n[B.__c].props.value}}}},Yt="17.0.2";function kt(B){return u.createElement.bind(null,B)}function $n(B){return!!B&&B.$$typeof===ln}function Or(B){return $n(B)?u.cloneElement.apply(null,arguments):B}function En(B){return!!B.__k&&((0,u.render)(null,B),!0)}function Cr(B){return B&&(B.base||1===B.nodeType&&B)||null}var ir=function(B,J){return B(J)},In=function(B,J){return B(J)},ue=u.Fragment;const ve={useState:F,useReducer:H,useEffect:se,useLayoutEffect:me,useRef:ce,useImperativeHandle:oe,useMemo:je,useCallback:Ye,useContext:We,useDebugValue:Qe,version:"17.0.2",Children:Yn,render:Tt,hydrate:tn,unmountComponentAtNode:En,createPortal:Lt,createElement:u.createElement,createContext:u.createContext,createFactory:kt,cloneElement:Or,createRef:u.createRef,Fragment:u.Fragment,isValidElement:$n,findDOMNode:Cr,Component:u.Component,PureComponent:Ne,memo:Kt,forwardRef:Mt,flushSync:In,unstable_batchedUpdates:ir,StrictMode:u.Fragment,Suspense:Dn,SuspenseList:Ve,lazy:_e,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:dn}},3580:(Nt,qe,z)=>{"use strict";z.r(qe),z.d(qe,{Component:()=>oe,Fragment:()=>ce,cloneElement:()=>wr,createContext:()=>Dn,createElement:()=>H,createRef:()=>me,h:()=>H,hydrate:()=>Gn,isValidElement:()=>G,options:()=>O,render:()=>Yn,toChildArray:()=>Te});var u,O,k,G,re,Ce,Ee,Me,De={},ee=[],de=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function T(Ae,_e){for(var Ve in _e)Ae[Ve]=_e[Ve];return Ae}function F(Ae){var _e=Ae.parentNode;_e&&_e.removeChild(Ae)}function H(Ae,_e,Ve){var lt,Dt,Ze,Lt={};for(Ze in _e)"key"==Ze?lt=_e[Ze]:"ref"==Ze?Dt=_e[Ze]:Lt[Ze]=_e[Ze];if(arguments.length>2&&(Lt.children=arguments.length>3?u.call(arguments,2):Ve),"function"==typeof Ae&&null!=Ae.defaultProps)for(Ze in Ae.defaultProps)void 0===Lt[Ze]&&(Lt[Ze]=Ae.defaultProps[Ze]);return se(Ae,Lt,lt,Dt,null)}function se(Ae,_e,Ve,lt,Dt){var Ze={type:Ae,props:_e,key:Ve,ref:lt,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==Dt?++k:Dt};return null==Dt&&null!=O.vnode&&O.vnode(Ze),Ze}function me(){return{current:null}}function ce(Ae){return Ae.children}function oe(Ae,_e){this.props=Ae,this.context=_e}function je(Ae,_e){if(null==_e)return Ae.__?je(Ae.__,Ae.__.__k.indexOf(Ae)+1):null;for(var Ve;_e<Ae.__k.length;_e++)if(null!=(Ve=Ae.__k[_e])&&null!=Ve.__e)return Ve.__e;return"function"==typeof Ae.type?je(Ae):null}function Ye(Ae){var _e,Ve;if(null!=(Ae=Ae.__)&&null!=Ae.__c){for(Ae.__e=Ae.__c.base=null,_e=0;_e<Ae.__k.length;_e++)if(null!=(Ve=Ae.__k[_e])&&null!=Ve.__e){Ae.__e=Ae.__c.base=Ve.__e;break}return Ye(Ae)}}function We(Ae){(!Ae.__d&&(Ae.__d=!0)&&re.push(Ae)&&!Qe.__r++||Ee!==O.debounceRendering)&&((Ee=O.debounceRendering)||Ce)(Qe)}function Qe(){for(var Ae;Qe.__r=re.length;)Ae=re.sort(function(_e,Ve){return _e.__v.__b-Ve.__v.__b}),re=[],Ae.some(function(_e){var Ve,lt,Dt,Ze,Lt,ln;_e.__d&&(Lt=(Ze=(Ve=_e).__v).__e,(ln=Ve.__P)&&(lt=[],(Dt=T({},Ze)).__v=Ze.__v+1,Ne(ln,Ze,Dt,Ve.__n,void 0!==ln.ownerSVGElement,null!=Ze.__h?[Lt]:null,lt,null==Lt?je(Ze):Lt,Ze.__h),Kt(lt,Ze),Ze.__e!=Lt&&Ye(Ze)))})}function ze(Ae,_e,Ve,lt,Dt,Ze,Lt,ln,yn,mn){var $e,Tt,tn,vt,Vt,nr,An,Rn=lt&&lt.__k||ee,Tn=Rn.length;for(Ve.__k=[],$e=0;$e<_e.length;$e++)if(null!=(vt=Ve.__k[$e]=null==(vt=_e[$e])||"boolean"==typeof vt?null:"string"==typeof vt||"number"==typeof vt||"bigint"==typeof vt?se(null,vt,null,null,vt):Array.isArray(vt)?se(ce,{children:vt},null,null,null):vt.__b>0?se(vt.type,vt.props,vt.key,null,vt.__v):vt)){if(vt.__=Ve,vt.__b=Ve.__b+1,null===(tn=Rn[$e])||tn&&vt.key==tn.key&&vt.type===tn.type)Rn[$e]=void 0;else for(Tt=0;Tt<Tn;Tt++){if((tn=Rn[Tt])&&vt.key==tn.key&&vt.type===tn.type){Rn[Tt]=void 0;break}tn=null}Ne(Ae,vt,tn=tn||De,Dt,Ze,Lt,ln,yn,mn),Vt=vt.__e,(Tt=vt.ref)&&tn.ref!=Tt&&(An||(An=[]),tn.ref&&An.push(tn.ref,null,vt),An.push(Tt,vt.__c||Vt,vt)),null!=Vt?(null==nr&&(nr=Vt),"function"==typeof vt.type&&vt.__k===tn.__k?vt.__d=yn=mt(vt,yn,Ae):yn=Re(Ae,vt,tn,Rn,Vt,yn),"function"==typeof Ve.type&&(Ve.__d=yn)):yn&&tn.__e==yn&&yn.parentNode!=Ae&&(yn=je(tn))}for(Ve.__e=nr,$e=Tn;$e--;)null!=Rn[$e]&&("function"==typeof Ve.type&&null!=Rn[$e].__e&&Rn[$e].__e==Ve.__d&&(Ve.__d=je(lt,$e+1)),Mt(Rn[$e],Rn[$e]));if(An)for($e=0;$e<An.length;$e++)tr(An[$e],An[++$e],An[++$e])}function mt(Ae,_e,Ve){for(var lt,Dt=Ae.__k,Ze=0;Dt&&Ze<Dt.length;Ze++)(lt=Dt[Ze])&&(lt.__=Ae,_e="function"==typeof lt.type?mt(lt,_e,Ve):Re(Ve,lt,lt,Dt,lt.__e,_e));return _e}function Te(Ae,_e){return _e=_e||[],null==Ae||"boolean"==typeof Ae||(Array.isArray(Ae)?Ae.some(function(Ve){Te(Ve,_e)}):_e.push(Ae)),_e}function Re(Ae,_e,Ve,lt,Dt,Ze){var Lt,ln,yn;if(void 0!==_e.__d)Lt=_e.__d,_e.__d=void 0;else if(null==Ve||Dt!=Ze||null==Dt.parentNode)e:if(null==Ze||Ze.parentNode!==Ae)Ae.appendChild(Dt),Lt=null;else{for(ln=Ze,yn=0;(ln=ln.nextSibling)&&yn<lt.length;yn+=2)if(ln==Dt)break e;Ae.insertBefore(Dt,Ze),Lt=Ze}return void 0!==Lt?Lt:Dt.nextSibling}function xe(Ae,_e,Ve){"-"===_e[0]?Ae.setProperty(_e,Ve):Ae[_e]=null==Ve?"":"number"!=typeof Ve||de.test(_e)?Ve:Ve+"px"}function Oe(Ae,_e,Ve,lt,Dt){var Ze;e:if("style"===_e)if("string"==typeof Ve)Ae.style.cssText=Ve;else{if("string"==typeof lt&&(Ae.style.cssText=lt=""),lt)for(_e in lt)Ve&&_e in Ve||xe(Ae.style,_e,"");if(Ve)for(_e in Ve)lt&&Ve[_e]===lt[_e]||xe(Ae.style,_e,Ve[_e])}else if("o"===_e[0]&&"n"===_e[1])Ze=_e!==(_e=_e.replace(/Capture$/,"")),_e=_e.toLowerCase()in Ae?_e.toLowerCase().slice(2):_e.slice(2),Ae.l||(Ae.l={}),Ae.l[_e+Ze]=Ve,Ve?lt||Ae.addEventListener(_e,Ze?Xe:Be,Ze):Ae.removeEventListener(_e,Ze?Xe:Be,Ze);else if("dangerouslySetInnerHTML"!==_e){if(Dt)_e=_e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==_e&&"list"!==_e&&"form"!==_e&&"tabIndex"!==_e&&"download"!==_e&&_e in Ae)try{Ae[_e]=null==Ve?"":Ve;break e}catch(Lt){}"function"==typeof Ve||(null!=Ve&&(!1!==Ve||"a"===_e[0]&&"r"===_e[1])?Ae.setAttribute(_e,Ve):Ae.removeAttribute(_e))}}function Be(Ae){this.l[Ae.type+!1](O.event?O.event(Ae):Ae)}function Xe(Ae){this.l[Ae.type+!0](O.event?O.event(Ae):Ae)}function Ne(Ae,_e,Ve,lt,Dt,Ze,Lt,ln,yn){var mn,$e,Tt,tn,vt,Vt,nr,An,Rn,Tn,Zn,un=_e.type;if(void 0!==_e.constructor)return null;null!=Ve.__h&&(yn=Ve.__h,ln=_e.__e=Ve.__e,_e.__h=null,Ze=[ln]),(mn=O.__b)&&mn(_e);try{e:if("function"==typeof un){if(An=_e.props,Rn=(mn=un.contextType)&&lt[mn.__c],Tn=mn?Rn?Rn.props.value:mn.__:lt,Ve.__c?nr=($e=_e.__c=Ve.__c).__=$e.__E:("prototype"in un&&un.prototype.render?_e.__c=$e=new un(An,Tn):(_e.__c=$e=new oe(An,Tn),$e.constructor=un,$e.render=jt),Rn&&Rn.sub($e),$e.props=An,$e.state||($e.state={}),$e.context=Tn,$e.__n=lt,Tt=$e.__d=!0,$e.__h=[]),null==$e.__s&&($e.__s=$e.state),null!=un.getDerivedStateFromProps&&($e.__s==$e.state&&($e.__s=T({},$e.__s)),T($e.__s,un.getDerivedStateFromProps(An,$e.__s))),tn=$e.props,vt=$e.state,Tt)null==un.getDerivedStateFromProps&&null!=$e.componentWillMount&&$e.componentWillMount(),null!=$e.componentDidMount&&$e.__h.push($e.componentDidMount);else{if(null==un.getDerivedStateFromProps&&An!==tn&&null!=$e.componentWillReceiveProps&&$e.componentWillReceiveProps(An,Tn),!$e.__e&&null!=$e.shouldComponentUpdate&&!1===$e.shouldComponentUpdate(An,$e.__s,Tn)||_e.__v===Ve.__v){$e.props=An,$e.state=$e.__s,_e.__v!==Ve.__v&&($e.__d=!1),$e.__v=_e,_e.__e=Ve.__e,_e.__k=Ve.__k,_e.__k.forEach(function(dn){dn&&(dn.__=_e)}),$e.__h.length&&Lt.push($e);break e}null!=$e.componentWillUpdate&&$e.componentWillUpdate(An,$e.__s,Tn),null!=$e.componentDidUpdate&&$e.__h.push(function(){$e.componentDidUpdate(tn,vt,Vt)})}$e.context=Tn,$e.props=An,$e.state=$e.__s,(mn=O.__r)&&mn(_e),$e.__d=!1,$e.__v=_e,$e.__P=Ae,mn=$e.render($e.props,$e.state,$e.context),$e.state=$e.__s,null!=$e.getChildContext&&(lt=T(T({},lt),$e.getChildContext())),Tt||null==$e.getSnapshotBeforeUpdate||(Vt=$e.getSnapshotBeforeUpdate(tn,vt)),Zn=null!=mn&&mn.type===ce&&null==mn.key?mn.props.children:mn,ze(Ae,Array.isArray(Zn)?Zn:[Zn],_e,Ve,lt,Dt,Ze,Lt,ln,yn),$e.base=_e.__e,_e.__h=null,$e.__h.length&&Lt.push($e),nr&&($e.__E=$e.__=null),$e.__e=!1}else null==Ze&&_e.__v===Ve.__v?(_e.__k=Ve.__k,_e.__e=Ve.__e):_e.__e=function en(Ae,_e,Ve,lt,Dt,Ze,Lt,ln){var yn,mn,$e,Tt=Ve.props,tn=_e.props,vt=_e.type,Vt=0;if("svg"===vt&&(Dt=!0),null!=Ze)for(;Vt<Ze.length;Vt++)if((yn=Ze[Vt])&&"setAttribute"in yn==!!vt&&(vt?yn.localName===vt:3===yn.nodeType)){Ae=yn,Ze[Vt]=null;break}if(null==Ae){if(null===vt)return document.createTextNode(tn);Ae=Dt?document.createElementNS("http://www.w3.org/2000/svg",vt):document.createElement(vt,tn.is&&tn),Ze=null,ln=!1}if(null===vt)Tt===tn||ln&&Ae.data===tn||(Ae.data=tn);else{if(Ze=Ze&&u.call(Ae.childNodes),mn=(Tt=Ve.props||De).dangerouslySetInnerHTML,$e=tn.dangerouslySetInnerHTML,!ln){if(null!=Ze)for(Tt={},Vt=0;Vt<Ae.attributes.length;Vt++)Tt[Ae.attributes[Vt].name]=Ae.attributes[Vt].value;($e||mn)&&($e&&(mn&&$e.__html==mn.__html||$e.__html===Ae.innerHTML)||(Ae.innerHTML=$e&&$e.__html||""))}if(function fe(Ae,_e,Ve,lt,Dt){var Ze;for(Ze in Ve)"children"===Ze||"key"===Ze||Ze in _e||Oe(Ae,Ze,null,Ve[Ze],lt);for(Ze in _e)Dt&&"function"!=typeof _e[Ze]||"children"===Ze||"key"===Ze||"value"===Ze||"checked"===Ze||Ve[Ze]===_e[Ze]||Oe(Ae,Ze,_e[Ze],Ve[Ze],lt)}(Ae,tn,Tt,Dt,ln),$e)_e.__k=[];else if(Vt=_e.props.children,ze(Ae,Array.isArray(Vt)?Vt:[Vt],_e,Ve,lt,Dt&&"foreignObject"!==vt,Ze,Lt,Ze?Ze[0]:Ve.__k&&je(Ve,0),ln),null!=Ze)for(Vt=Ze.length;Vt--;)null!=Ze[Vt]&&F(Ze[Vt]);ln||("value"in tn&&void 0!==(Vt=tn.value)&&(Vt!==Ae.value||"progress"===vt&&!Vt||"option"===vt&&Vt!==Tt.value)&&Oe(Ae,"value",Vt,Tt.value,!1),"checked"in tn&&void 0!==(Vt=tn.checked)&&Vt!==Ae.checked&&Oe(Ae,"checked",Vt,Tt.checked,!1))}return Ae}(Ve.__e,_e,Ve,lt,Dt,Ze,Lt,yn);(mn=O.diffed)&&mn(_e)}catch(dn){_e.__v=null,(yn||null!=Ze)&&(_e.__e=ln,_e.__h=!!yn,Ze[Ze.indexOf(ln)]=null),O.__e(dn,_e,Ve)}}function Kt(Ae,_e){O.__c&&O.__c(_e,Ae),Ae.some(function(Ve){try{Ae=Ve.__h,Ve.__h=[],Ae.some(function(lt){lt.call(Ve)})}catch(lt){O.__e(lt,Ve.__v)}})}function tr(Ae,_e,Ve){try{"function"==typeof Ae?Ae(_e):Ae.current=_e}catch(lt){O.__e(lt,Ve)}}function Mt(Ae,_e,Ve){var lt,Dt;if(O.unmount&&O.unmount(Ae),(lt=Ae.ref)&&(lt.current&&lt.current!==Ae.__e||tr(lt,null,_e)),null!=(lt=Ae.__c)){if(lt.componentWillUnmount)try{lt.componentWillUnmount()}catch(Ze){O.__e(Ze,_e)}lt.base=lt.__P=null}if(lt=Ae.__k)for(Dt=0;Dt<lt.length;Dt++)lt[Dt]&&Mt(lt[Dt],_e,"function"!=typeof Ae.type);Ve||null==Ae.__e||F(Ae.__e),Ae.__e=Ae.__d=void 0}function jt(Ae,_e,Ve){return this.constructor(Ae,Ve)}function Yn(Ae,_e,Ve){var lt,Dt,Ze;O.__&&O.__(Ae,_e),Dt=(lt="function"==typeof Ve)?null:Ve&&Ve.__k||_e.__k,Ze=[],Ne(_e,Ae=(!lt&&Ve||_e).__k=H(ce,null,[Ae]),Dt||De,De,void 0!==_e.ownerSVGElement,!lt&&Ve?[Ve]:Dt?null:_e.firstChild?u.call(_e.childNodes):null,Ze,!lt&&Ve?Ve:Dt?Dt.__e:_e.firstChild,lt),Kt(Ze,Ae)}function Gn(Ae,_e){Yn(Ae,_e,Gn)}function wr(Ae,_e,Ve){var lt,Dt,Ze,Lt=T({},Ae.props);for(Ze in _e)"key"==Ze?lt=_e[Ze]:"ref"==Ze?Dt=_e[Ze]:Lt[Ze]=_e[Ze];return arguments.length>2&&(Lt.children=arguments.length>3?u.call(arguments,2):Ve),se(Ae.type,Lt,lt||Ae.key,Dt||Ae.ref,null)}function Dn(Ae,_e){var Ve={__c:_e="__cC"+Me++,__:Ae,Consumer:function(lt,Dt){return lt.children(Dt)},Provider:function(lt){var Dt,Ze;return this.getChildContext||(Dt=[],(Ze={})[_e]=this,this.getChildContext=function(){return Ze},this.shouldComponentUpdate=function(Lt){this.props.value!==Lt.value&&Dt.some(We)},this.sub=function(Lt){Dt.push(Lt);var ln=Lt.componentWillUnmount;Lt.componentWillUnmount=function(){Dt.splice(Dt.indexOf(Lt),1),ln&&ln.call(Lt)}}),lt.children}};return Ve.Provider.__=Ve.Consumer.contextType=Ve}u=ee.slice,O={__e:function(Ae,_e,Ve,lt){for(var Dt,Ze,Lt;_e=_e.__;)if((Dt=_e.__c)&&!Dt.__)try{if((Ze=Dt.constructor)&&null!=Ze.getDerivedStateFromError&&(Dt.setState(Ze.getDerivedStateFromError(Ae)),Lt=Dt.__d),null!=Dt.componentDidCatch&&(Dt.componentDidCatch(Ae,lt||{}),Lt=Dt.__d),Lt)return Dt.__E=Dt}catch(ln){Ae=ln}throw Ae}},k=0,G=function(Ae){return null!=Ae&&void 0===Ae.constructor},oe.prototype.setState=function(Ae,_e){var Ve;Ve=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=T({},this.state),"function"==typeof Ae&&(Ae=Ae(T({},Ve),this.props)),Ae&&T(Ve,Ae),null!=Ae&&this.__v&&(_e&&this.__h.push(_e),We(this))},oe.prototype.forceUpdate=function(Ae){this.__v&&(this.__e=!0,Ae&&this.__h.push(Ae),We(this))},oe.prototype.render=ce,re=[],Ce="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Qe.__r=0,Me=0},8306:(Nt,qe,z)=>{"use strict";z.d(qe,{y:()=>ee});var u=z(930),O=z(727),k=z(8822),G=z(4671);var Ee=z(2416),Me=z(576),De=z(2806);let ee=(()=>{class H{constructor(me){me&&(this._subscribe=me)}lift(me){const ce=new H;return ce.source=this,ce.operator=me,ce}subscribe(me,ce,oe){const je=function F(H){return H&&H instanceof u.Lv||function T(H){return H&&(0,Me.m)(H.next)&&(0,Me.m)(H.error)&&(0,Me.m)(H.complete)}(H)&&(0,O.Nn)(H)}(me)?me:new u.Hp(me,ce,oe);return(0,De.x)(()=>{const{operator:Ye,source:We}=this;je.add(Ye?Ye.call(je,We):We?this._subscribe(je):this._trySubscribe(je))}),je}_trySubscribe(me){try{return this._subscribe(me)}catch(ce){me.error(ce)}}forEach(me,ce){return new(ce=de(ce))((oe,je)=>{const Ye=new u.Hp({next:We=>{try{me(We)}catch(Qe){je(Qe),Ye.unsubscribe()}},error:je,complete:oe});this.subscribe(Ye)})}_subscribe(me){var ce;return null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(me)}[k.L](){return this}pipe(...me){return function Ce(H){return 0===H.length?G.y:1===H.length?H[0]:function(me){return H.reduce((ce,oe)=>oe(ce),me)}}(me)(this)}toPromise(me){return new(me=de(me))((ce,oe)=>{let je;this.subscribe(Ye=>je=Ye,Ye=>oe(Ye),()=>ce(je))})}}return H.create=se=>new H(se),H})();function de(H){var se;return null!==(se=null!=H?H:Ee.v.Promise)&&void 0!==se?se:Promise}},7579:(Nt,qe,z)=>{"use strict";z.d(qe,{x:()=>Ee});var u=z(8306),O=z(727);const G=(0,z(3888).d)(De=>function(){De(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=z(8737),Ce=z(2806);let Ee=(()=>{class De extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(de){const T=new Me(this,this);return T.operator=de,T}_throwIfClosed(){if(this.closed)throw new G}next(de){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const T of this.currentObservers)T.next(de)}})}error(de){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=de;const{observers:T}=this;for(;T.length;)T.shift().error(de)}})}complete(){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:de}=this;for(;de.length;)de.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var de;return(null===(de=this.observers)||void 0===de?void 0:de.length)>0}_trySubscribe(de){return this._throwIfClosed(),super._trySubscribe(de)}_subscribe(de){return this._throwIfClosed(),this._checkFinalizedStatuses(de),this._innerSubscribe(de)}_innerSubscribe(de){const{hasError:T,isStopped:F,observers:H}=this;return T||F?O.Lc:(this.currentObservers=null,H.push(de),new O.w0(()=>{this.currentObservers=null,(0,re.P)(H,de)}))}_checkFinalizedStatuses(de){const{hasError:T,thrownError:F,isStopped:H}=this;T?de.error(F):H&&de.complete()}asObservable(){const de=new u.y;return de.source=this,de}}return De.create=(ee,de)=>new Me(ee,de),De})();class Me extends Ee{constructor(ee,de){super(),this.destination=ee,this.source=de}next(ee){var de,T;null===(T=null===(de=this.destination)||void 0===de?void 0:de.next)||void 0===T||T.call(de,ee)}error(ee){var de,T;null===(T=null===(de=this.destination)||void 0===de?void 0:de.error)||void 0===T||T.call(de,ee)}complete(){var ee,de;null===(de=null===(ee=this.destination)||void 0===ee?void 0:ee.complete)||void 0===de||de.call(ee)}_subscribe(ee){var de,T;return null!==(T=null===(de=this.source)||void 0===de?void 0:de.subscribe(ee))&&void 0!==T?T:O.Lc}}},930:(Nt,qe,z)=>{"use strict";z.d(qe,{Hp:()=>me,Lv:()=>T});var u=z(576),O=z(727),k=z(2416),G=z(7849),re=z(5032);const Ce=De("C",void 0,void 0);function De(We,Qe,ze){return{kind:We,value:Qe,error:ze}}var ee=z(3410),de=z(2806);class T extends O.w0{constructor(Qe){super(),this.isStopped=!1,Qe?(this.destination=Qe,(0,O.Nn)(Qe)&&Qe.add(this)):this.destination=Ye}static create(Qe,ze,mt){return new me(Qe,ze,mt)}next(Qe){this.isStopped?je(function Me(We){return De("N",We,void 0)}(Qe),this):this._next(Qe)}error(Qe){this.isStopped?je(function Ee(We){return De("E",void 0,We)}(Qe),this):(this.isStopped=!0,this._error(Qe))}complete(){this.isStopped?je(Ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Qe){this.destination.next(Qe)}_error(Qe){try{this.destination.error(Qe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const F=Function.prototype.bind;function H(We,Qe){return F.call(We,Qe)}class se{constructor(Qe){this.partialObserver=Qe}next(Qe){const{partialObserver:ze}=this;if(ze.next)try{ze.next(Qe)}catch(mt){ce(mt)}}error(Qe){const{partialObserver:ze}=this;if(ze.error)try{ze.error(Qe)}catch(mt){ce(mt)}else ce(Qe)}complete(){const{partialObserver:Qe}=this;if(Qe.complete)try{Qe.complete()}catch(ze){ce(ze)}}}class me extends T{constructor(Qe,ze,mt){let Te;if(super(),(0,u.m)(Qe)||!Qe)Te={next:null!=Qe?Qe:void 0,error:null!=ze?ze:void 0,complete:null!=mt?mt:void 0};else{let Re;this&&k.v.useDeprecatedNextContext?(Re=Object.create(Qe),Re.unsubscribe=()=>this.unsubscribe(),Te={next:Qe.next&&H(Qe.next,Re),error:Qe.error&&H(Qe.error,Re),complete:Qe.complete&&H(Qe.complete,Re)}):Te=Qe}this.destination=new se(Te)}}function ce(We){k.v.useDeprecatedSynchronousErrorHandling?(0,de.O)(We):(0,G.h)(We)}function je(We,Qe){const{onStoppedNotification:ze}=k.v;ze&&ee.z.setTimeout(()=>ze(We,Qe))}const Ye={closed:!0,next:re.Z,error:function oe(We){throw We},complete:re.Z}},727:(Nt,qe,z)=>{"use strict";z.d(qe,{Lc:()=>Ce,w0:()=>re,Nn:()=>Ee});var u=z(576);const k=(0,z(3888).d)(De=>function(de){De(this),this.message=de?`${de.length} errors occurred during unsubscription:\n${de.map((T,F)=>`${F+1}) ${T.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=de});var G=z(8737);class re{constructor(ee){this.initialTeardown=ee,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ee;if(!this.closed){this.closed=!0;const{_parentage:de}=this;if(de)if(this._parentage=null,Array.isArray(de))for(const H of de)H.remove(this);else de.remove(this);const{initialTeardown:T}=this;if((0,u.m)(T))try{T()}catch(H){ee=H instanceof k?H.errors:[H]}const{_finalizers:F}=this;if(F){this._finalizers=null;for(const H of F)try{Me(H)}catch(se){ee=null!=ee?ee:[],se instanceof k?ee=[...ee,...se.errors]:ee.push(se)}}if(ee)throw new k(ee)}}add(ee){var de;if(ee&&ee!==this)if(this.closed)Me(ee);else{if(ee instanceof re){if(ee.closed||ee._hasParent(this))return;ee._addParent(this)}(this._finalizers=null!==(de=this._finalizers)&&void 0!==de?de:[]).push(ee)}}_hasParent(ee){const{_parentage:de}=this;return de===ee||Array.isArray(de)&&de.includes(ee)}_addParent(ee){const{_parentage:de}=this;this._parentage=Array.isArray(de)?(de.push(ee),de):de?[de,ee]:ee}_removeParent(ee){const{_parentage:de}=this;de===ee?this._parentage=null:Array.isArray(de)&&(0,G.P)(de,ee)}remove(ee){const{_finalizers:de}=this;de&&(0,G.P)(de,ee),ee instanceof re&&ee._removeParent(this)}}re.EMPTY=(()=>{const De=new re;return De.closed=!0,De})();const Ce=re.EMPTY;function Ee(De){return De instanceof re||De&&"closed"in De&&(0,u.m)(De.remove)&&(0,u.m)(De.add)&&(0,u.m)(De.unsubscribe)}function Me(De){(0,u.m)(De)?De():De.unsubscribe()}},2416:(Nt,qe,z)=>{"use strict";z.d(qe,{v:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Nt,qe,z)=>{"use strict";z.d(qe,{E:()=>O});const O=new(z(8306).y)(re=>re.complete())},8996:(Nt,qe,z)=>{"use strict";z.d(qe,{D:()=>Qe});var u=z(8421),O=z(5363),k=z(9468),Ce=z(8306),Me=z(2202),De=z(576),ee=z(9672);function T(ze,mt){if(!ze)throw new Error("Iterable cannot be null");return new Ce.y(Te=>{(0,ee.f)(Te,mt,()=>{const Re=ze[Symbol.asyncIterator]();(0,ee.f)(Te,mt,()=>{Re.next().then(fe=>{fe.done?Te.complete():Te.next(fe.value)})},0,!0)})})}var F=z(3670),H=z(8239),se=z(1144),me=z(6495),ce=z(2206),oe=z(4532),je=z(3260);function Qe(ze,mt){return mt?function We(ze,mt){if(null!=ze){if((0,F.c)(ze))return function G(ze,mt){return(0,u.Xf)(ze).pipe((0,k.R)(mt),(0,O.Q)(mt))}(ze,mt);if((0,se.z)(ze))return function Ee(ze,mt){return new Ce.y(Te=>{let Re=0;return mt.schedule(function(){Re===ze.length?Te.complete():(Te.next(ze[Re++]),Te.closed||this.schedule())})})}(ze,mt);if((0,H.t)(ze))return function re(ze,mt){return(0,u.Xf)(ze).pipe((0,k.R)(mt),(0,O.Q)(mt))}(ze,mt);if((0,ce.D)(ze))return T(ze,mt);if((0,me.T)(ze))return function de(ze,mt){return new Ce.y(Te=>{let Re;return(0,ee.f)(Te,mt,()=>{Re=ze[Me.h](),(0,ee.f)(Te,mt,()=>{let fe,xe;try{({value:fe,done:xe}=Re.next())}catch(Oe){return void Te.error(Oe)}xe?Te.complete():Te.next(fe)},0,!0)}),()=>(0,De.m)(null==Re?void 0:Re.return)&&Re.return()})}(ze,mt);if((0,je.L)(ze))return function Ye(ze,mt){return T((0,je.Q)(ze),mt)}(ze,mt)}throw(0,oe.z)(ze)}(ze,mt):(0,u.Xf)(ze)}},8421:(Nt,qe,z)=>{"use strict";z.d(qe,{Xf:()=>F});var u=z(655),O=z(1144),k=z(8239),G=z(8306),re=z(3670),Ce=z(2206),Ee=z(4532),Me=z(6495),De=z(3260),ee=z(576),de=z(7849),T=z(8822);function F(We){if(We instanceof G.y)return We;if(null!=We){if((0,re.c)(We))return function H(We){return new G.y(Qe=>{const ze=We[T.L]();if((0,ee.m)(ze.subscribe))return ze.subscribe(Qe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(We);if((0,O.z)(We))return function se(We){return new G.y(Qe=>{for(let ze=0;ze<We.length&&!Qe.closed;ze++)Qe.next(We[ze]);Qe.complete()})}(We);if((0,k.t)(We))return function me(We){return new G.y(Qe=>{We.then(ze=>{Qe.closed||(Qe.next(ze),Qe.complete())},ze=>Qe.error(ze)).then(null,de.h)})}(We);if((0,Ce.D)(We))return oe(We);if((0,Me.T)(We))return function ce(We){return new G.y(Qe=>{for(const ze of We)if(Qe.next(ze),Qe.closed)return;Qe.complete()})}(We);if((0,De.L)(We))return function je(We){return oe((0,De.Q)(We))}(We)}throw(0,Ee.z)(We)}function oe(We){return new G.y(Qe=>{(function Ye(We,Qe){var ze,mt,Te,Re;return(0,u.__awaiter)(this,void 0,void 0,function*(){try{for(ze=(0,u.__asyncValues)(We);!(mt=yield ze.next()).done;)if(Qe.next(mt.value),Qe.closed)return}catch(fe){Te={error:fe}}finally{try{mt&&!mt.done&&(Re=ze.return)&&(yield Re.call(ze))}finally{if(Te)throw Te.error}}Qe.complete()})})(We,Qe).catch(ze=>Qe.error(ze))})}},6451:(Nt,qe,z)=>{"use strict";z.d(qe,{T:()=>Ce});var u=z(8189),O=z(8421),k=z(515),G=z(7669),re=z(8996);function Ce(...Ee){const Me=(0,G.yG)(Ee),De=(0,G._6)(Ee,1/0),ee=Ee;return ee.length?1===ee.length?(0,O.Xf)(ee[0]):(0,u.J)(De)((0,re.D)(ee,Me)):k.E}},5403:(Nt,qe,z)=>{"use strict";z.d(qe,{x:()=>O});var u=z(930);function O(G,re,Ce,Ee,Me){return new k(G,re,Ce,Ee,Me)}class k extends u.Lv{constructor(re,Ce,Ee,Me,De,ee){super(re),this.onFinalize=De,this.shouldUnsubscribe=ee,this._next=Ce?function(de){try{Ce(de)}catch(T){re.error(T)}}:super._next,this._error=Me?function(de){try{Me(de)}catch(T){re.error(T)}finally{this.unsubscribe()}}:super._error,this._complete=Ee?function(){try{Ee()}catch(de){re.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ce}=this;super.unsubscribe(),!Ce&&(null===(re=this.onFinalize)||void 0===re||re.call(this))}}}},4004:(Nt,qe,z)=>{"use strict";z.d(qe,{U:()=>k});var u=z(4482),O=z(5403);function k(G,re){return(0,u.e)((Ce,Ee)=>{let Me=0;Ce.subscribe((0,O.x)(Ee,De=>{Ee.next(G.call(re,De,Me++))}))})}},8189:(Nt,qe,z)=>{"use strict";z.d(qe,{J:()=>k});var u=z(5577),O=z(4671);function k(G=1/0){return(0,u.z)(O.y,G)}},5577:(Nt,qe,z)=>{"use strict";z.d(qe,{z:()=>Me});var u=z(4004),O=z(8421),k=z(4482),G=z(9672),re=z(5403),Ee=z(576);function Me(De,ee,de=1/0){return(0,Ee.m)(ee)?Me((T,F)=>(0,u.U)((H,se)=>ee(T,H,F,se))((0,O.Xf)(De(T,F))),de):("number"==typeof ee&&(de=ee),(0,k.e)((T,F)=>function Ce(De,ee,de,T,F,H,se,me){const ce=[];let oe=0,je=0,Ye=!1;const We=()=>{Ye&&!ce.length&&!oe&&ee.complete()},Qe=mt=>oe<T?ze(mt):ce.push(mt),ze=mt=>{H&&ee.next(mt),oe++;let Te=!1;(0,O.Xf)(de(mt,je++)).subscribe((0,re.x)(ee,Re=>{null==F||F(Re),H?Qe(Re):ee.next(Re)},()=>{Te=!0},void 0,()=>{if(Te)try{for(oe--;ce.length&&oe<T;){const Re=ce.shift();se?(0,G.f)(ee,se,()=>ze(Re)):ze(Re)}We()}catch(Re){ee.error(Re)}}))};return De.subscribe((0,re.x)(ee,Qe,()=>{Ye=!0,We()})),()=>{null==me||me()}}(T,F,De,de)))}},5363:(Nt,qe,z)=>{"use strict";z.d(qe,{Q:()=>G});var u=z(9672),O=z(4482),k=z(5403);function G(re,Ce=0){return(0,O.e)((Ee,Me)=>{Ee.subscribe((0,k.x)(Me,De=>(0,u.f)(Me,re,()=>Me.next(De),Ce),()=>(0,u.f)(Me,re,()=>Me.complete(),Ce),De=>(0,u.f)(Me,re,()=>Me.error(De),Ce)))})}},3099:(Nt,qe,z)=>{"use strict";z.d(qe,{B:()=>Ce});var u=z(8996),O=z(5698),k=z(7579),G=z(930),re=z(4482);function Ce(Me={}){const{connector:De=(()=>new k.x),resetOnError:ee=!0,resetOnComplete:de=!0,resetOnRefCountZero:T=!0}=Me;return F=>{let H=null,se=null,me=null,ce=0,oe=!1,je=!1;const Ye=()=>{null==se||se.unsubscribe(),se=null},We=()=>{Ye(),H=me=null,oe=je=!1},Qe=()=>{const ze=H;We(),null==ze||ze.unsubscribe()};return(0,re.e)((ze,mt)=>{ce++,!je&&!oe&&Ye();const Te=me=null!=me?me:De();mt.add(()=>{ce--,0===ce&&!je&&!oe&&(se=Ee(Qe,T))}),Te.subscribe(mt),H||(H=new G.Hp({next:Re=>Te.next(Re),error:Re=>{je=!0,Ye(),se=Ee(We,ee,Re),Te.error(Re)},complete:()=>{oe=!0,Ye(),se=Ee(We,de),Te.complete()}}),(0,u.D)(ze).subscribe(H))})(F)}}function Ee(Me,De,...ee){return!0===De?(Me(),null):!1===De?null:De(...ee).pipe((0,O.q)(1)).subscribe(()=>Me())}},9468:(Nt,qe,z)=>{"use strict";z.d(qe,{R:()=>O});var u=z(4482);function O(k,G=0){return(0,u.e)((re,Ce)=>{Ce.add(k.schedule(()=>re.subscribe(Ce),G))})}},5698:(Nt,qe,z)=>{"use strict";z.d(qe,{q:()=>G});var u=z(515),O=z(4482),k=z(5403);function G(re){return re<=0?()=>u.E:(0,O.e)((Ce,Ee)=>{let Me=0;Ce.subscribe((0,k.x)(Ee,De=>{++Me<=re&&(Ee.next(De),re<=Me&&Ee.complete())}))})}},8505:(Nt,qe,z)=>{"use strict";z.d(qe,{b:()=>re});var u=z(576),O=z(4482),k=z(5403),G=z(4671);function re(Ce,Ee,Me){const De=(0,u.m)(Ce)||Ee||Me?{next:Ce,error:Ee,complete:Me}:Ce;return De?(0,O.e)((ee,de)=>{var T;null===(T=De.subscribe)||void 0===T||T.call(De);let F=!0;ee.subscribe((0,k.x)(de,H=>{var se;null===(se=De.next)||void 0===se||se.call(De,H),de.next(H)},()=>{var H;F=!1,null===(H=De.complete)||void 0===H||H.call(De),de.complete()},H=>{var se;F=!1,null===(se=De.error)||void 0===se||se.call(De,H),de.error(H)},()=>{var H,se;F&&(null===(H=De.unsubscribe)||void 0===H||H.call(De)),null===(se=De.finalize)||void 0===se||se.call(De)}))}):G.y}},4408:(Nt,qe,z)=>{"use strict";z.d(qe,{o:()=>re});var u=z(727);class O extends u.w0{constructor(Ee,Me){super()}schedule(Ee,Me=0){return this}}const k={setInterval(Ce,Ee,...Me){const{delegate:De}=k;return(null==De?void 0:De.setInterval)?De.setInterval(Ce,Ee,...Me):setInterval(Ce,Ee,...Me)},clearInterval(Ce){const{delegate:Ee}=k;return((null==Ee?void 0:Ee.clearInterval)||clearInterval)(Ce)},delegate:void 0};var G=z(8737);class re extends O{constructor(Ee,Me){super(Ee,Me),this.scheduler=Ee,this.work=Me,this.pending=!1}schedule(Ee,Me=0){if(this.closed)return this;this.state=Ee;const De=this.id,ee=this.scheduler;return null!=De&&(this.id=this.recycleAsyncId(ee,De,Me)),this.pending=!0,this.delay=Me,this.id=this.id||this.requestAsyncId(ee,this.id,Me),this}requestAsyncId(Ee,Me,De=0){return k.setInterval(Ee.flush.bind(Ee,this),De)}recycleAsyncId(Ee,Me,De=0){if(null!=De&&this.delay===De&&!1===this.pending)return Me;k.clearInterval(Me)}execute(Ee,Me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const De=this._execute(Ee,Me);if(De)return De;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ee,Me){let ee,De=!1;try{this.work(Ee)}catch(de){De=!0,ee=de||new Error("Scheduled action threw falsy error")}if(De)return this.unsubscribe(),ee}unsubscribe(){if(!this.closed){const{id:Ee,scheduler:Me}=this,{actions:De}=Me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,G.P)(De,this),null!=Ee&&(this.id=this.recycleAsyncId(Me,Ee,null)),this.delay=null,super.unsubscribe()}}}},7565:(Nt,qe,z)=>{"use strict";z.d(qe,{v:()=>k});var u=z(6063);class O{constructor(re,Ce=O.now){this.schedulerActionCtor=re,this.now=Ce}schedule(re,Ce=0,Ee){return new this.schedulerActionCtor(this,re).schedule(Ee,Ce)}}O.now=u.l.now;class k extends O{constructor(re,Ce=O.now){super(re,Ce),this.actions=[],this._active=!1,this._scheduled=void 0}flush(re){const{actions:Ce}=this;if(this._active)return void Ce.push(re);let Ee;this._active=!0;do{if(Ee=re.execute(re.state,re.delay))break}while(re=Ce.shift());if(this._active=!1,Ee){for(;re=Ce.shift();)re.unsubscribe();throw Ee}}}},4986:(Nt,qe,z)=>{"use strict";z.d(qe,{z:()=>k});var u=z(4408);const k=new(z(7565).v)(u.o)},6063:(Nt,qe,z)=>{"use strict";z.d(qe,{l:()=>u});const u={now:()=>(u.delegate||Date).now(),delegate:void 0}},3410:(Nt,qe,z)=>{"use strict";z.d(qe,{z:()=>u});const u={setTimeout(O,k,...G){const{delegate:re}=u;return(null==re?void 0:re.setTimeout)?re.setTimeout(O,k,...G):setTimeout(O,k,...G)},clearTimeout(O){const{delegate:k}=u;return((null==k?void 0:k.clearTimeout)||clearTimeout)(O)},delegate:void 0}},2202:(Nt,qe,z)=>{"use strict";z.d(qe,{h:()=>O});const O=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Nt,qe,z)=>{"use strict";z.d(qe,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Nt,qe,z)=>{"use strict";z.d(qe,{_6:()=>Ce,jO:()=>G,yG:()=>re});var u=z(576);function k(Ee){return Ee[Ee.length-1]}function G(Ee){return(0,u.m)(k(Ee))?Ee.pop():void 0}function re(Ee){return function O(Ee){return Ee&&(0,u.m)(Ee.schedule)}(k(Ee))?Ee.pop():void 0}function Ce(Ee,Me){return"number"==typeof k(Ee)?Ee.pop():Me}},8737:(Nt,qe,z)=>{"use strict";function u(O,k){if(O){const G=O.indexOf(k);0<=G&&O.splice(G,1)}}z.d(qe,{P:()=>u})},3888:(Nt,qe,z)=>{"use strict";function u(O){const G=O(re=>{Error.call(re),re.stack=(new Error).stack});return G.prototype=Object.create(Error.prototype),G.prototype.constructor=G,G}z.d(qe,{d:()=>u})},2806:(Nt,qe,z)=>{"use strict";z.d(qe,{O:()=>G,x:()=>k});var u=z(2416);let O=null;function k(re){if(u.v.useDeprecatedSynchronousErrorHandling){const Ce=!O;if(Ce&&(O={errorThrown:!1,error:null}),re(),Ce){const{errorThrown:Ee,error:Me}=O;if(O=null,Ee)throw Me}}else re()}function G(re){u.v.useDeprecatedSynchronousErrorHandling&&O&&(O.errorThrown=!0,O.error=re)}},9672:(Nt,qe,z)=>{"use strict";function u(O,k,G,re=0,Ce=!1){const Ee=k.schedule(function(){G(),Ce?O.add(this.schedule(null,re)):this.unsubscribe()},re);if(O.add(Ee),!Ce)return Ee}z.d(qe,{f:()=>u})},4671:(Nt,qe,z)=>{"use strict";function u(O){return O}z.d(qe,{y:()=>u})},1144:(Nt,qe,z)=>{"use strict";z.d(qe,{z:()=>u});const u=O=>O&&"number"==typeof O.length&&"function"!=typeof O},2206:(Nt,qe,z)=>{"use strict";z.d(qe,{D:()=>O});var u=z(576);function O(k){return Symbol.asyncIterator&&(0,u.m)(null==k?void 0:k[Symbol.asyncIterator])}},576:(Nt,qe,z)=>{"use strict";function u(O){return"function"==typeof O}z.d(qe,{m:()=>u})},3670:(Nt,qe,z)=>{"use strict";z.d(qe,{c:()=>k});var u=z(8822),O=z(576);function k(G){return(0,O.m)(G[u.L])}},6495:(Nt,qe,z)=>{"use strict";z.d(qe,{T:()=>k});var u=z(2202),O=z(576);function k(G){return(0,O.m)(null==G?void 0:G[u.h])}},8239:(Nt,qe,z)=>{"use strict";z.d(qe,{t:()=>O});var u=z(576);function O(k){return(0,u.m)(null==k?void 0:k.then)}},3260:(Nt,qe,z)=>{"use strict";z.d(qe,{L:()=>G,Q:()=>k});var u=z(655),O=z(576);function k(re){return(0,u.__asyncGenerator)(this,arguments,function*(){const Ee=re.getReader();try{for(;;){const{value:Me,done:De}=yield(0,u.__await)(Ee.read());if(De)return yield(0,u.__await)(void 0);yield yield(0,u.__await)(Me)}}finally{Ee.releaseLock()}})}function G(re){return(0,O.m)(null==re?void 0:re.getReader)}},4482:(Nt,qe,z)=>{"use strict";z.d(qe,{A:()=>O,e:()=>k});var u=z(576);function O(G){return(0,u.m)(null==G?void 0:G.lift)}function k(G){return re=>{if(O(re))return re.lift(function(Ce){try{return G(Ce,this)}catch(Ee){this.error(Ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Nt,qe,z)=>{"use strict";function u(){}z.d(qe,{Z:()=>u})},7849:(Nt,qe,z)=>{"use strict";z.d(qe,{h:()=>k});var u=z(2416),O=z(3410);function k(G){O.z.setTimeout(()=>{const{onUnhandledError:re}=u.v;if(!re)throw G;re(G)})}},4532:(Nt,qe,z)=>{"use strict";function u(O){return new TypeError(`You provided ${null!==O&&"object"==typeof O?"an invalid object":`'${O}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}z.d(qe,{z:()=>u})},655:(Nt,qe,z)=>{"use strict";z.r(qe),z.d(qe,{__assign:()=>k,__asyncDelegator:()=>je,__asyncGenerator:()=>oe,__asyncValues:()=>Ye,__await:()=>ce,__awaiter:()=>Me,__classPrivateFieldGet:()=>Te,__classPrivateFieldSet:()=>Re,__createBinding:()=>ee,__decorate:()=>re,__exportStar:()=>de,__extends:()=>O,__generator:()=>De,__importDefault:()=>mt,__importStar:()=>ze,__makeTemplateObject:()=>We,__metadata:()=>Ee,__param:()=>Ce,__read:()=>F,__rest:()=>G,__spread:()=>H,__spreadArray:()=>me,__spreadArrays:()=>se,__values:()=>T});var u=function(fe,xe){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Oe,Be){Oe.__proto__=Be}||function(Oe,Be){for(var Xe in Be)Object.prototype.hasOwnProperty.call(Be,Xe)&&(Oe[Xe]=Be[Xe])})(fe,xe)};function O(fe,xe){if("function"!=typeof xe&&null!==xe)throw new TypeError("Class extends value "+String(xe)+" is not a constructor or null");function Oe(){this.constructor=fe}u(fe,xe),fe.prototype=null===xe?Object.create(xe):(Oe.prototype=xe.prototype,new Oe)}var k=function(){return k=Object.assign||function(xe){for(var Oe,Be=1,Xe=arguments.length;Be<Xe;Be++)for(var Ne in Oe=arguments[Be])Object.prototype.hasOwnProperty.call(Oe,Ne)&&(xe[Ne]=Oe[Ne]);return xe},k.apply(this,arguments)};function G(fe,xe){var Oe={};for(var Be in fe)Object.prototype.hasOwnProperty.call(fe,Be)&&xe.indexOf(Be)<0&&(Oe[Be]=fe[Be]);if(null!=fe&&"function"==typeof Object.getOwnPropertySymbols){var Xe=0;for(Be=Object.getOwnPropertySymbols(fe);Xe<Be.length;Xe++)xe.indexOf(Be[Xe])<0&&Object.prototype.propertyIsEnumerable.call(fe,Be[Xe])&&(Oe[Be[Xe]]=fe[Be[Xe]])}return Oe}function re(fe,xe,Oe,Be){var Kt,Xe=arguments.length,Ne=Xe<3?xe:null===Be?Be=Object.getOwnPropertyDescriptor(xe,Oe):Be;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ne=Reflect.decorate(fe,xe,Oe,Be);else for(var en=fe.length-1;en>=0;en--)(Kt=fe[en])&&(Ne=(Xe<3?Kt(Ne):Xe>3?Kt(xe,Oe,Ne):Kt(xe,Oe))||Ne);return Xe>3&&Ne&&Object.defineProperty(xe,Oe,Ne),Ne}function Ce(fe,xe){return function(Oe,Be){xe(Oe,Be,fe)}}function Ee(fe,xe){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(fe,xe)}function Me(fe,xe,Oe,Be){return new(Oe||(Oe=Promise))(function(Ne,Kt){function en(jt){try{Mt(Be.next(jt))}catch(Yn){Kt(Yn)}}function tr(jt){try{Mt(Be.throw(jt))}catch(Yn){Kt(Yn)}}function Mt(jt){jt.done?Ne(jt.value):function Xe(Ne){return Ne instanceof Oe?Ne:new Oe(function(Kt){Kt(Ne)})}(jt.value).then(en,tr)}Mt((Be=Be.apply(fe,xe||[])).next())})}function De(fe,xe){var Be,Xe,Ne,Kt,Oe={label:0,sent:function(){if(1&Ne[0])throw Ne[1];return Ne[1]},trys:[],ops:[]};return Kt={next:en(0),throw:en(1),return:en(2)},"function"==typeof Symbol&&(Kt[Symbol.iterator]=function(){return this}),Kt;function en(Mt){return function(jt){return function tr(Mt){if(Be)throw new TypeError("Generator is already executing.");for(;Oe;)try{if(Be=1,Xe&&(Ne=2&Mt[0]?Xe.return:Mt[0]?Xe.throw||((Ne=Xe.return)&&Ne.call(Xe),0):Xe.next)&&!(Ne=Ne.call(Xe,Mt[1])).done)return Ne;switch(Xe=0,Ne&&(Mt=[2&Mt[0],Ne.value]),Mt[0]){case 0:case 1:Ne=Mt;break;case 4:return Oe.label++,{value:Mt[1],done:!1};case 5:Oe.label++,Xe=Mt[1],Mt=[0];continue;case 7:Mt=Oe.ops.pop(),Oe.trys.pop();continue;default:if(!(Ne=(Ne=Oe.trys).length>0&&Ne[Ne.length-1])&&(6===Mt[0]||2===Mt[0])){Oe=0;continue}if(3===Mt[0]&&(!Ne||Mt[1]>Ne[0]&&Mt[1]<Ne[3])){Oe.label=Mt[1];break}if(6===Mt[0]&&Oe.label<Ne[1]){Oe.label=Ne[1],Ne=Mt;break}if(Ne&&Oe.label<Ne[2]){Oe.label=Ne[2],Oe.ops.push(Mt);break}Ne[2]&&Oe.ops.pop(),Oe.trys.pop();continue}Mt=xe.call(fe,Oe)}catch(jt){Mt=[6,jt],Xe=0}finally{Be=Ne=0}if(5&Mt[0])throw Mt[1];return{value:Mt[0]?Mt[1]:void 0,done:!0}}([Mt,jt])}}}var ee=Object.create?function(fe,xe,Oe,Be){void 0===Be&&(Be=Oe),Object.defineProperty(fe,Be,{enumerable:!0,get:function(){return xe[Oe]}})}:function(fe,xe,Oe,Be){void 0===Be&&(Be=Oe),fe[Be]=xe[Oe]};function de(fe,xe){for(var Oe in fe)"default"!==Oe&&!Object.prototype.hasOwnProperty.call(xe,Oe)&&ee(xe,fe,Oe)}function T(fe){var xe="function"==typeof Symbol&&Symbol.iterator,Oe=xe&&fe[xe],Be=0;if(Oe)return Oe.call(fe);if(fe&&"number"==typeof fe.length)return{next:function(){return fe&&Be>=fe.length&&(fe=void 0),{value:fe&&fe[Be++],done:!fe}}};throw new TypeError(xe?"Object is not iterable.":"Symbol.iterator is not defined.")}function F(fe,xe){var Oe="function"==typeof Symbol&&fe[Symbol.iterator];if(!Oe)return fe;var Xe,Kt,Be=Oe.call(fe),Ne=[];try{for(;(void 0===xe||xe-- >0)&&!(Xe=Be.next()).done;)Ne.push(Xe.value)}catch(en){Kt={error:en}}finally{try{Xe&&!Xe.done&&(Oe=Be.return)&&Oe.call(Be)}finally{if(Kt)throw Kt.error}}return Ne}function H(){for(var fe=[],xe=0;xe<arguments.length;xe++)fe=fe.concat(F(arguments[xe]));return fe}function se(){for(var fe=0,xe=0,Oe=arguments.length;xe<Oe;xe++)fe+=arguments[xe].length;var Be=Array(fe),Xe=0;for(xe=0;xe<Oe;xe++)for(var Ne=arguments[xe],Kt=0,en=Ne.length;Kt<en;Kt++,Xe++)Be[Xe]=Ne[Kt];return Be}function me(fe,xe,Oe){if(Oe||2===arguments.length)for(var Ne,Be=0,Xe=xe.length;Be<Xe;Be++)(Ne||!(Be in xe))&&(Ne||(Ne=Array.prototype.slice.call(xe,0,Be)),Ne[Be]=xe[Be]);return fe.concat(Ne||Array.prototype.slice.call(xe))}function ce(fe){return this instanceof ce?(this.v=fe,this):new ce(fe)}function oe(fe,xe,Oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Xe,Be=Oe.apply(fe,xe||[]),Ne=[];return Xe={},Kt("next"),Kt("throw"),Kt("return"),Xe[Symbol.asyncIterator]=function(){return this},Xe;function Kt(Gn){Be[Gn]&&(Xe[Gn]=function(wr){return new Promise(function(Dn,Ae){Ne.push([Gn,wr,Dn,Ae])>1||en(Gn,wr)})})}function en(Gn,wr){try{!function tr(Gn){Gn.value instanceof ce?Promise.resolve(Gn.value.v).then(Mt,jt):Yn(Ne[0][2],Gn)}(Be[Gn](wr))}catch(Dn){Yn(Ne[0][3],Dn)}}function Mt(Gn){en("next",Gn)}function jt(Gn){en("throw",Gn)}function Yn(Gn,wr){Gn(wr),Ne.shift(),Ne.length&&en(Ne[0][0],Ne[0][1])}}function je(fe){var xe,Oe;return xe={},Be("next"),Be("throw",function(Xe){throw Xe}),Be("return"),xe[Symbol.iterator]=function(){return this},xe;function Be(Xe,Ne){xe[Xe]=fe[Xe]?function(Kt){return(Oe=!Oe)?{value:ce(fe[Xe](Kt)),done:"return"===Xe}:Ne?Ne(Kt):Kt}:Ne}}function Ye(fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,xe=fe[Symbol.asyncIterator];return xe?xe.call(fe):(fe=T(fe),Oe={},Be("next"),Be("throw"),Be("return"),Oe[Symbol.asyncIterator]=function(){return this},Oe);function Be(Ne){Oe[Ne]=fe[Ne]&&function(Kt){return new Promise(function(en,tr){!function Xe(Ne,Kt,en,tr){Promise.resolve(tr).then(function(Mt){Ne({value:Mt,done:en})},Kt)}(en,tr,(Kt=fe[Ne](Kt)).done,Kt.value)})}}}function We(fe,xe){return Object.defineProperty?Object.defineProperty(fe,"raw",{value:xe}):fe.raw=xe,fe}var Qe=Object.create?function(fe,xe){Object.defineProperty(fe,"default",{enumerable:!0,value:xe})}:function(fe,xe){fe.default=xe};function ze(fe){if(fe&&fe.__esModule)return fe;var xe={};if(null!=fe)for(var Oe in fe)"default"!==Oe&&Object.prototype.hasOwnProperty.call(fe,Oe)&&ee(xe,fe,Oe);return Qe(xe,fe),xe}function mt(fe){return fe&&fe.__esModule?fe:{default:fe}}function Te(fe,xe,Oe,Be){if("a"===Oe&&!Be)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof xe?fe!==xe||!Be:!xe.has(fe))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===Oe?Be:"a"===Oe?Be.call(fe):Be?Be.value:xe.get(fe)}function Re(fe,xe,Oe,Be,Xe){if("m"===Be)throw new TypeError("Private method is not writable");if("a"===Be&&!Xe)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof xe?fe!==xe||!Xe:!xe.has(fe))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===Be?Xe.call(fe,Oe):Xe?Xe.value=Oe:xe.set(fe,Oe),Oe}},4602:Nt=>{"use strict";Nt.exports='\n/* classes attached to <body> */\n/* TODO: make fc-event selector work when calender in shadow DOM */\n.fc-not-allowed,\n.fc-not-allowed .fc-event { /* override events\' custom cursors */\n  cursor: not-allowed;\n}\n/* TODO: not attached to body. attached to specific els. move */\n.fc-unselectable {\n  -webkit-user-select: none;\n          user-select: none;\n  -webkit-touch-callout: none;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.fc {\n  /* layout of immediate children */\n  display: flex;\n  flex-direction: column;\n\n  font-size: 1em\n}\n.fc,\n  .fc *,\n  .fc *:before,\n  .fc *:after {\n    box-sizing: border-box;\n  }\n.fc table {\n    border-collapse: collapse;\n    border-spacing: 0;\n    font-size: 1em; /* normalize cross-browser */\n  }\n.fc th {\n    text-align: center;\n  }\n.fc th,\n  .fc td {\n    vertical-align: top;\n    padding: 0;\n  }\n.fc a[data-navlink] {\n    cursor: pointer;\n  }\n.fc a[data-navlink]:hover {\n    text-decoration: underline;\n  }\n.fc-direction-ltr {\n  direction: ltr;\n  text-align: left;\n}\n.fc-direction-rtl {\n  direction: rtl;\n  text-align: right;\n}\n.fc-theme-standard td,\n  .fc-theme-standard th {\n    border: 1px solid #ddd;\n    border: 1px solid var(--fc-border-color, #ddd);\n  }\n/* for FF, which doesn\'t expand a 100% div within a table cell. use absolute positioning */\n/* inner-wrappers are responsible for being absolute */\n/* TODO: best place for this? */\n.fc-liquid-hack td,\n  .fc-liquid-hack th {\n    position: relative;\n  }\n@font-face {\n  font-family: \'fcicons\';\n  src: url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format(\'truetype\');\n  font-weight: normal;\n  font-style: normal;\n}\n.fc-icon {\n  /* added for fc */\n  display: inline-block;\n  width: 1em;\n  height: 1em;\n  text-align: center;\n  -webkit-user-select: none;\n          user-select: none;\n\n  /* use !important to prevent issues with browser extensions that change fonts */\n  font-family: \'fcicons\' !important;\n  speak: none;\n  font-style: normal;\n  font-weight: normal;\n  font-feature-settings: normal;\n  font-variant: normal;\n  text-transform: none;\n  line-height: 1;\n\n  /* Better Font Rendering =========== */\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.fc-icon-chevron-left:before {\n  content: "\\e900";\n}\n.fc-icon-chevron-right:before {\n  content: "\\e901";\n}\n.fc-icon-chevrons-left:before {\n  content: "\\e902";\n}\n.fc-icon-chevrons-right:before {\n  content: "\\e903";\n}\n.fc-icon-minus-square:before {\n  content: "\\e904";\n}\n.fc-icon-plus-square:before {\n  content: "\\e905";\n}\n.fc-icon-x:before {\n  content: "\\e906";\n}\n/*\nLots taken from Flatly (MIT): https://bootswatch.com/4/flatly/bootstrap.css\n\nThese styles only apply when the standard-theme is activated.\nWhen it\'s NOT activated, the fc-button classes won\'t even be in the DOM.\n*/\n.fc {\n\n  /* reset */\n\n}\n.fc .fc-button {\n    border-radius: 0;\n    overflow: visible;\n    text-transform: none;\n    margin: 0;\n    font-family: inherit;\n    font-size: inherit;\n    line-height: inherit;\n  }\n.fc .fc-button:focus {\n    outline: 1px dotted;\n    outline: 5px auto -webkit-focus-ring-color;\n  }\n.fc .fc-button {\n    -webkit-appearance: button;\n  }\n.fc .fc-button:not(:disabled) {\n    cursor: pointer;\n  }\n.fc .fc-button::-moz-focus-inner {\n    padding: 0;\n    border-style: none;\n  }\n.fc {\n\n  /* theme */\n\n}\n.fc .fc-button {\n    display: inline-block;\n    font-weight: 400;\n    text-align: center;\n    vertical-align: middle;\n    -webkit-user-select: none;\n            user-select: none;\n    background-color: transparent;\n    border: 1px solid transparent;\n    padding: 0.4em 0.65em;\n    font-size: 1em;\n    line-height: 1.5;\n    border-radius: 0.25em;\n  }\n.fc .fc-button:hover {\n    text-decoration: none;\n  }\n.fc .fc-button:focus {\n    outline: 0;\n    box-shadow: 0 0 0 0.2rem rgba(44, 62, 80, 0.25);\n  }\n.fc .fc-button:disabled {\n    opacity: 0.65;\n  }\n.fc {\n\n  /* "primary" coloring */\n\n}\n.fc .fc-button-primary {\n    color: #fff;\n    color: var(--fc-button-text-color, #fff);\n    background-color: #2C3E50;\n    background-color: var(--fc-button-bg-color, #2C3E50);\n    border-color: #2C3E50;\n    border-color: var(--fc-button-border-color, #2C3E50);\n  }\n.fc .fc-button-primary:hover {\n    color: #fff;\n    color: var(--fc-button-text-color, #fff);\n    background-color: #1e2b37;\n    background-color: var(--fc-button-hover-bg-color, #1e2b37);\n    border-color: #1a252f;\n    border-color: var(--fc-button-hover-border-color, #1a252f);\n  }\n.fc .fc-button-primary:disabled { /* not DRY */\n    color: #fff;\n    color: var(--fc-button-text-color, #fff);\n    background-color: #2C3E50;\n    background-color: var(--fc-button-bg-color, #2C3E50);\n    border-color: #2C3E50;\n    border-color: var(--fc-button-border-color, #2C3E50); /* overrides :hover */\n  }\n.fc .fc-button-primary:focus {\n    box-shadow: 0 0 0 0.2rem rgba(76, 91, 106, 0.5);\n  }\n.fc .fc-button-primary:not(:disabled):active,\n  .fc .fc-button-primary:not(:disabled).fc-button-active {\n    color: #fff;\n    color: var(--fc-button-text-color, #fff);\n    background-color: #1a252f;\n    background-color: var(--fc-button-active-bg-color, #1a252f);\n    border-color: #151e27;\n    border-color: var(--fc-button-active-border-color, #151e27);\n  }\n.fc .fc-button-primary:not(:disabled):active:focus,\n  .fc .fc-button-primary:not(:disabled).fc-button-active:focus {\n    box-shadow: 0 0 0 0.2rem rgba(76, 91, 106, 0.5);\n  }\n.fc {\n\n  /* icons within buttons */\n\n}\n.fc .fc-button .fc-icon {\n    vertical-align: middle;\n    font-size: 1.5em; /* bump up the size (but don\'t make it bigger than line-height of button, which is 1.5em also) */\n  }\n.fc .fc-button-group {\n    position: relative;\n    display: inline-flex;\n    vertical-align: middle;\n  }\n.fc .fc-button-group > .fc-button {\n    position: relative;\n    flex: 1 1 auto;\n  }\n.fc .fc-button-group > .fc-button:hover {\n    z-index: 1;\n  }\n.fc .fc-button-group > .fc-button:focus,\n  .fc .fc-button-group > .fc-button:active,\n  .fc .fc-button-group > .fc-button.fc-button-active {\n    z-index: 1;\n  }\n.fc-direction-ltr .fc-button-group > .fc-button:not(:first-child) {\n    margin-left: -1px;\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n.fc-direction-ltr .fc-button-group > .fc-button:not(:last-child) {\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n.fc-direction-rtl .fc-button-group > .fc-button:not(:first-child) {\n    margin-right: -1px;\n    border-top-right-radius: 0;\n    border-bottom-right-radius: 0;\n  }\n.fc-direction-rtl .fc-button-group > .fc-button:not(:last-child) {\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n.fc .fc-toolbar {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n.fc .fc-toolbar.fc-header-toolbar {\n    margin-bottom: 1.5em;\n  }\n.fc .fc-toolbar.fc-footer-toolbar {\n    margin-top: 1.5em;\n  }\n.fc .fc-toolbar-title {\n    font-size: 1.75em;\n    margin: 0;\n  }\n.fc-direction-ltr .fc-toolbar > * > :not(:first-child) {\n    margin-left: .75em; /* space between */\n  }\n.fc-direction-rtl .fc-toolbar > * > :not(:first-child) {\n    margin-right: .75em; /* space between */\n  }\n.fc-direction-rtl .fc-toolbar-ltr { /* when the toolbar-chunk positioning system is explicitly left-to-right */\n    flex-direction: row-reverse;\n  }\n.fc .fc-scroller {\n    -webkit-overflow-scrolling: touch;\n    position: relative; /* for abs-positioned elements within */\n  }\n.fc .fc-scroller-liquid {\n    height: 100%;\n  }\n.fc .fc-scroller-liquid-absolute {\n    position: absolute;\n    top: 0;\n    right: 0;\n    left: 0;\n    bottom: 0;\n  }\n.fc .fc-scroller-harness {\n    position: relative;\n    overflow: hidden;\n    direction: ltr;\n      /* hack for chrome computing the scroller\'s right/left wrong for rtl. undone below... */\n      /* TODO: demonstrate in codepen */\n  }\n.fc .fc-scroller-harness-liquid {\n    height: 100%;\n  }\n.fc-direction-rtl .fc-scroller-harness > .fc-scroller { /* undo above hack */\n    direction: rtl;\n  }\n.fc-theme-standard .fc-scrollgrid {\n    border: 1px solid #ddd;\n    border: 1px solid var(--fc-border-color, #ddd); /* bootstrap does this. match */\n  }\n.fc .fc-scrollgrid,\n    .fc .fc-scrollgrid table { /* all tables (self included) */\n      width: 100%; /* because tables don\'t normally do this */\n      table-layout: fixed;\n    }\n.fc .fc-scrollgrid table { /* inner tables */\n      border-top-style: hidden;\n      border-left-style: hidden;\n      border-right-style: hidden;\n    }\n.fc .fc-scrollgrid {\n\n    border-collapse: separate;\n    border-right-width: 0;\n    border-bottom-width: 0;\n\n  }\n.fc .fc-scrollgrid-liquid {\n    height: 100%;\n  }\n.fc .fc-scrollgrid-section { /* a <tr> */\n    height: 1px /* better than 0, for firefox */\n\n  }\n.fc .fc-scrollgrid-section > td {\n      height: 1px; /* needs a height so inner div within grow. better than 0, for firefox */\n    }\n.fc .fc-scrollgrid-section table {\n      height: 1px;\n        /* for most browsers, if a height isn\'t set on the table, can\'t do liquid-height within cells */\n        /* serves as a min-height. harmless */\n    }\n.fc .fc-scrollgrid-section-liquid > td {\n      height: 100%; /* better than `auto`, for firefox */\n    }\n.fc .fc-scrollgrid-section > * {\n    border-top-width: 0;\n    border-left-width: 0;\n  }\n.fc .fc-scrollgrid-section-header > *,\n  .fc .fc-scrollgrid-section-footer > * {\n    border-bottom-width: 0;\n  }\n.fc .fc-scrollgrid-section-body table,\n  .fc .fc-scrollgrid-section-footer table {\n    border-bottom-style: hidden; /* head keeps its bottom border tho */\n  }\n.fc {\n\n  /* stickiness */\n\n}\n.fc .fc-scrollgrid-section-sticky > * {\n    background: #fff;\n    background: var(--fc-page-bg-color, #fff);\n    position: sticky;\n    z-index: 3; /* TODO: var */\n    /* TODO: box-shadow when sticking */\n  }\n.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky > * {\n    top: 0; /* because border-sharing causes a gap at the top */\n      /* TODO: give safari -1. has bug */\n  }\n.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky > * {\n    bottom: 0; /* known bug: bottom-stickiness doesn\'t work in safari */\n  }\n.fc .fc-scrollgrid-sticky-shim { /* for horizontal scrollbar */\n    height: 1px; /* needs height to create scrollbars */\n    margin-bottom: -1px;\n  }\n.fc-sticky { /* no .fc wrap because used as child of body */\n  position: sticky;\n}\n.fc .fc-view-harness {\n    flex-grow: 1; /* because this harness is WITHIN the .fc\'s flexbox */\n    position: relative;\n  }\n.fc {\n\n  /* when the harness controls the height, make the view liquid */\n\n}\n.fc .fc-view-harness-active > .fc-view {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n  }\n.fc .fc-col-header-cell-cushion {\n    display: inline-block; /* x-browser for when sticky (when multi-tier header) */\n    padding: 2px 4px;\n  }\n.fc .fc-bg-event,\n  .fc .fc-non-business,\n  .fc .fc-highlight {\n    /* will always have a harness with position:relative/absolute, so absolutely expand */\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n.fc .fc-non-business {\n    background: rgba(215, 215, 215, 0.3);\n    background: var(--fc-non-business-color, rgba(215, 215, 215, 0.3));\n  }\n.fc .fc-bg-event {\n    background: rgb(143, 223, 130);\n    background: var(--fc-bg-event-color, rgb(143, 223, 130));\n    opacity: 0.3;\n    opacity: var(--fc-bg-event-opacity, 0.3)\n  }\n.fc .fc-bg-event .fc-event-title {\n      margin: .5em;\n      font-size: .85em;\n      font-size: var(--fc-small-font-size, .85em);\n      font-style: italic;\n    }\n.fc .fc-highlight {\n    background: rgba(188, 232, 241, 0.3);\n    background: var(--fc-highlight-color, rgba(188, 232, 241, 0.3));\n  }\n.fc .fc-cell-shaded,\n  .fc .fc-day-disabled {\n    background: rgba(208, 208, 208, 0.3);\n    background: var(--fc-neutral-bg-color, rgba(208, 208, 208, 0.3));\n  }\n/* link resets */\n/* ---------------------------------------------------------------------------------------------------- */\na.fc-event,\na.fc-event:hover {\n  text-decoration: none;\n}\n/* cursor */\n.fc-event[href],\n.fc-event.fc-event-draggable {\n  cursor: pointer;\n}\n/* event text content */\n/* ---------------------------------------------------------------------------------------------------- */\n.fc-event .fc-event-main {\n    position: relative;\n    z-index: 2;\n  }\n/* dragging */\n/* ---------------------------------------------------------------------------------------------------- */\n.fc-event-dragging:not(.fc-event-selected) { /* MOUSE */\n    opacity: 0.75;\n  }\n.fc-event-dragging.fc-event-selected { /* TOUCH */\n    box-shadow: 0 2px 7px rgba(0, 0, 0, 0.3);\n  }\n/* resizing */\n/* ---------------------------------------------------------------------------------------------------- */\n/* (subclasses should hone positioning for touch and non-touch) */\n.fc-event .fc-event-resizer {\n    display: none;\n    position: absolute;\n    z-index: 4;\n  }\n.fc-event:hover, /* MOUSE */\n.fc-event-selected { /* TOUCH */\n\n}\n.fc-event:hover .fc-event-resizer, .fc-event-selected .fc-event-resizer {\n    display: block;\n  }\n.fc-event-selected .fc-event-resizer {\n    border-radius: 4px;\n    border-radius: calc(var(--fc-event-resizer-dot-total-width, 8px) / 2);\n    border-width: 1px;\n    border-width: var(--fc-event-resizer-dot-border-width, 1px);\n    width: 8px;\n    width: var(--fc-event-resizer-dot-total-width, 8px);\n    height: 8px;\n    height: var(--fc-event-resizer-dot-total-width, 8px);\n    border-style: solid;\n    border-color: inherit;\n    background: #fff;\n    background: var(--fc-page-bg-color, #fff)\n\n    /* expand hit area */\n\n  }\n.fc-event-selected .fc-event-resizer:before {\n      content: \'\';\n      position: absolute;\n      top: -20px;\n      left: -20px;\n      right: -20px;\n      bottom: -20px;\n    }\n/* selecting (always TOUCH) */\n/* OR, focused by tab-index */\n/* (TODO: maybe not the best focus-styling for .fc-daygrid-dot-event) */\n/* ---------------------------------------------------------------------------------------------------- */\n.fc-event-selected,\n.fc-event:focus {\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2)\n\n  /* expand hit area (subclasses should expand) */\n\n}\n.fc-event-selected:before, .fc-event:focus:before {\n    content: "";\n    position: absolute;\n    z-index: 3;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n  }\n.fc-event-selected,\n.fc-event:focus {\n\n  /* dimmer effect */\n\n}\n.fc-event-selected:after, .fc-event:focus:after {\n    content: "";\n    background: rgba(0, 0, 0, 0.25);\n    background: var(--fc-event-selected-overlay-color, rgba(0, 0, 0, 0.25));\n    position: absolute;\n    z-index: 1;\n\n    /* assume there\'s a border on all sides. overcome it. */\n    /* sometimes there\'s NOT a border, in which case the dimmer will go over */\n    /* an adjacent border, which looks fine. */\n    top: -1px;\n    left: -1px;\n    right: -1px;\n    bottom: -1px;\n  }\n/*\nA HORIZONTAL event\n*/\n.fc-h-event { /* allowed to be top-level */\n  display: block;\n  border: 1px solid #3788d8;\n  border: 1px solid var(--fc-event-border-color, #3788d8);\n  background-color: #3788d8;\n  background-color: var(--fc-event-bg-color, #3788d8)\n\n}\n.fc-h-event .fc-event-main {\n    color: #fff;\n    color: var(--fc-event-text-color, #fff);\n  }\n.fc-h-event .fc-event-main-frame {\n    display: flex; /* for make fc-event-title-container expand */\n  }\n.fc-h-event .fc-event-time {\n    max-width: 100%; /* clip overflow on this element */\n    overflow: hidden;\n  }\n.fc-h-event .fc-event-title-container { /* serves as a container for the sticky cushion */\n    flex-grow: 1;\n    flex-shrink: 1;\n    min-width: 0; /* important for allowing to shrink all the way */\n  }\n.fc-h-event .fc-event-title {\n    display: inline-block; /* need this to be sticky cross-browser */\n    vertical-align: top; /* for not messing up line-height */\n    left: 0;  /* for sticky */\n    right: 0; /* for sticky */\n    max-width: 100%; /* clip overflow on this element */\n    overflow: hidden;\n  }\n.fc-h-event.fc-event-selected:before {\n    /* expand hit area */\n    top: -10px;\n    bottom: -10px;\n  }\n/* adjust border and border-radius (if there is any) for non-start/end */\n.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),\n.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end) {\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  border-left-width: 0;\n}\n.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),\n.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start) {\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  border-right-width: 0;\n}\n/* resizers */\n.fc-h-event:not(.fc-event-selected) .fc-event-resizer {\n  top: 0;\n  bottom: 0;\n  width: 8px;\n  width: var(--fc-event-resizer-thickness, 8px);\n}\n.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,\n.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end {\n  cursor: w-resize;\n  left: -4px;\n  left: calc(-0.5 * var(--fc-event-resizer-thickness, 8px));\n}\n.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,\n.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start {\n  cursor: e-resize;\n  right: -4px;\n  right: calc(-0.5 * var(--fc-event-resizer-thickness, 8px));\n}\n/* resizers for TOUCH */\n.fc-h-event.fc-event-selected .fc-event-resizer {\n  top: 50%;\n  margin-top: -4px;\n  margin-top: calc(-0.5 * var(--fc-event-resizer-dot-total-width, 8px));\n}\n.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,\n.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end {\n  left: -4px;\n  left: calc(-0.5 * var(--fc-event-resizer-dot-total-width, 8px));\n}\n.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,\n.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start {\n  right: -4px;\n  right: calc(-0.5 * var(--fc-event-resizer-dot-total-width, 8px));\n}\n.fc .fc-popover {\n    position: absolute;\n    z-index: 9999;\n    box-shadow: 0 2px 6px rgba(0,0,0,.15);\n  }\n.fc .fc-popover-header {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n    align-items: center;\n    padding: 3px 4px;\n  }\n.fc .fc-popover-title {\n    margin: 0 2px;\n  }\n.fc .fc-popover-close {\n    cursor: pointer;\n    opacity: 0.65;\n    font-size: 1.1em;\n  }\n.fc-theme-standard .fc-popover {\n    border: 1px solid #ddd;\n    border: 1px solid var(--fc-border-color, #ddd);\n    background: #fff;\n    background: var(--fc-page-bg-color, #fff);\n  }\n.fc-theme-standard .fc-popover-header {\n    background: rgba(208, 208, 208, 0.3);\n    background: var(--fc-neutral-bg-color, rgba(208, 208, 208, 0.3));\n  }\n'},5e3:(Nt,qe,z)=>{"use strict";z.d(qe,{$8M:()=>_r,$Z:()=>Nf,AFp:()=>Xf,ALo:()=>lw,AaK:()=>Me,BQk:()=>Cp,CHM:()=>mo,CRH:()=>Tv,CZH:()=>Jf,CqO:()=>qE,EJc:()=>bI,EiD:()=>Gl,EpF:()=>Dp,F4k:()=>zE,FYo:()=>K_,FiY:()=>cs,G48:()=>rs,Gf:()=>qf,GfV:()=>Q_,GkF:()=>Pf,Gpc:()=>de,Gre:()=>U_,JOm:()=>X,JVY:()=>Bl,L6k:()=>Lu,LAX:()=>rf,LFG:()=>Nr,LSH:()=>Bc,Lbi:()=>rg,MGl:()=>Um,NdJ:()=>M_,O4$:()=>wh,OlP:()=>sr,Oqu:()=>hs,PXZ:()=>Hw,Q6J:()=>Ep,QGY:()=>x_,Qsj:()=>Y_,R0b:()=>Ls,RDi:()=>os,Rgc:()=>od,SBq:()=>id,Sil:()=>Pv,Suo:()=>Dv,TTD:()=>pi,TgZ:()=>Ap,Tol:()=>N_,Udp:()=>jm,VLi:()=>C0,X6Q:()=>zw,XFs:()=>Tt,Xpm:()=>Pe,Y36:()=>bp,YKP:()=>Hf,YNc:()=>ME,Yjl:()=>Et,Yz7:()=>Dn,ZZ4:()=>sc,_Bn:()=>QA,_UZ:()=>S_,_Vd:()=>Ui,_c5:()=>Yw,_uU:()=>mA,aQg:()=>F0,c2e:()=>xw,cJS:()=>_e,cg1:()=>$m,d8E:()=>Zm,dDg:()=>th,deG:()=>zd,dqk:()=>En,eBb:()=>Oc,eFA:()=>T0,ekj:()=>aA,evT:()=>f,g9A:()=>eh,h0i:()=>li,hGG:()=>dg,hij:()=>zm,iGM:()=>c0,ifc:()=>dn,ip1:()=>Tw,kL8:()=>SA,kYT:()=>pe,lG2:()=>et,lcZ:()=>o0,mCW:()=>E,n5z:()=>bc,oAB:()=>Ie,oJD:()=>Hh,oxw:()=>Of,pB0:()=>Vu,q3G:()=>Hr,q4F:()=>av,qLn:()=>Hu,qOj:()=>Dm,qZA:()=>Vm,qzn:()=>Rs,sBO:()=>II,sIi:()=>Ra,s_b:()=>Kp,soG:()=>E0,tBr:()=>Co,tb:()=>Sw,tp0:()=>tl,uIk:()=>yp,vHH:()=>se,vpe:()=>hl,wAp:()=>bn,xp6:()=>By,yhl:()=>Fu,ynx:()=>wp,z2F:()=>I0,z3N:()=>to,zSh:()=>a_,zs3:()=>Ma});var u=z(7579),O=z(727),k=z(8306),G=z(6451),re=z(3099);function Ce(s){for(let o in s)if(s[o]===Ce)return o;throw Error("Could not find renamed property on target object.")}function Ee(s,o){for(const l in o)o.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=o[l])}function Me(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Me).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const l=o.indexOf("\n");return-1===l?o:o.substring(0,l)}function De(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const ee=Ce({__forward_ref__:Ce});function de(s){return s.__forward_ref__=de,s.toString=function(){return Me(this())},s}function T(s){return F(s)?s():s}function F(s){return"function"==typeof s&&s.hasOwnProperty(ee)&&s.__forward_ref__===de}class se extends Error{constructor(o,l){super(function me(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,l)),this.code=o}}function ce(s){return"string"==typeof s?s:null==s?"":String(s)}function oe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ce(s)}function Qe(s,o){const l=o?` in ${o}`:"";throw new se(-201,`No provider for ${oe(s)} found${l}`)}function Mt(s,o){null==s&&function jt(s,o,l,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${l} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function Dn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function _e(s){return{providers:s.providers||[],imports:s.imports||[]}}function Ve(s){return lt(s,ln)||lt(s,mn)}function lt(s,o){return s.hasOwnProperty(o)?s[o]:null}function Lt(s){return s&&(s.hasOwnProperty(yn)||s.hasOwnProperty($e))?s[yn]:null}const ln=Ce({\u0275prov:Ce}),yn=Ce({\u0275inj:Ce}),mn=Ce({ngInjectableDef:Ce}),$e=Ce({ngInjectorDef:Ce});var Tt=(()=>((Tt=Tt||{})[Tt.Default=0]="Default",Tt[Tt.Host=1]="Host",Tt[Tt.Self=2]="Self",Tt[Tt.SkipSelf=4]="SkipSelf",Tt[Tt.Optional=8]="Optional",Tt))();let tn;function Vt(s){const o=tn;return tn=s,o}function nr(s,o,l){const d=Ve(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:l&Tt.Optional?null:void 0!==o?o:void Qe(Me(s),"Injector")}function Rn(s){return{toString:s}.toString()}var Tn=(()=>((Tn=Tn||{})[Tn.OnPush=0]="OnPush",Tn[Tn.Default=1]="Default",Tn))(),dn=(()=>{return(s=dn||(dn={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",dn;var s})();const Yt="undefined"!=typeof globalThis&&globalThis,kt="undefined"!=typeof window&&window,$n="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,En=Yt||"undefined"!=typeof global&&global||kt||$n,In={},ue=[],ve=Ce({\u0275cmp:Ce}),B=Ce({\u0275dir:Ce}),J=Ce({\u0275pipe:Ce}),W=Ce({\u0275mod:Ce}),le=Ce({\u0275fac:Ce}),ae=Ce({__NG_ELEMENT_ID__:Ce});let ge=0;function Pe(s){return Rn(()=>{const l={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Tn.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||ue,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||dn.Emulated,id:"c",styles:s.styles||ue,_:null,setInput:null,schemas:s.schemas||null,tView:null},m=s.directives,y=s.features,w=s.pipes;return d.id+=ge++,d.inputs=he(s.inputs,l),d.outputs=he(s.outputs),y&&y.forEach(I=>I(d)),d.directiveDefs=m?()=>("function"==typeof m?m():m).map(pt):null,d.pipeDefs=w?()=>("function"==typeof w?w():w).map(ut):null,d})}function pt(s){return qt(s)||function an(s){return s[B]||null}(s)}function ut(s){return function Vn(s){return s[J]||null}(s)}const $t={};function Ie(s){return Rn(()=>{const o={type:s.type,bootstrap:s.bootstrap||ue,declarations:s.declarations||ue,imports:s.imports||ue,exports:s.exports||ue,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&($t[s.id]=s.type),o})}function pe(s,o){return Rn(()=>{const l=Bt(s,!0);l.declarations=o.declarations||ue,l.imports=o.imports||ue,l.exports=o.exports||ue})}function he(s,o){if(null==s)return In;const l={};for(const d in s)if(s.hasOwnProperty(d)){let m=s[d],y=m;Array.isArray(m)&&(y=m[1],m=m[0]),l[m]=d,o&&(o[m]=y)}return l}const et=Pe;function Et(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function qt(s){return s[ve]||null}function Bt(s,o){const l=s[W]||null;if(!l&&!0===o)throw new Error(`Type ${Me(s)} does not have '\u0275mod' property.`);return l}function fi(s){return Array.isArray(s)&&"object"==typeof s[1]}function hi(s){return Array.isArray(s)&&!0===s[1]}function ia(s){return 0!=(8&s.flags)}function Po(s){return 2==(2&s.flags)}function co(s){return 1==(1&s.flags)}function Ai(s){return null!==s.template}function hc(s){return 0!=(512&s[2])}function ki(s,o){return s.hasOwnProperty(le)?s[le]:null}class aa{constructor(o,l,d){this.previousValue=o,this.currentValue=l,this.firstChange=d}isFirstChange(){return this.firstChange}}function pi(){return ho}function ho(s){return s.type.prototype.ngOnChanges&&(s.setInput=Md),la}function la(){const s=zs(this),o=null==s?void 0:s.current;if(o){const l=s.previous;if(l===In)s.previous=o;else for(let d in o)l[d]=o[d];s.current=null,this.ngOnChanges(o)}}function Md(s,o,l,d){const m=zs(s)||function As(s,o){return s[Qi]=o}(s,{previous:In,current:null}),y=m.current||(m.current={}),w=m.previous,I=this.declaredInputs[l],M=w[I];y[I]=new aa(M&&M.currentValue,o,w===In),s[d]=o}pi.ngInherit=!0;const Qi="__ngSimpleChanges__";function zs(s){return s[Qi]||null}let Fo;function os(s){Fo=s}function po(){return void 0!==Fo?Fo:"undefined"!=typeof document?document:void 0}function gr(s){return!!s.listen}const Ji={createRenderer:(s,o)=>po()};function Qn(s){for(;Array.isArray(s);)s=s[0];return s}function go(s,o){return Qn(o[s])}function ni(s,o){return Qn(o[s.index])}function fa(s,o){return s.data[o]}function $(s,o){const l=o[s];return fi(l)?l:l[0]}function we(s){return 4==(4&s[2])}function Ge(s){return 128==(128&s[2])}function It(s,o){return null==o?null:s[o]}function fn(s){s[18]=0}function or(s,o){s[5]+=o;let l=s,d=s[3];for(;null!==d&&(1===o&&1===l[5]||-1===o&&0===l[5]);)d[5]+=o,l=d,d=d[3]}const Wt={lFrame:Il(null),bindingsEnabled:!0};function Zs(){return Wt.bindingsEnabled}function at(){return Wt.lFrame.lView}function Nn(){return Wt.lFrame.tView}function mo(s){return Wt.lFrame.contextLView=s,s[8]}function Ir(){let s=Rd();for(;null!==s&&64===s.type;)s=s.parent;return s}function Rd(){return Wt.lFrame.currentTNode}function $s(s,o){const l=Wt.lFrame;l.currentTNode=s,l.isParent=o}function mc(){return Wt.lFrame.isParent}function wl(){Wt.lFrame.isParent=!1}function ha(){return Wt.lFrame.bindingIndex++}function Ts(s){const o=Wt.lFrame,l=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,l}function bh(s,o){const l=Wt.lFrame;l.bindingIndex=l.bindingRootIndex=s,Dl(o)}function Dl(s){Wt.lFrame.currentDirectiveIndex=s}function fu(s){const o=Wt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function Od(){return Wt.lFrame.currentQueryIndex}function Fd(s){Wt.lFrame.currentQueryIndex=s}function Tl(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function hu(s,o,l){if(l&Tt.SkipSelf){let m=o,y=s;for(;!(m=m.parent,null!==m||l&Tt.Host||(m=Tl(y),null===m||(y=y[15],10&m.type))););if(null===m)return!1;o=m,s=y}const d=Wt.lFrame=Vo();return d.currentTNode=o,d.lView=s,!0}function Gr(s){const o=Vo(),l=s[1];Wt.lFrame=o,o.currentTNode=l.firstChild,o.lView=s,o.tView=l,o.contextLView=s,o.bindingIndex=l.bindingStartIndex,o.inI18n=!1}function Vo(){const s=Wt.lFrame,o=null===s?null:s.child;return null===o?Il(s):o}function Il(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Ld(){const s=Wt.lFrame;return Wt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const vc=Ld;function Is(){const s=Ld();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function ii(){return Wt.lFrame.selectedIndex}function Ks(s){Wt.lFrame.selectedIndex=s}function Vr(){const s=Wt.lFrame;return fa(s.tView,s.selectedIndex)}function wh(){Wt.lFrame.currentNamespace="svg"}function Ys(s,o){for(let l=o.directiveStart,d=o.directiveEnd;l<d;l++){const y=s.data[l].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:I,ngAfterViewInit:M,ngAfterViewChecked:L,ngOnDestroy:j}=y;w&&(s.contentHooks||(s.contentHooks=[])).push(-l,w),I&&((s.contentHooks||(s.contentHooks=[])).push(l,I),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,I)),M&&(s.viewHooks||(s.viewHooks=[])).push(-l,M),L&&((s.viewHooks||(s.viewHooks=[])).push(l,L),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,L)),null!=j&&(s.destroyHooks||(s.destroyHooks=[])).push(l,j)}}function Sl(s,o,l){Dh(s,o,3,l)}function pu(s,o,l,d){(3&s[2])===l&&Dh(s,o,l,d)}function yc(s,o){let l=s[2];(3&l)===o&&(l&=2047,l+=1,s[2]=l)}function Dh(s,o,l,d){const y=null!=d?d:-1,w=o.length-1;let I=0;for(let M=void 0!==d?65535&s[18]:0;M<w;M++)if("number"==typeof o[M+1]){if(I=o[M],null!=d&&I>=d)break}else o[M]<0&&(s[18]+=65536),(I<y||-1==y)&&(Th(s,l,o,M),s[18]=(4294901760&s[18])+M+2),M++}function Th(s,o,l,d){const m=l[d]<0,y=l[d+1],I=s[m?-l[d]:l[d]];if(m){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{y.call(I)}finally{}}}else try{y.call(I)}finally{}}class za{constructor(o,l,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=d}}function Ml(s,o,l){const d=gr(s);let m=0;for(;m<l.length;){const y=l[m];if("number"==typeof y){if(0!==y)break;m++;const w=l[m++],I=l[m++],M=l[m++];d?s.setAttribute(o,I,M,w):o.setAttributeNS(w,I,M)}else{const w=y,I=l[++m];_c(w)?d&&s.setProperty(o,w,I):d?s.setAttribute(o,w,I):o.setAttribute(w,I),m++}}return m}function mu(s){return 3===s||4===s||6===s}function _c(s){return 64===s.charCodeAt(0)}function pa(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let l=-1;for(let d=0;d<o.length;d++){const m=o[d];"number"==typeof m?l=m:0===l||yo(s,l,m,null,-1===l||2===l?o[++d]:null)}}return s}function yo(s,o,l,d,m){let y=0,w=s.length;if(-1===o)w=-1;else for(;y<s.length;){const I=s[y++];if("number"==typeof I){if(I===o){w=-1;break}if(I>o){w=y-1;break}}}for(;y<s.length;){const I=s[y];if("number"==typeof I)break;if(I===l){if(null===d)return void(null!==m&&(s[y+1]=m));if(d===s[y+1])return void(s[y+2]=m)}y++,null!==d&&y++,null!==m&&y++}-1!==w&&(s.splice(w,0,o),y=w+1),s.splice(y++,0,l),null!==d&&s.splice(y++,0,d),null!==m&&s.splice(y++,0,m)}function Wa(s){return-1!==s}function ur(s){return 32767&s}function hn(s,o){let l=function wi(s){return s>>16}(s),d=o;for(;l>0;)d=d[15],l--;return d}let Rl=!0;function ga(s){const o=Rl;return Rl=s,o}let Ud=0;function gi(s,o){const l=Bo(s,o);if(-1!==l)return l;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,ma(d.data,s),ma(o,null),ma(d.blueprint,null));const m=yu(s,o),y=s.injectorIndex;if(Wa(m)){const w=ur(m),I=hn(m,o),M=I[1].data;for(let L=0;L<8;L++)o[y+L]=I[w+L]|M[w+L]}return o[y+8]=m,y}function ma(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Bo(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function yu(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,d=null,m=o;for(;null!==m;){const y=m[1],w=y.type;if(d=2===w?y.declTNode:1===w?m[6]:null,null===d)return-1;if(l++,m=m[15],-1!==d.injectorIndex)return d.injectorIndex|l<<16}return-1}function Za(s,o,l){!function Ss(s,o,l){let d;"string"==typeof l?d=l.charCodeAt(0)||0:l.hasOwnProperty(ae)&&(d=l[ae]),null==d&&(d=l[ae]=Ud++);const m=255&d;o.data[s+(m>>5)]|=1<<m}(s,o,l)}function us(s,o,l){if(l&Tt.Optional)return s;Qe(o,"NodeInjector")}function Js(s,o,l,d){if(l&Tt.Optional&&void 0===d&&(d=null),0==(l&(Tt.Self|Tt.Host))){const m=s[9],y=Vt(void 0);try{return m?m.get(o,d,l&Tt.Optional):nr(o,d,l&Tt.Optional)}finally{Vt(y)}}return us(d,o,l)}function va(s,o,l,d=Tt.Default,m){if(null!==s){const y=function jd(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(ae)?s[ae]:void 0;return"number"==typeof o?o>=0?255&o:Uo:o}(l);if("function"==typeof y){if(!hu(o,s,d))return d&Tt.Host?us(m,l,d):Js(o,l,d,m);try{const w=y(d);if(null!=w||d&Tt.Optional)return w;Qe(l)}finally{vc()}}else if("number"==typeof y){let w=null,I=Bo(s,o),M=-1,L=d&Tt.Host?o[16][6]:null;for((-1===I||d&Tt.SkipSelf)&&(M=-1===I?yu(s,o):o[I+8],-1!==M&&bu(d,!1)?(w=o[1],I=ur(M),o=hn(M,o)):I=-1);-1!==I;){const j=o[1];if(Ho(y,I,j.data)){const te=Mh(I,o,l,w,d,L);if(te!==Qr)return te}M=o[I+8],-1!==M&&bu(d,o[1].data[I+8]===L)&&Ho(y,I,o)?(w=j,I=ur(M),o=hn(M,o)):I=-1}}}return Js(o,l,d,m)}const Qr={};function Uo(){return new si(Ir(),at())}function Mh(s,o,l,d,m,y){const w=o[1],I=w.data[s+8],j=_u(I,w,l,null==d?Po(I)&&Rl:d!=w&&0!=(3&I.type),m&Tt.Host&&y===I);return null!==j?ya(o,w,j,I):Qr}function _u(s,o,l,d,m){const y=s.providerIndexes,w=o.data,I=1048575&y,M=s.directiveStart,j=y>>20,be=m?I+j:s.directiveEnd;for(let Fe=d?I:I+j;Fe<be;Fe++){const it=w[Fe];if(Fe<M&&l===it||Fe>=M&&it.type===l)return Fe}if(m){const Fe=w[M];if(Fe&&Ai(Fe)&&Fe.type===l)return M}return null}function ya(s,o,l,d){let m=s[l];const y=o.data;if(function Ih(s){return s instanceof za}(m)){const w=m;w.resolving&&function je(s,o){const l=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new se(-200,`Circular dependency in DI detected for ${s}${l}`)}(oe(y[l]));const I=ga(w.canSeeViewProviders);w.resolving=!0;const M=w.injectImpl?Vt(w.injectImpl):null;hu(s,d,Tt.Default);try{m=s[l]=w.factory(void 0,y,s,d),o.firstCreatePass&&l>=d.directiveStart&&function Bd(s,o,l){const{ngOnChanges:d,ngOnInit:m,ngDoCheck:y}=o.type.prototype;if(d){const w=ho(o);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,w),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,w)}m&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,m),y&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,y),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,y))}(l,y[l],o)}finally{null!==M&&Vt(M),ga(I),w.resolving=!1,vc()}}return m}function Ho(s,o,l){return!!(l[o+(s>>5)]&1<<s)}function bu(s,o){return!(s&Tt.Self||s&Tt.Host&&o)}class si{constructor(o,l){this._tNode=o,this._lView=l}get(o,l,d){return va(this._tNode,this._lView,o,d,l)}}function bc(s){return Rn(()=>{const o=s.prototype.constructor,l=o[le]||jo(o),d=Object.prototype;let m=Object.getPrototypeOf(s.prototype).constructor;for(;m&&m!==d;){const y=m[le]||jo(m);if(y&&y!==l)return y;m=Object.getPrototypeOf(m)}return y=>new y})}function jo(s){return F(s)?()=>{const o=jo(T(s));return o&&o()}:ki(s)}function _r(s){return function Hd(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const l=s.attrs;if(l){const d=l.length;let m=0;for(;m<d;){const y=l[m];if(mu(y))break;if(0===y)m+=2;else if("number"==typeof y)for(m++;m<d&&"string"==typeof l[m];)m++;else{if(y===o)return l[m+1];m+=2}}}return null}(Ir(),s)}const _a="__parameters__";function $a(s,o,l){return Rn(()=>{const d=function Xs(s){return function(...l){if(s){const d=s(...l);for(const m in d)this[m]=d[m]}}}(o);function m(...y){if(this instanceof m)return d.apply(this,y),this;const w=new m(...y);return I.annotation=w,I;function I(M,L,j){const te=M.hasOwnProperty(_a)?M[_a]:Object.defineProperty(M,_a,{value:[]})[_a];for(;te.length<=j;)te.push(null);return(te[j]=te[j]||[]).push(w),M}}return l&&(m.prototype=Object.create(l.prototype)),m.prototype.ngMetadataName=s,m.annotationCls=m,m})}class sr{constructor(o,l){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=Dn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const zd=new sr("AnalyzeForEntryComponents");function Ni(s,o){void 0===o&&(o=s);for(let l=0;l<s.length;l++){let d=s[l];Array.isArray(d)?(o===s&&(o=s.slice(0,l)),Ni(d,o)):o!==s&&o.push(d)}return o}function ai(s,o){s.forEach(l=>Array.isArray(l)?ai(l,o):o(l))}function $d(s,o,l){o>=s.length?s.push(l):s.splice(o,0,l)}function Eo(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Xi(s,o,l){let d=Ka(s,o);return d>=0?s[1|d]=l:(d=~d,function kh(s,o,l,d){let m=s.length;if(m==o)s.push(l,d);else if(1===m)s.push(d,s[0]),s[0]=l;else{for(m--,s.push(s[m-1],s[m]);m>o;)s[m]=s[m-2],m--;s[o]=l,s[o+1]=d}}(s,d,o,l)),d}function Dc(s,o){const l=Ka(s,o);if(l>=0)return s[1|l]}function Ka(s,o){return function Cu(s,o,l){let d=0,m=s.length>>l;for(;m!==d;){const y=d+(m-d>>1),w=s[y<<l];if(o===w)return y<<l;w>o?m=y:d=y+1}return~(m<<l)}(s,o,1)}const eo={},Ja="__NG_DI_FLAG__",Iu="ngTempTokenPath",Mc=/\n/gm,Yd="__source",Hg=Ce({provide:String,useValue:Ce});let Ea;function kc(s){const o=Ea;return Ea=s,o}function jg(s,o=Tt.Default){if(void 0===Ea)throw new se(203,"");return null===Ea?nr(s,void 0,o):Ea.get(s,o&Tt.Optional?null:void 0,o)}function Nr(s,o=Tt.Default){return(function vt(){return tn}()||jg)(T(s),o)}const Jd=Nr;function Aa(s){const o=[];for(let l=0;l<s.length;l++){const d=T(s[l]);if(Array.isArray(d)){if(0===d.length)throw new se(900,"");let m,y=Tt.Default;for(let w=0;w<d.length;w++){const I=d[w],M=Xd(I);"number"==typeof M?-1===M?m=I.token:y|=M:m=I}o.push(Nr(m,y))}else o.push(Nr(d))}return o}function wa(s,o){return s[Ja]=o,s.prototype[Ja]=o,s}function Xd(s){return s[Ja]}const Co=wa($a("Inject",s=>({token:s})),-1),cs=wa($a("Optional"),8),tl=wa($a("SkipSelf"),4);let sl,Nu;function Ll(s){var o;return(null===(o=function ku(){if(void 0===sl&&(sl=null,En.trustedTypes))try{sl=En.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return sl}())||void 0===o?void 0:o.createHTML(s))||s}function tf(s){var o;return(null===(o=function ol(){if(void 0===Nu&&(Nu=null,En.trustedTypes))try{Nu=En.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Nu}())||void 0===o?void 0:o.createHTML(s))||s}class Wo{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Lh extends Wo{getTypeName(){return"HTML"}}class Vl extends Wo{getTypeName(){return"Style"}}class Pc extends Wo{getTypeName(){return"Script"}}class nf extends Wo{getTypeName(){return"URL"}}class Ou extends Wo{getTypeName(){return"ResourceURL"}}function to(s){return s instanceof Wo?s.changingThisBreaksApplicationSecurity:s}function Rs(s,o){const l=Fu(s);if(null!=l&&l!==o){if("ResourceURL"===l&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===o}function Fu(s){return s instanceof Wo&&s.getTypeName()||null}function Bl(s){return new Lh(s)}function Lu(s){return new Vl(s)}function Oc(s){return new Pc(s)}function rf(s){return new nf(s)}function Vu(s){return new Ou(s)}class Vh{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const l=(new window.DOMParser).parseFromString(Ll(o),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(o):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class Fc{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const d=this.inertDocument.createElement("body");l.appendChild(d)}}getInertBodyElement(o){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=Ll(o),l;const d=this.inertDocument.createElement("body");return d.innerHTML=Ll(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const l=o.attributes;for(let m=l.length-1;0<m;m--){const w=l.item(m).name;("xmlns:ns1"===w||0===w.indexOf("ns1:"))&&o.removeAttribute(w)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Lc=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,_=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function E(s){return(s=String(s)).match(Lc)||s.match(_)?s:"unsafe:"+s}function U(s){const o={};for(const l of s.split(","))o[l]=!0;return o}function Q(...s){const o={};for(const l of s)for(const d in l)l.hasOwnProperty(d)&&(o[d]=!0);return o}const Le=U("area,br,col,hr,img,wbr"),ht=U("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Zt=U("rp,rt"),Pi=Q(Le,Q(ht,U("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Q(Zt,U("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Q(Zt,ht)),ks=U("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Zo=U("srcset"),Do=Q(ks,Zo,U("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),U("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),of=U("script,style,template");class Bu{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let l=o.firstChild,d=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?d=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,d&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let m=this.checkClobberedElement(l,l.nextSibling);if(m){l=m;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(o){const l=o.nodeName.toLowerCase();if(!Pi.hasOwnProperty(l))return this.sanitizedSomething=!0,!of.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const d=o.attributes;for(let m=0;m<d.length;m++){const y=d.item(m),w=y.name,I=w.toLowerCase();if(!Do.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let M=y.value;ks[I]&&(M=E(M)),Zo[I]&&(s=M,M=(s=String(s)).split(",").map(o=>E(o.trim())).join(", ")),this.buf.push(" ",w,'="',Uu(M),'"')}var s;return this.buf.push(">"),!0}endElement(o){const l=o.nodeName.toLowerCase();Pi.hasOwnProperty(l)&&!Le.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(o){this.buf.push(Uu(o))}checkClobberedElement(o,l){if(l&&(o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return l}}const af=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Hl=/([^\#-~ |!])/g;function Uu(s){return s.replace(/&/g,"&amp;").replace(af,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(Hl,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let jl;function Gl(s,o){let l=null;try{jl=jl||function Ul(s){const o=new Fc(s);return function Bh(){try{return!!(new window.DOMParser).parseFromString(Ll(""),"text/html")}catch(s){return!1}}()?new Vh(o):o}(s);let d=o?String(o):"";l=jl.getInertBodyElement(d);let m=5,y=d;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,d=y,y=l.innerHTML,l=jl.getInertBodyElement(d)}while(d!==y);return Ll((new Bu).sanitizeChildren(Ta(l)||l))}finally{if(l){const d=Ta(l)||l;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function Ta(s){return"content"in s&&function Uh(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Hr=(()=>((Hr=Hr||{})[Hr.NONE=0]="NONE",Hr[Hr.HTML=1]="HTML",Hr[Hr.STYLE=2]="STYLE",Hr[Hr.SCRIPT=3]="SCRIPT",Hr[Hr.URL=4]="URL",Hr[Hr.RESOURCE_URL=5]="RESOURCE_URL",Hr))();function Hh(s){const o=Uc();return o?tf(o.sanitize(Hr.HTML,s)||""):Rs(s,"HTML")?tf(to(s)):Gl(po(),ce(s))}function Bc(s){const o=Uc();return o?o.sanitize(Hr.URL,s)||"":Rs(s,"URL")?to(s):E(ce(s))}function Uc(){const s=at();return s&&s[12]}const uf="__ngContext__";function Ci(s,o){s[uf]=o}function qh(s){const o=function Ns(s){return s[uf]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function df(s){return s.ngOriginalError}function Yg(s,...o){s.error(...o)}class Hu{constructor(){this._console=console}handleError(o){const l=this._findOriginalError(o),d=function Hc(s){return s&&s.ngErrorLogger||Yg}(o);d(this._console,"ERROR",o),l&&d(this._console,"ORIGINAL ERROR",l)}_findOriginalError(o){let l=o&&df(o);for(;l&&df(l);)l=df(l);return l||null}}const Ry=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(En))();function f(s){return s.ownerDocument}function A(s){return s instanceof Function?s():s}var X=(()=>((X=X||{})[X.Important=1]="Important",X[X.DashCase=2]="DashCase",X))();function Ue(s,o){return undefined(s,o)}function wt(s){const o=s[3];return hi(o)?o[3]:o}function Pt(s){return Mr(s[13])}function rr(s){return Mr(s[4])}function Mr(s){for(;null!==s&&!hi(s);)s=s[4];return s}function qr(s,o,l,d,m){if(null!=d){let y,w=!1;hi(d)?y=d:fi(d)&&(w=!0,d=d[0]);const I=Qn(d);0===s&&null!==l?null==m?Tb(o,l,I):pf(o,l,I,m||null,!0):1===s&&null!==l?pf(o,l,I,m||null,!0):2===s?function ep(s,o,l){const d=Qh(s,o);d&&function Ib(s,o,l,d){gr(s)?s.removeChild(o,l,d):o.removeChild(l)}(s,d,o,l)}(o,I,w):3===s&&o.destroyNode(I),null!=y&&function Gc(s,o,l,d,m){const y=l[7];y!==Qn(l)&&qr(o,s,d,y,m);for(let I=10;I<l.length;I++){const M=l[I];zu(M[1],M,s,o,d,y)}}(o,s,y,l,m)}}function Os(s,o,l){if(gr(s))return s.createElement(o,l);{const d=null!==l?function ca(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(l):null;return null===d?s.createElement(o):s.createElementNS(d,o)}}function em(s,o){const l=s[9],d=l.indexOf(o),m=o[3];1024&o[2]&&(o[2]&=-1025,or(m,-1)),l.splice(d,1)}function Yh(s,o){if(s.length<=10)return;const l=10+o,d=s[l];if(d){const m=d[17];null!==m&&m!==s&&em(m,d),o>0&&(s[l-1][4]=d[4]);const y=Eo(s,10+o);!function no(s,o){zu(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const w=y[19];null!==w&&w.detachView(y[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function ro(s,o){if(!(256&o[2])){const l=o[11];gr(l)&&l.destroyNode&&zu(s,o,l,3,null,null),function Ia(s){let o=s[13];if(!o)return tm(s[1],s);for(;o;){let l=null;if(fi(o))l=o[13];else{const d=o[10];d&&(l=d)}if(!l){for(;o&&!o[4]&&o!==s;)fi(o)&&tm(o[1],o),o=o[3];null===o&&(o=s),fi(o)&&tm(o[1],o),l=o&&o[4]}o=l}}(o)}}function tm(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function Db(s,o){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let d=0;d<l.length;d+=2){const m=o[l[d]];if(!(m instanceof za)){const y=l[d+1];if(Array.isArray(y))for(let w=0;w<y.length;w+=2){const I=m[y[w]],M=y[w+1];try{M.call(I)}finally{}}else try{y.call(m)}finally{}}}}(s,o),function ky(s,o){const l=s.cleanup,d=o[7];let m=-1;if(null!==l)for(let y=0;y<l.length-1;y+=2)if("string"==typeof l[y]){const w=l[y+1],I="function"==typeof w?w(o):Qn(o[w]),M=d[m=l[y+2]],L=l[y+3];"boolean"==typeof L?I.removeEventListener(l[y],M,L):L>=0?d[m=L]():d[m=-L].unsubscribe(),y+=2}else{const w=d[m=l[y+1]];l[y].call(w)}if(null!==d){for(let y=m+1;y<d.length;y++)d[y]();o[7]=null}}(s,o),1===o[1].type&&gr(o[11])&&o[11].destroy();const l=o[17];if(null!==l&&hi(o[3])){l!==o[3]&&em(l,o);const d=o[19];null!==d&&d.detachView(s)}}}function Ny(s,o,l){return function nm(s,o,l){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return l[0];if(2&d.flags){const m=s.data[d.directiveStart].encapsulation;if(m===dn.None||m===dn.Emulated)return null}return ni(d,l)}(s,o.parent,l)}function pf(s,o,l,d,m){gr(s)?s.insertBefore(o,l,d,m):o.insertBefore(l,d,m)}function Tb(s,o,l){gr(s)?s.appendChild(o,l):o.appendChild(l)}function Gu(s,o,l,d,m){null!==d?pf(s,o,l,d,m):Tb(s,o,l)}function Qh(s,o){return gr(s)?s.parentNode(o):o.parentNode}let $C=function Oy(s,o,l){return 40&s.type?ni(s,l):null};function sm(s,o,l,d){const m=Ny(s,d,o),y=o[11],I=function Py(s,o,l){return $C(s,o,l)}(d.parent||o[6],d,o);if(null!=m)if(Array.isArray(l))for(let M=0;M<l.length;M++)Gu(y,m,l[M],I,!1);else Gu(y,m,l,I,!1)}function Jh(s,o){if(null!==o){const l=o.type;if(3&l)return ni(o,s);if(4&l)return Xh(-1,s[o.index]);if(8&l){const d=o.child;if(null!==d)return Jh(s,d);{const m=s[o.index];return hi(m)?Xh(-1,m):Qn(m)}}if(32&l)return Ue(o,s)()||Qn(s[o.index]);{const d=Sb(s,o);return null!==d?Array.isArray(d)?d[0]:Jh(wt(s[16]),d):Jh(s,o.next)}}return null}function Sb(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Xh(s,o){const l=10+s+1;if(l<o.length){const d=o[l],m=d[1].firstChild;if(null!==m)return Jh(d,m)}return o[7]}function gf(s,o,l,d,m,y,w){for(;null!=l;){const I=d[l.index],M=l.type;if(w&&0===o&&(I&&Ci(Qn(I),d),l.flags|=4),64!=(64&l.flags))if(8&M)gf(s,o,l.child,d,m,y,!1),qr(o,s,m,I,y);else if(32&M){const L=Ue(l,d);let j;for(;j=L();)qr(o,s,m,j,y);qr(o,s,m,I,y)}else 16&M?om(s,o,d,l,m,y):qr(o,s,m,I,y);l=w?l.projectionNext:l.next}}function zu(s,o,l,d,m,y){gf(l,d,s.firstChild,o,m,y,!1)}function om(s,o,l,d,m,y){const w=l[16],M=w[6].projection[d.projection];if(Array.isArray(M))for(let L=0;L<M.length;L++)qr(o,s,m,M[L],y);else gf(s,o,M,w[3],m,y,!0)}function tp(s,o,l){gr(s)?s.setAttribute(o,"style",l):o.style.cssText=l}function Ly(s,o,l){gr(s)?""===l?s.removeAttribute(o,"class"):s.setAttribute(o,"class",l):o.className=l}function zc(s,o,l){let d=s.length;for(;;){const m=s.indexOf(o,l);if(-1===m)return m;if(0===m||s.charCodeAt(m-1)<=32){const y=o.length;if(m+y===d||s.charCodeAt(m+y)<=32)return m}l=m+1}}const ql="ng-template";function Mb(s,o,l){let d=0;for(;d<s.length;){let m=s[d++];if(l&&"class"===m){if(m=s[d],-1!==zc(m.toLowerCase(),o,0))return!0}else if(1===m){for(;d<s.length&&"string"==typeof(m=s[d++]);)if(m.toLowerCase()===o)return!0;return!1}}return!1}function Vy(s){return 4===s.type&&s.value!==ql}function al(s,o,l){return o===(4!==s.type||l?s.value:ql)}function qc(s,o,l){let d=4;const m=s.attrs||[],y=function lm(s){for(let o=0;o<s.length;o++)if(mu(s[o]))return o;return s.length}(m);let w=!1;for(let I=0;I<o.length;I++){const M=o[I];if("number"!=typeof M){if(!w)if(4&d){if(d=2|1&d,""!==M&&!al(s,M,l)||""===M&&1===o.length){if(Fs(d))return!1;w=!0}}else{const L=8&d?M:o[++I];if(8&d&&null!==s.attrs){if(!Mb(s.attrs,L,l)){if(Fs(d))return!1;w=!0}continue}const te=YC(8&d?"class":M,m,Vy(s),l);if(-1===te){if(Fs(d))return!1;w=!0;continue}if(""!==L){let be;be=te>y?"":m[te+1].toLowerCase();const Fe=8&d?be:null;if(Fe&&-1!==zc(Fe,L,0)||2&d&&L!==be){if(Fs(d))return!1;w=!0}}}}else{if(!w&&!Fs(d)&&!Fs(M))return!1;if(w&&Fs(M))continue;w=!1,d=M|1&d}}return Fs(d)||w}function Fs(s){return 0==(1&s)}function YC(s,o,l,d){if(null===o)return-1;let m=0;if(d||!l){let y=!1;for(;m<o.length;){const w=o[m];if(w===s)return m;if(3===w||6===w)y=!0;else{if(1===w||2===w){let I=o[++m];for(;"string"==typeof I;)I=o[++m];continue}if(4===w)break;if(0===w){m+=4;continue}}m+=y?1:2}return-1}return function um(s,o){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const d=s[l];if("number"==typeof d)return-1;if(d===o)return l;l++}return-1}(o,s)}function am(s,o,l=!1){for(let d=0;d<o.length;d++)if(qc(s,o[d],l))return!0;return!1}function cm(s,o){return s?":not("+o.trim()+")":o}function JC(s){let o=s[0],l=1,d=2,m="",y=!1;for(;l<s.length;){let w=s[l];if("string"==typeof w)if(2&d){const I=s[++l];m+="["+w+(I.length>0?'="'+I+'"':"")+"]"}else 8&d?m+="."+w:4&d&&(m+=" "+w);else""!==m&&!Fs(w)&&(o+=cm(y,m),m=""),d=w,y=y||!Fs(d);l++}return""!==m&&(o+=cm(y,m)),o}const pn={};function By(s){np(Nn(),at(),ii()+s,!1)}function np(s,o,l,d){if(!d)if(3==(3&o[2])){const y=s.preOrderCheckHooks;null!==y&&Sl(o,y,l)}else{const y=s.preOrderHooks;null!==y&&pu(o,y,0,l)}Ks(l)}function dm(s,o){return s<<17|o<<2}function Sa(s){return s>>17&32767}function Nb(s){return 2|s}function $o(s){return(131068&s)>>2}function Uy(s,o){return-131069&s|o<<2}function Hy(s){return 1|s}function Gb(s,o){const l=s.contentQueries;if(null!==l)for(let d=0;d<l.length;d+=2){const m=l[d],y=l[d+1];if(-1!==y){const w=s.data[y];Fd(m),w.contentQueries(2,o[y],y)}}}function up(s,o,l,d,m,y,w,I,M,L){const j=o.blueprint.slice();return j[0]=m,j[2]=140|d,fn(j),j[3]=j[15]=s,j[8]=l,j[10]=w||s&&s[10],j[11]=I||s&&s[11],j[12]=M||s&&s[12]||null,j[9]=L||s&&s[9]||null,j[6]=y,j[16]=2==o.type?s[16]:j,j}function Zc(s,o,l,d,m){let y=s.data[o];if(null===y)y=function Qy(s,o,l,d,m){const y=Rd(),w=mc(),M=s.data[o]=function dD(s,o,l,d,m,y){return{type:l,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?y:y&&y.parent,l,o,d,m);return null===s.firstChild&&(s.firstChild=M),null!==y&&(w?null==y.child&&null!==M.parent&&(y.child=M):null===y.next&&(y.next=M)),M}(s,o,l,d,m),function _h(){return Wt.lFrame.inI18n}()&&(y.flags|=64);else if(64&y.type){y.type=l,y.value=d,y.attrs=m;const w=function Lo(){const s=Wt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();y.injectorIndex=null===w?-1:w.injectorIndex}return $s(y,!0),y}function qu(s,o,l,d){if(0===l)return-1;const m=o.length;for(let y=0;y<l;y++)o.push(d),s.blueprint.push(d),s.data.push(null);return m}function cp(s,o,l){Gr(o);try{const d=s.viewQuery;null!==d&&s_(1,d,l);const m=s.template;null!==m&&qb(s,o,m,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Gb(s,o),s.staticViewQueries&&s_(2,s.viewQuery,l);const y=s.components;null!==y&&function uD(s,o){for(let l=0;l<o.length;l++)rE(s,o[l])}(o,y)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,Is()}}function vf(s,o,l,d){const m=o[2];if(256!=(256&m)){Gr(o);try{fn(o),function Ga(s){return Wt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&qb(s,o,l,2,d);const w=3==(3&m);if(w){const L=s.preOrderCheckHooks;null!==L&&Sl(o,L,null)}else{const L=s.preOrderHooks;null!==L&&pu(o,L,0,null),yc(o,0)}if(function ED(s){for(let o=Pt(s);null!==o;o=rr(o)){if(!o[2])continue;const l=o[9];for(let d=0;d<l.length;d++){const m=l[d],y=m[3];0==(1024&m[2])&&or(y,1),m[2]|=1024}}}(o),function bD(s){for(let o=Pt(s);null!==o;o=rr(o))for(let l=10;l<o.length;l++){const d=o[l],m=d[1];Ge(d)&&vf(m,d,m.template,d[8])}}(o),null!==s.contentQueries&&Gb(s,o),w){const L=s.contentCheckHooks;null!==L&&Sl(o,L)}else{const L=s.contentHooks;null!==L&&pu(o,L,1),yc(o,1)}!function lD(s,o){const l=s.hostBindingOpCodes;if(null!==l)try{for(let d=0;d<l.length;d++){const m=l[d];if(m<0)Ks(~m);else{const y=m,w=l[++d],I=l[++d];bh(w,y),I(2,o[y])}}}finally{Ks(-1)}}(s,o);const I=s.components;null!==I&&function zb(s,o){for(let l=0;l<o.length;l++)AD(s,o[l])}(o,I);const M=s.viewQuery;if(null!==M&&s_(2,M,d),w){const L=s.viewCheckHooks;null!==L&&Sl(o,L)}else{const L=s.viewHooks;null!==L&&pu(o,L,2),yc(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-73,1024&o[2]&&(o[2]&=-1025,or(o[3],-1))}finally{Is()}}}function cD(s,o,l,d){const m=o[10],w=we(o);try{!w&&m.begin&&m.begin(),w&&cp(s,o,d),vf(s,o,l,d)}finally{!w&&m.end&&m.end()}}function qb(s,o,l,d,m){const y=ii(),w=2&d;try{Ks(-1),w&&o.length>20&&np(s,o,20,!1),l(d,m)}finally{Ks(y)}}function Jy(s,o,l){if(ia(o)){const m=o.directiveEnd;for(let y=o.directiveStart;y<m;y++){const w=s.data[y];w.contentQueries&&w.contentQueries(1,l[y],y)}}}function Xy(s,o,l){!Zs()||(function mD(s,o,l,d){const m=l.directiveStart,y=l.directiveEnd;s.firstCreatePass||gi(l,o),Ci(d,o);const w=l.initialInputs;for(let I=m;I<y;I++){const M=s.data[I],L=Ai(M);L&&_m(o,l,M);const j=ya(o,s,I,l);Ci(j,o),null!==w&&tE(0,I-m,j,M,0,w),L&&($(l.index,o)[8]=j)}}(s,o,l,ni(l,o)),128==(128&l.flags)&&function t_(s,o,l){const d=l.directiveStart,m=l.directiveEnd,w=l.index,I=function du(){return Wt.lFrame.currentDirectiveIndex}();try{Ks(w);for(let M=d;M<m;M++){const L=s.data[M],j=o[M];Dl(M),(null!==L.hostBindings||0!==L.hostVars||null!==L.hostAttrs)&&Qb(L,j)}}finally{Ks(-1),Dl(I)}}(s,o,l))}function io(s,o,l=ni){const d=o.localNames;if(null!==d){let m=o.index+1;for(let y=0;y<d.length;y+=2){const w=d[y+1],I=-1===w?l(o,s):s[w];s[m++]=I}}}function mm(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Wu(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Wu(s,o,l,d,m,y,w,I,M,L){const j=20+d,te=j+m,be=function e_(s,o){const l=[];for(let d=0;d<o;d++)l.push(d<s?null:pn);return l}(j,te),Fe="function"==typeof L?L():L;return be[1]={type:s,blueprint:be,template:l,queries:null,viewQuery:I,declTNode:o,data:be.slice().fill(null,j),bindingStartIndex:j,expandoStartIndex:te,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:M,consts:Fe,incompleteFirstPass:!1}}function Zb(s,o,l,d){const m=wm(o);null===l?m.push(d):(m.push(l),s.firstCreatePass&&pp(s).push(d,m.length-1))}function dp(s,o,l){for(let d in s)if(s.hasOwnProperty(d)){const m=s[d];(l=null===l?{}:l).hasOwnProperty(d)?l[d].push(o,m):l[d]=[o,m]}return l}function so(s,o,l,d,m,y,w,I){const M=ni(o,l);let j,L=o.inputs;!I&&null!=L&&(j=L[d])?(mp(s,l,j,d,m),Po(o)&&function Kb(s,o){const l=$(o,s);16&l[2]||(l[2]|=64)}(l,o.index)):3&o.type&&(d=function $b(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),m=null!=w?w(m,o.value||"",d):m,gr(y)?y.setProperty(M,d,m):_c(d)||(M.setProperty?M.setProperty(d,m):M[d]=m))}function ym(s,o,l,d){let m=!1;if(Zs()){const y=function Jb(s,o,l){const d=s.directiveRegistry;let m=null;if(d)for(let y=0;y<d.length;y++){const w=d[y];am(l,w.selectors,!1)&&(m||(m=[]),Za(gi(l,o),s,w.type),Ai(w)?(Xb(s,l),m.unshift(w)):m.push(w))}return m}(s,o,l),w=null===d?null:{"":-1};if(null!==y){m=!0,eE(l,s.data.length,y.length);for(let j=0;j<y.length;j++){const te=y[j];te.providersResolver&&te.providersResolver(te)}let I=!1,M=!1,L=qu(s,o,y.length,null);for(let j=0;j<y.length;j++){const te=y[j];l.mergedAttrs=pa(l.mergedAttrs,te.hostAttrs),n_(s,l,o,L,te),yD(L,te,w),null!==te.contentQueries&&(l.flags|=8),(null!==te.hostBindings||null!==te.hostAttrs||0!==te.hostVars)&&(l.flags|=128);const be=te.type.prototype;!I&&(be.ngOnChanges||be.ngOnInit||be.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),I=!0),!M&&(be.ngOnChanges||be.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),M=!0),L++}!function fD(s,o){const d=o.directiveEnd,m=s.data,y=o.attrs,w=[];let I=null,M=null;for(let L=o.directiveStart;L<d;L++){const j=m[L],te=j.inputs,be=null===y||Vy(o)?null:_D(te,y);w.push(be),I=dp(te,L,I),M=dp(j.outputs,L,M)}null!==I&&(I.hasOwnProperty("class")&&(o.flags|=16),I.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=w,o.inputs=I,o.outputs=M}(s,l)}w&&function vD(s,o,l){if(o){const d=s.localNames=[];for(let m=0;m<o.length;m+=2){const y=l[o[m+1]];if(null==y)throw new se(-301,!1);d.push(o[m],y)}}}(l,d,w)}return l.mergedAttrs=pa(l.mergedAttrs,l.attrs),m}function hp(s,o,l,d,m,y){const w=y.hostBindings;if(w){let I=s.hostBindingOpCodes;null===I&&(I=s.hostBindingOpCodes=[]);const M=~o.index;(function gD(s){let o=s.length;for(;o>0;){const l=s[--o];if("number"==typeof l&&l<0)return l}return 0})(I)!=M&&I.push(M),I.push(d,m,w)}}function Qb(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Xb(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function yD(s,o,l){if(l){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)l[o.exportAs[d]]=s;Ai(o)&&(l[""]=s)}}function eE(s,o,l){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+l,s.providerIndexes=o}function n_(s,o,l,d,m){s.data[d]=m;const y=m.factory||(m.factory=ki(m.type)),w=new za(y,Ai(m),null);s.blueprint[d]=w,l[d]=w,hp(s,o,0,d,qu(s,l,m.hostVars,pn),m)}function _m(s,o,l){const d=ni(o,s),m=mm(l),y=s[10],w=Em(s,up(s,m,null,l.onPush?64:16,d,o,y,y.createRenderer(d,l),null,null));s[o.index]=w}function xa(s,o,l,d,m,y){const w=ni(s,o);!function r_(s,o,l,d,m,y,w){if(null==y)gr(s)?s.removeAttribute(o,m,l):o.removeAttribute(m);else{const I=null==w?ce(y):w(y,d||"",m);gr(s)?s.setAttribute(o,m,I,l):l?o.setAttributeNS(l,m,I):o.setAttribute(m,I)}}(o[11],w,y,s.value,l,d,m)}function tE(s,o,l,d,m,y){const w=y[o];if(null!==w){const I=d.setInput;for(let M=0;M<w.length;){const L=w[M++],j=w[M++],te=w[M++];null!==I?d.setInput(l,te,L,j):l[j]=te}}}function _D(s,o){let l=null,d=0;for(;d<o.length;){const m=o[d];if(0!==m)if(5!==m){if("number"==typeof m)break;s.hasOwnProperty(m)&&(null===l&&(l=[]),l.push(m,s[m],o[d+1])),d+=2}else d+=2;else d+=4}return l}function nE(s,o,l,d){return new Array(s,!0,!1,o,null,0,d,l,null,null)}function AD(s,o){const l=$(o,s);if(Ge(l)){const d=l[1];80&l[2]?vf(d,l,d.template,l[8]):l[5]>0&&bm(l)}}function bm(s){for(let d=Pt(s);null!==d;d=rr(d))for(let m=10;m<d.length;m++){const y=d[m];if(1024&y[2]){const w=y[1];vf(w,y,w.template,y[8])}else y[5]>0&&bm(y)}const l=s[1].components;if(null!==l)for(let d=0;d<l.length;d++){const m=$(l[d],s);Ge(m)&&m[5]>0&&bm(m)}}function rE(s,o){const l=$(o,s),d=l[1];(function iE(s,o){for(let l=o.length;l<s.blueprint.length;l++)o.push(s.blueprint[l])})(d,l),cp(d,l,l[8])}function Em(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function i_(s){for(;s;){s[2]|=64;const o=wt(s);if(hc(s)&&!o)return s;s=o}return null}function Yo(s){!function wn(s){for(let o=0;o<s.components.length;o++){const l=s.components[o],d=qh(l),m=d[1];cD(m,d,m.template,l)}}(s[8])}function s_(s,o,l){Fd(0),o(s,l)}const sE=(()=>Promise.resolve(null))();function wm(s){return s[7]||(s[7]=[])}function pp(s){return s.cleanup||(s.cleanup=[])}function gp(s,o){const l=s[9],d=l?l.get(Hu,null):null;d&&d.handleError(o)}function mp(s,o,l,d,m){for(let y=0;y<l.length;){const w=l[y++],I=l[y++],M=o[w],L=s.data[w];null!==L.setInput?L.setInput(M,m,d,I):M[I]=m}}function Zl(s,o,l){const d=go(o,s);!function ds(s,o,l){gr(s)?s.setValue(o,l):o.textContent=l}(s[11],d,l)}function yf(s,o,l){let d=l?s.styles:null,m=l?s.classes:null,y=0;if(null!==o)for(let w=0;w<o.length;w++){const I=o[w];"number"==typeof I?y=I:1==y?m=De(m,I):2==y&&(d=De(d,I+": "+o[++w]+";"))}l?s.styles=d:s.stylesWithoutHost=d,l?s.classes=m:s.classesWithoutHost=m}const fs=new sr("INJECTOR",-1);class o_{get(o,l=eo){if(l===eo){const d=new Error(`NullInjectorError: No provider for ${Me(o)}!`);throw d.name="NullInjectorError",d}return l}}const a_=new sr("Set Injector scope."),Di={},l_={};let bf;function lE(){return void 0===bf&&(bf=new o_),bf}function Ef(s,o=null,l=null,d){const m=Qo(s,o,l,d);return m._resolveInjectorDefTypes(),m}function Qo(s,o=null,l=null,d){return new Zu(s,l,o||lE(),d)}class Zu{constructor(o,l,d,m=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const y=[];l&&ai(l,I=>this.processProvider(I,o,l)),ai([o],I=>this.processInjectorType(I,[],y)),this.records.set(fs,wf(void 0,this));const w=this.records.get(a_);this.scope=null!=w?w.value:null,this.source=m||("object"==typeof o?null:Me(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,l=eo,d=Tt.Default){this.assertNotDestroyed();const m=kc(this),y=Vt(void 0);try{if(!(d&Tt.SkipSelf)){let I=this.records.get(o);if(void 0===I){const M=function Cf(s){return"function"==typeof s||"object"==typeof s&&s instanceof sr}(o)&&Ve(o);I=M&&this.injectableDefInScope(M)?wf(Oi(o),Di):null,this.records.set(o,I)}if(null!=I)return this.hydrate(o,I)}return(d&Tt.Self?lE():this.parent).get(o,l=d&Tt.Optional&&l===eo?null:l)}catch(w){if("NullInjectorError"===w.name){if((w[Iu]=w[Iu]||[]).unshift(Me(o)),m)throw w;return function Xa(s,o,l,d){const m=s[Iu];throw o[Yd]&&m.unshift(o[Yd]),s.message=function Ca(s,o,l,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let m=Me(o);if(Array.isArray(o))m=o.map(Me).join(" -> ");else if("object"==typeof o){let y=[];for(let w in o)if(o.hasOwnProperty(w)){let I=o[w];y.push(w+":"+("string"==typeof I?JSON.stringify(I):Me(I)))}m=`{${y.join(", ")}}`}return`${l}${d?"("+d+")":""}[${m}]: ${s.replace(Mc,"\n  ")}`}("\n"+s.message,m,l,d),s.ngTokenPath=m,s[Iu]=null,s}(w,o,"R3InjectorError",this.source)}throw w}finally{Vt(y),kc(m)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((d,m)=>o.push(Me(m))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new se(205,!1)}processInjectorType(o,l,d){if(!(o=T(o)))return!1;let m=Lt(o);const y=null==m&&o.ngModule||void 0,w=void 0===y?o:y,I=-1!==d.indexOf(w);if(void 0!==y&&(m=Lt(y)),null==m)return!1;if(null!=m.imports&&!I){let j;d.push(w);try{ai(m.imports,te=>{this.processInjectorType(te,l,d)&&(void 0===j&&(j=[]),j.push(te))})}finally{}if(void 0!==j)for(let te=0;te<j.length;te++){const{ngModule:be,providers:Fe}=j[te];ai(Fe,it=>this.processProvider(it,be,Fe||ue))}}this.injectorDefTypes.add(w);const M=ki(w)||(()=>new w);this.records.set(w,wf(M,Di));const L=m.providers;if(null!=L&&!I){const j=o;ai(L,te=>this.processProvider(te,j,L))}return void 0!==y&&void 0!==o.providers}processProvider(o,l,d){let m=Fi(o=T(o))?o:T(o&&o.provide);const y=function u_(s,o,l){return d_(s)?wf(void 0,s.useValue):wf(c_(s),Di)}(o);if(Fi(o)||!0!==o.multi)this.records.get(m);else{let w=this.records.get(m);w||(w=wf(void 0,Di,!0),w.factory=()=>Aa(w.multi),this.records.set(m,w)),m=o,w.multi.push(o)}this.records.set(m,y)}hydrate(o,l){return l.value===Di&&(l.value=l_,l.value=l.factory()),"object"==typeof l.value&&l.value&&function f_(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(l.value)&&this.onDestroy.add(l.value),l.value}injectableDefInScope(o){if(!o.providedIn)return!1;const l=T(o.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function Oi(s){const o=Ve(s),l=null!==o?o.factory:ki(s);if(null!==l)return l;if(s instanceof sr)throw new se(204,!1);if(s instanceof Function)return function Af(s){const o=s.length;if(o>0)throw function Go(s,o){const l=[];for(let d=0;d<s;d++)l.push(o);return l}(o,"?"),new se(204,!1);const l=function Dt(s){const o=s&&(s[ln]||s[mn]);if(o){const l=function Ze(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),o}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new se(204,!1)}function c_(s,o,l){let d;if(Fi(s)){const m=T(s);return ki(m)||Oi(m)}if(d_(s))d=()=>T(s.useValue);else if(function $u(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...Aa(s.deps||[]));else if(function CD(s){return!(!s||!s.useExisting)}(s))d=()=>Nr(T(s.useExisting));else{const m=T(s&&(s.useClass||s.provide));if(!function $l(s){return!!s.deps}(s))return ki(m)||Oi(m);d=()=>new m(...Aa(s.deps))}return d}function wf(s,o,l=!1){return{factory:s,value:o,multi:l?[]:void 0}}function d_(s){return null!==s&&"object"==typeof s&&Hg in s}function Fi(s){return"function"==typeof s}let Ma=(()=>{class s{static create(l,d){var m;if(Array.isArray(l))return Ef({name:""},d,l,"");{const y=null!==(m=l.name)&&void 0!==m?m:"";return Ef({name:y},l.parent,l.providers,y)}}}return s.THROW_IF_NOT_FOUND=eo,s.NULL=new o_,s.\u0275prov=Dn({token:s,providedIn:"any",factory:()=>Nr(fs)}),s.__NG_ELEMENT_ID__=-1,s})();function ll(s,o){Ys(qh(s)[1],Ir())}function Dm(s){let o=function bE(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const d=[s];for(;o;){let m;if(Ai(s))m=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new se(903,"");m=o.\u0275dir}if(m){if(l){d.push(m);const w=s;w.inputs=m_(s.inputs),w.declaredInputs=m_(s.declaredInputs),w.outputs=m_(s.outputs);const I=m.hostBindings;I&&wE(s,I);const M=m.viewQuery,L=m.contentQueries;if(M&&AE(s,M),L&&RD(s,L),Ee(s.inputs,m.inputs),Ee(s.declaredInputs,m.declaredInputs),Ee(s.outputs,m.outputs),Ai(m)&&m.data.animation){const j=s.data;j.animation=(j.animation||[]).concat(m.data.animation)}}const y=m.features;if(y)for(let w=0;w<y.length;w++){const I=y[w];I&&I.ngInherit&&I(s),I===Dm&&(l=!1)}}o=Object.getPrototypeOf(o)}!function EE(s){let o=0,l=null;for(let d=s.length-1;d>=0;d--){const m=s[d];m.hostVars=o+=m.hostVars,m.hostAttrs=pa(m.hostAttrs,l=pa(l,m.hostAttrs))}}(d)}function m_(s){return s===In?{}:s===ue?[]:s}function AE(s,o){const l=s.viewQuery;s.viewQuery=l?(d,m)=>{o(d,m),l(d,m)}:o}function RD(s,o){const l=s.contentQueries;s.contentQueries=l?(d,m,y)=>{o(d,m,y),l(d,m,y)}:o}function wE(s,o){const l=s.hostBindings;s.hostBindings=l?(d,m)=>{o(d,m),l(d,m)}:o}let Kn=null;function ul(){if(!Kn){const s=En.Symbol;if(s&&s.iterator)Kn=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<o.length;++l){const d=o[l];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Kn=d)}}}return Kn}function Ra(s){return!!Im(s)&&(Array.isArray(s)||!(s instanceof Map)&&ul()in s)}function Im(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function vi(s,o,l){return!Object.is(s[o],l)&&(s[o]=l,!0)}function yp(s,o,l,d){const m=at();return vi(m,ha(),o)&&(Nn(),xa(Vr(),m,s,o,l,d)),yp}function Yc(s,o,l,d){return vi(s,ha(),l)?o+ce(l)+d:pn}function ME(s,o,l,d,m,y,w,I){const M=at(),L=Nn(),j=s+20,te=L.firstCreatePass?function xE(s,o,l,d,m,y,w,I,M){const L=o.consts,j=Zc(o,s,4,w||null,It(L,I));ym(o,l,j,It(L,M)),Ys(o,j);const te=j.tViews=Wu(2,j,d,m,y,o.directiveRegistry,o.pipeRegistry,null,o.schemas,L);return null!==o.queries&&(o.queries.template(o,j),te.queries=o.queries.embeddedTView(j)),j}(j,L,M,o,l,d,m,y,w):L.data[j];$s(te,!1);const be=M[11].createComment("");sm(L,M,be,te),Ci(be,M),Em(M,M[j]=nE(be,M,be,te)),co(te)&&Xy(L,M,te),null!=w&&io(M,te,I)}function bp(s,o=Tt.Default){const l=at();return null===l?Nr(s,o):va(Ir(),l,T(s),o)}function Nf(){throw new Error("invalid")}function Ep(s,o,l){const d=at();return vi(d,ha(),o)&&so(Nn(),Vr(),d,s,o,d[11],l,!1),Ep}function I_(s,o,l,d,m){const w=m?"class":"style";mp(s,l,o.inputs[w],w,d)}function Ap(s,o,l,d){const m=at(),y=Nn(),w=20+s,I=m[11],M=m[w]=Os(I,o,function Bg(){return Wt.lFrame.currentNamespace}()),L=y.firstCreatePass?function jE(s,o,l,d,m,y,w){const I=o.consts,L=Zc(o,s,2,m,It(I,y));return ym(o,l,L,It(I,w)),null!==L.attrs&&yf(L,L.attrs,!1),null!==L.mergedAttrs&&yf(L,L.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,L),L}(w,y,m,0,o,l,d):y.data[w];$s(L,!0);const j=L.mergedAttrs;null!==j&&Ml(I,M,j);const te=L.classes;null!==te&&Ly(I,M,te);const be=L.styles;return null!==be&&tp(I,M,be),64!=(64&L.flags)&&sm(y,m,M,L),0===function Fn(){return Wt.lFrame.elementDepthCount}()&&Ci(M,m),function as(){Wt.lFrame.elementDepthCount++}(),co(L)&&(Xy(y,m,L),Jy(y,L,m)),null!==d&&io(m,L),Ap}function Vm(){let s=Ir();mc()?wl():(s=s.parent,$s(s,!1));const o=s;!function Cs(){Wt.lFrame.elementDepthCount--}();const l=Nn();return l.firstCreatePass&&(Ys(l,s),ia(s)&&l.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Ug(s){return 0!=(16&s.flags)}(o)&&I_(l,o,at(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function br(s){return 0!=(32&s.flags)}(o)&&I_(l,o,at(),o.stylesWithoutHost,!1),Vm}function S_(s,o,l,d){return Ap(s,o,l,d),Vm(),S_}function wp(s,o,l){const d=at(),m=Nn(),y=s+20,w=m.firstCreatePass?function Xo(s,o,l,d,m){const y=o.consts,w=It(y,d),I=Zc(o,s,8,"ng-container",w);return null!==w&&yf(I,w,!0),ym(o,l,I,It(y,m)),null!==o.queries&&o.queries.elementStart(o,I),I}(y,m,d,o,l):m.data[y];$s(w,!0);const I=d[y]=d[11].createComment("");return sm(m,d,I,w),Ci(I,d),co(w)&&(Xy(m,d,w),Jy(m,w,d)),null!=l&&io(d,w),wp}function Cp(){let s=Ir();const o=Nn();return mc()?wl():(s=s.parent,$s(s,!1)),o.firstCreatePass&&(Ys(o,s),ia(s)&&o.queries.elementEnd(s)),Cp}function Pf(s,o,l){return wp(s,o,l),Cp(),Pf}function Dp(){return at()}function x_(s){return!!s&&"function"==typeof s.then}function zE(s){return!!s&&"function"==typeof s.subscribe}const qE=zE;function M_(s,o,l,d){const m=at(),y=Nn(),w=Ir();return function R_(s,o,l,d,m,y,w,I){const M=co(d),j=s.firstCreatePass&&pp(s),te=o[8],be=wm(o);let Fe=!0;if(3&d.type||I){const Ot=ni(d,o),Ft=I?I(Ot):Ot,ft=be.length,Ht=I?Wn=>I(Qn(Wn[d.index])):d.index;if(gr(l)){let Wn=null;if(!I&&M&&(Wn=function WE(s,o,l,d){const m=s.cleanup;if(null!=m)for(let y=0;y<m.length-1;y+=2){const w=m[y];if(w===l&&m[y+1]===d){const I=o[7],M=m[y+2];return I.length>M?I[M]:null}"string"==typeof w&&(y+=2)}return null}(s,o,m,d.index)),null!==Wn)(Wn.__ngLastListenerFn__||Wn).__ngNextListenerFn__=y,Wn.__ngLastListenerFn__=y,Fe=!1;else{y=Bm(d,o,te,y,!1);const hr=l.listen(Ft,m,y);be.push(y,hr),j&&j.push(m,Ht,ft,ft+1)}}else y=Bm(d,o,te,y,!0),Ft.addEventListener(m,y,w),be.push(y),j&&j.push(m,Ht,ft,w)}else y=Bm(d,o,te,y,!1);const it=d.outputs;let xt;if(Fe&&null!==it&&(xt=it[m])){const Ot=xt.length;if(Ot)for(let Ft=0;Ft<Ot;Ft+=2){const Mi=o[xt[Ft]][xt[Ft+1]].subscribe(y),gl=be.length;be.push(y,Mi),j&&j.push(m,d.index,gl,-(gl+1))}}}(y,m,m[11],w,s,o,!!l,d),M_}function Ip(s,o,l,d){try{return!1!==l(d)}catch(m){return gp(s,m),!1}}function Bm(s,o,l,d,m){return function y(w){if(w===Function)return d;const I=2&s.flags?$(s.index,o):o;0==(32&o[2])&&i_(I);let M=Ip(o,0,d,w),L=y.__ngNextListenerFn__;for(;L;)M=Ip(o,0,L,w)&&M,L=L.__ngNextListenerFn__;return m&&!1===M&&(w.preventDefault(),w.returnValue=!1),M}}function Of(s=1){return function Eh(s){return(Wt.lFrame.contextLView=function Ah(s,o){for(;s>0;)o=o[15],s--;return o}(s,Wt.lFrame.contextLView))[8]}(s)}function Um(s,o,l,d,m){const y=at(),w=Yc(y,o,l,d);return w!==pn&&so(Nn(),Vr(),y,s,w,y[11],m,!1),Um}function XE(s,o,l,d,m){const y=s[l+1],w=null===o;let I=d?Sa(y):$o(y),M=!1;for(;0!==I&&(!1===M||w);){const j=s[I+1];Rp(s[I],o)&&(M=!0,s[I+1]=d?Hy(j):Nb(j)),I=d?Sa(j):$o(j)}M&&(s[l+1]=d?Nb(y):Hy(y))}function Rp(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Ka(s,o)>=0}const Ti={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function eA(s){return s.substring(Ti.key,Ti.keyEnd)}function tA(s,o){const l=Ti.textEnd;return l===o?-1:(o=Ti.keyEnd=function iA(s,o,l){for(;o<l&&s.charCodeAt(o)>32;)o++;return o}(s,Ti.key=o,l),Ff(s,o,l))}function Ff(s,o,l){for(;o<l&&s.charCodeAt(o)<=32;)o++;return o}function jm(s,o,l){return Pa(s,o,l,!1),jm}function aA(s,o){return Pa(s,o,null,!0),aA}function N_(s){Oa(Xi,Na,s,!0)}function Na(s,o){for(let l=function $D(s){return function rA(s){Ti.key=0,Ti.keyEnd=0,Ti.value=0,Ti.valueEnd=0,Ti.textEnd=s.length}(s),tA(s,Ff(s,0,Ti.textEnd))}(o);l>=0;l=tA(o,l))Xi(s,eA(o),!0)}function Pa(s,o,l,d){const m=at(),y=Nn(),w=Ts(2);y.firstUpdatePass&&cA(y,s,w,d),o!==pn&&vi(m,w,o)&&fA(y,y.data[ii()],m,m[11],s,m[w+1]=function pA(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=Me(to(s)))),s}(o,l),d,w)}function Oa(s,o,l,d){const m=Nn(),y=Ts(2);m.firstUpdatePass&&cA(m,null,y,d);const w=at();if(l!==pn&&vi(w,y,l)){const I=m.data[ii()];if(gA(I,d)&&!uA(m,y)){let M=d?I.classesWithoutHost:I.stylesWithoutHost;null!==M&&(l=De(M,l||"")),I_(m,I,w,l,d)}else!function eT(s,o,l,d,m,y,w,I){m===pn&&(m=ue);let M=0,L=0,j=0<m.length?m[0]:null,te=0<y.length?y[0]:null;for(;null!==j||null!==te;){const be=M<m.length?m[M+1]:void 0,Fe=L<y.length?y[L+1]:void 0;let xt,it=null;j===te?(M+=2,L+=2,be!==Fe&&(it=te,xt=Fe)):null===te||null!==j&&j<te?(M+=2,it=j):(L+=2,it=te,xt=Fe),null!==it&&fA(s,o,l,d,it,xt,w,I),j=M<m.length?m[M]:null,te=L<y.length?y[L]:null}}(m,I,w,w[11],w[y+1],w[y+1]=function F_(s,o,l){if(null==l||""===l)return ue;const d=[],m=to(l);if(Array.isArray(m))for(let y=0;y<m.length;y++)s(d,m[y],!0);else if("object"==typeof m)for(const y in m)m.hasOwnProperty(y)&&s(d,y,m[y]);else"string"==typeof m&&o(d,m);return d}(s,o,l),d,y)}}function uA(s,o){return o>=s.expandoStartIndex}function cA(s,o,l,d){const m=s.data;if(null===m[l+1]){const y=m[ii()],w=uA(s,l);gA(y,d)&&null===o&&!w&&(o=!1),o=function dA(s,o,l,d){const m=fu(s);let y=d?o.residualClasses:o.residualStyles;if(null===m)0===(d?o.classBindings:o.styleBindings)&&(l=kp(l=O_(null,s,o,l,d),o.attrs,d),y=null);else{const w=o.directiveStylingLast;if(-1===w||s[w]!==m)if(l=O_(m,s,o,l,d),null===y){let M=function JD(s,o,l){const d=l?o.classBindings:o.styleBindings;if(0!==$o(d))return s[Sa(d)]}(s,o,d);void 0!==M&&Array.isArray(M)&&(M=O_(null,s,o,M[1],d),M=kp(M,o.attrs,d),function P_(s,o,l,d){s[Sa(l?o.classBindings:o.styleBindings)]=d}(s,o,d,M))}else y=function XD(s,o,l){let d;const m=o.directiveEnd;for(let y=1+o.directiveStylingLast;y<m;y++)d=kp(d,s[y].hostAttrs,l);return kp(d,o.attrs,l)}(s,o,d)}return void 0!==y&&(d?o.residualClasses=y:o.residualStyles=y),l}(m,y,o,d),function Mp(s,o,l,d,m,y){let w=y?o.classBindings:o.styleBindings,I=Sa(w),M=$o(w);s[d]=l;let j,L=!1;if(Array.isArray(l)){const te=l;j=te[1],(null===j||Ka(te,j)>0)&&(L=!0)}else j=l;if(m)if(0!==M){const be=Sa(s[I+1]);s[d+1]=dm(be,I),0!==be&&(s[be+1]=Uy(s[be+1],d)),s[I+1]=function cM(s,o){return 131071&s|o<<17}(s[I+1],d)}else s[d+1]=dm(I,0),0!==I&&(s[I+1]=Uy(s[I+1],d)),I=d;else s[d+1]=dm(M,0),0===I?I=d:s[M+1]=Uy(s[M+1],d),M=d;L&&(s[d+1]=Nb(s[d+1])),XE(s,j,d,!0),XE(s,j,d,!1),function WD(s,o,l,d,m){const y=m?s.residualClasses:s.residualStyles;null!=y&&"string"==typeof o&&Ka(y,o)>=0&&(l[d+1]=Hy(l[d+1]))}(o,j,s,d,y),w=dm(I,M),y?o.classBindings=w:o.styleBindings=w}(m,y,o,l,w,d)}}function O_(s,o,l,d,m){let y=null;const w=l.directiveEnd;let I=l.directiveStylingLast;for(-1===I?I=l.directiveStart:I++;I<w&&(y=o[I],d=kp(d,y.hostAttrs,m),y!==s);)I++;return null!==s&&(l.directiveStylingLast=I),d}function kp(s,o,l){const d=l?1:2;let m=-1;if(null!==o)for(let y=0;y<o.length;y++){const w=o[y];"number"==typeof w?m=w:m===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Xi(s,w,!!l||o[++y]))}return void 0===s?null:s}function fA(s,o,l,d,m,y,w,I){if(!(3&o.type))return;const M=s.data,L=M[I+1];Gm(function Pb(s){return 1==(1&s)}(L)?hA(M,o,l,m,$o(L),w):void 0)||(Gm(y)||function kb(s){return 2==(2&s)}(L)&&(y=hA(M,null,l,m,I,w)),function Fy(s,o,l,d,m){const y=gr(s);if(o)m?y?s.addClass(l,d):l.classList.add(d):y?s.removeClass(l,d):l.classList.remove(d);else{let w=-1===d.indexOf("-")?void 0:X.DashCase;if(null==m)y?s.removeStyle(l,d,w):l.style.removeProperty(d);else{const I="string"==typeof m&&m.endsWith("!important");I&&(m=m.slice(0,-10),w|=X.Important),y?s.setStyle(l,d,m,w):l.style.setProperty(d,m,I?"important":"")}}}(d,w,go(ii(),l),m,y))}function hA(s,o,l,d,m,y){const w=null===o;let I;for(;m>0;){const M=s[m],L=Array.isArray(M),j=L?M[1]:M,te=null===j;let be=l[m+1];be===pn&&(be=te?ue:void 0);let Fe=te?Dc(be,d):j===d?be:void 0;if(L&&!Gm(Fe)&&(Fe=Dc(M,d)),Gm(Fe)&&(I=Fe,w))return I;const it=s[m+1];m=w?Sa(it):$o(it)}if(null!==o){let M=y?o.residualClasses:o.residualStyles;null!=M&&(I=Dc(M,d))}return I}function Gm(s){return void 0!==s}function gA(s,o){return 0!=(s.flags&(o?16:32))}function mA(s,o=""){const l=at(),d=Nn(),m=s+20,y=d.firstCreatePass?Zc(d,m,1,o,null):d.data[m],w=l[m]=function Wr(s,o){return gr(s)?s.createText(o):s.createTextNode(o)}(l[11],o);sm(d,l,w,y),$s(y,!1)}function hs(s){return zm("",s,""),hs}function zm(s,o,l){const d=at(),m=Yc(d,s,o,l);return m!==pn&&Zl(d,ii(),m),zm}function U_(s,o,l){Oa(Xi,Na,Yc(at(),s,o,l),!0)}function Zm(s,o,l){const d=at();if(vi(d,ha(),o)){const y=Nn(),w=Vr();so(y,w,d,s,o,function oE(s,o,l){return(null===s||Ai(s))&&(l=function da(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(l[o.index])),l[11]}(fu(y.data),w,d),l,!0)}return Zm}const td=void 0;var IA=["en",[["a","p"],["AM","PM"],td],[["AM","PM"],td,td],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],td,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],td,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",td,"{1} 'at' {0}",td],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function dT(s){const l=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let nd={};function $m(s){const o=function hT(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=xA(o);if(l)return l;const d=o.split("-")[0];if(l=xA(d),l)return l;if("en"===d)return IA;throw new Error(`Missing locale data for the locale "${s}".`)}function SA(s){return $m(s)[bn.PluralCase]}function xA(s){return s in nd||(nd[s]=En.ng&&En.ng.common&&En.ng.common.locales&&En.ng.common.locales[s]),nd[s]}var bn=(()=>((bn=bn||{})[bn.LocaleId=0]="LocaleId",bn[bn.DayPeriodsFormat=1]="DayPeriodsFormat",bn[bn.DayPeriodsStandalone=2]="DayPeriodsStandalone",bn[bn.DaysFormat=3]="DaysFormat",bn[bn.DaysStandalone=4]="DaysStandalone",bn[bn.MonthsFormat=5]="MonthsFormat",bn[bn.MonthsStandalone=6]="MonthsStandalone",bn[bn.Eras=7]="Eras",bn[bn.FirstDayOfWeek=8]="FirstDayOfWeek",bn[bn.WeekendRange=9]="WeekendRange",bn[bn.DateFormat=10]="DateFormat",bn[bn.TimeFormat=11]="TimeFormat",bn[bn.DateTimeFormat=12]="DateTimeFormat",bn[bn.NumberSymbols=13]="NumberSymbols",bn[bn.NumberFormats=14]="NumberFormats",bn[bn.CurrencyCode=15]="CurrencyCode",bn[bn.CurrencySymbol=16]="CurrencySymbol",bn[bn.CurrencyName=17]="CurrencyName",bn[bn.Currencies=18]="Currencies",bn[bn.Directionality=19]="Directionality",bn[bn.PluralCase=20]="PluralCase",bn[bn.ExtraData=21]="ExtraData",bn))();const Jl="en-US";let MA=Jl;function Ii(s,o,l,d,m){if(s=T(s),Array.isArray(s))for(let y=0;y<s.length;y++)Ii(s[y],o,l,d,m);else{const y=Nn(),w=at();let I=Fi(s)?s:T(s.provide),M=c_(s);const L=Ir(),j=1048575&L.providerIndexes,te=L.directiveStart,be=L.providerIndexes>>20;if(Fi(s)||!s.multi){const Fe=new za(M,m,bp),it=fl(I,o,m?j:j+be,te);-1===it?(Za(gi(L,w),y,I),Vf(y,s,o.length),o.push(I),L.directiveStart++,L.directiveEnd++,m&&(L.providerIndexes+=1048576),l.push(Fe),w.push(Fe)):(l[it]=Fe,w[it]=Fe)}else{const Fe=fl(I,o,j+be,te),it=fl(I,o,j,j+be),xt=Fe>=0&&l[Fe],Ot=it>=0&&l[it];if(m&&!Ot||!m&&!xt){Za(gi(L,w),y,I);const Ft=function YA(s,o,l,d,m){const y=new za(s,l,bp);return y.multi=[],y.index=o,y.componentProviders=0,Bi(y,m,d&&!l),y}(m?zT:GT,l.length,m,d,M);!m&&Ot&&(l[it].providerFactory=Ft),Vf(y,s,o.length,0),o.push(I),L.directiveStart++,L.directiveEnd++,m&&(L.providerIndexes+=1048576),l.push(Ft),w.push(Ft)}else Vf(y,s,Fe>-1?Fe:it,Bi(l[m?it:Fe],M,!m&&d));!m&&d&&Ot&&l[it].componentProviders++}}}function Vf(s,o,l,d){const m=Fi(o),y=function DD(s){return!!s.useClass}(o);if(m||y){const M=(y?T(o.useClass):o).prototype.ngOnDestroy;if(M){const L=s.destroyHooks||(s.destroyHooks=[]);if(!m&&o.multi){const j=L.indexOf(l);-1===j?L.push(l,[d,M]):L[j+1].push(d,M)}else L.push(l,M)}}}function Bi(s,o,l){return l&&s.componentProviders++,s.multi.push(o)-1}function fl(s,o,l,d){for(let m=l;m<d;m++)if(o[m]===s)return m;return-1}function GT(s,o,l,d){return iv(this.multi,[])}function zT(s,o,l,d){const m=this.multi;let y;if(this.providerFactory){const w=this.providerFactory.componentProviders,I=ya(l,l[1],this.providerFactory.index,d);y=I.slice(0,w),iv(m,y);for(let M=w;M<I.length;M++)y.push(I[M])}else y=[],iv(m,y);return y}function iv(s,o){for(let l=0;l<s.length;l++)o.push((0,s[l])());return o}function QA(s,o=[]){return l=>{l.providersResolver=(d,m)=>function jT(s,o,l){const d=Nn();if(d.firstCreatePass){const m=Ai(s);Ii(l,d.data,d.blueprint,m,!0),Ii(o,d.data,d.blueprint,m,!1)}}(d,m?m(s):s,o)}}class sv{}class $_{resolveComponentFactory(o){throw function ov(s){const o=Error(`No component factory found for ${Me(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Ui=(()=>{class s{}return s.NULL=new $_,s})();function XA(){return rd(Ir(),at())}function rd(s,o){return new id(ni(s,o))}let id=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=XA,s})();function ew(s){return s instanceof id?s.nativeElement:s}class K_{}let Y_=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function ZT(){const s=at(),l=$(Ir().index,s);return function WT(s){return s[11]}(fi(l)?l:s)}(),s})(),Bf=(()=>{class s{}return s.\u0275prov=Dn({token:s,providedIn:"root",factory:()=>null}),s})();class Q_{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const av=new Q_("13.3.10"),lv={};function uv(s,o,l,d,m=!1){for(;null!==l;){const y=o[l.index];if(null!==y&&d.push(Qn(y)),hi(y))for(let I=10;I<y.length;I++){const M=y[I],L=M[1].firstChild;null!==L&&uv(M[1],M,L,d)}const w=l.type;if(8&w)uv(s,o,l.child,d);else if(32&w){const I=Ue(l,o);let M;for(;M=I();)d.push(M)}else if(16&w){const I=Sb(o,l);if(Array.isArray(I))d.push(...I);else{const M=wt(o[16]);uv(M[1],M,I,d,!0)}}l=m?l.projectionNext:l.next}return d}class Uf{constructor(o,l){this._lView=o,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,l=o[1];return uv(l,o,l.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(hi(o)){const l=o[8],d=l?l.indexOf(this):-1;d>-1&&(Yh(o,d),Eo(l,d))}this._attachedToViewContainer=!1}ro(this._lView[1],this._lView)}onDestroy(o){Zb(this._lView[1],this._lView,null,o)}markForCheck(){i_(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Zr(s,o,l){const d=o[10];d.begin&&d.begin();try{vf(s,o,s.template,l)}catch(m){throw gp(o,m),m}finally{d.end&&d.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new se(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ju(s,o){zu(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new se(902,"");this._appRef=o}}class cv extends Uf{constructor(o){super(o),this._view=o}detectChanges(){Yo(this._view)}checkNoChanges(){}get context(){return null}}class dv extends Ui{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const l=qt(o);return new X_(l,this.ngModule)}}function fv(s){const o=[];for(let l in s)s.hasOwnProperty(l)&&o.push({propName:s[l],templateName:l});return o}class X_ extends sv{constructor(o,l){super(),this.componentDef=o,this.ngModule=l,this.componentType=o.type,this.selector=function XC(s){return s.map(JC).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return fv(this.componentDef.inputs)}get outputs(){return fv(this.componentDef.outputs)}create(o,l,d,m){const y=(m=m||this.ngModule)?function $T(s,o){return{get:(l,d,m)=>{const y=s.get(l,lv,m);return y!==lv||d===lv?y:o.get(l,d,m)}}}(o,m.injector):o,w=y.get(K_,Ji),I=y.get(Bf,null),M=w.createRenderer(null,this.componentDef),L=this.componentDef.selectors[0][0]||"div",j=d?function vm(s,o,l){if(gr(s))return s.selectRootElement(o,l===dn.ShadowDom);let d="string"==typeof o?s.querySelector(o):o;return d.textContent="",d}(M,d,this.componentDef.encapsulation):Os(w.createRenderer(null,this.componentDef),L,function J_(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(L)),te=this.componentDef.onPush?576:528,be=function Li(s,o){return{components:[],scheduler:s||Ry,clean:sE,playerHandler:o||null,flags:0}}(),Fe=Wu(0,null,null,1,0,null,null,null,null,null),it=up(null,Fe,be,te,null,null,w,M,I,y);let xt,Ot;Gr(it);try{const Ft=function g_(s,o,l,d,m,y){const w=l[1];l[20]=s;const M=Zc(w,20,2,"#host",null),L=M.mergedAttrs=o.hostAttrs;null!==L&&(yf(M,L,!0),null!==s&&(Ml(m,s,L),null!==M.classes&&Ly(m,s,M.classes),null!==M.styles&&tp(m,s,M.styles)));const j=d.createRenderer(s,o),te=up(l,mm(o),null,o.onPush?64:16,l[20],M,d,j,y||null,null);return w.firstCreatePass&&(Za(gi(M,l),w,o.type),Xb(w,M),eE(M,l.length,1)),Em(l,te),l[20]=te}(j,this.componentDef,it,w,M);if(j)if(d)Ml(M,j,["ng-version",av.full]);else{const{attrs:ft,classes:Ht}=function eD(s){const o=[],l=[];let d=1,m=2;for(;d<s.length;){let y=s[d];if("string"==typeof y)2===m?""!==y&&o.push(y,s[++d]):8===m&&l.push(y);else{if(!Fs(m))break;m=y}d++}return{attrs:o,classes:l}}(this.componentDef.selectors[0]);ft&&Ml(M,j,ft),Ht&&Ht.length>0&&Ly(M,j,Ht.join(" "))}if(Ot=fa(Fe,20),void 0!==l){const ft=Ot.projection=[];for(let Ht=0;Ht<this.ngContentSelectors.length;Ht++){const Wn=l[Ht];ft.push(null!=Wn?Array.from(Wn):null)}}xt=function MD(s,o,l,d,m){const y=l[1],w=function pD(s,o,l){const d=Ir();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),n_(s,d,o,qu(s,o,1,null),l));const m=ya(o,s,d.directiveStart,d);Ci(m,o);const y=ni(d,o);return y&&Ci(y,o),m}(y,l,o);if(d.components.push(w),s[8]=w,m&&m.forEach(M=>M(w,o)),o.contentQueries){const M=Ir();o.contentQueries(1,w,M.directiveStart)}const I=Ir();return!y.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Ks(I.index),hp(l[1],I,0,I.directiveStart,I.directiveEnd,o),Qb(o,w)),w}(Ft,this.componentDef,it,be,[ll]),cp(Fe,it,null)}finally{Is()}return new YT(this.componentType,xt,rd(Ot,it),it,Ot)}}class YT extends class JA{}{constructor(o,l,d,m,y){super(),this.location=d,this._rootLView=m,this._tNode=y,this.instance=l,this.hostView=this.changeDetectorRef=new cv(m),this.componentType=o}get injector(){return new si(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class li{}class Hf{}const jf=new Map;class pv extends li{constructor(o,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new dv(this);const d=Bt(o);this._bootstrapComponents=A(d.bootstrap),this._r3Injector=Qo(o,l,[{provide:li,useValue:this},{provide:Ui,useValue:this.componentFactoryResolver}],Me(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,l=Ma.THROW_IF_NOT_FOUND,d=Tt.Default){return o===Ma||o===li||o===fs?this:this._r3Injector.get(o,l,d)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Gp extends Hf{constructor(o){super(),this.moduleType=o,null!==Bt(o)&&function JT(s){const o=new Set;!function l(d){const m=Bt(d,!0),y=m.id;null!==y&&(function tw(s,o,l){if(o&&o!==l)throw new Error(`Duplicate module registered for ${s} - ${Me(o)} vs ${Me(o.name)}`)}(y,jf.get(y),d),jf.set(y,d));const w=A(m.imports);for(const I of w)o.has(I)||(o.add(I),l(I))}(s)}(o)}create(o){return new pv(this.moduleType,o)}}function gv(s,o,l,d,m,y){const w=o+l;return vi(s,w,m)?function cl(s,o,l){return s[o]=l}(s,w+1,y?d.call(y,m):d(m)):function sd(s,o){const l=s[o];return l===pn?void 0:l}(s,w+1)}function lw(s,o){const l=Nn();let d;const m=s+20;l.firstCreatePass?(d=function tI(s,o){if(o)for(let l=o.length-1;l>=0;l--){const d=o[l];if(s===d.name)return d}}(o,l.pipeRegistry),l.data[m]=d,d.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(m,d.onDestroy)):d=l.data[m];const y=d.factory||(d.factory=ki(d.type)),w=Vt(bp);try{const I=ga(!1),M=y();return ga(I),function Mf(s,o,l,d){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),o[l]=d}(l,at(),m,M),M}finally{Vt(w)}}function o0(s,o,l){const d=s+20,m=at(),y=function K(s,o){return s[o]}(m,d);return function qp(s,o){return s[1].data[o].pure}(m,d)?gv(m,function ri(){const s=Wt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}(),o,y.transform,l,y):y.transform(l)}function vv(s){return o=>{setTimeout(s,void 0,o)}}const hl=class u0 extends u.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,l,d){var m,y,w;let I=o,M=l||(()=>null),L=d;if(o&&"object"==typeof o){const te=o;I=null===(m=te.next)||void 0===m?void 0:m.bind(te),M=null===(y=te.error)||void 0===y?void 0:y.bind(te),L=null===(w=te.complete)||void 0===w?void 0:w.bind(te)}this.__isAsync&&(M=vv(M),I&&(I=vv(I)),L&&(L=vv(L)));const j=super.subscribe({next:I,error:M,complete:L});return o instanceof O.w0&&o.add(j),j}};function yv(){return this._results[ul()]()}class Wp{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=ul(),d=Wp.prototype;d[l]||(d[l]=yv)}get changes(){return this._changes||(this._changes=new hl)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,l){return this._results.reduce(o,l)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,l){const d=this;d.dirty=!1;const m=Ni(o);(this._changesDetected=!function Zd(s,o,l){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let m=s[d],y=o[d];if(l&&(m=l(m),y=l(y)),y!==m)return!1}return!0}(d._results,m,l))&&(d._results=m,d.length=m.length,d.last=m[this.length-1],d.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let od=(()=>{class s{}return s.__NG_ELEMENT_ID__=Zp,s})();const uw=od,iI=class extends uw{constructor(o,l,d){super(),this._declarationLView=o,this._declarationTContainer=l,this.elementRef=d}createEmbeddedView(o){const l=this._declarationTContainer.tViews,d=up(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(d[19]=y.createEmbeddedView(l)),cp(l,d,o),new Uf(d)}};function Zp(){return $p(Ir(),at())}function $p(s,o){return 4&s.type?new iI(o,s,rd(s,o)):null}let Kp=(()=>{class s{}return s.__NG_ELEMENT_ID__=cw,s})();function cw(){return hw(Ir(),at())}const _v=Kp,dw=class extends _v{constructor(o,l,d){super(),this._lContainer=o,this._hostTNode=l,this._hostLView=d}get element(){return rd(this._hostTNode,this._hostLView)}get injector(){return new si(this._hostTNode,this._hostLView)}get parentInjector(){const o=yu(this._hostTNode,this._hostLView);if(Wa(o)){const l=hn(o,this._hostLView),d=ur(o);return new si(l[1].data[d+8],l)}return new si(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const l=fw(this._lContainer);return null!==l&&l[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,l,d){const m=o.createEmbeddedView(l||{});return this.insert(m,d),m}createComponent(o,l,d,m,y){const w=o&&!function kr(s){return"function"==typeof s}(o);let I;if(w)I=l;else{const te=l||{};I=te.index,d=te.injector,m=te.projectableNodes,y=te.ngModuleRef}const M=w?o:new X_(qt(o)),L=d||this.parentInjector;if(!y&&null==M.ngModule){const be=(w?L:this.parentInjector).get(li,null);be&&(y=be)}const j=M.create(L,m,void 0,y);return this.insert(j.hostView,I),j}insert(o,l){const d=o._lView,m=d[1];if(function bt(s){return hi(s[3])}(d)){const j=this.indexOf(o);if(-1!==j)this.detach(j);else{const te=d[3],be=new dw(te,te[6],te[3]);be.detach(be.indexOf(o))}}const y=this._adjustIndex(l),w=this._lContainer;!function Xg(s,o,l,d){const m=10+d,y=l.length;d>0&&(l[m-1][4]=o),d<y-10?(o[4]=l[m],$d(l,10+d,o)):(l.push(o),o[4]=null),o[3]=l;const w=o[17];null!==w&&l!==w&&function jc(s,o){const l=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===l?s[9]=[o]:l.push(o)}(w,o);const I=o[19];null!==I&&I.insertView(s),o[2]|=128}(m,d,w,y);const I=Xh(y,w),M=d[11],L=Qh(M,w[7]);return null!==L&&function hf(s,o,l,d,m,y){d[0]=m,d[6]=o,zu(s,d,l,1,m,y)}(m,w[6],M,d,L,I),o.attachToViewContainerRef(),$d(ec(w),y,o),o}move(o,l){return this.insert(o,l)}indexOf(o){const l=fw(this._lContainer);return null!==l?l.indexOf(o):-1}remove(o){const l=this._adjustIndex(o,-1),d=Yh(this._lContainer,l);d&&(Eo(ec(this._lContainer),l),ro(d[1],d))}detach(o){const l=this._adjustIndex(o,-1),d=Yh(this._lContainer,l);return d&&null!=Eo(ec(this._lContainer),l)?new Uf(d):null}_adjustIndex(o,l=0){return null==o?this.length+l:o}};function fw(s){return s[8]}function ec(s){return s[8]||(s[8]=[])}function hw(s,o){let l;const d=o[s.index];if(hi(d))l=d;else{let m;if(8&s.type)m=Qn(d);else{const y=o[11];m=y.createComment("");const w=ni(s,o);pf(y,Qh(y,w),m,function ZC(s,o){return gr(s)?s.nextSibling(o):o.nextSibling}(y,w),!1)}o[s.index]=l=nE(d,o,m,s),Em(o,l)}return new dw(l,s,o)}class Gf{constructor(o){this.queryList=o,this.matches=null}clone(){return new Gf(this.queryList)}setDirty(){this.queryList.setDirty()}}class bv{constructor(o=[]){this.queries=o}createEmbeddedView(o){const l=o.queries;if(null!==l){const d=null!==o.contentQueries?o.contentQueries[0]:l.length,m=[];for(let y=0;y<d;y++){const w=l.getByIndex(y);m.push(this.queries[w.indexInDeclarationView].clone())}return new bv(m)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let l=0;l<this.queries.length;l++)null!==vw(o,l).matches&&this.queries[l].setDirty()}}class zf{constructor(o,l,d=null){this.predicate=o,this.flags=l,this.read=d}}class Ev{constructor(o=[]){this.queries=o}elementStart(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,l)}elementEnd(o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(o)}embeddedTView(o){let l=null;for(let d=0;d<this.length;d++){const m=null!==l?l.length:0,y=this.getByIndex(d).embeddedTView(o,m);y&&(y.indexInDeclarationView=d,null!==l?l.push(y):l=[y])}return null!==l?new Ev(l):null}template(o,l){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,l)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class ns{constructor(o,l=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(o,l){this.isApplyingToNode(l)&&this.matchTNode(o,l)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,l){this.elementStart(o,l)}embeddedTView(o,l){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,l),new ns(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==l;)d=d.parent;return l===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,l){const d=this.metadata.predicate;if(Array.isArray(d))for(let m=0;m<d.length;m++){const y=d[m];this.matchTNodeWithReadOption(o,l,pw(l,y)),this.matchTNodeWithReadOption(o,l,_u(l,o,y,!1,!1))}else d===od?4&l.type&&this.matchTNodeWithReadOption(o,l,-1):this.matchTNodeWithReadOption(o,l,_u(l,o,d,!1,!1))}matchTNodeWithReadOption(o,l,d){if(null!==d){const m=this.metadata.read;if(null!==m)if(m===id||m===Kp||m===od&&4&l.type)this.addMatch(l.index,-2);else{const y=_u(l,o,m,!1,!1);null!==y&&this.addMatch(l.index,y)}else this.addMatch(l.index,d)}}addMatch(o,l){null===this.matches?this.matches=[o,l]:this.matches.push(o,l)}}function pw(s,o){const l=s.localNames;if(null!==l)for(let d=0;d<l.length;d+=2)if(l[d]===o)return l[d+1];return null}function Av(s,o,l,d){return-1===l?function Yp(s,o){return 11&s.type?rd(s,o):4&s.type?$p(s,o):null}(o,s):-2===l?function gw(s,o,l){return l===id?rd(o,s):l===od?$p(o,s):l===Kp?hw(o,s):void 0}(s,o,d):ya(s,s[1],l,o)}function wv(s,o,l,d){const m=o[19].queries[d];if(null===m.matches){const y=s.data,w=l.matches,I=[];for(let M=0;M<w.length;M+=2){const L=w[M];I.push(L<0?null:Av(o,y[L],w[M+1],l.metadata.read))}m.matches=I}return m.matches}function Cv(s,o,l,d){const m=s.queries.getByIndex(l),y=m.matches;if(null!==y){const w=wv(s,o,m,l);for(let I=0;I<y.length;I+=2){const M=y[I];if(M>0)d.push(w[I/2]);else{const L=y[I+1],j=o[-M];for(let te=10;te<j.length;te++){const be=j[te];be[17]===be[3]&&Cv(be[1],be,L,d)}if(null!==j[9]){const te=j[9];for(let be=0;be<te.length;be++){const Fe=te[be];Cv(Fe[1],Fe,L,d)}}}}}return d}function c0(s){const o=at(),l=Nn(),d=Od();Fd(d+1);const m=vw(l,d);if(s.dirty&&we(o)===(2==(2&m.metadata.flags))){if(null===m.matches)s.reset([]);else{const y=m.crossesNgTemplate?Cv(l,o,d,[]):wv(l,o,m,d);s.reset(y,ew),s.notifyOnChanges()}return!0}return!1}function qf(s,o,l){const d=Nn();d.firstCreatePass&&(Wf(d,new zf(s,o,l),-1),2==(2&o)&&(d.staticViewQueries=!0)),Qp(d,at(),o)}function Dv(s,o,l,d){const m=Nn();if(m.firstCreatePass){const y=Ir();Wf(m,new zf(o,l,d),y.index),function mw(s,o){const l=s.contentQueries||(s.contentQueries=[]);o!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,o)}(m,s),2==(2&l)&&(m.staticContentQueries=!0)}Qp(m,at(),l)}function Tv(){return function d0(s,o){return s[19].queries[o].queryList}(at(),Od())}function Qp(s,o,l){const d=new Wp(4==(4&l));Zb(s,o,d,d.destroy),null===o[19]&&(o[19]=new bv),o[19].queries.push(new Gf(d))}function Wf(s,o,l){null===s.queries&&(s.queries=new Ev),s.queries.track(new ns(o,l))}function vw(s,o){return s.queries.getByIndex(o)}function kv(...s){}const Tw=new sr("Application Initializer");let Jf=(()=>{class s{constructor(l){this.appInits=l,this.resolve=kv,this.reject=kv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,m)=>{this.resolve=d,this.reject=m})}runInitializers(){if(this.initialized)return;const l=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const y=this.appInits[m]();if(x_(y))l.push(y);else if(qE(y)){const w=new Promise((I,M)=>{y.subscribe({complete:I,error:M})});l.push(w)}}Promise.all(l).then(()=>{d()}).catch(m=>{this.reject(m)}),0===l.length&&d(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(Nr(Tw,8))},s.\u0275prov=Dn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Xf=new sr("AppId",{providedIn:"root",factory:function ng(){return`${Nv()}${Nv()}${Nv()}`}});function Nv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const eh=new sr("Platform Initializer"),rg=new sr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Sw=new sr("appBootstrapListener");let xw=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Dn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const E0=new sr("LocaleId",{providedIn:"root",factory:()=>Jd(E0,Tt.Optional|Tt.SkipSelf)||function _I(){return"undefined"!=typeof $localize&&$localize.locale||Jl}()}),bI=new sr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Mw{constructor(o,l){this.ngModuleFactory=o,this.componentFactories=l}}let Pv=(()=>{class s{compileModuleSync(l){return new Gp(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),y=A(Bt(l).declarations).reduce((w,I)=>{const M=qt(I);return M&&w.push(new X_(M)),w},[]);return new Mw(d,y)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Dn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const kw=(()=>Promise.resolve(0))();function A0(s){"undefined"==typeof Zone?kw.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Ls{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hl(!1),this.onMicrotaskEmpty=new hl(!1),this.onStable=new hl(!1),this.onError=new hl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!d&&l,m.shouldCoalesceRunChangeDetection=d,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function w0(){let s=En.requestAnimationFrame,o=En.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Pw(s){const o=()=>{!function Ov(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(En,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,sg(s),s.isCheckStableRunning=!0,ig(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),sg(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,d,m,y,w,I)=>{try{return og(s),l.invokeTask(m,y,w,I)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||s.shouldCoalesceRunChangeDetection)&&o(),Ow(s)}},onInvoke:(l,d,m,y,w,I,M)=>{try{return og(s),l.invoke(m,y,w,I,M)}finally{s.shouldCoalesceRunChangeDetection&&o(),Ow(s)}},onHasTask:(l,d,m,y)=>{l.hasTask(m,y),d===m&&("microTask"==y.change?(s._hasPendingMicrotasks=y.microTask,sg(s),ig(s)):"macroTask"==y.change&&(s.hasPendingMacrotasks=y.macroTask))},onHandleError:(l,d,m,y)=>(l.handleError(m,y),s.runOutsideAngular(()=>s.onError.emit(y)),!1)})}(m)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ls.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ls.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,l,d){return this._inner.run(o,l,d)}runTask(o,l,d,m){const y=this._inner,w=y.scheduleEventTask("NgZoneEvent: "+m,o,Nw,kv,kv);try{return y.runTask(w,l,d)}finally{y.cancelTask(w)}}runGuarded(o,l,d){return this._inner.runGuarded(o,l,d)}runOutsideAngular(o){return this._outer.run(o)}}const Nw={};function ig(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function sg(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function og(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Ow(s){s._nesting--,ig(s)}class Fw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new hl,this.onMicrotaskEmpty=new hl,this.onStable=new hl,this.onError=new hl}run(o,l,d){return o.apply(l,d)}runGuarded(o,l,d){return o.apply(l,d)}runOutsideAngular(o){return o()}runTask(o,l,d,m){return o.apply(l,d)}}let th=(()=>{class s{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ls.assertNotInAngularZone(),A0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())A0(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,m){let y=-1;d&&d>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==y),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:y,updateCb:m})}whenStable(l,d,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,d,m){return[]}}return s.\u0275fac=function(l){return new(l||s)(Nr(Ls))},s.\u0275prov=Dn({token:s,factory:s.\u0275fac}),s})(),Lw=(()=>{class s{constructor(){this._applications=new Map,ag.addToWindow(this)}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return ag.findTestabilityInTree(this,l,d)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=Dn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();class Vw{addToWindow(o){}findTestabilityInTree(o,l,d){return null}}function C0(s){ag=s}let ag=new Vw,rc=null;const lg=new sr("AllowMultipleToken"),D0=new sr("PlatformOnDestroy");class Hw{constructor(o,l){this.name=o,this.token=l}}function T0(s,o,l=[]){const d=`Platform: ${o}`,m=new sr(d);return(y=[])=>{let w=Lv();if(!w||w.injector.get(lg,!1)){const I=[...l,...y,{provide:m,useValue:!0}];s?s(I):function jw(s){if(rc&&!rc.get(lg,!1))throw new se(400,"");rc=s;const o=s.get(fd),l=s.get(eh,null);l&&l.forEach(d=>d())}(function To(s=[],o){return Ma.create({name:o,providers:[{provide:a_,useValue:"platform"},{provide:D0,useValue:()=>rc=null},...s]})}(I,d))}return function Fv(s){const o=Lv();if(!o)throw new se(401,"");return o}()}}function Lv(){var s;return null!==(s=null==rc?void 0:rc.get(fd))&&void 0!==s?s:null}let fd=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const I=function CI(s,o){let l;return l="noop"===s?new Fw:("zone.js"===s?void 0:s)||new Ls({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),l}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),M=[{provide:Ls,useValue:I}];return I.run(()=>{const L=Ma.create({providers:M,parent:this.injector,name:l.moduleType.name}),j=l.create(L),te=j.injector.get(Hu,null);if(!te)throw new se(402,"");return I.runOutsideAngular(()=>{const be=I.onError.subscribe({next:Fe=>{te.handleError(Fe)}});j.onDestroy(()=>{S0(this._modules,j),be.unsubscribe()})}),function DI(s,o,l){try{const d=l();return x_(d)?d.catch(m=>{throw o.runOutsideAngular(()=>s.handleError(m)),m}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(te,I,()=>{const be=j.injector.get(Jf);return be.runInitializers(),be.donePromise.then(()=>(function vT(s){Mt(s,"Expected localeId to be defined"),"string"==typeof s&&(MA=s.toLowerCase().replace(/_/g,"-"))}(j.injector.get(E0,Jl)||Jl),this._moduleDoBootstrap(j),j))})})}bootstrapModule(l,d=[]){const m=Vv({},d);return function Bw(s,o,l){const d=new Gp(l);return Promise.resolve(d)}(0,0,l).then(y=>this.bootstrapModuleFactory(y,m))}_moduleDoBootstrap(l){const d=l.injector.get(I0);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(m=>d.bootstrap(m));else{if(!l.instance.ngDoBootstrap)throw new se(403,"");l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new se(404,"");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(D0,null);null==l||l(),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(Nr(Ma))},s.\u0275prov=Dn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Vv(s,o){return Array.isArray(o)?o.reduce(Vv,s):Object.assign(Object.assign({},s),o)}let I0=(()=>{class s{constructor(l,d,m,y){this._zone=l,this._injector=d,this._exceptionHandler=m,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new k.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),I=new k.y(M=>{let L;this._zone.runOutsideAngular(()=>{L=this._zone.onStable.subscribe(()=>{Ls.assertNotInAngularZone(),A0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const j=this._zone.onUnstable.subscribe(()=>{Ls.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{L.unsubscribe(),j.unsubscribe()}});this.isStable=(0,G.T)(w,I.pipe((0,re.B)()))}bootstrap(l,d){if(!this._initStatus.done)throw new se(405,"");let m;m=l instanceof sv?l:this._injector.get(Ui).resolveComponentFactory(l),this.componentTypes.push(m.componentType);const y=function Uw(s){return s.isBoundToModule}(m)?void 0:this._injector.get(li),I=m.create(Ma.NULL,[],d||m.selector,y),M=I.location.nativeElement,L=I.injector.get(th,null),j=L&&I.injector.get(Lw);return L&&j&&j.registerApplication(M,L),I.onDestroy(()=>{this.detachView(I.hostView),S0(this.components,I),j&&j.unregisterApplication(M)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new se(101,"");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;S0(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(Sw,[]).concat(this._bootstrapListeners).forEach(m=>m(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(l){return new(l||s)(Nr(Ls),Nr(Ma),Nr(Hu),Nr(Jf))},s.\u0275prov=Dn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function S0(s,o){const l=s.indexOf(o);l>-1&&s.splice(l,1)}let ug=!0,Gw=!1;function zw(){return Gw=!0,ug}function rs(){if(Gw)throw new Error("Cannot enable prod mode after platform setup.");ug=!1}let II=(()=>{class s{}return s.__NG_ELEMENT_ID__=St,s})();function St(s){return function yi(s,o,l){if(Po(s)&&!l){const d=$(s.index,o);return new Uf(d,d)}return 47&s.type?new Uf(o[16],o):null}(Ir(),at(),16==(16&s))}class gd{constructor(){}supports(o){return Ra(o)}create(o){return new ui(o)}}const Zw=(s,o)=>o;class ui{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Zw}forEachItem(o){let l;for(l=this._itHead;null!==l;l=l._next)o(l)}forEachOperation(o){let l=this._itHead,d=this._removalsHead,m=0,y=null;for(;l||d;){const w=!d||l&&l.currentIndex<O0(d,m,y)?l:d,I=O0(w,m,y),M=w.currentIndex;if(w===d)m--,d=d._nextRemoved;else if(l=l._next,null==w.previousIndex)m++;else{y||(y=[]);const L=I-m,j=M-m;if(L!=j){for(let be=0;be<L;be++){const Fe=be<y.length?y[be]:y[be]=0,it=Fe+be;j<=it&&it<L&&(y[be]=Fe+1)}y[w.previousIndex]=j-L}}I!==M&&o(w,I,M)}}forEachPreviousItem(o){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachMovedItem(o){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}forEachIdentityChange(o){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)o(l)}diff(o){if(null==o&&(o=[]),!Ra(o))throw new se(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let m,y,w,l=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let I=0;I<this.length;I++)y=o[I],w=this._trackByFn(I,y),null!==l&&Object.is(l.trackById,w)?(d&&(l=this._verifyReinsertion(l,y,w,I)),Object.is(l.item,y)||this._addIdentityChange(l,y)):(l=this._mismatch(l,y,w,I),d=!0),l=l._next}else m=0,function DE(s,o){if(Array.isArray(s))for(let l=0;l<s.length;l++)o(s[l]);else{const l=s[ul()]();let d;for(;!(d=l.next()).done;)o(d.value)}}(o,I=>{w=this._trackByFn(m,I),null!==l&&Object.is(l.trackById,w)?(d&&(l=this._verifyReinsertion(l,I,w,m)),Object.is(l.item,I)||this._addIdentityChange(l,I)):(l=this._mismatch(l,I,w,m),d=!0),l=l._next,m++}),this.length=m;return this._truncate(l),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,l,d,m){let y;return null===o?y=this._itTail:(y=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._reinsertAfter(o,y,m)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,m))?(Object.is(o.item,l)||this._addIdentityChange(o,l),this._moveAfter(o,y,m)):o=this._addAfter(new Cn(l,d),y,m),o}_verifyReinsertion(o,l,d,m){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==y?o=this._reinsertAfter(y,o._prev,m):o.currentIndex!=m&&(o.currentIndex=m,this._addToMoves(o,m)),o}_truncate(o){for(;null!==o;){const l=o._next;this._addToRemovals(this._unlink(o)),o=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,l,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const m=o._prevRemoved,y=o._nextRemoved;return null===m?this._removalsHead=y:m._nextRemoved=y,null===y?this._removalsTail=m:y._prevRemoved=m,this._insertAfter(o,l,d),this._addToMoves(o,d),o}_moveAfter(o,l,d){return this._unlink(o),this._insertAfter(o,l,d),this._addToMoves(o,d),o}_addAfter(o,l,d){return this._insertAfter(o,l,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,l,d){const m=null===l?this._itHead:l._next;return o._next=m,o._prev=l,null===m?this._itTail=o:m._prev=o,null===l?this._itHead=o:l._next=o,null===this._linkedRecords&&(this._linkedRecords=new ic),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const l=o._prev,d=o._next;return null===l?this._itHead=d:l._next=d,null===d?this._itTail=l:d._prev=l,o}_addToMoves(o,l){return o.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ic),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,l){return o.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Cn{constructor(o,l){this.item=o,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class $w{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,l){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===l||l<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const l=o._prevDup,d=o._nextDup;return null===l?this._head=d:l._nextDup=d,null===d?this._tail=l:d._prevDup=l,null===this._head}}class ic{constructor(){this.map=new Map}put(o){const l=o.trackById;let d=this.map.get(l);d||(d=new $w,this.map.set(l,d)),d.add(o)}get(o,l){const m=this.map.get(o);return m?m.get(o,l):null}remove(o){const l=o.trackById;return this.map.get(l).remove(o)&&this.map.delete(l),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function O0(s,o,l){const d=s.previousIndex;if(null===d)return d;let m=0;return l&&d<l.length&&(m=l[d]),d+o+m}class rh{constructor(){}supports(o){return o instanceof Map||Im(o)}create(){return new ar}}class ar{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let l;for(l=this._mapHead;null!==l;l=l._next)o(l)}forEachPreviousItem(o){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)o(l)}forEachChangedItem(o){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)o(l)}forEachAddedItem(o){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)o(l)}forEachRemovedItem(o){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)o(l)}diff(o){if(o){if(!(o instanceof Map||Im(o)))throw new se(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,m)=>{if(l&&l.key===m)this._maybeAddToChanges(l,d),this._appendAfter=l,l=l._next;else{const y=this._getOrCreateRecordForKey(m,d);l=this._insertBeforeOrAppend(l,y)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let d=l;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,l){if(o){const d=o._prev;return l._next=o,l._prev=d,o._prev=l,d&&(d._next=l),o===this._mapHead&&(this._mapHead=l),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(o,l){if(this._records.has(o)){const m=this._records.get(o);this._maybeAddToChanges(m,l);const y=m._prev,w=m._next;return y&&(y._next=w),w&&(w._prev=y),m._next=null,m._prev=null,m}const d=new MI(o);return this._records.set(o,d),d.currentValue=l,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,l){Object.is(l,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=l,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,l){o instanceof Map?o.forEach(l):Object.keys(o).forEach(d=>l(o[d],d))}}class MI{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function _i(){return new sc([new gd])}let sc=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(null!=d){const m=d.factories.slice();l=l.concat(m)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||_i()),deps:[[s,new tl,new cs]]}}find(l){const d=this.factories.find(m=>m.supports(l));if(null!=d)return d;throw new se(901,"")}}return s.\u0275prov=Dn({token:s,providedIn:"root",factory:_i}),s})();function bi(){return new F0([new rh])}let F0=(()=>{class s{constructor(l){this.factories=l}static create(l,d){if(d){const m=d.factories.slice();l=l.concat(m)}return new s(l)}static extend(l){return{provide:s,useFactory:d=>s.create(l,d||bi()),deps:[[s,new tl,new cs]]}}find(l){const d=this.factories.find(y=>y.supports(l));if(d)return d;throw new se(901,"")}}return s.\u0275prov=Dn({token:s,providedIn:"root",factory:bi}),s})();const Yw=T0(null,"core",[]);let dg=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(Nr(I0))},s.\u0275mod=Ie({type:s}),s.\u0275inj=_e({}),s})()},579:(Nt,qe,z)=>{"use strict";z.d(qe,{Gb:()=>En,IH:()=>$n});var u=z(5861),O=z(9681),k=z(1877),G=z(2090),re=z(4859);z(2833);const Ee="analytics",Me="firebase_id",de="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",T="https://www.googletagmanager.com/gtag/js",F=new k.Yd("@firebase/analytics");function H(ae){return Promise.all(ae.map(ge=>ge.catch(Pe=>Pe)))}function se(ae,ge){const Pe=document.createElement("script");Pe.src=`${T}?l=${ae}&id=${ge}`,Pe.async=!0,document.head.appendChild(Pe)}function ce(ae,ge,Pe,st,pt,ut){return oe.apply(this,arguments)}function oe(){return(oe=(0,u.Z)(function*(ae,ge,Pe,st,pt,ut){const $t=st[pt];try{if($t)yield ge[$t];else{const pe=(yield H(Pe)).find(he=>he.measurementId===pt);pe&&(yield ge[pe.appId])}}catch(Ie){F.error(Ie)}ae("config",pt,ut)})).apply(this,arguments)}function je(ae,ge,Pe,st,pt){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,u.Z)(function*(ae,ge,Pe,st,pt){try{let ut=[];if(pt&&pt.send_to){let $t=pt.send_to;Array.isArray($t)||($t=[$t]);const Ie=yield H(Pe);for(const pe of $t){const he=Ie.find(Et=>Et.measurementId===pe),et=he&&ge[he.appId];if(!et){ut=[];break}ut.push(et)}}0===ut.length&&(ut=Object.values(ge)),yield Promise.all(ut),ae("event",st,pt||{})}catch(ut){F.error(ut)}})).apply(this,arguments)}function ze(){const ae=window.document.getElementsByTagName("script");for(const ge of Object.values(ae))if(ge.src&&ge.src.includes(T))return ge;return null}const Te=new G.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Oe=new class xe{constructor(ge={},Pe=1e3){this.throttleMetadata=ge,this.intervalMillis=Pe}getThrottleMetadata(ge){return this.throttleMetadata[ge]}setThrottleMetadata(ge,Pe){this.throttleMetadata[ge]=Pe}deleteThrottleMetadata(ge){delete this.throttleMetadata[ge]}};function Be(ae){return new Headers({Accept:"application/json","x-goog-api-key":ae})}function Xe(ae){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,u.Z)(function*(ae){var ge;const{appId:Pe,apiKey:st}=ae,pt={method:"GET",headers:Be(st)},ut=de.replace("{app-id}",Pe),$t=yield fetch(ut,pt);if(200!==$t.status&&304!==$t.status){let Ie="";try{const pe=yield $t.json();(null===(ge=pe.error)||void 0===ge?void 0:ge.message)&&(Ie=pe.error.message)}catch(pe){}throw Te.create("config-fetch-failed",{httpStatus:$t.status,responseMessage:Ie})}return $t.json()})).apply(this,arguments)}function Kt(ae){return en.apply(this,arguments)}function en(){return(en=(0,u.Z)(function*(ae,ge=Oe,Pe){const{appId:st,apiKey:pt,measurementId:ut}=ae.options;if(!st)throw Te.create("no-app-id");if(!pt){if(ut)return{measurementId:ut,appId:st};throw Te.create("no-api-key")}const $t=ge.getThrottleMetadata(st)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ie=new Gn;return setTimeout((0,u.Z)(function*(){Ie.abort()}),void 0!==Pe?Pe:6e4),tr({appId:st,apiKey:pt,measurementId:ut},$t,Ie,ge)})).apply(this,arguments)}function tr(ae,ge,Pe){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,u.Z)(function*(ae,{throttleEndTimeMillis:ge,backoffCount:Pe},st,pt=Oe){const{appId:ut,measurementId:$t}=ae;try{yield jt(st,ge)}catch(Ie){if($t)return F.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${$t} provided in the "measurementId" field in the local Firebase config. [${Ie.message}]`),{appId:ut,measurementId:$t};throw Ie}try{const Ie=yield Xe(ae);return pt.deleteThrottleMetadata(ut),Ie}catch(Ie){if(!Yn(Ie)){if(pt.deleteThrottleMetadata(ut),$t)return F.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${$t} provided in the "measurementId" field in the local Firebase config. [${Ie.message}]`),{appId:ut,measurementId:$t};throw Ie}const pe=503===Number(Ie.customData.httpStatus)?(0,G.$s)(Pe,pt.intervalMillis,30):(0,G.$s)(Pe,pt.intervalMillis),he={throttleEndTimeMillis:Date.now()+pe,backoffCount:Pe+1};return pt.setThrottleMetadata(ut,he),F.debug(`Calling attemptFetch again in ${pe} millis`),tr(ae,he,st,pt)}})).apply(this,arguments)}function jt(ae,ge){return new Promise((Pe,st)=>{const pt=Math.max(ge-Date.now(),0),ut=setTimeout(Pe,pt);ae.addEventListener(()=>{clearTimeout(ut),st(Te.create("fetch-throttle",{throttleEndTimeMillis:ge}))})})}function Yn(ae){if(!(ae instanceof G.ZR&&ae.customData))return!1;const ge=Number(ae.customData.httpStatus);return 429===ge||500===ge||503===ge||504===ge}class Gn{constructor(){this.listeners=[]}addEventListener(ge){this.listeners.push(ge)}abort(){this.listeners.forEach(ge=>ge())}}function wr(){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,u.Z)(function*(){if(!(0,G.hl)())return F.warn(Te.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,G.eu)()}catch(ae){return F.warn(Te.create("indexeddb-unavailable",{errorInfo:ae}).message),!1}return!0})).apply(this,arguments)}function _e(){return(_e=(0,u.Z)(function*(ae,ge,Pe,st,pt,ut,$t){var Ie;const pe=Kt(ae);pe.then(an=>{Pe[an.measurementId]=an.appId,ae.options.measurementId&&an.measurementId!==ae.options.measurementId&&F.warn(`The measurement ID in the local Firebase config (${ae.options.measurementId}) does not match the measurement ID fetched from the server (${an.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(an=>F.error(an)),ge.push(pe);const he=wr().then(an=>{if(an)return st.getId()}),[et,Et]=yield Promise.all([pe,he]);ze()||se(ut,et.measurementId),pt("js",new Date);const qt=null!==(Ie=null==$t?void 0:$t.config)&&void 0!==Ie?Ie:{};return qt.origin="firebase",qt.update=!0,null!=Et&&(qt[Me]=Et),pt("config",et.measurementId,qt),et.measurementId})).apply(this,arguments)}class Ve{constructor(ge){this.app=ge}_delete(){return delete lt[this.app.options.appId],Promise.resolve()}}let lt={},Dt=[];const Ze={};let yn,mn,Lt="dataLayer",$e=!1;function vt(ae,ge,Pe){!function tn(){const ae=[];if((0,G.ru)()&&ae.push("This is a browser extension environment."),(0,G.zI)()||ae.push("Cookies are not available."),ae.length>0){const ge=ae.map((st,pt)=>`(${pt+1}) ${st}`).join(" "),Pe=Te.create("invalid-analytics-context",{errorInfo:ge});F.warn(Pe.message)}}();const st=ae.options.appId;if(!st)throw Te.create("no-app-id");if(!ae.options.apiKey){if(!ae.options.measurementId)throw Te.create("no-api-key");F.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${ae.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=lt[st])throw Te.create("already-exists",{id:st});if(!$e){!function me(ae){let ge=[];Array.isArray(window[ae])?ge=window[ae]:window[ae]=ge}(Lt);const{wrappedGtag:ut,gtagCore:$t}=function Qe(ae,ge,Pe,st,pt){let ut=function(...$t){window[st].push(arguments)};return window[pt]&&"function"==typeof window[pt]&&(ut=window[pt]),window[pt]=function We(ae,ge,Pe,st){function ut(){return(ut=(0,u.Z)(function*($t,Ie,pe){try{"event"===$t?yield je(ae,ge,Pe,Ie,pe):"config"===$t?yield ce(ae,ge,Pe,st,Ie,pe):ae("set",Ie)}catch(he){F.error(he)}})).apply(this,arguments)}return function pt($t,Ie,pe){return ut.apply(this,arguments)}}(ut,ae,ge,Pe),{gtagCore:ut,wrappedGtag:window[pt]}}(lt,Dt,Ze,Lt,"gtag");mn=ut,yn=$t,$e=!0}return lt[st]=function Ae(ae,ge,Pe,st,pt,ut,$t){return _e.apply(this,arguments)}(ae,Dt,Ze,ge,yn,Lt,Pe),new Ve(ae)}function nr(){return(nr=(0,u.Z)(function*(ae,ge,Pe,st,pt){if(pt&&pt.global)ae("event",Pe,st);else{const ut=yield ge;ae("event",Pe,Object.assign(Object.assign({},st),{send_to:ut}))}})).apply(this,arguments)}function $n(ae=(0,O.getApp)()){ae=(0,G.m9)(ae);const ge=(0,O._getProvider)(ae,Ee);return ge.isInitialized()?ge.getImmediate():function Or(ae,ge={}){const Pe=(0,O._getProvider)(ae,Ee);if(Pe.isInitialized()){const pt=Pe.getImmediate();if((0,G.vZ)(ge,Pe.getOptions()))return pt;throw Te.create("already-initialized")}return Pe.initialize({options:ge})}(ae)}function En(){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,u.Z)(function*(){if((0,G.ru)()||!(0,G.zI)()||!(0,G.hl)())return!1;try{return yield(0,G.eu)()}catch(ae){return!1}})).apply(this,arguments)}const J="@firebase/analytics",W="0.7.9";!function le(){(0,O._registerComponent)(new re.wA(Ee,(ge,{options:Pe})=>vt(ge.getProvider("app").getImmediate(),ge.getProvider("installations-internal").getImmediate(),Pe),"PUBLIC")),(0,O._registerComponent)(new re.wA("analytics-internal",function ae(ge){try{const Pe=ge.getProvider(Ee).getImmediate();return{logEvent:(st,pt,ut)=>function B(ae,ge,Pe,st){ae=(0,G.m9)(ae),function Vt(ae,ge,Pe,st,pt){return nr.apply(this,arguments)}(mn,lt[ae.app.options.appId],ge,Pe,st).catch(pt=>F.error(pt))}(Pe,st,pt,ut)}}catch(Pe){throw Te.create("interop-component-reg-failed",{reason:Pe})}},"PRIVATE")),(0,O.registerVersion)(J,W),(0,O.registerVersion)(J,W,"esm2017")}()},3942:(Nt,qe,z)=>{"use strict";z.d(qe,{Z:()=>se});var u=z(2090),O=z(4859),k=z(9681),G=z(1877);class re{constructor(ce,oe){this._delegate=ce,this.firebase=oe,(0,k._addComponent)(ce,new O.wA("app-compat",()=>this,"PUBLIC")),this.container=ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ce){this._delegate.automaticDataCollectionEnabled=ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ce=>{this._delegate.checkDestroyed(),ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(ce,oe=k._DEFAULT_ENTRY_NAME){var je;this._delegate.checkDestroyed();const Ye=this._delegate.container.getProvider(ce);return!Ye.isInitialized()&&"EXPLICIT"===(null===(je=Ye.getComponent())||void 0===je?void 0:je.instantiationMode)&&Ye.initialize(),Ye.getImmediate({identifier:oe})}_removeServiceInstance(ce,oe=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ce).clearInstance(oe)}_addComponent(ce){(0,k._addComponent)(this._delegate,ce)}_addOrOverwriteComponent(ce){(0,k._addOrOverwriteComponent)(this._delegate,ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ee=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function De(){const me=function Me(me){const ce={},oe={__esModule:!0,initializeApp:function We(Te,Re={}){const fe=k.initializeApp(Te,Re);if((0,u.r3)(ce,fe.name))return ce[fe.name];const xe=new me(fe,oe);return ce[fe.name]=xe,xe},app:Ye,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function ze(Te){const Re=Te.name,fe=Re.replace("-compat","");if(k._registerComponent(Te)&&"PUBLIC"===Te.type){const xe=(Oe=Ye())=>{if("function"!=typeof Oe[fe])throw Ee.create("invalid-app-argument",{appName:Re});return Oe[fe]()};void 0!==Te.serviceProps&&(0,u.ZB)(xe,Te.serviceProps),oe[fe]=xe,me.prototype[fe]=function(...Oe){return this._getService.bind(this,Re).apply(this,Te.multipleInstances?Oe:[])}}return"PUBLIC"===Te.type?oe[fe]:null},removeApp:function je(Te){delete ce[Te]},useAsService:function mt(Te,Re){return"serverAuth"===Re?null:Re},modularAPIs:k}};function Ye(Te){if(!(0,u.r3)(ce,Te=Te||k._DEFAULT_ENTRY_NAME))throw Ee.create("no-app",{appName:Te});return ce[Te]}return oe.default=oe,Object.defineProperty(oe,"apps",{get:function Qe(){return Object.keys(ce).map(Te=>ce[Te])}}),Ye.App=me,oe}(re);return me.INTERNAL=Object.assign(Object.assign({},me.INTERNAL),{createFirebaseNamespace:De,extendNamespace:function ce(oe){(0,u.ZB)(me,oe)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),me}(),de=new G.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){de.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const me=self.firebase.SDK_VERSION;me&&me.indexOf("LITE")>=0&&de.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const se=ee;!function H(me){(0,k.registerVersion)("@firebase/app-compat","0.1.25",me)}()},9681:(Nt,qe,z)=>{"use strict";z.r(qe),z.d(qe,{FirebaseError:()=>G.ZR,SDK_VERSION:()=>ln,_DEFAULT_ENTRY_NAME:()=>Mt,_addComponent:()=>wr,_addOrOverwriteComponent:()=>Dn,_apps:()=>Yn,_clearComponents:()=>lt,_components:()=>Gn,_getProvider:()=>_e,_registerComponent:()=>Ae,_removeServiceInstance:()=>Ve,deleteApp:()=>Tt,getApp:()=>mn,getApps:()=>$e,initializeApp:()=>yn,onLog:()=>Vt,registerVersion:()=>vt,setLogLevel:()=>nr});var u=z(5861),O=z(4859),k=z(1877),G=z(2090),re=z(8766);class Ce{constructor(le){this.container=le}getPlatformInfoString(){return this.container.getProviders().map(ae=>{if(function Ee(W){const le=W.getComponent();return"VERSION"===(null==le?void 0:le.type)}(ae)){const ge=ae.getImmediate();return`${ge.library}/${ge.version}`}return null}).filter(ae=>ae).join(" ")}}const Me="@firebase/app",ee=new k.Yd("@firebase/app"),Mt="[DEFAULT]",jt={[Me]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Yn=new Map,Gn=new Map;function wr(W,le){try{W.container.addComponent(le)}catch(ae){ee.debug(`Component ${le.name} failed to register with FirebaseApp ${W.name}`,ae)}}function Dn(W,le){W.container.addOrOverwriteComponent(le)}function Ae(W){const le=W.name;if(Gn.has(le))return ee.debug(`There were multiple attempts to register component ${le}.`),!1;Gn.set(le,W);for(const ae of Yn.values())wr(ae,W);return!0}function _e(W,le){const ae=W.container.getProvider("heartbeat").getImmediate({optional:!0});return ae&&ae.triggerHeartbeat(),W.container.getProvider(le)}function Ve(W,le,ae=Mt){_e(W,le).clearInstance(ae)}function lt(){Gn.clear()}const Ze=new G.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Lt{constructor(le,ae,ge){this._isDeleted=!1,this._options=Object.assign({},le),this._config=Object.assign({},ae),this._name=ae.name,this._automaticDataCollectionEnabled=ae.automaticDataCollectionEnabled,this._container=ge,this.container.addComponent(new O.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(le){this.checkDestroyed(),this._automaticDataCollectionEnabled=le}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(le){this._isDeleted=le}checkDestroyed(){if(this.isDeleted)throw Ze.create("app-deleted",{appName:this._name})}}const ln="9.8.1";function yn(W,le={}){"object"!=typeof le&&(le={name:le});const ae=Object.assign({name:Mt,automaticDataCollectionEnabled:!1},le),ge=ae.name;if("string"!=typeof ge||!ge)throw Ze.create("bad-app-name",{appName:String(ge)});const Pe=Yn.get(ge);if(Pe){if((0,G.vZ)(W,Pe.options)&&(0,G.vZ)(ae,Pe.config))return Pe;throw Ze.create("duplicate-app",{appName:ge})}const st=new O.H0(ge);for(const ut of Gn.values())st.addComponent(ut);const pt=new Lt(W,ae,st);return Yn.set(ge,pt),pt}function mn(W=Mt){const le=Yn.get(W);if(!le)throw Ze.create("no-app",{appName:W});return le}function $e(){return Array.from(Yn.values())}function Tt(W){return tn.apply(this,arguments)}function tn(){return(tn=(0,u.Z)(function*(W){const le=W.name;Yn.has(le)&&(Yn.delete(le),yield Promise.all(W.container.getProviders().map(ae=>ae.delete())),W.isDeleted=!0)})).apply(this,arguments)}function vt(W,le,ae){var ge;let Pe=null!==(ge=jt[W])&&void 0!==ge?ge:W;ae&&(Pe+=`-${ae}`);const st=Pe.match(/\s|\//),pt=le.match(/\s|\//);if(st||pt){const ut=[`Unable to register library "${Pe}" with version "${le}":`];return st&&ut.push(`library name "${Pe}" contains illegal characters (whitespace or "/")`),st&&pt&&ut.push("and"),pt&&ut.push(`version name "${le}" contains illegal characters (whitespace or "/")`),void ee.warn(ut.join(" "))}Ae(new O.wA(`${Pe}-version`,()=>({library:Pe,version:le}),"VERSION"))}function Vt(W,le){if(null!==W&&"function"!=typeof W)throw Ze.create("invalid-log-argument");(0,k.Am)(W,le)}function nr(W){(0,k.Ub)(W)}const Tn="firebase-heartbeat-store";let Zn=null;function un(){return Zn||(Zn=(0,re.X3)("firebase-heartbeat-database",1,{upgrade:(W,le)=>{0===le&&W.createObjectStore(Tn)}}).catch(W=>{throw Ze.create("storage-open",{originalErrorMessage:W.message})})),Zn}function Yt(){return(Yt=(0,u.Z)(function*(W){try{return(yield un()).transaction(Tn).objectStore(Tn).get(Or(W))}catch(le){throw Ze.create("storage-get",{originalErrorMessage:le.message})}})).apply(this,arguments)}function kt(W,le){return $n.apply(this,arguments)}function $n(){return($n=(0,u.Z)(function*(W,le){try{const ge=(yield un()).transaction(Tn,"readwrite");return yield ge.objectStore(Tn).put(le,Or(W)),ge.done}catch(ae){throw Ze.create("storage-set",{originalErrorMessage:ae.message})}})).apply(this,arguments)}function Or(W){return`${W.name}!${W.options.appId}`}class ir{constructor(le){this.container=le,this._heartbeatsCache=null;const ae=this.container.getProvider("app").getImmediate();this._storage=new ve(ae),this._heartbeatsCachePromise=this._storage.read().then(ge=>(this._heartbeatsCache=ge,ge))}triggerHeartbeat(){var le=this;return(0,u.Z)(function*(){const ge=le.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Pe=In();if(null===le._heartbeatsCache&&(le._heartbeatsCache=yield le._heartbeatsCachePromise),le._heartbeatsCache.lastSentHeartbeatDate!==Pe&&!le._heartbeatsCache.heartbeats.some(st=>st.date===Pe))return le._heartbeatsCache.heartbeats.push({date:Pe,agent:ge}),le._heartbeatsCache.heartbeats=le._heartbeatsCache.heartbeats.filter(st=>{const pt=new Date(st.date).valueOf();return Date.now()-pt<=2592e6}),le._storage.overwrite(le._heartbeatsCache)})()}getHeartbeatsHeader(){var le=this;return(0,u.Z)(function*(){if(null===le._heartbeatsCache&&(yield le._heartbeatsCachePromise),null===le._heartbeatsCache||0===le._heartbeatsCache.heartbeats.length)return"";const ae=In(),{heartbeatsToSend:ge,unsentEntries:Pe}=function ue(W,le=1024){const ae=[];let ge=W.slice();for(const Pe of W){const st=ae.find(pt=>pt.agent===Pe.agent);if(st){if(st.dates.push(Pe.date),B(ae)>le){st.dates.pop();break}}else if(ae.push({agent:Pe.agent,dates:[Pe.date]}),B(ae)>le){ae.pop();break}ge=ge.slice(1)}return{heartbeatsToSend:ae,unsentEntries:ge}}(le._heartbeatsCache.heartbeats),st=(0,G.L)(JSON.stringify({version:2,heartbeats:ge}));return le._heartbeatsCache.lastSentHeartbeatDate=ae,Pe.length>0?(le._heartbeatsCache.heartbeats=Pe,yield le._storage.overwrite(le._heartbeatsCache)):(le._heartbeatsCache.heartbeats=[],le._storage.overwrite(le._heartbeatsCache)),st})()}}function In(){return(new Date).toISOString().substring(0,10)}class ve{constructor(le){this.app=le,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,G.hl)()&&(0,G.eu)().then(()=>!0).catch(()=>!1)})()}read(){var le=this;return(0,u.Z)(function*(){return(yield le._canUseIndexedDBPromise)&&(yield function dn(W){return Yt.apply(this,arguments)}(le.app))||{heartbeats:[]}})()}overwrite(le){var ae=this;return(0,u.Z)(function*(){var ge;if(yield ae._canUseIndexedDBPromise){const st=yield ae.read();return kt(ae.app,{lastSentHeartbeatDate:null!==(ge=le.lastSentHeartbeatDate)&&void 0!==ge?ge:st.lastSentHeartbeatDate,heartbeats:le.heartbeats})}})()}add(le){var ae=this;return(0,u.Z)(function*(){var ge;if(yield ae._canUseIndexedDBPromise){const st=yield ae.read();return kt(ae.app,{lastSentHeartbeatDate:null!==(ge=le.lastSentHeartbeatDate)&&void 0!==ge?ge:st.lastSentHeartbeatDate,heartbeats:[...st.heartbeats,...le.heartbeats]})}})()}}function B(W){return(0,G.L)(JSON.stringify({version:2,heartbeats:W})).length}!function J(W){Ae(new O.wA("platform-logger",le=>new Ce(le),"PRIVATE")),Ae(new O.wA("heartbeat",le=>new ir(le),"PRIVATE")),vt(Me,"0.7.24",W),vt(Me,"0.7.24","esm2017"),vt("fire-js","")}("")},4859:(Nt,qe,z)=>{"use strict";z.d(qe,{H0:()=>Me,wA:()=>k});var u=z(5861),O=z(2090);class k{constructor(ee,de,T){this.name=ee,this.instanceFactory=de,this.type=T,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const G="[DEFAULT]";class re{constructor(ee,de){this.name=ee,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const de=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(de)){const T=new O.BH;if(this.instancesDeferred.set(de,T),this.isInitialized(de)||this.shouldAutoInitialize())try{const F=this.getOrInitializeService({instanceIdentifier:de});F&&T.resolve(F)}catch(F){}}return this.instancesDeferred.get(de).promise}getImmediate(ee){var de;const T=this.normalizeInstanceIdentifier(null==ee?void 0:ee.identifier),F=null!==(de=null==ee?void 0:ee.optional)&&void 0!==de&&de;if(!this.isInitialized(T)&&!this.shouldAutoInitialize()){if(F)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:T})}catch(H){if(F)return null;throw H}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function Ee(De){return"EAGER"===De.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:G})}catch(de){}for(const[de,T]of this.instancesDeferred.entries()){const F=this.normalizeInstanceIdentifier(de);try{const H=this.getOrInitializeService({instanceIdentifier:F});T.resolve(H)}catch(H){}}}}clearInstance(ee=G){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,u.Z)(function*(){const de=Array.from(ee.instances.values());yield Promise.all([...de.filter(T=>"INTERNAL"in T).map(T=>T.INTERNAL.delete()),...de.filter(T=>"_delete"in T).map(T=>T._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=G){return this.instances.has(ee)}getOptions(ee=G){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:de={}}=ee,T=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(T))throw Error(`${this.name}(${T}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const F=this.getOrInitializeService({instanceIdentifier:T,options:de});for(const[H,se]of this.instancesDeferred.entries())T===this.normalizeInstanceIdentifier(H)&&se.resolve(F);return F}onInit(ee,de){var T;const F=this.normalizeInstanceIdentifier(de),H=null!==(T=this.onInitCallbacks.get(F))&&void 0!==T?T:new Set;H.add(ee),this.onInitCallbacks.set(F,H);const se=this.instances.get(F);return se&&ee(se,F),()=>{H.delete(ee)}}invokeOnInitCallbacks(ee,de){const T=this.onInitCallbacks.get(de);if(T)for(const F of T)try{F(ee,de)}catch(H){}}getOrInitializeService({instanceIdentifier:ee,options:de={}}){let T=this.instances.get(ee);if(!T&&this.component&&(T=this.component.instanceFactory(this.container,{instanceIdentifier:(De=ee,De===G?void 0:De),options:de}),this.instances.set(ee,T),this.instancesOptions.set(ee,de),this.invokeOnInitCallbacks(T,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,T)}catch(F){}var De;return T||null}normalizeInstanceIdentifier(ee=G){return this.component?this.component.multipleInstances?ee:G:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Me{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const de=this.getProvider(ee.name);if(de.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);de.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const de=new re(ee,this);return this.providers.set(ee,de),de}getProviders(){return Array.from(this.providers.values())}}},2833:(Nt,qe,z)=>{"use strict";var u=z(5861),O=z(9681),k=z(4859),G=z(2090),re=z(8766);const Ce="@firebase/installations",De="w:0.5.9",ee="FIS_v2",me=new G.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ce(ye){return ye instanceof G.ZR&&ye.code.includes("request-failed")}function oe({projectId:ye}){return`https://firebaseinstallations.googleapis.com/v1/projects/${ye}/installations`}function je(ye){return{token:ye.token,requestStatus:2,expiresIn:Re(ye.expiresIn),creationTime:Date.now()}}function Ye(ye,He){return We.apply(this,arguments)}function We(){return(We=(0,u.Z)(function*(ye,He){const Gt=(yield He.json()).error;return me.create("request-failed",{requestName:ye,serverCode:Gt.code,serverMessage:Gt.message,serverStatus:Gt.status})})).apply(this,arguments)}function Qe({apiKey:ye}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":ye})}function ze(ye,{refreshToken:He}){const ct=Qe(ye);return ct.append("Authorization",function fe(ye){return`${ee} ${ye}`}(He)),ct}function mt(ye){return Te.apply(this,arguments)}function Te(){return(Te=(0,u.Z)(function*(ye){const He=yield ye();return He.status>=500&&He.status<600?ye():He})).apply(this,arguments)}function Re(ye){return Number(ye.replace("s","000"))}function xe(ye,He){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,u.Z)(function*({appConfig:ye,heartbeatServiceProvider:He},{fid:ct}){const Gt=oe(ye),Mn=Qe(ye),On=He.getImmediate({optional:!0});if(On){const sn=yield On.getHeartbeatsHeader();sn&&Mn.append("x-firebase-client",sn)}const mr={method:"POST",headers:Mn,body:JSON.stringify({fid:ct,authVersion:ee,appId:ye.appId,sdkVersion:De})},Yr=yield mt(()=>fetch(Gt,mr));if(Yr.ok){const sn=yield Yr.json();return{fid:sn.fid||ct,registrationStatus:2,refreshToken:sn.refreshToken,authToken:je(sn.authToken)}}throw yield Ye("Create Installation",Yr)})).apply(this,arguments)}function Be(ye){return new Promise(He=>{setTimeout(He,ye)})}const Ne=/^[cdef][\w-]{21}$/;function en(){try{const ye=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(ye),ye[0]=112+ye[0]%16;const ct=function tr(ye){return function Xe(ye){return btoa(String.fromCharCode(...ye)).replace(/\+/g,"-").replace(/\//g,"_")}(ye).substr(0,22)}(ye);return Ne.test(ct)?ct:""}catch(ye){return""}}function Mt(ye){return`${ye.appName}!${ye.appId}`}const jt=new Map;function Yn(ye,He){const ct=Mt(ye);Dn(ct,He),function Ae(ye,He){const ct=function Ve(){return!_e&&"BroadcastChannel"in self&&(_e=new BroadcastChannel("[Firebase] FID Change"),_e.onmessage=ye=>{Dn(ye.data.key,ye.data.fid)}),_e}();ct&&ct.postMessage({key:ye,fid:He}),function lt(){0===jt.size&&_e&&(_e.close(),_e=null)}()}(ct,He)}function Dn(ye,He){const ct=jt.get(ye);if(ct)for(const Gt of ct)Gt(He)}let _e=null;const Lt="firebase-installations-store";let ln=null;function yn(){return ln||(ln=(0,re.X3)("firebase-installations-database",1,{upgrade:(ye,He)=>{0===He&&ye.createObjectStore(Lt)}})),ln}function mn(ye,He){return $e.apply(this,arguments)}function $e(){return($e=(0,u.Z)(function*(ye,He){const ct=Mt(ye),Mn=(yield yn()).transaction(Lt,"readwrite"),On=Mn.objectStore(Lt),Sn=yield On.get(ct);return yield On.put(He,ct),yield Mn.done,(!Sn||Sn.fid!==He.fid)&&Yn(ye,He.fid),He})).apply(this,arguments)}function Tt(ye){return tn.apply(this,arguments)}function tn(){return(tn=(0,u.Z)(function*(ye){const He=Mt(ye),Gt=(yield yn()).transaction(Lt,"readwrite");yield Gt.objectStore(Lt).delete(He),yield Gt.done})).apply(this,arguments)}function vt(ye,He){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,u.Z)(function*(ye,He){const ct=Mt(ye),Mn=(yield yn()).transaction(Lt,"readwrite"),On=Mn.objectStore(Lt),Sn=yield On.get(ct),mr=He(Sn);return void 0===mr?yield On.delete(ct):yield On.put(mr,ct),yield Mn.done,mr&&(!Sn||Sn.fid!==mr.fid)&&Yn(ye,mr.fid),mr})).apply(this,arguments)}function nr(ye){return An.apply(this,arguments)}function An(){return(An=(0,u.Z)(function*(ye){let He;const ct=yield vt(ye.appConfig,Gt=>{const Mn=Rn(Gt),On=Tn(ye,Mn);return He=On.registrationPromise,On.installationEntry});return""===ct.fid?{installationEntry:yield He}:{installationEntry:ct,registrationPromise:He}})).apply(this,arguments)}function Rn(ye){return $n(ye||{fid:en(),registrationStatus:0})}function Tn(ye,He){if(0===He.registrationStatus){if(!navigator.onLine)return{installationEntry:He,registrationPromise:Promise.reject(me.create("app-offline"))};const ct={fid:He.fid,registrationStatus:1,registrationTime:Date.now()},Gt=function Zn(ye,He){return un.apply(this,arguments)}(ye,ct);return{installationEntry:ct,registrationPromise:Gt}}return 1===He.registrationStatus?{installationEntry:He,registrationPromise:dn(ye)}:{installationEntry:He}}function un(){return(un=(0,u.Z)(function*(ye,He){try{const ct=yield xe(ye,He);return mn(ye.appConfig,ct)}catch(ct){throw ce(ct)&&409===ct.customData.serverCode?yield Tt(ye.appConfig):yield mn(ye.appConfig,{fid:He.fid,registrationStatus:0}),ct}})).apply(this,arguments)}function dn(ye){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,u.Z)(function*(ye){let He=yield kt(ye.appConfig);for(;1===He.registrationStatus;)yield Be(100),He=yield kt(ye.appConfig);if(0===He.registrationStatus){const{installationEntry:ct,registrationPromise:Gt}=yield nr(ye);return Gt||ct}return He})).apply(this,arguments)}function kt(ye){return vt(ye,He=>{if(!He)throw me.create("installation-not-found");return $n(He)})}function $n(ye){return function Or(ye){return 1===ye.registrationStatus&&ye.registrationTime+1e4<Date.now()}(ye)?{fid:ye.fid,registrationStatus:0}:ye}function En(ye,He){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,u.Z)(function*({appConfig:ye,heartbeatServiceProvider:He},ct){const Gt=ir(ye,ct),Mn=ze(ye,ct),On=He.getImmediate({optional:!0});if(On){const sn=yield On.getHeartbeatsHeader();sn&&Mn.append("x-firebase-client",sn)}const mr={method:"POST",headers:Mn,body:JSON.stringify({installation:{sdkVersion:De,appId:ye.appId}})},Yr=yield mt(()=>fetch(Gt,mr));if(Yr.ok)return je(yield Yr.json());throw yield Ye("Generate Auth Token",Yr)})).apply(this,arguments)}function ir(ye,{fid:He}){return`${oe(ye)}/${He}/authTokens:generate`}function In(ye){return ue.apply(this,arguments)}function ue(){return(ue=(0,u.Z)(function*(ye,He=!1){let ct;const Gt=yield vt(ye.appConfig,On=>{if(!ae(On))throw me.create("not-registered");const Sn=On.authToken;if(!He&&ge(Sn))return On;if(1===Sn.requestStatus)return ct=ve(ye,He),On;{if(!navigator.onLine)throw me.create("app-offline");const mr=st(On);return ct=W(ye,mr),mr}});return ct?yield ct:Gt.authToken})).apply(this,arguments)}function ve(ye,He){return B.apply(this,arguments)}function B(){return(B=(0,u.Z)(function*(ye,He){let ct=yield J(ye.appConfig);for(;1===ct.authToken.requestStatus;)yield Be(100),ct=yield J(ye.appConfig);const Gt=ct.authToken;return 0===Gt.requestStatus?In(ye,He):Gt})).apply(this,arguments)}function J(ye){return vt(ye,He=>{if(!ae(He))throw me.create("not-registered");return function pt(ye){return 1===ye.requestStatus&&ye.requestTime+1e4<Date.now()}(He.authToken)?Object.assign(Object.assign({},He),{authToken:{requestStatus:0}}):He})}function W(ye,He){return le.apply(this,arguments)}function le(){return(le=(0,u.Z)(function*(ye,He){try{const ct=yield En(ye,He),Gt=Object.assign(Object.assign({},He),{authToken:ct});return yield mn(ye.appConfig,Gt),ct}catch(ct){if(!ce(ct)||401!==ct.customData.serverCode&&404!==ct.customData.serverCode){const Gt=Object.assign(Object.assign({},He),{authToken:{requestStatus:0}});yield mn(ye.appConfig,Gt)}else yield Tt(ye.appConfig);throw ct}})).apply(this,arguments)}function ae(ye){return void 0!==ye&&2===ye.registrationStatus}function ge(ye){return 2===ye.requestStatus&&!function Pe(ye){const He=Date.now();return He<ye.creationTime||ye.creationTime+ye.expiresIn<He+36e5}(ye)}function st(ye){const He={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},ye),{authToken:He})}function $t(){return($t=(0,u.Z)(function*(ye){const He=ye,{installationEntry:ct,registrationPromise:Gt}=yield nr(He);return Gt?Gt.catch(console.error):In(He).catch(console.error),ct.fid})).apply(this,arguments)}function pe(){return(pe=(0,u.Z)(function*(ye,He=!1){const ct=ye;return yield he(ct),(yield In(ct,He)).token})).apply(this,arguments)}function he(ye){return et.apply(this,arguments)}function et(){return(et=(0,u.Z)(function*(ye){const{registrationPromise:He}=yield nr(ye);He&&(yield He)})).apply(this,arguments)}function Dr(ye){return me.create("missing-app-config-values",{valueName:ye})}const di="installations",uo=ye=>{const He=ye.getProvider("app").getImmediate(),ct=function kn(ye){if(!ye||!ye.options)throw Dr("App Configuration");if(!ye.name)throw Dr("App Name");const He=["projectId","apiKey","appId"];for(const ct of He)if(!ye.options[ct])throw Dr(ct);return{appName:ye.name,projectId:ye.options.projectId,apiKey:ye.options.apiKey,appId:ye.options.appId}}(He);return{app:He,appConfig:ct,heartbeatServiceProvider:(0,O._getProvider)(He,"heartbeat"),_delete:()=>Promise.resolve()}},ti=ye=>{const He=ye.getProvider("app").getImmediate(),ct=(0,O._getProvider)(He,di).getImmediate();return{getId:()=>function ut(ye){return $t.apply(this,arguments)}(ct),getToken:Mn=>function Ie(ye){return pe.apply(this,arguments)}(ct,Mn)}};(function At(){(0,O._registerComponent)(new k.wA(di,uo,"PUBLIC")),(0,O._registerComponent)(new k.wA("installations-internal",ti,"PRIVATE"))})(),(0,O.registerVersion)(Ce,"0.5.9"),(0,O.registerVersion)(Ce,"0.5.9","esm2017")},1877:(Nt,qe,z)=>{"use strict";z.d(qe,{Am:()=>De,Ub:()=>Me,Yd:()=>Ee,in:()=>O});const u=[];var O=(()=>{return(ee=O||(O={}))[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",O;var ee})();const k={debug:O.DEBUG,verbose:O.VERBOSE,info:O.INFO,warn:O.WARN,error:O.ERROR,silent:O.SILENT},G=O.INFO,re={[O.DEBUG]:"log",[O.VERBOSE]:"log",[O.INFO]:"info",[O.WARN]:"warn",[O.ERROR]:"error"},Ce=(ee,de,...T)=>{if(de<ee.logLevel)return;const F=(new Date).toISOString(),H=re[de];if(!H)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[H](`[${F}]  ${ee.name}:`,...T)};class Ee{constructor(de){this.name=de,this._logLevel=G,this._logHandler=Ce,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in O))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?k[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,O.DEBUG,...de),this._logHandler(this,O.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,O.VERBOSE,...de),this._logHandler(this,O.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,O.INFO,...de),this._logHandler(this,O.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,O.WARN,...de),this._logHandler(this,O.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,O.ERROR,...de),this._logHandler(this,O.ERROR,...de)}}function Me(ee){u.forEach(de=>{de.setLogLevel(ee)})}function De(ee,de){for(const T of u){let F=null;de&&de.level&&(F=k[de.level]),T.userLogHandler=null===ee?null:(H,se,...me)=>{const ce=me.map(oe=>{if(null==oe)return null;if("string"==typeof oe)return oe;if("number"==typeof oe||"boolean"==typeof oe)return oe.toString();if(oe instanceof Error)return oe.message;try{return JSON.stringify(oe)}catch(je){return null}}).filter(oe=>oe).join(" ");se>=(null!=F?F:H.logLevel)&&ee({level:O[se].toLowerCase(),message:ce,args:me,type:H.name})}}}},8766:(Nt,qe,z)=>{"use strict";z.d(qe,{Lj:()=>We,X3:()=>Ye});var u=z(5861);let k,G;const Ee=new WeakMap,Me=new WeakMap,De=new WeakMap,ee=new WeakMap,de=new WeakMap;let H={get(Re,fe,xe){if(Re instanceof IDBTransaction){if("done"===fe)return Me.get(Re);if("objectStoreNames"===fe)return Re.objectStoreNames||De.get(Re);if("store"===fe)return xe.objectStoreNames[1]?void 0:xe.objectStore(xe.objectStoreNames[0])}return oe(Re[fe])},set:(Re,fe,xe)=>(Re[fe]=xe,!0),has:(Re,fe)=>Re instanceof IDBTransaction&&("done"===fe||"store"===fe)||fe in Re};function ce(Re){return"function"==typeof Re?function me(Re){return Re!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ce(){return G||(G=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Re)?function(...fe){return Re.apply(je(this),fe),oe(Ee.get(this))}:function(...fe){return oe(Re.apply(je(this),fe))}:function(fe,...xe){const Oe=Re.call(je(this),fe,...xe);return De.set(Oe,fe.sort?fe.sort():[fe]),oe(Oe)}}(Re):(Re instanceof IDBTransaction&&function F(Re){if(Me.has(Re))return;const fe=new Promise((xe,Oe)=>{const Be=()=>{Re.removeEventListener("complete",Xe),Re.removeEventListener("error",Ne),Re.removeEventListener("abort",Ne)},Xe=()=>{xe(),Be()},Ne=()=>{Oe(Re.error||new DOMException("AbortError","AbortError")),Be()};Re.addEventListener("complete",Xe),Re.addEventListener("error",Ne),Re.addEventListener("abort",Ne)});Me.set(Re,fe)}(Re),((Re,fe)=>fe.some(xe=>Re instanceof xe))(Re,function re(){return k||(k=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Re,H):Re)}function oe(Re){if(Re instanceof IDBRequest)return function T(Re){const fe=new Promise((xe,Oe)=>{const Be=()=>{Re.removeEventListener("success",Xe),Re.removeEventListener("error",Ne)},Xe=()=>{xe(oe(Re.result)),Be()},Ne=()=>{Oe(Re.error),Be()};Re.addEventListener("success",Xe),Re.addEventListener("error",Ne)});return fe.then(xe=>{xe instanceof IDBCursor&&Ee.set(xe,Re)}).catch(()=>{}),de.set(fe,Re),fe}(Re);if(ee.has(Re))return ee.get(Re);const fe=ce(Re);return fe!==Re&&(ee.set(Re,fe),de.set(fe,Re)),fe}const je=Re=>de.get(Re);function Ye(Re,fe,{blocked:xe,upgrade:Oe,blocking:Be,terminated:Xe}={}){const Ne=indexedDB.open(Re,fe),Kt=oe(Ne);return Oe&&Ne.addEventListener("upgradeneeded",en=>{Oe(oe(Ne.result),en.oldVersion,en.newVersion,oe(Ne.transaction))}),xe&&Ne.addEventListener("blocked",()=>xe()),Kt.then(en=>{Xe&&en.addEventListener("close",()=>Xe()),Be&&en.addEventListener("versionchange",()=>Be())}).catch(()=>{}),Kt}function We(Re,{blocked:fe}={}){const xe=indexedDB.deleteDatabase(Re);return fe&&xe.addEventListener("blocked",()=>fe()),oe(xe).then(()=>{})}const Qe=["get","getKey","getAll","getAllKeys","count"],ze=["put","add","delete","clear"],mt=new Map;function Te(Re,fe){if(!(Re instanceof IDBDatabase)||fe in Re||"string"!=typeof fe)return;if(mt.get(fe))return mt.get(fe);const xe=fe.replace(/FromIndex$/,""),Oe=fe!==xe,Be=ze.includes(xe);if(!(xe in(Oe?IDBIndex:IDBObjectStore).prototype)||!Be&&!Qe.includes(xe))return;const Xe=function(){var Ne=(0,u.Z)(function*(Kt,...en){const tr=this.transaction(Kt,Be?"readwrite":"readonly");let Mt=tr.store;return Oe&&(Mt=Mt.index(en.shift())),(yield Promise.all([Mt[xe](...en),Be&&tr.done]))[0]});return function(en){return Ne.apply(this,arguments)}}();return mt.set(fe,Xe),Xe}!function se(Re){H=Re(H)}(Re=>lP(aP({},Re),{get:(fe,xe,Oe)=>Te(fe,xe)||Re.get(fe,xe,Oe),has:(fe,xe)=>!!Te(fe,xe)||Re.has(fe,xe)}))},5861:(Nt,qe,z)=>{"use strict";function u(k,G,re,Ce,Ee,Me,De){try{var ee=k[Me](De),de=ee.value}catch(T){return void re(T)}ee.done?G(de):Promise.resolve(de).then(Ce,Ee)}function O(k){return function(){var G=this,re=arguments;return new Promise(function(Ce,Ee){var Me=k.apply(G,re);function De(de){u(Me,Ce,Ee,De,ee,"next",de)}function ee(de){u(Me,Ce,Ee,De,ee,"throw",de)}De(void 0)})}}z.d(qe,{Z:()=>O})}},Nt=>{Nt(Nt.s=1861)}]);